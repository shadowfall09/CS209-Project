{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671174980,"creation_date":1671174980,"answer_id":74821251,"question_id":74816470,"body_markdown":"You can do it like this:\r\n```\r\npublic class Exampe {\r\n    private static final String TOKEN = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9&quot;;\r\n    private static final String BASE_URI = &quot;https://mywebsite.com&quot;;\r\n\r\n\r\n    public static void main(String[] args) {\r\n        RestAssured.given()\r\n                .baseUri(BASE_URI)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN)\r\n                .contentType(ContentType.JSON)\r\n                .log().all()\r\n                .when()\r\n                .get(&quot;resource&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nLog:\r\n```\r\nRequest method:\tGET\r\nRequest URI:\thttps://mywebsite.com/resource\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\t&lt;none&gt;\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAuthorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\r\n\t\t\t\tAccept=*/*\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\t\t\t&lt;none&gt;\r\n```","title":"How to add Bearer token in API rerquest using Rest Assured","body":"<p>You can do it like this:</p>\n<pre><code>public class Exampe {\n    private static final String TOKEN = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9&quot;;\n    private static final String BASE_URI = &quot;https://mywebsite.com&quot;;\n\n\n    public static void main(String[] args) {\n        RestAssured.given()\n                .baseUri(BASE_URI)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN)\n                .contentType(ContentType.JSON)\n                .log().all()\n                .when()\n                .get(&quot;resource&quot;);\n    }\n}\n\n</code></pre>\n<p>Log:</p>\n<pre><code>Request method: GET\nRequest URI:    https://mywebsite.com/resource\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   &lt;none&gt;\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\n                Accept=*/*\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:           &lt;none&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27264513,"reputation":354,"user_id":20786794,"display_name":"Omprakash Chavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671435618,"creation_date":1671435618,"answer_id":74847477,"question_id":74816470,"body_markdown":"You can pass the token using the auth().oauth2(token) method. This way, you won&#39;t have to explicitly use &quot;Authorization&quot; and &quot;Bearer&quot; text. Rest Assured will do the job. Refer the code below:\r\n\r\n    public class HowToSendBearerToken {\r\n        private static final String myToken = &quot;enter_your_token_value_here&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            RestAssured.given()\r\n                    .auth().oauth2(myToken)\r\n                    .when()\r\n                    .get(&quot;end_point&quot;);\r\n        }\r\n    }","title":"How to add Bearer token in API rerquest using Rest Assured","body":"<p>You can pass the token using the auth().oauth2(token) method. This way, you won't have to explicitly use &quot;Authorization&quot; and &quot;Bearer&quot; text. Rest Assured will do the job. Refer the code below:</p>\n<pre><code>public class HowToSendBearerToken {\n    private static final String myToken = &quot;enter_your_token_value_here&quot;;\n\n    public static void main(String[] args) {\n        RestAssured.given()\n                .auth().oauth2(myToken)\n                .when()\n                .get(&quot;end_point&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8082093,"reputation":5,"user_id":6090907,"display_name":"Taha Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74821251,"answer_count":2,"score":0,"last_activity_date":1671435618,"creation_date":1671131661,"question_id":74816470,"body_markdown":"This is a line of code where I want to add &quot;Bearer and then id token from another class file which name is config and id is static variable\r\n\t\r\nrequest.header(&quot;Authorization&quot;, &quot;&quot;+CONFIG.id+&quot;&quot;);\r\n\r\nI want to pass like this \r\n(&quot;Authorization&quot;, &quot;Bearer etytydfgdddddddddddddddddddddddd&quot;);\r\nid is a static variable where token is already store but I want to pass token type as well before token\r\n","title":"How to add Bearer token in API rerquest using Rest Assured","body":"<p>This is a line of code where I want to add &quot;Bearer and then id token from another class file which name is config and id is static variable</p>\n<p>request.header(&quot;Authorization&quot;, &quot;&quot;+CONFIG.id+&quot;&quot;);</p>\n<p>I want to pass like this\n(&quot;Authorization&quot;, &quot;Bearer etytydfgdddddddddddddddddddddddd&quot;);\nid is a static variable where token is already store but I want to pass token type as well before token</p>\n"},{"tags":["java","android","methods","void","public"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671434049,"post_id":74847204,"comment_id":132090315,"body_markdown":"Call it in onCreate().","body":"Call it in onCreate()."}],"answers":[{"tags":[],"owner":{"account_id":3345487,"reputation":1483,"user_id":2810726,"accept_rate":0,"display_name":"Mbuodile Obiosio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671434482,"creation_date":1671434482,"answer_id":74847307,"question_id":74847204,"body_markdown":"This is what you should do. Call `PrintScreen();` in onCreate\r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n     \r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity_main);\r\n        PrintScreen();\r\n     }\r\n     \r\n      \r\n     public void PrintScreen() {\r\n     System.out.println(&quot;This is a test&quot;);    \r\n         }\r\n     }","title":"Call a public void routine in Android Studio Dolphin","body":"<p>This is what you should do. Call <code>PrintScreen();</code> in onCreate</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n \n @Override\n protected void onCreate(Bundle savedInstanceState) {\n super.onCreate(savedInstanceState);\n setContentView(R.layout.activity_main);\n    PrintScreen();\n }\n \n  \n public void PrintScreen() {\n System.out.println(&quot;This is a test&quot;);    \n     }\n }\n</code></pre>\n"}],"owner":{"account_id":4097489,"reputation":11,"user_id":3363846,"display_name":"taolao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671434482,"creation_date":1671433712,"question_id":74847204,"body_markdown":"\r\n````\r\n\r\n\r\n&gt; package com.example.mytest;\r\n&gt; import androidx.appcompat.app.AppCompatActivity;\r\n&gt; \r\n&gt; import android.icu.text.SimpleDateFormat;\r\n&gt; import android.os.Bundle;\r\n&gt; import android.widget.TextView;\r\n&gt; \r\n&gt; import java.util.Arrays;\r\n&gt; import java.util.Date;\r\n&gt; import java.util.Locale;\r\n&gt; \r\n&gt; public class MainActivity extends AppCompatActivity {\r\n&gt;    @Override\r\n&gt; protected void onCreate(Bundle savedInstanceState) {\r\n&gt; super.onCreate(savedInstanceState);\r\n&gt; setContentView(R.layout.activity_main);\r\n&gt;     }\r\n&gt; \r\n&gt; PrintScreen();\r\n&gt;  \r\n&gt; public void PrintScreen() {\r\n&gt; System.out.println(&quot;This is a test&quot;);    \r\n&gt;     }\r\n&gt; }\r\n````\r\n\r\n\r\nHow can I call the public void method PrintScreen() in MainActivity (Android Studio Dolphin). It does not accept the code above. Thank","title":"Call a public void routine in Android Studio Dolphin","body":"<pre><code>\n\n&gt; package com.example.mytest;\n&gt; import androidx.appcompat.app.AppCompatActivity;\n&gt; \n&gt; import android.icu.text.SimpleDateFormat;\n&gt; import android.os.Bundle;\n&gt; import android.widget.TextView;\n&gt; \n&gt; import java.util.Arrays;\n&gt; import java.util.Date;\n&gt; import java.util.Locale;\n&gt; \n&gt; public class MainActivity extends AppCompatActivity {\n&gt;    @Override\n&gt; protected void onCreate(Bundle savedInstanceState) {\n&gt; super.onCreate(savedInstanceState);\n&gt; setContentView(R.layout.activity_main);\n&gt;     }\n&gt; \n&gt; PrintScreen();\n&gt;  \n&gt; public void PrintScreen() {\n&gt; System.out.println(&quot;This is a test&quot;);    \n&gt;     }\n&gt; }\n</code></pre>\n<p>How can I call the public void method PrintScreen() in MainActivity (Android Studio Dolphin). It does not accept the code above. Thank</p>\n"},{"tags":["java","android","html","kotlin","webview"],"owner":{"account_id":27265394,"reputation":1,"user_id":20787521,"display_name":"Mansi Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671434363,"creation_date":1671426273,"question_id":74846454,"body_markdown":"I want to stop loading the url in same webview when clicking any item within the webpage. \r\n\r\nfor this I have tried shouldoverrideurlloading() but its not catching the url so not able to override it.\r\n\r\nour application is single page application that may be reason due to which shouldOverrideUrlLoading() is not getting called.\r\n\r\n\r\n```\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n       final Uri uri = Uri.parse(url);\r\n       return handleUri(view,uri);\r\n\r\n}\r\n@TargetApi(Build.VERSION_CODES.N)\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n       final Uri uri = request.getUrl();\r\n       return handleUri(view, uri);\r\n}\r\nprivate boolean handleUri(WebView view,final Uri uri){\r\n        if (uri.toString().contains(&quot;messages&quot;) || uri.toString().contains(&quot;proddetail&quot;) ||   uri.toString().contains(&quot;about-us&quot;)) {\r\n            Intent intent = new Intent(webActivity.this, nativeActivity.class);\r\n            startActivity(intent);\r\n            return true;\r\n }\r\nreturn true;\r\n}\r\n```\r\nIn this its not catching url containing messages..\r\n\r\n\r\nAnother method I have tried is catching url using doUpdateVisitedHistory() and using view.stoploading() for stopping the loading of url within same webview.\r\n\r\n\r\n```\r\n@Override\r\npublic void doUpdateVisitedHistory(WebView view, String url,boolean isReload) {\r\n\r\nif ( url.contains(&quot;messages&quot;))\r\n{\r\n final Handler handler = new Handler(Looper.getMainLooper());\r\n handler.postDelayed(new Runnable() {\r\n@Override\r\n public void run() {\r\n                   view.stopLoading();\r\n                   //opening new fragment\r\n                   SharedFunctions.getInstance().replaceFragment(CompanyPage.this, new   CompanyPage(uri.toString().replace(&quot;www&quot;,&quot;m&quot;)), &quot;Messages&quot;, getActivity().getSupportFragmentManager(), true, true);\r\n\r\n                                                     \r\n}\r\n}, 1000);\r\n                                         }\r\n```\r\nUsing this the loading of url is not stopping as when coming back to previous fragment that loading has been done in webview.\r\n\r\n   ","title":"How to prevent url to load within same webview for single page application","body":"<p>I want to stop loading the url in same webview when clicking any item within the webpage.</p>\n<p>for this I have tried shouldoverrideurlloading() but its not catching the url so not able to override it.</p>\n<p>our application is single page application that may be reason due to which shouldOverrideUrlLoading() is not getting called.</p>\n<pre><code>@Override\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\n       final Uri uri = Uri.parse(url);\n       return handleUri(view,uri);\n\n}\n@TargetApi(Build.VERSION_CODES.N)\n@Override\npublic boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n       final Uri uri = request.getUrl();\n       return handleUri(view, uri);\n}\nprivate boolean handleUri(WebView view,final Uri uri){\n        if (uri.toString().contains(&quot;messages&quot;) || uri.toString().contains(&quot;proddetail&quot;) ||   uri.toString().contains(&quot;about-us&quot;)) {\n            Intent intent = new Intent(webActivity.this, nativeActivity.class);\n            startActivity(intent);\n            return true;\n }\nreturn true;\n}\n</code></pre>\n<p>In this its not catching url containing messages..</p>\n<p>Another method I have tried is catching url using doUpdateVisitedHistory() and using view.stoploading() for stopping the loading of url within same webview.</p>\n<pre><code>@Override\npublic void doUpdateVisitedHistory(WebView view, String url,boolean isReload) {\n\nif ( url.contains(&quot;messages&quot;))\n{\n final Handler handler = new Handler(Looper.getMainLooper());\n handler.postDelayed(new Runnable() {\n@Override\n public void run() {\n                   view.stopLoading();\n                   //opening new fragment\n                   SharedFunctions.getInstance().replaceFragment(CompanyPage.this, new   CompanyPage(uri.toString().replace(&quot;www&quot;,&quot;m&quot;)), &quot;Messages&quot;, getActivity().getSupportFragmentManager(), true, true);\n\n                                                     \n}\n}, 1000);\n                                         }\n</code></pre>\n<p>Using this the loading of url is not stopping as when coming back to previous fragment that loading has been done in webview.</p>\n"},{"tags":["java","spring-boot","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1669363636,"post_id":74569495,"comment_id":131629314,"body_markdown":"I cannot tell why your code does not work but you can compare it against the official examples: https://github.com/apache/wicket/blob/master/wicket-examples/src/main/java/org/apache/wicket/examples/ajax/builtin/AjaxDownloadPage.java. Since some time  org.apache.wicket.extensions.ajax.AjaxDownloadBehavior is part of wicket-extensions module.","body":"I cannot tell why your code does not work but you can compare it against the official examples: <a href=\"https://github.com/apache/wicket/blob/master/wicket-examples/src/main/java/org/apache/wicket/examples/ajax/builtin/AjaxDownloadPage.java\" rel=\"nofollow noreferrer\">github.com/apache/wicket/blob/master/wicket-examples/src/mai&zwnj;&#8203;n/&hellip;</a>. Since some time  org.apache.wicket.extensions.ajax.AjaxDownloadBehavior is part of wicket-extensions module."}],"answers":[{"tags":[],"owner":{"account_id":14058943,"reputation":53,"user_id":10155514,"display_name":"clatadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670224842,"creation_date":1670224842,"answer_id":74684575,"question_id":74569495,"body_markdown":"So, the problem was this part \r\n\r\n\r\n        target.appendJavaScript(&quot;setTimeout(\\&quot;window.location.href=&#39;&quot; + url + &quot;&#39;\\&quot;, 100);&quot;);\r\n\r\nJavascript was blocked and I needed to unblock it in another class that extends WicketBootSecuredWebApplication like this \r\n\r\n    @Override\r\n    protected void init() {\r\n    super.init();\r\n    getCspSettings().blocking().disabled();\r\n    }\r\n    } \r\n\r\n ","title":"Download of files not working anymore after Upgrade to SpringBoot 2.6 and Wicket 9.8","body":"<p>So, the problem was this part</p>\n<pre><code>    target.appendJavaScript(&quot;setTimeout(\\&quot;window.location.href='&quot; + url + &quot;'\\&quot;, 100);&quot;);\n</code></pre>\n<p>Javascript was blocked and I needed to unblock it in another class that extends WicketBootSecuredWebApplication like this</p>\n<pre><code>@Override\nprotected void init() {\nsuper.init();\ngetCspSettings().blocking().disabled();\n}\n} \n</code></pre>\n"}],"owner":{"account_id":14058943,"reputation":53,"user_id":10155514,"display_name":"clatadia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74684575,"answer_count":1,"score":0,"last_activity_date":1671433665,"creation_date":1669361483,"question_id":74569495,"body_markdown":"So, I upgraded an application from SpringBoot 2.1 to 2.6 and Wicket 8.6 to 9.8 and everything is working fine now except for the download of csv-files. I get no error, the file is created like it should be but it won&#39;t get downloaded and I don&#39;t know where to look anymore. So I will share the classes of the downloadbutton and the download itself. Maybe someone has an idea.\r\n\r\n  \r\nAjaxFileDownload\r\n\r\n    import java.io.File;\r\n    import org.apache.wicket.ajax.AjaxRequestTarget;\r\n    import org.apache.wicket.behavior.AbstractAjaxBehavior;\r\n    import org.apache.wicket.request.IRequestCycle;\r\n    import org.apache.wicket.request.handler.resource.ResourceStreamRequestHandler;\r\n    import org.apache.wicket.request.resource.ContentDisposition;\r\n    import org.apache.wicket.util.file.Files;\r\n    import org.apache.wicket.util.resource.FileResourceStream;\r\n    import org.apache.wicket.util.resource.IResourceStream;\r\n    \r\n    // Based on: https://cwiki.apache.org/confluence/display/WICKET/AJAX+update+and+file+download+in+one+blow\r\n    public class AjaxFileDownload extends AbstractAjaxBehavior {\r\n    \tprivate static final long serialVersionUID = -3721931990952363001L;\r\n    \r\n    \tprivate File file;\r\n    \tprivate boolean deleteAfter;\r\n    \tprivate boolean addAntiCache;\r\n    \r\n    \tpublic AjaxFileDownload() {\r\n    \t\tthis(false, true);\r\n    \t}\r\n    \r\n    \tpublic AjaxFileDownload(boolean deleteAfter) {\r\n    \t\tthis(deleteAfter, true);\r\n    \t}\r\n    \r\n    \tpublic AjaxFileDownload(boolean deleteAfter, boolean addAntiCache) {\r\n    \t\tsuper();\r\n    \t\tthis.deleteAfter = deleteAfter;\r\n    \t\tthis.addAntiCache = addAntiCache;\r\n    \t}\r\n    \r\n    \t// Call this method to initiate the download\r\n    \tpublic void initiate(AjaxRequestTarget target) {\r\n    \t\tif (file == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;No file has been provided for download.&quot;);\r\n    \t\t}\r\n    \t\tString url = getCallbackUrl().toString();\r\n    \t\tif (addAntiCache) {\r\n    \t\t\turl = url + (url.contains(&quot;?&quot;) ? &quot;&amp;&quot; : &quot;?&quot;);\r\n    \t\t\turl = url + &quot;antiCache=&quot; + System.currentTimeMillis();\r\n    \t\t}\r\n    \r\n    \t\t// the timeout is needed to let Wicket release the channel\r\n    \t\ttarget.appendJavaScript(&quot;setTimeout(\\&quot;window.location.href=&#39;&quot; + url + &quot;&#39;\\&quot;, 100);&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onRequest() {\r\n    \t\tResourceStreamRequestHandler handler = new ResourceStreamRequestHandler(getResourceStream(), getFileName()) {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void respond(IRequestCycle requestCycle) {\r\n    \t\t\t\tsuper.respond(requestCycle);\r\n    \r\n    \t\t\t\tif (deleteAfter) {\r\n    \t\t\t\t\tFiles.remove(file);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\thandler.setContentDisposition(ContentDisposition.ATTACHMENT);\r\n    \t\tgetComponent().getRequestCycle().scheduleRequestHandlerAfterCurrent(handler);\r\n    \t}\r\n    \r\n    \tprivate String getFileName() {\r\n    \t\treturn file.getName();\r\n    \t}\r\n    \r\n    \tprivate IResourceStream getResourceStream() {\r\n    \t\treturn new FileResourceStream(new org.apache.wicket.util.file.File(file));\r\n    \t}\r\n    \r\n    \t// Set file to download\r\n    \tpublic void setFile(File file) {\r\n    \t\tthis.file = file;\r\n    \t}\r\n    }\r\n\r\ninitiate gets called by this method \r\n\r\n    private AbstractButtonPanel createDownloadTemplateButton(String markupId) {\r\n    \treturn new ButtonPanel(markupId) {\r\n    \t\t@Override\r\n    \t\tprotected void buttonClick(final AjaxRequestTarget target) {\r\n    \t\t\tFormExceptionHandler&lt;File&gt; handler = dataHolder -&gt; generateCsvTemplateFile();\r\n    \t\t\tFile templateDownload = handler.apply(new WicketExceptionDataholder(target, form, log));\r\n    \r\n    \t\t\t\t\tfileDownloadBehaviour.setFile(file);\r\n    \t                fileDownloadBehaviour.initiate(target);\r\n    \t\t}\r\n    \r\n    \t}.withLinkTextKey(&quot;downloadTemplateButton.label&quot;);\r\n    }\r\n\r\nButtonPanel\r\n\r\n        import org.apache.wicket.ajax.AjaxRequestTarget;\r\n    import org.apache.wicket.ajax.markup.html.AjaxLink;\r\n    \r\n    public abstract class ButtonPanel extends AbstractButtonPanel {\r\n    \r\n    \tpublic ButtonPanel(String markupId) {\r\n    \t\tsuper(markupId);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected AjaxLink&lt;Void&gt; createAbstractLink(String markupId) {\r\n    \t\treturn new AjaxLink&lt;&gt;(markupId) {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(AjaxRequestTarget target) {\r\n    \t\t\t\tbuttonClick(target);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \r\n    \tprotected abstract void buttonClick(AjaxRequestTarget target);\r\n    \r\n    }\r\n\r\nAbstractButtonPanel\r\n\r\n    import com.xyz.uof.frontend.web.bootstrap.css.BootstrapCssEnum;\r\n    import com.xyz.uof.frontend.web.bootstrap.css.BootstrapCssEnum.BUTTON;\r\n    import java.util.Optional;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.wicket.Component;\r\n    import org.apache.wicket.behavior.AttributeAppender;\r\n    import org.apache.wicket.markup.html.WebComponent;\r\n    import org.apache.wicket.markup.html.basic.Label;\r\n    import org.apache.wicket.markup.html.link.AbstractLink;\r\n    import org.apache.wicket.markup.html.panel.Panel;\r\n    import org.apache.wicket.model.IModel;\r\n    import org.apache.wicket.model.Model;\r\n    \r\n    \r\n    public abstract class AbstractButtonPanel extends Panel {\r\n    \r\n    \t/**\r\n    \t * Change the button to be a link, btn-primary, or what else\r\n    \t */\r\n    \tprivate String buttonSizeClass = BUTTON.SIZE_SMALL;\r\n    \tprivate String cssClass = BootstrapCssEnum.BUTTON.PRIMARY;\r\n    \tprivate String linkTextKey;\r\n    \tprivate String buttonName = &quot;submitButton&quot;; // default\r\n    \tprivate IModel&lt;Boolean&gt; visibleModel = Model.of(true);\r\n    \tprivate IModel&lt;Boolean&gt; enabledModel = Model.of(true);\r\n    \tprivate String iconClass;\r\n    \tprivate boolean spinnerActive = false;\r\n    \r\n    \tpublic AbstractButtonPanel(String markupId) {\r\n    \t\tsuper(markupId);\r\n    \t\tsetOutputMarkupId(true);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onInitialize() {\r\n    \t\tsuper.onInitialize();\r\n    \t\tadd(createLink(&quot;link&quot;));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onConfigure() {\r\n    \t\tsuper.onConfigure();\r\n    \t\tsetVisibilityAllowed(visibleModel.getObject());\r\n    \t\tsetEnabled(enabledModel.getObject());\r\n    \t}\r\n    \r\n    \tprivate AbstractLink createLink(String markupId) {\r\n    \t\tAbstractLink ajaxLink = createAbstractLink(markupId);\r\n    \t\tajaxLink.add(new AttributeAppender(&quot;class&quot;, buttonSizeClass + &quot; &quot; + cssClass, &quot; &quot;));\r\n    \t\tajaxLink.add(createSpinner(&quot;spinner&quot;, ajaxLink));\r\n    \t\tajaxLink.add(createLabel(&quot;label&quot;));\r\n    \t\tajaxLink.add(createIcon(&quot;labelIcon&quot;));\r\n    \t\tajaxLink.get(&quot;labelIcon&quot;).add(new AttributeAppender(&quot;class&quot;, iconClass, &quot; &quot;));\r\n    \t\treturn ajaxLink;\r\n    \t}\r\n    \r\n    \tprotected abstract AbstractLink createAbstractLink(String markupId);\r\n    \r\n    \tprivate Component createSpinner(String markupId, AbstractLink ajaxLink) {\r\n    \t\tif (spinnerActive) {\r\n    \t\t\tajaxLink.add(new AttributeAppender(&quot;onClick&quot;, String.format(&quot;document.getElementById(&#39;%s&#39;).childNodes[1].className = &#39;spinner-grow spinner-grow-sm&#39;;&quot;, ajaxLink.getMarkupId())));\r\n    \t\t}\r\n    \t\treturn new WebComponent(markupId) {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void onConfigure() {\r\n    \t\t\t\tsuper.onConfigure();\r\n    \t\t\t\tgetParent().getId();\r\n    \r\n    \t\t\t\tsetVisibilityAllowed(spinnerActive);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \tprivate Label createLabel(String markupId) {\r\n    \t\t// Use this model to handle null linkTextKey.\r\n    \t\t// Helps to have buttons with glyphicons only\r\n    \t\treturn new Label(markupId, () -&gt; StringUtils.isNotBlank(linkTextKey) ? getString(linkTextKey) : &quot;&quot;) {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tprotected void onConfigure() {\r\n    \t\t\t\tsuper.onConfigure();\r\n    \t\t\t\tsetVisibilityAllowed(StringUtils.isNotBlank(linkTextKey));\r\n    \t\t\t}\r\n    \r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate Component createIcon(String markupId) {\r\n    \t\treturn new WebComponent(markupId) {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void onConfigure() {\r\n    \t\t\t\tsuper.onConfigure();\r\n    \t\t\t\tsetVisibilityAllowed(Optional.ofNullable(iconClass).isPresent());\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withButtonSizeClass(String buttonSizeClass) {\r\n    \t\tthis.buttonSizeClass = buttonSizeClass;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withCssClass(String cssClass) {\r\n    \t\tthis.cssClass = cssClass;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t// Important for Selenium\r\n    \tpublic AbstractButtonPanel withName(String... buttonName) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tfor (String currentSplit : buttonName) {\r\n    \t\t\tsb.append(currentSplit);\r\n    \t\t}\r\n    \t\tsb.append(this.buttonName);\r\n    \t\tthis.buttonName = sb.toString();\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withLinkTextKey(String linkTextKey) {\r\n    \t\tthis.linkTextKey = linkTextKey;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withVisibleModel(IModel&lt;Boolean&gt; visibleModel) {\r\n    \t\tthis.visibleModel = visibleModel;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withEnabledModel(IModel&lt;Boolean&gt; enabbledModel) {\r\n    \t\tthis.enabledModel = enabbledModel;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withIconName(String iconName) {\r\n    \t\tthis.iconClass = iconName;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic AbstractButtonPanel withSpinner(boolean spinnerActive) {\r\n    \t\tthis.spinnerActive = spinnerActive;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Download of files not working anymore after Upgrade to SpringBoot 2.6 and Wicket 9.8","body":"<p>So, I upgraded an application from SpringBoot 2.1 to 2.6 and Wicket 8.6 to 9.8 and everything is working fine now except for the download of csv-files. I get no error, the file is created like it should be but it won't get downloaded and I don't know where to look anymore. So I will share the classes of the downloadbutton and the download itself. Maybe someone has an idea.</p>\n<p>AjaxFileDownload</p>\n<pre><code>import java.io.File;\nimport org.apache.wicket.ajax.AjaxRequestTarget;\nimport org.apache.wicket.behavior.AbstractAjaxBehavior;\nimport org.apache.wicket.request.IRequestCycle;\nimport org.apache.wicket.request.handler.resource.ResourceStreamRequestHandler;\nimport org.apache.wicket.request.resource.ContentDisposition;\nimport org.apache.wicket.util.file.Files;\nimport org.apache.wicket.util.resource.FileResourceStream;\nimport org.apache.wicket.util.resource.IResourceStream;\n\n// Based on: https://cwiki.apache.org/confluence/display/WICKET/AJAX+update+and+file+download+in+one+blow\npublic class AjaxFileDownload extends AbstractAjaxBehavior {\n    private static final long serialVersionUID = -3721931990952363001L;\n\n    private File file;\n    private boolean deleteAfter;\n    private boolean addAntiCache;\n\n    public AjaxFileDownload() {\n        this(false, true);\n    }\n\n    public AjaxFileDownload(boolean deleteAfter) {\n        this(deleteAfter, true);\n    }\n\n    public AjaxFileDownload(boolean deleteAfter, boolean addAntiCache) {\n        super();\n        this.deleteAfter = deleteAfter;\n        this.addAntiCache = addAntiCache;\n    }\n\n    // Call this method to initiate the download\n    public void initiate(AjaxRequestTarget target) {\n        if (file == null) {\n            throw new IllegalArgumentException(&quot;No file has been provided for download.&quot;);\n        }\n        String url = getCallbackUrl().toString();\n        if (addAntiCache) {\n            url = url + (url.contains(&quot;?&quot;) ? &quot;&amp;&quot; : &quot;?&quot;);\n            url = url + &quot;antiCache=&quot; + System.currentTimeMillis();\n        }\n\n        // the timeout is needed to let Wicket release the channel\n        target.appendJavaScript(&quot;setTimeout(\\&quot;window.location.href='&quot; + url + &quot;'\\&quot;, 100);&quot;);\n    }\n\n    @Override\n    public void onRequest() {\n        ResourceStreamRequestHandler handler = new ResourceStreamRequestHandler(getResourceStream(), getFileName()) {\n            @Override\n            public void respond(IRequestCycle requestCycle) {\n                super.respond(requestCycle);\n\n                if (deleteAfter) {\n                    Files.remove(file);\n                }\n            }\n        };\n        handler.setContentDisposition(ContentDisposition.ATTACHMENT);\n        getComponent().getRequestCycle().scheduleRequestHandlerAfterCurrent(handler);\n    }\n\n    private String getFileName() {\n        return file.getName();\n    }\n\n    private IResourceStream getResourceStream() {\n        return new FileResourceStream(new org.apache.wicket.util.file.File(file));\n    }\n\n    // Set file to download\n    public void setFile(File file) {\n        this.file = file;\n    }\n}\n</code></pre>\n<p>initiate gets called by this method</p>\n<pre><code>private AbstractButtonPanel createDownloadTemplateButton(String markupId) {\n    return new ButtonPanel(markupId) {\n        @Override\n        protected void buttonClick(final AjaxRequestTarget target) {\n            FormExceptionHandler&lt;File&gt; handler = dataHolder -&gt; generateCsvTemplateFile();\n            File templateDownload = handler.apply(new WicketExceptionDataholder(target, form, log));\n\n                    fileDownloadBehaviour.setFile(file);\n                    fileDownloadBehaviour.initiate(target);\n        }\n\n    }.withLinkTextKey(&quot;downloadTemplateButton.label&quot;);\n}\n</code></pre>\n<p>ButtonPanel</p>\n<pre><code>    import org.apache.wicket.ajax.AjaxRequestTarget;\nimport org.apache.wicket.ajax.markup.html.AjaxLink;\n\npublic abstract class ButtonPanel extends AbstractButtonPanel {\n\n    public ButtonPanel(String markupId) {\n        super(markupId);\n    }\n\n    @Override\n    protected AjaxLink&lt;Void&gt; createAbstractLink(String markupId) {\n        return new AjaxLink&lt;&gt;(markupId) {\n\n            @Override\n            public void onClick(AjaxRequestTarget target) {\n                buttonClick(target);\n            }\n        };\n    }\n\n\n    protected abstract void buttonClick(AjaxRequestTarget target);\n\n}\n</code></pre>\n<p>AbstractButtonPanel</p>\n<pre><code>import com.xyz.uof.frontend.web.bootstrap.css.BootstrapCssEnum;\nimport com.xyz.uof.frontend.web.bootstrap.css.BootstrapCssEnum.BUTTON;\nimport java.util.Optional;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.wicket.Component;\nimport org.apache.wicket.behavior.AttributeAppender;\nimport org.apache.wicket.markup.html.WebComponent;\nimport org.apache.wicket.markup.html.basic.Label;\nimport org.apache.wicket.markup.html.link.AbstractLink;\nimport org.apache.wicket.markup.html.panel.Panel;\nimport org.apache.wicket.model.IModel;\nimport org.apache.wicket.model.Model;\n\n\npublic abstract class AbstractButtonPanel extends Panel {\n\n    /**\n     * Change the button to be a link, btn-primary, or what else\n     */\n    private String buttonSizeClass = BUTTON.SIZE_SMALL;\n    private String cssClass = BootstrapCssEnum.BUTTON.PRIMARY;\n    private String linkTextKey;\n    private String buttonName = &quot;submitButton&quot;; // default\n    private IModel&lt;Boolean&gt; visibleModel = Model.of(true);\n    private IModel&lt;Boolean&gt; enabledModel = Model.of(true);\n    private String iconClass;\n    private boolean spinnerActive = false;\n\n    public AbstractButtonPanel(String markupId) {\n        super(markupId);\n        setOutputMarkupId(true);\n    }\n\n    @Override\n    protected void onInitialize() {\n        super.onInitialize();\n        add(createLink(&quot;link&quot;));\n    }\n\n    @Override\n    protected void onConfigure() {\n        super.onConfigure();\n        setVisibilityAllowed(visibleModel.getObject());\n        setEnabled(enabledModel.getObject());\n    }\n\n    private AbstractLink createLink(String markupId) {\n        AbstractLink ajaxLink = createAbstractLink(markupId);\n        ajaxLink.add(new AttributeAppender(&quot;class&quot;, buttonSizeClass + &quot; &quot; + cssClass, &quot; &quot;));\n        ajaxLink.add(createSpinner(&quot;spinner&quot;, ajaxLink));\n        ajaxLink.add(createLabel(&quot;label&quot;));\n        ajaxLink.add(createIcon(&quot;labelIcon&quot;));\n        ajaxLink.get(&quot;labelIcon&quot;).add(new AttributeAppender(&quot;class&quot;, iconClass, &quot; &quot;));\n        return ajaxLink;\n    }\n\n    protected abstract AbstractLink createAbstractLink(String markupId);\n\n    private Component createSpinner(String markupId, AbstractLink ajaxLink) {\n        if (spinnerActive) {\n            ajaxLink.add(new AttributeAppender(&quot;onClick&quot;, String.format(&quot;document.getElementById('%s').childNodes[1].className = 'spinner-grow spinner-grow-sm';&quot;, ajaxLink.getMarkupId())));\n        }\n        return new WebComponent(markupId) {\n            @Override\n            protected void onConfigure() {\n                super.onConfigure();\n                getParent().getId();\n\n                setVisibilityAllowed(spinnerActive);\n            }\n        };\n    }\n    \n    private Label createLabel(String markupId) {\n        // Use this model to handle null linkTextKey.\n        // Helps to have buttons with glyphicons only\n        return new Label(markupId, () -&gt; StringUtils.isNotBlank(linkTextKey) ? getString(linkTextKey) : &quot;&quot;) {\n\n            @Override\n            protected void onConfigure() {\n                super.onConfigure();\n                setVisibilityAllowed(StringUtils.isNotBlank(linkTextKey));\n            }\n\n        };\n    }\n\n    private Component createIcon(String markupId) {\n        return new WebComponent(markupId) {\n            @Override\n            protected void onConfigure() {\n                super.onConfigure();\n                setVisibilityAllowed(Optional.ofNullable(iconClass).isPresent());\n            }\n        };\n    }\n\n    public AbstractButtonPanel withButtonSizeClass(String buttonSizeClass) {\n        this.buttonSizeClass = buttonSizeClass;\n        return this;\n    }\n\n    public AbstractButtonPanel withCssClass(String cssClass) {\n        this.cssClass = cssClass;\n        return this;\n    }\n\n    // Important for Selenium\n    public AbstractButtonPanel withName(String... buttonName) {\n        StringBuilder sb = new StringBuilder();\n        for (String currentSplit : buttonName) {\n            sb.append(currentSplit);\n        }\n        sb.append(this.buttonName);\n        this.buttonName = sb.toString();\n        return this;\n    }\n\n    public AbstractButtonPanel withLinkTextKey(String linkTextKey) {\n        this.linkTextKey = linkTextKey;\n        return this;\n    }\n\n    public AbstractButtonPanel withVisibleModel(IModel&lt;Boolean&gt; visibleModel) {\n        this.visibleModel = visibleModel;\n        return this;\n    }\n\n    public AbstractButtonPanel withEnabledModel(IModel&lt;Boolean&gt; enabbledModel) {\n        this.enabledModel = enabbledModel;\n        return this;\n    }\n\n    public AbstractButtonPanel withIconName(String iconName) {\n        this.iconClass = iconName;\n        return this;\n    }\n\n    public AbstractButtonPanel withSpinner(boolean spinnerActive) {\n        this.spinnerActive = spinnerActive;\n        return this;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":5125671,"reputation":5871,"user_id":4107809,"accept_rate":71,"display_name":"mattm"},"score":0,"creation_date":1459345417,"post_id":36308591,"comment_id":60244614,"body_markdown":"See this question: http://stackoverflow.com/q/35383243/4107809","body":"See this question: <a href=\"http://stackoverflow.com/q/35383243/4107809\">stackoverflow.com/q/35383243/4107809</a>"},{"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"score":0,"creation_date":1459363384,"post_id":36308591,"comment_id":60257647,"body_markdown":"Kirill, are you sure that the `aar` is getting created at all, or are you only seeing the `jar` on your local?","body":"Kirill, are you sure that the <code>aar</code> is getting created at all, or are you only seeing the <code>jar</code> on your local?"},{"owner":{"account_id":6933421,"reputation":1848,"user_id":5322236,"accept_rate":65,"display_name":"Kyryl Zotov"},"score":0,"creation_date":1459363979,"post_id":36308591,"comment_id":60257992,"body_markdown":"@lase Yes, it is created at  \\MyProject\\lib\\build\\outputs\\aar","body":"@lase Yes, it is created at  \\MyProject\\lib\\build\\outputs\\aar"},{"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"score":0,"creation_date":1459364285,"post_id":36308591,"comment_id":60258191,"body_markdown":"I noticed the tutorial you posted doesn&#39;t have `apply plugin: &#39;com.android.library&#39;`. That is all I am doing to generate my `aar` - no `jar` is generated using my scheme. i.e. `gradle build uploadArchives`","body":"I noticed the tutorial you posted doesn&#39;t have <code>apply plugin: &#39;com.android.library&#39;</code>. That is all I am doing to generate my <code>aar</code> - no <code>jar</code> is generated using my scheme. i.e. <code>gradle build uploadArchives</code>"}],"answers":[{"tags":[],"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459343206,"creation_date":1459343206,"answer_id":36309789,"question_id":36308591,"body_markdown":"I&#39;m doing exactly that using this strategy. My applied plugins are `com.android.library` and `maven`.\r\n\r\n    android {\r\n        ...\r\n        uploadArchives {\r\n            repositories {\r\n                mavenDeployer {\r\n                    repository(url: &quot;http://mycompany/local/repositories/releases/&quot;)\r\n                    pom.artifactId = &#39;projectName&#39;\r\n                    pom.version = &#39;1.0.0&#39;\r\n                    pom.packaging = &#39;aar&#39;\r\n                    pom.groupId = &#39;com.mycompany&#39;\r\n                }\r\n            }\r\n    }","title":"Upload aar to maven","body":"<p>I'm doing exactly that using this strategy. My applied plugins are <code>com.android.library</code> and <code>maven</code>.</p>\n\n<pre><code>android {\n    ...\n    uploadArchives {\n        repositories {\n            mavenDeployer {\n                repository(url: \"http://mycompany/local/repositories/releases/\")\n                pom.artifactId = 'projectName'\n                pom.version = '1.0.0'\n                pom.packaging = 'aar'\n                pom.groupId = 'com.mycompany'\n            }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":6933421,"reputation":1848,"user_id":5322236,"accept_rate":65,"display_name":"Kyryl Zotov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1671433486,"creation_date":1459340147,"question_id":36308591,"body_markdown":"I&#39;m publishing some source sets successfully to maven repository but I really need to public my `.aar` library instead.\r\n\r\nI&#39;m using this [tutorial][1] \r\n\r\n\r\n    task androidSourcesJar(type: Jar) {\r\n        classifier = &#39;sources&#39;\r\n        from android.sourceSets.main.java.sourceFiles\r\n    }\r\n\r\nAnd with this code as I understand it sends to repository my soucrse sets but when I try to send my aar it says that the rote to `.aar` is not correct with this code:\r\n\r\n    from android.lib.build.outputs.sourceFiles\r\n\r\nSo how can I send my file located at `\\project\\lib\\build\\outputs\\aar\\my_aar.aar` ?\r\n\r\n\r\n  [1]: http://zserge.com/blog/gradle-maven-publish.html\r\n\r\n\r\n\r\nEDIT: as `lase` said this connects to maven with credentials BUT doesn&#39;t deploy aar:\r\n\r\n    mavenDeployer {\r\n                def credentials = [\r\n                        userName: NEXUS_USERNAME,\r\n                        password: NEXUS_PASSWORD\r\n                ]\r\n                repository(url: &quot;test&quot;,authentication:credentials)\r\n                pom.artifactId = &#39;com.liv&#39;\r\n                pom.version = &#39;1.5.0&#39;\r\n                pom.packaging = &#39;aar&#39;\r\n                pom.groupId = &#39;test2&#39;\r\n            }\r\n\r\n\r\n\r\nAnd unfurtunately this code doesn&#39;t upload anything without this to maven repository: \r\n\r\n    afterEvaluate { project -&gt;\r\n    \r\n    \r\n        signing {\r\n            required { isReleaseBuild() &amp;&amp; gradle.taskGraph.hasTask(&quot;uploadArchives&quot;) }\r\n            sign configurations.archives\r\n        }\r\n \r\n    \r\n        task androidSourcesJar(type: Jar) {\r\n            classifier = &#39;sources&#39;\r\n            from android.sourceSets.main.java.sourceFiles\r\n    \r\n        }\r\n    \r\n        artifacts {\r\n            archives androidSourcesJar\r\n        }\r\n    }\r\n\r\nEDIT: maybe this project has specific SourceSets so I would post it:\r\n\r\n    sourceSets {\r\n        main {\r\n            java.srcDirs = [&#39;src/main/java&#39;]\r\n            res.srcDirs = [&#39;src/main/res&#39;]\r\n            assets.srcDirs = [&#39;assets&#39;]\r\n        }\r\n\r\n        liv {\r\n            java.srcDirs = [&#39;src/live/java&#39;]\r\n            res.srcDirs = [&#39;src/live/res&#39;]\r\n            assets.srcDirs = [&#39;src/main/assets&#39;]\r\n            manifest.srcFile &#39;src/live/AndroidManifest.xml&#39;\r\n            jni.srcDirs = []\r\n            jniLibs.srcDir &#39;src/main/libs&#39;\r\n        }\r\n\r\n        live {\r\n            java.srcDirs = [&#39;src/live/java&#39;]\r\n            res.srcDirs = [&#39;src/live/res&#39;]\r\n            assets.srcDirs = [&#39;src/main/assets&#39;]\r\n            manifest.srcFile &#39;src/live/AndroidManifest.xml&#39;\r\n        }\r\n    }\r\n\r\n","title":"Upload aar to maven","body":"<p>I'm publishing some source sets successfully to maven repository but I really need to public my <code>.aar</code> library instead.</p>\n\n<p>I'm using this <a href=\"http://zserge.com/blog/gradle-maven-publish.html\" rel=\"nofollow\">tutorial</a> </p>\n\n<pre><code>task androidSourcesJar(type: Jar) {\n    classifier = 'sources'\n    from android.sourceSets.main.java.sourceFiles\n}\n</code></pre>\n\n<p>And with this code as I understand it sends to repository my soucrse sets but when I try to send my aar it says that the rote to <code>.aar</code> is not correct with this code:</p>\n\n<pre><code>from android.lib.build.outputs.sourceFiles\n</code></pre>\n\n<p>So how can I send my file located at <code>\\project\\lib\\build\\outputs\\aar\\my_aar.aar</code> ?</p>\n\n<p>EDIT: as <code>lase</code> said this connects to maven with credentials BUT doesn't deploy aar:</p>\n\n<pre><code>mavenDeployer {\n            def credentials = [\n                    userName: NEXUS_USERNAME,\n                    password: NEXUS_PASSWORD\n            ]\n            repository(url: \"test\",authentication:credentials)\n            pom.artifactId = 'com.liv'\n            pom.version = '1.5.0'\n            pom.packaging = 'aar'\n            pom.groupId = 'test2'\n        }\n</code></pre>\n\n<p>And unfurtunately this code doesn't upload anything without this to maven repository: </p>\n\n<pre><code>afterEvaluate { project -&gt;\n\n\n    signing {\n        required { isReleaseBuild() &amp;&amp; gradle.taskGraph.hasTask(\"uploadArchives\") }\n        sign configurations.archives\n    }\n\n\n    task androidSourcesJar(type: Jar) {\n        classifier = 'sources'\n        from android.sourceSets.main.java.sourceFiles\n\n    }\n\n    artifacts {\n        archives androidSourcesJar\n    }\n}\n</code></pre>\n\n<p>EDIT: maybe this project has specific SourceSets so I would post it:</p>\n\n<pre><code>sourceSets {\n    main {\n        java.srcDirs = ['src/main/java']\n        res.srcDirs = ['src/main/res']\n        assets.srcDirs = ['assets']\n    }\n\n    liv {\n        java.srcDirs = ['src/live/java']\n        res.srcDirs = ['src/live/res']\n        assets.srcDirs = ['src/main/assets']\n        manifest.srcFile 'src/live/AndroidManifest.xml'\n        jni.srcDirs = []\n        jniLibs.srcDir 'src/main/libs'\n    }\n\n    live {\n        java.srcDirs = ['src/live/java']\n        res.srcDirs = ['src/live/res']\n        assets.srcDirs = ['src/main/assets']\n        manifest.srcFile 'src/live/AndroidManifest.xml'\n    }\n}\n</code></pre>\n"},{"tags":["java","jenkins","gradle","multibranch-pipeline"],"answers":[{"tags":[],"owner":{"account_id":61130,"reputation":253,"user_id":182335,"accept_rate":50,"display_name":"erik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671433169,"creation_date":1671433169,"answer_id":74847133,"question_id":73004594,"body_markdown":"I now use gradle remote cache because that it is what I want.\r\n\r\nI just needed to write a small tool to remove old cache entries.","title":"gradle build with subprojects, git feature branches and jenkins multibranch pipeline: how to only run tests on affected subprojects","body":"<p>I now use gradle remote cache because that it is what I want.</p>\n<p>I just needed to write a small tool to remove old cache entries.</p>\n"}],"owner":{"account_id":61130,"reputation":253,"user_id":182335,"accept_rate":50,"display_name":"erik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671433169,"creation_date":1657978028,"question_id":73004594,"body_markdown":"Say we have a Java project with subprojects like\r\n* persistence\r\n* businessA\r\n* businessB\r\n* web\r\n\r\nwhere everything depends on `persistence` and `web` depends on both `business` subprojects.\r\n\r\nWe use git and feature branches.\r\n\r\nWe use jenkins with pipelines and jenkins&#39; multibranch feature to build and test those feature branches every time there is a push to the central repo.\r\n\r\nThe problem is that the codebase is rather large and running tests needs 1+ hour overall. It would be great if the the pipeline would only execute tests of the subprojects that changed (and its dependents) in respect to `develop` branch. Gradle can do incremental builds but when jenkins creates a workspace for a feature branch gradle needs to do a full build. (e.g. a new feature branch changes code in `web` subproject only and there is no need to run all tests on the other 3 subprojects)\r\n\r\n**So how do we avoid a full build (especially running all tests) on a new feature branch in a Jenkins multibranch pipeline?**","title":"gradle build with subprojects, git feature branches and jenkins multibranch pipeline: how to only run tests on affected subprojects","body":"<p>Say we have a Java project with subprojects like</p>\n<ul>\n<li>persistence</li>\n<li>businessA</li>\n<li>businessB</li>\n<li>web</li>\n</ul>\n<p>where everything depends on <code>persistence</code> and <code>web</code> depends on both <code>business</code> subprojects.</p>\n<p>We use git and feature branches.</p>\n<p>We use jenkins with pipelines and jenkins' multibranch feature to build and test those feature branches every time there is a push to the central repo.</p>\n<p>The problem is that the codebase is rather large and running tests needs 1+ hour overall. It would be great if the the pipeline would only execute tests of the subprojects that changed (and its dependents) in respect to <code>develop</code> branch. Gradle can do incremental builds but when jenkins creates a workspace for a feature branch gradle needs to do a full build. (e.g. a new feature branch changes code in <code>web</code> subproject only and there is no need to run all tests on the other 3 subprojects)</p>\n<p><strong>So how do we avoid a full build (especially running all tests) on a new feature branch in a Jenkins multibranch pipeline?</strong></p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"score":0,"creation_date":1391968221,"post_id":21662588,"comment_id":32742651,"body_markdown":"Please post the program arguments and the jvm arguments of the command, both shown in the &quot;run&quot; dialog of Eclipse.","body":"Please post the program arguments and the jvm arguments of the command, both shown in the &quot;run&quot; dialog of Eclipse."},{"owner":{"account_id":3176596,"reputation":2570,"user_id":2684301,"accept_rate":59,"display_name":"user2684301"},"score":2,"creation_date":1391969741,"post_id":21662588,"comment_id":32743262,"body_markdown":"There is not enough detail given to reasonably help with this issue.","body":"There is not enough detail given to reasonably help with this issue."},{"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"score":2,"creation_date":1391970536,"post_id":21662588,"comment_id":32743600,"body_markdown":"Please first check initial requirement of JDK and in eclipse check  Installed JRE.There is Problem Tab like Console in eclipse in that also you can check what is the problem actually.","body":"Please first check initial requirement of JDK and in eclipse check  Installed JRE.There is Problem Tab like Console in eclipse in that also you can check what is the problem actually."}],"answers":[{"tags":[],"owner":{"account_id":3939784,"reputation":2549,"user_id":3254692,"accept_rate":83,"display_name":"Omar Faroque Anik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402330480,"creation_date":1402330480,"answer_id":24124340,"question_id":21662588,"body_markdown":"For me, I just delete my metaData folder and start eclipse with importing all the necessary project and library files.","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>For me, I just delete my metaData folder and start eclipse with importing all the necessary project and library files.</p>\n"},{"tags":[],"owner":{"account_id":5387666,"reputation":1,"user_id":4291073,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417527500,"creation_date":1417527500,"answer_id":27250852,"question_id":21662588,"body_markdown":"The same virtual machine launcher error - java exception has occurred happened with me in eclipse .This error was due to the package name . I changed the package name and the problem solved. Java does not apply some package name using &quot;java&quot; keyword . ","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>The same virtual machine launcher error - java exception has occurred happened with me in eclipse .This error was due to the package name . I changed the package name and the problem solved. Java does not apply some package name using \"java\" keyword . </p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426790811,"creation_date":1426790811,"answer_id":29152652,"question_id":21662588,"body_markdown":"**Problem reason**\r\n\r\nThis problem occurs when you are copying the whole eclipse workspace from one System to another system(with a different JVM or configuration). The `.metadata` folder inside your project&#39;s workspace folder contains the information about the runtime of your project. \r\n\r\n**Solution**\r\n\r\nClose eclipse if it is open and just delete the `.metadata` folder under your eclipse workspace. Start you eclipse again and you will see the `.metadata` is freshly created based on your current JVM configurations. ","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p><strong>Problem reason</strong></p>\n\n<p>This problem occurs when you are copying the whole eclipse workspace from one System to another system(with a different JVM or configuration). The <code>.metadata</code> folder inside your project's workspace folder contains the information about the runtime of your project. </p>\n\n<p><strong>Solution</strong></p>\n\n<p>Close eclipse if it is open and just delete the <code>.metadata</code> folder under your eclipse workspace. Start you eclipse again and you will see the <code>.metadata</code> is freshly created based on your current JVM configurations. </p>\n"},{"tags":[],"owner":{"account_id":8885404,"reputation":356,"user_id":6633805,"display_name":"spacewanderer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473750584,"creation_date":1473750454,"answer_id":39464087,"question_id":21662588,"body_markdown":"As explained in some of the answers, removing  the .metadata folder, present inside the workspace, works. But this issue can also occur if the package name starts with java. So typically `java.example.com` would cause this error. You can use `com.java.example`.","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>As explained in some of the answers, removing  the .metadata folder, present inside the workspace, works. But this issue can also occur if the package name starts with java. So typically <code>java.example.com</code> would cause this error. You can use <code>com.java.example</code>.</p>\n"},{"tags":[],"owner":{"account_id":12697158,"reputation":91,"user_id":9225246,"display_name":"J. Mel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524754157,"creation_date":1524754157,"answer_id":50046042,"question_id":21662588,"body_markdown":"I had the same problem occur when I cleaned my project as well as when it was trying to build.  For me, the error was a mismatch between my ant version (1.10) and my default JRE (JDK 1.7).  Apparently ant 1.10 is not compatible with JDK 1.7.  Changing the default JRE to JRE 1.8.0 fixed the problem.\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add... &gt; find the java 1.8 version, add it and then select the check box next to it. &gt; OK","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>I had the same problem occur when I cleaned my project as well as when it was trying to build.  For me, the error was a mismatch between my ant version (1.10) and my default JRE (JDK 1.7).  Apparently ant 1.10 is not compatible with JDK 1.7.  Changing the default JRE to JRE 1.8.0 fixed the problem.</p>\n\n<p>Window > Preferences > Java > Installed JREs > Add... > find the java 1.8 version, add it and then select the check box next to it. > OK</p>\n"},{"tags":[],"owner":{"account_id":12458348,"reputation":83,"user_id":9070754,"display_name":"danielctw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533257711,"creation_date":1533257711,"answer_id":51663962,"question_id":21662588,"body_markdown":"I faced the same issue with my Eclipse (currently using Eclipse Photon). While trying the metadata delete method did not work, as I am running on JDK 1.7, it seems that the current version of Ant is Ant 1.10, so setting ANT home to 1.9 solved the issue.\r\n\r\nGo to Windows &gt; Preferences &gt; Ant &gt; Runtime &gt; Ant Home\r\nand then point to the version of Ant needed. ","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>I faced the same issue with my Eclipse (currently using Eclipse Photon). While trying the metadata delete method did not work, as I am running on JDK 1.7, it seems that the current version of Ant is Ant 1.10, so setting ANT home to 1.9 solved the issue.</p>\n\n<p>Go to Windows > Preferences > Ant > Runtime > Ant Home\nand then point to the version of Ant needed. </p>\n"},{"tags":[],"owner":{"account_id":11541421,"reputation":11,"user_id":8456964,"display_name":"Deva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558179123,"creation_date":1558177907,"answer_id":56198397,"question_id":21662588,"body_markdown":"In my case, both JDK 1,7 and JRE 1.8 was present in the java build path&gt;&gt;library. I removed JDK 1.7, it resolves my problem. ","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>In my case, both JDK 1,7 and JRE 1.8 was present in the java build path>>library. I removed JDK 1.7, it resolves my problem. </p>\n"},{"tags":[],"owner":{"account_id":17509655,"reputation":129,"user_id":12698018,"display_name":"Marko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578816429,"creation_date":1578816429,"answer_id":59702033,"question_id":21662588,"body_markdown":"Just update your chromedriver or geckodriver\r\n","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>Just update your chromedriver or geckodriver</p>\n"},{"tags":[],"owner":{"account_id":27148359,"reputation":1,"user_id":20688193,"display_name":"Srinivasa Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671432719,"creation_date":1671099437,"answer_id":74809964,"question_id":21662588,"body_markdown":"If you&#39;re trying to install Scala then you might have downloaded the wrong JDK.\r\n\r\nFor Scala you need to download JDK 8 Update 351.","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>If you're trying to install Scala then you might have downloaded the wrong JDK.</p>\n<p>For Scala you need to download JDK 8 Update 351.</p>\n"}],"owner":{"account_id":3991357,"reputation":39,"user_id":3290189,"display_name":"user3290189"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90418,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":9,"score":3,"last_activity_date":1671432719,"creation_date":1391967890,"question_id":21662588,"body_markdown":"I am a beginner. I am trying to run a java JDBC program in Eclipse with tomcat server. But  when I run the program  a pop up &quot;Java virtual machine launcher&quot; window with &quot;A java exception error has occurred&quot; is coming up.I think the code compilation is fine. \r\n\r\nSo how should I fix this problem.When I surf through different websites, some are saying that I should re-install java again . Is it true. Please help me with the answers.\r\n\r\nThanks in advance","title":"Java virtual machine launcher error- A java exception has occurred","body":"<p>I am a beginner. I am trying to run a java JDBC program in Eclipse with tomcat server. But  when I run the program  a pop up \"Java virtual machine launcher\" window with \"A java exception error has occurred\" is coming up.I think the code compilation is fine. </p>\n\n<p>So how should I fix this problem.When I surf through different websites, some are saying that I should re-install java again . Is it true. Please help me with the answers.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","runtime.exec","outputstream"],"answers":[{"tags":[],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1346744208,"creation_date":1346743105,"answer_id":12258540,"question_id":12258243,"body_markdown":"Ideally, you would employ the `StreamGobbler` on your error stream (in a separate thread) if you are already expecting something on `InputStream`, to look into when the `process.waitFor()` returns a non-zero value to find out the error message. If you are not interested in the `InputStream`, then you can read the ErrorStream directly in your code, once you are done with giving your inputs to the command.\r\n\r\n    Process proc = Runtime.getRuntime().exec(cmd)\r\n    // Start a stream gobbler to read the error stream.\r\n    StreamGobbler errorGobbler = new StreamGobbler(proc.getErrorStream());\r\n    errorGobbler.start();\r\n\r\n    OutputStreamWriter osw = new OutputStreamWriter(proc.getOutputStream())\r\n    osw.write(mailBody)\r\n    osw.close();\r\n   \r\n    int exitStatus = proc.waitFor();\r\n    if (0 != exitStatus) {\r\n        /*\r\n         * If you had not used a StreamGobbler to read the errorStream, you wouldn&#39;t have\r\n         * had a chance to know what went wrong with this command execution.\r\n         */\r\n        LOG.warn(&quot;Error while sending email: &quot; + errorGobbler.getContent());\r\n    }\r\n","title":"Handle Input using StreamGobbler","body":"<p>Ideally, you would employ the <code>StreamGobbler</code> on your error stream (in a separate thread) if you are already expecting something on <code>InputStream</code>, to look into when the <code>process.waitFor()</code> returns a non-zero value to find out the error message. If you are not interested in the <code>InputStream</code>, then you can read the ErrorStream directly in your code, once you are done with giving your inputs to the command.</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(cmd)\n// Start a stream gobbler to read the error stream.\nStreamGobbler errorGobbler = new StreamGobbler(proc.getErrorStream());\nerrorGobbler.start();\n\nOutputStreamWriter osw = new OutputStreamWriter(proc.getOutputStream())\nosw.write(mailBody)\nosw.close();\n\nint exitStatus = proc.waitFor();\nif (0 != exitStatus) {\n    /*\n     * If you had not used a StreamGobbler to read the errorStream, you wouldn't have\n     * had a chance to know what went wrong with this command execution.\n     */\n    LOG.warn(\"Error while sending email: \" + errorGobbler.getContent());\n}\n</code></pre>\n"}],"owner":{"account_id":484879,"reputation":2091,"user_id":900841,"accept_rate":89,"display_name":"Vivek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25024,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12258540,"answer_count":1,"score":7,"last_activity_date":1671432450,"creation_date":1346741809,"question_id":12258243,"body_markdown":"I have been through the [`StreamGobbler`](https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html?page=2) and I understand the usage and the reason on why it has been implemented. However the scenarios covered are only those wherein there could be an output from the command / handling errors.\r\n\r\nI do not find any scenario wherein `StreamGobbler` is used to handle inputs. For example, in `mailx` , I have to specify the body of the email, which I have done in the following format\r\n\r\n``` java\r\nProcess proc = Runtime.getRuntime().exec(cmd);\r\nOutputStreamWriter osw = new OutputStreamWriter(proc.getOutputStream());\r\nosw.write(mailBody);\r\nosw.close();\r\n```\r\n    \r\nHow can this be handled through `StreamGobbler`, or it is not required to be handled through it?","title":"Handle Input using StreamGobbler","body":"<p>I have been through the <a href=\"https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html?page=2\" rel=\"nofollow noreferrer\"><code>StreamGobbler</code></a> and I understand the usage and the reason on why it has been implemented. However the scenarios covered are only those wherein there could be an output from the command / handling errors.</p>\n<p>I do not find any scenario wherein <code>StreamGobbler</code> is used to handle inputs. For example, in <code>mailx</code> , I have to specify the body of the email, which I have done in the following format</p>\n<pre class=\"lang-java prettyprint-override\"><code>Process proc = Runtime.getRuntime().exec(cmd);\nOutputStreamWriter osw = new OutputStreamWriter(proc.getOutputStream());\nosw.write(mailBody);\nosw.close();\n</code></pre>\n<p>How can this be handled through <code>StreamGobbler</code>, or it is not required to be handled through it?</p>\n"},{"tags":["java","android","kotlin","root","su"],"answers":[{"tags":[],"owner":{"account_id":1982077,"reputation":30837,"user_id":1778421,"display_name":"Alex P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671432382,"creation_date":1671432382,"answer_id":74847049,"question_id":74798790,"body_markdown":"In [Android 7.0][1] it was `adb shell svc usb setFunction rndis`\r\n\r\nYou can also try `adb shell setprop sys.usb.config rndis`\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/refs/tags/android-7.0.0_r1/cmds/svc/src/com/android/commands/svc/UsbCommand.java#49","title":"How to enable Auto USB Tethering in Android programmatically or using shell for Android 7 and higher","body":"<p>In <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/tags/android-7.0.0_r1/cmds/svc/src/com/android/commands/svc/UsbCommand.java#49\" rel=\"nofollow noreferrer\">Android 7.0</a> it was <code>adb shell svc usb setFunction rndis</code></p>\n<p>You can also try <code>adb shell setprop sys.usb.config rndis</code></p>\n"}],"owner":{"account_id":25272754,"reputation":11,"user_id":19101864,"display_name":"yamen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671432382,"creation_date":1671023351,"question_id":74798790,"body_markdown":"I&#39;ve tried different ways to do it:\r\n1) Tried Connectivity Manager class which is deprecated by Android because it doesn&#39;t have a setUsbTethering method.\r\n2) Tried this method:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\n```\r\npublic void switchOnTethering() {\r\n\r\n    Object obj = getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    for (Method m : obj.getClass().getDeclaredMethods()) {\r\n\r\n        if (m.getName().equals(&quot;tether&quot;)) {\r\n            try {\r\n                m.invoke(obj, &quot;usb0&quot;);\r\n            } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n3) Tried adb shell service call connectivity 30,31,32,33,34 i32 1 command\r\n4) Tried \r\n```\r\nadb shell\r\nsu\r\necho &quot;rndis&quot; &gt; /sys/class/android_usb/android0/functions\r\necho &quot;1&quot; &gt; /sys/class/android_usb/android0/enable\r\n```\r\n5) Tried \r\n```\r\nadb shell\r\nsu\r\nnetcfg rndis0 up\r\nnetcfg rndis0 dhcp\r\n```\r\n6) The only thing that works for me Adb shell svc usb setFunctions rndis \r\nbut it works only in Android 11 \r\n\r\nI need to make it for Android 7 and higher. It&#39;s okay if there is a way needs root because I have rooted device. ","title":"How to enable Auto USB Tethering in Android programmatically or using shell for Android 7 and higher","body":"<p>I've tried different ways to do it:</p>\n<ol>\n<li>Tried Connectivity Manager class which is deprecated by Android because it doesn't have a setUsbTethering method.</li>\n<li>Tried this method:</li>\n</ol>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<pre><code>public void switchOnTethering() {\n\n    Object obj = getSystemService(Context.CONNECTIVITY_SERVICE);\n    for (Method m : obj.getClass().getDeclaredMethods()) {\n\n        if (m.getName().equals(&quot;tether&quot;)) {\n            try {\n                m.invoke(obj, &quot;usb0&quot;);\n            } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>Tried adb shell service call connectivity 30,31,32,33,34 i32 1 command</li>\n<li>Tried</li>\n</ol>\n<pre><code>adb shell\nsu\necho &quot;rndis&quot; &gt; /sys/class/android_usb/android0/functions\necho &quot;1&quot; &gt; /sys/class/android_usb/android0/enable\n</code></pre>\n<ol start=\"5\">\n<li>Tried</li>\n</ol>\n<pre><code>adb shell\nsu\nnetcfg rndis0 up\nnetcfg rndis0 dhcp\n</code></pre>\n<ol start=\"6\">\n<li>The only thing that works for me Adb shell svc usb setFunctions rndis\nbut it works only in Android 11</li>\n</ol>\n<p>I need to make it for Android 7 and higher. It's okay if there is a way needs root because I have rooted device.</p>\n"},{"tags":["java","android","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":16840783,"reputation":143,"user_id":12176236,"display_name":"Thisara_Welmilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671431502,"creation_date":1671431502,"answer_id":74846927,"question_id":74846505,"body_markdown":"\r\nTry following steps to change gradle version.\r\n\r\n 1. Navigate to the root location of the project, then gradle/wrappper\r\n    folder, Find the gradle-wrapper.properties file in above folder.\r\n 2. Change the distributionUrl to the required version\r\n    https://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n","title":"Can&#39;t use Java 18.0.1.1 and Gradle 7.3.3 to import Gradle project android","body":"<p>Try following steps to change gradle version.</p>\n<ol>\n<li>Navigate to the root location of the project, then gradle/wrappper\nfolder, Find the gradle-wrapper.properties file in above folder.</li>\n<li>Change the distributionUrl to the required version\n<a href=\"https://services.gradle.org/distributions/gradle-7.5-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-7.5-bin.zip</a></li>\n</ol>\n"}],"owner":{"account_id":22724712,"reputation":107,"user_id":16888680,"display_name":"Aahil Alwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671431502,"creation_date":1671426939,"question_id":74846505,"body_markdown":"I have installed with version 0.68.2 due to the fact that I got error while installation.\r\n\r\nThe app installed successfully, but when I opened the project, I got an error:\r\n\r\n`Can&#39;t use Java 18.0.1.1 and Gradle 7.3.3 to import Gradle project android.`\r\n\r\nHow to resolve this issue?\r\n\r\nI have tried to search. It needs gradle version 7.5 to use java 18, but I don&#39;t know how to upgrade or downgrade gradle versions.","title":"Can&#39;t use Java 18.0.1.1 and Gradle 7.3.3 to import Gradle project android","body":"<p>I have installed with version 0.68.2 due to the fact that I got error while installation.</p>\n<p>The app installed successfully, but when I opened the project, I got an error:</p>\n<p><code>Can't use Java 18.0.1.1 and Gradle 7.3.3 to import Gradle project android.</code></p>\n<p>How to resolve this issue?</p>\n<p>I have tried to search. It needs gradle version 7.5 to use java 18, but I don't know how to upgrade or downgrade gradle versions.</p>\n"},{"tags":["java","selenium"],"owner":{"account_id":26796478,"reputation":11,"user_id":20389146,"display_name":"Mrym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671431405,"creation_date":1671431405,"question_id":74846920,"body_markdown":"I have written a simple code and also explicit and implicit wait for it (exact same code in mac &amp; windows) and this code runs fine in windows, but makes no suchElement exception in mac. I tried multiple locator, but mac noSuchElement exception for all of them.\r\n\r\nin windows:\r\n\r\n```\r\n@Test     \r\npublic void testEyeLiner(){         \r\nWebDriverWait wait = new WebDriverWait(driver, 17);         wait.until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;site_search_input&quot;))));         WebElement searchInputBox = driver.findElement(By.id(&quot;site_search_input&quot;));         searchInputBox.sendKeys(&quot;eyeliner&quot;);         searchInputBox.sendKeys(Keys.ENTER);          wait.until(ExpectedConditions.visibilityOf(driver.findElement(By.xpath(&quot;//p[@data-at=&#39;number_of_products&#39;]&quot;))));          String searchResults = (driver.findElement(By.xpath(&quot;//p[@data-at=&#39;number_of_products&#39;]&quot;))).getText();         Assert.assertNotEquals(searchResults, &quot;169 Results for “eyeliner”&quot;);     } }\r\n```\r\n\r\nin mac:\r\n\r\n```\r\n@Test\r\npublic void testSearch() {\r\nwebDriverWait = new WebDriverWait(driver, 17);\r\n    webDriverWait.until(ExpectedConditions.visibilityOf(driver.findElement(By.cssSelector(&quot;#site_search_input&quot;))));\r\n\r\n    WebElement searchInputBox = driver.findElement(By.cssSelector(&quot;#site_search_input&quot;));\r\n\r\n    searchInputBox.sendKeys(&quot;eyeliner&quot;);\r\n    searchInputBox.sendKeys(Keys.ENTER);\r\n\r\n    webDriverWait.until(ExpectedConditions.visibilityOf(driver.findElement(By.xpath(&quot;//p[@data-at=&#39;number_of_products&#39;]&quot;))));\r\n    String actualresult = driver.findElement(By.xpath(&quot;//p[@data-at=&#39;number_of_products&#39;]&quot;)).getText();\r\n\r\n    Assert.assertEquals(&quot;result isn&#39;t as expected&quot;, &quot;169 Results for “eyeliner”&quot;, actualresult);\r\n}\r\n```\r\n\r\nI tried multiple locators (css selector also), but all of them make noSuchElement exception in mac.","title":"noSuchElement exception for same element with same locators in mac, but it works fine in windows","body":"<p>I have written a simple code and also explicit and implicit wait for it (exact same code in mac &amp; windows) and this code runs fine in windows, but makes no suchElement exception in mac. I tried multiple locator, but mac noSuchElement exception for all of them.</p>\n<p>in windows:</p>\n<pre><code>@Test     \npublic void testEyeLiner(){         \nWebDriverWait wait = new WebDriverWait(driver, 17);         wait.until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;site_search_input&quot;))));         WebElement searchInputBox = driver.findElement(By.id(&quot;site_search_input&quot;));         searchInputBox.sendKeys(&quot;eyeliner&quot;);         searchInputBox.sendKeys(Keys.ENTER);          wait.until(ExpectedConditions.visibilityOf(driver.findElement(By.xpath(&quot;//p[@data-at='number_of_products']&quot;))));          String searchResults = (driver.findElement(By.xpath(&quot;//p[@data-at='number_of_products']&quot;))).getText();         Assert.assertNotEquals(searchResults, &quot;169 Results for “eyeliner”&quot;);     } }\n</code></pre>\n<p>in mac:</p>\n<pre><code>@Test\npublic void testSearch() {\nwebDriverWait = new WebDriverWait(driver, 17);\n    webDriverWait.until(ExpectedConditions.visibilityOf(driver.findElement(By.cssSelector(&quot;#site_search_input&quot;))));\n\n    WebElement searchInputBox = driver.findElement(By.cssSelector(&quot;#site_search_input&quot;));\n\n    searchInputBox.sendKeys(&quot;eyeliner&quot;);\n    searchInputBox.sendKeys(Keys.ENTER);\n\n    webDriverWait.until(ExpectedConditions.visibilityOf(driver.findElement(By.xpath(&quot;//p[@data-at='number_of_products']&quot;))));\n    String actualresult = driver.findElement(By.xpath(&quot;//p[@data-at='number_of_products']&quot;)).getText();\n\n    Assert.assertEquals(&quot;result isn't as expected&quot;, &quot;169 Results for “eyeliner”&quot;, actualresult);\n}\n</code></pre>\n<p>I tried multiple locators (css selector also), but all of them make noSuchElement exception in mac.</p>\n"},{"tags":["java","android","server-sent-events","launchdarkly"],"owner":{"account_id":23607601,"reputation":11,"user_id":17643093,"display_name":"deepak maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671431402,"creation_date":1671431402,"question_id":74846917,"body_markdown":"I was trying to connect SSE from android app but it have a problem.\r\nIt is not showing data 100%. Like in first attempt someone trigger notify command then it won&#39;t work but after that second attempt everybody get notify.\r\nHere is my code:\r\n //calling this code from activity on create\r\n\r\n    EventHandler eventHandler = new SimpleEventsListener();\r\n        String url = String.format(ApiInterface.ENDPOINT + &quot;notify/&quot;);\r\n        EventSource.Builder builder = new EventSource.Builder(eventHandler, URI.create(url)).connectTimeoutMs(29 * 1000);\r\n    \r\n        try (EventSource eventSource = builder.build()) {\r\n            for (; ; ) {\r\n                eventSource.start();\r\n                TimeUnit.SECONDS.sleep(30);\r\n            }\r\n        }\r\nhere is EventSource implementation.\r\n\r\n    public class SimpleEventsListener implements EventHandler {\r\n    \r\n        @Override\r\n        public void onOpen() throws Exception {\r\n            System.out.println(&quot;SimpleEventsListener onOpen &quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onClosed() throws Exception {\r\n            System.out.println(&quot;SimpleEventsListener onClosed&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onMessage(String event, MessageEvent messageEvent) throws Exception {\r\n            System.out.println(&quot;SimpleEventsListener Event received &quot; + messageEvent.getData());\r\n    \t\t// here implemented data recieved code which coming from messageEvent.getData()\r\n        }\r\n    \r\n        @Override\r\n        public void onComment(String comment) throws Exception {\r\n            System.out.println(&quot;SimpleEventsListener onComment&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onError(Throwable t) {\r\n            System.out.println(&quot;SimpleEventsListener onError: &quot; + t);\r\n        }\r\n    \r\n    }\r\n\r\nWhat is the of best way to receive data on the first attempt too? ","title":"what is best way to implement Eventsource in android app","body":"<p>I was trying to connect SSE from android app but it have a problem.\nIt is not showing data 100%. Like in first attempt someone trigger notify command then it won't work but after that second attempt everybody get notify.\nHere is my code:\n//calling this code from activity on create</p>\n<pre><code>EventHandler eventHandler = new SimpleEventsListener();\n    String url = String.format(ApiInterface.ENDPOINT + &quot;notify/&quot;);\n    EventSource.Builder builder = new EventSource.Builder(eventHandler, URI.create(url)).connectTimeoutMs(29 * 1000);\n\n    try (EventSource eventSource = builder.build()) {\n        for (; ; ) {\n            eventSource.start();\n            TimeUnit.SECONDS.sleep(30);\n        }\n    }\n</code></pre>\n<p>here is EventSource implementation.</p>\n<pre><code>public class SimpleEventsListener implements EventHandler {\n\n    @Override\n    public void onOpen() throws Exception {\n        System.out.println(&quot;SimpleEventsListener onOpen &quot;);\n    }\n\n    @Override\n    public void onClosed() throws Exception {\n        System.out.println(&quot;SimpleEventsListener onClosed&quot;);\n    }\n\n    @Override\n    public void onMessage(String event, MessageEvent messageEvent) throws Exception {\n        System.out.println(&quot;SimpleEventsListener Event received &quot; + messageEvent.getData());\n        // here implemented data recieved code which coming from messageEvent.getData()\n    }\n\n    @Override\n    public void onComment(String comment) throws Exception {\n        System.out.println(&quot;SimpleEventsListener onComment&quot;);\n    }\n\n    @Override\n    public void onError(Throwable t) {\n        System.out.println(&quot;SimpleEventsListener onError: &quot; + t);\n    }\n\n}\n</code></pre>\n<p>What is the of best way to receive data on the first attempt too?</p>\n"},{"tags":["java","methods","program-entry-point"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671431766,"post_id":74846832,"comment_id":132089940,"body_markdown":"You don&#39;t have a class named `nPack`. You also have nested your `Search` class inside your `SearchInfo` class. You probably don&#39;t want to do that. Remove one of those `class Xxxx {` lines and the matching `}` and just have a single class.","body":"You don&#39;t have a class named <code>nPack</code>. You also have nested your <code>Search</code> class inside your <code>SearchInfo</code> class. You probably don&#39;t want to do that. Remove one of those <code>class Xxxx {</code> lines and the matching <code>}</code> and just have a single class."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1671431913,"post_id":74846832,"comment_id":132089964,"body_markdown":"... and make sure that the name of the class matches the name of the file it is defined in ... or you will get more errors.","body":"... and make sure that the name of the class matches the name of the file it is defined in ... or you will get more errors."}],"answers":[{"tags":[],"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671431321,"creation_date":1671431321,"answer_id":74846913,"question_id":74846832,"body_markdown":"Move your main method from Search class to the SearchInfo class.","title":"i hava a problem with my java projects main method( please help me to solve the error","body":"<p>Move your main method from Search class to the SearchInfo class.</p>\n"}],"owner":{"account_id":27294573,"reputation":1,"user_id":20812486,"display_name":"Nurel Ibrakhimov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671431944,"answer_count":1,"score":-1,"last_activity_date":1671431321,"creation_date":1671430609,"question_id":74846832,"body_markdown":"here is the error:\r\n\r\nError: Main method not found in class nPack.Try, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n\r\nI already have the main method what is wrong?I&#39;ve been sitting for 2 hours and I can&#39;t figure out what&#39;s going on. I restarted IDEA but it still doesn&#39;t work(\r\n\r\n\r\nhere is my code: \r\n```\r\n\r\nclass SearchInfo {\r\n        class Search{\r\n            public static void main(String[] args) throws IOException {\r\n                System.out.println(&quot;please sign up: &quot;);\r\n                chooseUser();\r\n            }\r\n            public static String chooseUser()throws IOException {\r\n                Scanner sc= new Scanner(System.in);\r\n\r\n                System.out.println(&quot;Choose your specialization: &quot;);\r\n                System.out.println(&quot;1) Sale manager: &quot;);\r\n                System.out.println(&quot;2) Client: &quot;);\r\n                do{\r\n                    System.out.print(&quot;Your choose: &quot;);\r\n                    String choose = sc.nextLine();\r\n                    switch(choose){\r\n                        case &quot;sale manager&quot;:\r\n                        case &quot;manager&quot;:\r\n                        case &quot;worker&quot;:\r\n                        case &quot;Manager&quot;:\r\n                        case &quot;1&quot;:\r\n                            System.out.println(&quot;Welcome company employee: &quot;);\r\n                            System.out.println(&quot;Write your login and password: &quot;);\r\n                            /*workerInputLgPw();*/\r\n                            break;\r\n                        case &quot;Client&quot;:\r\n                        case &quot;client&quot;:\r\n                        case &quot;2&quot;:\r\n                            System.out.println(&quot;Welcome our client: &quot;);\r\n                            System.out.println(&quot;Write your login and password: &quot;);\r\n                            /*clientInputLgPw();*/\r\n                            break;\r\n                        default:\r\n                            System.out.println(&quot;Кто ты воин?&quot;);\r\n                            System.out.println(&quot;Logout [1] or retry[0]? &quot;);\r\n                            int ex = sc.nextInt();\r\n                            if (ex == 0){\r\n                                chooseUser();\r\n                            }\r\n                            else if(ex == 1){\r\n                                System.exit(0);\r\n                            }\r\n                    }\r\n                    break;\r\n                }while(true);\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"i hava a problem with my java projects main method( please help me to solve the error","body":"<p>here is the error:</p>\n<p>Error: Main method not found in class nPack.Try, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application</p>\n<p>I already have the main method what is wrong?I've been sitting for 2 hours and I can't figure out what's going on. I restarted IDEA but it still doesn't work(</p>\n<p>here is my code:</p>\n<pre><code>\nclass SearchInfo {\n        class Search{\n            public static void main(String[] args) throws IOException {\n                System.out.println(&quot;please sign up: &quot;);\n                chooseUser();\n            }\n            public static String chooseUser()throws IOException {\n                Scanner sc= new Scanner(System.in);\n\n                System.out.println(&quot;Choose your specialization: &quot;);\n                System.out.println(&quot;1) Sale manager: &quot;);\n                System.out.println(&quot;2) Client: &quot;);\n                do{\n                    System.out.print(&quot;Your choose: &quot;);\n                    String choose = sc.nextLine();\n                    switch(choose){\n                        case &quot;sale manager&quot;:\n                        case &quot;manager&quot;:\n                        case &quot;worker&quot;:\n                        case &quot;Manager&quot;:\n                        case &quot;1&quot;:\n                            System.out.println(&quot;Welcome company employee: &quot;);\n                            System.out.println(&quot;Write your login and password: &quot;);\n                            /*workerInputLgPw();*/\n                            break;\n                        case &quot;Client&quot;:\n                        case &quot;client&quot;:\n                        case &quot;2&quot;:\n                            System.out.println(&quot;Welcome our client: &quot;);\n                            System.out.println(&quot;Write your login and password: &quot;);\n                            /*clientInputLgPw();*/\n                            break;\n                        default:\n                            System.out.println(&quot;Кто ты воин?&quot;);\n                            System.out.println(&quot;Logout [1] or retry[0]? &quot;);\n                            int ex = sc.nextInt();\n                            if (ex == 0){\n                                chooseUser();\n                            }\n                            else if(ex == 1){\n                                System.exit(0);\n                            }\n                    }\n                    break;\n                }while(true);\n                return &quot;&quot;;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","playframework","sbt","intellij-plugin"],"comments":[{"owner":{"account_id":1133539,"reputation":1331,"user_id":1119072,"display_name":"Pawel Hawro"},"score":0,"creation_date":1672783775,"post_id":74846882,"comment_id":132351101,"body_markdown":"Play Framework support (in Scala plugin) requires IntelliJ IDEA Ultimate version. https://plugins.jetbrains.com/plugin/1347-scala","body":"Play Framework support (in Scala plugin) requires IntelliJ IDEA Ultimate version. <a href=\"https://plugins.jetbrains.com/plugin/1347-scala\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/1347-scala</a>"}],"owner":{"account_id":27294840,"reputation":1,"user_id":20812637,"display_name":"Akash Kolte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671431159,"creation_date":1671431029,"question_id":74846882,"body_markdown":"Play2 option is not available in Language and Frameworks section in Intellij Community Edition latest version.\r\nI need to enable Play2 compiler for one project. But it is saying **Play2 compiler disabled by default**. And there is no way I can enable it in Intellij community edition. The option is not showing up in settings. Can somebody help here?[Please click this for image screenshot](https://i.stack.imgur.com/58aq6.png) \r\nIn the above image, play2 option not available in Language and Frameworks section. [click this for another image taken from internet](https://i.stack.imgur.com/8Pc2K.png)\r\nI need this Play2 option to enable Play2 compiler for my project\r\n\r\nI am using JDK8. But the Scala compile server recommend to use JDK17 by default for the project. \r\n\r\nI have tried almost everything, but nothing has worked as of now.","title":"I am unable to see Play2 option in Language and Frameworks in Intellij Community Edition","body":"<p>Play2 option is not available in Language and Frameworks section in Intellij Community Edition latest version.\nI need to enable Play2 compiler for one project. But it is saying <strong>Play2 compiler disabled by default</strong>. And there is no way I can enable it in Intellij community edition. The option is not showing up in settings. Can somebody help here?<a href=\"https://i.stack.imgur.com/58aq6.png\" rel=\"nofollow noreferrer\">Please click this for image screenshot</a>\nIn the above image, play2 option not available in Language and Frameworks section. <a href=\"https://i.stack.imgur.com/8Pc2K.png\" rel=\"nofollow noreferrer\">click this for another image taken from internet</a>\nI need this Play2 option to enable Play2 compiler for my project</p>\n<p>I am using JDK8. But the Scala compile server recommend to use JDK17 by default for the project.</p>\n<p>I have tried almost everything, but nothing has worked as of now.</p>\n"},{"tags":["java","android","react-native","android-library","electrode-native"],"owner":{"account_id":24188833,"reputation":51,"user_id":18148282,"display_name":"Asid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671430692,"creation_date":1671170939,"question_id":74820761,"body_markdown":"Here I want to use \r\nreact-native component into existing Android native application swith callback and other controls.like an android library\r\n----------------------------------------------------------------\r\n   \r\n\r\nBut I can&#39;t **[integrate existing Android native project into react-native][1]** and keep the root android project structure same.\r\n\r\nIs there any possible way to full-fill this requirement?\r\n\r\n\r\nIs **[Electrode Native][2]** exact solution for this?\r\n\r\nWhat about **[React-Native Brownfield development][3]** for this scenario ? \r\n\r\n\r\n  [1]: https://reactnative.dev/docs/integration-with-existing-apps\r\n  [2]: https://native.electrode.io/\r\n  [3]: https://www.callstack.com/blog/brownfield-development-with-react-native","title":"How to make react native component as a android library","body":"<h2>Here I want to use\nreact-native component into existing Android native application swith callback and other controls.like an android library</h2>\n<p>But I can't <strong><a href=\"https://reactnative.dev/docs/integration-with-existing-apps\" rel=\"nofollow noreferrer\">integrate existing Android native project into react-native</a></strong> and keep the root android project structure same.</p>\n<p>Is there any possible way to full-fill this requirement?</p>\n<p>Is <strong><a href=\"https://native.electrode.io/\" rel=\"nofollow noreferrer\">Electrode Native</a></strong> exact solution for this?</p>\n<p>What about <strong><a href=\"https://www.callstack.com/blog/brownfield-development-with-react-native\" rel=\"nofollow noreferrer\">React-Native Brownfield development</a></strong> for this scenario ?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671430668,"post_id":74846789,"comment_id":132089776,"body_markdown":"Have you read the Javadoc for the `add(int, E)` method?","body":"Have you read the Javadoc for the <code>add(int, E)</code> method?"},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1671431194,"post_id":74846789,"comment_id":132089844,"body_markdown":"No, but I am aware Java Arrays are immutable @tgdavies. \nI feel it is possible to add objects with disordered indexes if it fills the Array length. Or maybe I am doing it the wrong way. Thanks","body":"No, but I am aware Java Arrays are immutable @tgdavies.  I feel it is possible to add objects with disordered indexes if it fills the Array length. Or maybe I am doing it the wrong way. Thanks"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671431283,"post_id":74846789,"comment_id":132089857,"body_markdown":"Read the Javadoc, and then you&#39;ll know what the method does, and why you see the error you do.","body":"Read the Javadoc, and then you&#39;ll know what the method does, and why you see the error you do."},{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1671431670,"post_id":74846789,"comment_id":132089923,"body_markdown":"Since the index you are putting object into is going out of size it is throwing IndexOutOfBoundsException. If you want to avoid it then make sure the index used is always less than the size of the array.","body":"Since the index you are putting object into is going out of size it is throwing IndexOutOfBoundsException. If you want to avoid it then make sure the index used is always less than the size of the array."},{"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"score":0,"creation_date":1671431791,"post_id":74846789,"comment_id":132089944,"body_markdown":"@JavaSamurai, but if the arraylist is already full and if we try to insert new element, the size of arraylist automatically grows by 10 if I am right... So that shouldn&#39;t be the case","body":"@JavaSamurai, but if the arraylist is already full and if we try to insert new element, the size of arraylist automatically grows by 10 if I am right... So that shouldn&#39;t be the case"},{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1671432038,"post_id":74846789,"comment_id":132089980,"body_markdown":"Yes but that is the case when you are using add without defining index. The point of inserting at specific index is to have an object already. add with index would always increase you list but prerequisite to have an object already at that index because what if you want to add object at position 12 in array of size 10?","body":"Yes but that is the case when you are using add without defining index. The point of inserting at specific index is to have an object already. add with index would always increase you list but prerequisite to have an object already at that index because what if you want to add object at position 12 in array of size 10?"},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1671432165,"post_id":74846789,"comment_id":132090004,"body_markdown":"@JavaSamurai but the size of the array is 0-2, if add objects less than that I will get an error","body":"@JavaSamurai but the size of the array is 0-2, if add objects less than that I will get an error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671432191,"post_id":74846789,"comment_id":132090016,"body_markdown":"When you don&#39;t understand the behaviour of a method, the *first* thing to do is to read the friendly manual. If you still don&#39;t understand, by all means ask a question here.","body":"When you don&#39;t understand the behaviour of a method, the <i>first</i> thing to do is to read the friendly manual. If you still don&#39;t understand, by all means ask a question here."},{"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"score":0,"creation_date":1671432372,"post_id":74846789,"comment_id":132090045,"body_markdown":"I have added objects from 0-2 but not in an ordered format. When added orderly, everything works well. But I want to understand why I get an error when the index of the objects are not arranged in an ordered format.","body":"I have added objects from 0-2 but not in an ordered format. When added orderly, everything works well. But I want to understand why I get an error when the index of the objects are not arranged in an ordered format."},{"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"score":0,"creation_date":1671432389,"post_id":74846789,"comment_id":132090047,"body_markdown":"If you go through the definition of add function you are concerned with [here](https://www.tabnine.com/code/java/methods/java.util.ArrayList/rangeCheckForAdd), you can see that size of arraylist for this function is growing by 1 each time you call the funtion.","body":"If you go through the definition of add function you are concerned with <a href=\"https://www.tabnine.com/code/java/methods/java.util.ArrayList/rangeCheckForAdd\" rel=\"nofollow noreferrer\">here</a>, you can see that size of arraylist for this function is growing by 1 each time you call the funtion."}],"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671430163,"creation_date":1671430163,"question_id":74846789,"body_markdown":"I am trying to understand why JVM throws an error when I try to add other Arrays lists into a 2D Array without indexing them by order.\r\nNormally I don&#39;t get an error when I add the Arrays with an orderly Index sequence. But I am curious to understand why I get an error when I don&#39;t. I am new to Java \r\n\r\n```java\r\n public class DoSomething {\r\n    public static void main(String[] args) {\r\n\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; frisbeTeams = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; zen = new ArrayList&lt;&gt;();\r\n        zen.add(&quot;iman&quot;);\r\n        zen.add(&quot;dave&quot;);\r\n        zen.add(&quot;jairo&quot;);\r\n        zen.add(&quot;victor&quot;);\r\n        zen.add(&quot;gene&quot;);\r\n        zen.add(&quot;chor&quot;);\r\n\r\n        ArrayList&lt;String&gt; szupa = new ArrayList&lt;&gt;();\r\n        szupa.add(&quot;sam&quot;);\r\n        szupa.add(&quot;mary&quot;);\r\n        szupa.add(&quot;eman&quot;);\r\n        szupa.add(&quot;louise&quot;);\r\n\r\n        ArrayList&lt;String&gt; avocado = new ArrayList&lt;&gt;();\r\n        avocado.add(&quot;ran&quot;);\r\n        avocado.add(&quot;lana&quot;);\r\n        avocado.add(&quot;winky&quot;);\r\n\r\n        \r\n    }\r\n\r\n\r\n\r\n}\r\n  ```\r\n\r\nWhen I add the Arrays with an ordered Index format like this, It works\r\n```java\r\nfrisbeTeams.add(0,avocado);\r\n        frisbeTeams.add(1,zen);\r\n        frisbeTeams.add(2,szupa);\r\n\r\n        System.out.println(frisbeTeams);\r\n```\r\nBut, When I randomly Index like this. I get an error\r\n```java\r\n frisbeTeams.add(0,avocado);\r\n        frisbeTeams.add(2,zen);\r\n        frisbeTeams.add(1,szupa);\r\n```\r\n*error*\r\n```\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 2, Size: 1\r\n\tat java.base/java.util.ArrayList.rangeCheckForAdd(ArrayList.java:756)\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:481)\r\n\tat org.learn.DoSomething.main(DoSomething.java:29)\r\n```\r\n","title":"Java 2D Arrays List throws an error when objects are not added with an orderly index format","body":"<p>I am trying to understand why JVM throws an error when I try to add other Arrays lists into a 2D Array without indexing them by order.\nNormally I don't get an error when I add the Arrays with an orderly Index sequence. But I am curious to understand why I get an error when I don't. I am new to Java</p>\n<pre class=\"lang-java prettyprint-override\"><code> public class DoSomething {\n    public static void main(String[] args) {\n\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; frisbeTeams = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; zen = new ArrayList&lt;&gt;();\n        zen.add(&quot;iman&quot;);\n        zen.add(&quot;dave&quot;);\n        zen.add(&quot;jairo&quot;);\n        zen.add(&quot;victor&quot;);\n        zen.add(&quot;gene&quot;);\n        zen.add(&quot;chor&quot;);\n\n        ArrayList&lt;String&gt; szupa = new ArrayList&lt;&gt;();\n        szupa.add(&quot;sam&quot;);\n        szupa.add(&quot;mary&quot;);\n        szupa.add(&quot;eman&quot;);\n        szupa.add(&quot;louise&quot;);\n\n        ArrayList&lt;String&gt; avocado = new ArrayList&lt;&gt;();\n        avocado.add(&quot;ran&quot;);\n        avocado.add(&quot;lana&quot;);\n        avocado.add(&quot;winky&quot;);\n\n        \n    }\n\n\n\n}\n</code></pre>\n<p>When I add the Arrays with an ordered Index format like this, It works</p>\n<pre class=\"lang-java prettyprint-override\"><code>frisbeTeams.add(0,avocado);\n        frisbeTeams.add(1,zen);\n        frisbeTeams.add(2,szupa);\n\n        System.out.println(frisbeTeams);\n</code></pre>\n<p>But, When I randomly Index like this. I get an error</p>\n<pre class=\"lang-java prettyprint-override\"><code> frisbeTeams.add(0,avocado);\n        frisbeTeams.add(2,zen);\n        frisbeTeams.add(1,szupa);\n</code></pre>\n<p><em>error</em></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 2, Size: 1\n    at java.base/java.util.ArrayList.rangeCheckForAdd(ArrayList.java:756)\n    at java.base/java.util.ArrayList.add(ArrayList.java:481)\n    at org.learn.DoSomething.main(DoSomething.java:29)\n</code></pre>\n"},{"tags":["java","arrays","image","pixel","blur"],"owner":{"account_id":27072944,"reputation":11,"user_id":20623335,"display_name":"Digger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671430114,"creation_date":1671094520,"question_id":74808987,"body_markdown":"Using a 3 by 3 matrix where each element is 1/9, I need to blur the image\r\n\r\nI need to calculate 3 total RGB color components(red, green, blue), for example , the final red component for the center pixel is calculated as the sum of the following terms:\r\n\r\n• The red component of the upper-left pixel multiplied by the upper-left number of the table\r\n\r\n• The red component of the upper central pixel multiplied by the upper central number of the table\r\n\r\nas a result, there should be 9 summands, + similarly for the other two components\r\n\r\nI wrote the following code, and at the output it turns out that only the blue color in the picture is slightly blurred\r\n\r\nImportant feature: Each coefficient of the convolution matrix must be multiplied by the color value of the corresponding neighbor of the current (changeable) pixel and the matrix must be a two-dimensional array\r\n\r\n```\r\npublic class Blur {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedImage image = ImageIO.read(new File(&quot;image.jpg&quot;));\r\n        WritableRaster raster = image.getRaster();\r\n\r\n        int width = raster.getWidth();\r\n        int height = raster.getHeight();\r\n\r\n        final int colors_count_in_rgb = 3;\r\n\r\n        int[] pixel = new int[colors_count_in_rgb];\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                raster.getPixel(x, y, pixel);\r\n\r\n                float matrixPixel = 1 / 9F;\r\n\r\n                float[] matrix = {\r\n                        matrixPixel, matrixPixel, matrixPixel,\r\n                        matrixPixel, matrixPixel, matrixPixel,\r\n                        matrixPixel, matrixPixel, matrixPixel,\r\n                };\r\n\r\n                int finalRedComponent = 0;\r\n                int finalGreenComponent = 0;\r\n                int finalBlueComponent = 0;\r\n\r\n                for (float e : matrix) {\r\n                    finalRedComponent += e * pixel[0];\r\n                    finalGreenComponent += e * pixel[1];\r\n                    finalBlueComponent += e * pixel[2];\r\n                }\r\n\r\n                pixel[0] = finalRedComponent;\r\n                pixel[1] = finalGreenComponent;\r\n                pixel[2] = finalBlueComponent;\r\n\r\n                raster.setPixel(x, y, pixel);\r\n            }\r\n        }\r\n\r\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;out.png&quot;));\r\n    }\r\n}\r\n```","title":"how to multiply matrix elements correctly?","body":"<p>Using a 3 by 3 matrix where each element is 1/9, I need to blur the image</p>\n<p>I need to calculate 3 total RGB color components(red, green, blue), for example , the final red component for the center pixel is calculated as the sum of the following terms:</p>\n<p>• The red component of the upper-left pixel multiplied by the upper-left number of the table</p>\n<p>• The red component of the upper central pixel multiplied by the upper central number of the table</p>\n<p>as a result, there should be 9 summands, + similarly for the other two components</p>\n<p>I wrote the following code, and at the output it turns out that only the blue color in the picture is slightly blurred</p>\n<p>Important feature: Each coefficient of the convolution matrix must be multiplied by the color value of the corresponding neighbor of the current (changeable) pixel and the matrix must be a two-dimensional array</p>\n<pre><code>public class Blur {\n    public static void main(String[] args) throws IOException {\n        BufferedImage image = ImageIO.read(new File(&quot;image.jpg&quot;));\n        WritableRaster raster = image.getRaster();\n\n        int width = raster.getWidth();\n        int height = raster.getHeight();\n\n        final int colors_count_in_rgb = 3;\n\n        int[] pixel = new int[colors_count_in_rgb];\n\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                raster.getPixel(x, y, pixel);\n\n                float matrixPixel = 1 / 9F;\n\n                float[] matrix = {\n                        matrixPixel, matrixPixel, matrixPixel,\n                        matrixPixel, matrixPixel, matrixPixel,\n                        matrixPixel, matrixPixel, matrixPixel,\n                };\n\n                int finalRedComponent = 0;\n                int finalGreenComponent = 0;\n                int finalBlueComponent = 0;\n\n                for (float e : matrix) {\n                    finalRedComponent += e * pixel[0];\n                    finalGreenComponent += e * pixel[1];\n                    finalBlueComponent += e * pixel[2];\n                }\n\n                pixel[0] = finalRedComponent;\n                pixel[1] = finalGreenComponent;\n                pixel[2] = finalBlueComponent;\n\n                raster.setPixel(x, y, pixel);\n            }\n        }\n\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;out.png&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-11","android-api-30"],"answers":[{"tags":[],"owner":{"account_id":4203303,"reputation":192,"user_id":6112631,"display_name":"yeshu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671429835,"creation_date":1671429835,"answer_id":74846754,"question_id":73301124,"body_markdown":"As the documentation mentions HardwarePropertiesManager is available for applications which are device owners - https://developer.android.com/reference/android/os/HardwarePropertiesManager\r\n\r\nYou can try reading the data from file \r\n\r\n&gt; sys/class/hwmon/hwmonX/temp1_input\r\n\r\nThere are some changes based on vendors. You can refer to https://stackoverflow.com/a/59306562 for comprehensive list. ","title":"How can I use hardwarepropertiesmanager(android) in android api 30, android 11","body":"<p>As the documentation mentions HardwarePropertiesManager is available for applications which are device owners - <a href=\"https://developer.android.com/reference/android/os/HardwarePropertiesManager\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/HardwarePropertiesManager</a></p>\n<p>You can try reading the data from file</p>\n<blockquote>\n<p>sys/class/hwmon/hwmonX/temp1_input</p>\n</blockquote>\n<p>There are some changes based on vendors. You can refer to <a href=\"https://stackoverflow.com/a/59306562\">https://stackoverflow.com/a/59306562</a> for comprehensive list.</p>\n"}],"owner":{"account_id":24285700,"reputation":11,"user_id":18231506,"display_name":"BePositve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671429835,"creation_date":1660109967,"question_id":73301124,"body_markdown":"Now I&#39;m trying to run \r\n\r\n    HardwarePropertiesManager hardwarePropertiesManager = getApplicationContext().getSystemService(HardwarePropertiesManager.class);\r\n            hardwarePropertiesManager.getDeviceTemperatures(HardwarePropertiesManager.DEVICE_TEMPERATURE_CPU, HardwarePropertiesManager.TEMPERATURE_CURRENT);\r\n\r\nto check cpu usage and temperature..\r\n\r\n\r\nbut, the exception occurred, which is \r\n\r\n    java.lang.RuntimeException: Unable to start activity \r\n    ComponentInfo{com.example.___/com.example.___.MainActivity}: \r\n    java.lang.SecurityException: The caller is neither a device \r\n    owner, nor holding the DEVICE_POWER permission, nor the current \r\n    VrListener.\r\n\r\nis there any method to check cpu temperature and cpu usage(memory, core)??","title":"How can I use hardwarepropertiesmanager(android) in android api 30, android 11","body":"<p>Now I'm trying to run</p>\n<pre><code>HardwarePropertiesManager hardwarePropertiesManager = getApplicationContext().getSystemService(HardwarePropertiesManager.class);\n        hardwarePropertiesManager.getDeviceTemperatures(HardwarePropertiesManager.DEVICE_TEMPERATURE_CPU, HardwarePropertiesManager.TEMPERATURE_CURRENT);\n</code></pre>\n<p>to check cpu usage and temperature..</p>\n<p>but, the exception occurred, which is</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity \nComponentInfo{com.example.___/com.example.___.MainActivity}: \njava.lang.SecurityException: The caller is neither a device \nowner, nor holding the DEVICE_POWER permission, nor the current \nVrListener.\n</code></pre>\n<p>is there any method to check cpu temperature and cpu usage(memory, core)??</p>\n"},{"tags":["java","logging","groovy","configuration","logback"],"answers":[{"tags":[],"owner":{"account_id":2163662,"reputation":577,"user_id":1917237,"display_name":"n3k0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671429032,"creation_date":1417688411,"answer_id":27291472,"question_id":27183782,"body_markdown":"Sincerely, i never know you can make appenders by class, BUT You can just add an xml config file to your  project, and the logback libraries tries to locate the xml in the classpath (usually, in maven you put the xml in the resources file).\r\n\r\nThe file can be like this:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n          &lt;configuration&gt;\r\n            \r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n              &lt;file&gt;/usr/java/logs/floresTrace.log&lt;/file&gt;\r\n                \r\n               &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n                  &lt;fileNamePattern&gt;/path/to/file/myfile.%i.log.zip&lt;/fileNamePattern&gt;\r\n                  &lt;minIndex&gt;1&lt;/minIndex&gt;\r\n                  &lt;maxIndex&gt;3&lt;/maxIndex&gt;\r\n                &lt;/rollingPolicy&gt;\r\n    \r\n                &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n                  &lt;maxFileSize&gt;1MB&lt;/maxFileSize&gt;\r\n                &lt;/triggeringPolicy&gt;\r\n     \r\n                &lt;encoder&gt;\r\n                  &lt;pattern&gt;%d{YYYY-MM-dd HH:mm:ss} %level [%thread] %logger{10} [%file:%line]   %msg%n&lt;/pattern&gt;\r\n               &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \r\n          &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n          &lt;/encoder&gt;\r\n     \r\n        &lt;/appender&gt;\r\n        &lt;!-- you can, however add loggers by package here--&gt;\r\n    \t&lt;logger name=&quot;your.package.one&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \t&lt;logger name=&quot;your.package.two&quot; level=&quot;INFO&quot;&gt;\r\n\t        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \t&lt;logger name=&quot;your.package.two&quot; level=&quot;INFO&quot;&gt;\r\n\t        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \t\r\n        &lt;root level=&quot;debug&quot;&gt;\r\n           &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n           &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n        &lt;/configuration&gt;\r\n\r\n\r\nSo, as the comment says, you can add loggers by package. hope this helps.","title":"Logback Groovy Configuration slow","body":"<p>Sincerely, i never know you can make appenders by class, BUT You can just add an xml config file to your  project, and the logback libraries tries to locate the xml in the classpath (usually, in maven you put the xml in the resources file).</p>\n<p>The file can be like this:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n      &lt;configuration&gt;\n        \n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n          &lt;file&gt;/usr/java/logs/floresTrace.log&lt;/file&gt;\n            \n           &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\n              &lt;fileNamePattern&gt;/path/to/file/myfile.%i.log.zip&lt;/fileNamePattern&gt;\n              &lt;minIndex&gt;1&lt;/minIndex&gt;\n              &lt;maxIndex&gt;3&lt;/maxIndex&gt;\n            &lt;/rollingPolicy&gt;\n\n            &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n              &lt;maxFileSize&gt;1MB&lt;/maxFileSize&gt;\n            &lt;/triggeringPolicy&gt;\n \n            &lt;encoder&gt;\n              &lt;pattern&gt;%d{YYYY-MM-dd HH:mm:ss} %level [%thread] %logger{10} [%file:%line]   %msg%n&lt;/pattern&gt;\n           &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n\n      &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n      &lt;/encoder&gt;\n \n    &lt;/appender&gt;\n    &lt;!-- you can, however add loggers by package here--&gt;\n    &lt;logger name=&quot;your.package.one&quot; level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;your.package.two&quot; level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;your.package.two&quot; level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/logger&gt;\n    \n    &lt;root level=&quot;debug&quot;&gt;\n       &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n       &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p>So, as the comment says, you can add loggers by package. hope this helps.</p>\n"}],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671429032,"creation_date":1417159430,"question_id":27183782,"body_markdown":"I&#39;ve been using Logback Groovy configuration, and now I found out that it&#39;s the cause of very slow startup. A `HelloWorld` &quot;application&quot; needs about one second. I didn&#39;t notice the slowdown earlier in the context of web server, but now when I often need to run some rather simple tools, it&#39;s unacceptable.\r\n\r\n*Q1: I still can&#39;t believe it, as my configuration file is small and one second is huge, so can someone confirm it?*\r\n\r\nI can imagine to easily rewrite everything but one part back to XML. The problematic part is my own filter and its two methods like\r\n\r\n    public class MyLogbackFilter extends Filter&lt;ILoggingEvent&gt; {\r\n    \tpublic MyLogbackFilter accept(String prefix, Level level) {...}\r\n    \tpublic MyLogbackFilter accept(String prefix, Level level) {...}\r\n       ...\r\n    }\r\n\r\nconfigured via something like\r\n\r\n    filter = new MyLogbackFilter()\r\n        .accept(&quot;com.example.pck1.Class1&quot;, TRACE)\r\n        .accept(&quot;com.example.pck1.Class2&quot;, TRACE)\r\n        .deny(&quot;com.example.pck1&quot;, TRACE)\r\n        .accept(&quot;&quot;, WARNING)\r\n        .deny(&quot;&quot;, INFO);\r\n\r\nThe rules get evaluated top-down, e.g., everything from `com.example.pck1.Class1` at level `TRACE` or higher gets accepted, no matter what&#39;s specified later.\r\n\r\n*Q2: Can I somehow make logback read a configuration file like*\r\n\r\n    A com.example.pck1.Class1 TRACE\r\n    A com.example.pck1.Class2 TRACE\r\n    D com.example.pck1 TRACE\r\n    A * WARNING\r\n    D * INFO\r\n\r\nand feed it to my class? The interpretation is then peanuts.\r\n","title":"Logback Groovy Configuration slow","body":"<p>I've been using Logback Groovy configuration, and now I found out that it's the cause of very slow startup. A <code>HelloWorld</code> \"application\" needs about one second. I didn't notice the slowdown earlier in the context of web server, but now when I often need to run some rather simple tools, it's unacceptable.</p>\n\n<p><em>Q1: I still can't believe it, as my configuration file is small and one second is huge, so can someone confirm it?</em></p>\n\n<p>I can imagine to easily rewrite everything but one part back to XML. The problematic part is my own filter and its two methods like</p>\n\n<pre><code>public class MyLogbackFilter extends Filter&lt;ILoggingEvent&gt; {\n    public MyLogbackFilter accept(String prefix, Level level) {...}\n    public MyLogbackFilter accept(String prefix, Level level) {...}\n   ...\n}\n</code></pre>\n\n<p>configured via something like</p>\n\n<pre><code>filter = new MyLogbackFilter()\n    .accept(\"com.example.pck1.Class1\", TRACE)\n    .accept(\"com.example.pck1.Class2\", TRACE)\n    .deny(\"com.example.pck1\", TRACE)\n    .accept(\"\", WARNING)\n    .deny(\"\", INFO);\n</code></pre>\n\n<p>The rules get evaluated top-down, e.g., everything from <code>com.example.pck1.Class1</code> at level <code>TRACE</code> or higher gets accepted, no matter what's specified later.</p>\n\n<p><em>Q2: Can I somehow make logback read a configuration file like</em></p>\n\n<pre><code>A com.example.pck1.Class1 TRACE\nA com.example.pck1.Class2 TRACE\nD com.example.pck1 TRACE\nA * WARNING\nD * INFO\n</code></pre>\n\n<p>and feed it to my class? The interpretation is then peanuts.</p>\n"},{"tags":["java","android-studio","admob"],"answers":[{"tags":[],"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1597390382,"creation_date":1597390382,"answer_id":63408432,"question_id":63400075,"body_markdown":"As per the [Documentation](https://developers.google.com/android/reference/com/google/android/gms/ads/AdRequest#ERROR_CODE_NO_FILL) you are getting the following error code:\r\n\r\n&gt; **public static final int ERROR_CODE_NO_FILL**\r\n&gt; \r\n&gt; The ad request was successful, but no ad was returned due to lack of\r\n&gt; ad inventory.\r\n&gt; \r\n&gt; Constant Value: 3\r\n\r\n&gt; If you are getting this error, then your code is correct. The issue is\r\n&gt; that AdMob does not always have an ad to return for every request.\r\n&gt; This may happen particularly if you have just registered your AdMob\r\n&gt; publisher ID, as it takes some time and multiple requests before the\r\n&gt; new ID starts returning ads.\r\n&gt; \r\n&gt; I also faced the same issue. My app was showing test ads, but not real one.\r\n&gt; In my case ads started showing up when I uploaded my app to Google Play.  \r\n&gt;\r\n&gt; To confirm your app shows ads correctly, you may first add your app to test tracks first.\r\n","title":"Ad failed to load: 3","body":"<p>As per the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/AdRequest#ERROR_CODE_NO_FILL\" rel=\"noreferrer\">Documentation</a> you are getting the following error code:</p>\n<blockquote>\n<p><strong>public static final int ERROR_CODE_NO_FILL</strong></p>\n<p>The ad request was successful, but no ad was returned due to lack of\nad inventory.</p>\n<p>Constant Value: 3</p>\n</blockquote>\n<blockquote>\n<p>If you are getting this error, then your code is correct. The issue is\nthat AdMob does not always have an ad to return for every request.\nThis may happen particularly if you have just registered your AdMob\npublisher ID, as it takes some time and multiple requests before the\nnew ID starts returning ads.</p>\n<p>I also faced the same issue. My app was showing test ads, but not real one.\nIn my case ads started showing up when I uploaded my app to Google Play.</p>\n<p>To confirm your app shows ads correctly, you may first add your app to test tracks first.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17716275,"reputation":119,"user_id":12862527,"display_name":"Akashkumar Golakiya"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1597421494,"creation_date":1597421494,"answer_id":63416382,"question_id":63400075,"body_markdown":"Error code 3 means your implementation is correct but your app is not approved by google admob,so you have to submit your app for approval, once your app is approved than  your app will start receiving ad after 24 hrs and you have to setup your payment method in google admob.\r\n\r\nyou can submit your app through this link for approval: \r\nhttps://support.google.com/admob/contact/android_APK_submission?hl=en","title":"Ad failed to load: 3","body":"<p>Error code 3 means your implementation is correct but your app is not approved by google admob,so you have to submit your app for approval, once your app is approved than  your app will start receiving ad after 24 hrs and you have to setup your payment method in google admob.</p>\n<p>you can submit your app through this link for approval:\n<a href=\"https://support.google.com/admob/contact/android_APK_submission?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/admob/contact/android_APK_submission?hl=en</a></p>\n"},{"tags":[],"owner":{"account_id":962174,"reputation":2895,"user_id":986287,"display_name":"agirardello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641748321,"creation_date":1641748321,"answer_id":70643679,"question_id":63400075,"body_markdown":"If you are using app-ads.txt for your app, then you also have to include this line in your app-ads.txt file in order to load ads using the demo ad units:\r\n\r\n    google.com, pub-3940256099942544, DIRECT, f08c47fec0942fa0\r\n\r\nHere the official Google AdMob reference: https://developers.google.com/admob/android/test-ads","title":"Ad failed to load: 3","body":"<p>If you are using app-ads.txt for your app, then you also have to include this line in your app-ads.txt file in order to load ads using the demo ad units:</p>\n<pre><code>google.com, pub-3940256099942544, DIRECT, f08c47fec0942fa0\n</code></pre>\n<p>Here the official Google AdMob reference: <a href=\"https://developers.google.com/admob/android/test-ads\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/android/test-ads</a></p>\n"},{"tags":[],"owner":{"account_id":27211997,"reputation":1,"user_id":20742661,"display_name":"Meta Developers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671428747,"creation_date":1671428747,"answer_id":74846658,"question_id":63400075,"body_markdown":"It shows when your device is not connected with Test Mode in your AdMob account. Connect your device with test mode and try this error will resolve. \r\n\r\nhttps://apps.admob.com/v2/settings/test-devices/list?_ga=2.248138183.156733708.1671428691-2046682952.1670650994&amp;_gac=1.127285631.1670650998.Cj0KCQiA1sucBhDgARIsAFoytUvUl2cXmiqt4eGOJlPz7EOFYJxnbpcLX3uIEhk71c3oHZ3BxMsgBE0aAlkcEALw_wcB&amp;_gl=1*1ubza84*_ga*MjA0NjY4Mjk1Mi4xNjcwNjUwOTk0*_ga_6R1K8XRD9P*MTY3MTQyODY5MS40LjAuMTY3MTQyODY5MS4wLjAuMA..","title":"Ad failed to load: 3","body":"<p>It shows when your device is not connected with Test Mode in your AdMob account. Connect your device with test mode and try this error will resolve.</p>\n<p><a href=\"https://apps.admob.com/v2/settings/test-devices/list?_ga=2.248138183.156733708.1671428691-2046682952.1670650994&amp;_gac=1.127285631.1670650998.Cj0KCQiA1sucBhDgARIsAFoytUvUl2cXmiqt4eGOJlPz7EOFYJxnbpcLX3uIEhk71c3oHZ3BxMsgBE0aAlkcEALw_wcB&amp;_gl=1*1ubza84*_ga*MjA0NjY4Mjk1Mi4xNjcwNjUwOTk0*_ga_6R1K8XRD9P*MTY3MTQyODY5MS40LjAuMTY3MTQyODY5MS4wLjAuMA.\" rel=\"nofollow noreferrer\">https://apps.admob.com/v2/settings/test-devices/list?_ga=2.248138183.156733708.1671428691-2046682952.1670650994&amp;_gac=1.127285631.1670650998.Cj0KCQiA1sucBhDgARIsAFoytUvUl2cXmiqt4eGOJlPz7EOFYJxnbpcLX3uIEhk71c3oHZ3BxMsgBE0aAlkcEALw_wcB&amp;_gl=1*1ubza84*_ga*MjA0NjY4Mjk1Mi4xNjcwNjUwOTk0*_ga_6R1K8XRD9P*MTY3MTQyODY5MS40LjAuMTY3MTQyODY5MS4wLjAuMA.</a>.</p>\n"}],"owner":{"account_id":19261473,"reputation":81,"user_id":14078750,"display_name":"Yuri Leite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7588,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1671428747,"creation_date":1597338651,"question_id":63400075,"body_markdown":"Good afternoon, I am try to implement ads in my application but my real AD does not appear, only test AD, in the admob tab it appears that more than 300 requests were made, and there is no ads in the application. Is it necessary for me to publish my app in the play store so that the ads start to appear? And my account has been verified for a long time. In my Logcat appear this error Ad failed to load: 3, what i needed to do , to the ads start to showing?\r\n[page admob][1]\r\n\r\n\r\n[Logcat][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKTSF.png\r\n  [2]: https://i.stack.imgur.com/ZFSVQ.png","title":"Ad failed to load: 3","body":"<p>Good afternoon, I am try to implement ads in my application but my real AD does not appear, only test AD, in the admob tab it appears that more than 300 requests were made, and there is no ads in the application. Is it necessary for me to publish my app in the play store so that the ads start to appear? And my account has been verified for a long time. In my Logcat appear this error Ad failed to load: 3, what i needed to do , to the ads start to showing?\n<a href=\"https://i.stack.imgur.com/BKTSF.png\" rel=\"noreferrer\">page admob</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZFSVQ.png\" rel=\"noreferrer\">Logcat</a></p>\n"},{"tags":["java","deque"],"comments":[{"owner":{"account_id":12530465,"reputation":340,"user_id":9118924,"display_name":"Omkar"},"score":0,"creation_date":1671395266,"post_id":74843915,"comment_id":132085157,"body_markdown":"Did you try taking all the input at once instead of doing it per step in your for loop?","body":"Did you try taking all the input at once instead of doing it per step in your for loop?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671447248,"post_id":74843915,"comment_id":132093806,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671395990,"creation_date":1671395990,"answer_id":74844244,"question_id":74843915,"body_markdown":"&gt; ```\r\n&gt; deque.contains(num)\r\n&gt; ```\r\n\r\nThis will have to scan the entire deque. If there are a few million items in there, that&#39;s going to take a while. The technical term for this is that &quot;it has `O(n)` performance&quot;, which means: If you make a graph with on the x-axis: How large the input is (`n`) - here, how many numbers you read), and on the y-axis you would graph how long your program takes, that, eventually (with a large enough n), it looks like the curve `y=x`.\r\n\r\nYou&#39;re looking instead for an algorithm that is `O(log n)` (i.e. where the performance eventually looks like `y= log x`, which is a line that turns essentially horizontal, i.e. doesn&#39;t become any slower as input grows), or even `O(1), meaning, it looks like `y=1`, i.e. a flat line - it takes X seconds, no matter if the input is 10 elements or 100 million elements.\r\n\r\nSpecifically, for each number, you do something, so that part is `O(n)`, and then &#39;the thing you do&#39; is itself `O(n)`, so that&#39;s `O(n)*O(n)` which is `O(n^2)` - which is too slow.\r\n\r\nYou can&#39;t avoids having to read all input, so that `O(n)` must stay. Which means the `O(n)` introduced by `deque.contains(num)` has to go.\r\n\r\nA trivial way to do is, is to use HashSets; assuming good hash distribution their `add`, `remove`, and `contains` operations are all `O(1)`.\r\n\r\nKnowledge of how long things take (in terms of `O(n)` - this is called &#39;big O notation&#39;) is __required knowledge__ when doing such puzzles. There are plenty of tutorials out there, but it&#39;s complicated, and requires real study. Failure to know this stuff means you&#39;re just going to run headfirst into &#39;terminated due to timeout&#39; errors every time.\r\n","title":"Getting &quot;Terminated due to timeout&quot; in hackerRank for below prog","body":"<blockquote>\n<pre><code>deque.contains(num)\n</code></pre>\n</blockquote>\n<p>This will have to scan the entire deque. If there are a few million items in there, that's going to take a while. The technical term for this is that &quot;it has <code>O(n)</code> performance&quot;, which means: If you make a graph with on the x-axis: How large the input is (<code>n</code>) - here, how many numbers you read), and on the y-axis you would graph how long your program takes, that, eventually (with a large enough n), it looks like the curve <code>y=x</code>.</p>\n<p>You're looking instead for an algorithm that is <code>O(log n)</code> (i.e. where the performance eventually looks like <code>y= log x</code>, which is a line that turns essentially horizontal, i.e. doesn't become any slower as input grows), or even <code>O(1), meaning, it looks like </code>y=1`, i.e. a flat line - it takes X seconds, no matter if the input is 10 elements or 100 million elements.</p>\n<p>Specifically, for each number, you do something, so that part is <code>O(n)</code>, and then 'the thing you do' is itself <code>O(n)</code>, so that's <code>O(n)*O(n)</code> which is <code>O(n^2)</code> - which is too slow.</p>\n<p>You can't avoids having to read all input, so that <code>O(n)</code> must stay. Which means the <code>O(n)</code> introduced by <code>deque.contains(num)</code> has to go.</p>\n<p>A trivial way to do is, is to use HashSets; assuming good hash distribution their <code>add</code>, <code>remove</code>, and <code>contains</code> operations are all <code>O(1)</code>.</p>\n<p>Knowledge of how long things take (in terms of <code>O(n)</code> - this is called 'big O notation') is <strong>required knowledge</strong> when doing such puzzles. There are plenty of tutorials out there, but it's complicated, and requires real study. Failure to know this stuff means you're just going to run headfirst into 'terminated due to timeout' errors every time.</p>\n"}],"owner":{"account_id":27291897,"reputation":1,"user_id":20810141,"display_name":"Tirthasarkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671428548,"creation_date":1671392489,"question_id":74843915,"body_markdown":"```\r\n    import java.util.*;\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            Deque deque = new ArrayDeque&lt;&gt;();\r\n            int n = in.nextInt();\r\n            int m = in.nextInt();\r\n            int maxUnique =0;\r\n\r\n            for (int i = 0; i &lt; n; i++) {\r\n                int num = in.nextInt();\r\n                if(i ==0)\r\n                {\r\n                    deque.add(num);\r\n                    maxUnique++;\r\n                }\r\n               else{\r\n                   if(deque.size() == m)\r\n                   {\r\n                       deque.removeFirst();\r\n                   }\r\n                   if (!deque.contains(num) &amp;&amp; maxUnique&lt;m)\r\n                   {\r\n                       maxUnique++;\r\n                   }\r\n                   deque.addLast(num);\r\n               }\r\n            }\r\n            System.out.println(&quot;&quot;+maxUnique);\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nI am expecting some alternate option to optimize it further or need to know what am i doing wrong here ..in eclipse it gets passed","title":"Getting &quot;Terminated due to timeout&quot; in hackerRank for below prog","body":"<pre><code>    import java.util.*;\n    public class test {\n        public static void main(String[] args) {\n            Scanner in = new Scanner(System.in);\n            Deque deque = new ArrayDeque&lt;&gt;();\n            int n = in.nextInt();\n            int m = in.nextInt();\n            int maxUnique =0;\n\n            for (int i = 0; i &lt; n; i++) {\n                int num = in.nextInt();\n                if(i ==0)\n                {\n                    deque.add(num);\n                    maxUnique++;\n                }\n               else{\n                   if(deque.size() == m)\n                   {\n                       deque.removeFirst();\n                   }\n                   if (!deque.contains(num) &amp;&amp; maxUnique&lt;m)\n                   {\n                       maxUnique++;\n                   }\n                   deque.addLast(num);\n               }\n            }\n            System.out.println(&quot;&quot;+maxUnique);\n        }\n    }\n\n</code></pre>\n<p>I am expecting some alternate option to optimize it further or need to know what am i doing wrong here ..in eclipse it gets passed</p>\n"},{"tags":["java","for-loop","return"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1671352960,"post_id":74840078,"comment_id":132078062,"body_markdown":"We can&#39;t do nothing without your code. [edit] and add your code","body":"We can&#39;t do nothing without your code. <a href=\"https://stackoverflow.com/posts/74840078/edit\">edit</a> and add your code"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1671352995,"post_id":74840078,"comment_id":132078068,"body_markdown":"What&#39;s the error? What&#39;s the code? [Please do not upload images of code/data/errors when asking a question](//meta.stackoverflow.com/q/285551), take the [tour], read [ask], and then [edit] your question to provide a [mre].","body":"What&#39;s the error? What&#39;s the code? <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question</a>, take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and then <a href=\"https://stackoverflow.com/posts/74840078/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1671353055,"post_id":74840078,"comment_id":132078077,"body_markdown":"Nope, code as text, not as image.","body":"Nope, code as text, not as image."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671353197,"creation_date":1671353197,"answer_id":74840095,"question_id":74840078,"body_markdown":"You have `missing return statement` because **every** branch of the code should return something, here in case the array is empty, then you don&#39;t do anything of the loop you&#39;ll have no return\r\n\r\nThen you have put the `else` in the loop, so if the first number **is not** the one loop you for you return `-1` meaning not found. \r\nYou need to wait the whole loop before being able to tell that you didn&#39;t find it\r\n\r\nAnd that behaviour fix, solves the syntax issue too\r\n\r\n```java\r\npublic int search(int[] nums, int target){\r\n    for(int i=0; i&lt;nums.length; i++){\r\n        if(nums[i] == target) \r\n            return i;\r\n    }\r\n    return -1;\r\n}\r\n```","title":"error while returning a value from a for-if loop in java","body":"<p>You have <code>missing return statement</code> because <strong>every</strong> branch of the code should return something, here in case the array is empty, then you don't do anything of the loop you'll have no return</p>\n<p>Then you have put the <code>else</code> in the loop, so if the first number <strong>is not</strong> the one loop you for you return <code>-1</code> meaning not found.\nYou need to wait the whole loop before being able to tell that you didn't find it</p>\n<p>And that behaviour fix, solves the syntax issue too</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int search(int[] nums, int target){\n    for(int i=0; i&lt;nums.length; i++){\n        if(nums[i] == target) \n            return i;\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3801293,"reputation":2150,"user_id":3154883,"display_name":"Brother"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671353647,"creation_date":1671353295,"answer_id":74840102,"question_id":74840078,"body_markdown":"The problem with your code (using you image here):\r\n[![your code][1]][1]\r\n\r\nEven though you have the return inside the IF statement and the ELSE statement, they will only be reached only IF the code gets inside the FOR statement.\r\n\r\nWhat would happen if you call your method with an empty `nums` array? if would skip the for statement and there is NOTHING to return for your method in this case, do you get it?\r\n\r\nThat&#39;s why you need a return outside the for/loop as well, meaning that: `What your method wants to return if reaches this point?`.\r\n\r\nIf it is a search, for example, you could return -1 outside the FOR/Loop and remove the ELSE statement from inside.\r\n\r\nDon&#39;t wanna change to much your code, so you clearly see the difference, since you are clearly starting:\r\n```\r\npublic int search(int[] nums, int target) {\r\n    int i;\r\n    int j;\r\n    int n = nums.length;\r\n    for (i=0;i&lt;n;i++){\r\n        if (nums[i]==target) {\r\n            return (i);\r\n        }\r\n    }\r\n    \r\n    return (-1);\r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/pSL8L.png","title":"error while returning a value from a for-if loop in java","body":"<p>The problem with your code (using you image here):\n<a href=\"https://i.stack.imgur.com/pSL8L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSL8L.png\" alt=\"your code\" /></a></p>\n<p>Even though you have the return inside the IF statement and the ELSE statement, they will only be reached only IF the code gets inside the FOR statement.</p>\n<p>What would happen if you call your method with an empty <code>nums</code> array? if would skip the for statement and there is NOTHING to return for your method in this case, do you get it?</p>\n<p>That's why you need a return outside the for/loop as well, meaning that: <code>What your method wants to return if reaches this point?</code>.</p>\n<p>If it is a search, for example, you could return -1 outside the FOR/Loop and remove the ELSE statement from inside.</p>\n<p>Don't wanna change to much your code, so you clearly see the difference, since you are clearly starting:</p>\n<pre><code>public int search(int[] nums, int target) {\n    int i;\n    int j;\n    int n = nums.length;\n    for (i=0;i&lt;n;i++){\n        if (nums[i]==target) {\n            return (i);\n        }\n    }\n    \n    return (-1);\n}\n</code></pre>\n"}],"owner":{"account_id":26983444,"reputation":1,"user_id":20547470,"display_name":"NITIN SHREEPAD KOLEKAR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1671428329,"creation_date":1671352930,"question_id":74840078,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI want to return a value from a for-if statement in java but unfortunately i am not able to do so.\r\nI did try to return a value from inside a if statement from a for loop, but got an error\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pSL8L.png","title":"error while returning a value from a for-if loop in java","body":"<p><a href=\"https://i.stack.imgur.com/pSL8L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSL8L.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to return a value from a for-if statement in java but unfortunately i am not able to do so.\nI did try to return a value from inside a if statement from a for loop, but got an error</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"score":0,"creation_date":1671430749,"post_id":74845348,"comment_id":132089793,"body_markdown":"Check [this](https://stackoverflow.com/a/68648841/1169441)","body":"Check <a href=\"https://stackoverflow.com/a/68648841/1169441\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671427941,"creation_date":1671427941,"answer_id":74846587,"question_id":74845348,"body_markdown":"It maybe you have a dependency that needs to have android:exported","title":"android:exported needs to be explicitly specified for &lt;activity&gt;","body":"<p>It maybe you have a dependency that needs to have android:exported</p>\n"}],"owner":{"account_id":25987582,"reputation":63,"user_id":19700322,"display_name":"Bigfoot71"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74846587,"answer_count":1,"score":0,"last_activity_date":1671427941,"creation_date":1671409933,"question_id":74845348,"body_markdown":"I get the error:\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processEmbedNoRecordReleaseMainManifest&#39;.\r\n&gt; Manifest merger failed : android:exported needs to be explicitly specified for &lt;activity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined.\r\n```\r\n\r\nWhile I mentioned `android:exported` for each activity, I don&#39;t understand why I&#39;m getting this error. Here is the manifest:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest\r\n    package=&quot;org.love2d.android.executable&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;18&quot; /&gt;\r\n\r\n  &lt;!-- OpenGL ES 2.0 --&gt;\r\n  &lt;uses-feature android:glEsVersion=&quot;0x00020000&quot; /&gt;\r\n  &lt;!-- Touchscreen support --&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;!-- Game controller support --&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.gamepad&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;!-- External mouse input events --&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.type.pc&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;!-- Low latency audio --&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; android:required=&quot;false&quot; /&gt;\r\n\r\n  &lt;application\r\n      android:allowBackup=&quot;true&quot;\r\n      android:icon=&quot;@drawable/love&quot;\r\n      android:label=&quot;Game Test&quot;\r\n      android:usesCleartextTraffic=&quot;true&quot; &gt;\r\n    &lt;activity\r\n        android:name=&quot;org.love2d.android.GameActivity&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:configChanges=&quot;orientation|screenSize|smallestScreenSize|screenLayout|keyboard|keyboardHidden|navigation&quot;\r\n        android:label=&quot;Game Test&quot;\r\n        android:launchMode=&quot;singleTask&quot;\r\n        android:screenOrientation=&quot;landscape&quot;\r\n        android:resizeableActivity=&quot;false&quot;\r\n        android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; &gt;\r\n        &lt;intent-filter&gt;\r\n          &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n          &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n          &lt;category android:name=&quot;tv.ouya.intent.category.GAME&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;intent-filter&gt;\r\n          &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n      &lt;/activity&gt;\r\n\r\n      &lt;!--Needed by AdMob--&gt;\r\n      &lt;activity\r\n        android:name=&quot;com.google.android.gms.ads.AdActivity&quot;\r\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n        android:exported=&quot;false&quot;&gt;\r\n      &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI read that adding an intent filter could solve the problem but where is why? Apart from AdMob I don&#39;t see why and if so what should be added?","title":"android:exported needs to be explicitly specified for &lt;activity&gt;","body":"<p>I get the error:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:processEmbedNoRecordReleaseMainManifest'.\n&gt; Manifest merger failed : android:exported needs to be explicitly specified for &lt;activity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined.\n</code></pre>\n<p>While I mentioned <code>android:exported</code> for each activity, I don't understand why I'm getting this error. Here is the manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\n    package=&quot;org.love2d.android.executable&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;18&quot; /&gt;\n\n  &lt;!-- OpenGL ES 2.0 --&gt;\n  &lt;uses-feature android:glEsVersion=&quot;0x00020000&quot; /&gt;\n  &lt;!-- Touchscreen support --&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen&quot; android:required=&quot;false&quot; /&gt;\n  &lt;!-- Game controller support --&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.gamepad&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; android:required=&quot;false&quot; /&gt;\n  &lt;!-- External mouse input events --&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.type.pc&quot; android:required=&quot;false&quot; /&gt;\n  &lt;!-- Low latency audio --&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; android:required=&quot;false&quot; /&gt;\n\n  &lt;application\n      android:allowBackup=&quot;true&quot;\n      android:icon=&quot;@drawable/love&quot;\n      android:label=&quot;Game Test&quot;\n      android:usesCleartextTraffic=&quot;true&quot; &gt;\n    &lt;activity\n        android:name=&quot;org.love2d.android.GameActivity&quot;\n        android:exported=&quot;true&quot;\n        android:configChanges=&quot;orientation|screenSize|smallestScreenSize|screenLayout|keyboard|keyboardHidden|navigation&quot;\n        android:label=&quot;Game Test&quot;\n        android:launchMode=&quot;singleTask&quot;\n        android:screenOrientation=&quot;landscape&quot;\n        android:resizeableActivity=&quot;false&quot;\n        android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; &gt;\n        &lt;intent-filter&gt;\n          &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n          &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n          &lt;category android:name=&quot;tv.ouya.intent.category.GAME&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n          &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\n        &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n\n      &lt;!--Needed by AdMob--&gt;\n      &lt;activity\n        android:name=&quot;com.google.android.gms.ads.AdActivity&quot;\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n        android:exported=&quot;false&quot;&gt;\n      &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>I read that adding an intent filter could solve the problem but where is why? Apart from AdMob I don't see why and if so what should be added?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4952247,"reputation":570,"user_id":3986289,"accept_rate":65,"display_name":"Luk&#225;š Anda"},"score":0,"creation_date":1671458519,"post_id":74846381,"comment_id":132097095,"body_markdown":"Hi and welcome to StackOverflow. By looking at your code, I must assume that you are just adding a lot of onSuccessLIsteners in that for loop which can lead to unexpected behaviour. Also, maybe you need to run that setMessage in an uiThread","body":"Hi and welcome to StackOverflow. By looking at your code, I must assume that you are just adding a lot of onSuccessLIsteners in that for loop which can lead to unexpected behaviour. Also, maybe you need to run that setMessage in an uiThread"}],"owner":{"account_id":20608554,"reputation":1,"user_id":15128218,"display_name":"Austin Fascal Iskandar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671427746,"creation_date":1671425404,"question_id":74846381,"body_markdown":"I tried to update a progress dialog message with percentage every second using a Thread and it worked well. But when I add some for loop codes inside it, the progress dialog message didn&#39;t change the percentage. So, why did this happen? Any help would be great. Thank you.\r\n\r\n\r\n```\r\n\r\npd.show();\r\n\r\nThread thrd = new Thread(){\r\n    @Override\r\n    public void run() {\r\n        while (!isInterrupted()){\r\n            try{\r\n                Thread.sleep(1000);\r\n\r\n                if(iteratorAdapter &lt; giAdapter.getSelected().size()) {\r\n                    iteratorAdapter++;\r\n                    int prog = iteratorAdapter*100/giAdapter.getSelected().size();\r\n                    pd.setMessage(&quot;Memproses - &quot; + prog + &quot;%&quot;);\r\n                } else {\r\n                    pd.dismiss();\r\n                    return;\r\n                }\r\n\r\n                \r\n                    for (int i = 0; i &lt; giAdapter.getSelected().size(); i++) {\r\n                        databaseReference2GI.child(giAdapter.getSelected().get(i).getGiUID()).updateChildren(stringHashMap).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void unused) {\r\n                                pd.dismiss();\r\n                                binding.fabExpandMenu.animate().translationY(0).setDuration(100).start();\r\n                                binding.btnSelectAll.setImageDrawable(AppCompatResources.getDrawable(c, R.drawable.ic_outline_select_all));\r\n\r\n                                binding.llBottomSelectionOptions.animate()\r\n                                        .translationY(binding.llBottomSelectionOptions.getHeight()).alpha(0.0f)\r\n                                        .setListener(new AnimatorListenerAdapter() {\r\n                                            @Override\r\n                                            public void onAnimationEnd(Animator animation) {\r\n                                                super.onAnimationEnd(animation);\r\n                                                binding.llBottomSelectionOptions.setVisibility(View.GONE);\r\n                                            }\r\n                                        });\r\n                                dialogInterface.dismiss();\r\n                            }\r\n                        });\r\n                    }\r\n                \r\n\r\n                myHandler.post(runnable);\r\n            } catch (InterruptedException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        super.run();\r\n    }\r\n};\r\n\r\nthrd.start();\r\n\r\n```\r\n","title":"Unable to update progress dialog message when there is a for loop inside a thread - Android Java","body":"<p>I tried to update a progress dialog message with percentage every second using a Thread and it worked well. But when I add some for loop codes inside it, the progress dialog message didn't change the percentage. So, why did this happen? Any help would be great. Thank you.</p>\n<pre><code>\npd.show();\n\nThread thrd = new Thread(){\n    @Override\n    public void run() {\n        while (!isInterrupted()){\n            try{\n                Thread.sleep(1000);\n\n                if(iteratorAdapter &lt; giAdapter.getSelected().size()) {\n                    iteratorAdapter++;\n                    int prog = iteratorAdapter*100/giAdapter.getSelected().size();\n                    pd.setMessage(&quot;Memproses - &quot; + prog + &quot;%&quot;);\n                } else {\n                    pd.dismiss();\n                    return;\n                }\n\n                \n                    for (int i = 0; i &lt; giAdapter.getSelected().size(); i++) {\n                        databaseReference2GI.child(giAdapter.getSelected().get(i).getGiUID()).updateChildren(stringHashMap).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void unused) {\n                                pd.dismiss();\n                                binding.fabExpandMenu.animate().translationY(0).setDuration(100).start();\n                                binding.btnSelectAll.setImageDrawable(AppCompatResources.getDrawable(c, R.drawable.ic_outline_select_all));\n\n                                binding.llBottomSelectionOptions.animate()\n                                        .translationY(binding.llBottomSelectionOptions.getHeight()).alpha(0.0f)\n                                        .setListener(new AnimatorListenerAdapter() {\n                                            @Override\n                                            public void onAnimationEnd(Animator animation) {\n                                                super.onAnimationEnd(animation);\n                                                binding.llBottomSelectionOptions.setVisibility(View.GONE);\n                                            }\n                                        });\n                                dialogInterface.dismiss();\n                            }\n                        });\n                    }\n                \n\n                myHandler.post(runnable);\n            } catch (InterruptedException e){\n                e.printStackTrace();\n            }\n        }\n        super.run();\n    }\n};\n\nthrd.start();\n\n</code></pre>\n"},{"tags":["java","qt","qt-jambi"],"answers":[{"tags":[],"owner":{"account_id":983058,"reputation":500,"user_id":1442767,"accept_rate":100,"display_name":"gudenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671427289,"creation_date":1671427289,"answer_id":74846532,"question_id":74845413,"body_markdown":"Alright, I figured this one out after someone pointed me in the correct direction on a different platform.\r\n\r\nTurns out you need to go though a `QAbstractItemModel` method to create an instance of a `QModelIndex` and you also need to create your own &quot;invalid&quot; indexes instead of using a no-args method.\r\n\r\nInstead of using `new QModelIndex()` you need to use `QAbstractItemModel.createIndex(-1, -1, 0)`. Instead of `QModelIndex.isValid` you need to do something like the following:\r\n```Java\r\npublic static boolean isIndexValid(QModelIndex index) {\r\n    return index != null &amp;&amp; index.row() &gt;= 0 &amp;&amp; index.column() &gt;= 0 &amp;&amp; index.model() != null;\r\n}\r\n```\r\nFinally instead of using the internal ID stuff as if it was a pointer you need to keep your own record of IDs. My basic implementation is as follows:\r\n```Java\r\nprivate final Map&lt;Long, TreeItem&gt; idToItemMap = new HashMap&lt;&gt;();\r\nprivate final Map&lt;TreeItem, Long&gt; itemToIdMap = new HashMap&lt;&gt;();\r\nprivate long nextId = 1;\r\n\r\nprivate long getId(TreeItem childItem) {\r\n    long id = itemToIdMap.getOrDefault(childItem, -1L);\r\n    if(id == -1) {\r\n        id = nextId++;\r\n        itemToIdMap.put(childItem, id);\r\n        idToItemMap.put(id, childItem);\r\n    }\r\n    return id;\r\n}\r\n\r\nprivate TreeItem getItem(QModelIndex index) {\r\n    var item = idToItemMap.get(index.internalId());\r\n    if(item == null) {\r\n        throw new NullPointerException(&quot;item was null: &quot; + index);\r\n    }\r\n    return item;\r\n}\r\n```\r\n(Don&#39;t use this in production code that can remove items from the model, it will keep references and leak memory. Append only should be okay.)","title":"Qt Jambi: QTreeView with Custom Model?","body":"<p>Alright, I figured this one out after someone pointed me in the correct direction on a different platform.</p>\n<p>Turns out you need to go though a <code>QAbstractItemModel</code> method to create an instance of a <code>QModelIndex</code> and you also need to create your own &quot;invalid&quot; indexes instead of using a no-args method.</p>\n<p>Instead of using <code>new QModelIndex()</code> you need to use <code>QAbstractItemModel.createIndex(-1, -1, 0)</code>. Instead of <code>QModelIndex.isValid</code> you need to do something like the following:</p>\n<pre><code>public static boolean isIndexValid(QModelIndex index) {\n    return index != null &amp;&amp; index.row() &gt;= 0 &amp;&amp; index.column() &gt;= 0 &amp;&amp; index.model() != null;\n}\n</code></pre>\n<p>Finally instead of using the internal ID stuff as if it was a pointer you need to keep your own record of IDs. My basic implementation is as follows:</p>\n<pre><code>private final Map&lt;Long, TreeItem&gt; idToItemMap = new HashMap&lt;&gt;();\nprivate final Map&lt;TreeItem, Long&gt; itemToIdMap = new HashMap&lt;&gt;();\nprivate long nextId = 1;\n\nprivate long getId(TreeItem childItem) {\n    long id = itemToIdMap.getOrDefault(childItem, -1L);\n    if(id == -1) {\n        id = nextId++;\n        itemToIdMap.put(childItem, id);\n        idToItemMap.put(id, childItem);\n    }\n    return id;\n}\n\nprivate TreeItem getItem(QModelIndex index) {\n    var item = idToItemMap.get(index.internalId());\n    if(item == null) {\n        throw new NullPointerException(&quot;item was null: &quot; + index);\n    }\n    return item;\n}\n</code></pre>\n<p>(Don't use this in production code that can remove items from the model, it will keep references and leak memory. Append only should be okay.)</p>\n"}],"owner":{"account_id":983058,"reputation":500,"user_id":1442767,"accept_rate":100,"display_name":"gudenau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74846532,"answer_count":1,"score":0,"last_activity_date":1671427289,"creation_date":1671410596,"question_id":74845413,"body_markdown":"I&#39;m attempting to create a tree view in QT using Java to display something similar to\r\n```\r\n+ Category A\r\n| + Category AB\r\n| | Item AB\r\n| \\ Item A\r\n+ Category B\r\n| \\ Item B\r\n\\ Item\r\n```\r\nwith a custom `QAbstractItemModel` while following [the guide](https://doc.qt.io/qt-6/qtwidgets-itemviews-simpletreemodel-example.html).\r\n\r\nThere seems to be some issues with how [Qt Jambi](https://github.com/OmixVisualization/qtjambi) has implemented the wrapper for `QModelIndex`. There doesn&#39;t appear to be a way to create new instances of it like you can in the Qt guide and it appears to be missing function wrappers (at least `isValid` and `internalPointer`).\r\n\r\nHere is the code I currently have based on [the guide](https://doc.qt.io/qt-6/qtwidgets-itemviews-simpletreemodel-example.html):\r\n`TreeModel`\r\n```Java\r\npackage playground;\r\n\r\nimport io.qt.core.*;\r\n\r\nimport java.util.stream.Stream;\r\n\r\npublic final class TreeModel extends QAbstractItemModel {\r\n    private final TreeItem rootItem;\r\n\r\n    public TreeModel(QString data, QObject parent) {\r\n        super(parent);\r\n\r\n        rootItem = new TreeItem(Stream.of(tr(&quot;Title&quot;), tr(&quot;Summary&quot;)).map(QVariant::new).toList(), null);\r\n        setupModelData(data.split(&#39;\\n&#39;), rootItem);\r\n    }\r\n\r\n    private void setupModelData(QStringList split, TreeItem rootItem) {\r\n        //TODO\r\n    }\r\n\r\n    @Override\r\n    public QModelIndex index(int row, int column, QModelIndex parent) {\r\n        if(!hasIndex(row, column, parent)) {\r\n            return new QModelIndex();\r\n        }\r\n\r\n        var parentItem = !parent.isValid() ? rootItem : parent.internalPointer();\r\n        var child = parentItem.child(row);\r\n\r\n        return child != null ? createIndex(row, column, childItem) : new QModelIndex();\r\n    }\r\n\r\n    @Override\r\n    public QModelIndex parent(QModelIndex index) {\r\n        if(!index.isValid()) {\r\n            return new QModelIndex();\r\n        }\r\n\r\n        var childItem = index.internalPointer();\r\n        var parentItem = childItem.parentItem();\r\n\r\n        if(parentItem == rootItem) {\r\n            return new QModelIndex();\r\n        }\r\n\r\n        return createIndex(parentItem.row(), 0, parentItem);\r\n    }\r\n\r\n    @Override\r\n    public int rowCount(QModelIndex parent) {\r\n        if(parent.column() &gt; 0) {\r\n            return 0;\r\n        }\r\n\r\n        var parentItem = !parent.isValid() ? rootItem : parent.internalPointer();\r\n        return parentItem.childCount();\r\n    }\r\n\r\n    @Override\r\n    public int columnCount(QModelIndex parent) {\r\n        return (parent.isValid() ? parent.internalPointer() : rootItem).columnCount();\r\n    }\r\n\r\n    @Override\r\n    public Object data(QModelIndex index, int role) {\r\n        if(!index.isValid()) {\r\n            return new QVariant();\r\n        }\r\n\r\n        if(role != Qt.ItemDataRole.DisplayRole) {\r\n            return new QVariant();\r\n        }\r\n\r\n        var item = index.internalPointer();\r\n        return item.data(index.column());\r\n    }\r\n\r\n    @Override\r\n    public Qt.ItemFlags flags(QModelIndex index) {\r\n        return !index.isValid() ? new Qt.ItemFlags() : index.flags();\r\n    }\r\n\r\n    @Override\r\n    public Object headerData(int section, Qt.Orientation orientation, int role) {\r\n        if(orientation == Qt.Orientation.Horizontal &amp;&amp; role == Qt.ItemDataRole.DisplayRole) {\r\n            return rootItem.data(section);\r\n        }\r\n\r\n        return new QVariant();\r\n    }\r\n}\r\n```\r\n`TreeItem`:\r\n```Java\r\npackage playground;\r\n\r\nimport io.qt.core.QVariant;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic final class TreeItem {\r\n    private final List&lt;TreeItem&gt; childItems = new ArrayList&lt;&gt;();\r\n    private final List&lt;QVariant&gt; itemData = new ArrayList&lt;&gt;();\r\n    private final TreeItem parentItem;\r\n\r\n    public TreeItem(List&lt;QVariant&gt; data, TreeItem parent) {\r\n        this.itemData.addAll(data);\r\n        this.parentItem = parent;\r\n    }\r\n\r\n    public void appendChild(TreeItem child) {\r\n        Objects.requireNonNull(child);\r\n        childItems.add(child);\r\n    }\r\n\r\n    public TreeItem child(int row) {\r\n        if(row &lt; 0 || row &gt;= childItems.size()) {\r\n            return null;\r\n        }\r\n        return childItems.get(row);\r\n    }\r\n\r\n    public int childCount() {\r\n        return childItems.size();\r\n    }\r\n\r\n    public int columnCount() {\r\n        return itemData.size();\r\n    }\r\n\r\n    public QVariant data(int column) {\r\n        if(column &lt; 0 || column &gt;= itemData.size()) {\r\n            return null;\r\n        }\r\n        return itemData.get(column);\r\n    }\r\n\r\n    public int row() {\r\n        if(parentItem != null) {\r\n            return parentItem.childItems.indexOf(this);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public TreeItem parentItem() {\r\n        return parentItem;\r\n    }\r\n}\r\n```","title":"Qt Jambi: QTreeView with Custom Model?","body":"<p>I'm attempting to create a tree view in QT using Java to display something similar to</p>\n<pre><code>+ Category A\n| + Category AB\n| | Item AB\n| \\ Item A\n+ Category B\n| \\ Item B\n\\ Item\n</code></pre>\n<p>with a custom <code>QAbstractItemModel</code> while following <a href=\"https://doc.qt.io/qt-6/qtwidgets-itemviews-simpletreemodel-example.html\" rel=\"nofollow noreferrer\">the guide</a>.</p>\n<p>There seems to be some issues with how <a href=\"https://github.com/OmixVisualization/qtjambi\" rel=\"nofollow noreferrer\">Qt Jambi</a> has implemented the wrapper for <code>QModelIndex</code>. There doesn't appear to be a way to create new instances of it like you can in the Qt guide and it appears to be missing function wrappers (at least <code>isValid</code> and <code>internalPointer</code>).</p>\n<p>Here is the code I currently have based on <a href=\"https://doc.qt.io/qt-6/qtwidgets-itemviews-simpletreemodel-example.html\" rel=\"nofollow noreferrer\">the guide</a>:\n<code>TreeModel</code></p>\n<pre><code>package playground;\n\nimport io.qt.core.*;\n\nimport java.util.stream.Stream;\n\npublic final class TreeModel extends QAbstractItemModel {\n    private final TreeItem rootItem;\n\n    public TreeModel(QString data, QObject parent) {\n        super(parent);\n\n        rootItem = new TreeItem(Stream.of(tr(&quot;Title&quot;), tr(&quot;Summary&quot;)).map(QVariant::new).toList(), null);\n        setupModelData(data.split('\\n'), rootItem);\n    }\n\n    private void setupModelData(QStringList split, TreeItem rootItem) {\n        //TODO\n    }\n\n    @Override\n    public QModelIndex index(int row, int column, QModelIndex parent) {\n        if(!hasIndex(row, column, parent)) {\n            return new QModelIndex();\n        }\n\n        var parentItem = !parent.isValid() ? rootItem : parent.internalPointer();\n        var child = parentItem.child(row);\n\n        return child != null ? createIndex(row, column, childItem) : new QModelIndex();\n    }\n\n    @Override\n    public QModelIndex parent(QModelIndex index) {\n        if(!index.isValid()) {\n            return new QModelIndex();\n        }\n\n        var childItem = index.internalPointer();\n        var parentItem = childItem.parentItem();\n\n        if(parentItem == rootItem) {\n            return new QModelIndex();\n        }\n\n        return createIndex(parentItem.row(), 0, parentItem);\n    }\n\n    @Override\n    public int rowCount(QModelIndex parent) {\n        if(parent.column() &gt; 0) {\n            return 0;\n        }\n\n        var parentItem = !parent.isValid() ? rootItem : parent.internalPointer();\n        return parentItem.childCount();\n    }\n\n    @Override\n    public int columnCount(QModelIndex parent) {\n        return (parent.isValid() ? parent.internalPointer() : rootItem).columnCount();\n    }\n\n    @Override\n    public Object data(QModelIndex index, int role) {\n        if(!index.isValid()) {\n            return new QVariant();\n        }\n\n        if(role != Qt.ItemDataRole.DisplayRole) {\n            return new QVariant();\n        }\n\n        var item = index.internalPointer();\n        return item.data(index.column());\n    }\n\n    @Override\n    public Qt.ItemFlags flags(QModelIndex index) {\n        return !index.isValid() ? new Qt.ItemFlags() : index.flags();\n    }\n\n    @Override\n    public Object headerData(int section, Qt.Orientation orientation, int role) {\n        if(orientation == Qt.Orientation.Horizontal &amp;&amp; role == Qt.ItemDataRole.DisplayRole) {\n            return rootItem.data(section);\n        }\n\n        return new QVariant();\n    }\n}\n</code></pre>\n<p><code>TreeItem</code>:</p>\n<pre><code>package playground;\n\nimport io.qt.core.QVariant;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\npublic final class TreeItem {\n    private final List&lt;TreeItem&gt; childItems = new ArrayList&lt;&gt;();\n    private final List&lt;QVariant&gt; itemData = new ArrayList&lt;&gt;();\n    private final TreeItem parentItem;\n\n    public TreeItem(List&lt;QVariant&gt; data, TreeItem parent) {\n        this.itemData.addAll(data);\n        this.parentItem = parent;\n    }\n\n    public void appendChild(TreeItem child) {\n        Objects.requireNonNull(child);\n        childItems.add(child);\n    }\n\n    public TreeItem child(int row) {\n        if(row &lt; 0 || row &gt;= childItems.size()) {\n            return null;\n        }\n        return childItems.get(row);\n    }\n\n    public int childCount() {\n        return childItems.size();\n    }\n\n    public int columnCount() {\n        return itemData.size();\n    }\n\n    public QVariant data(int column) {\n        if(column &lt; 0 || column &gt;= itemData.size()) {\n            return null;\n        }\n        return itemData.get(column);\n    }\n\n    public int row() {\n        if(parentItem != null) {\n            return parentItem.childItems.indexOf(this);\n        }\n        return 0;\n    }\n\n    public TreeItem parentItem() {\n        return parentItem;\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","sql-update","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1589175518,"post_id":61717654,"comment_id":109177597,"body_markdown":"You are mixing JPA and Spring Data R2DBC annotations. Make sure to not use annotations for `javax.persistence` or `spring.data.jpa` with Spring Data R2dbc.\n\nI changed the tags so they match your question. You might want to review those.","body":"You are mixing JPA and Spring Data R2DBC annotations. Make sure to not use annotations for <code>javax.persistence</code> or <code>spring.data.jpa</code> with Spring Data R2dbc.  I changed the tags so they match your question. You might want to review those."},{"owner":{"account_id":5782491,"reputation":314,"user_id":4562690,"display_name":"Rhushikesh Chaudhari"},"score":0,"creation_date":1589196511,"post_id":61717654,"comment_id":109187491,"body_markdown":"@JensSchauder I tried it first before applying org.springframework.data.jpa.repository.Modifying (@Modifying) also. It wasn&#39;t working in my case.","body":"@JensSchauder I tried it first before applying org.springframework.data.jpa.repository.Modifying (@Modifying) also. It wasn&#39;t working in my case."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1589206211,"post_id":61717654,"comment_id":109193103,"body_markdown":"There is a `@Modifying` for R2DBC. Use that. Also make sure to subscribe to the result.","body":"There is a <code>@Modifying</code> for R2DBC. Use that. Also make sure to subscribe to the result."}],"answers":[{"tags":[],"owner":{"account_id":2904242,"reputation":31,"user_id":2490052,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671427015,"creation_date":1671427015,"answer_id":74846512,"question_id":61717654,"body_markdown":"In case of webflux R2DBC, need to subscribe for the result. In your case make sure that result is handled in calling method. OR if you are calling from repository/service handle result or return from repository or service. \r\n\r\n\t@DeleteMapping(&quot;/company&quot;)\r\n\tpublic Mono&lt;Void&gt; deleteCompany(@PathVariable Integer companyId) {\r\n\t\t Mono&lt;Void&gt; result = repository. deleteById(&quot;deletedUserName&quot;, companyId);\r\n\t\t return result;\r\n\t}\r\n\t\r\n\r\n","title":"Update using @Query not updating data in ReactiveCrudRepository","body":"<p>In case of webflux R2DBC, need to subscribe for the result. In your case make sure that result is handled in calling method. OR if you are calling from repository/service handle result or return from repository or service.</p>\n<pre><code>@DeleteMapping(&quot;/company&quot;)\npublic Mono&lt;Void&gt; deleteCompany(@PathVariable Integer companyId) {\n     Mono&lt;Void&gt; result = repository. deleteById(&quot;deletedUserName&quot;, companyId);\n     return result;\n}\n</code></pre>\n"}],"owner":{"account_id":5782491,"reputation":314,"user_id":4562690,"display_name":"Rhushikesh Chaudhari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671427015,"creation_date":1589139114,"question_id":61717654,"body_markdown":"I am using ReactiveCrudRepository with Spring web flux. Following query is not updating data in a Postgres database with r2dbc. I tried initially without @Modifying also. I used this annotation with reference of [this link][1]\r\n\r\n    @Modifying(flushAutomatically = true, clearAutomatically = true)\r\n    @Query(&quot;update company set deleted_at=current_timestamp, deleted_by=:deletedByUserId where id=:id&quot;)\r\n    Mono&lt;Void&gt; deleteById(Long id, Long deletedByUserId);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17121620/spring-data-jpa-update-query-not-updating","title":"Update using @Query not updating data in ReactiveCrudRepository","body":"<p>I am using ReactiveCrudRepository with Spring web flux. Following query is not updating data in a Postgres database with r2dbc. I tried initially without @Modifying also. I used this annotation with reference of <a href=\"https://stackoverflow.com/questions/17121620/spring-data-jpa-update-query-not-updating\">this link</a></p>\n\n<pre><code>@Modifying(flushAutomatically = true, clearAutomatically = true)\n@Query(\"update company set deleted_at=current_timestamp, deleted_by=:deletedByUserId where id=:id\")\nMono&lt;Void&gt; deleteById(Long id, Long deletedByUserId);\n</code></pre>\n"},{"tags":["java","spring-boot","weblogic12c","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":1108377,"reputation":649,"user_id":1099290,"accept_rate":80,"display_name":"gibyalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671426747,"creation_date":1671426747,"answer_id":74846490,"question_id":74315180,"body_markdown":"added prefer-application-packages  in weblogic.xml \r\n\r\n    &lt;wls:prefer-application-packages&gt;\r\n    &lt;wls:package-name&gt;org.apache.xerces.xni.parser.*&lt;/wls:package-name&gt;\r\n    &lt;wls:package-name&gt;org.apache.xerces.parsers.*&lt;/wls:package-name&gt;\r\n    &lt;wls:package-name&gt;org.apache.xalan.*&lt;/wls:package-name&gt;\r\n&lt;/wls:prefer-application-packages&gt;\r\n\r\nand deployment worked fine","title":"Deployment issue in weblogic for spring boot application with SAML","body":"<p>added prefer-application-packages  in weblogic.xml</p>\n<pre><code>&lt;wls:prefer-application-packages&gt;\n&lt;wls:package-name&gt;org.apache.xerces.xni.parser.*&lt;/wls:package-name&gt;\n&lt;wls:package-name&gt;org.apache.xerces.parsers.*&lt;/wls:package-name&gt;\n&lt;wls:package-name&gt;org.apache.xalan.*&lt;/wls:package-name&gt;\n</code></pre>\n<p>&lt;/wls:prefer-application-packages&gt;</p>\n<p>and deployment worked fine</p>\n"}],"owner":{"account_id":1108377,"reputation":649,"user_id":1099290,"accept_rate":80,"display_name":"gibyalex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671426747,"creation_date":1667555947,"question_id":74315180,"body_markdown":"Hi i am trying to deploy a Spring boot application based on spring boot version :1.5 to weblogic 12C(  12.1.3.0.0)  it was working fine till recently integrated the SAML2  and once it integrated deployment started failing  .\r\n\r\nit works fine in Tomcat8.5 container \r\n\r\nso how to find what is causing the issue \r\n\r\n`[ACTIVE] ExecuteThread: 2 for queue: weblogic.kernel.Default (self-tuning),logClass:o.s.boot.SpringApplication,logMethod:reportFailure,logLevel:ERROR,logMessage:Application startup failed,logException:java.lang.IncompatibleClassChangeError: Implementing class\\n\\tat java.lang.ClassLoader.defineClass1(Native Method)\\n\\tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\\n\\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:412)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:366)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:318)\\n\\tat weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:80)\\n\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\\n\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.loadClass(GenericClassLoader.java:186)\\n\\tat weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:50)\\n\\tat java.lang.Class.getDeclaredMethods0(Native Method)\\n\\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\\n\\tat java.lang.Class.getDeclaredMethods(Class.java:1975)\\n\\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:612)\\n\\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:523)\\n\\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:509)\\n\\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:569)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:695)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:638)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:607)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1496)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1018)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:217)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:195)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:188)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:175)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:112)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:171)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:158)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:128)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:103)\\n\\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\\n\\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102)\\n\\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:179)\\n\\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140)\\n\\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116)\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\\n\\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\\n\\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\\n\\tat org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:151)\\n\\tat org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:131)\\n\\tat org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\\n\\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\\n\\tat  `\r\n\r\n\r\nThe Dependency jar used in Project are following \r\n\r\n    enter code here\r\n\r\n    SparseBitSet-1.2.jar\r\n    activation-1.1.jar\r\n    ant-1.6.5.jar\r\n    antlr-2.7.7.jar\r\n    aopalliance-1.0.jar\r\n    aopalliance-repackaged-2.5.0-b32.jar\r\n    aspectjrt-1.6.10.jar\r\n    aspectjweaver-1.8.1.jar\r\n    autopass-lems-client-1.22.0.jar\r\n    bcpkix-jdk15on-1.55.jar\r\n    bcprov-jdk15-1.46.jar\r\n    bcprov-jdk15on-1.55.jar\r\n    classmate-1.3.4.jar\r\n    commons-codec-1.10.jar\r\n    commons-collections-3.2.2.jar\r\n    commons-collections4-4.4.jar\r\n    commons-compress-1.19.jar\r\n    commons-configuration-1.10.jar\r\n    commons-discovery-0.4.jar\r\n    commons-httpclient-3.1.jar\r\n    commons-lang-2.6.jar\r\n    commons-logging-1.2.jar\r\n    commons-math3-3.6.1.jar\r\n    commons-pool2-2.4.3.jar\r\n    curvesapi-1.06.jar\r\n    dom4j-1.6.1.jar\r\n    encoder-1.2.2.jar\r\n    encoder-jsp-1.2.2.jar\r\n    esapi-2.0.1.jar\r\n    freemarker-2.3.29.jar\r\n    guava-20.0.jar\r\n    hibernate-commons-annotations-5.0.1.Final.jar\r\n    hibernate-core-5.0.12.Final.jar\r\n    hibernate-entitymanager-5.0.12.Final.jar\r\n    hibernate-jpa-2.1-api-1.0.0.Final.jar\r\n    hibernate-validator-5.3.6.Final.jar\r\n    hk2-api-2.5.0-b32.jar\r\n    hk2-locator-2.5.0-b32.jar\r\n    hk2-utils-2.5.0-b32.jar\r\n    httpclient-4.3.4.jar\r\n    httpcore-4.4.11.jar\r\n    itext-asian-5.2.0.jar\r\n    itextpdf-5.5.4.jar\r\n    jackson-annotations-2.9.4.jar\r\n    jackson-core-2.9.4.jar\r\n    jackson-core-asl-1.9.13.jar\r\n    jackson-databind-2.9.4.jar\r\n    jackson-dataformat-csv-2.9.6.jar\r\n    jackson-mapper-asl-1.9.13.jar\r\n    jandex-2.0.0.Final.jar\r\n    javassist-3.21.0-GA.jar\r\n    javax.annotation-api-1.2.jar\r\n    javax.inject-2.5.0-b32.jar\r\n    javax.mail-1.5.2.jar\r\n    javax.servlet.jsp.jstl-api-1.2.1.jar\r\n    javax.transaction-api-1.2.jar\r\n    javax.ws.rs-api-2.0.1.jar\r\n    jboss-logging-3.3.2.Final.jar\r\n    jcl-over-slf4j-1.6.6.jar\r\n    jedis-3.3.0.jar\r\n    jersey-client-2.25.1.jar\r\n    jersey-common-2.25.1.jar\r\n    jersey-guava-2.25.1.jar\r\n    joda-time-2.4.jar\r\n    jstl-1.2.jar\r\n    jul-to-slf4j-1.7.26.jar\r\n    log4j-over-slf4j-1.7.26.jar\r\n    logback-access-1.1.10.jar\r\n    logback-classic-1.2.3.jar\r\n    logback-core-1.2.3.jar\r\n    logback-jackson-0.1.5.jar\r\n    logback-json-classic-0.1.5.jar\r\n    logback-json-core-0.1.5.jar\r\n    logstash-logback-encoder-6.6.jar\r\n    mf-utils-core-1.0.3.jar\r\n    modelmapper-2.3.2.jar\r\n    not-yet-commons-ssl-0.3.9.jar\r\n    opensaml-2.6.1.jar\r\n    openws-1.5.1.jar\r\n    org.json-20131017.jar\r\n    osgi-resource-locator-1.0.1.jar\r\n    owasp-java-html-sanitizer-20191001.1.jar\r\n    poi-4.1.2.jar\r\n    poi-ooxml-4.1.2.jar\r\n    poi-ooxml-schemas-4.1.2.jar\r\n    resilience4j-core-1.6.1.jar\r\n    resilience4j-retry-1.6.1.jar\r\n    serializer-2.7.1.jar\r\n    sitemesh-2.4.2.jar\r\n    slf4j-api-1.7.5.jar\r\n    snakeyaml-1.17.jar\r\n    spring-aop-4.3.25.RELEASE.jar\r\n    spring-aspects-4.3.25.RELEASE.jar\r\n    spring-beans-4.3.25.RELEASE.jar\r\n    spring-boot-1.5.22.RELEASE.jar\r\n    spring-boot-actuator-1.5.22.RELEASE.jar\r\n    spring-boot-autoconfigure-1.5.22.RELEASE.jar\r\n    spring-boot-configuration-processor-1.5.22.RELEASE.jar\r\n    spring-boot-starter-1.5.22.RELEASE.jar\r\n    spring-boot-starter-actuator-1.5.22.RELEASE.jar\r\n    spring-boot-starter-aop-1.5.22.RELEASE.jar\r\n    spring-boot-starter-data-jpa-1.5.22.RELEASE.jar\r\n    spring-boot-starter-jdbc-1.5.22.RELEASE.jar\r\n    spring-boot-starter-logging-1.5.22.RELEASE.jar\r\n    spring-boot-starter-security-1.5.22.RELEASE.jar\r\n    spring-boot-starter-web-1.5.22.RELEASE.jar\r\n    spring-cloud-commons-1.3.6.RELEASE.jar\r\n    spring-cloud-config-client-1.4.5.RELEASE.jar\r\n    spring-cloud-context-1.3.6.RELEASE.jar\r\n    spring-cloud-sleuth-core-1.3.6.RELEASE.jar\r\n    spring-cloud-starter-1.3.6.RELEASE.jar\r\n    spring-cloud-starter-config-1.4.5.RELEASE.jar\r\n    spring-cloud-starter-sleuth-1.3.6.RELEASE.jar\r\n    spring-context-4.3.25.RELEASE.jar\r\n    spring-context-support-4.3.25.RELEASE.jar\r\n    spring-core-4.3.25.RELEASE.jar\r\n    spring-data-commons-1.13.23.RELEASE.jar\r\n    spring-data-jpa-1.11.23.RELEASE.jar\r\n    spring-expression-4.3.25.RELEASE.jar\r\n    spring-jdbc-4.3.25.RELEASE.jar\r\n    spring-orm-4.3.25.RELEASE.jar\r\n    spring-oxm-4.3.25.RELEASE.jar\r\n    spring-security-acl-4.2.13.RELEASE.jar\r\n    spring-security-config-4.2.13.RELEASE.jar\r\n    spring-security-core-4.2.13.RELEASE.jar\r\n    spring-security-crypto-4.2.13.RELEASE.jar\r\n    spring-security-rsa-1.0.3.RELEASE.jar\r\n    spring-security-saml-dsl-1.0.0.M1.jar\r\n    spring-security-saml2-core-1.0.1.RELEASE.jar\r\n    spring-security-taglibs-4.2.11.RELEASE.jar\r\n    spring-security-web-4.2.13.RELEASE.jar\r\n    spring-tx-4.3.25.RELEASE.jar\r\n    spring-web-4.3.25.RELEASE.jar\r\n    spring-webmvc-4.3.25.RELEASE.jar\r\n    tomcat-jdbc-8.5.43.jar\r\n    tomcat-juli-8.5.43.jar\r\n    validation-api-1.1.0.Final.jar\r\n    vavr-0.10.2.jar\r\n    vavr-match-0.10.2.jar\r\n    velocity-1.7.jar\r\n    webApplicationSiteUtil-1.0.0.jar\r\n    wsLog-1.1.1.jar\r\n    xalan-2.7.1.jar\r\n    xercesImpl-2.10.0.jar\r\n    xml-apis-1.4.01.jar\r\n    xml-resolver-1.2.jar\r\n    xmlbeans-3.1.0.jar\r\n    xmlsec-1.5.6.jar\r\n    xmltooling-1.4.1.jar\r\n    xmlworker-5.4.1.jar\r\n\r\n\r\n","title":"Deployment issue in weblogic for spring boot application with SAML","body":"<p>Hi i am trying to deploy a Spring boot application based on spring boot version :1.5 to weblogic 12C(  12.1.3.0.0)  it was working fine till recently integrated the SAML2  and once it integrated deployment started failing  .</p>\n<p>it works fine in Tomcat8.5 container</p>\n<p>so how to find what is causing the issue</p>\n<p><code>[ACTIVE] ExecuteThread: 2 for queue: weblogic.kernel.Default (self-tuning),logClass:o.s.boot.SpringApplication,logMethod:reportFailure,logLevel:ERROR,logMessage:Application startup failed,logException:java.lang.IncompatibleClassChangeError: Implementing class\\n\\tat java.lang.ClassLoader.defineClass1(Native Method)\\n\\tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\\n\\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:412)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:366)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:318)\\n\\tat weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:80)\\n\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\\n\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\\n\\tat weblogic.utils.classloaders.GenericClassLoader.loadClass(GenericClassLoader.java:186)\\n\\tat weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:50)\\n\\tat java.lang.Class.getDeclaredMethods0(Native Method)\\n\\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\\n\\tat java.lang.Class.getDeclaredMethods(Class.java:1975)\\n\\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:612)\\n\\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:523)\\n\\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:509)\\n\\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:569)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:695)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:638)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:607)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1496)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1018)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:217)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:195)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:188)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:175)\\n\\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:112)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:171)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:158)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:128)\\n\\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:103)\\n\\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\\n\\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102)\\n\\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:179)\\n\\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140)\\n\\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116)\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\\n\\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\\n\\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\\n\\tat org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:151)\\n\\tat org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:131)\\n\\tat org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\\n\\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\\n\\tat  </code></p>\n<p>The Dependency jar used in Project are following</p>\n<pre><code>enter code here\n\nSparseBitSet-1.2.jar\nactivation-1.1.jar\nant-1.6.5.jar\nantlr-2.7.7.jar\naopalliance-1.0.jar\naopalliance-repackaged-2.5.0-b32.jar\naspectjrt-1.6.10.jar\naspectjweaver-1.8.1.jar\nautopass-lems-client-1.22.0.jar\nbcpkix-jdk15on-1.55.jar\nbcprov-jdk15-1.46.jar\nbcprov-jdk15on-1.55.jar\nclassmate-1.3.4.jar\ncommons-codec-1.10.jar\ncommons-collections-3.2.2.jar\ncommons-collections4-4.4.jar\ncommons-compress-1.19.jar\ncommons-configuration-1.10.jar\ncommons-discovery-0.4.jar\ncommons-httpclient-3.1.jar\ncommons-lang-2.6.jar\ncommons-logging-1.2.jar\ncommons-math3-3.6.1.jar\ncommons-pool2-2.4.3.jar\ncurvesapi-1.06.jar\ndom4j-1.6.1.jar\nencoder-1.2.2.jar\nencoder-jsp-1.2.2.jar\nesapi-2.0.1.jar\nfreemarker-2.3.29.jar\nguava-20.0.jar\nhibernate-commons-annotations-5.0.1.Final.jar\nhibernate-core-5.0.12.Final.jar\nhibernate-entitymanager-5.0.12.Final.jar\nhibernate-jpa-2.1-api-1.0.0.Final.jar\nhibernate-validator-5.3.6.Final.jar\nhk2-api-2.5.0-b32.jar\nhk2-locator-2.5.0-b32.jar\nhk2-utils-2.5.0-b32.jar\nhttpclient-4.3.4.jar\nhttpcore-4.4.11.jar\nitext-asian-5.2.0.jar\nitextpdf-5.5.4.jar\njackson-annotations-2.9.4.jar\njackson-core-2.9.4.jar\njackson-core-asl-1.9.13.jar\njackson-databind-2.9.4.jar\njackson-dataformat-csv-2.9.6.jar\njackson-mapper-asl-1.9.13.jar\njandex-2.0.0.Final.jar\njavassist-3.21.0-GA.jar\njavax.annotation-api-1.2.jar\njavax.inject-2.5.0-b32.jar\njavax.mail-1.5.2.jar\njavax.servlet.jsp.jstl-api-1.2.1.jar\njavax.transaction-api-1.2.jar\njavax.ws.rs-api-2.0.1.jar\njboss-logging-3.3.2.Final.jar\njcl-over-slf4j-1.6.6.jar\njedis-3.3.0.jar\njersey-client-2.25.1.jar\njersey-common-2.25.1.jar\njersey-guava-2.25.1.jar\njoda-time-2.4.jar\njstl-1.2.jar\njul-to-slf4j-1.7.26.jar\nlog4j-over-slf4j-1.7.26.jar\nlogback-access-1.1.10.jar\nlogback-classic-1.2.3.jar\nlogback-core-1.2.3.jar\nlogback-jackson-0.1.5.jar\nlogback-json-classic-0.1.5.jar\nlogback-json-core-0.1.5.jar\nlogstash-logback-encoder-6.6.jar\nmf-utils-core-1.0.3.jar\nmodelmapper-2.3.2.jar\nnot-yet-commons-ssl-0.3.9.jar\nopensaml-2.6.1.jar\nopenws-1.5.1.jar\norg.json-20131017.jar\nosgi-resource-locator-1.0.1.jar\nowasp-java-html-sanitizer-20191001.1.jar\npoi-4.1.2.jar\npoi-ooxml-4.1.2.jar\npoi-ooxml-schemas-4.1.2.jar\nresilience4j-core-1.6.1.jar\nresilience4j-retry-1.6.1.jar\nserializer-2.7.1.jar\nsitemesh-2.4.2.jar\nslf4j-api-1.7.5.jar\nsnakeyaml-1.17.jar\nspring-aop-4.3.25.RELEASE.jar\nspring-aspects-4.3.25.RELEASE.jar\nspring-beans-4.3.25.RELEASE.jar\nspring-boot-1.5.22.RELEASE.jar\nspring-boot-actuator-1.5.22.RELEASE.jar\nspring-boot-autoconfigure-1.5.22.RELEASE.jar\nspring-boot-configuration-processor-1.5.22.RELEASE.jar\nspring-boot-starter-1.5.22.RELEASE.jar\nspring-boot-starter-actuator-1.5.22.RELEASE.jar\nspring-boot-starter-aop-1.5.22.RELEASE.jar\nspring-boot-starter-data-jpa-1.5.22.RELEASE.jar\nspring-boot-starter-jdbc-1.5.22.RELEASE.jar\nspring-boot-starter-logging-1.5.22.RELEASE.jar\nspring-boot-starter-security-1.5.22.RELEASE.jar\nspring-boot-starter-web-1.5.22.RELEASE.jar\nspring-cloud-commons-1.3.6.RELEASE.jar\nspring-cloud-config-client-1.4.5.RELEASE.jar\nspring-cloud-context-1.3.6.RELEASE.jar\nspring-cloud-sleuth-core-1.3.6.RELEASE.jar\nspring-cloud-starter-1.3.6.RELEASE.jar\nspring-cloud-starter-config-1.4.5.RELEASE.jar\nspring-cloud-starter-sleuth-1.3.6.RELEASE.jar\nspring-context-4.3.25.RELEASE.jar\nspring-context-support-4.3.25.RELEASE.jar\nspring-core-4.3.25.RELEASE.jar\nspring-data-commons-1.13.23.RELEASE.jar\nspring-data-jpa-1.11.23.RELEASE.jar\nspring-expression-4.3.25.RELEASE.jar\nspring-jdbc-4.3.25.RELEASE.jar\nspring-orm-4.3.25.RELEASE.jar\nspring-oxm-4.3.25.RELEASE.jar\nspring-security-acl-4.2.13.RELEASE.jar\nspring-security-config-4.2.13.RELEASE.jar\nspring-security-core-4.2.13.RELEASE.jar\nspring-security-crypto-4.2.13.RELEASE.jar\nspring-security-rsa-1.0.3.RELEASE.jar\nspring-security-saml-dsl-1.0.0.M1.jar\nspring-security-saml2-core-1.0.1.RELEASE.jar\nspring-security-taglibs-4.2.11.RELEASE.jar\nspring-security-web-4.2.13.RELEASE.jar\nspring-tx-4.3.25.RELEASE.jar\nspring-web-4.3.25.RELEASE.jar\nspring-webmvc-4.3.25.RELEASE.jar\ntomcat-jdbc-8.5.43.jar\ntomcat-juli-8.5.43.jar\nvalidation-api-1.1.0.Final.jar\nvavr-0.10.2.jar\nvavr-match-0.10.2.jar\nvelocity-1.7.jar\nwebApplicationSiteUtil-1.0.0.jar\nwsLog-1.1.1.jar\nxalan-2.7.1.jar\nxercesImpl-2.10.0.jar\nxml-apis-1.4.01.jar\nxml-resolver-1.2.jar\nxmlbeans-3.1.0.jar\nxmlsec-1.5.6.jar\nxmltooling-1.4.1.jar\nxmlworker-5.4.1.jar\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671419462,"post_id":74845937,"comment_id":132088436,"body_markdown":"So what is the actual value in `videoId`?","body":"So what is the actual value in <code>videoId</code>?"},{"owner":{"account_id":5090868,"reputation":1306,"user_id":4106660,"display_name":"Henry Trần"},"score":0,"creation_date":1671420034,"post_id":74845937,"comment_id":132088491,"body_markdown":"Please check your logcat and attach wrong message on post.","body":"Please check your logcat and attach wrong message on post."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671421700,"post_id":74845937,"comment_id":132088680,"body_markdown":"So `videoId` actually contains a URL?  Then you need to extract the id from it the URL.  You could do it using simple pattern matching, or by parsing the URL and extracting the query parameter with name `&quot;v&quot;`.  That `loadVideo` method should be called with a valid id NOT a URL.   See https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#loadVideo(java.lang.String)","body":"So <code>videoId</code> actually contains a URL?  Then you need to extract the id from it the URL.  You could do it using simple pattern matching, or by parsing the URL and extracting the query parameter with name <code>&quot;v&quot;</code>.  That <code>loadVideo</code> method should be called with a valid id NOT a URL.   See <a href=\"https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#loadVideo(java.lang.String)\" rel=\"nofollow noreferrer\">developers.google.com/youtube/android/player/reference/com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15063199,"reputation":588,"user_id":10871239,"display_name":"Dev I.A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671425945,"creation_date":1671425945,"answer_id":74846433,"question_id":74845937,"body_markdown":"nothing wrong in your codes, snice u read documentation:\r\n\r\n[Documentation][1]\r\n\r\nYouTubePlayer, Params:\r\n\r\n&gt; videoId - id of the video\r\n\r\n&gt; startSeconds - the time from which the video should start playing\r\n\r\n    loadVideo(videoId: String, startSeconds: Float)\r\n\r\nmake sure u passing Data without subtract, this mistake i made before.\r\n\r\n  [1]: https://github.com/PierfrancescoSoffritti/android-youtube-player#api-documentation.","title":"error while play youtube video android studio","body":"<p>nothing wrong in your codes, snice u read documentation:</p>\n<p><a href=\"https://github.com/PierfrancescoSoffritti/android-youtube-player#api-documentation.\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<p>YouTubePlayer, Params:</p>\n<blockquote>\n<p>videoId - id of the video</p>\n</blockquote>\n<blockquote>\n<p>startSeconds - the time from which the video should start playing</p>\n</blockquote>\n<pre><code>loadVideo(videoId: String, startSeconds: Float)\n</code></pre>\n<p>make sure u passing Data without subtract, this mistake i made before.</p>\n"}],"owner":{"account_id":13266974,"reputation":49,"user_id":9579410,"display_name":"Diana adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74846433,"answer_count":1,"score":0,"last_activity_date":1671425945,"creation_date":1671418814,"question_id":74845937,"body_markdown":"let me say i have listview of many youtube videos, i chosen 1 video from list by videoId. so this id has been passed in second activity, when i declare it. not work..\r\n\r\n    String videoId;\r\n    \r\n    Bundle extras = getIntent().getExtras();\r\n            if (extras != null) {\r\n                videoId = extras.getString(&quot;videoId&quot;);\r\n            }\r\n\r\n        YouTubePlayerView youTubePlayerView = findViewById(R.id.youtube_player_view);\r\n        getLifecycle().addObserver(youTubePlayerView);\r\n        youTubePlayerView.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\r\n            @Override\r\n            public void onReady(@NonNull YouTubePlayer youTubePlayer) {\r\n                \r\n                youTubePlayer.loadVideo(&quot;uuvFkS7LTUk&quot; , 0); // this work.\r\n                youTubePlayer.loadVideo(videoId , 0); // this not work.\r\n            }\r\n        });\r\n\r\ni faced same problem if i play that url use webview youtube embed link....\r\n\r\n\r\n&gt; There is no error message\r\n\r\n***videoid*** = youtube video id example : \r\n\r\nyoutube.com/watch?v=MIy070Di10U (video id : MIy070Di10U)\r\n\r\n\r\nimage [![There is no error message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OkZip.jpg\r\n","title":"error while play youtube video android studio","body":"<p>let me say i have listview of many youtube videos, i chosen 1 video from list by videoId. so this id has been passed in second activity, when i declare it. not work..</p>\n<pre><code>String videoId;\n\nBundle extras = getIntent().getExtras();\n        if (extras != null) {\n            videoId = extras.getString(&quot;videoId&quot;);\n        }\n\n    YouTubePlayerView youTubePlayerView = findViewById(R.id.youtube_player_view);\n    getLifecycle().addObserver(youTubePlayerView);\n    youTubePlayerView.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\n        @Override\n        public void onReady(@NonNull YouTubePlayer youTubePlayer) {\n            \n            youTubePlayer.loadVideo(&quot;uuvFkS7LTUk&quot; , 0); // this work.\n            youTubePlayer.loadVideo(videoId , 0); // this not work.\n        }\n    });\n</code></pre>\n<p>i faced same problem if i play that url use webview youtube embed link....</p>\n<blockquote>\n<p>There is no error message</p>\n</blockquote>\n<p><em><strong>videoid</strong></em> = youtube video id example :</p>\n<p>youtube.com/watch?v=MIy070Di10U (video id : MIy070Di10U)</p>\n<p>image <a href=\"https://i.stack.imgur.com/OkZip.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OkZip.jpg\" alt=\"There is no error message\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671425602,"creation_date":1671425602,"question_id":74846403,"body_markdown":"I have a method that sends a message to a SQS Standard queue. The method returns a successful response upon execution. But the console does not show any messages in the queue. Any ideas on what could be the reason this is happening?? Can provide a code snippet if that is helpful. Thanks!\r\n\r\nVisibility timeout has been set to 10 minutes.","title":"SQS sendMessage successful but message does not show up on the AWS console","body":"<p>I have a method that sends a message to a SQS Standard queue. The method returns a successful response upon execution. But the console does not show any messages in the queue. Any ideas on what could be the reason this is happening?? Can provide a code snippet if that is helpful. Thanks!</p>\n<p>Visibility timeout has been set to 10 minutes.</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483346877,"creation_date":1448513882,"answer_id":33930892,"question_id":33924200,"body_markdown":"One way I can think of getting around the hyphens is to use `HttpServletRequestWrapper` class to wrap the original request. \r\n\r\n1. Parse all the request parameters in this class and convert all hyphenated parameters into camelcase. After this, spring will be able to automatically map those parameters to your POJO classes.\r\n\r\n        public class CustomRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n            private Map&lt;String, String&gt; camelCasedParams = new Hashmap();\r\n            public CustomRequestWrapper(HttpServletRequest req){\r\n                //Get all params from request.\r\n                //Transform each param name from hyphenated to camel case\r\n                //Put them in camelCasedParams; \r\n            }\r\n\r\n            public String getParameter(String name){\r\n                return camelCasedParams.get(name);\r\n            }\r\n\r\n            //Similarly, override other methods related to request parameters\r\n        }\r\n\r\n2. Inject this request wrapper from J2EE filter. You can refer to below link for a tutorial on injecting request wrappers using filter.\r\n\r\n    http://www.programcreek.com/java-api-examples/javax.servlet.http.HttpServletRequestWrapper\r\n\r\n3. Update your web xml to include filter and its filter mapping.","title":"Mapping URL parameters with dashes to object in Spring Web MVC","body":"<p>One way I can think of getting around the hyphens is to use <code>HttpServletRequestWrapper</code> class to wrap the original request. </p>\n\n<ol>\n<li><p>Parse all the request parameters in this class and convert all hyphenated parameters into camelcase. After this, spring will be able to automatically map those parameters to your POJO classes.</p>\n\n<pre><code>public class CustomRequestWrapper extends HttpServletRequestWrapper {\n\n    private Map&lt;String, String&gt; camelCasedParams = new Hashmap();\n    public CustomRequestWrapper(HttpServletRequest req){\n        //Get all params from request.\n        //Transform each param name from hyphenated to camel case\n        //Put them in camelCasedParams; \n    }\n\n    public String getParameter(String name){\n        return camelCasedParams.get(name);\n    }\n\n    //Similarly, override other methods related to request parameters\n}\n</code></pre></li>\n<li><p>Inject this request wrapper from J2EE filter. You can refer to below link for a tutorial on injecting request wrappers using filter.</p>\n\n<p><a href=\"http://www.programcreek.com/java-api-examples/javax.servlet.http.HttpServletRequestWrapper\" rel=\"nofollow noreferrer\">http://www.programcreek.com/java-api-examples/javax.servlet.http.HttpServletRequestWrapper</a></p></li>\n<li><p>Update your web xml to include filter and its filter mapping.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3840000,"reputation":156,"user_id":3183379,"display_name":"Bjorn Loftis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1449246660,"creation_date":1449246660,"answer_id":34092984,"question_id":33924200,"body_markdown":"I extended ServletRequestDataBinder and ServletModelAttributeMethodProcessor to solve the problem.\r\n\r\nConsider that your domain object may already be annotated with @JsonProperty or @XmlElement for serialization.  This example assumes this is the case.  But you could also create your own custom annotation for this purpose e.g. @MyParamMapping.\r\n\r\nAn example of your annotated domain class is:\r\n\r\n    public class RequestParams {\r\n\r\n        @XmlElement(name = &quot;my-val-1&quot; )\r\n        @JsonProperty(value = &quot;my-val-1&quot;)\r\n        private String myVal1;\r\n\r\n        @XmlElement(name = &quot;my-val-2&quot;)\r\n        @JsonProperty(value = &quot;my-val-2&quot;)\r\n        private String myVal2;\r\n\r\n        public RequestParams() {\r\n        }\r\n\r\n        public String getMyVal1() {\r\n            return myVal1;\r\n        }\r\n\r\n        public void setMyVal1(String myVal1) {\r\n            this.myVal1 = myVal1;\r\n        }\r\n\r\n        public String getMyVal2() {\r\n            return myVal2;\r\n        }\r\n\r\n        public void setMyVal2(String myVal2) {\r\n            this.myVal2 = myVal2;\r\n        }\r\n    }\r\n\r\nYou will need a SerletModelAttributeMethodProcessor to analyze the target class, generate a mapping, invoke your ServletRequestDataBinder.\r\n\r\n        public class KebabCaseProcessor extends ServletModelAttributeMethodProcessor {\r\n    \r\n        public KebabCaseProcessor(boolean annotationNotRequired) {\r\n            super(annotationNotRequired);\r\n        }\r\n    \r\n        @Autowired\r\n        private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\r\n    \r\n        private final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; replaceMap = new ConcurrentHashMap&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt;();\r\n    \r\n        @Override\r\n        protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\r\n            Object target = binder.getTarget();\r\n            Class&lt;?&gt; targetClass = target.getClass();\r\n            if (!replaceMap.containsKey(targetClass)) {\r\n                Map&lt;String, String&gt; mapping = analyzeClass(targetClass);\r\n                replaceMap.put(targetClass, mapping);\r\n            }\r\n            Map&lt;String, String&gt; mapping = replaceMap.get(targetClass);\r\n            ServletRequestDataBinder kebabCaseDataBinder = new KebabCaseRequestDataBinder(target, binder.getObjectName(), mapping);\r\n            requestMappingHandlerAdapter.getWebBindingInitializer().initBinder(kebabCaseDataBinder, nativeWebRequest);\r\n            super.bindRequestParameters(kebabCaseDataBinder, nativeWebRequest);\r\n        }\r\n    \r\n        private static Map&lt;String, String&gt; analyzeClass(Class&lt;?&gt; targetClass) {\r\n            Field[] fields = targetClass.getDeclaredFields();\r\n            Map&lt;String, String&gt; renameMap = new HashMap&lt;String, String&gt;();\r\n            for (Field field : fields) {\r\n                XmlElement xmlElementAnnotation = field.getAnnotation(XmlElement.class);\r\n                JsonProperty jsonPropertyAnnotation = field.getAnnotation(JsonProperty.class);\r\n                if (xmlElementAnnotation != null &amp;&amp; !xmlElementAnnotation.name().isEmpty()) {\r\n                    renameMap.put(xmlElementAnnotation.name(), field.getName());\r\n                } else if (jsonPropertyAnnotation != null &amp;&amp; !jsonPropertyAnnotation.value().isEmpty()) {\r\n                    renameMap.put(jsonPropertyAnnotation.value(), field.getName());\r\n                }\r\n            }\r\n            if (renameMap.isEmpty())\r\n                return Collections.emptyMap();\r\n            return renameMap;\r\n        }\r\n    }\r\n\r\nThis KebabCaseProcessor will use reflection to get a list of mappings for your request object.  It will then invoke the KebabCaseDataBinder - passing in the mappings.\r\n\r\n    @Configuration\r\n    public class KebabCaseRequestDataBinder extends ExtendedServletRequestDataBinder {\r\n    \r\n        private final Map&lt;String, String&gt; renameMapping;\r\n    \r\n        public KebabCaseRequestDataBinder(Object target, String objectName, Map&lt;String, String&gt; mapping) {\r\n            super(target, objectName);\r\n            this.renameMapping = mapping;\r\n        }\r\n    \r\n        protected void addBindValues(MutablePropertyValues mpvs, ServletRequest request) {\r\n            super.addBindValues(mpvs, request);\r\n            for (Map.Entry&lt;String, String&gt; entry : renameMapping.entrySet()) {\r\n                String from = entry.getKey();\r\n                String to = entry.getValue();\r\n                if (mpvs.contains(from)) {\r\n                    mpvs.add(to, mpvs.getPropertyValue(from).getValue());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAll that remains now is to add this behavior to your configuration.  The following configuration overrides the default configuration that the @EnableWebMVC delivers and adds this behavior to your request processing.\r\n\r\n    @Configuration\r\n    public static class WebContextConfiguration extends WebMvcConfigurationSupport {\r\n        @Override\r\n        protected void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(kebabCaseProcessor());\r\n        }\r\n        \r\n        @Bean\r\n        protected KebabCaseProcessor kebabCaseProcessor() {\r\n            return new KebabCaseProcessor(true);\r\n        }\r\n    } \r\n\r\nCredit should be given to @Jkee.  This solution is derivative of an example he posted here:  https://stackoverflow.com/questions/8986593/how-to-customize-parameter-names-when-binding-spring-mvc-command-objects.","title":"Mapping URL parameters with dashes to object in Spring Web MVC","body":"<p>I extended ServletRequestDataBinder and ServletModelAttributeMethodProcessor to solve the problem.</p>\n\n<p>Consider that your domain object may already be annotated with @JsonProperty or @XmlElement for serialization.  This example assumes this is the case.  But you could also create your own custom annotation for this purpose e.g. @MyParamMapping.</p>\n\n<p>An example of your annotated domain class is:</p>\n\n<pre><code>public class RequestParams {\n\n    @XmlElement(name = \"my-val-1\" )\n    @JsonProperty(value = \"my-val-1\")\n    private String myVal1;\n\n    @XmlElement(name = \"my-val-2\")\n    @JsonProperty(value = \"my-val-2\")\n    private String myVal2;\n\n    public RequestParams() {\n    }\n\n    public String getMyVal1() {\n        return myVal1;\n    }\n\n    public void setMyVal1(String myVal1) {\n        this.myVal1 = myVal1;\n    }\n\n    public String getMyVal2() {\n        return myVal2;\n    }\n\n    public void setMyVal2(String myVal2) {\n        this.myVal2 = myVal2;\n    }\n}\n</code></pre>\n\n<p>You will need a SerletModelAttributeMethodProcessor to analyze the target class, generate a mapping, invoke your ServletRequestDataBinder.</p>\n\n<pre><code>    public class KebabCaseProcessor extends ServletModelAttributeMethodProcessor {\n\n    public KebabCaseProcessor(boolean annotationNotRequired) {\n        super(annotationNotRequired);\n    }\n\n    @Autowired\n    private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\n\n    private final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; replaceMap = new ConcurrentHashMap&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt;();\n\n    @Override\n    protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\n        Object target = binder.getTarget();\n        Class&lt;?&gt; targetClass = target.getClass();\n        if (!replaceMap.containsKey(targetClass)) {\n            Map&lt;String, String&gt; mapping = analyzeClass(targetClass);\n            replaceMap.put(targetClass, mapping);\n        }\n        Map&lt;String, String&gt; mapping = replaceMap.get(targetClass);\n        ServletRequestDataBinder kebabCaseDataBinder = new KebabCaseRequestDataBinder(target, binder.getObjectName(), mapping);\n        requestMappingHandlerAdapter.getWebBindingInitializer().initBinder(kebabCaseDataBinder, nativeWebRequest);\n        super.bindRequestParameters(kebabCaseDataBinder, nativeWebRequest);\n    }\n\n    private static Map&lt;String, String&gt; analyzeClass(Class&lt;?&gt; targetClass) {\n        Field[] fields = targetClass.getDeclaredFields();\n        Map&lt;String, String&gt; renameMap = new HashMap&lt;String, String&gt;();\n        for (Field field : fields) {\n            XmlElement xmlElementAnnotation = field.getAnnotation(XmlElement.class);\n            JsonProperty jsonPropertyAnnotation = field.getAnnotation(JsonProperty.class);\n            if (xmlElementAnnotation != null &amp;&amp; !xmlElementAnnotation.name().isEmpty()) {\n                renameMap.put(xmlElementAnnotation.name(), field.getName());\n            } else if (jsonPropertyAnnotation != null &amp;&amp; !jsonPropertyAnnotation.value().isEmpty()) {\n                renameMap.put(jsonPropertyAnnotation.value(), field.getName());\n            }\n        }\n        if (renameMap.isEmpty())\n            return Collections.emptyMap();\n        return renameMap;\n    }\n}\n</code></pre>\n\n<p>This KebabCaseProcessor will use reflection to get a list of mappings for your request object.  It will then invoke the KebabCaseDataBinder - passing in the mappings.</p>\n\n<pre><code>@Configuration\npublic class KebabCaseRequestDataBinder extends ExtendedServletRequestDataBinder {\n\n    private final Map&lt;String, String&gt; renameMapping;\n\n    public KebabCaseRequestDataBinder(Object target, String objectName, Map&lt;String, String&gt; mapping) {\n        super(target, objectName);\n        this.renameMapping = mapping;\n    }\n\n    protected void addBindValues(MutablePropertyValues mpvs, ServletRequest request) {\n        super.addBindValues(mpvs, request);\n        for (Map.Entry&lt;String, String&gt; entry : renameMapping.entrySet()) {\n            String from = entry.getKey();\n            String to = entry.getValue();\n            if (mpvs.contains(from)) {\n                mpvs.add(to, mpvs.getPropertyValue(from).getValue());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>All that remains now is to add this behavior to your configuration.  The following configuration overrides the default configuration that the @EnableWebMVC delivers and adds this behavior to your request processing.</p>\n\n<pre><code>@Configuration\npublic static class WebContextConfiguration extends WebMvcConfigurationSupport {\n    @Override\n    protected void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(kebabCaseProcessor());\n    }\n\n    @Bean\n    protected KebabCaseProcessor kebabCaseProcessor() {\n        return new KebabCaseProcessor(true);\n    }\n} \n</code></pre>\n\n<p>Credit should be given to @Jkee.  This solution is derivative of an example he posted here:  <a href=\"https://stackoverflow.com/questions/8986593/how-to-customize-parameter-names-when-binding-spring-mvc-command-objects\">How to customize parameter names when binding spring mvc command objects</a>.</p>\n"}],"owner":{"account_id":3187887,"reputation":681,"user_id":2693009,"accept_rate":80,"display_name":"A. Weatherwax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7810,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34092984,"answer_count":2,"score":5,"last_activity_date":1671425302,"creation_date":1448477088,"question_id":33924200,"body_markdown":"Mapping URL request parameters with Spring MVC to an object is fairly straightforward if you&#39;re using camelCase parameters in your request, but when presented with hyphen delimited values, how do you map these to an object?\r\n\r\nExample for reference:\r\n\r\nController:\r\n\r\n    @RestController\r\n    public class MyController {\r\n\r\n        @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\r\n        public ResponseEntity&lt;String&gt; search(RequestParams requestParams) {\r\n            return new ResponseEntity&lt;&gt;(&quot;my-val-1: &quot; + requestParams.getMyVal1() + &quot; my-val-2: &quot; + requestParams.getMyVal2(), HttpStatus.OK);\r\n        }\r\n\r\n    }\r\n\r\nObject to hold parameters:\r\n\r\n    public class RequestParams {\r\n\r\n        private String myVal1;\r\n        private String myVal2;\r\n\r\n        public RequestParams() {}\r\n\r\n        public String getMyVal1() {\r\n            return myVal1;\r\n        }\r\n\r\n        public void setMyVal1(String myVal1) {\r\n            this.myVal1 = myVal1;\r\n        }\r\n\r\n        public String getMyVal2() {\r\n            return myVal2;\r\n        }\r\n\r\n        public void setMyVal2(String myVal2) {\r\n            this.myVal2 = myVal2;\r\n        }\r\n    }\r\n\r\n\r\nA request made like this works fine:\r\n\r\n    GET http://localhost:8080/search?myVal1=foo&amp;myVal2=bar\r\n\r\nBut, what I want is for a request with hyphens to map to the object, like so:\r\n\r\n    GET http://localhost:8080/search?my-val-1=foo&amp;my-val-2=bar\r\n\r\n**What do I need to configure in Spring to map url request parameters with hyphens to fields in an object?** Bear in mind that we may have *many* parameters, so using a @RequestParam annotation for each field is not ideal.","title":"Mapping URL parameters with dashes to object in Spring Web MVC","body":"<p>Mapping URL request parameters with Spring MVC to an object is fairly straightforward if you're using camelCase parameters in your request, but when presented with hyphen delimited values, how do you map these to an object?</p>\n\n<p>Example for reference:</p>\n\n<p>Controller:</p>\n\n<pre><code>@RestController\npublic class MyController {\n\n    @RequestMapping(value = \"/search\", method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; search(RequestParams requestParams) {\n        return new ResponseEntity&lt;&gt;(\"my-val-1: \" + requestParams.getMyVal1() + \" my-val-2: \" + requestParams.getMyVal2(), HttpStatus.OK);\n    }\n\n}\n</code></pre>\n\n<p>Object to hold parameters:</p>\n\n<pre><code>public class RequestParams {\n\n    private String myVal1;\n    private String myVal2;\n\n    public RequestParams() {}\n\n    public String getMyVal1() {\n        return myVal1;\n    }\n\n    public void setMyVal1(String myVal1) {\n        this.myVal1 = myVal1;\n    }\n\n    public String getMyVal2() {\n        return myVal2;\n    }\n\n    public void setMyVal2(String myVal2) {\n        this.myVal2 = myVal2;\n    }\n}\n</code></pre>\n\n<p>A request made like this works fine:</p>\n\n<pre><code>GET http://localhost:8080/search?myVal1=foo&amp;myVal2=bar\n</code></pre>\n\n<p>But, what I want is for a request with hyphens to map to the object, like so:</p>\n\n<pre><code>GET http://localhost:8080/search?my-val-1=foo&amp;my-val-2=bar\n</code></pre>\n\n<p><strong>What do I need to configure in Spring to map url request parameters with hyphens to fields in an object?</strong> Bear in mind that we may have <em>many</em> parameters, so using a @RequestParam annotation for each field is not ideal.</p>\n"},{"tags":["java","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671424273,"creation_date":1671423786,"answer_id":74846270,"question_id":74846163,"body_markdown":"Your fields have visibility private, by default the object mapper will only access properties that are public or have public getters/setters. You can either create getter and setters if it fits your use-case or change the objectMapper config\r\n\r\n    // Before Jackson 2.0\r\n    objectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\r\n    // After Jackson 2.0\r\n    objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\nMore about it - http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility) and https://www.baeldung.com/jackson-jsonmappingexception\r\n\r\nand then use Use Map&lt;String, Object&gt; as the TypeReference\r\n\r\n    // Create ObjectMapper instance \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    // Converting POJO to Map Map&lt;String, Object&gt; \r\n    map = objectMapper.convertValue(kim, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n    \r\n    // Convert Map to POJO\r\n    User kim2 = objectMapper.convertValue(map, User.class);\r\n\r\nLet me know if you face any other issue.","title":"how to convert list fields to map in java","body":"<p>Your fields have visibility private, by default the object mapper will only access properties that are public or have public getters/setters. You can either create getter and setters if it fits your use-case or change the objectMapper config</p>\n<pre><code>// Before Jackson 2.0\nobjectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\n// After Jackson 2.0\nobjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n</code></pre>\n<p>More about it - <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)\" rel=\"nofollow noreferrer\">http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)</a> and <a href=\"https://www.baeldung.com/jackson-jsonmappingexception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-jsonmappingexception</a></p>\n<p>and then use Use Map&lt;String, Object&gt; as the TypeReference</p>\n<pre><code>// Create ObjectMapper instance \nObjectMapper objectMapper = new ObjectMapper();\n\n// Converting POJO to Map Map&lt;String, Object&gt; \nmap = objectMapper.convertValue(kim, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n// Convert Map to POJO\nUser kim2 = objectMapper.convertValue(map, User.class);\n</code></pre>\n<p>Let me know if you face any other issue.</p>\n"}],"owner":{"account_id":18929848,"reputation":35,"user_id":19344103,"display_name":"JavaMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74846270,"answer_count":1,"score":1,"last_activity_date":1671424273,"creation_date":1671422184,"question_id":74846163,"body_markdown":"I&#39;m getting an error trying to change a Java object to a map. It is assumed that there is a list among the fields. Is there any solution???\r\n\r\n``` java\r\n    static class User {\r\n\r\n        private String name;\r\n        private List&lt;Integer&gt; ages;\r\n    }\r\n\r\n\r\n    @Test\r\n    void t3() {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        final User kim = new User(&quot;kim&quot;, Arrays.asList(1, 2));\r\n\r\n        objectMapper.convertValue(kim, new TypeReference&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt;() {}); // error\r\n        // objectMapper.convertValue(kim, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}); // not working too\r\n   }\r\n```\r\n\r\nerror message: \r\nCannot deserialize value of type `java.lang.String` from Array value (token `JsonToken.START_ARRAY`)","title":"how to convert list fields to map in java","body":"<p>I'm getting an error trying to change a Java object to a map. It is assumed that there is a list among the fields. Is there any solution???</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class User {\n\n        private String name;\n        private List&lt;Integer&gt; ages;\n    }\n\n\n    @Test\n    void t3() {\n        final ObjectMapper objectMapper = new ObjectMapper();\n\n        final User kim = new User(&quot;kim&quot;, Arrays.asList(1, 2));\n\n        objectMapper.convertValue(kim, new TypeReference&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt;() {}); // error\n        // objectMapper.convertValue(kim, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}); // not working too\n   }\n</code></pre>\n<p>error message:\nCannot deserialize value of type <code>java.lang.String</code> from Array value (token <code>JsonToken.START_ARRAY</code>)</p>\n"},{"tags":["java","user-interface","repaint"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1671425234,"post_id":74846277,"comment_id":132089102,"body_markdown":"Never try to read in images or resources from within a painting method, and never sleep the Swing event thread. The first is wasteful and unnecessary and will slow the perceived responsiveness of your program and the second will freeze your program. Read the images in once, and use a Swing Timer.","body":"Never try to read in images or resources from within a painting method, and never sleep the Swing event thread. The first is wasteful and unnecessary and will slow the perceived responsiveness of your program and the second will freeze your program. Read the images in once, and use a Swing Timer."}],"owner":{"account_id":27294141,"reputation":1,"user_id":20812061,"display_name":"OSHER STEEL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671425267,"answer_count":0,"score":0,"last_activity_date":1671423943,"creation_date":1671423943,"question_id":74846277,"body_markdown":"I have been working on this implementation of stratego using socket networking with java for some time and I am stuck trying to make the attacks visible for both players.\r\n(In stratego you cannot see your opponents&#39; pawns except when two pawns attack and they are both revealed before one or both get discarded as a result of the battle)\r\n\r\nI have a JPanel named Board which paints each cell depending on conditions (is there a pawn on the cell, is the pawn visible by the player etc...) \r\n\r\nThe way I laid it out is when a player makes an attack it splits the move in two parts, in the first one, both pawns are visible to both player and then the attack actually takes place. \r\n\r\nFor some reason, my program ignores the repaint() method when I want to show the two pawns and so they do not become visible. To add to that, the problem only occurs for the current player, not the player receiving the information, which is weird because they go through the same function in the Board class. \r\n\r\nThis code segment runs when the current player presses ENTER and it&#39;s that player&#39;s turn\r\n\r\n```\r\n        \t   else if(myTurn)\r\n        \t   {\r\n        \t\t   int []tempArr=board.enterKeyPressed(setupDone,true,true);\r\n        \t\t   \r\n        \t\t   \tif(tempArr[4]==Utils.ATTACK)\r\n        \t\t   \t{\r\n        \t\t   \t\tsendMove(tempArr);\r\n        \t\t\t   \r\n        \t\t   \t\ttry {\r\n        \t\t   \t\t\tTimeUnit.SECONDS.sleep(2);\r\n        \t\t   \t\t} catch (InterruptedException e1) {\r\n        \t\t   \t\t\te1.printStackTrace();\r\n        \t\t   \t\t}\r\n        \t\t\t   \r\n\t        \t\t   tempArr=board.enterKeyPressed(setupDone,true,false);\r\n\t     \r\n\t         \t\t   notifyAll();\r\n\t        \t\t   myTurn=false;\r\n        \t\t   }\r\n        \t\t   else if(tempArr[4]==Utils.MOVE)\r\n        \t\t   {\r\n        \t\t\t   sendMove(tempArr);\r\n            \t\t   notifyAll();\r\n            \t\t   myTurn=false;\r\n        \t\t   }        \t\t\t \r\n        \t\t   gameOver=board.isGameOver();\r\n        \t   }\r\n```\r\n\r\nThis is the enterKeyPressed method\r\n\r\nFor some reason, when begginingOfTurn is false and attackInProgress is true (which means that pawns involved in the battled will be visible in paintComponent) repaint() will not run properly. I have tried debugging by placing a breakpoint at the paintComponent function and it will be called every single time except for this specific instance. \r\nAnother odd thing is that it does work when thisPlayer is true (which means that the move is coming from the other player)\r\n\r\n```\r\n public int[]enterKeyPressed(boolean settupDone, boolean thisPlayer, boolean begginingOfTurn)\r\n    {\r\n    \tint []moveLocation= {-1,-1,-1,-1,-1};\r\n    \t\r\n    \tAlliance tempAlliance;\r\n    \tif(thisPlayer)\r\n    \t\ttempAlliance=boardAlliance;\r\n    \telse\r\n    \t\ttempAlliance=Alliance.getOppositeAlliance(boardAlliance);\r\n\r\n    \tsettingUpDone=settupDone;\r\n    \tattackInProgress=false;\r\n    \t\r\n    \t\r\n       \r\n    \tif(!settupDone) //During setupPhase\r\n        {\r\n    \t\tsettupAction();\r\n        }\r\n        else  //During battle phase\r\n        {\r\n            if(!squareSelected) //if no square is currently selected\r\n            {\r\n                if(canPawnMove()) //Checks if the pawn in the square has at least one available move\r\n                {\r\n                    xSelected=xSelector; //Make current square selected\r\n                    ySelected=ySelector;\r\n                    squareSelected=true;\r\n                }\r\n                moveLocation[4]=Utils.SELECTED;\r\n            }\r\n            else //if a square is currently selected\r\n            {\r\n                if(canPawnMoveToSquare(xSelector, ySelector) || !thisPlayer) //if the selector is at a square where the selected pawn can move\r\n                {             \t\r\n                    if(square[xSelector][ySelector].isEmpty()) //move the pawn to that square \r\n                    {\r\n                    \tmovePawn(thisPlayer); \r\n                        moveLocation[4]=Utils.MOVE;\r\n                        squareSelected=false;\r\n                    }\r\n                    else if(square[xSelector][ySelector].getPawn().playerAlliance==Alliance.getOppositeAlliance(tempAlliance))\r\n                    {\r\n                    \tif(begginingOfTurn)\r\n                    \t{\r\n                    \t\tattackInProgress=true;\r\n                    \t}\r\n                    \telse\r\n                    \t{\r\n                    \t\tattack(thisPlayer);\r\n                    \t\tsquareSelected=false;\r\n                    \t}\r\n                    \tmoveLocation[4]=Utils.ATTACK;\r\n                    }\r\n                    \r\n                  \r\n                    moveLocation[0]=xSelected;\r\n                    moveLocation[1]=ySelected;\r\n                    moveLocation[2]=xSelector;\r\n                    moveLocation[3]=ySelector;\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    if(xSelector==xSelected &amp;&amp; ySelector==ySelected) //if selector and selected are the same then square is deselected\r\n                        squareSelected=false;\r\n                       \r\n                    else if(square[xSelector][ySelector].getPawn().playerAlliance==boardAlliance  &amp;&amp; canPawnMove())\t //if it is a player&#39;s pawn that can move then selected square is moved to that square\r\n                    \txSelected=xSelector; ySelected=ySelector;\r\n                    \t\r\n                    moveLocation[4]=Utils.SELECTED;\r\n                }\r\n            }\r\n        }\r\n        \r\n        repaint();\r\n        return moveLocation;\r\n    }\r\n```\r\n\r\npaintComponent method \r\n\r\n\r\n```\r\n    public void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        BufferedImage strategoLogo=null;\r\n        try {\r\n\t\t\t\tstrategoLogo= ImageIO.read(new File(Paths.get(&quot;&quot;,&quot;images&quot;,&quot;Stratego_logo_final.png&quot;).toString()));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n        \r\n        Image strategoImage= strategoLogo.getScaledInstance(350,350/4,Image.SCALE_SMOOTH);\r\n        \r\n        if(!gameOver)\r\n        \tg2d.drawImage(strategoImage,435,0,this);\r\n\r\n        Rectangle bigRect = new Rectangle(Utils.INITIAL_BOARD_X, Utils.INITIAL_BOARD_Y,   //Paints the board\r\n        \t\t(Utils.TILE_LENGTH * 10), (Utils.TILE_LENGTH * 10)); \r\n\r\n        g2d.setColor(Utils.SQUARE_COLOR);\r\n        g2d.fill(bigRect); \r\n\r\n        for (int i = 0; i &lt; 10; i++)  // Paints each cell \r\n        {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                paintCell(i, j, g2d);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\nAny help would be much appreciated I don&#39;t think I can figure this one out on my own\r\nI can also add more code segments if it helps paint a clearer picture of the program","title":"Why does my program ignore repaint() method?","body":"<p>I have been working on this implementation of stratego using socket networking with java for some time and I am stuck trying to make the attacks visible for both players.\n(In stratego you cannot see your opponents' pawns except when two pawns attack and they are both revealed before one or both get discarded as a result of the battle)</p>\n<p>I have a JPanel named Board which paints each cell depending on conditions (is there a pawn on the cell, is the pawn visible by the player etc...)</p>\n<p>The way I laid it out is when a player makes an attack it splits the move in two parts, in the first one, both pawns are visible to both player and then the attack actually takes place.</p>\n<p>For some reason, my program ignores the repaint() method when I want to show the two pawns and so they do not become visible. To add to that, the problem only occurs for the current player, not the player receiving the information, which is weird because they go through the same function in the Board class.</p>\n<p>This code segment runs when the current player presses ENTER and it's that player's turn</p>\n<pre><code>               else if(myTurn)\n               {\n                   int []tempArr=board.enterKeyPressed(setupDone,true,true);\n                   \n                    if(tempArr[4]==Utils.ATTACK)\n                    {\n                        sendMove(tempArr);\n                       \n                        try {\n                            TimeUnit.SECONDS.sleep(2);\n                        } catch (InterruptedException e1) {\n                            e1.printStackTrace();\n                        }\n                       \n                       tempArr=board.enterKeyPressed(setupDone,true,false);\n         \n                       notifyAll();\n                       myTurn=false;\n                   }\n                   else if(tempArr[4]==Utils.MOVE)\n                   {\n                       sendMove(tempArr);\n                       notifyAll();\n                       myTurn=false;\n                   }                     \n                   gameOver=board.isGameOver();\n               }\n</code></pre>\n<p>This is the enterKeyPressed method</p>\n<p>For some reason, when begginingOfTurn is false and attackInProgress is true (which means that pawns involved in the battled will be visible in paintComponent) repaint() will not run properly. I have tried debugging by placing a breakpoint at the paintComponent function and it will be called every single time except for this specific instance.\nAnother odd thing is that it does work when thisPlayer is true (which means that the move is coming from the other player)</p>\n<pre><code> public int[]enterKeyPressed(boolean settupDone, boolean thisPlayer, boolean begginingOfTurn)\n    {\n        int []moveLocation= {-1,-1,-1,-1,-1};\n        \n        Alliance tempAlliance;\n        if(thisPlayer)\n            tempAlliance=boardAlliance;\n        else\n            tempAlliance=Alliance.getOppositeAlliance(boardAlliance);\n\n        settingUpDone=settupDone;\n        attackInProgress=false;\n        \n        \n       \n        if(!settupDone) //During setupPhase\n        {\n            settupAction();\n        }\n        else  //During battle phase\n        {\n            if(!squareSelected) //if no square is currently selected\n            {\n                if(canPawnMove()) //Checks if the pawn in the square has at least one available move\n                {\n                    xSelected=xSelector; //Make current square selected\n                    ySelected=ySelector;\n                    squareSelected=true;\n                }\n                moveLocation[4]=Utils.SELECTED;\n            }\n            else //if a square is currently selected\n            {\n                if(canPawnMoveToSquare(xSelector, ySelector) || !thisPlayer) //if the selector is at a square where the selected pawn can move\n                {               \n                    if(square[xSelector][ySelector].isEmpty()) //move the pawn to that square \n                    {\n                        movePawn(thisPlayer); \n                        moveLocation[4]=Utils.MOVE;\n                        squareSelected=false;\n                    }\n                    else if(square[xSelector][ySelector].getPawn().playerAlliance==Alliance.getOppositeAlliance(tempAlliance))\n                    {\n                        if(begginingOfTurn)\n                        {\n                            attackInProgress=true;\n                        }\n                        else\n                        {\n                            attack(thisPlayer);\n                            squareSelected=false;\n                        }\n                        moveLocation[4]=Utils.ATTACK;\n                    }\n                    \n                  \n                    moveLocation[0]=xSelected;\n                    moveLocation[1]=ySelected;\n                    moveLocation[2]=xSelector;\n                    moveLocation[3]=ySelector;\n                    \n                }\n                else\n                {\n                    if(xSelector==xSelected &amp;&amp; ySelector==ySelected) //if selector and selected are the same then square is deselected\n                        squareSelected=false;\n                       \n                    else if(square[xSelector][ySelector].getPawn().playerAlliance==boardAlliance  &amp;&amp; canPawnMove())  //if it is a player's pawn that can move then selected square is moved to that square\n                        xSelected=xSelector; ySelected=ySelector;\n                        \n                    moveLocation[4]=Utils.SELECTED;\n                }\n            }\n        }\n        \n        repaint();\n        return moveLocation;\n    }\n</code></pre>\n<p>paintComponent method</p>\n<pre><code>    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        BufferedImage strategoLogo=null;\n        try {\n                strategoLogo= ImageIO.read(new File(Paths.get(&quot;&quot;,&quot;images&quot;,&quot;Stratego_logo_final.png&quot;).toString()));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        \n        Image strategoImage= strategoLogo.getScaledInstance(350,350/4,Image.SCALE_SMOOTH);\n        \n        if(!gameOver)\n            g2d.drawImage(strategoImage,435,0,this);\n\n        Rectangle bigRect = new Rectangle(Utils.INITIAL_BOARD_X, Utils.INITIAL_BOARD_Y,   //Paints the board\n                (Utils.TILE_LENGTH * 10), (Utils.TILE_LENGTH * 10)); \n\n        g2d.setColor(Utils.SQUARE_COLOR);\n        g2d.fill(bigRect); \n\n        for (int i = 0; i &lt; 10; i++)  // Paints each cell \n        {\n            for (int j = 0; j &lt; 10; j++) {\n                paintCell(i, j, g2d);\n            }\n        }\n    }\n</code></pre>\n<p>Any help would be much appreciated I don't think I can figure this one out on my own\nI can also add more code segments if it helps paint a clearer picture of the program</p>\n"},{"tags":["java","object","serialization","file-io","deserialization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1671423854,"post_id":74846229,"comment_id":132088936,"body_markdown":"Each object will only be written once. You can use `writeUnshared` if you don&#39;t want that behaviour.","body":"Each object will only be written once. You can use <code>writeUnshared</code> if you don&#39;t want that behaviour."},{"owner":{"account_id":27294088,"reputation":1,"user_id":20812012,"display_name":"troy"},"score":0,"creation_date":1671434032,"post_id":74846229,"comment_id":132090313,"body_markdown":"Thanks a ton!! Are there any potential drawbacks I should be aware of when using `writeUnshared` rather than `writeObject`?","body":"Thanks a ton!! Are there any potential drawbacks I should be aware of when using <code>writeUnshared</code> rather than <code>writeObject</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671439870,"post_id":74846229,"comment_id":132091620,"body_markdown":"Object graphs are written, so writeUnshared has the potential to write more data if your objects share dependent objects.","body":"Object graphs are written, so writeUnshared has the potential to write more data if your objects share dependent objects."}],"owner":{"account_id":27294088,"reputation":1,"user_id":20812012,"display_name":"troy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671423180,"creation_date":1671423180,"question_id":74846229,"body_markdown":"I am trying to write the same object to a file twice. However, changing a value in the object does not seem to change what is written to the file.\r\n\r\n```lang-java\r\n\r\npublic static void main(String[] args) throws IOException, ClassNotFoundException {\r\n\r\n        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;file.txt&quot;));\r\n        ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;file.txt&quot;));\r\n\r\n        MyObj obj = new MyObj();\r\n\r\n        obj.val = 1;\r\n        oos.writeObject(obj);\r\n\r\n        obj.val = 2;\r\n        oos.writeObject(obj);\r\n\r\n        System.out.println( ((MyObj)ois.readObject()).val );\r\n        System.out.println( ((MyObj)ois.readObject()).val );\r\n\r\n        oos.close();\r\n        ois.close();\r\n}\r\n```\r\n\r\nMyObj implementation:\r\n\r\n```lang-java\r\n\r\nclass MyObj implements Serializable  {\r\n    int val;\r\n}\r\n```\r\n\r\nSince `obj.val` is `1` when I write `obj` to the file for the first time and `2` the second time, I am expecting the program to print `1` then `2`. However, I get `1` printed both times instead.\r\n\r\nWhy is this the case, and what can I do to get around this?","title":"Why aren&#39;t changes in an object able to be written into a file?","body":"<p>I am trying to write the same object to a file twice. However, changing a value in the object does not seem to change what is written to the file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static void main(String[] args) throws IOException, ClassNotFoundException {\n\n        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;file.txt&quot;));\n        ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;file.txt&quot;));\n\n        MyObj obj = new MyObj();\n\n        obj.val = 1;\n        oos.writeObject(obj);\n\n        obj.val = 2;\n        oos.writeObject(obj);\n\n        System.out.println( ((MyObj)ois.readObject()).val );\n        System.out.println( ((MyObj)ois.readObject()).val );\n\n        oos.close();\n        ois.close();\n}\n</code></pre>\n<p>MyObj implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass MyObj implements Serializable  {\n    int val;\n}\n</code></pre>\n<p>Since <code>obj.val</code> is <code>1</code> when I write <code>obj</code> to the file for the first time and <code>2</code> the second time, I am expecting the program to print <code>1</code> then <code>2</code>. However, I get <code>1</code> printed both times instead.</p>\n<p>Why is this the case, and what can I do to get around this?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-redis"],"comments":[{"owner":{"account_id":8664628,"reputation":1023,"user_id":6485674,"display_name":"storenth"},"score":0,"creation_date":1671032889,"post_id":74793797,"comment_id":132010886,"body_markdown":"Does this answer your question? [Convert bytes to a string](https://stackoverflow.com/questions/606191/convert-bytes-to-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/606191/convert-bytes-to-a-string\">Convert bytes to a string</a>"},{"owner":{"account_id":24519139,"reputation":23,"user_id":19894782,"display_name":"Borka192"},"score":0,"creation_date":1671074286,"post_id":74793797,"comment_id":132021099,"body_markdown":"StringRedisSerializer and JdkSerializationRedisSerializer perform this transformation, \neverything worked for me when I changed the connection to the redis from JedisConnectionFactory to LettuceConnectionFactory","body":"StringRedisSerializer and JdkSerializationRedisSerializer perform this transformation,  everything worked for me when I changed the connection to the redis from JedisConnectionFactory to LettuceConnectionFactory"}],"answers":[{"tags":[],"owner":{"account_id":20773693,"reputation":1,"user_id":15255725,"display_name":"Paul Friedrich Schulz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671272451,"creation_date":1671012421,"answer_id":74796536,"question_id":74793797,"body_markdown":"You can also have Spring Boot automatically generate the connection to Redis based on your .yml or a .properties file. You just need to add the following to your application.yml:\r\n\r\n```yaml\r\nspring:\r\n  redis:\r\n    host: localhost\r\n    port : &#39;6379&#39;\r\n```","title":"RedisTemplate Spring boot","body":"<p>You can also have Spring Boot automatically generate the connection to Redis based on your .yml or a .properties file. You just need to add the following to your application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  redis:\n    host: localhost\n    port : '6379'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24519139,"reputation":23,"user_id":19894782,"display_name":"Borka192"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671422221,"creation_date":1671074408,"answer_id":74806491,"question_id":74793797,"body_markdown":"Everything worked for me when I changed the connection to the redis from JedisConnectionFactory to LettuceConnectionFactory\r\n\r\n\r\n    @Bean\r\n        public LettuceConnectionFactory redisStandAloneConnectionFactory() {\r\n            return new LettuceConnectionFactory(new RedisStandaloneConfiguration(&quot;127.0.0.1&quot;, 6379));\r\n        }\r\n\r\n","title":"RedisTemplate Spring boot","body":"<p>Everything worked for me when I changed the connection to the redis from JedisConnectionFactory to LettuceConnectionFactory</p>\n<pre><code>@Bean\n    public LettuceConnectionFactory redisStandAloneConnectionFactory() {\n        return new LettuceConnectionFactory(new RedisStandaloneConfiguration(&quot;127.0.0.1&quot;, 6379));\n    }\n</code></pre>\n"}],"owner":{"account_id":24519139,"reputation":23,"user_id":19894782,"display_name":"Borka192"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74806491,"answer_count":2,"score":-1,"last_activity_date":1671422221,"creation_date":1670994225,"question_id":74793797,"body_markdown":"I am going to store my token in redis\r\n\r\n**RedisConfig**\r\n\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class RedisConfig {\r\n    \r\n        @Bean\r\n        public JedisConnectionFactory jedisConnectionFactory() {\r\n            RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n            redisStandaloneConfiguration.setHostName(&quot;127.0.0.1&quot;);\r\n            redisStandaloneConfiguration.setPort(6379);\r\n    \r\n    \r\n            JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(redisStandaloneConfiguration);\r\n            return jedisConnectionFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public RedisTemplate&lt;String, String&gt; redisTemplate() {\r\n            RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\r\n            redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\r\n            redisTemplate.setEnableTransactionSupport(true);\r\n            redisTemplate.afterPropertiesSet();\r\n            return redisTemplate;\r\n        }\r\n    }\r\n\r\n\r\n**Service**\r\n\r\n\r\n    final var st =AuthenticationSuccessDto\r\n                    .builder()\r\n                    .accessToken(jwtUtils.generateAccessToken(user))\r\n                    .refreshToken(jwtUtils.generateRefreshToken(user))\r\n                    .tokenType(&quot;Bearer&quot;)\r\n                    .user(user)\r\n                    .expiresIn(TimeUnit.SECONDS.toSeconds(60)).build();\r\n    \r\n            try {\r\n                redisTemplate.opsForHash().put(KEY,&quot;1&quot;,st.getAccessToken());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new Exception();\r\n            }\r\n    \r\n            return st;\r\n        }\r\n\r\n\r\n****throws an exception java.lang.NoSuchMethodError: &#39;long redis.clients.jedis.Jedis.hset(byte[], byte[], byte[])&#39;****\r\n\r\n\r\nI need to convert string to bytes?\r\nhelp plz\r\n\r\n","title":"RedisTemplate Spring boot","body":"<p>I am going to store my token in redis</p>\n<p><strong>RedisConfig</strong></p>\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisConfig {\n\n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(&quot;127.0.0.1&quot;);\n        redisStandaloneConfiguration.setPort(6379);\n\n\n        JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(redisStandaloneConfiguration);\n        return jedisConnectionFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, String&gt; redisTemplate() {\n        RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setEnableTransactionSupport(true);\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>final var st =AuthenticationSuccessDto\n                .builder()\n                .accessToken(jwtUtils.generateAccessToken(user))\n                .refreshToken(jwtUtils.generateRefreshToken(user))\n                .tokenType(&quot;Bearer&quot;)\n                .user(user)\n                .expiresIn(TimeUnit.SECONDS.toSeconds(60)).build();\n\n        try {\n            redisTemplate.opsForHash().put(KEY,&quot;1&quot;,st.getAccessToken());\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new Exception();\n        }\n\n        return st;\n    }\n</code></pre>\n<p><strong><strong>throws an exception java.lang.NoSuchMethodError: 'long redis.clients.jedis.Jedis.hset(byte[], byte[], byte[])'</strong></strong></p>\n<p>I need to convert string to bytes?\nhelp plz</p>\n"},{"tags":["java","spring","spring-boot","jsp"],"comments":[{"owner":{"display_name":"user4571959"},"score":1,"creation_date":1671447470,"post_id":74846110,"comment_id":132093866,"body_markdown":"Try http://localhost:8888/DemoSpringMVC/trang-chu\nRemoved the extra slash (/) at the end of URL.","body":"Try <a href=\"http://localhost:8888/DemoSpringMVC/trang-chu\" rel=\"nofollow noreferrer\">localhost:8888/DemoSpringMVC/trang-chu</a> Removed the extra slash (/) at the end of URL."}],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671421501,"creation_date":1671421501,"question_id":74846110,"body_markdown":"I am studying Java Spring Boot and here is my problem.\r\n\r\nI wrote a very simple DemoSpring program and when I started the server, the link `http://localhost:8888/DemoSpringMVC/` worked perfectly.\r\n\r\nI added 2 files into those folder like those links :\r\n\r\n    src/main/webapp/WEB-INF/views/layouts/user/user.jsp\r\n    src/main/webapp/WEB-INF/views/layouts/user/index.jsp\r\n\r\nAnd I coded file decorators.xml like this\r\n\r\n    &lt;decorators defaultdir=&quot;/WEB_INF/views/layouts&quot;&gt;\r\n\t\t&lt;decorator name=&quot;user&quot; page=&quot;user.jsp&quot;&gt;\r\n\t\t\t&lt;pattern&gt;/trang-chu/*&lt;/pattern&gt;\r\n\t\t&lt;/decorator&gt;\r\n\t\t&lt;decorator name=&quot;admin&quot; page=&quot;admin.jsp&quot;&gt;\r\n\t\t\t&lt;pattern&gt;/quan-tri/*&lt;/pattern&gt;\r\n\t\t&lt;/decorator&gt;\r\n    &lt;/decorators&gt;\r\n\r\nBut when I paste this link `http://localhost:8888/DemoSpringMVC/trang-chu/`, it said to me that I got this error\r\n\r\n[![my error][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/2Hx5D.jpg\r\n\r\nAs you can see, it said to me that `javax.servlet.ServletException: JSP file [&amp;#47;WEB_INF&amp;#47;views&amp;#47;layouts&amp;#47;user.jsp] not found` ? So I think that the error is it did not find the file user.jsp ?\r\n\r\nI ran the clean command, but still got this error. And I change the tomcat version 8 and 10, but the error still there, so maybe it is not because of the tomcat version ?\r\n\r\nShould I wrote the decorators.xml file again? \r\n\r\nHere is my code, if you need to reference\r\n\r\n    https://github.com/nguyencuc2586/Spring3.3\r\n\r\nCould you please give me some advices for this problem ? Thank you in advance.","title":"java spring boot problem : server can not find the design jsp file even though the file&#39;s link has been added to the decorators.xml file?","body":"<p>I am studying Java Spring Boot and here is my problem.</p>\n<p>I wrote a very simple DemoSpring program and when I started the server, the link <code>http://localhost:8888/DemoSpringMVC/</code> worked perfectly.</p>\n<p>I added 2 files into those folder like those links :</p>\n<pre><code>src/main/webapp/WEB-INF/views/layouts/user/user.jsp\nsrc/main/webapp/WEB-INF/views/layouts/user/index.jsp\n</code></pre>\n<p>And I coded file decorators.xml like this</p>\n<pre><code>&lt;decorators defaultdir=&quot;/WEB_INF/views/layouts&quot;&gt;\n    &lt;decorator name=&quot;user&quot; page=&quot;user.jsp&quot;&gt;\n        &lt;pattern&gt;/trang-chu/*&lt;/pattern&gt;\n    &lt;/decorator&gt;\n    &lt;decorator name=&quot;admin&quot; page=&quot;admin.jsp&quot;&gt;\n        &lt;pattern&gt;/quan-tri/*&lt;/pattern&gt;\n    &lt;/decorator&gt;\n&lt;/decorators&gt;\n</code></pre>\n<p>But when I paste this link <code>http://localhost:8888/DemoSpringMVC/trang-chu/</code>, it said to me that I got this error</p>\n<p><a href=\"https://i.stack.imgur.com/2Hx5D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Hx5D.jpg\" alt=\"my error\" /></a></p>\n<p>As you can see, it said to me that <code>javax.servlet.ServletException: JSP file [&amp;#47;WEB_INF&amp;#47;views&amp;#47;layouts&amp;#47;user.jsp] not found</code> ? So I think that the error is it did not find the file user.jsp ?</p>\n<p>I ran the clean command, but still got this error. And I change the tomcat version 8 and 10, but the error still there, so maybe it is not because of the tomcat version ?</p>\n<p>Should I wrote the decorators.xml file again?</p>\n<p>Here is my code, if you need to reference</p>\n<pre><code>https://github.com/nguyencuc2586/Spring3.3\n</code></pre>\n<p>Could you please give me some advices for this problem ? Thank you in advance.</p>\n"},{"tags":["java","tomcat","caching"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1671026578,"post_id":74798898,"comment_id":132008274,"body_markdown":"You could store a &#39;last updated&#39; timestamp with each investigative detail so that you reload only those that have actually changed since last access, to avoid sending each user a full copy of everything every single request. Use local browser storage to maintain some (most) state. Some (but not all) requests may trigger a full reload, perhaps on login/periodically/first access after certain time?","body":"You could store a &#39;last updated&#39; timestamp with each investigative detail so that you reload only those that have actually changed since last access, to avoid sending each user a full copy of everything every single request. Use local browser storage to maintain some (most) state. Some (but not all) requests may trigger a full reload, perhaps on login/periodically/first access after certain time?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671030595,"post_id":74798898,"comment_id":132009930,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671041259,"post_id":74798898,"comment_id":132013962,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22894895,"reputation":21,"user_id":17034553,"display_name":"Rahul Vignesh R"},"score":0,"creation_date":1671429893,"post_id":74798898,"comment_id":132089672,"body_markdown":"@BasilBourque is the title clear?","body":"@BasilBourque is the title clear?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671432870,"post_id":74798898,"comment_id":132090128,"body_markdown":"Both your title and question are much too vague and broad for us to provide any kind of answer. You have not described the kinds &amp; amounts of data, the network topology (local network? internet? fast routers/switches?), the kinds of clients, where this cached data would live, if you are using a database and if so what kind, and other important details.","body":"Both your title and question are much too vague and broad for us to provide any kind of answer. You have not described the kinds &amp; amounts of data, the network topology (local network? internet? fast routers/switches?), the kinds of clients, where this cached data would live, if you are using a database and if so what kind, and other important details."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671432929,"post_id":74798898,"comment_id":132090141,"body_markdown":"My first wild guess: You are falling for the old trap of *premature optimization*. Don&#39;t worry about a scalability problem until you have demonstrated its existence. Build a rough version of your system, load it up with realistic amounts of fake data, and experiment. Given that this is for &quot;case investigation&quot;, I would be much more concerned about security than performance.","body":"My first wild guess: You are falling for the old trap of <i>premature optimization</i>. Don&#39;t worry about a scalability problem until you have demonstrated its existence. Build a rough version of your system, load it up with realistic amounts of fake data, and experiment. Given that this is for &quot;case investigation&quot;, I would be much more concerned about security than performance."},{"owner":{"account_id":22894895,"reputation":21,"user_id":17034553,"display_name":"Rahul Vignesh R"},"score":0,"creation_date":1671506493,"post_id":74798898,"comment_id":132109081,"body_markdown":"Yes you are right @BasilBourque, I am trying to optimise and increase performance as much as possible. Also, the caching is an idea to render the view quickly. If there is another technique which helps to transfer data or render view quickly over the network, I am open to explore. This is not used within our local network but open to all internet user(except this feature is not open to all). The data is in our database and in worst case the time taken was around 2 to 3 seconds at good internet connection. This was the prime reason why i was looking for some optimisation technique.","body":"Yes you are right @BasilBourque, I am trying to optimise and increase performance as much as possible. Also, the caching is an idea to render the view quickly. If there is another technique which helps to transfer data or render view quickly over the network, I am open to explore. This is not used within our local network but open to all internet user(except this feature is not open to all). The data is in our database and in worst case the time taken was around 2 to 3 seconds at good internet connection. This was the prime reason why i was looking for some optimisation technique."}],"owner":{"account_id":22894895,"reputation":21,"user_id":17034553,"display_name":"Rahul Vignesh R"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671421012,"creation_date":1671023927,"question_id":74798898,"body_markdown":"I am currently working on a webapp where case investigation details will be stored and displayed to the end user. The investigation details is a shared data where all the users who worked in that investigation(user permissions are provided) can view and edit the data. We have planned for a feature to show all the investigation over a year/month under one window. In such case we need to fetch a huge details over the network, as we can have multiple department working in multiple investigations(in their departments  as well as other departments too). So the data fetched in pretty huge(even though I fetch only the basic details of those investigations). \r\n\r\nI make a request for every year/month. There is an option for navigating to and fro and when the user comes back to a year/month which he has already seen, i make the request and fetch the data once again(this is done because the investigation details are dynamic and shared b/w users. Also any user at any moment may modify it too). Caching was one of the option suggested but i am unsure when to cache and when to stale the cached data. Any suggestions/ideas are appreciated.","title":"How to cache and reuse data shared between multiple users?","body":"<p>I am currently working on a webapp where case investigation details will be stored and displayed to the end user. The investigation details is a shared data where all the users who worked in that investigation(user permissions are provided) can view and edit the data. We have planned for a feature to show all the investigation over a year/month under one window. In such case we need to fetch a huge details over the network, as we can have multiple department working in multiple investigations(in their departments  as well as other departments too). So the data fetched in pretty huge(even though I fetch only the basic details of those investigations).</p>\n<p>I make a request for every year/month. There is an option for navigating to and fro and when the user comes back to a year/month which he has already seen, i make the request and fetch the data once again(this is done because the investigation details are dynamic and shared b/w users. Also any user at any moment may modify it too). Caching was one of the option suggested but i am unsure when to cache and when to stale the cached data. Any suggestions/ideas are appreciated.</p>\n"},{"tags":["java","android","broadcastreceiver"],"answers":[{"tags":[],"owner":{"account_id":17393636,"reputation":11,"user_id":12603680,"display_name":"Vincent Horvath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671420712,"creation_date":1671420712,"answer_id":74846063,"question_id":74845956,"body_markdown":"The inner class:\r\n````\r\nnew BroadcastReceiver() { }\r\n````\r\ndoes not have access to the doSomeTask() method since the doSomeTask() method is defined in the MainActivity class. Therefore, when you call doSomeTask() inside of:\r\n````\r\nif (intent.getAction ...) {\r\n    doSomeTask();\r\n}\r\n````\r\nYou see an error\r\n","title":"What is the problem that occurs in the BroadcastReceiver onReceiveMethod? How to solve this problem?","body":"<p>The inner class:</p>\n<pre><code>new BroadcastReceiver() { }\n</code></pre>\n<p>does not have access to the doSomeTask() method since the doSomeTask() method is defined in the MainActivity class. Therefore, when you call doSomeTask() inside of:</p>\n<pre><code>if (intent.getAction ...) {\n    doSomeTask();\n}\n</code></pre>\n<p>You see an error</p>\n"}],"owner":{"account_id":6459040,"reputation":1,"user_id":5003491,"accept_rate":62,"display_name":"Fazle Rabbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671420712,"creation_date":1671419201,"question_id":74845956,"body_markdown":"What is the problem that occurs in the BroadcastReceiver onReceiveMethod? How to solve this problem?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wocbm.png","title":"What is the problem that occurs in the BroadcastReceiver onReceiveMethod? How to solve this problem?","body":"<p>What is the problem that occurs in the BroadcastReceiver onReceiveMethod? How to solve this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/Wocbm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wocbm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671420467,"creation_date":1671420467,"answer_id":74846035,"question_id":74845691,"body_markdown":"Create an uber, executable JAR from Maven. Then it will have all the dependencies. \r\n\r\nhttps://maven.apache.org/plugins/maven-assembly-plugin/usage.html#usage","title":"NoClassDefFoundError: StringSerializer","body":"<p>Create an uber, executable JAR from Maven. Then it will have all the dependencies.</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html#usage\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/usage.html#usage</a></p>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74846035,"answer_count":1,"score":0,"last_activity_date":1671420478,"creation_date":1671414871,"question_id":74845691,"body_markdown":"I compiled a project with dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthe jar file contains:\r\n\r\n    C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;&quot;C:\\Program Files\\Java\\jdk1.8.0_201\\bin\\jar.exe&quot; tvf KafkaProducer-1.0-SNAPSHOT.jar\r\n       250 Sun Dec 18 20:43:50 EST 2022 META-INF/MANIFEST.MF\r\n         0 Sun Dec 18 20:43:50 EST 2022 META-INF/\r\n         0 Sun Dec 18 17:46:14 EST 2022 kafka/\r\n         0 Sun Dec 18 17:46:14 EST 2022 kafka/Demo/\r\n         0 Sun Dec 18 20:43:50 EST 2022 META-INF/maven/\r\n         0 Sun Dec 18 20:43:50 EST 2022 META-INF/maven/kafka.Demo/\r\n         0 Sun Dec 18 20:43:50 EST 2022 META-INF/maven/kafka.Demo/KafkaProducer/\r\n      1752 Sun Dec 18 20:43:50 EST 2022 kafka/Demo/ProducerDemo.class\r\n      1585 Sun Dec 18 20:24:46 EST 2022 META-INF/maven/kafka.Demo/KafkaProducer/pom.xml\r\n       120 Sun Dec 18 18:06:56 EST 2022 META-INF/maven/kafka.Demo/KafkaProducer/pom.properties\r\n\r\nthe class path is correctly set in MANIFEST.MF:\r\n\r\n    Manifest-Version: 1.0\r\n    Built-By: abc\r\n    Class-Path: lib/kafka-clients-1.1.0.jar lib/lz4-java-1.4.jar lib/snapp\r\n     y-java-1.1.7.1.jar lib/slf4j-api-1.7.25.jar\r\n    Created-By: Apache Maven 3.8.1\r\n    Build-Jdk: 1.8.0_201\r\n    Main-Class: kafka.Demo.ProducerDemo\r\n\r\nWhen I ran the jar file, I got the following error:\r\n\r\n    C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;java -jar .\\KafkaProducer-1.0-SNAPSHOT.jar\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/StringSerializer\r\n            at kafka.Demo.ProducerDemo.main(ProducerDemo.java:18)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringSerializer\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 1 more\r\n\r\nthe class can be found in kafka-clients-1.1.0.jar:\r\n\r\n    C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;&quot;C:\\Program Files\\Java\\jdk1.8.0_201\\bin\\jar.exe&quot; tvf kafka-clients-1.1.0.jar|findstr StringSerializer\r\n      2126 Fri Mar 23 23:02:08 EDT 2018 org/apache/kafka/common/serialization/StringSerializer.class\r\n\r\n\r\nif I run it a different way by specifying all jars and the main class, then it complains it can not load main class:\r\n\r\n    C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;java -cp .\\kafka-clients-1.1.0.jar:.\\KafkaProducer-1.0-SNAPSHOT.jar kafka.Demo.ProducerDemo\r\n    Error: Could not find or load main class kafka.Demo.ProducerDemo\r\n\r\n\r\nWhere did I get wrong?","title":"NoClassDefFoundError: StringSerializer","body":"<p>I compiled a project with dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>the jar file contains:</p>\n<pre><code>C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;&quot;C:\\Program Files\\Java\\jdk1.8.0_201\\bin\\jar.exe&quot; tvf KafkaProducer-1.0-SNAPSHOT.jar\n   250 Sun Dec 18 20:43:50 EST 2022 META-INF/MANIFEST.MF\n     0 Sun Dec 18 20:43:50 EST 2022 META-INF/\n     0 Sun Dec 18 17:46:14 EST 2022 kafka/\n     0 Sun Dec 18 17:46:14 EST 2022 kafka/Demo/\n     0 Sun Dec 18 20:43:50 EST 2022 META-INF/maven/\n     0 Sun Dec 18 20:43:50 EST 2022 META-INF/maven/kafka.Demo/\n     0 Sun Dec 18 20:43:50 EST 2022 META-INF/maven/kafka.Demo/KafkaProducer/\n  1752 Sun Dec 18 20:43:50 EST 2022 kafka/Demo/ProducerDemo.class\n  1585 Sun Dec 18 20:24:46 EST 2022 META-INF/maven/kafka.Demo/KafkaProducer/pom.xml\n   120 Sun Dec 18 18:06:56 EST 2022 META-INF/maven/kafka.Demo/KafkaProducer/pom.properties\n</code></pre>\n<p>the class path is correctly set in MANIFEST.MF:</p>\n<pre><code>Manifest-Version: 1.0\nBuilt-By: abc\nClass-Path: lib/kafka-clients-1.1.0.jar lib/lz4-java-1.4.jar lib/snapp\n y-java-1.1.7.1.jar lib/slf4j-api-1.7.25.jar\nCreated-By: Apache Maven 3.8.1\nBuild-Jdk: 1.8.0_201\nMain-Class: kafka.Demo.ProducerDemo\n</code></pre>\n<p>When I ran the jar file, I got the following error:</p>\n<pre><code>C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;java -jar .\\KafkaProducer-1.0-SNAPSHOT.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/StringSerializer\n        at kafka.Demo.ProducerDemo.main(ProducerDemo.java:18)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringSerializer\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>the class can be found in kafka-clients-1.1.0.jar:</p>\n<pre><code>C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;&quot;C:\\Program Files\\Java\\jdk1.8.0_201\\bin\\jar.exe&quot; tvf kafka-clients-1.1.0.jar|findstr StringSerializer\n  2126 Fri Mar 23 23:02:08 EDT 2018 org/apache/kafka/common/serialization/StringSerializer.class\n</code></pre>\n<p>if I run it a different way by specifying all jars and the main class, then it complains it can not load main class:</p>\n<pre><code>C:\\Users\\abc\\IdeaProjects\\KafkaProducer\\target&gt;java -cp .\\kafka-clients-1.1.0.jar:.\\KafkaProducer-1.0-SNAPSHOT.jar kafka.Demo.ProducerDemo\nError: Could not find or load main class kafka.Demo.ProducerDemo\n</code></pre>\n<p>Where did I get wrong?</p>\n"},{"tags":["java","maven","maven-wrapper"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671421150,"post_id":74846021,"comment_id":132088617,"body_markdown":"1. use `mvn -v`, if version is same as `./mvnw -v`  2. show your `pom.xml`","body":"1. use <code>mvn -v</code>, if version is same as <code>.&#47;mvnw -v</code>  2. show your <code>pom.xml</code>"},{"owner":{"account_id":21241069,"reputation":73,"user_id":15624528,"display_name":"Chaofan"},"score":0,"creation_date":1671424898,"post_id":74846021,"comment_id":132089067,"body_markdown":"My `mvn` and `./mvnw` are the same version.","body":"My <code>mvn</code> and <code>.&#47;mvnw</code> are the same version."},{"owner":{"account_id":21241069,"reputation":73,"user_id":15624528,"display_name":"Chaofan"},"score":0,"creation_date":1671424976,"post_id":74846021,"comment_id":132089074,"body_markdown":"`pom.xml`\nIn addition to the usual configuration I have added the following configuration: \n- &lt;repositories&gt;\n- &lt;pluginRepositories&gt;","body":"<code>pom.xml</code> In addition to the usual configuration I have added the following configuration:  - &lt;repositories&gt; - &lt;pluginRepositories&gt;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671426470,"post_id":74846021,"comment_id":132089236,"body_markdown":"Quick guess is http problem, check pom.xml repositories , is use `http` or `https`? maven 3.8.6 does not allow use http. try to change `http` to `https` or reference How to tell Maven to disregard SSL errors (and trusting all certs)? ( https://stackoverflow.com/questions/21252800/how-to-tell-maven-to-disregard-ssl-errors-and-trusting-all-certs )","body":"Quick guess is http problem, check pom.xml repositories , is use <code>http</code> or <code>https</code>? maven 3.8.6 does not allow use http. try to change <code>http</code> to <code>https</code> or reference How to tell Maven to disregard SSL errors (and trusting all certs)? ( <a href=\"https://stackoverflow.com/questions/21252800/how-to-tell-maven-to-disregard-ssl-errors-and-trusting-all-certs\" title=\"how to tell maven to disregard ssl errors and trusting all certs\">stackoverflow.com/questions/21252800/&hellip;</a> )"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671426634,"post_id":74846021,"comment_id":132089252,"body_markdown":"1. create  `~/.mavenrc` content is `MAVEN_OPTS=&quot;-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true&quot;` 2. or add parameter `-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true` COPY FROM `https://stackoverflow.com/questions/21252800/how-to-tell-maven-to-disregard-ssl-errors-and-trusting-all-certs`","body":"1. create  <code>~&#47;.mavenrc</code> content is <code>MAVEN_OPTS=&quot;-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true&quot;</code> 2. or add parameter <code>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true</code> COPY FROM <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;21252800&#47;how-to-tell-mav&zwnj;&#8203;en-to-disregard-ssl-&zwnj;&#8203;errors-and-trusting-&zwnj;&#8203;all-certs</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671432934,"post_id":74846021,"comment_id":132090142,"body_markdown":"Please check the release notes: https://maven.apache.org/docs/3.8.1/release-notes.html (since 3.8.1)","body":"Please check the release notes: <a href=\"https://maven.apache.org/docs/3.8.1/release-notes.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/3.8.1/release-notes.html</a> (since 3.8.1)"}],"owner":{"account_id":21241069,"reputation":73,"user_id":15624528,"display_name":"Chaofan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671420305,"creation_date":1671420305,"question_id":74846021,"body_markdown":"My project use maven wrapper\r\n```\r\n$ ./mvnw -v                       \r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /home/xxx/.m2/wrapper/dists/apache-maven-3.8.6-bin/67568434/apache-maven-3.8.6\r\nJava version: 1.8.0_332, vendor: Temurin, runtime: /home/xxx/.jdks/temurin-1.8.0/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.19.0-26-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\nbut when I type `./mvnw package`,I got\r\n&gt; Failed to execute goal on project insight-scheduler: Could not resolve dependencies for project io.xxx:insight-s:jar:1.0-SNAPSHOT: Failed to collect dependencies at io.xxx.g:g-client:jar:2.0: Failed to read artifact descriptor for io.xxx.g:g-client:jar:2.0: Could not transfer artifact io.xxx.g:g-client:pom:2.0 from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [priv-xxx-libs-release\r\n\r\nHow do I\r\n\r\nI first thought it was a private repository authentication problem, but then I found this is the new version of maven does not allow http by default, you can configure it inside settings.xml, but I used the maven wrapper, this configuration did not take effect.\r\nWhat do I need to do","title":"how to allow http repo in maven wrapper","body":"<p>My project use maven wrapper</p>\n<pre><code>$ ./mvnw -v                       \nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /home/xxx/.m2/wrapper/dists/apache-maven-3.8.6-bin/67568434/apache-maven-3.8.6\nJava version: 1.8.0_332, vendor: Temurin, runtime: /home/xxx/.jdks/temurin-1.8.0/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.19.0-26-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>but when I type <code>./mvnw package</code>,I got</p>\n<blockquote>\n<p>Failed to execute goal on project insight-scheduler: Could not resolve dependencies for project io.xxx:insight-s:jar:1.0-SNAPSHOT: Failed to collect dependencies at io.xxx.g:g-client:jar:2.0: Failed to read artifact descriptor for io.xxx.g:g-client:jar:2.0: Could not transfer artifact io.xxx.g:g-client:pom:2.0 from/to maven-default-http-blocker (<a href=\"http://0.0.0.0/\" rel=\"nofollow noreferrer\">http://0.0.0.0/</a>): Blocked mirror for repositories: [priv-xxx-libs-release</p>\n</blockquote>\n<p>How do I</p>\n<p>I first thought it was a private repository authentication problem, but then I found this is the new version of maven does not allow http by default, you can configure it inside settings.xml, but I used the maven wrapper, this configuration did not take effect.\nWhat do I need to do</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668206421,"post_id":74272637,"comment_id":131357536,"body_markdown":"Please share your Avro schema in the question","body":"Please share your Avro schema in the question"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668206935,"creation_date":1668206563,"answer_id":74408871,"question_id":74272637,"body_markdown":"Reading the stacktrace... Avro is looking for a class. \r\n\r\n```\r\nCaused by: java.lang.ExceptionInInitializerError\r\n    at java.lang.Class.forName0(Native Method) ~[?:?]\r\n    at java.lang.Class.forName(Class.java:398) ~[?:?]\r\n    at org.apache.avro.util.ClassUtils.forName\r\n```\r\n\r\nBased on the error `Recursive update`, you would look at your schemas for something &quot;recursively defined&quot;... \r\n\r\nLooking at `schema/PosInvoice.avsc` in your repo, we see that `DeliveryAddress` field is a type of `DeliveryAddress`. \r\n\r\n**Solution**: Your avro field names should not be capitalized. The Avro parser is confused which is a class and which is a field name. More specifically, it&#39;ll try to create a Java class like \r\n\r\n```\r\nclass PosInvoice extends SpecificRecord {\r\n    private DeliveryAddress DeliveryAddress;  // wont compile\r\n}\r\n```\r\n\r\nAlso, if you want to cross-reference Avro types, I&#39;d recommend using [`.avdl` files](https://avro.apache.org/docs/1.11.1/idl-language/) rather than `.avsc`","title":"Caused by: java.lang.IllegalStateException: Recursive update at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760)","body":"<p>Reading the stacktrace... Avro is looking for a class.</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError\n    at java.lang.Class.forName0(Native Method) ~[?:?]\n    at java.lang.Class.forName(Class.java:398) ~[?:?]\n    at org.apache.avro.util.ClassUtils.forName\n</code></pre>\n<p>Based on the error <code>Recursive update</code>, you would look at your schemas for something &quot;recursively defined&quot;...</p>\n<p>Looking at <code>schema/PosInvoice.avsc</code> in your repo, we see that <code>DeliveryAddress</code> field is a type of <code>DeliveryAddress</code>.</p>\n<p><strong>Solution</strong>: Your avro field names should not be capitalized. The Avro parser is confused which is a class and which is a field name. More specifically, it'll try to create a Java class like</p>\n<pre><code>class PosInvoice extends SpecificRecord {\n    private DeliveryAddress DeliveryAddress;  // wont compile\n}\n</code></pre>\n<p>Also, if you want to cross-reference Avro types, I'd recommend using <a href=\"https://avro.apache.org/docs/1.11.1/idl-language/\" rel=\"nofollow noreferrer\"><code>.avdl</code> files</a> rather than <code>.avsc</code></p>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671420230,"creation_date":1667286923,"question_id":74272637,"body_markdown":"I am following Apache Kafka and Confluent Kafka tutorials from https://udemy.com/course/kafka-streams-real-time-stream-processing-master-class/learn/lecture/14243830#questions and trying to read avro stream from topic and based on certain conditions sending data to different topic\r\n\r\nError:\r\n\r\n    [2022-11-01 12:35:41,529] (org.apache.kafka.streams.KafkaStreams) - ERROR stream-client [PosFanout-78308e33-2baa-49a8-a181-22e9c5deea42] Encountered the following exception during processing and the registered exception handler opted to SHUTDOWN_CLIENT. The streams client is going to shut down now.  \r\n    com.google.common.util.concurrent.ExecutionError: java.lang.ExceptionInInitializerError\r\n    \tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache.get(LocalCache.java:3962) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3985) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4946) ~[guava-30.1.1-jre.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getDatumReader(AbstractKafkaAvroDeserializer.java:231) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:404) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:152) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:53) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:66) ~[kafka-streams-avro-serde-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:38) ~[kafka-streams-avro-serde-7.2.2.jar:?]\r\n    \tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:58) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:66) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:204) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:128) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:304) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:985) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1070) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:947) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:735) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:588) ~[kafka-streams-3.3.1.jar:?]\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:550) ~[kafka-streams-3.3.1.jar:?]\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat java.lang.Class.forName0(Native Method) ~[?:?]\r\n    \tat java.lang.Class.forName(Class.java:398) ~[?:?]\r\n    \tat org.apache.avro.util.ClassUtils.forName(ClassUtils.java:95) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat org.apache.avro.util.ClassUtils.forName(ClassUtils.java:72) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat org.apache.avro.specific.SpecificData.lambda$getClass$2(SpecificData.java:256) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[?:?]\r\n    \tat org.apache.avro.specific.SpecificData.getClass(SpecificData.java:254) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getSpecificReaderSchema(AbstractKafkaAvroDeserializer.java:290) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getReaderSchema(AbstractKafkaAvroDeserializer.java:264) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.access$000(AbstractKafkaAvroDeserializer.java:49) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:65) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:60) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[guava-30.1.1-jre.jar:?]\r\n    \t... 21 more\r\n    Caused by: java.lang.IllegalStateException: Recursive update\r\n    \tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760) ~[?:?]\r\n    \tat org.apache.avro.specific.SpecificData.getClass(SpecificData.java:254) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat org.apache.avro.specific.SpecificData.getForSchema(SpecificData.java:161) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat org.apache.avro.specific.SpecificDatumWriter.&lt;init&gt;(SpecificDatumWriter.java:43) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat guru.learningjournal.kafka.examples.types.PosInvoice.&lt;clinit&gt;(PosInvoice.java:1346) ~[classes/:?]\r\n    \tat java.lang.Class.forName0(Native Method) ~[?:?]\r\n    \tat java.lang.Class.forName(Class.java:398) ~[?:?]\r\n    \tat org.apache.avro.util.ClassUtils.forName(ClassUtils.java:95) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat org.apache.avro.util.ClassUtils.forName(ClassUtils.java:72) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat org.apache.avro.specific.SpecificData.lambda$getClass$2(SpecificData.java:256) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[?:?]\r\n    \tat org.apache.avro.specific.SpecificData.getClass(SpecificData.java:254) ~[avro-1.11.0.jar:1.11.0]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getSpecificReaderSchema(AbstractKafkaAvroDeserializer.java:290) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getReaderSchema(AbstractKafkaAvroDeserializer.java:264) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.access$000(AbstractKafkaAvroDeserializer.java:49) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:65) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:60) ~[kafka-avro-serializer-7.2.2.jar:?]\r\n    \tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[guava-30.1.1-jre.jar:?]\r\n    \tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[guava-30.1.1-jre.jar:?]\r\n    \t... 21 more\r\n    [2022-11-01 12:35:41,602] (guru.learningjournal.kafka.examples.PosFanoutApp) - INFO Stopping Stream \r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;guru.learningjournal.kafka.examples&lt;/groupId&gt;\r\n        &lt;artifactId&gt;16-pos-fanout-avro&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;confluent&lt;/id&gt;\r\n                &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\r\n                &lt;version&gt;7.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- Maven Compiler Plugin--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- Maven Avro plugin for generating pojo--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.8.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;schema&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/schema/&lt;/sourceDirectory&gt;\r\n                                &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n                                &lt;imports&gt;\r\n                                    &lt;import&gt;${project.basedir}/src/main/resources/schema/LineItem.avsc&lt;/import&gt;\r\n                                    &lt;import&gt;${project.basedir}/src/main/resources/schema/DeliveryAddress.avsc&lt;/import&gt;\r\n                                &lt;/imports&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMainApp.java\r\n\r\n    package guru.learningjournal.kafka.examples;\r\n    \r\n    import guru.learningjournal.kafka.examples.types.PosInvoice;\r\n    import org.apache.kafka.streams.KafkaStreams;\r\n    import org.apache.kafka.streams.StreamsBuilder;\r\n    import org.apache.kafka.streams.StreamsConfig;\r\n    import org.apache.kafka.streams.kstream.Consumed;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    import org.apache.kafka.streams.kstream.Produced;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class PosFanoutApp {\r\n        private static final Logger logger = LogManager.getLogger();\r\n    \r\n        public static void main(String[] args) {\r\n            Properties props = new Properties();\r\n            props.put(StreamsConfig.APPLICATION_ID_CONFIG, AppConfigs.applicationID);\r\n            props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, AppConfigs.bootstrapServers);\r\n    \r\n            StreamsBuilder builder = new StreamsBuilder();\r\n            KStream&lt;String, PosInvoice&gt; KS0 = builder.stream(AppConfigs.posTopicName,\r\n                Consumed.with(AppSerdes.String(), AppSerdes.PosInvoice()));\r\n    \r\n            KS0.filter((k, v) -&gt; AppConfigs.DELIVERY_TYPE_HOME_DELIVERY.equalsIgnoreCase(v.getDeliveryType().toString()))\r\n                .to(AppConfigs.shipmentTopicName, Produced.with(AppSerdes.String(), AppSerdes.PosInvoice()));\r\n    \r\n            KS0.filter((k, v) -&gt; AppConfigs.CUSTOMER_TYPE_PRIME.equalsIgnoreCase(v.getCustomerType().toString()))\r\n                .mapValues(RecordBuilder::getNotification)\r\n                .to(AppConfigs.notificationTopic, Produced.with(AppSerdes.String(), AppSerdes.Notification()));\r\n    \r\n            KS0.mapValues(RecordBuilder::getMaskedInvoice)\r\n                .flatMapValues(RecordBuilder::getHadoopRecords)\r\n                .to(AppConfigs.hadoopTopic, Produced.with(AppSerdes.String(), AppSerdes.HadoopRecord()));\r\n    \r\n            KafkaStreams streams = new KafkaStreams(builder.build(), props);\r\n            streams.start();\r\n    \r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                logger.info(&quot;Stopping Stream&quot;);\r\n                streams.close();\r\n            }));\r\n        }\r\n    }\r\n\r\nThe source code here: https://github.com/javaHelper/Apache-Kafka---Real-time-Stream-Processing-Master-Class-/tree/main/16-pos-fanout-avro","title":"Caused by: java.lang.IllegalStateException: Recursive update at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760)","body":"<p>I am following Apache Kafka and Confluent Kafka tutorials from <a href=\"https://udemy.com/course/kafka-streams-real-time-stream-processing-master-class/learn/lecture/14243830#questions\" rel=\"nofollow noreferrer\">https://udemy.com/course/kafka-streams-real-time-stream-processing-master-class/learn/lecture/14243830#questions</a> and trying to read avro stream from topic and based on certain conditions sending data to different topic</p>\n<p>Error:</p>\n<pre><code>[2022-11-01 12:35:41,529] (org.apache.kafka.streams.KafkaStreams) - ERROR stream-client [PosFanout-78308e33-2baa-49a8-a181-22e9c5deea42] Encountered the following exception during processing and the registered exception handler opted to SHUTDOWN_CLIENT. The streams client is going to shut down now.  \ncom.google.common.util.concurrent.ExecutionError: java.lang.ExceptionInInitializerError\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache.get(LocalCache.java:3962) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3985) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4946) ~[guava-30.1.1-jre.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getDatumReader(AbstractKafkaAvroDeserializer.java:231) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:404) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:152) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:53) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:66) ~[kafka-streams-avro-serde-7.2.2.jar:?]\n    at io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:38) ~[kafka-streams-avro-serde-7.2.2.jar:?]\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:58) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:66) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:204) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:128) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:304) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:985) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1070) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:947) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:735) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:588) ~[kafka-streams-3.3.1.jar:?]\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:550) ~[kafka-streams-3.3.1.jar:?]\nCaused by: java.lang.ExceptionInInitializerError\n    at java.lang.Class.forName0(Native Method) ~[?:?]\n    at java.lang.Class.forName(Class.java:398) ~[?:?]\n    at org.apache.avro.util.ClassUtils.forName(ClassUtils.java:95) ~[avro-1.11.0.jar:1.11.0]\n    at org.apache.avro.util.ClassUtils.forName(ClassUtils.java:72) ~[avro-1.11.0.jar:1.11.0]\n    at org.apache.avro.specific.SpecificData.lambda$getClass$2(SpecificData.java:256) ~[avro-1.11.0.jar:1.11.0]\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[?:?]\n    at org.apache.avro.specific.SpecificData.getClass(SpecificData.java:254) ~[avro-1.11.0.jar:1.11.0]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getSpecificReaderSchema(AbstractKafkaAvroDeserializer.java:290) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getReaderSchema(AbstractKafkaAvroDeserializer.java:264) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.access$000(AbstractKafkaAvroDeserializer.java:49) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:65) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:60) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[guava-30.1.1-jre.jar:?]\n    ... 21 more\nCaused by: java.lang.IllegalStateException: Recursive update\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760) ~[?:?]\n    at org.apache.avro.specific.SpecificData.getClass(SpecificData.java:254) ~[avro-1.11.0.jar:1.11.0]\n    at org.apache.avro.specific.SpecificData.getForSchema(SpecificData.java:161) ~[avro-1.11.0.jar:1.11.0]\n    at org.apache.avro.specific.SpecificDatumWriter.&lt;init&gt;(SpecificDatumWriter.java:43) ~[avro-1.11.0.jar:1.11.0]\n    at guru.learningjournal.kafka.examples.types.PosInvoice.&lt;clinit&gt;(PosInvoice.java:1346) ~[classes/:?]\n    at java.lang.Class.forName0(Native Method) ~[?:?]\n    at java.lang.Class.forName(Class.java:398) ~[?:?]\n    at org.apache.avro.util.ClassUtils.forName(ClassUtils.java:95) ~[avro-1.11.0.jar:1.11.0]\n    at org.apache.avro.util.ClassUtils.forName(ClassUtils.java:72) ~[avro-1.11.0.jar:1.11.0]\n    at org.apache.avro.specific.SpecificData.lambda$getClass$2(SpecificData.java:256) ~[avro-1.11.0.jar:1.11.0]\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[?:?]\n    at org.apache.avro.specific.SpecificData.getClass(SpecificData.java:254) ~[avro-1.11.0.jar:1.11.0]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getSpecificReaderSchema(AbstractKafkaAvroDeserializer.java:290) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getReaderSchema(AbstractKafkaAvroDeserializer.java:264) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.access$000(AbstractKafkaAvroDeserializer.java:49) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:65) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$1.load(AbstractKafkaAvroDeserializer.java:60) ~[kafka-avro-serializer-7.2.2.jar:?]\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[guava-30.1.1-jre.jar:?]\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[guava-30.1.1-jre.jar:?]\n    ... 21 more\n[2022-11-01 12:35:41,602] (guru.learningjournal.kafka.examples.PosFanoutApp) - INFO Stopping Stream \n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;guru.learningjournal.kafka.examples&lt;/groupId&gt;\n    &lt;artifactId&gt;16-pos-fanout-avro&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\n            &lt;version&gt;7.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Maven Compiler Plugin--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Maven Avro plugin for generating pojo--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;schema&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/schema/&lt;/sourceDirectory&gt;\n                            &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n                            &lt;imports&gt;\n                                &lt;import&gt;${project.basedir}/src/main/resources/schema/LineItem.avsc&lt;/import&gt;\n                                &lt;import&gt;${project.basedir}/src/main/resources/schema/DeliveryAddress.avsc&lt;/import&gt;\n                            &lt;/imports&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>MainApp.java</p>\n<pre><code>package guru.learningjournal.kafka.examples;\n\nimport guru.learningjournal.kafka.examples.types.PosInvoice;\nimport org.apache.kafka.streams.KafkaStreams;\nimport org.apache.kafka.streams.StreamsBuilder;\nimport org.apache.kafka.streams.StreamsConfig;\nimport org.apache.kafka.streams.kstream.Consumed;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.apache.kafka.streams.kstream.Produced;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.util.Properties;\n\npublic class PosFanoutApp {\n    private static final Logger logger = LogManager.getLogger();\n\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, AppConfigs.applicationID);\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, AppConfigs.bootstrapServers);\n\n        StreamsBuilder builder = new StreamsBuilder();\n        KStream&lt;String, PosInvoice&gt; KS0 = builder.stream(AppConfigs.posTopicName,\n            Consumed.with(AppSerdes.String(), AppSerdes.PosInvoice()));\n\n        KS0.filter((k, v) -&gt; AppConfigs.DELIVERY_TYPE_HOME_DELIVERY.equalsIgnoreCase(v.getDeliveryType().toString()))\n            .to(AppConfigs.shipmentTopicName, Produced.with(AppSerdes.String(), AppSerdes.PosInvoice()));\n\n        KS0.filter((k, v) -&gt; AppConfigs.CUSTOMER_TYPE_PRIME.equalsIgnoreCase(v.getCustomerType().toString()))\n            .mapValues(RecordBuilder::getNotification)\n            .to(AppConfigs.notificationTopic, Produced.with(AppSerdes.String(), AppSerdes.Notification()));\n\n        KS0.mapValues(RecordBuilder::getMaskedInvoice)\n            .flatMapValues(RecordBuilder::getHadoopRecords)\n            .to(AppConfigs.hadoopTopic, Produced.with(AppSerdes.String(), AppSerdes.HadoopRecord()));\n\n        KafkaStreams streams = new KafkaStreams(builder.build(), props);\n        streams.start();\n\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            logger.info(&quot;Stopping Stream&quot;);\n            streams.close();\n        }));\n    }\n}\n</code></pre>\n<p>The source code here: <a href=\"https://github.com/javaHelper/Apache-Kafka---Real-time-Stream-Processing-Master-Class-/tree/main/16-pos-fanout-avro\" rel=\"nofollow noreferrer\">https://github.com/javaHelper/Apache-Kafka---Real-time-Stream-Processing-Master-Class-/tree/main/16-pos-fanout-avro</a></p>\n"},{"tags":["java","string","intellij-idea","compiler-errors","switch-statement"],"comments":[{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":1,"creation_date":1410361656,"post_id":25768927,"comment_id":40298144,"body_markdown":"Please post the code!!!","body":"Please post the code!!!"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":3,"creation_date":1410361727,"post_id":25768927,"comment_id":40298187,"body_markdown":"@shekharsuman Actually it&#39;s clear, that&#39;s a problem with compiler settings in IDE.","body":"@shekharsuman Actually it&#39;s clear, that&#39;s a problem with compiler settings in IDE."},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":0,"creation_date":1410361790,"post_id":25768927,"comment_id":40298226,"body_markdown":"I doubt that unless clarified by OP! @MarounMaroun...","body":"I doubt that unless clarified by OP! @MarounMaroun..."},{"owner":{"account_id":3536361,"reputation":681,"user_id":3023513,"accept_rate":29,"display_name":"KathyA."},"score":0,"creation_date":1410361867,"post_id":25768927,"comment_id":40298277,"body_markdown":"I just did a test in IntelliJ. If I have the project language level set to 6, I see the problem you have. If I change it to 7, the &quot;problem&quot; goes away.","body":"I just did a test in IntelliJ. If I have the project language level set to 6, I see the problem you have. If I change it to 7, the &quot;problem&quot; goes away."},{"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1410361879,"post_id":25768927,"comment_id":40298285,"body_markdown":"@shekharsuman why do you doubt that? Its most probaly the reason. he installed java 1,7, but the project has setted compiler version to 1.6 or prior","body":"@shekharsuman why do you doubt that? Its most probaly the reason. he installed java 1,7, but the project has setted compiler version to 1.6 or prior"}],"answers":[{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410361958,"creation_date":1410361958,"answer_id":25769035,"question_id":25768927,"body_markdown":"In your project settings most probably you use java compiler java 1.6 or prior.\r\nChange that to java 1.7","title":"Java 1.7 still telling me that strings in switch statements are incompatible","body":"<p>In your project settings most probably you use java compiler java 1.6 or prior.\nChange that to java 1.7</p>\n"},{"tags":[],"owner":{"account_id":71527,"reputation":1523,"user_id":206883,"display_name":"ponomandr"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1410362396,"creation_date":1410361980,"answer_id":25769044,"question_id":25768927,"body_markdown":"You need to change language level in your IDE.\r\n\r\nCheck these settings:\r\n\r\n* File &gt; Project Structure &gt; Project &gt; Project SDK\r\n* File &gt; Project Structure &gt; Project &gt; Project Language Level\r\n* File &gt; Project Structure &gt; Modules &gt; Your module &gt; Sources &gt; Language Level\r\n* File &gt; Project Structure &gt; Modules &gt; Your module &gt; Dependencies &gt; Module SDK\r\n\r\nAlso check compiler settings. Sometimes it adds extra arguments to compiler:\r\n\r\n* File &gt; Settings &gt; Compiler &gt; Java Compiler &gt; Byte code version\r\n\r\nIf you use maven plugin enable auto-import. Then the language level will be detected automatically from your `pom.xml` settings.\r\n\r\n","title":"Java 1.7 still telling me that strings in switch statements are incompatible","body":"<p>You need to change language level in your IDE.</p>\n\n<p>Check these settings:</p>\n\n<ul>\n<li>File > Project Structure > Project > Project SDK</li>\n<li>File > Project Structure > Project > Project Language Level</li>\n<li>File > Project Structure > Modules > Your module > Sources > Language Level</li>\n<li>File > Project Structure > Modules > Your module > Dependencies > Module SDK</li>\n</ul>\n\n<p>Also check compiler settings. Sometimes it adds extra arguments to compiler:</p>\n\n<ul>\n<li>File > Settings > Compiler > Java Compiler > Byte code version</li>\n</ul>\n\n<p>If you use maven plugin enable auto-import. Then the language level will be detected automatically from your <code>pom.xml</code> settings.</p>\n"},{"tags":[],"owner":{"account_id":3766348,"reputation":716,"user_id":3129780,"accept_rate":78,"display_name":"Hanzallah Afgan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410362238,"creation_date":1410362238,"answer_id":25769130,"question_id":25768927,"body_markdown":"I think you have installed multiple JDKs on your system or you are using the default JDK that is bundled with IDE intellij. Try [this][1] link to change your JDK path to the one that is 1.7 or higher if any installed on your system \r\nor update your JDK to the latest version available\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/entries/23455956-Selecting-the-JDK-version-the-IDE-will-run-under","title":"Java 1.7 still telling me that strings in switch statements are incompatible","body":"<p>I think you have installed multiple JDKs on your system or you are using the default JDK that is bundled with IDE intellij. Try <a href=\"https://intellij-support.jetbrains.com/entries/23455956-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow\">this</a> link to change your JDK path to the one that is 1.7 or higher if any installed on your system \nor update your JDK to the latest version available</p>\n"},{"tags":[],"owner":{"account_id":20940871,"reputation":1,"user_id":19977312,"display_name":"Aranjhonn A. de Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662990871,"creation_date":1662990871,"answer_id":73690455,"question_id":25768927,"body_markdown":"I solved my case like this:\r\n\r\nIntellij\r\n\r\nFile -&gt; Project Structure -&gt; Project -&gt; Project language level:\r\n\r\nAnd in the options box I selected the option:\r\n\r\n14 - Switch expressions\r\n\r\n","title":"Java 1.7 still telling me that strings in switch statements are incompatible","body":"<p>I solved my case like this:</p>\n<p>Intellij</p>\n<p>File -&gt; Project Structure -&gt; Project -&gt; Project language level:</p>\n<p>And in the options box I selected the option:</p>\n<p>14 - Switch expressions</p>\n"},{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671418271,"creation_date":1671418271,"answer_id":74845899,"question_id":25768927,"body_markdown":"If you add this to your `pom.xml` file it will resolve the issue where the key part is the `source 1.8`:\r\n\r\n       &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;      ","title":"Java 1.7 still telling me that strings in switch statements are incompatible","body":"<p>If you add this to your <code>pom.xml</code> file it will resolve the issue where the key part is the <code>source 1.8</code>:</p>\n<pre><code>   &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;      \n</code></pre>\n"}],"owner":{"account_id":4574665,"reputation":71,"user_id":3713428,"display_name":"Jpeppa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4987,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":25769044,"answer_count":5,"score":6,"last_activity_date":1671418271,"creation_date":1410361601,"question_id":25768927,"body_markdown":"I&#39;m using java 1.7 in intellij and it&#39;s giving me a compile error as if I&#39;m using pre-1.7.  Saying, &quot;Incompatible type. Found &#39;java.lang.String&#39;. required &#39;byte, char, short, or int&#39;.\r\n\r\nI&#39;m rattling my brain trying to figure out why this is.  Thanks","title":"Java 1.7 still telling me that strings in switch statements are incompatible","body":"<p>I'm using java 1.7 in intellij and it's giving me a compile error as if I'm using pre-1.7.  Saying, \"Incompatible type. Found 'java.lang.String'. required 'byte, char, short, or int'.</p>\n\n<p>I'm rattling my brain trying to figure out why this is.  Thanks</p>\n"},{"tags":["java","foreach","java-stream","dto"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1671377440,"post_id":74842266,"comment_id":132082100,"body_markdown":"It would be match better if you would share your domain classes `Sensor`, `CommandDTO`, `MemberDTO` etc. (only fields used in this code), it would be easier to follow the logic. Please **update** the Question, use *edit* button or this [link](https://stackoverflow.com/posts/74842266/edit).","body":"It would be match better if you would share your domain classes <code>Sensor</code>, <code>CommandDTO</code>, <code>MemberDTO</code> etc. (only fields used in this code), it would be easier to follow the logic. Please <b>update</b> the Question, use <i>edit</i> button or this <a href=\"https://stackoverflow.com/posts/74842266/edit\">link</a>."},{"owner":{"account_id":27290018,"reputation":3,"user_id":20808590,"display_name":"vag"},"score":1,"creation_date":1671381445,"post_id":74842266,"comment_id":132082861,"body_markdown":"Thanks hc_dev you make the question more clearly.\nI see how need to be a question in the future","body":"Thanks hc_dev you make the question more clearly. I see how need to be a question in the future"}],"answers":[{"tags":[],"owner":{"account_id":87124,"reputation":439,"user_id":241808,"accept_rate":62,"display_name":"jawath"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1671376092,"creation_date":1671376092,"answer_id":74842447,"question_id":74842266,"body_markdown":"    List&lt;SensorDTO&gt; sensorDTOS = sensors.stream()\r\n    .map(sensor -&gt; {\r\n        Set&lt;CommandDTO&gt; commandSet = sensor.getCommands().stream()\r\n            .map(command -&gt; {\r\n                Set&lt;MemberDTO&gt; memberSet = command.getMembers().stream()\r\n                    .map(member -&gt; new MemberDTO(member.getName()))\r\n                    .collect(Collectors.toSet());\r\n                return new CommandDTO(command.getName(), memberSet);\r\n            })\r\n            .collect(Collectors.toSet());\r\n        Set&lt;AttributeDTO&gt; attributeSet = sensor.getAttributes().stream()\r\n            .map(attribute -&gt; {\r\n                Set&lt;FieldDTO&gt; fieldSet = attribute.getFields().stream()\r\n                    .map(field -&gt; new FieldDTO(field.getName()))\r\n                    .collect(Collectors.toSet());\r\n                return new AttributeDTO(attribute.getName(), fieldSet);\r\n            })\r\n            .collect(Collectors.toSet());\r\n        return new SensorDTO(attributeSet, commandSet);\r\n    })\r\n    .collect(Collectors.toList());\r\n","title":"Convert for each loops to stream","body":"<pre><code>List&lt;SensorDTO&gt; sensorDTOS = sensors.stream()\n.map(sensor -&gt; {\n    Set&lt;CommandDTO&gt; commandSet = sensor.getCommands().stream()\n        .map(command -&gt; {\n            Set&lt;MemberDTO&gt; memberSet = command.getMembers().stream()\n                .map(member -&gt; new MemberDTO(member.getName()))\n                .collect(Collectors.toSet());\n            return new CommandDTO(command.getName(), memberSet);\n        })\n        .collect(Collectors.toSet());\n    Set&lt;AttributeDTO&gt; attributeSet = sensor.getAttributes().stream()\n        .map(attribute -&gt; {\n            Set&lt;FieldDTO&gt; fieldSet = attribute.getFields().stream()\n                .map(field -&gt; new FieldDTO(field.getName()))\n                .collect(Collectors.toSet());\n            return new AttributeDTO(attribute.getName(), fieldSet);\n        })\n        .collect(Collectors.toSet());\n    return new SensorDTO(attributeSet, commandSet);\n})\n.collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671386538,"creation_date":1671381436,"answer_id":74842948,"question_id":74842266,"body_markdown":"### Use a mapper class\r\n\r\nThen split 5 responsibilities into map-methods:\r\n\r\n1. map `Sensor` to `SensorDTO` (former Loop 1)\r\n2. map `Sensor#commands` to `Set&lt;CommandDTO&gt;` (former Loop 2)\r\n3. map `Command#members` to `Set&lt;MemberDTO&gt;` (former Loop 3)\r\n4. map `Sensor#attributes` to `Set&lt;AttributeDTO&gt;` (former Loop 4)\r\n5. map `Attribute#fields` to `Set&lt;FieldDTO&gt;` (former Loop 5)\r\n\r\n```java\r\nclass Mapper {\r\n\r\n    // former Loop 1\r\n    static SensorDTO toDTO(Sensor sensor) {\r\n        return new SensorDTO(\r\n            Mapper.toDTO(sensor.getAttributes()),\r\n            Mapper.toDTO(sensor.getCommands())\r\n        );\r\n    }\r\n\r\n    // former Loop 2\r\n    static Set&lt;CommandDTO&gt; toDTO(Collection&lt;Command&gt; commands) {\r\n        return commands.stream()\r\n            .map(Mapper::toCommandDTO)\r\n            .collect(Collectors.toSet());\r\n    }\r\n\r\n    static CommandDTO toCommandDTO(Command c) {\r\n        return new CommandDTO(c.getName(), Mapper.toDTO(c.getMembers()));\r\n    }\r\n\r\n    // former Loop 3        \r\n    static Set&lt;MemberDTO&gt; toDTO(Collection&lt;Member&gt; members) {\r\n        return members.stream()\r\n            .map(m -&gt; new MemberDTO(m.getName()))\r\n            .collect(Collectors.toSet());\r\n    }\r\n\r\n    // former Loop 4\r\n    static Set&lt;AttributeDTO&gt; toDTO(Collection&lt;Attribute&gt; attributes) {\r\n        return attributes.stream()\r\n            .map(Mapper::toAttributeDTO)\r\n            .collect(Collectors.toSet());\r\n    }\r\n\r\n    static AttributeDTO toAttributeDTO(Attribute a) {\r\n        return new AttributeDTO(a.getName(), Mapper.toDTO(a.getFields()));\r\n    }\r\n\r\n    // former Loop 5\r\n    static Set&lt;FieldDTO&gt; toDTO(Collection&lt;Field&gt; fields) {\r\n        return fields.stream()\r\n            .map(f -&gt; new FieldDTO(f.getName()))\r\n            .collect(Collectors.toSet());\r\n    }\r\n    \r\n}\r\n```\r\nNote: For illustrative brevity I omitted any access modifiers like `public`. \r\n\r\nThen you can use the mapper simply like this:\r\n```java\r\nList&lt;SensorDTO&gt; dtos = sensors.stream()\r\n    .map(Mapper::toDTO)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n## Why the mapper class?\r\nInstead of using one huge stream we broke it into small parts, each with its own responsibility to map.\r\nBenefits are readability and maintainability. Then it is also easier to test.\r\n\r\nUsually you would use an [object-relational mapping (ORM)][1] framework to convert from DTO to domain model and back (like MapStruct, Orika, ModelMapper, Dozer).\r\n\r\nThis `Mapper` class with its decomposed mapping methods is a good preparation to ease migration to a real ORM framework in the future.\r\n\r\nSee also:\r\n* Baeldung: [The DTO Pattern (Data Transfer Object)](https://www.baeldung.com/java-dto-pattern)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping","title":"Convert for each loops to stream","body":"<h3>Use a mapper class</h3>\n<p>Then split 5 responsibilities into map-methods:</p>\n<ol>\n<li>map <code>Sensor</code> to <code>SensorDTO</code> (former Loop 1)</li>\n<li>map <code>Sensor#commands</code> to <code>Set&lt;CommandDTO&gt;</code> (former Loop 2)</li>\n<li>map <code>Command#members</code> to <code>Set&lt;MemberDTO&gt;</code> (former Loop 3)</li>\n<li>map <code>Sensor#attributes</code> to <code>Set&lt;AttributeDTO&gt;</code> (former Loop 4)</li>\n<li>map <code>Attribute#fields</code> to <code>Set&lt;FieldDTO&gt;</code> (former Loop 5)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class Mapper {\n\n    // former Loop 1\n    static SensorDTO toDTO(Sensor sensor) {\n        return new SensorDTO(\n            Mapper.toDTO(sensor.getAttributes()),\n            Mapper.toDTO(sensor.getCommands())\n        );\n    }\n\n    // former Loop 2\n    static Set&lt;CommandDTO&gt; toDTO(Collection&lt;Command&gt; commands) {\n        return commands.stream()\n            .map(Mapper::toCommandDTO)\n            .collect(Collectors.toSet());\n    }\n\n    static CommandDTO toCommandDTO(Command c) {\n        return new CommandDTO(c.getName(), Mapper.toDTO(c.getMembers()));\n    }\n\n    // former Loop 3        \n    static Set&lt;MemberDTO&gt; toDTO(Collection&lt;Member&gt; members) {\n        return members.stream()\n            .map(m -&gt; new MemberDTO(m.getName()))\n            .collect(Collectors.toSet());\n    }\n\n    // former Loop 4\n    static Set&lt;AttributeDTO&gt; toDTO(Collection&lt;Attribute&gt; attributes) {\n        return attributes.stream()\n            .map(Mapper::toAttributeDTO)\n            .collect(Collectors.toSet());\n    }\n\n    static AttributeDTO toAttributeDTO(Attribute a) {\n        return new AttributeDTO(a.getName(), Mapper.toDTO(a.getFields()));\n    }\n\n    // former Loop 5\n    static Set&lt;FieldDTO&gt; toDTO(Collection&lt;Field&gt; fields) {\n        return fields.stream()\n            .map(f -&gt; new FieldDTO(f.getName()))\n            .collect(Collectors.toSet());\n    }\n    \n}\n</code></pre>\n<p>Note: For illustrative brevity I omitted any access modifiers like <code>public</code>.</p>\n<p>Then you can use the mapper simply like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;SensorDTO&gt; dtos = sensors.stream()\n    .map(Mapper::toDTO)\n    .collect(Collectors.toList());\n</code></pre>\n<h2>Why the mapper class?</h2>\n<p>Instead of using one huge stream we broke it into small parts, each with its own responsibility to map.\nBenefits are readability and maintainability. Then it is also easier to test.</p>\n<p>Usually you would use an <a href=\"https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping\" rel=\"nofollow noreferrer\">object-relational mapping (ORM)</a> framework to convert from DTO to domain model and back (like MapStruct, Orika, ModelMapper, Dozer).</p>\n<p>This <code>Mapper</code> class with its decomposed mapping methods is a good preparation to ease migration to a real ORM framework in the future.</p>\n<p>See also:</p>\n<ul>\n<li>Baeldung: <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">The DTO Pattern (Data Transfer Object)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671382970,"creation_date":1671382071,"answer_id":74842989,"question_id":74842266,"body_markdown":"The very first important thing to point out the imperative code with lots of nested loops presented in the Question as well attempts to re-implement it with Streams that can be observed in some other Answers are glaring examples of the violation of the first GRASP principle [the Information expert principle][informationExpert].\r\n\r\n&gt; Using the principle of information expert, a general approach to assigning \r\n&gt; responsibilities is to look at a given responsibility, determine the\r\n&gt; information needed to fulfill it, and then determine where that\r\n&gt; information is stored.\r\n&gt; \r\n&gt; This will lead to placing the responsibility on the class with the\r\n&gt; most information required to fulfill it.\r\n\r\nIn other words, the *class that hold the information should be responsible for processing it*.\r\n\r\nThe advantage of this approach is better maintainability of code because data is being processed in one place (in the owning class) in isolation (i.e. without interfering with other code). Such logic is easy to extend, reuse and to test.\r\n\r\n*It worth to point out that a good alternative to would make use of the frameworks like [MapStruct][mapStruct] to manage the logic of transformation between domain classes and DTOs.*\r\n\r\nHere&#39;s how the method for transforming a `List&lt;Sensor&gt;` into a `List&lt;SensorDTO&gt;` might look like:\r\n\r\n    public static List&lt;SensorDTO&gt; toSensorDTO(List&lt;Sensor&gt; sensors) {\r\n        \r\n        return sensors.stream().map(Sensor::toDTO).toList();\r\n    }\r\n\r\nEach class does its potion of work, transforming the data it owns via method `toDto()`.\r\n\r\n    public static class Sensor {\r\n        private Set&lt;Command&gt; commands;\r\n        private Set&lt;Attribute&gt; attributes;\r\n    \r\n        public SensorDTO toDTO() {\r\n        \r\n            return Stream.of(this)\r\n                .collect(Collectors.teeing(\r\n                    Collectors.flatMapping(s -&gt; s.getCommands().stream()\r\n                        .map(Command::toDTO), Collectors.toSet()),\r\n                    Collectors.flatMapping(s -&gt; s.getAttributes().stream()\r\n                        .map(Attribute::toDTO), Collectors.toSet()),\r\n                    SensorDTO::new\r\n                ));\r\n        }\r\n    }\r\n    \r\n    public static class Command {\r\n        private String name;\r\n        private Set&lt;Member&gt; members;\r\n        \r\n        public CommandDTO toDTO() {\r\n            Set&lt;MemberDTO&gt; memberDTOSet = members.stream()\r\n                .map(Member::toDTO)\r\n                .collect(Collectors.toSet());\r\n            \r\n            return new CommandDTO(name, memberDTOSet);\r\n        }\r\n    }\r\n    \r\n    public static class Member {\r\n        private String name;\r\n    \r\n        public MemberDTO toDTO() {\r\n            return new MemberDTO(name);\r\n        }\r\n    }\r\n    \r\n    public static class Attribute {\r\n        private String name;\r\n        private Set&lt;Field&gt; members;\r\n    \r\n        public AttributeDTO toDTO() {\r\n            Set&lt;FieldDTO&gt; fieldDTOSet = members.stream()\r\n                .map(Field::toDTO)\r\n                .collect(Collectors.toSet());\r\n        \r\n            return new AttributeDTO(name, fieldDTOSet);\r\n        }\r\n    }\r\n    \r\n    public static class Field {\r\n        private String name;\r\n        \r\n        public FieldDTO toDTO() {\r\n            return new FieldDTO(name);\r\n        }\r\n    }\r\n\r\n\r\n\r\n   [informationExpert]: https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Information_expert\r\n\r\n   [mapStruct]: https://mapstruct.org/","title":"Convert for each loops to stream","body":"<p>The very first important thing to point out the imperative code with lots of nested loops presented in the Question as well attempts to re-implement it with Streams that can be observed in some other Answers are glaring examples of the violation of the first GRASP principle <a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Information_expert\" rel=\"nofollow noreferrer\">the Information expert principle</a>.</p>\n<blockquote>\n<p>Using the principle of information expert, a general approach to assigning\nresponsibilities is to look at a given responsibility, determine the\ninformation needed to fulfill it, and then determine where that\ninformation is stored.</p>\n<p>This will lead to placing the responsibility on the class with the\nmost information required to fulfill it.</p>\n</blockquote>\n<p>In other words, the <em>class that hold the information should be responsible for processing it</em>.</p>\n<p>The advantage of this approach is better maintainability of code because data is being processed in one place (in the owning class) in isolation (i.e. without interfering with other code). Such logic is easy to extend, reuse and to test.</p>\n<p><em>It worth to point out that a good alternative to would make use of the frameworks like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> to manage the logic of transformation between domain classes and DTOs.</em></p>\n<p>Here's how the method for transforming a <code>List&lt;Sensor&gt;</code> into a <code>List&lt;SensorDTO&gt;</code> might look like:</p>\n<pre><code>public static List&lt;SensorDTO&gt; toSensorDTO(List&lt;Sensor&gt; sensors) {\n    \n    return sensors.stream().map(Sensor::toDTO).toList();\n}\n</code></pre>\n<p>Each class does its potion of work, transforming the data it owns via method <code>toDto()</code>.</p>\n<pre><code>public static class Sensor {\n    private Set&lt;Command&gt; commands;\n    private Set&lt;Attribute&gt; attributes;\n\n    public SensorDTO toDTO() {\n    \n        return Stream.of(this)\n            .collect(Collectors.teeing(\n                Collectors.flatMapping(s -&gt; s.getCommands().stream()\n                    .map(Command::toDTO), Collectors.toSet()),\n                Collectors.flatMapping(s -&gt; s.getAttributes().stream()\n                    .map(Attribute::toDTO), Collectors.toSet()),\n                SensorDTO::new\n            ));\n    }\n}\n\npublic static class Command {\n    private String name;\n    private Set&lt;Member&gt; members;\n    \n    public CommandDTO toDTO() {\n        Set&lt;MemberDTO&gt; memberDTOSet = members.stream()\n            .map(Member::toDTO)\n            .collect(Collectors.toSet());\n        \n        return new CommandDTO(name, memberDTOSet);\n    }\n}\n\npublic static class Member {\n    private String name;\n\n    public MemberDTO toDTO() {\n        return new MemberDTO(name);\n    }\n}\n\npublic static class Attribute {\n    private String name;\n    private Set&lt;Field&gt; members;\n\n    public AttributeDTO toDTO() {\n        Set&lt;FieldDTO&gt; fieldDTOSet = members.stream()\n            .map(Field::toDTO)\n            .collect(Collectors.toSet());\n    \n        return new AttributeDTO(name, fieldDTOSet);\n    }\n}\n\npublic static class Field {\n    private String name;\n    \n    public FieldDTO toDTO() {\n        return new FieldDTO(name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27290018,"reputation":3,"user_id":20808590,"display_name":"vag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74842447,"answer_count":3,"score":0,"last_activity_date":1671417701,"creation_date":1671374635,"question_id":74842266,"body_markdown":"I try to convert some *for each* loops to streams.\r\n\r\nI have following object relations:\r\n* the main object is a collection of `sensors`\r\n* each `sensor` has `commands` and `attributes` objects\r\n* each `command` object has `members` objects\r\n* each `attribute` object has `fields` objects\r\n\r\n\r\n### 5 Loops\r\n```\r\nList&lt;SensorDTO&gt; sensorDTOS = new ArrayList();\r\n\r\n// Loop 1\r\nfor (Sensor sensor: sensors) {\r\n    \r\n    Set&lt;CommandDTO&gt; commandSet = new HashSet&lt;&gt;();\r\n    // Loop 2\r\n    for (Command c : sensor.getCommands()) {\r\n        Set&lt;MemberDTO&gt; memberSet = new HashSet&lt;&gt;();\r\n        // Loop 3\r\n        for (Member m : c.getMembers()) {\r\n            memberSet.add(new MemberDTO(m.getName()));\r\n        }\r\n        commandSet.add(new CommandDTO(c.getName(),memberSet));\r\n    }\r\n    \r\n    Set&lt;AttributeDTO&gt; attributeSet = new HashSet&lt;&gt;();\r\n    // Loop 4\r\n    for (Attribute a : sensor.getAttributes()) {\r\n        Set&lt;FieldDTO&gt; fieldSet = new HashSet&lt;&gt;();\r\n        // Loop 5\r\n        for (Field f : a.getFields()) {\r\n            fieldSet.add(new FieldDTO(f.getName()));\r\n        }\r\n        attributeSet.add(new AttributeDTO( a.getName(), fieldSet));\r\n    }\r\n\r\n    SensorDTO sensorDTO = new SensorDTO(attributeSet, commandSet);\r\n    sensorDTOS.add(sensorDTO);\r\n}\r\n```\r\n\r\n### Attempt using `stream().forEach`\r\nThe only I have accomplished is to print the inner object.\r\n\r\n```java\r\nsensors.stream()\r\n    .forEach(s-&gt; { \r\n        s.getCommands().stream().forEach( c -&gt; {\r\n            c.getMembers().stream().forEach( m -&gt; {\r\n                 System.out.println(m);\r\n            });\r\n        });\r\n    });\r\n```\r\n\r\nHow to make a list of `sensors` to return as a list of `sensorDTOS`?","title":"Convert for each loops to stream","body":"<p>I try to convert some <em>for each</em> loops to streams.</p>\n<p>I have following object relations:</p>\n<ul>\n<li>the main object is a collection of <code>sensors</code></li>\n<li>each <code>sensor</code> has <code>commands</code> and <code>attributes</code> objects</li>\n<li>each <code>command</code> object has <code>members</code> objects</li>\n<li>each <code>attribute</code> object has <code>fields</code> objects</li>\n</ul>\n<h3>5 Loops</h3>\n<pre><code>List&lt;SensorDTO&gt; sensorDTOS = new ArrayList();\n\n// Loop 1\nfor (Sensor sensor: sensors) {\n    \n    Set&lt;CommandDTO&gt; commandSet = new HashSet&lt;&gt;();\n    // Loop 2\n    for (Command c : sensor.getCommands()) {\n        Set&lt;MemberDTO&gt; memberSet = new HashSet&lt;&gt;();\n        // Loop 3\n        for (Member m : c.getMembers()) {\n            memberSet.add(new MemberDTO(m.getName()));\n        }\n        commandSet.add(new CommandDTO(c.getName(),memberSet));\n    }\n    \n    Set&lt;AttributeDTO&gt; attributeSet = new HashSet&lt;&gt;();\n    // Loop 4\n    for (Attribute a : sensor.getAttributes()) {\n        Set&lt;FieldDTO&gt; fieldSet = new HashSet&lt;&gt;();\n        // Loop 5\n        for (Field f : a.getFields()) {\n            fieldSet.add(new FieldDTO(f.getName()));\n        }\n        attributeSet.add(new AttributeDTO( a.getName(), fieldSet));\n    }\n\n    SensorDTO sensorDTO = new SensorDTO(attributeSet, commandSet);\n    sensorDTOS.add(sensorDTO);\n}\n</code></pre>\n<h3>Attempt using <code>stream().forEach</code></h3>\n<p>The only I have accomplished is to print the inner object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sensors.stream()\n    .forEach(s-&gt; { \n        s.getCommands().stream().forEach( c -&gt; {\n            c.getMembers().stream().forEach( m -&gt; {\n                 System.out.println(m);\n            });\n        });\n    });\n</code></pre>\n<p>How to make a list of <code>sensors</code> to return as a list of <code>sensorDTOS</code>?</p>\n"},{"tags":["java","spring","maven","graphql","endpoint"],"answers":[{"tags":[],"owner":{"account_id":17332097,"reputation":11,"user_id":12554927,"display_name":"Barbatos Rex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671417663,"creation_date":1671417663,"answer_id":74845868,"question_id":74844916,"body_markdown":"For those who have the same issue as myself, i found the solution by learning how to spell. \r\n\r\n&gt; Mutator\r\n\r\nmust change to \r\n\r\n&gt; Mutation\r\n\r\nResult:\r\n```\r\nschema {\r\n    query: Query\r\n    mutation: Mutation\r\n}\r\n\r\n\r\ntype Mutation{\r\n    createPromotion (\r\n        promotion: PromotionInput!\r\n    ) : GraphQLPromotionDTO\r\n}\r\ntype Query{\r\n    listAllPromotions : [GraphQLPromotionDTO!]!,\r\n    health: String!\r\n}\r\n\r\n\r\ninput PromotionInput{\r\n    percentage: Float!\r\n    from: String!\r\n    to: String!\r\n    shopId: ID\r\n    promotionType: PromotionType!\r\n}\r\n\r\nenum PromotionType{\r\n    GLOBAL,\r\n    LOCAL\r\n}\r\n\r\ntype GraphQLPromotionDTO {\r\n    id: ID!\r\n    percentage : Float!\r\n    from : String!\r\n    to : String!\r\n    shopId : ID\r\n    promotionType: PromotionType!\r\n}\r\n```\r\n\r\nPS: Added null verification to each type","title":"Spring Boot does not mapp GraphQL endpoints correctly","body":"<p>For those who have the same issue as myself, i found the solution by learning how to spell.</p>\n<blockquote>\n<p>Mutator</p>\n</blockquote>\n<p>must change to</p>\n<blockquote>\n<p>Mutation</p>\n</blockquote>\n<p>Result:</p>\n<pre><code>schema {\n    query: Query\n    mutation: Mutation\n}\n\n\ntype Mutation{\n    createPromotion (\n        promotion: PromotionInput!\n    ) : GraphQLPromotionDTO\n}\ntype Query{\n    listAllPromotions : [GraphQLPromotionDTO!]!,\n    health: String!\n}\n\n\ninput PromotionInput{\n    percentage: Float!\n    from: String!\n    to: String!\n    shopId: ID\n    promotionType: PromotionType!\n}\n\nenum PromotionType{\n    GLOBAL,\n    LOCAL\n}\n\ntype GraphQLPromotionDTO {\n    id: ID!\n    percentage : Float!\n    from : String!\n    to : String!\n    shopId : ID\n    promotionType: PromotionType!\n}\n</code></pre>\n<p>PS: Added null verification to each type</p>\n"}],"owner":{"account_id":17332097,"reputation":11,"user_id":12554927,"display_name":"Barbatos Rex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671417663,"creation_date":1671403703,"question_id":74844916,"body_markdown":"# Introduction\r\n\r\nI have been trying to solve this problem for a long time now. I have searched for awnsers and tried many solutions, which failed. I am using Spring Boot version 3.0.0, and spring-boot-starter-graphql version 3.0.0. I will provide (what i belive to be) all the relevant information to solve this problem.\r\n\r\n# Files\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;gorgeousSandwich&lt;/groupId&gt;\r\n   &lt;artifactId&gt;promotion&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;packaging&gt;war&lt;/packaging&gt;\r\n   &lt;name&gt;Promotion Microservice&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n         &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n         &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- OPEN API 3 (Swagger) --&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n         &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n         &lt;version&gt;1.6.12&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n               &lt;excludes&gt;\r\n                  &lt;exclude&gt;\r\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                  &lt;/exclude&gt;\r\n               &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n## PromotionController.java\r\n\r\n```\r\n@AllArgsConstructor\r\n@Controller\r\npublic class PromotionController {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(PromotionController.class);\r\n    private final IPromotionService service;\r\n    private final IPromotionMapper mapper;\r\n\r\n\r\n    @MutationMapping\r\n    public GraphQLPromotionDTO createPromotion(@Argument PromotionInput promotion) {\r\n        try {\r\n            PromotionDTO promotionDTO = promotion.toDTO();\r\n            LOGGER.trace(String.format(&quot;Requesting the creation of a new promotion (%s)&quot;, promotionDTO));\r\n            promotionDTO = service.createPromotion(promotionDTO);\r\n            LOGGER.info(&quot;Order successfully created&quot;);\r\n            return mapper.toGraphQLDTO(promotionDTO);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Could not create Shop!&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @QueryMapping\r\n    public List&lt;GraphQLPromotionDTO&gt; listAllPromotions() {\r\n        System.out.println(&quot;Hehehe&quot;);\r\n        Iterable&lt;PromotionDTO&gt; itr = service.getAll();\r\n        List&lt;GraphQLPromotionDTO&gt; l = new ArrayList&lt;&gt;();\r\n        itr.forEach(dto -&gt; l.add(mapper.toGraphQLDTO(dto)));\r\n        LOGGER.info(&quot;Retrieving all promotions&quot;);\r\n        return l;\r\n    }\r\n\r\n    @QueryMapping\r\n    public String health() {\r\n        return &quot;All systems Online!&quot;;\r\n    }\r\n\r\n\r\n    record PromotionInput(Float percentage, String from, String to, String shopId, PromotionType promotionType) {\r\n\r\n\r\n        PromotionDTO toDTO() throws ParseException {\r\n            SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            return new PromotionDTO(null, percentage, format.parse(from), format.parse(to), Long.parseLong(shopId), promotionType);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n## schema.graphqls\r\n\r\n\r\n```\r\nschema {\r\n    query: Query\r\n    mutation: Mutator\r\n}\r\n\r\n\r\ntype Mutator{\r\n    createPromotion (\r\n        promotion: PromotionInput\r\n    ) : GraphQLPromotionDTO\r\n}\r\ntype Query{\r\n    listAllPromotions : [GraphQLPromotionDTO],\r\n    health: String\r\n}\r\n\r\n\r\ninput PromotionInput{\r\n    percentage: Float\r\n    from: String\r\n    to: String\r\n    shopId: ID\r\n    promotionType: PromotionType\r\n}\r\n\r\nenum PromotionType{\r\n    GLOBAL,\r\n    LOCAL\r\n}\r\n\r\ntype GraphQLPromotionDTO {\r\n    id: ID\r\n    percentage : Float\r\n    from : String\r\n    to : String\r\n    shopId : ID\r\n    promotionType: PromotionType\r\n}\r\n```\r\n## Promotion.java\r\n\r\n```\r\npackage gorgeousSandwich.promotion.Domain;\r\n\r\n\r\nimport gorgeousSandwich.promotion.Shared.domain.patterns.IAggregateRoot;\r\nimport gorgeousSandwich.promotion.Shared.domain.patterns.IEntity;\r\nimport gorgeousSandwich.promotion.Shared.domain.patterns.IEntityId;\r\nimport gorgeousSandwich.promotion.Shared.domain.valueobjects.Percentage;\r\nimport gorgeousSandwich.promotion.Shared.domain.valueobjects.TimeOfEffect;\r\nimport jakarta.persistence.*;\r\nimport org.springframework.data.annotation.Id;\r\n\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n@Entity\r\npublic abstract class Promotion implements IAggregateRoot&lt;PromotionId&gt; {\r\n    @EmbeddedId\r\n    private PromotionId id;\r\n    @Embedded\r\n    private TimeOfEffect timeOfEffect;\r\n    @Embedded\r\n    private Percentage percentage;\r\n    @Enumerated\r\n    private PromotionType type;\r\n    Promotion(TimeOfEffect timeOfEffect, Percentage percentage, PromotionType type) {\r\n        this.id = new PromotionId();\r\n        this.timeOfEffect = timeOfEffect;\r\n        this.percentage = percentage;\r\n        this.type=type;\r\n    }\r\n\r\n    Promotion(PromotionId id, TimeOfEffect timeOfEffect, Percentage percentage, PromotionType type) {\r\n        this.id = id;\r\n        this.timeOfEffect = timeOfEffect;\r\n        this.percentage = percentage;\r\n        this.type=type;\r\n    }\r\n\r\n    protected Promotion() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean sameAs(IEntity&lt;? extends IEntityId&gt; otherEntity) {\r\n        if (otherEntity instanceof Promotion) {\r\n            Promotion otherPromotion = ((Promotion) otherEntity);\r\n            return obtainId().id().equals(otherPromotion.obtainId().id());\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public PromotionId obtainId() {\r\n        return id;\r\n    }\r\n\r\n    public TimeOfEffect getTimeOfEffect() {\r\n        return timeOfEffect;\r\n    }\r\n\r\n    public Percentage getPercentage() {\r\n        return percentage;\r\n    }\r\n\r\n    public PromotionType getType() {\r\n        return type;\r\n    }\r\n}\r\n```\r\n\r\n## GraphQLPromotionDTO.java\r\n\r\n\r\n```\r\npackage gorgeousSandwich.promotion.Domain;\r\n\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\n\r\n@AllArgsConstructor(access = AccessLevel.PUBLIC)\r\npublic class GraphQLPromotionDTO {\r\n    public String id;\r\n    public float percentage;\r\n    public String from;\r\n    public String to;\r\n    public String shopId;\r\n    public PromotionType promotionType;\r\n}\r\n\r\n```\r\n\r\n## PromotionType.java\r\n\r\n```\r\npackage gorgeousSandwich.promotion.Domain;\r\n\r\npublic enum PromotionType {\r\n    LOCAL,\r\n    GLOBAL;\r\n}\r\n```\r\n\r\n\r\nThaks for all the help\r\n\r\n# What i have tried already\r\n\r\nI have tried to:\r\n* Match the types of the DTO in the schema to the code\r\n* @SchemaMapping instead of @QueryMapping and/or @MutationMapping\r\n* Debug any endpoint (but none worked)\r\n\r\n\r\n# Edit\r\nOk, i have already made progress. I can perform queries but mutations are still not working.","title":"Spring Boot does not mapp GraphQL endpoints correctly","body":"<h1>Introduction</h1>\n<p>I have been trying to solve this problem for a long time now. I have searched for awnsers and tried many solutions, which failed. I am using Spring Boot version 3.0.0, and spring-boot-starter-graphql version 3.0.0. I will provide (what i belive to be) all the relevant information to solve this problem.</p>\n<h1>Files</h1>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;gorgeousSandwich&lt;/groupId&gt;\n   &lt;artifactId&gt;promotion&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;packaging&gt;war&lt;/packaging&gt;\n   &lt;name&gt;Promotion Microservice&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n         &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n         &lt;version&gt;8.0.0.Final&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n         &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n         &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;!-- OPEN API 3 (Swagger) --&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n         &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n         &lt;version&gt;1.6.12&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n               &lt;excludes&gt;\n                  &lt;exclude&gt;\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                  &lt;/exclude&gt;\n               &lt;/excludes&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<h2>PromotionController.java</h2>\n<pre><code>@AllArgsConstructor\n@Controller\npublic class PromotionController {\n    private static final Logger LOGGER = LoggerFactory.getLogger(PromotionController.class);\n    private final IPromotionService service;\n    private final IPromotionMapper mapper;\n\n\n    @MutationMapping\n    public GraphQLPromotionDTO createPromotion(@Argument PromotionInput promotion) {\n        try {\n            PromotionDTO promotionDTO = promotion.toDTO();\n            LOGGER.trace(String.format(&quot;Requesting the creation of a new promotion (%s)&quot;, promotionDTO));\n            promotionDTO = service.createPromotion(promotionDTO);\n            LOGGER.info(&quot;Order successfully created&quot;);\n            return mapper.toGraphQLDTO(promotionDTO);\n        } catch (Exception e) {\n            LOGGER.error(&quot;Could not create Shop!&quot;, e);\n            return null;\n        }\n    }\n\n    @QueryMapping\n    public List&lt;GraphQLPromotionDTO&gt; listAllPromotions() {\n        System.out.println(&quot;Hehehe&quot;);\n        Iterable&lt;PromotionDTO&gt; itr = service.getAll();\n        List&lt;GraphQLPromotionDTO&gt; l = new ArrayList&lt;&gt;();\n        itr.forEach(dto -&gt; l.add(mapper.toGraphQLDTO(dto)));\n        LOGGER.info(&quot;Retrieving all promotions&quot;);\n        return l;\n    }\n\n    @QueryMapping\n    public String health() {\n        return &quot;All systems Online!&quot;;\n    }\n\n\n    record PromotionInput(Float percentage, String from, String to, String shopId, PromotionType promotionType) {\n\n\n        PromotionDTO toDTO() throws ParseException {\n            SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            return new PromotionDTO(null, percentage, format.parse(from), format.parse(to), Long.parseLong(shopId), promotionType);\n        }\n\n    }\n}\n</code></pre>\n<h2>schema.graphqls</h2>\n<pre><code>schema {\n    query: Query\n    mutation: Mutator\n}\n\n\ntype Mutator{\n    createPromotion (\n        promotion: PromotionInput\n    ) : GraphQLPromotionDTO\n}\ntype Query{\n    listAllPromotions : [GraphQLPromotionDTO],\n    health: String\n}\n\n\ninput PromotionInput{\n    percentage: Float\n    from: String\n    to: String\n    shopId: ID\n    promotionType: PromotionType\n}\n\nenum PromotionType{\n    GLOBAL,\n    LOCAL\n}\n\ntype GraphQLPromotionDTO {\n    id: ID\n    percentage : Float\n    from : String\n    to : String\n    shopId : ID\n    promotionType: PromotionType\n}\n</code></pre>\n<h2>Promotion.java</h2>\n<pre><code>package gorgeousSandwich.promotion.Domain;\n\n\nimport gorgeousSandwich.promotion.Shared.domain.patterns.IAggregateRoot;\nimport gorgeousSandwich.promotion.Shared.domain.patterns.IEntity;\nimport gorgeousSandwich.promotion.Shared.domain.patterns.IEntityId;\nimport gorgeousSandwich.promotion.Shared.domain.valueobjects.Percentage;\nimport gorgeousSandwich.promotion.Shared.domain.valueobjects.TimeOfEffect;\nimport jakarta.persistence.*;\nimport org.springframework.data.annotation.Id;\n\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Entity\npublic abstract class Promotion implements IAggregateRoot&lt;PromotionId&gt; {\n    @EmbeddedId\n    private PromotionId id;\n    @Embedded\n    private TimeOfEffect timeOfEffect;\n    @Embedded\n    private Percentage percentage;\n    @Enumerated\n    private PromotionType type;\n    Promotion(TimeOfEffect timeOfEffect, Percentage percentage, PromotionType type) {\n        this.id = new PromotionId();\n        this.timeOfEffect = timeOfEffect;\n        this.percentage = percentage;\n        this.type=type;\n    }\n\n    Promotion(PromotionId id, TimeOfEffect timeOfEffect, Percentage percentage, PromotionType type) {\n        this.id = id;\n        this.timeOfEffect = timeOfEffect;\n        this.percentage = percentage;\n        this.type=type;\n    }\n\n    protected Promotion() {\n\n    }\n\n    @Override\n    public boolean sameAs(IEntity&lt;? extends IEntityId&gt; otherEntity) {\n        if (otherEntity instanceof Promotion) {\n            Promotion otherPromotion = ((Promotion) otherEntity);\n            return obtainId().id().equals(otherPromotion.obtainId().id());\n        }\n        return false;\n    }\n\n    @Override\n    public PromotionId obtainId() {\n        return id;\n    }\n\n    public TimeOfEffect getTimeOfEffect() {\n        return timeOfEffect;\n    }\n\n    public Percentage getPercentage() {\n        return percentage;\n    }\n\n    public PromotionType getType() {\n        return type;\n    }\n}\n</code></pre>\n<h2>GraphQLPromotionDTO.java</h2>\n<pre><code>package gorgeousSandwich.promotion.Domain;\n\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\n\n@AllArgsConstructor(access = AccessLevel.PUBLIC)\npublic class GraphQLPromotionDTO {\n    public String id;\n    public float percentage;\n    public String from;\n    public String to;\n    public String shopId;\n    public PromotionType promotionType;\n}\n\n</code></pre>\n<h2>PromotionType.java</h2>\n<pre><code>package gorgeousSandwich.promotion.Domain;\n\npublic enum PromotionType {\n    LOCAL,\n    GLOBAL;\n}\n</code></pre>\n<p>Thaks for all the help</p>\n<h1>What i have tried already</h1>\n<p>I have tried to:</p>\n<ul>\n<li>Match the types of the DTO in the schema to the code</li>\n<li>@SchemaMapping instead of @QueryMapping and/or @MutationMapping</li>\n<li>Debug any endpoint (but none worked)</li>\n</ul>\n<h1>Edit</h1>\n<p>Ok, i have already made progress. I can perform queries but mutations are still not working.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6017202,"reputation":5167,"user_id":4725592,"accept_rate":65,"display_name":"Harshit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441091196,"creation_date":1441090623,"answer_id":32325378,"question_id":32325297,"body_markdown":"You don&#39;t have to restart the whole application after unsuccesfully reading a file - just re-run the problematic function (readFile() in this case).\r\n\r\nSimply put `readFile()` in your `reLaunch()` function\r\n\r\n    private static void reLaunch(int relaunchAttempt){\r\n    readFile();\r\n    }\r\n\r\nOr\r\n\r\n    private static void readFile(){\r\n    \r\n           try{\r\n    \r\n            //read file code\r\n          }catch(FileNotFoundException e){\r\n    \r\n                //relaunch the application if error detected\r\n               readFile(count);\r\n              e.printStackTrace()\r\n           }\r\n        }\r\n\r\nMaintain count in `readFile()` function\r\n","title":"Relaunch application if there are exception in the program","body":"<p>You don't have to restart the whole application after unsuccesfully reading a file - just re-run the problematic function (readFile() in this case).</p>\n\n<p>Simply put <code>readFile()</code> in your <code>reLaunch()</code> function</p>\n\n<pre><code>private static void reLaunch(int relaunchAttempt){\nreadFile();\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>private static void readFile(){\n\n       try{\n\n        //read file code\n      }catch(FileNotFoundException e){\n\n            //relaunch the application if error detected\n           readFile(count);\n          e.printStackTrace()\n       }\n    }\n</code></pre>\n\n<p>Maintain count in <code>readFile()</code> function</p>\n"},{"tags":[],"owner":{"account_id":6670530,"reputation":43,"user_id":5146768,"accept_rate":20,"display_name":"Abhishek Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441090658,"creation_date":1441090658,"answer_id":32325382,"question_id":32325297,"body_markdown":"Please try to use FutureTask under package java.util.concurrent. This support the feature the one you are looking for.","title":"Relaunch application if there are exception in the program","body":"<p>Please try to use FutureTask under package java.util.concurrent. This support the feature the one you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441091292,"creation_date":1441091024,"answer_id":32325484,"question_id":32325297,"body_markdown":"instead of relaunching, you can (and should) handle this in main(). For example:\r\n\r\n    \tprivate static final int MAX_RETRIES = 3 ;\r\n    \tprivate static final int WAIT_BETWEEN_RETRIES_SEC = 30 ;\r\n    \r\n    \tpublic static void main(String... args) \r\n    \t{\r\n    \t\tint retry = 1;\r\n    \t\twhile (retry &lt;= MAX_RETRIES) {\r\n    \t\t\ttry {\r\n    \t\t\t\treadFile();\r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tretry++;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(WAIT_BETWEEN_RETRIES_SEC * 1000);\r\n    \t\t\t\t} catch (InterruptedException e1) {}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (retry == MAX_RETRIES) {\r\n    \t\t\tSystem.out.println(&quot;Failed!&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t// success\r\n    \t}\r\n    \r\n      private static void readFile() throws IOException {\r\n         //read file code\r\n      }\r\n\r\n","title":"Relaunch application if there are exception in the program","body":"<p>instead of relaunching, you can (and should) handle this in main(). For example:</p>\n\n<pre><code>    private static final int MAX_RETRIES = 3 ;\n    private static final int WAIT_BETWEEN_RETRIES_SEC = 30 ;\n\n    public static void main(String... args) \n    {\n        int retry = 1;\n        while (retry &lt;= MAX_RETRIES) {\n            try {\n                readFile();\n                break;\n            } catch (IOException e) {\n                e.printStackTrace();\n                retry++;\n                try {\n                    Thread.sleep(WAIT_BETWEEN_RETRIES_SEC * 1000);\n                } catch (InterruptedException e1) {}\n            }\n        }\n        if (retry == MAX_RETRIES) {\n            System.out.println(\"Failed!\");\n            return;\n        }\n        // success\n    }\n\n  private static void readFile() throws IOException {\n     //read file code\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4339560,"reputation":1742,"user_id":3543182,"accept_rate":25,"display_name":"M. Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441103571,"creation_date":1441103571,"answer_id":32329387,"question_id":32325297,"body_markdown":"    public class fileReader {\r\n    \r\n        private static final MAX_RETRY = 3;\r\n        public static void main (String[] args){\r\n            int retry = 0;\r\n            while (retry++ &lt; MAX_RETRY) {\r\n                try {\r\n                    readFile();\r\n                    break; // Break while loop\r\n                } catch (Exception e) {\r\n                    if (retry == MAX_RETRY) {\r\n                        // Failed 3 times\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            // Success!\r\n            method1();\r\n            method2();\r\n            method3();\r\n        }\r\n    \r\n        private static void readFile(){ ... }\r\n        private static method1(){ ... }\r\n        private static method2(){ ... }\r\n        private static method3(){ ... }\r\n    \r\n    }","title":"Relaunch application if there are exception in the program","body":"<pre><code>public class fileReader {\n\n    private static final MAX_RETRY = 3;\n    public static void main (String[] args){\n        int retry = 0;\n        while (retry++ &lt; MAX_RETRY) {\n            try {\n                readFile();\n                break; // Break while loop\n            } catch (Exception e) {\n                if (retry == MAX_RETRY) {\n                    // Failed 3 times\n                    return;\n                }\n            }\n        }\n        // Success!\n        method1();\n        method2();\n        method3();\n    }\n\n    private static void readFile(){ ... }\n    private static method1(){ ... }\n    private static method2(){ ... }\n    private static method3(){ ... }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6739583,"reputation":1653,"user_id":5193214,"accept_rate":68,"display_name":"RedRocket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32325484,"answer_count":4,"score":0,"last_activity_date":1671416914,"creation_date":1441090370,"question_id":32325297,"body_markdown":"I want to create a program that can **relaunch** itself if they detected any **exception error** during the execution. \r\n\r\nLet say my program is trying reading a file. If the program failed to read a file, then it will have FileNotFound exception. After this exception occur, the program itself will **restart** and retry it again. This process will continue **3 times** and if the program still cannot read that file, the program will then **terminated** and an exception message will be printed. \r\n\r\nI created the read file part, but I have trouble to restart my program if it detect an error. Any help will be appreciated. I have included my pesudo code of what I am trying to do in the relaunch method. \r\n\r\nfileReader.java\r\n  \r\n\r\n     private static final int MAX_RETRIES = 3 ;\r\n        private static final int WAIT_BETWEEN_RETRIES_SEC = 30 ;\r\n    \r\n        public static void main(String... args) \r\n        {\r\n            int retry = 1;\r\n            while (retry &lt;= MAX_RETRIES) {\r\n                try {\r\n                    //this method is okay, good. pass to next method.\r\n                    readFile();\r\n                    \r\n                    //error detected, retry only this method. Error fixed, pass to next method \r\n                    method2();\r\n    \r\n                    //error detected, retry only this method. Error fixed, pass to next method\r\n                    method3();\r\n                    method4();\r\n                    method5();\r\n    \r\n    \r\n                    break;\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    retry++;\r\n                    try {\r\n                        Thread.sleep(WAIT_BETWEEN_RETRIES_SEC * 1000);\r\n                    } catch (InterruptedException e1) {}\r\n                }\r\n            }\r\n            if (retry == MAX_RETRIES) {\r\n                System.out.println(&quot;Failed!&quot;);\r\n                return;\r\n            }\r\n            // success\r\n        }\r\n    \r\n      private static void readFile() throws IOException {\r\n         //read file code\r\n      }","title":"Relaunch application if there are exception in the program","body":"<p>I want to create a program that can <strong>relaunch</strong> itself if they detected any <strong>exception error</strong> during the execution. </p>\n\n<p>Let say my program is trying reading a file. If the program failed to read a file, then it will have FileNotFound exception. After this exception occur, the program itself will <strong>restart</strong> and retry it again. This process will continue <strong>3 times</strong> and if the program still cannot read that file, the program will then <strong>terminated</strong> and an exception message will be printed. </p>\n\n<p>I created the read file part, but I have trouble to restart my program if it detect an error. Any help will be appreciated. I have included my pesudo code of what I am trying to do in the relaunch method. </p>\n\n<p>fileReader.java</p>\n\n<pre><code> private static final int MAX_RETRIES = 3 ;\n    private static final int WAIT_BETWEEN_RETRIES_SEC = 30 ;\n\n    public static void main(String... args) \n    {\n        int retry = 1;\n        while (retry &lt;= MAX_RETRIES) {\n            try {\n                //this method is okay, good. pass to next method.\n                readFile();\n\n                //error detected, retry only this method. Error fixed, pass to next method \n                method2();\n\n                //error detected, retry only this method. Error fixed, pass to next method\n                method3();\n                method4();\n                method5();\n\n\n                break;\n            } catch (IOException e) {\n                e.printStackTrace();\n                retry++;\n                try {\n                    Thread.sleep(WAIT_BETWEEN_RETRIES_SEC * 1000);\n                } catch (InterruptedException e1) {}\n            }\n        }\n        if (retry == MAX_RETRIES) {\n            System.out.println(\"Failed!\");\n            return;\n        }\n        // success\n    }\n\n  private static void readFile() throws IOException {\n     //read file code\n  }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":230303,"reputation":14381,"user_id":493823,"display_name":"fmucar"},"score":0,"creation_date":1295458429,"post_id":4738510,"comment_id":5237390,"body_markdown":"what kind of task you want retry?","body":"what kind of task you want retry?"},{"owner":{"account_id":87886,"reputation":4994,"user_id":243456,"accept_rate":81,"display_name":"Scruffers"},"score":8,"creation_date":1295628632,"post_id":4738510,"comment_id":5267566,"body_markdown":"@fatih - It doesn&#39;t matter, retrying a task is an abstract concept.","body":"@fatih - It doesn&#39;t matter, retrying a task is an abstract concept."},{"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1457714806,"post_id":4738510,"comment_id":59547732,"body_markdown":"Interestingly, everyone seems to wrap the action to retry in some class that does the retry, which requires the action to be retried to conform to some interface. I would rather implement a backoff/retry strategy manager with just one method `boolean shallWeRetryOnceMore()`, when called it either immediately returns `false` or waits for a time, depending on backoff algorithm, and then returns true.","body":"Interestingly, everyone seems to wrap the action to retry in some class that does the retry, which requires the action to be retried to conform to some interface. I would rather implement a backoff/retry strategy manager with just one method <code>boolean shallWeRetryOnceMore()</code>, when called it either immediately returns <code>false</code> or waits for a time, depending on backoff algorithm, and then returns true."}],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1295458074,"creation_date":1295458074,"answer_id":4738536,"question_id":4738510,"body_markdown":"You can use [Quartz][1].  Look at [this][2] Stack Overflow answer.\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: https://stackoverflow.com/questions/4408858/quartz-retry-when-failure","title":"Retry Task Framework","body":"<p>You can use <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a>.  Look at <a href=\"https://stackoverflow.com/questions/4408858/quartz-retry-when-failure\">this</a> Stack Overflow answer.</p>\n"},{"tags":[],"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295458112,"creation_date":1295458112,"answer_id":4738542,"question_id":4738510,"body_markdown":"One option to factor this out of your codebase is to use the command pattern between the components of your application.\r\nOnce you turn a call to a business method into an object, you can hand around the call easily and have an abstract RetryHandler that takes a command and retries it. This should be independent from the actual call and reusable.","title":"Retry Task Framework","body":"<p>One option to factor this out of your codebase is to use the command pattern between the components of your application.\nOnce you turn a call to a business method into an object, you can hand around the call easily and have an abstract RetryHandler that takes a command and retries it. This should be independent from the actual call and reusable.</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":2,"up_vote_count":18,"is_accepted":true,"score":16,"last_activity_date":1295458570,"creation_date":1295458570,"answer_id":4738630,"question_id":4738510,"body_markdown":"You can use `RetriableTasks` as outlined in this post: [Retrying Operations in Java][1]. You can quite easily change its waiting algorithm if you like.\r\n\r\nSample code:\r\n\r\n    //creates a task which will retry 3 times with an interval of 5 seconds\r\n    RetriableTask r = new RetriableTask(3, 5000, new Callable(){\r\n    \tpublic Object call() throws Exception{\r\n    \t\t//put your code here\r\n    \t}\r\n    });\r\n    r.call();\r\n\r\n[1]: http://fahdshariff.blogspot.com/2009/08/retrying-operations-in-java.html","title":"Retry Task Framework","body":"<p>You can use <code>RetriableTasks</code> as outlined in this post: <a href=\"http://fahdshariff.blogspot.com/2009/08/retrying-operations-in-java.html\" rel=\"noreferrer\">Retrying Operations in Java</a>. You can quite easily change its waiting algorithm if you like.</p>\n\n<p>Sample code:</p>\n\n<pre><code>//creates a task which will retry 3 times with an interval of 5 seconds\nRetriableTask r = new RetriableTask(3, 5000, new Callable(){\n    public Object call() throws Exception{\n        //put your code here\n    }\n});\nr.call();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121805,"reputation":1273,"user_id":315158,"accept_rate":57,"display_name":"mulya"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1372921929,"creation_date":1372921929,"answer_id":17463971,"question_id":4738510,"body_markdown":"If you use Spring:\r\n\r\n    //import the necessary classes\r\n    import org.springframework.batch.retry.RetryCallback;\r\n    import org.springframework.batch.retry.RetryContext;\r\n    import org.springframework.batch.retry.backoff.ExponentialBackOffPolicy;\r\n    import org.springframework.batch.retry.policy.SimpleRetryPolicy;\r\n    import org.springframework.batch.retry.support.RetryTemplate;\r\n    ...\r\n     \r\n    // create the retry template\r\n    final RetryTemplate template = new RetryTemplate();\r\n    template.setRetryPolicy(new SimpleRetryPolicy(5));\r\n    final ExponentialBackOffPolicy backOffPolicy = new ExponentialBackOffPolicy();\r\n    backOffPolicy.setInitialInterval(1000L);\r\n    template.setBackOffPolicy(backOffPolicy);\r\n     \r\n    // execute the operation using the retry template\r\n    template.execute(new RetryCallback&lt;Remote&gt;() {\r\n      @Override\r\n      public Remote doWithRetry(final RetryContext context) throws Exception {\r\n        return (Remote) Naming.lookup(&quot;rmi://somehost:2106/MyApp&quot;);\r\n      }\r\n    });\r\n\r\n\r\n[Original blog post][1]\r\n\r\n\r\n  [1]: http://fahdshariff.blogspot.co.uk/2013/02/retrying-operations-using-springs.html &quot;Original blog post&quot;","title":"Retry Task Framework","body":"<p>If you use Spring:</p>\n\n<pre><code>//import the necessary classes\nimport org.springframework.batch.retry.RetryCallback;\nimport org.springframework.batch.retry.RetryContext;\nimport org.springframework.batch.retry.backoff.ExponentialBackOffPolicy;\nimport org.springframework.batch.retry.policy.SimpleRetryPolicy;\nimport org.springframework.batch.retry.support.RetryTemplate;\n...\n\n// create the retry template\nfinal RetryTemplate template = new RetryTemplate();\ntemplate.setRetryPolicy(new SimpleRetryPolicy(5));\nfinal ExponentialBackOffPolicy backOffPolicy = new ExponentialBackOffPolicy();\nbackOffPolicy.setInitialInterval(1000L);\ntemplate.setBackOffPolicy(backOffPolicy);\n\n// execute the operation using the retry template\ntemplate.execute(new RetryCallback&lt;Remote&gt;() {\n  @Override\n  public Remote doWithRetry(final RetryContext context) throws Exception {\n    return (Remote) Naming.lookup(\"rmi://somehost:2106/MyApp\");\n  }\n});\n</code></pre>\n\n<p><a href=\"http://fahdshariff.blogspot.co.uk/2013/02/retrying-operations-using-springs.html\">Original blog post</a></p>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499673222,"creation_date":1403446005,"answer_id":24352041,"question_id":4738510,"body_markdown":"I have implemented a pretty flexible retry utility [here][1]\r\n\r\nYou can retry any Callable with:\r\n\r\n    public static &lt;T&gt; T executeWithRetry(final Callable&lt;T&gt; what, final int nrImmediateRetries,\r\n            final int nrTotalRetries, final int retryWaitMillis, final int timeoutMillis,\r\n            final Predicate&lt;? super T&gt; retryOnReturnVal, final Predicate&lt;Exception&gt; retryOnException)\r\n\r\nwith immediate + delayed retries, with a max timeout, and retry either on decisions based on result or exception.\r\n\r\nThere are several other versions of this function with more or less flexibility.\r\n\r\nI have written also a aspect that can be applied with annotations [Retry][2] [Retry Aspect][3]\r\n\r\n\r\n  [1]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/base/Callables.java\r\n  [2]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-aspects/src/main/java/org/spf4j/annotations/Retry.java\r\n  [3]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-aspects/src/main/java/org/spf4j/aspects/RetryAspect.java","title":"Retry Task Framework","body":"<p>I have implemented a pretty flexible retry utility <a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/base/Callables.java\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>You can retry any Callable with:</p>\n\n<pre><code>public static &lt;T&gt; T executeWithRetry(final Callable&lt;T&gt; what, final int nrImmediateRetries,\n        final int nrTotalRetries, final int retryWaitMillis, final int timeoutMillis,\n        final Predicate&lt;? super T&gt; retryOnReturnVal, final Predicate&lt;Exception&gt; retryOnException)\n</code></pre>\n\n<p>with immediate + delayed retries, with a max timeout, and retry either on decisions based on result or exception.</p>\n\n<p>There are several other versions of this function with more or less flexibility.</p>\n\n<p>I have written also a aspect that can be applied with annotations <a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-aspects/src/main/java/org/spf4j/annotations/Retry.java\" rel=\"nofollow noreferrer\">Retry</a> <a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-aspects/src/main/java/org/spf4j/aspects/RetryAspect.java\" rel=\"nofollow noreferrer\">Retry Aspect</a></p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1671416876,"creation_date":1437603634,"answer_id":31575044,"question_id":4738510,"body_markdown":"Check out [Failsafe](https://github.com/jhalterman/failsafe) (which I authored). It&#39;s a simple, zero-dependency library for performing retries, and supports synchronous and asynchronous retries, Java 8 integration, event listeners, integration with other async APIs, etc:\r\n\r\n    RetryPolicy retryPolicy = new RetryPolicy()\r\n      .handle(ConnectException.class, SocketException.class);\r\n      .withMaxRetries(3);\r\n    \r\n    Connection connection = Failsafe.with(retryPolicy).get(() -&gt; connect());\r\n\r\nDoesn&#39;t get much easier.","title":"Retry Task Framework","body":"<p>Check out <a href=\"https://github.com/jhalterman/failsafe\" rel=\"nofollow noreferrer\">Failsafe</a> (which I authored). It's a simple, zero-dependency library for performing retries, and supports synchronous and asynchronous retries, Java 8 integration, event listeners, integration with other async APIs, etc:</p>\n<pre><code>RetryPolicy retryPolicy = new RetryPolicy()\n  .handle(ConnectException.class, SocketException.class);\n  .withMaxRetries(3);\n\nConnection connection = Failsafe.with(retryPolicy).get(() -&gt; connect());\n</code></pre>\n<p>Doesn't get much easier.</p>\n"},{"tags":[],"owner":{"account_id":121805,"reputation":1273,"user_id":315158,"accept_rate":57,"display_name":"mulya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524596772,"creation_date":1456859109,"answer_id":35731283,"question_id":4738510,"body_markdown":"I have one answer already, but it was three years ago and I have to add that now I absolutley love [guava-retrying][1] project. Let me just show you the code.\r\n\r\n    Callable&lt;Boolean&gt; callable = new Callable&lt;Boolean&gt;() {\r\n        public Boolean call() throws Exception {\r\n            return true; // do something useful here\r\n        }\r\n    };\r\n    \r\n    Retryer&lt;Boolean&gt; retryer = RetryerBuilder.&lt;Boolean&gt;newBuilder()\r\n            .retryIfResult(Predicates.&lt;Boolean&gt;isNull())\r\n            .retryIfExceptionOfType(IOException.class)\r\n            .retryIfRuntimeException()\r\n            .withStopStrategy(StopStrategies.stopAfterAttempt(3))\r\n            .build();\r\n    try {\r\n        retryer.call(callable);\r\n    } catch (RetryException e) {\r\n        e.printStackTrace();\r\n    } catch (ExecutionException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://github.com/rholder/guava-retrying","title":"Retry Task Framework","body":"<p>I have one answer already, but it was three years ago and I have to add that now I absolutley love <a href=\"https://github.com/rholder/guava-retrying\" rel=\"nofollow noreferrer\">guava-retrying</a> project. Let me just show you the code.</p>\n\n<pre><code>Callable&lt;Boolean&gt; callable = new Callable&lt;Boolean&gt;() {\n    public Boolean call() throws Exception {\n        return true; // do something useful here\n    }\n};\n\nRetryer&lt;Boolean&gt; retryer = RetryerBuilder.&lt;Boolean&gt;newBuilder()\n        .retryIfResult(Predicates.&lt;Boolean&gt;isNull())\n        .retryIfExceptionOfType(IOException.class)\n        .retryIfRuntimeException()\n        .withStopStrategy(StopStrategies.stopAfterAttempt(3))\n        .build();\ntry {\n    retryer.call(callable);\n} catch (RetryException e) {\n    e.printStackTrace();\n} catch (ExecutionException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472831936,"creation_date":1472831936,"answer_id":39296533,"question_id":4738510,"body_markdown":"If you are using **Spring**, it is **very simple** using [Spring Retry][1] Library.\r\n\r\nNow, Spring Retry is an individual library (**earlier** it was part of **Spring Batch**) framework.\r\n\r\n**Step1:** Add spring retry dependency.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.2.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Step2:** Add `@EnableRetry` annotation to your class which contains main() method of your application **or** into any of your `@Configuration` class .\r\n\r\n**Step3:** Add `@Retryable` annotation to your **method** which you want to retry/call again, in case of exceptions.\r\n\r\n    @Retryable(maxAttempts=5,backoff = @Backoff(delay = 3000))\r\n    public void retrySomething() throws Exception{\r\n    \tlogger.info(&quot;printSomething{} is called&quot;);\r\n    \tthrow new SQLException();\r\n    }\r\n\r\nThis `@Retryable` annotation will retry/call `retrySomething()` 5 times (**including** the 1st failure).\r\n\r\nCurrent thread will wait for 3000 ms or **3 seconds** between next retry.\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-retry/docs/1.1.2.RELEASE/apidocs/org/springframework/retry/annotation/Retryable.html","title":"Retry Task Framework","body":"<p>If you are using <strong>Spring</strong>, it is <strong>very simple</strong> using <a href=\"http://docs.spring.io/spring-retry/docs/1.1.2.RELEASE/apidocs/org/springframework/retry/annotation/Retryable.html\" rel=\"noreferrer\">Spring Retry</a> Library.</p>\n\n<p>Now, Spring Retry is an individual library (<strong>earlier</strong> it was part of <strong>Spring Batch</strong>) framework.</p>\n\n<p><strong>Step1:</strong> Add spring retry dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Step2:</strong> Add <code>@EnableRetry</code> annotation to your class which contains main() method of your application <strong>or</strong> into any of your <code>@Configuration</code> class .</p>\n\n<p><strong>Step3:</strong> Add <code>@Retryable</code> annotation to your <strong>method</strong> which you want to retry/call again, in case of exceptions.</p>\n\n<pre><code>@Retryable(maxAttempts=5,backoff = @Backoff(delay = 3000))\npublic void retrySomething() throws Exception{\n    logger.info(\"printSomething{} is called\");\n    throw new SQLException();\n}\n</code></pre>\n\n<p>This <code>@Retryable</code> annotation will retry/call <code>retrySomething()</code> 5 times (<strong>including</strong> the 1st failure).</p>\n\n<p>Current thread will wait for 3000 ms or <strong>3 seconds</strong> between next retry.</p>\n"}],"owner":{"account_id":87886,"reputation":4994,"user_id":243456,"accept_rate":81,"display_name":"Scruffers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27901,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":4738630,"answer_count":8,"score":28,"last_activity_date":1671416876,"creation_date":1295457910,"question_id":4738510,"body_markdown":"I have a number of situations where I need to retry a task n-times if it fails (sometimes with some form of back-off-before-retry logic). Generally, if an exception is thrown, the task should be retried up to the max-retry count.\r\n\r\nI can easily write something to do this fairly generically, but not wanting to re-invent the wheel I was wondering if anyone can recommend any frameworks for this. The only thing I have been able to find is: [Ant Retry](http://ant.apache.org/manual/Tasks/retry.html) but I don&#39;t want to use Ant tasks directly in my application.\r\n\r\nThanks","title":"Retry Task Framework","body":"<p>I have a number of situations where I need to retry a task n-times if it fails (sometimes with some form of back-off-before-retry logic). Generally, if an exception is thrown, the task should be retried up to the max-retry count.</p>\n\n<p>I can easily write something to do this fairly generically, but not wanting to re-invent the wheel I was wondering if anyone can recommend any frameworks for this. The only thing I have been able to find is: <a href=\"http://ant.apache.org/manual/Tasks/retry.html\" rel=\"noreferrer\">Ant Retry</a> but I don't want to use Ant tasks directly in my application.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","multithreading","unit-testing","callback"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1447406551,"post_id":33688787,"comment_id":55150826,"body_markdown":"IMO: I would remove the threading aspect from the unit test myself and test the logic inside the thread only. I have faith that threading in Java works, I don&#39;t need to test that. And testing how the threading of the logic works with respect to the code you run in parallel to is part of an integration test, not a unit test.","body":"IMO: I would remove the threading aspect from the unit test myself and test the logic inside the thread only. I have faith that threading in Java works, I don&#39;t need to test that. And testing how the threading of the logic works with respect to the code you run in parallel to is part of an integration test, not a unit test."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1447416121,"post_id":33688787,"comment_id":55156119,"body_markdown":"The problem is, you are using a static ExecutorService.  To make things more unit-testy, you could pass in a _mock_ ExecutorService, and then verify that the module under test interacted with the mock in the expected way.","body":"The problem is, you are using a static ExecutorService.  To make things more unit-testy, you could pass in a <i>mock</i> ExecutorService, and then verify that the module under test interacted with the mock in the expected way."},{"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"score":0,"creation_date":1461176044,"post_id":33688787,"comment_id":61084197,"body_markdown":"There is nothing wrong with threading in a unit test if threading is *the point* of the code you&#39;re testing. See my answer on how to do this correctly.","body":"There is nothing wrong with threading in a unit test if threading is <i>the point</i> of the code you&#39;re testing. See my answer on how to do this correctly."}],"answers":[{"tags":[],"owner":{"account_id":1990926,"reputation":1315,"user_id":1784958,"display_name":"stalet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1461221891,"creation_date":1447410264,"answer_id":33690540,"question_id":33688787,"body_markdown":"I aggree with @Gimbys comment about this is no longer a unit-test when you start testing the the threading aspect. \r\n\r\nNevertheless it is interesting as a way to integration-test a asynchronous invokation.\r\n\r\nTo avvoid sleep i tend to use the class [CountDownLatch][1] to wait for invokations. \r\nIn order to count down you need an actuall implementation of the callback interface - so in my example I have made a mock implementation of this.\r\n\r\nSince there is no actual methods to fetch the data - i am just testing that it is in fact a instance of the JustAReal interface.\r\n\r\n    @Test\r\n    public void testInvoke() throws Exception {\r\n\r\n        final CountDownLatch countDownLatch = new CountDownLatch(1); //1 is how many invokes we are waiting for\r\n\r\n        JustAClass justAClass = new JustAClass();\r\n        JustAClass.JustACallBack callBack = new JustAClass.JustACallBack() {\r\n            @Override\r\n            public void callFunc(final JustAClass.JustAResult result) {\r\n                assertNotNull(&quot;Result should not be null&quot;, result);\r\n                assertTrue(&quot;Result should be instance of JustAResultReal&quot;, result instanceof JustAClass.JustAResultReal);\r\n                countDownLatch.countDown();\r\n            }\r\n        };\r\n\r\n        justAClass.threadFunc(callBack);\r\n        if(!countDownLatch.await(1200, TimeUnit.MILLISECONDS)){\r\n            fail(&quot;Timed out, see log for errors&quot;);\r\n        }\r\n\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"How to unit test java multiple thread","body":"<p>I aggree with @Gimbys comment about this is no longer a unit-test when you start testing the the threading aspect. </p>\n\n<p>Nevertheless it is interesting as a way to integration-test a asynchronous invokation.</p>\n\n<p>To avvoid sleep i tend to use the class <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow\">CountDownLatch</a> to wait for invokations. \nIn order to count down you need an actuall implementation of the callback interface - so in my example I have made a mock implementation of this.</p>\n\n<p>Since there is no actual methods to fetch the data - i am just testing that it is in fact a instance of the JustAReal interface.</p>\n\n<pre><code>@Test\npublic void testInvoke() throws Exception {\n\n    final CountDownLatch countDownLatch = new CountDownLatch(1); //1 is how many invokes we are waiting for\n\n    JustAClass justAClass = new JustAClass();\n    JustAClass.JustACallBack callBack = new JustAClass.JustACallBack() {\n        @Override\n        public void callFunc(final JustAClass.JustAResult result) {\n            assertNotNull(\"Result should not be null\", result);\n            assertTrue(\"Result should be instance of JustAResultReal\", result instanceof JustAClass.JustAResultReal);\n            countDownLatch.countDown();\n        }\n    };\n\n    justAClass.threadFunc(callBack);\n    if(!countDownLatch.await(1200, TimeUnit.MILLISECONDS)){\n        fail(\"Timed out, see log for errors\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1671416862,"creation_date":1461175942,"answer_id":36751899,"question_id":33688787,"body_markdown":"The general approach in @stalet&#39;s answer is close, but doesn&#39;t quite work since any assertion failures from a separate thread are not noticed by the main thread. Therefore your test will **always** pass, even when it shouldn&#39;t. Instead, try using [ConcurrentUnit](https://github.com/jhalterman/concurrentunit) (which I authored):\r\n\r\n    @Test\r\n    public void testInvoke() throws Throwable {\r\n        Waiter waiter = new Waiter();\r\n        JustAClass justAClass = new JustAClass();\r\n        JustAClass.JustACallBack callBack = new JustAClass.JustACallBack() {\r\n            @Override\r\n            public void callFunc(final JustAClass.JustAResult result) {\r\n                waiter.assertNotNull(result);\r\n                waiter.assertTrue(result instanceof JustAClass.JustAResultReal);\r\n                waiter.resume();\r\n            }\r\n        };\r\n    \r\n        justAClass.threadFunc(callBack);\r\n        waiter.await(1200, TimeUnit.SECONDS);\r\n    }\r\n\r\nThe key here is ConcurrentUnit&#39;s `Waiter` will properly report any assertions failures to the main test thread and the test will pass or fail as it should.","title":"How to unit test java multiple thread","body":"<p>The general approach in @stalet's answer is close, but doesn't quite work since any assertion failures from a separate thread are not noticed by the main thread. Therefore your test will <strong>always</strong> pass, even when it shouldn't. Instead, try using <a href=\"https://github.com/jhalterman/concurrentunit\" rel=\"nofollow noreferrer\">ConcurrentUnit</a> (which I authored):</p>\n<pre><code>@Test\npublic void testInvoke() throws Throwable {\n    Waiter waiter = new Waiter();\n    JustAClass justAClass = new JustAClass();\n    JustAClass.JustACallBack callBack = new JustAClass.JustACallBack() {\n        @Override\n        public void callFunc(final JustAClass.JustAResult result) {\n            waiter.assertNotNull(result);\n            waiter.assertTrue(result instanceof JustAClass.JustAResultReal);\n            waiter.resume();\n        }\n    };\n\n    justAClass.threadFunc(callBack);\n    waiter.await(1200, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>The key here is ConcurrentUnit's <code>Waiter</code> will properly report any assertions failures to the main test thread and the test will pass or fail as it should.</p>\n"}],"owner":{"account_id":5530364,"reputation":1340,"user_id":4390525,"accept_rate":82,"display_name":"xuanzhui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33690540,"answer_count":2,"score":2,"last_activity_date":1671416862,"creation_date":1447404395,"question_id":33688787,"body_markdown":"The issue is that I have a method starting a new thread for a time-consuming work. I want to test the callback result, but the child thread may still running, so as a result, what I get is not the right stub.&lt;br/&gt;&lt;br/&gt;\r\nI think the code may explain itself:&lt;br/&gt;\r\n\r\n    public class JustAClass {\r\n        //it is a callback for async   \r\n        public interface JustACallBack {\r\n            void callFunc(JustAResult result);\r\n        }\r\n    \r\n        //this is the result interface\r\n        public interface JustAResult {\r\n        }\r\n    \r\n        //this is a real class for the interface\r\n        public class JustAResultReal implements JustAResult{\r\n            public JustAResultReal(String content) {this.content = content;}\r\n            public String content;\r\n        }\r\n    \r\n        //here is the key function\r\n        public void threadFunc(final JustACallBack callBack) {\r\n            BCCache.executorService.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //just to simulate a time-consuming task\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    //now we callback\r\n                    callBack.callFunc(new JustAResultReal(&quot;can you reach me&quot;));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nand the test function could be(I am using `mockito`):&lt;br/&gt;\r\n\r\n    @Test\r\n    public void testThreadFunc() throws Exception {\r\n    \r\n        JustAClass justAClass = new JustAClass();\r\n    \r\n        JustAClass.JustACallBack callBack = Mockito.mock(JustAClass.JustACallBack.class);\r\n    \r\n        justAClass.threadFunc(callBack);\r\n    \r\n        //add this line, we can get the expected result\r\n        Thread.sleep(1200);\r\n    \r\n        Mockito.verify(callBack).callFunc(captor.capture());\r\n    \r\n        System.out.println(((JustAClass.JustAResultReal)captor.getValue()).content);\r\n    }\r\n\r\nI know we can add a `sleep` to wait and expect that the child thread would exit within the period, but could there be a better way? Actually how could I know how long the child thread would take? Setting a very long time can be an approach but just seems not very nice.","title":"How to unit test java multiple thread","body":"<p>The issue is that I have a method starting a new thread for a time-consuming work. I want to test the callback result, but the child thread may still running, so as a result, what I get is not the right stub.<br/><br/>\nI think the code may explain itself:<br/></p>\n\n<pre><code>public class JustAClass {\n    //it is a callback for async   \n    public interface JustACallBack {\n        void callFunc(JustAResult result);\n    }\n\n    //this is the result interface\n    public interface JustAResult {\n    }\n\n    //this is a real class for the interface\n    public class JustAResultReal implements JustAResult{\n        public JustAResultReal(String content) {this.content = content;}\n        public String content;\n    }\n\n    //here is the key function\n    public void threadFunc(final JustACallBack callBack) {\n        BCCache.executorService.execute(new Runnable() {\n            @Override\n            public void run() {\n                //just to simulate a time-consuming task\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                //now we callback\n                callBack.callFunc(new JustAResultReal(\"can you reach me\"));\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>and the test function could be(I am using <code>mockito</code>):<br/></p>\n\n<pre><code>@Test\npublic void testThreadFunc() throws Exception {\n\n    JustAClass justAClass = new JustAClass();\n\n    JustAClass.JustACallBack callBack = Mockito.mock(JustAClass.JustACallBack.class);\n\n    justAClass.threadFunc(callBack);\n\n    //add this line, we can get the expected result\n    Thread.sleep(1200);\n\n    Mockito.verify(callBack).callFunc(captor.capture());\n\n    System.out.println(((JustAClass.JustAResultReal)captor.getValue()).content);\n}\n</code></pre>\n\n<p>I know we can add a <code>sleep</code> to wait and expect that the child thread would exit within the period, but could there be a better way? Actually how could I know how long the child thread would take? Setting a very long time can be an approach but just seems not very nice.</p>\n"},{"tags":["java","multithreading","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":8957,"reputation":4033,"user_id":16352,"accept_rate":67,"display_name":"Rene"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1231429958,"creation_date":1231429958,"answer_id":424771,"question_id":424516,"body_markdown":"Forget getting good results by testing for concurrency problems. Attempt to reduce synchronization and make the problem smaller. Then use as high as possible library support to do synchronization. And only if you really have then try to handle the concurrency yourself. When you know each worker does its work correct and all your thinking tell you that you have the concurrency problem licked then generate some interesting load. Unittest frameworks and their extensions can do that job, but know that you are not testing any units anymore. (Remember, you already had that part covered)\r\n\r\nIf your concurrency model gets complicated check out tools suited for that like [SPIN][1].\r\n\r\n\r\n  [1]: http://spinroot.com/spin/whatispin.html","title":"Any satisfactory approaches to unit testing thread safety in Java?","body":"<p>Forget getting good results by testing for concurrency problems. Attempt to reduce synchronization and make the problem smaller. Then use as high as possible library support to do synchronization. And only if you really have then try to handle the concurrency yourself. When you know each worker does its work correct and all your thinking tell you that you have the concurrency problem licked then generate some interesting load. Unittest frameworks and their extensions can do that job, but know that you are not testing any units anymore. (Remember, you already had that part covered)</p>\n\n<p>If your concurrency model gets complicated check out tools suited for that like <a href=\"http://spinroot.com/spin/whatispin.html\" rel=\"noreferrer\">SPIN</a>.</p>\n"},{"tags":[],"owner":{"account_id":20669,"reputation":815,"user_id":49642,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231430397,"creation_date":1231430397,"answer_id":424813,"question_id":424516,"body_markdown":"In some cases, I&#39;ve found I can force a particular problematic interleaving of calls to a potentially un-thread-safe class by using multiple threads that synchronize with each other, perhaps with the use of CountDownLatch or some such concurrency mechanism.  Sometimes this just doesn&#39;t work however, for instance if you&#39;re trying to test what happens if two threads are in the same method at the same time.\r\n\r\nHere&#39;s an interesting article (don&#39;t know much about the tool, though) : http://today.java.net/pub/a/today/2003/08/06/multithreadedTests.html","title":"Any satisfactory approaches to unit testing thread safety in Java?","body":"<p>In some cases, I've found I can force a particular problematic interleaving of calls to a potentially un-thread-safe class by using multiple threads that synchronize with each other, perhaps with the use of CountDownLatch or some such concurrency mechanism.  Sometimes this just doesn't work however, for instance if you're trying to test what happens if two threads are in the same method at the same time.</p>\n\n<p>Here's an interesting article (don't know much about the tool, though) : <a href=\"http://today.java.net/pub/a/today/2003/08/06/multithreadedTests.html\" rel=\"nofollow noreferrer\">http://today.java.net/pub/a/today/2003/08/06/multithreadedTests.html</a></p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1231436714,"creation_date":1231436714,"answer_id":425204,"question_id":424516,"body_markdown":"[Java Concurrency in Practice][1] has some great information about how to write tests for concurrency issues.  However they are not true unit tests.  It is nearly impossible to write a true unit test for a concurrency issue.\r\n\r\nBasically it boils down to this.  Create a bunch of test threads and start them.  Each thread should\r\n\r\n  - wait for a count down latch\r\n  - repeatedly call some method that modifies the mutable state in question\r\n  - count down on a second latch and exit\r\n\r\nThe junit thread creates all the threads and starts them, then counts down on the first latch once to let them all go, then waits for the second latch, then makes some assertions about the mutable state.\r\n\r\nEven more so than other types of bugs, it&#39;s easier to write a failing unit test for a concurrency bug *after* you have found the bug.\r\n\r\n\r\n  [1]: http://jcip.net/","title":"Any satisfactory approaches to unit testing thread safety in Java?","body":"<p><a href=\"http://jcip.net/\" rel=\"noreferrer\">Java Concurrency in Practice</a> has some great information about how to write tests for concurrency issues.  However they are not true unit tests.  It is nearly impossible to write a true unit test for a concurrency issue.</p>\n\n<p>Basically it boils down to this.  Create a bunch of test threads and start them.  Each thread should</p>\n\n<ul>\n<li>wait for a count down latch</li>\n<li>repeatedly call some method that modifies the mutable state in question</li>\n<li>count down on a second latch and exit</li>\n</ul>\n\n<p>The junit thread creates all the threads and starts them, then counts down on the first latch once to let them all go, then waits for the second latch, then makes some assertions about the mutable state.</p>\n\n<p>Even more so than other types of bugs, it's easier to write a failing unit test for a concurrency bug <em>after</em> you have found the bug.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1360358061,"creation_date":1360358061,"answer_id":14781472,"question_id":424516,"body_markdown":"There are two basic problems you have to solve. The first is this: how do you generate a thread clash? Second, how do you validate your test? \r\n\r\nThe first one is straightforward. Use a big hammer. Write some code that&#39;s capable of detecting the case where one thread steps on another, and run that code 50 times or so on 50 consecutive threads. You can do this with a countdown latch:\r\n\r\n    public void testForThreadClash() {\r\n      final CountDownLatch latch = new CountDownLatch(1);\r\n      for (int i=0; i&lt;50; ++i) {\r\n        Runnable runner = new Runnable() {\r\n          public void run() {\r\n            try {\r\n              latch.await();\r\n              testMethod();\r\n            } catch (InterruptedException ie) { }\r\n          }\r\n        }\r\n        new Thread(runner, &quot;TestThread&quot;+i).start();\r\n      }\r\n      // all threads are waiting on the latch.\r\n      latch.countDown(); // release the latch\r\n      // all threads are now running concurrently.\r\n    }\r\n\r\nYour testMethod() has to generate a situation where, without the synchronized block, some thread will step on another thread&#39;s data. It should be able to detect this case and throw an exception. (The code above doesn&#39;t do this. The exception will most likely be generated on one of the test threads, and you need to put in a mechanism that will detect it on the main thread, but that&#39;s a separate issue. I left it out for simplicity, but you can do this with a second latch, which the test can prematurely clear on an exception.)\r\n\r\nThe second question is trickier, but there&#39;s a simple solution. The question is this: How do you know that your hammer will generate a clash? Of course, your code has synchronized blocks to prevent a clash, so you can&#39;t answer the question. But you can. *Just remove the synchronized keywords.* Since it&#39;s the synchronized keyword that makes your class threadsafe, you can just remove them and re-run the test. If the test is valid, it will now fail.\r\n\r\nWhen I first wrote the code above, it turned out to be invalid. I never saw a clash. So it&#39;s not (yet) a valid test. But now we know how to get a clear answer to the second question. We&#39;re getting the wrong answer, but we can now tinker with the test to generate the failure we&#39;re looking for. Here&#39;s what I did: I just ran the test 100 times in a row.\r\n\r\n    for (int j=0; j&lt;100; ++j) {\r\n      testForThreadClash();\r\n    }\r\n\r\nNow my test failed reliably on about the 20th iteration or so. This confirms my test is valid. I can now restore the synchronized keyword and rerun the test, confident that it will tell me if my class is threadsafe. ","title":"Any satisfactory approaches to unit testing thread safety in Java?","body":"<p>There are two basic problems you have to solve. The first is this: how do you generate a thread clash? Second, how do you validate your test? </p>\n\n<p>The first one is straightforward. Use a big hammer. Write some code that's capable of detecting the case where one thread steps on another, and run that code 50 times or so on 50 consecutive threads. You can do this with a countdown latch:</p>\n\n<pre><code>public void testForThreadClash() {\n  final CountDownLatch latch = new CountDownLatch(1);\n  for (int i=0; i&lt;50; ++i) {\n    Runnable runner = new Runnable() {\n      public void run() {\n        try {\n          latch.await();\n          testMethod();\n        } catch (InterruptedException ie) { }\n      }\n    }\n    new Thread(runner, \"TestThread\"+i).start();\n  }\n  // all threads are waiting on the latch.\n  latch.countDown(); // release the latch\n  // all threads are now running concurrently.\n}\n</code></pre>\n\n<p>Your testMethod() has to generate a situation where, without the synchronized block, some thread will step on another thread's data. It should be able to detect this case and throw an exception. (The code above doesn't do this. The exception will most likely be generated on one of the test threads, and you need to put in a mechanism that will detect it on the main thread, but that's a separate issue. I left it out for simplicity, but you can do this with a second latch, which the test can prematurely clear on an exception.)</p>\n\n<p>The second question is trickier, but there's a simple solution. The question is this: How do you know that your hammer will generate a clash? Of course, your code has synchronized blocks to prevent a clash, so you can't answer the question. But you can. <em>Just remove the synchronized keywords.</em> Since it's the synchronized keyword that makes your class threadsafe, you can just remove them and re-run the test. If the test is valid, it will now fail.</p>\n\n<p>When I first wrote the code above, it turned out to be invalid. I never saw a clash. So it's not (yet) a valid test. But now we know how to get a clear answer to the second question. We're getting the wrong answer, but we can now tinker with the test to generate the failure we're looking for. Here's what I did: I just ran the test 100 times in a row.</p>\n\n<pre><code>for (int j=0; j&lt;100; ++j) {\n  testForThreadClash();\n}\n</code></pre>\n\n<p>Now my test failed reliably on about the 20th iteration or so. This confirms my test is valid. I can now restore the synchronized keyword and rerun the test, confident that it will tell me if my class is threadsafe. </p>\n"}],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25038,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":424771,"answer_count":4,"score":47,"last_activity_date":1671416846,"creation_date":1231426487,"question_id":424516,"body_markdown":"I am looking at improving a package that I believe not to be threadsafe when its input is shared between multiple worker threads.  According to TDD principles, I should write some tests that fail in the first instance, and these would certainly be useful in assessing the problem.\r\n\r\nI realise that this is not a simple thing to acheive, and that naively, multi-threaded tests will be nondeterministic as the operating system will determine scheduling and the exact order that various operations are interleaved.  I have looked at and used [MultithreadedTC][1] in the past, and this was useful.  However, in that case I knew in advance exactly where the existing implementation fell down, and thus was able to cook up a nice set of tests that covered it.\r\n\r\nHowever, if you&#39;re not at the point where you know exactly what the problem is, is there a good way of going about writing a test that stands a good chance of throwing up any potential problems?  Are there any libraries that others have found helpful? Would I be right in thinking that from a purist point of view, a multi-threaded test case should just be the same calls and assertions as the usual single-threaded test, only run with multiple worker threads as appropriate?\r\n\r\nAny offers on tools/best practices/philosophy in general would be welcome.\r\n\r\n\r\n  [1]: http://www.cs.umd.edu/projects/PL/multithreadedtc/overview.html","title":"Any satisfactory approaches to unit testing thread safety in Java?","body":"<p>I am looking at improving a package that I believe not to be threadsafe when its input is shared between multiple worker threads.  According to TDD principles, I should write some tests that fail in the first instance, and these would certainly be useful in assessing the problem.</p>\n\n<p>I realise that this is not a simple thing to acheive, and that naively, multi-threaded tests will be nondeterministic as the operating system will determine scheduling and the exact order that various operations are interleaved.  I have looked at and used <a href=\"http://www.cs.umd.edu/projects/PL/multithreadedtc/overview.html\" rel=\"noreferrer\">MultithreadedTC</a> in the past, and this was useful.  However, in that case I knew in advance exactly where the existing implementation fell down, and thus was able to cook up a nice set of tests that covered it.</p>\n\n<p>However, if you're not at the point where you know exactly what the problem is, is there a good way of going about writing a test that stands a good chance of throwing up any potential problems?  Are there any libraries that others have found helpful? Would I be right in thinking that from a purist point of view, a multi-threaded test case should just be the same calls and assertions as the usual single-threaded test, only run with multiple worker threads as appropriate?</p>\n\n<p>Any offers on tools/best practices/philosophy in general would be welcome.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1467220327,"post_id":38106111,"comment_id":63645724,"body_markdown":"What is ugly in this code? To retry, you need to loop (or recurse). (related: http://stackoverflow.com/questions/34740091/apply-retries-in-a-rxjava and http://stackoverflow.com/questions/30989558/java-8-retry-a-method-until-a-condition-is-fulfilled-in-intervals)","body":"What is ugly in this code? To retry, you need to loop (or recurse). (related: <a href=\"http://stackoverflow.com/questions/34740091/apply-retries-in-a-rxjava\" title=\"apply retries in a rxjava\">stackoverflow.com/questions/34740091/apply-retries-in-a-rxja&zwnj;&#8203;va</a> and <a href=\"http://stackoverflow.com/questions/30989558/java-8-retry-a-method-until-a-condition-is-fulfilled-in-intervals\" title=\"java 8 retry a method until a condition is fulfilled in intervals\">stackoverflow.com/questions/30989558/&hellip;</a>)"},{"owner":{"account_id":1351835,"reputation":5211,"user_id":1291235,"accept_rate":60,"display_name":"Moonlit"},"score":0,"creation_date":1467220963,"post_id":38106111,"comment_id":63646128,"body_markdown":"Yeah I know, maybe I am too fussy here, but I am just wondering whether this can be done in a more &quot;functional&quot; or &quot;declarative&quot; way, because this is often more readable...","body":"Yeah I know, maybe I am too fussy here, but I am just wondering whether this can be done in a more &quot;functional&quot; or &quot;declarative&quot; way, because this is often more readable..."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1467225110,"post_id":38106111,"comment_id":63648647,"body_markdown":"What&#39;s ugly is that it conflates the code for a particular task with the retry / failure management logic.  That means you would duplicate the retry logic all over the place, probably by cut and paste, making it virtually impossible to adjust your retry behavior consistently later.","body":"What&#39;s ugly is that it conflates the code for a particular task with the retry / failure management logic.  That means you would duplicate the retry logic all over the place, probably by cut and paste, making it virtually impossible to adjust your retry behavior consistently later."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1467226321,"post_id":38106111,"comment_id":63649403,"body_markdown":"@BrianGoetz Yes, that is very true. Since the OP didn&#39;t post the code in `// Some code`, I rather interpreted the question as trying to improve the retry logic itself (maybe with functional idioms).","body":"@BrianGoetz Yes, that is very true. Since the OP didn&#39;t post the code in <code>&#47;&#47; Some code</code>, I rather interpreted the question as trying to improve the retry logic itself (maybe with functional idioms)."}],"answers":[{"tags":[],"owner":{"account_id":1362105,"reputation":1976,"user_id":1299270,"accept_rate":100,"display_name":"tkachuko"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1467234917,"creation_date":1467224814,"answer_id":38107441,"question_id":38106111,"body_markdown":"Well, more functional approach in my opinion will be to use `Try`monad which unfortunately is not there for us in jdk 8 :(\r\n\r\nNevertheless you still can use [better-monads library][1] which provides it. Having that you can come up with some implementation like this:\r\n\r\n    public static &lt;Out&gt; Try&lt;Out&gt; tryTimes(int times, TrySupplier&lt;Out&gt; attempt) {\r\n            Supplier&lt;Try&lt;Out&gt;&gt; tryAttempt = () -&gt; Try.ofFailable(attempt::get);\r\n    \r\n            return IntStream.range(1, times)\r\n                    .mapToObj(i -&gt; tryAttempt)\r\n                    .reduce(tryAttempt, (acc, current) -&gt; () -&gt; acc.get().recoverWith(error -&gt; current.get()))\r\n                    .get();\r\n        }\r\n\r\nLong story short this function just chains calls of `tryAttempt` and in case of failed attempt tries to `recoverWith` the next call of `tryAttempt`. Client code is going to look like this:\r\n\r\n    tryTimes(10, () -&gt; {\r\n                // all the logic to do your possibly failing stuff\r\n            }\r\n    );\r\n\r\nAs a result client code is going to get `Try&lt;T&gt;` which can be unpacked by direct call of `.get()` (in case of success returns the value, in case of failure throws underlying exception) or with other methods described in library documentation.\r\n\r\nHope it helps. \r\n\r\n**UPDATE:**\r\n\r\nThis can be done also in functional way using the `filter`, `findFirst` and `limit` and without any external libraries:\r\n\r\n    interface ThrowingSupplier&lt;Out&gt; { Out supply() throws Exception; }\r\n\r\n    public static &lt;Out&gt; Optional&lt;Out&gt; tryTimes(int times, ThrowingSupplier&lt;Out&gt; attempt) {\r\n        Supplier&lt;Optional&lt;Out&gt;&gt; catchingSupplier = () -&gt; {\r\n            try {\r\n                return Optional.ofNullable(attempt.supply());\r\n            } catch (Exception e) {\r\n                return Optional.empty();\r\n            }\r\n        };\r\n        return Stream.iterate(catchingSupplier, i -&gt; i)\r\n                .limit(times)\r\n                .map(Supplier::get)\r\n                .filter(Optional::isPresent)\r\n                .findFirst()\r\n                .flatMap(Function.identity());\r\n    }\r\n\r\nThe client code remains the same. Also, please note that it is not going to evaluate expression `times` times, but will stop on the first successful attempt.\r\n\r\n  [1]: https://github.com/jasongoodwin/better-java-monads","title":"How to simplify retry code block with java 8 features","body":"<p>Well, more functional approach in my opinion will be to use <code>Try</code>monad which unfortunately is not there for us in jdk 8 :(</p>\n\n<p>Nevertheless you still can use <a href=\"https://github.com/jasongoodwin/better-java-monads\" rel=\"noreferrer\">better-monads library</a> which provides it. Having that you can come up with some implementation like this:</p>\n\n<pre><code>public static &lt;Out&gt; Try&lt;Out&gt; tryTimes(int times, TrySupplier&lt;Out&gt; attempt) {\n        Supplier&lt;Try&lt;Out&gt;&gt; tryAttempt = () -&gt; Try.ofFailable(attempt::get);\n\n        return IntStream.range(1, times)\n                .mapToObj(i -&gt; tryAttempt)\n                .reduce(tryAttempt, (acc, current) -&gt; () -&gt; acc.get().recoverWith(error -&gt; current.get()))\n                .get();\n    }\n</code></pre>\n\n<p>Long story short this function just chains calls of <code>tryAttempt</code> and in case of failed attempt tries to <code>recoverWith</code> the next call of <code>tryAttempt</code>. Client code is going to look like this:</p>\n\n<pre><code>tryTimes(10, () -&gt; {\n            // all the logic to do your possibly failing stuff\n        }\n);\n</code></pre>\n\n<p>As a result client code is going to get <code>Try&lt;T&gt;</code> which can be unpacked by direct call of <code>.get()</code> (in case of success returns the value, in case of failure throws underlying exception) or with other methods described in library documentation.</p>\n\n<p>Hope it helps. </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This can be done also in functional way using the <code>filter</code>, <code>findFirst</code> and <code>limit</code> and without any external libraries:</p>\n\n<pre><code>interface ThrowingSupplier&lt;Out&gt; { Out supply() throws Exception; }\n\npublic static &lt;Out&gt; Optional&lt;Out&gt; tryTimes(int times, ThrowingSupplier&lt;Out&gt; attempt) {\n    Supplier&lt;Optional&lt;Out&gt;&gt; catchingSupplier = () -&gt; {\n        try {\n            return Optional.ofNullable(attempt.supply());\n        } catch (Exception e) {\n            return Optional.empty();\n        }\n    };\n    return Stream.iterate(catchingSupplier, i -&gt; i)\n            .limit(times)\n            .map(Supplier::get)\n            .filter(Optional::isPresent)\n            .findFirst()\n            .flatMap(Function.identity());\n}\n</code></pre>\n\n<p>The client code remains the same. Also, please note that it is not going to evaluate expression <code>times</code> times, but will stop on the first successful attempt.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1467225033,"creation_date":1467225033,"answer_id":38107506,"question_id":38106111,"body_markdown":"What you can do is separate out the retry logic.  You&#39;ll need some ancillary scaffolding:\r\n\r\n    interface ThrowingTask {\r\n        void run() throws ExecutionException;\r\n    }\r\n\r\nNow, you write:\r\n\r\n    boolean runWithRetries(int maxRetries, ThrowingTask t) { \r\n        int count = 0;\r\n        while (count &lt; maxRetries) {\r\n            try {\r\n                t.run();\r\n                return true;\r\n            }\r\n            catch (ExecutionException e) {\r\n                if (++count &gt;= maxRetries)\r\n                    return false;\r\n            }\r\n        }\r\n    }\r\n\r\nNow, you can run things with retries without having to conflate your task logic with your retry logic:\r\n\r\n    runWithRetries(MAX_RETRIES, () -&gt; { /* do stuff */ });\r\n\r\nYou can tweak this as you like to accept lambdas which are called on retry, return the retry count, etc etc.  But the game is to write methods like `runWithRetries` which capture the control flow but abstract over what behavior needs to be done -- so you only have to write your retry loop once, and then fill in the actual behavior you want wherever needed.\r\n","title":"How to simplify retry code block with java 8 features","body":"<p>What you can do is separate out the retry logic.  You'll need some ancillary scaffolding:</p>\n\n<pre><code>interface ThrowingTask {\n    void run() throws ExecutionException;\n}\n</code></pre>\n\n<p>Now, you write:</p>\n\n<pre><code>boolean runWithRetries(int maxRetries, ThrowingTask t) { \n    int count = 0;\n    while (count &lt; maxRetries) {\n        try {\n            t.run();\n            return true;\n        }\n        catch (ExecutionException e) {\n            if (++count &gt;= maxRetries)\n                return false;\n        }\n    }\n}\n</code></pre>\n\n<p>Now, you can run things with retries without having to conflate your task logic with your retry logic:</p>\n\n<pre><code>runWithRetries(MAX_RETRIES, () -&gt; { /* do stuff */ });\n</code></pre>\n\n<p>You can tweak this as you like to accept lambdas which are called on retry, return the retry count, etc etc.  But the game is to write methods like <code>runWithRetries</code> which capture the control flow but abstract over what behavior needs to be done -- so you only have to write your retry loop once, and then fill in the actual behavior you want wherever needed.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1671416807,"creation_date":1468118681,"answer_id":38288115,"question_id":38106111,"body_markdown":"Using [Failsafe](https://github.com/jhalterman/failsafe) (which I authored):\r\n\r\n    RetryPolicy retryPolicy = new RetryPolicy()\r\n      .retryOn(ExecutionException.class)\r\n      .withMaxRetries(3);\r\n    \r\n    Failsafe.with(retryPolicy)\r\n      .onRetry(r -&gt; LOG.debug(&quot;retrying...&quot;))\r\n      .withFallback(e -&gt; LOG.debug(&quot;do something else...&quot;))\r\n      .run(() -&gt; someCode());\r\n\r\nIt&#39;s about as simple and expressive as you can get for your use case.","title":"How to simplify retry code block with java 8 features","body":"<p>Using <a href=\"https://github.com/jhalterman/failsafe\" rel=\"nofollow noreferrer\">Failsafe</a> (which I authored):</p>\n<pre><code>RetryPolicy retryPolicy = new RetryPolicy()\n  .retryOn(ExecutionException.class)\n  .withMaxRetries(3);\n\nFailsafe.with(retryPolicy)\n  .onRetry(r -&gt; LOG.debug(&quot;retrying...&quot;))\n  .withFallback(e -&gt; LOG.debug(&quot;do something else...&quot;))\n  .run(() -&gt; someCode());\n</code></pre>\n<p>It's about as simple and expressive as you can get for your use case.</p>\n"},{"tags":[],"owner":{"account_id":1241806,"reputation":510,"user_id":1204234,"display_name":"v0rin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549110763,"creation_date":1504874559,"answer_id":46116865,"question_id":38106111,"body_markdown":"Similar to some of the suggested approaches, you could create a class that separates the *retry* functionality from the rest of you code. The class below that does just that and also allows you to take an input and return some result:\r\n\r\n    public class Retrier&lt;T, R&gt; {\r\n        private static final int DEFAULT_RETRY_COUNT = 3;\r\n        private int retryCount;\r\n        private Function&lt;T, R&gt; retriable;\r\n        private T input;\r\n\r\n        public Retrier(T input, Function&lt;T, R&gt; retriable) {\r\n            this(input, retriable, DEFAULT_RETRY_COUNT);\r\n        }\r\n\r\n        public Retrier(T input, Function&lt;T, R&gt; retriable, int retryCount) {\r\n            this.retryCount = retryCount;\r\n            this.retriable = retriable;\r\n            this.input = input;\r\n        }\r\n\r\n        public R execute() {\r\n            int count = 0;\r\n            while(true) {\r\n                try {\r\n                    return retriable.apply(input);\r\n                }\r\n                catch (Exception e) {\r\n                    if (++count &gt;= retryCount) {\r\n                        throw e;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then you can use it like this e.g.\r\n\r\n    String result = new Retrier&lt;String, String&gt;(&quot;input&quot;, input -&gt; {/* process the input and return the result*/}).execute();\r\n\r\nAnd wherever  your code will throw an exception it will be retried.","title":"How to simplify retry code block with java 8 features","body":"<p>Similar to some of the suggested approaches, you could create a class that separates the <em>retry</em> functionality from the rest of you code. The class below that does just that and also allows you to take an input and return some result:</p>\n\n<pre><code>public class Retrier&lt;T, R&gt; {\n    private static final int DEFAULT_RETRY_COUNT = 3;\n    private int retryCount;\n    private Function&lt;T, R&gt; retriable;\n    private T input;\n\n    public Retrier(T input, Function&lt;T, R&gt; retriable) {\n        this(input, retriable, DEFAULT_RETRY_COUNT);\n    }\n\n    public Retrier(T input, Function&lt;T, R&gt; retriable, int retryCount) {\n        this.retryCount = retryCount;\n        this.retriable = retriable;\n        this.input = input;\n    }\n\n    public R execute() {\n        int count = 0;\n        while(true) {\n            try {\n                return retriable.apply(input);\n            }\n            catch (Exception e) {\n                if (++count &gt;= retryCount) {\n                    throw e;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can use it like this e.g.</p>\n\n<pre><code>String result = new Retrier&lt;String, String&gt;(\"input\", input -&gt; {/* process the input and return the result*/}).execute();\n</code></pre>\n\n<p>And wherever  your code will throw an exception it will be retried.</p>\n"},{"tags":[],"owner":{"account_id":2242696,"reputation":393,"user_id":1976804,"display_name":"sopheamak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594962989,"creation_date":1594962989,"answer_id":62947506,"question_id":38106111,"body_markdown":"You can try this static method\r\n\r\n\r\n    /**\r\n     * Author: Mak Sophea\r\n     * Date: 07/17/2020\r\n     */\r\n    public class RetryUtils {\r\n        private static final Logger log = LoggerFactory.getLogger(RetryUtils.class);\r\n    \r\n        public static interface CallToRetry {\r\n            void process() throws Exception;\r\n        }\r\n    \r\n        public static boolean withRetry(int maxTimes, long intervalWait, CallToRetry call) throws Exception {\r\n            if (maxTimes &lt;= 0) {\r\n                throw new IllegalArgumentException(&quot;Must run at least one time&quot;);\r\n            }\r\n            if (intervalWait &lt;= 0) {\r\n                throw new IllegalArgumentException(&quot;Initial wait must be at least 1&quot;);\r\n            }\r\n            Exception thrown = null;\r\n            for (int i = 0; i &lt; maxTimes; i++) {\r\n                try {\r\n                    call.process();\r\n                    return true;\r\n                } catch (Exception e) {\r\n                    thrown = e;\r\n                    log.info(&quot;Encountered failure on {} due to {}, attempt retry {} of {}&quot;, call.getClass().getName() , e.getMessage(), (i + 1), maxTimes, e);\r\n                }\r\n                try {\r\n                    Thread.sleep(intervalWait);\r\n                } catch (InterruptedException wakeAndAbort) {\r\n                    break;\r\n                }\r\n            }\r\n            throw thrown;\r\n        }\r\n    }\r\n\r\nYou can call it by\r\nRetryUtils.withRetry(MAX_RETRY, 3000, () -&gt; { // put the implementation here });","title":"How to simplify retry code block with java 8 features","body":"<p>You can try this static method</p>\n<pre><code>/**\n * Author: Mak Sophea\n * Date: 07/17/2020\n */\npublic class RetryUtils {\n    private static final Logger log = LoggerFactory.getLogger(RetryUtils.class);\n\n    public static interface CallToRetry {\n        void process() throws Exception;\n    }\n\n    public static boolean withRetry(int maxTimes, long intervalWait, CallToRetry call) throws Exception {\n        if (maxTimes &lt;= 0) {\n            throw new IllegalArgumentException(&quot;Must run at least one time&quot;);\n        }\n        if (intervalWait &lt;= 0) {\n            throw new IllegalArgumentException(&quot;Initial wait must be at least 1&quot;);\n        }\n        Exception thrown = null;\n        for (int i = 0; i &lt; maxTimes; i++) {\n            try {\n                call.process();\n                return true;\n            } catch (Exception e) {\n                thrown = e;\n                log.info(&quot;Encountered failure on {} due to {}, attempt retry {} of {}&quot;, call.getClass().getName() , e.getMessage(), (i + 1), maxTimes, e);\n            }\n            try {\n                Thread.sleep(intervalWait);\n            } catch (InterruptedException wakeAndAbort) {\n                break;\n            }\n        }\n        throw thrown;\n    }\n}\n</code></pre>\n<p>You can call it by\nRetryUtils.withRetry(MAX_RETRY, 3000, () -&gt; { // put the implementation here });</p>\n"}],"owner":{"account_id":1351835,"reputation":5211,"user_id":1291235,"accept_rate":60,"display_name":"Moonlit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33475,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":38107506,"answer_count":5,"score":14,"last_activity_date":1671416807,"creation_date":1467220289,"question_id":38106111,"body_markdown":"In my code I have a section which tries to connect to some external interface, if it fails, then it will retry it a fixed number of times. The code works, but is somewhat ugly. I am wondering whether this can be done in a more elegant way using some fancy Java8 features?\r\n\r\n    int count = 0;\r\n    final int maxRetries = 3;\r\n    while ( count &lt; maxRetries )\r\n    {\r\n       try\r\n       {\r\n         // Some Code\r\n         // break out of loop on success\r\n       }\r\n       catch ( final ExecutionException e )\r\n       {\r\n          LOG.debug( &quot;retrying...&quot; );\r\n          if ( ++count &gt;= maxRetries )\r\n          {\r\n             LOG.debug( &quot;do something else...&quot;);\r\n             //do something else\r\n          }\r\n       }\r\n    }","title":"How to simplify retry code block with java 8 features","body":"<p>In my code I have a section which tries to connect to some external interface, if it fails, then it will retry it a fixed number of times. The code works, but is somewhat ugly. I am wondering whether this can be done in a more elegant way using some fancy Java8 features?</p>\n\n<pre><code>int count = 0;\nfinal int maxRetries = 3;\nwhile ( count &lt; maxRetries )\n{\n   try\n   {\n     // Some Code\n     // break out of loop on success\n   }\n   catch ( final ExecutionException e )\n   {\n      LOG.debug( \"retrying...\" );\n      if ( ++count &gt;= maxRetries )\n      {\n         LOG.debug( \"do something else...\");\n         //do something else\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","java-8","hamcrest"],"comments":[{"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"score":1,"creation_date":1435007060,"post_id":30989558,"comment_id":50009352,"body_markdown":"Well, regarding the method itself, you could have a reference to the target object, its reflected Method and the required arguments. You could also encapsulate it in a lambda, but it definitely depends on how that method is passed - explicitly or discovered? what about parameters?","body":"Well, regarding the method itself, you could have a reference to the target object, its reflected Method and the required arguments. You could also encapsulate it in a lambda, but it definitely depends on how that method is passed - explicitly or discovered? what about parameters?"},{"owner":{"account_id":40168,"reputation":7421,"user_id":116301,"accept_rate":89,"display_name":"GuiSim"},"score":0,"creation_date":1435151308,"post_id":30989558,"comment_id":50079438,"body_markdown":"@rails If the answer I have provided satisfies you, please accept it. Do not hesitate if you have further questions.","body":"@rails If the answer I have provided satisfies you, please accept it. Do not hesitate if you have further questions."}],"answers":[{"tags":[],"owner":{"account_id":40168,"reputation":7421,"user_id":116301,"accept_rate":89,"display_name":"GuiSim"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1506535506,"creation_date":1435007417,"answer_id":30989883,"question_id":30989558,"body_markdown":"Yes, this can easily be done in Java 7 and even cleaner using Java 8.\r\n\r\nThe parameter to your `method` method should be a `java.util.function.Supplier&lt;T&gt;` and the parameter to your `until` method should be a `java.util.function.Predicate&lt;T&gt;`.\r\n\r\nYou can then use method references or lambda expressions to create you Poller like so:\r\n\r\n    myMethodPoller.poll(pollDurationInteger, intervalInMillisecond)\r\n              .method(payment::getStatus)\r\n              .until (paymentStatus -&gt; paymentStatus.getValue().equals(&quot;COMPLETED&quot;))\r\n              .execute();\r\n\r\nAs a side note, if you&#39;re going to use Java 8, I&#39;d recommend using `java.time.Duration` instead of an integer to represent the poll duration and the interval.\r\n\r\nI&#39;d also recommend looking into https://github.com/rholder/guava-retrying which is a library that you could perhaps use. If not, it could be a good inspiration for your API as it features a nice fluent API.\r\n\r\nEDIT:\r\nFollowing the update to the question, here is a simple implementation. I&#39;ve left some parts for you to complete as TODOs.\r\n\r\n    import java.time.Duration;\r\n    import java.util.function.Predicate;\r\n    import java.util.function.Supplier;\r\n    \r\n    public class MethodPoller&lt;T&gt; {\r\n    \r\n        Duration pollDurationSec;\r\n        int pollIntervalMillis;\r\n    \r\n        private Supplier&lt;T&gt; pollMethod = null;\r\n        private Predicate&lt;T&gt; pollResultPredicate = null;\r\n    \r\n        public MethodPoller() {\r\n        }\r\n    \r\n        public MethodPoller&lt;T&gt; poll(Duration pollDurationSec, int pollIntervalMillis) {\r\n            this.pollDurationSec = pollDurationSec;\r\n            this.pollIntervalMillis = pollIntervalMillis;\r\n            return this;\r\n        }\r\n    \r\n        public MethodPoller&lt;T&gt; method(Supplier&lt;T&gt; supplier) {\r\n            pollMethod = supplier;\r\n            return this;\r\n        }\r\n    \r\n        public MethodPoller&lt;T&gt; until(Predicate&lt;T&gt; predicate) {\r\n            pollResultPredicate = predicate;\r\n            return this;\r\n        }\r\n    \r\n        public T execute()\r\n        {\r\n            // TODO: Validate that poll, method and until have been called.\r\n    \r\n            T result = null;\r\n            boolean pollSucceeded = false;\r\n            // TODO: Add check on poll duration\r\n            // TODO: Use poll interval\r\n            while (!pollSucceeded) {\r\n                result = pollMethod.get();\r\n                pollSucceeded = pollResultPredicate.test(result);\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\nSample use:\r\n\r\n    import static org.junit.Assert.assertTrue;\r\n    import java.util.UUID;\r\n    import org.junit.Test;\r\n    \r\n    public class MethodPollerTest\r\n    {\r\n    \r\n        @Test\r\n        public void test()\r\n        {\r\n            MethodPoller&lt;String&gt; poller = new MethodPoller&lt;&gt;();\r\n            String uuidThatStartsWithOneTwoThree = poller.method(() -&gt; UUID.randomUUID().toString())\r\n                                                         .until(s -&gt; s.startsWith(&quot;123&quot;))\r\n                                                         .execute();\r\n            assertTrue(uuidThatStartsWithOneTwoThree.startsWith(&quot;123&quot;));\r\n            System.out.println(uuidThatStartsWithOneTwoThree);\r\n        }\r\n    }\r\n","title":"Java 8 - retry a method until a condition is fulfilled (in intervals)","body":"<p>Yes, this can easily be done in Java 7 and even cleaner using Java 8.</p>\n\n<p>The parameter to your <code>method</code> method should be a <code>java.util.function.Supplier&lt;T&gt;</code> and the parameter to your <code>until</code> method should be a <code>java.util.function.Predicate&lt;T&gt;</code>.</p>\n\n<p>You can then use method references or lambda expressions to create you Poller like so:</p>\n\n<pre><code>myMethodPoller.poll(pollDurationInteger, intervalInMillisecond)\n          .method(payment::getStatus)\n          .until (paymentStatus -&gt; paymentStatus.getValue().equals(\"COMPLETED\"))\n          .execute();\n</code></pre>\n\n<p>As a side note, if you're going to use Java 8, I'd recommend using <code>java.time.Duration</code> instead of an integer to represent the poll duration and the interval.</p>\n\n<p>I'd also recommend looking into <a href=\"https://github.com/rholder/guava-retrying\" rel=\"noreferrer\">https://github.com/rholder/guava-retrying</a> which is a library that you could perhaps use. If not, it could be a good inspiration for your API as it features a nice fluent API.</p>\n\n<p>EDIT:\nFollowing the update to the question, here is a simple implementation. I've left some parts for you to complete as TODOs.</p>\n\n<pre><code>import java.time.Duration;\nimport java.util.function.Predicate;\nimport java.util.function.Supplier;\n\npublic class MethodPoller&lt;T&gt; {\n\n    Duration pollDurationSec;\n    int pollIntervalMillis;\n\n    private Supplier&lt;T&gt; pollMethod = null;\n    private Predicate&lt;T&gt; pollResultPredicate = null;\n\n    public MethodPoller() {\n    }\n\n    public MethodPoller&lt;T&gt; poll(Duration pollDurationSec, int pollIntervalMillis) {\n        this.pollDurationSec = pollDurationSec;\n        this.pollIntervalMillis = pollIntervalMillis;\n        return this;\n    }\n\n    public MethodPoller&lt;T&gt; method(Supplier&lt;T&gt; supplier) {\n        pollMethod = supplier;\n        return this;\n    }\n\n    public MethodPoller&lt;T&gt; until(Predicate&lt;T&gt; predicate) {\n        pollResultPredicate = predicate;\n        return this;\n    }\n\n    public T execute()\n    {\n        // TODO: Validate that poll, method and until have been called.\n\n        T result = null;\n        boolean pollSucceeded = false;\n        // TODO: Add check on poll duration\n        // TODO: Use poll interval\n        while (!pollSucceeded) {\n            result = pollMethod.get();\n            pollSucceeded = pollResultPredicate.test(result);\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>Sample use:</p>\n\n<pre><code>import static org.junit.Assert.assertTrue;\nimport java.util.UUID;\nimport org.junit.Test;\n\npublic class MethodPollerTest\n{\n\n    @Test\n    public void test()\n    {\n        MethodPoller&lt;String&gt; poller = new MethodPoller&lt;&gt;();\n        String uuidThatStartsWithOneTwoThree = poller.method(() -&gt; UUID.randomUUID().toString())\n                                                     .until(s -&gt; s.startsWith(\"123\"))\n                                                     .execute();\n        assertTrue(uuidThatStartsWithOneTwoThree.startsWith(\"123\"));\n        System.out.println(uuidThatStartsWithOneTwoThree);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435041504,"creation_date":1435041504,"answer_id":30995525,"question_id":30989558,"body_markdown":"You can use [RxJava][1]\r\n\r\n \r\n\r\n      Observable.interval(3, TimeUnit.SECONDS, Schedulers.io())\r\n                    .map(tick -&gt; dog)\r\n                    .takeWhile( dog-&gt; { return ! dog.bark().equals(&quot;Woof&quot;); })\r\n                    .subscribe(dog -&gt;dog.bark());\r\n    \r\n    \r\n            try {\r\n                Thread.sleep(10000);\r\n            }catch(Exception e){}\r\n\r\nhttp://blog.freeside.co/2015/01/29/simple-background-polling-with-rxjava/\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava","title":"Java 8 - retry a method until a condition is fulfilled (in intervals)","body":"<p>You can use <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow\">RxJava</a></p>\n\n<pre><code>  Observable.interval(3, TimeUnit.SECONDS, Schedulers.io())\n                .map(tick -&gt; dog)\n                .takeWhile( dog-&gt; { return ! dog.bark().equals(\"Woof\"); })\n                .subscribe(dog -&gt;dog.bark());\n\n\n        try {\n            Thread.sleep(10000);\n        }catch(Exception e){}\n</code></pre>\n\n<p><a href=\"http://blog.freeside.co/2015/01/29/simple-background-polling-with-rxjava/\" rel=\"nofollow\">http://blog.freeside.co/2015/01/29/simple-background-polling-with-rxjava/</a></p>\n"},{"tags":[],"owner":{"account_id":197900,"reputation":4806,"user_id":442255,"accept_rate":75,"display_name":"Kkkev"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1435047191,"creation_date":1435047191,"answer_id":30997305,"question_id":30989558,"body_markdown":"Instead of writing this yourself, could you use [Awaitility][1]?\r\n\r\n    await()\r\n        .atMost(3, SECONDS)\r\n        .until(dog::bark, equalTo(&quot;woof&quot;));\r\n\r\n  [1]: https://github.com/jayway/awaitility","title":"Java 8 - retry a method until a condition is fulfilled (in intervals)","body":"<p>Instead of writing this yourself, could you use <a href=\"https://github.com/jayway/awaitility\">Awaitility</a>?</p>\n\n<pre><code>await()\n    .atMost(3, SECONDS)\n    .until(dog::bark, equalTo(\"woof\"));\n</code></pre>\n"}],"owner":{"account_id":203131,"reputation":17983,"user_id":450602,"accept_rate":57,"display_name":"Bick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27733,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":30989883,"answer_count":3,"score":22,"last_activity_date":1671416791,"creation_date":1435006158,"question_id":30989558,"body_markdown":"I want to create a class that can run a method until a condition about the return value is fulfilled.   \r\n\r\nIt should look something like this \r\n\r\n    methodPoller.poll(pollDurationSec, pollIntervalMillis)\r\n                .method(dog.bark())\r\n                .until(dog -&gt; dog.bark().equals(&quot;Woof&quot;))\r\n                .execute();\r\n\r\nMy method poller look somewhat like this () // following GuiSim answer\r\n\r\n    public class MethodPoller {\r\n        Duration pollDurationSec;\r\n        int pollIntervalMillis;\r\n    \r\n    \r\n        public MethodPoller() {\r\n        }\r\n    \r\n        public MethodPoller poll(Duration pollDurationSec, int pollIntervalMillis) {\r\n            this.pollDurationSec = pollDurationSec;\r\n            this.pollIntervalMillis = pollIntervalMillis;\r\n            return this;\r\n        }\r\n    \r\n        public &lt;T&gt; MethodPoller method(Supplier&lt;T&gt; supplier) {\r\n    \r\n            return this;\r\n        }\r\n    \r\n        public &lt;T&gt; MethodPoller until(Predicate&lt;T&gt; predicate) {\r\n    \r\n            return this;\r\n        }\r\n    }\r\nBut I am having a hard time going opn from here.   \r\nHow can I implement a retry to a general method until a condition is fulfilled?  \r\nThanks.","title":"Java 8 - retry a method until a condition is fulfilled (in intervals)","body":"<p>I want to create a class that can run a method until a condition about the return value is fulfilled.   </p>\n\n<p>It should look something like this </p>\n\n<pre><code>methodPoller.poll(pollDurationSec, pollIntervalMillis)\n            .method(dog.bark())\n            .until(dog -&gt; dog.bark().equals(\"Woof\"))\n            .execute();\n</code></pre>\n\n<p>My method poller look somewhat like this () // following GuiSim answer</p>\n\n<pre><code>public class MethodPoller {\n    Duration pollDurationSec;\n    int pollIntervalMillis;\n\n\n    public MethodPoller() {\n    }\n\n    public MethodPoller poll(Duration pollDurationSec, int pollIntervalMillis) {\n        this.pollDurationSec = pollDurationSec;\n        this.pollIntervalMillis = pollIntervalMillis;\n        return this;\n    }\n\n    public &lt;T&gt; MethodPoller method(Supplier&lt;T&gt; supplier) {\n\n        return this;\n    }\n\n    public &lt;T&gt; MethodPoller until(Predicate&lt;T&gt; predicate) {\n\n        return this;\n    }\n}\n</code></pre>\n\n<p>But I am having a hard time going opn from here.<br>\nHow can I implement a retry to a general method until a condition is fulfilled?<br>\nThanks.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1671414384,"post_id":74845604,"comment_id":132087847,"body_markdown":"Close the parentheses before the `.write` , so `verify(fooWriter).write(…..`","body":"Close the parentheses before the <code>.write</code> , so <code>verify(fooWriter).write(…..</code>"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1671415063,"post_id":74845604,"comment_id":132087937,"body_markdown":"@racraman I edited my question to add the detail of `super.write()`. I changed the test method to be `verify(fooWriter).write(anyList())` but then I get a test failed error. &quot;Argument passed to verify() is of type fooWriter and is not a mock&quot;. Should I just Mock fooWriter in the test class above?","body":"@racraman I edited my question to add the detail of <code>super.write()</code>. I changed the test method to be <code>verify(fooWriter).write(anyList())</code> but then I get a test failed error. &quot;Argument passed to verify() is of type fooWriter and is not a mock&quot;. Should I just Mock fooWriter in the test class above?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671415774,"post_id":74845604,"comment_id":132088013,"body_markdown":"The purpose of `verify` is to check that a particular method of a mock got called during the test.  It doesn&#39;t make any sense to use `verify` in the `setup` method.  It also doesn&#39;t make sense to use `verify` on any object other than a mock.  In this particular case, you seem to be verifying a call that you _know_ in the test that you&#39;ve made, so I think it&#39;s probably safe just to remove it.","body":"The purpose of <code>verify</code> is to check that a particular method of a mock got called during the test.  It doesn&#39;t make any sense to use <code>verify</code> in the <code>setup</code> method.  It also doesn&#39;t make sense to use <code>verify</code> on any object other than a mock.  In this particular case, you seem to be verifying a call that you <i>know</i> in the test that you&#39;ve made, so I think it&#39;s probably safe just to remove it."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1671416844,"post_id":74845604,"comment_id":132088141,"body_markdown":"@DawoodibnKareem I tried using a spy and a mockedStatic. Is it correct? (see my answer)","body":"@DawoodibnKareem I tried using a spy and a mockedStatic. Is it correct? (see my answer)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671416968,"post_id":74845604,"comment_id":132088158,"body_markdown":"I don&#39;t think so, but it&#39;s hard to say, without seeing the code you&#39;re trying to test.  It really looks like you&#39;re calling a method, then checking whether you called that method.  I&#39;m not sure that you&#39;re actually testing anything that&#39;s outside the test itself.","body":"I don&#39;t think so, but it&#39;s hard to say, without seeing the code you&#39;re trying to test.  It really looks like you&#39;re calling a method, then checking whether you called that method.  I&#39;m not sure that you&#39;re actually testing anything that&#39;s outside the test itself."}],"answers":[{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671416760,"creation_date":1671416760,"answer_id":74845805,"question_id":74845604,"body_markdown":"I changed my code to be\r\n\r\n    FooWriter fooWriter = spy(FooWriter.class);\r\n    \r\n    @Test\r\n    void testWrite() {\r\n      try {MockedStatic&lt;JdbcBatchItemWriter&gt; mockedWriter = mockStatic(JdbcBatchItemWriter.class)) {\r\n      fooWriter.write(fooList);\r\n      mockedWriter.verify(()-&gt;fooWriter.write(anyList()));\r\n     }\r\n    }\r\n\r\nand it worked.","title":"My method takes a List but Mockito.verify(writer.write(anyList())) gives a compile error","body":"<p>I changed my code to be</p>\n<pre><code>FooWriter fooWriter = spy(FooWriter.class);\n\n@Test\nvoid testWrite() {\n  try {MockedStatic&lt;JdbcBatchItemWriter&gt; mockedWriter = mockStatic(JdbcBatchItemWriter.class)) {\n  fooWriter.write(fooList);\n  mockedWriter.verify(()-&gt;fooWriter.write(anyList()));\n }\n}\n</code></pre>\n<p>and it worked.</p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671416760,"creation_date":1671413493,"question_id":74845604,"body_markdown":"I have a `FooWriter extends JDBCBatchItemWriter`\r\n\r\nIt has a method \r\n\r\n    public void write(final List&lt;? extends Foo&gt; fooList) throws \r\n    Exception {\r\n      super.write(fooList);\r\n    }\r\n\r\nI am trying to write the JUnit tests for FooWriter.\r\nI do not want the writer to actually write to the db so I am mocking it and just doing the verify.\r\nHowever I get a compile error. I do not know what to put in the verify()\r\nWhat should I put there?\r\n\r\n    class FooWriterTest {\r\n    \r\n      @InjectMocks\r\n      FooWriter fooWriter;\r\n    \r\n      List&lt;Foo&gt; fooList = new ArrayList&lt;&gt;();\r\n    \r\n      @Before\r\n      public void setup() {\r\n        // COMPILE ERROR!!\r\n        Mockito.verify(fooWriter.write(anyList(List&lt;Foo&gt;)));\r\n      }\r\n    \r\n      @Test\r\n      void testWrite() {\r\n        fooWriter.write(fooList);\r\n    }\r\n","title":"My method takes a List but Mockito.verify(writer.write(anyList())) gives a compile error","body":"<p>I have a <code>FooWriter extends JDBCBatchItemWriter</code></p>\n<p>It has a method</p>\n<pre><code>public void write(final List&lt;? extends Foo&gt; fooList) throws \nException {\n  super.write(fooList);\n}\n</code></pre>\n<p>I am trying to write the JUnit tests for FooWriter.\nI do not want the writer to actually write to the db so I am mocking it and just doing the verify.\nHowever I get a compile error. I do not know what to put in the verify()\nWhat should I put there?</p>\n<pre><code>class FooWriterTest {\n\n  @InjectMocks\n  FooWriter fooWriter;\n\n  List&lt;Foo&gt; fooList = new ArrayList&lt;&gt;();\n\n  @Before\n  public void setup() {\n    // COMPILE ERROR!!\n    Mockito.verify(fooWriter.write(anyList(List&lt;Foo&gt;)));\n  }\n\n  @Test\n  void testWrite() {\n    fooWriter.write(fooList);\n}\n</code></pre>\n"},{"tags":["java","android","okhttp"],"answers":[{"tags":[],"owner":{"account_id":236188,"reputation":15922,"user_id":503508,"accept_rate":81,"display_name":"Knossos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1453973317,"creation_date":1453973317,"answer_id":35057549,"question_id":35057112,"body_markdown":"You can avoid retrying if you catch `NoNetworkAvailableException`. Don&#39;t retry if you know following attempts will fail anyway.\r\n\r\nI would make `connectionFailedMaximumAllowedRetries()` a constant. I doubt you will need to change the variable at any point.\r\n\r\nImplement [exponential back off][1]. You could have it retry 10 times. Each time, you multiply the delay by 2 (with a cap of a few minutes). For example:\r\n\r\n1. Try call - failed\r\n2. Wait 1 second\r\n3. Try call - failed\r\n4. Wait 2 seconds\r\n5. Try call - failed\r\n6. Wait 4 seconds\r\n7. ...\r\n8. Try call - succeeded\r\n\r\nThis is very typical behaviour. In the event of a short outage, the call will be made again very quickly and succeed. In the event of a longer outage, you don&#39;t want to be calling constantly every few seconds. This gives your code the best chance of having its call go through. Obviously, attention should be made to not annoy the user if this call is required for a UI change.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Exponential_backoff","title":"Android okHttp Retry policy","body":"<p>You can avoid retrying if you catch <code>NoNetworkAvailableException</code>. Don't retry if you know following attempts will fail anyway.</p>\n\n<p>I would make <code>connectionFailedMaximumAllowedRetries()</code> a constant. I doubt you will need to change the variable at any point.</p>\n\n<p>Implement <a href=\"https://en.wikipedia.org/wiki/Exponential_backoff\" rel=\"nofollow\">exponential back off</a>. You could have it retry 10 times. Each time, you multiply the delay by 2 (with a cap of a few minutes). For example:</p>\n\n<ol>\n<li>Try call - failed</li>\n<li>Wait 1 second</li>\n<li>Try call - failed</li>\n<li>Wait 2 seconds</li>\n<li>Try call - failed</li>\n<li>Wait 4 seconds</li>\n<li>...</li>\n<li>Try call - succeeded</li>\n</ol>\n\n<p>This is very typical behaviour. In the event of a short outage, the call will be made again very quickly and succeed. In the event of a longer outage, you don't want to be calling constantly every few seconds. This gives your code the best chance of having its call go through. Obviously, attention should be made to not annoy the user if this call is required for a UI change.</p>\n"}],"owner":{"account_id":1054762,"reputation":1539,"user_id":1057740,"accept_rate":100,"display_name":"A.Alqadomi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2538,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35057549,"answer_count":1,"score":3,"last_activity_date":1671416738,"creation_date":1453972154,"question_id":35057112,"body_markdown":"I am trying to create a simple wrapper which will call the server download the information and parse the binary data sent .\r\nfor the connection I am using the library called okhttp  , since the connection on 3G is not very reliable I have decided to implement a very simple re-try functionality using the following function**(Note this method will be always called from a background thread)**\r\n\r\n\r\n    private InputStream callServer() throws ServerException, NoNetworkAvailableException, ConnectionErrorException {\r\n            NetworkOperation networkOperation = getNetworkOperation();\r\n            InputStream inputStream = null;\r\n            //in case of network problems we will retry 3 times separated by 5 seconds before gave up\r\n            while (connectionFailedRetryCounter &lt; connectionFailedMaximumAllowedRetries()) {\r\n                connectionFailedRetryCounter++;\r\n                try {\r\n                    inputStream = networkOperation.execute();\r\n                    break;//if this line was reached it means a successfull operation, no need to retry .\r\n                } catch (ConnectionErrorException e) {\r\n                    if (canRetryToConnect()) {\r\n                        Utils.forceSleepThread(Constants.Communications.ConnectionFailedTrialCounter.SLEEP_BETWEEN_REQUESTS_MILLI);//retry after 5 secs (Thread.sleep)\r\n                    } else {\r\n                        throw e;//I give up\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return inputStream;\r\n    \r\n        }\r\n    \r\n        private boolean canRetryToConnect() {\r\n            return (connectionFailedRetryCounter &lt; connectionFailedMaximumAllowedRetries()) &amp;&amp; !canceled;\r\n        }\r\n\r\n**Is this the right way to do this ? or is it already done by the library it self(there is no need to implement anything like this) ?** \r\n\r\nHere is what the method execute() do\r\n\r\n\r\n    public InputStream execute() throws ConnectionErrorException, NoNetworkAvailableException, ServerException {\r\n        \r\n        if (!Utils.isNetworkAvailable(context)) {\r\n            throw new NoNetworkAvailableException();\r\n        }\r\n    \r\n        Response response = doExecute();\r\n    \r\n        if (!response.isSuccessful()) {\r\n            throw new ServerException(response.code());\r\n        }\r\n    \r\n        return response.body().byteStream();\r\n    }\r\n    \r\n    private Response doExecute() throws ConnectionErrorException {\r\n        Response response;\r\n        try {\r\n            if (getRequestType() == RequestType.GET) {\r\n                response = executeGet();\r\n            } else {\r\n                response = executePost();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new ConnectionErrorException();\r\n        }\r\n        return response;\r\n    }","title":"Android okHttp Retry policy","body":"<p>I am trying to create a simple wrapper which will call the server download the information and parse the binary data sent .\nfor the connection I am using the library called okhttp  , since the connection on 3G is not very reliable I have decided to implement a very simple re-try functionality using the following function**(Note this method will be always called from a background thread)**</p>\n\n<pre><code>private InputStream callServer() throws ServerException, NoNetworkAvailableException, ConnectionErrorException {\n        NetworkOperation networkOperation = getNetworkOperation();\n        InputStream inputStream = null;\n        //in case of network problems we will retry 3 times separated by 5 seconds before gave up\n        while (connectionFailedRetryCounter &lt; connectionFailedMaximumAllowedRetries()) {\n            connectionFailedRetryCounter++;\n            try {\n                inputStream = networkOperation.execute();\n                break;//if this line was reached it means a successfull operation, no need to retry .\n            } catch (ConnectionErrorException e) {\n                if (canRetryToConnect()) {\n                    Utils.forceSleepThread(Constants.Communications.ConnectionFailedTrialCounter.SLEEP_BETWEEN_REQUESTS_MILLI);//retry after 5 secs (Thread.sleep)\n                } else {\n                    throw e;//I give up\n                }\n            }\n\n        }\n        return inputStream;\n\n    }\n\n    private boolean canRetryToConnect() {\n        return (connectionFailedRetryCounter &lt; connectionFailedMaximumAllowedRetries()) &amp;&amp; !canceled;\n    }\n</code></pre>\n\n<p><strong>Is this the right way to do this ? or is it already done by the library it self(there is no need to implement anything like this) ?</strong> </p>\n\n<p>Here is what the method execute() do</p>\n\n<pre><code>public InputStream execute() throws ConnectionErrorException, NoNetworkAvailableException, ServerException {\n\n    if (!Utils.isNetworkAvailable(context)) {\n        throw new NoNetworkAvailableException();\n    }\n\n    Response response = doExecute();\n\n    if (!response.isSuccessful()) {\n        throw new ServerException(response.code());\n    }\n\n    return response.body().byteStream();\n}\n\nprivate Response doExecute() throws ConnectionErrorException {\n    Response response;\n    try {\n        if (getRequestType() == RequestType.GET) {\n            response = executeGet();\n        } else {\n            response = executePost();\n        }\n    } catch (IOException e) {\n        throw new ConnectionErrorException();\n    }\n    return response;\n}\n</code></pre>\n"},{"tags":["java","generics","parameters"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1424851865,"post_id":28714108,"comment_id":45715899,"body_markdown":"Why are you trying to extract the actual generic parameters of a derived class?","body":"Why are you trying to extract the actual generic parameters of a derived class?"},{"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"score":0,"creation_date":1424851991,"post_id":28714108,"comment_id":45715958,"body_markdown":"Note that &#39;C extends B extends A&#39; is not multiple inheritance, which is &#39;C extends B and A&#39;","body":"Note that &#39;C extends B extends A&#39; is not multiple inheritance, which is &#39;C extends B and A&#39;"},{"owner":{"account_id":4248609,"reputation":11,"user_id":3476452,"accept_rate":25,"display_name":"user3476452"},"score":0,"creation_date":1424852515,"post_id":28714108,"comment_id":45716184,"body_markdown":"Yeah it&#39;s not a multiple inheritance (which doesn&#39;t exist in java 7), that&#39;s why I added the explanation in parenthesis. My whole case is a base class which many classes are derived from, I want to do an action with the actual generic in all of those classes.. but some classes are not directly derived from that class (there&#39;s that B class in the middle) in which case the extraction of the actual parameter retrieves T instead of the actual parameters.","body":"Yeah it&#39;s not a multiple inheritance (which doesn&#39;t exist in java 7), that&#39;s why I added the explanation in parenthesis. My whole case is a base class which many classes are derived from, I want to do an action with the actual generic in all of those classes.. but some classes are not directly derived from that class (there&#39;s that B class in the middle) in which case the extraction of the actual parameter retrieves T instead of the actual parameters."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1424854456,"post_id":28714108,"comment_id":45717159,"body_markdown":"What&#39;s the question exactly?","body":"What&#39;s the question exactly?"},{"owner":{"account_id":4248609,"reputation":11,"user_id":3476452,"accept_rate":25,"display_name":"user3476452"},"score":0,"creation_date":1424864278,"post_id":28714108,"comment_id":45723039,"body_markdown":"The question is how to get the actual type of a generic inside a method of a class which has a subtype which has a subtype and the declaration of the generic is only in the most subtype class.","body":"The question is how to get the actual type of a generic inside a method of a class which has a subtype which has a subtype and the declaration of the generic is only in the most subtype class."}],"answers":[{"tags":[],"owner":{"account_id":5319074,"reputation":455,"user_id":4243006,"display_name":"Dragan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424855549,"creation_date":1424855549,"answer_id":28715069,"question_id":28714108,"body_markdown":"Your problem might be that generics are invariant. As you say, it usually works well, but come inheritance - you are in trouble...\r\n&lt;br&gt;\r\nFor any two distinct types A and B, `Class&lt;A&gt;` is neither a subtype nor a\r\nsupertype of `Class&lt;B&gt;` [JLS, 4.10].","title":"Java get actual generic parameters","body":"<p>Your problem might be that generics are invariant. As you say, it usually works well, but come inheritance - you are in trouble...\n<br>\nFor any two distinct types A and B, <code>Class&lt;A&gt;</code> is neither a subtype nor a\nsupertype of <code>Class&lt;B&gt;</code> [JLS, 4.10].</p>\n"}],"owner":{"account_id":4248609,"reputation":11,"user_id":3476452,"accept_rate":25,"display_name":"user3476452"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671416707,"creation_date":1424851840,"question_id":28714108,"body_markdown":"I&#39;m using java 7. When trying to extract the actual generic parameters of a  derived class I use the following code :\r\n\r\n    Class&lt;E&gt; cls = (Class&lt;E&gt;) ((ParameterizedType)   \r\n                      getClass().getGenericSuperclass())\r\n                                .getActualTypeArguments()[0];\r\n\r\nIt usually works well, but if I have the case of a multiple inheritance ( C extends B extends A ) and B is also abstract (not yet declaring the actual generic parameters) I recursively get the class before the base one (B) and use this method on B (instead of getClass()) [since if I had used it on C, its superclass wouldn&#39;t be a parameterizedType], and the actual type arguments show me generic types (I get T for using this).\r\n\r\nIf anyone encountered this I&#39;d appreciate any help or guidelines.","title":"Java get actual generic parameters","body":"<p>I'm using java 7. When trying to extract the actual generic parameters of a  derived class I use the following code :</p>\n\n<pre><code>Class&lt;E&gt; cls = (Class&lt;E&gt;) ((ParameterizedType)   \n                  getClass().getGenericSuperclass())\n                            .getActualTypeArguments()[0];\n</code></pre>\n\n<p>It usually works well, but if I have the case of a multiple inheritance ( C extends B extends A ) and B is also abstract (not yet declaring the actual generic parameters) I recursively get the class before the base one (B) and use this method on B (instead of getClass()) [since if I had used it on C, its superclass wouldn't be a parameterizedType], and the actual type arguments show me generic types (I get T for using this).</p>\n\n<p>If anyone encountered this I'd appreciate any help or guidelines.</p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1434693458,"post_id":30930738,"comment_id":49897337,"body_markdown":"Why are you throwing out the original exception in `RedisObjectConstructor.create()`? Wouldn&#39;t the original exception, with its type, description, and stack trace be more useful in diagnosing any problems?","body":"Why are you throwing out the original exception in <code>RedisObjectConstructor.create()</code>? Wouldn&#39;t the original exception, with its type, description, and stack trace be more useful in diagnosing any problems?"},{"owner":{"account_id":299646,"reputation":1056,"user_id":606341,"accept_rate":24,"display_name":"Vijay Mohan"},"score":0,"creation_date":1434693567,"post_id":30930738,"comment_id":49897385,"body_markdown":"This is just a test code,  Actually what i want to know here is how can I create the instance of T at run time: try\n        {\n            return (T) ((Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0]).newInstance();\n        }\n        catch (Exception e)\n        {\n           \n        }","body":"This is just a test code,  Actually what i want to know here is how can I create the instance of T at run time: try         {             return (T) ((Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArgumen&zwnj;&#8203;ts()[0]).newInstance&zwnj;&#8203;();         }         catch (Exception e)         {                     }"},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1434693829,"post_id":30930738,"comment_id":49897495,"body_markdown":"Right, well, you got rid of the exception that might have told you why, threw a new one, and are posting a stack trace for the new one. If you don&#39;t have a good reason to be doing that, I suggest you don&#39;t. Just don&#39;t catch the exception in `RedisObjectConstructor.create()`, and you&#39;ll see what your error is.","body":"Right, well, you got rid of the exception that might have told you why, threw a new one, and are posting a stack trace for the new one. If you don&#39;t have a good reason to be doing that, I suggest you don&#39;t. Just don&#39;t catch the exception in <code>RedisObjectConstructor.create()</code>, and you&#39;ll see what your error is."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1434693901,"post_id":30930738,"comment_id":49897523,"body_markdown":"You should **almost never** catch an exception and then get rid of the exception you caught. But you&#39;re doing it almost every chance you get.","body":"You should <b>almost never</b> catch an exception and then get rid of the exception you caught. But you&#39;re doing it almost every chance you get."},{"owner":{"account_id":299646,"reputation":1056,"user_id":606341,"accept_rate":24,"display_name":"Vijay Mohan"},"score":0,"creation_date":1434694153,"post_id":30930738,"comment_id":49897631,"body_markdown":"I got your point: here is the actual exception:Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n\tat com.ranker.app.redis.repository.support.RedisObjectConstructor.create(RedisObjectConstructor.java:14)\n\tat com.ranker.app.redis.repository.support.RedisBasicEntity.getRedisEntity(RedisBasicEntity.java:59)\n\tat com.ranker.api.dao.impl.ListQualityDAO.getListQuality(ListQualityDAO.java:37)\n\tat com.ranker.api.dao.impl.ListQualityDAO.main(ListQualityDAO.java:45)","body":"I got your point: here is the actual exception:Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType \tat com.ranker.app.redis.repository.support.RedisObjectConstruct&zwnj;&#8203;or.create(RedisObjec&zwnj;&#8203;tConstructor.java:14&zwnj;&#8203;) \tat com.ranker.app.redis.repository.support.RedisBasicEntity.get&zwnj;&#8203;RedisEntity(RedisBas&zwnj;&#8203;icEntity.java:59) \tat com.ranker.api.dao.impl.ListQualityDAO.getListQuality(ListQu&zwnj;&#8203;alityDAO.java:37) \tat com.ranker.api.dao.impl.ListQualityDAO.main(ListQualityDAO.j&zwnj;&#8203;ava:45)"},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1434695246,"post_id":30930738,"comment_id":49898072,"body_markdown":"Looking at your code, it looks like you might have already read the answer to your question, but missed part of it. [Is this what you read?](http://stackoverflow.com/a/75345/3004881) That answers your question: you can only do that trick **if you create a subclass.** They give an example of using an anonymous subclass to achieve what you&#39;re looking for.","body":"Looking at your code, it looks like you might have already read the answer to your question, but missed part of it. <a href=\"http://stackoverflow.com/a/75345/3004881\">Is this what you read?</a> That answers your question: you can only do that trick <b>if you create a subclass.</b> They give an example of using an anonymous subclass to achieve what you&#39;re looking for."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1434695509,"post_id":30930738,"comment_id":49898179,"body_markdown":"possible duplicate of [Create instance of generic type in Java?](http://stackoverflow.com/questions/75175/create-instance-of-generic-type-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/75175/create-instance-of-generic-type-in-java\">Create instance of generic type in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6337695,"reputation":2227,"user_id":4920629,"accept_rate":100,"display_name":"TrapII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434701492,"creation_date":1434701492,"answer_id":30933177,"question_id":30930738,"body_markdown":"As specified in this [stackoverflow response][1], I modified the `create` method of your `RedisObjectConstructor&lt;T&gt;` this way:\r\n\r\n\r\n    public class RedisObjectConstructor&lt;T&gt; implements ObjectFactory&lt;T&gt; {\r\n\t    private final Class&lt;T&gt; type;\r\n\t\r\n\t    public RedisObjectConstructor(Class&lt;T&gt; type) {\r\n\t\t    this.type = type;\r\n\t    }\r\n\t\r\n        @Override\r\n        public T create() throws Exception {\r\n      \t    return type.newInstance();\r\n        }\r\n    }\r\n\r\nAnd instanciate it like this:\r\n\r\n    RedisObjectConstructor&lt;ListQuality&gt; redisObjectConstructor = \r\n                new RedisObjectConstructor&lt;ListQuality&gt;(ListQuality.class);\r\n\r\nAnd there is no more cast exception problem.\r\n\r\n  [1]: https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime","title":"Java Reflection Generic Type ParamertizedType Object Creation Failing with java.lang.exception","body":"<p>As specified in this <a href=\"https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">stackoverflow response</a>, I modified the <code>create</code> method of your <code>RedisObjectConstructor&lt;T&gt;</code> this way:</p>\n\n<pre><code>public class RedisObjectConstructor&lt;T&gt; implements ObjectFactory&lt;T&gt; {\n    private final Class&lt;T&gt; type;\n\n    public RedisObjectConstructor(Class&lt;T&gt; type) {\n        this.type = type;\n    }\n\n    @Override\n    public T create() throws Exception {\n        return type.newInstance();\n    }\n}\n</code></pre>\n\n<p>And instanciate it like this:</p>\n\n<pre><code>RedisObjectConstructor&lt;ListQuality&gt; redisObjectConstructor = \n            new RedisObjectConstructor&lt;ListQuality&gt;(ListQuality.class);\n</code></pre>\n\n<p>And there is no more cast exception problem.</p>\n"}],"owner":{"account_id":299646,"reputation":1056,"user_id":606341,"accept_rate":24,"display_name":"Vijay Mohan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671416692,"creation_date":1434692803,"question_id":30930738,"body_markdown":"I am trying to generate the instance of typed class at run time to work with redis.\r\n\r\nHere is my code, but its failing to create the instance of typed class T.\r\n\r\n    interface ObjectFactory&lt;T&gt;\r\n    {\r\n        T create() throws Exception;\r\n    }\r\nHere is the class that create the instance of T\r\n\r\n    import java.lang.reflect.ParameterizedType;\r\n    \r\n    public class RedisObjectConstructor&lt;T&gt; implements ObjectFactory&lt;T&gt;\r\n    {\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public T create() throws Exception\r\n        {\r\n            try\r\n            {\r\n                return (T) ((Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0]).newInstance();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                throw new Exception();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is logic to actually set and get value of domain field:\r\n\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Field;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.commons.lang3.reflect.FieldUtils;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class RedisBasicEntity&lt;T&gt;\r\n    {\r\n        private final ObjectFactory&lt;T&gt; factory;\r\n    \r\n        public RedisBasicEntity(ObjectFactory&lt;T&gt; factory)\r\n        {\r\n            this.factory = factory;\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getFields(T redisDomain, Class&lt;? extends Annotation&gt; ann)\r\n        {\r\n            Map&lt;String, String&gt; redisHash = new HashMap&lt;String, String&gt;();\r\n            Class&lt;?&gt; clazz = redisDomain.getClass();\r\n            while (clazz != null)\r\n            {\r\n                for (Field field : clazz.getDeclaredFields())\r\n                {\r\n                    if (field.isAnnotationPresent(ann))\r\n                    {\r\n                        field.setAccessible(true);\r\n                        try\r\n                        {\r\n                            Object value = field.get(redisDomain);\r\n                            if (value != null)\r\n                            {\r\n                                redisHash.put(field.getName(), value.toString());\r\n                                System.out.println(field.getName() + &quot;:&quot; + value.toString());\r\n                            }\r\n                        }\r\n                        catch (IllegalArgumentException e)\r\n                        {\r\n                            \r\n                        }\r\n                        catch (IllegalAccessException e)\r\n                        {\r\n                            \r\n                        }\r\n                    }\r\n                }\r\n                c = c.getSuperclass();\r\n            }\r\n            return redisHash;\r\n    \r\n        }\r\n    \r\n        public T getRedisEntity(Map&lt;String, String&gt; redisHash, Class&lt;? extends Annotation&gt; ann) throws Exception\r\n        {\r\n            T redisDomain = factory.create();\r\n            Class&lt;?&gt; clazz = redisDomain.getClass();\r\n            while (clazz != null)\r\n            {\r\n                for (Field field : clazz.getDeclaredFields())\r\n                {\r\n                    if (field.isAnnotationPresent(ann))\r\n                    {\r\n                        field.setAccessible(true);\r\n                        try\r\n                        {\r\n                            FieldUtils.writeDeclaredField(field, field.getName(), redisHash.get(field.getName()));\r\n                        }\r\n                        catch (Exception e)\r\n                        {\r\n    \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return redisDomain;\r\n        }\r\n    }\r\n\r\nHere is my test class:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.ranker.annotations.rediskey.RedisHashKey;\r\n    import com.ranker.api.dao.iListQualityDAO;\r\n    import com.ranker.app.redis.domain.list.ListQuality;\r\n    import com.ranker.app.redis.repository.support.RedisBasicEntity;\r\n    import com.ranker.app.redis.repository.support.RedisObjectConstructor;\r\n    \r\n    public class ListQualityDAO implements iListQualityDAO\r\n    {\r\n        @Autowired \r\n        private RedisBasicEntity&lt;ListQuality&gt; redisBasicEntity;\r\n        \r\n        public static ListQuality saveListQuality()\r\n        {\r\n            RedisObjectConstructor&lt;ListQuality&gt; redisObjectConstructor = new RedisObjectConstructor&lt;ListQuality&gt;();\r\n            RedisBasicEntity&lt;ListQuality&gt; redisBasicEntity = new RedisBasicEntity&lt;ListQuality&gt;(redisObjectConstructor);\r\n            ListQuality listQuality = new ListQuality();\r\n            listQuality.setBurialScore(10.0);\r\n            Map&lt;String, String&gt; redisHash = redisBasicEntity.getFields(listQuality, RedisHashKey.class);\r\n            return null;\r\n        }\r\n        \r\n        public static ListQuality getListQuality() throws Exception\r\n        {\r\n            RedisObjectConstructor&lt;ListQuality&gt; redisObjectConstructor = new RedisObjectConstructor&lt;ListQuality&gt;();\r\n            RedisBasicEntity&lt;ListQuality&gt; redisBasicEntity = new RedisBasicEntity&lt;ListQuality&gt;(redisObjectConstructor);\r\n            Map&lt;String, String&gt; redisHash = new HashMap&lt;String, String&gt;();\r\n            redisHash.put(&quot;satisfactionScore&quot;, &quot;10.00&quot;);\r\n            redisHash.put(&quot;burialScore&quot;, &quot;5.00&quot;);\r\n            redisHash.put(&quot;burialState&quot;, &quot;true&quot;);\r\n            ListQuality listQuality = redisBasicEntity.getRedisEntity(redisHash, RedisHashKey.class);\r\n            return listQuality;\r\n            \r\n        }\r\n        \r\n        \r\n        public static void main(String args[]) throws Exception\r\n        {\r\n            ListQualityDAO.getListQuality();\r\n        }\r\n    }\r\n\r\nMy Annotation that used to identify the field:\r\n\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface RedisHashKey {\r\n    }\r\n\r\nPlease let me know what am doing wrong here:\r\n\r\nHere is the exception that am getting when i do test run:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.Exception \tat\r\n&gt; com.ranker.app.redis.repository.support.RedisObjectConstructor.create(RedisObjectConstructor.java:19)\r\n&gt; \tat\r\n&gt; com.ranker.app.redis.repository.support.RedisBasicEntity.getRedisEntity(RedisBasicEntity.java:61)\r\n&gt; \tat\r\n&gt; com.ranker.api.dao.impl.ListQualityDAO.getListQuality(ListQualityDAO.java:37)\r\n&gt; \tat\r\n&gt; com.ranker.api.dao.impl.ListQualityDAO.main(ListQualityDAO.java:45)\r\n\r\n","title":"Java Reflection Generic Type ParamertizedType Object Creation Failing with java.lang.exception","body":"<p>I am trying to generate the instance of typed class at run time to work with redis.</p>\n\n<p>Here is my code, but its failing to create the instance of typed class T.</p>\n\n<pre><code>interface ObjectFactory&lt;T&gt;\n{\n    T create() throws Exception;\n}\n</code></pre>\n\n<p>Here is the class that create the instance of T</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\n\npublic class RedisObjectConstructor&lt;T&gt; implements ObjectFactory&lt;T&gt;\n{\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public T create() throws Exception\n    {\n        try\n        {\n            return (T) ((Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0]).newInstance();\n        }\n        catch (Exception e)\n        {\n            throw new Exception();\n        }\n    }\n}\n</code></pre>\n\n<p>Here is logic to actually set and get value of domain field:</p>\n\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.Field;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.commons.lang3.reflect.FieldUtils;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class RedisBasicEntity&lt;T&gt;\n{\n    private final ObjectFactory&lt;T&gt; factory;\n\n    public RedisBasicEntity(ObjectFactory&lt;T&gt; factory)\n    {\n        this.factory = factory;\n    }\n\n    public Map&lt;String, String&gt; getFields(T redisDomain, Class&lt;? extends Annotation&gt; ann)\n    {\n        Map&lt;String, String&gt; redisHash = new HashMap&lt;String, String&gt;();\n        Class&lt;?&gt; clazz = redisDomain.getClass();\n        while (clazz != null)\n        {\n            for (Field field : clazz.getDeclaredFields())\n            {\n                if (field.isAnnotationPresent(ann))\n                {\n                    field.setAccessible(true);\n                    try\n                    {\n                        Object value = field.get(redisDomain);\n                        if (value != null)\n                        {\n                            redisHash.put(field.getName(), value.toString());\n                            System.out.println(field.getName() + \":\" + value.toString());\n                        }\n                    }\n                    catch (IllegalArgumentException e)\n                    {\n\n                    }\n                    catch (IllegalAccessException e)\n                    {\n\n                    }\n                }\n            }\n            c = c.getSuperclass();\n        }\n        return redisHash;\n\n    }\n\n    public T getRedisEntity(Map&lt;String, String&gt; redisHash, Class&lt;? extends Annotation&gt; ann) throws Exception\n    {\n        T redisDomain = factory.create();\n        Class&lt;?&gt; clazz = redisDomain.getClass();\n        while (clazz != null)\n        {\n            for (Field field : clazz.getDeclaredFields())\n            {\n                if (field.isAnnotationPresent(ann))\n                {\n                    field.setAccessible(true);\n                    try\n                    {\n                        FieldUtils.writeDeclaredField(field, field.getName(), redisHash.get(field.getName()));\n                    }\n                    catch (Exception e)\n                    {\n\n                    }\n                }\n            }\n        }\n        return redisDomain;\n    }\n}\n</code></pre>\n\n<p>Here is my test class:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.ranker.annotations.rediskey.RedisHashKey;\nimport com.ranker.api.dao.iListQualityDAO;\nimport com.ranker.app.redis.domain.list.ListQuality;\nimport com.ranker.app.redis.repository.support.RedisBasicEntity;\nimport com.ranker.app.redis.repository.support.RedisObjectConstructor;\n\npublic class ListQualityDAO implements iListQualityDAO\n{\n    @Autowired \n    private RedisBasicEntity&lt;ListQuality&gt; redisBasicEntity;\n\n    public static ListQuality saveListQuality()\n    {\n        RedisObjectConstructor&lt;ListQuality&gt; redisObjectConstructor = new RedisObjectConstructor&lt;ListQuality&gt;();\n        RedisBasicEntity&lt;ListQuality&gt; redisBasicEntity = new RedisBasicEntity&lt;ListQuality&gt;(redisObjectConstructor);\n        ListQuality listQuality = new ListQuality();\n        listQuality.setBurialScore(10.0);\n        Map&lt;String, String&gt; redisHash = redisBasicEntity.getFields(listQuality, RedisHashKey.class);\n        return null;\n    }\n\n    public static ListQuality getListQuality() throws Exception\n    {\n        RedisObjectConstructor&lt;ListQuality&gt; redisObjectConstructor = new RedisObjectConstructor&lt;ListQuality&gt;();\n        RedisBasicEntity&lt;ListQuality&gt; redisBasicEntity = new RedisBasicEntity&lt;ListQuality&gt;(redisObjectConstructor);\n        Map&lt;String, String&gt; redisHash = new HashMap&lt;String, String&gt;();\n        redisHash.put(\"satisfactionScore\", \"10.00\");\n        redisHash.put(\"burialScore\", \"5.00\");\n        redisHash.put(\"burialState\", \"true\");\n        ListQuality listQuality = redisBasicEntity.getRedisEntity(redisHash, RedisHashKey.class);\n        return listQuality;\n\n    }\n\n\n    public static void main(String args[]) throws Exception\n    {\n        ListQualityDAO.getListQuality();\n    }\n}\n</code></pre>\n\n<p>My Annotation that used to identify the field:</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface RedisHashKey {\n}\n</code></pre>\n\n<p>Please let me know what am doing wrong here:</p>\n\n<p>Here is the exception that am getting when i do test run:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Exception    at\n  com.ranker.app.redis.repository.support.RedisObjectConstructor.create(RedisObjectConstructor.java:19)\n    at\n  com.ranker.app.redis.repository.support.RedisBasicEntity.getRedisEntity(RedisBasicEntity.java:61)\n    at\n  com.ranker.api.dao.impl.ListQualityDAO.getListQuality(ListQualityDAO.java:37)\n    at\n  com.ranker.api.dao.impl.ListQualityDAO.main(ListQualityDAO.java:45)</p>\n</blockquote>\n"},{"tags":["java","generics","types","type-erasure"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1361868100,"post_id":15084670,"comment_id":21216745,"body_markdown":"`if (t instanceof String)` ?","body":"<code>if (t instanceof String)</code> ?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1361868425,"post_id":15084670,"comment_id":21216896,"body_markdown":"Can&#39;t you pass the class type as an argument only?","body":"Can&#39;t you pass the class type as an argument only?"},{"owner":{"account_id":12372713,"reputation":429,"user_id":9022303,"display_name":"Elgirhath"},"score":0,"creation_date":1589477345,"post_id":15084670,"comment_id":109317489,"body_markdown":"I might be late, but there is a great solution. Use C# (:","body":"I might be late, but there is a great solution. Use C# (:"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1361868581,"creation_date":1361868581,"answer_id":15084824,"question_id":15084670,"body_markdown":"The only way is to store the class in an instance variable and require it as an argument of the constructor:\r\n\r\n    public class ContainerTest&lt;T&gt;\r\n    {\r\n        private Class&lt;T&gt; tClass;\r\n        public ContainerTest(Class&lt;T&gt; tClass) {\r\n            this.tCLass = tClass;\r\n        }\r\n    \r\n        public void doSomething()\r\n        {\r\n            //access tClass here\r\n        }\r\n    }","title":"How to get the class of type variable in Java Generics","body":"<p>The only way is to store the class in an instance variable and require it as an argument of the constructor:</p>\n\n<pre><code>public class ContainerTest&lt;T&gt;\n{\n    private Class&lt;T&gt; tClass;\n    public ContainerTest(Class&lt;T&gt; tClass) {\n        this.tCLass = tClass;\n    }\n\n    public void doSomething()\n    {\n        //access tClass here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1373157,"reputation":1921,"user_id":1307695,"accept_rate":55,"display_name":"Renaud"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1361868608,"creation_date":1361868608,"answer_id":15084833,"question_id":15084670,"body_markdown":"There is no &quot;clean&quot; way to get the Generic Type argument from within the class.\r\nInstead, a common pattern is to pass the Class of the Generic Type to the constructor and keep it as an inner property juste as done in the java.util.EnumMap&lt;K,V&gt; implementation.\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/EnumMap.html\r\nhttp://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/EnumMap.java\r\n\r\n\r\n    public class ContainerTest&lt;T&gt; {\r\n\r\n        Class&lt;T&gt; type;\r\n        T t;\r\n\r\n        public ContainerTest(Class&lt;T&gt; type) {\r\n            this.type = type;\r\n        }\r\n\r\n        public void setT(T t) {\r\n            this.t = t;\r\n        }\r\n\r\n        public T getT() {\r\n            return t;\r\n        }\r\n\r\n        public void doSomething() {\r\n            //There you can use &quot;type&quot; property.\r\n        }\r\n    }","title":"How to get the class of type variable in Java Generics","body":"<p>There is no \"clean\" way to get the Generic Type argument from within the class.\nInstead, a common pattern is to pass the Class of the Generic Type to the constructor and keep it as an inner property juste as done in the java.util.EnumMap implementation.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/EnumMap.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/EnumMap.html</a>\n<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/EnumMap.java\" rel=\"noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/EnumMap.java</a></p>\n\n<pre><code>public class ContainerTest&lt;T&gt; {\n\n    Class&lt;T&gt; type;\n    T t;\n\n    public ContainerTest(Class&lt;T&gt; type) {\n        this.type = type;\n    }\n\n    public void setT(T t) {\n        this.t = t;\n    }\n\n    public T getT() {\n        return t;\n    }\n\n    public void doSomething() {\n        //There you can use \"type\" property.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1359686,"reputation":12150,"user_id":1297272,"accept_rate":86,"display_name":"Javier"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361868638,"creation_date":1361868638,"answer_id":15084842,"question_id":15084670,"body_markdown":"No. It is not possible because of [type erasure][1] (the type parameters are compiled as Object + type casts). If you *really* need to know/enforce the type in runtime you may store a reference to a `Class` object. \r\n\r\n\r\n    public class ContainerTest&lt;T&gt; {\r\n       private final Class&lt;T&gt; klass;\r\n       private final List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\r\n       ContainerTest(Class&lt;T&gt; klass) {\r\n         this.klass = klass;\r\n       }\r\n\r\n       Class&lt;T&gt; getElementClass() {\r\n         return klass;\r\n       }\r\n\r\n       void add(T t) {\r\n          //klass.cast forces a runtime cast operation\r\n          list.add(klass.cast(t));\r\n       }\r\n    }\r\n\r\nUse: \r\n\r\n    ContainerTest&lt;String&gt; c = new ContainerTest&lt;&gt;(String.class);\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How to get the class of type variable in Java Generics","body":"<p>No. It is not possible because of <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a> (the type parameters are compiled as Object + type casts). If you <em>really</em> need to know/enforce the type in runtime you may store a reference to a <code>Class</code> object. </p>\n\n<pre><code>public class ContainerTest&lt;T&gt; {\n   private final Class&lt;T&gt; klass;\n   private final List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n\n   ContainerTest(Class&lt;T&gt; klass) {\n     this.klass = klass;\n   }\n\n   Class&lt;T&gt; getElementClass() {\n     return klass;\n   }\n\n   void add(T t) {\n      //klass.cast forces a runtime cast operation\n      list.add(klass.cast(t));\n   }\n}\n</code></pre>\n\n<p>Use: </p>\n\n<pre><code>ContainerTest&lt;String&gt; c = new ContainerTest&lt;&gt;(String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954552,"reputation":3071,"user_id":980092,"accept_rate":83,"display_name":"Arsen Alexanyan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1361868686,"creation_date":1361868686,"answer_id":15084848,"question_id":15084670,"body_markdown":"If You can define like this\r\n\r\n    public class ContainerTest&lt;T&gt;\r\n    {\r\n    \r\n        public void doSomething(T clazz)\r\n        {\r\n            \r\n        }\r\n    }\r\n\r\nThen it is possible","title":"How to get the class of type variable in Java Generics","body":"<p>If You can define like this</p>\n\n<pre><code>public class ContainerTest&lt;T&gt;\n{\n\n    public void doSomething(T clazz)\n    {\n\n    }\n}\n</code></pre>\n\n<p>Then it is possible</p>\n"},{"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1361874710,"creation_date":1361874403,"answer_id":15086669,"question_id":15084670,"body_markdown":"There _is_ a way to get the runtime type of the type parameter by using Guava&#39;s `TypeToken` to capture it. The solution&#39;s disadvantage is that you have to create an anonymous subclass each time you need an instance of `Container`.\r\n\r\n    class Container&lt;T&gt; {\r\n    \r\n        TypeToken&lt;T&gt; tokenOfContainedType = new TypeToken&lt;T&gt;(getClass()) {};\r\n    \r\n        public Type getContainedType() {\r\n            return tokenOfContainedType.getType();\r\n        }\r\n    }\r\n    \r\n    class TestCase {\r\n    \r\n        // note that containerTest is not a simple instance of Container,\r\n        // an anonymous subclass is created\r\n        private Container&lt;String&gt; containerTest = new Container&lt;String&gt;() {};\r\n    \r\n        @Test\r\n        public void test() {\r\n            Assert.assertEquals(String.class, containerTest.getContainedType());\r\n        }\r\n    }\r\n\r\nThe key of this solution is described in tha JavaDoc of `TypeToken`&#39;s constructor used in the code above:\r\n\r\n&gt; Clients create an empty anonymous subclass. Doing so embeds the type parameter in the anonymous class&#39;s type hierarchy so we can reconstitute it at runtime despite erasure.","title":"How to get the class of type variable in Java Generics","body":"<p>There <em>is</em> a way to get the runtime type of the type parameter by using Guava's <code>TypeToken</code> to capture it. The solution's disadvantage is that you have to create an anonymous subclass each time you need an instance of <code>Container</code>.</p>\n\n<pre><code>class Container&lt;T&gt; {\n\n    TypeToken&lt;T&gt; tokenOfContainedType = new TypeToken&lt;T&gt;(getClass()) {};\n\n    public Type getContainedType() {\n        return tokenOfContainedType.getType();\n    }\n}\n\nclass TestCase {\n\n    // note that containerTest is not a simple instance of Container,\n    // an anonymous subclass is created\n    private Container&lt;String&gt; containerTest = new Container&lt;String&gt;() {};\n\n    @Test\n    public void test() {\n        Assert.assertEquals(String.class, containerTest.getContainedType());\n    }\n}\n</code></pre>\n\n<p>The key of this solution is described in tha JavaDoc of <code>TypeToken</code>'s constructor used in the code above:</p>\n\n<blockquote>\n  <p>Clients create an empty anonymous subclass. Doing so embeds the type parameter in the anonymous class's type hierarchy so we can reconstitute it at runtime despite erasure.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2087222,"reputation":8111,"user_id":1857897,"accept_rate":80,"display_name":"dedek"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376138476,"creation_date":1376138476,"answer_id":18161976,"question_id":15084670,"body_markdown":"If you are interested in the **reflection way**, I found a partial solution in this great article:  http://www.artima.com/weblogs/viewpost.jsp?thread=208860\r\n\r\nIn short, you can use `java.lang.Class.getGenericSuperclass()` and `java.lang.reflect.ParameterizedType.getActualTypeArguments()` methods, but you have to subclass some parent super class.\r\n\r\nFollowing snippet works for a class that **directly** extends the superclass `AbstractUserType`. See the referenced article for more general solution.\r\n\r\n\timport java.lang.reflect.ParameterizedType;\r\n\t\r\n\t\r\n\tpublic class AbstractUserType&lt;T&gt; {\r\n\t\r\n\t\tpublic Class&lt;T&gt; returnedClass() {\r\n\t\t\tParameterizedType parameterizedType = (ParameterizedType) getClass()\r\n\t\t\t\t\t.getGenericSuperclass();\r\n\t\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tClass&lt;T&gt; ret = (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[0];\r\n\t\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tAbstractUserType&lt;String&gt; myVar = new AbstractUserType&lt;String&gt;() {};\r\n\t\r\n\t\t\tSystem.err.println(myVar.returnedClass());\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"How to get the class of type variable in Java Generics","body":"<p>If you are interested in the <strong>reflection way</strong>, I found a partial solution in this great article:  <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=208860\">http://www.artima.com/weblogs/viewpost.jsp?thread=208860</a></p>\n\n<p>In short, you can use <code>java.lang.Class.getGenericSuperclass()</code> and <code>java.lang.reflect.ParameterizedType.getActualTypeArguments()</code> methods, but you have to subclass some parent super class.</p>\n\n<p>Following snippet works for a class that <strong>directly</strong> extends the superclass <code>AbstractUserType</code>. See the referenced article for more general solution.</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\n\n\npublic class AbstractUserType&lt;T&gt; {\n\n    public Class&lt;T&gt; returnedClass() {\n        ParameterizedType parameterizedType = (ParameterizedType) getClass()\n                .getGenericSuperclass();\n\n        @SuppressWarnings(\"unchecked\")\n        Class&lt;T&gt; ret = (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[0];\n\n        return ret;\n    }\n\n    public static void main(String[] args) {\n        AbstractUserType&lt;String&gt; myVar = new AbstractUserType&lt;String&gt;() {};\n\n        System.err.println(myVar.returnedClass());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1940712,"reputation":5132,"user_id":1746975,"accept_rate":42,"display_name":"ZeDonDino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60946,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":6,"score":30,"last_activity_date":1671416644,"creation_date":1361868030,"question_id":15084670,"body_markdown":"I&#39;ve seen similar questions but they didnt help very much.\r\n\r\nFor instance I&#39;ve got this Generic Class:\r\n\r\n    public class ContainerTest&lt;T&gt;\r\n    {\r\n  \r\n    \tpublic void doSomething()\r\n    \t{\r\n            //I want here to determinate the Class of the type argument (In this case String)\r\n    \t}\r\n    }\r\n\r\nand Another Class which uses this Container Class\r\n\r\n    public class TestCase\r\n    {\r\n    \r\n    \tprivate ContainerTest&lt;String&gt; containerTest;\r\n    \r\n    \tpublic void someMethod()\r\n    \t{\r\n    \t\tcontainerTest.doSomething();\r\n    \t}\r\n    }\r\n\r\nIs it possible to determinate the Class of the type argument in method doSomething() **without** having an explicit type **variable/field** or any **constructor** in ContainerTest Class?\r\n\r\nUpdate: Changed format of ContainerTest Class","title":"How to get the class of type variable in Java Generics","body":"<p>I've seen similar questions but they didnt help very much.</p>\n\n<p>For instance I've got this Generic Class:</p>\n\n<pre><code>public class ContainerTest&lt;T&gt;\n{\n\n    public void doSomething()\n    {\n        //I want here to determinate the Class of the type argument (In this case String)\n    }\n}\n</code></pre>\n\n<p>and Another Class which uses this Container Class</p>\n\n<pre><code>public class TestCase\n{\n\n    private ContainerTest&lt;String&gt; containerTest;\n\n    public void someMethod()\n    {\n        containerTest.doSomething();\n    }\n}\n</code></pre>\n\n<p>Is it possible to determinate the Class of the type argument in method doSomething() <strong>without</strong> having an explicit type <strong>variable/field</strong> or any <strong>constructor</strong> in ContainerTest Class?</p>\n\n<p>Update: Changed format of ContainerTest Class</p>\n"},{"tags":["java","multithreading","junit"],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288242404,"creation_date":1288242103,"answer_id":4039906,"question_id":4039873,"body_markdown":"Take a look at http://www.youtube.com/watch?v=wDN_EYUvUq0 (starting at 17:09), it explain problems you can get with JUnit and threads.\r\n\r\nI think, that in your case, `get()` throws a `ExecutionException` and that&#39;s why the second test fails. In the first testcase, jUnit doesn&#39;t see the exception.","title":"Weird problem using JUnit in multi-thread environment","body":"<p>Take a look at <a href=\"http://www.youtube.com/watch?v=wDN_EYUvUq0\" rel=\"nofollow\">http://www.youtube.com/watch?v=wDN_EYUvUq0</a> (starting at 17:09), it explain problems you can get with JUnit and threads.</p>\n\n<p>I think, that in your case, <code>get()</code> throws a <code>ExecutionException</code> and that's why the second test fails. In the first testcase, jUnit doesn't see the exception.</p>\n"},{"tags":[],"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1288244267,"creation_date":1288244267,"answer_id":4040073,"question_id":4039873,"body_markdown":"JUnit cannot see the exceptions that occur in threads other than the thread in which the tests are running. In the first case, through an exception occurs by calling `fail`, it occurs in a separate thread run by the `executor`. Hence it is not visible to JUnit and the test passes.\r\n\r\nIn the second case, the same exception happens in the separate thread run by the `executor` but the exception is effectively &quot;reported back&quot; to the test thread when you call `future.get`. This is because `future.get` throws an `ExecutionException` if the computation of the future failed due to any exception. JUnit is able to see this exception and hence the test fails.","title":"Weird problem using JUnit in multi-thread environment","body":"<p>JUnit cannot see the exceptions that occur in threads other than the thread in which the tests are running. In the first case, through an exception occurs by calling <code>fail</code>, it occurs in a separate thread run by the <code>executor</code>. Hence it is not visible to JUnit and the test passes.</p>\n\n<p>In the second case, the same exception happens in the separate thread run by the <code>executor</code> but the exception is effectively \"reported back\" to the test thread when you call <code>future.get</code>. This is because <code>future.get</code> throws an <code>ExecutionException</code> if the computation of the future failed due to any exception. JUnit is able to see this exception and hence the test fails.</p>\n"},{"tags":[],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288252297,"creation_date":1288252297,"answer_id":4040832,"question_id":4039873,"body_markdown":"There is also the interesting fact that Eclipse and IDEA can spawn a VM in their junit test runners and end up calling system.exit() on it. This means if you don&#39;t wait properly in the test (as in the case when you sleep above and hope the the task has completed), it can exit unexpectedly. Interesting, but not exactly what you were asking!\r\n\r\nsee this [link][1] for details... \r\n\r\n\r\n  [1]: http://pequenoperro.blogspot.com/2008/12/junit-and-threaded-tests-i-recently.html","title":"Weird problem using JUnit in multi-thread environment","body":"<p>There is also the interesting fact that Eclipse and IDEA can spawn a VM in their junit test runners and end up calling system.exit() on it. This means if you don't wait properly in the test (as in the case when you sleep above and hope the the task has completed), it can exit unexpectedly. Interesting, but not exactly what you were asking!</p>\n\n<p>see this <a href=\"http://pequenoperro.blogspot.com/2008/12/junit-and-threaded-tests-i-recently.html\" rel=\"nofollow\">link</a> for details... </p>\n"},{"tags":[],"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288253747,"creation_date":1288253747,"answer_id":4040955,"question_id":4039873,"body_markdown":"As @abhin4v has pointed out, the exception in the new thread gets swallowed. You could try providing your own `fail`-method that syncronises with the top-level thread very much like in your example with `get()`.\r\n\r\nBut there&#39;s no need to use Futures, just write to a shared variable indicating failure and use `newThreadId.join()`. Apart from that, I&#39;m not aware of any other way of solving this in plain JUnit.","title":"Weird problem using JUnit in multi-thread environment","body":"<p>As @abhin4v has pointed out, the exception in the new thread gets swallowed. You could try providing your own <code>fail</code>-method that syncronises with the top-level thread very much like in your example with <code>get()</code>.</p>\n\n<p>But there's no need to use Futures, just write to a shared variable indicating failure and use <code>newThreadId.join()</code>. Apart from that, I'm not aware of any other way of solving this in plain JUnit.</p>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6541,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4040073,"answer_count":4,"score":7,"last_activity_date":1671416573,"creation_date":1288241597,"question_id":4039873,"body_markdown":"I meet a weired problem when using JUnit in multi-thread environment. The following code should fail, but it actually pass in eclipse. \r\n\r\n\r\n    public class ExampleTest extends TestCase {\r\n    \r\n        private ExecutorService executor = Executors.newFixedThreadPool(10);\r\n    \r\n        private volatile boolean isDone = false;\r\n    \r\n        public void test() throws InterruptedException, ExecutionException {\r\n            executor.submit(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        fail();\r\n                    } finally {\r\n                        isDone = true;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            while (!isDone) {\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here&#39;a another piece of code, here I use Future.get() to wait for thread stop, in this case it will fail. \r\n\r\n    public class ExampleTest extends TestCase {\r\n    \r\n        private ExecutorService executor = Executors.newFixedThreadPool(10);\r\n    \r\n        private volatile boolean isDone = false;\r\n    \r\n        public void test() throws InterruptedException, ExecutionException {\r\n            Future future=executor.submit(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        fail();\r\n                    } finally {\r\n                        isDone = true;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            future.get();\r\n        }\r\n    }\r\n\r\n\r\nI googled it and found that JUnit can not handle Multiple-thread unit testing,but what&#39;s the differences between these two pieces of code ? Thanks\r\n","title":"Weird problem using JUnit in multi-thread environment","body":"<p>I meet a weired problem when using JUnit in multi-thread environment. The following code should fail, but it actually pass in eclipse. </p>\n\n<pre><code>public class ExampleTest extends TestCase {\n\n    private ExecutorService executor = Executors.newFixedThreadPool(10);\n\n    private volatile boolean isDone = false;\n\n    public void test() throws InterruptedException, ExecutionException {\n        executor.submit(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    fail();\n                } finally {\n                    isDone = true;\n                }\n            }\n        });\n\n        while (!isDone) {\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n\n<p>And here'a another piece of code, here I use Future.get() to wait for thread stop, in this case it will fail. </p>\n\n<pre><code>public class ExampleTest extends TestCase {\n\n    private ExecutorService executor = Executors.newFixedThreadPool(10);\n\n    private volatile boolean isDone = false;\n\n    public void test() throws InterruptedException, ExecutionException {\n        Future future=executor.submit(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    fail();\n                } finally {\n                    isDone = true;\n                }\n            }\n        });\n\n        future.get();\n    }\n}\n</code></pre>\n\n<p>I googled it and found that JUnit can not handle Multiple-thread unit testing,but what's the differences between these two pieces of code ? Thanks</p>\n"},{"tags":["java","authentication","return"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1671415060,"post_id":74845700,"comment_id":132087936,"body_markdown":"1. Seems reasonable. 2. Throw an `Exception` (or return `null`), but I would suggest you throw an `Exception`. 3. [Beware](https://stackoverflow.com/q/513832/2970947), that is not how you compare `String`s in Java.","body":"1. Seems reasonable. 2. Throw an <code>Exception</code> (or return <code>null</code>), but I would suggest you throw an <code>Exception</code>. 3. <a href=\"https://stackoverflow.com/q/513832/2970947\">Beware</a>, that is not how you compare <code>String</code>s in Java."},{"owner":{"account_id":18080278,"reputation":1,"user_id":13142596,"display_name":"herb"},"score":0,"creation_date":1671415569,"post_id":74845700,"comment_id":132087994,"body_markdown":"Thanks Elliott! This is exactly the answer I was looking for. And thanks for the warning about the String comparison too, gonna fix it!","body":"Thanks Elliott! This is exactly the answer I was looking for. And thanks for the warning about the String comparison too, gonna fix it!"}],"owner":{"account_id":18080278,"reputation":1,"user_id":13142596,"display_name":"herb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671415848,"creation_date":1671414967,"question_id":74845700,"body_markdown":"I&#39;m struggling to build a simple login method. (the worst thing is that I think the answer may be pretty obvious, so sorry for anything)\r\n\r\nI have a type Client that has the client properties (name, email, username, password, age, etc.), that is storaged in a ClientRepository class. My idea is to compare the user and password til I have the right match and return the object Client logged, so I can access its properties outside.\r\n\r\nI have two questions:\r\n\r\n1 - The method below must have to return a Client type so I can access its properties later, right? Or theres a better way of doing a login method?\r\n\r\n2 - What do I return in the &quot;elses&quot; below (when the login fails)? \r\n\r\n\r\nThanks \r\n\r\n\r\n\r\n```\r\npublic Client logIn(String user, String password){\r\n    Cliente logged;\r\n    for(int i = 0; i &lt; clients.size(); i++){\r\n        if(clients.get(i).getUser().equals(user)){\r\n            if(clients.get(i).getPassword().equals(password)){\r\n                logged = clients.get(i);\r\n                System.out.println(&quot;LOGIN SUCCESFULL&quot;);\r\n                return logged;\r\n            }else{\r\n                System.out.println(&quot;WRONG PASSWORD!&quot;);\r\n            }\r\n        }else{\r\n            System.out.println(&quot;USER DOESNT EXISTS&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to do a login method? It has to return an object &quot;User&quot;?","body":"<p>I'm struggling to build a simple login method. (the worst thing is that I think the answer may be pretty obvious, so sorry for anything)</p>\n<p>I have a type Client that has the client properties (name, email, username, password, age, etc.), that is storaged in a ClientRepository class. My idea is to compare the user and password til I have the right match and return the object Client logged, so I can access its properties outside.</p>\n<p>I have two questions:</p>\n<p>1 - The method below must have to return a Client type so I can access its properties later, right? Or theres a better way of doing a login method?</p>\n<p>2 - What do I return in the &quot;elses&quot; below (when the login fails)?</p>\n<p>Thanks</p>\n<pre><code>public Client logIn(String user, String password){\n    Cliente logged;\n    for(int i = 0; i &lt; clients.size(); i++){\n        if(clients.get(i).getUser().equals(user)){\n            if(clients.get(i).getPassword().equals(password)){\n                logged = clients.get(i);\n                System.out.println(&quot;LOGIN SUCCESFULL&quot;);\n                return logged;\n            }else{\n                System.out.println(&quot;WRONG PASSWORD!&quot;);\n            }\n        }else{\n            System.out.println(&quot;USER DOESNT EXISTS&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1671436574,"post_id":74845743,"comment_id":132090828,"body_markdown":"You can&#39;t change just the dependencies, it has to be the single font for the whole Project Explorer (and all other views) - Preferences &gt; General &gt; Appearance &gt; Colors and Fonts &gt; View and Editor Folders &gt; Table and Tree font for views.","body":"You can&#39;t change just the dependencies, it has to be the single font for the whole Project Explorer (and all other views) - Preferences &gt; General &gt; Appearance &gt; Colors and Fonts &gt; View and Editor Folders &gt; Table and Tree font for views."}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671415822,"creation_date":1671415822,"question_id":74845743,"body_markdown":"I am using Windows 10 x64, Java language level / JDK 19, Eclipse IDE 2022-12 . How to change font-size of dependencies list in Eclipse IDE 2022-12? I need it bigger due to my eyes cannot see.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M1KHJ.png","title":"How to change font-size of dependencies list in Eclipse IDE 2022-12?","body":"<p>I am using Windows 10 x64, Java language level / JDK 19, Eclipse IDE 2022-12 . How to change font-size of dependencies list in Eclipse IDE 2022-12? I need it bigger due to my eyes cannot see.</p>\n<p><a href=\"https://i.stack.imgur.com/M1KHJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1KHJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-fragments"],"owner":{"account_id":24103097,"reputation":13,"user_id":18074668,"display_name":"Sofia Blanco Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671414165,"creation_date":1671414165,"question_id":74845644,"body_markdown":"I would like to be able to assign the id of these TextView but I need the root that I assigned previously in onCreateView, then I don&#39;t know what to do to be able to inflate it, try the following;\r\n```\r\nView root;\r\n        root = inflater.inflate(R.layout.fragment_products, container, false);\r\nView.inflate(R.layout.fragment_products, null);\r\n\r\n```\r\nI have the code as follows;\r\n\r\n\r\n```\r\n\r\npackage com.example.doit_venta_v2;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\npublic class ProductosFragment extends Fragment {\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View root;\r\n        root = inflater.inflate(R.layout.fragment_productos, container, false);\r\n\r\n        Button buttonnew = (Button) root.findViewById(R.id.button7);\r\n\r\n        buttonnew.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                DialogNewProductFragment DNPF = new DialogNewProductFragment();\r\n                getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.ContainerView,DNPF)\r\n                        .addToBackStack(null).commit();\r\n\r\n\r\n            }\r\n        });\r\n\r\n        return root;\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nclass ProductosAdapter extends FirestoreRecyclerAdapter&lt;Productos, ProductosAdapter.ViewHolder&gt; {\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n\r\n\r\n        TextView TextViewProducto;\r\n        TextView TextViewTipo;\r\n        TextView TextViewCantidad;\r\n        TextView textViewUnidad;\r\n        TextView textViewValor;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            TextViewCantidad = (TextView) View.inflate(R.layout.fragment_productos,null)\r\n            TextViewProducto = View.findViewById(R.id.TextViewProducto);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAs you can see, in the fragment of class ProductsAdapter extends FirestoreRecyclerAdapter&lt;Products, ProductsAdapter.ViewHolder&gt; { I am calling a class Products that allows to take data from a database in Firebase but below I want to relate the ids of the Layout.\r\n\r\nI get more or less the following error ;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9sfg.png","title":"How can I inflate the layout inside ProductsAdapter extends FirestoreRecyclerAdapter in a fragment?","body":"<p>I would like to be able to assign the id of these TextView but I need the root that I assigned previously in onCreateView, then I don't know what to do to be able to inflate it, try the following;</p>\n<pre><code>View root;\n        root = inflater.inflate(R.layout.fragment_products, container, false);\nView.inflate(R.layout.fragment_products, null);\n\n</code></pre>\n<p>I have the code as follows;</p>\n<pre><code>\npackage com.example.doit_venta_v2;\n\nimport android.app.AlertDialog;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\npublic class ProductosFragment extends Fragment {\n\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View root;\n        root = inflater.inflate(R.layout.fragment_productos, container, false);\n\n        Button buttonnew = (Button) root.findViewById(R.id.button7);\n\n        buttonnew.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                DialogNewProductFragment DNPF = new DialogNewProductFragment();\n                getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.ContainerView,DNPF)\n                        .addToBackStack(null).commit();\n\n\n            }\n        });\n\n        return root;\n\n\n\n    }\n}\n\n\n\nclass ProductosAdapter extends FirestoreRecyclerAdapter&lt;Productos, ProductosAdapter.ViewHolder&gt; {\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n\n\n        TextView TextViewProducto;\n        TextView TextViewTipo;\n        TextView TextViewCantidad;\n        TextView textViewUnidad;\n        TextView textViewValor;\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            TextViewCantidad = (TextView) View.inflate(R.layout.fragment_productos,null)\n            TextViewProducto = View.findViewById(R.id.TextViewProducto);\n        }\n    }\n\n}\n\n</code></pre>\n<p>As you can see, in the fragment of class ProductsAdapter extends FirestoreRecyclerAdapter&lt;Products, ProductsAdapter.ViewHolder&gt; { I am calling a class Products that allows to take data from a database in Firebase but below I want to relate the ids of the Layout.</p>\n<p>I get more or less the following error ;</p>\n<p><a href=\"https://i.stack.imgur.com/l9sfg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l9sfg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["python","java","android","face-recognition","google-mlkit"],"owner":{"account_id":10482097,"reputation":3,"user_id":7726811,"display_name":"Bouzazi Wessim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671411684,"creation_date":1671411684,"question_id":74845488,"body_markdown":"I built an Android application that leverages Google&#39;s ML-Kit for Face Detection, then I wrote a Python script that sits on an external service that gets executed through an API call.\r\n\r\nHere&#39;s the current workflow of the app:\r\n\r\n 1. Android app opens frontal camera, waits for a face to be detected (Google&#39;s ML-Kit Face Detection)\r\n 2. I convert the image to base64 and do an API call to execute a Python script.\r\n 3. The script takes the base64 image as an input, fetches a list of base64 images (from a database) and compares the face against the array of images using Python&#39;s face_recognition\r\n\r\nThe whole process takes around 15 seconds to finish (too much in my case).\r\n\r\nMy question is the following: What is best method/workflow to compare an image (face) (that is detected using Google&#39;s MLKit) against a list of other images that I already have on an Android app (built using Java)?","title":"Comparing an image (face) against a list of images [Face Verificaiton]","body":"<p>I built an Android application that leverages Google's ML-Kit for Face Detection, then I wrote a Python script that sits on an external service that gets executed through an API call.</p>\n<p>Here's the current workflow of the app:</p>\n<ol>\n<li>Android app opens frontal camera, waits for a face to be detected (Google's ML-Kit Face Detection)</li>\n<li>I convert the image to base64 and do an API call to execute a Python script.</li>\n<li>The script takes the base64 image as an input, fetches a list of base64 images (from a database) and compares the face against the array of images using Python's face_recognition</li>\n</ol>\n<p>The whole process takes around 15 seconds to finish (too much in my case).</p>\n<p>My question is the following: What is best method/workflow to compare an image (face) (that is detected using Google's MLKit) against a list of other images that I already have on an Android app (built using Java)?</p>\n"},{"tags":["java","jmx"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1608030110,"post_id":65292764,"comment_id":115451164,"body_markdown":"(As per our last discussion, please use a spell-checker prior to posting).","body":"(As per our last discussion, please use a spell-checker prior to posting)."},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1608034358,"post_id":65292764,"comment_id":115453019,"body_markdown":"To be honest, I&#39;m using one :) Did u find something that I missed ?","body":"To be honest, I&#39;m using one :) Did u find something that I missed ?"}],"answers":[{"tags":[],"owner":{"account_id":229004,"reputation":10399,"user_id":491682,"accept_rate":79,"display_name":"ethrbunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671409351,"creation_date":1671409351,"answer_id":74845310,"question_id":65292764,"body_markdown":"(For my system I set it up to use port 7770 for jmx on a box running cassandra)\r\n\r\nTo get a list of all available data:\r\n\r\n    echo &quot;beans&quot; | java -jar jmxterm-1.0.2-uber.jar -l localhost:7199 -n 2&gt;&amp;1 | less\r\n\r\nTo see a specific value:\r\n\r\n    curl http://localhost:7770/jolokia/read/java.lang:type=ClassLoading\r\n\r\n\r\nFor cassandra - connected clients:\r\n\r\n     curl http://localhost:7770/jolokia/read/org.apache.cassandra.metrics:name=connectedNativeClients,type=Client/*","title":"Using curl to access JMX port","body":"<p>(For my system I set it up to use port 7770 for jmx on a box running cassandra)</p>\n<p>To get a list of all available data:</p>\n<pre><code>echo &quot;beans&quot; | java -jar jmxterm-1.0.2-uber.jar -l localhost:7199 -n 2&gt;&amp;1 | less\n</code></pre>\n<p>To see a specific value:</p>\n<pre><code>curl http://localhost:7770/jolokia/read/java.lang:type=ClassLoading\n</code></pre>\n<p>For cassandra - connected clients:</p>\n<pre><code> curl http://localhost:7770/jolokia/read/org.apache.cassandra.metrics:name=connectedNativeClients,type=Client/*\n</code></pre>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1671409351,"creation_date":1607963620,"question_id":65292764,"body_markdown":"I have a jar that I got from one of my teams and I&#39;m trying to connect to the JMX of the app and collect some metrics.\r\n\r\nI configured JAVA_OPTS to be the following : \r\n\r\n    export JAVA_OPTS=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.rmi.port=8099 -Dcom.sun.management.jmxremote.port=8098 -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=127.0.0.1 &quot;\r\n\r\n\r\nThe Java app started successfully with the the new settings. I checked if the app listens on 9098/ and I saw it is : \r\n\r\n    [root@machine]# netstat -noap | grep -e &quot;8098\\|8099&quot;\r\n    tcp6       0      0 :::8098                 :::*                    LISTEN      16365/java           off (0.00/0/0)\r\n    tcp6       0      0 :::8099                 :::*                    LISTEN      16365/java           off (0.00/0/0)\r\n\r\n\r\n\r\nI tried to run the following curl commands but nothing is returned : \r\n\r\n    [root]# curl -i 127.0.0.1:9098/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\r\n    curl: (52) Empty reply from server\r\n    [root]# curl -i 127.0.0.1:9097/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\r\n    \r\n    curl: (56) Recv failure: Connection reset by peer\r\n\r\n\r\nIs it possible to reach out to the jmx port with an api call ?\r\n","title":"Using curl to access JMX port","body":"<p>I have a jar that I got from one of my teams and I'm trying to connect to the JMX of the app and collect some metrics.</p>\n<p>I configured JAVA_OPTS to be the following :</p>\n<pre><code>export JAVA_OPTS=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.rmi.port=8099 -Dcom.sun.management.jmxremote.port=8098 -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=127.0.0.1 &quot;\n</code></pre>\n<p>The Java app started successfully with the the new settings. I checked if the app listens on 9098/ and I saw it is :</p>\n<pre><code>[root@machine]# netstat -noap | grep -e &quot;8098\\|8099&quot;\ntcp6       0      0 :::8098                 :::*                    LISTEN      16365/java           off (0.00/0/0)\ntcp6       0      0 :::8099                 :::*                    LISTEN      16365/java           off (0.00/0/0)\n</code></pre>\n<p>I tried to run the following curl commands but nothing is returned :</p>\n<pre><code>[root]# curl -i 127.0.0.1:9098/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\ncurl: (52) Empty reply from server\n[root]# curl -i 127.0.0.1:9097/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\n\ncurl: (56) Recv failure: Connection reset by peer\n</code></pre>\n<p>Is it possible to reach out to the jmx port with an api call ?</p>\n"},{"tags":["java","command","discord-jda","slash"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1671399972,"post_id":74844568,"comment_id":132085983,"body_markdown":"You have a NullPointerException on line 14 in BanCommand.java. Make sure you&#39;re not calling a method on a potentially null object (like a missing/optional parameter).","body":"You have a NullPointerException on line 14 in BanCommand.java. Make sure you&#39;re not calling a method on a potentially null object (like a missing/optional parameter)."},{"owner":{"display_name":"user20810537"},"score":0,"creation_date":1671401963,"post_id":74844568,"comment_id":132086285,"body_markdown":"Yes, I know that myself, but there is nothing in line 14.","body":"Yes, I know that myself, but there is nothing in line 14."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671408802,"creation_date":1671408802,"answer_id":74845267,"question_id":74844568,"body_markdown":"The `getOption(name)` method will return `null` when the option is not supplied. You need to properly check that instead of simply calling `getAsString()` or similar on it, since that is not possible on `null`.\r\n\r\nYou can also use `getOption(&quot;reason&quot;, OptionMapping::getAsString)` to avoid the null check, but then it will simply return null for the string.\r\n\r\nLastly, you can provide a fallback value to be used in the case that the option is not supplied:\r\n\r\n```java\r\nString reason = event.getOption(&quot;reason&quot;, &quot;No reason specified&quot;, OptionMapping::getAsString);\r\n```\r\n\r\nSee the documentation for details:\r\n\r\n- [getOption(String, Function)](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,java.util.function.Function))\r\n- [getOption(String, String, Function)](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,T,java.util.function.Function))","title":"Bancommand discord api (JDA5) gives an error","body":"<p>The <code>getOption(name)</code> method will return <code>null</code> when the option is not supplied. You need to properly check that instead of simply calling <code>getAsString()</code> or similar on it, since that is not possible on <code>null</code>.</p>\n<p>You can also use <code>getOption(&quot;reason&quot;, OptionMapping::getAsString)</code> to avoid the null check, but then it will simply return null for the string.</p>\n<p>Lastly, you can provide a fallback value to be used in the case that the option is not supplied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String reason = event.getOption(&quot;reason&quot;, &quot;No reason specified&quot;, OptionMapping::getAsString);\n</code></pre>\n<p>See the documentation for details:</p>\n<ul>\n<li><a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,java.util.function.Function)\" rel=\"nofollow noreferrer\">getOption(String, Function)</a></li>\n<li><a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,T,java.util.function.Function)\" rel=\"nofollow noreferrer\">getOption(String, String, Function)</a></li>\n</ul>\n"}],"owner":{"display_name":"user20810537"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671408802,"creation_date":1671399219,"question_id":74844568,"body_markdown":"I&#39;m in the process of programming a Discord bot with JDA. At the moment I&#39;m in the process of programming a ban command. If I enter on the Discord server: /ban @user (reason) (deletedays) it works quite well but if I only enter: /ban @user (reason) or /ban @user I get an error. I&#39;m not sure where this error can come from. I hope someone can help me with this. Many Thanks.\r\n\r\n\r\n\r\n\r\n**Main.java**\r\n\r\n```\r\n\r\npublic class main {\r\n    public static void main(String[] args) throws LoginException, InterruptedException {\r\n        String token = &quot;MYTOKEN&quot;;\r\n\r\n        JDA jda = JDABuilder.createDefault(\r\n                        token,\r\n                        GatewayIntent.MESSAGE_CONTENT,\r\n                        GatewayIntent.DIRECT_MESSAGES,\r\n                        GatewayIntent.GUILD_MEMBERS,\r\n                        GatewayIntent.GUILD_MESSAGES,\r\n                        GatewayIntent.GUILD_MESSAGE_REACTIONS,\r\n                        GatewayIntent.GUILD_VOICE_STATES,\r\n                        GatewayIntent.GUILD_BANS\r\n                )\r\n\r\n                .setActivity(Activity.playing(&quot;mit Sally!&quot;))\r\n                .setStatus(OnlineStatus.ONLINE)\r\n                //EventListeners\r\n                .addEventListeners(new BanCommand())\r\n                .build().awaitReady();\r\n\r\n        System.out.println(&quot;======START======&quot;);\r\n\r\n        Guild server = jda.getGuildById(&quot;GuildID&quot;);\r\n        server.updateCommands().addCommands(\r\n                Commands.slash(&quot;ban&quot;, &quot;Ban a user.&quot;)\r\n                        .addOption(OptionType.USER, &quot;user&quot;, &quot;User who should be banned.&quot;, true)\r\n                        .addOption(OptionType.STRING, &quot;reason&quot;, &quot;Reason why the user get banned.&quot;)\r\n                        .addOption(OptionType.INTEGER, &quot;deldays&quot;, &quot;Delete the messages from the user.&quot;, false)\r\n        ).queue();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n**BanCommand.java**\r\n\r\n```\r\npublic class BanCommand extends ListenerAdapter {\r\n\r\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\r\n        if (event.getName().equals(&quot;ban&quot;)) {\r\n            Member member = event.getOption(&quot;user&quot;).getAsMember();\r\n            String reason = event.getOption(&quot;reason&quot;).getAsString();\r\n            int deldays = event.getOption(&quot;deldays&quot;).getAsInt();\r\n\r\n            if (!member.hasPermission(Permission.ADMINISTRATOR)) {\r\n                member.ban(deldays, TimeUnit.DAYS).reason(&quot;reason&quot;).queue();\r\n                event.reply(&quot;You banned &quot; + member.getEffectiveName() + &quot;! &quot;  + &quot;Reason: &quot; + reason).queue();\r\n            } else {\r\n                event.reply(&quot;You can&#39;t ban an Admin!&quot;).queue();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been trying to solve this problem for a few hours but just can&#39;t figure it out.\r\n\r\n**ERROR**\r\n\r\n```\r\n[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\njava.lang.NullPointerException\r\n\tat de.ogbot.Commands.Admin.BanCommand.onSlashCommandInteraction(BanCommand.java:14)\r\n\tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\r\n\tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n\tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n\tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n\tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\r\n\tat net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleCommand(InteractionCreateHandler.java:112)\r\n\tat net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleInternally(InteractionCreateHandler.java:83)\r\n\tat net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:39)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:984)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:870)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:848)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:1023)\r\n\tat com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n\tat com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n\tat com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n\tat com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n\tat com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n\tat com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n\tat com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried to give &quot;user&quot;, &quot;reason&quot;, &quot;deldays&quot; other names, I tried to output the text in an embed instead of reply and I created a new bot and copied the stuff in there, but that didn&#39;t work either. That was actually all.","title":"Bancommand discord api (JDA5) gives an error","body":"<p>I'm in the process of programming a Discord bot with JDA. At the moment I'm in the process of programming a ban command. If I enter on the Discord server: /ban @user (reason) (deletedays) it works quite well but if I only enter: /ban @user (reason) or /ban @user I get an error. I'm not sure where this error can come from. I hope someone can help me with this. Many Thanks.</p>\n<p><strong>Main.java</strong></p>\n<pre><code>\npublic class main {\n    public static void main(String[] args) throws LoginException, InterruptedException {\n        String token = &quot;MYTOKEN&quot;;\n\n        JDA jda = JDABuilder.createDefault(\n                        token,\n                        GatewayIntent.MESSAGE_CONTENT,\n                        GatewayIntent.DIRECT_MESSAGES,\n                        GatewayIntent.GUILD_MEMBERS,\n                        GatewayIntent.GUILD_MESSAGES,\n                        GatewayIntent.GUILD_MESSAGE_REACTIONS,\n                        GatewayIntent.GUILD_VOICE_STATES,\n                        GatewayIntent.GUILD_BANS\n                )\n\n                .setActivity(Activity.playing(&quot;mit Sally!&quot;))\n                .setStatus(OnlineStatus.ONLINE)\n                //EventListeners\n                .addEventListeners(new BanCommand())\n                .build().awaitReady();\n\n        System.out.println(&quot;======START======&quot;);\n\n        Guild server = jda.getGuildById(&quot;GuildID&quot;);\n        server.updateCommands().addCommands(\n                Commands.slash(&quot;ban&quot;, &quot;Ban a user.&quot;)\n                        .addOption(OptionType.USER, &quot;user&quot;, &quot;User who should be banned.&quot;, true)\n                        .addOption(OptionType.STRING, &quot;reason&quot;, &quot;Reason why the user get banned.&quot;)\n                        .addOption(OptionType.INTEGER, &quot;deldays&quot;, &quot;Delete the messages from the user.&quot;, false)\n        ).queue();\n\n\n    }\n}\n</code></pre>\n<p><strong>BanCommand.java</strong></p>\n<pre><code>public class BanCommand extends ListenerAdapter {\n\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\n        if (event.getName().equals(&quot;ban&quot;)) {\n            Member member = event.getOption(&quot;user&quot;).getAsMember();\n            String reason = event.getOption(&quot;reason&quot;).getAsString();\n            int deldays = event.getOption(&quot;deldays&quot;).getAsInt();\n\n            if (!member.hasPermission(Permission.ADMINISTRATOR)) {\n                member.ban(deldays, TimeUnit.DAYS).reason(&quot;reason&quot;).queue();\n                event.reply(&quot;You banned &quot; + member.getEffectiveName() + &quot;! &quot;  + &quot;Reason: &quot; + reason).queue();\n            } else {\n                event.reply(&quot;You can't ban an Admin!&quot;).queue();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've been trying to solve this problem for a few hours but just can't figure it out.</p>\n<p><strong>ERROR</strong></p>\n<pre><code>[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.NullPointerException\n    at de.ogbot.Commands.Admin.BanCommand.onSlashCommandInteraction(BanCommand.java:14)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\n    at net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleCommand(InteractionCreateHandler.java:112)\n    at net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleInternally(InteractionCreateHandler.java:83)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:39)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:984)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:870)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:848)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:1023)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n<p>I tried to give &quot;user&quot;, &quot;reason&quot;, &quot;deldays&quot; other names, I tried to output the text in an embed instead of reply and I created a new bot and copied the stuff in there, but that didn't work either. That was actually all.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607647921,"creation_date":1607647921,"answer_id":65244345,"question_id":65072385,"body_markdown":"I&#39;m also seeing this now, in addition to another [similar bug](https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder/64839467) affecting a lot of users. It appears to be yet another bug in the Pre-launch reports and not related to our code. My app doesn&#39;t use sound, let alone Android Music.\r\n\r\nThose affected, please consider reporting it on this [bug report](https://issuetracker.google.com/issues/160907013).\r\n","title":"android pre-launch-report - java.lang.RuntimeException with com.google.android.finsky.services.IMarketCatalogService","body":"<p>I'm also seeing this now, in addition to another <a href=\"https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder/64839467\">similar bug</a> affecting a lot of users. It appears to be yet another bug in the Pre-launch reports and not related to our code. My app doesn't use sound, let alone Android Music.</p>\n<p>Those affected, please consider reporting it on this <a href=\"https://issuetracker.google.com/issues/160907013\" rel=\"nofollow noreferrer\">bug report</a>.</p>\n"}],"owner":{"account_id":19700409,"reputation":33,"user_id":14423310,"display_name":"Dmitriy Kryuchkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671408692,"creation_date":1606734437,"question_id":65072385,"body_markdown":"I have received a pre-launch report on my play.google.com/console:\r\n```\r\nAndroid 8.1 (SDK 27)\r\nFATAL EXCEPTION: UIAsyncWorker\r\nProcess: com.google.android.music:main, PID: 11466\r\njava.lang.RuntimeException: Attempt to invoke interface method &#39;boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)&#39; on a null object reference\r\n\tat com.google.android.music.utils.async.CallerTracker.reThrowExceptionWithCallerStackTrack(CallerTracker.java:32)\r\n\tat com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:23)\r\n\tat com.google.android.music.utils.async.LoggedRunnable.run(LoggedRunnable.java:30)\r\n\tat android.os.Handler.handleCallback(Handler.java:790)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat com.google.android.music.utils.LoggableHandler.dispatchMessage(LoggableHandler.java:74)\r\n\tat android.os.Looper.loop(Looper.java:164)\r\n\tat android.os.HandlerThread.run(HandlerThread.java:65)\r\nCaused by: java.lang.NullPointerException: Attempt to invoke interface method &#39;boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)&#39; on a null object reference\r\n\tat com.google.android.music.tutorial.SignupStatus.checkStoreAvailable(SignupStatus.java:216)\r\n\tat com.google.android.music.tutorial.SignupStatus.doCheck(SignupStatus.java:154)\r\n\tat com.google.android.music.tutorial.SignupStatus.launchVerificationCheck(SignupStatus.java:129)\r\n\tat com.google.android.music.tutorial.SignupStatus.launchVerificationCheckWithFallbackTask(SignupStatus.java:113)\r\n\tat com.google.android.music.AccountsBroadcastReceiver$1.run(AccountsBroadcastReceiver.java:30)\r\n\tat com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:21)\r\n\t... 6 more\r\n```\r\n\r\ncom.google.android.music - is not my application.\r\n\r\nCan I fix the issue or it is a problem in the android device and not in my code?","title":"android pre-launch-report - java.lang.RuntimeException with com.google.android.finsky.services.IMarketCatalogService","body":"<p>I have received a pre-launch report on my play.google.com/console:</p>\n<pre><code>Android 8.1 (SDK 27)\nFATAL EXCEPTION: UIAsyncWorker\nProcess: com.google.android.music:main, PID: 11466\njava.lang.RuntimeException: Attempt to invoke interface method 'boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)' on a null object reference\n    at com.google.android.music.utils.async.CallerTracker.reThrowExceptionWithCallerStackTrack(CallerTracker.java:32)\n    at com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:23)\n    at com.google.android.music.utils.async.LoggedRunnable.run(LoggedRunnable.java:30)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at com.google.android.music.utils.LoggableHandler.dispatchMessage(LoggableHandler.java:74)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.os.HandlerThread.run(HandlerThread.java:65)\nCaused by: java.lang.NullPointerException: Attempt to invoke interface method 'boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)' on a null object reference\n    at com.google.android.music.tutorial.SignupStatus.checkStoreAvailable(SignupStatus.java:216)\n    at com.google.android.music.tutorial.SignupStatus.doCheck(SignupStatus.java:154)\n    at com.google.android.music.tutorial.SignupStatus.launchVerificationCheck(SignupStatus.java:129)\n    at com.google.android.music.tutorial.SignupStatus.launchVerificationCheckWithFallbackTask(SignupStatus.java:113)\n    at com.google.android.music.AccountsBroadcastReceiver$1.run(AccountsBroadcastReceiver.java:30)\n    at com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:21)\n    ... 6 more\n</code></pre>\n<p>com.google.android.music - is not my application.</p>\n<p>Can I fix the issue or it is a problem in the android device and not in my code?</p>\n"},{"tags":["java","swagger","swagger-ui","quarkus"],"comments":[{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1616935307,"post_id":66840686,"comment_id":118152634,"body_markdown":"Could you clarify how you are using swagger? Versions of libraries, for example. How and who parse your java objects to swagger documentation. Any other environment description also can be helpful.","body":"Could you clarify how you are using swagger? Versions of libraries, for example. How and who parse your java objects to swagger documentation. Any other environment description also can be helpful."},{"owner":{"account_id":20958314,"reputation":21,"user_id":15398285,"display_name":"Yuna Morgenstern"},"score":0,"creation_date":1617033130,"post_id":66840686,"comment_id":118181931,"body_markdown":"@VolodyaLombrozo I am using `io.quarkus:quarkus-smallrye-openapi` as described on https://quarkus.io/guides/openapi-swaggerui. @Schema is working only for fields. @Tag for method and classes. Now I am looking for something like @Responses to describe the return value and also something to describe the security...","body":"@VolodyaLombrozo I am using <code>io.quarkus:quarkus-smallrye-openapi</code> as described on <a href=\"https://quarkus.io/guides/openapi-swaggerui\" rel=\"nofollow noreferrer\">quarkus.io/guides/openapi-swaggerui</a>. @Schema is working only for fields. @Tag for method and classes. Now I am looking for something like @Responses to describe the return value and also something to describe the security..."},{"owner":{"account_id":20958314,"reputation":21,"user_id":15398285,"display_name":"Yuna Morgenstern"},"score":0,"creation_date":1617036562,"post_id":66840686,"comment_id":118183431,"body_markdown":"I actually found finally some documentation like this: https://ftp.fau.de/eclipse/microprofile/microprofile-open-api-1.0.1/microprofile-openapi-spec.pdf but most of the Annotations are not working as I expect. are there some examples around in the internet?","body":"I actually found finally some documentation like this: <a href=\"https://ftp.fau.de/eclipse/microprofile/microprofile-open-api-1.0.1/microprofile-openapi-spec.pdf\" rel=\"nofollow noreferrer\">ftp.fau.de/eclipse/microprofile/microprofile-open-api-1.0.1/&zwnj;&#8203;&hellip;</a> but most of the Annotations are not working as I expect. are there some examples around in the internet?"},{"owner":{"account_id":1823079,"reputation":1261,"user_id":1656663,"accept_rate":50,"display_name":"jesantana"},"score":1,"creation_date":1670259327,"post_id":66840686,"comment_id":131829770,"body_markdown":"I found this very good example https://developers.redhat.com/blog/2021/05/11/building-an-api-using-quarkus-from-the-ground-up","body":"I found this very good example <a href=\"https://developers.redhat.com/blog/2021/05/11/building-an-api-using-quarkus-from-the-ground-up\" rel=\"nofollow noreferrer\">developers.redhat.com/blog/2021/05/11/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":76507,"reputation":3223,"user_id":218971,"display_name":"Michał Zalewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671406848,"creation_date":1671406848,"answer_id":74845133,"question_id":66840686,"body_markdown":"You can use `io.quarkus:quarkus-smallrye-openapi` extension to add necessary annotations to your project. You can do it by adding dependency in Maven or Gradle.\r\n\r\nFor Gradle:\r\n```Gradle\r\nimplementation(&quot;io.quarkus:quarkus-smallrye-openapi&quot;)\r\n```\r\nFor Maven:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBy default SmallRye OpenAPI extension will check what type method return and it will use it in generated documentation. In your example it will be probably `Response` which will be converted just to empty JSON object.\r\n\r\n## Single response\r\n\r\nYou can change your code to just return MyResponseObject object from method like this:\r\n```java\r\n  @GET\r\n  @Path(&quot;/&quot;)\r\n  public MyResponseObject someMethod() {\r\n    return new MyResponseObject();\r\n  }\r\n```\r\nIn this case MyResponseObject will be automatically mapped to OpenAPI schema (all properties will be mapped to JSON object properties).\r\n\r\n## Multiple responses\r\n\r\nIf you have more than one response e.g. response with object and response with error you can use annotations. SmallRye OpenAPI extension provides two annotations for this:\r\n- `APIResponse` - for describing single response\r\n- `APIResponses` - for describing multiple responses from single method\r\n\r\nBoth from `org.eclipse.microprofile.openapi.annotations.responses` package.\r\n\r\nHere is example with two different response codes:\r\n```java\r\n@APIResponses({\r\n  @APIResponse(responseCode = &quot;204&quot;, description = &quot;Reservation confirmed&quot;),\r\n  @APIResponse(\r\n    responseCode = &quot;422&quot;,\r\n    description = &quot;Reservation can not be confirmed&quot;,\r\n    content = @Content(mediaType = APPLICATION_JSON,\r\n    schema = @Schema(implementation = GlobalError.class))\r\n  )\r\n})\r\npublic Response confirm(@PathParam(&quot;reservationId&quot;) long reservationId) {\r\n\r\n    final var result = reservationService.confirm(reservationId);\r\n\r\n    if (result.isOK()) {\r\n        return Response.status(Response.Status.NO_CONTENT).build();\r\n    } else {\r\n        return Response.status(422).entity(new GlobalError(result.getError())).build();\r\n    }\r\n}\r\n```\r\n\r\nI added two `APIResponse` annotations, one for each response code.\r\n\r\nFirst APIResponse is for 204 (reservation confirmed) and nothing is returned that&#39;s why `content` and `schema` is not set for it.\r\n\r\nSecond APIResponse is for 422 (reservation can not be confirmed). In this annotation I set custom schema with my class, which is returned when user got 422 from API. You can also add description, which will added to your API documentation and displayed in Swagger.","title":"Quarkus swagger define responses","body":"<p>You can use <code>io.quarkus:quarkus-smallrye-openapi</code> extension to add necessary annotations to your project. You can do it by adding dependency in Maven or Gradle.</p>\n<p>For Gradle:</p>\n<pre><code>implementation(&quot;io.quarkus:quarkus-smallrye-openapi&quot;)\n</code></pre>\n<p>For Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default SmallRye OpenAPI extension will check what type method return and it will use it in generated documentation. In your example it will be probably <code>Response</code> which will be converted just to empty JSON object.</p>\n<h2>Single response</h2>\n<p>You can change your code to just return MyResponseObject object from method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GET\n  @Path(&quot;/&quot;)\n  public MyResponseObject someMethod() {\n    return new MyResponseObject();\n  }\n</code></pre>\n<p>In this case MyResponseObject will be automatically mapped to OpenAPI schema (all properties will be mapped to JSON object properties).</p>\n<h2>Multiple responses</h2>\n<p>If you have more than one response e.g. response with object and response with error you can use annotations. SmallRye OpenAPI extension provides two annotations for this:</p>\n<ul>\n<li><code>APIResponse</code> - for describing single response</li>\n<li><code>APIResponses</code> - for describing multiple responses from single method</li>\n</ul>\n<p>Both from <code>org.eclipse.microprofile.openapi.annotations.responses</code> package.</p>\n<p>Here is example with two different response codes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@APIResponses({\n  @APIResponse(responseCode = &quot;204&quot;, description = &quot;Reservation confirmed&quot;),\n  @APIResponse(\n    responseCode = &quot;422&quot;,\n    description = &quot;Reservation can not be confirmed&quot;,\n    content = @Content(mediaType = APPLICATION_JSON,\n    schema = @Schema(implementation = GlobalError.class))\n  )\n})\npublic Response confirm(@PathParam(&quot;reservationId&quot;) long reservationId) {\n\n    final var result = reservationService.confirm(reservationId);\n\n    if (result.isOK()) {\n        return Response.status(Response.Status.NO_CONTENT).build();\n    } else {\n        return Response.status(422).entity(new GlobalError(result.getError())).build();\n    }\n}\n</code></pre>\n<p>I added two <code>APIResponse</code> annotations, one for each response code.</p>\n<p>First APIResponse is for 204 (reservation confirmed) and nothing is returned that's why <code>content</code> and <code>schema</code> is not set for it.</p>\n<p>Second APIResponse is for 422 (reservation can not be confirmed). In this annotation I set custom schema with my class, which is returned when user got 422 from API. You can also add description, which will added to your API documentation and displayed in Swagger.</p>\n"}],"owner":{"account_id":20958314,"reputation":21,"user_id":15398285,"display_name":"Yuna Morgenstern"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671406848,"creation_date":1616929094,"question_id":66840686,"body_markdown":"Hi I would like to define own responses like possible error responses and also defining the default response incase I build my responses by my self like `return Response.status(OK).entity(new MyResponseObject())`\r\nSomething like this: https://swagger.io/docs/specification/describing-responses/\r\nHow can I do it?","title":"Quarkus swagger define responses","body":"<p>Hi I would like to define own responses like possible error responses and also defining the default response incase I build my responses by my self like <code>return Response.status(OK).entity(new MyResponseObject())</code>\nSomething like this: <a href=\"https://swagger.io/docs/specification/describing-responses/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/describing-responses/</a>\nHow can I do it?</p>\n"},{"tags":["java","eclipse","junit","user-input"],"comments":[{"owner":{"account_id":134692,"reputation":809,"user_id":336986,"accept_rate":56,"display_name":"Markus"},"score":7,"creation_date":1308594794,"post_id":6415728,"comment_id":7525229,"body_markdown":"What are you testing, exactly? Scanner? A test method should typically assert something to be useful.","body":"What are you testing, exactly? Scanner? A test method should typically assert something to be useful."},{"owner":{"account_id":308413,"reputation":3940,"user_id":620273,"accept_rate":93,"display_name":"blong824"},"score":2,"creation_date":1308594972,"post_id":6415728,"comment_id":7525279,"body_markdown":"You shouldn&#39;t have to test Java&#39;s Scanner class.  You could manually set your input and simply test your own logic.\n\n    int input = -1 or 5 or 11\n\nwill cover your logic","body":"You shouldn&#39;t have to test Java&#39;s Scanner class.  You could manually set your input and simply test your own logic.      int input = -1 or 5 or 11  will cover your logic"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":3,"creation_date":1496597642,"post_id":6415728,"comment_id":75715830,"body_markdown":"Six years later... and it&#39;s still a good question.  Not least because when starting to develop an app you may typically not want to have all the bells and whistles of JavaFX, but instead just start using the humble command line for a bit of very basic interaction.  Shame that JUnit doesn&#39;t make this quite a bit easier.  For me Omar Elshal&#39;s answer is very nice, with minimal &quot;contrived&quot; or &quot;distorted&quot; app coding involved...","body":"Six years later... and it&#39;s still a good question.  Not least because when starting to develop an app you may typically not want to have all the bells and whistles of JavaFX, but instead just start using the humble command line for a bit of very basic interaction.  Shame that JUnit doesn&#39;t make this quite a bit easier.  For me Omar Elshal&#39;s answer is very nice, with minimal &quot;contrived&quot; or &quot;distorted&quot; app coding involved..."}],"answers":[{"tags":[],"owner":{"account_id":62983,"reputation":1365,"user_id":186742,"accept_rate":79,"display_name":"Sarah Haskins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308595383,"creation_date":1308595383,"answer_id":6415866,"question_id":6415728,"body_markdown":"You might start by extracting out the logic that retrieves the number from the keyboard into its own method.  Then you can test the validation logic without worrying about the keyboard.  In order to test the keyboard.nextInt() call you may want to consider using a mock object.","title":"JUnit testing with simulated user input","body":"<p>You might start by extracting out the logic that retrieves the number from the keyboard into its own method.  Then you can test the validation logic without worrying about the keyboard.  In order to test the keyboard.nextInt() call you may want to consider using a mock object.</p>\n"},{"tags":[],"owner":{"account_id":242871,"reputation":4296,"user_id":514687,"accept_rate":62,"display_name":"KrzyH"},"down_vote_count":1,"up_vote_count":124,"is_accepted":true,"score":123,"last_activity_date":1572121948,"creation_date":1308597071,"answer_id":6416179,"question_id":6415728,"body_markdown":"You can replace [System.in with you own stream by calling System.setIn(InputStream in)][1].\r\nInputStream can be a byte array:\r\n\r\n    InputStream sysInBackup = System.in; // backup System.in to restore it later\r\n    ByteArrayInputStream in = new ByteArrayInputStream(&quot;My string&quot;.getBytes());\r\n    System.setIn(in);\r\n\r\n    // do your thing\r\n\r\n    // optionally, reset System.in to its original\r\n    System.setIn(sysInBackup);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/System.html#setIn%28java.io.InputStream%29\r\n\r\n\r\n\r\nDifferent approach can be make this method more testable by passing IN and OUT as parameters:\r\n\r\n    public static int testUserInput(InputStream in,PrintStream out) {\r\n        Scanner keyboard = new Scanner(in);\r\n        out.println(&quot;Give a number between 1 and 10&quot;);\r\n        int input = keyboard.nextInt();\r\n\r\n        while (input &lt; 1 || input &gt; 10) {\r\n            out.println(&quot;Wrong number, try again.&quot;);\r\n            input = keyboard.nextInt();\r\n        }\r\n\r\n        return input;\r\n    }\r\n","title":"JUnit testing with simulated user input","body":"<p>You can replace <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/System.html#setIn%28java.io.InputStream%29\" rel=\"noreferrer\">System.in with you own stream by calling System.setIn(InputStream in)</a>.\nInputStream can be a byte array:</p>\n\n<pre><code>InputStream sysInBackup = System.in; // backup System.in to restore it later\nByteArrayInputStream in = new ByteArrayInputStream(\"My string\".getBytes());\nSystem.setIn(in);\n\n// do your thing\n\n// optionally, reset System.in to its original\nSystem.setIn(sysInBackup);\n</code></pre>\n\n<p>Different approach can be make this method more testable by passing IN and OUT as parameters:</p>\n\n<pre><code>public static int testUserInput(InputStream in,PrintStream out) {\n    Scanner keyboard = new Scanner(in);\n    out.println(\"Give a number between 1 and 10\");\n    int input = keyboard.nextInt();\n\n    while (input &lt; 1 || input &gt; 10) {\n        out.println(\"Wrong number, try again.\");\n        input = keyboard.nextInt();\n    }\n\n    return input;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412643,"reputation":699,"user_id":785809,"display_name":"massfords"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308598176,"creation_date":1308598176,"answer_id":6416376,"question_id":6415728,"body_markdown":"I&#39;ve found it helpful to create an interface that defines methods similar to java.io.Console and then use that for reading or writing to the System.out. The real implementation will delegate to System.console() while your JUnit version can be a mock object with canned input and expected responses.\r\n\r\nFor example, you&#39;d construct a MockConsole that contained the canned input from the user. The mock implementation would pop an input string off the list each time readLine was called. It would also gather all of the output written to a list of responses. At the end of the test, if all went well, then all of your input would have been read and you can assert on the output.\r\n\r\n","title":"JUnit testing with simulated user input","body":"<p>I've found it helpful to create an interface that defines methods similar to java.io.Console and then use that for reading or writing to the System.out. The real implementation will delegate to System.console() while your JUnit version can be a mock object with canned input and expected responses.</p>\n\n<p>For example, you'd construct a MockConsole that contained the canned input from the user. The mock implementation would pop an input string off the list each time readLine was called. It would also gather all of the output written to a list of responses. At the end of the test, if all went well, then all of your input would have been read and you can assert on the output.</p>\n"},{"tags":[],"owner":{"account_id":267053,"reputation":29694,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1308651222,"creation_date":1308599199,"answer_id":6416591,"question_id":6415728,"body_markdown":"To test drive your code, you should create a wrapper for system input/output functions.  You can do this using dependency injection, giving us a class that can ask for new integers:\r\n\r\n    public static class IntegerAsker {\r\n    \tprivate final Scanner scanner;\r\n    \tprivate final PrintStream out;\r\n    \r\n    \tpublic IntegerAsker(InputStream in, PrintStream out) {\r\n    \t\tscanner = new Scanner(in);\r\n    \t\tthis.out = out;\r\n    \t}\r\n    \r\n    \tpublic int ask(String message) {\r\n    \t\tout.println(message);\r\n    \t\treturn scanner.nextInt();\r\n    \t}\r\n    }\r\n\r\nThen you can create tests for your function, using a mock framework (I use Mockito):\r\n\r\n    @Test\r\n    public void getsIntegerWhenWithinBoundsOfOneToTen() throws Exception {\r\n    \tIntegerAsker asker = mock(IntegerAsker.class);\r\n    \twhen(asker.ask(anyString())).thenReturn(3);\r\n    \r\n    \tassertEquals(getBoundIntegerFromUser(asker), 3);\r\n    }\r\n    \r\n    @Test\r\n    public void asksForNewIntegerWhenOutsideBoundsOfOneToTen() throws Exception {\r\n    \tIntegerAsker asker = mock(IntegerAsker.class);\r\n    \twhen(asker.ask(&quot;Give a number between 1 and 10&quot;)).thenReturn(99);\r\n    \twhen(asker.ask(&quot;Wrong number, try again.&quot;)).thenReturn(3);\r\n    \r\n    \tgetBoundIntegerFromUser(asker);\r\n    \r\n    \tverify(asker).ask(&quot;Wrong number, try again.&quot;);\r\n    }\r\n\r\nThen write your function that passes the tests.  The function is much cleaner since you can remove the asking/getting integer duplication and the actual system calls are encapsulated.\r\n    \t\r\n    public static void main(String[] args) {\r\n    \tgetBoundIntegerFromUser(new IntegerAsker(System.in, System.out));\r\n    }\r\n    \r\n    public static int getBoundIntegerFromUser(IntegerAsker asker) {\r\n    \tint input = asker.ask(&quot;Give a number between 1 and 10&quot;);\r\n    \twhile (input &lt; 1 || input &gt; 10)\r\n    \t\tinput = asker.ask(&quot;Wrong number, try again.&quot;);\r\n    \treturn input;\r\n    }\r\n\r\nThis may seem like overkill for your small example, but if you are building a larger application developing like this can payoff rather quickly.","title":"JUnit testing with simulated user input","body":"<p>To test drive your code, you should create a wrapper for system input/output functions.  You can do this using dependency injection, giving us a class that can ask for new integers:</p>\n\n<pre><code>public static class IntegerAsker {\n    private final Scanner scanner;\n    private final PrintStream out;\n\n    public IntegerAsker(InputStream in, PrintStream out) {\n        scanner = new Scanner(in);\n        this.out = out;\n    }\n\n    public int ask(String message) {\n        out.println(message);\n        return scanner.nextInt();\n    }\n}\n</code></pre>\n\n<p>Then you can create tests for your function, using a mock framework (I use Mockito):</p>\n\n<pre><code>@Test\npublic void getsIntegerWhenWithinBoundsOfOneToTen() throws Exception {\n    IntegerAsker asker = mock(IntegerAsker.class);\n    when(asker.ask(anyString())).thenReturn(3);\n\n    assertEquals(getBoundIntegerFromUser(asker), 3);\n}\n\n@Test\npublic void asksForNewIntegerWhenOutsideBoundsOfOneToTen() throws Exception {\n    IntegerAsker asker = mock(IntegerAsker.class);\n    when(asker.ask(\"Give a number between 1 and 10\")).thenReturn(99);\n    when(asker.ask(\"Wrong number, try again.\")).thenReturn(3);\n\n    getBoundIntegerFromUser(asker);\n\n    verify(asker).ask(\"Wrong number, try again.\");\n}\n</code></pre>\n\n<p>Then write your function that passes the tests.  The function is much cleaner since you can remove the asking/getting integer duplication and the actual system calls are encapsulated.</p>\n\n<pre><code>public static void main(String[] args) {\n    getBoundIntegerFromUser(new IntegerAsker(System.in, System.out));\n}\n\npublic static int getBoundIntegerFromUser(IntegerAsker asker) {\n    int input = asker.ask(\"Give a number between 1 and 10\");\n    while (input &lt; 1 || input &gt; 10)\n        input = asker.ask(\"Wrong number, try again.\");\n    return input;\n}\n</code></pre>\n\n<p>This may seem like overkill for your small example, but if you are building a larger application developing like this can payoff rather quickly.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482319642,"creation_date":1398741081,"answer_id":23354771,"question_id":6415728,"body_markdown":"One common way to test similar code would be to extract a method that takes in a Scanner and a PrintWriter, similar to [this StackOverflow answer][test-parameters], and test that:\r\n\r\n    public void processUserInput() {\r\n      processUserInput(new Scanner(System.in), System.out);\r\n    }\r\n\r\n    /** For testing. Package-private if possible. */\r\n    public void processUserInput(Scanner scanner, PrintWriter output) {\r\n      output.println(&quot;Give a number between 1 and 10&quot;);\r\n      int input = scanner.nextInt();\r\n\r\n      while (input &lt; 1 || input &gt; 10) {\r\n        output.println(&quot;Wrong number, try again.&quot;);\r\n        input = scanner.nextInt();\r\n      }\r\n\r\n      return input;\r\n    }\r\n\r\nDo note that you won&#39;t be able to read your output until the end, and you&#39;ll have to specify all of your input up front:\r\n\r\n    @Test\r\n    public void shouldProcessUserInput() {\r\n      StringWriter output = new StringWriter();\r\n      String input = &quot;11\\n&quot;       // &quot;Wrong number, try again.&quot;\r\n                   + &quot;10\\n&quot;;\r\n\r\n      assertEquals(10, systemUnderTest.processUserInput(\r\n          new Scanner(input), new PrintWriter(output)));\r\n\r\n      assertThat(output.toString(), contains(&quot;Wrong number, try again.&quot;)););\r\n    }\r\n\r\nOf course, rather than creating an overload method, you could also keep the &quot;scanner&quot; and &quot;output&quot; as mutable fields in your system under test. I tend to like keeping classes as stateless as possible, but that&#39;s not a very big concession if it matters to you or your coworkers/instructor.\n\nYou might also choose to put your test code in the same Java package as the code under test (even if it&#39;s in a different source folder), which allows you to relax the visibility of the two parameter overload to be package-private.\r\n\r\n[test-parameters]: https://stackoverflow.com/q/13329282/1426891\r\n","title":"JUnit testing with simulated user input","body":"<p>One common way to test similar code would be to extract a method that takes in a Scanner and a PrintWriter, similar to <a href=\"https://stackoverflow.com/q/13329282/1426891\">this StackOverflow answer</a>, and test that:</p>\n\n<pre><code>public void processUserInput() {\n  processUserInput(new Scanner(System.in), System.out);\n}\n\n/** For testing. Package-private if possible. */\npublic void processUserInput(Scanner scanner, PrintWriter output) {\n  output.println(\"Give a number between 1 and 10\");\n  int input = scanner.nextInt();\n\n  while (input &lt; 1 || input &gt; 10) {\n    output.println(\"Wrong number, try again.\");\n    input = scanner.nextInt();\n  }\n\n  return input;\n}\n</code></pre>\n\n<p>Do note that you won't be able to read your output until the end, and you'll have to specify all of your input up front:</p>\n\n<pre><code>@Test\npublic void shouldProcessUserInput() {\n  StringWriter output = new StringWriter();\n  String input = \"11\\n\"       // \"Wrong number, try again.\"\n               + \"10\\n\";\n\n  assertEquals(10, systemUnderTest.processUserInput(\n      new Scanner(input), new PrintWriter(output)));\n\n  assertThat(output.toString(), contains(\"Wrong number, try again.\")););\n}\n</code></pre>\n\n<p>Of course, rather than creating an overload method, you could also keep the \"scanner\" and \"output\" as mutable fields in your system under test. I tend to like keeping classes as stateless as possible, but that's not a very big concession if it matters to you or your coworkers/instructor.</p>\n\n<p>You might also choose to put your test code in the same Java package as the code under test (even if it's in a different source folder), which allows you to relax the visibility of the two parameter overload to be package-private.</p>\n"},{"tags":[],"owner":{"account_id":3541860,"reputation":43,"user_id":2958716,"display_name":"Omar Elshal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572122121,"creation_date":1479240966,"answer_id":40618901,"question_id":6415728,"body_markdown":"I managed to find a simpler way. However, you have to use external library [System.rules][1] by @Stefan Birkner\r\n\r\nI just took the example provided there, I think it couldn&#39;t have gotten more simpler:\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Summarize {\r\n      public static int sumOfNumbersFromSystemIn() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int firstSummand = scanner.nextInt();\r\n        int secondSummand = scanner.nextInt();\r\n        return firstSummand + secondSummand;\r\n      }\r\n    }\r\n\r\nTest\r\n    \r\n    import static org.junit.Assert.*;\r\n    import static org.junit.contrib.java.lang.system.TextFromStandardInputStream.*;\r\n    \r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.contrib.java.lang.system.TextFromStandardInputStream;\r\n    \r\n    public class SummarizeTest {\r\n      @Rule\r\n      public final TextFromStandardInputStream systemInMock\r\n        = emptyStandardInputStream();\r\n    \r\n      @Test\r\n      public void summarizesTwoNumbers() {\r\n        systemInMock.provideLines(&quot;1&quot;, &quot;2&quot;);\r\n        assertEquals(3, Summarize.sumOfNumbersFromSystemIn());\r\n      }\r\n    }\r\n\r\nThe problem however in my case my second input has spaces and this makes the whole input stream null!\r\n\r\n  [1]: http://stefanbirkner.github.io/system-rules/","title":"JUnit testing with simulated user input","body":"<p>I managed to find a simpler way. However, you have to use external library <a href=\"http://stefanbirkner.github.io/system-rules/\" rel=\"nofollow noreferrer\">System.rules</a> by @Stefan Birkner</p>\n\n<p>I just took the example provided there, I think it couldn't have gotten more simpler:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Summarize {\n  public static int sumOfNumbersFromSystemIn() {\n    Scanner scanner = new Scanner(System.in);\n    int firstSummand = scanner.nextInt();\n    int secondSummand = scanner.nextInt();\n    return firstSummand + secondSummand;\n  }\n}\n</code></pre>\n\n<p>Test</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport static org.junit.contrib.java.lang.system.TextFromStandardInputStream.*;\n\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.contrib.java.lang.system.TextFromStandardInputStream;\n\npublic class SummarizeTest {\n  @Rule\n  public final TextFromStandardInputStream systemInMock\n    = emptyStandardInputStream();\n\n  @Test\n  public void summarizesTwoNumbers() {\n    systemInMock.provideLines(\"1\", \"2\");\n    assertEquals(3, Summarize.sumOfNumbersFromSystemIn());\n  }\n}\n</code></pre>\n\n<p>The problem however in my case my second input has spaces and this makes the whole input stream null!</p>\n"},{"tags":[],"owner":{"account_id":8218231,"reputation":383,"user_id":6183754,"display_name":"Javier Guti&#233;rrez-Maturana S&#225;nc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490630964,"creation_date":1490554068,"answer_id":43033062,"question_id":6415728,"body_markdown":"I have fixed the problem about read from stdin to simulate a console...\r\n\r\nMy problems was I&#39;d like try write in JUnit test the console to create a certain object...\r\n\r\nThe problem is like all you say : How Can I write in the Stdin from JUnit test?\r\n\r\nThen at college I learn about redirections like you say System.setIn(InputStream) change the stdin filedescriptor and you can write in then...\r\n\r\nBut there is one more proble to fix... the JUnit test block waiting read from your new InputStream, so you need create a thread to read from the InputStream and from JUnit test Thread write in the new Stdin... First you have to write in the Stdin because if you write later of create the Thread to read from stdin you likely will have race Conditions... you can write in the InputStream before to read or you can read from InputStream before write...\r\n\r\nThis is my code, my english skill is bad I hope all you can understand the problem and the solution to simulate write in stdin from JUnit test.\r\n\t\r\n    private void readFromConsole(String data) throws InterruptedException {\r\n\t\tSystem.setIn(new ByteArrayInputStream(data.getBytes()));\r\n\r\n\t\tThread rC = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tstudy = new Study();\r\n\t\t\t\tstudy.read(System.in);\r\n\t\t\t}\r\n\t\t};\r\n\t\trC.start();\r\n\t\trC.join();\t\t\r\n\t}","title":"JUnit testing with simulated user input","body":"<p>I have fixed the problem about read from stdin to simulate a console...</p>\n\n<p>My problems was I'd like try write in JUnit test the console to create a certain object...</p>\n\n<p>The problem is like all you say : How Can I write in the Stdin from JUnit test?</p>\n\n<p>Then at college I learn about redirections like you say System.setIn(InputStream) change the stdin filedescriptor and you can write in then...</p>\n\n<p>But there is one more proble to fix... the JUnit test block waiting read from your new InputStream, so you need create a thread to read from the InputStream and from JUnit test Thread write in the new Stdin... First you have to write in the Stdin because if you write later of create the Thread to read from stdin you likely will have race Conditions... you can write in the InputStream before to read or you can read from InputStream before write...</p>\n\n<p>This is my code, my english skill is bad I hope all you can understand the problem and the solution to simulate write in stdin from JUnit test.</p>\n\n<pre><code>private void readFromConsole(String data) throws InterruptedException {\n    System.setIn(new ByteArrayInputStream(data.getBytes()));\n\n    Thread rC = new Thread() {\n        @Override\n        public void run() {\n            study = new Study();\n            study.read(System.in);\n        }\n    };\n    rC.start();\n    rC.join();      \n}\n</code></pre>\n"}],"owner":{"account_id":399119,"reputation":1081,"user_id":764243,"display_name":"Wimpey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142028,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":6416179,"answer_count":7,"score":97,"last_activity_date":1671405069,"creation_date":1308594500,"question_id":6415728,"body_markdown":"I am trying to create some JUnit tests for a method that requires user input. The method under test looks somewhat like the following method:\r\n\r\n\r\n    public static int testUserInput() {\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Give a number between 1 and 10&quot;);\r\n\t\tint input = keyboard.nextInt();\r\n\r\n\t\twhile (input &lt; 1 || input &gt; 10) {\r\n\t\t\tSystem.out.println(&quot;Wrong number, try again.&quot;);\r\n\t\t\tinput = keyboard.nextInt();\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t}\r\n\r\nIs there a possible way to automatically pass the program an int instead of me or someone else doing this manually in the JUnit test method? Like simulating the user input?","title":"JUnit testing with simulated user input","body":"<p>I am trying to create some JUnit tests for a method that requires user input. The method under test looks somewhat like the following method:</p>\n<pre><code>public static int testUserInput() {\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(&quot;Give a number between 1 and 10&quot;);\n    int input = keyboard.nextInt();\n\n    while (input &lt; 1 || input &gt; 10) {\n        System.out.println(&quot;Wrong number, try again.&quot;);\n        input = keyboard.nextInt();\n    }\n\n    return input;\n}\n</code></pre>\n<p>Is there a possible way to automatically pass the program an int instead of me or someone else doing this manually in the JUnit test method? Like simulating the user input?</p>\n"},{"tags":["java","android","maven","android-studio"],"comments":[{"owner":{"account_id":4587178,"reputation":5937,"user_id":5096562,"accept_rate":57,"display_name":"MetaSnarf"},"score":1,"creation_date":1462430337,"post_id":37020413,"comment_id":61636642,"body_markdown":"I&#39;m currently facing this error right now. Any luck for solutions?","body":"I&#39;m currently facing this error right now. Any luck for solutions?"},{"owner":{"account_id":5665843,"reputation":2024,"user_id":4482052,"accept_rate":19,"display_name":"Suresh Kumar"},"score":0,"creation_date":1462449296,"post_id":37020413,"comment_id":61647314,"body_markdown":"Me too updated Android Studio to 2.1. Since then I am facing this problem. Did you got any solution?","body":"Me too updated Android Studio to 2.1. Since then I am facing this problem. Did you got any solution?"},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1462466344,"post_id":37020413,"comment_id":61658619,"body_markdown":"An earlier error message (that has since gone away) suggests that the pubnub jar file was part of the problem.  So we commented out every reference to pubnub and it now compiles and runs.   I believe the error message went away when we added the compiler directives (shown above) to force the code to &quot;1.7&quot;, however it seems that some of the 1.8 code was still leaking through.","body":"An earlier error message (that has since gone away) suggests that the pubnub jar file was part of the problem.  So we commented out every reference to pubnub and it now compiles and runs.   I believe the error message went away when we added the compiler directives (shown above) to force the code to &quot;1.7&quot;, however it seems that some of the 1.8 code was still leaking through."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1462466496,"post_id":37020413,"comment_id":61658694,"body_markdown":"Here is another SO discussion which relates: http://stackoverflow.com/questions/36968728/android-studio-testing-library-dependencies-that-have-been-compiled-using-java.  But which does not answer the question, other than to say &quot;start with a simpler test project&quot;.","body":"Here is another SO discussion which relates: <a href=\"http://stackoverflow.com/questions/36968728/android-studio-testing-library-dependencies-that-have-been-compiled-using-java\" title=\"android studio testing library dependencies that have been compiled using java\">stackoverflow.com/questions/36968728/&hellip;</a>.  But which does not answer the question, other than to say &quot;start with a simpler test project&quot;."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":1,"creation_date":1463988135,"post_id":37020413,"comment_id":62279867,"body_markdown":"The only thing we did was to pull out the PubNub library and replace with an older verison.  That seemed to fix it.  But in this case, we tested by commenting out the library import and its method calls and determining that it was at fault.  But the PubNub library was loosely integrated and we could comment it out pretty easily.  If we had many libraries with tight integration, it would be painful.","body":"The only thing we did was to pull out the PubNub library and replace with an older verison.  That seemed to fix it.  But in this case, we tested by commenting out the library import and its method calls and determining that it was at fault.  But the PubNub library was loosely integrated and we could comment it out pretty easily.  If we had many libraries with tight integration, it would be painful."}],"answers":[{"tags":[],"owner":{"account_id":5847064,"reputation":420,"user_id":4606884,"accept_rate":80,"display_name":"fobo66"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1462919684,"creation_date":1462919684,"answer_id":37150037,"question_id":37020413,"body_markdown":"Possibly, some of your dependencies was compiled with Java 8, not for Android especially. Try to switch that dependencies to older version. I don&#39;t exactly know which library you should downgrade, because you haven&#39;t attached a list of dependencies of your main module.\r\n\r\nFor example: I had the same problem. After hours of searching, I&#39;ve found that library `org.codehaus.httpcache4j.uribuilder:2.0.0` requires Java 8, as of [github][1]. So, when i&#39;ve switched to `1.1.0`, project has been successfully builded and deployed.\r\n\r\n\r\n  [1]: https://github.com/httpcache4j/uribuilder","title":"Android: Dex cannot parse version 52 byte code","body":"<p>Possibly, some of your dependencies was compiled with Java 8, not for Android especially. Try to switch that dependencies to older version. I don't exactly know which library you should downgrade, because you haven't attached a list of dependencies of your main module.</p>\n\n<p>For example: I had the same problem. After hours of searching, I've found that library <code>org.codehaus.httpcache4j.uribuilder:2.0.0</code> requires Java 8, as of <a href=\"https://github.com/httpcache4j/uribuilder\" rel=\"noreferrer\">github</a>. So, when i've switched to <code>1.1.0</code>, project has been successfully builded and deployed.</p>\n"},{"tags":[],"owner":{"account_id":8465685,"reputation":1084,"user_id":6349915,"display_name":"foolcage"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1506317343,"creation_date":1463561829,"answer_id":37294741,"question_id":37020413,"body_markdown":"just use java 1.8 with Android Studio 3.0+ and set following works for me:\r\nit seems need the latest build tools \r\n\r\n    classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n\r\n\r\nand\r\n\r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &quot;26.0.1&quot;\r\n    \r\n        defaultConfig {\r\n            ...        \r\n            //jackOptions { // DEPRECATED\r\n                //enabled true\r\n            //}\r\n        }\r\n        dexOptions {\r\n            incremental true\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n\r\n","title":"Android: Dex cannot parse version 52 byte code","body":"<p>just use java 1.8 with Android Studio 3.0+ and set following works for me:\nit seems need the latest build tools </p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>android {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n\n    defaultConfig {\n        ...        \n        //jackOptions { // DEPRECATED\n            //enabled true\n        //}\n    }\n    dexOptions {\n        incremental true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648279,"reputation":916,"user_id":1519361,"accept_rate":60,"display_name":"Hesham Fas"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1507136243,"creation_date":1464139440,"answer_id":37426385,"question_id":37020413,"body_markdown":"If you have a module with a java library that is **not Android-specific**, this should work: `apply plugin:&#39;java&#39;`\r\n\r\nPut it at the top of the build.gradle file, then rebuild.   \r\n\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;jacoco&#39;\r\n        \r\n        dependencies {\r\n            compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n            testCompile &#39;junit:junit:4.11&#39;\r\n        \r\n            sourceCompatibility = 1.7\r\n            targetCompatibility = 1.7\r\n        }","title":"Android: Dex cannot parse version 52 byte code","body":"<p>If you have a module with a java library that is <strong>not Android-specific</strong>, this should work: <code>apply plugin:'java'</code></p>\n\n<p>Put it at the top of the build.gradle file, then rebuild.   </p>\n\n<pre><code>    apply plugin: 'java'\n    apply plugin: 'jacoco'\n\n    dependencies {\n        compile fileTree(dir: 'libs', include: ['*.jar'])\n        testCompile 'junit:junit:4.11'\n\n        sourceCompatibility = 1.7\n        targetCompatibility = 1.7\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583083,"reputation":846,"user_id":2990802,"display_name":"0wl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1478043205,"creation_date":1469571282,"answer_id":38600749,"question_id":37020413,"body_markdown":"If you use `org.jetbrains:annotation:15` and retrolambda plugin then remove line `compile org.jetbrains:annotations:15.0` from your `build.gradle` and the error will disappear. It works for me.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>If you use <code>org.jetbrains:annotation:15</code> and retrolambda plugin then remove line <code>compile org.jetbrains:annotations:15.0</code> from your <code>build.gradle</code> and the error will disappear. It works for me.</p>\n"},{"tags":[],"owner":{"account_id":3282112,"reputation":467,"user_id":2762461,"display_name":"Riccardo Leschiutta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473362826,"creation_date":1473362826,"answer_id":39398761,"question_id":37020413,"body_markdown":"I had the same problem with the greendao-generator dependency. I mistakenly added that dependency into my build.gradle (`compile &#39;org.greenrobot:greendao-generator:3.1.0&#39;`) and AndroidStudio showed me the same error message.\r\n\r\nProbably it&#39;s because that module has been compiled with Java 8.\r\n\r\nSo I removed that dependency from my build.gradle and all compiled happily :)\r\n","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I had the same problem with the greendao-generator dependency. I mistakenly added that dependency into my build.gradle (<code>compile 'org.greenrobot:greendao-generator:3.1.0'</code>) and AndroidStudio showed me the same error message.</p>\n\n<p>Probably it's because that module has been compiled with Java 8.</p>\n\n<p>So I removed that dependency from my build.gradle and all compiled happily :)</p>\n"},{"tags":[],"owner":{"account_id":8346632,"reputation":21,"user_id":6270136,"display_name":"李歆扬"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474450870,"creation_date":1474450870,"answer_id":39612894,"question_id":37020413,"body_markdown":"I solved this problem as belowed :\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    sourceCompatibility = 1.7\r\n    targetCompatibility = 1.7\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    }","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I solved this problem as belowed :</p>\n\n<pre><code>apply plugin: 'java'\n\nsourceCompatibility = 1.7\ntargetCompatibility = 1.7\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1659927,"reputation":166,"user_id":1528408,"display_name":"Stephan Bezoen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479372910,"creation_date":1479372910,"answer_id":40650398,"question_id":37020413,"body_markdown":"Switching off Instant Run in Android Studio 2.2 with Gradle plugin 2.2.2 fixed it for me. Switching back to an older version of the Gradle plugin (such as 2.2.0) also fixed it, but that&#39;s less desirable imho.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>Switching off Instant Run in Android Studio 2.2 with Gradle plugin 2.2.2 fixed it for me. Switching back to an older version of the Gradle plugin (such as 2.2.0) also fixed it, but that's less desirable imho.</p>\n"},{"tags":[],"owner":{"account_id":2801511,"reputation":443,"user_id":2409677,"display_name":"vitalinvent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1489484775,"creation_date":1489484775,"answer_id":42782513,"question_id":37020413,"body_markdown":"Try to add to main build.gradle in section **allprojects**\r\n\r\n    tasks.withType(JavaCompile) {\r\n        sourceCompatibility = &quot;1.7&quot;\r\n        targetCompatibility = &quot;1.7&quot;\r\n    }\r\n\r\nor add this in *dependencies*\r\n\r\n        sourceCompatibility = 1.7\r\n        targetCompatibility = 1.7\r\n\r\nin ***all modules*** manually","title":"Android: Dex cannot parse version 52 byte code","body":"<p>Try to add to main build.gradle in section <strong>allprojects</strong></p>\n\n<pre><code>tasks.withType(JavaCompile) {\n    sourceCompatibility = \"1.7\"\n    targetCompatibility = \"1.7\"\n}\n</code></pre>\n\n<p>or add this in <em>dependencies</em></p>\n\n<pre><code>    sourceCompatibility = 1.7\n    targetCompatibility = 1.7\n</code></pre>\n\n<p>in <strong><em>all modules</em></strong> manually</p>\n"},{"tags":[],"owner":{"account_id":2385230,"reputation":71,"user_id":2086341,"display_name":"Faisal Ali"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501672709,"creation_date":1501672299,"answer_id":45459254,"question_id":37020413,"body_markdown":"I was able to solve this issue by adding the following lines:\r\n\r\n    jackOptions {\r\n        enabled true\r\n    }\r\n\r\nto `defaultConfig` in `build.gradle` file.\r\n\r\nYou can follow the guidelines for Java 8 on the link - \r\nhttps://developer.android.com/guide/platform/j8-jack.html","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I was able to solve this issue by adding the following lines:</p>\n\n<pre><code>jackOptions {\n    enabled true\n}\n</code></pre>\n\n<p>to <code>defaultConfig</code> in <code>build.gradle</code> file.</p>\n\n<p>You can follow the guidelines for Java 8 on the link - \n<a href=\"https://developer.android.com/guide/platform/j8-jack.html\" rel=\"noreferrer\">https://developer.android.com/guide/platform/j8-jack.html</a></p>\n"},{"tags":[],"owner":{"account_id":1496202,"reputation":666,"user_id":1402087,"display_name":"mp501"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505157445,"creation_date":1505157445,"answer_id":46162939,"question_id":37020413,"body_markdown":"This happened to me with Android Studio 2.3.3. The solution I found was to delete the build folder and then **Rebuild Project**. It was as simple as that.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>This happened to me with Android Studio 2.3.3. The solution I found was to delete the build folder and then <strong>Rebuild Project</strong>. It was as simple as that.</p>\n"},{"tags":[],"owner":{"account_id":2324699,"reputation":570,"user_id":2039497,"display_name":"Aleksander Niedziolko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506350364,"creation_date":1506350364,"answer_id":46407919,"question_id":37020413,"body_markdown":"I have come across this issue when trying to upgrade to auto-value v 1.5 in Android Studio v 2.3.3. Auto-value 1.5 will presumably be compatible with AS 3 (It requires an updated java compiler)\r\n\r\nFor now auto-value 1.4.1 works.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I have come across this issue when trying to upgrade to auto-value v 1.5 in Android Studio v 2.3.3. Auto-value 1.5 will presumably be compatible with AS 3 (It requires an updated java compiler)</p>\n\n<p>For now auto-value 1.4.1 works.</p>\n"},{"tags":[],"owner":{"account_id":293195,"reputation":12980,"user_id":596370,"accept_rate":75,"display_name":"rashok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507530707,"creation_date":1507530707,"answer_id":46640079,"question_id":37020413,"body_markdown":"I also faced same error in `Android 2.3.3`, after adding few JAR depencies. Problem was due to the depenecy `io.netty:netty-all:4.1.16.Final`. This 4.1.16 version JAR was compiled with Java 1.8 and all others was generated with Java 1.7.\r\n\r\nThis get resolved, after including older version of `netty`(which was generated with Java 1.7) in my `build.gradle` file. \r\n\r\n`compile &#39;io.netty:netty-all:4.1.5.Final&#39;`","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I also faced same error in <code>Android 2.3.3</code>, after adding few JAR depencies. Problem was due to the depenecy <code>io.netty:netty-all:4.1.16.Final</code>. This 4.1.16 version JAR was compiled with Java 1.8 and all others was generated with Java 1.7.</p>\n\n<p>This get resolved, after including older version of <code>netty</code>(which was generated with Java 1.7) in my <code>build.gradle</code> file. </p>\n\n<p><code>compile 'io.netty:netty-all:4.1.5.Final'</code></p>\n"},{"tags":[],"owner":{"account_id":8263343,"reputation":66,"user_id":6213882,"display_name":"Divyam Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513768799,"creation_date":1513768799,"answer_id":47904834,"question_id":37020413,"body_markdown":"I face the same issue with [Reactive Location APIs Library for Android and RxJava 2][1].Just update build.gradle to 3.0.1 and reduce the  [Reactive Location APIs Library for Android and RxJava 2][1] library version from 1.0.4 to 1.0.3\r\nIt works fine in my case.\r\n\r\n  [1]: https://github.com/patloew/RxLocation","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I face the same issue with <a href=\"https://github.com/patloew/RxLocation\" rel=\"nofollow noreferrer\">Reactive Location APIs Library for Android and RxJava 2</a>.Just update build.gradle to 3.0.1 and reduce the  <a href=\"https://github.com/patloew/RxLocation\" rel=\"nofollow noreferrer\">Reactive Location APIs Library for Android and RxJava 2</a> library version from 1.0.4 to 1.0.3\nIt works fine in my case.</p>\n"},{"tags":[],"owner":{"account_id":2669715,"reputation":11,"user_id":2307372,"display_name":"uncle long"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517295349,"creation_date":1517295349,"answer_id":48515593,"question_id":37020413,"body_markdown":"I have come across this issue when trying to import a jar compiled by jdk 1.8 in Android Studio 3.0. I tried all above solution, but none work. so, I asked the developer of that jar to re-compile it with jdk 1.7, and then it work well, not come across this issue again.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I have come across this issue when trying to import a jar compiled by jdk 1.8 in Android Studio 3.0. I tried all above solution, but none work. so, I asked the developer of that jar to re-compile it with jdk 1.7, and then it work well, not come across this issue again.</p>\n"},{"tags":[],"owner":{"account_id":6584344,"reputation":714,"user_id":5087570,"accept_rate":35,"display_name":"Kanika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534871595,"creation_date":1534871595,"answer_id":51953698,"question_id":37020413,"body_markdown":"If possible for you:\r\n\r\n 1. Upgrade android tools to: classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n 2. buildToolsVersion &quot;26.0.2&quot;\r\n\r\nThis should take care of the issue.\r\n\r\nReference: https://developer.android.com/studio/write/java8-support","title":"Android: Dex cannot parse version 52 byte code","body":"<p>If possible for you:</p>\n\n<ol>\n<li>Upgrade android tools to: classpath 'com.android.tools.build:gradle:3.0.0'</li>\n<li>buildToolsVersion \"26.0.2\"</li>\n</ol>\n\n<p>This should take care of the issue.</p>\n\n<p>Reference: <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support</a></p>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88617,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":37294741,"answer_count":15,"score":95,"last_activity_date":1671404959,"creation_date":1462344483,"question_id":37020413,"body_markdown":"I just switched to Android Studio 2.1 and this error showed up when trying to compile an app the was previously working:\r\n\r\n&gt;     Error:Error converting bytecode to dex:\r\n&gt;     Cause: Dex cannot parse version 52 byte code.\r\n&gt;     This is caused by library dependencies that have been compiled using Java 8 or above.\r\n&gt;     If you are using the &#39;java&#39; gradle plugin in a library submodule add \r\n&gt;     targetCompatibility = &#39;1.7&#39;\r\n&gt;     sourceCompatibility = &#39;1.7&#39;\r\n&gt;     to that submodule&#39;s build.gradle file.\r\n\r\nI had already updated the main project&#39;s gradle.build file to force Java 1.7 code generation:\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.1.0&#39;\r\n            apply plugin: &#39;java&#39;\r\n            sourceCompatibility = 1.7\r\n            targetCompatibility = 1.7\r\n        }\r\n    }\r\nI had also updated the module gradle.build as follows to set the java version:\r\n\r\n    android {\r\n    compileSdkVersion 19\r\n    buildToolsVersion &quot;23.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.abc.def&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 19\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_7\r\n        targetCompatibility JavaVersion.VERSION_1_7\r\n    }\r\n    }\r\n\r\n\r\nThe submodule being built with Maven.  In the pom.xml file I have also tried to force 1.7 code generation.  \r\nI understand that I am using an assembly artifact, which incorporates subordinate modules, but i have not changed any of the subordinate modules and the resulting .jar file for the module ran fine last time I compiled.\r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt; &lt;!-- maven-compiler-plugin --&gt;\r\n\t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt; \r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nMy question: \r\n1) Is this an Android Studio 2.1 problem?  Have others seen it?\r\n2) Assuming this is my error and since the error message gives no help in finding the bad module, are there any recommendations on finding the V52 code?  I can&#39;t just omit the libraries without breaking large amount of code.  Can one inspect a .jar file to find the code revision?","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I just switched to Android Studio 2.1 and this error showed up when trying to compile an app the was previously working:</p>\n<blockquote>\n<pre><code>Error:Error converting bytecode to dex:\nCause: Dex cannot parse version 52 byte code.\nThis is caused by library dependencies that have been compiled using Java 8 or above.\nIf you are using the 'java' gradle plugin in a library submodule add \ntargetCompatibility = '1.7'\nsourceCompatibility = '1.7'\nto that submodule's build.gradle file.\n</code></pre>\n</blockquote>\n<p>I had already updated the main project's gradle.build file to force Java 1.7 code generation:</p>\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.1.0'\n        apply plugin: 'java'\n        sourceCompatibility = 1.7\n        targetCompatibility = 1.7\n    }\n}\n</code></pre>\n<p>I had also updated the module gradle.build as follows to set the java version:</p>\n<pre><code>android {\ncompileSdkVersion 19\nbuildToolsVersion &quot;23.0.2&quot;\n\ndefaultConfig {\n    applicationId &quot;com.abc.def&quot;\n    minSdkVersion 19\n    targetSdkVersion 19\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_7\n    targetCompatibility JavaVersion.VERSION_1_7\n}\n}\n</code></pre>\n<p>The submodule being built with Maven.  In the pom.xml file I have also tried to force 1.7 code generation.<br />\nI understand that I am using an assembly artifact, which incorporates subordinate modules, but i have not changed any of the subordinate modules and the resulting .jar file for the module ran fine last time I compiled.</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt; &lt;!-- maven-compiler-plugin --&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt; \n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>My question:</p>\n<ol>\n<li>Is this an Android Studio 2.1 problem?  Have others seen it?</li>\n<li>Assuming this is my error and since the error message gives no help in finding the bad module, are there any recommendations on finding the V52 code?  I can't just omit the libraries without breaking large amount of code.  Can one inspect a .jar file to find the code revision?</li>\n</ol>\n"},{"tags":["java","java-time","java-17","zoneddatetime","datetimeformatter"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670947713,"post_id":74787596,"comment_id":131988429,"body_markdown":"What Locale are you running this in? Have you tried explicitly specifying `Locale.ROOT`?","body":"What Locale are you running this in? Have you tried explicitly specifying <code>Locale.ROOT</code>?"},{"owner":{"account_id":4801146,"reputation":85,"user_id":3877753,"display_name":"Leil Jan C"},"score":0,"creation_date":1670948547,"post_id":74787596,"comment_id":131988775,"body_markdown":"I am using the default Locale. I tried explicitly specifying Locale.ROOT but the issue persists.","body":"I am using the default Locale. I tried explicitly specifying Locale.ROOT but the issue persists."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1670949317,"post_id":74787596,"comment_id":131989056,"body_markdown":"It works for me, no errors. JDK 17.0.3 oracle. Try another JDK, or post full Junit test, there may be something you don&#39;&#39;t see.","body":"It works for me, no errors. JDK 17.0.3 oracle. Try another JDK, or post full Junit test, there may be something you don&#39;&#39;t see."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671405071,"post_id":74787596,"comment_id":132086760,"body_markdown":"@pdem I do not see how you did that. Can you copy and run the code [from Ideone.com](https://ideone.com/VZrFmi)? I cannot get it to run on Java 12 nor Java 19. Or paste your code somewhere?","body":"@pdem I do not see how you did that. Can you copy and run the code <a href=\"https://ideone.com/VZrFmi\" rel=\"nofollow noreferrer\">from Ideone.com</a>? I cannot get it to run on Java 12 nor Java 19. Or paste your code somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1670948304,"creation_date":1670947737,"answer_id":74787739,"question_id":74787596,"body_markdown":"&gt; What should be the correct pattern so that the parser accepts both GMT\r\n&gt; and UTC inputs?\r\n\r\nUse `V` instead of `O` i.e. use the pattern, `yyyy-MM-dd HH:mm:ss VV`.\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;, Locale.ENGLISH);\r\n            Stream.of(\r\n                    &quot;2022-12-29 01:16:03 GMT+08:00&quot;,\r\n                    &quot;2022-12-29 01:16:03 UTC-08:00&quot;\r\n                )\r\n                .map(s -&gt; ZonedDateTime.parse(s, dtf))\r\n                .forEach(System.out::println);\r\n            ;\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-29T01:16:03+08:00[GMT+08:00]\r\n    2022-12-29T01:16:03-08:00[UTC-08:00]\r\n\r\n&lt;kbd&gt;[Online Demo](https://ideone.com/xD8L9b)&lt;/kbd&gt;\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"ZonedDateTime correctly parses &quot;GMT&quot; zone from pattern &#39;O&#39; but not &quot;UTC&quot;","body":"<blockquote>\n<p>What should be the correct pattern so that the parser accepts both GMT\nand UTC inputs?</p>\n</blockquote>\n<p>Use <code>V</code> instead of <code>O</code> i.e. use the pattern, <code>yyyy-MM-dd HH:mm:ss VV</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;, Locale.ENGLISH);\n        Stream.of(\n                &quot;2022-12-29 01:16:03 GMT+08:00&quot;,\n                &quot;2022-12-29 01:16:03 UTC-08:00&quot;\n            )\n            .map(s -&gt; ZonedDateTime.parse(s, dtf))\n            .forEach(System.out::println);\n        ;\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-29T01:16:03+08:00[GMT+08:00]\n2022-12-29T01:16:03-08:00[UTC-08:00]\n</code></pre>\n<p><kbd><a href=\"https://ideone.com/xD8L9b\" rel=\"noreferrer\">Online Demo</a></kbd></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":4801146,"reputation":85,"user_id":3877753,"display_name":"Leil Jan C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74787739,"answer_count":1,"score":4,"last_activity_date":1671404808,"creation_date":1670946969,"question_id":74787596,"body_markdown":"The following correctly parses the text input &quot;2022-12-29 01:16:03 GMT+08:00&quot;.\r\n```\r\npublic ZonedDateTime parseZonedDateTime(String timeStr) {\r\n  DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss O&quot;);\r\n\r\n  ZonedDateTime zonedDateTime = ZonedDateTime.parse(timeStr, dtf);\r\n\r\n  return zonedDateTime;\r\n}\r\n```\r\nHowever, if the input string is &quot;2022-12-29 01:16:03 UTC-08:00&quot;, ZonedDateTime.parse() method throws\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2022-12-29 01:16:03 UTC-08:00&#39; could not be parsed at index 20\r\n```\r\n\r\nSee this [code run on Java 12 at Ideone.com][1].\r\n\r\nAccording to the DateTimeFormatter doc, https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\n\r\nboth &quot;GMT+08:00&quot; and &quot;UTC-08:00&quot; are considered localized zone-offset &#39;O&#39;.\r\n\r\nWhat should be the correct pattern so that the parser accepts both GMT and UTC inputs?\r\n\r\n\r\n\r\n\r\nI have tried using the format &quot;yyyy-MM-dd HH:mm:ss OOOO&quot; but the behavior is the same.\r\n\r\nThere is a similar question https://stackoverflow.com/questions/37287103/why-does-gmt8-fail-to-parse-with-pattern-o-despite-being-copied-straight-ou and according to this, the bug was fixed in Java 9 build b116.\r\n\r\nHowever I&#39;m using java 17.0.4.1-librca\r\n\r\n\r\n  [1]: https://ideone.com/VZrFmi","title":"ZonedDateTime correctly parses &quot;GMT&quot; zone from pattern &#39;O&#39; but not &quot;UTC&quot;","body":"<p>The following correctly parses the text input &quot;2022-12-29 01:16:03 GMT+08:00&quot;.</p>\n<pre><code>public ZonedDateTime parseZonedDateTime(String timeStr) {\n  DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss O&quot;);\n\n  ZonedDateTime zonedDateTime = ZonedDateTime.parse(timeStr, dtf);\n\n  return zonedDateTime;\n}\n</code></pre>\n<p>However, if the input string is &quot;2022-12-29 01:16:03 UTC-08:00&quot;, ZonedDateTime.parse() method throws</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-12-29 01:16:03 UTC-08:00' could not be parsed at index 20\n</code></pre>\n<p>See this <a href=\"https://ideone.com/VZrFmi\" rel=\"nofollow noreferrer\">code run on Java 12 at Ideone.com</a>.</p>\n<p>According to the DateTimeFormatter doc, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a></p>\n<p>both &quot;GMT+08:00&quot; and &quot;UTC-08:00&quot; are considered localized zone-offset 'O'.</p>\n<p>What should be the correct pattern so that the parser accepts both GMT and UTC inputs?</p>\n<p>I have tried using the format &quot;yyyy-MM-dd HH:mm:ss OOOO&quot; but the behavior is the same.</p>\n<p>There is a similar question <a href=\"https://stackoverflow.com/questions/37287103/why-does-gmt8-fail-to-parse-with-pattern-o-despite-being-copied-straight-ou\">Why does `GMT+8` fail to parse with pattern `O` despite being copied straight out of doc?</a> and according to this, the bug was fixed in Java 9 build b116.</p>\n<p>However I'm using java 17.0.4.1-librca</p>\n"},{"tags":["java","image","swing","jlabel","imageicon"],"comments":[{"owner":{"account_id":893276,"reputation":339,"user_id":931145,"accept_rate":67,"display_name":"brickBreaker"},"score":0,"creation_date":1385943636,"post_id":20318945,"comment_id":30322510,"body_markdown":"Looks good to me, is the banner.png image in the right directory?","body":"Looks good to me, is the banner.png image in the right directory?"},{"owner":{"account_id":2074371,"reputation":1198,"user_id":1848150,"accept_rate":76,"display_name":"lecardo"},"score":0,"creation_date":1385944477,"post_id":20318945,"comment_id":30322696,"body_markdown":"same directory as main.java","body":"same directory as main.java"}],"answers":[{"tags":[],"owner":{"account_id":230596,"reputation":1592,"user_id":494307,"display_name":"disrvptor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1385943641,"creation_date":1385943641,"answer_id":20318990,"question_id":20318945,"body_markdown":"There&#39;s a lot of things that could be going on here and it&#39;s hard to tell without more code.  Based on the short snippet above (and assuming everything else is correct) you should check the image load status of the ImageIcon using the [getImageLoadStatus()][1] method.  If it returns [MediaTracker.COMPLETE][2] then you&#39;re good to go and the error is somewhere outside this code.  If it&#39;s anything but COMPLETE then you are having some sort of issue in loading the image.  Maybe it&#39;s not in the path or classpath?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/ImageIcon.html#getImageLoadStatus%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/awt/MediaTracker.html#COMPLETE","title":"Java image not showing?","body":"<p>There's a lot of things that could be going on here and it's hard to tell without more code.  Based on the short snippet above (and assuming everything else is correct) you should check the image load status of the ImageIcon using the <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/ImageIcon.html#getImageLoadStatus%28%29\" rel=\"nofollow\">getImageLoadStatus()</a> method.  If it returns <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/MediaTracker.html#COMPLETE\" rel=\"nofollow\">MediaTracker.COMPLETE</a> then you're good to go and the error is somewhere outside this code.  If it's anything but COMPLETE then you are having some sort of issue in loading the image.  Maybe it's not in the path or classpath?</p>\n"},{"tags":[],"owner":{"account_id":3498959,"reputation":135,"user_id":2926198,"display_name":"iWumbo"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1385943647,"creation_date":1385943647,"answer_id":20318993,"question_id":20318945,"body_markdown":"Try `ImageIcon im = new ImageIcon(new File(&quot;banner.png&quot;));` If you&#39;re using eclipse, put it in the root folder, not the src folder. The root folder has the src folder and the bin folder.","title":"Java image not showing?","body":"<p>Try <code>ImageIcon im = new ImageIcon(new File(\"banner.png\"));</code> If you're using eclipse, put it in the root folder, not the src folder. The root folder has the src folder and the bin folder.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671404793,"creation_date":1385943756,"answer_id":20319007,"question_id":20318945,"body_markdown":"There are any number of possible issues, but the likely one is, the location of the image is not within the same context as where the application is being executed from.\r\n\r\nLet&#39;s say, `main.java` lives in some directory (lets just say &quot;path/to/class&quot; for argument sake), then when you execute you `main.java`, the path to the images would become something like `/path/to/class`, meaning you should be using using something like...\r\n\r\n    ImageIcon im = new ImageIcon(&quot;path/to/class/banner.png&quot;); \r\n\r\nThis also assumes that the image hasn&#39;t being Jar&#39;ed yet, as `ImageIcon(String)` expects a path to a file on the file system.\r\n\r\nIf the program has being Jar&#39;ed then you won&#39;t be able use `ImageIcon(String)`, as the `banner.png` is no longer a file, but a resource, then you would need to use something like...\r\n\r\n    ImageIcon im = new ImageIcon(getClass().getResource(&quot;/path/to/class/banner.png&quot;));\r\n\r\nWhere `/path/to/class` is the package where `main.java` lives.\r\n\r\nIn either case, I would recommend that you use `ImageIO.read` instead, as this will actually throw an `IOException` when something goes wrong, where `ImageIcon` tends to fail silently...\r\n\r\nTake a look at [Reading/Loading an Image](http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) for more details","title":"Java image not showing?","body":"<p>There are any number of possible issues, but the likely one is, the location of the image is not within the same context as where the application is being executed from.</p>\n<p>Let's say, <code>main.java</code> lives in some directory (lets just say &quot;path/to/class&quot; for argument sake), then when you execute you <code>main.java</code>, the path to the images would become something like <code>/path/to/class</code>, meaning you should be using using something like...</p>\n<pre><code>ImageIcon im = new ImageIcon(&quot;path/to/class/banner.png&quot;); \n</code></pre>\n<p>This also assumes that the image hasn't being Jar'ed yet, as <code>ImageIcon(String)</code> expects a path to a file on the file system.</p>\n<p>If the program has being Jar'ed then you won't be able use <code>ImageIcon(String)</code>, as the <code>banner.png</code> is no longer a file, but a resource, then you would need to use something like...</p>\n<pre><code>ImageIcon im = new ImageIcon(getClass().getResource(&quot;/path/to/class/banner.png&quot;));\n</code></pre>\n<p>Where <code>/path/to/class</code> is the package where <code>main.java</code> lives.</p>\n<p>In either case, I would recommend that you use <code>ImageIO.read</code> instead, as this will actually throw an <code>IOException</code> when something goes wrong, where <code>ImageIcon</code> tends to fail silently...</p>\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\">Reading/Loading an Image</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":137288,"reputation":4528,"user_id":341369,"accept_rate":91,"display_name":"tjg184"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385943818,"creation_date":1385943818,"answer_id":20319014,"question_id":20318945,"body_markdown":"If you create a folder called images (or whatever name you prefer) in your source directory, and then place the banner.png file in that folder you can then use the following code.  \r\n\r\n    ImageIcon im = new ImageIcon(this.getClass().getResource(&quot;/images/banner.png&quot;)); ","title":"Java image not showing?","body":"<p>If you create a folder called images (or whatever name you prefer) in your source directory, and then place the banner.png file in that folder you can then use the following code.  </p>\n\n<pre><code>ImageIcon im = new ImageIcon(this.getClass().getResource(\"/images/banner.png\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250858,"reputation":880,"user_id":3477984,"accept_rate":43,"display_name":"Lorenzo Battilocchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519109902,"creation_date":1519077570,"answer_id":48874822,"question_id":20318945,"body_markdown":"I know this is an old post, but I had the same issue on my project and fixed it by giving the full path in the `ImageIcon` definition, instead of just the path from the project. I.e. \r\n\r\n    ImageIcon im = new ImageIcon(&quot;C:/your/image/file/path/banner.png);\r\n\r\nIt solved the issue for me, **but I do recognise that this is not a valid long-term solution**, since it will only work on the developer&#39;s machine and I&#39;m not sure if portability would be an issue.\r\n\r\nHope I have helped somebody.","title":"Java image not showing?","body":"<p>I know this is an old post, but I had the same issue on my project and fixed it by giving the full path in the <code>ImageIcon</code> definition, instead of just the path from the project. I.e. </p>\n\n<pre><code>ImageIcon im = new ImageIcon(\"C:/your/image/file/path/banner.png);\n</code></pre>\n\n<p>It solved the issue for me, <strong>but I do recognise that this is not a valid long-term solution</strong>, since it will only work on the developer's machine and I'm not sure if portability would be an issue.</p>\n\n<p>Hope I have helped somebody.</p>\n"}],"owner":{"account_id":2074371,"reputation":1198,"user_id":1848150,"accept_rate":76,"display_name":"lecardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14534,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20318993,"answer_count":5,"score":4,"last_activity_date":1671404793,"creation_date":1385943328,"question_id":20318945,"body_markdown":"Having a issue trying to display my logo. The picture is saved in the same folder as main.java\r\n\r\n    \tImageIcon im = new ImageIcon(&quot;banner.png&quot;); \r\n    \tJLabel bam = new JLabel(im); \r\n    \r\n        grid.add(bam);\r\n\r\nIs there a problem in my syntax?","title":"Java image not showing?","body":"<p>Having a issue trying to display my logo. The picture is saved in the same folder as main.java</p>\n\n<pre><code>    ImageIcon im = new ImageIcon(\"banner.png\"); \n    JLabel bam = new JLabel(im); \n\n    grid.add(bam);\n</code></pre>\n\n<p>Is there a problem in my syntax?</p>\n"},{"tags":["java","json","rest","http","resteasy"],"comments":[{"owner":{"display_name":"user647772"},"score":1,"creation_date":1328019710,"post_id":9081079,"comment_id":11401172,"body_markdown":"What kind of REST resource is this? How do two parts relate on the resource level?","body":"What kind of REST resource is this? How do two parts relate on the resource level?"},{"owner":{"account_id":923448,"reputation":2396,"user_id":954680,"accept_rate":71,"display_name":"thermz"},"score":0,"creation_date":1328019910,"post_id":9081079,"comment_id":11401254,"body_markdown":"Actually the way we handled this resource is not totally RESTful because the image is a &quot;component&quot; of the resource instead of another resource.","body":"Actually the way we handled this resource is not totally RESTful because the image is a &quot;component&quot; of the resource instead of another resource."}],"answers":[{"tags":[],"owner":{"account_id":68766,"reputation":11950,"user_id":200445,"accept_rate":95,"display_name":"Vasiliy Faronov"},"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1328024081,"creation_date":1328024081,"answer_id":9082243,"question_id":9081079,"body_markdown":"If I understand you correctly, you want to compose a multipart request manually from an HTTP/REST console. The multipart format is simple; a brief introduction can be found [in the HTML 4.01 spec][1]. You need to come up with a boundary, which is a string not found in the content, let’s say `HereGoes`. You set request header `Content-Type: multipart/form-data; boundary=HereGoes`. Then this should be a valid request body:\r\n\r\n    --HereGoes\r\n    Content-Disposition: form-data; name=&quot;myJsonString&quot;\r\n    Content-Type: application/json\r\n\r\n    {&quot;foo&quot;: &quot;bar&quot;}\r\n    --HereGoes\r\n    Content-Disposition: form-data; name=&quot;photo&quot;\r\n    Content-Type: image/jpeg\r\n    Content-Transfer-Encoding: base64\r\n\r\n    &lt;...JPEG content in base64...&gt;\r\n    --HereGoes--\r\n\r\n[1]: http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2","title":"REST - HTTP Post Multipart with JSON","body":"<p>If I understand you correctly, you want to compose a multipart request manually from an HTTP/REST console. The multipart format is simple; a brief introduction can be found <a href=\"http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2\">in the HTML 4.01 spec</a>. You need to come up with a boundary, which is a string not found in the content, let’s say <code>HereGoes</code>. You set request header <code>Content-Type: multipart/form-data; boundary=HereGoes</code>. Then this should be a valid request body:</p>\n\n<pre><code>--HereGoes\nContent-Disposition: form-data; name=\"myJsonString\"\nContent-Type: application/json\n\n{\"foo\": \"bar\"}\n--HereGoes\nContent-Disposition: form-data; name=\"photo\"\nContent-Type: image/jpeg\nContent-Transfer-Encoding: base64\n\n&lt;...JPEG content in base64...&gt;\n--HereGoes--\n</code></pre>\n"}],"owner":{"account_id":923448,"reputation":2396,"user_id":954680,"accept_rate":71,"display_name":"thermz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220318,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":9082243,"answer_count":1,"score":101,"last_activity_date":1671404346,"creation_date":1328019604,"question_id":9081079,"body_markdown":"I need to receive an HTTP Post Multipart which contains only 2 parameters:\r\n\r\n- A JSON string\r\n- A binary file\r\n\r\nWhich is the correct way to set the body? \r\nI&#39;m going to test the HTTP call using Chrome REST console, so I&#39;m wondering if the correct solution is to set a &quot;label&quot; key for the JSON parameter and the binary file.\r\n\r\nOn the server side I&#39;m using Resteasy 2.x, and I&#39;m going to read the Multipart body like this:\r\n\r\n    @POST\r\n    @Consumes(&quot;multipart/form-data&quot;)\r\n    public String postWithPhoto(MultipartFormDataInput  multiPart) {\r\n      Map &lt;String, List&lt;InputPart&gt;&gt; params = multiPart.getFormDataMap();\r\n      String myJson = params.get(&quot;myJsonName&quot;).get(0).getBodyAsString();\r\n      InputPart imagePart = params.get(&quot;photo&quot;).get(0);\r\n      //do whatever I need to do with my json and my photo\r\n    }\r\n\r\nIs this the way to go? \r\nIs it correct to retrieve my JSON string using the key &quot;myJsonName&quot; that identify that particular content-disposition? \r\nAre there any other way to receive these 2 content in one HTTP multipart request?","title":"REST - HTTP Post Multipart with JSON","body":"<p>I need to receive an HTTP Post Multipart which contains only 2 parameters:</p>\n<ul>\n<li>A JSON string</li>\n<li>A binary file</li>\n</ul>\n<p>Which is the correct way to set the body?\nI'm going to test the HTTP call using Chrome REST console, so I'm wondering if the correct solution is to set a &quot;label&quot; key for the JSON parameter and the binary file.</p>\n<p>On the server side I'm using Resteasy 2.x, and I'm going to read the Multipart body like this:</p>\n<pre><code>@POST\n@Consumes(&quot;multipart/form-data&quot;)\npublic String postWithPhoto(MultipartFormDataInput  multiPart) {\n  Map &lt;String, List&lt;InputPart&gt;&gt; params = multiPart.getFormDataMap();\n  String myJson = params.get(&quot;myJsonName&quot;).get(0).getBodyAsString();\n  InputPart imagePart = params.get(&quot;photo&quot;).get(0);\n  //do whatever I need to do with my json and my photo\n}\n</code></pre>\n<p>Is this the way to go?\nIs it correct to retrieve my JSON string using the key &quot;myJsonName&quot; that identify that particular content-disposition?\nAre there any other way to receive these 2 content in one HTTP multipart request?</p>\n"},{"tags":["java","h2","quarkus","in-memory-database","embedded-database"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671403292,"post_id":74844874,"comment_id":132086500,"body_markdown":"Possibly related: [*How to access in-memory h2 database from Intellij IDEA*](https://stackoverflow.com/q/52388984/642706)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/52388984/642706\"><i>How to access in-memory h2 database from Intellij IDEA</i></a>"},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1671404358,"post_id":74844874,"comment_id":132086671,"body_markdown":"I think I may have going through several of those, but I don&#39;t see anywhere how `Quarkus` is able to start `H2` in &quot;server mode&quot;.","body":"I think I may have going through several of those, but I don&#39;t see anywhere how <code>Quarkus</code> is able to start <code>H2</code> in &quot;server mode&quot;."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671406602,"post_id":74844874,"comment_id":132086979,"body_markdown":"See also [_In-Memory Databases_](https://www.h2database.com/html/features.html#in_memory_databases).","body":"See also <a href=\"https://www.h2database.com/html/features.html#in_memory_databases\" rel=\"nofollow noreferrer\"><i>In-Memory Databases</i></a>."}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671403319,"creation_date":1671403141,"question_id":74844874,"body_markdown":"I have a simple `Quarkus` application that uses an in-memory `H2` database. The JDBC connection string has some custom settings: `jdbc:h2:mem:quarkus_db;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;MODE=MariaDB`.\r\n\r\nI&#39;m trying to connect to the **exact same database from a database manager** — say `DataGrip`. After following the [documentation][1], [several][2] [answers][3] from `StackOverflow`, and [some blog posts][4], I&#39;m still unable to connect to the same instance and query for any existing data using SQL.\r\n\r\nThere is something I don&#39;t fully understand from the examples. I&#39;ve seen that initially using a connection like this in the application: `jdbc:h2:mem:quarkus_db`, and while the same it&#39;s up and running, then on the other application/process (`DataGrip` in my case) using `jdbc:h2:tcp://localhost/mem:quarkus_db` should work, but I fail to see how the first scheme will create a TCP server.\r\n\r\nMy goal is to verify some data while the application is running. I understand that when using something like `jdbc:h2:mem:*`, everything will be lost after the application stops.\r\n\r\n  [1]: http://www.h2database.com/html/features.html#in_memory_databases\r\n  [2]: https://stackoverflow.com/questions/2768450/h2-in-memory-tables-remote-connection\r\n  [3]: https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another\r\n  [4]: https://jsoftbiz.wordpress.com/2011/04/30/share-an-h2-in-memory-database-among-several-jvms/","title":"Connecting to existing in-memory H2 from different application/process","body":"<p>I have a simple <code>Quarkus</code> application that uses an in-memory <code>H2</code> database. The JDBC connection string has some custom settings: <code>jdbc:h2:mem:quarkus_db;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;MODE=MariaDB</code>.</p>\n<p>I'm trying to connect to the <strong>exact same database from a database manager</strong> — say <code>DataGrip</code>. After following the <a href=\"http://www.h2database.com/html/features.html#in_memory_databases\" rel=\"nofollow noreferrer\">documentation</a>, <a href=\"https://stackoverflow.com/questions/2768450/h2-in-memory-tables-remote-connection\">several</a> <a href=\"https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another\">answers</a> from <code>StackOverflow</code>, and <a href=\"https://jsoftbiz.wordpress.com/2011/04/30/share-an-h2-in-memory-database-among-several-jvms/\" rel=\"nofollow noreferrer\">some blog posts</a>, I'm still unable to connect to the same instance and query for any existing data using SQL.</p>\n<p>There is something I don't fully understand from the examples. I've seen that initially using a connection like this in the application: <code>jdbc:h2:mem:quarkus_db</code>, and while the same it's up and running, then on the other application/process (<code>DataGrip</code> in my case) using <code>jdbc:h2:tcp://localhost/mem:quarkus_db</code> should work, but I fail to see how the first scheme will create a TCP server.</p>\n<p>My goal is to verify some data while the application is running. I understand that when using something like <code>jdbc:h2:mem:*</code>, everything will be lost after the application stops.</p>\n"},{"tags":["java","generics","extends"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1671400618,"post_id":74844667,"comment_id":132086092,"body_markdown":"you can declare `Class&lt;? extends T&gt; clazz` as, T is inferred as compile time, but the actual class will be known at runtime (basically `instance` can be `Number instance = new Integer(5);`","body":"you can declare <code>Class&lt;? extends T&gt; clazz</code> as, T is inferred as compile time, but the actual class will be known at runtime (basically <code>instance</code> can be <code>Number instance = new Integer(5);</code>"},{"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"score":0,"creation_date":1671400899,"post_id":74844667,"comment_id":132086145,"body_markdown":"@njzk2 I&#39;m afraid I cannot modify `thirdPartyMethod()` signature as it comes from library I&#39;m using.","body":"@njzk2 I&#39;m afraid I cannot modify <code>thirdPartyMethod()</code> signature as it comes from library I&#39;m using."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671400949,"post_id":74844667,"comment_id":132086153,"body_markdown":"I would just cast `(Class&lt;T&gt;)instance.getClass()`.","body":"I would just cast <code>(Class&lt;T&gt;)instance.getClass()</code>."},{"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"score":0,"creation_date":1671401050,"post_id":74844667,"comment_id":132086164,"body_markdown":"@tgdavies That indeed works! It just produces pesky warning about unchecked cast, but I can suppress that I guess.","body":"@tgdavies That indeed works! It just produces pesky warning about unchecked cast, but I can suppress that I guess."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671403183,"creation_date":1671402067,"answer_id":74844788,"question_id":74844667,"body_markdown":"According to the return type of [`Object.getClass()`][getClass]\r\n\r\n&gt; The actual result type is `Class&lt;? extends |X|&gt;` where `|X|` is the\r\n&gt; erasure of the static type of the expression on which getClass is\r\n&gt; called.\r\n\r\nSince `T` extends `Number`, the resulting type would be `Class&lt;? extends Number&gt;`, i.e. means an *unknown type* extending `Number`. Which doesn&#39;t match `T extends Number` (i.e. a *particular* type extending `Number` which would be provided at runtime).\r\n\r\n&gt; How can I modify the Parent class so it conforms to expected arguments of thirdPartyMethod()?\r\n\r\n**1.** Introduce a second parameter of type `Class&lt;T&gt;` in your constructor.\r\n\r\n    abstract class Parent&lt;T extends Number&gt; {\r\n        public Parent(T instance, Class&lt;T&gt; tClass) {\r\n            ThirdPartyClass.thirdPartyMethod(tClass, instance);\r\n        }\r\n    }\r\n\r\n**2.** Perform casting (as have been mentioned in the comments):\r\n\r\n```\r\nThirdPartyClass.thirdPartyMethod((Class&lt;T&gt;) instance.getClass(), instance);\r\n```\r\n\r\nBy the way, instead of calling methods from a constructor (especially ones that are not developed and tested by you/your colleagues) you might consider introducing a factory method that would produce your domain object based on the result of a method call.\r\n\r\n\r\n\r\n   [getClass]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()","title":"Inference variable T has incompatible bounds with specific Class&lt;T&gt; and instance &lt;T&gt; in one method","body":"<p>According to the return type of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>Object.getClass()</code></a></p>\n<blockquote>\n<p>The actual result type is <code>Class&lt;? extends |X|&gt;</code> where <code>|X|</code> is the\nerasure of the static type of the expression on which getClass is\ncalled.</p>\n</blockquote>\n<p>Since <code>T</code> extends <code>Number</code>, the resulting type would be <code>Class&lt;? extends Number&gt;</code>, i.e. means an <em>unknown type</em> extending <code>Number</code>. Which doesn't match <code>T extends Number</code> (i.e. a <em>particular</em> type extending <code>Number</code> which would be provided at runtime).</p>\n<blockquote>\n<p>How can I modify the Parent class so it conforms to expected arguments of thirdPartyMethod()?</p>\n</blockquote>\n<p><strong>1.</strong> Introduce a second parameter of type <code>Class&lt;T&gt;</code> in your constructor.</p>\n<pre><code>abstract class Parent&lt;T extends Number&gt; {\n    public Parent(T instance, Class&lt;T&gt; tClass) {\n        ThirdPartyClass.thirdPartyMethod(tClass, instance);\n    }\n}\n</code></pre>\n<p><strong>2.</strong> Perform casting (as have been mentioned in the comments):</p>\n<pre><code>ThirdPartyClass.thirdPartyMethod((Class&lt;T&gt;) instance.getClass(), instance);\n</code></pre>\n<p>By the way, instead of calling methods from a constructor (especially ones that are not developed and tested by you/your colleagues) you might consider introducing a factory method that would produce your domain object based on the result of a method call.</p>\n"}],"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74844788,"answer_count":1,"score":1,"last_activity_date":1671403183,"creation_date":1671400405,"question_id":74844667,"body_markdown":"I&#39;m using library which contains method I want to use. Simplified signature would look like this:\r\n\r\n```\r\nfinal class ThirdPartyClass\r\n{\r\n    public static &lt;T&gt; void thirdPartyMethod(Class&lt;T&gt; clazz, T instance)\r\n    {\r\n        // does something\r\n    }\r\n}\r\n```\r\n\r\nInside `thirdPartyMethod()` it expects **class** of `T` as first argument and an **instance** of that specific class `T` as second argument.\r\n\r\nNow I have this simple abstract class, which is calling that method:\r\n\r\n```\r\nabstract class Parent&lt;T extends Number&gt;\r\n{\r\n    public Parent(T instance)\r\n    {\r\n        ThirdPartyClass.thirdPartyMethod(instance.getClass(), instance);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m getting an error:\r\n\r\n&gt; method thirdPartyMethod in class ThirdPartyClass cannot be applied to given types;  \r\n  required: java.lang.Class&lt;T&gt;, T  \r\n  found:    java.lang.Class&lt;capture#1 of ? extends java.lang.Number&gt;, T  \r\n  reason: inference variable T has incompatible bounds  \r\n    equality constraints: capture#2 of ? extends java.lang.Number  \r\n    lower bounds: T\r\n\r\n\r\nHow can I modify the `Parent` class so it conforms to expected arguments of `thirdPartyMethod()`?\r\nIf possible with explanation.","title":"Inference variable T has incompatible bounds with specific Class&lt;T&gt; and instance &lt;T&gt; in one method","body":"<p>I'm using library which contains method I want to use. Simplified signature would look like this:</p>\n<pre><code>final class ThirdPartyClass\n{\n    public static &lt;T&gt; void thirdPartyMethod(Class&lt;T&gt; clazz, T instance)\n    {\n        // does something\n    }\n}\n</code></pre>\n<p>Inside <code>thirdPartyMethod()</code> it expects <strong>class</strong> of <code>T</code> as first argument and an <strong>instance</strong> of that specific class <code>T</code> as second argument.</p>\n<p>Now I have this simple abstract class, which is calling that method:</p>\n<pre><code>abstract class Parent&lt;T extends Number&gt;\n{\n    public Parent(T instance)\n    {\n        ThirdPartyClass.thirdPartyMethod(instance.getClass(), instance);\n    }\n}\n</code></pre>\n<p>I'm getting an error:</p>\n<blockquote>\n<p>method thirdPartyMethod in class ThirdPartyClass cannot be applied to given types;<br />\nrequired: java.lang.Class, T<br />\nfound:    java.lang.Class&lt;capture#1 of ? extends java.lang.Number&gt;, T<br />\nreason: inference variable T has incompatible bounds<br />\nequality constraints: capture#2 of ? extends java.lang.Number<br />\nlower bounds: T</p>\n</blockquote>\n<p>How can I modify the <code>Parent</code> class so it conforms to expected arguments of <code>thirdPartyMethod()</code>?\nIf possible with explanation.</p>\n"},{"tags":["java","spring","spring-profiles"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1671403233,"post_id":38520638,"comment_id":132086488,"body_markdown":"Not to future readers: requests for learning resources other than ones from &quot;official sources&quot; (official documentation, etc) are not allowed because they tend to attract opinionated answers and spam (see the [help/on-topic]).","body":"Not to future readers: requests for learning resources other than ones from &quot;official sources&quot; (official documentation, etc) are not allowed because they tend to attract opinionated answers and spam (see the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>)."}],"answers":[{"tags":[],"owner":{"account_id":2926675,"reputation":2175,"user_id":2507819,"accept_rate":50,"display_name":"JanTheGun"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1469173311,"creation_date":1469173311,"answer_id":38520863,"question_id":38520638,"body_markdown":"If you provide your JVM the Spring profile there should be no problems:\r\n\r\n    java -Dspring.profiles.active=development -jar yourApplication.jar \r\n\r\nAlso see Spring-Documentation:\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\r\n\r\n\r\n&gt; **69.5 Set the active Spring profiles**\r\n&gt; \r\n&gt; The Spring Environment has an API for this, but normally you would set\r\n&gt; a System property (spring.profiles.active) or an OS environment\r\n&gt; variable (SPRING_PROFILES_ACTIVE). E.g. launch your application with a\r\n&gt; -D argument (remember to put it before the main class or jar archive):\r\n&gt; \r\n&gt; $ java -jar -Dspring.profiles.active=production\r\n&gt; demo-0.0.1-SNAPSHOT.jar\r\n&gt; \r\n&gt; In Spring Boot you can also set the active profile in\r\n&gt; application.properties, e.g.\r\n&gt; \r\n&gt; spring.profiles.active=production\r\n&gt; \r\n&gt; A value set this way is replaced by the System property or environment\r\n&gt; variable setting, but not by the SpringApplicationBuilder.profiles()\r\n&gt; method. Thus the latter Java API can be used to augment the profiles\r\n&gt; without changing the defaults.\r\n&gt; \r\n&gt; See Chapter 25, Profiles in the ‘Spring Boot features’ section for\r\n&gt; more information.","title":"How to set Spring profile from system variable?","body":"<p>If you provide your JVM the Spring profile there should be no problems:</p>\n\n<pre><code>java -Dspring.profiles.active=development -jar yourApplication.jar \n</code></pre>\n\n<p>Also see Spring-Documentation:</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html</a></p>\n\n<blockquote>\n  <p><strong>69.5 Set the active Spring profiles</strong></p>\n  \n  <p>The Spring Environment has an API for this, but normally you would set\n  a System property (spring.profiles.active) or an OS environment\n  variable (SPRING_PROFILES_ACTIVE). E.g. launch your application with a\n  -D argument (remember to put it before the main class or jar archive):</p>\n  \n  <p>$ java -jar -Dspring.profiles.active=production\n  demo-0.0.1-SNAPSHOT.jar</p>\n  \n  <p>In Spring Boot you can also set the active profile in\n  application.properties, e.g.</p>\n  \n  <p>spring.profiles.active=production</p>\n  \n  <p>A value set this way is replaced by the System property or environment\n  variable setting, but not by the SpringApplicationBuilder.profiles()\n  method. Thus the latter Java API can be used to augment the profiles\n  without changing the defaults.</p>\n  \n  <p>See Chapter 25, Profiles in the ‘Spring Boot features’ section for\n  more information.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":92715,"reputation":6014,"user_id":253986,"accept_rate":44,"display_name":"Achaius"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1469174964,"creation_date":1469174964,"answer_id":38521374,"question_id":38520638,"body_markdown":"My solution is to set the environment variable as `spring.profiles.active=development`. So that all applications running in that machine will refer the variable and start the application. The order in which spring loads a properties as follows\r\n\r\n    application.properties\r\n    system properties\r\n    environment variable","title":"How to set Spring profile from system variable?","body":"<p>My solution is to set the environment variable as <code>spring.profiles.active=development</code>. So that all applications running in that machine will refer the variable and start the application. The order in which spring loads a properties as follows</p>\n\n<pre><code>application.properties\nsystem properties\nenvironment variable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1469265390,"creation_date":1469265390,"answer_id":38540128,"question_id":38520638,"body_markdown":"If i run the command line : `java -Dspring.profiles.active=development -jar yourApplication.jar`  from my webapplication directory it states that the path is incorrect. So i just defined the profile in manualy in the application.properties file like this : \r\n\r\n    spring.profiles.active=mysql \r\nor \r\n\r\n    spring.profiles.active=postgres\r\n\r\nor \r\n\r\n    spring.profiles.active=mongodb\r\n\r\n","title":"How to set Spring profile from system variable?","body":"<p>If i run the command line : <code>java -Dspring.profiles.active=development -jar yourApplication.jar</code>  from my webapplication directory it states that the path is incorrect. So i just defined the profile in manualy in the application.properties file like this : </p>\n\n<pre><code>spring.profiles.active=mysql \n</code></pre>\n\n<p>or </p>\n\n<pre><code>spring.profiles.active=postgres\n</code></pre>\n\n<p>or </p>\n\n<pre><code>spring.profiles.active=mongodb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931144,"reputation":2211,"user_id":1740505,"display_name":"Lalit Jha"},"down_vote_count":0,"up_vote_count":205,"is_accepted":false,"score":205,"last_activity_date":1504600524,"creation_date":1504600524,"answer_id":46050490,"question_id":38520638,"body_markdown":"SPRING_PROFILES_ACTIVE is the environment variable to override/pick Spring profile","title":"How to set Spring profile from system variable?","body":"<p>SPRING_PROFILES_ACTIVE is the environment variable to override/pick Spring profile</p>\n"},{"tags":[],"owner":{"account_id":160094,"reputation":4247,"user_id":379906,"accept_rate":80,"display_name":"db80"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1524558695,"creation_date":1524558695,"answer_id":49996902,"question_id":38520638,"body_markdown":"If you are using docker to deploy the spring boot app, you can set the *profile* using the flag **e**:\r\n\r\n&gt; docker run -e &quot;SPRING_PROFILES_ACTIVE=prod&quot; -p 8080:8080 -t\r\n&gt; r.test.co/myapp:latest","title":"How to set Spring profile from system variable?","body":"<p>If you are using docker to deploy the spring boot app, you can set the <em>profile</em> using the flag <strong>e</strong>:</p>\n\n<blockquote>\n  <p>docker run -e \"SPRING_PROFILES_ACTIVE=prod\" -p 8080:8080 -t\n  r.test.co/myapp:latest</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8998563,"reputation":1629,"user_id":6707951,"display_name":"Ajmal V Aliyar"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1584459422,"creation_date":1531657011,"answer_id":51348303,"question_id":38520638,"body_markdown":"I normally configure the applicationContext using **Annotation based configuration** rather than **XML based configuration**. Anyway, I believe both of them have the **same priority**.\r\n\r\n*Answering your question, system variable has higher priority *\r\n\r\n----------\r\n\r\n\r\n## Getting profile based beans from applicationContext##\r\n \r\n- ## Use @Profile on a Bean ##\r\n\r\n```java\r\n@Component\r\n@Profile(&quot;dev&quot;)\r\npublic class DatasourceConfigForDev\r\n```\r\n\r\n  Now, the profile is `dev`\r\n  \r\n  Note : if the Profile is given as\r\n        `@Profile(&quot;!dev&quot;)` then the profile will exclude dev and be for all others.\r\n    \r\n- ## Use profiles attribute in XML ##\r\n```xml\r\n&lt;beans profile=&quot;dev&quot;&gt;\r\n    &lt;bean id=&quot;DatasourceConfigForDev&quot; class=&quot;org.skoolguy.profiles.DatasourceConfigForDev&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n----------\r\n##Set the value for profile:##\r\n\r\n - ##Programmatically via WebApplicationInitializer interface##\r\n   In web applications, WebApplicationInitializer can be used to configure the ServletContext programmatically\r\n\r\n```java\r\n@Configuration\r\npublic class MyWebApplicationInitializer implements WebApplicationInitializer {\r\n \r\n    @Override\r\n    public void onStartup(ServletContext servletContext) throws ServletException {\r\n            servletContext.setInitParameter(&quot;spring.profiles.active&quot;, &quot;dev&quot;);\r\n    }\r\n}\r\n```\r\n\r\n - ##Programmatically via ConfigurableEnvironment##\r\n   You can also set profiles directly on the environment:\r\n        \r\n```java\r\n    @Autowired\r\n    private ConfigurableEnvironment env;\r\n        \r\n    // ...\r\n\r\n    env.setActiveProfiles(&quot;dev&quot;);\r\n```\r\n\r\n - ##Context Parameter in web.xml##\r\nprofiles can be activated in the web.xml of the web application as well, using a context parameter:\r\n        \r\n```xml\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/app-config.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n        &lt;param-value&gt;dev&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n```\r\n\r\n - ##JVM System Parameter##\r\nThe profile names passed as the parameter will be activated during application start-up:\r\n        \r\n        -Dspring.profiles.active=dev\r\n    \r\n   In IDEs, you can set the environment variables and values to use when an application runs. The following is the Run Configuration in Eclipse:\r\n\r\n[![Eclipse Run Configuration - screenshot is unavailable][1]][1]\r\n\r\n - ##Environment Variable##\r\n\r\n   to set via command line : `export spring_profiles_active=dev`\r\n\r\n&gt; Any bean that does not specify a profile belongs to “default” profile.\r\n\r\n\r\n----------\r\n\r\n##The priority order is :##\r\n 1. Context parameter in web.xml \r\n 2. WebApplicationInitializer \r\n 3. JVM System parameter \r\n 4. Environment variable\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xaMKV.png","title":"How to set Spring profile from system variable?","body":"<p>I normally configure the applicationContext using <strong>Annotation based configuration</strong> rather than <strong>XML based configuration</strong>. Anyway, I believe both of them have the <strong>same priority</strong>.</p>\n\n<p>*Answering your question, system variable has higher priority *</p>\n\n<hr>\n\n<h2>Getting profile based beans from applicationContext</h2>\n\n<ul>\n<li><h2>Use @Profile on a Bean</h2></li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(\"dev\")\npublic class DatasourceConfigForDev\n</code></pre>\n\n<p>Now, the profile is <code>dev</code></p>\n\n<p>Note : if the Profile is given as\n        <code>@Profile(\"!dev\")</code> then the profile will exclude dev and be for all others.</p>\n\n<ul>\n<li><h2>Use profiles attribute in XML</h2></li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans profile=\"dev\"&gt;\n    &lt;bean id=\"DatasourceConfigForDev\" class=\"org.skoolguy.profiles.DatasourceConfigForDev\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<hr>\n\n<h2>Set the value for profile:</h2>\n\n<ul>\n<li><h2>Programmatically via WebApplicationInitializer interface</h2>\n\nIn web applications, WebApplicationInitializer can be used to configure the ServletContext programmatically</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyWebApplicationInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.setInitParameter(\"spring.profiles.active\", \"dev\");\n    }\n}\n</code></pre>\n\n<ul>\n<li><h2>Programmatically via ConfigurableEnvironment</h2>\n\nYou can also set profiles directly on the environment:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private ConfigurableEnvironment env;\n\n    // ...\n\n    env.setActiveProfiles(\"dev\");\n</code></pre>\n\n<ul>\n<li><h2>Context Parameter in web.xml</h2>\n\nprofiles can be activated in the web.xml of the web application as well, using a context parameter:</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/app-config.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n\n<ul>\n<li><h2>JVM System Parameter</h2>\n\n<p>The profile names passed as the parameter will be activated during application start-up:</p>\n\n<pre><code>-Dspring.profiles.active=dev\n</code></pre>\n\n<p>In IDEs, you can set the environment variables and values to use when an application runs. The following is the Run Configuration in Eclipse:</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/xaMKV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xaMKV.png\" alt=\"Eclipse Run Configuration - screenshot is unavailable\"></a></p>\n\n<ul>\n<li><h2>Environment Variable</h2>\n\n<p>to set via command line : <code>export spring_profiles_active=dev</code></p></li>\n</ul>\n\n<blockquote>\n  <p>Any bean that does not specify a profile belongs to “default” profile.</p>\n</blockquote>\n\n<hr>\n\n<h2>The priority order is :</h2>\n\n<ol>\n<li>Context parameter in web.xml </li>\n<li>WebApplicationInitializer </li>\n<li>JVM System parameter </li>\n<li>Environment variable</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16257617,"reputation":690,"user_id":11739905,"display_name":"Lavish"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591099349,"creation_date":1591099349,"answer_id":62151565,"question_id":38520638,"body_markdown":"You can set the spring profile by supplying `-Dspring.profiles.active=&lt;env&gt;`\r\n\r\n\r\nFor java files in **source(src) directory**, you can use by \r\n`System.getProperty(&quot;spring.profiles.active&quot;)` \r\n\r\nFor java files in **test directory** you can supply \r\n\r\n- `SPRING_PROFILES_ACTIVE` to `&lt;env&gt;`\r\n\r\nOR \r\n\r\nSince, &quot;environment&quot;, &quot;jvmArgs&quot; and &quot;systemProperties&quot; are ignored for the &quot;test&quot; task. In root `build.gradle` add a task to set jvm property and environment variable.  \r\n\r\n```\r\ntest {\r\n    def profile = System.properties[&quot;spring.profiles.active&quot;]\r\n    systemProperty &quot;spring.profiles.active&quot;,profile\r\n    environment &quot;SPRING.PROFILES_ACTIVE&quot;, profile\r\n    println &quot;Running ${project} tests with profile: ${profile}&quot;\r\n}\r\n```","title":"How to set Spring profile from system variable?","body":"<p>You can set the spring profile by supplying <code>-Dspring.profiles.active=&lt;env&gt;</code></p>\n\n<p>For java files in <strong>source(src) directory</strong>, you can use by \n<code>System.getProperty(\"spring.profiles.active\")</code> </p>\n\n<p>For java files in <strong>test directory</strong> you can supply </p>\n\n<ul>\n<li><code>SPRING_PROFILES_ACTIVE</code> to <code>&lt;env&gt;</code></li>\n</ul>\n\n<p>OR </p>\n\n<p>Since, \"environment\", \"jvmArgs\" and \"systemProperties\" are ignored for the \"test\" task. In root <code>build.gradle</code> add a task to set jvm property and environment variable.  </p>\n\n<pre><code>test {\n    def profile = System.properties[\"spring.profiles.active\"]\n    systemProperty \"spring.profiles.active\",profile\n    environment \"SPRING.PROFILES_ACTIVE\", profile\n    println \"Running ${project} tests with profile: ${profile}\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4784217,"reputation":594,"user_id":3865191,"display_name":"gshock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628524923,"creation_date":1628524923,"answer_id":68715179,"question_id":38520638,"body_markdown":"Too late to the party but here are the new trends for this topic: https://howtodoinjava.com/spring-boot2/logging/profile-specific-logging/\r\n\r\nHere is a excellent example:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;\r\n  &lt;property name=&quot;LOG_FILE&quot; value=&quot;c:/temp/spring.log}&quot;/&gt;\r\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n  \r\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;file&gt;${LOG_FILE}&lt;/file&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n      &lt;fileNamePattern&gt;${LOG_FILE}.%d&lt;/fileNamePattern&gt;\r\n    &lt;/rollingPolicy&gt;\r\n  &lt;/appender&gt;\r\n  \r\n  &lt;springProfile name=&quot;local | dev&quot;&gt;\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n      &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n  &lt;/springProfile&gt;\r\n \r\n  &lt;springProfile name=&quot;prod&quot;&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n  &lt;/springProfile&gt;\r\n \r\n  &lt;springProfile name=&quot;!local &amp; !dev &amp; !prod&quot;&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n  &lt;/springProfile&gt;\r\n  \r\n&lt;/configuration&gt;\r\n```\r\n\r\n!NB! If you have problems using `&amp;` replace it with `&amp;amp;`\r\n","title":"How to set Spring profile from system variable?","body":"<p>Too late to the party but here are the new trends for this topic: <a href=\"https://howtodoinjava.com/spring-boot2/logging/profile-specific-logging/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/logging/profile-specific-logging/</a></p>\n<p>Here is a excellent example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;\n  &lt;property name=&quot;LOG_FILE&quot; value=&quot;c:/temp/spring.log}&quot;/&gt;\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\n  \n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;file&gt;${LOG_FILE}&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;${LOG_FILE}.%d&lt;/fileNamePattern&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n  \n  &lt;springProfile name=&quot;local | dev&quot;&gt;\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/logger&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n      &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/springProfile&gt;\n \n  &lt;springProfile name=&quot;prod&quot;&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/springProfile&gt;\n \n  &lt;springProfile name=&quot;!local &amp; !dev &amp; !prod&quot;&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/springProfile&gt;\n  \n&lt;/configuration&gt;\n</code></pre>\n<p>!NB! If you have problems using <code>&amp;</code> replace it with <code>&amp;amp;</code></p>\n"}],"owner":{"account_id":3141462,"reputation":1653,"user_id":2656851,"accept_rate":0,"display_name":"user2656851"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304831,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"answer_count":8,"score":131,"last_activity_date":1671403153,"creation_date":1469172595,"question_id":38520638,"body_markdown":"I have a Spring project which uses another project. Each project has its own spring profile initialize from java code using `applicationContext.xml` and `*.properties` for each profile. I inject the profile from `args[]`. **The problem is that second project uses the default configuration for the env from the** `applicationContext.xml`\r\nI can not inject the env from `args[]` to the second project and I tried looking for an article which will explain how Spring profile works.\r\n\r\n 1. Is there a hierarchy on which it will look the profile when default is not configured at `applicationContext.xml` ?\r\n 2. Is System var stronger than `applicationContext.xml` configuration?\r\n 3. What you think is the best solution to my challenge?\r\n\r\nArticles on that subject or even examples would be most appreciated.","title":"How to set Spring profile from system variable?","body":"<p>I have a Spring project which uses another project. Each project has its own spring profile initialize from java code using <code>applicationContext.xml</code> and <code>*.properties</code> for each profile. I inject the profile from <code>args[]</code>. <strong>The problem is that second project uses the default configuration for the env from the</strong> <code>applicationContext.xml</code>\nI can not inject the env from <code>args[]</code> to the second project and I tried looking for an article which will explain how Spring profile works.</p>\n<ol>\n<li>Is there a hierarchy on which it will look the profile when default is not configured at <code>applicationContext.xml</code> ?</li>\n<li>Is System var stronger than <code>applicationContext.xml</code> configuration?</li>\n<li>What you think is the best solution to my challenge?</li>\n</ol>\n<p>Articles on that subject or even examples would be most appreciated.</p>\n"},{"tags":["java","algorithm","generics","data-structures","binary-tree"],"comments":[{"owner":{"account_id":25668216,"reputation":13,"user_id":19432838,"display_name":"shubham berlia"},"score":0,"creation_date":1671388073,"post_id":74843504,"comment_id":132083956,"body_markdown":"Actually the value attribute/property of the TreeNode class is generic","body":"Actually the value attribute/property of the TreeNode class is generic"},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1671390120,"post_id":74843504,"comment_id":132084287,"body_markdown":"Could you please add here the rest of your codes?","body":"Could you please add here the rest of your codes?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671403108,"creation_date":1671391077,"answer_id":74843771,"question_id":74843504,"body_markdown":"Arithmetic operators can not be used with an arbitrary type, they are only applicable for numeric primitives and their wrapper types. So if you need to generify your logic, it not the way to go.\r\n\r\nInstead, you can define a field of type [`BiFunction`][biFunction], which is a *Function* expecting two arguments, on the level of your `Tree` class (or whatever its name). And use this `BinaryOperator` to accumulate the values of the nodes while traversing the tree.\r\n\r\nBased on this quote:\r\n\r\n&gt; if `Character` is a generic parameter of the Tree, then its ASCII code sum will be returned from the `sum()` method\r\n\r\nI assume that you need to keep the return type of the `sum()` method as `double`. Since according to the requirements of your assignment only three generic types: `Character`, `Integer` or `Double` need to be supported, that&#39;s doable.\r\n\r\nFor that the `BiFunction` mentioned above, can be defined as `BiFunction&lt;T,Double,Double&gt;`, where the first two generic parameters `T` and `Double` denote the types of incoming parameters of the *function* and the last type `Double` specifies the return type. Here are examples of implementation of such function:\r\n\r\n```\r\nBiFunction&lt;Double, Double, Double&gt; intMerger = Double::sum;\r\nBiFunction&lt;Integer, Double, Double&gt; intMerger = (i, d) -&gt; i + d;\r\nBiFunction&lt;Character, Double, Double&gt; intMerger = (c, d) -&gt; c + d;\r\n```\r\n\r\nAlso, since you need to perform operations like binary search in your generic tree you need either define a generic parameter `T` as extending `Comparable` interface, or provide a `Comparator` (*otherwise you&#39;ll not be able to determine which value is greater/smaller while implementing a binary search, or finding min/max value*). Since all the types that should be supported are comparable, you can use the first option and define the Generic parameter as `T extends Comparable&lt;T&gt;`, which means in plain English: something that knows how to compare itself.\r\n\r\nSo as a result, you might have something like this:\r\n\r\n    public class MyTree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n        private final BiFunction&lt;T, Double, Double&gt; merger;\r\n    \r\n        public MyTree(BiFunction&lt;T, Double, Double&gt; merger) {\r\n            this.merger = merger;\r\n        }\r\n    \r\n        public double sum(TreeNode&lt;T&gt; root) {\r\n            double total = 0;\r\n            if (root == null) return total;\r\n            \r\n            Queue&lt;TreeNode&lt;T&gt;&gt; queue = new ArrayDeque&lt;&gt;();\r\n            queue.add(root);\r\n            \r\n            while (!queue.isEmpty()) {\r\n                int size = queue.size();\r\n                TreeNode&lt;T&gt; current = queue.remove();\r\n    \r\n                total = merger.apply(current.value, total);\r\n                \r\n                if (current.leftChild != null) queue.add(current.leftChild);\r\n                if (current.rightChild != null) queue.add(current.rightChild);\r\n            }\r\n            return total;\r\n        }\r\n        \r\n        private static class TreeNode&lt;T extends Comparable&lt;T&gt;&gt; {\r\n            private T value;\r\n            private TreeNode&lt;T&gt; leftChild;\r\n            private TreeNode&lt;T&gt; rightChild;\r\n            \r\n            // constructor, etc.\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nMyTree&lt;Double&gt; myTree1 = new MyTree&lt;&gt;(Double::sum);\r\nMyTree&lt;Integer&gt; myTree2 = new MyTree&lt;&gt;((i, d) -&gt; i + d);\r\nMyTree&lt;Character&gt; myTree3 = new MyTree&lt;&gt;((c, d) -&gt; c + d);\r\n```\r\n\r\n***Note:** if what I was telling about introducing a Function looks alien to you have a look at this [tutorial provided by Oracle][lambda].*\r\n\r\n\r\n   [biFunction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html\r\n\r\n   [lambda]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Making a Binary search Tree Generic","body":"<p>Arithmetic operators can not be used with an arbitrary type, they are only applicable for numeric primitives and their wrapper types. So if you need to generify your logic, it not the way to go.</p>\n<p>Instead, you can define a field of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html\" rel=\"nofollow noreferrer\"><code>BiFunction</code></a>, which is a <em>Function</em> expecting two arguments, on the level of your <code>Tree</code> class (or whatever its name). And use this <code>BinaryOperator</code> to accumulate the values of the nodes while traversing the tree.</p>\n<p>Based on this quote:</p>\n<blockquote>\n<p>if <code>Character</code> is a generic parameter of the Tree, then its ASCII code sum will be returned from the <code>sum()</code> method</p>\n</blockquote>\n<p>I assume that you need to keep the return type of the <code>sum()</code> method as <code>double</code>. Since according to the requirements of your assignment only three generic types: <code>Character</code>, <code>Integer</code> or <code>Double</code> need to be supported, that's doable.</p>\n<p>For that the <code>BiFunction</code> mentioned above, can be defined as <code>BiFunction&lt;T,Double,Double&gt;</code>, where the first two generic parameters <code>T</code> and <code>Double</code> denote the types of incoming parameters of the <em>function</em> and the last type <code>Double</code> specifies the return type. Here are examples of implementation of such function:</p>\n<pre><code>BiFunction&lt;Double, Double, Double&gt; intMerger = Double::sum;\nBiFunction&lt;Integer, Double, Double&gt; intMerger = (i, d) -&gt; i + d;\nBiFunction&lt;Character, Double, Double&gt; intMerger = (c, d) -&gt; c + d;\n</code></pre>\n<p>Also, since you need to perform operations like binary search in your generic tree you need either define a generic parameter <code>T</code> as extending <code>Comparable</code> interface, or provide a <code>Comparator</code> (<em>otherwise you'll not be able to determine which value is greater/smaller while implementing a binary search, or finding min/max value</em>). Since all the types that should be supported are comparable, you can use the first option and define the Generic parameter as <code>T extends Comparable&lt;T&gt;</code>, which means in plain English: something that knows how to compare itself.</p>\n<p>So as a result, you might have something like this:</p>\n<pre><code>public class MyTree&lt;T extends Comparable&lt;T&gt;&gt; {\n    private final BiFunction&lt;T, Double, Double&gt; merger;\n\n    public MyTree(BiFunction&lt;T, Double, Double&gt; merger) {\n        this.merger = merger;\n    }\n\n    public double sum(TreeNode&lt;T&gt; root) {\n        double total = 0;\n        if (root == null) return total;\n        \n        Queue&lt;TreeNode&lt;T&gt;&gt; queue = new ArrayDeque&lt;&gt;();\n        queue.add(root);\n        \n        while (!queue.isEmpty()) {\n            int size = queue.size();\n            TreeNode&lt;T&gt; current = queue.remove();\n\n            total = merger.apply(current.value, total);\n            \n            if (current.leftChild != null) queue.add(current.leftChild);\n            if (current.rightChild != null) queue.add(current.rightChild);\n        }\n        return total;\n    }\n    \n    private static class TreeNode&lt;T extends Comparable&lt;T&gt;&gt; {\n        private T value;\n        private TreeNode&lt;T&gt; leftChild;\n        private TreeNode&lt;T&gt; rightChild;\n        \n        // constructor, etc.\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>MyTree&lt;Double&gt; myTree1 = new MyTree&lt;&gt;(Double::sum);\nMyTree&lt;Integer&gt; myTree2 = new MyTree&lt;&gt;((i, d) -&gt; i + d);\nMyTree&lt;Character&gt; myTree3 = new MyTree&lt;&gt;((c, d) -&gt; c + d);\n</code></pre>\n<p><em><strong>Note:</strong> if what I was telling about introducing a Function looks alien to you have a look at this <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">tutorial provided by Oracle</a>.</em></p>\n"}],"owner":{"account_id":25668216,"reputation":13,"user_id":19432838,"display_name":"shubham berlia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74843771,"answer_count":1,"score":1,"last_activity_date":1671403108,"creation_date":1671388014,"question_id":74843504,"body_markdown":"```\r\npublic double sum(TreeNode root){\r\n    Queue&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\n    double sum = 0;\r\n    if(root!=null){\r\n        queue.add(root);\r\n    }\r\n    while(!queue.isEmpty()){\r\n        int size = queue.size();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            TreeNode current = queue.remove();\r\n            sum += current.value;\r\n            if(current.leftChild!=null)\r\n                queue.add(current.leftChild);\r\n            if(current.rightChild!=null)\r\n                queue.add(current.rightChild);\r\n        }\r\n    }\r\n    return sum;\r\n}\r\n```\r\n\r\nNow I need to implement a generic binary search Tree which can store in the `value` field of a node either a `Character`, an `Integer` or `Double` (if `Character` is a generic parameter of the Tree, then its ASCII code sum will be returned from the `sum()` method).\r\n\r\nAnd I need to perform various operations, like `sum()` of all the node&#39;s values (also insert, delete, search, maximum, minimum, etc.).\r\n\r\nBut I&#39;m stuck on making my implementation generic. In the `sum()` method issues an error in the line\r\n\r\n```\r\nsum += current.value;\r\n```\r\n\r\n&gt; Operator + cannot be applied to T.\r\n\r\nHow can I resolve it?","title":"Making a Binary search Tree Generic","body":"<pre><code>public double sum(TreeNode root){\n    Queue&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\n    double sum = 0;\n    if(root!=null){\n        queue.add(root);\n    }\n    while(!queue.isEmpty()){\n        int size = queue.size();\n        for (int i = 0; i &lt; size; i++) {\n            TreeNode current = queue.remove();\n            sum += current.value;\n            if(current.leftChild!=null)\n                queue.add(current.leftChild);\n            if(current.rightChild!=null)\n                queue.add(current.rightChild);\n        }\n    }\n    return sum;\n}\n</code></pre>\n<p>Now I need to implement a generic binary search Tree which can store in the <code>value</code> field of a node either a <code>Character</code>, an <code>Integer</code> or <code>Double</code> (if <code>Character</code> is a generic parameter of the Tree, then its ASCII code sum will be returned from the <code>sum()</code> method).</p>\n<p>And I need to perform various operations, like <code>sum()</code> of all the node's values (also insert, delete, search, maximum, minimum, etc.).</p>\n<p>But I'm stuck on making my implementation generic. In the <code>sum()</code> method issues an error in the line</p>\n<pre><code>sum += current.value;\n</code></pre>\n<blockquote>\n<p>Operator + cannot be applied to T.</p>\n</blockquote>\n<p>How can I resolve it?</p>\n"},{"tags":["java","arrays","algorithm","for-loop","math"],"comments":[{"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"score":2,"creation_date":1671317542,"post_id":74837939,"comment_id":132074742,"body_markdown":"So the issue is you are trying to delete all of the islands except for the largest one? Is that a constant or will it be randomized each time?","body":"So the issue is you are trying to delete all of the islands except for the largest one? Is that a constant or will it be randomized each time?"},{"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"score":0,"creation_date":1671318386,"post_id":74837939,"comment_id":132074842,"body_markdown":"Yes, that&#39;s exactly what I am trying to do. And if you are referring to the numbers on the board as a constant, no. The board will be randomized but that is not gonna be an issue, because if the code does not work with the example provided, it will not work in any board.","body":"Yes, that&#39;s exactly what I am trying to do. And if you are referring to the numbers on the board as a constant, no. The board will be randomized but that is not gonna be an issue, because if the code does not work with the example provided, it will not work in any board."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1671320598,"post_id":74837939,"comment_id":132075079,"body_markdown":"Diagonally adjacent non-zero cells are considered to be connected, or only cells that are adjacent horizontally or vertically can form an island?","body":"Diagonally adjacent non-zero cells are considered to be connected, or only cells that are adjacent horizontally or vertically can form an island?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":1,"creation_date":1671324569,"post_id":74837939,"comment_id":132075505,"body_markdown":"I&#39;m not sure yet, but your task looks like a good candidate for application of https://en.wikipedia.org/wiki/Disjoint-set_data_structure The idea is that you iterate over all the points in your array, and spread them to the sets. This way you distribute all the points in the array over multiple sets. Then it remains only to find the largest set and remove all the rest.","body":"I&#39;m not sure yet, but your task looks like a good candidate for application of <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Disjoint-set_data_structure</a> The idea is that you iterate over all the points in your array, and spread them to the sets. This way you distribute all the points in the array over multiple sets. Then it remains only to find the largest set and remove all the rest."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671326546,"post_id":74837939,"comment_id":132075691,"body_markdown":"Suppose you have an array with 11 rows. The middle row is all `0`, and that is the only row which zeros appear. Which &quot;island&quot; should be removed?","body":"Suppose you have an array with 11 rows. The middle row is all <code>0</code>, and that is the only row which zeros appear. Which &quot;island&quot; should be removed?"},{"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"score":0,"creation_date":1671338318,"post_id":74837939,"comment_id":132076586,"body_markdown":"Only cells that are adjacent horizontally or vertically can form an island. Do not count diagonals. in my program the middle row will never be completely empty.","body":"Only cells that are adjacent horizontally or vertically can form an island. Do not count diagonals. in my program the middle row will never be completely empty."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671378039,"post_id":74837939,"comment_id":132082186,"body_markdown":"What if the largest island doesn&#39;t touch a border? That is, what if the largest island is entirely surrounded by zeros? Should it remain, with all smaller islands being removed?","body":"What if the largest island doesn&#39;t touch a border? That is, what if the largest island is entirely surrounded by zeros? Should it remain, with all smaller islands being removed?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671378088,"post_id":74837939,"comment_id":132082194,"body_markdown":"What if the two or three largest islands are equal in size? Is it arbitrary which should remain?","body":"What if the two or three largest islands are equal in size? Is it arbitrary which should remain?"}],"answers":[{"tags":[],"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671323205,"creation_date":1671323205,"answer_id":74838381,"question_id":74837939,"body_markdown":"This looks like a flood-fill problem which you&#39;ve already implemented, so the issue now is how do you determine which chunk to keep and which ones to remove.\r\n\r\nMy first thought towards implementation would be to create a hashmap containing a starting point (I&#39;d imagine the upper-leftmost coordinate) for each island, along with its size (determine this by modifying your flood-fill algorithm to have a running count while traversing an island). You could then sort the hashmap by the island size and call deleteIsland on every island that isn&#39;t the largest.","title":"How to delete an &quot;Island&quot; of numbers in a 2D array in Java","body":"<p>This looks like a flood-fill problem which you've already implemented, so the issue now is how do you determine which chunk to keep and which ones to remove.</p>\n<p>My first thought towards implementation would be to create a hashmap containing a starting point (I'd imagine the upper-leftmost coordinate) for each island, along with its size (determine this by modifying your flood-fill algorithm to have a running count while traversing an island). You could then sort the hashmap by the island size and call deleteIsland on every island that isn't the largest.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671402620,"creation_date":1671340163,"answer_id":74839246,"question_id":74837939,"body_markdown":"This problem can be solved in linear time **O(n)** by treating the cells of the given Matrix as the Vertexes of an *undirected disjointed* [*Graph*][graph].\r\n\r\nThe task boils down to exploring all [*Connected components*][components] (*islands*) in a Graph, and comparing them with each other.\r\n\r\nAnd for that we would need to implement of the Graph-traversal algorithms. I&#39;ve chosen the [*Depth first search*][dfs] algorithm for that purpose.\r\n\r\nTo keep things simple, a Vertex of a graph would be represented as an array `int[]` of two elements containing coordinates of a cell (*feel free to reimplement it by defining a separate class for a Vertex to make each vertex aware of it neighbors by holding a reference to a collection of Vertices*)\r\n\r\nFor convenience, I&#39;ve made several changes to your `DestroyIslands` class:\r\n* Introduced an inner class `Island`, which wraps a list of cells that constitute an Island (*Connected component of the Graph*). This class implements `Comparable` in based on size of the cells to make it easier to find the largest Island. And defines the method `destroy()` to nullify the rest Islands.\r\n* Introduced a `static` array `NEIGHBOURS` of type `int[][]` representing all possible adjacent cells, which should be considered while iterating through the matrix from left to right and from top to bottom.\r\n* Reference to the Matrix is stored in the instance field `grid`, and all methods of `DestroyIslands` are defined as instance methods (*if you want to keep them `static`, fill free to change them as you see fit, it would be easy if you grasp the algorithm itself*).\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n    public class DestroyIslands {\r\n        public static final int[][] NEIGHBOURS = // adjacent cells\r\n            {{0, 1},   // horizontal -\r\n             {1, 0},   // vertical   |\r\n             {1, 1},   // diagonal   \\\r\n             {1, -1}}; // diagonal   /\r\n    \r\n        private List&lt;Island&gt; islands = new ArrayList&lt;&gt;(); // collection of Islands\r\n        private int[][] grid; // matrix\r\n        \r\n        public DestroyIslands(int[][] grid) {\r\n            this.grid = grid;\r\n        }\r\n        \r\n        public class Island implements Comparable&lt;Island&gt; {\r\n            private List&lt;int[]&gt; cells = new ArrayList&lt;&gt;();\r\n            \r\n            public void addCell(int[] cell) {\r\n                cells.add(cell);\r\n            }\r\n            \r\n            public void destroy() {\r\n                cells.forEach(cell -&gt; grid[cell[0]][cell[1]] = 0);\r\n            }\r\n            \r\n            @Override\r\n            public int compareTo(Island other) {\r\n                return Integer.compare(cells.size(), other.cells.size());\r\n            }\r\n        }\r\n        \r\n        public void deleteIslandBoard() {\r\n            exploreIslands();\r\n            deleteSmallerIslands();\r\n        }\r\n        \r\n        public void exploreIslands() {\r\n            boolean[][] visited = new boolean[grid.length][grid[0].length];\r\n            \r\n            for (int i = 0; i &lt; grid.length; i++) {\r\n                for (int j = 0; j &lt; grid[0].length; j++) {\r\n                    \r\n                    if (!visited[i][j] &amp;&amp; grid[i][j] != 0) { // if a New Island was found\r\n                        exploreIsland(new int[]{i, j}, visited); // explore the Island, i.e. index all its cell and mark them as visited\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Depth first search implementation\r\n         */\r\n        public void exploreIsland(int[] cell, boolean[][] visited) {\r\n            Island island = new Island();\r\n            islands.add(island); // updating the list of Islands\r\n            \r\n            Deque&lt;int[]&gt; stack = new ArrayDeque&lt;&gt;();\r\n            stack.push(cell);\r\n            \r\n            while (!stack.isEmpty()) {\r\n                int[] next = stack.poll();\r\n                island.addCell(next);\r\n                \r\n                for (int[] shift : NEIGHBOURS) {\r\n                    int row = next[0] + shift[0];\r\n                    int col = next[1] + shift[1];\r\n                    \r\n                    if (isValid(row, col) &amp;&amp; !visited[row][col]) { // if cell exist, non-zero and not visited yet\r\n                        stack.push(new int[]{row, col});\r\n                        visited[row][col] = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public boolean isValid(int row, int col) {\r\n            return row &gt;= 0 &amp;&amp; row &lt; grid.length\r\n                &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; grid[0].length\r\n                &amp;&amp; grid[row][col] != 0;\r\n        }\r\n        \r\n        public void deleteSmallerIslands() {\r\n            if (islands.isEmpty()) return; // otherwise Collections.max() would throw NoSuchElementException\r\n\r\n            Island largest = Collections.max(islands);\r\n            for (Island next : islands) {\r\n                if (next != largest) next.destroy();\r\n            }\r\n        }\r\n        \r\n        public void printGrid() {\r\n            for (int i = 0; i &lt; grid.length; i++) {\r\n                for (int j = 0; j &lt; grid[i].length; j++) {\r\n                    System.out.print(grid[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n            int[][] example = {\r\n                {1, 2, 3, 1, 2},\r\n                {2, 3, 2, 1, 2},\r\n                {3, 2, 1, 2, 2},\r\n                {0, 2, 0, 0, 0},\r\n                {0, 0, 0, 2, 1}};\r\n            \r\n            DestroyIslands destroyIslands = new DestroyIslands(example);\r\n            destroyIslands.deleteIslandBoard();\r\n            destroyIslands.printGrid();\r\n        }\r\n\r\n*Output:*\r\n\r\n```\r\n1 2 3 1 2 \r\n2 3 2 1 2 \r\n3 2 1 2 2 \r\n0 2 0 0 0 \r\n0 0 0 0 0\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/BoG)\r\n\r\n\r\n\r\n   [graph]: https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\r\n\r\n   [components]: https://en.wikipedia.org/wiki/Component_(graph_theory)\r\n\r\n   [dfs]: https://en.wikipedia.org/wiki/Depth-first_search","title":"How to delete an &quot;Island&quot; of numbers in a 2D array in Java","body":"<p>This problem can be solved in linear time <strong>O(n)</strong> by treating the cells of the given Matrix as the Vertexes of an <em>undirected disjointed</em> <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\" rel=\"nofollow noreferrer\"><em>Graph</em></a>.</p>\n<p>The task boils down to exploring all <a href=\"https://en.wikipedia.org/wiki/Component_(graph_theory)\" rel=\"nofollow noreferrer\"><em>Connected components</em></a> (<em>islands</em>) in a Graph, and comparing them with each other.</p>\n<p>And for that we would need to implement of the Graph-traversal algorithms. I've chosen the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a> algorithm for that purpose.</p>\n<p>To keep things simple, a Vertex of a graph would be represented as an array <code>int[]</code> of two elements containing coordinates of a cell (<em>feel free to reimplement it by defining a separate class for a Vertex to make each vertex aware of it neighbors by holding a reference to a collection of Vertices</em>)</p>\n<p>For convenience, I've made several changes to your <code>DestroyIslands</code> class:</p>\n<ul>\n<li>Introduced an inner class <code>Island</code>, which wraps a list of cells that constitute an Island (<em>Connected component of the Graph</em>). This class implements <code>Comparable</code> in based on size of the cells to make it easier to find the largest Island. And defines the method <code>destroy()</code> to nullify the rest Islands.</li>\n<li>Introduced a <code>static</code> array <code>NEIGHBOURS</code> of type <code>int[][]</code> representing all possible adjacent cells, which should be considered while iterating through the matrix from left to right and from top to bottom.</li>\n<li>Reference to the Matrix is stored in the instance field <code>grid</code>, and all methods of <code>DestroyIslands</code> are defined as instance methods (<em>if you want to keep them <code>static</code>, fill free to change them as you see fit, it would be easy if you grasp the algorithm itself</em>).</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>public class DestroyIslands {\n    public static final int[][] NEIGHBOURS = // adjacent cells\n        {{0, 1},   // horizontal -\n         {1, 0},   // vertical   |\n         {1, 1},   // diagonal   \\\n         {1, -1}}; // diagonal   /\n\n    private List&lt;Island&gt; islands = new ArrayList&lt;&gt;(); // collection of Islands\n    private int[][] grid; // matrix\n    \n    public DestroyIslands(int[][] grid) {\n        this.grid = grid;\n    }\n    \n    public class Island implements Comparable&lt;Island&gt; {\n        private List&lt;int[]&gt; cells = new ArrayList&lt;&gt;();\n        \n        public void addCell(int[] cell) {\n            cells.add(cell);\n        }\n        \n        public void destroy() {\n            cells.forEach(cell -&gt; grid[cell[0]][cell[1]] = 0);\n        }\n        \n        @Override\n        public int compareTo(Island other) {\n            return Integer.compare(cells.size(), other.cells.size());\n        }\n    }\n    \n    public void deleteIslandBoard() {\n        exploreIslands();\n        deleteSmallerIslands();\n    }\n    \n    public void exploreIslands() {\n        boolean[][] visited = new boolean[grid.length][grid[0].length];\n        \n        for (int i = 0; i &lt; grid.length; i++) {\n            for (int j = 0; j &lt; grid[0].length; j++) {\n                \n                if (!visited[i][j] &amp;&amp; grid[i][j] != 0) { // if a New Island was found\n                    exploreIsland(new int[]{i, j}, visited); // explore the Island, i.e. index all its cell and mark them as visited\n                }\n            }\n        }\n    }\n    \n    /**\n     * Depth first search implementation\n     */\n    public void exploreIsland(int[] cell, boolean[][] visited) {\n        Island island = new Island();\n        islands.add(island); // updating the list of Islands\n        \n        Deque&lt;int[]&gt; stack = new ArrayDeque&lt;&gt;();\n        stack.push(cell);\n        \n        while (!stack.isEmpty()) {\n            int[] next = stack.poll();\n            island.addCell(next);\n            \n            for (int[] shift : NEIGHBOURS) {\n                int row = next[0] + shift[0];\n                int col = next[1] + shift[1];\n                \n                if (isValid(row, col) &amp;&amp; !visited[row][col]) { // if cell exist, non-zero and not visited yet\n                    stack.push(new int[]{row, col});\n                    visited[row][col] = true;\n                }\n            }\n        }\n    }\n    \n    public boolean isValid(int row, int col) {\n        return row &gt;= 0 &amp;&amp; row &lt; grid.length\n            &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; grid[0].length\n            &amp;&amp; grid[row][col] != 0;\n    }\n    \n    public void deleteSmallerIslands() {\n        if (islands.isEmpty()) return; // otherwise Collections.max() would throw NoSuchElementException\n\n        Island largest = Collections.max(islands);\n        for (Island next : islands) {\n            if (next != largest) next.destroy();\n        }\n    }\n    \n    public void printGrid() {\n        for (int i = 0; i &lt; grid.length; i++) {\n            for (int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n        int[][] example = {\n            {1, 2, 3, 1, 2},\n            {2, 3, 2, 1, 2},\n            {3, 2, 1, 2, 2},\n            {0, 2, 0, 0, 0},\n            {0, 0, 0, 2, 1}};\n        \n        DestroyIslands destroyIslands = new DestroyIslands(example);\n        destroyIslands.deleteIslandBoard();\n        destroyIslands.printGrid();\n    }\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1 2 3 1 2 \n2 3 2 1 2 \n3 2 1 2 2 \n0 2 0 0 0 \n0 0 0 0 0\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/BoG\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74839246,"answer_count":2,"score":8,"last_activity_date":1671402620,"creation_date":1671316594,"question_id":74837939,"body_markdown":"I&#39;m creating a method that takes a 2D array and scans throughout the array to find &quot;Chunks&quot; of numbers that are completely surrounded by zeros and convert those Chunks (I call them the islands) into zeros. \r\n\r\nI&#39;m trying to delete all of the &quot;islands&quot; except for the largest one.\r\n\r\nFor example, for this 2D array\r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 1 2 0\r\n0 0 0 0 0 0 \r\n```\r\n\r\nAfter the method the 2D array should now be: \r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 0 0 0\r\n0 0 0 0 0 0 \r\n```\r\n\r\nthe small chunk of ```1 2 ``` is &quot;deleted&quot;\r\n\r\nHere is a second example, as the method should also take chunks of numbers that are not part of the &quot;main&quot; chunk as Islands and that are on the edges as well. \r\n\r\nThe original array would be:\r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 1 2 3\r\n0 0 0 0 3 2 \r\n```\r\n\r\nAfter the method execution, it should be:\r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 0 0 0\r\n0 0 0 0 0 0 \r\n```\r\n\r\nIn this case, the island\r\n```\r\n1 2 3 \r\n  3 2\r\n```\r\n\r\nis deleted because it is separate from the big chunk and is surrounded by zeros. \r\n\r\nThe following code is the one I have so far, and it does not work as intended. It&#39;s wrong because I believe that it&#39;s taking the main chunk as an Island, and what happens is that it converts the entire array into zeros instead of deleting only the small Islands. It includes an example, and you should see what It does when you run it.\r\n\r\n```\r\npublic class destroyIslands {\r\n    public static void main(String[] args) {\r\n        int[][] example = { {1, 2, 3, 1, 2},\r\n                            {2, 3, 2, 1, 2},\r\n                            {3, 2, 1, 2, 2},\r\n                            {0, 2, 0, 0, 0},\r\n                            {0, 0, 0, 2, 1} };\r\n        \r\n        example = deleteIslandBoard(example);\r\n        printGrid(example);\r\n    }\r\n    \r\n    public static int[][] deleteIslandBoard(int[][] array) {\r\n      // Create a boolean array to track which cells have been visited\r\n      boolean[][] visited = new boolean[array.length][array[0].length];\r\n    \r\n      // Iterate \r\n      for (int i = 0; i &lt; array.length; i++) {\r\n        for (int j = 0; j &lt; array[0].length; j++) {\r\n            // If the cell is not visited and is part of an island\r\n            if (!visited[i][j] &amp;&amp; array[i][j] != 0) {\r\n                // Delete the island by setting all cells to 0\r\n                deleteIsland(array, i, j, visited);\r\n            }\r\n        }\r\n      }\r\n      // Return the modified array\r\n      return array;\r\n    }\r\n\r\n    public static void deleteIsland(int[][] array, int i, int j, boolean[][] visited) {\r\n      // Check if the current cell is out of board or if it has already been visited\r\n      if (i &lt; 0 || i &gt;= array.length || j &lt; 0 || j &gt;= array[0].length || visited[i][j]) {\r\n        return;\r\n      }\r\n      // Mark the current cell as visited\r\n      visited[i][j] = true; // If the current cell is part of the island, set it to 0\r\n      if (array[i][j] != 0) {\r\n        array[i][j] = 0;\r\n        // Recursively delete the neighboring cells that are part of the island\r\n        deleteIsland(array, i - 1, j, visited);\r\n        deleteIsland(array, i + 1, j, visited);\r\n        deleteIsland(array, i, j - 1, visited);\r\n        deleteIsland(array, i, j + 1, visited);\r\n      }\r\n    }\r\n    \r\n    public static void printGrid(int[][] grid) {\r\n        for(int i = 0; i &lt; grid.length; i++) {\r\n            for(int j = 0; j &lt; grid[i].length; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny idea of what should I change?","title":"How to delete an &quot;Island&quot; of numbers in a 2D array in Java","body":"<p>I'm creating a method that takes a 2D array and scans throughout the array to find &quot;Chunks&quot; of numbers that are completely surrounded by zeros and convert those Chunks (I call them the islands) into zeros.</p>\n<p>I'm trying to delete all of the &quot;islands&quot; except for the largest one.</p>\n<p>For example, for this 2D array</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 1 2 0\n0 0 0 0 0 0 \n</code></pre>\n<p>After the method the 2D array should now be:</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 0 0 0\n0 0 0 0 0 0 \n</code></pre>\n<p>the small chunk of <code>1 2 </code> is &quot;deleted&quot;</p>\n<p>Here is a second example, as the method should also take chunks of numbers that are not part of the &quot;main&quot; chunk as Islands and that are on the edges as well.</p>\n<p>The original array would be:</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 1 2 3\n0 0 0 0 3 2 \n</code></pre>\n<p>After the method execution, it should be:</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 0 0 0\n0 0 0 0 0 0 \n</code></pre>\n<p>In this case, the island</p>\n<pre><code>1 2 3 \n  3 2\n</code></pre>\n<p>is deleted because it is separate from the big chunk and is surrounded by zeros.</p>\n<p>The following code is the one I have so far, and it does not work as intended. It's wrong because I believe that it's taking the main chunk as an Island, and what happens is that it converts the entire array into zeros instead of deleting only the small Islands. It includes an example, and you should see what It does when you run it.</p>\n<pre><code>public class destroyIslands {\n    public static void main(String[] args) {\n        int[][] example = { {1, 2, 3, 1, 2},\n                            {2, 3, 2, 1, 2},\n                            {3, 2, 1, 2, 2},\n                            {0, 2, 0, 0, 0},\n                            {0, 0, 0, 2, 1} };\n        \n        example = deleteIslandBoard(example);\n        printGrid(example);\n    }\n    \n    public static int[][] deleteIslandBoard(int[][] array) {\n      // Create a boolean array to track which cells have been visited\n      boolean[][] visited = new boolean[array.length][array[0].length];\n    \n      // Iterate \n      for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array[0].length; j++) {\n            // If the cell is not visited and is part of an island\n            if (!visited[i][j] &amp;&amp; array[i][j] != 0) {\n                // Delete the island by setting all cells to 0\n                deleteIsland(array, i, j, visited);\n            }\n        }\n      }\n      // Return the modified array\n      return array;\n    }\n\n    public static void deleteIsland(int[][] array, int i, int j, boolean[][] visited) {\n      // Check if the current cell is out of board or if it has already been visited\n      if (i &lt; 0 || i &gt;= array.length || j &lt; 0 || j &gt;= array[0].length || visited[i][j]) {\n        return;\n      }\n      // Mark the current cell as visited\n      visited[i][j] = true; // If the current cell is part of the island, set it to 0\n      if (array[i][j] != 0) {\n        array[i][j] = 0;\n        // Recursively delete the neighboring cells that are part of the island\n        deleteIsland(array, i - 1, j, visited);\n        deleteIsland(array, i + 1, j, visited);\n        deleteIsland(array, i, j - 1, visited);\n        deleteIsland(array, i, j + 1, visited);\n      }\n    }\n    \n    public static void printGrid(int[][] grid) {\n        for(int i = 0; i &lt; grid.length; i++) {\n            for(int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Any idea of what should I change?</p>\n"},{"tags":["java","spring","spring-boot","prometheus","prometheus-java"],"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671401947,"creation_date":1671039514,"question_id":74802246,"body_markdown":"I am exposing two counter metrics from my spring boot application. The metrics are getting generated and the counters increase by 1 when the requests succeed. I am facing 2 issues - 1) The name of the counter is getting appended by &quot;_total&quot; even though I did not add that and I don&#39;t want it to be added, 2) The last label ends with an open &#39;,&#39;. I want to remove this last &#39;,&#39;. \r\nHere is my code:\r\n\r\n```\r\npublic class PrometheusUtility {\r\n\r\n\tprivate PrometheusUtility(){\r\n\t\r\n\t}\r\n\t\r\n\tstatic CollectorRegistry registry = CollectorRegistry.defaultRegistry;\t\r\n\t\r\n\tstatic final Counter counter = Counter.build().name(&quot;http_request&quot;).help(&quot;help&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;).register(registry);\r\n\tstatic final Counter dsCounter = Counter.build().name(&quot;http_downstream_request&quot;).help(&quot;Records the downstream request count&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;, &quot;downstream&quot;).register(registry);\t\r\n\t\r\n\tpublic static void incrementCounter(String method, String status, String apiName, String component){\r\n\t\tcounter.labels(method,status,apiName,component).inc();\t    \r\n\t}\r\n\t\r\n\tpublic static void incrementDownstreamCounter(String method, String status, String apiName, String component, String downstream){\r\n\t\tdsCounter.labels(method,status,apiName,component, downstream).inc();\t    \r\n\t}\t\r\n\t\r\n}\r\n```\r\nI am calling these functions from the business class:\r\n\r\n```\r\nPrometheusUtility.incrementCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;);\r\nPrometheusUtility.incrementDownstreamCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;, &quot;mwi&quot;);\r\n```\r\n\r\nThe pom.xml has this dependency added\r\n```\r\n       &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;simpleclient_spring_boot&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;0.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nThe output I am checking in the browser where my application is up and running (not in Prometheus):\r\n```\r\nhttp_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,} 1.0\r\nhttp_downstream_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,downstream=&quot;mwi&quot;,} 1.0\r\n```\r\n\r\nIssue:\r\n1) Both metric names are getting an additional &quot;_total&quot; appended to it. I don&#39;t want this to be added by default. It should be same as the name I have put in the Utility class. \r\n\r\n2) Both metrics have an open &#39;,&#39; or comma at the end. Ideally this should not be there. A metric does not have an open comma at the end. Not sure why it&#39;s adding this comma. I have specified the correct number of labels at the creation time of the counter and populating the labels correctly for incrementing. Not sure where this comma is coming from. \r\n\r\nPlease let me know how I could fix these issues. ","title":"Generating metrics for Prometheus from Spring Boot application","body":"<p>I am exposing two counter metrics from my spring boot application. The metrics are getting generated and the counters increase by 1 when the requests succeed. I am facing 2 issues - 1) The name of the counter is getting appended by &quot;_total&quot; even though I did not add that and I don't want it to be added, 2) The last label ends with an open ','. I want to remove this last ','.\nHere is my code:</p>\n<pre><code>public class PrometheusUtility {\n\n    private PrometheusUtility(){\n    \n    }\n    \n    static CollectorRegistry registry = CollectorRegistry.defaultRegistry;  \n    \n    static final Counter counter = Counter.build().name(&quot;http_request&quot;).help(&quot;help&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;).register(registry);\n    static final Counter dsCounter = Counter.build().name(&quot;http_downstream_request&quot;).help(&quot;Records the downstream request count&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;, &quot;downstream&quot;).register(registry);    \n    \n    public static void incrementCounter(String method, String status, String apiName, String component){\n        counter.labels(method,status,apiName,component).inc();      \n    }\n    \n    public static void incrementDownstreamCounter(String method, String status, String apiName, String component, String downstream){\n        dsCounter.labels(method,status,apiName,component, downstream).inc();        \n    }   \n    \n}\n</code></pre>\n<p>I am calling these functions from the business class:</p>\n<pre><code>PrometheusUtility.incrementCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;);\nPrometheusUtility.incrementDownstreamCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;, &quot;mwi&quot;);\n</code></pre>\n<p>The pom.xml has this dependency added</p>\n<pre><code>       &lt;dependency&gt;\n          &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n          &lt;artifactId&gt;simpleclient_spring_boot&lt;/artifactId&gt;\n          &lt;version&gt;0.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The output I am checking in the browser where my application is up and running (not in Prometheus):</p>\n<pre><code>http_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,} 1.0\nhttp_downstream_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,downstream=&quot;mwi&quot;,} 1.0\n</code></pre>\n<p>Issue:</p>\n<ol>\n<li><p>Both metric names are getting an additional &quot;_total&quot; appended to it. I don't want this to be added by default. It should be same as the name I have put in the Utility class.</p>\n</li>\n<li><p>Both metrics have an open ',' or comma at the end. Ideally this should not be there. A metric does not have an open comma at the end. Not sure why it's adding this comma. I have specified the correct number of labels at the creation time of the counter and populating the labels correctly for incrementing. Not sure where this comma is coming from.</p>\n</li>\n</ol>\n<p>Please let me know how I could fix these issues.</p>\n"},{"tags":["java","maven","jax-rs","quarkus","openapi-generator"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1671305222,"post_id":74755162,"comment_id":132072651,"body_markdown":"can you put a small reproducer to github ?","body":"can you put a small reproducer to github ?"}],"answers":[{"tags":[],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671401537,"creation_date":1671401537,"answer_id":74844743,"question_id":74755162,"body_markdown":"Problem was generated files : they were not compiled. This explain errors messages. \r\n\r\nSolution was adding a maven helper plugin : \r\n```\r\n &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;add-source&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-source&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sources&gt;\r\n                &lt;source&gt;src/main/newsrc/&lt;/source&gt;\r\n              &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"COMPILATION ERROR : package XXX does not exist","body":"<p>Problem was generated files : they were not compiled. This explain errors messages.</p>\n<p>Solution was adding a maven helper plugin :</p>\n<pre><code> &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;add-source&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sources&gt;\n                &lt;source&gt;src/main/newsrc/&lt;/source&gt;\n              &lt;/sources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74844743,"answer_count":1,"score":0,"last_activity_date":1671401537,"creation_date":1670693577,"question_id":74755162,"body_markdown":"I am using the `open-api generator plugin` in my java project.\r\n\r\nFor more information about the plugin, see [homepage](https://openapi-generator.tech/) and the [generator jaxrs-spec](https://openapi-generator.tech/docs/generators/jaxrs-spec/) i use.\r\n\r\nFiles are generated under the source folder i specified, but, when i&#39;m implementing thoses files in my project (like a generated interface), maven compiler plugin fail during the `compile` goal.\r\n\r\nHere is the complete error stack trace when i&#39;m using `mvn clean compile` command :\r\n\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[3,23] package com.example.api does not exist\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,26] cannot find symbol\r\n  symbol:   class RestResourceRoot\r\n  location: package com.example\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,1] static import only from classes and interfaces\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[16,35] cannot find symbol\r\n  symbol: class UsersApi\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[15,7] cannot find symbol\r\n  symbol: variable APPLICATION_PATH\r\n```\r\n\r\nthese files are generated in my `/target` folder. As you can see on the following screen : [![enter image description here](https://i.stack.imgur.com/PjR66.png)](https://i.stack.imgur.com/PjR66.png)\r\n\r\nHere is a part of my `pom.xml` where i registered the `openapi-generator-maven-plugin` in the `&lt;build&gt;` section :\r\n\r\n```\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;generate&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;inputSpec&gt;${project.basedir}/src/main/resources/pistache-api.yaml&lt;/inputSpec&gt;\r\n          &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\r\n          &lt;apiPackage&gt;com.example.api&lt;/apiPackage&gt;\r\n          &lt;modelPackage&gt;\r\n            com.example.api.model\r\n          &lt;/modelPackage&gt;\r\n          &lt;configOptions&gt;\r\n            &lt;useSwaggerAnnotations&gt;false&lt;/useSwaggerAnnotations&gt;\r\n            &lt;library&gt;quarkus&lt;/library&gt;\r\n            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n            &lt;useTags&gt;true&lt;/useTags&gt;\r\n            &lt;useBeanValidation&gt;false&lt;/useBeanValidation&gt;\r\n            &lt;returnResponse&gt;true&lt;/returnResponse&gt;\r\n          &lt;/configOptions&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n```\r\n\r\nHere is my controller  `src/main/java/com/example/controller/BasicAuth.java` in which I implement the generated interface and in which the errors are located:\r\n\r\n```\r\npackage com.example.controller;\r\n\r\nimport com.example.api.UsersApi;\r\nimport com.example.client.RestClientBasicAuth;\r\nimport com.example.config.BasicUserConfig;\r\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\r\n\r\n\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport static com.example.RestResourceRoot.APPLICATION_PATH;\r\n\r\n@Path(APPLICATION_PATH)\r\npublic class BasicAuth implements UsersApi {\r\n\r\n    @Override\r\n    public Response retrievePwdGet() {\r\n       // my custom implementation \r\n    }\r\n}\r\n```\r\n\r\nHere is the interface `target/generated-sources/openapi/src/gen/java/com/example/api/UsersApi.java` :\r\n\r\n```\r\npackage com.example.api;\r\n\r\n\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.Response;\r\n\r\n\r\nimport java.io.InputStream;\r\nimport java.util.Map;\r\nimport java.util.List;\r\n\r\n\r\n@Path(&quot;/retrieve-pwd&quot;)\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2022-12-10T18:01:45.461936200+01:00[Europe/Paris]&quot;)\r\npublic interface UsersApi {\r\n\r\n    @GET\r\n    @Produces({ &quot;application/json&quot; })\r\n    Response retrievePwdGet();\r\n}\r\n```\r\n\r\nI don&#39;t know what&#39;s going wrong here. My IDE does not report any errors, although I know that the IDE cannot be fully trusted.\r\n\r\nFinally, my application can be started correctly via the IDE, but the controller endpoint for my `GET` method is not the one defined in the `UsersApi` interface. The path is not `api/v1/retrieve-pwd`, but `api/v1`.\r\n\r\nThis behavior is also strange. Maybe by overloading the method in my controller the path can be modified, but, the path is not defined on the method but on the interface.\r\n\r\nI await your comments or feedback and thank you in advance","title":"COMPILATION ERROR : package XXX does not exist","body":"<p>I am using the <code>open-api generator plugin</code> in my java project.</p>\n<p>For more information about the plugin, see <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">homepage</a> and the <a href=\"https://openapi-generator.tech/docs/generators/jaxrs-spec/\" rel=\"nofollow noreferrer\">generator jaxrs-spec</a> i use.</p>\n<p>Files are generated under the source folder i specified, but, when i'm implementing thoses files in my project (like a generated interface), maven compiler plugin fail during the <code>compile</code> goal.</p>\n<p>Here is the complete error stack trace when i'm using <code>mvn clean compile</code> command :</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[3,23] package com.example.api does not exist\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,26] cannot find symbol\n  symbol:   class RestResourceRoot\n  location: package com.example\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,1] static import only from classes and interfaces\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[16,35] cannot find symbol\n  symbol: class UsersApi\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[15,7] cannot find symbol\n  symbol: variable APPLICATION_PATH\n</code></pre>\n<p>these files are generated in my <code>/target</code> folder. As you can see on the following screen : <a href=\"https://i.stack.imgur.com/PjR66.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PjR66.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a part of my <code>pom.xml</code> where i registered the <code>openapi-generator-maven-plugin</code> in the <code>&lt;build&gt;</code> section :</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.2.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;inputSpec&gt;${project.basedir}/src/main/resources/pistache-api.yaml&lt;/inputSpec&gt;\n          &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\n          &lt;apiPackage&gt;com.example.api&lt;/apiPackage&gt;\n          &lt;modelPackage&gt;\n            com.example.api.model\n          &lt;/modelPackage&gt;\n          &lt;configOptions&gt;\n            &lt;useSwaggerAnnotations&gt;false&lt;/useSwaggerAnnotations&gt;\n            &lt;library&gt;quarkus&lt;/library&gt;\n            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n            &lt;useTags&gt;true&lt;/useTags&gt;\n            &lt;useBeanValidation&gt;false&lt;/useBeanValidation&gt;\n            &lt;returnResponse&gt;true&lt;/returnResponse&gt;\n          &lt;/configOptions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Here is my controller  <code>src/main/java/com/example/controller/BasicAuth.java</code> in which I implement the generated interface and in which the errors are located:</p>\n<pre><code>package com.example.controller;\n\nimport com.example.api.UsersApi;\nimport com.example.client.RestClientBasicAuth;\nimport com.example.config.BasicUserConfig;\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\n\n\nimport javax.inject.Inject;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Response;\n\nimport static com.example.RestResourceRoot.APPLICATION_PATH;\n\n@Path(APPLICATION_PATH)\npublic class BasicAuth implements UsersApi {\n\n    @Override\n    public Response retrievePwdGet() {\n       // my custom implementation \n    }\n}\n</code></pre>\n<p>Here is the interface <code>target/generated-sources/openapi/src/gen/java/com/example/api/UsersApi.java</code> :</p>\n<pre><code>package com.example.api;\n\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.Response;\n\n\nimport java.io.InputStream;\nimport java.util.Map;\nimport java.util.List;\n\n\n@Path(&quot;/retrieve-pwd&quot;)\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2022-12-10T18:01:45.461936200+01:00[Europe/Paris]&quot;)\npublic interface UsersApi {\n\n    @GET\n    @Produces({ &quot;application/json&quot; })\n    Response retrievePwdGet();\n}\n</code></pre>\n<p>I don't know what's going wrong here. My IDE does not report any errors, although I know that the IDE cannot be fully trusted.</p>\n<p>Finally, my application can be started correctly via the IDE, but the controller endpoint for my <code>GET</code> method is not the one defined in the <code>UsersApi</code> interface. The path is not <code>api/v1/retrieve-pwd</code>, but <code>api/v1</code>.</p>\n<p>This behavior is also strange. Maybe by overloading the method in my controller the path can be modified, but, the path is not defined on the method but on the interface.</p>\n<p>I await your comments or feedback and thank you in advance</p>\n"},{"tags":["java","command","javac"],"owner":{"account_id":20057391,"reputation":23,"user_id":14704780,"display_name":"Guruunoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671402199,"answer_count":0,"score":0,"last_activity_date":1671401402,"creation_date":1671401402,"question_id":74844735,"body_markdown":"I&#39;m trying to create my workspace without IDE and I want to put files and packages in the source folder but I don&#39;t know how to compile all java files.\r\n\r\nI searched and found it, but this command only get java files of source folder:\r\n```\r\njavac -d bin/ src/*.java\r\n```\r\nI need to get java files of all folder into source folder.","title":"How to get java files of all folder into source folder","body":"<p>I'm trying to create my workspace without IDE and I want to put files and packages in the source folder but I don't know how to compile all java files.</p>\n<p>I searched and found it, but this command only get java files of source folder:</p>\n<pre><code>javac -d bin/ src/*.java\n</code></pre>\n<p>I need to get java files of all folder into source folder.</p>\n"},{"tags":["java","android","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":18858542,"reputation":1,"user_id":13755939,"display_name":"Роман Оболонский"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671387918,"creation_date":1671387918,"answer_id":74843497,"question_id":74657561,"body_markdown":"First of all, it is not recommended to provide context to the dagger graph via module constructor. You should use the ```@BindsInstance``` annotation in your dagger component builder.\r\n\r\nAlso, you can not create a module with the constructor param of activity. You probably want to inject some object into your ```MainActivity```. In this case, you need to create a method in your dagger component with a similar declaration and call it in your activity before calling\r\n\r\n```ApplicationComponent```\r\n\r\n    public interface ApplicationComponent {\r\n        // your previous code\r\n\r\n        void inject(MainActivity target);\r\n    }\r\n\r\n```MainActivity```\r\n\r\n    \r\n    @Inject SomeClass someClass; // &lt;- some class you want to inject from graph\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ((MvpApp) getApplicationContext()).mApplicationComponent.inject(this);\r\n        super.onCreate(savedInstanceState);\r\n        // your code\r\n    }","title":"Dagger2 - Module must be set","body":"<p>First of all, it is not recommended to provide context to the dagger graph via module constructor. You should use the <code>@BindsInstance</code> annotation in your dagger component builder.</p>\n<p>Also, you can not create a module with the constructor param of activity. You probably want to inject some object into your <code>MainActivity</code>. In this case, you need to create a method in your dagger component with a similar declaration and call it in your activity before calling</p>\n<p><code>ApplicationComponent</code></p>\n<pre><code>public interface ApplicationComponent {\n    // your previous code\n\n    void inject(MainActivity target);\n}\n</code></pre>\n<p><code>MainActivity</code></p>\n<pre><code>@Inject SomeClass someClass; // &lt;- some class you want to inject from graph\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ((MvpApp) getApplicationContext()).mApplicationComponent.inject(this);\n    super.onCreate(savedInstanceState);\n    // your code\n}\n</code></pre>\n"}],"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671401392,"creation_date":1669992518,"question_id":74657561,"body_markdown":"I have Application component with two modules - applicationModule and activityModule.\r\nIn my `MvpApp.java` class i create component with modules:\r\n```\r\npublic class MvpApp extends Application {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mApplicationComponent = DaggerApplicationComponent.builder()\r\n                .activityModule(new ActivityModule())\r\n                .applicationModule(new ApplicationModule(this))\r\n                .build();\r\n    }\r\n}\r\n```\r\nMy `ApplicationModule` has constructor with `Application` and i send it. But my `Activity module has constructor:\r\n```\r\n    public ActivityModule(AppCompatActivity activity) {\r\n        this.mActivity = activity;\r\n    }\r\n```\r\nAnd how can i send my `MainActivity` instance into this constructor?\r\nWhen i try \r\n```\r\n        mApplicationComponent = DaggerApplicationComponent.builder()\r\n                .activityModule(new ActivityModule(new MainActivity()))\r\n                .applicationModule(new ApplicationModule(this))\r\n                .build();\r\n```\r\nI get an error.","title":"Dagger2 - Module must be set","body":"<p>I have Application component with two modules - applicationModule and activityModule.\nIn my <code>MvpApp.java</code> class i create component with modules:</p>\n<pre><code>public class MvpApp extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mApplicationComponent = DaggerApplicationComponent.builder()\n                .activityModule(new ActivityModule())\n                .applicationModule(new ApplicationModule(this))\n                .build();\n    }\n}\n</code></pre>\n<p>My <code>ApplicationModule</code> has constructor with <code>Application</code> and i send it. But my `Activity module has constructor:</p>\n<pre><code>    public ActivityModule(AppCompatActivity activity) {\n        this.mActivity = activity;\n    }\n</code></pre>\n<p>And how can i send my <code>MainActivity</code> instance into this constructor?\nWhen i try</p>\n<pre><code>        mApplicationComponent = DaggerApplicationComponent.builder()\n                .activityModule(new ActivityModule(new MainActivity()))\n                .applicationModule(new ApplicationModule(this))\n                .build();\n</code></pre>\n<p>I get an error.</p>\n"},{"tags":["java","android","fragment","android-linearlayout","fragmentmanager"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1671394996,"post_id":74843610,"comment_id":132085115,"body_markdown":"Whatever logic you&#39;re using to decide to add fragments-  reverse that, so you add them in the opposite order.  Or don&#39;t use Fragments-  they&#39;re not a requirement to use, and many companies that write Android apps have style guides that ban them-  they can be problematic for reasons like this over just using views.","body":"Whatever logic you&#39;re using to decide to add fragments-  reverse that, so you add them in the opposite order.  Or don&#39;t use Fragments-  they&#39;re not a requirement to use, and many companies that write Android apps have style guides that ban them-  they can be problematic for reasons like this over just using views."},{"owner":{"account_id":27291540,"reputation":1,"user_id":20809851,"display_name":"Toasted_Donut"},"score":0,"creation_date":1671398862,"post_id":74843610,"comment_id":132085827,"body_markdown":"@GabeSechan I&#39;m using fragments, cause i have logic on them, i&#39;ll update question with code.","body":"@GabeSechan I&#39;m using fragments, cause i have logic on them, i&#39;ll update question with code."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671421583,"post_id":74843610,"comment_id":132088671,"body_markdown":"Having logic still doesn&#39;t require Fragments.  I would say most companies I&#39;ve worked for avoid them, they just cause more problems than needed.  They frequently use something very similar to fragments, but home rolled without a lot of the issues of the official class.","body":"Having logic still doesn&#39;t require Fragments.  I would say most companies I&#39;ve worked for avoid them, they just cause more problems than needed.  They frequently use something very similar to fragments, but home rolled without a lot of the issues of the official class."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671421641,"post_id":74843610,"comment_id":132088675,"body_markdown":"Also, that level of logic is  completely acceptable within a view.  It&#39;s business logic you want to keep away from it, not the functionality of the view itself.","body":"Also, that level of logic is  completely acceptable within a view.  It&#39;s business logic you want to keep away from it, not the functionality of the view itself."}],"owner":{"account_id":27291540,"reputation":1,"user_id":20809851,"display_name":"Toasted_Donut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671399085,"creation_date":1671389486,"question_id":74843610,"body_markdown":"I have a fragment containing LinearLayout, where programmaticaly added fragments using:\r\n\r\n```\r\ngetFragmentManager().beginTransaction().add(R.id.linear_layout, CheckTemplateFragment.newInstance(*params*).commit();\r\n```\r\nAnd it filling linear layout from Top to Bottom, but I need it in reverse, Bottom to Top, aka adding new Fragment to first position, on top if linear layout.\r\n\r\n\r\nI know about .addView(View, index), and with index=0 it will work, BUT it works with Views only, not Fragment.newInstance()\r\nI also tried to change in layout xml:\r\n\r\n```\r\nandroid:gravity=&quot;bottom&quot;\r\n```\r\ndoesn&#39;t do trick\r\nI also heared that &#39;wraping&#39; fragment with View can do trick using .addView instead of .add.\r\nBut is there more clean way to do this?\r\n\r\nHere xml of fragments that are being added:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/check_template&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    tools:context=&quot;.CheckTemplateFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/btn_expand&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:foreground=&quot;@drawable/button_expand&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/check_date&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_toStartOf=&quot;@+id/btn_expand&quot; /&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/check_extra&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/btn_expand&quot;\r\n        android:background=&quot;@color/teal_200&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nI&#39;m using fragment cause i need handle button onClick:\r\n```\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isExpanded = !isExpanded;\r\n                if(isExpanded){\r\n                    extra.setVisibility(View.VISIBLE);\r\n                    btn.startAnimation(anim_rot_cw);\r\n                }\r\n                else {\r\n                    extra.setVisibility(View.GONE);\r\n                    btn.startAnimation(anim_rot_ccw);\r\n                }\r\n            }\r\n        });\r\n```","title":"Android. Is there way to invert order of adding Fragments to LinearLayout?","body":"<p>I have a fragment containing LinearLayout, where programmaticaly added fragments using:</p>\n<pre><code>getFragmentManager().beginTransaction().add(R.id.linear_layout, CheckTemplateFragment.newInstance(*params*).commit();\n</code></pre>\n<p>And it filling linear layout from Top to Bottom, but I need it in reverse, Bottom to Top, aka adding new Fragment to first position, on top if linear layout.</p>\n<p>I know about .addView(View, index), and with index=0 it will work, BUT it works with Views only, not Fragment.newInstance()\nI also tried to change in layout xml:</p>\n<pre><code>android:gravity=&quot;bottom&quot;\n</code></pre>\n<p>doesn't do trick\nI also heared that 'wraping' fragment with View can do trick using .addView instead of .add.\nBut is there more clean way to do this?</p>\n<p>Here xml of fragments that are being added:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/check_template&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:animateLayoutChanges=&quot;true&quot;\n    tools:context=&quot;.CheckTemplateFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/btn_expand&quot;\n        android:layout_width=&quot;40dp&quot;\n\n        android:layout_height=&quot;40dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:foreground=&quot;@drawable/button_expand&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/check_date&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_toStartOf=&quot;@+id/btn_expand&quot; /&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/check_extra&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/btn_expand&quot;\n        android:background=&quot;@color/teal_200&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I'm using fragment cause i need handle button onClick:</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                isExpanded = !isExpanded;\n                if(isExpanded){\n                    extra.setVisibility(View.VISIBLE);\n                    btn.startAnimation(anim_rot_cw);\n                }\n                else {\n                    extra.setVisibility(View.GONE);\n                    btn.startAnimation(anim_rot_ccw);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671379525,"creation_date":1671379525,"answer_id":74842752,"question_id":74842718,"body_markdown":"Your `for (int i = 0; i &lt; 400; i++) {` is not properly closed where you wanted it to be closed.\r\nIt currently looks like this (when being properly formatted):\r\n\r\n```java\r\n    for (int i = 0; i &lt; 400; i++) {\r\n      if (i % 20 == 0) {\r\n        float x = random.nextFloat() * 800 - 400;\r\n        float z = random.nextFloat() * -600;\r\n        float y = terrain.getHeightOfTerrain(x, z);\r\n        entities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n                0, 0.9f));\r\n      }\r\n      if (i % 5 == 0) {\r\n        float x = random.nextFloat() * 800 - 400;\r\n        float z = random.nextFloat() * -600;\r\n        float y = terrain.getHeightOfTerrain(x, z);\r\n        entities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n                0, random.nextFloat() * 0.1f + 0.6f));\r\n        x = random.nextFloat() * 800 - 400;\r\n        z = random.nextFloat() * -600;\r\n        y = terrain.getHeightOfTerrain(x, z);\r\n        entities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\r\n      }\r\n\r\n      // !!! everything below here is STILL inside the for loop. !!!\r\n\r\n      MasterRenderer renderer = new MasterRenderer();\r\n\r\n      RawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\r\n\r\n```\r\n\r\nYou likely wanted to close the for-loop before:\r\n```java\r\n      MasterRenderer renderer = new MasterRenderer();\r\n```","title":"How to fix the Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:Syntax error, insert &quot;}&quot; to complete ClassBody error?","body":"<p>Your <code>for (int i = 0; i &lt; 400; i++) {</code> is not properly closed where you wanted it to be closed.\nIt currently looks like this (when being properly formatted):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; 400; i++) {\n      if (i % 20 == 0) {\n        float x = random.nextFloat() * 800 - 400;\n        float z = random.nextFloat() * -600;\n        float y = terrain.getHeightOfTerrain(x, z);\n        entities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                0, 0.9f));\n      }\n      if (i % 5 == 0) {\n        float x = random.nextFloat() * 800 - 400;\n        float z = random.nextFloat() * -600;\n        float y = terrain.getHeightOfTerrain(x, z);\n        entities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                0, random.nextFloat() * 0.1f + 0.6f));\n        x = random.nextFloat() * 800 - 400;\n        z = random.nextFloat() * -600;\n        y = terrain.getHeightOfTerrain(x, z);\n        entities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\n      }\n\n      // !!! everything below here is STILL inside the for loop. !!!\n\n      MasterRenderer renderer = new MasterRenderer();\n\n      RawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\n\n</code></pre>\n<p>You likely wanted to close the for-loop before:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      MasterRenderer renderer = new MasterRenderer();\n</code></pre>\n"}],"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74842752,"answer_count":1,"score":-1,"last_activity_date":1671399069,"creation_date":1671379142,"question_id":74842718,"body_markdown":"I am a new java developer and I was writing some code and for some reason this error popped up: \r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tSyntax error, insert &quot;}&quot; to complete ClassBody\r\n\r\n\tat engineTester.MainGameLoop.main(MainGameLoop.java:109)\r\n```\r\n\r\n I don&#39;t understand what this error means and i have tried to look on reddit and stack overflow to see if anything could help me but i couldnt find anything to help me. If you could answer my question and say what i need to add it would be very helpful.\r\n\r\nHere is my code:\r\n\r\n```\r\npackage engineTester;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nimport org.lwjgl.opengl.Display;\r\nimport org.lwjgl.util.vector.Vector3f;\r\n\r\nimport entities.Camera;\r\nimport entities.Entity;\r\nimport entities.Light;\r\nimport entities.Player;\r\nimport models.RawModel;\r\nimport models.TexturedModel;\r\nimport renderEngine.DisplayManager;\r\nimport renderEngine.Loader;\r\nimport renderEngine.MasterRenderer;\r\nimport renderEngine.OBJLoader;\r\nimport terrains.Terrain;\r\nimport textures.ModelTexture;\r\nimport textures.TerrainTexture;\r\nimport textures.TerrainTexturePack;\r\n\r\npublic class MainGameLoop {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tDisplayManager.createDisplay();\r\n\t\tLoader loader = new Loader();\r\n\t\t\r\n\t\tTerrainTexture backgroundTexture = new TerrainTexture(loader.loadTexture(&quot;grassy&quot;));\r\n\t\tTerrainTexture rTexture = new TerrainTexture(loader.loadTexture(&quot;dirt&quot;));\r\n\t\tTerrainTexture gTexture = new TerrainTexture(loader.loadTexture(&quot;pinkFlowers&quot;));\r\n\t\tTerrainTexture bTexture = new TerrainTexture(loader.loadTexture(&quot;path&quot;));\r\n\t\t\r\n\t\tTerrainTexturePack texturePack = new TerrainTexturePack(backgroundTexture, rTexture, \r\n\t\t\t\tgTexture, bTexture);\r\n\t\tTerrainTexture blendMap = new TerrainTexture(loader.loadTexture(&quot;blendMap&quot;));\r\n\t\t\r\n\t\tRawModel model = OBJLoader.loadObjModel(&quot;tree&quot;, loader);\r\n\t\t\r\n\t\tTexturedModel staticModel = new TexturedModel(model, new ModelTexture(\r\n\t\t\t\tloader.loadTexture(&quot;tree&quot;)));\r\n\t\tTexturedModel grass = new TexturedModel(OBJLoader.loadObjModel(&quot;grassModel&quot;, loader),\r\n\t\t\t\tnew ModelTexture(loader.loadTexture(&quot;grassTexture&quot;)));\r\n\t\tTexturedModel fern = new TexturedModel(OBJLoader.loadObjModel(&quot;fern&quot;, loader),\r\n\t\t\t\tnew ModelTexture(loader.loadTexture(&quot;fern&quot;)));\r\n\t\tTexturedModel bobble = new TexturedModel(OBJLoader.loadObjModel(&quot;lowPolyTree&quot;, loader),\r\n\t\t\t\tnew ModelTexture(loader.loadTexture(&quot;lowPolyTree&quot;)));\r\n\t\t\r\n\t\tgrass.getTexture().setHasTransparency(true);\r\n\t\tgrass.getTexture().setUseFakeLighting(true);\r\n\t\tfern.getTexture().setHasTransparency(true);\r\n\t\t\r\n\t\tLight light = new Light(new Vector3f(20000, 20000, 20000), new Vector3f(1, 1, 1));\r\n\t\t\r\n\t\tTerrain terrain = new Terrain(0, -1, loader, texturePack, blendMap, &quot;heightMap&quot;);\r\n\t\t\r\n\t\tList&lt;Entity&gt; entities = new ArrayList&lt;Entity&gt;();\r\n\t\tRandom random = new Random(676452);\r\n\t\tfor (int i = 0; i &lt; 400; i++) {\r\n\t\t\tif (i % 20 == 0) {\r\n\t\t\tfloat x = random.nextFloat() * 800 - 400;\r\n\t\t\tfloat z = random.nextFloat() * -600;\r\n\t\t\tfloat y = terrain.getHeightOfTerrain(x, z);\r\n\t\t\tentities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n\t\t\t\t\t0, 0.9f));\r\n\t\t}\r\n\t\tif (i % 5 == 0) {\r\n\t\t\tfloat x = random.nextFloat() * 800 - 400;\r\n\t\t\tfloat z = random.nextFloat() * -600;\r\n\t\t\tfloat y = terrain.getHeightOfTerrain(x, z);\r\n\t\t\tentities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n\t\t\t\t\t0, random.nextFloat() * 0.1f + 0.6f));\r\n\t\t\tx = random.nextFloat() * 800 - 400;\r\n\t\t\tz = random.nextFloat() * - 600;\r\n\t\t\ty = terrain.getHeightOfTerrain(x, z);\r\n\t\t\tentities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\r\n\t\t}\r\n\t\t\r\n\t\tMasterRenderer renderer = new MasterRenderer();\r\n\t\t\r\n\t\tRawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\r\n\t\tTexturedModel stanfordBunny = new TexturedModel(bunnyModel, new ModelTexture(\r\n\t\t\t\tloader.loadTexture(&quot;playerTexture&quot;)));\r\n\t\t\r\n\t\tPlayer player = new Player(stanfordBunny, new Vector3f(100, 0, -50), 0, 180, 0, 0.6f);\r\n\t\tCamera camera = new Camera(player);\r\n\t\t\r\n\t\twhile(!Display.isCloseRequested()) {\r\n\t\t\tcamera.move();\r\n\t\t\tplayer.move(terrain);\r\n\t\t\trenderer.processEntity(player);\r\n\t\t\trenderer.processTerrain(terrain);\r\n\t\t\tfor(Entity entity:entities){\r\n\t\t\t\trenderer.processEntity(entity);\r\n\t\t\t}\r\n\t\t\trenderer.render(light, camera);\r\n\t\t\tDisplayManager.updateDisplay();\t\r\n\t\t}\r\n\t\t\r\n\t\trenderer.cleanUp();\r\n\t\tloader.cleanUp();\r\n\t\tDisplayManager.closeDisplay();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have tried to do what the code error literally said but that did not work and I have tried looking around in my code but cant find anything else. If you could help your help would be greatly appreciated! ","title":"How to fix the Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:Syntax error, insert &quot;}&quot; to complete ClassBody error?","body":"<p>I am a new java developer and I was writing some code and for some reason this error popped up:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Syntax error, insert &quot;}&quot; to complete ClassBody\n\n    at engineTester.MainGameLoop.main(MainGameLoop.java:109)\n</code></pre>\n<p>I don't understand what this error means and i have tried to look on reddit and stack overflow to see if anything could help me but i couldnt find anything to help me. If you could answer my question and say what i need to add it would be very helpful.</p>\n<p>Here is my code:</p>\n<pre><code>package engineTester;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport org.lwjgl.opengl.Display;\nimport org.lwjgl.util.vector.Vector3f;\n\nimport entities.Camera;\nimport entities.Entity;\nimport entities.Light;\nimport entities.Player;\nimport models.RawModel;\nimport models.TexturedModel;\nimport renderEngine.DisplayManager;\nimport renderEngine.Loader;\nimport renderEngine.MasterRenderer;\nimport renderEngine.OBJLoader;\nimport terrains.Terrain;\nimport textures.ModelTexture;\nimport textures.TerrainTexture;\nimport textures.TerrainTexturePack;\n\npublic class MainGameLoop {\n\n    public static void main(String[] args) {\n        \n        DisplayManager.createDisplay();\n        Loader loader = new Loader();\n        \n        TerrainTexture backgroundTexture = new TerrainTexture(loader.loadTexture(&quot;grassy&quot;));\n        TerrainTexture rTexture = new TerrainTexture(loader.loadTexture(&quot;dirt&quot;));\n        TerrainTexture gTexture = new TerrainTexture(loader.loadTexture(&quot;pinkFlowers&quot;));\n        TerrainTexture bTexture = new TerrainTexture(loader.loadTexture(&quot;path&quot;));\n        \n        TerrainTexturePack texturePack = new TerrainTexturePack(backgroundTexture, rTexture, \n                gTexture, bTexture);\n        TerrainTexture blendMap = new TerrainTexture(loader.loadTexture(&quot;blendMap&quot;));\n        \n        RawModel model = OBJLoader.loadObjModel(&quot;tree&quot;, loader);\n        \n        TexturedModel staticModel = new TexturedModel(model, new ModelTexture(\n                loader.loadTexture(&quot;tree&quot;)));\n        TexturedModel grass = new TexturedModel(OBJLoader.loadObjModel(&quot;grassModel&quot;, loader),\n                new ModelTexture(loader.loadTexture(&quot;grassTexture&quot;)));\n        TexturedModel fern = new TexturedModel(OBJLoader.loadObjModel(&quot;fern&quot;, loader),\n                new ModelTexture(loader.loadTexture(&quot;fern&quot;)));\n        TexturedModel bobble = new TexturedModel(OBJLoader.loadObjModel(&quot;lowPolyTree&quot;, loader),\n                new ModelTexture(loader.loadTexture(&quot;lowPolyTree&quot;)));\n        \n        grass.getTexture().setHasTransparency(true);\n        grass.getTexture().setUseFakeLighting(true);\n        fern.getTexture().setHasTransparency(true);\n        \n        Light light = new Light(new Vector3f(20000, 20000, 20000), new Vector3f(1, 1, 1));\n        \n        Terrain terrain = new Terrain(0, -1, loader, texturePack, blendMap, &quot;heightMap&quot;);\n        \n        List&lt;Entity&gt; entities = new ArrayList&lt;Entity&gt;();\n        Random random = new Random(676452);\n        for (int i = 0; i &lt; 400; i++) {\n            if (i % 20 == 0) {\n            float x = random.nextFloat() * 800 - 400;\n            float z = random.nextFloat() * -600;\n            float y = terrain.getHeightOfTerrain(x, z);\n            entities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                    0, 0.9f));\n        }\n        if (i % 5 == 0) {\n            float x = random.nextFloat() * 800 - 400;\n            float z = random.nextFloat() * -600;\n            float y = terrain.getHeightOfTerrain(x, z);\n            entities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                    0, random.nextFloat() * 0.1f + 0.6f));\n            x = random.nextFloat() * 800 - 400;\n            z = random.nextFloat() * - 600;\n            y = terrain.getHeightOfTerrain(x, z);\n            entities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\n        }\n        \n        MasterRenderer renderer = new MasterRenderer();\n        \n        RawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\n        TexturedModel stanfordBunny = new TexturedModel(bunnyModel, new ModelTexture(\n                loader.loadTexture(&quot;playerTexture&quot;)));\n        \n        Player player = new Player(stanfordBunny, new Vector3f(100, 0, -50), 0, 180, 0, 0.6f);\n        Camera camera = new Camera(player);\n        \n        while(!Display.isCloseRequested()) {\n            camera.move();\n            player.move(terrain);\n            renderer.processEntity(player);\n            renderer.processTerrain(terrain);\n            for(Entity entity:entities){\n                renderer.processEntity(entity);\n            }\n            renderer.render(light, camera);\n            DisplayManager.updateDisplay(); \n        }\n        \n        renderer.cleanUp();\n        loader.cleanUp();\n        DisplayManager.closeDisplay();\n\n    }\n\n}\n</code></pre>\n<p>I have tried to do what the code error literally said but that did not work and I have tried looking around in my code but cant find anything else. If you could help your help would be greatly appreciated!</p>\n"},{"tags":["java","swing","jtextpane"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1671397587,"post_id":74844347,"comment_id":132085595,"body_markdown":"In the `editor` JPanel, is the JTextPane within a JScrollPane?","body":"In the <code>editor</code> JPanel, is the JTextPane within a JScrollPane?"},{"owner":{"account_id":2762232,"reputation":65,"user_id":2378888,"display_name":"Alex Popov"},"score":0,"creation_date":1671398059,"post_id":74844347,"comment_id":132085678,"body_markdown":"`editor` is the lower block with the textarea, I think it has nothing to do with the issue","body":"<code>editor</code> is the lower block with the textarea, I think it has nothing to do with the issue"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671405556,"post_id":74844347,"comment_id":132086835,"body_markdown":"I think the `JTextPane` should be wrapped in a `JScrollPane`.  The &quot;problem&quot; is, setting the text of the `JTextPane` won&#39;t cause a layout of the html to occur immediately, and you generally won&#39;t know when it&#39;s actually complete up-to-date","body":"I think the <code>JTextPane</code> should be wrapped in a <code>JScrollPane</code>.  The &quot;problem&quot; is, setting the text of the <code>JTextPane</code> won&#39;t cause a layout of the html to occur immediately, and you generally won&#39;t know when it&#39;s actually complete up-to-date"}],"answers":[{"tags":[],"owner":{"account_id":2762232,"reputation":65,"user_id":2378888,"display_name":"Alex Popov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671398331,"creation_date":1671398331,"answer_id":74844486,"question_id":74844347,"body_markdown":"It seems  I found a working solution (though I&#39;m not sure it is the best one).\r\n\r\nI added the following code after setting HTML content:\r\n\r\n    msgContent.setMinimumSize(new Dimension(msgContent.getWidth(), msgContent.getPreferredSize().height + 20));\r\n\r\n    setPreferredSize(new Dimension(getWidth(), msgContent.getPreferredSize().height + 160));\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(msgContent.getHeight() + &quot;, &quot; + getHeight());\r\n        }\r\n    });\r\n\r\nIt is looking good now, I have the proper message height and working vertical scrolling in `msgsList` container.","title":"JTextPane is not increasing its height and cutting HTML content","body":"<p>It seems  I found a working solution (though I'm not sure it is the best one).</p>\n<p>I added the following code after setting HTML content:</p>\n<pre><code>msgContent.setMinimumSize(new Dimension(msgContent.getWidth(), msgContent.getPreferredSize().height + 20));\n\nsetPreferredSize(new Dimension(getWidth(), msgContent.getPreferredSize().height + 160));\nSwingUtilities.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(msgContent.getHeight() + &quot;, &quot; + getHeight());\n    }\n});\n</code></pre>\n<p>It is looking good now, I have the proper message height and working vertical scrolling in <code>msgsList</code> container.</p>\n"}],"owner":{"account_id":2762232,"reputation":65,"user_id":2378888,"display_name":"Alex Popov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74844486,"answer_count":1,"score":-1,"last_activity_date":1671398331,"creation_date":1671396906,"question_id":74844347,"body_markdown":"I&#39;m building a Swing GUi application and need to display simple HTML in text fragments (text messages with formatting and lists, maybe tables, and images). So I chose to use JTextPane which can render HTML.\r\n\r\nI have the following element structure in my GUI:\r\n\r\njSplitPane -&gt; jScrollPane -&gt; jPanel -&gt;\r\njPanel with GroupLayout (Message element) -&gt;\r\njPanel wrapper for message content (HTML content jTextPane plus audio player custom jPanels)-&gt;\r\njTextPane with HTML message content\r\n\r\nThe problem is that jTextPane is cutting its content, even though none of its parents is limiting its maximum height.\r\n\r\nI don&#39;t know, why it is happening.\r\n\r\nHere is the MessageView structure:\r\n\r\n[![MessageView jPanel structure][1]][1]\r\n\r\nGeneral GUI structure:\r\n\r\n[![General GUI structure][2]][2]\r\n\r\n\r\nHere is the result when the program is running:\r\n\r\n[![Result][3]][3]\r\n\r\nHere is the HTML of the text message:\r\n\r\n    &lt;div style=&quot;padding: 0px 3px; font-size: 14px; font-family: Tahoma&quot;&gt;\r\n        Some &lt;i&gt;text&lt;/i&gt;&lt;br&gt;And more,&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;\r\n        And more...&lt;br&gt;And more...&lt;br&gt;\r\n        &lt;img src=&quot;http://popov654.pp.ru/copybox/photo.jpg&quot; width=&quot;390&quot; height=\\&quot;260\\&quot;&gt;&quot;;\r\n    &lt;/div&gt;\r\n\r\nAlso after setting jTextPane HTML content I use this code (found it on the net):\r\n\r\n    try {\r\n        Dimension d = msgContent.getPreferredSize();\r\n        Rectangle r = msgContent.modelToView(msgContent.getDocument().getLength());\r\n        d.height = r.y + r.height;\r\n        msgContent.setPreferredSize(d);\r\n        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\r\n        topFrame.getContentPane().validate();\r\n    } catch (Exception ex) {}\r\n\r\nWithout this code the jTextPane was just 30-40 pixels in height. But what is the most interesting, when I change the line 4 where d.height is set, and add 100 or 200 more to it, nothing is changed at all on the display.\r\n\r\nUPDATE: commented out this block of code, and it did not change anything too at this moment.\r\n\r\nWhat am I missing? Any ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3RyK0.png\r\n  [2]: https://i.stack.imgur.com/rKrcN.png\r\n  [3]: https://i.stack.imgur.com/NXeGk.png","title":"JTextPane is not increasing its height and cutting HTML content","body":"<p>I'm building a Swing GUi application and need to display simple HTML in text fragments (text messages with formatting and lists, maybe tables, and images). So I chose to use JTextPane which can render HTML.</p>\n<p>I have the following element structure in my GUI:</p>\n<p>jSplitPane -&gt; jScrollPane -&gt; jPanel -&gt;\njPanel with GroupLayout (Message element) -&gt;\njPanel wrapper for message content (HTML content jTextPane plus audio player custom jPanels)-&gt;\njTextPane with HTML message content</p>\n<p>The problem is that jTextPane is cutting its content, even though none of its parents is limiting its maximum height.</p>\n<p>I don't know, why it is happening.</p>\n<p>Here is the MessageView structure:</p>\n<p><a href=\"https://i.stack.imgur.com/3RyK0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3RyK0.png\" alt=\"MessageView jPanel structure\" /></a></p>\n<p>General GUI structure:</p>\n<p><a href=\"https://i.stack.imgur.com/rKrcN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rKrcN.png\" alt=\"General GUI structure\" /></a></p>\n<p>Here is the result when the program is running:</p>\n<p><a href=\"https://i.stack.imgur.com/NXeGk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NXeGk.png\" alt=\"Result\" /></a></p>\n<p>Here is the HTML of the text message:</p>\n<pre><code>&lt;div style=&quot;padding: 0px 3px; font-size: 14px; font-family: Tahoma&quot;&gt;\n    Some &lt;i&gt;text&lt;/i&gt;&lt;br&gt;And more,&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;\n    And more...&lt;br&gt;And more...&lt;br&gt;\n    &lt;img src=&quot;http://popov654.pp.ru/copybox/photo.jpg&quot; width=&quot;390&quot; height=\\&quot;260\\&quot;&gt;&quot;;\n&lt;/div&gt;\n</code></pre>\n<p>Also after setting jTextPane HTML content I use this code (found it on the net):</p>\n<pre><code>try {\n    Dimension d = msgContent.getPreferredSize();\n    Rectangle r = msgContent.modelToView(msgContent.getDocument().getLength());\n    d.height = r.y + r.height;\n    msgContent.setPreferredSize(d);\n    JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\n    topFrame.getContentPane().validate();\n} catch (Exception ex) {}\n</code></pre>\n<p>Without this code the jTextPane was just 30-40 pixels in height. But what is the most interesting, when I change the line 4 where d.height is set, and add 100 or 200 more to it, nothing is changed at all on the display.</p>\n<p>UPDATE: commented out this block of code, and it did not change anything too at this moment.</p>\n<p>What am I missing? Any ideas?</p>\n"},{"tags":["java","spring","web-services","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3211804,"reputation":705,"user_id":2711649,"accept_rate":33,"display_name":"VGaur"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1488915408,"creation_date":1412965333,"answer_id":26305705,"question_id":26305363,"body_markdown":"AFAIK Spring REST support is based on Spring MVC and its not JAX-RS implementation while Jersey has implemented JAX-RS specification. \r\nThose having Spring (Core, AOP or MVC) in their project chooses Spring ReST support over JAX-RS implementor.\r\n\r\nI recommend Jersey as its mature, implements JAX-RS and is easy to use.","title":"Spring 4 vs Jersey for REST web services","body":"<p>AFAIK Spring REST support is based on Spring MVC and its not JAX-RS implementation while Jersey has implemented JAX-RS specification. \nThose having Spring (Core, AOP or MVC) in their project chooses Spring ReST support over JAX-RS implementor.</p>\n\n<p>I recommend Jersey as its mature, implements JAX-RS and is easy to use.</p>\n"},{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":1,"up_vote_count":122,"is_accepted":true,"score":121,"last_activity_date":1492622274,"creation_date":1413049990,"answer_id":26317525,"question_id":26305363,"body_markdown":"I&#39;d say both Jersey and Spring MVC are great - each project has its own style and strengths. Anyway, Stack Overflow is not the right place for asking subjective comparisons (your question would be closed quite quickly). If you&#39;re already using Spring for everything else and are not *required* to use JAX-RS, then Spring MVC makes total sense.\r\n\r\nRegarding features like (un)marshalling, JAX-RS is just a spec after all - other libraries can offer similar features without implementing the same API.\r\n\r\n1. Instead of [MessageBodyReaders][1]/Writers, Spring MVC is using [HttpMessageConverters][2] to handle (un)marshalling REST resources. Spring MVC handles content negotiation and chooses the best available converter for the job (you can annotate methods to hint at what media type they produce/consume).\r\n\r\n2. No, it&#39;s not necessary to use JAX-RS to (un)marshall resources. In fact, JAX-RS implementations and Spring MVC use third party serialization libraries to do the job; so it&#39;s not tied to a particular standard.\r\n\r\n3. In its 4.0.6 version, Spring supports many [HttpMessageConverters][3], with Jackson for JSON, JAXB for XML and many others. Spring 4.1.0 added more [HttpMessageConverters][4]:\r\n\r\n* Jackson is now available for both JSON and XML\r\n* [Google Protobuf][5]\r\n* [Gson for JSON][6], as an alternative to Jackson\r\n\r\nTo answer your last point, `@XmlRootElement` is a JAXB annotation and is not part of JAX-RS. [Spring supports JAXB][7].\r\n\r\nFor a more complete example with REST in Spring, check out [this getting started guide][8] (you&#39;ll get a complete example running in 10-15 minutes).\r\n\r\nAgain the last part of your question is quite subjective - there are many popular solutions for building REST services in the JVM, not just Jersey and Spring (Dropwizard, Play! Framework, etc).\r\n\r\n\r\n  [1]: https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/ext/MessageBodyReader.html\r\n  [2]: http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [3]: http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [4]: http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [5]: https://developers.google.com/protocol-buffers/\r\n  [6]: https://code.google.com/p/google-gson/\r\n  [7]: http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/spring-framework-reference/html/oxm.html#oxm-jaxb\r\n  [8]: https://spring.io/guides/gs/rest-service/","title":"Spring 4 vs Jersey for REST web services","body":"<p>I'd say both Jersey and Spring MVC are great - each project has its own style and strengths. Anyway, Stack Overflow is not the right place for asking subjective comparisons (your question would be closed quite quickly). If you're already using Spring for everything else and are not <em>required</em> to use JAX-RS, then Spring MVC makes total sense.</p>\n\n<p>Regarding features like (un)marshalling, JAX-RS is just a spec after all - other libraries can offer similar features without implementing the same API.</p>\n\n<ol>\n<li><p>Instead of <a href=\"https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/ext/MessageBodyReader.html\" rel=\"noreferrer\">MessageBodyReaders</a>/Writers, Spring MVC is using <a href=\"http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"noreferrer\">HttpMessageConverters</a> to handle (un)marshalling REST resources. Spring MVC handles content negotiation and chooses the best available converter for the job (you can annotate methods to hint at what media type they produce/consume).</p></li>\n<li><p>No, it's not necessary to use JAX-RS to (un)marshall resources. In fact, JAX-RS implementations and Spring MVC use third party serialization libraries to do the job; so it's not tied to a particular standard.</p></li>\n<li><p>In its 4.0.6 version, Spring supports many <a href=\"http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"noreferrer\">HttpMessageConverters</a>, with Jackson for JSON, JAXB for XML and many others. Spring 4.1.0 added more <a href=\"http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"noreferrer\">HttpMessageConverters</a>:</p>\n\n<ul>\n<li>Jackson is now available for both JSON and XML</li>\n<li><a href=\"https://developers.google.com/protocol-buffers/\" rel=\"noreferrer\">Google Protobuf</a></li>\n<li><a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">Gson for JSON</a>, as an alternative to Jackson</li>\n</ul></li>\n</ol>\n\n<p>To answer your last point, <code>@XmlRootElement</code> is a JAXB annotation and is not part of JAX-RS. <a href=\"http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/spring-framework-reference/html/oxm.html#oxm-jaxb\" rel=\"noreferrer\">Spring supports JAXB</a>.</p>\n\n<p>For a more complete example with REST in Spring, check out <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">this getting started guide</a> (you'll get a complete example running in 10-15 minutes).</p>\n\n<p>Again the last part of your question is quite subjective - there are many popular solutions for building REST services in the JVM, not just Jersey and Spring (Dropwizard, Play! Framework, etc).</p>\n"}],"owner":{"account_id":1046862,"reputation":1573,"user_id":1051671,"accept_rate":50,"display_name":"RSCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88874,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":26317525,"answer_count":2,"score":120,"last_activity_date":1671398251,"creation_date":1412963956,"question_id":26305363,"body_markdown":"We are planning to make a new application with spring 4.0.6 version. We use controller that can return &quot;XML&quot; or &quot;JSON&quot;. \r\nIn the previous project we have successfully implemented Jersey with Spring for REST support using JAX-RS API, but after reading a few articles and suggestions from seniors they said spring is providing pretty good REST support. \r\n\r\nSome of the points that really confused me if I use Spring REST support without using JAX-RS and Jersey are:\r\n\r\n1. How marshaling and unmarshaling done in Spring MVC ?\r\n\r\n2. Is it necessary for marshaling or unmarshaling need to use jax-rs. \r\n\r\n3. If marshaling and unmarshaling are automatically handled by spring then how does it know about xmlRootElements.\r\n\r\nI am still confused if Spring proving very good support of REST then why do people still go with Jersey for REST?\r\nReally looking to know more in details.\r\n\r\nIf I said anything wrong please ignore it.\r\nExplanation with example is really helpful.","title":"Spring 4 vs Jersey for REST web services","body":"<p>We are planning to make a new application with spring 4.0.6 version. We use controller that can return &quot;XML&quot; or &quot;JSON&quot;.\nIn the previous project we have successfully implemented Jersey with Spring for REST support using JAX-RS API, but after reading a few articles and suggestions from seniors they said spring is providing pretty good REST support.</p>\n<p>Some of the points that really confused me if I use Spring REST support without using JAX-RS and Jersey are:</p>\n<ol>\n<li><p>How marshaling and unmarshaling done in Spring MVC ?</p>\n</li>\n<li><p>Is it necessary for marshaling or unmarshaling need to use jax-rs.</p>\n</li>\n<li><p>If marshaling and unmarshaling are automatically handled by spring then how does it know about xmlRootElements.</p>\n</li>\n</ol>\n<p>I am still confused if Spring proving very good support of REST then why do people still go with Jersey for REST?\nReally looking to know more in details.</p>\n<p>If I said anything wrong please ignore it.\nExplanation with example is really helpful.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1409397,"reputation":12315,"user_id":1336310,"accept_rate":90,"display_name":"Menno"},"score":19,"creation_date":1366638117,"post_id":16148575,"comment_id":23072481,"body_markdown":"`HashMap` doesn&#39;t handle primitives, just objects.","body":"<code>HashMap</code> doesn&#39;t handle primitives, just objects."},{"owner":{"account_id":1478378,"reputation":3809,"user_id":1388240,"accept_rate":71,"display_name":"cyroxx"},"score":1,"creation_date":1366638278,"post_id":16148575,"comment_id":23072594,"body_markdown":"[Related SO question](http://stackoverflow.com/questions/1780385/java-hashmapstring-int-not-working), but with `int` being the value, not the key.","body":"<a href=\"http://stackoverflow.com/questions/1780385/java-hashmapstring-int-not-working\">Related SO question</a>, but with <code>int</code> being the value, not the key."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":5,"creation_date":1366649825,"post_id":16148575,"comment_id":23079758,"body_markdown":"Use `Integer` instead.","body":"Use <code>Integer</code> instead."},{"owner":{"account_id":7657333,"reputation":282,"user_id":11229377,"display_name":"FoxDonut"},"score":0,"creation_date":1625759513,"post_id":16148575,"comment_id":120718796,"body_markdown":"Long story short, you must use an Integer - but you can add keys as if you it would allow you to use an int. Primitives aren&#39;t allowed, but the Integer class will handle primitive values assigned to the map.","body":"Long story short, you must use an Integer - but you can add keys as if you it would allow you to use an int. Primitives aren&#39;t allowed, but the Integer class will handle primitive values assigned to the map."}],"answers":[{"tags":[],"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"down_vote_count":1,"up_vote_count":155,"is_accepted":false,"score":154,"last_activity_date":1366648083,"creation_date":1366638071,"answer_id":16148593,"question_id":16148575,"body_markdown":"Use `Integer` instead.\r\n\r\n    HashMap&lt;Integer, MyObject&gt; myMap = new HashMap&lt;Integer, MyObject&gt;();\r\n\r\nJava will automatically autobox your `int` primitive values to `Integer` objects.\r\n\r\nRead more about [autoboxing][1] from Oracle Java documentations.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/language/autoboxing.html","title":"HashMap and int as key","body":"<p>Use <code>Integer</code> instead.</p>\n\n<pre><code>HashMap&lt;Integer, MyObject&gt; myMap = new HashMap&lt;Integer, MyObject&gt;();\n</code></pre>\n\n<p>Java will automatically autobox your <code>int</code> primitive values to <code>Integer</code> objects.</p>\n\n<p>Read more about <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/autoboxing.html\">autoboxing</a> from Oracle Java documentations.</p>\n"},{"tags":[],"owner":{"account_id":2578747,"reputation":330,"user_id":2235879,"display_name":"franki3xe"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1366638521,"creation_date":1366638121,"answer_id":16148619,"question_id":16148575,"body_markdown":"use int as Object not as primitive type\r\n\r\n    HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();","title":"HashMap and int as key","body":"<p>use int as Object not as primitive type</p>\n\n<pre><code>HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1411243,"reputation":10101,"user_id":1337771,"accept_rate":88,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1366638159,"creation_date":1366638159,"answer_id":16148647,"question_id":16148575,"body_markdown":"Please use \r\n`HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();`","title":"HashMap and int as key","body":"<p>Please use \n<code>HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1366639366,"creation_date":1366639366,"answer_id":16149127,"question_id":16148575,"body_markdown":"You can&#39;t use a primitive because HashMap use object internally for the key. So you can only use an object that inherits from Object (that is any object).\r\n\r\nThat is the function put() in HashMap and as you can see it uses Object for K:\r\n\r\n    public V put(K key, V value) {\r\n        if (key == null)\r\n            return putForNullKey(value);\r\n        int hash = hash(key);\r\n        int i = indexFor(hash, table.length);\r\n        for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\r\n            Object k;\r\n            if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {\r\n                V oldValue = e.value;\r\n                e.value = value;\r\n                e.recordAccess(this);\r\n                return oldValue;\r\n            }\r\n        }\r\n\r\n        modCount++;\r\n        addEntry(hash, key, value, i);\r\n        return null;\r\n    }\r\n\r\nThe expression &quot;k = e.key&quot; should make it clear.\r\n\r\nI suggest to use a wrapper like Integer and autoboxing.","title":"HashMap and int as key","body":"<p>You can't use a primitive because HashMap use object internally for the key. So you can only use an object that inherits from Object (that is any object).</p>\n\n<p>That is the function put() in HashMap and as you can see it uses Object for K:</p>\n\n<pre><code>public V put(K key, V value) {\n    if (key == null)\n        return putForNullKey(value);\n    int hash = hash(key);\n    int i = indexFor(hash, table.length);\n    for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\n        Object k;\n        if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {\n            V oldValue = e.value;\n            e.value = value;\n            e.recordAccess(this);\n            return oldValue;\n        }\n    }\n\n    modCount++;\n    addEntry(hash, key, value, i);\n    return null;\n}\n</code></pre>\n\n<p>The expression \"k = e.key\" should make it clear.</p>\n\n<p>I suggest to use a wrapper like Integer and autoboxing.</p>\n"},{"tags":[],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366639477,"creation_date":1366639477,"answer_id":16149160,"question_id":16148575,"body_markdown":"HashMap does not allow primitive data types as arguments. It can only accept objects so \r\n\r\n    HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\r\nwill not work.\r\n\r\nYou have to change the declaration to \r\n\r\n    HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();\r\n\r\nso even when you do the following\r\n\r\n    myMap.put(2,myObject);\r\n\r\nThe primitive data type is autoboxed to an Integer object. \r\n\r\n    8 (int) === boxing ===&gt; 8 (Integer)\r\n\r\nYou can read more on autoboxing here http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"HashMap and int as key","body":"<p>HashMap does not allow primitive data types as arguments. It can only accept objects so </p>\n\n<pre><code>HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\n</code></pre>\n\n<p>will not work.</p>\n\n<p>You have to change the declaration to </p>\n\n<pre><code>HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();\n</code></pre>\n\n<p>so even when you do the following</p>\n\n<pre><code>myMap.put(2,myObject);\n</code></pre>\n\n<p>The primitive data type is autoboxed to an Integer object. </p>\n\n<pre><code>8 (int) === boxing ===&gt; 8 (Integer)\n</code></pre>\n\n<p>You can read more on autoboxing here <a href=\"http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html</a></p>\n"},{"tags":[],"owner":{"account_id":44342,"reputation":875,"user_id":130099,"display_name":"alvinsj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377673583,"creation_date":1377673583,"answer_id":18481387,"question_id":16148575,"body_markdown":"If you code in Android, there is [SparseArray][1], mapping integer to object.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/SparseArray.html","title":"HashMap and int as key","body":"<p>If you code in Android, there is <a href=\"http://developer.android.com/reference/android/util/SparseArray.html\" rel=\"nofollow\">SparseArray</a>, mapping integer to object.</p>\n"},{"tags":[],"owner":{"account_id":2581018,"reputation":521,"user_id":2237718,"display_name":"Stepoid"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1581888309,"creation_date":1386515161,"answer_id":20454885,"question_id":16148575,"body_markdown":"For everybody who codes Java for Android devices and ends up here: use `SparseArray` for better performance;\r\n\r\n    private final SparseArray&lt;myObject&gt; myMap = new SparseArray&lt;myObject&gt;();\r\n\r\nwith this you can use int instead of Integer like;\r\n\r\n    int newPos = 3;\r\n    \r\n    myMap.put(newPos, newObject);\r\n    myMap.get(newPos);\r\n\r\n","title":"HashMap and int as key","body":"<p>For everybody who codes Java for Android devices and ends up here: use <code>SparseArray</code> for better performance;</p>\n\n<pre><code>private final SparseArray&lt;myObject&gt; myMap = new SparseArray&lt;myObject&gt;();\n</code></pre>\n\n<p>with this you can use int instead of Integer like;</p>\n\n<pre><code>int newPos = 3;\n\nmyMap.put(newPos, newObject);\nmyMap.get(newPos);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":273654,"reputation":489,"user_id":565385,"display_name":"Arek"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1387360536,"creation_date":1387360536,"answer_id":20654816,"question_id":16148575,"body_markdown":"You may try to use Trove http://trove.starlight-systems.com/  \r\nTIntObjectHashMap is probably what you are looking for.","title":"HashMap and int as key","body":"<p>You may try to use Trove <a href=\"http://trove.starlight-systems.com/\" rel=\"noreferrer\">http://trove.starlight-systems.com/</a><br>\nTIntObjectHashMap is probably what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":5288263,"reputation":970,"user_id":4221520,"display_name":"FatherMathew"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1443616361,"creation_date":1443616361,"answer_id":32866218,"question_id":16148575,"body_markdown":"The main reason with ***HashMap*** not allowing primitive as keys is that HashMap is designed in such a way that for comparing the keys, it makes use of ***equals()*** method, and a method can be called only on an object not on a primitive.\r\n\r\nThus when int is autoboxed to Integer, Hashmap can call ***equals()*** method on Integer object.\r\n\r\nThat is why, you should use Integer instead of int. I mean hashmap throws an error while putting int as a key (Don&#39;t know the meaning of the error that is thrown)\r\n\r\nAnd if you think that, you can make Map performance faster by making a primitive as a key, there is a library called ***FastUtil*** which contains a Map implementation with int type as a key.\r\n\r\nBecause of this, it is much faster than ***Hashmap***\r\n\r\n","title":"HashMap and int as key","body":"<p>The main reason with <strong><em>HashMap</em></strong> not allowing primitive as keys is that HashMap is designed in such a way that for comparing the keys, it makes use of <strong><em>equals()</em></strong> method, and a method can be called only on an object not on a primitive.</p>\n\n<p>Thus when int is autoboxed to Integer, Hashmap can call <strong><em>equals()</em></strong> method on Integer object.</p>\n\n<p>That is why, you should use Integer instead of int. I mean hashmap throws an error while putting int as a key (Don't know the meaning of the error that is thrown)</p>\n\n<p>And if you think that, you can make Map performance faster by making a primitive as a key, there is a library called <strong><em>FastUtil</em></strong> which contains a Map implementation with int type as a key.</p>\n\n<p>Because of this, it is much faster than <strong><em>Hashmap</em></strong></p>\n"},{"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512455971,"creation_date":1512455971,"answer_id":47647524,"question_id":16148575,"body_markdown":"&gt; I don&#39;t understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.\r\n\r\nAn array is also an Object, so `HashMap&lt;int[], MyObject&gt;` is a valid construct that uses int arrays as keys.\r\n\r\nCompiler doesn&#39;t know what you want or what you need, it just sees a language construct that is almost correct, and warns what&#39;s missing for it to be fully correct.","title":"HashMap and int as key","body":"<blockquote>\n  <p>I don't understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.</p>\n</blockquote>\n\n<p>An array is also an Object, so <code>HashMap&lt;int[], MyObject&gt;</code> is a valid construct that uses int arrays as keys.</p>\n\n<p>Compiler doesn't know what you want or what you need, it just sees a language construct that is almost correct, and warns what's missing for it to be fully correct.</p>\n"},{"tags":[],"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645036563,"creation_date":1591274100,"answer_id":62194735,"question_id":16148575,"body_markdown":"For somebody who is interested in a such map because you want to reduce **footprint of autoboxing** in Java of wrappers over primitives types, I would recommend to use\r\n[Eclipse collections][1]. **Trove isn&#39;t supported anymore**, and I believe it is quite unreliable library in this sense (though it is quite popular anyway) and couldn&#39;t be compared with [Eclipse collections][1].\r\n\r\n    import org.eclipse.collections.impl.map.mutable.primitive.IntObjectHashMap;\r\n    \r\n    public class Check {\r\n        public static void main(String[] args) {\r\n            IntObjectHashMap map = new IntObjectHashMap();\r\n    \r\n            map.put(5,&quot;It works&quot;);\r\n            map.put(6,&quot;without&quot;);\r\n            map.put(7,&quot;boxing!&quot;);\r\n    \r\n            System.out.println(map.get(5));\r\n            System.out.println(map.get(6));\r\n            System.out.println(map.get(7));\r\n        }\r\n    }\r\nIn this example above [IntObjectHashMap][2].\r\n\r\nAs you need *int-&gt;object* mapping, also consider usage of `YourObjectType[]` array or `List&lt;YourObjectType&gt;` and access values by index (as map is, by nature, an associative array).\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: http://www.eclipse.org/collections/javadoc/10.2.0/org/eclipse/collections/impl/map/mutable/primitive/IntObjectHashMap.html#containsAllArguments-java.lang.Object...-","title":"HashMap and int as key","body":"<p>For somebody who is interested in a such map because you want to reduce <strong>footprint of autoboxing</strong> in Java of wrappers over primitives types, I would recommend to use\n<a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse collections</a>. <strong>Trove isn't supported anymore</strong>, and I believe it is quite unreliable library in this sense (though it is quite popular anyway) and couldn't be compared with <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse collections</a>.</p>\n<pre><code>import org.eclipse.collections.impl.map.mutable.primitive.IntObjectHashMap;\n\npublic class Check {\n    public static void main(String[] args) {\n        IntObjectHashMap map = new IntObjectHashMap();\n\n        map.put(5,&quot;It works&quot;);\n        map.put(6,&quot;without&quot;);\n        map.put(7,&quot;boxing!&quot;);\n\n        System.out.println(map.get(5));\n        System.out.println(map.get(6));\n        System.out.println(map.get(7));\n    }\n}\n</code></pre>\n<p>In this example above <a href=\"http://www.eclipse.org/collections/javadoc/10.2.0/org/eclipse/collections/impl/map/mutable/primitive/IntObjectHashMap.html#containsAllArguments-java.lang.Object...-\" rel=\"nofollow noreferrer\">IntObjectHashMap</a>.</p>\n<p>As you need <em>int-&gt;object</em> mapping, also consider usage of <code>YourObjectType[]</code> array or <code>List&lt;YourObjectType&gt;</code> and access values by index (as map is, by nature, an associative array).</p>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607646435,"creation_date":1607641248,"answer_id":65243513,"question_id":16148575,"body_markdown":"If you are using Netty and want to use a map with primitive int type keys, you can use its [`IntObjectHashMap`](https://netty.io/4.1/api/io/netty/util/collection/IntObjectHashMap.html)\r\n\r\nSome of the reasons to use primitive type collections:\r\n- improve performance by having specialized code\r\n- reduce garbage that can put pressure on the GC\r\n\r\nThe question of specialized vs generalized collections can make or break programs with high throughput requirements.","title":"HashMap and int as key","body":"<p>If you are using Netty and want to use a map with primitive int type keys, you can use its <a href=\"https://netty.io/4.1/api/io/netty/util/collection/IntObjectHashMap.html\" rel=\"nofollow noreferrer\"><code>IntObjectHashMap</code></a></p>\n<p>Some of the reasons to use primitive type collections:</p>\n<ul>\n<li>improve performance by having specialized code</li>\n<li>reduce garbage that can put pressure on the GC</li>\n</ul>\n<p>The question of specialized vs generalized collections can make or break programs with high throughput requirements.</p>\n"},{"tags":[],"owner":{"account_id":24955253,"reputation":11,"user_id":18819685,"display_name":"Suman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650155065,"creation_date":1650155065,"answer_id":71898437,"question_id":16148575,"body_markdown":"Just like the list doesn&#39;t take the primitive data, map doesn&#39;t take the primitive data types as key or value. if we try to put primitive data types as the key value pair it will do the autoboxing ","title":"HashMap and int as key","body":"<p>Just like the list doesn't take the primitive data, map doesn't take the primitive data types as key or value. if we try to put primitive data types as the key value pair it will do the autoboxing</p>\n"}],"owner":{"account_id":550163,"reputation":5016,"user_id":1876047,"accept_rate":51,"display_name":"MrD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247298,"favorite_count":0,"down_vote_count":2,"up_vote_count":126,"accepted_answer_id":16149127,"answer_count":13,"score":124,"last_activity_date":1671398245,"creation_date":1366637992,"question_id":16148575,"body_markdown":"I am trying to build a HashMap which will have integer as keys and objects as values.\r\n\r\nMy syntax is:\r\n\r\n    HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\r\n\r\nHowever, the error returned is - Syntax error on token &quot;int&quot;, Dimensions expected after this token - I don&#39;t understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.\r\n\r\nWhat could I do?","title":"HashMap and int as key","body":"<p>I am trying to build a HashMap which will have integer as keys and objects as values.</p>\n<p>My syntax is:</p>\n<pre><code>HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\n</code></pre>\n<p>However, the error returned is - Syntax error on token &quot;int&quot;, Dimensions expected after this token - I don't understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.</p>\n<p>What could I do?</p>\n"},{"tags":["java","html","xml","xpath","xhtml"],"comments":[{"owner":{"account_id":1266527,"reputation":2643,"user_id":1223719,"accept_rate":95,"display_name":"aglassman"},"score":0,"creation_date":1539358507,"post_id":52781780,"comment_id":92486985,"body_markdown":"What in particular is it failing on when uncleaned?","body":"What in particular is it failing on when uncleaned?"},{"owner":{"account_id":9331535,"reputation":383,"user_id":6927126,"accept_rate":50,"display_name":"L. Don"},"score":0,"creation_date":1539426431,"post_id":52781780,"comment_id":92504456,"body_markdown":"I edited the question! @aglassman By the way i was failing on some unclosed tags, &lt;!DOCTYPE&gt; not allowed and things like those. I managed to get it work cleaning the html but some weird things happens: many of the &lt;a&gt; tags lost their href attribute!","body":"I edited the question! @aglassman By the way i was failing on some unclosed tags, &lt;!DOCTYPE&gt; not allowed and things like those. I managed to get it work cleaning the html but some weird things happens: many of the &lt;a&gt; tags lost their href attribute!"}],"answers":[{"tags":[],"owner":{"account_id":9331535,"reputation":383,"user_id":6927126,"accept_rate":50,"display_name":"L. Don"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539428451,"creation_date":1539428451,"answer_id":52792218,"question_id":52781780,"body_markdown":"**SOLVED**:\r\n\r\nI managed to get all things to work this way:\r\n\r\n    String html = getTheHTMLSomeWay();\r\n\r\n    Document doc = Jsoup.parse(Jsoup.clean(html, &quot;http://base.uri&quot;, Whitelist.relaxed().preserveRelativeLinks(true)));\r\n    doc.outputSettings().escapeMode(EscapeMode.xhtml).syntax(Syntax.xml).charset(StandardCharsets.UTF_8);\r\n\r\n    org.w3c.dom.Document document = $(doc.html()).document();\r\n    \r\n    System.out.println($(document).find(&quot;a[href=&#39;/your/relative/url&#39;]&quot;));\r\nWith **Jsoup** i can clean the HTML against all that boring unclosed tags, not allowed tags etc. Then i can escape all the unescaped characters (according to **xhtml**) and set the syntax to **xml**.\r\n\r\nThat can give you a clean html code, usable with **jOOX** library.","title":"How to get the XPath of an element in HTML in java?","body":"<p><strong>SOLVED</strong>:</p>\n\n<p>I managed to get all things to work this way:</p>\n\n<pre><code>String html = getTheHTMLSomeWay();\n\nDocument doc = Jsoup.parse(Jsoup.clean(html, \"http://base.uri\", Whitelist.relaxed().preserveRelativeLinks(true)));\ndoc.outputSettings().escapeMode(EscapeMode.xhtml).syntax(Syntax.xml).charset(StandardCharsets.UTF_8);\n\norg.w3c.dom.Document document = $(doc.html()).document();\n\nSystem.out.println($(document).find(\"a[href='/your/relative/url']\"));\n</code></pre>\n\n<p>With <strong>Jsoup</strong> i can clean the HTML against all that boring unclosed tags, not allowed tags etc. Then i can escape all the unescaped characters (according to <strong>xhtml</strong>) and set the syntax to <strong>xml</strong>.</p>\n\n<p>That can give you a clean html code, usable with <strong>jOOX</strong> library.</p>\n"}],"owner":{"account_id":9331535,"reputation":383,"user_id":6927126,"accept_rate":50,"display_name":"L. Don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52792218,"answer_count":1,"score":0,"last_activity_date":1671398119,"creation_date":1539354803,"question_id":52781780,"body_markdown":"I want to achieve a simple task, but I&#39;m struggling to find an easy solution for that: I have the HTML of a webpage in a String (or File) and I&#39;d like to generate the XPath of a given element.\r\n(For example I&#39;d like to retrieve the XPath for an `&lt;a&gt;` element) \r\n\r\nI tried different solutions but I&#39;m constantly encountering problems in parsing the html correctly. Is there a functioning html cleaner for java like this one?\r\nhttps://www.htmlwasher.com/\r\nThis is the ONLY functioning cleaner I&#39;ve find out for now, but it is an online tool. With this I can easily parse the HTML and get to the XPath.\r\n\r\nI&#39;m currently using jOOX (https://github.com/jOOQ/jOOX) this way to generate the XPath:\r\n\r\n    Document document = $(html).document();\r\n    System.out.println($(document).find(&quot;a&quot;).xpath());\r\n\r\nIf the HTML is cleaned with the online tool I provided, I can generate the right XPath.\r\nI like the way I could interact with jOOX if only I could correctly and programmatically parse the html. Do you know a good way to parse the HTML?\r\nI already tried:\r\n\r\n - JSoup \r\n - Tagsoup\r\n - HtmlCleaner\r\n\r\nThe testing website page is http://www.ansa.it.\r\n\r\n**EDIT**:\r\nThe parsing was failing on some common HTML parsing problems like unclosed tags ( `&lt;/img&gt;` for example), escaping, etc.\r\n\r\nI managed to parse &quot;correctly&quot; the html this way:\r\n\r\n```\r\n    Document doc = Jsoup.parse(Jsoup.clean(html, Whitelist.relaxed()));\r\ndoc.outputSettings().escapeMode(EscapeMode.xhtml)\r\n\t\t\t\t\t\t.syntax(Syntax.xml)\r\n\t\t\t\t\t\t.charset(StandardCharsets.UTF_8);\r\n```\r\n\r\nFact is that tags like `&lt;a href=&quot;cinema.shtml&quot;&gt;Cinema&lt;/a&gt;` became `&lt;a&gt;Cinema&lt;/a&gt;` so I&#39;m not able to select them using their attributes, like href. How can I solve this new problem?\r\n\r\nI noticed that some links still have their href and they are the ones which point to other websites like Facebook or Twitter. Could this be related?","title":"How to get the XPath of an element in HTML in java?","body":"<p>I want to achieve a simple task, but I'm struggling to find an easy solution for that: I have the HTML of a webpage in a String (or File) and I'd like to generate the XPath of a given element.\n(For example I'd like to retrieve the XPath for an <code>&lt;a&gt;</code> element)</p>\n<p>I tried different solutions but I'm constantly encountering problems in parsing the html correctly. Is there a functioning html cleaner for java like this one?\n<a href=\"https://www.htmlwasher.com/\" rel=\"nofollow noreferrer\">https://www.htmlwasher.com/</a>\nThis is the ONLY functioning cleaner I've find out for now, but it is an online tool. With this I can easily parse the HTML and get to the XPath.</p>\n<p>I'm currently using jOOX (<a href=\"https://github.com/jOOQ/jOOX\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOX</a>) this way to generate the XPath:</p>\n<pre><code>Document document = $(html).document();\nSystem.out.println($(document).find(&quot;a&quot;).xpath());\n</code></pre>\n<p>If the HTML is cleaned with the online tool I provided, I can generate the right XPath.\nI like the way I could interact with jOOX if only I could correctly and programmatically parse the html. Do you know a good way to parse the HTML?\nI already tried:</p>\n<ul>\n<li>JSoup</li>\n<li>Tagsoup</li>\n<li>HtmlCleaner</li>\n</ul>\n<p>The testing website page is <a href=\"http://www.ansa.it\" rel=\"nofollow noreferrer\">http://www.ansa.it</a>.</p>\n<p><strong>EDIT</strong>:\nThe parsing was failing on some common HTML parsing problems like unclosed tags ( <code>&lt;/img&gt;</code> for example), escaping, etc.</p>\n<p>I managed to parse &quot;correctly&quot; the html this way:</p>\n<pre><code>    Document doc = Jsoup.parse(Jsoup.clean(html, Whitelist.relaxed()));\ndoc.outputSettings().escapeMode(EscapeMode.xhtml)\n                        .syntax(Syntax.xml)\n                        .charset(StandardCharsets.UTF_8);\n</code></pre>\n<p>Fact is that tags like <code>&lt;a href=&quot;cinema.shtml&quot;&gt;Cinema&lt;/a&gt;</code> became <code>&lt;a&gt;Cinema&lt;/a&gt;</code> so I'm not able to select them using their attributes, like href. How can I solve this new problem?</p>\n<p>I noticed that some links still have their href and they are the ones which point to other websites like Facebook or Twitter. Could this be related?</p>\n"},{"tags":["java","parameter-passing","counter"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1671393259,"post_id":74843930,"comment_id":132084826,"body_markdown":"We need to see more code. Please consider editing the question so there is a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"We need to see more code. Please consider editing the question so there is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>"},{"owner":{"account_id":4554718,"reputation":2128,"user_id":3698762,"accept_rate":38,"display_name":"Stefan"},"score":0,"creation_date":1671393282,"post_id":74843930,"comment_id":132084830,"body_markdown":"Hello, what is the point of the ifs? Looks to me like the feedCounter isn&#39;t always 0 like you say.","body":"Hello, what is the point of the ifs? Looks to me like the feedCounter isn&#39;t always 0 like you say."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1671393422,"post_id":74843930,"comment_id":132084857,"body_markdown":"However, there is a good chance the problem is with the `DayOne` method and the way it is called. Each of the `int` parameters are variables local to the `DayOne` method. They begin with values that are copies of the corresponding arguments in the method call. So, changing the values within `DayOne` does not result in changing the corresponding values in the method(s) that call `DayOne`.","body":"However, there is a good chance the problem is with the <code>DayOne</code> method and the way it is called. Each of the <code>int</code> parameters are variables local to the <code>DayOne</code> method. They begin with values that are copies of the corresponding arguments in the method call. So, changing the values within <code>DayOne</code> does not result in changing the corresponding values in the method(s) that call <code>DayOne</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671393510,"post_id":74843930,"comment_id":132084874,"body_markdown":"We&#39;re not going to be able to find your problem, if you only show us a small sample of your program.  Most likely, your problem is in a part that you haven&#39;t shown here.","body":"We&#39;re not going to be able to find your problem, if you only show us a small sample of your program.  Most likely, your problem is in a part that you haven&#39;t shown here."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671394083,"post_id":74843930,"comment_id":132084972,"body_markdown":"Off Topic: Please consider having only one `Scanner` Object for `System.in`. You may make `in` a `static` variable for your class. Or, you can pass it via argument lists to methods that need to use it.","body":"Off Topic: Please consider having only one <code>Scanner</code> Object for <code>System.in</code>. You may make <code>in</code> a <code>static</code> variable for your class. Or, you can pass it via argument lists to methods that need to use it."},{"owner":{"account_id":27291254,"reputation":1,"user_id":20809619,"display_name":"Sabrina"},"score":0,"creation_date":1671395252,"post_id":74843930,"comment_id":132085154,"body_markdown":"@OldDogProgrammer I just added my entire code since I&#39;m not 100% sure what exactly I need to show","body":"@OldDogProgrammer I just added my entire code since I&#39;m not 100% sure what exactly I need to show"},{"owner":{"account_id":27291254,"reputation":1,"user_id":20809619,"display_name":"Sabrina"},"score":0,"creation_date":1671395286,"post_id":74843930,"comment_id":132085162,"body_markdown":"@DawoodibnKareem I added my entire code. I&#39;m not sure what exactly I need to show","body":"@DawoodibnKareem I added my entire code. I&#39;m not sure what exactly I need to show"}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671397792,"creation_date":1671396842,"answer_id":74844341,"question_id":74843930,"body_markdown":"Consider these lines:\r\n\r\n    public class BunnyProgram \r\n    {\r\n       static int playCounter;\r\n       static int feedCounter;\r\n       static int cleanLitterCounter;\r\n       static int treatCounter;\r\n       static int petCounter;\r\n       static int loveCounter;\r\n    \r\n       public static void main(String [] args)\r\n       {\r\n           Scanner in = new Scanner(System.in);\r\n           welcomeStatement();\r\n           String bunnyName = nameYourBun();\r\n           DayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter\r\n                 , petCounter, playCounter);\r\n\r\nAnd the beginning of this method:\r\n\r\n      public static void DayOne\r\n        (String bunnyName, int feedCounter, int cleanLitterCounter\r\n        , int treatCounter, int petCounter, int playCounter)\r\n    {\r\n\r\nYour mistake is passing the `int` counters as arguments. Within method `DayOne`, the variable `feedCounter` is a *different* variable than the `static int feedCounter` declared above `static void main`.  Both variables have the same name, but the local variable hides the static variable. The same applies to the other `int` variables passed. So, when a value of one of them is changed within the method, it is not changed within `main`.\r\n\r\nTo fix the problem, don&#39;t pass them:\r\n\r\n     public static void DayOne (String bunnyName) { \r\n\r\nand, in `main`\r\n\r\n     DayOne (bunnyName); \r\n\r\nThat way, the only `feedCounter`, `playCounter`, etc. the program sees are the `static` ones.\r\n\r\nThis happens because Java is pass by value: When calling a method, the values of the arguments are copied to the local variables in the parameter list of the called method. \r\n\r\nThis appears to not happen with `bunnyName`. That is because `bunnyName` is a `String`, which is a reference type.  The counters are primitives. \r\n\r\nWith reference types, what gets passed to a called method is a copy of the reference. The local variable in the called method becomes an alias for the corresponding variable doing the calling. Within the called method, as long as the local reference variable isn&#39;t changed to point to something else, what happens to it in the called method also happens to it in the calling method. \r\n\r\nOff-topic:  While you are at it, add `static Scanner in;` to the list of `static` variables. At the beginning of `main`, have `in = new Scanner (System.in);`. That way, you don&#39;t have to open a `new Scanner (System.in)` in other methods. \r\n\r\n\r\n\r\nTo learn more, search for &quot;Java variable shadowing&quot; and &quot;Java call by value&quot;  \r\n","title":"How Do I Prevent My Counter From Resetting Back To 0?","body":"<p>Consider these lines:</p>\n<pre><code>public class BunnyProgram \n{\n   static int playCounter;\n   static int feedCounter;\n   static int cleanLitterCounter;\n   static int treatCounter;\n   static int petCounter;\n   static int loveCounter;\n\n   public static void main(String [] args)\n   {\n       Scanner in = new Scanner(System.in);\n       welcomeStatement();\n       String bunnyName = nameYourBun();\n       DayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter\n             , petCounter, playCounter);\n</code></pre>\n<p>And the beginning of this method:</p>\n<pre><code>  public static void DayOne\n    (String bunnyName, int feedCounter, int cleanLitterCounter\n    , int treatCounter, int petCounter, int playCounter)\n{\n</code></pre>\n<p>Your mistake is passing the <code>int</code> counters as arguments. Within method <code>DayOne</code>, the variable <code>feedCounter</code> is a <em>different</em> variable than the <code>static int feedCounter</code> declared above <code>static void main</code>.  Both variables have the same name, but the local variable hides the static variable. The same applies to the other <code>int</code> variables passed. So, when a value of one of them is changed within the method, it is not changed within <code>main</code>.</p>\n<p>To fix the problem, don't pass them:</p>\n<pre><code> public static void DayOne (String bunnyName) { \n</code></pre>\n<p>and, in <code>main</code></p>\n<pre><code> DayOne (bunnyName); \n</code></pre>\n<p>That way, the only <code>feedCounter</code>, <code>playCounter</code>, etc. the program sees are the <code>static</code> ones.</p>\n<p>This happens because Java is pass by value: When calling a method, the values of the arguments are copied to the local variables in the parameter list of the called method.</p>\n<p>This appears to not happen with <code>bunnyName</code>. That is because <code>bunnyName</code> is a <code>String</code>, which is a reference type.  The counters are primitives.</p>\n<p>With reference types, what gets passed to a called method is a copy of the reference. The local variable in the called method becomes an alias for the corresponding variable doing the calling. Within the called method, as long as the local reference variable isn't changed to point to something else, what happens to it in the called method also happens to it in the calling method.</p>\n<p>Off-topic:  While you are at it, add <code>static Scanner in;</code> to the list of <code>static</code> variables. At the beginning of <code>main</code>, have <code>in = new Scanner (System.in);</code>. That way, you don't have to open a <code>new Scanner (System.in)</code> in other methods.</p>\n<p>To learn more, search for &quot;Java variable shadowing&quot; and &quot;Java call by value&quot;</p>\n"}],"owner":{"account_id":27291254,"reputation":1,"user_id":20809619,"display_name":"Sabrina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671397792,"creation_date":1671392685,"question_id":74843930,"body_markdown":"I&#39;m creating a program that is like a pet bunny simulator. In the program, you are faced with four days (a method for each of these days) and in these days you are asked to make decisions. For example, my program will ask if you want to feed, pet, or play with the bunny. If the user types &quot;feed&quot;, a method will be called that adds to a counter keeping track of how many times the user feeds the bunny. What I think is happening is somewhere in my code, the counters keep resetting back to 0. I&#39;m not sure where, though, or how to fix it.\r\n\r\n```\r\n    import java.io.*;\r\nimport java.util.*;\r\npublic class BunnyProgram \r\n{\r\n\tstatic int playCounter;\r\n\tstatic int feedCounter;\r\n\tstatic int cleanLitterCounter;\r\n\tstatic int treatCounter;\r\n\tstatic int petCounter;\r\n\tstatic int loveCounter;\r\n\t\r\n\tpublic static void main(String [] args)\r\n\t{\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\twelcomeStatement();\r\n\t\tString bunnyName = nameYourBun();\r\n\t\tDayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayOneChoice(bunnyName, loveCounter);\r\n\t\tresults(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\r\n\t\tDayTwo(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayTwoChoice(bunnyName, loveCounter);\r\n\t\tDayThree(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayThreeChoice(bunnyName, loveCounter);\r\n\t\tDayFour(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayFourChoice(bunnyName, loveCounter);\r\n\t\tresults(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\r\n\t}\r\n\r\n\tpublic static void welcomeStatement()\r\n\t{\r\n\t\tSystem.out.println(&quot;Hiya!! Welcome to the bunny program. In this program, you&#39;ll receive a pet bunny!&quot;);\r\n\t\tSystem.out.println(&quot;It&#39;s your job to make correct choices over the span of four days and prevent your bunny from running away!&quot;);\r\n\t\tSystem.out.println(&quot;It is highly recommended to complete every possible action for every day.&quot;);\r\n\t}\r\n\t\r\n\tpublic static String nameYourBun()\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString bunnyName;\r\n\t\tSystem.out.println(&quot;\\nPlease enter a name for your bunny!&quot;);\r\n\t\tbunnyName = in.nextLine(); \r\n\t\tSystem.out.println(&quot;Aww, so cute! Welcome to the (digital) world, &quot; + bunnyName + &quot;!!&quot;);\r\n\t\tSystem.out.println(&quot;Let&#39;s get started! :)&quot;);\r\n\t\treturn bunnyName;\r\n\t}\r\n\t\r\n\tpublic static void DayOne(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay One&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayOneChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\tint Situation;\r\n\t\tSituation = (int) (Math.random() * 3) + 1;\r\n\t\tif (Situation == 1)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You watch &quot; + bunnyName + &quot; look longily outside.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = +1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 2)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; looks outside with no particular interest or disinterest.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 3)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You see &quot; + bunnyName + &quot; look outside with immense fear.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += -1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s go to the next day!&quot;);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void DayTwo(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay Two&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayTwoChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\t\tSystem.out.println(bunnyName + &quot; has continuously been staring over your shoulder at an ad for a new toy.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you buy &quot; + bunnyName + &quot; the toy? Choose option 1, 2, or 3.\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Buy &quot; + bunnyName + &quot; the toy&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Buy &quot; + bunnyName + &quot; a cheaper toy&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Don&#39;t buy &quot; + bunnyName + &quot; any toys&quot;);\r\n\t\t\tint num;\r\n\t\t\tnum = in.nextInt();\r\n\t\t\tswitch(num)\r\n\t\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tloveCounter += -1;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s go to the next day!&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void DayThree(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay Three&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayThreeChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\tint Situation;\r\n\t\tSituation = (int) (Math.random() * 3) + 1;\r\n\t\tif (Situation == 1)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; has been jumping onto your bed a lot recently.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = +1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 2)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You catch &quot; + bunnyName + &quot; sleeping on your bed sometimes, and in their own bed other times.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 3)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; absolutely loves their bed and seems the most comfortable there.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += -1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s go to the final day!&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void DayFour(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay Four&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayFourChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\t\tSystem.out.println(&quot;You notice &quot; + bunnyName + &quot; has been limping.&quot;);\r\n\t\t\tSystem.out.println(&quot;How do you treat &quot; + bunnyName + &quot;? Choose option 1, 2, or 3.\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Take &quot; + bunnyName + &quot; to the vet&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Try and take care of &quot; + bunnyName + &quot;&#39;s paw by yourself.&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Ignore &quot; + bunnyName + &quot;&#39;s paw&quot;);\r\n\t\t\tint num;\r\n\t\t\tnum = in.nextInt();\r\n\t\t\tswitch(num)\r\n\t\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tloveCounter += 1;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s see how you did!&quot;);\r\n\t}\r\n\t\r\n\tpublic static void chooseYourAction(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString choice;\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Would you like to feed &quot; + bunnyName + &quot;, pet &quot; + bunnyName + &quot;, play with &quot;);\r\n\t\tSystem.out.println(bunnyName + &quot;, clean &quot;  + bunnyName + &quot;&#39;s litter, or give &quot;  + bunnyName + &quot; a treat?&quot;);\r\n\t\tchoice = in.nextLine();\r\n\t\tYourChoice(choice, bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void YourChoice (String choice, String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\t\r\n\t\tcase &#39;F&#39;:\r\n\t\tcase &#39;f&#39;:\r\n\t\t\t{\r\n\t\t\tfeedCounter = feedBunny(bunnyName, feedCounter);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\tcase &#39;C&#39;:\r\n\t\tcase &#39;c&#39;:\r\n\t\tcase &#39;L&#39;:\r\n\t\tcase &#39;l&#39;:\r\n\t\t\t{\r\n\t\t\tcleanLitterCounter = cleanLitter(bunnyName, cleanLitterCounter);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\tcase &#39;G&#39;:\r\n\t\tcase &#39;g&#39;:\r\n\t\tcase &#39;T&#39;:\r\n\t\tcase &#39;t&#39;:\r\n\t\t\t{\r\n\t\t\ttreatCounter = giveTreat(bunnyName, treatCounter);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\tcase &#39;P&#39;:\r\n\t\tcase &#39;p&#39;:\r\n\t\t\t{\r\n\t\t\t\tswitch (choice.charAt(1))\r\n\t\t\t\t{\r\n\t\t\t\tcase &#39;E&#39;:\r\n\t\t\t\tcase &#39;e&#39;:\r\n\t\t\t\t{\r\n\t\t\t\t\tpetCounter = petBunny(bunnyName, petCounter);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcase &#39;L&#39;:\r\n\t\t\t\tcase &#39;l&#39;:\r\n\t\t\t\t{\r\n\t\t\t\t\tplayCounter = playWithBunny(bunnyName, playCounter);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int feedBunny(String bunnyName, int feedCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you feed &quot; + bunnyName + &quot; today?&quot;);\r\n\t\tfeedCounter += in.nextInt();\r\n\t\tif (feedCounter == 1)\r\n\t\t{\r\n\t\t\tfeedCounter += 0;\r\n\t\t}\r\n\t\tif(feedCounter == 2)\r\n\t\t{\r\n\t\t\tfeedCounter += 1;\r\n\t\t}\r\n\t\tif(feedCounter == 0)\r\n\t\t{\r\n\t\t\tfeedCounter += -1;\r\n\t\t}\r\n\t\tif(feedCounter &gt; 2)\r\n\t\t{\r\n\t\t\tfeedCounter += -2;\r\n\t\t}\r\n\t\treturn feedCounter;\r\n\t}\r\n\t\r\n\tpublic static int cleanLitter(String bunnyName, int cleanLitterCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you clean &quot; + bunnyName + &quot;&#39;s litter today?&quot;);\r\n\t\tcleanLitterCounter += in.nextInt();\r\n\t\tif (cleanLitterCounter == 1)\r\n\t\t{\r\n\t\t\tcleanLitterCounter += 1;\r\n\t\t}\r\n\t\tif(cleanLitterCounter == 2 || cleanLitterCounter == 0)\r\n\t\t{\r\n\t\t\tcleanLitterCounter += -1;\r\n\t\t}\r\n\t\treturn cleanLitterCounter;\r\n\t}\r\n\t\r\n\tpublic static int giveTreat(String bunnyName, int treatCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you give &quot; + bunnyName + &quot; a treat today?&quot;);\r\n\t\ttreatCounter += in.nextInt();\r\n\t\tif (treatCounter == 1)\r\n\t\t{\r\n\t\t\ttreatCounter += 1;\r\n\t\t}\r\n\t\tif(treatCounter == 2)\r\n\t\t{\r\n\t\t\ttreatCounter += -1;\r\n\t\t}\r\n\t\tif(treatCounter == 0)\r\n\t\t{\r\n\t\t\ttreatCounter += 0;\r\n\t\t}\r\n\t\tif(treatCounter &gt; 2)\r\n\t\t{\r\n\t\t\ttreatCounter += -2;\r\n\t\t}\r\n\t\treturn treatCounter;\r\n\t}\r\n\t\r\n\tpublic static int petBunny(String bunnyName, int petCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you pet &quot; + bunnyName + &quot; today?&quot;);\r\n\t\tpetCounter += in.nextInt();\r\n\t\tif (petCounter == 1)\r\n\t\t{\r\n\t\t\tpetCounter += 0;\r\n\t\t}\r\n\t\tif(petCounter == 2)\r\n\t\t{\r\n\t\t\tpetCounter += 1;\r\n\t\t}\r\n\t\tif(petCounter == 0 || petCounter &gt; 2)\r\n\t\t{\r\n\t\t\tpetCounter += -1;\r\n\t\t}\r\n\t\treturn petCounter;\r\n\t}\r\n\t\r\n\tpublic static int playWithBunny(String bunnyName, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you play with &quot; + bunnyName + &quot; today?&quot;);\r\n\t\tplayCounter += in.nextInt();\r\n\t\tif (playCounter == 1)\r\n\t\t{\r\n\t\t\tplayCounter += 1;\r\n\t\t}\r\n\t\tif(playCounter == 2)\r\n\t\t{\r\n\t\t\tplayCounter += 2;\r\n\t\t}\r\n\t\tif(playCounter == 0)\r\n\t\t{\r\n\t\t\tplayCounter += -1;\r\n\t\t}\r\n\t\treturn playCounter;\r\n\t}\r\n\t\r\n\tpublic static int loveTotal (int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\r\n\t{\r\n\t\tloveCounter = playCounter + feedCounter + cleanLitterCounter + treatCounter + petCounter;\r\n\t\treturn loveCounter;\r\n\t}\r\n\r\n\tpublic static void results (String bunnyName, int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\r\n\t{\r\n\t\tint lC = loveTotal(playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\r\n\t\t\r\n\t\tSystem.out.println(lC);\r\n\t\tif(lC &gt;= 18)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; comes up to you to give you a million kisses!&quot;);\r\n\t\t\tSystem.out.println(&quot;You&#39;re an amazing bunny parent! &lt;3&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(lC &lt;= 17 &amp;&amp; lC &gt;= 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; looks at you with a blank expression and hops the other way.&quot;);\r\n\t\t\tSystem.out.println(&quot;You&#39;re an alright bunny parent.. but more effort would be appreciated.&quot;);\r\n\t\t}\r\n\t\tif(lC &lt; 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You wake up one morning to find &quot; + bunnyName + &quot;&#39;s area vacant.&quot;);\r\n\t\t\tSystem.out.println(&quot;Maybe if you would have been a better bunny parent things would have turned out differently..&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAt the end, I have my results printed and it won&#39;t stop printing 0. I don&#39;t know what to do and I feel like everything I&#39;ve tried hasn&#39;t been working. I initialized my variable in the public class but that didn&#39;t help anything. I also have each variable set to &quot;+=&quot; so I have no idea why it isn&#39;t adding the values each time the method is called.","title":"How Do I Prevent My Counter From Resetting Back To 0?","body":"<p>I'm creating a program that is like a pet bunny simulator. In the program, you are faced with four days (a method for each of these days) and in these days you are asked to make decisions. For example, my program will ask if you want to feed, pet, or play with the bunny. If the user types &quot;feed&quot;, a method will be called that adds to a counter keeping track of how many times the user feeds the bunny. What I think is happening is somewhere in my code, the counters keep resetting back to 0. I'm not sure where, though, or how to fix it.</p>\n<pre><code>    import java.io.*;\nimport java.util.*;\npublic class BunnyProgram \n{\n    static int playCounter;\n    static int feedCounter;\n    static int cleanLitterCounter;\n    static int treatCounter;\n    static int petCounter;\n    static int loveCounter;\n    \n    public static void main(String [] args)\n    {\n        Scanner in = new Scanner(System.in);\n        welcomeStatement();\n        String bunnyName = nameYourBun();\n        DayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayOneChoice(bunnyName, loveCounter);\n        results(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\n        DayTwo(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayTwoChoice(bunnyName, loveCounter);\n        DayThree(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayThreeChoice(bunnyName, loveCounter);\n        DayFour(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayFourChoice(bunnyName, loveCounter);\n        results(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\n    }\n\n    public static void welcomeStatement()\n    {\n        System.out.println(&quot;Hiya!! Welcome to the bunny program. In this program, you'll receive a pet bunny!&quot;);\n        System.out.println(&quot;It's your job to make correct choices over the span of four days and prevent your bunny from running away!&quot;);\n        System.out.println(&quot;It is highly recommended to complete every possible action for every day.&quot;);\n    }\n    \n    public static String nameYourBun()\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String bunnyName;\n        System.out.println(&quot;\\nPlease enter a name for your bunny!&quot;);\n        bunnyName = in.nextLine(); \n        System.out.println(&quot;Aww, so cute! Welcome to the (digital) world, &quot; + bunnyName + &quot;!!&quot;);\n        System.out.println(&quot;Let's get started! :)&quot;);\n        return bunnyName;\n    }\n    \n    public static void DayOne(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay One&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayOneChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n        int Situation;\n        Situation = (int) (Math.random() * 3) + 1;\n        if (Situation == 1)\n        {\n            System.out.println(&quot;You watch &quot; + bunnyName + &quot; look longily outside.&quot;);\n            System.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter = +1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter = -1;\n            }\n        }\n        if (Situation == 2)\n        {\n            System.out.println(bunnyName + &quot; looks outside with no particular interest or disinterest.&quot;);\n            System.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += 0;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 0;\n            }\n        }\n        if (Situation == 3)\n        {\n            System.out.println(&quot;You see &quot; + bunnyName + &quot; look outside with immense fear.&quot;);\n            System.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += -1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 1;\n            }\n        }\n\n        System.out.println(&quot;Okay! Let's go to the next day!&quot;);\n        \n    }\n\n    public static void DayTwo(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay Two&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayTwoChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n            System.out.println(bunnyName + &quot; has continuously been staring over your shoulder at an ad for a new toy.&quot;);\n            System.out.println(&quot;Do you buy &quot; + bunnyName + &quot; the toy? Choose option 1, 2, or 3.\\n&quot;);\n            System.out.println(&quot;1. Buy &quot; + bunnyName + &quot; the toy&quot;);\n            System.out.println(&quot;2. Buy &quot; + bunnyName + &quot; a cheaper toy&quot;);\n            System.out.println(&quot;3. Don't buy &quot; + bunnyName + &quot; any toys&quot;);\n            int num;\n            num = in.nextInt();\n            switch(num)\n            {\n            case 1:\n                loveCounter += 1;\n            \n            case 2:\n                loveCounter += 0;\n                \n            case 3:\n                loveCounter += -1;\n        }\n\n        System.out.println(&quot;Okay! Let's go to the next day!&quot;);\n        \n    }\n    \n    public static void DayThree(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay Three&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayThreeChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n        int Situation;\n        Situation = (int) (Math.random() * 3) + 1;\n        if (Situation == 1)\n        {\n            System.out.println(bunnyName + &quot; has been jumping onto your bed a lot recently.&quot;);\n            System.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter = +1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter = -1;\n            }\n        }\n        if (Situation == 2)\n        {\n            System.out.println(&quot;You catch &quot; + bunnyName + &quot; sleeping on your bed sometimes, and in their own bed other times.&quot;);\n            System.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += 0;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 0;\n            }\n        }\n        if (Situation == 3)\n        {\n            System.out.println(bunnyName + &quot; absolutely loves their bed and seems the most comfortable there.&quot;);\n            System.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += -1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 1;\n            }\n        }\n\n        System.out.println(&quot;Okay! Let's go to the final day!&quot;);\n        \n    }\n    \n    public static void DayFour(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay Four&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayFourChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n            System.out.println(&quot;You notice &quot; + bunnyName + &quot; has been limping.&quot;);\n            System.out.println(&quot;How do you treat &quot; + bunnyName + &quot;? Choose option 1, 2, or 3.\\n&quot;);\n            System.out.println(&quot;1. Take &quot; + bunnyName + &quot; to the vet&quot;);\n            System.out.println(&quot;2. Try and take care of &quot; + bunnyName + &quot;'s paw by yourself.&quot;);\n            System.out.println(&quot;3. Ignore &quot; + bunnyName + &quot;'s paw&quot;);\n            int num;\n            num = in.nextInt();\n            switch(num)\n            {\n            case 1:\n                loveCounter += 1;\n            \n            case 2:\n                loveCounter += 0;\n                \n            case 3:\n                loveCounter += 1;\n        }\n\n        System.out.println(&quot;Okay! Let's see how you did!&quot;);\n    }\n    \n    public static void chooseYourAction(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String choice;\n        \n        \n        System.out.println(&quot;Would you like to feed &quot; + bunnyName + &quot;, pet &quot; + bunnyName + &quot;, play with &quot;);\n        System.out.println(bunnyName + &quot;, clean &quot;  + bunnyName + &quot;'s litter, or give &quot;  + bunnyName + &quot; a treat?&quot;);\n        choice = in.nextLine();\n        YourChoice(choice, bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        \n    }\n    \n    public static void YourChoice (String choice, String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        switch (choice.charAt(0))\n        {\n        \n        case 'F':\n        case 'f':\n            {\n            feedCounter = feedBunny(bunnyName, feedCounter);\n            break;\n            }\n        }\n        \n        switch (choice.charAt(0))\n        {\n        case 'C':\n        case 'c':\n        case 'L':\n        case 'l':\n            {\n            cleanLitterCounter = cleanLitter(bunnyName, cleanLitterCounter);\n            break;\n            }\n        }\n        \n        switch (choice.charAt(0))\n        {\n        case 'G':\n        case 'g':\n        case 'T':\n        case 't':\n            {\n            treatCounter = giveTreat(bunnyName, treatCounter);\n            break;\n            }\n        }\n        \n        switch (choice.charAt(0))\n        {\n        case 'P':\n        case 'p':\n            {\n                switch (choice.charAt(1))\n                {\n                case 'E':\n                case 'e':\n                {\n                    petCounter = petBunny(bunnyName, petCounter);\n                    break;\n                }\n                \n                case 'L':\n                case 'l':\n                {\n                    playCounter = playWithBunny(bunnyName, playCounter);\n                    break;\n                }\n                    \n                }\n            }\n        }\n    }\n    \n    public static int feedBunny(String bunnyName, int feedCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you feed &quot; + bunnyName + &quot; today?&quot;);\n        feedCounter += in.nextInt();\n        if (feedCounter == 1)\n        {\n            feedCounter += 0;\n        }\n        if(feedCounter == 2)\n        {\n            feedCounter += 1;\n        }\n        if(feedCounter == 0)\n        {\n            feedCounter += -1;\n        }\n        if(feedCounter &gt; 2)\n        {\n            feedCounter += -2;\n        }\n        return feedCounter;\n    }\n    \n    public static int cleanLitter(String bunnyName, int cleanLitterCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you clean &quot; + bunnyName + &quot;'s litter today?&quot;);\n        cleanLitterCounter += in.nextInt();\n        if (cleanLitterCounter == 1)\n        {\n            cleanLitterCounter += 1;\n        }\n        if(cleanLitterCounter == 2 || cleanLitterCounter == 0)\n        {\n            cleanLitterCounter += -1;\n        }\n        return cleanLitterCounter;\n    }\n    \n    public static int giveTreat(String bunnyName, int treatCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you give &quot; + bunnyName + &quot; a treat today?&quot;);\n        treatCounter += in.nextInt();\n        if (treatCounter == 1)\n        {\n            treatCounter += 1;\n        }\n        if(treatCounter == 2)\n        {\n            treatCounter += -1;\n        }\n        if(treatCounter == 0)\n        {\n            treatCounter += 0;\n        }\n        if(treatCounter &gt; 2)\n        {\n            treatCounter += -2;\n        }\n        return treatCounter;\n    }\n    \n    public static int petBunny(String bunnyName, int petCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you pet &quot; + bunnyName + &quot; today?&quot;);\n        petCounter += in.nextInt();\n        if (petCounter == 1)\n        {\n            petCounter += 0;\n        }\n        if(petCounter == 2)\n        {\n            petCounter += 1;\n        }\n        if(petCounter == 0 || petCounter &gt; 2)\n        {\n            petCounter += -1;\n        }\n        return petCounter;\n    }\n    \n    public static int playWithBunny(String bunnyName, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you play with &quot; + bunnyName + &quot; today?&quot;);\n        playCounter += in.nextInt();\n        if (playCounter == 1)\n        {\n            playCounter += 1;\n        }\n        if(playCounter == 2)\n        {\n            playCounter += 2;\n        }\n        if(playCounter == 0)\n        {\n            playCounter += -1;\n        }\n        return playCounter;\n    }\n    \n    public static int loveTotal (int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\n    {\n        loveCounter = playCounter + feedCounter + cleanLitterCounter + treatCounter + petCounter;\n        return loveCounter;\n    }\n\n    public static void results (String bunnyName, int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\n    {\n        int lC = loveTotal(playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\n        \n        System.out.println(lC);\n        if(lC &gt;= 18)\n        {\n            System.out.println(bunnyName + &quot; comes up to you to give you a million kisses!&quot;);\n            System.out.println(&quot;You're an amazing bunny parent! &lt;3&quot;);\n        }\n        \n        if(lC &lt;= 17 &amp;&amp; lC &gt;= 0)\n        {\n            System.out.println(bunnyName + &quot; looks at you with a blank expression and hops the other way.&quot;);\n            System.out.println(&quot;You're an alright bunny parent.. but more effort would be appreciated.&quot;);\n        }\n        if(lC &lt; 0)\n        {\n            System.out.println(&quot;You wake up one morning to find &quot; + bunnyName + &quot;'s area vacant.&quot;);\n            System.out.println(&quot;Maybe if you would have been a better bunny parent things would have turned out differently..&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>At the end, I have my results printed and it won't stop printing 0. I don't know what to do and I feel like everything I've tried hasn't been working. I initialized my variable in the public class but that didn't help anything. I also have each variable set to &quot;+=&quot; so I have no idea why it isn't adding the values each time the method is called.</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1671398112,"post_id":74844438,"comment_id":132085683,"body_markdown":"The `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Learn more about the modern Date-Time API from [Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Learn more about the modern Date-Time API from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a>."}],"owner":{"account_id":14107418,"reputation":482,"user_id":10191125,"display_name":"91StarSky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671400354,"answer_count":0,"score":0,"last_activity_date":1671397784,"creation_date":1671397784,"question_id":74844438,"body_markdown":"I was writing a purging logic from a `HashSet` to keep last 2 days&#39; data :-\r\n\r\n\t\twhile(mscDatesIterator.hasNext()) {\r\n\t\t\tString entry = (String) mscDatesIterator.next();\r\n\t\t\tDate currentDate = SystemTime.getCurrentTime();\r\n\t\t\tString currentDateString = subscriberProfile.getSubscriberID() + sdf.format(currentDate);\r\n\t\t\tInteger currentStringMonth = Integer.parseInt(currentDateString.substring(currentDateString.length() - 4, currentDateString.length() - 2));\r\n\t\t\tInteger entryStringMonth = Integer.parseInt(entry.substring(entry.length() - 4, entry.length() - 2));\r\n\t\t\tInteger currentStringDay = Integer.parseInt(currentDateString.substring(currentDateString.length() - 2, currentDateString.length()));\r\n\t\t\tInteger entryStringDay = Integer.parseInt(entry.substring(entry.length() - 2, entry.length()));\r\n\t\t\tInteger currentStringYear = Integer.parseInt(currentDateString.substring(currentDateString.length() - 8, currentDateString.length() - 4));\r\n\t\t\tInteger entryStringYear = Integer.parseInt(entry.substring(entry.length() - 8, entry.length() - 4));\r\n\t\t\tif((!currentStringYear.equals(entryStringYear)) || (!currentStringMonth.equals(entryStringMonth)) || (currentStringDay - entryStringDay &gt; 2)) \r\n\t\t\t\tmscDatesIterator.remove();\r\n\t\t}\r\n\r\nThis works just fine, but when I use `currentStringYear != entryStringYear`, it returns `true` even though both values are 2022.\r\nAlso, if I change the dataType from class `Integer` to primitive `int`, `currentStringYear != entryStringYear` returns false correctly.\r\n\r\nI don&#39;t understand this behavior, any light shed on this will be appreciated.","title":"Why Does Integer and int behave differently when parsed from a String","body":"<p>I was writing a purging logic from a <code>HashSet</code> to keep last 2 days' data :-</p>\n<pre><code>    while(mscDatesIterator.hasNext()) {\n        String entry = (String) mscDatesIterator.next();\n        Date currentDate = SystemTime.getCurrentTime();\n        String currentDateString = subscriberProfile.getSubscriberID() + sdf.format(currentDate);\n        Integer currentStringMonth = Integer.parseInt(currentDateString.substring(currentDateString.length() - 4, currentDateString.length() - 2));\n        Integer entryStringMonth = Integer.parseInt(entry.substring(entry.length() - 4, entry.length() - 2));\n        Integer currentStringDay = Integer.parseInt(currentDateString.substring(currentDateString.length() - 2, currentDateString.length()));\n        Integer entryStringDay = Integer.parseInt(entry.substring(entry.length() - 2, entry.length()));\n        Integer currentStringYear = Integer.parseInt(currentDateString.substring(currentDateString.length() - 8, currentDateString.length() - 4));\n        Integer entryStringYear = Integer.parseInt(entry.substring(entry.length() - 8, entry.length() - 4));\n        if((!currentStringYear.equals(entryStringYear)) || (!currentStringMonth.equals(entryStringMonth)) || (currentStringDay - entryStringDay &gt; 2)) \n            mscDatesIterator.remove();\n    }\n</code></pre>\n<p>This works just fine, but when I use <code>currentStringYear != entryStringYear</code>, it returns <code>true</code> even though both values are 2022.\nAlso, if I change the dataType from class <code>Integer</code> to primitive <code>int</code>, <code>currentStringYear != entryStringYear</code> returns false correctly.</p>\n<p>I don't understand this behavior, any light shed on this will be appreciated.</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1570171822,"post_id":2138085,"comment_id":102836512,"body_markdown":"For anyone reading this in 2019 or later, the `SimpleDateFormat` class used in a couple of the answers is notoriously troublesome and long outdated. Avoid it. Instead use [the short answer by Mark Jeronimus](https://stackoverflow.com/a/49667638/5772882) demonstrating the use of [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For anyone reading this in 2019 or later, the <code>SimpleDateFormat</code> class used in a couple of the answers is notoriously troublesome and long outdated. Avoid it. Instead use <a href=\"https://stackoverflow.com/a/49667638/5772882\">the short answer by Mark Jeronimus</a> demonstrating the use of <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":14472,"reputation":75219,"user_id":29809,"accept_rate":90,"display_name":"R Samuel Klatchko"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1498683472,"creation_date":1264492581,"answer_id":2138106,"question_id":2138085,"body_markdown":"You can use String.format as documented in [java.util.Formatter][1]:\r\n\r\n    Calendar c = ...;\r\n    String s = String.format(&quot;%tY year&quot;, c);\r\n    // -&gt; s == &quot;2010 year&quot; or whatever the year actually is\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html","title":"Java date format - including additional characters","body":"<p>You can use String.format as documented in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">java.util.Formatter</a>:</p>\n\n<pre><code>Calendar c = ...;\nString s = String.format(\"%tY year\", c);\n// -&gt; s == \"2010 year\" or whatever the year actually is\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1264492952,"creation_date":1264492952,"answer_id":2138123,"question_id":2138085,"body_markdown":"java.text.SimpleDateFormat\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;); \r\n    String formattedDate = formatter.format(date);\r\n\r\nYou&#39;ll get more info here [link text][1]\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html","title":"Java date format - including additional characters","body":"<p>java.text.SimpleDateFormat</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy/MM/dd\"); \nString formattedDate = formatter.format(date);\n</code></pre>\n\n<p>You'll get more info here <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">link text</a></p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":195,"is_accepted":true,"score":195,"last_activity_date":1497370827,"creation_date":1264493119,"answer_id":2138135,"question_id":2138085,"body_markdown":"Sure, with the [SimpleDateFormat][1] you can include literal strings:\r\n\r\n&gt; Within date and time pattern strings, unquoted letters from &#39;A&#39; to &#39;Z&#39; and from &#39;a&#39; to &#39;z&#39; are interpreted as pattern letters representing the components of a date or time string. Text can be quoted using single quotes (&#39;) to avoid interpretation. &quot;&#39;&#39;&quot; represents a single quote. All other characters are not interpreted; they&#39;re simply copied into the output string during formatting or matched against the input string during parsing. \r\n\r\n     &quot;hh &#39;o&#39;&#39;clock&#39; a, zzzz&quot;  \t12 o&#39;clock PM, Pacific Daylight Time\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html","title":"Java date format - including additional characters","body":"<p>Sure, with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> you can include literal strings:</p>\n\n<blockquote>\n  <p>Within date and time pattern strings, unquoted letters from 'A' to 'Z' and from 'a' to 'z' are interpreted as pattern letters representing the components of a date or time string. Text can be quoted using single quotes (') to avoid interpretation. \"''\" represents a single quote. All other characters are not interpreted; they're simply copied into the output string during formatting or matched against the input string during parsing. </p>\n</blockquote>\n\n<pre><code> \"hh 'o''clock' a, zzzz\"    12 o'clock PM, Pacific Daylight Time\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1522916943,"creation_date":1522916943,"answer_id":49667638,"question_id":2138085,"body_markdown":"Just for completeness, Java 8&#39;s `DateTimeFormatter` also supports this:\r\n\r\n    DateTimeFormatter.ofPattern(&quot;yyyy &#39;year&#39;&quot;);","title":"Java date format - including additional characters","body":"<p>Just for completeness, Java 8's <code>DateTimeFormatter</code> also supports this:</p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"yyyy 'year'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1570221561,"creation_date":1570181775,"answer_id":58233707,"question_id":2138085,"body_markdown":"## java.time\r\n\r\n[Mark Jeronimus said it][1] already. I am fleshing it out a bit more. Just put the text to be printed literally inside single quotes.\r\n\r\n\t\tDateTimeFormatter yearFormatter = DateTimeFormatter.ofPattern(&quot;yyyy &#39;year&#39;&quot;);\r\n\t\tSystem.out.println(LocalDate.of(2010, Month.FEBRUARY, 3).format(yearFormatter));\r\n\t\tSystem.out.println(Year.of(2010).format(yearFormatter));\r\n\t\tSystem.out.println(ZonedDateTime.now(ZoneId.of(&quot;Europe/Vilnius&quot;)).format(yearFormatter));\r\n\r\nOutput when running just now:\r\n\r\n&gt;     2010 year\r\n&gt;     2010 year\r\n&gt;     2019 year\r\n\r\nIf you are using a `DateTimeFormatterBuilder` and its `appendPattern` method, use single quotes in the same way. Or use its `appendLiteral` method instead and no single quotes.\r\n\r\nHow do we put a single quote in the format, then? Two single quotes produce one. It doesn’t matter if the double single quote is inside single quotes or not:\r\n\r\n\t\tDateTimeFormatter formatterWithSingleQuote = DateTimeFormatter.ofPattern(&quot;H mm&#39;&#39; ss\\&quot;&quot;);\r\n\t\tSystem.out.println(LocalTime.now(ZoneId.of(&quot;Europe/London&quot;)).format(formatterWithSingleQuote));\r\n\r\n&gt; 10 28&#39; 34&quot;\r\n\r\n\t\tDateTimeFormatter formatterWithSingleQuoteInsideSingleQuotes\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;hh &#39;o&#39;&#39;clock&#39; a, zzzz&quot;, Locale.ENGLISH);\r\n\t\tSystem.out.println(ZonedDateTime.now(ZoneId.of(&quot;America/Los_Angeles&quot;))\r\n\t\t\t\t.format(formatterWithSingleQuoteInsideSingleQuotes));\r\n\r\n&gt; 02 o&#39;clock AM, Pacific Daylight Time\r\n\r\nAll of the formatters above can be used for parsing too. For example:\r\n\r\n\t\tLocalTime time = LocalTime.parse(&quot;16 43&#39; 56\\&quot;&quot;, formatterWithSingleQuote);\r\n\t\tSystem.out.println(time);\r\n\r\n&gt; 16:43:56\r\n\r\nThe `SimpleDateFormat` class used when this question was asked nearly 10 years ago is notoriously troublesome and long outdated. I recommend that instead you use java.time, the modern Java date and time API. Which is why I demonstrate just that.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Documentation of `DateTimeFormatter`](https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49667638/642706","title":"Java date format - including additional characters","body":"<h2>java.time</h2>\n\n<p><a href=\"https://stackoverflow.com/a/49667638/642706\">Mark Jeronimus said it</a> already. I am fleshing it out a bit more. Just put the text to be printed literally inside single quotes.</p>\n\n<pre><code>    DateTimeFormatter yearFormatter = DateTimeFormatter.ofPattern(\"yyyy 'year'\");\n    System.out.println(LocalDate.of(2010, Month.FEBRUARY, 3).format(yearFormatter));\n    System.out.println(Year.of(2010).format(yearFormatter));\n    System.out.println(ZonedDateTime.now(ZoneId.of(\"Europe/Vilnius\")).format(yearFormatter));\n</code></pre>\n\n<p>Output when running just now:</p>\n\n<blockquote>\n<pre><code>2010 year\n2010 year\n2019 year\n</code></pre>\n</blockquote>\n\n<p>If you are using a <code>DateTimeFormatterBuilder</code> and its <code>appendPattern</code> method, use single quotes in the same way. Or use its <code>appendLiteral</code> method instead and no single quotes.</p>\n\n<p>How do we put a single quote in the format, then? Two single quotes produce one. It doesn’t matter if the double single quote is inside single quotes or not:</p>\n\n<pre><code>    DateTimeFormatter formatterWithSingleQuote = DateTimeFormatter.ofPattern(\"H mm'' ss\\\"\");\n    System.out.println(LocalTime.now(ZoneId.of(\"Europe/London\")).format(formatterWithSingleQuote));\n</code></pre>\n\n<blockquote>\n  <p>10 28' 34\"</p>\n</blockquote>\n\n<pre><code>    DateTimeFormatter formatterWithSingleQuoteInsideSingleQuotes\n            = DateTimeFormatter.ofPattern(\"hh 'o''clock' a, zzzz\", Locale.ENGLISH);\n    System.out.println(ZonedDateTime.now(ZoneId.of(\"America/Los_Angeles\"))\n            .format(formatterWithSingleQuoteInsideSingleQuotes));\n</code></pre>\n\n<blockquote>\n  <p>02 o'clock AM, Pacific Daylight Time</p>\n</blockquote>\n\n<p>All of the formatters above can be used for parsing too. For example:</p>\n\n<pre><code>    LocalTime time = LocalTime.parse(\"16 43' 56\\\"\", formatterWithSingleQuote);\n    System.out.println(time);\n</code></pre>\n\n<blockquote>\n  <p>16:43:56</p>\n</blockquote>\n\n<p>The <code>SimpleDateFormat</code> class used when this question was asked nearly 10 years ago is notoriously troublesome and long outdated. I recommend that instead you use java.time, the modern Java date and time API. Which is why I demonstrate just that.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">Documentation of <code>DateTimeFormatter</code></a></li>\n</ul>\n"}],"owner":{"account_id":12807,"reputation":3263,"user_id":25413,"accept_rate":91,"display_name":"Sejanus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65357,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":2138135,"answer_count":5,"score":116,"last_activity_date":1671396945,"creation_date":1264492237,"question_id":2138085,"body_markdown":"Is there an equivalent to php date() style formatting in Java? I mean, in php I can backslash-escape characters to have them treated literally. I.e. **yyyy \\y\\e\\a\\r** would become **2010 year**. I did not find anything similar in Java, all examples deal only with built-in date formats. \r\n\r\nIn particular, I deal with [JCalendar][1] date pickers and their **dateFormatString** property.\r\n\r\nI need it because in my locale it is required to write all sorts of additional stuff in date format, like d. (for day) after days part, m. (for years) after years part and so on.\r\n\r\nAt the worst case I could use string replace or regexp but maybe there&#39;s a simpler way?\r\n\r\n\r\n  [1]: http://www.toedter.com/en/jcalendar/index.html","title":"Java date format - including additional characters","body":"<p>Is there an equivalent to php date() style formatting in Java? I mean, in php I can backslash-escape characters to have them treated literally. I.e. <strong>yyyy \\y\\e\\a\\r</strong> would become <strong>2010 year</strong>. I did not find anything similar in Java, all examples deal only with built-in date formats.</p>\n<p>In particular, I deal with <a href=\"http://www.toedter.com/en/jcalendar/index.html\" rel=\"noreferrer\">JCalendar</a> date pickers and their <strong>dateFormatString</strong> property.</p>\n<p>I need it because in my locale it is required to write all sorts of additional stuff in date format, like d. (for day) after days part, m. (for years) after years part and so on.</p>\n<p>At the worst case I could use string replace or regexp but maybe there's a simpler way?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671396656,"creation_date":1671396656,"answer_id":74844324,"question_id":74844292,"body_markdown":"if you are talking about position of cursor then use\r\n\r\n    int cursorPosition = et.getSelectionStart();\r\n\r\nafter taking position of cursor you should take whole text and apply desired effect. for example split text by white characters (spaces, enters), calculate on which word cursor is pointing and add/remove bold spannable\r\n\r\nnote that [`et.getText()` returns `Editable`](https://developer.android.com/reference/android/widget/EditText#getText()), not just usual `String`. So you can do some work on this class, e.g. check if word with cursor inside is already bold or other spannable applied","title":"Android get focused word from edittext","body":"<p>if you are talking about position of cursor then use</p>\n<pre><code>int cursorPosition = et.getSelectionStart();\n</code></pre>\n<p>after taking position of cursor you should take whole text and apply desired effect. for example split text by white characters (spaces, enters), calculate on which word cursor is pointing and add/remove bold spannable</p>\n<p>note that <a href=\"https://developer.android.com/reference/android/widget/EditText#getText()\" rel=\"nofollow noreferrer\"><code>et.getText()</code> returns <code>Editable</code></a>, not just usual <code>String</code>. So you can do some work on this class, e.g. check if word with cursor inside is already bold or other spannable applied</p>\n"}],"owner":{"display_name":"user19516326"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74844324,"answer_count":1,"score":0,"last_activity_date":1671396656,"creation_date":1671396447,"question_id":74844292,"body_markdown":"Lets say I have an Android edittext with sentence: &quot;I like Stackoverflow very much&quot;. Then I use my keyboard to be focused on the word Stackoverflow and now I click the button in my app that adds / removes for example bold effect for this specific word.\r\n\r\nIs it possible to do that?\r\n\r\nThank you in advance. ","title":"Android get focused word from edittext","body":"<p>Lets say I have an Android edittext with sentence: &quot;I like Stackoverflow very much&quot;. Then I use my keyboard to be focused on the word Stackoverflow and now I click the button in my app that adds / removes for example bold effect for this specific word.</p>\n<p>Is it possible to do that?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","file","stream","java-stream"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1671394686,"post_id":74844082,"comment_id":132085068,"body_markdown":"Why the insistence on using streams?  There are simpler approaches.","body":"Why the insistence on using streams?  There are simpler approaches."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671395578,"creation_date":1671395273,"answer_id":74844172,"question_id":74844082,"body_markdown":"&gt; handle all the data before the Line &quot;---&quot;\r\n\r\nTo implement this condition you can use Java 9 [`Stream.takeWhile()`][takeWhile]. It expects a `Predicate` as an argument. The stream processing would terminate after the first element for which the given predicate would be evaluated to `false`.\r\n\r\n```\r\nreturn Files.lines(Path.of(path))\r\n    .takeWhile(line -&gt; !&quot;---&quot;.equals(line))\r\n    // other logic\r\n    // terminal operation producing the result, like .toList(), collect(Collectors.joining()), etc.\r\n```\r\n\r\nI suggest you to get familiar with these basic tutorials on [*Lambda expressions*](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and [*Streams*](https://docs.oracle.com/javase/tutorial/collections/streams/index.html).\r\n\r\n***Sidenote:** `UTF_8` is the default character set, and there&#39;s no need to provide the second argument in `Files.lines()` if it&#39;s used in the target file.*\r\n\r\n\r\n\r\n   [takeWhile]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)","title":"How to intercept a Java Stream by a particular data?","body":"<blockquote>\n<p>handle all the data before the Line &quot;---&quot;</p>\n</blockquote>\n<p>To implement this condition you can use Java 9 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.takeWhile()</code></a>. It expects a <code>Predicate</code> as an argument. The stream processing would terminate after the first element for which the given predicate would be evaluated to <code>false</code>.</p>\n<pre><code>return Files.lines(Path.of(path))\n    .takeWhile(line -&gt; !&quot;---&quot;.equals(line))\n    // other logic\n    // terminal operation producing the result, like .toList(), collect(Collectors.joining()), etc.\n</code></pre>\n<p>I suggest you to get familiar with these basic tutorials on <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><em>Lambda expressions</em></a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\"><em>Streams</em></a>.</p>\n<p><em><strong>Sidenote:</strong> <code>UTF_8</code> is the default character set, and there's no need to provide the second argument in <code>Files.lines()</code> if it's used in the target file.</em></p>\n"}],"owner":{"account_id":27244843,"reputation":23,"user_id":20770322,"display_name":"BSLK11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74844172,"answer_count":1,"score":2,"last_activity_date":1671395578,"creation_date":1671394217,"question_id":74844082,"body_markdown":"I want to use Java to read a .txt file and use Java Stream to handle all the data before the Line &quot;---&quot;.\r\n\r\nI have used :\r\n\r\n```\r\nreturn Files.lines(Path.of(path), StandardCharsets.UTF_8)\r\n        .filter(n -&gt; ...)\r\n```\r\nbut I have no clue how to manage the lines or get access to other lines besides n(lambda parameter).","title":"How to intercept a Java Stream by a particular data?","body":"<p>I want to use Java to read a .txt file and use Java Stream to handle all the data before the Line &quot;---&quot;.</p>\n<p>I have used :</p>\n<pre><code>return Files.lines(Path.of(path), StandardCharsets.UTF_8)\n        .filter(n -&gt; ...)\n</code></pre>\n<p>but I have no clue how to manage the lines or get access to other lines besides n(lambda parameter).</p>\n"},{"tags":["java","javafx","graph","jfreechart","jfreechart-fx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671187156,"post_id":74823112,"comment_id":132049729,"body_markdown":"aside: why the awt import? remove or at least replace the star import with a specific one (if you really need it)","body":"aside: why the awt import? remove or at least replace the star import with a specific one (if you really need it)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671218322,"post_id":74823112,"comment_id":132059641,"body_markdown":"As suggested [here](https://stackoverflow.com/a/74241708/230513), invoking `createChart()` twice modifies one then displays the other.","body":"As suggested <a href=\"https://stackoverflow.com/a/74241708/230513\">here</a>, invoking <code>createChart()</code> twice modifies one then displays the other."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671243700,"post_id":74823112,"comment_id":132064031,"body_markdown":"Note also that `rangeCrosshairLockedOnData` is `true` by default.","body":"Note also that <code>rangeCrosshairLockedOnData</code> is <code>true</code> by default."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671282286,"post_id":74823112,"comment_id":132068403,"body_markdown":"where would i invoke the createChart() method? please","body":"where would i invoke the createChart() method? please"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671393521,"creation_date":1671393521,"answer_id":74844015,"question_id":74823112,"body_markdown":"The crosshairs do not appear because you invoke `createChart()` twice, updating one instance while displaying the other. Instead, create and update a single instance:\r\n\r\n```\r\npublic void start(Stage stage) {\r\n    //XYPlot plot = createChart().getXYPlot();\r\n    var chart = createChart();\r\n    XYPlot plot = chart.getXYPlot();\r\n    plot.setDomainCrosshairVisible(true);\r\n    plot.setRangeCrosshairVisible(true);\r\n    …\r\n    //JFreeChart chart = createChart();\r\n    …\r\n}\r\n```\r\nIncidentally, adding the `SeriesChangeListener` _before_ creating the chart, as you did [here][1], risks causing `Regression` to\r\n\r\n    throw new IllegalArgumentException(&quot;Not enough data.&quot;);\r\n\r\nConsider limiting the effect to two or more items:\r\n\r\n```\r\nseries.addChangeListener((event) -&gt; {\r\n    if (series.getItemCount() &gt; 1) {\r\n        …\r\n    }\r\n});\r\n```\r\n\r\n[![crosshairs][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/74237309/230513\r\n  [2]: https://i.stack.imgur.com/qSPDU.png\r\n","title":"Adding a x and y axis line in jfreechart/crosshairs","body":"<p>The crosshairs do not appear because you invoke <code>createChart()</code> twice, updating one instance while displaying the other. Instead, create and update a single instance:</p>\n<pre><code>public void start(Stage stage) {\n    //XYPlot plot = createChart().getXYPlot();\n    var chart = createChart();\n    XYPlot plot = chart.getXYPlot();\n    plot.setDomainCrosshairVisible(true);\n    plot.setRangeCrosshairVisible(true);\n    …\n    //JFreeChart chart = createChart();\n    …\n}\n</code></pre>\n<p>Incidentally, adding the <code>SeriesChangeListener</code> <em>before</em> creating the chart, as you did <a href=\"https://stackoverflow.com/q/74237309/230513\">here</a>, risks causing <code>Regression</code> to</p>\n<pre><code>throw new IllegalArgumentException(&quot;Not enough data.&quot;);\n</code></pre>\n<p>Consider limiting the effect to two or more items:</p>\n<pre><code>series.addChangeListener((event) -&gt; {\n    if (series.getItemCount() &gt; 1) {\n        …\n    }\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qSPDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qSPDU.png\" alt=\"crosshairs\" /></a></p>\n"}],"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74844015,"answer_count":1,"score":0,"last_activity_date":1671393521,"creation_date":1671186312,"question_id":74823112,"body_markdown":"I would like to add y and x axis lines to my graph. I have tried by setting domain cross hairs by true, but it doesn&#39;t appear. Please could i have some help? when I run the program the graph comes up the x and y lines don&#39;t appear at x = 0 and y = 0:\r\n\r\n```\r\nplot.setDomainCrosshairVisible(true);\r\nplot.setRangeCrosshairVisible(true);\r\n```\r\n\r\n```\r\npackage Grava;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.paint.Color;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.fx.ChartViewer;\r\nimport org.jfree.chart.panel.CrosshairOverlay;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.axis.NumberTickUnit;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.axis.NumberTickUnit;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.plot.Crosshair;\r\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\nimport org.jfree.data.statistics.Regression;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\nimport java.awt.*;\r\n\r\npublic class ScatterAdd extends Application {\r\n\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n\r\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\r\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\r\n\r\n    private JFreeChart createChart() {\r\n        XYSeriesCollection dataset = new XYSeriesCollection();\r\n        dataset.addSeries(series);\r\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Image image = new Image(&quot;Grava.logo.png&quot;);\r\n        stage.getIcons().add(image);\r\n\r\n\r\n        XYPlot plot = createChart().getXYPlot();\r\n        plot.setDomainCrosshairVisible(true);\r\n        plot.setRangeCrosshairVisible(true);\r\n\r\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\r\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\r\n\r\n        var equation = new TextField();\r\n\r\n        series.addChangeListener((event) -&gt; {\r\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n            double b = coefficients[0]; // intercept\r\n            double m = coefficients[1]; // slope\r\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n\r\n        });\r\n\r\n        JFreeChart chart = createChart();\r\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\r\n        });\r\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\r\n        });\r\n\r\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\r\n        domainLabels.setValue(&quot;Current&quot;);\r\n\r\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\r\n        rangeLabels.setValue(&quot;Voltage&quot;);\r\n\r\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        xSpin.setEditable(true);\r\n        xSpin.setPromptText(&quot;Xvalue&quot;);\r\n\r\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        ySpin.setEditable(true);\r\n        ySpin.setPromptText(&quot;Yvalue&quot;);\r\n\r\n        var button = new Button(&quot;Add&quot;);\r\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\r\n\r\n\r\n        HBox xBox = new HBox();\r\n        xBox.getChildren().addAll(domainLabels);\r\n\r\n        HBox yBox = new HBox();\r\n        yBox.getChildren().addAll(rangeLabels);\r\n\r\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\r\n        BorderPane.setAlignment(enter, Pos.CENTER);\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setCenter(new ChartViewer(chart));\r\n        root.setBottom(enter);\r\n\r\n        stage.setTitle(&quot;ScatterAdd&quot;);\r\n        stage.setScene(new Scene(root, 720, 480));\r\n        stage.show();\r\n\r\n    }\r\n    /*\r\n    private void adjustAxis(NumberAxis axis, boolean vertical) {\r\n        axis.setRange(-3.0, 3.0);\r\n        axis.setTickUnit(new NumberTickUnit(0.5));\r\n        axis.setVerticalTickLabels(vertical);\r\n    }\r\n*/\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```","title":"Adding a x and y axis line in jfreechart/crosshairs","body":"<p>I would like to add y and x axis lines to my graph. I have tried by setting domain cross hairs by true, but it doesn't appear. Please could i have some help? when I run the program the graph comes up the x and y lines don't appear at x = 0 and y = 0:</p>\n<pre><code>plot.setDomainCrosshairVisible(true);\nplot.setRangeCrosshairVisible(true);\n</code></pre>\n<pre><code>package Grava;\n\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.paint.Color;\nimport org.jfree.chart.axis.NumberAxis;\nimport javafx.scene.control.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.fx.ChartViewer;\nimport org.jfree.chart.panel.CrosshairOverlay;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.axis.NumberTickUnit;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.axis.NumberTickUnit;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.Crosshair;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\nimport org.jfree.data.statistics.Regression;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\nimport java.awt.*;\n\npublic class ScatterAdd extends Application {\n\n\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\n\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\n\n    private JFreeChart createChart() {\n        XYSeriesCollection dataset = new XYSeriesCollection();\n        dataset.addSeries(series);\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\n    }\n\n    @Override\n    public void start(Stage stage) {\n\n        Image image = new Image(&quot;Grava.logo.png&quot;);\n        stage.getIcons().add(image);\n\n\n        XYPlot plot = createChart().getXYPlot();\n        plot.setDomainCrosshairVisible(true);\n        plot.setRangeCrosshairVisible(true);\n\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\n\n        var equation = new TextField();\n\n        series.addChangeListener((event) -&gt; {\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\n            double b = coefficients[0]; // intercept\n            double m = coefficients[1]; // slope\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\n\n        });\n\n        JFreeChart chart = createChart();\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\n        });\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\n        });\n\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\n        domainLabels.setValue(&quot;Current&quot;);\n\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\n        rangeLabels.setValue(&quot;Voltage&quot;);\n\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        xSpin.setEditable(true);\n        xSpin.setPromptText(&quot;Xvalue&quot;);\n\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        ySpin.setEditable(true);\n        ySpin.setPromptText(&quot;Yvalue&quot;);\n\n        var button = new Button(&quot;Add&quot;);\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\n\n\n        HBox xBox = new HBox();\n        xBox.getChildren().addAll(domainLabels);\n\n        HBox yBox = new HBox();\n        yBox.getChildren().addAll(rangeLabels);\n\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\n        BorderPane.setAlignment(enter, Pos.CENTER);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(new ChartViewer(chart));\n        root.setBottom(enter);\n\n        stage.setTitle(&quot;ScatterAdd&quot;);\n        stage.setScene(new Scene(root, 720, 480));\n        stage.show();\n\n    }\n    /*\n    private void adjustAxis(NumberAxis axis, boolean vertical) {\n        axis.setRange(-3.0, 3.0);\n        axis.setTickUnit(new NumberTickUnit(0.5));\n        axis.setVerticalTickLabels(vertical);\n    }\n*/\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","queue"],"answers":[{"tags":[],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671392760,"creation_date":1671392760,"answer_id":74843939,"question_id":74838500,"body_markdown":"Solved.  So when I installed my docker instance of rabbit, there was a local version already installed, and they were both listening on the same port.  Somehow the installation overrode it so it was going to the docker version, but when I rebooted the next day the windows service turned on my local version so it was trying to send my user configured in the docker version to the local version instead.","title":"RabbitMQ ACCESS_REFUSED","body":"<p>Solved.  So when I installed my docker instance of rabbit, there was a local version already installed, and they were both listening on the same port.  Somehow the installation overrode it so it was going to the docker version, but when I rebooted the next day the windows service turned on my local version so it was trying to send my user configured in the docker version to the local version instead.</p>\n"}],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671392760,"creation_date":1671325386,"question_id":74838500,"body_markdown":"I am trying to connect to RabbitMQ, it was working perfectly yesterday and works for my coworkers, but on my machine I am getting:\r\n\r\n    Caused by: com.rabbitmq.client.AuthenticationFailureException: ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\r\n\tat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:385) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:638) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:603) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:550) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:686) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$RabbitResourceFactory.createConnection(ConnectionFactoryUtils.java:345) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:140) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:102) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:85) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:613) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1378) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n\r\nThe only difference from yesterday is I am having a lot of issues with STS 4.17.0, it has not been responding, something is making it spin out of control, so I created a new workspace and downloaded STS again in case it was corrupted (not sure if fixed).  \r\n\r\nI have tried wiresharking it, and can see the credentials are getting passed in.  The user has permissions and as specified was working fine yesterday and connects to rabbit for others.\r\n\r\nRabbit is running in a kubernetes stack on docker on my machine, I checked the logs and do not see anything there despite it saying check the broker logfile.\r\n\r\nAny ideas?  I am completely out of ideas and has lost a whole day trying to get it to connect.\r\n\r\nThe code is written in Java for Spring Boot.\r\n\r\n    @Configuration\r\n    public class ConnectionFactories {\r\n\r\n\tprivate static Logger logger = LoggerFactory.getLogger(ConnectionFactories.class);\r\n\r\n\t@Autowired\r\n\tprivate AmqpSettings settings;\r\n\r\n\t@Autowired\r\n\tprivate QueueSettings queueSettings;\r\n\r\n\tprivate CachingConnectionFactory makeConnectionFactory(String host, int port, String username, String password,\r\n\t\t\tString virtualHost) throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\r\n\t\t\tFileNotFoundException, IOException {\r\n\t\tRabbitConnectionFactoryBean rabbitCF = new RabbitConnectionFactoryBean();\r\n\t\trabbitCF.setHost(host);\r\n\t\trabbitCF.setPort(port);\r\n\t\trabbitCF.setUsername(username);\r\n\t\trabbitCF.setPassword(password);\r\n\t\trabbitCF.setVirtualHost(virtualHost);\r\n\t\treturn new CachingConnectionFactory(rabbitCF.getRabbitConnectionFactory());\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = { &quot;mule4RabbitCachingConnectionFactory&quot; })\r\n\t@DependsOn(value = {&quot;amqpSettings&quot;})\r\n\tCachingConnectionFactory mule4RabbitCachingConnectionFactory() throws KeyManagementException,\r\n\t\t\tNoSuchAlgorithmException, KeyStoreException, CertificateException, FileNotFoundException, IOException {\r\n\t\tlogger.info(&quot;Configuring mule4 Rabbit caching connection factory&quot;);\r\n\t\treturn makeConnectionFactory(settings.getHost(), settings.getPort(), settings.getUsername(),\r\n\t\t\t\tsettings.getPassword(), queueSettings.getMule4VirtualHost());\r\n\t}\r\n\r\n\t@Bean\r\n\t@Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;)\r\n\tSimpleRabbitListenerContainerFactory mule4RabbitListenerContainerFactory(\r\n\t\t\tSimpleRabbitListenerContainerFactoryConfigurer configurer,\r\n\t\t\t@Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;) ConnectionFactory connectionFactory)\r\n\t\t\tthrows KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\r\n\t\t\tFileNotFoundException, IOException {\r\n\t\tlogger.info(&quot;Configuring mule4 Rabbit listener factory&quot;);\r\n\t\tSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n\t\tconfigurer.configure(factory, connectionFactory);\r\n\t\tfactory.setMaxConcurrentConsumers(20);\r\n\t\tfactory.setConcurrentConsumers(20);\r\n\t\tfactory.setMessageConverter(new QueueMessageConverter());\r\n\t\tfactory.setDefaultRequeueRejected(Boolean.FALSE);\r\n\t\treturn factory;\r\n\t}\r\n\r\n    }\r\n\r\nThe properties class.\r\n\r\n    @ConfigurationProperties(&quot;queue.rabbitmq&quot;)\r\n    @Component\r\n    public class AmqpSettings {\r\n\tprivate String host;\r\n\tprivate Integer port;\r\n\tprivate String username;\r\n\tprivate String password;\r\n\t\r\n\tpublic String getHost() {\r\n\t\treturn host;\r\n\t}\r\n\tpublic void setHost(String host) {\r\n\t\tthis.host = host;\r\n\t}\r\n\tpublic Integer getPort() {\r\n\t\treturn port;\r\n\t}\r\n\tpublic void setPort(Integer port) {\r\n\t\tthis.port = port;\r\n\t}\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n    \t\r\n    }\r\n\r\nI also think there is a race condition loading the properties this way, it happens sometimes where I think the properties are not read before the connection is established.\r\n\r\nSorry, I know it&#39;s a lot, but really stuck!\r\n\r\n\r\n\r\n","title":"RabbitMQ ACCESS_REFUSED","body":"<p>I am trying to connect to RabbitMQ, it was working perfectly yesterday and works for my coworkers, but on my machine I am getting:</p>\n<pre><code>Caused by: com.rabbitmq.client.AuthenticationFailureException: ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\nat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:385) ~[amqp-client-5.16.0.jar:5.16.0]\nat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.16.0.jar:5.16.0]\nat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.16.0.jar:5.16.0]\nat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.16.0.jar:5.16.0]\nat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:638) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:603) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:550) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:686) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$RabbitResourceFactory.createConnection(ConnectionFactoryUtils.java:345) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:140) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:102) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:85) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:613) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1378) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\n</code></pre>\n<p>The only difference from yesterday is I am having a lot of issues with STS 4.17.0, it has not been responding, something is making it spin out of control, so I created a new workspace and downloaded STS again in case it was corrupted (not sure if fixed).</p>\n<p>I have tried wiresharking it, and can see the credentials are getting passed in.  The user has permissions and as specified was working fine yesterday and connects to rabbit for others.</p>\n<p>Rabbit is running in a kubernetes stack on docker on my machine, I checked the logs and do not see anything there despite it saying check the broker logfile.</p>\n<p>Any ideas?  I am completely out of ideas and has lost a whole day trying to get it to connect.</p>\n<p>The code is written in Java for Spring Boot.</p>\n<pre><code>@Configuration\npublic class ConnectionFactories {\n\nprivate static Logger logger = LoggerFactory.getLogger(ConnectionFactories.class);\n\n@Autowired\nprivate AmqpSettings settings;\n\n@Autowired\nprivate QueueSettings queueSettings;\n\nprivate CachingConnectionFactory makeConnectionFactory(String host, int port, String username, String password,\n        String virtualHost) throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\n        FileNotFoundException, IOException {\n    RabbitConnectionFactoryBean rabbitCF = new RabbitConnectionFactoryBean();\n    rabbitCF.setHost(host);\n    rabbitCF.setPort(port);\n    rabbitCF.setUsername(username);\n    rabbitCF.setPassword(password);\n    rabbitCF.setVirtualHost(virtualHost);\n    return new CachingConnectionFactory(rabbitCF.getRabbitConnectionFactory());\n}\n\n@Primary\n@Bean(name = { &quot;mule4RabbitCachingConnectionFactory&quot; })\n@DependsOn(value = {&quot;amqpSettings&quot;})\nCachingConnectionFactory mule4RabbitCachingConnectionFactory() throws KeyManagementException,\n        NoSuchAlgorithmException, KeyStoreException, CertificateException, FileNotFoundException, IOException {\n    logger.info(&quot;Configuring mule4 Rabbit caching connection factory&quot;);\n    return makeConnectionFactory(settings.getHost(), settings.getPort(), settings.getUsername(),\n            settings.getPassword(), queueSettings.getMule4VirtualHost());\n}\n\n@Bean\n@Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;)\nSimpleRabbitListenerContainerFactory mule4RabbitListenerContainerFactory(\n        SimpleRabbitListenerContainerFactoryConfigurer configurer,\n        @Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;) ConnectionFactory connectionFactory)\n        throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\n        FileNotFoundException, IOException {\n    logger.info(&quot;Configuring mule4 Rabbit listener factory&quot;);\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    factory.setMaxConcurrentConsumers(20);\n    factory.setConcurrentConsumers(20);\n    factory.setMessageConverter(new QueueMessageConverter());\n    factory.setDefaultRequeueRejected(Boolean.FALSE);\n    return factory;\n}\n\n}\n</code></pre>\n<p>The properties class.</p>\n<pre><code>@ConfigurationProperties(&quot;queue.rabbitmq&quot;)\n@Component\npublic class AmqpSettings {\nprivate String host;\nprivate Integer port;\nprivate String username;\nprivate String password;\n\npublic String getHost() {\n    return host;\n}\npublic void setHost(String host) {\n    this.host = host;\n}\npublic Integer getPort() {\n    return port;\n}\npublic void setPort(Integer port) {\n    this.port = port;\n}\npublic String getUsername() {\n    return username;\n}\npublic void setUsername(String username) {\n    this.username = username;\n}\npublic String getPassword() {\n    return password;\n}\npublic void setPassword(String password) {\n    this.password = password;\n}\n\n    \n}\n</code></pre>\n<p>I also think there is a race condition loading the properties this way, it happens sometimes where I think the properties are not read before the connection is established.</p>\n<p>Sorry, I know it's a lot, but really stuck!</p>\n"},{"tags":["java","class","constructor","field"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1671392683,"post_id":74843922,"comment_id":132084734,"body_markdown":"Maybe you could always store the temperature in Celsius, and have logic in the constructor that converts the given temperature into Celsius if the unit is something different.","body":"Maybe you could always store the temperature in Celsius, and have logic in the constructor that converts the given temperature into Celsius if the unit is something different."},{"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"score":0,"creation_date":1671394081,"post_id":74843922,"comment_id":132084971,"body_markdown":"Can you please tell me how to apply this?","body":"Can you please tell me how to apply this?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671394525,"post_id":74843922,"comment_id":132085046,"body_markdown":"If you&#39;re familiar with `switch` expressions, you could put one in the constructor.  Otherwise, you could use some `if` and `else if` statements to achieve the same result.","body":"If you&#39;re familiar with <code>switch</code> expressions, you could put one in the constructor.  Otherwise, you could use some <code>if</code> and <code>else if</code> statements to achieve the same result."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671474624,"post_id":74843922,"comment_id":132102682,"body_markdown":"Under the linked original question read the last paragraph of [the answer](https://stackoverflow.com/a/74717724/5772882), **Alternative solution**.","body":"Under the linked original question read the last paragraph of <a href=\"https://stackoverflow.com/a/74717724/5772882\">the answer</a>, <b>Alternative solution</b>."}],"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671397070,"answer_count":0,"score":0,"last_activity_date":1671392545,"creation_date":1671392545,"question_id":74843922,"body_markdown":"How can I convert to different measurement systems if I can&#39;t create another UNIT field to understand which system I need to convert to? \r\n\r\n\r\n```\r\nclass Temperature{\r\n    private final double tm;\r\n    Temperature(double tm, char unit) {\r\n        this.tm = tm;\r\n\r\n    }\r\n    public double getInC(){\r\n\r\n    }\r\n    public double getInF(){\r\n\r\n    }\r\n    public double getInK(){\r\n\r\n    }\r\n}\r\npublic class Temperatures {\r\n    public static void main(String[] args) {\r\n        Temperature t1 = new Temperature(25, &#39;C&#39;);\r\n        System.out.printf(&quot;C: %6.2f%n&quot;, t1.getInC());\r\n        System.out.printf(&quot;F: %6.2f%n&quot;, t1.getInF());\r\n        System.out.printf(&quot;K: %6.2f%n&quot;, t1.getInK());\r\n        Temperature t2 = new Temperature(77, &#39;F&#39;);\r\n        System.out.printf(&quot;C: %6.2f%n&quot;, t2.getInC());\r\n        System.out.printf(&quot;F: %6.2f%n&quot;, t2.getInF());\r\n        System.out.printf(&quot;K: %6.2f%n&quot;, t2.getInK());\r\n        Temperature t3 = new Temperature(298.15, &#39;K&#39;);\r\n        System.out.printf(&quot;C: %6.2f%n&quot;, t3.getInC());\r\n        System.out.printf(&quot;F: %6.2f%n&quot;, t3.getInF());\r\n        System.out.printf(&quot;K: %6.2f%n&quot;, t3.getInK());\r\n    }\r\n}\r\n```\r\n\r\n\r\nIdk what to do about the fact that I can&#39;t create another field","title":"temperature conversion with ONLY ONE field","body":"<p>How can I convert to different measurement systems if I can't create another UNIT field to understand which system I need to convert to?</p>\n<pre><code>class Temperature{\n    private final double tm;\n    Temperature(double tm, char unit) {\n        this.tm = tm;\n\n    }\n    public double getInC(){\n\n    }\n    public double getInF(){\n\n    }\n    public double getInK(){\n\n    }\n}\npublic class Temperatures {\n    public static void main(String[] args) {\n        Temperature t1 = new Temperature(25, 'C');\n        System.out.printf(&quot;C: %6.2f%n&quot;, t1.getInC());\n        System.out.printf(&quot;F: %6.2f%n&quot;, t1.getInF());\n        System.out.printf(&quot;K: %6.2f%n&quot;, t1.getInK());\n        Temperature t2 = new Temperature(77, 'F');\n        System.out.printf(&quot;C: %6.2f%n&quot;, t2.getInC());\n        System.out.printf(&quot;F: %6.2f%n&quot;, t2.getInF());\n        System.out.printf(&quot;K: %6.2f%n&quot;, t2.getInK());\n        Temperature t3 = new Temperature(298.15, 'K');\n        System.out.printf(&quot;C: %6.2f%n&quot;, t3.getInC());\n        System.out.printf(&quot;F: %6.2f%n&quot;, t3.getInF());\n        System.out.printf(&quot;K: %6.2f%n&quot;, t3.getInK());\n    }\n}\n</code></pre>\n<p>Idk what to do about the fact that I can't create another field</p>\n"},{"tags":["java","android","google-play","apk"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1671398711,"post_id":74843452,"comment_id":132085804,"body_markdown":"Could you please share your Gradle file, also have you tried it with another device, I&#39;ve faced the same issue with an app (not mine) and after clearing the Google Play cache, the app installed successfully","body":"Could you please share your Gradle file, also have you tried it with another device, I&#39;ve faced the same issue with an app (not mine) and after clearing the Google Play cache, the app installed successfully"},{"owner":{"account_id":5350952,"reputation":16310,"user_id":4265103,"display_name":"Pierre"},"score":0,"creation_date":1671487491,"post_id":74843452,"comment_id":132106230,"body_markdown":"Have you done any key upgrade or key rotation on the Play Console? And have you installed the app locally on your device (e.g. through Android Studio or ADB)?","body":"Have you done any key upgrade or key rotation on the Play Console? And have you installed the app locally on your device (e.g. through Android Studio or ADB)?"}],"owner":{"account_id":11847305,"reputation":536,"user_id":8669531,"display_name":"sheko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671392468,"creation_date":1671387401,"question_id":74843452,"body_markdown":"I have an  android app that i always upload to google play as an apk with a keystore from 2018 and I use google signing which is recommended as they say, recently I signed the app and exported it as an aab with the same  old keystore but now old users can&#39;t update the app and new users can&#39;t install the app\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Can anyone help me please ,is  What i did is wrong and if so  How to fix it** \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fMw72.png","title":"Sign existing app from apk to aab problem","body":"<p>I have an  android app that i always upload to google play as an apk with a keystore from 2018 and I use google signing which is recommended as they say, recently I signed the app and exported it as an aab with the same  old keystore but now old users can't update the app and new users can't install the app</p>\n<p><a href=\"https://i.stack.imgur.com/fMw72.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMw72.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Can anyone help me please ,is  What i did is wrong and if so  How to fix it</strong></p>\n"},{"tags":["java","data-structures","tree","binary-search-tree","treeset"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1671390019,"post_id":74843577,"comment_id":132084267,"body_markdown":"Creating a `subSet` should be O(1), since it does not copy any elements, but simply returns a view of the backing set. I don&#39;t know how your linked answer came to the conclusion that it would be O(log n)","body":"Creating a <code>subSet</code> should be O(1), since it does not copy any elements, but simply returns a view of the backing set. I don&#39;t know how your linked answer came to the conclusion that it would be O(log n)"},{"owner":{"account_id":3663240,"reputation":2013,"user_id":3052463,"accept_rate":76,"display_name":"Abundance"},"score":0,"creation_date":1671390767,"post_id":74843577,"comment_id":132084401,"body_markdown":"@OldDogProgrammer, yes I&#39;ve realized that and updated the example to reflect such concerns. My question still remains in the general case when the Treeset / subset both have O(n) elements. Also aware of the autoboxing, but more interested in the Treeset internals.","body":"@OldDogProgrammer, yes I&#39;ve realized that and updated the example to reflect such concerns. My question still remains in the general case when the Treeset / subset both have O(n) elements. Also aware of the autoboxing, but more interested in the Treeset internals."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671392105,"creation_date":1671391594,"answer_id":74843819,"question_id":74843577,"body_markdown":"Calling `TreSet#subSet` returns a _view_ of the original collection. Creating this view is O(1). No elements are copied when creating the subset view. Most operations on the view are delegated to the underlying, original collection.\r\n\r\n`clear()` however is an exception. Calling `clear` on a `TreeSet` (or `TreeMap`, really) is O(1), since it only sets the size to 0 and clears the root node.\r\n\r\nThis is not possible for a subset view of the `TreeSet`, which needs to remove all elements in the view one-by-one, delegating to the `AbstractCollection#clear` method, which is [implemented as follows](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/AbstractCollection.java#L443):\r\n\r\n    public void clear() {\r\n        Iterator&lt;E&gt; it = iterator();\r\n        while (it.hasNext()) {\r\n            it.next();\r\n            it.remove();\r\n        }\r\n    }\r\n\r\nRmeoving a single item from the red-black-tree implementation of `TreeMap` (of which `TreeSet` is only a wrapper) is O(log(n)). **Removing N items, which needs to be done for a subset view, is therefore O(n * log(n))**.","title":"What is the runtime of removing a range of values in Java Treeset?","body":"<p>Calling <code>TreSet#subSet</code> returns a <em>view</em> of the original collection. Creating this view is O(1). No elements are copied when creating the subset view. Most operations on the view are delegated to the underlying, original collection.</p>\n<p><code>clear()</code> however is an exception. Calling <code>clear</code> on a <code>TreeSet</code> (or <code>TreeMap</code>, really) is O(1), since it only sets the size to 0 and clears the root node.</p>\n<p>This is not possible for a subset view of the <code>TreeSet</code>, which needs to remove all elements in the view one-by-one, delegating to the <code>AbstractCollection#clear</code> method, which is <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/AbstractCollection.java#L443\" rel=\"nofollow noreferrer\">implemented as follows</a>:</p>\n<pre><code>public void clear() {\n    Iterator&lt;E&gt; it = iterator();\n    while (it.hasNext()) {\n        it.next();\n        it.remove();\n    }\n}\n</code></pre>\n<p>Rmeoving a single item from the red-black-tree implementation of <code>TreeMap</code> (of which <code>TreeSet</code> is only a wrapper) is O(log(n)). <strong>Removing N items, which needs to be done for a subset view, is therefore O(n * log(n))</strong>.</p>\n"}],"owner":{"account_id":3663240,"reputation":2013,"user_id":3052463,"accept_rate":76,"display_name":"Abundance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74843819,"answer_count":1,"score":0,"last_activity_date":1671392105,"creation_date":1671389043,"question_id":74843577,"body_markdown":"I want to remove values between a certain range in a TreeSet as follows:\r\n\r\n```java\r\nTreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\r\n\r\nfor(int i = 0; i &lt; (int)1e7; i++){\r\n\tts.add((int)(Math.random() * 1e9));\r\n}\r\n\r\nSystem.out.println(&quot;ts: &quot; + ts.size());\r\nSortedSet&lt;Integer&gt; s = ts.subSet(500, (int)8e8);\r\ns.clear();\r\nSystem.out.println(&quot;ts: &quot; + ts.size());\r\n```\r\n\r\nWhat is the runtime of this operation?\r\n\r\nIs it `O(log(n))` or `O(n)`? I found some [references](https://stackoverflow.com/questions/14379515/computational-complexity-of-treeset-methods-in-java) stating that the `subSet()` operation takes `log(n)`. I&#39;ve also read that the `clear()` operation is `O(1)`, but wouldn&#39;t the individual nodes to be cleared, making it potentially `O(n)`?\r\n\r\n","title":"What is the runtime of removing a range of values in Java Treeset?","body":"<p>I want to remove values between a certain range in a TreeSet as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\n\nfor(int i = 0; i &lt; (int)1e7; i++){\n    ts.add((int)(Math.random() * 1e9));\n}\n\nSystem.out.println(&quot;ts: &quot; + ts.size());\nSortedSet&lt;Integer&gt; s = ts.subSet(500, (int)8e8);\ns.clear();\nSystem.out.println(&quot;ts: &quot; + ts.size());\n</code></pre>\n<p>What is the runtime of this operation?</p>\n<p>Is it <code>O(log(n))</code> or <code>O(n)</code>? I found some <a href=\"https://stackoverflow.com/questions/14379515/computational-complexity-of-treeset-methods-in-java\">references</a> stating that the <code>subSet()</code> operation takes <code>log(n)</code>. I've also read that the <code>clear()</code> operation is <code>O(1)</code>, but wouldn't the individual nodes to be cleared, making it potentially <code>O(n)</code>?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","spring-cloud"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1671292878,"post_id":74835400,"comment_id":132070341,"body_markdown":"Your error messages look like you&#39;re misusing `localhost`; in a Docker context this almost always refers to the current container, not another container or the non-Docker host system.  It might help on the one hand to reduce the question to the minimum required to demonstrate the problem – can you show the same issue with just two containers, and a minimal set of Compose options? – and on the other to include the configuration options showing what&#39;s trying to make these HTTP GET calls.  Can you [edit] the question to contain a [mcve]?","body":"Your error messages look like you&#39;re misusing <code>localhost</code>; in a Docker context this almost always refers to the current container, not another container or the non-Docker host system.  It might help on the one hand to reduce the question to the minimum required to demonstrate the problem – can you show the same issue with just two containers, and a minimal set of Compose options? – and on the other to include the configuration options showing what&#39;s trying to make these HTTP GET calls.  Can you <a href=\"https://stackoverflow.com/posts/74835400/edit\">edit</a> the question to contain a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1671293319,"post_id":74835400,"comment_id":132070420,"body_markdown":"The `localhost` URLs from the error messages aren&#39;t included there, so it&#39;s hard to tell.  This will also be easier to debug for only one service at a time and not four all at once.","body":"The <code>localhost</code> URLs from the error messages aren&#39;t included there, so it&#39;s hard to tell.  This will also be easier to debug for only one service at a time and not four all at once."},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1671302021,"post_id":74835400,"comment_id":132071965,"body_markdown":"as i saw you defined network for authservice and some of your services but didnt define that network for apigatewayservice, put all of your microservices in the same network and try","body":"as i saw you defined network for authservice and some of your services but didnt define that network for apigatewayservice, put all of your microservices in the same network and try"},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1671302944,"post_id":74835400,"comment_id":132072150,"body_markdown":"how did you used CONFIG_SERVER_URL=configserver in your code?? it seems you used @value or smth like this,chrck that code","body":"how did you used CONFIG_SERVER_URL=configserver in your code?? it seems you used @value or smth like this,chrck that code"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1671303431,"post_id":74835400,"comment_id":132072238,"body_markdown":"If you use ports attribute in docker compose file, containers access them by http://localhost:8081 like so. If you want to access them as the service id like configservice:8181, that configservice need to add expose attribute in the docker compose file","body":"If you use ports attribute in docker compose file, containers access them by <a href=\"http://localhost:8081\" rel=\"nofollow noreferrer\">localhost:8081</a> like so. If you want to access them as the service id like configservice:8181, that configservice need to add expose attribute in the docker compose file"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1671305201,"post_id":74835400,"comment_id":132072644,"body_markdown":"add `expose` attribute for configserver instead of ports attribute. Search the difference between expose and ports in docker compose.","body":"add <code>expose</code> attribute for configserver instead of ports attribute. Search the difference between expose and ports in docker compose."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1671316079,"post_id":74835400,"comment_id":132074530,"body_markdown":"@ikhvjs &quot;Expose&quot; as a Docker verb means almost nothing.  Adding an `expose:` line to your Compose file will do nothing, and it&#39;s always safe to delete an `expose:` block if one is present.","body":"@ikhvjs &quot;Expose&quot; as a Docker verb means almost nothing.  Adding an <code>expose:</code> line to your Compose file will do nothing, and it&#39;s always safe to delete an <code>expose:</code> block if one is present."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671369379,"post_id":74835400,"comment_id":132080549,"body_markdown":"@DavidMaze I revised some codes in docker-compose.yml I still couldn&#39;t fix the issue. I get configserver issue in api gateway. I fixed the other issues.","body":"@DavidMaze I revised some codes in docker-compose.yml I still couldn&#39;t fix the issue. I get configserver issue in api gateway. I fixed the other issues."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671374238,"post_id":74835400,"comment_id":132081560,"body_markdown":"@ikhvjs I couldn&#39;t still the configserver issue regarding api gateway.","body":"@ikhvjs I couldn&#39;t still the configserver issue regarding api gateway."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671374252,"post_id":74835400,"comment_id":132081562,"body_markdown":"@DaniyalVaghar I couldn&#39;t still the configserver issue regarding api gateway.","body":"@DaniyalVaghar I couldn&#39;t still the configserver issue regarding api gateway."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1671440298,"post_id":74835400,"comment_id":132091732,"body_markdown":"What is your docker compose file version?","body":"What is your docker compose file version?"}],"answers":[{"tags":[],"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671308090,"creation_date":1671308090,"answer_id":74837205,"question_id":74835400,"body_markdown":"You have to update your `application.yml` and `docker-compose.yml` files.\r\n\r\nThese lines should be present to override the `EUREKA_SERVER_ADDRESS`\r\n\r\n```yml\r\neureka:\r\n  instance:\r\n    prefer-ip-address: true\r\n  client:\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    service-url:\r\n      defaultZone: ${EUREKA_SERVER_ADDRESS:http://localhost:8761/eureka}\r\n\r\n```\r\n\r\nand to communicate within the container you need to use a common network.\r\nSo it should look like this. \r\n\r\n```yml\r\n\r\n  serviceregistry:\r\n    image: &#39;microservicedailybuffer/serviceregistry:0.0.1&#39;\r\n    container_name: serviceregistry\r\n    ports:\r\n      - &#39;8761:8761&#39;\r\n    networks:\r\n      - backend\r\n\r\n  configserver:\r\n    image: &#39;microservicedailybuffer/configserver:0.0.1&#39;\r\n    container_name: configserver\r\n    ports:\r\n      - &#39;9296:9296&#39;\r\n    environment:\r\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\r\n      interval: 10s\r\n      timeout: 5s\r\n      retries: 5\r\n    depends_on:\r\n      - serviceregistry\r\n    networks:\r\n      - backend\r\n\r\n```","title":"Docker Connection Issue in Spring Boot Microservice - nested exception is java.net.ConnectException: Connection refused : configserver","body":"<p>You have to update your <code>application.yml</code> and <code>docker-compose.yml</code> files.</p>\n<p>These lines should be present to override the <code>EUREKA_SERVER_ADDRESS</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>eureka:\n  instance:\n    prefer-ip-address: true\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      defaultZone: ${EUREKA_SERVER_ADDRESS:http://localhost:8761/eureka}\n\n</code></pre>\n<p>and to communicate within the container you need to use a common network.\nSo it should look like this.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>\n  serviceregistry:\n    image: 'microservicedailybuffer/serviceregistry:0.0.1'\n    container_name: serviceregistry\n    ports:\n      - '8761:8761'\n    networks:\n      - backend\n\n  configserver:\n    image: 'microservicedailybuffer/configserver:0.0.1'\n    container_name: configserver\n    ports:\n      - '9296:9296'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    depends_on:\n      - serviceregistry\n    networks:\n      - backend\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671391053,"creation_date":1671391053,"answer_id":74843768,"question_id":74835400,"body_markdown":"After revising the api gateway shown below, the issue disappeared.\r\n\r\n      apigateway:\r\n        image: &#39;microservicedailybuffer/apigateway:0.0.1&#39;\r\n        container_name: apigateway\r\n        ports:\r\n          - &#39;9090:9090&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n          - REDIS_URL=redis://redis:6379\r\n        depends_on:\r\n          configserver:\r\n            condition: service_healthy\r\n          zipkin:\r\n            condition: service_healthy\r\n          redis:\r\n            condition: service_started\r\n        networks:\r\n          - backend","title":"Docker Connection Issue in Spring Boot Microservice - nested exception is java.net.ConnectException: Connection refused : configserver","body":"<p>After revising the api gateway shown below, the issue disappeared.</p>\n<pre><code>  apigateway:\n    image: 'microservicedailybuffer/apigateway:0.0.1'\n    container_name: apigateway\n    ports:\n      - '9090:9090'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - ZIPKIN_URL=http://zipkin:9411\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      configserver:\n        condition: service_healthy\n      zipkin:\n        condition: service_healthy\n      redis:\n        condition: service_started\n    networks:\n      - backend\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74843768,"answer_count":2,"score":1,"last_activity_date":1671391053,"creation_date":1671292176,"question_id":74835400,"body_markdown":"I revised an example of Spring Boot Microservices and I have a problem about running all services on docker.\r\n\r\nAfter creating the image file of each services, I devised a docker-compose.yml to run all services on Docker. I noticed some of services throw ConnectException regarding configserver but I have no idea how to fix it. Here are the code snippets to create Docker image for each service.\r\n\r\n    1 ) service-registry\r\n       - mvn clean install\r\n       - docker build -t microservicedailybuffer/serviceregistry:0.0.1 .\r\n\r\n    2 ) configserver\r\n       - mvn clean install\r\n       - docker build -t microservicedailybuffer/configserver:0.0.1 .\r\n\r\n    3 ) apigateway\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/apigateway:0.0.1 .\r\n\r\n    4 ) auth-service\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/authservice:0.0.1 .\r\n\r\n    5 ) orderservice\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/orderservice:0.0.1 .\r\n\r\n    6 ) productservice\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/productservice:0.0.1 .\r\n\r\n    7 ) paymentservice\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/paymentservice:0.0.1 .\r\n\r\nHere is my `docker-compose.yml` shown below\r\n\r\n    services:\r\n    \r\n      serviceregistry:\r\n        image: &#39;microservicedailybuffer/serviceregistry:0.0.1&#39;\r\n        container_name: serviceregistry\r\n        ports:\r\n          - &#39;8761:8761&#39;\r\n        networks:\r\n          - backend\r\n    \r\n      configserver:\r\n        image: &#39;microservicedailybuffer/configserver:0.0.1&#39;\r\n        container_name: configserver\r\n        ports:\r\n          - &#39;9296:9296&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n        healthcheck:\r\n          test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\r\n          interval: 10s\r\n          timeout: 5s\r\n          retries: 5\r\n        depends_on:\r\n          - serviceregistry\r\n        networks:\r\n          - backend\r\n    \r\n      apigateway:\r\n        image: &#39;microservicedailybuffer/apigateway:0.0.1&#39;\r\n        container_name: apigateway\r\n        ports:\r\n          - &#39;9090:9090&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n          - REDIS_URL=redis://redis:6379\r\n        depends_on:\r\n          - configserver\r\n          - zipkin\r\n          - redis\r\n          - serviceregistry\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      zipkin:\r\n        image: openzipkin/zipkin\r\n        ports:\r\n          - &quot;9411:9411&quot;\r\n        networks:\r\n          - backend\r\n    \r\n      redis:\r\n        image: redis\r\n        ports:\r\n          - &quot;6379:6379&quot;\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      authservice:\r\n        image: &#39;microservicedailybuffer/authservice:0.0.1&#39;\r\n        container_name: authservice\r\n        ports:\r\n          - &#39;7777:7777&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/userdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      productservice:\r\n        image: &#39;microservicedailybuffer/productservice:0.0.1&#39;\r\n        container_name: productservice\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/productdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n          zipkin:\r\n            condition: service_healthy\r\n        networks:\r\n          - backend\r\n    \r\n      orderservice:\r\n        image: &#39;microservicedailybuffer/orderservice:0.0.1&#39;\r\n        container_name: orderservice\r\n        ports:\r\n          - &#39;8082:8082&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/orderdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n          zipkin:\r\n            condition: service_healthy\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      paymentservice:\r\n        image: &#39;microservicedailybuffer/paymentservice:0.0.1&#39;\r\n        container_name: paymentservice\r\n        ports:\r\n          - &#39;8083:8083&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/paymentdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n          zipkin:\r\n            condition: service_healthy\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      database:\r\n        container_name: mysql-database\r\n        image: &#39;mysql:latest&#39;\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        restart: always\r\n        environment:\r\n          #MYSQL_USER: root\r\n          MYSQL_PASSWORD: ippavlova_1990\r\n          MYSQL_ROOT_PASSWORD: ippavlova_1990\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        networks:\r\n          - backend\r\n        healthcheck:\r\n          test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\r\n          timeout: 20s\r\n          retries: 10\r\n    \r\n    \r\n    networks:\r\n      backend:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n      db-data:\r\n\r\n\r\n\r\nWhen I run the docker-compose file through docker-compose up, I get some problems in api gateway.\r\n\r\n**Api Gateway Issue**\r\n\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://configserver:9296/API-GATEWAY/default&quot;: Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)\r\n\r\nHow can I fix all these issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\nHere is the git based system file :  [Link][2]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [2]: https://github.com/Rapter1990/springappconfig","title":"Docker Connection Issue in Spring Boot Microservice - nested exception is java.net.ConnectException: Connection refused : configserver","body":"<p>I revised an example of Spring Boot Microservices and I have a problem about running all services on docker.</p>\n<p>After creating the image file of each services, I devised a docker-compose.yml to run all services on Docker. I noticed some of services throw ConnectException regarding configserver but I have no idea how to fix it. Here are the code snippets to create Docker image for each service.</p>\n<pre><code>1 ) service-registry\n   - mvn clean install\n   - docker build -t microservicedailybuffer/serviceregistry:0.0.1 .\n\n2 ) configserver\n   - mvn clean install\n   - docker build -t microservicedailybuffer/configserver:0.0.1 .\n\n3 ) apigateway\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/apigateway:0.0.1 .\n\n4 ) auth-service\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/authservice:0.0.1 .\n\n5 ) orderservice\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/orderservice:0.0.1 .\n\n6 ) productservice\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/productservice:0.0.1 .\n\n7 ) paymentservice\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/paymentservice:0.0.1 .\n</code></pre>\n<p>Here is my <code>docker-compose.yml</code> shown below</p>\n<pre><code>services:\n\n  serviceregistry:\n    image: 'microservicedailybuffer/serviceregistry:0.0.1'\n    container_name: serviceregistry\n    ports:\n      - '8761:8761'\n    networks:\n      - backend\n\n  configserver:\n    image: 'microservicedailybuffer/configserver:0.0.1'\n    container_name: configserver\n    ports:\n      - '9296:9296'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    depends_on:\n      - serviceregistry\n    networks:\n      - backend\n\n  apigateway:\n    image: 'microservicedailybuffer/apigateway:0.0.1'\n    container_name: apigateway\n    ports:\n      - '9090:9090'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - ZIPKIN_URL=http://zipkin:9411\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - configserver\n      - zipkin\n      - redis\n      - serviceregistry\n    networks:\n      - backend\n\n\n  zipkin:\n    image: openzipkin/zipkin\n    ports:\n      - &quot;9411:9411&quot;\n    networks:\n      - backend\n\n  redis:\n    image: redis\n    ports:\n      - &quot;6379:6379&quot;\n    networks:\n      - backend\n\n\n  authservice:\n    image: 'microservicedailybuffer/authservice:0.0.1'\n    container_name: authservice\n    ports:\n      - '7777:7777'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/userdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n    networks:\n      - backend\n\n\n  productservice:\n    image: 'microservicedailybuffer/productservice:0.0.1'\n    container_name: productservice\n    ports:\n      - '8081:8081'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/productdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - ZIPKIN_URL=http://zipkin:9411\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n      zipkin:\n        condition: service_healthy\n    networks:\n      - backend\n\n  orderservice:\n    image: 'microservicedailybuffer/orderservice:0.0.1'\n    container_name: orderservice\n    ports:\n      - '8082:8082'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/orderdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - ZIPKIN_URL=http://zipkin:9411\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n      zipkin:\n        condition: service_healthy\n    networks:\n      - backend\n\n\n  paymentservice:\n    image: 'microservicedailybuffer/paymentservice:0.0.1'\n    container_name: paymentservice\n    ports:\n      - '8083:8083'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/paymentdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - ZIPKIN_URL=http://zipkin:9411\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n      zipkin:\n        condition: service_healthy\n    networks:\n      - backend\n\n\n  database:\n    container_name: mysql-database\n    image: 'mysql:latest'\n    ports:\n      - &quot;3306:3306&quot;\n    restart: always\n    environment:\n      #MYSQL_USER: root\n      MYSQL_PASSWORD: ippavlova_1990\n      MYSQL_ROOT_PASSWORD: ippavlova_1990\n    volumes:\n      - db-data:/var/lib/mysql\n    networks:\n      - backend\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\n      timeout: 20s\n      retries: 10\n\n\nnetworks:\n  backend:\n    driver: bridge\n\nvolumes:\n  db-data:\n</code></pre>\n<p>When I run the docker-compose file through docker-compose up, I get some problems in api gateway.</p>\n<p><strong>Api Gateway Issue</strong></p>\n<pre><code>Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://configserver:9296/API-GATEWAY/default&quot;: Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)\n</code></pre>\n<p>How can I fix all these issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the git based system file :  <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":47282,"reputation":2151,"user_id":139984,"display_name":"Mateusz Mrozewski"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1671390663,"creation_date":1520272266,"answer_id":49116567,"question_id":49116485,"body_markdown":"The article you mentioned describes it a little bit further:\r\n\r\n&gt; There is no default instance of BCryptPasswordEncoder that can be injected in the UserController class\r\n\r\nAnd later in code\r\n\r\n    \r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nDid you follow these steps and do you define a `BCryptPasswordEncoder` class?","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>The article you mentioned describes it a little bit further:</p>\n<blockquote>\n<p>There is no default instance of BCryptPasswordEncoder that can be injected in the UserController class</p>\n</blockquote>\n<p>And later in code</p>\n<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Did you follow these steps and do you define a <code>BCryptPasswordEncoder</code> class?</p>\n"},{"tags":[],"owner":{"account_id":13291674,"reputation":865,"user_id":11423910,"display_name":"soufiane ELAMMARI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556475325,"creation_date":1556475325,"answer_id":55893215,"question_id":49116485,"body_markdown":"        @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nadd this injection in the same class ,cause spring could not inject automaticaly this dependency by using only autowired ","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<pre><code>    @Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n\n<p>add this injection in the same class ,cause spring could not inject automaticaly this dependency by using only autowired </p>\n"},{"tags":[],"owner":{"account_id":12217954,"reputation":192,"user_id":8917796,"display_name":"Aqib Nabi"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1569842647,"creation_date":1569842647,"answer_id":58166935,"question_id":49116485,"body_markdown":"add it like this in your main application class\r\n\r\n        @SpringBootApplication\r\n        public class YourApplicationName{\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(MobileAppWsApplication.class, args);\r\n        \t}\r\n        \t@Bean\r\n        \tpublic BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        \t\treturn new BCryptPasswordEncoder();\r\n        \t}\r\n    }","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>add it like this in your main application class</p>\n\n<pre><code>    @SpringBootApplication\n    public class YourApplicationName{\n\n        public static void main(String[] args) {\n            SpringApplication.run(MobileAppWsApplication.class, args);\n        }\n        @Bean\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609420542,"creation_date":1609420542,"answer_id":65521380,"question_id":49116485,"body_markdown":"    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThis code works for me","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>This code works for me</p>\n"},{"tags":[],"owner":{"account_id":14307665,"reputation":11,"user_id":10335053,"display_name":"JhonEx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642166689,"creation_date":1642166689,"answer_id":70711255,"question_id":49116485,"body_markdown":"    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThis code worked for me by placing it main class of spring (Spring5MvcRestApplication)","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>This code worked for me by placing it main class of spring (Spring5MvcRestApplication)</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671138001,"creation_date":1671138001,"answer_id":74817505,"question_id":49116485,"body_markdown":"you have just add BCryptPasswordEncoder in your code or in a main class:\r\n\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>you have just add BCryptPasswordEncoder in your code or in a main class:</p>\n<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n"}],"owner":{"account_id":6094045,"reputation":3231,"user_id":4755440,"accept_rate":59,"display_name":"Paras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14039,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":49116567,"answer_count":6,"score":9,"last_activity_date":1671390663,"creation_date":1520271955,"question_id":49116485,"body_markdown":"I&#39;m trying to secure a REST API using JWT tokens. For saving encoded user password I&#39;m trying to use bcrypt for encoding. However when I&#39;m trying to autowire BCryptPasswordEncoder, I&#39;m getting following error :\r\n\r\n    Could not autowire. No beans of BCryptPasswordEncoder type found. Check autowiring problems in bean class.\r\n\r\nThis is how my controller looks like :\r\n\r\n    package com.starter.springsecurity.demo.controller;\r\n    \r\n    import com.starter.springsecurity.demo.domain.User;\r\n    import com.starter.springsecurity.demo.repository.UserRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public UserController(BCryptPasswordEncoder bCryptPasswordEncoder){\r\n            this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/register&quot;)\r\n        public void register(@RequestBody User user){\r\n    \r\n        }\r\n    }\r\n\r\nThis is the blog which I&#39;m following :\r\nhttps://dzone.com/articles/implementing-jwt-authentication-on-spring-boot-api\r\n\r\n    Pom.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.starter.springsecurity&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Spring Security demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nHas something change in Spring Security 5 regarding Bcrypt?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jlhmd.png","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>I'm trying to secure a REST API using JWT tokens. For saving encoded user password I'm trying to use bcrypt for encoding. However when I'm trying to autowire BCryptPasswordEncoder, I'm getting following error :</p>\n\n<pre><code>Could not autowire. No beans of BCryptPasswordEncoder type found. Check autowiring problems in bean class.\n</code></pre>\n\n<p>This is how my controller looks like :</p>\n\n<pre><code>package com.starter.springsecurity.demo.controller;\n\nimport com.starter.springsecurity.demo.domain.User;\nimport com.starter.springsecurity.demo.repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"/users\")\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public UserController(BCryptPasswordEncoder bCryptPasswordEncoder){\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @RequestMapping(\"/register\")\n    public void register(@RequestBody User user){\n\n    }\n}\n</code></pre>\n\n<p>This is the blog which I'm following :\n<a href=\"https://dzone.com/articles/implementing-jwt-authentication-on-spring-boot-api\" rel=\"noreferrer\">https://dzone.com/articles/implementing-jwt-authentication-on-spring-boot-api</a></p>\n\n<pre><code>Pom.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.starter.springsecurity&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Spring Security demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Has something change in Spring Security 5 regarding Bcrypt?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jlhmd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jlhmd.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","regex","passwords"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671378802,"post_id":74842637,"comment_id":132082299,"body_markdown":"What you describe is a __weak__ password. A &#39;strong&#39; password is one that an automated cracker tool cannot crack. &quot;Must have a number&quot; is lovely, as a cracking tool, that makes things easier, not harder. &quot;A number must be in there&quot; reduces the search space: 95%+ of users stick either a &#39;1&#39; on the end, the year of their birth on the end, the year of signup on the end, or, rarely, replace an &#39;i&#39; with a &#39;1&#39; or an &#39;a&#39; with a 4 or an &#39;e&#39; with a 3. See NIST recommendations. This is horrible, horrible security.","body":"What you describe is a <b>weak</b> password. A &#39;strong&#39; password is one that an automated cracker tool cannot crack. &quot;Must have a number&quot; is lovely, as a cracking tool, that makes things easier, not harder. &quot;A number must be in there&quot; reduces the search space: 95%+ of users stick either a &#39;1&#39; on the end, the year of their birth on the end, the year of signup on the end, or, rarely, replace an &#39;i&#39; with a &#39;1&#39; or an &#39;a&#39; with a 4 or an &#39;e&#39; with a 3. See NIST recommendations. This is horrible, horrible security."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671378861,"post_id":74842637,"comment_id":132082310,"body_markdown":"You must have a second factor such as TOTP for proper security. For pw rules: at least 8, that&#39;s good enough. If you want more, install jack-the-cracker or similar software and have it run spare CPU cycles against your pw db. If it cracks one, next time that user logs in, tell them they have to change their pass.","body":"You must have a second factor such as TOTP for proper security. For pw rules: at least 8, that&#39;s good enough. If you want more, install jack-the-cracker or similar software and have it run spare CPU cycles against your pw db. If it cracks one, next time that user logs in, tell them they have to change their pass."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671378932,"post_id":74842637,"comment_id":132082325,"body_markdown":"Example extremely powerful password: &quot;walk vase bind red&quot;. This has _vastly_ more entropy than anything 8 characters. And your silly argument would consider that &#39;weak&#39;, proving the point. See [here](https://xkcd.com/936/).","body":"Example extremely powerful password: &quot;walk vase bind red&quot;. This has <i>vastly</i> more entropy than anything 8 characters. And your silly argument would consider that &#39;weak&#39;, proving the point. See <a href=\"https://xkcd.com/936/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1671379023,"post_id":74842637,"comment_id":132082343,"body_markdown":"Other truths few know about: &quot;Must have a special character&quot; -&gt; That means there it&#39;ll be an exclamation point over 90% of the time, and it&#39;ll appear at the end, or just before the mandatory digit. &quot;Must have a capital&quot; -&gt; The first letter will be capitalized. All of this reduces entropy, i.e. is stupid as a password restriction. There&#39;s value in enforcing a &#39;good password&#39;, sure. But &#39;must have a capital letter&#39; does not accomplish the goal of finding a good password!","body":"Other truths few know about: &quot;Must have a special character&quot; -&gt; That means there it&#39;ll be an exclamation point over 90% of the time, and it&#39;ll appear at the end, or just before the mandatory digit. &quot;Must have a capital&quot; -&gt; The first letter will be capitalized. All of this reduces entropy, i.e. is stupid as a password restriction. There&#39;s value in enforcing a &#39;good password&#39;, sure. But &#39;must have a capital letter&#39; does not accomplish the goal of finding a good password!"}],"answers":[{"tags":[],"owner":{"account_id":20713864,"reputation":56,"user_id":15209834,"display_name":"Vuzz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671378965,"creation_date":1671378965,"answer_id":74842703,"question_id":74842637,"body_markdown":"You forgot a full point after the lookahead of special characters. So it would be:\r\n\r\n    &quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+).{10,}$&quot;","title":"I&#39;m trying to create a regex for a strong password","body":"<p>You forgot a full point after the lookahead of special characters. So it would be:</p>\n<pre><code>&quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+).{10,}$&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24864423,"reputation":34,"user_id":18739729,"display_name":"Ali Reza Shirmohammadi Yazdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671382155,"creation_date":1671382155,"answer_id":74842996,"question_id":74842637,"body_markdown":"I recommend to you that use https://www.passay.org/. This dependency able you to validate wide range of password policy.","title":"I&#39;m trying to create a regex for a strong password","body":"<p>I recommend to you that use <a href=\"https://www.passay.org/\" rel=\"nofollow noreferrer\">https://www.passay.org/</a>. This dependency able you to validate wide range of password policy.</p>\n"},{"tags":[],"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671390439,"creation_date":1671390439,"answer_id":74843704,"question_id":74842637,"body_markdown":"I&#39;d remove the `+` in the groups inside the lookaheads since those aren&#39;t needed and also make those groups non-capturing. I&#39;d also not explicitly specify the characters in the &quot;special&quot; group. Just make it match any of the characters _not_ in the first three groups, `[^A-Za-z0-9]`. That&#39;ll allow `~` as a special character too etc.\r\n\r\nAlso, the actual matching should be `.{10,}`, not `{10,}`.\r\n```regex\r\n&quot;^(?=(?:.*[A-Z]))(?=(?:.*[a-z]))(?=(?:.*[0-9]))(?=(?:.*[^A-Za-z0-9])).{10,}$&quot;\r\n```","title":"I&#39;m trying to create a regex for a strong password","body":"<p>I'd remove the <code>+</code> in the groups inside the lookaheads since those aren't needed and also make those groups non-capturing. I'd also not explicitly specify the characters in the &quot;special&quot; group. Just make it match any of the characters <em>not</em> in the first three groups, <code>[^A-Za-z0-9]</code>. That'll allow <code>~</code> as a special character too etc.</p>\n<p>Also, the actual matching should be <code>.{10,}</code>, not <code>{10,}</code>.</p>\n<pre><code>&quot;^(?=(?:.*[A-Z]))(?=(?:.*[a-z]))(?=(?:.*[0-9]))(?=(?:.*[^A-Za-z0-9])).{10,}$&quot;\n</code></pre>\n"}],"owner":{"account_id":27290547,"reputation":9,"user_id":20809039,"display_name":"jhindianajones"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1671390439,"creation_date":1671378225,"question_id":74842637,"body_markdown":"I&#39;m having some trouble creating a regex for a password. It has the following requirements :\r\n- at least 10 characters\r\n- at least 1 uppercase letter\r\n- at least 1 lowercase letter\r\n- at least 1 special character\r\n\r\n\r\nI currently created this line :\r\n`\r\n```\r\n&quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+){10,}$&quot;\r\n```\r\n`\r\nFor a password like : Lollypop56@\r\nit still gives me false.\r\n","title":"I&#39;m trying to create a regex for a strong password","body":"<p>I'm having some trouble creating a regex for a password. It has the following requirements :</p>\n<ul>\n<li>at least 10 characters</li>\n<li>at least 1 uppercase letter</li>\n<li>at least 1 lowercase letter</li>\n<li>at least 1 special character</li>\n</ul>\n<p>I currently created this line :\n`</p>\n<pre><code>&quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+){10,}$&quot;\n</code></pre>\n<p>`\nFor a password like : Lollypop56@\nit still gives me false.</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1671361217,"post_id":74840421,"comment_id":132079218,"body_markdown":"Have you added `http://localhost:3000` to Web Origins in the settings of your Keycloak client through the admin console?","body":"Have you added <code>http:&#47;&#47;localhost:3000</code> to Web Origins in the settings of your Keycloak client through the admin console?"},{"owner":{"account_id":25157331,"reputation":9,"user_id":19001996,"display_name":"TPL"},"score":0,"creation_date":1671368508,"post_id":74840421,"comment_id":132080405,"body_markdown":"Yes I tried putting localhost:3000 and * in Web Origins, and it still doesn&#39;t work. The onlyway seem to work is to redirect from react app with localtion.href assignment, that I don&#39;t want because of the consitency of authen service","body":"Yes I tried putting localhost:3000 and * in Web Origins, and it still doesn&#39;t work. The onlyway seem to work is to redirect from react app with localtion.href assignment, that I don&#39;t want because of the consitency of authen service"}],"answers":[{"tags":[],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671358116,"creation_date":1671358116,"answer_id":74840504,"question_id":74840421,"body_markdown":"Probably you should try @CrossOrigin annotation.\r\n\r\n[More information about a CORS support in Spring Framework you can find on spring.io website][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2015/06/08/cors-support-in-spring-framework","title":"Java Spring: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource to Keycloak with 2 localhost","body":"<p>Probably you should try @CrossOrigin annotation.</p>\n<p><a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">More information about a CORS support in Spring Framework you can find on spring.io website</a></p>\n"}],"owner":{"account_id":25157331,"reputation":9,"user_id":19001996,"display_name":"TPL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671390279,"creation_date":1671357212,"question_id":74840421,"body_markdown":"I am trying to connect keycloak for a react-python app via a spring security authentication app service.\r\n\r\nlocalhost:3000 react-python application that use the authentication service (spring-java application) in localhost:80. Then localhost:80 will config with keycloak server in localhost:4000\r\n\r\n**What I have tested:** \r\n\r\n***---------Trying access :80 directly to :4000 (keycloak) -  **successful**:***\r\n\r\n**Response Header**\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sat, 17 Dec 2022 22:59:21 GMT\r\n\r\nExpires: 0\r\n\r\nKeep-Alive: timeout=60\r\n\r\nLocation: http://localhost:4000/auth/realms/aip-realm/protocol/openid-\r\nconnect/auth?response_type=code&amp;client_id...\r\n\r\nPragma: no-cache\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n\r\n**Request Header**\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sat, 17 Dec 2022 22:59:21 GMT\r\n\r\nExpires: 0\r\n\r\nKeep-Alive: timeout=60\r\n\r\nLocation: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...\r\n\r\nPragma: no-cache\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n\r\n\r\n\r\n\r\n***-------Trying access :3000 via :80 to connect keycloak :4000 - **CORS ERROR**:***\r\n\r\nGET http://localhost:4000/oauth2/authorization/keycloak net::ERR_FAILED 302\r\nI have the error message.\r\n\r\nAccess to XMLHttpRequest at &#39;http://localhost:80/oauth2/authorization/keycloak&#39; (redirected from &#39;http://localhost:3000/login&#39;) from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n **1.The first one is still good until second redirect.**\r\n\r\n**Type: XHR/Redirect**\r\n\r\n**Response Header**\r\n\r\nAccess-Control-Allow-Credentials: true\r\n\r\nAccess-Control-Allow-Headers: *\r\n\r\nAccess-Control-Allow-Methods: POST, GET, OPTIONS, DELETE\r\n\r\nAccess-Control-Allow-Origin: *\r\n\r\nAccess-Control-Max-Age: 180\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sun, 18 Dec 2022 09:15:55 GMT\r\nExpires: 0\r\n\r\nLocation: http://localhost:80/oauth2/authorization/keycloak\r\n\r\nPragma: no-cache\r\n\r\n**Sec-Fetch-Mode: navigate**\r\nStrict-Transport-Security: max-age=31536000; includeSubDomains\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n**Request Headers\r\nAccept: application/json, text/plain, */*\r\n\r\nAccept-Encoding: gzip, deflate, br\r\n\r\nAccept-Language: fr-FR,fr;q=0.9\r\n\r\nConnection: keep-alive\r\n\r\nCookie: JSESSIONID=1B5EE995A0031DC34E6860027398CD68\r\n\r\nHost: localhost:3000\r\n\r\nReferer: http://localhost:3000/\r\n\r\nsec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;\r\n\r\nsec-ch-ua-mobile: ?0\r\n\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\n\r\nSec-Fetch-Dest: empty\r\n\r\n**Sec-Fetch-Mode: cors**\r\nSec-Fetch-Site: same-origin\r\n\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36\r\n\r\n **2. Then the keycloak error request (CORS Errors):**\r\n\r\n**Type: XHR**\r\n\r\n**Response Headers**\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sun, 18 Dec 2022 09:15:55 GMT\r\n\r\nExpires: 0\r\n\r\nKeep-Alive: timeout=60\r\n\r\nLocation: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...\r\n\r\nPragma: no-cache\r\n\r\nSet-Cookie: JSESSIONID=185783DD1403AC2D6CC222350D842CD8; Path=/; HttpOnly\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n**Request Headers**\r\n\r\nAccept: application/json, text/plain, */*\r\n\r\nAccept-Encoding: gzip, deflate, br\r\n\r\nAccept-Language: fr-FR,fr;q=0.9\r\n\r\nConnection: keep-alive\r\n\r\n**Host: localhost:80**\r\n\r\n**Origin: http://localhost:3000**\r\n\r\n**Referer: http://localhost:3000/**\r\n\r\nsec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;\r\n\r\nsec-ch-ua-mobile: ?0\r\n\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\n\r\nSec-Fetch-Dest: empty\r\n\r\n**Sec-Fetch-Mode: cors**\r\n\r\nSec-Fetch-Site: same-site\r\n\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36\r\n\r\nHere is the config Oauth2:\r\n```\r\nhttp.oauth2Login()\r\n        .and()\r\n        .exceptionHandling()\r\n        // Specific entry point for failed authentication\r\n        .authenticationEntryPoint(getEntryPoint())\r\n        .and()\r\n        .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter());\r\n\r\nhttp.addFilterAfter(corsFilter(), SessionManagementFilter.class);\r\n...\r\n```\r\n```\r\npublic class CorsFilter implements Filter {\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n        HttpServletRequest request= (HttpServletRequest) servletRequest;\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;180&quot;);\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n```\r\nprivate AuthenticationEntryPoint getEntryPoint() {\r\n    return (request, response, authException) -&gt; {\r\n        if (authException != null) {\r\n            response.sendRedirect(&quot;/oauth2/authorization/keycloak&quot;);\r\n        } else {\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n        }\r\n    };\r\n}\r\n```\r\nAnyone have some experience with this issue ? :)\r\n\r\nI would like when trying access :3000 it&#39;s still redirect to keycloak :4000 via authen service :80.","title":"Java Spring: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource to Keycloak with 2 localhost","body":"<p>I am trying to connect keycloak for a react-python app via a spring security authentication app service.</p>\n<p>localhost:3000 react-python application that use the authentication service (spring-java application) in localhost:80. Then localhost:80 will config with keycloak server in localhost:4000</p>\n<p><strong>What I have tested:</strong></p>\n<p><em><strong>---------Trying access :80 directly to :4000 (keycloak) -  <strong>successful</strong>:</strong></em></p>\n<p><strong>Response Header</strong></p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sat, 17 Dec 2022 22:59:21 GMT</p>\n<p>Expires: 0</p>\n<p>Keep-Alive: timeout=60</p>\n<p>Location: http://localhost:4000/auth/realms/aip-realm/protocol/openid-\nconnect/auth?response_type=code&amp;client_id...</p>\n<p>Pragma: no-cache</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p><strong>Request Header</strong></p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sat, 17 Dec 2022 22:59:21 GMT</p>\n<p>Expires: 0</p>\n<p>Keep-Alive: timeout=60</p>\n<p>Location: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...</p>\n<p>Pragma: no-cache</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p><em><strong>-------Trying access :3000 via :80 to connect keycloak :4000 - <strong>CORS ERROR</strong>:</strong></em></p>\n<p>GET http://localhost:4000/oauth2/authorization/keycloak net::ERR_FAILED 302\nI have the error message.</p>\n<p>Access to XMLHttpRequest at 'http://localhost:80/oauth2/authorization/keycloak' (redirected from 'http://localhost:3000/login') from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p><strong>1.The first one is still good until second redirect.</strong></p>\n<p><strong>Type: XHR/Redirect</strong></p>\n<p><strong>Response Header</strong></p>\n<p>Access-Control-Allow-Credentials: true</p>\n<p>Access-Control-Allow-Headers: *</p>\n<p>Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE</p>\n<p>Access-Control-Allow-Origin: *</p>\n<p>Access-Control-Max-Age: 180</p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sun, 18 Dec 2022 09:15:55 GMT\nExpires: 0</p>\n<p>Location: http://localhost:80/oauth2/authorization/keycloak</p>\n<p>Pragma: no-cache</p>\n<p><strong>Sec-Fetch-Mode: navigate</strong>\nStrict-Transport-Security: max-age=31536000; includeSubDomains</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p>**Request Headers\nAccept: application/json, text/plain, <em>/</em></p>\n<p>Accept-Encoding: gzip, deflate, br</p>\n<p>Accept-Language: fr-FR,fr;q=0.9</p>\n<p>Connection: keep-alive</p>\n<p>Cookie: JSESSIONID=1B5EE995A0031DC34E6860027398CD68</p>\n<p>Host: localhost:3000</p>\n<p>Referer: http://localhost:3000/</p>\n<p>sec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;</p>\n<p>sec-ch-ua-mobile: ?0</p>\n<p>sec-ch-ua-platform: &quot;Windows&quot;</p>\n<p>Sec-Fetch-Dest: empty</p>\n<p><strong>Sec-Fetch-Mode: cors</strong>\nSec-Fetch-Site: same-origin</p>\n<p>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36</p>\n<p><strong>2. Then the keycloak error request (CORS Errors):</strong></p>\n<p><strong>Type: XHR</strong></p>\n<p><strong>Response Headers</strong></p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sun, 18 Dec 2022 09:15:55 GMT</p>\n<p>Expires: 0</p>\n<p>Keep-Alive: timeout=60</p>\n<p>Location: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...</p>\n<p>Pragma: no-cache</p>\n<p>Set-Cookie: JSESSIONID=185783DD1403AC2D6CC222350D842CD8; Path=/; HttpOnly</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p><strong>Request Headers</strong></p>\n<p>Accept: application/json, text/plain, <em>/</em></p>\n<p>Accept-Encoding: gzip, deflate, br</p>\n<p>Accept-Language: fr-FR,fr;q=0.9</p>\n<p>Connection: keep-alive</p>\n<p><strong>Host: localhost:80</strong></p>\n<p><strong>Origin: http://localhost:3000</strong></p>\n<p><strong>Referer: http://localhost:3000/</strong></p>\n<p>sec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;</p>\n<p>sec-ch-ua-mobile: ?0</p>\n<p>sec-ch-ua-platform: &quot;Windows&quot;</p>\n<p>Sec-Fetch-Dest: empty</p>\n<p><strong>Sec-Fetch-Mode: cors</strong></p>\n<p>Sec-Fetch-Site: same-site</p>\n<p>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36</p>\n<p>Here is the config Oauth2:</p>\n<pre><code>http.oauth2Login()\n        .and()\n        .exceptionHandling()\n        // Specific entry point for failed authentication\n        .authenticationEntryPoint(getEntryPoint())\n        .and()\n        .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter());\n\nhttp.addFilterAfter(corsFilter(), SessionManagementFilter.class);\n...\n</code></pre>\n<pre><code>public class CorsFilter implements Filter {\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        HttpServletRequest request= (HttpServletRequest) servletRequest;\n\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;180&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<pre><code>private AuthenticationEntryPoint getEntryPoint() {\n    return (request, response, authException) -&gt; {\n        if (authException != null) {\n            response.sendRedirect(&quot;/oauth2/authorization/keycloak&quot;);\n        } else {\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\n        }\n    };\n}\n</code></pre>\n<p>Anyone have some experience with this issue ? :)</p>\n<p>I would like when trying access :3000 it's still redirect to keycloak :4000 via authen service :80.</p>\n"},{"tags":["java","sql","pgadmin"],"answers":[{"tags":[],"owner":{"account_id":26650929,"reputation":27,"user_id":20265248,"display_name":"andre Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671389645,"creation_date":1671389645,"answer_id":74843624,"question_id":74843414,"body_markdown":"I solved the problem by putting on line 18 (which had the command- Connection c = DriverManager.getConnection(url); ) the following command- Connection c = DriverManager.getConnection(url, dbuser, password);","title":"org.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided","body":"<p>I solved the problem by putting on line 18 (which had the command- Connection c = DriverManager.getConnection(url); ) the following command- Connection c = DriverManager.getConnection(url, dbuser, password);</p>\n"}],"owner":{"account_id":26650929,"reputation":27,"user_id":20265248,"display_name":"andre Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671389645,"creation_date":1671387058,"question_id":74843414,"body_markdown":"    import java.sql.*;\r\n    import java.io.*;\r\n    \r\n    public class prog1 {\r\n        public static void main(String args[]) {\r\n            String dbname = &quot;BD22&quot;;\r\n            String dbuser = &quot;postgres&quot;;\r\n            String password = &quot;12345&quot;;\r\n            String url = &quot;jdbc:postgresql://localhost:5432/&quot; + dbname;\r\n    \r\n            try {\r\n                BufferedReader in;\r\n                in = new BufferedReader( new InputStreamReader( System.in ));\r\n                System.out.println(&quot;Insira um novo passageiro&quot;);\r\n                System.out.print(&quot;&gt;&gt; Nome: &quot;); String nomePassageiro = in.readLine();\r\n                System.out.print(&quot;&gt;&gt; Morada: &quot;); String destinopretendido = in.readLine();\r\n                System.out.println(&quot;Nome: &quot; + nomePassageiro + &quot;    Morada: &quot; + destinopretendido);\r\n                Connection c = DriverManager.getConnection(url);\r\n                c.setAutoCommit(false);\r\n                Statement stmt = c.createStatement();\r\n                String sql = &quot;INSERT INTO passageiros(nomeP,destinopretendido) VALUES (&#39;&quot; +\r\n                        nomePassageiro + &quot;&#39;,&#39;&quot; + destinopretendido + &quot;&#39;);&quot;;\r\n                stmt.executeUpdate(sql);\r\n                stmt.close();\r\n                c.commit();\r\n                c.close();\r\n                System.out.println(&quot;Estudio &quot; + nomePassageiro + &quot; inserido.&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() );\r\n                System.exit(0);\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I start the code I can write everything, but when the program starts the &quot;phase&quot; in which it should add to the database what was written, the title error appears and when I debug it, it appears: Disconnected from the target VM, address: &#39;127.0.0.1:54160&#39;, transport: &#39;socket&#39;\r\nSomeone can help me?","title":"org.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided","body":"<pre><code>import java.sql.*;\nimport java.io.*;\n\npublic class prog1 {\n    public static void main(String args[]) {\n        String dbname = &quot;BD22&quot;;\n        String dbuser = &quot;postgres&quot;;\n        String password = &quot;12345&quot;;\n        String url = &quot;jdbc:postgresql://localhost:5432/&quot; + dbname;\n\n        try {\n            BufferedReader in;\n            in = new BufferedReader( new InputStreamReader( System.in ));\n            System.out.println(&quot;Insira um novo passageiro&quot;);\n            System.out.print(&quot;&gt;&gt; Nome: &quot;); String nomePassageiro = in.readLine();\n            System.out.print(&quot;&gt;&gt; Morada: &quot;); String destinopretendido = in.readLine();\n            System.out.println(&quot;Nome: &quot; + nomePassageiro + &quot;    Morada: &quot; + destinopretendido);\n            Connection c = DriverManager.getConnection(url);\n            c.setAutoCommit(false);\n            Statement stmt = c.createStatement();\n            String sql = &quot;INSERT INTO passageiros(nomeP,destinopretendido) VALUES ('&quot; +\n                    nomePassageiro + &quot;','&quot; + destinopretendido + &quot;');&quot;;\n            stmt.executeUpdate(sql);\n            stmt.close();\n            c.commit();\n            c.close();\n            System.out.println(&quot;Estudio &quot; + nomePassageiro + &quot; inserido.&quot;);\n        }\n        catch (Exception e) {\n            System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() );\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n<p>When I start the code I can write everything, but when the program starts the &quot;phase&quot; in which it should add to the database what was written, the title error appears and when I debug it, it appears: Disconnected from the target VM, address: '127.0.0.1:54160', transport: 'socket'\nSomeone can help me?</p>\n"},{"tags":["java","design-patterns","reflection","command-pattern"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1416553656,"post_id":27055752,"comment_id":42627782,"body_markdown":"What happens if the user enters `execute`?  Will that cause `executeCommand` to try to call itself recursively?  Using reflection in this way, where you use a string entered by the user to determine what method name to execute, looks **very** dangerous.  Might as well put a sign on your program saying &quot;Hey, cybercriminals!  THIS WAY!!!&quot;","body":"What happens if the user enters <code>execute</code>?  Will that cause <code>executeCommand</code> to try to call itself recursively?  Using reflection in this way, where you use a string entered by the user to determine what method name to execute, looks <b>very</b> dangerous.  Might as well put a sign on your program saying &quot;Hey, cybercriminals!  THIS WAY!!!&quot;"},{"owner":{"display_name":"user2022068"},"score":1,"creation_date":1416553888,"post_id":27055752,"comment_id":42627862,"body_markdown":"@ajb Thank you for your comment. I know that, that&#39;s why we use url mapper via xml (url -&gt;component,command). I wrote &quot;taken from url&quot; to pass the idea.","body":"@ajb Thank you for your comment. I know that, that&#39;s why we use url mapper via xml (url -&gt;component,command). I wrote &quot;taken from url&quot; to pass the idea."}],"answers":[{"tags":[],"owner":{"account_id":1530386,"reputation":458,"user_id":1427708,"display_name":"Kamil.H"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1416553216,"creation_date":1416553216,"answer_id":27055823,"question_id":27055752,"body_markdown":" 1. first way is better, use reflections only when don&#39;t have other options. \r\n 2. in one application there should be one approach to solve one kind of problem.\r\n 3. I think the first approach is fine. (much better then if/else blocks)\r\n\r\n ","title":"Command pattern vs reflection","body":"<ol>\n<li>first way is better, use reflections only when don't have other options. </li>\n<li>in one application there should be one approach to solve one kind of problem.</li>\n<li>I think the first approach is fine. (much better then if/else blocks)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2271733,"reputation":2072,"user_id":1998944,"accept_rate":40,"display_name":"Kenyakorn Ketsombut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416558716,"creation_date":1416558716,"answer_id":27057073,"question_id":27055752,"body_markdown":"I think there are 2 different ways for your first approach. Each command could be a subclass of the abstract class Command. Or each command could be an instance of the class command. That depends on how flexible that is all supposed to be, and are the are parameters and return values for commands? With subclasses it would look like this (just to get the idea):\r\n\r\n\tabstract public class Command {\r\n\t\tabstract public void execute();\r\n\t}\r\n\t\r\n\tpublic class LsCommand extends Command\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void execute() {\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;ls&quot;);\r\n\t\t\t} catch (IOException e) {}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class ChdirCommand extends Command\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void execute() {\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;chdir&quot;);\r\n\t\t\t} catch (IOException e) {}\r\n\t\t}\r\n\t}\r\n\r\nHere my answers:\r\n\r\n 1. Your first way is better. Always prefer design patterns over\r\n    reflection.\r\n 2. Sorry I don&#39;t understand question 2. But it doesn&#39;t have a question mark anyway, so I just skip it :)\r\n 3. You might want to look into the [Strategy design pattern][1], where each command could even be made of different parts of sub commands.\r\n    Another idea would be the [Factory design pattern][2]. In that case you\r\n    would put each command into a class and then use the ClassLoader to\r\n    load the class by name.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern\r\n  [2]: http://en.wikipedia.org/wiki/Factory_method_pattern","title":"Command pattern vs reflection","body":"<p>I think there are 2 different ways for your first approach. Each command could be a subclass of the abstract class Command. Or each command could be an instance of the class command. That depends on how flexible that is all supposed to be, and are the are parameters and return values for commands? With subclasses it would look like this (just to get the idea):</p>\n\n<pre><code>abstract public class Command {\n    abstract public void execute();\n}\n\npublic class LsCommand extends Command\n{\n    @Override\n    public void execute() {\n        try {\n            Runtime.getRuntime().exec(\"ls\");\n        } catch (IOException e) {}\n    }\n}\n\npublic class ChdirCommand extends Command\n{\n    @Override\n    public void execute() {\n        try {\n            Runtime.getRuntime().exec(\"chdir\");\n        } catch (IOException e) {}\n    }\n}\n</code></pre>\n\n<p>Here my answers:</p>\n\n<ol>\n<li>Your first way is better. Always prefer design patterns over\nreflection.</li>\n<li>Sorry I don't understand question 2. But it doesn't have a question mark anyway, so I just skip it :)</li>\n<li>You might want to look into the <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow\">Strategy design pattern</a>, where each command could even be made of different parts of sub commands.\nAnother idea would be the <a href=\"http://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">Factory design pattern</a>. In that case you\nwould put each command into a class and then use the ClassLoader to\nload the class by name.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506154099,"creation_date":1455204640,"answer_id":35343452,"question_id":27055752,"body_markdown":"&gt; Which one is better?\r\n\r\nObviously first one is better. Even though you have quoted that you are using Command pattern, it&#39;s not complete &quot;Command&quot; pattern. *Command pattern will have Command (abstract), Concrete Command, Receiver, Invoker and Client*. \r\n\r\nHave a look at this question:\r\n\r\nhttps://stackoverflow.com/questions/2015549/using-command-design-pattern/34789979#34789979\r\n\r\nApart from Command Patten, I would like to highlight pros and cons of reflection.\r\n\r\n***Pros:***\r\n\r\n1. Handling dependency injection\r\n2. Developing plug and play frameworks\r\n\r\n***Cons:***\r\n\r\n1. Reflection calls are slower\r\n2. You can violate security and explode application with bad intent ( e.g. setting private variables of a class, which is invisible to other class)\r\n\r\nHave a look at related SE question regarding Reflection :\r\n\r\nhttps://stackoverflow.com/questions/37628/what-is-reflection-and-why-is-it-useful?rq=1\r\n\r\n&gt; Is it normal in one application to let developers use one of the methods they want.\r\n\r\nIt is normal for developers to chose best method to solve a particular problem.\r\n\r\n&gt; Are there other ways?\r\n\r\nIt depends on type of problem you are going to address. Design patterns provides solutions to recurring problems. \r\n\r\nAll solution can&#39;t be fit in existing design patterns. You may have developed new patterns to solve your problem. ","title":"Command pattern vs reflection","body":"<blockquote>\n  <p>Which one is better?</p>\n</blockquote>\n\n<p>Obviously first one is better. Even though you have quoted that you are using Command pattern, it's not complete \"Command\" pattern. <em>Command pattern will have Command (abstract), Concrete Command, Receiver, Invoker and Client</em>. </p>\n\n<p>Have a look at this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2015549/using-command-design-pattern/34789979#34789979\">Using Command Design pattern</a></p>\n\n<p>Apart from Command Patten, I would like to highlight pros and cons of reflection.</p>\n\n<p><strong><em>Pros:</em></strong></p>\n\n<ol>\n<li>Handling dependency injection</li>\n<li>Developing plug and play frameworks</li>\n</ol>\n\n<p><strong><em>Cons:</em></strong></p>\n\n<ol>\n<li>Reflection calls are slower</li>\n<li>You can violate security and explode application with bad intent ( e.g. setting private variables of a class, which is invisible to other class)</li>\n</ol>\n\n<p>Have a look at related SE question regarding Reflection :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37628/what-is-reflection-and-why-is-it-useful?rq=1\">What is reflection and why is it useful?</a></p>\n\n<blockquote>\n  <p>Is it normal in one application to let developers use one of the methods they want.</p>\n</blockquote>\n\n<p>It is normal for developers to chose best method to solve a particular problem.</p>\n\n<blockquote>\n  <p>Are there other ways?</p>\n</blockquote>\n\n<p>It depends on type of problem you are going to address. Design patterns provides solutions to recurring problems. </p>\n\n<p>All solution can't be fit in existing design patterns. You may have developed new patterns to solve your problem. </p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671388983,"creation_date":1671381363,"answer_id":74842936,"question_id":27055752,"body_markdown":"It is not obviously one vs another. You can have both: \r\n\r\n    public class Controller {\r\n         public void executeCommand(String commandName){\r\n              CommandFactory.getCommand(commandName).execute();\r\n          }         \r\n    } \r\n    public class CommandFactory {\r\n    \r\n    private static final String COMMAND_PACKAGE = &quot;come.example.command.&quot;;\r\n    \r\n    private static Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;();\r\n    \r\n    public static Command getCommand (String commandName){\r\n        if (commandMap.containsKey(commandName)){\r\n            return commandMap.get(commandName);\r\n        }\r\n        String commandNameCapitalized = commandName.substring(0, 1).toUpperCase() + commandName.substring(1);\r\n        String commandClassString = COMMAND_PACKAGE + commandNameCapitalized;\r\n        try {\r\n            Class commandClass = Class.forName(commandClassString);\r\n            Command command = (Command) commandClass.newInstance();\r\n            commandMap.put(commandName, command);\r\n            return command;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n       }\r\n    \r\n    }\r\n\r\n\r\n \r\n\r\n\r\n    ","title":"Command pattern vs reflection","body":"<p>It is not obviously one vs another. You can have both:</p>\n<pre><code>public class Controller {\n     public void executeCommand(String commandName){\n          CommandFactory.getCommand(commandName).execute();\n      }         \n} \npublic class CommandFactory {\n\nprivate static final String COMMAND_PACKAGE = &quot;come.example.command.&quot;;\n\nprivate static Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;();\n\npublic static Command getCommand (String commandName){\n    if (commandMap.containsKey(commandName)){\n        return commandMap.get(commandName);\n    }\n    String commandNameCapitalized = commandName.substring(0, 1).toUpperCase() + commandName.substring(1);\n    String commandClassString = COMMAND_PACKAGE + commandNameCapitalized;\n    try {\n        Class commandClass = Class.forName(commandClassString);\n        Command command = (Command) commandClass.newInstance();\n        commandMap.put(commandName, command);\n        return command;\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return null;\n   }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user2022068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27055823,"answer_count":4,"score":7,"last_activity_date":1671388983,"creation_date":1416552902,"question_id":27055752,"body_markdown":"I have controller that executes some commands according to command name, taken from url. The main point is in not to use if and switch clauses. As I know there are ONLY two ways how to do it - 1) command pattern 2) reflection.\r\n\r\n    //Command pattern\r\n    class Controller{\r\n      private HashMap&lt;String,Command&gt; commands;\r\n      public void executeCommand(String commandName){\r\n        commands.get(commandName).execute();\r\n      }\r\n      ...\r\n    }\r\n\r\n    //reflection\r\n    class Controller{\r\n      public void readCommand(){\r\n        ....\r\n      }\r\n      public void executeCommand(String commandName){\r\n        this.getClass().getMethod(commandName+&quot;Command&quot;).invoke(this);\r\n      }\r\n      ...\r\n    }\r\n\r\nSo the questios:\r\n\r\n 1. Which one is better? \r\n 2. Is it normal in one application to let developers use one of the methods they want.\r\n 3. Are there other ways?","title":"Command pattern vs reflection","body":"<p>I have controller that executes some commands according to command name, taken from url. The main point is in not to use if and switch clauses. As I know there are ONLY two ways how to do it - 1) command pattern 2) reflection.</p>\n\n<pre><code>//Command pattern\nclass Controller{\n  private HashMap&lt;String,Command&gt; commands;\n  public void executeCommand(String commandName){\n    commands.get(commandName).execute();\n  }\n  ...\n}\n\n//reflection\nclass Controller{\n  public void readCommand(){\n    ....\n  }\n  public void executeCommand(String commandName){\n    this.getClass().getMethod(commandName+\"Command\").invoke(this);\n  }\n  ...\n}\n</code></pre>\n\n<p>So the questios:</p>\n\n<ol>\n<li>Which one is better? </li>\n<li>Is it normal in one application to let developers use one of the methods they want.</li>\n<li>Are there other ways?</li>\n</ol>\n"},{"tags":["java","selenium","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":23355737,"reputation":1,"user_id":17428727,"display_name":"Kailasam Sai kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671388395,"creation_date":1671107447,"answer_id":74811564,"question_id":74644873,"body_markdown":"    public void changeCheckBoxdualDepository(WebElement checkBoxElement, boolean dualDepository) {\r\n        if (!checkBoxElement.isSelected() &amp;&amp; dualDepository) {\r\n            checkBoxElement.click();\r\n        } else if (checkBoxElement.isSelected() &amp;&amp; !dualDepository) {\r\n            checkBoxElement.click();\r\n        }\r\n    }","title":"unchecking the check box","body":"<pre><code>public void changeCheckBoxdualDepository(WebElement checkBoxElement, boolean dualDepository) {\n    if (!checkBoxElement.isSelected() &amp;&amp; dualDepository) {\n        checkBoxElement.click();\n    } else if (checkBoxElement.isSelected() &amp;&amp; !dualDepository) {\n        checkBoxElement.click();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23355737,"reputation":1,"user_id":17428727,"display_name":"Kailasam Sai kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74811564,"answer_count":1,"score":0,"last_activity_date":1671388395,"creation_date":1669910886,"question_id":74644873,"body_markdown":"i want to uncheck the check box iam sending value through  the json in my feature file \r\n\r\nto uncheck the value when i send false from my json\r\n\r\n\r\n```\r\n  public boolean updateSectionFields( DataObject dataObject ) {\r\n        boolean flag = false;\r\n        FundAcceptance fundAcceptance = (FundAcceptance) dataObject;\r\n\r\n        try {\r\n            scrollDownVerticalUntilVisibleElement(dualDepositoryCheckBox);\r\n                         changeCheckBoxState( dualDepositoryCheckBox, fundAcceptance.isDualDepository() );\r\n\r\n            changeCheckBoxState( overriddenChkBox, fundAcceptance.isOverrideReason() );\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            log.info(&quot;An&quot;);\r\n            log.error(String.valueOf(e));\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\nprotected void changeCheckBoxState(WebElement checkBoxElement, boolean desiredState){\r\n        checkBoxElement.click();\r\n    }\r\n```\r\n\r\n","title":"unchecking the check box","body":"<p>i want to uncheck the check box iam sending value through  the json in my feature file</p>\n<p>to uncheck the value when i send false from my json</p>\n<pre><code>  public boolean updateSectionFields( DataObject dataObject ) {\n        boolean flag = false;\n        FundAcceptance fundAcceptance = (FundAcceptance) dataObject;\n\n        try {\n            scrollDownVerticalUntilVisibleElement(dualDepositoryCheckBox);\n                         changeCheckBoxState( dualDepositoryCheckBox, fundAcceptance.isDualDepository() );\n\n            changeCheckBoxState( overriddenChkBox, fundAcceptance.isOverrideReason() );\n        }\n        catch(Exception e)\n        {\n            log.info(&quot;An&quot;);\n            log.error(String.valueOf(e));\n        }\n\n        return flag;\n    }\n\n</code></pre>\n<pre><code>protected void changeCheckBoxState(WebElement checkBoxElement, boolean desiredState){\n        checkBoxElement.click();\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9195,"page":797,"page_size":100}
