{"items":[{"tags":["java","apache-nifi","avro","parquet"],"comments":[{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601032893,"post_id":64057182,"comment_id":113284839,"body_markdown":"Could you please give a sample of the avro data?","body":"Could you please give a sample of the avro data?"},{"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"score":0,"creation_date":1601037479,"post_id":64057182,"comment_id":113287084,"body_markdown":"[ {\n  &quot;tp_resposta_id&quot; : 1,\n  &quot;nome&quot; : &quot;MULTIPLA_ESCOLHA&quot;,\n  &quot;descricao&quot; : &quot;item que indicar&#225; a escolha de op&#231;&#227;o de resposta.&quot;,\n  &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,\n  &quot;dt_alteracao&quot; : null,\n  &quot;usuario&quot; : &quot;CARGA_CC_3&quot;\n}, {\n  &quot;tp_resposta_id&quot; : 2,\n  &quot;nome&quot; : &quot;TEXTO&quot;,\n  &quot;descricao&quot; : &quot;item que indicar&#225; uma resposta inserida em um campo de texto.&quot;,\n  &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,\n  &quot;dt_alteracao&quot; : null,\n  &quot;usuario&quot; : &quot;CARGA_CC_3&quot;\n}]","body":"[ {   &quot;tp_resposta_id&quot; : 1,   &quot;nome&quot; : &quot;MULTIPLA_ESCOLHA&quot;,   &quot;descricao&quot; : &quot;item que indicar&#225; a escolha de op&#231;&#227;o de resposta.&quot;,   &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,   &quot;dt_alteracao&quot; : null,   &quot;usuario&quot; : &quot;CARGA_CC_3&quot; }, {   &quot;tp_resposta_id&quot; : 2,   &quot;nome&quot; : &quot;TEXTO&quot;,   &quot;descricao&quot; : &quot;item que indicar&#225; uma resposta inserida em um campo de texto.&quot;,   &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,   &quot;dt_alteracao&quot; : null,   &quot;usuario&quot; : &quot;CARGA_CC_3&quot; }]"},{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601043391,"post_id":64057182,"comment_id":113290020,"body_markdown":"Based on your sample: I did ConvertJsontoAvro then AvroToParquet. I didn&#39;t had any issue. What I would do, check if your data from your SQL request are in Avro format(not Json). Check on a smaller file.","body":"Based on your sample: I did ConvertJsontoAvro then AvroToParquet. I didn&#39;t had any issue. What I would do, check if your data from your SQL request are in Avro format(not Json). Check on a smaller file."}],"answers":[{"comments":[{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601283591,"post_id":64068917,"comment_id":113348421,"body_markdown":"Good to know! We all went to this an increase JVM memory for Nifi.","body":"Good to know! We all went to this an increase JVM memory for Nifi."}],"tags":[],"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601055386,"creation_date":1601055386,"answer_id":64068917,"question_id":64057182,"body_markdown":"I did what you proposed, Pdeuxa, and it worked perfectly for a small table, but not for large table. So, I increased the JVM&#39;s heap memory in the `nifi-1.10.0/conf/bootstrap.conf` file, and it worked for me.\r\n\r\n## JVM memory settings\r\n```\r\n#java.arg.2=-Xms512m\r\n#java.arg.3=-Xmx512m\r\njava.arg.2=-Xms2048m\r\njava.arg.3=-Xmx2048m\r\n```\r\nThanks for your time and your attention, Pdeuxa.\r\n","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>I did what you proposed, Pdeuxa, and it worked perfectly for a small table, but not for large table. So, I increased the JVM's heap memory in the <code>nifi-1.10.0/conf/bootstrap.conf</code> file, and it worked for me.</p>\n<h2>JVM memory settings</h2>\n<pre><code>#java.arg.2=-Xms512m\n#java.arg.3=-Xmx512m\njava.arg.2=-Xms2048m\njava.arg.3=-Xmx2048m\n</code></pre>\n<p>Thanks for your time and your attention, Pdeuxa.</p>\n"},{"tags":[],"owner":{"account_id":5494549,"reputation":368,"user_id":4366141,"display_name":"Teng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675925081,"creation_date":1675925081,"answer_id":75395096,"question_id":64057182,"body_markdown":"TL,DR: `ParquetWriter` was interrupted by other exception, and it shouldn&#39;t be reused after the exception. In your case, it should be an OOM exception.\r\n\r\nI encountered the same issue recently in a project Hudi. This exception was thrown by `ParquetWriter` when I was trying to write a record into a Parquet file.\r\n\r\n```log\r\n2023-01-31 11:54:20,199 ERROR org.apache.hudi.io.HoodieMergeHandle                         [] - Error writing record  HoodieRecord{key=HoodieKey { recordKey=149389890 partitionPath=}, currentLocation=&#39;null&#39;, newLocation=&#39;null&#39;}\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:57)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:69)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:60)\r\n\tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\r\n\tat org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.endMessage(MessageColumnIO.java:307)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310)\r\n\tat org.apache.hudi.io.storage.HoodieBaseParquetWriter.write(HoodieBaseParquetWriter.java:80)\r\n\tat org.apache.hudi.io.storage.HoodieAvroParquetWriter.writeAvro(HoodieAvroParquetWriter.java:76)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeToFile(HoodieMergeHandle.java:386)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeRecord(HoodieMergeHandle.java:315)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeInsertRecord(HoodieMergeHandle.java:296)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeIncomingRecords(HoodieMergeHandle.java:399)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:414)\r\n\tat org.apache.hudi.table.action.commit.FlinkMergeHelper.runMerge(FlinkMergeHelper.java:133)\r\n\tat org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdateInternal(HoodieFlinkCopyOnWriteTable.java:375)\r\n\tat org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdate(HoodieFlinkCopyOnWriteTable.java:366)\r\n\tat org.apache.hudi.table.action.compact.HoodieCompactor.compact(HoodieCompactor.java:238)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.doCompaction(CompactFunction.java:110)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:101)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:46)\r\n\tat org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)\r\n\tat org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:233)\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:134)\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:105)\r\n\tat org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:524)\r\n\tat org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:809)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:758)\r\n\tat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:951)\r\n\tat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:930)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:744)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n```\r\n\r\nAfter checking the source code of parquet-column. The cause of this exception is that the parquet writer can&#39;t be reused if it was interrupted by other exception. According to the source code of `org.apache.parquet.column.impl.ColumnWriterBase#writePage`, `repetitionLevelColumn`, `definitionLevelColumn` and `dataColumn` will be reset after `writePage(...)`, but the reset code is not in finally block, so, if there is anything wrong in `writePage(...)`, the reset code won&#39;t be executed.\r\n\r\n```java\r\nabstract class ColumnWriterBase implements ColumnWriter {\r\n  ...\r\n  void writePage() {\r\n    if (valueCount == 0) {\r\n      throw new ParquetEncodingException(&quot;writing empty page&quot;);\r\n    }\r\n    this.rowsWrittenSoFar += pageRowCount;\r\n    if (DEBUG)\r\n      LOG.debug(&quot;write page&quot;);\r\n    try {\r\n      writePage(pageRowCount, valueCount, statistics, repetitionLevelColumn, definitionLevelColumn, dataColumn);\r\n    } catch (IOException e) {\r\n      throw new ParquetEncodingException(&quot;could not write page for &quot; + path, e);\r\n    }\r\n    repetitionLevelColumn.reset();\r\n    definitionLevelColumn.reset();\r\n    dataColumn.reset();\r\n    valueCount = 0;\r\n    resetStatistics();\r\n    pageRowCount = 0;\r\n  }\r\n}\r\n```\r\n\r\nIn my case, the exception thrown in `writePage(...)` was a class not found exception, and my code caught it wrongly, and want to reuse the same writer.\r\n\r\n```log\r\nCaused by: java.lang.ClassNotFoundException: com.github.luben.zstd.NoPool\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:68)\r\n\tat org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:74)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:52)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:109)\r\n\tat org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:100)\r\n\tat org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:165)\r\n\tat org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\r\n\tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\r\n```","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>TL,DR: <code>ParquetWriter</code> was interrupted by other exception, and it shouldn't be reused after the exception. In your case, it should be an OOM exception.</p>\n<p>I encountered the same issue recently in a project Hudi. This exception was thrown by <code>ParquetWriter</code> when I was trying to write a record into a Parquet file.</p>\n<pre><code>2023-01-31 11:54:20,199 ERROR org.apache.hudi.io.HoodieMergeHandle                         [] - Error writing record  HoodieRecord{key=HoodieKey { recordKey=149389890 partitionPath=}, currentLocation='null', newLocation='null'}\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:57)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:69)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:60)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\n    at org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.endMessage(MessageColumnIO.java:307)\n    at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138)\n    at org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310)\n    at org.apache.hudi.io.storage.HoodieBaseParquetWriter.write(HoodieBaseParquetWriter.java:80)\n    at org.apache.hudi.io.storage.HoodieAvroParquetWriter.writeAvro(HoodieAvroParquetWriter.java:76)\n    at org.apache.hudi.io.HoodieMergeHandle.writeToFile(HoodieMergeHandle.java:386)\n    at org.apache.hudi.io.HoodieMergeHandle.writeRecord(HoodieMergeHandle.java:315)\n    at org.apache.hudi.io.HoodieMergeHandle.writeInsertRecord(HoodieMergeHandle.java:296)\n    at org.apache.hudi.io.HoodieMergeHandle.writeIncomingRecords(HoodieMergeHandle.java:399)\n    at org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:414)\n    at org.apache.hudi.table.action.commit.FlinkMergeHelper.runMerge(FlinkMergeHelper.java:133)\n    at org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdateInternal(HoodieFlinkCopyOnWriteTable.java:375)\n    at org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdate(HoodieFlinkCopyOnWriteTable.java:366)\n    at org.apache.hudi.table.action.compact.HoodieCompactor.compact(HoodieCompactor.java:238)\n    at org.apache.hudi.sink.compact.CompactFunction.doCompaction(CompactFunction.java:110)\n    at org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:101)\n    at org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:46)\n    at org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)\n    at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:233)\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:134)\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:105)\n    at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:524)\n    at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:809)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:758)\n    at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:951)\n    at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:930)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:744)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\n</code></pre>\n<p>After checking the source code of parquet-column. The cause of this exception is that the parquet writer can't be reused if it was interrupted by other exception. According to the source code of <code>org.apache.parquet.column.impl.ColumnWriterBase#writePage</code>, <code>repetitionLevelColumn</code>, <code>definitionLevelColumn</code> and <code>dataColumn</code> will be reset after <code>writePage(...)</code>, but the reset code is not in finally block, so, if there is anything wrong in <code>writePage(...)</code>, the reset code won't be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class ColumnWriterBase implements ColumnWriter {\n  ...\n  void writePage() {\n    if (valueCount == 0) {\n      throw new ParquetEncodingException(&quot;writing empty page&quot;);\n    }\n    this.rowsWrittenSoFar += pageRowCount;\n    if (DEBUG)\n      LOG.debug(&quot;write page&quot;);\n    try {\n      writePage(pageRowCount, valueCount, statistics, repetitionLevelColumn, definitionLevelColumn, dataColumn);\n    } catch (IOException e) {\n      throw new ParquetEncodingException(&quot;could not write page for &quot; + path, e);\n    }\n    repetitionLevelColumn.reset();\n    definitionLevelColumn.reset();\n    dataColumn.reset();\n    valueCount = 0;\n    resetStatistics();\n    pageRowCount = 0;\n  }\n}\n</code></pre>\n<p>In my case, the exception thrown in <code>writePage(...)</code> was a class not found exception, and my code caught it wrongly, and want to reuse the same writer.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.github.luben.zstd.NoPool\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:68)\n    at org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:74)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:52)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:109)\n    at org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:100)\n    at org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:165)\n    at org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\n</code></pre>\n"}],"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675925081,"creation_date":1601002855,"question_id":64057182,"body_markdown":"I am not able to convert a 3.7GB avro file to parquet format using ConvertAvroToParquet.\r\n\r\nMy setup: ExecuteSQL 1.10.0 &gt; ConvertAvroToParquet 1.10.0 &gt; PutS3Object 1.10.0.\r\n\r\n[ConvertAvroToParquet][1] settings are by default. \r\n\r\n```\r\n2020-09-24 20:54:40,534 INFO [Write-Ahead Local State Provider Maintenance] org.wali.MinimalLockingWriteAheadLog org.wali.MinimalLockingWriteAheadLog@6c8e0773 checkpointed with 645 Records and 0 Swap Files in 5 milliseconds (Stop-the-world time = 1 milliseconds, Clear Edit Logs time = 1 millis), max Transaction ID 9971\r\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 2 records in 0 milliseconds\r\n2020-09-24 20:55:03,820 INFO [Timer-Driven Process Thread-7] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 100899470\r\n2020-09-24 20:55:03,953 ERROR [Timer-Driven Process Thread-7] o.a.n.p.parquet.ConvertAvroToParquet ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] failed to process session due to java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset(); Processor Administratively Yielded for 1 sec: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\r\n\tat org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n2020-09-24 20:55:03,954 WARN [Timer-Driven Process Thread-7] o.a.n.controller.tasks.ConnectableTask Administratively Yielding ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] due to uncaught Exception: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\r\n\tat org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n2020-09-24 20:55:52,897 INFO [Timer-Driven Process Thread-4] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 101841856\r\n``` \r\nWhat can this be?\r\n\r\n  [1]: https://i.stack.imgur.com/HVORw.png","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>I am not able to convert a 3.7GB avro file to parquet format using ConvertAvroToParquet.</p>\n<p>My setup: ExecuteSQL 1.10.0 &gt; ConvertAvroToParquet 1.10.0 &gt; PutS3Object 1.10.0.</p>\n<p><a href=\"https://i.stack.imgur.com/HVORw.png\" rel=\"nofollow noreferrer\">ConvertAvroToParquet</a> settings are by default.</p>\n<pre><code>2020-09-24 20:54:40,534 INFO [Write-Ahead Local State Provider Maintenance] org.wali.MinimalLockingWriteAheadLog org.wali.MinimalLockingWriteAheadLog@6c8e0773 checkpointed with 645 Records and 0 Swap Files in 5 milliseconds (Stop-the-world time = 1 milliseconds, Clear Edit Logs time = 1 millis), max Transaction ID 9971\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 2 records in 0 milliseconds\n2020-09-24 20:55:03,820 INFO [Timer-Driven Process Thread-7] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 100899470\n2020-09-24 20:55:03,953 ERROR [Timer-Driven Process Thread-7] o.a.n.p.parquet.ConvertAvroToParquet ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] failed to process session due to java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset(); Processor Administratively Yielded for 1 sec: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\n    at org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\n    at org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\n    at org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2020-09-24 20:55:03,954 WARN [Timer-Driven Process Thread-7] o.a.n.controller.tasks.ConnectableTask Administratively Yielding ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] due to uncaught Exception: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\n    at org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\n    at org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\n    at org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2020-09-24 20:55:52,897 INFO [Timer-Driven Process Thread-4] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 101841856\n</code></pre>\n<p>What can this be?</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1644700391,"post_id":71095913,"comment_id":125677617,"body_markdown":"I think confusion like this is a big contributor to why so many developers are still using Java 8. Upgrading to a new JDK was mostly trivial up to Java 8. If you start with 11 or later you are fine, but 11 represents a significant barrier when migrating from earlier versions.","body":"I think confusion like this is a big contributor to why so many developers are still using Java 8. Upgrading to a new JDK was mostly trivial up to Java 8. If you start with 11 or later you are fine, but 11 represents a significant barrier when migrating from earlier versions."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":0,"creation_date":1655323666,"post_id":71095913,"comment_id":128308650,"body_markdown":"Hey, I am just wondering if you ever found out more. Specifically I am looking for some central location where I can read about the current state of affairs with JAXB.","body":"Hey, I am just wondering if you ever found out more. Specifically I am looking for some central location where I can read about the current state of affairs with JAXB."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1655333381,"post_id":71095913,"comment_id":128310942,"body_markdown":"@ConfusedUbuntist Nope... I haven&#39;t found any place that has a complete description of the state of JAXB. I just try to put together the pieces from digging through the eclipse-ee4j stuff.  It&#39;s sparse and mostly undocumented.","body":"@ConfusedUbuntist Nope... I haven&#39;t found any place that has a complete description of the state of JAXB. I just try to put together the pieces from digging through the eclipse-ee4j stuff.  It&#39;s sparse and mostly undocumented."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":0,"creation_date":1655386719,"post_id":71095913,"comment_id":128323955,"body_markdown":"That is too bad. Hopefully at some point, things will get at least some clear documentation.","body":"That is too bad. Hopefully at some point, things will get at least some clear documentation."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1697704811,"post_id":71095913,"comment_id":136314162,"body_markdown":"@swpalmer migrating from 8 to 11 was hell for me, but you can&#39;t avoid it, 8 is cave age now. Last LTS is 17","body":"@swpalmer migrating from 8 to 11 was hell for me, but you can&#39;t avoid it, 8 is cave age now. Last LTS is 17"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1697731840,"post_id":71095913,"comment_id":136319651,"body_markdown":"@zakmck Last LTS when you wrote that comment is Java 21, but yes I agree 8-&gt;11 is the hard jump.  It get&#39;s easier after that.","body":"@zakmck Last LTS when you wrote that comment is Java 21, but yes I agree 8-&gt;11 is the hard jump.  It get&#39;s easier after that."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1697791993,"post_id":71095913,"comment_id":136326864,"body_markdown":"Oh damn, the 21 is already around! This policy of releasing based just on time is commercial nonsense.","body":"Oh damn, the 21 is already around! This policy of releasing based just on time is commercial nonsense."}],"answers":[{"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":6,"creation_date":1652034647,"post_id":72151763,"comment_id":127502740,"body_markdown":"There is no question that the process of handing over JAXB was a complete disaster.  It&#39;s till next to impossible to find the latest implementation jar - only the API jar is linked from any pages I could find.  They&#39;ve changed the implementation project and they have no useful links to anything.","body":"There is no question that the process of handing over JAXB was a complete disaster.  It&#39;s till next to impossible to find the latest implementation jar - only the API jar is linked from any pages I could find.  They&#39;ve changed the implementation project and they have no useful links to anything."},{"owner":{"account_id":1292662,"reputation":8228,"user_id":1244442,"accept_rate":79,"display_name":"Swapnil"},"score":5,"creation_date":1653674843,"post_id":72151763,"comment_id":127916715,"body_markdown":"Agreed, I haven&#39;t come across a bigger mess than this in the Java world off late.","body":"Agreed, I haven&#39;t come across a bigger mess than this in the Java world off late."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":1,"creation_date":1655325925,"post_id":72151763,"comment_id":128309330,"body_markdown":"I would not have a problem doing the java.xml.bind to jakarta.xml.bind migration, but I cannot even find any information on that. Based on your answer, it appears that you have at least some experience knowledge in that regard. If you could give a link or elaborate on that a bit further, I would really appreciate it. I have asked a separate question (https://stackoverflow.com/questions/72609324/what-needs-to-be-included-when-migrating-from-javax-xml-bind-to-jakarta-xml-bind) if it gets too off topic for this question. My wording in the liked question may be a little off due to confusion.","body":"I would not have a problem doing the java.xml.bind to jakarta.xml.bind migration, but I cannot even find any information on that. Based on your answer, it appears that you have at least some experience knowledge in that regard. If you could give a link or elaborate on that a bit further, I would really appreciate it. I have asked a separate question (<a href=\"https://stackoverflow.com/questions/72609324/what-needs-to-be-included-when-migrating-from-javax-xml-bind-to-jakarta-xml-bind\" title=\"what needs to be included when migrating from javax xml bind to jakarta xml bind\">stackoverflow.com/questions/72609324/&hellip;</a>) if it gets too off topic for this question. My wording in the liked question may be a little off due to confusion."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":1,"creation_date":1655730591,"post_id":72151763,"comment_id":128393953,"body_markdown":"It certainly does! Thanks very much!","body":"It certainly does! Thanks very much!"},{"owner":{"account_id":307668,"reputation":2161,"user_id":619097,"accept_rate":57,"display_name":"Rams"},"score":0,"creation_date":1691085544,"post_id":72151763,"comment_id":135447483,"body_markdown":"What is the difference between jakarta.xml.bind-api vs jaxb-impl ?","body":"What is the difference between jakarta.xml.bind-api vs jaxb-impl ?"},{"owner":{"account_id":150780,"reputation":1979,"user_id":364206,"accept_rate":40,"display_name":"Danny Thomas"},"score":2,"creation_date":1691812165,"post_id":72151763,"comment_id":135545660,"body_markdown":"@Rams the API and implementation are split between two artifacts. The impl brings in the API transitively, but you&#39;d depend directly on the API only if you had a library and you wanted to leave the choice of implementation up to the downstream consumer","body":"@Rams the API and implementation are split between two artifacts. The impl brings in the API transitively, but you&#39;d depend directly on the API only if you had a library and you wanted to leave the choice of implementation up to the downstream consumer"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696270761,"post_id":72151763,"comment_id":136128906,"body_markdown":"FYI, apparently another implementation of Jakarta XML Binding is [*MOXy*](https://eclipse.dev/eclipselink/#moxy), a part of the [EclipseLink](https://eclipse.dev/eclipselink/) project.","body":"FYI, apparently another implementation of Jakarta XML Binding is <a href=\"https://eclipse.dev/eclipselink/#moxy\" rel=\"nofollow noreferrer\"><i>MOXy</i></a>, a part of the <a href=\"https://eclipse.dev/eclipselink/\" rel=\"nofollow noreferrer\">EclipseLink</a> project."}],"tags":[],"owner":{"account_id":150780,"reputation":1979,"user_id":364206,"accept_rate":40,"display_name":"Danny Thomas"},"comment_count":7,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1675924982,"creation_date":1651920450,"answer_id":72151763,"question_id":71095913,"body_markdown":"The only difference between `jaxb-impl` and `jaxb-runtime` is packaging: `jaxb-impl` bundles istack/txw2 inside the jar, whereas `jaxb-runtime` provides them via separate dependencies. \r\n\r\n## Version Compatibility and the JakartaEE Migration\r\n\r\nI&#39;ve been trying to make sense of this for the last day, and it&#39;s incredibly confusing. Particularly when you&#39;re trying to avoid the `java.xml.bind` to `jakarta.xml.bind` migration. There&#39;s out of date information everywhere and some broken releases in the `jaxb-impl` 2.3.x release line.\r\n\r\nBest I can tell, GlassFish was providing the JAXB reference implementation. It&#39;s since moved to EE4J, but releases continue from that project against both sets of coordinates. Appears that `com.sun.xml.bind:jaxb-ri` is where the latest full bundles are released:\r\n\r\nhttps://github.com/eclipse-ee4j/jaxb-ri/\r\n\r\nHaving figured out that piece of history, the real mess is that none of the artifacts reflect the `javax.xml.bind` to `jakarta.xml.bind` move in their artifact coordinates, only in the versions. This means if you&#39;re in ecosystem where you need both to exist, you&#39;re going to have a bad time.\r\n\r\nFor instance, the 2.3.3 release changed from depending on `javax.xml.bind:jaxb-api` to `jakarta.xml.bind:jakarta.xml.bind-api` because at 2.x, the `jakarta` artifacts provide the `javax.xml.bind` packages. At version 3.0.0 it provides `jakarta.xml.bind`.\r\n\r\nThe implementations are the same at 3.0.0 which means while the earlier versions could happily exist at runtime, you have no way of resolving them both in build tools and conflict resolution is going to break legacy uses of `javax.xml.bind` APIs.\r\n\r\n## Allow javax.xml.bind and jakarta.xml.bind to coexist\r\n\r\nFor projects that need both APIs to coexist without migrating the legacy code:\r\n\r\n - For `javax.xml.bind` use `com.sun.xml.bind:jaxb-impl:2.3.6`. Ignore the 3.0.0 and later releases. Add an explicit dependency on `javax.xml.bind:jaxb-api:2.3.1` so that you have a package providing the `javax.xml.bind` API\r\n - For `jakarta.xml.bind` use the latest `org.glassfish.jaxb:jaxb-runtime`. Ignore the releases earlier than 3.0.0\r\n\r\n## Runtime compatibility with jakarta.xml.bind\r\n\r\nUse the [tomcat-jakartaee-migration](https://github.com/apache/tomcat-jakartaee-migration) tool to rewrite classes for deployment. \r\n\r\nFor Gradle projects, you can use the [gradle-jakartaee-migration-plugin](https://github.com/nebula-plugins/gradle-jakartaee-migration-plugin/), and get the benefit of capabilities and transforms at development time too.\r\n\r\n## Migrate to jakarta.xml.bind\r\n\r\nYou can use either of the coordinates for the runtime based on your preferences for packaging:\r\n\r\n - `com.sun.xml.bind:jaxb-impl:4.0.0`\r\n - `org.glassfish.jaxb:jaxb-runtime:4.0.0`\r\n\r\nBoth depend on `jakarta.xml.bind:jakarta.xml.bind-api` with the `jakarta.xml.bind` package namespace.","title":"What is the difference between jaxb-impl and jaxb-runtime?","body":"<p>The only difference between <code>jaxb-impl</code> and <code>jaxb-runtime</code> is packaging: <code>jaxb-impl</code> bundles istack/txw2 inside the jar, whereas <code>jaxb-runtime</code> provides them via separate dependencies.</p>\n<h2>Version Compatibility and the JakartaEE Migration</h2>\n<p>I've been trying to make sense of this for the last day, and it's incredibly confusing. Particularly when you're trying to avoid the <code>java.xml.bind</code> to <code>jakarta.xml.bind</code> migration. There's out of date information everywhere and some broken releases in the <code>jaxb-impl</code> 2.3.x release line.</p>\n<p>Best I can tell, GlassFish was providing the JAXB reference implementation. It's since moved to EE4J, but releases continue from that project against both sets of coordinates. Appears that <code>com.sun.xml.bind:jaxb-ri</code> is where the latest full bundles are released:</p>\n<p><a href=\"https://github.com/eclipse-ee4j/jaxb-ri/\" rel=\"noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/</a></p>\n<p>Having figured out that piece of history, the real mess is that none of the artifacts reflect the <code>javax.xml.bind</code> to <code>jakarta.xml.bind</code> move in their artifact coordinates, only in the versions. This means if you're in ecosystem where you need both to exist, you're going to have a bad time.</p>\n<p>For instance, the 2.3.3 release changed from depending on <code>javax.xml.bind:jaxb-api</code> to <code>jakarta.xml.bind:jakarta.xml.bind-api</code> because at 2.x, the <code>jakarta</code> artifacts provide the <code>javax.xml.bind</code> packages. At version 3.0.0 it provides <code>jakarta.xml.bind</code>.</p>\n<p>The implementations are the same at 3.0.0 which means while the earlier versions could happily exist at runtime, you have no way of resolving them both in build tools and conflict resolution is going to break legacy uses of <code>javax.xml.bind</code> APIs.</p>\n<h2>Allow javax.xml.bind and jakarta.xml.bind to coexist</h2>\n<p>For projects that need both APIs to coexist without migrating the legacy code:</p>\n<ul>\n<li>For <code>javax.xml.bind</code> use <code>com.sun.xml.bind:jaxb-impl:2.3.6</code>. Ignore the 3.0.0 and later releases. Add an explicit dependency on <code>javax.xml.bind:jaxb-api:2.3.1</code> so that you have a package providing the <code>javax.xml.bind</code> API</li>\n<li>For <code>jakarta.xml.bind</code> use the latest <code>org.glassfish.jaxb:jaxb-runtime</code>. Ignore the releases earlier than 3.0.0</li>\n</ul>\n<h2>Runtime compatibility with jakarta.xml.bind</h2>\n<p>Use the <a href=\"https://github.com/apache/tomcat-jakartaee-migration\" rel=\"noreferrer\">tomcat-jakartaee-migration</a> tool to rewrite classes for deployment.</p>\n<p>For Gradle projects, you can use the <a href=\"https://github.com/nebula-plugins/gradle-jakartaee-migration-plugin/\" rel=\"noreferrer\">gradle-jakartaee-migration-plugin</a>, and get the benefit of capabilities and transforms at development time too.</p>\n<h2>Migrate to jakarta.xml.bind</h2>\n<p>You can use either of the coordinates for the runtime based on your preferences for packaging:</p>\n<ul>\n<li><code>com.sun.xml.bind:jaxb-impl:4.0.0</code></li>\n<li><code>org.glassfish.jaxb:jaxb-runtime:4.0.0</code></li>\n</ul>\n<p>Both depend on <code>jakarta.xml.bind:jakarta.xml.bind-api</code> with the <code>jakarta.xml.bind</code> package namespace.</p>\n"}],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20426,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":72151763,"answer_count":1,"score":27,"last_activity_date":1675924982,"creation_date":1644700350,"question_id":71095913,"body_markdown":"Clearly the com.sun.xml.bind:jaxb-impl artifact is labelled &quot;**Old** JAXB Runtime module&quot; in the maven repository (see link below), and yet both of these artifacts are still getting new releases:\r\n\r\nhttps://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\r\nhttps://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl\r\n\r\nThis answer https://stackoverflow.com/questions/26413431/which-artifacts-should-i-use-for-jaxb-ri-in-my-maven-project/26413432#26413432\r\ndoes not clarify the difference.\r\n\r\nThe accepted answer to both the above question and this one https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception conclude that for Java 9+ you should use:  org.glassfish.jaxb:jaxb-runtime\r\n\r\nBut I have code using com.sun.xml.bind:jaxb-impl and it appears to be working fine.  So what do I lose or gain by moving to jaxb-runtime?\r\n\r\nEven the latest (3.0.2 at the time I write this) version is available for the &quot;OLD&quot; jaxb-impl module.  If Oracle isn&#39;t doing this anymore, who makes the com.sun.xml.bind:jaxb-impl artifact? What is it for? Why doesn&#39;t it share the Maven group coordinates with jaxb-runtime?\r\n\r\nIs there any central location that clearly documents what the current state of affairs is with JAXB?\r\n\r\nThere is just so much confusion with JAXB now.\r\n\r\nP.S. I need to remain compatible with Java 8 for the time being - so I can&#39;t go to 3.x yet, and 2.4.x appears to be an abandoned attempt at fixing the modularity that they foolishly broke when it was split out of the JDK.\r\n","title":"What is the difference between jaxb-impl and jaxb-runtime?","body":"<p>Clearly the com.sun.xml.bind:jaxb-impl artifact is labelled &quot;<strong>Old</strong> JAXB Runtime module&quot; in the maven repository (see link below), and yet both of these artifacts are still getting new releases:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime</a>\n<a href=\"https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl\" rel=\"noreferrer\">https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl</a></p>\n<p>This answer <a href=\"https://stackoverflow.com/questions/26413431/which-artifacts-should-i-use-for-jaxb-ri-in-my-maven-project/26413432#26413432\">Which artifacts should I use for JAXB RI in my Maven project?</a>\ndoes not clarify the difference.</p>\n<p>The accepted answer to both the above question and this one <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</a> conclude that for Java 9+ you should use:  org.glassfish.jaxb:jaxb-runtime</p>\n<p>But I have code using com.sun.xml.bind:jaxb-impl and it appears to be working fine.  So what do I lose or gain by moving to jaxb-runtime?</p>\n<p>Even the latest (3.0.2 at the time I write this) version is available for the &quot;OLD&quot; jaxb-impl module.  If Oracle isn't doing this anymore, who makes the com.sun.xml.bind:jaxb-impl artifact? What is it for? Why doesn't it share the Maven group coordinates with jaxb-runtime?</p>\n<p>Is there any central location that clearly documents what the current state of affairs is with JAXB?</p>\n<p>There is just so much confusion with JAXB now.</p>\n<p>P.S. I need to remain compatible with Java 8 for the time being - so I can't go to 3.x yet, and 2.4.x appears to be an abandoned attempt at fixing the modularity that they foolishly broke when it was split out of the JDK.</p>\n"},{"tags":["java","azure","eclipse","servlets","azure-web-app-service"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675351541,"post_id":75324013,"comment_id":132914400,"body_markdown":"Check the Tomcat logs for stack traces and the reason for the 500 error. Share them in the question.","body":"Check the Tomcat logs for stack traces and the reason for the 500 error. Share them in the question."},{"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"score":0,"creation_date":1675393300,"post_id":75324013,"comment_id":132924334,"body_markdown":"@nitind By tomcat logs do you mean in azure or in eclipse?","body":"@nitind By tomcat logs do you mean in azure or in eclipse?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675397314,"post_id":75324013,"comment_id":132924822,"body_markdown":"The place where you&#39;re getting the 500 error--Azure.","body":"The place where you&#39;re getting the 500 error--Azure."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1675943457,"post_id":75324013,"comment_id":133038454,"body_markdown":"You absolutely need to copy and paste the stack trace into the question as plain text instead of as screenshots. This way your question is Googleable for others facing the same problem.","body":"You absolutely need to copy and paste the stack trace into the question as plain text instead of as screenshots. This way your question is Googleable for others facing the same problem."}],"answers":[{"tags":[],"owner":{"account_id":26887289,"reputation":1376,"user_id":20466646,"display_name":"Rajesh  Mopati"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675924963,"creation_date":1675924963,"answer_id":75395080,"question_id":75324013,"body_markdown":"The below are the things need to check to resolve the issue of servlet pages not being deployed to Azure.\r\n\r\n1. Verify the required dependencies for your servlet pages are included in your pom.xml file.\r\n2. Check the Azure logs for any error messages related to the deployment of your servlet pages. \r\n3. Ensure that the database configuration in your application is correct and matches the configuration of your database in Azure.\r\n4. Try redeploying your application after making any necessary changes to your database configuration.\r\n5. Make sure that the Apache Tomcat server version you are using is compatible with Azure.\r\n6. Ensure that the port on which your Apache Tomcat server is running is open in the firewall settings in Azure.\r\n\r\n**Steps to deploy java application using maven eclipse to Azure:**\r\n\r\nCreating a Java project in Eclipse, go to File &gt; New &gt; Java Project, enter a name for your project, and click Finish.\r\nIf Maven is not already configured in your Eclipse installation, and you need to install the Maven plugin. Go to Help &gt; Eclipse Marketplace, search for &quot;Maven&quot;, and select the Maven Integration for Eclipse plugin. \r\n\r\nClick the Install button, accept the license agreement, and restart Eclipse when prompted.\r\nCreate a pom.xml file and Right-click on your Java project, go to New &gt; Other, select Maven &gt; Maven Project, and click Next. Select the project and enter your project information, such as groupId, artifactId, and version, and click Finish.\r\n\r\n**Create a deployment package.** \r\n\r\nIn the pom.xml file, add the following build plugin to create a deployment package:\r\n```XML\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nBuild the deployment package by choosing Java project, go to Run As &gt; Maven build, enter &quot;package&quot; in the Goals field, and click Run. \r\nA jar file will be created in the target directory of your project.\r\n\r\nCreate an Azure App Service \r\n\r\nDeploy the Java application to Azure In the Azure portal, go to the Deployment Center of your Azure App Service, select FTP, and click Continue. Download the publish profile, and then use an FTP client, such as FileZilla, to upload the jar file to the site/wwwroot/webapps directory.\r\n\r\nVerify the deployment In the Azure portal, go to the URL of your Azure App Service, and verify that your Java application.\r\n\r\n![enter image description here](https://i.stack.imgur.com/8T6NM.png)\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/queHH.png)\r\n\r\n\r\nReference taken from\r\n[Java app on Azure App Service](https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-linux-development-environment-maven)\r\n\r\n[Deploy WebApps to Azure](https://azure.microsoft.com/en-in/blog/maven-deploy-java-web-apps-to-azure/)\r\n\r\n","title":"When deploying java application using maven eclipse to Azure, servlet pages do not get deployed","body":"<p>The below are the things need to check to resolve the issue of servlet pages not being deployed to Azure.</p>\n<ol>\n<li>Verify the required dependencies for your servlet pages are included in your pom.xml file.</li>\n<li>Check the Azure logs for any error messages related to the deployment of your servlet pages.</li>\n<li>Ensure that the database configuration in your application is correct and matches the configuration of your database in Azure.</li>\n<li>Try redeploying your application after making any necessary changes to your database configuration.</li>\n<li>Make sure that the Apache Tomcat server version you are using is compatible with Azure.</li>\n<li>Ensure that the port on which your Apache Tomcat server is running is open in the firewall settings in Azure.</li>\n</ol>\n<p><strong>Steps to deploy java application using maven eclipse to Azure:</strong></p>\n<p>Creating a Java project in Eclipse, go to File &gt; New &gt; Java Project, enter a name for your project, and click Finish.\nIf Maven is not already configured in your Eclipse installation, and you need to install the Maven plugin. Go to Help &gt; Eclipse Marketplace, search for &quot;Maven&quot;, and select the Maven Integration for Eclipse plugin.</p>\n<p>Click the Install button, accept the license agreement, and restart Eclipse when prompted.\nCreate a pom.xml file and Right-click on your Java project, go to New &gt; Other, select Maven &gt; Maven Project, and click Next. Select the project and enter your project information, such as groupId, artifactId, and version, and click Finish.</p>\n<p><strong>Create a deployment package.</strong></p>\n<p>In the pom.xml file, add the following build plugin to create a deployment package:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;jar&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Build the deployment package by choosing Java project, go to Run As &gt; Maven build, enter &quot;package&quot; in the Goals field, and click Run.\nA jar file will be created in the target directory of your project.</p>\n<p>Create an Azure App Service</p>\n<p>Deploy the Java application to Azure In the Azure portal, go to the Deployment Center of your Azure App Service, select FTP, and click Continue. Download the publish profile, and then use an FTP client, such as FileZilla, to upload the jar file to the site/wwwroot/webapps directory.</p>\n<p>Verify the deployment In the Azure portal, go to the URL of your Azure App Service, and verify that your Java application.</p>\n<p><img src=\"https://i.stack.imgur.com/8T6NM.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/queHH.png\" alt=\"enter image description here\" /></p>\n<p>Reference taken from\n<a href=\"https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-linux-development-environment-maven\" rel=\"nofollow noreferrer\">Java app on Azure App Service</a></p>\n<p><a href=\"https://azure.microsoft.com/en-in/blog/maven-deploy-java-web-apps-to-azure/\" rel=\"nofollow noreferrer\">Deploy WebApps to Azure</a></p>\n"}],"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675924963,"creation_date":1675345163,"question_id":75324013,"body_markdown":"This is my first time trying to deploy an application to azure using eclipse. I am using pHp myadmin local database. I have not configured my database in azure yet. I am not sure if its needed. I am using apache tom cat server. It runs fine on apache tomcat including the servlet pages. I get issues when I deploy the application on Azure.\r\n\r\nI tried to deploy my web application using the Azure toolkit plugin available in eclipse. \r\nThese are the exact steps I followed.\r\nhttps://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure \r\n\r\nConfiguration\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see below non servlet pages are visible upon deployment\r\n[![enter image description here][2]][2]\r\n\r\nBut the moment I go to a page with servlet they give me this error.\r\n[![enter image description here][3]][3]\r\n\r\nAny suggestions on how to fix this issue is greatly appreciated!\r\n\r\nEdit: I managed to access logs in Azure \r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ivqIL.png\r\n  [2]: https://i.stack.imgur.com/PsDXH.jpg\r\n  [3]: https://i.stack.imgur.com/HVNy9.png\r\n  [4]: https://i.stack.imgur.com/PWpet.png\r\n  [5]: https://i.stack.imgur.com/BnLLJ.png\r\n  [6]: https://i.stack.imgur.com/7OLZO.png\r\n  [7]: https://i.stack.imgur.com/Ijii8.png","title":"When deploying java application using maven eclipse to Azure, servlet pages do not get deployed","body":"<p>This is my first time trying to deploy an application to azure using eclipse. I am using pHp myadmin local database. I have not configured my database in azure yet. I am not sure if its needed. I am using apache tom cat server. It runs fine on apache tomcat including the servlet pages. I get issues when I deploy the application on Azure.</p>\n<p>I tried to deploy my web application using the Azure toolkit plugin available in eclipse.\nThese are the exact steps I followed.\n<a href=\"https://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure</a></p>\n<p>Configuration\n<a href=\"https://i.stack.imgur.com/ivqIL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivqIL.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see below non servlet pages are visible upon deployment\n<a href=\"https://i.stack.imgur.com/PsDXH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsDXH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the moment I go to a page with servlet they give me this error.\n<a href=\"https://i.stack.imgur.com/HVNy9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HVNy9.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions on how to fix this issue is greatly appreciated!</p>\n<p>Edit: I managed to access logs in Azure\n<a href=\"https://i.stack.imgur.com/PWpet.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWpet.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/BnLLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BnLLJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7OLZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7OLZO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Ijii8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ijii8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","gradle","build"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1675687374,"post_id":75361199,"comment_id":132976181,"body_markdown":"Is the project setup from spring initializr? If not, I&#39;d recommend starting from there, since everything is already set up.","body":"Is the project setup from spring initializr? If not, I&#39;d recommend starting from there, since everything is already set up."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675695782,"post_id":75361199,"comment_id":132978972,"body_markdown":"@0x150 Project was setup from spring initializr only. I tried another fresh project from spring initializr. Getting same error.","body":"@0x150 Project was setup from spring initializr only. I tried another fresh project from spring initializr. Getting same error."},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675713820,"post_id":75361199,"comment_id":132984486,"body_markdown":"Spring Boot 3 requires Java 17 as a minimum (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support). Are you trying to build with Java 11?","body":"Spring Boot 3 requires Java 17 as a minimum (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>). Are you trying to build with Java 11?"},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675744784,"post_id":75361199,"comment_id":132989838,"body_markdown":"@ScottFrederick yes","body":"@ScottFrederick yes"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675790372,"post_id":75361199,"comment_id":133003050,"body_markdown":"You can&#39;t use Java 11 to compile an app using Spring Boot 3. You&#39;ll have to use at least Java 17.","body":"You can&#39;t use Java 11 to compile an app using Spring Boot 3. You&#39;ll have to use at least Java 17."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675832512,"post_id":75361199,"comment_id":133011005,"body_markdown":"@ScottFrederick Ok, but error doesn&#39;t seems to be a compilation error, it looks like issue while resolving the dependency","body":"@ScottFrederick Ok, but error doesn&#39;t seems to be a compilation error, it looks like issue while resolving the dependency"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675879321,"post_id":75361199,"comment_id":133024811,"body_markdown":"It&#39;s hard to tell exactly what&#39;s going on in your case with the limited build output above and without seeing the entire project, but Gradle will not be able to resolve the plugin unless Java 17 or later used for the build. See https://github.com/spring-projects/spring-boot/issues/33365 for some details and example output.","body":"It&#39;s hard to tell exactly what&#39;s going on in your case with the limited build output above and without seeing the entire project, but Gradle will not be able to resolve the plugin unless Java 17 or later used for the build. See <a href=\"https://github.com/spring-projects/spring-boot/issues/33365\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/33365</a> for some details and example output."}],"answers":[{"tags":[],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675924638,"creation_date":1675924638,"answer_id":75395032,"question_id":75361199,"body_markdown":"Not Sure why error message was not that clear. It was related to certificate issue. I added  some organization specific certificate in java cacerts keystore and it resolved the gradle issue with plugin download.\r\n\r\nThanks to All who tried to help.","title":"Issue while setting up the spring boot with gradle","body":"<p>Not Sure why error message was not that clear. It was related to certificate issue. I added  some organization specific certificate in java cacerts keystore and it resolved the gradle issue with plugin download.</p>\n<p>Thanks to All who tried to help.</p>\n"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75395032,"answer_count":1,"score":0,"last_activity_date":1675924638,"creation_date":1675685732,"question_id":75361199,"body_markdown":"I am trying to setting up a Spring boot gradle project in intelliJ. If I am trying with reload button on the gradle pane, it&#39;s giving me error for setting.gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut setting.gradle file is already there is the root directory.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen I tried `./gradlew clean build` on terminal getting the below error:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.0&#39;\r\n    }\r\n    \r\n    group &#39;com&#39;\r\n    version &#39;1.0&#39;\r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n    }\r\n\r\n\r\nI tried but couldn&#39;t figure out what I am missing. Please suggest.\r\n\r\n**Update:** I tried to delete gradle installation from the system and executed one another application which was working fine earlier but not even after downloading the gradle version, getting the same error as mentioned above.\r\n\r\nI tried Maven project with spring initializr and it successfully build so It seems to be an issue regarding gradle setup on my machine but not sure what to check.**\r\n\r\nRegards\r\n\r\n  [1]: https://i.stack.imgur.com/vZBFm.png\r\n  [2]: https://i.stack.imgur.com/gY7Ji.png\r\n  [3]: https://i.stack.imgur.com/j3ksN.png","title":"Issue while setting up the spring boot with gradle","body":"<p>I am trying to setting up a Spring boot gradle project in intelliJ. If I am trying with reload button on the gradle pane, it's giving me error for setting.gradle</p>\n<p><a href=\"https://i.stack.imgur.com/vZBFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZBFm.png\" alt=\"enter image description here\" /></a></p>\n<p>but setting.gradle file is already there is the root directory.</p>\n<p><a href=\"https://i.stack.imgur.com/gY7Ji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gY7Ji.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tried <code>./gradlew clean build</code> on terminal getting the below error:</p>\n<p><a href=\"https://i.stack.imgur.com/j3ksN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j3ksN.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.0'\n}\n\ngroup 'com'\nversion '1.0'\n\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njava {\n    sourceCompatibility = JavaVersion.toVersion('11')\n    targetCompatibility = JavaVersion.toVersion('11')\n}\n</code></pre>\n<p>I tried but couldn't figure out what I am missing. Please suggest.</p>\n<p><strong>Update:</strong> I tried to delete gradle installation from the system and executed one another application which was working fine earlier but not even after downloading the gradle version, getting the same error as mentioned above.</p>\n<p>I tried Maven project with spring initializr and it successfully build so It seems to be an issue regarding gradle setup on my machine but not sure what to check.**</p>\n<p>Regards</p>\n"},{"tags":["java","android-studio","encoding","utf-8","syntax-error"],"comments":[{"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"score":0,"creation_date":1491028657,"post_id":39932158,"comment_id":73383663,"body_markdown":"@WaqrVicky have you solved it?","body":"@WaqrVicky have you solved it?"},{"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"score":0,"creation_date":1491033275,"post_id":39932158,"comment_id":73384745,"body_markdown":"No, i was create new project.","body":"No, i was create new project."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1475929177,"creation_date":1475929177,"answer_id":39932273,"question_id":39932158,"body_markdown":"That&#39;s not an encoding issue. That&#39;s compiled bytecode, the content of a .class file. You cannot simply rename it into .java and expect it to work.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>That's not an encoding issue. That's compiled bytecode, the content of a .class file. You cannot simply rename it into .java and expect it to work.</p>\n"},{"comments":[{"owner":{"account_id":5975681,"reputation":1582,"user_id":4696610,"display_name":"Ravi Vaniya"},"score":2,"creation_date":1561619722,"post_id":52847920,"comment_id":100125711,"body_markdown":"Thanks a lot, UpVoted for saving my day, and for those who are facing this problem, :-  before doing anything, just take a backup then do whatever you want to do and **Don&#39;t forget to try @MShabanAli&#39;s solution**","body":"Thanks a lot, UpVoted for saving my day, and for those who are facing this problem, :-  before doing anything, just take a backup then do whatever you want to do and <b>Don&#39;t forget to try @MShabanAli&#39;s solution</b>"},{"owner":{"account_id":9558125,"reputation":357,"user_id":7099939,"display_name":"M Shaban Ali"},"score":0,"creation_date":1588458388,"post_id":52847920,"comment_id":108905569,"body_markdown":"Happy to help :)","body":"Happy to help :)"},{"owner":{"account_id":5704484,"reputation":549,"user_id":4508504,"display_name":"Abdul Wahid"},"score":0,"creation_date":1601993140,"post_id":52847920,"comment_id":113574518,"body_markdown":"if you don&#39;t have backup ----&gt; you can also cut the code which gives error and than paste it again to the same location that also solved my problem.","body":"if you don&#39;t have backup ----&gt; you can also cut the code which gives error and than paste it again to the same location that also solved my problem."}],"tags":[],"owner":{"account_id":9558125,"reputation":357,"user_id":7099939,"display_name":"M Shaban Ali"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1539754816,"creation_date":1539754816,"answer_id":52847920,"question_id":39932158,"body_markdown":"**For people in future:**\r\n\r\nI had the same problem.\r\n\r\nI was able to solve it simply by making a copy of the project and opened the copied project.\r\nCopied project worked perfectly fine.\r\n\r\n**Note:** I got this problem because of improper shutdown of my PC.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p><strong>For people in future:</strong></p>\n\n<p>I had the same problem.</p>\n\n<p>I was able to solve it simply by making a copy of the project and opened the copied project.\nCopied project worked perfectly fine.</p>\n\n<p><strong>Note:</strong> I got this problem because of improper shutdown of my PC.</p>\n"},{"tags":[],"owner":{"account_id":2181279,"reputation":95,"user_id":1930720,"accept_rate":33,"display_name":"user1930720"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545416261,"creation_date":1545416261,"answer_id":53889226,"question_id":39932158,"body_markdown":"This is an old issue, but if anyone comes across this, what isn&#39;t mentioned above, but happening for me is that the original file on disk is intact java code. Android Studio is reading it like this for some reason.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This is an old issue, but if anyone comes across this, what isn't mentioned above, but happening for me is that the original file on disk is intact java code. Android Studio is reading it like this for some reason.</p>\n"},{"tags":[],"owner":{"account_id":5368601,"reputation":840,"user_id":4277741,"accept_rate":65,"display_name":"ulmaxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568202299,"creation_date":1568202299,"answer_id":57888435,"question_id":39932158,"body_markdown":"In my case it happend after Windows died with the blue screen, here&#39;s how I fixed it:\r\n\r\n1. Close Android Studio\r\n2. Find a directory named .AndroidStudioX.X in C:Users/YourUsername and rename it to old.AndroidStudioX.X\r\n3. Restart Android Studio and choose the renamed old.AndroidStudioX.X to import settings from.\r\n\r\nMy answer is taken from here https://stackoverflow.com/a/53476487/4277741","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>In my case it happend after Windows died with the blue screen, here's how I fixed it:</p>\n\n<ol>\n<li>Close Android Studio</li>\n<li>Find a directory named .AndroidStudioX.X in C:Users/YourUsername and rename it to old.AndroidStudioX.X</li>\n<li>Restart Android Studio and choose the renamed old.AndroidStudioX.X to import settings from.</li>\n</ol>\n\n<p>My answer is taken from here <a href=\"https://stackoverflow.com/a/53476487/4277741\">https://stackoverflow.com/a/53476487/4277741</a></p>\n"},{"comments":[{"owner":{"account_id":3718356,"reputation":6301,"user_id":3093939,"accept_rate":55,"display_name":"Gal Rom"},"score":1,"creation_date":1582118487,"post_id":58935137,"comment_id":106666171,"body_markdown":"Works. Thanks.  in my case the folder name is &#39;caches&#39; and not &#39;cache&#39;","body":"Works. Thanks.  in my case the folder name is &#39;caches&#39; and not &#39;cache&#39;"},{"owner":{"account_id":3057972,"reputation":1371,"user_id":2591229,"display_name":"droidd"},"score":2,"creation_date":1583733248,"post_id":58935137,"comment_id":107202407,"body_markdown":"Just updating my path for other users so that they can quickly go to caches directory. C:\\Users\\&lt;user_name&gt;\\.AndroidStudio3.6\\system\\ . Worked for me as well. :-)","body":"Just updating my path for other users so that they can quickly go to caches directory. C:\\Users\\&lt;user_name&gt;\\.AndroidStudio3.6\\system\\ . Worked for me as well. :-)"},{"owner":{"account_id":1005651,"reputation":720,"user_id":1019498,"accept_rate":22,"display_name":"Manju"},"score":1,"creation_date":1594781901,"post_id":58935137,"comment_id":111243835,"body_markdown":"Works for me Before deleting, closed IDE.  deleted all files in C:/userfolder/.AndroidStudioVersion/system/caches Thanks.","body":"Works for me Before deleting, closed IDE.  deleted all files in C:/userfolder/.AndroidStudioVersion/system/caches Thanks."},{"owner":{"account_id":3459859,"reputation":287,"user_id":4373371,"display_name":"YoussefDir"},"score":0,"creation_date":1601745301,"post_id":58935137,"comment_id":113503645,"body_markdown":"I want to emphasize that it worked by deleting only the files inside caches. I left the folders inside intact.","body":"I want to emphasize that it worked by deleting only the files inside caches. I left the folders inside intact."},{"owner":{"account_id":7171313,"reputation":1699,"user_id":5478666,"accept_rate":17,"display_name":"KSR"},"score":1,"creation_date":1611300306,"post_id":58935137,"comment_id":116411408,"body_markdown":"Worked perfectly. Thanks @Akshay Chouhan","body":"Worked perfectly. Thanks @Akshay Chouhan"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1640781366,"post_id":58935137,"comment_id":124656622,"body_markdown":"On Windows this path is now C:\\Users\\[username]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches (see also @Francis&#39; answer). Thanks Akshay, this worked for me!","body":"On Windows this path is now C:\\Users&#91;username]\\AppData\\Local\\Google\\AndroidStudio[XX&zwnj;&#8203;XX.X]\\caches (see also @Francis&#39; answer). Thanks Akshay, this worked for me!"}],"tags":[],"owner":{"account_id":17044833,"reputation":335,"user_id":12331920,"display_name":"Akshay Chouhan"},"comment_count":6,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1601611918,"creation_date":1574169832,"answer_id":58935137,"question_id":39932158,"body_markdown":"\t\r\nAn encoding issue can be solved by deleting all files contained in the Android Studio &quot;caches&quot; folder, which can be found in &quot;C:\\Users\\&lt;username&gt;\\.AndroidStudioX.Y\\system\\caches&quot;.\r\n\r\nMake sure that to close Android Studio before deleting.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>An encoding issue can be solved by deleting all files contained in the Android Studio &quot;caches&quot; folder, which can be found in &quot;C:\\Users&lt;username&gt;.AndroidStudioX.Y\\system\\caches&quot;.</p>\n<p>Make sure that to close Android Studio before deleting.</p>\n"},{"tags":[],"owner":{"account_id":7662916,"reputation":1,"user_id":5807608,"display_name":"Mohammed Hussein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579964578,"creation_date":1579953390,"answer_id":59908973,"question_id":39932158,"body_markdown":"I had the same problem and how I fixed it is that I just went to the directory where the java files for my project are located, which in my case is `users/user name/AndroidStudioProjects/Project name/app/src/main/java/com/example/android/project name`, and here you will find all java codes you wrote for your project just open the one making the problem with notepad and you will find your code here in the right format and perfect just copy all of it and get back to Android Studio window and delete the wrong formatted code and paste this one and wait for it to sync and that&#39;s it. If you face the same issue with XML codes just do the same thing find the directory where XML files are located.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>I had the same problem and how I fixed it is that I just went to the directory where the java files for my project are located, which in my case is <code>users/user name/AndroidStudioProjects/Project name/app/src/main/java/com/example/android/project name</code>, and here you will find all java codes you wrote for your project just open the one making the problem with notepad and you will find your code here in the right format and perfect just copy all of it and get back to Android Studio window and delete the wrong formatted code and paste this one and wait for it to sync and that's it. If you face the same issue with XML codes just do the same thing find the directory where XML files are located.</p>\n"},{"tags":[],"owner":{"account_id":16013759,"reputation":362,"user_id":11557093,"display_name":"Harsh0021"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587048650,"creation_date":1587048650,"answer_id":61253252,"question_id":39932158,"body_markdown":"you have to just delete the catches folder in C:/users/&quot;your PC name&quot;/AndroidStudio(version code).\r\nSometimes it gets disturbed because of some reasons like you have shut down the PC in improper way so it won&#39;t get enough time to shutDown all stuff So all that errors occurs.\r\n\r\nI think it would definitely work for you.\r\nHave a nice day!!!!\r\n:)","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>you have to just delete the catches folder in C:/users/\"your PC name\"/AndroidStudio(version code).\nSometimes it gets disturbed because of some reasons like you have shut down the PC in improper way so it won't get enough time to shutDown all stuff So all that errors occurs.</p>\n\n<p>I think it would definitely work for you.\nHave a nice day!!!!\n:)</p>\n"},{"tags":[],"owner":{"account_id":13699691,"reputation":232,"user_id":9885272,"display_name":"Ashwini Salunkhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587709287,"creation_date":1587709287,"answer_id":61402357,"question_id":39932158,"body_markdown":"This worked for me,  I clicked on **utf-8** and code is displayed in proper format.\r\n","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This worked for me,  I clicked on <strong>utf-8</strong> and code is displayed in proper format.</p>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1601913705,"post_id":61488150,"comment_id":113547314,"body_markdown":"Copying the project to another directory was what worked for me (Mac)","body":"Copying the project to another directory was what worked for me (Mac)"}],"tags":[],"owner":{"account_id":4449559,"reputation":2273,"user_id":3621912,"display_name":"Benny"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596042939,"creation_date":1588101250,"answer_id":61488150,"question_id":39932158,"body_markdown":"All you need is to remove the Android Studio settings directory, which can be found: \r\n\r\non Windows\r\n\r\n    C:/Users/yourusername/.AndroidStudioX.Y\r\n\r\non Linux:\r\n    \r\n    /home/yourusername/.AndroidStudioX.Y\r\n\r\nClose Android Studio, delete the directory, then reopen Android-Studio and open your project.\r\n\r\nAlso if it happens on a different IDE, it is the same approach.\r\n\r\nIf the issue persists, try to copy the content of your project directory into a new directory, then open the project from the new directory.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>All you need is to remove the Android Studio settings directory, which can be found:</p>\n<p>on Windows</p>\n<pre><code>C:/Users/yourusername/.AndroidStudioX.Y\n</code></pre>\n<p>on Linux:</p>\n<pre><code>/home/yourusername/.AndroidStudioX.Y\n</code></pre>\n<p>Close Android Studio, delete the directory, then reopen Android-Studio and open your project.</p>\n<p>Also if it happens on a different IDE, it is the same approach.</p>\n<p>If the issue persists, try to copy the content of your project directory into a new directory, then open the project from the new directory.</p>\n"},{"tags":[],"owner":{"account_id":11030076,"reputation":699,"user_id":13168899,"display_name":"Mussa Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618427569,"creation_date":1618427569,"answer_id":67097789,"question_id":39932158,"body_markdown":"This is an old one but I just click `Invalidate Cache / Restart` on file option in IDE and after restart, it works. \r\n\r\nVersion `Android Studio v4.1`","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This is an old one but I just click <code>Invalidate Cache / Restart</code> on file option in IDE and after restart, it works.</p>\n<p>Version <code>Android Studio v4.1</code></p>\n"},{"tags":[],"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626349494,"creation_date":1626349494,"answer_id":68393183,"question_id":39932158,"body_markdown":"I had to replace unknown characters(which I had in a comment) into known ones. The issue happened after resolving merge conflicts.\r\n\r\n[![unknown chars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XSyOu.png","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>I had to replace unknown characters(which I had in a comment) into known ones. The issue happened after resolving merge conflicts.</p>\n<p><a href=\"https://i.stack.imgur.com/XSyOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XSyOu.png\" alt=\"unknown chars\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5971918,"reputation":10303,"user_id":4694013,"accept_rate":79,"display_name":"Anoop M Maddasseri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629100688,"creation_date":1629100688,"answer_id":68799261,"question_id":39932158,"body_markdown":"Just rename the project folder and reopen it in Android Studio, worked like a charm!\r\n\r\nInvalidate Cache &amp; Restart / Clean &amp; Rebuild doesn&#39;t work for me. The project cache corrupted after improper s/m shutdown. Just change the project dir path renaming the project, it&#39;ll work.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>Just rename the project folder and reopen it in Android Studio, worked like a charm!</p>\n<p>Invalidate Cache &amp; Restart / Clean &amp; Rebuild doesn't work for me. The project cache corrupted after improper s/m shutdown. Just change the project dir path renaming the project, it'll work.</p>\n"},{"comments":[{"owner":{"account_id":3857042,"reputation":722,"user_id":3195699,"accept_rate":64,"display_name":"Nick Pampoukidis"},"score":1,"creation_date":1636641810,"post_id":69287647,"comment_id":123615984,"body_markdown":"This worked on windows 11.","body":"This worked on windows 11."}],"tags":[],"owner":{"account_id":5475193,"reputation":6876,"user_id":4353365,"display_name":"Francis"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1632326432,"creation_date":1632326432,"answer_id":69287647,"question_id":39932158,"body_markdown":"On Windows close Android Studio and delete its cache directory:\r\n\r\n    c:\\Users\\[user name]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>On Windows close Android Studio and delete its cache directory:</p>\n<pre><code>c:\\Users\\[user name]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches\n</code></pre>\n"}],"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35507,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"answer_count":13,"score":24,"last_activity_date":1675924063,"creation_date":1475928482,"question_id":39932158,"body_markdown":"my android studio gone crazy like this please help??\r\n\r\nfile was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio\r\n\r\n![file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio][1]\r\n\r\n\r\n   [1]: http://i.stack.imgur.com/AnTYf.png","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>my android studio gone crazy like this please help??</p>\n\n<p>file was loaded in the wrong encoding: 'UTF-8' in android studio</p>\n\n<p><img src=\"https://i.stack.imgur.com/AnTYf.png\" alt=\"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio\"></p>\n"},{"tags":["java","date","datetime","calendar"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1349008010,"post_id":12661203,"comment_id":17081890,"body_markdown":"Since weeks are regular I don&#39;t think there is any problem with february or leap years: if today is monday the last monday was seven days ago.","body":"Since weeks are regular I don&#39;t think there is any problem with february or leap years: if today is monday the last monday was seven days ago."},{"owner":{"account_id":220462,"reputation":177861,"user_id":477878,"display_name":"Joachim Isaksson"},"score":1,"creation_date":1349008674,"post_id":12661203,"comment_id":17082027,"body_markdown":"If you ran it yesterday, what result would you expect? What if you ran it today? Yesterday it&#39;d give 2012-09-17 as monday, today 2012-09-24.","body":"If you ran it yesterday, what result would you expect? What if you ran it today? Yesterday it&#39;d give 2012-09-17 as monday, today 2012-09-24."},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349009945,"post_id":12661203,"comment_id":17082255,"body_markdown":"I want it to return the date for Mon and Fri last week. So if i run it yesterday (or even today) it should give me 17th and 21st for both runs. \n\nIf i run it tomorrow which is a new week it should give me 24th and 29th.","body":"I want it to return the date for Mon and Fri last week. So if i run it yesterday (or even today) it should give me 17th and 21st for both runs.   If i run it tomorrow which is a new week it should give me 24th and 29th."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1474313979,"post_id":12661203,"comment_id":66471691,"body_markdown":"How do you define “last week”? Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?","body":"How do you define “last week”? Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?"}],"answers":[{"comments":[{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349010046,"post_id":12661240,"comment_id":17082275,"body_markdown":"I dont quite understand what you mean. Retreiving two specific dates (Monday and Friday) is what i am trying to do. Do you mean that i should get the range for Monday to Saturday then get the dates for Monday and Friday from that week?","body":"I dont quite understand what you mean. Retreiving two specific dates (Monday and Friday) is what i am trying to do. Do you mean that i should get the range for Monday to Saturday then get the dates for Monday and Friday from that week?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1349013867,"post_id":12661240,"comment_id":17082909,"body_markdown":"Ziggy, I see that you set the time to 23:59:59 for the Friday date. This is a strong indication to me that your intention is to range-check some dates against this as an upper bound. My suggestion is to use Saturday midnight instead as the exclusive upper bound.","body":"Ziggy, I see that you set the time to 23:59:59 for the Friday date. This is a strong indication to me that your intention is to range-check some dates against this as an upper bound. My suggestion is to use Saturday midnight instead as the exclusive upper bound."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1349013975,"post_id":12661240,"comment_id":17082939,"body_markdown":"@gekkostate As requested, I suggested a better approach. Why do you think that doesn&#39;t qualify as an answer? Does the word count alone bother you?","body":"@gekkostate As requested, I suggested a better approach. Why do you think that doesn&#39;t qualify as an answer? Does the word count alone bother you?"},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349014599,"post_id":12661240,"comment_id":17083077,"body_markdown":"Hi Marko, i need to run a query in a database to retrieve data for a report. The data i want to include in the report is only from Monday morning to Friday evening. I don&#39;t want to include data for Saturday.","body":"Hi Marko, i need to run a query in a database to retrieve data for a report. The data i want to include in the report is only from Monday morning to Friday evening. I don&#39;t want to include data for Saturday."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1349015407,"post_id":12661240,"comment_id":17083225,"body_markdown":"Ziggy that&#39;s exactly my point. Using Saturday midnight as the exclusive upper bound is the correct way to achieve your goal.","body":"Ziggy that&#39;s exactly my point. Using Saturday midnight as the exclusive upper bound is the correct way to achieve your goal."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349008037,"creation_date":1349008037,"answer_id":12661240,"question_id":12661203,"body_markdown":"The only thing I see wrong is that you are in fact testing the **range** Mo-Fr, and not, as stated, retrieving two specific days. It would be safer to test range Mo-Sa with exclusive upper bound.","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>The only thing I see wrong is that you are in fact testing the <strong>range</strong> Mo-Fr, and not, as stated, retrieving two specific days. It would be safer to test range Mo-Sa with exclusive upper bound.</p>\n"},{"tags":[],"owner":{"account_id":1348049,"reputation":5104,"user_id":1288408,"display_name":"Modus Tollens"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1479464893,"creation_date":1349009096,"answer_id":12661333,"question_id":12661203,"body_markdown":"**Note:** For Java 8 and above please take a look at [Basil Bourque](https://stackoverflow.com/users/642706/basil-bourque)&#39;s answer ([link](https://stackoverflow.com/a/39580958/1288408)).&lt;br&gt;\r\nJava 8 introduced a new time/date API which offers most of Joda-Time&#39;s functionality. \r\n\r\n---\r\n\r\n[Joda-Time][1] offers really nice methods for problems like that.\r\n\r\nGetting the dates for Monday and Friday last week would look something like this using Joda Time:\r\n\r\n    DateTime today = DateTime.now();\r\n    DateTime sameDayLastWeek = today.minusWeeks(1);\r\n    DateTime mondayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.MONDAY);\r\n    DateTime fridayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.FRIDAY);\r\n\r\n\r\nYou can create `DateTime` objects from `java.util.Date` objects and vice versa so it is easy to use with Java dates.\r\n\r\n---\r\n\r\nUsing the above code with the date\r\n\r\n    DateTime today = new DateTime(&quot;2012-09-30&quot;);\r\n\r\nresults in &quot;2012-09-17&quot; for Monday and &quot;2012-09-21&quot; for Friday, setting the date to\r\n\r\n    DateTime tomorrow = new DateTime(&quot;2012-10-01&quot;);\r\n\r\nresults in &quot;2012-09-24&quot; for Monday and &quot;2012-09-28&quot; for Friday.\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p><strong>Note:</strong> For Java 8 and above please take a look at <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a>'s answer (<a href=\"https://stackoverflow.com/a/39580958/1288408\">link</a>).<br>\nJava 8 introduced a new time/date API which offers most of Joda-Time's functionality. </p>\n\n<hr>\n\n<p><a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> offers really nice methods for problems like that.</p>\n\n<p>Getting the dates for Monday and Friday last week would look something like this using Joda Time:</p>\n\n<pre><code>DateTime today = DateTime.now();\nDateTime sameDayLastWeek = today.minusWeeks(1);\nDateTime mondayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.MONDAY);\nDateTime fridayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.FRIDAY);\n</code></pre>\n\n<p>You can create <code>DateTime</code> objects from <code>java.util.Date</code> objects and vice versa so it is easy to use with Java dates.</p>\n\n<hr>\n\n<p>Using the above code with the date</p>\n\n<pre><code>DateTime today = new DateTime(\"2012-09-30\");\n</code></pre>\n\n<p>results in \"2012-09-17\" for Monday and \"2012-09-21\" for Friday, setting the date to</p>\n\n<pre><code>DateTime tomorrow = new DateTime(\"2012-10-01\");\n</code></pre>\n\n<p>results in \"2012-09-24\" for Monday and \"2012-09-28\" for Friday.</p>\n"},{"comments":[{"owner":{"account_id":12312619,"reputation":290,"user_id":8983671,"display_name":"Lukas Mohs"},"score":0,"creation_date":1588585704,"post_id":12661517,"comment_id":108944524,"body_markdown":"I would shortly add that if the current day of the week is Monday, you would still go to the previous Monday in case one is wondering about this edge case.","body":"I would shortly add that if the current day of the week is Monday, you would still go to the previous Monday in case one is wondering about this edge case."}],"tags":[],"owner":{"account_id":220462,"reputation":177861,"user_id":477878,"display_name":"Joachim Isaksson"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1349010995,"creation_date":1349010995,"answer_id":12661517,"question_id":12661203,"body_markdown":"You still have start of week set to sunday, which means that `Calendar.MONDAY` on a saturday is the monday before, while `Calendar.MONDAY` on a sunday is the next day.\r\n\r\nWhat you need to do is (according to how you want it according to your comment above), to set the start of week to monday.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setFirstDayOfWeek(Calendar.MONDAY);\r\n\r\n    cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n    cal.add(Calendar.DAY_OF_WEEK, -7); \r\n    ...\r\n\r\nBeyond that, and that the last second of friday isn&#39;t included in the range, your logic seems sound, and shouldn&#39;t have trouble with leap years/DST shifts etc.\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>You still have start of week set to sunday, which means that <code>Calendar.MONDAY</code> on a saturday is the monday before, while <code>Calendar.MONDAY</code> on a sunday is the next day.</p>\n\n<p>What you need to do is (according to how you want it according to your comment above), to set the start of week to monday.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setFirstDayOfWeek(Calendar.MONDAY);\n\ncal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\ncal.add(Calendar.DAY_OF_WEEK, -7); \n...\n</code></pre>\n\n<p>Beyond that, and that the last second of friday isn't included in the range, your logic seems sound, and shouldn't have trouble with leap years/DST shifts etc.</p>\n"},{"comments":[{"owner":{"account_id":1970873,"reputation":927,"user_id":1769859,"accept_rate":50,"display_name":"derek.z"},"score":1,"creation_date":1521241747,"post_id":39580958,"comment_id":85663399,"body_markdown":"the &#39;previousMonday&#39; value might be this week&#39;s Monday","body":"the &#39;previousMonday&#39; value might be this week&#39;s Monday"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1521243203,"post_id":39580958,"comment_id":85663785,"body_markdown":"@qianlei No, not this week’s Monday. The Question explicitly asked for “the date for Monday last week”. But if one were wanting to use the initial date if it already is on the desired day-of-week, use an alternate `TemporalAdjuster` implementation: [`TemporalAdjusters.previousOrSame( DayOfWeek )`](https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-) or  `TemporalAdjusters.nextOrSame( DayOfWeek )`.","body":"@qianlei No, not this week’s Monday. The Question explicitly asked for “the date for Monday last week”. But if one were wanting to use the initial date if it already is on the desired day-of-week, use an alternate <code>TemporalAdjuster</code> implementation: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\" rel=\"nofollow noreferrer\"><code>TemporalAdjusters.previousOrSame( DayOfWeek )</code></a> or  <code>TemporalAdjusters.nextOrSame( DayOfWeek )</code>."},{"owner":{"account_id":38158,"reputation":1565,"user_id":109354,"display_name":"Sourabh"},"score":0,"creation_date":1658383909,"post_id":39580958,"comment_id":129038796,"body_markdown":"jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;))\n$3 ==&gt; 2022-07-21\n\njshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfWeek()\n$4 ==&gt; THURSDAY\n\njshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\n$5 ==&gt; 2022-07-18\n\njshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY))\n$8 ==&gt; 2022-07-18","body":"jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)) $3 ==&gt; 2022-07-21  jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfWeek() $4 ==&gt; THURSDAY  jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjust&zwnj;&#8203;ers.previous(DayOfWe&zwnj;&#8203;ek.MONDAY)); $5 ==&gt; 2022-07-18  jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjust&zwnj;&#8203;ers.previousOrSame(D&zwnj;&#8203;ayOfWeek.MONDAY)) $8 ==&gt; 2022-07-18"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1587840969,"creation_date":1474314455,"answer_id":39580958,"question_id":12661203,"body_markdown":"# tl;dr\r\n\r\n&gt;get the dates for Monday and Friday last week\r\n\r\n\r\n    LocalDate                                           // Represent a date only, without a time-of-day, and without a time zone or offset.\r\n    .now                                                // Capture the current date as seen through the wall-clock time used by the people of a certain region (a time zone). \r\n    ( \r\n        ZoneId.of( &quot;America/Montreal&quot; ) \r\n    )                                                   // Returns a `LocalDate` object.\r\n    .with                                               // Move to another date.\r\n    ( \r\n        TemporalAdjusters.previous( DayOfWeek.MONDAY )  // Returns an implementation of the `TemporalAdjuster` interface.\r\n    )                                                   // Returns another `LocalDate` object, separate and distinct from our original `LocalDate` object. Per the immutable objects design pattern. \r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe other Answers use the troublesome old legacy date-time classes now supplanted by the java.time questions.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( “America/Montreal” );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n# `TemporalAdjuster`\r\n\r\nThe [`TemporalAdjuster`][1] interface provides for adjustments to move from one date-time value to another. Find handy implementations in the [`TemporalAdjusters`][2] class (note the plural &#39;s&#39;). The `previous` adjuster finds any specified object from the [`DayOfWeek`][3] enum.\r\n\r\nThe Question does not exactly define “last week”. Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?\r\n\r\nI will assume the prior seven days were intended.\r\n\r\n    LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\r\n    LocalDate previousFriday = today.with( TemporalAdjusters.previous( DayOfWeek.FRIDAY ) ) ;\r\n\r\n\r\nBy the way, if you want to consider the initial date if it happens to already be the desired day-of-week, use alternate `TemporalAdjuster` implementations: [`previousOrSame`][4] or [`nextOrSame`][5].\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#nextOrSame-java.time.DayOfWeek-","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<h1>tl;dr</h1>\n\n<blockquote>\n  <p>get the dates for Monday and Friday last week</p>\n</blockquote>\n\n<pre><code>LocalDate                                           // Represent a date only, without a time-of-day, and without a time zone or offset.\n.now                                                // Capture the current date as seen through the wall-clock time used by the people of a certain region (a time zone). \n( \n    ZoneId.of( \"America/Montreal\" ) \n)                                                   // Returns a `LocalDate` object.\n.with                                               // Move to another date.\n( \n    TemporalAdjusters.previous( DayOfWeek.MONDAY )  // Returns an implementation of the `TemporalAdjuster` interface.\n)                                                   // Returns another `LocalDate` object, separate and distinct from our original `LocalDate` object. Per the immutable objects design pattern. \n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>The other Answers use the troublesome old legacy date-time classes now supplanted by the java.time questions.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( “America/Montreal” );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n\n<h1><code>TemporalAdjuster</code></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\" rel=\"noreferrer\"><code>TemporalAdjuster</code></a> interface provides for adjustments to move from one date-time value to another. Find handy implementations in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\"><code>TemporalAdjusters</code></a> class (note the plural 's'). The <code>previous</code> adjuster finds any specified object from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> enum.</p>\n\n<p>The Question does not exactly define “last week”. Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?</p>\n\n<p>I will assume the prior seven days were intended.</p>\n\n<pre><code>LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\nLocalDate previousFriday = today.with( TemporalAdjusters.previous( DayOfWeek.FRIDAY ) ) ;\n</code></pre>\n\n<p>By the way, if you want to consider the initial date if it happens to already be the desired day-of-week, use alternate <code>TemporalAdjuster</code> implementations: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\" rel=\"noreferrer\"><code>previousOrSame</code></a> or <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#nextOrSame-java.time.DayOfWeek-\" rel=\"noreferrer\"><code>nextOrSame</code></a>.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676274263,"post_id":75394959,"comment_id":133096883,"body_markdown":"I covered this in [my Answer](https://stackoverflow.com/a/39580958/642706).","body":"I covered this in <a href=\"https://stackoverflow.com/a/39580958/642706\">my Answer</a>."}],"tags":[],"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675923974,"creation_date":1675923974,"answer_id":75394959,"question_id":12661203,"body_markdown":"You can use **TemporalAdjusters** to adjust the desired dates/days you are looking for.\r\n\r\n**Example:**\r\n\r\n    LocalDate today = LocalDate.now();\r\n    LocalDate lastMonday = today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\r\n    LocalDate lastFriday = today.with(TemporalAdjusters.previous(DayOfWeek.FRIDAY));\r\n\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>You can use <strong>TemporalAdjusters</strong> to adjust the desired dates/days you are looking for.</p>\n<p><strong>Example:</strong></p>\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate lastMonday = today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\nLocalDate lastFriday = today.with(TemporalAdjusters.previous(DayOfWeek.FRIDAY));\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19522,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1675923974,"creation_date":1349007582,"question_id":12661203,"body_markdown":"I need to get the dates for Monday and Friday last week. To do this, i am getting the date of Monday this week and subtracting 7 days. This gives me the date for Monday last week.\r\n\r\nTo get the date for Friday i have to add 4. This confused me a bit because for some reason the first day of the week is Sunday as opposed to Monday here in the UK. \r\n\r\nAnyway, here is how i am getting the dates.  \r\n\r\n\r\n                // Get the dates for last MON &amp; FRI\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(date);\r\n    \t\t\r\n    \t\tcal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n    \t\tcal.add(Calendar.DAY_OF_WEEK, -7);\r\n    \t\t\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY,0);\r\n    \t\tcal.set(Calendar.MINUTE,0);\r\n    \t\tcal.set(Calendar.SECOND,0);\r\n    \t\tcal.set(Calendar.MILLISECOND,0);\r\n    \t\t\r\n    \t\t// Get the date on Friday\r\n    \t\tcal.add(Calendar.DAY_OF_WEEK, 4);\r\n    \t\t\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY,23);\r\n    \t\tcal.set(Calendar.MINUTE,59);\r\n    \t\tcal.set(Calendar.SECOND,59);\r\n    \t\tcal.set(Calendar.MILLISECOND,0);\r\n\r\nThe above works but i am interested if there is anything wrong with the logic. I.e. will it work for Februarys, leap years etc. \r\n\r\nFeel free to suggest a better solution/approach. \r\n\r\nThanks\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>I need to get the dates for Monday and Friday last week. To do this, i am getting the date of Monday this week and subtracting 7 days. This gives me the date for Monday last week.</p>\n\n<p>To get the date for Friday i have to add 4. This confused me a bit because for some reason the first day of the week is Sunday as opposed to Monday here in the UK. </p>\n\n<p>Anyway, here is how i am getting the dates.  </p>\n\n<pre><code>            // Get the dates for last MON &amp; FRI\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n\n        cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n        cal.add(Calendar.DAY_OF_WEEK, -7);\n\n        cal.set(Calendar.HOUR_OF_DAY,0);\n        cal.set(Calendar.MINUTE,0);\n        cal.set(Calendar.SECOND,0);\n        cal.set(Calendar.MILLISECOND,0);\n\n        // Get the date on Friday\n        cal.add(Calendar.DAY_OF_WEEK, 4);\n\n        cal.set(Calendar.HOUR_OF_DAY,23);\n        cal.set(Calendar.MINUTE,59);\n        cal.set(Calendar.SECOND,59);\n        cal.set(Calendar.MILLISECOND,0);\n</code></pre>\n\n<p>The above works but i am interested if there is anything wrong with the logic. I.e. will it work for Februarys, leap years etc. </p>\n\n<p>Feel free to suggest a better solution/approach. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","mvvm","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675923600,"creation_date":1675923600,"answer_id":75394919,"question_id":75394710,"body_markdown":"You mentioned you are using dagger. I see you are expecting the following to be injected, but doing nothing for that to happen:\r\n\r\n```\r\n    @Inject\r\n    lateinit var viewModelFactory: ViewModelFactory\r\n```\r\n\r\nSo I can imagine your app is crashing because `viewModelFactory` is not initialized. Depending on your DI structure, you should either do component/subcomponent injection, or use `AndroidInjection.inject(this)`","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>You mentioned you are using dagger. I see you are expecting the following to be injected, but doing nothing for that to happen:</p>\n<pre><code>    @Inject\n    lateinit var viewModelFactory: ViewModelFactory\n</code></pre>\n<p>So I can imagine your app is crashing because <code>viewModelFactory</code> is not initialized. Depending on your DI structure, you should either do component/subcomponent injection, or use <code>AndroidInjection.inject(this)</code></p>\n"},{"tags":[],"owner":{"account_id":131342,"reputation":2196,"user_id":331271,"display_name":"hlidka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675923683,"creation_date":1675923683,"answer_id":75394923,"question_id":75394710,"body_markdown":"One way to do this is to annotate the ViewModel with `@HiltViewModel` and the activity with `@AndroidEntryPoint`, then you can `import androidx.activity.viewModels` and then have \r\n\r\n```\r\nprivate val model: ReportsViewModel by viewModels()\r\n```","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>One way to do this is to annotate the ViewModel with <code>@HiltViewModel</code> and the activity with <code>@AndroidEntryPoint</code>, then you can <code>import androidx.activity.viewModels</code> and then have</p>\n<pre><code>private val model: ReportsViewModel by viewModels()\n</code></pre>\n"}],"owner":{"account_id":23984265,"reputation":25,"user_id":17971278,"display_name":"kathir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75394919,"answer_count":2,"score":2,"last_activity_date":1675923683,"creation_date":1675921871,"question_id":75394710,"body_markdown":"I am new in android kotlin and dagger,I am facing above issue. I already provide the ViewModelFactory but facing issue i don&#39;t know why this issue is came, i have attached the MainActivity, Repository class and Viewmodel class,Please resolve my issue what I am take my mistake, Please help.\r\n\r\n//MainActivity.class\r\n\r\n```\r\n`class MainActivity  : AppCompatActivity() {\r\n    @Inject\r\n    lateinit var viewModelFactory: ViewModelFactory\r\n\r\n    private lateinit var reportViewModel: ReportsViewModel\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        //(application as PWEApplication).daggerComponent.inject(this)\r\n        reportViewModel = ViewModelProvider(this, viewModelFactory).get(ReportsViewModel::class.java)\r\n        reportViewModel.report.observe(this, Observer {\r\n            when(it.status){\r\n                NetworkResource.Status.LOADING -&gt; {\r\n                    // Show a loading indicator\r\n                }\r\n                NetworkResource.Status.SUCCESS -&gt; {\r\n                    // Show the data from the API\r\n                    Log.e(&quot;installationReport&quot;,&quot;&quot;+it.data)\r\n                }\r\n                NetworkResource.Status.ERROR -&gt; {\r\n                    // Show an error message\r\n                }\r\n            }\r\n        })\r\n    }\r\n}`\r\n```\r\n//Viewmodel.class\r\n\r\n```\r\n``open class ReportsViewModel @Inject constructor(private val repository: ReportsRepository) :ViewModel() {\r\n\r\n    private var reportLiveData = MediatorLiveData&lt;ReportRequest&gt;()\r\n\r\n    val report = Transformations.switchMap(reportLiveData) {\r\n        repository.getReports(it)\r\n    }\r\n\r\n    fun getInstallReport(idd: Int, fromDate: String, toDate: String) {\r\n        reportLiveData.value = ReportRequest(idd, fromDate, toDate)\r\n    }\r\n\r\n}`\r\n```\r\n//ReportRepository.class\r\n\r\n    class ReportsRepository @Inject constructor(\r\n        private val reportServiceNS: ReportsService,\r\n        private val schedulerProvider: SchedulerProvider\r\n    ) {\r\n        private val reportsMutableLiveData = MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;()\r\n        private var disposable: Disposable? = null\r\n    \r\n        fun getReports(reportRequest: ReportRequest): MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;{\r\n            disposable = reportServiceNS.getReport(\r\n                reportRequest.script,\r\n                reportRequest.deploy,\r\n                reportRequest.compId,\r\n                reportRequest.h,\r\n                reportRequest.discId,\r\n                reportRequest.fromDate,\r\n                reportRequest.toDate)\r\n                .compose(schedulerProvider.getSchedulersForObservable())\r\n                .subscribeWith(object : DisposableObserver&lt;ReportResponse&gt;() {\r\n                    override fun onComplete() {\r\n    \r\n                    }\r\n    \r\n                    override fun onNext(t: ReportResponse) {\r\n                        reportsMutableLiveData.value = NetworkResource.success(t.complaintData)\r\n                    }\r\n    \r\n                    override fun onError(e: Throwable) {\r\n                        reportsMutableLiveData.value = NetworkResource.error(e, null)\r\n                    }\r\n    \r\n                })\r\n    \r\n            return reportsMutableLiveData\r\n        }\r\n    }`","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>I am new in android kotlin and dagger,I am facing above issue. I already provide the ViewModelFactory but facing issue i don't know why this issue is came, i have attached the MainActivity, Repository class and Viewmodel class,Please resolve my issue what I am take my mistake, Please help.</p>\n<p>//MainActivity.class</p>\n<pre><code>`class MainActivity  : AppCompatActivity() {\n    @Inject\n    lateinit var viewModelFactory: ViewModelFactory\n\n    private lateinit var reportViewModel: ReportsViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //(application as PWEApplication).daggerComponent.inject(this)\n        reportViewModel = ViewModelProvider(this, viewModelFactory).get(ReportsViewModel::class.java)\n        reportViewModel.report.observe(this, Observer {\n            when(it.status){\n                NetworkResource.Status.LOADING -&gt; {\n                    // Show a loading indicator\n                }\n                NetworkResource.Status.SUCCESS -&gt; {\n                    // Show the data from the API\n                    Log.e(&quot;installationReport&quot;,&quot;&quot;+it.data)\n                }\n                NetworkResource.Status.ERROR -&gt; {\n                    // Show an error message\n                }\n            }\n        })\n    }\n}`\n</code></pre>\n<p>//Viewmodel.class</p>\n<pre><code>``open class ReportsViewModel @Inject constructor(private val repository: ReportsRepository) :ViewModel() {\n\n    private var reportLiveData = MediatorLiveData&lt;ReportRequest&gt;()\n\n    val report = Transformations.switchMap(reportLiveData) {\n        repository.getReports(it)\n    }\n\n    fun getInstallReport(idd: Int, fromDate: String, toDate: String) {\n        reportLiveData.value = ReportRequest(idd, fromDate, toDate)\n    }\n\n}`\n</code></pre>\n<p>//ReportRepository.class</p>\n<pre><code>class ReportsRepository @Inject constructor(\n    private val reportServiceNS: ReportsService,\n    private val schedulerProvider: SchedulerProvider\n) {\n    private val reportsMutableLiveData = MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;()\n    private var disposable: Disposable? = null\n\n    fun getReports(reportRequest: ReportRequest): MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;{\n        disposable = reportServiceNS.getReport(\n            reportRequest.script,\n            reportRequest.deploy,\n            reportRequest.compId,\n            reportRequest.h,\n            reportRequest.discId,\n            reportRequest.fromDate,\n            reportRequest.toDate)\n            .compose(schedulerProvider.getSchedulersForObservable())\n            .subscribeWith(object : DisposableObserver&lt;ReportResponse&gt;() {\n                override fun onComplete() {\n\n                }\n\n                override fun onNext(t: ReportResponse) {\n                    reportsMutableLiveData.value = NetworkResource.success(t.complaintData)\n                }\n\n                override fun onError(e: Throwable) {\n                    reportsMutableLiveData.value = NetworkResource.error(e, null)\n                }\n\n            })\n\n        return reportsMutableLiveData\n    }\n}`\n</code></pre>\n"},{"tags":["java","stack","expression","parentheses"],"comments":[{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":3,"creation_date":1457684482,"post_id":35935280,"comment_id":59527288,"body_markdown":"`There is something wrong` - can you give an example input for which the output is not what you expect?","body":"<code>There is something wrong</code> - can you give an example input for which the output is not what you expect?"},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457684544,"post_id":35935280,"comment_id":59527315,"body_markdown":"I gave an example input in my main method. It&#39;s (a+b). It should be balanced and my checkBalance method should return true, but I keep getting false.","body":"I gave an example input in my main method. It&#39;s (a+b). It should be balanced and my checkBalance method should return true, but I keep getting false."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1457684722,"post_id":35935280,"comment_id":59527403,"body_markdown":"What answer are you expecting for `([}]`?","body":"What answer are you expecting for <code>([}]</code>?"},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457685303,"post_id":35935280,"comment_id":59527706,"body_markdown":"@shmosel It would be false right? It would add &#39;(&#39; and &#39;[&#39; to the stack and when it encounters &#39;}&#39;, it will go to second set of cases in my switch statement and there since &#39;[&#39; and &#39;{&#39; are not equal, isBalanced would be set to false and exit the loop right?","body":"@shmosel It would be false right? It would add &#39;(&#39; and &#39;[&#39; to the stack and when it encounters &#39;}&#39;, it will go to second set of cases in my switch statement and there since &#39;[&#39; and &#39;{&#39; are not equal, isBalanced would be set to false and exit the loop right?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1457685759,"post_id":35935280,"comment_id":59527931,"body_markdown":"@rohitkrishna094, well not really. Your code is not differentiating between any class of delimiter. Though perhaps that was the intention of `if(opendelimiter!=expression.charAt(i))`, as some of the answers explain.","body":"@rohitkrishna094, well not really. Your code is not differentiating between any class of delimiter. Though perhaps that was the intention of <code>if(opendelimiter!=expression.charAt(i))</code>, as some of the answers explain."},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457685843,"post_id":35935280,"comment_id":59527981,"body_markdown":"Yeah thanks. I just figured that out too. My bad.","body":"Yeah thanks. I just figured that out too. My bad."}],"answers":[{"tags":[],"owner":{"account_id":4928280,"reputation":3516,"user_id":3968921,"accept_rate":43,"display_name":"Ankit Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457685278,"creation_date":1457684745,"answer_id":35935407,"question_id":35935280,"body_markdown":"    char opendelimiter=myStack.pop();\r\n    if(opendelimiter!=expression.charAt(i)){\r\n           isBalanced=false;\r\n    }\r\n\r\nHere you should check\r\n\r\n        if(openedDeimilter == &#39;(&#39;){\r\n            if(expression.charAt(i)!=&#39;)&#39;){\r\n                isBalanced=false;\r\n                //break;\r\n            }\r\n        }else if(openedDeimilter == &#39;[&#39;){\r\n            if(expression.charAt(i)!=&#39;]&#39;){\r\n               isBalanced=false;\r\n               //break;\r\n            }\r\n        }else {\r\n             if(expression.charAt(i)!=&#39;}&#39;){\r\n                isBalanced=false;\r\n                //break;\r\n            }\r\n        }\r\nAlso once isBalanced is set to `false` you can skip iterating the remaining string, if it suits you.","title":"Checking if parenthesis are balanced or not using Stack?","body":"<pre><code>char opendelimiter=myStack.pop();\nif(opendelimiter!=expression.charAt(i)){\n       isBalanced=false;\n}\n</code></pre>\n\n<p>Here you should check</p>\n\n<pre><code>    if(openedDeimilter == '('){\n        if(expression.charAt(i)!=')'){\n            isBalanced=false;\n            //break;\n        }\n    }else if(openedDeimilter == '['){\n        if(expression.charAt(i)!=']'){\n           isBalanced=false;\n           //break;\n        }\n    }else {\n         if(expression.charAt(i)!='}'){\n            isBalanced=false;\n            //break;\n        }\n    }\n</code></pre>\n\n<p>Also once isBalanced is set to <code>false</code> you can skip iterating the remaining string, if it suits you.</p>\n"},{"tags":[],"owner":{"account_id":5972234,"reputation":1474,"user_id":4694248,"accept_rate":60,"display_name":"Manu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457684804,"creation_date":1457684804,"answer_id":35935422,"question_id":35935280,"body_markdown":"This part is wrong:\r\n\r\n    if(opendelimiter!=expression.charAt(i)){\r\n        isBalanced=false;\r\n    }\r\n\r\nYou check if two chars are equal, but the correct check should match the 2 corresponding chars: `[` - `]`, `(` - `)` and `{` - `}`","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>This part is wrong:</p>\n\n<pre><code>if(opendelimiter!=expression.charAt(i)){\n    isBalanced=false;\n}\n</code></pre>\n\n<p>You check if two chars are equal, but the correct check should match the 2 corresponding chars: <code>[</code> - <code>]</code>, <code>(</code> - <code>)</code> and <code>{</code> - <code>}</code></p>\n"},{"tags":[],"owner":{"account_id":1622593,"reputation":2701,"user_id":1498857,"display_name":"Gianni B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457685527,"creation_date":1457685527,"answer_id":35935609,"question_id":35935280,"body_markdown":"What about a different approach using only the length of your expression without each parentheses? This will let you not use the Stack class and should be more efficient for longer expression\r\n\r\n    public static boolean checkBalance(String expression) {\r\n\t   String[] parentheses = new String[]{&quot;\\\\(|\\\\)&quot;,&quot;\\\\[|\\\\]&quot;,&quot;\\\\{|\\\\}&quot;};\r\n\t   int length = expression.length();\r\n\t   for(int i=0; i&lt;parentheses.length; i++) {\r\n\t\t   int newLength = expression.replaceAll(parentheses[i], &quot;&quot;).length();\r\n\t\t   int diff = length - newLength;\r\n\t\t   if(diff % 2 != 0) {\r\n              return false;\r\n\t\t   }\r\n\t   }\r\n       return true;\r\n    }\r\n\r\nThe double backslash are used to escape each parentheses because they are special characters","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>What about a different approach using only the length of your expression without each parentheses? This will let you not use the Stack class and should be more efficient for longer expression</p>\n\n<pre><code>public static boolean checkBalance(String expression) {\n   String[] parentheses = new String[]{\"\\\\(|\\\\)\",\"\\\\[|\\\\]\",\"\\\\{|\\\\}\"};\n   int length = expression.length();\n   for(int i=0; i&lt;parentheses.length; i++) {\n       int newLength = expression.replaceAll(parentheses[i], \"\").length();\n       int diff = length - newLength;\n       if(diff % 2 != 0) {\n          return false;\n       }\n   }\n   return true;\n}\n</code></pre>\n\n<p>The double backslash are used to escape each parentheses because they are special characters</p>\n"},{"tags":[],"owner":{"account_id":10595103,"reputation":23,"user_id":7804131,"display_name":"Harsh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502265940,"creation_date":1502265940,"answer_id":45584986,"question_id":35935280,"body_markdown":"    #include&lt;stdio.h&gt;\r\n    #include&lt;stdlib.h&gt;\r\n    #include&lt;string.h&gt;\r\n    \r\n    \r\n    char exp[1028];\r\n    char ext[1028];\r\n    \r\n    int top = -1;\r\n    //-----------------------------------------------------------------------------\r\n    push(char x){\r\n    \r\n    \ttop++;\r\n    \text[top]=x;\r\n    \t}\r\n    //-----------------------------------------------------------------------------------------\r\n    \r\n    void pop(){\r\n    \ttop--;\r\n    }\r\n    //--------------------------------------------------------------------------------------\r\n    \r\n    \r\n    main()\r\n    {\r\n    int ans;\r\n    char in=&#39;{&#39;;\r\n    char it=&#39;[&#39;;\r\n    char ie=&#39;(&#39;;\r\n    \r\n    char an;&#39;}&#39;;\r\n    char at=&#39;]&#39;;\r\n    char ae=&#39;)&#39;;\r\n    printf(&quot;\\nenter your expression\\n&quot;);\r\n    gets(exp);\r\n    int j=strlen(exp);\r\n    int i;\r\n    for(i=0;i&lt;=j;i++){\r\n    \tif(exp[i] == in || exp[i] == it || exp[i]==ie){\r\n    \t\tpush(exp[i]);\r\n    \t\t}\r\n    \tif(exp[i] == an ||exp[i]== at || exp[i]==ae){\r\n    \t\tpop();\r\n    \t}\r\n    }\r\n    if(top == -1){\r\n    \tprintf(&quot;\\nexp is balanced\\n&quot;);\r\n    \t}\r\n    else{\r\n    \tprintf(&quot;\\nexp is unbalanced&quot;);\r\n    }\r\n    }","title":"Checking if parenthesis are balanced or not using Stack?","body":"<pre><code>#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;string.h&gt;\n\n\nchar exp[1028];\nchar ext[1028];\n\nint top = -1;\n//-----------------------------------------------------------------------------\npush(char x){\n\n    top++;\n    ext[top]=x;\n    }\n//-----------------------------------------------------------------------------------------\n\nvoid pop(){\n    top--;\n}\n//--------------------------------------------------------------------------------------\n\n\nmain()\n{\nint ans;\nchar in='{';\nchar it='[';\nchar ie='(';\n\nchar an;'}';\nchar at=']';\nchar ae=')';\nprintf(\"\\nenter your expression\\n\");\ngets(exp);\nint j=strlen(exp);\nint i;\nfor(i=0;i&lt;=j;i++){\n    if(exp[i] == in || exp[i] == it || exp[i]==ie){\n        push(exp[i]);\n        }\n    if(exp[i] == an ||exp[i]== at || exp[i]==ae){\n        pop();\n    }\n}\nif(top == -1){\n    printf(\"\\nexp is balanced\\n\");\n    }\nelse{\n    printf(\"\\nexp is unbalanced\");\n}\n}\n</code></pre>\n"}],"owner":{"display_name":"user5987642"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35935407,"answer_count":4,"score":2,"last_activity_date":1675923554,"creation_date":1457684256,"question_id":35935280,"body_markdown":"I have written a java code to test if an expression is balanced or not, that is, this program checks if the characters &#39;(&#39;, &#39;{&#39; and &#39;[&#39; have a corresponding delimiter or not. However I am unable to get the required answer. There is something wrong and I am unable to figure it out and hence would need your help. Here is the code.\r\n\r\n\r\n    package z_Stack_InfixToPostfix;\r\n    import java.util.Stack;\r\n\r\n    public class Driver_InfixToPostfix {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    String s=&quot;(a+b)&quot;;\r\n    \t\tSystem.out.println(checkBalance(s));\r\n\t    }\r\n\t\r\n    \tpublic static boolean checkBalance(String expression){\r\n\t    \tboolean isBalanced=true;\r\n\t\t    Stack&lt;Character&gt; myStack=new Stack&lt;Character&gt;();\r\n\t\t    int length=expression.length();\r\n    \t\tint i=0;\r\n\t    \twhile(isBalanced &amp;&amp; i&lt;length){\r\n\t\t    \tswitch(expression.charAt(i)){\r\n\t\t\t    case &#39;(&#39;: case &#39;{&#39;: case &#39;[&#39; :\r\n\t\t\t\t    myStack.push(expression.charAt(i));\r\n\t\t\t\t    break;\r\n    \t\t\tcase &#39;)&#39;: case &#39;}&#39;: case &#39;]&#39;:\r\n\t    \t\t\tif(myStack.isEmpty()){\r\n\t\t    \t\t\tisBalanced=false;\r\n\t\t\t    \t}\r\n\t\t\t\t    else{\r\n\t\t\t\t\t    char opendelimiter=myStack.pop();\r\n\t\t\t\t\t    if(opendelimiter!=expression.charAt(i)){\r\n\t\t\t\t\t\t    isBalanced=false;\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t\t    break;\r\n     \t\t\t}\r\n\t    \t\ti++;\r\n\t\t    }\r\n\t\t    if(!myStack.isEmpty()){\r\n\t\t\t    isBalanced=false;\r\n\t\t    }\r\n\t\t    return isBalanced;\r\n\t    }\r\n    }\r\n","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>I have written a java code to test if an expression is balanced or not, that is, this program checks if the characters '(', '{' and '[' have a corresponding delimiter or not. However I am unable to get the required answer. There is something wrong and I am unable to figure it out and hence would need your help. Here is the code.</p>\n\n<pre><code>package z_Stack_InfixToPostfix;\nimport java.util.Stack;\n\npublic class Driver_InfixToPostfix {\n\n    public static void main(String[] args) {\n        String s=\"(a+b)\";\n        System.out.println(checkBalance(s));\n    }\n\n    public static boolean checkBalance(String expression){\n        boolean isBalanced=true;\n        Stack&lt;Character&gt; myStack=new Stack&lt;Character&gt;();\n        int length=expression.length();\n        int i=0;\n        while(isBalanced &amp;&amp; i&lt;length){\n            switch(expression.charAt(i)){\n            case '(': case '{': case '[' :\n                myStack.push(expression.charAt(i));\n                break;\n            case ')': case '}': case ']':\n                if(myStack.isEmpty()){\n                    isBalanced=false;\n                }\n                else{\n                    char opendelimiter=myStack.pop();\n                    if(opendelimiter!=expression.charAt(i)){\n                        isBalanced=false;\n                    }\n                }\n                break;\n            }\n            i++;\n        }\n        if(!myStack.isEmpty()){\n            isBalanced=false;\n        }\n        return isBalanced;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","graphics","graphics2d","imageicon"],"answers":[{"comments":[{"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"score":0,"creation_date":1315331038,"post_id":7323595,"comment_id":8829611,"body_markdown":"I will try in this way. Thanks.","body":"I will try in this way. Thanks."},{"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"score":0,"creation_date":1315345864,"post_id":7323595,"comment_id":8833725,"body_markdown":"But with this way I can&#39;t save the image, I mean if I save the image the text will not be saved. I&#39;m searching for a way to save the text too. I mean I have to write a text in the center of the image and then save the image.","body":"But with this way I can&#39;t save the image, I mean if I save the image the text will not be saved. I&#39;m searching for a way to save the text too. I mean I have to write a text in the center of the image and then save the image."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315329153,"creation_date":1315329153,"answer_id":7323595,"question_id":7323538,"body_markdown":"One possible solution: draw the image in a JPanel, being sure to set the panel&#39;s preferredsize as the size of the image, have the JPanel use a GridBagLayout, and place the text in a JLabel that is added to the JPanel, without GridBagConstraints. This is one way to center the JLabel in the JPanel.","title":"Java - Draw text in the center of an image","body":"<p>One possible solution: draw the image in a JPanel, being sure to set the panel's preferredsize as the size of the image, have the JPanel use a GridBagLayout, and place the text in a JLabel that is added to the JPanel, without GridBagConstraints. This is one way to center the JLabel in the JPanel.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1315329883,"creation_date":1315329883,"answer_id":7323722,"question_id":7323538,"body_markdown":"Using a `JLabel` is less work, but [`FontMetrics`][1], shown [here][2], will let you manage the geometry directly.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/awt/FontMetrics.html\r\n  [2]: https://stackoverflow.com/questions/2228735/how-do-i-fade-an-image-in-swing/2234020#2234020","title":"Java - Draw text in the center of an image","body":"<p>Using a <code>JLabel</code> is less work, but <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/FontMetrics.html\" rel=\"nofollow noreferrer\"><code>FontMetrics</code></a>, shown <a href=\"https://stackoverflow.com/questions/2228735/how-do-i-fade-an-image-in-swing/2234020#2234020\">here</a>, will let you manage the geometry directly.</p>\n"},{"comments":[{"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"score":0,"creation_date":1315349818,"post_id":7326615,"comment_id":8834574,"body_markdown":"I will use the FontMetrics class, because I need to save the image but I&#39;m also using a GUI, Can I use your suggestion so?","body":"I will use the FontMetrics class, because I need to save the image but I&#39;m also using a GUI, Can I use your suggestion so?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1315354053,"post_id":7326615,"comment_id":8835267,"body_markdown":"+1 for `ScreenImage`; see also this `ImageIO` [example.](http://stackoverflow.com/questions/2394192/java-imageio-write-completely-corrupted-png-and-or-bmp-with-incorrect-data/2394275#2394275).","body":"+1 for <code>ScreenImage</code>; see also this <code>ImageIO</code> <a href=\"http://stackoverflow.com/questions/2394192/java-imageio-write-completely-corrupted-png-and-or-bmp-with-incorrect-data/2394275#2394275\">example.</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1315354717,"post_id":7326615,"comment_id":8835364,"body_markdown":"@GhzNcl, I don&#39;t understand your question. I gave you working code. Only you can decide if it does what you want. I also gave a link to ScreenImage which shows how to use it on visible or non-visible components.","body":"@GhzNcl, I don&#39;t understand your question. I gave you working code. Only you can decide if it does what you want. I also gave a link to ScreenImage which shows how to use it on visible or non-visible components."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636989584,"creation_date":1315346087,"answer_id":7326615,"question_id":7323538,"body_markdown":"The easy way is to use a JLabel with an Icon and Text. Then set the horizontal/vertical text position to CENTER and the text is painted in the center of the image.\r\n\r\nFrom your code it looks like you are trying to paint the text near the bottom of the image. In this case you can use the JLabel with an Icon as a container. Then you can set the layout to something like a BoxLayout and add another label with the text.\r\n\r\nNo custom painting is required for either approach.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    \r\n    public class LabelImageText extends JPanel\r\n    {\r\n        public LabelImageText()\r\n        {\r\n            JLabel label1 = new JLabel( new ColorIcon(Color.ORANGE, 100, 100) );\r\n            label1.setText( &quot;Easy Way&quot; );\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n            add( label1 );\r\n    \r\n            //\r\n    \r\n            JLabel label2 = new JLabel( new ColorIcon(Color.YELLOW, 200, 150) );\r\n            label2.setLayout( new BoxLayout(label2, BoxLayout.Y_AXIS) );\r\n            add( label2 );\r\n    \r\n            JLabel text = new JLabel( &quot;More Control&quot; );\r\n            text.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n            label2.add( Box.createVerticalGlue() );\r\n            label2.add( text );\r\n            label2.add( Box.createVerticalStrut(10) );\r\n    \r\n            //\r\n    \r\n            JLabel label3 = new JLabel( new ColorIcon(Color.GREEN, 200, 150) );\r\n            add( label3 );\r\n    \r\n            JLabel text3 = new JLabel();\r\n            text3.setText(&quot;&lt;html&gt;&lt;center&gt;Text&lt;br&gt;over&lt;br&gt;Image&lt;center&gt;&lt;/html&gt;&quot;);\r\n            text3.setLocation(20, 20);\r\n            text3.setSize(text3.getPreferredSize());\r\n            label3.add( text3 );\r\n    \r\n            //\r\n    \r\n            JLabel label4 = new JLabel( new ColorIcon(Color.CYAN, 200, 150) );\r\n            add( label4 );\r\n    \r\n            JTextPane textPane = new JTextPane();\r\n            textPane.setText(&quot;Add some text that will wrap at your preferred width&quot;);\r\n            textPane.setEditable( false );\r\n            textPane.setOpaque(false);\r\n            SimpleAttributeSet center = new SimpleAttributeSet();\r\n            StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);\r\n            StyledDocument doc = textPane.getStyledDocument();\r\n            doc.setParagraphAttributes(0, doc.getLength(), center, false);\r\n            textPane.setBounds(20, 20, 75, 100);\r\n            label4.add( textPane );\r\n        }\r\n    \r\n        public static class ColorIcon implements Icon\r\n        {\r\n            private Color color;\r\n            private int width;\r\n            private int height;\r\n    \r\n            public ColorIcon(Color color, int width, int height)\r\n            {\r\n                this.color = color;\r\n                this.width = width;\r\n                this.height = height;\r\n            }\r\n    \r\n            public int getIconWidth()\r\n            {\r\n                return width;\r\n            }\r\n    \r\n            public int getIconHeight()\r\n            {\r\n                return height;\r\n            }\r\n    \r\n            public void paintIcon(Component c, Graphics g, int x, int y)\r\n            {\r\n                g.setColor(color);\r\n                g.fillRect(x, y, width, height);\r\n            }\r\n        }\r\n    \r\n        private static void createAndShowUI()\r\n        {\r\n            JFrame frame = new JFrame(&quot;LabelImageText&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add( new LabelImageText() );\r\n            frame.pack();\r\n            frame.setLocationRelativeTo( null );\r\n            frame.setVisible( true );\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            EventQueue.invokeLater(new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    createAndShowUI();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n&gt; I mean I have to write a text in the center of the image and then save the image\r\n\r\nYou can use [Screen Image][1] to create an image of any component. This assumes you are displaying the image and text on a GUI.\r\n\r\nOr, if you are talking about just reading in an image adding text to the image and then saving the image, then you will need to create a BufferedImage and draw the image on it and then draw the text on it. You will need to use the FontMetrics class as mentioned by Trashgod. My suggestion won&#39;t help.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/10/13/screen-image/","title":"Java - Draw text in the center of an image","body":"<p>The easy way is to use a JLabel with an Icon and Text. Then set the horizontal/vertical text position to CENTER and the text is painted in the center of the image.</p>\n<p>From your code it looks like you are trying to paint the text near the bottom of the image. In this case you can use the JLabel with an Icon as a container. Then you can set the layout to something like a BoxLayout and add another label with the text.</p>\n<p>No custom painting is required for either approach.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.text.*;\n\npublic class LabelImageText extends JPanel\n{\n    public LabelImageText()\n    {\n        JLabel label1 = new JLabel( new ColorIcon(Color.ORANGE, 100, 100) );\n        label1.setText( &quot;Easy Way&quot; );\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n        add( label1 );\n\n        //\n\n        JLabel label2 = new JLabel( new ColorIcon(Color.YELLOW, 200, 150) );\n        label2.setLayout( new BoxLayout(label2, BoxLayout.Y_AXIS) );\n        add( label2 );\n\n        JLabel text = new JLabel( &quot;More Control&quot; );\n        text.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        label2.add( Box.createVerticalGlue() );\n        label2.add( text );\n        label2.add( Box.createVerticalStrut(10) );\n\n        //\n\n        JLabel label3 = new JLabel( new ColorIcon(Color.GREEN, 200, 150) );\n        add( label3 );\n\n        JLabel text3 = new JLabel();\n        text3.setText(&quot;&lt;html&gt;&lt;center&gt;Text&lt;br&gt;over&lt;br&gt;Image&lt;center&gt;&lt;/html&gt;&quot;);\n        text3.setLocation(20, 20);\n        text3.setSize(text3.getPreferredSize());\n        label3.add( text3 );\n\n        //\n\n        JLabel label4 = new JLabel( new ColorIcon(Color.CYAN, 200, 150) );\n        add( label4 );\n\n        JTextPane textPane = new JTextPane();\n        textPane.setText(&quot;Add some text that will wrap at your preferred width&quot;);\n        textPane.setEditable( false );\n        textPane.setOpaque(false);\n        SimpleAttributeSet center = new SimpleAttributeSet();\n        StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);\n        StyledDocument doc = textPane.getStyledDocument();\n        doc.setParagraphAttributes(0, doc.getLength(), center, false);\n        textPane.setBounds(20, 20, 75, 100);\n        label4.add( textPane );\n    }\n\n    public static class ColorIcon implements Icon\n    {\n        private Color color;\n        private int width;\n        private int height;\n\n        public ColorIcon(Color color, int width, int height)\n        {\n            this.color = color;\n            this.width = width;\n            this.height = height;\n        }\n\n        public int getIconWidth()\n        {\n            return width;\n        }\n\n        public int getIconHeight()\n        {\n            return height;\n        }\n\n        public void paintIcon(Component c, Graphics g, int x, int y)\n        {\n            g.setColor(color);\n            g.fillRect(x, y, width, height);\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;LabelImageText&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new LabelImageText() );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<blockquote>\n<p>I mean I have to write a text in the center of the image and then save the image</p>\n</blockquote>\n<p>You can use <a href=\"http://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a> to create an image of any component. This assumes you are displaying the image and text on a GUI.</p>\n<p>Or, if you are talking about just reading in an image adding text to the image and then saving the image, then you will need to create a BufferedImage and draw the image on it and then draw the text on it. You will need to use the FontMetrics class as mentioned by Trashgod. My suggestion won't help.</p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675923485,"creation_date":1507018210,"answer_id":46539966,"question_id":7323538,"body_markdown":"I used [`TextLayout`](https://docs.oracle.com/en/java/javase/14/docs/api/index.html) to get the text properly centered:\r\n\r\n![example of generated image](https://i.stack.imgur.com/wup9E.png)\r\n\r\nHere&#39;s how to create the image and save it as a file:\r\n\r\n    int imgWidth = 250;\r\n    int imgHeight = 250;\r\n    var img = new BufferedImage(imgWidth, imgHeight, BufferedImage.TYPE_INT_RGB);\r\n\r\n    Graphics2D g = img.createGraphics();\r\n\r\n    var backgroundColor = new Color(0, 150, 100);\r\n    g.setPaint(backgroundColor);\r\n    g.fillRect(0, 0, imgWidth, imgHeight);\r\n\r\n    var font = new Font(&quot;Arial&quot;, Font.PLAIN, 80);\r\n    g.setFont(font);\r\n    g.setPaint(Color.WHITE);\r\n\r\n    String text = &quot;0&quot;;\r\n\r\n    var textLayout = new TextLayout(text, g.getFont(), g.getFontRenderContext());\r\n    double textHeight = textLayout.getBounds().getHeight();\r\n    double textWidth = textLayout.getBounds().getWidth();\r\n\r\n    g.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\r\n            RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\n    // Draw the text in the center of the image\r\n    g.drawString(text, imgWidth / 2 - (int) textWidth / 2,\r\n                       imgHeight / 2 + (int) textHeight / 2);\r\n\r\n    String imgFormat = &quot;png&quot;;\r\n    ImageIO.write(img, imgFormat, new File(&quot;/home/me/new_image.&quot; + imgFormat));\r\n\r\n\r\n","title":"Java - Draw text in the center of an image","body":"<p>I used <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/index.html\" rel=\"nofollow noreferrer\"><code>TextLayout</code></a> to get the text properly centered:</p>\n<p><img src=\"https://i.stack.imgur.com/wup9E.png\" alt=\"example of generated image\" /></p>\n<p>Here's how to create the image and save it as a file:</p>\n<pre><code>int imgWidth = 250;\nint imgHeight = 250;\nvar img = new BufferedImage(imgWidth, imgHeight, BufferedImage.TYPE_INT_RGB);\n\nGraphics2D g = img.createGraphics();\n\nvar backgroundColor = new Color(0, 150, 100);\ng.setPaint(backgroundColor);\ng.fillRect(0, 0, imgWidth, imgHeight);\n\nvar font = new Font(&quot;Arial&quot;, Font.PLAIN, 80);\ng.setFont(font);\ng.setPaint(Color.WHITE);\n\nString text = &quot;0&quot;;\n\nvar textLayout = new TextLayout(text, g.getFont(), g.getFontRenderContext());\ndouble textHeight = textLayout.getBounds().getHeight();\ndouble textWidth = textLayout.getBounds().getWidth();\n\ng.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\n        RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n\n// Draw the text in the center of the image\ng.drawString(text, imgWidth / 2 - (int) textWidth / 2,\n                   imgHeight / 2 + (int) textHeight / 2);\n\nString imgFormat = &quot;png&quot;;\nImageIO.write(img, imgFormat, new File(&quot;/home/me/new_image.&quot; + imgFormat));\n</code></pre>\n"}],"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12689,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1675923485,"creation_date":1315328769,"question_id":7323538,"body_markdown":"I need to write text in the center of an image. The text to write is not always the same.\r\n\r\nThe code I&#39;m using is here:\r\n\r\n    // Here I first draw the image\r\n    g.drawImage(img, 22, 15, 280, 225, null);\r\n    // I get the text \r\n    String text = photoText.getText();\r\n    // Set the text color to black\r\n    g.setColor(Color.black);\r\n    // I draw the string \r\n    g.drawString(text, 79.5F, 220.0F);\r\n    \r\nThe problem is that the text isn&#39;t at the center of the image, what can I do? \r\n\r\nI only need to draw the text at the horizontal center. \r\n","title":"Java - Draw text in the center of an image","body":"<p>I need to write text in the center of an image. The text to write is not always the same.</p>\n\n<p>The code I'm using is here:</p>\n\n<pre><code>// Here I first draw the image\ng.drawImage(img, 22, 15, 280, 225, null);\n// I get the text \nString text = photoText.getText();\n// Set the text color to black\ng.setColor(Color.black);\n// I draw the string \ng.drawString(text, 79.5F, 220.0F);\n</code></pre>\n\n<p>The problem is that the text isn't at the center of the image, what can I do? </p>\n\n<p>I only need to draw the text at the horizontal center. </p>\n"},{"tags":["java","android","sqlite","android-recyclerview","android-arrayadapter"],"owner":{"account_id":27348998,"reputation":1,"user_id":20858469,"display_name":"DhruvNayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675923053,"creation_date":1675922018,"question_id":75394729,"body_markdown":"**I have two cardview one contains image from data/data folder and second contains text from sqlite database.** \r\n\r\n**I am Using Collections.shuffle() to shuffle data (textview&#39;s text)of recyclerview.** \r\n**Now I want to match image and text after shuffle.t** \r\n\r\n This is method which is fetching text from sqlite and images from data/data folder to Recycleview.\r\n\r\npublic void fetchData() {\r\n\r\n        db = new matchdatabasehelper(this);\r\n        try {\r\n            db.createDataBase();\r\n            db.openDataBase();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        data = db.getLessonMaster(this);\r\n        adapter = new matchAdapter(this, data, data1, this);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n     \r\n\r\n        Collections.shuffle(data);\r\n        Collections.shuffle(data1);\r\n\r\n        data1.clear();\r\n\r\n\r\n        String filePath = &quot;/data/data/PATH/1&quot;;\r\n        File file = new File(filePath);\r\n        File[] files = file.listFiles();\r\n        if (files != null) {\r\n            for (File file1 : files) {\r\n                if (file1.getPath().endsWith(&quot;.png&quot;) || file1.getPath().endsWith(&quot;.jpg&quot;)) {\r\n                    data1.add(new imageModel( file1.getPath()));\r\n                }\r\n            }\r\n        }\r\n            recyclerView.setAdapter(adapter);\r\n\r\n\r\n\r\n    }`\r\n\r\n\r\n**Belove code represents bindview code where data is text and image data is image.** \r\n\r\n\r\n\r\n\r\n\r\n             if (data != null &amp;&amp; imagedata != null) {\r\n                  holder.textView\r\n                    .setText(data.get(position));\r\n                  Glide.with(activity).load(imagedata.get(position).getPath()).into(holder.imageView);\r\n\r\n\r\n\r\n**belove code represents database helper class**\r\n\r\n\r\n\r\n public List&lt;String&gt; getLessonMaster(\r\n            Activity activity)\r\n\r\n    {\r\n\r\n        sqLiteOpenHelper\r\n                = new DatabaseHelper(activity);\r\n        SQLiteDatabase db\r\n                = sqLiteOpenHelper\r\n                .getWritableDatabase();\r\n\r\n        List&lt;String&gt; list\r\n                = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n     \r\n        String query =    &quot;QUERY &quot; ;\r\n    \r\n        Cursor cursor = db.rawQuery(query, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                list.add(cursor.getString(1));\r\n\r\n            } while (cursor.moveToNext());\r\n        }\r\n        return list;\r\n    }","title":"when user click on imageviw and textview related to image show success message (memory matching game)","body":"<p><strong>I have two cardview one contains image from data/data folder and second contains text from sqlite database.</strong></p>\n<p><strong>I am Using Collections.shuffle() to shuffle data (textview's text)of recyclerview.</strong>\n<strong>Now I want to match image and text after shuffle.t</strong></p>\n<p>This is method which is fetching text from sqlite and images from data/data folder to Recycleview.</p>\n<p>public void fetchData() {</p>\n<pre><code>    db = new matchdatabasehelper(this);\n    try {\n        db.createDataBase();\n        db.openDataBase();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n    data = db.getLessonMaster(this);\n    adapter = new matchAdapter(this, data, data1, this);\n    recyclerView.setAdapter(adapter);\n\n \n\n    Collections.shuffle(data);\n    Collections.shuffle(data1);\n\n    data1.clear();\n\n\n    String filePath = &quot;/data/data/PATH/1&quot;;\n    File file = new File(filePath);\n    File[] files = file.listFiles();\n    if (files != null) {\n        for (File file1 : files) {\n            if (file1.getPath().endsWith(&quot;.png&quot;) || file1.getPath().endsWith(&quot;.jpg&quot;)) {\n                data1.add(new imageModel( file1.getPath()));\n            }\n        }\n    }\n        recyclerView.setAdapter(adapter);\n\n\n\n}`\n</code></pre>\n<p><strong>Belove code represents bindview code where data is text and image data is image.</strong></p>\n<pre><code>         if (data != null &amp;&amp; imagedata != null) {\n              holder.textView\n                .setText(data.get(position));\n              Glide.with(activity).load(imagedata.get(position).getPath()).into(holder.imageView);\n</code></pre>\n<p><strong>belove code represents database helper class</strong></p>\n<p>public List getLessonMaster(\nActivity activity)</p>\n<pre><code>{\n\n    sqLiteOpenHelper\n            = new DatabaseHelper(activity);\n    SQLiteDatabase db\n            = sqLiteOpenHelper\n            .getWritableDatabase();\n\n    List&lt;String&gt; list\n            = new ArrayList&lt;&gt;();\n\n\n\n \n    String query =    &quot;QUERY &quot; ;\n\n    Cursor cursor = db.rawQuery(query, null);\n\n    if (cursor.moveToFirst()) {\n        do {\n            list.add(cursor.getString(1));\n\n        } while (cursor.moveToNext());\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","salesforce","cometd"],"owner":{"account_id":6622609,"reputation":95,"user_id":5113758,"accept_rate":33,"display_name":"KVL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675923003,"creation_date":1675923003,"question_id":75394844,"body_markdown":"seeing the below error in logs, not stopping the application flow but there is spike in threadcount.\r\n\r\n     {failure={exception=org.cometd.common.TransportException: {httpCode=503}, message={ext={replay=true}, supportedConnectionTypes=[long-polling], channel=/meta/handshake, id=12345, version=1.0}, httpCode=503, connectionType=long-polling}, channel=/meta/handshake, id=12345, successful=false}.","title":"CometD transport Exception in logs","body":"<p>seeing the below error in logs, not stopping the application flow but there is spike in threadcount.</p>\n<pre><code> {failure={exception=org.cometd.common.TransportException: {httpCode=503}, message={ext={replay=true}, supportedConnectionTypes=[long-polling], channel=/meta/handshake, id=12345, version=1.0}, httpCode=503, connectionType=long-polling}, channel=/meta/handshake, id=12345, successful=false}.\n</code></pre>\n"},{"tags":["java","java-9","java-11","java-module","jlink"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1556286380,"post_id":55868821,"comment_id":98397991,"body_markdown":"The JDK traditionally included a private JRE.","body":"The JDK traditionally included a private JRE."},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556286399,"post_id":55868821,"comment_id":98397998,"body_markdown":"you can download JREs from https://adoptopenjdk.net, e.g. for Windows: https://adoptopenjdk.net/releases.html#x64_win","body":"you can download JREs from <a href=\"https://adoptopenjdk.net\" rel=\"nofollow noreferrer\">adoptopenjdk.net</a>, e.g. for Windows: <a href=\"https://adoptopenjdk.net/releases.html#x64_win\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_win</a>"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556286685,"post_id":55868821,"comment_id":98398164,"body_markdown":"@Thorbj&#248;rnRavnAndersen yes, it&#39;s undestandable as it contains the JVM, but my question is more when it&#39;s discontinued as a separate offering : )","body":"@Thorbj&#248;rnRavnAndersen yes, it&#39;s undestandable as it contains the JVM, but my question is more when it&#39;s discontinued as a separate offering : )"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556289603,"post_id":55868821,"comment_id":98399781,"body_markdown":"@a_horse_with_no_name thanks for the suggestion, but I don&#39;t need to dowlnoad the jre separately : ) Through, do you know how it works behind the scenes? How jre is created from jdk? (Or is it even so)","body":"@a_horse_with_no_name thanks for the suggestion, but I don&#39;t need to dowlnoad the jre separately : ) Through, do you know how it works behind the scenes? How jre is created from jdk? (Or is it even so)"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556290700,"post_id":55868821,"comment_id":98400403,"body_markdown":"But you asked: &quot;*download of JRE is not possible directly only from Java 11*&quot; - and the answer to that is: yes it&#39;s possible to download only the JRE for Java 11. To create a JRE from a JDK `jlink` is used. But if you neither want to download the JRE and you already know it&#39;s created with jlink, then what exactly is your question?","body":"But you asked: &quot;<i>download of JRE is not possible directly only from Java 11</i>&quot; - and the answer to that is: yes it&#39;s possible to download only the JRE for Java 11. To create a JRE from a JDK <code>jlink</code> is used. But if you neither want to download the JRE and you already know it&#39;s created with jlink, then what exactly is your question?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1556295304,"post_id":55868821,"comment_id":98402823,"body_markdown":"@anasmi Yes, but some of the documentation you&#39;ve read is about the private JRE inside the JDK.","body":"@anasmi Yes, but some of the documentation you&#39;ve read is about the private JRE inside the JDK."},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556296946,"post_id":55868821,"comment_id":98403632,"body_markdown":"@a_horse_with_no_name As far as I understand, it&#39;s not possible for Java 11. or where can I you download the JRE separately? (Not to creat by hand via jlink, but download as it was possible with jdk and jre 8) My *assumption/understanding* is that JRE is not comming as a standalone product anymore. (Is this  wrong?) But my original question is from which version it&#39;s **not possible**  to dowload it separately 9 or 11? Sorry if I have phrased it&#39;s poorly :/","body":"@a_horse_with_no_name As far as I understand, it&#39;s not possible for Java 11. or where can I you download the JRE separately? (Not to creat by hand via jlink, but download as it was possible with jdk and jre 8) My <i>assumption/understanding</i> is that JRE is not comming as a standalone product anymore. (Is this  wrong?) But my original question is from which version it&#39;s <b>not possible</b>  to dowload it separately 9 or 11? Sorry if I have phrased it&#39;s poorly :/"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556297049,"post_id":55868821,"comment_id":98403668,"body_markdown":"@Thorbj&#248;rnRavnAndersen could you point me, please, which of this is for the private parts inside the JDK? Maybe it would explain  everything :)","body":"@Thorbj&#248;rnRavnAndersen could you point me, please, which of this is for the private parts inside the JDK? Maybe it would explain  everything :)"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556298468,"post_id":55868821,"comment_id":98404278,"body_markdown":"As I already mentioned: you **can** download a JRE from e.g. https://adoptopenjdk.net/releases.html#x64_win","body":"As I already mentioned: you <b>can</b> download a JRE from e.g. <a href=\"https://adoptopenjdk.net/releases.html#x64_win\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_win</a>"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556345652,"post_id":55868821,"comment_id":98414854,"body_markdown":"@a_horse_with_no_name to be honest, it&#39;s confusing me even more. &quot;*AdoptOpenJDK uses infrastructure, build and test scripts to produce prebuilt binaries from OpenJDK™ class libraries and a choice of either the OpenJDK HotSpot or Eclipse OpenJ9 VM.*&quot; So it&#39;s actually a tool that creates the JRE for you. (Not the separate implementation of Java Specification as Oracle and OpenJDK, which JRE&#39;s I can&#39;t download from the official page). Also, what all of those release notes means then?","body":"@a_horse_with_no_name to be honest, it&#39;s confusing me even more. &quot;<i>AdoptOpenJDK uses infrastructure, build and test scripts to produce prebuilt binaries from OpenJDK™ class libraries and a choice of either the OpenJDK HotSpot or Eclipse OpenJ9 VM.</i>&quot; So it&#39;s actually a tool that creates the JRE for you. (Not the separate implementation of Java Specification as Oracle and OpenJDK, which JRE&#39;s I can&#39;t download from the official page). Also, what all of those release notes means then?"},{"owner":{"display_name":"user330315"},"score":3,"creation_date":1556348569,"post_id":55868821,"comment_id":98415378,"body_markdown":"It&#39;s not a tool that creates a JRE for you. You can download a JRE from that link.","body":"It&#39;s not a tool that creates a JRE for you. You can download a JRE from that link."}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1678219079,"post_id":55878104,"comment_id":133490002,"body_markdown":"I also could not find any earlier public announcement about this from Oracle. As I recall, \nthe change was made with little fanfare, and no advance warning. In the Release Notes you link to I suspect the actual change was implemented by JDK-8185077, as documented in the _&quot;Removal of Java Deployment Technologies&quot;_ section. But even now that bug report is **&quot;not public&quot;**.","body":"I also could not find any earlier public announcement about this from Oracle. As I recall,  the change was made with little fanfare, and no advance warning. In the Release Notes you link to I suspect the actual change was implemented by JDK-8185077, as documented in the <i>&quot;Removal of Java Deployment Technologies&quot;</i> section. But even now that bug report is <b>&quot;not public&quot;</b>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1675922816,"creation_date":1556348322,"answer_id":55878104,"question_id":55868821,"body_markdown":"&gt; Is this the case and it is not possible to download JRE directly since Java 11?  Or am I mixing implementations between (Oracle and OpenJDK)? \r\n\r\nIt is correct (mostly).  From Java 11 onwards, neither Oracle JDK or OpenJDK JDK has a corresponding JRE available for public downloads.\r\n\r\n**However** (and this is where you are incorrect) other distributors of Java **do** provide JRE downloads (or packages) as an option.  Details may be found via the &quot;Java is still free&quot; link below. \r\n\r\n&gt; When JRE was completely discontinued as a separate offering?\r\n\r\nIt was discontinued for the Oracle and OpenJDK distributions with Java 11.  The Java 11 [release notes][1] state:\r\n\r\n&gt; *&quot;In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.&quot;* \r\n\r\nI have not been able to find any earlier public announcements from Oracle about the discontinuance of their JRE releases.  (If someone finds one, please comment ...)\r\n\r\n-------------\r\n\r\nPlease note:  this is a specific answer to the specific questions asked by the OP.  For more information on the status of Java vis-a-vis licenses, distributions, vendors, support, and whether or not Java is &quot;free&quot;, I recommend that you read the following:\r\n\r\n  - [&quot;Java is still free&quot;][2] written by the Java Champions community of independent Java leaders and experts.   \r\n\r\nIt is a &quot;live&quot; document, and is likely to remain a good source of up-to-date information; i.e. *more likely to be up-to-date than this Answer!*\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\r\n  [2]: https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b","title":"When JRE was completely discontinued as a separate offering?","body":"<blockquote>\n<p>Is this the case and it is not possible to download JRE directly since Java 11?  Or am I mixing implementations between (Oracle and OpenJDK)?</p>\n</blockquote>\n<p>It is correct (mostly).  From Java 11 onwards, neither Oracle JDK or OpenJDK JDK has a corresponding JRE available for public downloads.</p>\n<p><strong>However</strong> (and this is where you are incorrect) other distributors of Java <strong>do</strong> provide JRE downloads (or packages) as an option.  Details may be found via the &quot;Java is still free&quot; link below.</p>\n<blockquote>\n<p>When JRE was completely discontinued as a separate offering?</p>\n</blockquote>\n<p>It was discontinued for the Oracle and OpenJDK distributions with Java 11.  The Java 11 <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">release notes</a> state:</p>\n<blockquote>\n<p><em>&quot;In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.&quot;</em></p>\n</blockquote>\n<p>I have not been able to find any earlier public announcements from Oracle about the discontinuance of their JRE releases.  (If someone finds one, please comment ...)</p>\n<hr />\n<p>Please note:  this is a specific answer to the specific questions asked by the OP.  For more information on the status of Java vis-a-vis licenses, distributions, vendors, support, and whether or not Java is &quot;free&quot;, I recommend that you read the following:</p>\n<ul>\n<li><a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"nofollow noreferrer\">&quot;Java is still free&quot;</a> written by the Java Champions community of independent Java leaders and experts.</li>\n</ul>\n<p>It is a &quot;live&quot; document, and is likely to remain a good source of up-to-date information; i.e. <em>more likely to be up-to-date than this Answer!</em></p>\n"},{"comments":[{"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"score":0,"creation_date":1694445543,"post_id":59187135,"comment_id":135888585,"body_markdown":"Please note that the &quot;jre&quot; these vendors are offering is absolutely _not_ the same thing as the old JRE. The old JRE was a client side install that added support for Java Web Start and Applets. That has been discontinued as a bundled runtime is now the preferred deployment mechanism (and applets are obsolete)","body":"Please note that the &quot;jre&quot; these vendors are offering is absolutely <i>not</i> the same thing as the old JRE. The old JRE was a client side install that added support for Java Web Start and Applets. That has been discontinued as a bundled runtime is now the preferred deployment mechanism (and applets are obsolete)"}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643563554,"creation_date":1575511226,"answer_id":59187135,"question_id":55868821,"body_markdown":"First of all, the question is incorrect. JRE was not discontinued. It was only discontinued by Oracle. For example, on Linux, JRE is still available*:\r\n\r\n    $ apt-cache search openjdk-11-jre\r\n    openjdk-11-jre - OpenJDK Java runtime, using Hotspot JIT\r\n    openjdk-11-jre-headless - OpenJDK Java runtime, using Hotspot JIT (headless)\r\n    openjdk-11-jre-zero - Alternative JVM for OpenJDK, using Zero\r\n\r\n*\\* requires repository ppa:openjdk-r/ppa*\r\n\r\nSome other JDK providers still offer JRE as well:\r\n\r\n - [Azul Zulu][1] offers JRE.\r\n - [AdoptOpenJDK][2] offers JRE.\r\n - [Liberica JDK][3] offers JRE.\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/zulu-community/?&amp;architecture=x86-64-bit&amp;package=jre\r\n  [2]: https://adoptopenjdk.net/releases.html\r\n  [3]: https://bell-sw.com/pages/downloads/","title":"When JRE was completely discontinued as a separate offering?","body":"<p>First of all, the question is incorrect. JRE was not discontinued. It was only discontinued by Oracle. For example, on Linux, JRE is still available*:</p>\n<pre><code>$ apt-cache search openjdk-11-jre\nopenjdk-11-jre - OpenJDK Java runtime, using Hotspot JIT\nopenjdk-11-jre-headless - OpenJDK Java runtime, using Hotspot JIT (headless)\nopenjdk-11-jre-zero - Alternative JVM for OpenJDK, using Zero\n</code></pre>\n<p><em>* requires repository ppa:openjdk-r/ppa</em></p>\n<p>Some other JDK providers still offer JRE as well:</p>\n<ul>\n<li><a href=\"https://www.azul.com/downloads/zulu-community/?&amp;architecture=x86-64-bit&amp;package=jre\" rel=\"nofollow noreferrer\">Azul Zulu</a> offers JRE.</li>\n<li><a href=\"https://adoptopenjdk.net/releases.html\" rel=\"nofollow noreferrer\">AdoptOpenJDK</a> offers JRE.</li>\n<li><a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">Liberica JDK</a> offers JRE.</li>\n</ul>\n"}],"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13623,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":55878104,"answer_count":2,"score":17,"last_activity_date":1675922816,"creation_date":1556285726,"question_id":55868821,"body_markdown":"Starting from Java 9 the module system was introduced, making provision of JRE separately *redundant*.\n\nThrough, it seems that it was still possible to download it. For example, from here now [Java 9 archive](https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html)\nAlso, [here](http://openjdk.java.net/jeps/220) it&#39;s only stated that :\n\n&gt;Restructure the JDK and JRE run-time images to draw a clear distinction between files that developers, deployers, and end-users can rely upon and, when appropriate, modify, in contrast to files that are internal to the implementation and subject to change without notice.\n&gt;\n&gt;The new image structure eliminates this distinction: A JDK image is simply a run-time image that happens to contain the full set of development tools and other items historically found in the JDK.\n\nSo no talk about complete removal.\nFrom : [jdk-9](https://docs.oracle.com/javase/9/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350)\n&gt;When you install jdk-9, public jre-9 also gets installed automatically.\n\nAlso, I was thinking that started from Java 9 the custom runtime should be always  created using the jlink, but it seems it&#39;s enforced  now only from Java 11.\nFrom the release notes of Java 11 here [Oracle JDK release notes](https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html): \n&gt; In Windows and macOS, installing the JDK in previous releases optionally installed a JRE. In JDK 11, this is no longer an option.\nIn this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.\n\nBut then I can find a lot of discussions like those:\n\n- [Where is Java 9 JRE?](https://community.spiceworks.com/topic/2175168-where-is-java-9-jre)\n\n- [Create jre from OpenJDK Windows](https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows)\n- [Why did Java 11 JRE not install with JDK and where is the download for just the Java 11 JRE?](https://www.reddit.com/r/java/comments/9ualdq/why_did_java_11_jre_not_install_with_jdk_and/)\n- [Is there an openjdk-11-jre?](https://stackoverflow.com/questions/52714672/is-there-an-openjdk-11-jre)\n\nIs this the case and it is not possible to download JRE directly **since Java 11**? Or am I mixing implementations between (Oracle and OpenJDK)? Or were those discussions above misleading? \n\n\n*Edit: I don&#39;t need to download the jre, I could create it via jlink or use already avaialble solution, my question is more of a theoretic*. \n","title":"When JRE was completely discontinued as a separate offering?","body":"<p>Starting from Java 9 the module system was introduced, making provision of JRE separately <em>redundant</em>.</p>\n<p>Through, it seems that it was still possible to download it. For example, from here now <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html\" rel=\"noreferrer\">Java 9 archive</a>\nAlso, <a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">here</a> it's only stated that :</p>\n<blockquote>\n<p>Restructure the JDK and JRE run-time images to draw a clear distinction between files that developers, deployers, and end-users can rely upon and, when appropriate, modify, in contrast to files that are internal to the implementation and subject to change without notice.</p>\n<p>The new image structure eliminates this distinction: A JDK image is simply a run-time image that happens to contain the full set of development tools and other items historically found in the JDK.</p>\n</blockquote>\n<p>So no talk about complete removal.\nFrom : <a href=\"https://docs.oracle.com/javase/9/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\" rel=\"noreferrer\">jdk-9</a></p>\n<blockquote>\n<p>When you install jdk-9, public jre-9 also gets installed automatically.</p>\n</blockquote>\n<p>Also, I was thinking that started from Java 9 the custom runtime should be always  created using the jlink, but it seems it's enforced  now only from Java 11.\nFrom the release notes of Java 11 here <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"noreferrer\">Oracle JDK release notes</a>:</p>\n<blockquote>\n<p>In Windows and macOS, installing the JDK in previous releases optionally installed a JRE. In JDK 11, this is no longer an option.\nIn this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.</p>\n</blockquote>\n<p>But then I can find a lot of discussions like those:</p>\n<ul>\n<li><p><a href=\"https://community.spiceworks.com/topic/2175168-where-is-java-9-jre\" rel=\"noreferrer\">Where is Java 9 JRE?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows\">Create jre from OpenJDK Windows</a></p>\n</li>\n<li><p><a href=\"https://www.reddit.com/r/java/comments/9ualdq/why_did_java_11_jre_not_install_with_jdk_and/\" rel=\"noreferrer\">Why did Java 11 JRE not install with JDK and where is the download for just the Java 11 JRE?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/52714672/is-there-an-openjdk-11-jre\">Is there an openjdk-11-jre?</a></p>\n</li>\n</ul>\n<p>Is this the case and it is not possible to download JRE directly <strong>since Java 11</strong>? Or am I mixing implementations between (Oracle and OpenJDK)? Or were those discussions above misleading?</p>\n<p><em>Edit: I don't need to download the jre, I could create it via jlink or use already avaialble solution, my question is more of a theoretic</em>.</p>\n"},{"tags":["java","log4j2","apache-kafka-streams"],"owner":{"account_id":1990578,"reputation":445,"user_id":1784675,"display_name":"Sumit Sood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675921497,"creation_date":1675917513,"question_id":75394247,"body_markdown":"I recently moved my application from log4j1.x to log4j2.19.0. After migrating it to log4j2 my /var/log/message is flooded with Kafka debug logs and it quickly fills the space of /var directory\r\n\r\n    2023-02-09T04:19:15.748569+00:00  run-my-processor.sh[1635]: [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Processed 0 records with 1 iterations; invoking punctuators if necessary\r\n    2023-02-09T04:19:15.748637+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] 0 punctuators ran.\r\n    2023-02-09T04:19:15.748705+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Invoking poll on main Consumer\r\n\r\nMy log4j2.xml configuration is below. Not sure it is directly related to log4j2.xml or something else? Any help much appreciated \r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n\r\n        &lt;Properties&gt;\r\n                &lt;Property name=&quot;pattern&quot;&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36}:%line - %msg%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n                &lt;RollingFile name=&quot;LOG_FILE&quot; fileName=&quot;/opt/info/log/alert.log&quot;\r\n                                         filePattern=&quot;/var/log/mca/mca-connect/archive/mca-alert-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n                        &lt;PatternLayout&gt;\r\n                                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n                        &lt;/PatternLayout&gt;\r\n                        &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\r\n                                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\r\n                        &lt;/Policies&gt;\r\n                        &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\r\n                &lt;/RollingFile&gt;\r\n                &lt;RollingFile name=&quot;ERROR_LOG_FILE&quot; fileName=&quot;/opt/info/mca/log/markit-mca-alert-processor/mca-alert-error.log&quot;\r\n                                         filePattern=&quot;/opt/info/mca/log/markit-mca-alert-processor/archive/mca-alert-error-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n                        &lt;PatternLayout&gt;\r\n                                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n                        &lt;/PatternLayout&gt;\r\n\r\n                        &lt;ThresholdFilter level=&quot;ERROR&quot;  onMatch=&quot;ACCEPT&quot;   onMismatch=&quot;DENY&quot;/&gt;\r\n\r\n                        &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\r\n                                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\r\n                        &lt;/Policies&gt;\r\n                        &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\r\n                &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n\r\n        &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;org.springframework.jdbc&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n\r\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca.kafka&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca.elastic&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n\r\n\r\n&lt;/Configuration&gt;\r\n\r\nMy log4j Jars are \r\n[![enter image description here][1]][1]\r\n\r\nMy Kafka Jars are\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sA9Ha.png\r\n  [2]: https://i.stack.imgur.com/w2XUz.png","title":"/var/log/messages is flooded with kafaka debug logs after migrating from log4j1.x to log4j2","body":"<p>I recently moved my application from log4j1.x to log4j2.19.0. After migrating it to log4j2 my /var/log/message is flooded with Kafka debug logs and it quickly fills the space of /var directory</p>\n<pre><code>2023-02-09T04:19:15.748569+00:00  run-my-processor.sh[1635]: [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Processed 0 records with 1 iterations; invoking punctuators if necessary\n2023-02-09T04:19:15.748637+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] 0 punctuators ran.\n2023-02-09T04:19:15.748705+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Invoking poll on main Consumer\n</code></pre>\n<p>My log4j2.xml configuration is below. Not sure it is directly related to log4j2.xml or something else? Any help much appreciated\n</p>\n<pre><code>    &lt;Properties&gt;\n            &lt;Property name=&quot;pattern&quot;&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36}:%line - %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n            &lt;RollingFile name=&quot;LOG_FILE&quot; fileName=&quot;/opt/info/log/alert.log&quot;\n                                     filePattern=&quot;/var/log/mca/mca-connect/archive/mca-alert-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\n                    &lt;PatternLayout&gt;\n                            &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n                    &lt;/PatternLayout&gt;\n                    &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\n                    &lt;/Policies&gt;\n                    &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\n            &lt;/RollingFile&gt;\n            &lt;RollingFile name=&quot;ERROR_LOG_FILE&quot; fileName=&quot;/opt/info/mca/log/markit-mca-alert-processor/mca-alert-error.log&quot;\n                                     filePattern=&quot;/opt/info/mca/log/markit-mca-alert-processor/archive/mca-alert-error-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\n                    &lt;PatternLayout&gt;\n                            &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n                    &lt;/PatternLayout&gt;\n\n                    &lt;ThresholdFilter level=&quot;ERROR&quot;  onMatch=&quot;ACCEPT&quot;   onMismatch=&quot;DENY&quot;/&gt;\n\n                    &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\n                    &lt;/Policies&gt;\n                    &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\n            &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n    &lt;Logger name=&quot;org.springframework&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;org.springframework.jdbc&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n\n    &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca.kafka&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca.elastic&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n\n    &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Root&gt;\n    &lt;/Loggers&gt;\n</code></pre>\n\n<p>My log4j Jars are\n<a href=\"https://i.stack.imgur.com/sA9Ha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sA9Ha.png\" alt=\"enter image description here\" /></a></p>\n<p>My Kafka Jars are\n<a href=\"https://i.stack.imgur.com/w2XUz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2XUz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"score":0,"creation_date":1428072045,"post_id":29434209,"comment_id":47037868,"body_markdown":"This should answer your issue. http://stackoverflow.com/a/14174404/1251350","body":"This should answer your issue. <a href=\"http://stackoverflow.com/a/14174404/1251350\">stackoverflow.com/a/14174404/1251350</a>"}],"answers":[{"tags":[],"owner":{"account_id":6080709,"reputation":101,"user_id":4746575,"display_name":"ans"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428076182,"creation_date":1428076182,"answer_id":29435443,"question_id":29434209,"body_markdown":"    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n            User userDetails = (User) authentication.getPrincipal();\r\n            userDetails.setUsername(&quot;newusername&quot;);\r\n\r\nMy class User implements UserDetails. This solution is simple and it works.","title":"Change username in spring security when logged in","body":"<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        User userDetails = (User) authentication.getPrincipal();\n        userDetails.setUsername(\"newusername\");\n</code></pre>\n\n<p>My class User implements UserDetails. This solution is simple and it works.</p>\n"},{"comments":[{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510246514,"post_id":47203192,"comment_id":81363867,"body_markdown":"that will be changed on oauth as well?","body":"that will be changed on oauth as well?"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510286003,"post_id":47203192,"comment_id":81380209,"body_markdown":"Yes. To make quite sure if your username is changed or not after you changed username with those codes I recommended you, Just use this code SecurityContextHolder.getContext().getAuthentication().getName(); to get username and you will be able to see the changed usename.","body":"Yes. To make quite sure if your username is changed or not after you changed username with those codes I recommended you, Just use this code SecurityContextHolder.getContext().getAuthentication().getNa&zwnj;&#8203;me(); to get username and you will be able to see the changed usename."},{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510286079,"post_id":47203192,"comment_id":81380228,"body_markdown":"No, it didn&#39;t I tested today the access token still didn&#39;t changed in DB!","body":"No, it didn&#39;t I tested today the access token still didn&#39;t changed in DB!"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510286503,"post_id":47203192,"comment_id":81380331,"body_markdown":"Yes, To make quite sure if oauth is changed or not after you changed username using my codes that I recommended, Just use this code &quot;SecurityContextHolder.getContext().getAuthentication().getName()&quot; to see the changed username.","body":"Yes, To make quite sure if oauth is changed or not after you changed username using my codes that I recommended, Just use this code &quot;SecurityContextHolder.getContext().getAuthentication().getN&zwnj;&#8203;ame()&quot; to see the changed username."},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510286618,"post_id":47203192,"comment_id":81380367,"body_markdown":"Which DB do you use?","body":"Which DB do you use?"},{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510286739,"post_id":47203192,"comment_id":81380402,"body_markdown":"I checked the DB, i used postgres!","body":"I checked the DB, i used postgres!"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510460856,"post_id":47203192,"comment_id":81441247,"body_markdown":"I don&#39;t know why I suddenly may have the same problem as yours, so I changed the codes above a little bit to solve the problem so just try it. It seems like we need to define three things &#39;username&#39;, &#39;password&#39; and &#39;role&#39; to get authority on spring security.","body":"I don&#39;t know why I suddenly may have the same problem as yours, so I changed the codes above a little bit to solve the problem so just try it. It seems like we need to define three things &#39;username&#39;, &#39;password&#39; and &#39;role&#39; to get authority on spring security."},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510461708,"post_id":47203192,"comment_id":81441394,"body_markdown":"And I don&#39;t think this problem is related to database. Did you override UserDetailsService in Spring Security?","body":"And I don&#39;t think this problem is related to database. Did you override UserDetailsService in Spring Security?"},{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510777073,"post_id":47203192,"comment_id":81583836,"body_markdown":"Sure, but why you asking about UserdetailsService ? Because its token related thing!","body":"Sure, but why you asking about UserdetailsService ? Because its token related thing!"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510799845,"post_id":47203192,"comment_id":81592351,"body_markdown":"Sorry, I misunderstood.","body":"Sorry, I misunderstood."}],"tags":[],"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"comment_count":10,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675921230,"creation_date":1510234308,"answer_id":47203192,"question_id":29434209,"body_markdown":"After Logging in, you can change your username and password with this code:\r\n\r\n```js\r\nCollection&lt;SimpleGrantedAuthority&gt; nowAuthorities = \r\n  (Collection&lt;SimpleGrantedAuthority&gt;)SecurityContextHolder.getContext()\r\n                                                           .getAuthentication()\r\n                                                           .getAuthorities();\r\nUsernamePasswordAuthenticationToken authentication = \r\n  new UsernamePasswordAuthenticationToken(username, password, nowAuthorities);\r\n\r\nSecurityContextHolder.getContext().setAuthentication(authentication);\r\n```","title":"Change username in spring security when logged in","body":"<p>After Logging in, you can change your username and password with this code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Collection&lt;SimpleGrantedAuthority&gt; nowAuthorities = \n  (Collection&lt;SimpleGrantedAuthority&gt;)SecurityContextHolder.getContext()\n                                                           .getAuthentication()\n                                                           .getAuthorities();\nUsernamePasswordAuthenticationToken authentication = \n  new UsernamePasswordAuthenticationToken(username, password, nowAuthorities);\n\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"}],"owner":{"account_id":6080709,"reputation":101,"user_id":4746575,"display_name":"ans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7876,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1675921230,"creation_date":1428071736,"question_id":29434209,"body_markdown":"I want to change username while this user logged in system. I implemented my own crypt algorithm and cannot get real password to make a new authentication and put it in \r\n\r\n    Authentication authentication = new UsernamePasswordAuthenticationToken(principal, credentials);\r\n","title":"Change username in spring security when logged in","body":"<p>I want to change username while this user logged in system. I implemented my own crypt algorithm and cannot get real password to make a new authentication and put it in </p>\n\n<pre><code>Authentication authentication = new UsernamePasswordAuthenticationToken(principal, credentials);\n</code></pre>\n"},{"tags":["java","hibernate","object","accounting"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1296384138,"creation_date":1296384138,"answer_id":4842439,"question_id":4807294,"body_markdown":"    select (sum(flow.depositAmount) - sum(flow.withdrawalAmount) - current.amount) \r\n    from Balance flow, Balance current\r\n    where flow.user=:user\r\n    and current.user=:user \r\n    and current.currentBalanceFlag=true\r\n\r\nThis will return the difference between the sum of all flows and the current balance.\r\n\r\nOn a side note, you shouldn&#39;t have to check the integrity of your data. Unless you have gazillions of lines, computing the current balance with an SQL sum should be fast enough. ","title":"Account Balance verification with Java and Hibernate HQL","body":"<pre><code>select (sum(flow.depositAmount) - sum(flow.withdrawalAmount) - current.amount) \nfrom Balance flow, Balance current\nwhere flow.user=:user\nand current.user=:user \nand current.currentBalanceFlag=true\n</code></pre>\n\n<p>This will return the difference between the sum of all flows and the current balance.</p>\n\n<p>On a side note, you shouldn't have to check the integrity of your data. Unless you have gazillions of lines, computing the current balance with an SQL sum should be fast enough. </p>\n"}],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4842439,"answer_count":1,"score":2,"last_activity_date":1675921095,"creation_date":1296060542,"question_id":4807294,"body_markdown":"I have following properties in my current Account Balance object:\r\n\r\n    long id;                     // Database ID\r\n    Date date;                   // date when this balance object was created\r\n    boolean currentBalanceFlag;  // indicates this is the most recent balance\r\n    float amount;                // the total sum currently in the account balance\r\n    float depositAmount;         // amount deposited that resulted in this objects amount \r\n    float withdrawalAmount;      // amount withdrawn that resulted in this objects amount\r\n    Balance lastBalance;         // last balance object for traversing\r\n    User user;                   // owner of the balance\r\n    String note;                 // detailed description of transaction that resulted in current blanace\r\n\r\nThere are only two actions performed on the balance. Deposits and withdrawals. \r\n\r\n### The question is:  \r\n### How do I create HQL query that will: \r\n-sum all the `depositAmount` for `user`    \r\n-sum all `withdrawalAmount` for `user`   \r\n-subtract result of the first summation from second summation  \r\n-compare result of subtraction with the `amount` for `user` in `Balance` object that has `currentBalanceFlag` equal to `true` \r\n\r\nin pseudo code:\r\n \r\n    resultAmount = select ( sum(depositAmount) - sum(withdrawalAmount) ) from Balance where user=user\r\n    amount = select amount from Balance where user=user and currentBalanceFlag=true\r\n    \r\nAnd the final boolean result I&#39;d like to get from single call to the database with HQL query:  \r\n\r\n    resultAmount == amount","title":"Account Balance verification with Java and Hibernate HQL","body":"<p>I have following properties in my current Account Balance object:</p>\n<pre><code>long id;                     // Database ID\nDate date;                   // date when this balance object was created\nboolean currentBalanceFlag;  // indicates this is the most recent balance\nfloat amount;                // the total sum currently in the account balance\nfloat depositAmount;         // amount deposited that resulted in this objects amount \nfloat withdrawalAmount;      // amount withdrawn that resulted in this objects amount\nBalance lastBalance;         // last balance object for traversing\nUser user;                   // owner of the balance\nString note;                 // detailed description of transaction that resulted in current blanace\n</code></pre>\n<p>There are only two actions performed on the balance. Deposits and withdrawals.</p>\n<h3>The question is:</h3>\n<h3>How do I create HQL query that will:</h3>\n<p>-sum all the <code>depositAmount</code> for <code>user</code><br />\n-sum all <code>withdrawalAmount</code> for <code>user</code><br />\n-subtract result of the first summation from second summation<br />\n-compare result of subtraction with the <code>amount</code> for <code>user</code> in <code>Balance</code> object that has <code>currentBalanceFlag</code> equal to <code>true</code></p>\n<p>in pseudo code:</p>\n<pre><code>resultAmount = select ( sum(depositAmount) - sum(withdrawalAmount) ) from Balance where user=user\namount = select amount from Balance where user=user and currentBalanceFlag=true\n</code></pre>\n<p>And the final boolean result I'd like to get from single call to the database with HQL query:</p>\n<pre><code>resultAmount == amount\n</code></pre>\n"},{"tags":["java","string","stack"],"comments":[{"owner":{"account_id":252456,"reputation":2993,"user_id":530513,"accept_rate":100,"display_name":"David O&#39;Meara"},"score":1,"creation_date":1361165767,"post_id":14930073,"comment_id":20950707,"body_markdown":"is this a homework problem?","body":"is this a homework problem?"},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":0,"creation_date":1630851544,"post_id":14930073,"comment_id":122062604,"body_markdown":"Prefer [Deque](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Deque.html) instead of **Stack**, from Javadoc: \n `Deques can also be used as LIFO (Last-In-First-Out) stacks. This interface should be used in preference to the legacy Stack class`","body":"Prefer <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\">Deque</a> instead of <b>Stack</b>, from Javadoc:   <code>Deques can also be used as LIFO (Last-In-First-Out) stacks. This interface should be used in preference to the legacy Stack class</code>"}],"answers":[{"tags":[],"owner":{"account_id":1322392,"reputation":7439,"user_id":1690078,"accept_rate":67,"display_name":"Clyde"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1361166921,"creation_date":1361165592,"answer_id":14930103,"question_id":14930073,"body_markdown":"Yes, a stack is a suitable choice for the task, or you could use a recursive function. If you use a stack, then the idea is you push each opening bracket on the stack, when you encounter a closing bracket you check that the top of the stack matches it. If it matches, pop it off, if not that is an error. When complete, the stack should be empty.\r\n\r\n    import java.util.Stack;\r\n    public class Balanced {\r\n        public static boolean isBalanced(String in)\r\n        {\r\n            Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\r\n\r\n            for(char chr : in.toCharArray())\r\n            {\r\n                switch(chr) {\r\n\r\n                    case &#39;{&#39;:\r\n                    case &#39;(&#39;:\r\n                    case &#39;[&#39;:\r\n                        st.push(chr);\r\n                        break;\r\n\r\n                    case &#39;]&#39;:\r\n                        if(st.isEmpty() || st.pop() != &#39;[&#39;) \r\n                            return false;\r\n                        break;\r\n                    case &#39;)&#39;:\r\n                        if(st.isEmpty() || st.pop() != &#39;(&#39;)\r\n                            return false;\r\n                        break;\r\n                    case &#39;}&#39;:\r\n                        if(st.isEmpty() || st.pop() != &#39;{&#39;)\r\n                            return false;\r\n                        break;\r\n                }\r\n            }\r\n            return st.isEmpty();\r\n        }\r\n        public static void main(String args[]) {\r\n            if(args.length != 0) {\r\n                if(isBalanced(args[0]))\r\n                    System.out.println(args[0] + &quot; is balanced&quot;);\r\n                else\r\n                    System.out.println(args[0] + &quot; is not balanced&quot;);\r\n            }\r\n        }\r\n    }","title":"How to check if a String is balanced?","body":"<p>Yes, a stack is a suitable choice for the task, or you could use a recursive function. If you use a stack, then the idea is you push each opening bracket on the stack, when you encounter a closing bracket you check that the top of the stack matches it. If it matches, pop it off, if not that is an error. When complete, the stack should be empty.</p>\n\n<pre><code>import java.util.Stack;\npublic class Balanced {\n    public static boolean isBalanced(String in)\n    {\n        Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\n\n        for(char chr : in.toCharArray())\n        {\n            switch(chr) {\n\n                case '{':\n                case '(':\n                case '[':\n                    st.push(chr);\n                    break;\n\n                case ']':\n                    if(st.isEmpty() || st.pop() != '[') \n                        return false;\n                    break;\n                case ')':\n                    if(st.isEmpty() || st.pop() != '(')\n                        return false;\n                    break;\n                case '}':\n                    if(st.isEmpty() || st.pop() != '{')\n                        return false;\n                    break;\n            }\n        }\n        return st.isEmpty();\n    }\n    public static void main(String args[]) {\n        if(args.length != 0) {\n            if(isBalanced(args[0]))\n                System.out.println(args[0] + \" is balanced\");\n            else\n                System.out.println(args[0] + \" is not balanced\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1649504,"reputation":31606,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361165600,"creation_date":1361165600,"answer_id":14930105,"question_id":14930073,"body_markdown":"Well, roughly speaking, if it is balanced, that means your stack should be empty. \r\n\r\nFor that, you need to pop your stack when you parse a `}`\r\n\r\nAdditional requirement is to check that `}` is preceded by `{` or the character popped is a `{`.","title":"How to check if a String is balanced?","body":"<p>Well, roughly speaking, if it is balanced, that means your stack should be empty. </p>\n\n<p>For that, you need to pop your stack when you parse a <code>}</code></p>\n\n<p>Additional requirement is to check that <code>}</code> is preceded by <code>{</code> or the character popped is a <code>{</code>.</p>\n"},{"tags":[],"owner":{"account_id":270380,"reputation":3017,"user_id":560302,"accept_rate":73,"display_name":"MoveFast"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361165693,"creation_date":1361165693,"answer_id":14930122,"question_id":14930073,"body_markdown":"Following is a `Java` code sample to detect if a string is balanced. \r\n\r\n[http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html][1]\r\n\r\nThe idea is that - \r\n \r\n - For each opening brace `( [ { `, push it on the stack. \r\n - For closing brace `) ] }`, try to pop a matching opening brace `( [ }` from stack. If you can&#39;t find a matching opening brace, then string is not balanced. \r\n - If after processing the complete string, stack is empty then string is balanced. Otherwise string is not balanced. \r\n\r\n  [1]: http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html","title":"How to check if a String is balanced?","body":"<p>Following is a <code>Java</code> code sample to detect if a string is balanced. </p>\n\n<p><a href=\"http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html\" rel=\"nofollow\">http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html</a></p>\n\n<p>The idea is that - </p>\n\n<ul>\n<li>For each opening brace <code>( [ {</code>, push it on the stack. </li>\n<li>For closing brace <code>) ] }</code>, try to pop a matching opening brace <code>( [ }</code> from stack. If you can't find a matching opening brace, then string is not balanced. </li>\n<li>If after processing the complete string, stack is empty then string is balanced. Otherwise string is not balanced. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"comment_count":0,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1361166323,"creation_date":1361165699,"answer_id":14930123,"question_id":14930073,"body_markdown":"1) For every opening bracket: `{ [ (` push it to the stack.\r\n\r\n2) For every closing bracket: `} ] )` pop  from the stack and check whether the type of bracket matches. If not return `false`;\r\n\r\n**i.e.** current symbol in String is `}` and if poped from stack is anything else from `{` then return `false` immediately.\r\n\r\n3) If end of line and stack is not empty, return `false`, otherwise `true`.\r\n","title":"How to check if a String is balanced?","body":"<p>1) For every opening bracket: <code>{ [ (</code> push it to the stack.</p>\n\n<p>2) For every closing bracket: <code>} ] )</code> pop  from the stack and check whether the type of bracket matches. If not return <code>false</code>;</p>\n\n<p><strong>i.e.</strong> current symbol in String is <code>}</code> and if poped from stack is anything else from <code>{</code> then return <code>false</code> immediately.</p>\n\n<p>3) If end of line and stack is not empty, return <code>false</code>, otherwise <code>true</code>.</p>\n"},{"comments":[{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":1,"creation_date":1424378195,"post_id":28613604,"comment_id":45535812,"body_markdown":"Could you please provide a bit of explanation for your answer and break it into a [SSCCE](http://www.sscce.org/)? It&#39;s a bit hard to tell how exactly this solves the the user&#39;s problem and seems to go far beyond what the user is trying to accomplish. A more concise code sample that just answers the user&#39;s question, combined with a bit of explanation would make it a much better answer.","body":"Could you please provide a bit of explanation for your answer and break it into a <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>? It&#39;s a bit hard to tell how exactly this solves the the user&#39;s problem and seems to go far beyond what the user is trying to accomplish. A more concise code sample that just answers the user&#39;s question, combined with a bit of explanation would make it a much better answer."}],"tags":[],"owner":{"account_id":1179342,"reputation":69,"user_id":1154634,"display_name":"andybandy12"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424369352,"creation_date":1424368887,"answer_id":28613604,"question_id":14930073,"body_markdown":"    import java.util.Stack;\r\n\t\r\n\tpublic class SyntaxChecker {\r\n\t\r\n\t    /**\r\n\t     * This enum represents all types of open brackets. If we have a new type then\r\n\t     * just add it to this list with the corresponding closed bracket in the other\r\n\t     * ClosedBracketTypes enum\t\r\n\t     * @author AnishBivalkar\r\n\t     *\r\n\t     */\r\n\t\tprivate enum OpenBracketTypes {\r\n\t\t    LEFT_ROUND_BRACKET(&#39;(&#39;),\r\n\t\t    LEFT_SQUARE_BRACKET(&#39;[&#39;),\r\n\t\t    LEFT_CURLY_BRACKET(&#39;{&#39;);\r\n\t\r\n\t\t    char ch;\r\n\t\r\n\t\t    // Constructs the given bracket type\r\n\t\t    OpenBracketTypes(char ch) {\r\n\t\t\t    this.ch = ch;\r\n\t\t    }\r\n\t\r\n\t\t    // Getter for the type of bracket\r\n\t\t    public final char getBracket() {\r\n\t\t        return ch;\r\n\t\t    }\r\n\t\r\n\t\r\n\t\t    /**\r\n\t\t     * This method checks if the current character is of type OpenBrackets\r\n\t\t     * @param name\r\n\t\t     * @return True if the current character is of type OpenBrackets, false otherwise\r\n\t\t     */\r\n\t\t    public static boolean contains(final char name) {\r\n\t\t        for (OpenBracketTypes type : OpenBracketTypes.values()) {\r\n\t\t            if (type.getBracket() == name) {\r\n\t\t                return true;\r\n\t\t            }\r\n\t\t        }\r\n\t\r\n\t\t        return false;\r\n\t\t    }\r\n\t\t}\r\n\t\r\n\t    /**\r\n\t     * This enum represents all types of Closed brackets. If we have a new type then\r\n\t     * just add it to this list with the corresponding open bracket in the other\r\n\t     * OpenBracketTypes enum\t\r\n\t     * @author AnishBivalkar\r\n\t     *\r\n\t     */\r\n\t\tprivate enum CloseBracketTypes {\r\n\t\t    RIGHT_ROUND_BRACKET(&#39;)&#39;),\r\n\t\t    RIGHT_SQUARE_BRACKET(&#39;]&#39;),\r\n\t\t    RIGHT_CURLY_BRACKET(&#39;}&#39;);\r\n\t\r\n\t\t    char ch;\r\n\t\t    CloseBracketTypes(char ch) {\r\n\t\t\t    this.ch = ch;\r\n\t\t    }\r\n\t\r\n\t\t    private char getBracket() {\r\n\t\t\t\treturn ch;\r\n\t\t\t}\r\n\t\r\n\t\t    /**\r\n\t\t     * This method checks if a given bracket type is a closing bracket and if it correctly\r\n\t\t     * completes the opening bracket\r\n\t\t     * @param bracket\r\n\t\t     * @param brackets\r\n\t\t     * @return\r\n\t\t     */\r\n\t\t    public static boolean isBracketMatching(char bracket, Stack&lt;Character&gt; brackets) {\r\n\t\t    \t// If the current stack is empty and we encountered a closing bracket then this is\r\n\t\t    \t// an incorrect syntax\r\n\t\t    \tif (brackets.isEmpty()) {\r\n\t\t    \t\treturn false;\r\n\t\t    \t} else {\r\n\t\t\t    \tif (bracket == CloseBracketTypes.RIGHT_ROUND_BRACKET.getBracket()) {\r\n\t\t\t\t\t\tif (brackets.peek() == OpenBracketTypes.LEFT_ROUND_BRACKET.getBracket()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (bracket == CloseBracketTypes.RIGHT_SQUARE_BRACKET.ch) {\r\n\t\t\t\t\t\tif (brackets.peek() == OpenBracketTypes.LEFT_SQUARE_BRACKET.getBracket()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (bracket == CloseBracketTypes.RIGHT_CURLY_BRACKET.ch) {\r\n\t\t\t\t\t\tif (brackets.peek() == OpenBracketTypes.LEFT_CURLY_BRACKET.getBracket()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t    \treturn false;\r\n\t\t    \t}\r\n\t\t    }\r\n\t\r\n\t\t    /**\r\n\t\t     * This method checks if the current character is of type ClosedBrackets\r\n\t\t     * @param name\r\n\t\t     * @return true if the current character is of type ClosedBrackets, false otherwise\r\n\t\t     */\r\n\t\t\tpublic static boolean contains(final char name) {\r\n\t\t        for (CloseBracketTypes type : CloseBracketTypes.values()) {\r\n\t\t            if (type.getBracket() == name) {\r\n\t\t                return true;\r\n\t\t            }\r\n\t\t        }\r\n\t\r\n\t\t        return false;\r\n\t\t    }\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\t/**\r\n\t\t * This method check the syntax for brackets. There should always exist a\r\n\t\t * corresponding closing bracket for a open bracket of same type.\r\n\t\t * \r\n\t\t * It runs in O(N) time with O(N) worst case space complexity for the stack\r\n\t\t * @param sentence The string whose syntax is to be checked\r\n\t\t * @return         True if the syntax of the given string is correct, false otherwise\r\n\t\t */\r\n\t\tpublic static boolean matchBrackets(String sentence) {\r\n\t\t\tboolean bracketsMatched = true;\r\n\t\r\n\t\t\t// Check if sentence is null\r\n\t\t\tif (sentence == null) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Input cannot be null&quot;);\r\n\t\t\t}\r\n\t\r\n\t\t\t// Empty string has correct syntax\r\n\t\t\tif (sentence.isEmpty()) {\r\n\t\t\t\treturn bracketsMatched;\r\n\t\t\t} else {\r\n\t\t\t\tStack&lt;Character&gt; brackets = new Stack&lt;Character&gt;();\r\n\t\t\t\tchar[] letters = sentence.toCharArray();\r\n\t\r\n\t\t\t\tfor (char letter : letters) {\r\n\t\r\n\t\t\t\t\t// If the letter is a type of open bracket then push it \r\n\t\t\t\t\t// in stack else if the letter is a type of closing bracket \r\n\t\t\t\t\t// then pop it from the stack\r\n\t\t\t\t\tif (OpenBracketTypes.contains(letter)) {\r\n\t\t\t\t\t\tbrackets.push(letter);\r\n\t\t\t\t\t} else if (CloseBracketTypes.contains(letter)) {\r\n\t\t\t\t\t\tif (!CloseBracketTypes.isBracketMatching(letter, brackets)) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbrackets.pop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// If the stack is not empty then the syntax is incorrect\r\n\t\t\t\tif (!brackets.isEmpty()) {\r\n\t\t\t\t\tbracketsMatched = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn bracketsMatched;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString words = &quot;[[][][]Anfield[[]([])[]]becons()]&quot;;\r\n\t\t\tboolean isSyntaxCorrect = SyntaxChecker.matchBrackets(words);\r\n\t\r\n\t\t\tif (isSyntaxCorrect) {\r\n\t\t\t\tSystem.out.println(&quot;The syntax is correct&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Incorrect syntax&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAny feedback on this is most welcome. Please criticize if you find something is wrong or useless. I am just trying to learn.","title":"How to check if a String is balanced?","body":"<pre><code>import java.util.Stack;\n\npublic class SyntaxChecker {\n\n    /**\n     * This enum represents all types of open brackets. If we have a new type then\n     * just add it to this list with the corresponding closed bracket in the other\n     * ClosedBracketTypes enum  \n     * @author AnishBivalkar\n     *\n     */\n    private enum OpenBracketTypes {\n        LEFT_ROUND_BRACKET('('),\n        LEFT_SQUARE_BRACKET('['),\n        LEFT_CURLY_BRACKET('{');\n\n        char ch;\n\n        // Constructs the given bracket type\n        OpenBracketTypes(char ch) {\n            this.ch = ch;\n        }\n\n        // Getter for the type of bracket\n        public final char getBracket() {\n            return ch;\n        }\n\n\n        /**\n         * This method checks if the current character is of type OpenBrackets\n         * @param name\n         * @return True if the current character is of type OpenBrackets, false otherwise\n         */\n        public static boolean contains(final char name) {\n            for (OpenBracketTypes type : OpenBracketTypes.values()) {\n                if (type.getBracket() == name) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n\n    /**\n     * This enum represents all types of Closed brackets. If we have a new type then\n     * just add it to this list with the corresponding open bracket in the other\n     * OpenBracketTypes enum    \n     * @author AnishBivalkar\n     *\n     */\n    private enum CloseBracketTypes {\n        RIGHT_ROUND_BRACKET(')'),\n        RIGHT_SQUARE_BRACKET(']'),\n        RIGHT_CURLY_BRACKET('}');\n\n        char ch;\n        CloseBracketTypes(char ch) {\n            this.ch = ch;\n        }\n\n        private char getBracket() {\n            return ch;\n        }\n\n        /**\n         * This method checks if a given bracket type is a closing bracket and if it correctly\n         * completes the opening bracket\n         * @param bracket\n         * @param brackets\n         * @return\n         */\n        public static boolean isBracketMatching(char bracket, Stack&lt;Character&gt; brackets) {\n            // If the current stack is empty and we encountered a closing bracket then this is\n            // an incorrect syntax\n            if (brackets.isEmpty()) {\n                return false;\n            } else {\n                if (bracket == CloseBracketTypes.RIGHT_ROUND_BRACKET.getBracket()) {\n                    if (brackets.peek() == OpenBracketTypes.LEFT_ROUND_BRACKET.getBracket()) {\n                        return true;\n                    }\n                } else if (bracket == CloseBracketTypes.RIGHT_SQUARE_BRACKET.ch) {\n                    if (brackets.peek() == OpenBracketTypes.LEFT_SQUARE_BRACKET.getBracket()) {\n                        return true;\n                    }\n                } else if (bracket == CloseBracketTypes.RIGHT_CURLY_BRACKET.ch) {\n                    if (brackets.peek() == OpenBracketTypes.LEFT_CURLY_BRACKET.getBracket()) {\n                        return true;\n                    }\n                }\n\n                return false;\n            }\n        }\n\n        /**\n         * This method checks if the current character is of type ClosedBrackets\n         * @param name\n         * @return true if the current character is of type ClosedBrackets, false otherwise\n         */\n        public static boolean contains(final char name) {\n            for (CloseBracketTypes type : CloseBracketTypes.values()) {\n                if (type.getBracket() == name) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n\n\n    /**\n     * This method check the syntax for brackets. There should always exist a\n     * corresponding closing bracket for a open bracket of same type.\n     * \n     * It runs in O(N) time with O(N) worst case space complexity for the stack\n     * @param sentence The string whose syntax is to be checked\n     * @return         True if the syntax of the given string is correct, false otherwise\n     */\n    public static boolean matchBrackets(String sentence) {\n        boolean bracketsMatched = true;\n\n        // Check if sentence is null\n        if (sentence == null) {\n            throw new IllegalArgumentException(\"Input cannot be null\");\n        }\n\n        // Empty string has correct syntax\n        if (sentence.isEmpty()) {\n            return bracketsMatched;\n        } else {\n            Stack&lt;Character&gt; brackets = new Stack&lt;Character&gt;();\n            char[] letters = sentence.toCharArray();\n\n            for (char letter : letters) {\n\n                // If the letter is a type of open bracket then push it \n                // in stack else if the letter is a type of closing bracket \n                // then pop it from the stack\n                if (OpenBracketTypes.contains(letter)) {\n                    brackets.push(letter);\n                } else if (CloseBracketTypes.contains(letter)) {\n                    if (!CloseBracketTypes.isBracketMatching(letter, brackets)) {\n                        return false;\n                    } else {\n                        brackets.pop();\n                    }\n                }\n            }\n\n            // If the stack is not empty then the syntax is incorrect\n            if (!brackets.isEmpty()) {\n                bracketsMatched = false;\n            }\n        }\n\n        return bracketsMatched;\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        String words = \"[[][][]Anfield[[]([])[]]becons()]\";\n        boolean isSyntaxCorrect = SyntaxChecker.matchBrackets(words);\n\n        if (isSyntaxCorrect) {\n            System.out.println(\"The syntax is correct\");\n        } else {\n            System.out.println(\"Incorrect syntax\");\n        }\n    }\n}\n</code></pre>\n\n<p>Any feedback on this is most welcome. Please criticize if you find something is wrong or useless. I am just trying to learn.</p>\n"},{"comments":[{"owner":{"account_id":5705909,"reputation":3868,"user_id":4509457,"display_name":"Nikolay Mihaylov"},"score":0,"creation_date":1471113268,"post_id":38935604,"comment_id":65227503,"body_markdown":"Please add short explanation to your answer to help future visitors.","body":"Please add short explanation to your answer to help future visitors."}],"tags":[],"owner":{"account_id":9006837,"reputation":1,"user_id":6713187,"display_name":"Pankaj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471112018,"creation_date":1471111876,"answer_id":38935604,"question_id":14930073,"body_markdown":"    import java.util.*;\r\n    public class Parenthesis\r\n    {\r\n    \tpublic static void main (String ...argd)\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;enetr string&quot;);\r\n    \t\tString s=sc.nextLine();\r\n    \t\tStack&lt;Character&gt; st=new Stack&lt;Character&gt;();  \r\n    \t\tfor (int i=0;i&lt;s.length();++i)\r\n    \t\t{\r\n    \t\t\tif((s.charAt(i)==&#39;(&#39;)||(s.charAt(i)==&#39;{&#39;)||(s.charAt(i)==&#39;[&#39;))\r\n    \t\t\t{\r\n    \t\t\t\tst.push(s.charAt(i));\r\n    \t\t\t}\r\n    \t\t\telse if(st.isEmpty()==false)\r\n    \t\t\t{\t\r\n    \t\t\tswitch(s.charAt(i))\r\n    \t\t\t{\r\n    \t\t\tcase&#39;]&#39;:\r\n    \t\t\t\tif(st.pop()!=&#39;[&#39;)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;unbalanced&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase&#39;}&#39;:\r\n    \t\t\t\tif(st.pop()!=&#39;{&#39;)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;unbalanced&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase&#39;)&#39;:\r\n    \t\t\t\tif(st.pop()!=&#39;(&#39;)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;unbalanced&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t}\t\t\t\r\n    \t\tif(st.isEmpty())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;balanced paranthesis&quot;);\r\n    \t\t}\r\n    \t\telse \r\n    \t\t\tSystem.out.println(&quot;not balance&quot;);\r\n    \t}\t\r\n    }\r\n\r\n","title":"How to check if a String is balanced?","body":"<pre><code>import java.util.*;\npublic class Parenthesis\n{\n    public static void main (String ...argd)\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"enetr string\");\n        String s=sc.nextLine();\n        Stack&lt;Character&gt; st=new Stack&lt;Character&gt;();  \n        for (int i=0;i&lt;s.length();++i)\n        {\n            if((s.charAt(i)=='(')||(s.charAt(i)=='{')||(s.charAt(i)=='['))\n            {\n                st.push(s.charAt(i));\n            }\n            else if(st.isEmpty()==false)\n            {   \n            switch(s.charAt(i))\n            {\n            case']':\n                if(st.pop()!='[')\n                {\n                    System.out.println(\"unbalanced\");\n                    System.exit(0);\n                }\n                break;\n            case'}':\n                if(st.pop()!='{')\n                {\n                    System.out.println(\"unbalanced\");\n                    System.exit(0);\n                }\n                break;\n            case')':\n                if(st.pop()!='(')\n                {\n                    System.out.println(\"unbalanced\");\n                    System.exit(0);\n                }\n                break;\n            }\n            }\n        }           \n        if(st.isEmpty())\n        {\n            System.out.println(\"balanced paranthesis\");\n        }\n        else \n            System.out.println(\"not balance\");\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403920,"reputation":174,"user_id":771951,"display_name":"marcello"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559943517,"creation_date":1559943517,"answer_id":56501490,"question_id":14930073,"body_markdown":"I wrote this code to solve this problem using only an integer (or maybe a byte) variable per bracket type.\r\n\r\n\r\n    public boolean checkWithIntegers(String input) {\r\n\r\n        int brackets = 0;\r\n        \r\n        for (char c: input.toCharArray()) {\r\n        \r\n            switch (c) {\r\n                \r\n                case &#39;(&#39;:\r\n                    \r\n                    brackets++;\r\n                    \r\n                    break;\r\n                    \r\n                case &#39;)&#39;:\r\n                    \r\n                    if (brackets == 0)\r\n                        return false;\r\n\r\n                    brackets--;\r\n                    \r\n                    break;\r\n                    \r\n                default:\r\n                    \r\n                    break;\r\n            }\r\n        }\r\n        \r\n        \r\n        return brackets == 0;\r\n    }\r\n    \r\n    public static void main(String... args) {\r\n    \r\n        Borrar b = new Borrar();\r\n        System.out.println( b.checkWithIntegers(&quot;&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;(&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;)&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;)(&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;()&quot;) );\r\n        \r\n    }\r\n    \r\nOBS\r\n\r\n 1. I&#39;m assuming that an empty string is balanced. That can be changed with just a previous check.\r\n 2. I&#39;m using only one type of bracket example, but other types can be added quickly just adding another case switch.\r\n\r\nHope this help.\r\nCheers!","title":"How to check if a String is balanced?","body":"<p>I wrote this code to solve this problem using only an integer (or maybe a byte) variable per bracket type.</p>\n\n<pre><code>public boolean checkWithIntegers(String input) {\n\n    int brackets = 0;\n\n    for (char c: input.toCharArray()) {\n\n        switch (c) {\n\n            case '(':\n\n                brackets++;\n\n                break;\n\n            case ')':\n\n                if (brackets == 0)\n                    return false;\n\n                brackets--;\n\n                break;\n\n            default:\n\n                break;\n        }\n    }\n\n\n    return brackets == 0;\n}\n\npublic static void main(String... args) {\n\n    Borrar b = new Borrar();\n    System.out.println( b.checkWithIntegers(\"\") );\n    System.out.println( b.checkWithIntegers(\"(\") );\n    System.out.println( b.checkWithIntegers(\")\") );\n    System.out.println( b.checkWithIntegers(\")(\") );\n    System.out.println( b.checkWithIntegers(\"()\") );\n\n}\n</code></pre>\n\n<p>OBS</p>\n\n<ol>\n<li>I'm assuming that an empty string is balanced. That can be changed with just a previous check.</li>\n<li>I'm using only one type of bracket example, but other types can be added quickly just adding another case switch.</li>\n</ol>\n\n<p>Hope this help.\nCheers!</p>\n"},{"tags":[],"owner":{"account_id":14352232,"reputation":1,"user_id":10367321,"display_name":"Coder93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571298212,"creation_date":1571298212,"answer_id":58427410,"question_id":14930073,"body_markdown":"corresponding Hackrrank link: https://www.hackerrank.com/challenges/balanced-brackets/problem\r\n\r\n    import java.util.Stack;\r\n    \r\n    class BalancedParenthesis {\r\n        static String isBalanced(String s) {\r\n            return isBalanced(s.toCharArray());\r\n        }\r\n    \r\n        private static String isBalanced(final char[] chars) {\r\n            final Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n            for (char eachChar : chars) {\r\n                if (eachChar == &#39;{&#39; || eachChar == &#39;[&#39; || eachChar == &#39;(&#39;) {\r\n                    stack.push(eachChar);\r\n                } else {\r\n                    if (stack.isEmpty()) {\r\n                        return &quot;NO&quot;;\r\n                    }\r\n                    if (correspondingCloseBracket(stack.peek()) != eachChar) {\r\n                        return &quot;NO&quot;;\r\n                    }\r\n                    stack.pop();\r\n                }\r\n            }\r\n            return stack.isEmpty() ? &quot;YES&quot; : &quot;NO&quot;;\r\n        }\r\n    \r\n        private static char correspondingCloseBracket(final char eachChar) {\r\n            if (eachChar == &#39;{&#39;) {\r\n                return &#39;}&#39;;\r\n            }\r\n            if (eachChar == &#39;[&#39;) {\r\n                return &#39;]&#39;;\r\n            }\r\n            return &#39;)&#39;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to check if a String is balanced?","body":"<p>corresponding Hackrrank link: <a href=\"https://www.hackerrank.com/challenges/balanced-brackets/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/balanced-brackets/problem</a></p>\n\n<pre><code>import java.util.Stack;\n\nclass BalancedParenthesis {\n    static String isBalanced(String s) {\n        return isBalanced(s.toCharArray());\n    }\n\n    private static String isBalanced(final char[] chars) {\n        final Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n        for (char eachChar : chars) {\n            if (eachChar == '{' || eachChar == '[' || eachChar == '(') {\n                stack.push(eachChar);\n            } else {\n                if (stack.isEmpty()) {\n                    return \"NO\";\n                }\n                if (correspondingCloseBracket(stack.peek()) != eachChar) {\n                    return \"NO\";\n                }\n                stack.pop();\n            }\n        }\n        return stack.isEmpty() ? \"YES\" : \"NO\";\n    }\n\n    private static char correspondingCloseBracket(final char eachChar) {\n        if (eachChar == '{') {\n            return '}';\n        }\n        if (eachChar == '[') {\n            return ']';\n        }\n        return ')';\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630852324,"creation_date":1630852324,"answer_id":69064310,"question_id":14930073,"body_markdown":"I assume that `null` or `empty` value is a balanced string, I used a `Map` to track each opening/closing brackets:\r\n\r\n  \r\n\r\n    static boolean isBalanced(String value) {\r\n        if (value == null || value.isBlank()) {\r\n          return true;\r\n        }\r\n    \r\n        if (value.length() % 2 != 0) {\r\n          return false;\r\n        }\r\n    \r\n        Map&lt;Character, Character&gt; bracketMirrors = Map.of(&#39;(&#39;, &#39;)&#39;,\r\n          &#39;{&#39;, &#39;}&#39;,\r\n          &#39;[&#39;, &#39;]&#39;);\r\n    \r\n        Deque&lt;Character&gt; characters = new ArrayDeque&lt;&gt;();\r\n    \r\n        for (char c : value.toCharArray()) {\r\n          if (bracketMirrors.containsValue(c)) {\r\n            if (characters.isEmpty() || c != bracketMirrors.get(characters.pop())) {\r\n              return false;\r\n            }\r\n          } else {\r\n            characters.push(c);\r\n          }\r\n        }\r\n    \r\n        return characters.isEmpty();\r\n      }","title":"How to check if a String is balanced?","body":"<p>I assume that <code>null</code> or <code>empty</code> value is a balanced string, I used a <code>Map</code> to track each opening/closing brackets:</p>\n<pre><code>static boolean isBalanced(String value) {\n    if (value == null || value.isBlank()) {\n      return true;\n    }\n\n    if (value.length() % 2 != 0) {\n      return false;\n    }\n\n    Map&lt;Character, Character&gt; bracketMirrors = Map.of('(', ')',\n      '{', '}',\n      '[', ']');\n\n    Deque&lt;Character&gt; characters = new ArrayDeque&lt;&gt;();\n\n    for (char c : value.toCharArray()) {\n      if (bracketMirrors.containsValue(c)) {\n        if (characters.isEmpty() || c != bracketMirrors.get(characters.pop())) {\n          return false;\n        }\n      } else {\n        characters.push(c);\n      }\n    }\n\n    return characters.isEmpty();\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23459648,"reputation":21,"user_id":17514662,"display_name":"Ar_666"},"score":1,"creation_date":1642239774,"post_id":70720315,"comment_id":125021676,"body_markdown":"To check consecutive balanced or not","body":"To check consecutive balanced or not"}],"tags":[],"owner":{"account_id":23459648,"reputation":21,"user_id":17514662,"display_name":"Ar_666"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642246318,"creation_date":1642239500,"answer_id":70720315,"question_id":14930073,"body_markdown":"```python\r\ndef balance (string):\r\n\r\n    if ((len(string)%2)!=0):\r\n        return(&quot;Not Balanced&quot;)\r\n    else:\r\n        check_num=[]    \r\n        def check(num1,num2):\r\n            if ((num1==&#39;[&#39;and num2==&#39;]&#39;) or (num1==&#39;{&#39;and num2==&#39;}&#39;) or (num1==&#39;(&#39;and num2==&#39;)&#39;)) :\r\n                check_num.append(&#39;B&#39;)\r\n            else:\r\n                 check_num.append(&#39;N&#39;)\r\n\r\n        i=0        \r\n        while i &lt; (len(string)-1):\r\n            check(string[i],string[i+1])\r\n            i+=2\r\n\r\n        if &#39;N&#39; in check_num:\r\n             return(&quot;Not Balanced&quot;)\r\n        else:\r\n            return(&quot;Balanced&quot;)","title":"How to check if a String is balanced?","body":"<pre class=\"lang-py prettyprint-override\"><code>def balance (string):\n\n    if ((len(string)%2)!=0):\n        return(&quot;Not Balanced&quot;)\n    else:\n        check_num=[]    \n        def check(num1,num2):\n            if ((num1=='['and num2==']') or (num1=='{'and num2=='}') or (num1=='('and num2==')')) :\n                check_num.append('B')\n            else:\n                 check_num.append('N')\n\n        i=0        \n        while i &lt; (len(string)-1):\n            check(string[i],string[i+1])\n            i+=2\n\n        if 'N' in check_num:\n             return(&quot;Not Balanced&quot;)\n        else:\n            return(&quot;Balanced&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440892,"reputation":1,"user_id":18364612,"display_name":"MadhuG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646323831,"creation_date":1646314393,"answer_id":71338080,"question_id":14930073,"body_markdown":"    public class IsBalanced {\r\n\r\n\tstatic Boolean isBalanced(String expStr) {\r\n\t\tBoolean balanced = false;\r\n\r\n\t\tint openedBraces = 0;\r\n\t\tint closeddBraces = 0;\r\n\t\tfor (int i = 0; i &lt; expStr.length(); i++) {\r\n\t\t\tif (expStr.charAt(i) == &#39;{&#39; || expStr.charAt(i) == &#39;(&#39; || expStr.charAt(i) == &#39;[&#39;) {\r\n\t\t\t\tfor (int j = i + 1; j &lt; expStr.length(); j++) {\r\n\t\t\t\t\tif (expStr.charAt(i) == &#39;{&#39;) {\r\n\t\t\t\t\t\tif (expStr.charAt(j) == &#39;}&#39;) {\r\n\t\t\t\t\t\t\tcloseddBraces++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (expStr.charAt(i) == &#39;(&#39;) {\r\n\t\t\t\t\t\tif (expStr.charAt(j) == &#39;)&#39;) {\r\n\t\t\t\t\t\t\tcloseddBraces++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (expStr.charAt(i) == &#39;[&#39;) {\r\n\t\t\t\t\t\tif (expStr.charAt(j) == &#39;]&#39;) {\r\n\t\t\t\t\t\t\tcloseddBraces++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\topenedBraces++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;openedBraces : &quot; + openedBraces + &quot; , closeddBraces : &quot; + closeddBraces);\r\n\t\tif (openedBraces == closeddBraces) {\r\n\t\t\tbalanced = true;\r\n\t\t}\r\n\t\treturn balanced;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString str = &quot;{[()]}[[]](&quot;;\r\n\t\tif (isBalanced(str))\r\n\t\t\tSystem.out.println(&quot;Balanced&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;NotBalanced&quot;);\r\n\t}\r\n\r\n    }","title":"How to check if a String is balanced?","body":"<pre><code>public class IsBalanced {\n\nstatic Boolean isBalanced(String expStr) {\n    Boolean balanced = false;\n\n    int openedBraces = 0;\n    int closeddBraces = 0;\n    for (int i = 0; i &lt; expStr.length(); i++) {\n        if (expStr.charAt(i) == '{' || expStr.charAt(i) == '(' || expStr.charAt(i) == '[') {\n            for (int j = i + 1; j &lt; expStr.length(); j++) {\n                if (expStr.charAt(i) == '{') {\n                    if (expStr.charAt(j) == '}') {\n                        closeddBraces++;\n                        break;\n                    }\n                } else if (expStr.charAt(i) == '(') {\n                    if (expStr.charAt(j) == ')') {\n                        closeddBraces++;\n                        break;\n                    }\n                } else if (expStr.charAt(i) == '[') {\n                    if (expStr.charAt(j) == ']') {\n                        closeddBraces++;\n                        break;\n                    }\n                }\n            }\n            openedBraces++;\n        }\n    }\n    System.out.println(&quot;openedBraces : &quot; + openedBraces + &quot; , closeddBraces : &quot; + closeddBraces);\n    if (openedBraces == closeddBraces) {\n        balanced = true;\n    }\n    return balanced;\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    String str = &quot;{[()]}[[]](&quot;;\n    if (isBalanced(str))\n        System.out.println(&quot;Balanced&quot;);\n    else\n        System.out.println(&quot;NotBalanced&quot;);\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2379815,"reputation":818,"user_id":2082068,"accept_rate":80,"display_name":"Mike John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53045,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":14930123,"answer_count":11,"score":12,"last_activity_date":1675920247,"creation_date":1361165374,"question_id":14930073,"body_markdown":"I want to test if an input String is balanced. It would be balanced if there is a matching opening and closing parenthesis, bracket or brace.\r\n\r\n    example:\r\n    {} balanced\r\n    () balanced\r\n    [] balanced\r\n    If S is balanced so is (S)\r\n    If S and T are balanced so is ST\r\n\r\n\r\n\tpublic static boolean isBalanced(String in)\r\n\t{\r\n\t\tStack st = new Stack();\r\n\r\n\t\tfor(char chr : in.toCharArray())\r\n\t\t{\r\n\t\t\tif(chr == &#39;{&#39;)\r\n\t\t\t\tst.push(chr);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\nI&#39;m having problems choosing what to do. Should I put every opening or closing parenthesis, bracket, or brace in a stack then pop them out? If I pop them out, how does that really help me?\r\n","title":"How to check if a String is balanced?","body":"<p>I want to test if an input String is balanced. It would be balanced if there is a matching opening and closing parenthesis, bracket or brace.</p>\n\n<pre><code>example:\n{} balanced\n() balanced\n[] balanced\nIf S is balanced so is (S)\nIf S and T are balanced so is ST\n\n\npublic static boolean isBalanced(String in)\n{\n    Stack st = new Stack();\n\n    for(char chr : in.toCharArray())\n    {\n        if(chr == '{')\n            st.push(chr);\n\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>I'm having problems choosing what to do. Should I put every opening or closing parenthesis, bracket, or brace in a stack then pop them out? If I pop them out, how does that really help me?</p>\n"},{"tags":["java","java-stream","protobuf-java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675905413,"post_id":75392991,"comment_id":133030586,"body_markdown":"Note that nothing is going to perform better than your loops, it&#39;s just that you *might* be able to write something that looks simpler.","body":"Note that nothing is going to perform better than your loops, it&#39;s just that you <i>might</i> be able to write something that looks simpler."}],"answers":[{"comments":[{"owner":{"account_id":4860187,"reputation":333,"user_id":3920066,"accept_rate":57,"display_name":"Sauchin"},"score":0,"creation_date":1675902749,"post_id":75393042,"comment_id":133030191,"body_markdown":"oh apologies, I just realized that my setCustomerStatus method was an in place update. An actual object is a protobuf object that can not be updated in place and needs a replacement with updated object that is a copy of the original one with new status. Just changed the example","body":"oh apologies, I just realized that my setCustomerStatus method was an in place update. An actual object is a protobuf object that can not be updated in place and needs a replacement with updated object that is a copy of the original one with new status. Just changed the example"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675902478,"creation_date":1675902478,"answer_id":75393042,"question_id":75392991,"body_markdown":"It&#39;s a bit unclear from your code why you are adding the lists back to the objects once you do the update. As far as I can see you are updating the c objects in place (i.e. they are mutable) so it&#39;s not clear why they need to be re-added to the A and B objects.\r\n\r\nAssuming that&#39;s a mistake, you could just flatten out the hierarchy and then do the updates:\r\n\r\n    getObjectBList().stream().flatMap(ObjectB::getObjectCList)\r\n        .filter(c -&gt; c.getCustomerId() == 123)\r\n        .forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\r\n\r\nIf there&#39;s a reason to create a new list then that can be achieved as well but how to do it best depends on why you want to do that.","title":"Java stream - Performant way to update hierarchical object","body":"<p>It's a bit unclear from your code why you are adding the lists back to the objects once you do the update. As far as I can see you are updating the c objects in place (i.e. they are mutable) so it's not clear why they need to be re-added to the A and B objects.</p>\n<p>Assuming that's a mistake, you could just flatten out the hierarchy and then do the updates:</p>\n<pre><code>getObjectBList().stream().flatMap(ObjectB::getObjectCList)\n    .filter(c -&gt; c.getCustomerId() == 123)\n    .forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\n</code></pre>\n<p>If there's a reason to create a new list then that can be achieved as well but how to do it best depends on why you want to do that.</p>\n"},{"tags":[],"owner":{"account_id":13359761,"reputation":391,"user_id":10079966,"display_name":"Vml11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675902794,"creation_date":1675902794,"answer_id":75393060,"question_id":75392991,"body_markdown":"This is another option if you don&#39;t want to flat it\r\n```\r\n// Say you have objA reference\r\n\r\nobjA.getObjectBList().forEach(objBList -&gt; objBList.getObjectCList().\r\nstream().filter(objCList-&gt; objCList.getCustomerId() == 123)\r\n.forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\r\n","title":"Java stream - Performant way to update hierarchical object","body":"<p>This is another option if you don't want to flat it</p>\n<pre><code>// Say you have objA reference\n\nobjA.getObjectBList().forEach(objBList -&gt; objBList.getObjectCList().\nstream().filter(objCList-&gt; objCList.getCustomerId() == 123)\n.forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675920068,"creation_date":1675919555,"answer_id":75394463,"question_id":75392991,"body_markdown":"If all objects are immutable, you can try following solution.\r\n```java\r\n    record C(int customerId, String customerStatus){}\r\n    record B(List&lt;C&gt; getObjectCList){}\r\n    record A(List&lt;B&gt; getObjectBList){}\r\n\r\n    public static void main(String[] args){\r\n        var objectA = new A(new ArrayList&lt;&gt;());\r\n        var newObjectBList = objectA.getObjectBList().stream().map(objectB -&gt; {\r\n            var newObjectCList = objectB.getObjectCList().stream().map(objectC -&gt; {\r\n                return objectC.customerId == 123 ? new C(objectC.customerId, &quot;UpdatedStatus&quot;) : objectC;\r\n            }).toList();\r\n            return new B(newObjectCList);\r\n        }).toList();\r\n\r\n        var newObjectA = new A(newObjectBList);\r\n    }\r\n```\r\nActually, this is a functional programming style.","title":"Java stream - Performant way to update hierarchical object","body":"<p>If all objects are immutable, you can try following solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    record C(int customerId, String customerStatus){}\n    record B(List&lt;C&gt; getObjectCList){}\n    record A(List&lt;B&gt; getObjectBList){}\n\n    public static void main(String[] args){\n        var objectA = new A(new ArrayList&lt;&gt;());\n        var newObjectBList = objectA.getObjectBList().stream().map(objectB -&gt; {\n            var newObjectCList = objectB.getObjectCList().stream().map(objectC -&gt; {\n                return objectC.customerId == 123 ? new C(objectC.customerId, &quot;UpdatedStatus&quot;) : objectC;\n            }).toList();\n            return new B(newObjectCList);\n        }).toList();\n\n        var newObjectA = new A(newObjectBList);\n    }\n</code></pre>\n<p>Actually, this is a functional programming style.</p>\n"}],"owner":{"account_id":4860187,"reputation":333,"user_id":3920066,"accept_rate":57,"display_name":"Sauchin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675920068,"creation_date":1675901846,"question_id":75392991,"body_markdown":"I need to update an internal object matching criteria. This internal object is deep inside a large object with a hierarchy. The object is something like\r\n\r\n    ObjectA {\r\n      List ObjectB {\r\n        List Object C{ \r\n          int customerId;\r\n          String customerStatus;\r\n        }\r\n      }\r\n    }\r\n\r\nI need to update &quot;customerStatus&quot; only if customerId is matched to &quot;123&quot;.\r\n\r\nThis entire objectA is stored in the database as a single object (in the real world, this is a protobuf object. Therefore this object is not updated in place)\r\n\r\nThe non-stream way involves a bunch of loops \r\n\r\n    List&lt;ObjectB&gt; objectBList = objectA.getObjectBList();\r\n    List&lt;ObjectB&gt; updatedObjectBList = new ArrayList&lt;&gt;();\r\n\r\n    for(objectB: objectBList) {\r\n       List&lt;ObjectC&gt; objectCList = objectB.getObjectCList();\r\n       \r\n       List&lt;ObjectC&gt; updatedObjectCList = new ArrayList&lt;&gt;();\r\n       for(objectC: objectCList) {\r\n          if(objectC.getCustomerId() == 123) {\r\n             objectC = createNewObjectCwithUpdatedStatus(&quot;UpdatedStatus&quot;);\r\n          }\r\n\r\n         updatedObjectCList.add(objectC);\r\n       }\r\n\r\n       updatedObjectBList.addObjectCList(updatedObjectCList);  \r\n    }\r\n\r\n    updatedObjectA.addObjectBList(updatedObjectBList);\r\n\r\n    writeUpdateObjectA_to_storage(updatedObjectA);\r\n\r\nIs there a way to write this multiple IF condition using streams option?\r\n","title":"Java stream - Performant way to update hierarchical object","body":"<p>I need to update an internal object matching criteria. This internal object is deep inside a large object with a hierarchy. The object is something like</p>\n<pre><code>ObjectA {\n  List ObjectB {\n    List Object C{ \n      int customerId;\n      String customerStatus;\n    }\n  }\n}\n</code></pre>\n<p>I need to update &quot;customerStatus&quot; only if customerId is matched to &quot;123&quot;.</p>\n<p>This entire objectA is stored in the database as a single object (in the real world, this is a protobuf object. Therefore this object is not updated in place)</p>\n<p>The non-stream way involves a bunch of loops</p>\n<pre><code>List&lt;ObjectB&gt; objectBList = objectA.getObjectBList();\nList&lt;ObjectB&gt; updatedObjectBList = new ArrayList&lt;&gt;();\n\nfor(objectB: objectBList) {\n   List&lt;ObjectC&gt; objectCList = objectB.getObjectCList();\n   \n   List&lt;ObjectC&gt; updatedObjectCList = new ArrayList&lt;&gt;();\n   for(objectC: objectCList) {\n      if(objectC.getCustomerId() == 123) {\n         objectC = createNewObjectCwithUpdatedStatus(&quot;UpdatedStatus&quot;);\n      }\n\n     updatedObjectCList.add(objectC);\n   }\n\n   updatedObjectBList.addObjectCList(updatedObjectCList);  \n}\n\nupdatedObjectA.addObjectBList(updatedObjectBList);\n\nwriteUpdateObjectA_to_storage(updatedObjectA);\n</code></pre>\n<p>Is there a way to write this multiple IF condition using streams option?</p>\n"},{"tags":["python","java","algorithm","dictionary","data-structures"],"answers":[{"comments":[{"owner":{"account_id":25353730,"reputation":65,"user_id":19170200,"display_name":"ring0-collections"},"score":1,"creation_date":1675902136,"post_id":75392865,"comment_id":133030101,"body_markdown":"Thanks for the explanation and optimization tips. About using two dictionaries, one for the connections and one for its values - what if I cannot have the data centralized to a single dictionary? For instance if each node is a server, the data associated with each node would be local to each node. Is using node objects the only solution in that case?","body":"Thanks for the explanation and optimization tips. About using two dictionaries, one for the connections and one for its values - what if I cannot have the data centralized to a single dictionary? For instance if each node is a server, the data associated with each node would be local to each node. Is using node objects the only solution in that case?"},{"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"score":1,"creation_date":1675919143,"post_id":75392865,"comment_id":133032368,"body_markdown":"No, nothing stops you from having the dictionary values being your own data structure or a tuple. Only the keys need to be some type that&#39;s hashable.","body":"No, nothing stops you from having the dictionary values being your own data structure or a tuple. Only the keys need to be some type that&#39;s hashable."},{"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"score":1,"creation_date":1675919944,"post_id":75392865,"comment_id":133032478,"body_markdown":"Also, if instead of letters for keys you use indexes (0, 1, 2), you can convert your dictionary to a list to have the best of both worlds (O(1) arbitrary node querying without insert penalties).","body":"Also, if instead of letters for keys you use indexes (0, 1, 2), you can convert your dictionary to a list to have the best of both worlds (O(1) arbitrary node querying without insert penalties)."}],"tags":[],"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675919854,"creation_date":1675900290,"answer_id":75392865,"question_id":75392754,"body_markdown":"&gt; What are the benefits in space and time complexity in building graphs using node objects versus dictionaries\r\n\r\nIn terms of space, the complexity is the same for both. But in terms of time, each has its&#39; own advantages.\r\n\r\nAs you said, if you need to query for a specific node, the dictionary is better, with an O(1) query. But if you need to add nodes, the graph version has only O(1) time complexity, while the dictionary has an amortized O(1) time complexity, becoming O(n) when an expansion is needed.\r\n\r\nOverall, think of the comparison as an ArrayList vs LinkedList, since the principles are the same.\r\n\r\nFinally, if you do opt to use the dictionary version and you predict you won&#39;t have a small number of adjecant nodes, you can store edges in a set instead of an array, since they&#39;re most likely not ordered and querying a node for the existance of an adjecant node becomes an O(1) operation instead of O(n). The same applies to the nodes version, using a set instead of a linked list. Just make sure the extra overhead of the insertions makes it worthwhile.\r\n\r\n&gt; My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?\r\n\r\nNo. With the dictionary, you can either have a separate dictionary that associates with node (key) to its&#39; value, or if the value is small enough, like an IPv4, and it&#39;s unique, you can just use it as a key.","title":"Pros/cons of defining a graph as nested node objects versus a dictionary?","body":"<blockquote>\n<p>What are the benefits in space and time complexity in building graphs using node objects versus dictionaries</p>\n</blockquote>\n<p>In terms of space, the complexity is the same for both. But in terms of time, each has its' own advantages.</p>\n<p>As you said, if you need to query for a specific node, the dictionary is better, with an O(1) query. But if you need to add nodes, the graph version has only O(1) time complexity, while the dictionary has an amortized O(1) time complexity, becoming O(n) when an expansion is needed.</p>\n<p>Overall, think of the comparison as an ArrayList vs LinkedList, since the principles are the same.</p>\n<p>Finally, if you do opt to use the dictionary version and you predict you won't have a small number of adjecant nodes, you can store edges in a set instead of an array, since they're most likely not ordered and querying a node for the existance of an adjecant node becomes an O(1) operation instead of O(n). The same applies to the nodes version, using a set instead of a linked list. Just make sure the extra overhead of the insertions makes it worthwhile.</p>\n<blockquote>\n<p>My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?</p>\n</blockquote>\n<p>No. With the dictionary, you can either have a separate dictionary that associates with node (key) to its' value, or if the value is small enough, like an IPv4, and it's unique, you can just use it as a key.</p>\n"}],"owner":{"account_id":25353730,"reputation":65,"user_id":19170200,"display_name":"ring0-collections"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75392865,"answer_count":1,"score":2,"last_activity_date":1675919854,"creation_date":1675899147,"question_id":75392754,"body_markdown":"I am practicing a couple algorithms (DFS, BFS). To set up the practice examples, I need to make a graph with vertices and edges. I have seen two approaches - defining an array of vertices and an array of edges, and then combining them into a &quot;graph&quot; using a dictionary, like so:\r\n\r\n    graph = {&#39;A&#39;: [&#39;B&#39;, &#39;E&#39;, &#39;C&#39;],\r\n            &#39;B&#39;: [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;],\r\n            &#39;C&#39;: [&#39;A&#39;, &#39;F&#39;, &#39;G&#39;],\r\n            &#39;D&#39;: [&#39;B&#39;, &#39;E&#39;],\r\n            &#39;E&#39;: [&#39;A&#39;, &#39;B&#39;, &#39;D&#39;],\r\n            &#39;F&#39;: [&#39;C&#39;],\r\n            &#39;G&#39;: [&#39;C&#39;]}\r\n\r\nBut in a video series made by the author of &quot;cracking the coding interview&quot;, their approach was to define a &quot;node&quot; object, which holds an ID, and a list of adjacent/child nodes (in Java):\r\n\r\n    public static class Node {\r\n    private int id;\r\n    LinkedList&lt;Node&gt; adjacent = new LinkedList&lt;Node&gt;(); // nodes children\r\n    private Node(int id) {\r\n        this.id = id; //set nodes ID\r\n        }\r\n    }\r\n\r\nThe pitfall I see of using the latter method, is making a custom function to add edges, as well has lacking an immediate overview of the structure of the entire graph; To make edges, you have to first retrieve the node object associated with the ID by first traversing to it or using a hashmap, and then by using its reference, adding the destination node to that source node:\r\n\r\n    private Node getNode(int id) {} //method to retrieve node from hashmap\r\n    public void addEdge(int source, int destination) {\r\n\t    Node s = getNode(source);\r\n\t    Node d = getNode(destination);\r\n\t    s.adjacent.add(d);  \r\n    }\r\n\r\n While in comparison using a simple dictionary, it is trivial to add new edges: \r\n\r\n    graph[&#39;A&#39;].append(&#39;D&#39;)\r\n\r\n\r\nBy using a node object, adding a new connection to every child of a node is more verbose (imagine the Node class as a Python class which takes an ID and list of node-object children):\r\n\r\n    node1 = Node(&#39;A&#39;, [])\r\n    node2 = Node(&#39;B&#39;, [node1])\r\n    node3 = Node(&#39;C&#39;, [node1, node2])\r\n\r\n    new_node = Node(&#39;F&#39;, [])\r\n\r\n    for node in node3.adjacent:\r\n        node.adjacent.append(new_node) # adds &#39;F&#39; node to every child node of &#39;C&#39;\r\n\r\n\r\nwhile using dictionaries, if I want to add new_node to every connection/child of node3:\r\n\r\n    for node in graph[&#39;C&#39;]:\r\n        graph[node].append(&#39;F&#39;)\r\n\r\n\r\nWhat are the benefits in space and time complexity in building graphs using node objects versus dictionaries? Why would the author use node objects instead of a dictionary? My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?","title":"Pros/cons of defining a graph as nested node objects versus a dictionary?","body":"<p>I am practicing a couple algorithms (DFS, BFS). To set up the practice examples, I need to make a graph with vertices and edges. I have seen two approaches - defining an array of vertices and an array of edges, and then combining them into a &quot;graph&quot; using a dictionary, like so:</p>\n<pre><code>graph = {'A': ['B', 'E', 'C'],\n        'B': ['A', 'D', 'E'],\n        'C': ['A', 'F', 'G'],\n        'D': ['B', 'E'],\n        'E': ['A', 'B', 'D'],\n        'F': ['C'],\n        'G': ['C']}\n</code></pre>\n<p>But in a video series made by the author of &quot;cracking the coding interview&quot;, their approach was to define a &quot;node&quot; object, which holds an ID, and a list of adjacent/child nodes (in Java):</p>\n<pre><code>public static class Node {\nprivate int id;\nLinkedList&lt;Node&gt; adjacent = new LinkedList&lt;Node&gt;(); // nodes children\nprivate Node(int id) {\n    this.id = id; //set nodes ID\n    }\n}\n</code></pre>\n<p>The pitfall I see of using the latter method, is making a custom function to add edges, as well has lacking an immediate overview of the structure of the entire graph; To make edges, you have to first retrieve the node object associated with the ID by first traversing to it or using a hashmap, and then by using its reference, adding the destination node to that source node:</p>\n<pre><code>private Node getNode(int id) {} //method to retrieve node from hashmap\npublic void addEdge(int source, int destination) {\n    Node s = getNode(source);\n    Node d = getNode(destination);\n    s.adjacent.add(d);  \n}\n</code></pre>\n<p>While in comparison using a simple dictionary, it is trivial to add new edges:</p>\n<pre><code>graph['A'].append('D')\n</code></pre>\n<p>By using a node object, adding a new connection to every child of a node is more verbose (imagine the Node class as a Python class which takes an ID and list of node-object children):</p>\n<pre><code>node1 = Node('A', [])\nnode2 = Node('B', [node1])\nnode3 = Node('C', [node1, node2])\n\nnew_node = Node('F', [])\n\nfor node in node3.adjacent:\n    node.adjacent.append(new_node) # adds 'F' node to every child node of 'C'\n</code></pre>\n<p>while using dictionaries, if I want to add new_node to every connection/child of node3:</p>\n<pre><code>for node in graph['C']:\n    graph[node].append('F')\n</code></pre>\n<p>What are the benefits in space and time complexity in building graphs using node objects versus dictionaries? Why would the author use node objects instead of a dictionary? My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?</p>\n"},{"tags":["java","linux","amazon-web-services","jenkins","installation"],"owner":{"account_id":19162179,"reputation":11,"user_id":13997722,"display_name":"Ramanand mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675918273,"creation_date":1675917021,"question_id":75394215,"body_markdown":"When i was installing jenkins in AWS instance with java (jdk 1.8.0) observe error\r\n&quot;`Job for jenkins.service failed because the control process exited with error code. See &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot; for details.&quot;`\r\n\r\nwhen i execute status command we get below error\r\n\r\n`[ec2-user@ip-172-31-47-33 ~]$ sudo systemctl status  jenkins.service\r\n● jenkins.service - Jenkins Continuous Integration Server\r\n   Loaded: loaded (/usr/lib/systemd/system/jenkins.service; enabled; vendor preset: disabled)\r\n   Active: failed (Result: start-limit) since Thu 2023-02-09 04:00:53 UTC; 37s ago\r\n  Process: 11898 ExecStart=/usr/bin/jenkins (code=exited, status=1/FAILURE)\r\n Main PID: 11898 (code=exited, status=1/FAILURE)\r\n\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service: main process exited, code=exite...URE\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service holdoff time over, scheduling restart.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Stopped Jenkins Continuous Integration Server.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: start request repeated too quickly for jenkins.service\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\r\nHint: Some lines were ellipsized, use -l to show in full.`\r\n\r\n\r\nTo resolve this error :\r\n\r\n\r\n**i follow below steps:\r\nremove previously installed java\r\n- sudo yum remove java*\r\ninstall java 11\r\n- sudo amazon-linux-extras install java-openjdk11**\r\n","title":"Error:Job for jenkins.service failed because the control process exited with error code. See &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot;","body":"<p>When i was installing jenkins in AWS instance with java (jdk 1.8.0) observe error\n&quot;<code>Job for jenkins.service failed because the control process exited with error code. See &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot; for details.&quot;</code></p>\n<p>when i execute status command we get below error</p>\n<p>`[ec2-user@ip-172-31-47-33 ~]$ sudo systemctl status  jenkins.service\n● jenkins.service - Jenkins Continuous Integration Server\nLoaded: loaded (/usr/lib/systemd/system/jenkins.service; enabled; vendor preset: disabled)\nActive: failed (Result: start-limit) since Thu 2023-02-09 04:00:53 UTC; 37s ago\nProcess: 11898 ExecStart=/usr/bin/jenkins (code=exited, status=1/FAILURE)\nMain PID: 11898 (code=exited, status=1/FAILURE)</p>\n<p>Feb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service: main process exited, code=exite...URE\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service holdoff time over, scheduling restart.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Stopped Jenkins Continuous Integration Server.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: start request repeated too quickly for jenkins.service\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\nHint: Some lines were ellipsized, use -l to show in full.`</p>\n<p>To resolve this error :</p>\n<p>**i follow below steps:\nremove previously installed java</p>\n<ul>\n<li>sudo yum remove java*\ninstall java 11</li>\n<li>sudo amazon-linux-extras install java-openjdk11**</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675917540,"creation_date":1675917540,"answer_id":75394252,"question_id":75393135,"body_markdown":"The guide is incorrect. The correct task is `bootRun`:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application\r\n\r\n`./gradlew bootRun`\r\n\r\nThe `spring-boot:run` the guide specifies is for the Maven Spring Boot plugin: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run","title":"Cannot locate tasks that match &#39;spring-boot:run&#39; as project &#39;spring-boot&#39; not found in root project &#39;demo&#39;","body":"<p>The guide is incorrect. The correct task is <code>bootRun</code>:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application</a></p>\n<p><code>./gradlew bootRun</code></p>\n<p>The <code>spring-boot:run</code> the guide specifies is for the Maven Spring Boot plugin: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run</a></p>\n"}],"owner":{"account_id":17356198,"reputation":7,"user_id":12573522,"display_name":"Curtis_L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75394252,"answer_count":1,"score":0,"last_activity_date":1675918204,"creation_date":1675903579,"question_id":75393135,"body_markdown":"I am new to Java and Spring and am trying to run the demo program from [the Spring official quickstart tutorial][1]\r\n\r\nupon reaching the point where it tells me to enter `gradlew.bat spring-boot:run` into CMD, I get the error **Cannot locate tasks that match &#39;spring-boot:run&#39; as project &#39;spring-boot&#39; not found in root project &#39;demo&#39;.**\r\n\r\nI am using Java version 19.0.2 and Spring Boot version 3.0.2. \r\n\r\n  [1]: https://spring.io/quickstart","title":"Cannot locate tasks that match &#39;spring-boot:run&#39; as project &#39;spring-boot&#39; not found in root project &#39;demo&#39;","body":"<p>I am new to Java and Spring and am trying to run the demo program from <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">the Spring official quickstart tutorial</a></p>\n<p>upon reaching the point where it tells me to enter <code>gradlew.bat spring-boot:run</code> into CMD, I get the error <strong>Cannot locate tasks that match 'spring-boot:run' as project 'spring-boot' not found in root project 'demo'.</strong></p>\n<p>I am using Java version 19.0.2 and Spring Boot version 3.0.2.</p>\n"},{"tags":["java","android","dynamic"],"answers":[{"comments":[{"owner":{"account_id":27715198,"reputation":146,"user_id":21157064,"display_name":"m7s"},"score":0,"creation_date":1675918083,"post_id":75394304,"comment_id":133032214,"body_markdown":"every time you want to add new view be sure you removed all others views","body":"every time you want to add new view be sure you removed all others views"}],"tags":[],"owner":{"account_id":27715198,"reputation":146,"user_id":21157064,"display_name":"m7s"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675917966,"creation_date":1675917966,"answer_id":75394304,"question_id":75394205,"body_markdown":"you can replace include with fragment and keep replace fragment if subviews have different and complex logic if not or simple stuff you can use include and remove all views to remove old one and add a new view \r\n\r\n    ViewGroup parentLayout = findViewById(R.id.id1);\r\n    parentLayout.removeAllViews();\r\n    LayoutInflater inflater = LayoutInflater.from(this);\r\n    View newSublayout = inflater.inflate(R.layout.layoutB, parentLayout, false);\r\n    parentLayout.addView(newSublayout);","title":"How to dynamically change a sublayout which was assigned using &lt;include/&gt; view in android studio?","body":"<p>you can replace include with fragment and keep replace fragment if subviews have different and complex logic if not or simple stuff you can use include and remove all views to remove old one and add a new view</p>\n<pre><code>ViewGroup parentLayout = findViewById(R.id.id1);\nparentLayout.removeAllViews();\nLayoutInflater inflater = LayoutInflater.from(this);\nView newSublayout = inflater.inflate(R.layout.layoutB, parentLayout, false);\nparentLayout.addView(newSublayout);\n</code></pre>\n"}],"owner":{"account_id":19297775,"reputation":1,"user_id":14106387,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675917966,"creation_date":1675916913,"question_id":75394205,"body_markdown":"I am using &lt; include /&gt; to show a sublayout (layoutA) inside a Main layout.\r\nhowever, what I want to do is to change the sublayout from layoutA to layoutB dynamically in Java.  Which means in &lt;include../&gt; the line layout=&quot;@layout/layoutA&quot; should change to layout=&quot;@layout/layoutB&quot;.I am not sure how to achieve this. Not sure if there is an option like view.setLayout() for &lt;include &gt;.\r\n\r\n     \r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    &lt;other data/&gt;\r\n\r\n    &lt;include\r\n    android:id=&quot;@+id/id1&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    layout=&quot;@layout/layoutA&quot;\r\n    /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\nNote: I have about 7-8 sublayouts so I do not just want to create multiple &lt;include/&gt; and hide them. Which could be an option. \r\n           \r\n               ","title":"How to dynamically change a sublayout which was assigned using &lt;include/&gt; view in android studio?","body":"<p>I am using &lt; include /&gt; to show a sublayout (layoutA) inside a Main layout.\nhowever, what I want to do is to change the sublayout from layoutA to layoutB dynamically in Java.  Which means in &lt;include../&gt; the line layout=&quot;@layout/layoutA&quot; should change to layout=&quot;@layout/layoutB&quot;.I am not sure how to achieve this. Not sure if there is an option like view.setLayout() for .</p>\n<pre><code>&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\n\n&lt;other data/&gt;\n\n&lt;include\nandroid:id=&quot;@+id/id1&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nlayout=&quot;@layout/layoutA&quot;\n/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Note: I have about 7-8 sublayouts so I do not just want to create multiple  and hide them. Which could be an option.</p>\n"},{"tags":["java","asynchronous","rmi","completable-future"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675920032,"post_id":75394200,"comment_id":133032494,"body_markdown":"In remote methods, all method parameters and values returned by remote methods, must implement interface `Serializable`. [CompletableFuture](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html) does not implement `Serializable`. Maybe you would care to share some of your code to help people better understand your problem? Maybe even a [mcve]?","body":"In remote methods, all method parameters and values returned by remote methods, must implement interface <code>Serializable</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a> does not implement <code>Serializable</code>. Maybe you would care to share some of your code to help people better understand your problem? Maybe even a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":21829901,"reputation":87,"user_id":16124947,"display_name":"Glitch07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675916885,"creation_date":1675916885,"question_id":75394200,"body_markdown":"Does anyone have any idea on how to resolve this error?\r\n\r\n    Exception(Client): java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: \r\n    \tjava.rmi.UnmarshalException: error unmarshalling return; nested exception is: \r\n    \tjava.io.WriteAbortedException: writing aborted; java.io.NotSerializableException: java.util.concurrent.CompletableFuture\r\n\r\nI am trying to implement RMI Java code where I have one LeadServer and two slave servers working under it. And I want to call those two slave server asynchronously from LeadServer and that&#39;s where I used CompletableFuture to implement the feature. But got caught into this error!\r\n\r\nAny help/ suggestion would be appreciated!","title":"java.rmi.UnmarshalException: error unmarshalling return","body":"<p>Does anyone have any idea on how to resolve this error?</p>\n<pre><code>Exception(Client): java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: \n    java.rmi.UnmarshalException: error unmarshalling return; nested exception is: \n    java.io.WriteAbortedException: writing aborted; java.io.NotSerializableException: java.util.concurrent.CompletableFuture\n</code></pre>\n<p>I am trying to implement RMI Java code where I have one LeadServer and two slave servers working under it. And I want to call those two slave server asynchronously from LeadServer and that's where I used CompletableFuture to implement the feature. But got caught into this error!</p>\n<p>Any help/ suggestion would be appreciated!</p>\n"},{"tags":["java","postgis","envelope","criteriabuilder"],"owner":{"account_id":3599006,"reputation":11,"user_id":3002781,"display_name":"Kitty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675916499,"creation_date":1675914998,"question_id":75394038,"body_markdown":"I&#39;m using CriteriaBuilder to add Search filters in Postgres.\r\nI need also add an additional filter entries that have Location that is a part of a Map window.\r\n```java  \r\nfinal Envelope envelope = new Envelope();\r\nenvelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\r\nenvelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\r\nenvelope.contains(envelope.contains(33.6462, -117.7559));\r\n```\r\n\r\nHow to add that as Predicate in CriteriaBuilder?\r\n\r\n\r\nCode I have so far\r\n```java    \r\npublic Specification&lt;Listing&gt; getFilteredListings(Short minBeds, Short minBaths, Integer       minPrice, Integer maxPrice, String nwLat, String nwLng, String seLat, String seLng) {\r\n    return (root, query, criteriaBuilder) -&gt; {\r\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n\r\n    /*    CODE I NEED TO ADD\r\n      final Envelope envelope = new Envelope();\r\n      envelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\r\n      envelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\r\n      envelope.contains()\r\n     \r\n    */\r\n\r\n      predicates.add(criteriaBuilder.equal(root.get(&quot;listingStatus&quot;), ACTIVE));\r\n\r\n      if (nonNull(minBeds)) {\r\n        predicates.add(criteriaBuilder.ge(root.get(&quot;beds&quot;), minBeds));\r\n      }\r\n\r\n      if (nonNull(minBaths)) {\r\n        predicates.add(criteriaBuilder.ge(root.get(&quot;baths&quot;), minBaths));\r\n      }\r\n\r\n      if (nonNull(minPrice)) {\r\n        predicates.add(criteriaBuilder.ge(root.get(&quot;price&quot;), minPrice));\r\n      }\r\n\r\n      if (nonNull(maxPrice)) {\r\n        predicates.add(criteriaBuilder.le(root.get(&quot;price&quot;), maxPrice));\r\n      }\r\n\r\n      \r\n      return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n    };\r\n}\r\n```","title":"jakarta.persistence.criteria.CriteriaBuilder how to add If the Coordinate is a part of Envelope","body":"<p>I'm using CriteriaBuilder to add Search filters in Postgres.\nI need also add an additional filter entries that have Location that is a part of a Map window.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Envelope envelope = new Envelope();\nenvelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\nenvelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\nenvelope.contains(envelope.contains(33.6462, -117.7559));\n</code></pre>\n<p>How to add that as Predicate in CriteriaBuilder?</p>\n<p>Code I have so far</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Listing&gt; getFilteredListings(Short minBeds, Short minBaths, Integer       minPrice, Integer maxPrice, String nwLat, String nwLng, String seLat, String seLng) {\n    return (root, query, criteriaBuilder) -&gt; {\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n\n    /*    CODE I NEED TO ADD\n      final Envelope envelope = new Envelope();\n      envelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\n      envelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\n      envelope.contains()\n     \n    */\n\n      predicates.add(criteriaBuilder.equal(root.get(&quot;listingStatus&quot;), ACTIVE));\n\n      if (nonNull(minBeds)) {\n        predicates.add(criteriaBuilder.ge(root.get(&quot;beds&quot;), minBeds));\n      }\n\n      if (nonNull(minBaths)) {\n        predicates.add(criteriaBuilder.ge(root.get(&quot;baths&quot;), minBaths));\n      }\n\n      if (nonNull(minPrice)) {\n        predicates.add(criteriaBuilder.ge(root.get(&quot;price&quot;), minPrice));\n      }\n\n      if (nonNull(maxPrice)) {\n        predicates.add(criteriaBuilder.le(root.get(&quot;price&quot;), maxPrice));\n      }\n\n      \n      return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n    };\n}\n</code></pre>\n"},{"tags":["java","postgresql","c3p0"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675876895,"post_id":75389324,"comment_id":133023934,"body_markdown":"Why do you have your hibernate maxPoolSize 5 times over the limit defined for the c3p0 config?","body":"Why do you have your hibernate maxPoolSize 5 times over the limit defined for the c3p0 config?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1675878238,"post_id":75389324,"comment_id":133024448,"body_markdown":"@JorgeCampos not sure, I did not configure this, just trying to debug this issue.","body":"@JorgeCampos not sure, I did not configure this, just trying to debug this issue."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675878492,"post_id":75389324,"comment_id":133024550,"body_markdown":"I would start by matching those parameters or even removing it from the hibernate config as the datasource using c3p0 as pool is responsible to manage that and not hibernate. The worst it can happen is the server to fail faster as &quot;allegedly&quot; there will be less connections.","body":"I would start by matching those parameters or even removing it from the hibernate config as the datasource using c3p0 as pool is responsible to manage that and not hibernate. The worst it can happen is the server to fail faster as &quot;allegedly&quot; there will be less connections."}],"answers":[{"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":2,"creation_date":1676045793,"post_id":75394140,"comment_id":133064770,"body_markdown":"To anyone that reads this it looks like the root cause was the server was coming under heavy load intermittently.  During these periods communication with the postgress would hang ( along with many other processes).","body":"To anyone that reads this it looks like the root cause was the server was coming under heavy load intermittently.  During these periods communication with the postgress would hang ( along with many other processes)."}],"tags":[],"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675916122,"creation_date":1675916122,"answer_id":75394140,"question_id":75389324,"body_markdown":"The task that&#39;s hanging and saturating your thread pool is `ScatteredAcquireTask`, which is c3p0 trying to get new Connections from the backend DB. Those attempts are _hanging_, meaning they are neither succeeding nor failing with an `Exception`. They are just indefinitely holding up the `Thread` that tries to run them. This hang is what you need to debug. This sort of hang can come from, e.g. incorrect authentication configuration on AWS, but also from lots of other mysteries. If you can try a test program that simply tries to acquire a `Connection` with the same dbUrl/user/password when these events happen, that might give some insight.\r\n\r\nFailure is normal. `c3p0` is very resilient to the fact that `Connection` acquisition sometimes fails, networks and databases are imperfect. But it is not resilient to neither failing nor succeeding. It expects acquisition attempts to either succeed, or fail within a pretty generous time window. Indefinite hangs will eat up its threads.","title":"C3P0 APPARENT DEADLOCK in Apache Tomcat application","body":"<p>The task that's hanging and saturating your thread pool is <code>ScatteredAcquireTask</code>, which is c3p0 trying to get new Connections from the backend DB. Those attempts are <em>hanging</em>, meaning they are neither succeeding nor failing with an <code>Exception</code>. They are just indefinitely holding up the <code>Thread</code> that tries to run them. This hang is what you need to debug. This sort of hang can come from, e.g. incorrect authentication configuration on AWS, but also from lots of other mysteries. If you can try a test program that simply tries to acquire a <code>Connection</code> with the same dbUrl/user/password when these events happen, that might give some insight.</p>\n<p>Failure is normal. <code>c3p0</code> is very resilient to the fact that <code>Connection</code> acquisition sometimes fails, networks and databases are imperfect. But it is not resilient to neither failing nor succeeding. It expects acquisition attempts to either succeed, or fail within a pretty generous time window. Indefinite hangs will eat up its threads.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75394140,"answer_count":1,"score":1,"last_activity_date":1675916122,"creation_date":1675876241,"question_id":75389324,"body_markdown":"I am seeing a C3P0 log dead lock issue in an Apache Tomcat application. \r\n\r\nNot long after this I begin to see failures in Tomcat due to resource limits. \r\n\r\nThis then causes the number of httpd daughter processes to increase until the maxRequestWorkers limit is hit and the server then deadlocks. \r\n\r\nFrom my initial research it looks like the C3P0 issue could be a failure of hibernate to communicate with postgres.\r\n\r\nA confirmation of whether that is the root issue would be appreciated as well as any insight into what might be going on here. \r\n\r\nThis is this initial log that C3P0 issues: \r\n\r\n```\r\n[WARN] [Wed Feb 08 05:52:41.589 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!\r\n[WARN] [Wed Feb 08 05:52:42.270 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Complete Status: \r\n\tManaged Threads: 10\r\n\tActive Threads: 10\r\n\tActive Tasks: \r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@148953c6\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#2\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@33ec4718\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#5\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@7a772c6f\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#7\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@5e288adc\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#0\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@e1f5bc\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#4\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@51e4b63f\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#8\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@1233fc38\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#3\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@857fac8\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#6\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@794b26b\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#1\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@73b5a9e8\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#9\r\n\tPending Tasks: \r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@7e6a499a\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@49dc7d25\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@6b79999f\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@355d97f1\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@19572e59\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@33c84d03\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@145a8f84\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@4d6160e1\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@6de4aaf2\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@1cb54218\r\nPool thread stack traces:\r\n...\r\n```\r\n\r\nNot long after this is the resource issues that tomcat starts to log: \r\n\r\n```\r\n08-Feb-2023 05:52:49.672 SEVERE [ajp-nio-127.0.0.1-8009-exec-123] org.apache.coyote.AbstractProtocol$ConnectionHandler.process Failed to complete processing of a request\r\n\tjava.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\t\tat java.base/java.lang.Thread.start0(Native Method)\r\n```\r\n\r\nps shows that soon after Tomcat begins to error a large number of httpd processes begins to spawn.  This continues for several hours until the  limit of 500 is hit. \r\n\r\n```\r\n[vcr@qa-9440 ~]$ ps auxwww |grep httpd\r\nroot     4154    0.0  0.0    23504    10668  -  Ss   Mon17       0:33.03 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     45854    0.0  0.0    23504    11452  -  I    05:53       0:01.41 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     46742    0.0  0.0    23504    11448  -  I    05:54       0:00.84 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     46986    0.0  0.0    23504    11412  -  I    05:55       0:00.67 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47031    0.0  0.0    23504    11436  -  I    05:55       0:00.54 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47034    0.0  0.0    23504    11444  -  I    05:55       0:00.60 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47223    0.0  0.0    26064    11600  -  I    05:55       0:00.43 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47390    0.0  0.0    23504    11412  -  I    05:56       0:00.40 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47411    0.0  0.0    23504    11428  -  I    05:56       0:00.32 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47520    0.0  0.0    23504    11384  -  I    05:56       0:00.30 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47617    0.0  0.0    23504    11408  -  I    05:56       0:00.28 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47619    0.0  0.0    23504    11336  -  I    05:56       0:00.22 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47653    0.0  0.0    23504    11356  -  I    05:56       0:00.23 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47716    0.0  0.0    23504    11340  -  I    05:56       0:00.20 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47735    0.0  0.0    23504    11364  -  I    05:56       0:00.18 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\n...\r\n```\r\n\r\nC3P0/Hibernate configurations: \r\n```\r\n&lt;!-- Configure the dataSource.--&gt;\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClass&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.driver}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;jdbcUrl&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.url}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;user&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.username}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;password&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.password}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;0&quot; /&gt;\r\n\t\t&lt;property name=&quot;acquireRetryDelay&quot; value=&quot;2000&quot; /&gt;\r\n\t\t&lt;property name=&quot;initialPoolSize&quot; value=&quot;10&quot; /&gt;\r\n\t\t&lt;property name=&quot;minPoolSize&quot; value=&quot;1&quot; /&gt;\r\n\t\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\r\n\t\t&lt;property name=&quot;maxIdleTime&quot; value=&quot;5&quot; /&gt;\r\n\t\t&lt;property name=&quot;autoCommitOnClose&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;property name=&quot;numHelperThreads&quot; value=&quot;10&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!--\r\n\t\tSetup Hibernate based on config file \r\n\t\tclasspath:com/niksun/resources/hibernate.cfg.xml.\r\n\t\t\r\n\t\tPostgreSQLDialect\r\n\t--&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;\r\n\t\t\t\t\torg.hibernate.dialect.PostgreSQL10Dialect \r\n\t\t\t\t&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.format_sql&quot;&gt;false&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.c3p0.maxPoolSize&quot;&gt;100&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.c3p0.min_size&quot;&gt;10&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/prop&gt;\r\n\t\t\t\t&lt;!--prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop--&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n ```\r\n","title":"C3P0 APPARENT DEADLOCK in Apache Tomcat application","body":"<p>I am seeing a C3P0 log dead lock issue in an Apache Tomcat application.</p>\n<p>Not long after this I begin to see failures in Tomcat due to resource limits.</p>\n<p>This then causes the number of httpd daughter processes to increase until the maxRequestWorkers limit is hit and the server then deadlocks.</p>\n<p>From my initial research it looks like the C3P0 issue could be a failure of hibernate to communicate with postgres.</p>\n<p>A confirmation of whether that is the root issue would be appreciated as well as any insight into what might be going on here.</p>\n<p>This is this initial log that C3P0 issues:</p>\n<pre><code>[WARN] [Wed Feb 08 05:52:41.589 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!\n[WARN] [Wed Feb 08 05:52:42.270 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Complete Status: \n    Managed Threads: 10\n    Active Threads: 10\n    Active Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@148953c6\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#2\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@33ec4718\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#5\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@7a772c6f\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#7\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@5e288adc\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#0\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@e1f5bc\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#4\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@51e4b63f\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#8\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@1233fc38\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#3\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@857fac8\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#6\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@794b26b\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#1\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@73b5a9e8\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#9\n    Pending Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@7e6a499a\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@49dc7d25\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@6b79999f\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@355d97f1\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@19572e59\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@33c84d03\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@145a8f84\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@4d6160e1\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@6de4aaf2\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@1cb54218\nPool thread stack traces:\n...\n</code></pre>\n<p>Not long after this is the resource issues that tomcat starts to log:</p>\n<pre><code>08-Feb-2023 05:52:49.672 SEVERE [ajp-nio-127.0.0.1-8009-exec-123] org.apache.coyote.AbstractProtocol$ConnectionHandler.process Failed to complete processing of a request\n    java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n        at java.base/java.lang.Thread.start0(Native Method)\n</code></pre>\n<p>ps shows that soon after Tomcat begins to error a large number of httpd processes begins to spawn.  This continues for several hours until the  limit of 500 is hit.</p>\n<pre><code>[vcr@qa-9440 ~]$ ps auxwww |grep httpd\nroot     4154    0.0  0.0    23504    10668  -  Ss   Mon17       0:33.03 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     45854    0.0  0.0    23504    11452  -  I    05:53       0:01.41 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     46742    0.0  0.0    23504    11448  -  I    05:54       0:00.84 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     46986    0.0  0.0    23504    11412  -  I    05:55       0:00.67 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47031    0.0  0.0    23504    11436  -  I    05:55       0:00.54 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47034    0.0  0.0    23504    11444  -  I    05:55       0:00.60 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47223    0.0  0.0    26064    11600  -  I    05:55       0:00.43 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47390    0.0  0.0    23504    11412  -  I    05:56       0:00.40 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47411    0.0  0.0    23504    11428  -  I    05:56       0:00.32 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47520    0.0  0.0    23504    11384  -  I    05:56       0:00.30 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47617    0.0  0.0    23504    11408  -  I    05:56       0:00.28 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47619    0.0  0.0    23504    11336  -  I    05:56       0:00.22 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47653    0.0  0.0    23504    11356  -  I    05:56       0:00.23 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47716    0.0  0.0    23504    11340  -  I    05:56       0:00.20 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47735    0.0  0.0    23504    11364  -  I    05:56       0:00.18 /usr/local/sbin/httpd -DNOHTTPACCEPT\n...\n</code></pre>\n<p>C3P0/Hibernate configurations:</p>\n<pre><code>&lt;!-- Configure the dataSource.--&gt;\n    &lt;bean id=&quot;dataSource&quot;\n        class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\n        &lt;property name=&quot;driverClass&quot;&gt;\n            &lt;value&gt;${db.driver}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;jdbcUrl&quot;&gt;\n            &lt;value&gt;${db.url}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;user&quot;&gt;\n            &lt;value&gt;${db.username}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;password&quot;&gt;\n            &lt;value&gt;${db.password}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;0&quot; /&gt;\n        &lt;property name=&quot;acquireRetryDelay&quot; value=&quot;2000&quot; /&gt;\n        &lt;property name=&quot;initialPoolSize&quot; value=&quot;10&quot; /&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;1&quot; /&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;5&quot; /&gt;\n        &lt;property name=&quot;autoCommitOnClose&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;numHelperThreads&quot; value=&quot;10&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\n        Setup Hibernate based on config file \n        classpath:com/niksun/resources/hibernate.cfg.xml.\n        \n        PostgreSQLDialect\n    --&gt;\n\n    &lt;bean id=&quot;sessionFactory&quot;\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;\n                    org.hibernate.dialect.PostgreSQL10Dialect \n                &lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.c3p0.maxPoolSize&quot;&gt;100&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.c3p0.min_size&quot;&gt;10&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/prop&gt;\n                &lt;!--prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop--&gt;\n                \n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675899702,"post_id":75392779,"comment_id":133029762,"body_markdown":"If you&#39;ve got two separate lists that aren&#39;t combined in any way, then I think you&#39;ll bend over backwards trying to make a stream more readable than a vanilla for loop.","body":"If you&#39;ve got two separate lists that aren&#39;t combined in any way, then I think you&#39;ll bend over backwards trying to make a stream more readable than a vanilla for loop."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675921313,"post_id":75392779,"comment_id":133032680,"body_markdown":"`IntStream.range(0,time.length).mapToObj(i-&gt; new Competitors(name[i] ,backToTime(time[i]))).collect(Collectors.toList());`","body":"<code>IntStream.range(0,time.length).mapToObj(i-&gt; new Competitors(name[i] ,backToTime(time[i]))).collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675915794,"creation_date":1675915794,"answer_id":75394110,"question_id":75392779,"body_markdown":"Your second approach, `makeObjects()`, is the functional approach. \r\n\r\nWhere you go wrong is that you are creating the `Competitor` objects in the wrong place; you map each `i` to a new Competitor. Then in the `collect()` call, you specify what type of collection. In your case, it would be `Collectors.toList()` or `Collectors.toSet()`. There is no need to create an  `ArrayList`; just assign the `IntStream...` to `List&lt;Competitor&gt; racers`.\r\n\r\nNote that you should probably guard this method by first asserting that the arrays are the same length.\r\n\r\nAlso note that your class should be named `Competitor`, not `Competitors`; and `makeObjects` would be more descriptive as `createCompetitorsList`.","title":"Functional Programing; using streams to create a set/ list of objects in java","body":"<p>Your second approach, <code>makeObjects()</code>, is the functional approach.</p>\n<p>Where you go wrong is that you are creating the <code>Competitor</code> objects in the wrong place; you map each <code>i</code> to a new Competitor. Then in the <code>collect()</code> call, you specify what type of collection. In your case, it would be <code>Collectors.toList()</code> or <code>Collectors.toSet()</code>. There is no need to create an  <code>ArrayList</code>; just assign the <code>IntStream...</code> to <code>List&lt;Competitor&gt; racers</code>.</p>\n<p>Note that you should probably guard this method by first asserting that the arrays are the same length.</p>\n<p>Also note that your class should be named <code>Competitor</code>, not <code>Competitors</code>; and <code>makeObjects</code> would be more descriptive as <code>createCompetitorsList</code>.</p>\n"}],"owner":{"account_id":26771007,"reputation":3,"user_id":20367373,"display_name":"mustafa qasmieh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75394110,"answer_count":1,"score":0,"last_activity_date":1675915794,"creation_date":1675899347,"question_id":75392779,"body_markdown":"the object of this specific function is to create a list of (competitor objects ) Using 2 lists containing time and names.\r\n\r\nnote that this is a trail to convert from object oriented to functional programing , so its actually a record rather than an object.\r\n\r\n\r\n\r\nmy initial trial using a sort of recursion\r\n\r\n``` \r\npublic static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\r\n        if (counter &gt; name.length){\r\n            return racers;\r\n        }else{\r\n            Competitors racer= new Competitors(name[counter],backToTime(time[counter]));\r\n            racers.add(racer);\r\n            return makeObjects(++counter,racers,time,name);\r\n        }\r\n```\r\nand my try after discovering i can use streams \r\n\r\n  \r\n```\r\npublic static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\r\n        List&lt;Competitors&gt; racers = new ArrayList&lt;Competitors&gt;();\r\n        IntStream.range(0,time.length).mapToObj(i-&gt; ).collect(new Competitors(name[i] ,backToTime(time[i])))\r\n    }\r\n```\r\n\r\n","title":"Functional Programing; using streams to create a set/ list of objects in java","body":"<p>the object of this specific function is to create a list of (competitor objects ) Using 2 lists containing time and names.</p>\n<p>note that this is a trail to convert from object oriented to functional programing , so its actually a record rather than an object.</p>\n<p>my initial trial using a sort of recursion</p>\n<pre><code>public static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\n        if (counter &gt; name.length){\n            return racers;\n        }else{\n            Competitors racer= new Competitors(name[counter],backToTime(time[counter]));\n            racers.add(racer);\n            return makeObjects(++counter,racers,time,name);\n        }\n</code></pre>\n<p>and my try after discovering i can use streams</p>\n<pre><code>public static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\n        List&lt;Competitors&gt; racers = new ArrayList&lt;Competitors&gt;();\n        IntStream.range(0,time.length).mapToObj(i-&gt; ).collect(new Competitors(name[i] ,backToTime(time[i])))\n    }\n</code></pre>\n"},{"tags":["java","rabbitmq","avro","spring-cloud-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675915112,"post_id":74741481,"comment_id":133031824,"body_markdown":"JSON converters or object mappers will not work with Avro. Seen this? https://docs.spring.io/spring-cloud-schema-registry/docs/current/reference/html/spring-cloud-schema-registry.html","body":"JSON converters or object mappers will not work with Avro. Seen this? <a href=\"https://docs.spring.io/spring-cloud-schema-registry/docs/current/reference/html/spring-cloud-schema-registry.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-schema-registry/docs/current/&hellip;</a>"}],"owner":{"account_id":6002341,"reputation":1,"user_id":4715197,"display_name":"Hitendrasinh Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675914933,"creation_date":1670579862,"question_id":74741481,"body_markdown":"I am new to spring cloud stream rabbitmq binder and tried to integrate rabbitmq binder of spring cloud stream but not able to find any specific properties so not sure about Avro message converter part as it my response is in byte array.\r\n\r\nI have tried to follow same like this one -&gt; https://github.com/spring-cloud/spring-cloud-stream-samples/tree/main/schema-registry-samples/schema-registry-vanilla-rabbit-binder\r\nbut not working in my case as,\r\n\r\n[my-application.yml][1]\r\n\r\nabove configs are not working and displaying my message in bytes only,\r\n\r\nI am using 2.7.6 spring boot version version with JDK 8 for the same.\r\n```\r\n@Bean\r\npublic MessageConverter jsonMessageConverter() {\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    return new Jackson2JsonMessageConverter(objectMapper);\r\n}\r\n```\r\nAbove bean is used in rabbitmq listener as below,\r\n```\r\nSimpleRabbitListenerContainerFactory sf = new ...()\r\nsf.setMessageConverter(jsonMessageConverter());\r\n```\r\nand the message converter here is of amqp package not of spring package.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S6HWQ.png","title":"Spring cloud stream rabbitmq binder failed with schema registry as byte array returned","body":"<p>I am new to spring cloud stream rabbitmq binder and tried to integrate rabbitmq binder of spring cloud stream but not able to find any specific properties so not sure about Avro message converter part as it my response is in byte array.</p>\n<p>I have tried to follow same like this one -&gt; <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/tree/main/schema-registry-samples/schema-registry-vanilla-rabbit-binder\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-samples/tree/main/schema-registry-samples/schema-registry-vanilla-rabbit-binder</a>\nbut not working in my case as,</p>\n<p><a href=\"https://i.stack.imgur.com/S6HWQ.png\" rel=\"nofollow noreferrer\">my-application.yml</a></p>\n<p>above configs are not working and displaying my message in bytes only,</p>\n<p>I am using 2.7.6 spring boot version version with JDK 8 for the same.</p>\n<pre><code>@Bean\npublic MessageConverter jsonMessageConverter() {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    return new Jackson2JsonMessageConverter(objectMapper);\n}\n</code></pre>\n<p>Above bean is used in rabbitmq listener as below,</p>\n<pre><code>SimpleRabbitListenerContainerFactory sf = new ...()\nsf.setMessageConverter(jsonMessageConverter());\n</code></pre>\n<p>and the message converter here is of amqp package not of spring package.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1675897907,"post_id":75392494,"comment_id":133029449,"body_markdown":"As another possible guess: It may be the case that IntelliJ detaches itself in a shutdown hook or similar. In other words, the problem may not lay with how the application is ended, but instead in how IntelliJ handles ending a running instance.","body":"As another possible guess: It may be the case that IntelliJ detaches itself in a shutdown hook or similar. In other words, the problem may not lay with how the application is ended, but instead in how IntelliJ handles ending a running instance."}],"answers":[{"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675913877,"creation_date":1675913877,"answer_id":75393946,"question_id":75392494,"body_markdown":"Just as @Rogue guessed, when you click the stop button, the IDEA disconnects the debugger and sends SIGINT to the app.\r\n\r\nThere is no setting to configure this behavior currently. Check the related issue here for details: https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal\r\n\r\nAs a workaround, you could open `Settings | Tools | External Tools`, add a script that could find your java process, and send the SIGINT. Then assign a shortcut for it or add a menu in the IDEA&#39;s Toolbar in `Settings | Appearance &amp; Behavior | Menus and Toolbars` so you could use it easily like the stop button.\r\n\r\n","title":"Using IntelliJ IDEA to debug shutdown code?","body":"<p>Just as @Rogue guessed, when you click the stop button, the IDEA disconnects the debugger and sends SIGINT to the app.</p>\n<p>There is no setting to configure this behavior currently. Check the related issue here for details: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal</a></p>\n<p>As a workaround, you could open <code>Settings | Tools | External Tools</code>, add a script that could find your java process, and send the SIGINT. Then assign a shortcut for it or add a menu in the IDEA's Toolbar in <code>Settings | Appearance &amp; Behavior | Menus and Toolbars</code> so you could use it easily like the stop button.</p>\n"}],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75393946,"answer_count":1,"score":3,"last_activity_date":1675913877,"creation_date":1675896644,"question_id":75392494,"body_markdown":"I&#39;m noticing an unexpected and undesirable behavior out of IntelliJ&#39;s debugger that I&#39;m wondering if anyone knows anything about.\r\n\r\nOur Spring app has some fairly complex shutdown logic. We make use of Spring&#39;s &quot;Disposable Bean&quot; interface, and we also register our own JVM shutdown hook. I often find myself wanting to stop in the debugger in this code. I&#39;d love to be able to do so by pressing the IntelliJ debugger&#39;s Stop button and having my breakpoints be hit. This is the behavior I expected.\r\n\r\nWhen I press the Stop button in the IntelliJ debugger, my breakpoints in my shutdown code are not hit. At first, I thought that maybe IntelliJ was hard-killing my app rather than sending a termination signal (I believe it sends a SIGINT) to the process. But I have since confirmed that my shutdown code runs when I press the Stop button. The behavior is as though IntelliJ unregisters my breakpoints before sending the SIGINT signal to my app.\r\n\r\nMy workaround is to send a SIGINT to my app from a shell prompt. When I do this, my breakpoints get hit. This is a pain. So I&#39;m wondering if anyone has either a way to cause the breakpoints to be hit when the Stop button is pressed, or at least some information as to why the debugger behaves this way. ","title":"Using IntelliJ IDEA to debug shutdown code?","body":"<p>I'm noticing an unexpected and undesirable behavior out of IntelliJ's debugger that I'm wondering if anyone knows anything about.</p>\n<p>Our Spring app has some fairly complex shutdown logic. We make use of Spring's &quot;Disposable Bean&quot; interface, and we also register our own JVM shutdown hook. I often find myself wanting to stop in the debugger in this code. I'd love to be able to do so by pressing the IntelliJ debugger's Stop button and having my breakpoints be hit. This is the behavior I expected.</p>\n<p>When I press the Stop button in the IntelliJ debugger, my breakpoints in my shutdown code are not hit. At first, I thought that maybe IntelliJ was hard-killing my app rather than sending a termination signal (I believe it sends a SIGINT) to the process. But I have since confirmed that my shutdown code runs when I press the Stop button. The behavior is as though IntelliJ unregisters my breakpoints before sending the SIGINT signal to my app.</p>\n<p>My workaround is to send a SIGINT to my app from a shell prompt. When I do this, my breakpoints get hit. This is a pain. So I'm wondering if anyone has either a way to cause the breakpoints to be hit when the Stop button is pressed, or at least some information as to why the debugger behaves this way.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1556314293,"post_id":55874952,"comment_id":98410107,"body_markdown":"Why do you have this method `Bill:projectProperty`? It doesn&#39;t return a property...","body":"Why do you have this method <code>Bill:projectProperty</code>? It doesn&#39;t return a property..."},{"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"score":0,"creation_date":1556315113,"post_id":55874952,"comment_id":98410370,"body_markdown":"@Jos&#233;Pereda\nI tried the second comment from here\nhttps://stackoverflow.com/questions/47181969/javafx-tableview-propertyvaluefactory-error\n\nI probably misunderstood it","body":"@Jos&#233;Pereda I tried the second comment from here <a href=\"https://stackoverflow.com/questions/47181969/javafx-tableview-propertyvaluefactory-error\" title=\"javafx tableview propertyvaluefactory error\">stackoverflow.com/questions/47181969/&hellip;</a>  I probably misunderstood it"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1556315166,"post_id":55874952,"comment_id":98410382,"body_markdown":"[mcve] please .. mind the __m__ no need for dozens of properties or columns, two or so are enough","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. mind the <b>m</b> no need for dozens of properties or columns, two or so are enough"},{"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"score":0,"creation_date":1556321303,"post_id":55874952,"comment_id":98411715,"body_markdown":"@kleopatra, thanks I did not know about this somehow (now I know that I should have). I&#39;ll take take it into account the next time!","body":"@kleopatra, thanks I did not know about this somehow (now I know that I should have). I&#39;ll take take it into account the next time!"}],"answers":[{"comments":[{"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"score":0,"creation_date":1556321533,"post_id":55875322,"comment_id":98411750,"body_markdown":"thanks for the answer but this is not a solution to my question. I was probably bad in explaining it (not a native speaker).","body":"thanks for the answer but this is not a solution to my question. I was probably bad in explaining it (not a native speaker)."}],"tags":[],"owner":{"account_id":15111466,"reputation":343,"user_id":10905411,"display_name":"Christian H. Kuhn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556315483,"creation_date":1556315483,"answer_id":55875322,"question_id":55874952,"body_markdown":"I’m not a specialist for JavaFX. But if i read the docs right, the String parameter in the PropertyValueFactory constructor refers not to a field of the type parameter of TableView but to the String parameter of a TableColumn constructor. If i’m right, it should not be `&quot;project&quot;` (the private field in Bill) but `&quot;Project&quot;` (the parameter text of the first TableColumn in FXML).","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I’m not a specialist for JavaFX. But if i read the docs right, the String parameter in the PropertyValueFactory constructor refers not to a field of the type parameter of TableView but to the String parameter of a TableColumn constructor. If i’m right, it should not be <code>\"project\"</code> (the private field in Bill) but <code>\"Project\"</code> (the parameter text of the first TableColumn in FXML).</p>\n"},{"comments":[{"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"score":1,"creation_date":1556321117,"post_id":55875509,"comment_id":98411685,"body_markdown":"Thank you, it works perfectly now!\nI wasn&#39;t even expecting such a detailed answer with not just a solution but with a whole explanation in such a small time.","body":"Thank you, it works perfectly now! I wasn&#39;t even expecting such a detailed answer with not just a solution but with a whole explanation in such a small time."}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1556317403,"creation_date":1556316976,"answer_id":55875509,"question_id":55874952,"body_markdown":"In your `Bill` class you have:\r\n\r\n```\r\npublic class Bill {\r\n\r\n    private String project;\r\n\r\n    // getter\r\n    public String getProject() {\r\n        return project;\r\n    }\r\n\r\n    // setter\r\n    public void setProject(String project) {\r\n        this.project = project;\r\n    }\r\n\r\n    // ????\r\n    public String projectProperty() {\r\n        return project;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nWhen you use the callback `new PropertyValueFactory(&quot;project&quot;)` for the TableColumn cell value factory, this is what happens, when the `call` method is evaluated:\r\n\r\n    @Override \r\n    public ObservableValue&lt;T&gt; call(CellDataFeatures&lt;S,T&gt; param) {\r\n        return getCellDataReflectively(param.getValue());\r\n    }\r\n    \r\n    private ObservableValue&lt;T&gt; getCellDataReflectively(S rowData) {\r\n        ...\r\n       \r\n         if (propertyRef.hasProperty()) {\r\n             return propertyRef.getProperty(rowData);\r\n         } else {\r\n             T value = propertyRef.get(rowData);\r\n             return new ReadOnlyObjectWrapper&lt;T&gt;(value);\r\n         }\r\n         ...   \r\n    }\r\n\r\nThere is an attempt to use a JavaFX property in the first place, where in `PropertyReference` you can see:\r\n\r\n    public boolean hasProperty() {\r\n        reflect();\r\n        return propertyGetter != null;\r\n    }\r\n\r\nSince you are providing a `projectProperty()` method, this method is wrongly taken as a `propertyGetter` as it ends with `Property` in `reflect()`:\r\n\r\n    // Now attempt to look for the property-getter.\r\n    final String propertyGetterName = name + &quot;Property&quot;;\r\n                \r\n so it will return true, and then `getProperty()` will try to cast this property:\r\n\r\n    try {\r\n        return (ReadOnlyProperty&lt;T&gt;)MethodHelper.invoke(propertyGetter, bean, (Object[])null);\r\n    }\r\n\r\nand that will throw the exception you get:\r\n\r\n    Caused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader &#39;app&#39;)\r\n    at javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\r\n\r\nas your `String project` can&#39;t be obviously casted to `ReadOnlyProperty`.\r\n\r\n**Solution**\r\n\r\nYou either use a proper property:\r\n\r\n    private final StringProperty project = new SimpleStringProperty();\r\n\r\n    public final StringProperty projectProperty() {\r\n       return project;\r\n    }\r\n\r\n    public final String getProject() {\r\n       return project.get();\r\n    }\r\n\r\n    public final void setProject(String value) {\r\n        project.set(value);\r\n    }\r\n\r\nOr you remove the wrong property getter, and then the callback will default to the second case, using a String primitive in `getCellDataReflectively`, that will be converted into a read only property: \r\n\r\n    T value = propertyRef.get(rowData);\r\n    return new ReadOnlyObjectWrapper&lt;T&gt;(value);\r\n\r\nWhile this works fine, it is preferred the first option, using proper JavaFX properties.","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>In your <code>Bill</code> class you have:</p>\n\n<pre><code>public class Bill {\n\n    private String project;\n\n    // getter\n    public String getProject() {\n        return project;\n    }\n\n    // setter\n    public void setProject(String project) {\n        this.project = project;\n    }\n\n    // ????\n    public String projectProperty() {\n        return project;\n    }\n\n}\n</code></pre>\n\n<p>When you use the callback <code>new PropertyValueFactory(\"project\")</code> for the TableColumn cell value factory, this is what happens, when the <code>call</code> method is evaluated:</p>\n\n<pre><code>@Override \npublic ObservableValue&lt;T&gt; call(CellDataFeatures&lt;S,T&gt; param) {\n    return getCellDataReflectively(param.getValue());\n}\n\nprivate ObservableValue&lt;T&gt; getCellDataReflectively(S rowData) {\n    ...\n\n     if (propertyRef.hasProperty()) {\n         return propertyRef.getProperty(rowData);\n     } else {\n         T value = propertyRef.get(rowData);\n         return new ReadOnlyObjectWrapper&lt;T&gt;(value);\n     }\n     ...   \n}\n</code></pre>\n\n<p>There is an attempt to use a JavaFX property in the first place, where in <code>PropertyReference</code> you can see:</p>\n\n<pre><code>public boolean hasProperty() {\n    reflect();\n    return propertyGetter != null;\n}\n</code></pre>\n\n<p>Since you are providing a <code>projectProperty()</code> method, this method is wrongly taken as a <code>propertyGetter</code> as it ends with <code>Property</code> in <code>reflect()</code>:</p>\n\n<pre><code>// Now attempt to look for the property-getter.\nfinal String propertyGetterName = name + \"Property\";\n</code></pre>\n\n<p>so it will return true, and then <code>getProperty()</code> will try to cast this property:</p>\n\n<pre><code>try {\n    return (ReadOnlyProperty&lt;T&gt;)MethodHelper.invoke(propertyGetter, bean, (Object[])null);\n}\n</code></pre>\n\n<p>and that will throw the exception you get:</p>\n\n<pre><code>Caused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader 'bootstrap'; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader 'app')\nat javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\n</code></pre>\n\n<p>as your <code>String project</code> can't be obviously casted to <code>ReadOnlyProperty</code>.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>You either use a proper property:</p>\n\n<pre><code>private final StringProperty project = new SimpleStringProperty();\n\npublic final StringProperty projectProperty() {\n   return project;\n}\n\npublic final String getProject() {\n   return project.get();\n}\n\npublic final void setProject(String value) {\n    project.set(value);\n}\n</code></pre>\n\n<p>Or you remove the wrong property getter, and then the callback will default to the second case, using a String primitive in <code>getCellDataReflectively</code>, that will be converted into a read only property: </p>\n\n<pre><code>T value = propertyRef.get(rowData);\nreturn new ReadOnlyObjectWrapper&lt;T&gt;(value);\n</code></pre>\n\n<p>While this works fine, it is preferred the first option, using proper JavaFX properties.</p>\n"},{"tags":[],"owner":{"account_id":23769449,"reputation":11,"user_id":17783722,"display_name":"James Dawson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640722997,"creation_date":1640722997,"answer_id":70512154,"question_id":55874952,"body_markdown":"I had a somewhat similar problem with the error message:\r\n```\r\nDec 28, 2021 10:14:33 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\r\nWARNING: Can not retrieve property &#39;risk&#39; in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@14aa73de with provided class type: class derivative.generator.derivative.LiabilityEX\r\njava.lang.IllegalStateException: Cannot read from unreadable property risk\r\n```\r\nto resolve it I added getters to all fields of the object class I was trying to add to the column\r\n\r\nExample for my case\r\n```\r\npublic int getRisk() {\r\n        return risk;\r\n    }\r\n```","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I had a somewhat similar problem with the error message:</p>\n<pre><code>Dec 28, 2021 10:14:33 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\nWARNING: Can not retrieve property 'risk' in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@14aa73de with provided class type: class derivative.generator.derivative.LiabilityEX\njava.lang.IllegalStateException: Cannot read from unreadable property risk\n</code></pre>\n<p>to resolve it I added getters to all fields of the object class I was trying to add to the column</p>\n<p>Example for my case</p>\n<pre><code>public int getRisk() {\n        return risk;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24048140,"reputation":1,"user_id":18026936,"display_name":"ARIF FAISAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645121500,"creation_date":1645116100,"answer_id":71162107,"question_id":55874952,"body_markdown":"I was going through the same problem initially, but to solve it, I simply added getters and setters (though unused in the code explicitly) of the &quot;Bill&quot; class (or any class of whose TableView you want to create).\r\n","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I was going through the same problem initially, but to solve it, I simply added getters and setters (though unused in the code explicitly) of the &quot;Bill&quot; class (or any class of whose TableView you want to create).</p>\n"},{"comments":[{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":0,"creation_date":1687461008,"post_id":74073888,"comment_id":134943910,"body_markdown":"setter is not required. also works with only getters.","body":"setter is not required. also works with only getters."}],"tags":[],"owner":{"account_id":13271791,"reputation":157,"user_id":9582575,"display_name":"Alagie F. Nget"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665774853,"creation_date":1665774853,"answer_id":74073888,"question_id":55874952,"body_markdown":"Add getters and setters for your attribute mentioned in the error.","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>Add getters and setters for your attribute mentioned in the error.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676192245,"post_id":75393893,"comment_id":133084869,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75393893/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24493012,"reputation":11,"user_id":18409789,"display_name":"GuerreroEnier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675913196,"creation_date":1675913196,"answer_id":75393893,"question_id":55874952,"body_markdown":"\r\nI had the same error and I solved it by adding the package where I have my model to **module-info.java**\r\n\r\nExample:\r\n\r\n    opens application.modelo;","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I had the same error and I solved it by adding the package where I have my model to <strong>module-info.java</strong></p>\n<p>Example:</p>\n<pre><code>opens application.modelo;\n</code></pre>\n"}],"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19785,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55875509,"answer_count":6,"score":5,"last_activity_date":1675913196,"creation_date":1556312812,"question_id":55874952,"body_markdown":"Summary:\r\n--------\r\nI am trying to add/reload data from an ArrayList&lt;Bill&gt; to a TableView by pressing a &quot;Reload Button&quot; (currently I am just testing it with one column of the TableView) . \r\nBecause TableView requires an ObservableList, I made an ObservableList&lt;Bill&gt; getter method where the ObservableList is created from an existing ArrayList (I tested both Lists by printing their values with no issue). Everytime I press the reload button,only the amount of rows are created and I get an error, caused by this line of code:\r\n```java\r\ncolumnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(&quot;project&quot;));\r\n```\r\nI looked the problem up for the last 3 hours and tried everything I found on Stack Overflow without any success.\r\n\r\n\r\nInformation:\r\n------------\r\n\r\n - Java: openjdk 11.0.3 and Javafx-11\r\n - Operating System: Manjaro Linux with Kernel 5.0.7-1\r\n - IDE: IntelliJ Idea Ultimate 2019\r\n - I use FXML with SceneBuilder for all JavaFX Objects\r\n\r\nError:\r\n------\r\n```\r\nApr 26, 2019 10:23:16 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\r\nWARNING: Can not retrieve property &#39;project&#39; in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@688d477d with provided class type: class net.strobl.main.Bill\r\njava.lang.RuntimeException: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader &#39;app&#39;)\r\n\tat javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:199)\r\n\tat javafx.controls/javafx.scene.control.cell.PropertyValueFactory.getCellDataReflectively(PropertyValueFactory.java:182)\r\n\tat javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:154)\r\n\tat javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:133)\r\n\tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\r\n\tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\r\n\tat javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\r\n\tat javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\r\n\tat javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\r\n\tat javafx.controls/javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:539)\r\n\tat javafx.controls/javafx.scene.control.skin.TableRowSkinBase.&lt;init&gt;(TableRowSkinBase.java:159)\r\n\tat javafx.controls/javafx.scene.control.skin.TableRowSkin.&lt;init&gt;(TableRowSkin.java:89)\r\n\tat javafx.controls/javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:213)\r\n\tat javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:897)\r\n\tat javafx.controls/javafx.scene.control.Control.access$000(Control.java:83)\r\n\tat javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\r\n\tat javafx.graphics/javafx.scene.Node.applyCss(Node.java:9616)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1715)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.getCell(VirtualFlow.java:1692)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.getCellLength(VirtualFlow.java:1801)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.computeViewportOffset(VirtualFlow.java:2639)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1245)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1204)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Scene.doLayoutPass(Scene.java:576)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2482)\r\n\tat javafx.graphics/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:412)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:438)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:519)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:499)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:492)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:320)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader &#39;app&#39;)\r\n\tat javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\r\n\t... 44 more\r\n```\r\n\r\nCode:\r\n-----\r\nNote: I deleted some methods here which are irrelevant to this problem for better readability\r\n\r\nBill Class:\r\n```java\r\npackage net.strobl.main;\r\n\r\npublic class Bill {\r\n\r\n    private String project;\r\n    private boolean intake;\r\n    private Double amount;\r\n    private boolean digital;\r\n    private String date1;\r\n    private String date2;\r\n    private String date3;\r\n    private String shop;\r\n    private String reason;\r\n    private String person;\r\n    private boolean paid;\r\n    \r\n    public Bill(String project, boolean intake, Double amount, boolean digital, String date1, String date2, String date3, String shop, String reason, String person, boolean paid) {\r\n        this.project = project;\r\n        this.intake = intake;\r\n        this.amount = amount;\r\n        this.digital = digital;\r\n        this.date1 = date1;\r\n        this.date2 = date2;\r\n        this.date3 = date3;\r\n        this.shop = shop;\r\n        this.reason = reason;\r\n        this.person = person;\r\n        this.paid = paid;\r\n    }\r\n\r\n    //region Getters and Setters\r\n    public String getProject() {\r\n        return project;\r\n    }\r\n\r\n    public String projectProperty() {\r\n        return project;\r\n    }\r\n\r\n    public void setProject(String project) {\r\n        this.project = project;\r\n    }\r\n\r\n    public boolean isIntake() {\r\n        return intake;\r\n    }\r\n\r\n    public void setIntake(boolean intake) {\r\n        this.intake = intake;\r\n    }\r\n\r\n    public Double getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(Double amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public boolean isDigital() {\r\n        return digital;\r\n    }\r\n\r\n    public void setDigital(boolean digital) {\r\n        this.digital = digital;\r\n    }\r\n\r\n    public String getDate1() {\r\n        return date1;\r\n    }\r\n\r\n    public void setDate1(String date1) {\r\n        this.date1 = date1;\r\n    }\r\n\r\n    public String getDate2() {\r\n        return date2;\r\n    }\r\n\r\n    public void setDate2(String date2) {\r\n        this.date2 = date2;\r\n    }\r\n\r\n    public String getDate3() {\r\n        return date3;\r\n    }\r\n\r\n    public void setDate3(String date3) {\r\n        this.date3 = date3;\r\n    }\r\n\r\n    public String getShop() {\r\n        return shop;\r\n    }\r\n\r\n    public void setShop(String shop) {\r\n        this.shop = shop;\r\n    }\r\n\r\n    public String getReason() {\r\n        return reason;\r\n    }\r\n\r\n    public void setReason(String reason) {\r\n        this.reason = reason;\r\n    }\r\n\r\n    public String getPerson() {\r\n        return person;\r\n    }\r\n\r\n    public void setPerson(String person) {\r\n        this.person = person;\r\n    }\r\n\r\n    public boolean isPaid() {\r\n        return paid;\r\n    }\r\n\r\n    public void setPaid(boolean paid) {\r\n        this.paid = paid;\r\n    }\r\n    //endregion\r\n}\r\n\r\n```\r\n\r\nController Class:\r\n```java\r\npackage net.strobl.main;\r\n\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\n\r\nimport javafx.scene.control.*;\r\n\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport net.strobl.processing.DataManager;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\npublic class Controller{\r\n\r\n    private App app;\r\n    private DataManager dataManager;\r\n\r\n\r\n    //region @FXML Objects new Bill\r\n    @FXML\r\n    Button submitButton;\r\n\r\n    @FXML\r\n    TextField inputProject;\r\n    @FXML\r\n    TextField inputAmount;\r\n    @FXML\r\n    TextField inputShop;\r\n    @FXML\r\n    TextField inputReason;\r\n    @FXML\r\n    TextField inputPerson;\r\n    @FXML\r\n    TextField inputDate1;\r\n    @FXML\r\n    TextField inputDate2;\r\n    @FXML\r\n    TextField inputDate3;\r\n    @FXML\r\n    RadioButton inputIntake;\r\n    @FXML\r\n    RadioButton inputDigital;\r\n    @FXML\r\n    RadioButton inputPaid;\r\n    //endregion\r\n\r\n    //region @FXML Objects viewProject\r\n    @FXML\r\n    Spinner&lt;String&gt; spinnerProjectSelect;\r\n    @FXML\r\n    TextField textFieldProjectSpent;\r\n    @FXML\r\n    TextField textFieldProjectGained;\r\n    @FXML\r\n    TextField textFieldProjectRevenue;\r\n    @FXML\r\n    ScrollPane scrollPane;\r\n\r\n    //region @FXML TableView and Columns\r\n    @FXML\r\n    TableView&lt;Bill&gt; tableView;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnProject;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnAmount;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnIntake;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDigital;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnShop;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnReason;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnPerson;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDate1;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDate2;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDate3;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnPaid;\r\n\r\n\r\n    public void addTableViewData(ActionEvent event){\r\n        columnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(&quot;project&quot;));\r\n        tableView.setItems(getObservableBills());\r\n    }\r\n\r\n    private ObservableList&lt;Bill&gt; getObservableBills(){\r\n        return FXCollections.observableArrayList(app.getBills());\r\n    }\r\n\r\n    public Controller() throws IOException {\r\n        app = new App();\r\n        dataManager = new DataManager();\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nfxml file (only included the button and the TableView):\r\n----------------\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ScrollPane?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n\r\n         &lt;TableView fx:id=&quot;tableView&quot; prefHeight=&quot;585.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n           &lt;columns&gt;\r\n             &lt;TableColumn fx:id=&quot;columnProject&quot; prefWidth=&quot;94.0&quot; text=&quot;Project&quot; /&gt;\r\n             &lt;TableColumn fx:id=&quot;columnAmount&quot; prefWidth=&quot;66.0&quot; text=&quot;Amount&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnIntake&quot; prefWidth=&quot;57.0&quot; text=&quot;Intake&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDigital&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;54.0&quot; text=&quot;Digital&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnShop&quot; minWidth=&quot;1.0&quot; prefWidth=&quot;85.0&quot; text=&quot;Shop&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnReason&quot; prefWidth=&quot;86.0&quot; text=&quot;Reason&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnPerson&quot; prefWidth=&quot;87.0&quot; text=&quot;Person&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDate1&quot; prefWidth=&quot;74.0&quot; text=&quot;Date 1&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDate2&quot; prefWidth=&quot;64.0&quot; text=&quot;Date 2&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDate3&quot; prefWidth=&quot;64.0&quot; text=&quot;Date 3&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnPaid&quot; prefWidth=&quot;68.0&quot; text=&quot;Paid&quot; /&gt;\r\n           &lt;/columns&gt;\r\n         &lt;/TableView&gt;\r\n\r\n&lt;Button fx:id=&quot;buttonReload&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addTableViewData&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Reload&quot; GridPane.rowIndex=&quot;2&quot; /&gt;\r\n```\r\n\r\nmodule-info.java\r\n----------------\r\n```java\r\nmodule AutomatedFinances {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires opencsv;\r\n\r\n    opens net.strobl.main;\r\n}\r\n```","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<h2>Summary:</h2>\n\n<p>I am trying to add/reload data from an ArrayList to a TableView by pressing a \"Reload Button\" (currently I am just testing it with one column of the TableView) . \nBecause TableView requires an ObservableList, I made an ObservableList getter method where the ObservableList is created from an existing ArrayList (I tested both Lists by printing their values with no issue). Everytime I press the reload button,only the amount of rows are created and I get an error, caused by this line of code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>columnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(\"project\"));\n</code></pre>\n\n<p>I looked the problem up for the last 3 hours and tried everything I found on Stack Overflow without any success.</p>\n\n<h2>Information:</h2>\n\n<ul>\n<li>Java: openjdk 11.0.3 and Javafx-11</li>\n<li>Operating System: Manjaro Linux with Kernel 5.0.7-1</li>\n<li>IDE: IntelliJ Idea Ultimate 2019</li>\n<li>I use FXML with SceneBuilder for all JavaFX Objects</li>\n</ul>\n\n<h2>Error:</h2>\n\n<pre><code>Apr 26, 2019 10:23:16 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\nWARNING: Can not retrieve property 'project' in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@688d477d with provided class type: class net.strobl.main.Bill\njava.lang.RuntimeException: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader 'bootstrap'; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader 'app')\n    at javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:199)\n    at javafx.controls/javafx.scene.control.cell.PropertyValueFactory.getCellDataReflectively(PropertyValueFactory.java:182)\n    at javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:154)\n    at javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:133)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\n    at javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\n    at javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\n    at javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\n    at javafx.controls/javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:539)\n    at javafx.controls/javafx.scene.control.skin.TableRowSkinBase.&lt;init&gt;(TableRowSkinBase.java:159)\n    at javafx.controls/javafx.scene.control.skin.TableRowSkin.&lt;init&gt;(TableRowSkin.java:89)\n    at javafx.controls/javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:213)\n    at javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:897)\n    at javafx.controls/javafx.scene.control.Control.access$000(Control.java:83)\n    at javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\n    at javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\n    at javafx.graphics/javafx.scene.Node.applyCss(Node.java:9616)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1715)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.getCell(VirtualFlow.java:1692)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.getCellLength(VirtualFlow.java:1801)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.computeViewportOffset(VirtualFlow.java:2639)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1245)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1204)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Scene.doLayoutPass(Scene.java:576)\n    at javafx.graphics/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2482)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:412)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:411)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:438)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:519)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:499)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:492)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:320)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader 'bootstrap'; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader 'app')\n    at javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\n    ... 44 more\n</code></pre>\n\n<h2>Code:</h2>\n\n<p>Note: I deleted some methods here which are irrelevant to this problem for better readability</p>\n\n<p>Bill Class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package net.strobl.main;\n\npublic class Bill {\n\n    private String project;\n    private boolean intake;\n    private Double amount;\n    private boolean digital;\n    private String date1;\n    private String date2;\n    private String date3;\n    private String shop;\n    private String reason;\n    private String person;\n    private boolean paid;\n\n    public Bill(String project, boolean intake, Double amount, boolean digital, String date1, String date2, String date3, String shop, String reason, String person, boolean paid) {\n        this.project = project;\n        this.intake = intake;\n        this.amount = amount;\n        this.digital = digital;\n        this.date1 = date1;\n        this.date2 = date2;\n        this.date3 = date3;\n        this.shop = shop;\n        this.reason = reason;\n        this.person = person;\n        this.paid = paid;\n    }\n\n    //region Getters and Setters\n    public String getProject() {\n        return project;\n    }\n\n    public String projectProperty() {\n        return project;\n    }\n\n    public void setProject(String project) {\n        this.project = project;\n    }\n\n    public boolean isIntake() {\n        return intake;\n    }\n\n    public void setIntake(boolean intake) {\n        this.intake = intake;\n    }\n\n    public Double getAmount() {\n        return amount;\n    }\n\n    public void setAmount(Double amount) {\n        this.amount = amount;\n    }\n\n    public boolean isDigital() {\n        return digital;\n    }\n\n    public void setDigital(boolean digital) {\n        this.digital = digital;\n    }\n\n    public String getDate1() {\n        return date1;\n    }\n\n    public void setDate1(String date1) {\n        this.date1 = date1;\n    }\n\n    public String getDate2() {\n        return date2;\n    }\n\n    public void setDate2(String date2) {\n        this.date2 = date2;\n    }\n\n    public String getDate3() {\n        return date3;\n    }\n\n    public void setDate3(String date3) {\n        this.date3 = date3;\n    }\n\n    public String getShop() {\n        return shop;\n    }\n\n    public void setShop(String shop) {\n        this.shop = shop;\n    }\n\n    public String getReason() {\n        return reason;\n    }\n\n    public void setReason(String reason) {\n        this.reason = reason;\n    }\n\n    public String getPerson() {\n        return person;\n    }\n\n    public void setPerson(String person) {\n        this.person = person;\n    }\n\n    public boolean isPaid() {\n        return paid;\n    }\n\n    public void setPaid(boolean paid) {\n        this.paid = paid;\n    }\n    //endregion\n}\n\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package net.strobl.main;\n\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\n\nimport javafx.scene.control.*;\n\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport net.strobl.processing.DataManager;\n\nimport java.io.IOException;\n\n\npublic class Controller{\n\n    private App app;\n    private DataManager dataManager;\n\n\n    //region @FXML Objects new Bill\n    @FXML\n    Button submitButton;\n\n    @FXML\n    TextField inputProject;\n    @FXML\n    TextField inputAmount;\n    @FXML\n    TextField inputShop;\n    @FXML\n    TextField inputReason;\n    @FXML\n    TextField inputPerson;\n    @FXML\n    TextField inputDate1;\n    @FXML\n    TextField inputDate2;\n    @FXML\n    TextField inputDate3;\n    @FXML\n    RadioButton inputIntake;\n    @FXML\n    RadioButton inputDigital;\n    @FXML\n    RadioButton inputPaid;\n    //endregion\n\n    //region @FXML Objects viewProject\n    @FXML\n    Spinner&lt;String&gt; spinnerProjectSelect;\n    @FXML\n    TextField textFieldProjectSpent;\n    @FXML\n    TextField textFieldProjectGained;\n    @FXML\n    TextField textFieldProjectRevenue;\n    @FXML\n    ScrollPane scrollPane;\n\n    //region @FXML TableView and Columns\n    @FXML\n    TableView&lt;Bill&gt; tableView;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnProject;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnAmount;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnIntake;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDigital;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnShop;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnReason;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnPerson;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDate1;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDate2;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDate3;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnPaid;\n\n\n    public void addTableViewData(ActionEvent event){\n        columnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(\"project\"));\n        tableView.setItems(getObservableBills());\n    }\n\n    private ObservableList&lt;Bill&gt; getObservableBills(){\n        return FXCollections.observableArrayList(app.getBills());\n    }\n\n    public Controller() throws IOException {\n        app = new App();\n        dataManager = new DataManager();\n\n    }\n\n}\n\n</code></pre>\n\n<h2>fxml file (only included the button and the TableView):</h2>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n\n         &lt;TableView fx:id=\"tableView\" prefHeight=\"585.0\" prefWidth=\"800.0\"&gt;\n           &lt;columns&gt;\n             &lt;TableColumn fx:id=\"columnProject\" prefWidth=\"94.0\" text=\"Project\" /&gt;\n             &lt;TableColumn fx:id=\"columnAmount\" prefWidth=\"66.0\" text=\"Amount\" /&gt;\n               &lt;TableColumn fx:id=\"columnIntake\" prefWidth=\"57.0\" text=\"Intake\" /&gt;\n               &lt;TableColumn fx:id=\"columnDigital\" minWidth=\"0.0\" prefWidth=\"54.0\" text=\"Digital\" /&gt;\n               &lt;TableColumn fx:id=\"columnShop\" minWidth=\"1.0\" prefWidth=\"85.0\" text=\"Shop\" /&gt;\n               &lt;TableColumn fx:id=\"columnReason\" prefWidth=\"86.0\" text=\"Reason\" /&gt;\n               &lt;TableColumn fx:id=\"columnPerson\" prefWidth=\"87.0\" text=\"Person\" /&gt;\n               &lt;TableColumn fx:id=\"columnDate1\" prefWidth=\"74.0\" text=\"Date 1\" /&gt;\n               &lt;TableColumn fx:id=\"columnDate2\" prefWidth=\"64.0\" text=\"Date 2\" /&gt;\n               &lt;TableColumn fx:id=\"columnDate3\" prefWidth=\"64.0\" text=\"Date 3\" /&gt;\n               &lt;TableColumn fx:id=\"columnPaid\" prefWidth=\"68.0\" text=\"Paid\" /&gt;\n           &lt;/columns&gt;\n         &lt;/TableView&gt;\n\n&lt;Button fx:id=\"buttonReload\" mnemonicParsing=\"false\" onAction=\"#addTableViewData\" prefHeight=\"28.0\" prefWidth=\"140.0\" text=\"Reload\" GridPane.rowIndex=\"2\" /&gt;\n</code></pre>\n\n<h2>module-info.java</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>module AutomatedFinances {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires opencsv;\n\n    opens net.strobl.main;\n}\n</code></pre>\n"},{"tags":["java","android","webrtc","webrtc-android"],"owner":{"account_id":9175656,"reputation":19,"user_id":6821342,"display_name":"Kai Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675913091,"creation_date":1675913091,"question_id":75393883,"body_markdown":"I&#39;d developing an app to load video streams from Nest Camera using \r\n```\r\norg.webrtc:google-webrtc\r\n```\r\n\r\nI am always successful in loading video stream from Samsung phones. But some device like Sony or Google Pixel cannot load the stream from the Nest Camera(I just want to play stream only, not to make a call).\r\n\r\nThis is the log from Sony phone:\r\n\r\n```\r\n2023-03-02 10:11:19.520 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: SDK version: 29. isEGL14Supported: true\r\n2023-03-02 10:11:19.522 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\r\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: NativeLibrary: Native library has already been loaded.\r\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: PeerConnectionFactory: PeerConnectionFactory was initialized without an injected Loggable. Any existing Loggable will be deleted.\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: createAudioDeviceModule\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW NS will be used.\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW AEC will be used.\r\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: ctor@[name=main, id=2]\r\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: ctor@[name=main, id=2]\r\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: ctor@[name=main, id=2]\r\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInAEC(true)\r\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setAEC(true)\r\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInNS(true)\r\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setNS(true)\r\n2023-03-02 10:11:19.539 14923-16819/ I/org.webrtc.Logging: PeerConnectionFactory: onWorkerThreadReady\r\n2023-03-02 10:11:19.539 14923-16820/ I/org.webrtc.Logging: PeerConnectionFactory: onSignalingThreadReady\r\n2023-03-02 10:11:19.540 14923-16818/ I/org.webrtc.Logging: PeerConnectionFactory: onNetworkThreadReady\r\n2023-03-02 10:11:19.585 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewInitializing EglRenderer\r\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewEglBase.create shared context\r\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\r\n2023-03-02 10:11:19.614 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\r\n2023-03-02 10:11:19.618 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\r\n2023-03-02 10:11:19.622 14923-16818/ I/org.webrtc.Logging: NetworkMonitor: Start monitoring with native observer 505486685312\r\n2023-03-02 10:11:19.623 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewsetLayoutAspectRatio: 0.5555556\r\n2023-03-02 10:11:19.627 14923-16818/ W/org.webrtc.Logging: NetworkMonitorAutoDetect: Unable to obtain permission to request a cellular network.\r\n2023-03-02 10:11:19.629 14923-14923/ I/org.webrtc.Logging: SurfaceEglRenderer: remote_gl_surface_view: surfaceChanged: format: 4 size: 1080x1944\r\n2023-03-02 10:11:19.630 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: Network becomes available: 100\r\n2023-03-02 10:11:19.641 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: capabilities changed: [ Transports: WIFI Capabilities: NOT_METERED&amp;INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN&amp;VALIDATED&amp;NOT_ROAMING&amp;FOREGROUND&amp;NOT_CONGESTED&amp;NOT_SUSPENDED LinkUpBandwidth&gt;=1048576Kbps LinkDnBandwidth&gt;=1048576Kbps SignalStrength: -52]\r\n2023-03-02 10:11:19.653 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: link properties changed: {InterfaceName: wlan0 LinkAddresses: [ fe80::e84d:ecff:fe8e:f358/64,192.168.1.4/24,2402:800:629c:5dc8:e84d:ecff:fe8e:f358/64,2402:800:629c:5dc8:592a:19e1:3c56:c5ab/64 ] DnsAddresses: [ /2402:800:20ff:6666::1,/2402:800:20ff:8888::1,/203.113.131.2,/203.113.131.3 ] Domains: null MTU: 0 TcpBufferSizes: 524288,1048576,2097152,262144,524288,1048576 Routes: [ fe80::/64 -&gt; :: wlan0,::/0 -&gt; fe80::1 wlan0,2402:800:629c:5dc8::/64 -&gt; :: wlan0,192.168.1.0/24 -&gt; 0.0.0.0 wlan0,0.0.0.0/0 -&gt; 192.168.1.1 wlan0 ]}\r\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: initPlayout(sampleRate=48000, channels=1, bufferSizeFactor=1.0)\r\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: byteBuffer.capacity: 960\r\n2023-03-02 10:11:21.127 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: minBufferSizeInBytes: 7688\r\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: createAudioTrackOnLollipopOrHigher\r\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: nativeOutputSampleRate: 48000\r\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: session ID: 145, channels: 1, sample rate: 48000, max gain: 1.0\r\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer size in frames: 3844\r\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer capacity in frames: 3844\r\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: start@[name=worker_thread - 16819, id=1788]\r\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: audio mode is: MODE_NORMAL\r\n2023-03-02 10:11:21.139 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: startPlayout\r\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrackThread@[name=AudioTrackJavaThread, id=1797]\r\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: doAudioTrackStateCallback: 0\r\n2023-03-02 10:11:21.148 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp8 type: VP8 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.151 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp9 type: VP9 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:23.595 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-02 10:11:27.602 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-02 10:11:31.609 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n\r\n```\r\n\r\nAnd here is the offer sdp I created from the Sony phone:\r\n\r\n```\r\nv=0\r\no=- 8159822428667968027 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:sXTN\r\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\r\na=ice-options:trickle renomination\r\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:103 ISAC/16000\r\na=rtpmap:104 ISAC/32000\r\na=rtpmap:9 G722/8000\r\na=rtpmap:102 ILBC/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:106 CN/32000\r\na=rtpmap:105 CN/16000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:112 telephone-event/32000\r\na=rtpmap:113 telephone-event/16000\r\na=rtpmap:126 telephone-event/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 96 97 98 99 101 127 123 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:sXTN\r\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\r\na=ice-options:trickle renomination\r\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:12 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:11 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:124 H264/90000\r\na=rtcp-fb:124 goog-remb\r\na=rtcp-fb:124 transport-cc\r\na=rtcp-fb:124 ccm fir\r\na=rtcp-fb:124 nack\r\na=rtcp-fb:124 nack pli\r\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:127 red/90000\r\na=rtpmap:123 rtx/90000\r\na=fmtp:123 apt=127\r\na=rtpmap:125 ulpfec/90000\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:sXTN\r\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\r\na=ice-options:trickle renomination\r\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\r\na=setup:actpass\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n```\r\n\r\nAnd here is the answerSdp from the Nest Camera:\r\n\r\n```\r\nv=0\r\no=- 0 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 2 1\r\na=msid-semantic: WMS 3725812075825813547/3327200828 virtual-6666\r\na=ice-lite\r\nm=audio 19305 UDP/TLS/RTP/SAVPF 111\r\nc=IN IP4 108.177.122.127\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=candidate: 1 udp 2113939711 2607:f8b0:4002:c02::7f 19305 typ host generation 0\r\na=candidate: 1 tcp 2113939710 2607:f8b0:4002:c02::7f 19305 typ host tcptype passive generation 0\r\na=candidate: 1 ssltcp 2113939709 2607:f8b0:4002:c02::7f 443 typ host generation 0\r\na=candidate: 1 udp 2113932031 108.177.122.127 19305 typ host generation 0\r\na=candidate: 1 tcp 2113932030 108.177.122.127 19305 typ host tcptype passive generation 0\r\na=candidate: 1 ssltcp 2113932029 108.177.122.127 443 typ host generation 0\r\na=ice-ufrag:JEEXTA46SZCV9G7S\r\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\r\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\r\na=setup:passive\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=sendrecv\r\na=msid:virtual-6666 virtual-6666\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtcp-fb:* transport-cc\r\na=ssrc:6666 cname:6666\r\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 101\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:JEEXTA46SZCV9G7S\r\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\r\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\r\na=setup:passive\r\na=mid:1\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=sendrecv\r\na=msid:3725812075825813547/3327200828 3725812075825813547/3327200828\r\na=rtcp-mux\r\na=rtpmap:124 H264/90000\r\na=rtcp-fb:124 transport-cc\r\na=rtcp-fb:124 ccm fir\r\na=rtcp-fb:124 nack\r\na=rtcp-fb:124 nack pli\r\na=rtcp-fb:124 goog-remb\r\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=rtcp-fb:100 goog-remb\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtcp-fb:* transport-cc\r\na=rtcp-fb:* ccm fir\r\na=rtcp-fb:* nack\r\na=rtcp-fb:* nack pli\r\na=rtcp-fb:* goog-remb\r\na=ssrc-group:FID 3327200828 1688556008\r\na=ssrc:3327200828 cname:3327200828\r\na=ssrc:1688556008 cname:3327200828\r\nm=application 9 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:JEEXTA46SZCV9G7S\r\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\r\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\r\na=setup:passive\r\na=mid:2\r\na=sctpmap:5000 webrtc-datachannel 1024\r\n```\r\n\r\nI checking the logs look like it stucking on the ICE state: &quot;CHECKING&quot; and never go to &quot;CONNECTED&quot; state. But with the same logic the Samsung phone can connect fine.\r\n\r\nPlease let me know if I missing something.\r\n\r\nThank you very much for reading and helping.","title":"Android Google WebRTC cannot load stream on some devices","body":"<p>I'd developing an app to load video streams from Nest Camera using</p>\n<pre><code>org.webrtc:google-webrtc\n</code></pre>\n<p>I am always successful in loading video stream from Samsung phones. But some device like Sony or Google Pixel cannot load the stream from the Nest Camera(I just want to play stream only, not to make a call).</p>\n<p>This is the log from Sony phone:</p>\n<pre><code>2023-03-02 10:11:19.520 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: SDK version: 29. isEGL14Supported: true\n2023-03-02 10:11:19.522 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: NativeLibrary: Native library has already been loaded.\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: PeerConnectionFactory: PeerConnectionFactory was initialized without an injected Loggable. Any existing Loggable will be deleted.\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: createAudioDeviceModule\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW NS will be used.\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW AEC will be used.\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: ctor@[name=main, id=2]\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: ctor@[name=main, id=2]\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: ctor@[name=main, id=2]\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInAEC(true)\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setAEC(true)\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInNS(true)\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setNS(true)\n2023-03-02 10:11:19.539 14923-16819/ I/org.webrtc.Logging: PeerConnectionFactory: onWorkerThreadReady\n2023-03-02 10:11:19.539 14923-16820/ I/org.webrtc.Logging: PeerConnectionFactory: onSignalingThreadReady\n2023-03-02 10:11:19.540 14923-16818/ I/org.webrtc.Logging: PeerConnectionFactory: onNetworkThreadReady\n2023-03-02 10:11:19.585 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewInitializing EglRenderer\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewEglBase.create shared context\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\n2023-03-02 10:11:19.614 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\n2023-03-02 10:11:19.618 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\n2023-03-02 10:11:19.622 14923-16818/ I/org.webrtc.Logging: NetworkMonitor: Start monitoring with native observer 505486685312\n2023-03-02 10:11:19.623 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewsetLayoutAspectRatio: 0.5555556\n2023-03-02 10:11:19.627 14923-16818/ W/org.webrtc.Logging: NetworkMonitorAutoDetect: Unable to obtain permission to request a cellular network.\n2023-03-02 10:11:19.629 14923-14923/ I/org.webrtc.Logging: SurfaceEglRenderer: remote_gl_surface_view: surfaceChanged: format: 4 size: 1080x1944\n2023-03-02 10:11:19.630 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: Network becomes available: 100\n2023-03-02 10:11:19.641 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: capabilities changed: [ Transports: WIFI Capabilities: NOT_METERED&amp;INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN&amp;VALIDATED&amp;NOT_ROAMING&amp;FOREGROUND&amp;NOT_CONGESTED&amp;NOT_SUSPENDED LinkUpBandwidth&gt;=1048576Kbps LinkDnBandwidth&gt;=1048576Kbps SignalStrength: -52]\n2023-03-02 10:11:19.653 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: link properties changed: {InterfaceName: wlan0 LinkAddresses: [ fe80::e84d:ecff:fe8e:f358/64,192.168.1.4/24,2402:800:629c:5dc8:e84d:ecff:fe8e:f358/64,2402:800:629c:5dc8:592a:19e1:3c56:c5ab/64 ] DnsAddresses: [ /2402:800:20ff:6666::1,/2402:800:20ff:8888::1,/203.113.131.2,/203.113.131.3 ] Domains: null MTU: 0 TcpBufferSizes: 524288,1048576,2097152,262144,524288,1048576 Routes: [ fe80::/64 -&gt; :: wlan0,::/0 -&gt; fe80::1 wlan0,2402:800:629c:5dc8::/64 -&gt; :: wlan0,192.168.1.0/24 -&gt; 0.0.0.0 wlan0,0.0.0.0/0 -&gt; 192.168.1.1 wlan0 ]}\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: initPlayout(sampleRate=48000, channels=1, bufferSizeFactor=1.0)\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: byteBuffer.capacity: 960\n2023-03-02 10:11:21.127 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: minBufferSizeInBytes: 7688\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: createAudioTrackOnLollipopOrHigher\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: nativeOutputSampleRate: 48000\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: session ID: 145, channels: 1, sample rate: 48000, max gain: 1.0\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer size in frames: 3844\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer capacity in frames: 3844\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: start@[name=worker_thread - 16819, id=1788]\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: audio mode is: MODE_NORMAL\n2023-03-02 10:11:21.139 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: startPlayout\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrackThread@[name=AudioTrackJavaThread, id=1797]\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: doAudioTrackStateCallback: 0\n2023-03-02 10:11:21.148 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp8 type: VP8 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.151 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp9 type: VP9 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:23.595 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-02 10:11:27.602 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-02 10:11:31.609 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n\n</code></pre>\n<p>And here is the offer sdp I created from the Sony phone:</p>\n<pre><code>v=0\no=- 8159822428667968027 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0 1 2\na=msid-semantic: WMS\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:sXTN\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\na=ice-options:trickle renomination\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\na=setup:actpass\na=mid:0\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\na=recvonly\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtpmap:103 ISAC/16000\na=rtpmap:104 ISAC/32000\na=rtpmap:9 G722/8000\na=rtpmap:102 ILBC/8000\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:106 CN/32000\na=rtpmap:105 CN/16000\na=rtpmap:13 CN/8000\na=rtpmap:110 telephone-event/48000\na=rtpmap:112 telephone-event/32000\na=rtpmap:113 telephone-event/16000\na=rtpmap:126 telephone-event/8000\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 96 97 98 99 101 127 123 125\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:sXTN\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\na=ice-options:trickle renomination\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\na=setup:actpass\na=mid:1\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:12 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\na=extmap:11 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=rtcp-fb:96 goog-remb\na=rtcp-fb:96 transport-cc\na=rtcp-fb:96 ccm fir\na=rtcp-fb:96 nack\na=rtcp-fb:96 nack pli\na=rtpmap:97 rtx/90000\na=fmtp:97 apt=96\na=rtpmap:98 VP9/90000\na=rtcp-fb:98 goog-remb\na=rtcp-fb:98 transport-cc\na=rtcp-fb:98 ccm fir\na=rtcp-fb:98 nack\na=rtcp-fb:98 nack pli\na=rtpmap:99 rtx/90000\na=fmtp:99 apt=98\na=rtpmap:124 H264/90000\na=rtcp-fb:124 goog-remb\na=rtcp-fb:124 transport-cc\na=rtcp-fb:124 ccm fir\na=rtcp-fb:124 nack\na=rtcp-fb:124 nack pli\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\na=rtpmap:100 H264/90000\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtpmap:127 red/90000\na=rtpmap:123 rtx/90000\na=fmtp:123 apt=127\na=rtpmap:125 ulpfec/90000\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 0.0.0.0\na=ice-ufrag:sXTN\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\na=ice-options:trickle renomination\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\na=setup:actpass\na=mid:2\na=sctp-port:5000\na=max-message-size:262144\n</code></pre>\n<p>And here is the answerSdp from the Nest Camera:</p>\n<pre><code>v=0\no=- 0 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0 2 1\na=msid-semantic: WMS 3725812075825813547/3327200828 virtual-6666\na=ice-lite\nm=audio 19305 UDP/TLS/RTP/SAVPF 111\nc=IN IP4 108.177.122.127\na=rtcp:9 IN IP4 0.0.0.0\na=candidate: 1 udp 2113939711 2607:f8b0:4002:c02::7f 19305 typ host generation 0\na=candidate: 1 tcp 2113939710 2607:f8b0:4002:c02::7f 19305 typ host tcptype passive generation 0\na=candidate: 1 ssltcp 2113939709 2607:f8b0:4002:c02::7f 443 typ host generation 0\na=candidate: 1 udp 2113932031 108.177.122.127 19305 typ host generation 0\na=candidate: 1 tcp 2113932030 108.177.122.127 19305 typ host tcptype passive generation 0\na=candidate: 1 ssltcp 2113932029 108.177.122.127 443 typ host generation 0\na=ice-ufrag:JEEXTA46SZCV9G7S\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\na=setup:passive\na=mid:0\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=msid:virtual-6666 virtual-6666\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtcp-fb:* transport-cc\na=ssrc:6666 cname:6666\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 101\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:JEEXTA46SZCV9G7S\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\na=setup:passive\na=mid:1\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=msid:3725812075825813547/3327200828 3725812075825813547/3327200828\na=rtcp-mux\na=rtpmap:124 H264/90000\na=rtcp-fb:124 transport-cc\na=rtcp-fb:124 ccm fir\na=rtcp-fb:124 nack\na=rtcp-fb:124 nack pli\na=rtcp-fb:124 goog-remb\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\na=rtpmap:100 H264/90000\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=rtcp-fb:100 goog-remb\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtcp-fb:* transport-cc\na=rtcp-fb:* ccm fir\na=rtcp-fb:* nack\na=rtcp-fb:* nack pli\na=rtcp-fb:* goog-remb\na=ssrc-group:FID 3327200828 1688556008\na=ssrc:3327200828 cname:3327200828\na=ssrc:1688556008 cname:3327200828\nm=application 9 DTLS/SCTP 5000\nc=IN IP4 0.0.0.0\na=ice-ufrag:JEEXTA46SZCV9G7S\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\na=setup:passive\na=mid:2\na=sctpmap:5000 webrtc-datachannel 1024\n</code></pre>\n<p>I checking the logs look like it stucking on the ICE state: &quot;CHECKING&quot; and never go to &quot;CONNECTED&quot; state. But with the same logic the Samsung phone can connect fine.</p>\n<p>Please let me know if I missing something.</p>\n<p>Thank you very much for reading and helping.</p>\n"},{"tags":["java","jdbi"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675911865,"creation_date":1675910363,"answer_id":75393664,"question_id":75376344,"body_markdown":"Yes. You only need to implement the interface `ArgumentFactory`, which consists of a single method:\r\n\r\n    Optional&lt;Argument&gt; build(Type type, Object value, ConfigRegistry config)\r\n\r\nIn your implementation, you can implement arbitrary logic based on `type`. If your custom argument should not apply, just return `Optional.empty()`.\r\n\r\nThe same holds for `ArgumentFactory.Preparable` and its method `prepare` that you may want to implement if your logic allows it.\r\n\r\nFor the example from the documentation, it would look like this\r\n\r\n    public class UUIDArgumentFactory implements ArgumentFactory.Preparable {\r\n    \r\n      @Override\r\n      public Optional&lt;Function&lt;Object, Argument&gt;&gt; prepare(Type type, ConfigRegistry config) {\r\n        if (type != UUID.class) {\r\n          return Optional.empty();\r\n        }\r\n        return Optional.of(UUIDArgumentFactory::toArgument);\r\n      }\r\n    \r\n      private static Argument toArgument(Object value) {\r\n        if (value == null) {\r\n          return (position, statement, ctx) -&gt; statement.setNull(position, Types.VARCHAR);\r\n        }\r\n        return (position, statement, ctx) -&gt; statement.setString(position, value.toString());\r\n      }\r\n\r\n    }","title":"AbstractArgumentFactory for factories that handle multiple argument types","body":"<p>Yes. You only need to implement the interface <code>ArgumentFactory</code>, which consists of a single method:</p>\n<pre><code>Optional&lt;Argument&gt; build(Type type, Object value, ConfigRegistry config)\n</code></pre>\n<p>In your implementation, you can implement arbitrary logic based on <code>type</code>. If your custom argument should not apply, just return <code>Optional.empty()</code>.</p>\n<p>The same holds for <code>ArgumentFactory.Preparable</code> and its method <code>prepare</code> that you may want to implement if your logic allows it.</p>\n<p>For the example from the documentation, it would look like this</p>\n<pre><code>public class UUIDArgumentFactory implements ArgumentFactory.Preparable {\n\n  @Override\n  public Optional&lt;Function&lt;Object, Argument&gt;&gt; prepare(Type type, ConfigRegistry config) {\n    if (type != UUID.class) {\n      return Optional.empty();\n    }\n    return Optional.of(UUIDArgumentFactory::toArgument);\n  }\n\n  private static Argument toArgument(Object value) {\n    if (value == null) {\n      return (position, statement, ctx) -&gt; statement.setNull(position, Types.VARCHAR);\n    }\n    return (position, statement, ctx) -&gt; statement.setString(position, value.toString());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11555235,"reputation":41,"user_id":8466614,"display_name":"Gildos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675911865,"creation_date":1675787544,"question_id":75376344,"body_markdown":"As the [JDBI documentation](https://jdbi.org/#_upgrading_from_v2_to_v3) says:\r\n&gt; *AbstractArgumentFactory* is a generic implementation of *ArgumentFactory* for factories that handle a single argument type.\r\n\r\nThe doc also provide an [implementation example](https://jdbi.org/#_using_the_argumentfactory_interface) for a wrapper class (or a class that exposes only one value).\r\n\r\nIs there a way to register in JDBI an ArgumentFactory that handle multiple argument types?","title":"AbstractArgumentFactory for factories that handle multiple argument types","body":"<p>As the <a href=\"https://jdbi.org/#_upgrading_from_v2_to_v3\" rel=\"nofollow noreferrer\">JDBI documentation</a> says:</p>\n<blockquote>\n<p><em>AbstractArgumentFactory</em> is a generic implementation of <em>ArgumentFactory</em> for factories that handle a single argument type.</p>\n</blockquote>\n<p>The doc also provide an <a href=\"https://jdbi.org/#_using_the_argumentfactory_interface\" rel=\"nofollow noreferrer\">implementation example</a> for a wrapper class (or a class that exposes only one value).</p>\n<p>Is there a way to register in JDBI an ArgumentFactory that handle multiple argument types?</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675861202,"creation_date":1675861202,"answer_id":75386180,"question_id":75385779,"body_markdown":"With the drivers 4.x keys configuration keys be defined in `application.conf`. As long as the file is in the classpath it will load properties and it is the best way to setup your application without having to change your code. [documentation](https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/configuration/reference/)\r\n\r\nKnowing this, if you still want to do configuration programmatically you indeed have the correct approach:\r\n\r\n     DriverConfigLoader loader = DriverConfigLoader.programmaticBuilder()\r\n            .withStringList(DefaultDriverOption.CONTACT_POINTS, Arrays.asList(&quot;127.0.0.1:9042&quot;))\r\n            .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\r\n            .withString(DefaultDriverOption.LOAD_BALANCING_LOCAL_DATACENTER, &quot;datacenter1&quot;)\r\n            .withString(DefaultDriverOption.SESSION_KEYSPACE, KEYSPACE_NAME)\r\n            .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(5))\r\n            \r\n            // If you want to override with an execution profile\r\n            .startProfile(&quot;slow&quot;)\r\n            .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\r\n            .endProfile()\r\n            .build();\r\n        // Use it to create the session\r\n        try (CqlSession cqlSession = CqlSession.builder().withConfigLoader(loader).build()) {\r\n            \r\n            // Use session\r\n            LOGGER.info(&quot;[OK] Connected to Keyspace {}&quot;, cqlSession.getKeyspace().get());\r\n        }\r\n      \r\nA lot of 4.x code can be found [here][1] and used as reference.\r\n\r\n\r\n  [1]: https://github.com/DataStax-Examples/java-cassandra-driver-from3x-to4x/tree/master/example-4x","title":"What is the right approach to migrating QueryOptions to the new Cassandra Java driver v4.14?","body":"<p>With the drivers 4.x keys configuration keys be defined in <code>application.conf</code>. As long as the file is in the classpath it will load properties and it is the best way to setup your application without having to change your code. <a href=\"https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>Knowing this, if you still want to do configuration programmatically you indeed have the correct approach:</p>\n<pre><code> DriverConfigLoader loader = DriverConfigLoader.programmaticBuilder()\n        .withStringList(DefaultDriverOption.CONTACT_POINTS, Arrays.asList(&quot;127.0.0.1:9042&quot;))\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\n        .withString(DefaultDriverOption.LOAD_BALANCING_LOCAL_DATACENTER, &quot;datacenter1&quot;)\n        .withString(DefaultDriverOption.SESSION_KEYSPACE, KEYSPACE_NAME)\n        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(5))\n        \n        // If you want to override with an execution profile\n        .startProfile(&quot;slow&quot;)\n        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\n        .endProfile()\n        .build();\n    // Use it to create the session\n    try (CqlSession cqlSession = CqlSession.builder().withConfigLoader(loader).build()) {\n        \n        // Use session\n        LOGGER.info(&quot;[OK] Connected to Keyspace {}&quot;, cqlSession.getKeyspace().get());\n    }\n  \n</code></pre>\n<p>A lot of 4.x code can be found <a href=\"https://github.com/DataStax-Examples/java-cassandra-driver-from3x-to4x/tree/master/example-4x\" rel=\"nofollow noreferrer\">here</a> and used as reference.</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675911734,"creation_date":1675911734,"answer_id":75393768,"question_id":75385779,"body_markdown":"The [Cassandra Java driver][1] was completely refactored from the ground up in version 4.0 so it does mean that it is not binary-compatible with earlier versions so the previous APIs and classes like `QueryOptions` have been replaced.\r\n\r\nThere are several ways to configure the driver including the `programmaticBuilder()` in your example which allows you to programmatically specify configuration options.\r\n\r\nThere is also a configuration API which allows you to use dynamic profiles or load configuration options at runtime.\r\n\r\nYour example code is a direct translation of the programmatic builder in previous releases and it will work. However, our opinion is that in most cases, developers should configure the driver using an application configuration properties file (`application.conf` or its variations) placed in the application classpath. With this option, the driver configuration is de-coupled from your application.\r\n\r\nThe obvious advantage of this method is that you can easily reconfigure the driver without having to recompile your application.\r\n\r\nThere is [a reference configuration file (`reference.conf`) available][2] that has tons of in-line comments for developers. For details, see [Configuring the Cassandra Java driver][3]. Cheers!\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/latest/\r\n  [2]: https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/reference/\r\n  [3]: https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/","title":"What is the right approach to migrating QueryOptions to the new Cassandra Java driver v4.14?","body":"<p>The <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/\" rel=\"nofollow noreferrer\">Cassandra Java driver</a> was completely refactored from the ground up in version 4.0 so it does mean that it is not binary-compatible with earlier versions so the previous APIs and classes like <code>QueryOptions</code> have been replaced.</p>\n<p>There are several ways to configure the driver including the <code>programmaticBuilder()</code> in your example which allows you to programmatically specify configuration options.</p>\n<p>There is also a configuration API which allows you to use dynamic profiles or load configuration options at runtime.</p>\n<p>Your example code is a direct translation of the programmatic builder in previous releases and it will work. However, our opinion is that in most cases, developers should configure the driver using an application configuration properties file (<code>application.conf</code> or its variations) placed in the application classpath. With this option, the driver configuration is de-coupled from your application.</p>\n<p>The obvious advantage of this method is that you can easily reconfigure the driver without having to recompile your application.</p>\n<p>There is <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">a reference configuration file (<code>reference.conf</code>) available</a> that has tons of in-line comments for developers. For details, see <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/\" rel=\"nofollow noreferrer\">Configuring the Cassandra Java driver</a>. Cheers!</p>\n"}],"owner":{"account_id":15608990,"reputation":632,"user_id":11260972,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386180,"answer_count":2,"score":0,"last_activity_date":1675911734,"creation_date":1675859226,"question_id":75385779,"body_markdown":"I am migrating from Datastax Cassandra Driver 1.9 to 4.14.x\r\n\r\nI would be interested how to migrate this code:\r\n```\r\nBuilder builder =\r\n        Cluster.builder()\r\n            .withQueryOptions(new QueryOptions().setConsistencyLevel(ConsistencyLevel.LOCAL_QUORUM));\r\n\r\n```\r\nIs that the right approach and the equivalent to the code above?\r\n```\r\nDriverConfigLoader driverConfigLoader = DriverConfigLoader.programmaticBuilder()\r\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\r\n        .build();\r\n    final CqlSessionBuilder cqlSessionBuilder =\r\n        CqlSession.builder()\r\n            .withConfigLoader(driverConfigLoader);\r\n```\r\n\r\nThanks in advance!","title":"What is the right approach to migrating QueryOptions to the new Cassandra Java driver v4.14?","body":"<p>I am migrating from Datastax Cassandra Driver 1.9 to 4.14.x</p>\n<p>I would be interested how to migrate this code:</p>\n<pre><code>Builder builder =\n        Cluster.builder()\n            .withQueryOptions(new QueryOptions().setConsistencyLevel(ConsistencyLevel.LOCAL_QUORUM));\n\n</code></pre>\n<p>Is that the right approach and the equivalent to the code above?</p>\n<pre><code>DriverConfigLoader driverConfigLoader = DriverConfigLoader.programmaticBuilder()\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\n        .build();\n    final CqlSessionBuilder cqlSessionBuilder =\n        CqlSession.builder()\n            .withConfigLoader(driverConfigLoader);\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","https"],"owner":{"account_id":7611065,"reputation":77,"user_id":5771875,"accept_rate":100,"display_name":"Rathina Sabapathi M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675910995,"creation_date":1675874288,"question_id":75388925,"body_markdown":"Hi I am facing a problem while downloading files with the Japanese file name.\r\nFile name like:`【個別契約書_STO】Direct.docx` but after download the file will be: `_______STO_Direct.docx`.\r\nHere is my code:\r\n\r\n    InputStream fileInputStream = fileStorageManager.getContentStream(metaData);\r\n                httpResponse.setContentType(\r\n                        metaData.getContentType() == null ? &quot;application/octet-stream&quot; : metaData.getContentType());\r\n                httpResponse.setHeader(&quot;Content-Disposition&quot;,\r\n                        StringUtil.join(&quot;attachment; filename=\\&quot;&quot;, metaData.getFileName(), &quot;\\&quot;&quot;));\r\n                httpResponse.setHeader(&quot;filename&quot;, metaData.getFileName());\r\n                httpResponse.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;filename&quot;);\r\n                try (InputStream in = fileInputStream; OutputStream out = httpResponse.getOutputStream()) {\r\n                    IOUtils.copy(in, out);\r\n                }\r\n\r\nResponse Headers:\r\n\r\n    Access-Control-Allow-Credentials: true\r\n    Access-Control-Allow-Origin: http://localhost:4700\r\n    Access-Control-Expose-Headers: filename\r\n    Connection: keep-alive\r\n    Content-Disposition: attachment; filename=&quot;??????_STO?Direct.docx&quot;\r\n    Content-Type: application/octet-stream\r\n    Date: Thu, 09 Feb 2023 02:46:41 GMT\r\n    filename: ??????_STO?Direct.docx\r\n    Keep-Alive: timeout=60\r\n    Transfer-Encoding: chunked\r\n    Vary: Origin\r\n    Vary: Access-Control-Request-Method\r\n    Vary: Access-Control-Request-Headers\r\n\r\n","title":"Spring Boot handle Japanese file name was not working while download file","body":"<p>Hi I am facing a problem while downloading files with the Japanese file name.\nFile name like:<code>【個別契約書_STO】Direct.docx</code> but after download the file will be: <code>_______STO_Direct.docx</code>.\nHere is my code:</p>\n<pre><code>InputStream fileInputStream = fileStorageManager.getContentStream(metaData);\n            httpResponse.setContentType(\n                    metaData.getContentType() == null ? &quot;application/octet-stream&quot; : metaData.getContentType());\n            httpResponse.setHeader(&quot;Content-Disposition&quot;,\n                    StringUtil.join(&quot;attachment; filename=\\&quot;&quot;, metaData.getFileName(), &quot;\\&quot;&quot;));\n            httpResponse.setHeader(&quot;filename&quot;, metaData.getFileName());\n            httpResponse.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;filename&quot;);\n            try (InputStream in = fileInputStream; OutputStream out = httpResponse.getOutputStream()) {\n                IOUtils.copy(in, out);\n            }\n</code></pre>\n<p>Response Headers:</p>\n<pre><code>Access-Control-Allow-Credentials: true\nAccess-Control-Allow-Origin: http://localhost:4700\nAccess-Control-Expose-Headers: filename\nConnection: keep-alive\nContent-Disposition: attachment; filename=&quot;??????_STO?Direct.docx&quot;\nContent-Type: application/octet-stream\nDate: Thu, 09 Feb 2023 02:46:41 GMT\nfilename: ??????_STO?Direct.docx\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\n</code></pre>\n"},{"tags":["java","html","htmlunit"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675894742,"post_id":75392270,"comment_id":133028862,"body_markdown":"&quot;_the error... is too long to post on here_&quot; - But you should post it anyway. The full stack trace could be extremely useful for troubleshooting. You can format the text of the stack trace, to make it more readable (e.g. surround it with triple-backticks at the start and end on lines of their own). See [How do I format my posts using Markdown or HTML?](https://stackoverflow.com/help/formatting).","body":"&quot;<i>the error... is too long to post on here</i>&quot; - But you should post it anyway. The full stack trace could be extremely useful for troubleshooting. You can format the text of the stack trace, to make it more readable (e.g. surround it with triple-backticks at the start and end on lines of their own). See <a href=\"https://stackoverflow.com/help/formatting\">How do I format my posts using Markdown or HTML?</a>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675894781,"post_id":75392270,"comment_id":133028870,"body_markdown":"If you are not familiar with how to use stack traces yourself (maybe you already are), then take a look at [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/12567365)","body":"If you are not familiar with how to use stack traces yourself (maybe you already are), then take a look at <a href=\"https://stackoverflow.com/q/3988788/12567365\">What is a stack trace, and how can I use it to debug my application errors?</a>"},{"owner":{"account_id":21407284,"reputation":9,"user_id":15768252,"display_name":"Erasedsword"},"score":0,"creation_date":1675910417,"post_id":75392270,"comment_id":133031253,"body_markdown":"i added a majority of the stack trace. i wasn&#39;t able to add the whole thing by 1000 characters","body":"i added a majority of the stack trace. i wasn&#39;t able to add the whole thing by 1000 characters"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1675930234,"post_id":75392270,"comment_id":133034429,"body_markdown":"HTMLUnit&#39;s JavaScript engine is very limited and doesn&#39;t support all the features that most modern browsers do. You may want to try a library that remote controls a real browser instead, such as Selenium or Playwright.","body":"HTMLUnit&#39;s JavaScript engine is very limited and doesn&#39;t support all the features that most modern browsers do. You may want to try a library that remote controls a real browser instead, such as Selenium or Playwright."}],"owner":{"account_id":21407284,"reputation":9,"user_id":15768252,"display_name":"Erasedsword"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675910327,"creation_date":1675894414,"question_id":75392270,"body_markdown":"Im trying to make a program that goes into google and searches it&#39;s contents for programing blogs and the things alike. however when I enter the google domain I get a long error. Im using HtmlUnit and currently am still learning it, so it&#39;s probably something simple. my code is as fallows im just calling the connectToLink method in the main method\r\n\r\n        /**\r\n     * Connects to the desired link provided. Uses the Scanner class to provide\r\n     * the input saves the page as a connection.\r\n     */\r\n    private static void connectToLink() {\r\n        Boolean connected = false;\r\n        String uInput;\r\n\r\n        while (!connected) {\r\n            System.out.println(&quot;Please provide a valid link&quot;);\r\n            uInput = input.nextLine();\r\n            if (wManage.linkChecker(uInput)) {\r\n                //return the connection\r\n                page = wManage.getPage();\r\n                connected = true;\r\n            }\r\n        }\r\n    }\r\n\r\nthis is my wManage class. I have it with both the javaScript and css variables set to true\r\n\r\n    public class WebManager {\r\n\r\n    HtmlPage page;\r\n    WebClient web;\r\n\r\n    //all objects are going to try to make a website, so why not have it passed when creating the class?\r\n    /**\r\n     * gives the class specific way to handle a website\r\n     *\r\n     * @param css turns on and off css\r\n     * @param javaScript turns on and off javascript support\r\n     */\r\n    public WebManager(Boolean css, Boolean javaScript) {\r\n        //stop unnecessary errors\r\n        //LogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\r\n\r\n        //java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\r\n        //java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n\r\n        //Modify the browser here\r\n        web = new WebClient(BrowserVersion.CHROME);\r\n        //Modify the default browser\r\n        web.getOptions().setJavaScriptEnabled(javaScript);\r\n        web.getOptions().setThrowExceptionOnScriptError(true);\r\n        web.getOptions().setCssEnabled(css);\r\n    }\r\n\r\n    /**\r\n     * checks if the link provided is able to connect to the site\r\n     *\r\n     * @param link the link to check\r\n     * @return if it was able to connect to the site\r\n     */\r\n    public Boolean linkChecker(String link) {\r\n        try {\r\n            page = web.getPage(link);\r\n            web.waitForBackgroundJavaScript(500);\r\n            System.out.println(&quot;Connected&quot;);\r\n            return true;\r\n        } catch (IOException | FailingHttpStatusCodeException ex) {\r\n            System.out.println(&quot;Unable to connect&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets the website the user is trying to reach\r\n     *\r\n     * @return a programatic implementation of the website\r\n     */\r\n    public HtmlPage getPage() {\r\n        return page;\r\n    }\r\n\r\n    `======= EXCEPTION START ========\r\n    Exception class=[net.sourceforge.htmlunit.corejs.javascript.EvaluatorException]\r\n    com.gargoylesoftware.htmlunit.ScriptException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\r\n    \tat com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\r\n    \tat com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\r\n    \tat com.joshua.buybot.BuyBot.main(BuyBot.java:28)\r\n    Caused by: net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\r\n    \t... 38 more\r\n    Enclosed exception: \r\n    net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\r\n    \tat com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\r\n    \tat com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\r\n    \tat com.joshua.buybot.BuyBot.main(BuyBot.java:28)\r\n    == CALLING JAVASCRIPT ==\r\n    this.gbar_=this.gbar_||{};(function(_){var window=this;\r\n    try{\r\n    _.be=function(a,b,c){if(!a.o)if(c instanceof Array)for(var d of c)_.be(a,b,d);else{d=(0,_.x)(a.F,a,b);const e=a.B+c;a.B++;b.setAttribute(&quot;data-eqid&quot;,e);a.D[e]=d;b&amp;&amp;b.addEventListener?b.addEventListener(c,d,!1):b&amp;&amp;b.attachEvent?b.attachEvent(&quot;on&quot;+c,d):a.A.log(Error(&quot;x`&quot;+b))}};\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    _.ce=function(){if(!_.m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},&quot;passive&quot;,{get:function(){a=!0}});try{_.m.addEventListener(&quot;test&quot;,()=&gt;{},b),_.m.removeEventListener(&quot;test&quot;,()=&gt;{},b)}catch(c){}return a}();_.de=_.tb?&quot;webkitTransitionEnd&quot;:&quot;transitionend&quot;;\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    var ee=document.querySelector(&quot;.gb_M .gb_e&quot;),fe=document.querySelector(&quot;#gb.gb_Qc&quot;);ee&amp;&amp;!fe&amp;&amp;_.be(_.Rd,ee,&quot;click&quot;);\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    _.Sh=function(a){if(a.A)return a.A;for(const b in a.j)if(a.j[b].yb()&amp;&amp;a.j[b].G())return a.j[b];return null};_.Th=function(a,b){b&amp;&amp;_.Sh(a)&amp;&amp;b!=_.Sh(a)&amp;&amp;_.Sh(a).ua(!1);a.A=b};_.Uh=function(a,b){a.j[b.S()]=b};var Vh=new class extends _.I{constructor(){var a=_.rc;super();this.D=a;this.A=null;this.o={};this.F={};this.j={};this.B=null}C(a){this.j[a]&amp;&amp;(_.Sh(this)&amp;&amp;_.Sh(this).S()==a||this.j[a].ua(!0))}Za(a){this.B=a;for(const b in this.j)this.j[b].yb()&amp;&amp;this.j[b].Za(a)}Ac(a){return a in this.j?this.j[a]:null}};_.qd(&quot;dd&quot;,Vh);\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    var tj=document.querySelector(&quot;.gb_b .gb_e&quot;),uj=document.querySelector(&quot;#gb.gb_Qc&quot;);tj&amp;&amp;!uj&amp;&amp;_.be(_.Rd,tj,&quot;click&quot;);\r\n    }catch(e){_._DumpException(e)}\r\n    })(this.gbar_);\r\n    // Google Inc.\r\n    this.gbar_=this.gbar_||{};(function(_){var window=this;\r\n    try{\r\n    _.ge=function(a,b){return 0&lt;=_.mb(a,b)};_.he=function(a){var b=typeof a;return&quot;object&quot;!=b?b:a?Array.isArray(a)?&quot;array&quot;:b:&quot;null&quot;};_.ie=function(a){var b=_.he(a);return&quot;array&quot;==b||&quot;object&quot;==b&amp;&amp;&quot;number&quot;==typeof a.length};_.je=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};try{(new self.OffscreenCanvas(0,0)).getContext(&quot;2d&quot;)}catch(a){}_.ke=_.A||_.tb;_.le=function(a,b){this.width=a;this.height=b};_.k=_.le.prototype;_.k.aspectRatio=function(){return this.width/this.height};_.k.lc=function(){return!(this.width*this.height)};_.k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};_.k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};_.k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var ne,qe;_.me=function(a,b){return(b||document).getElementsByTagName(String(a))};_.oe=function(a,b){_.ab(b,function(c,d){c&amp;&amp;&quot;object&quot;==typeof c&amp;&amp;c.Xb&amp;&amp;(c=c.Hb());&quot;style&quot;==d?a.style.cssText=c:&quot;class&quot;==d?a.className=c:&quot;for&quot;==d?a.htmlFor=c:ne.hasOwnProperty(d)?a.setAttribute(ne[d],c):0==d.lastIndexOf(&quot;aria-&quot;,0)||0==d.lastIndexOf(&quot;data-&quot;,0)?a.setAttribute(d,c):a[d]=c})};\r\n    ne={cellpadding:&quot;cellPadding&quot;,cellspacing:&quot;cellSpacing&quot;,colspan:&quot;colSpan&quot;,frameborder:&quot;frameBorder&quot;,height:&quot;height&quot;,maxlength:&quot;maxLength&quot;,nonce:&quot;nonce&quot;,role:&quot;role&quot;,rowspan:&quot;rowSpan&quot;,type:&quot;type&quot;,usemap:&quot;useMap&quot;,valign:&quot;vAlign&quot;,width:&quot;width&quot;};_.re=function(a,b){var c=b[1],d=_.pe(a,String(b[0]));c&amp;&amp;(&quot;string&quot;===typeof c?d.className=c:Array.isArray(c)?d.className=c.join(&quot; &quot;):_.oe(d,c));2&lt;b.length&amp;&amp;qe(a,d,b);return d};\r\n    qe=function(a,b,c){function d(h){h&amp;&amp;b.appendChild(&quot;string&quot;===typeof h?a.createTextNode(h):h)}for(var e=2;e&lt;c.length;e++){var f=c[e];if(!_.ie(f)||_.eb(f)&amp;&amp;0&lt;f.nodeType)d(f);else{a:{if(f&amp;&amp;&quot;number&quot;==typeof f.length){if(_.eb(f)){var g=&quot;function&quot;==typeof f.item||&quot;string&quot;==typeof f.item;break a}if(&quot;function&quot;===typeof f){g=&quot;function&quot;==typeof f.item;break a}}g=!1}_.nb(g?_.ma(f):f,d)}}};_.se=function(a){return _.pe(document,a)};\r\n    _.pe=function(a,b){b=String(b);&quot;application/xhtml+xml&quot;===a.contentType&amp;&amp;(b=b.toLowerCase());return a.createElement(b)};_.te=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};_.ue=function(a){return _.eb(a)&amp;&amp;1==a.nodeType};_.ve=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document};_.we=function(a,b)\r\n\r\n\r\n","title":"I&#39;m receiving an error when entering google Htmlunit Can you please explain it?","body":"<p>Im trying to make a program that goes into google and searches it's contents for programing blogs and the things alike. however when I enter the google domain I get a long error. Im using HtmlUnit and currently am still learning it, so it's probably something simple. my code is as fallows im just calling the connectToLink method in the main method</p>\n<pre><code>    /**\n * Connects to the desired link provided. Uses the Scanner class to provide\n * the input saves the page as a connection.\n */\nprivate static void connectToLink() {\n    Boolean connected = false;\n    String uInput;\n\n    while (!connected) {\n        System.out.println(&quot;Please provide a valid link&quot;);\n        uInput = input.nextLine();\n        if (wManage.linkChecker(uInput)) {\n            //return the connection\n            page = wManage.getPage();\n            connected = true;\n        }\n    }\n}\n</code></pre>\n<p>this is my wManage class. I have it with both the javaScript and css variables set to true</p>\n<pre><code>public class WebManager {\n\nHtmlPage page;\nWebClient web;\n\n//all objects are going to try to make a website, so why not have it passed when creating the class?\n/**\n * gives the class specific way to handle a website\n *\n * @param css turns on and off css\n * @param javaScript turns on and off javascript support\n */\npublic WebManager(Boolean css, Boolean javaScript) {\n    //stop unnecessary errors\n    //LogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\n\n    //java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\n    //java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\n\n    //Modify the browser here\n    web = new WebClient(BrowserVersion.CHROME);\n    //Modify the default browser\n    web.getOptions().setJavaScriptEnabled(javaScript);\n    web.getOptions().setThrowExceptionOnScriptError(true);\n    web.getOptions().setCssEnabled(css);\n}\n\n/**\n * checks if the link provided is able to connect to the site\n *\n * @param link the link to check\n * @return if it was able to connect to the site\n */\npublic Boolean linkChecker(String link) {\n    try {\n        page = web.getPage(link);\n        web.waitForBackgroundJavaScript(500);\n        System.out.println(&quot;Connected&quot;);\n        return true;\n    } catch (IOException | FailingHttpStatusCodeException ex) {\n        System.out.println(&quot;Unable to connect&quot;);\n        return false;\n    }\n}\n\n/**\n * gets the website the user is trying to reach\n *\n * @return a programatic implementation of the website\n */\npublic HtmlPage getPage() {\n    return page;\n}\n\n`======= EXCEPTION START ========\nException class=[net.sourceforge.htmlunit.corejs.javascript.EvaluatorException]\ncom.gargoylesoftware.htmlunit.ScriptException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\n    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\n    at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\n    at net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\n    at net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\n    at net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\n    at net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\n    at com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\n    at com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\n    at com.joshua.buybot.BuyBot.main(BuyBot.java:28)\nCaused by: net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\n    ... 38 more\nEnclosed exception: \nnet.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\n    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\n    at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\n    at net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\n    at net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\n    at net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\n    at net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\n    at com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\n    at com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\n    at com.joshua.buybot.BuyBot.main(BuyBot.java:28)\n== CALLING JAVASCRIPT ==\nthis.gbar_=this.gbar_||{};(function(_){var window=this;\ntry{\n_.be=function(a,b,c){if(!a.o)if(c instanceof Array)for(var d of c)_.be(a,b,d);else{d=(0,_.x)(a.F,a,b);const e=a.B+c;a.B++;b.setAttribute(&quot;data-eqid&quot;,e);a.D[e]=d;b&amp;&amp;b.addEventListener?b.addEventListener(c,d,!1):b&amp;&amp;b.attachEvent?b.attachEvent(&quot;on&quot;+c,d):a.A.log(Error(&quot;x`&quot;+b))}};\n}catch(e){_._DumpException(e)}\ntry{\n_.ce=function(){if(!_.m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},&quot;passive&quot;,{get:function(){a=!0}});try{_.m.addEventListener(&quot;test&quot;,()=&gt;{},b),_.m.removeEventListener(&quot;test&quot;,()=&gt;{},b)}catch(c){}return a}();_.de=_.tb?&quot;webkitTransitionEnd&quot;:&quot;transitionend&quot;;\n}catch(e){_._DumpException(e)}\ntry{\nvar ee=document.querySelector(&quot;.gb_M .gb_e&quot;),fe=document.querySelector(&quot;#gb.gb_Qc&quot;);ee&amp;&amp;!fe&amp;&amp;_.be(_.Rd,ee,&quot;click&quot;);\n}catch(e){_._DumpException(e)}\ntry{\n_.Sh=function(a){if(a.A)return a.A;for(const b in a.j)if(a.j[b].yb()&amp;&amp;a.j[b].G())return a.j[b];return null};_.Th=function(a,b){b&amp;&amp;_.Sh(a)&amp;&amp;b!=_.Sh(a)&amp;&amp;_.Sh(a).ua(!1);a.A=b};_.Uh=function(a,b){a.j[b.S()]=b};var Vh=new class extends _.I{constructor(){var a=_.rc;super();this.D=a;this.A=null;this.o={};this.F={};this.j={};this.B=null}C(a){this.j[a]&amp;&amp;(_.Sh(this)&amp;&amp;_.Sh(this).S()==a||this.j[a].ua(!0))}Za(a){this.B=a;for(const b in this.j)this.j[b].yb()&amp;&amp;this.j[b].Za(a)}Ac(a){return a in this.j?this.j[a]:null}};_.qd(&quot;dd&quot;,Vh);\n}catch(e){_._DumpException(e)}\ntry{\nvar tj=document.querySelector(&quot;.gb_b .gb_e&quot;),uj=document.querySelector(&quot;#gb.gb_Qc&quot;);tj&amp;&amp;!uj&amp;&amp;_.be(_.Rd,tj,&quot;click&quot;);\n}catch(e){_._DumpException(e)}\n})(this.gbar_);\n// Google Inc.\nthis.gbar_=this.gbar_||{};(function(_){var window=this;\ntry{\n_.ge=function(a,b){return 0&lt;=_.mb(a,b)};_.he=function(a){var b=typeof a;return&quot;object&quot;!=b?b:a?Array.isArray(a)?&quot;array&quot;:b:&quot;null&quot;};_.ie=function(a){var b=_.he(a);return&quot;array&quot;==b||&quot;object&quot;==b&amp;&amp;&quot;number&quot;==typeof a.length};_.je=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};try{(new self.OffscreenCanvas(0,0)).getContext(&quot;2d&quot;)}catch(a){}_.ke=_.A||_.tb;_.le=function(a,b){this.width=a;this.height=b};_.k=_.le.prototype;_.k.aspectRatio=function(){return this.width/this.height};_.k.lc=function(){return!(this.width*this.height)};_.k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};_.k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};_.k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var ne,qe;_.me=function(a,b){return(b||document).getElementsByTagName(String(a))};_.oe=function(a,b){_.ab(b,function(c,d){c&amp;&amp;&quot;object&quot;==typeof c&amp;&amp;c.Xb&amp;&amp;(c=c.Hb());&quot;style&quot;==d?a.style.cssText=c:&quot;class&quot;==d?a.className=c:&quot;for&quot;==d?a.htmlFor=c:ne.hasOwnProperty(d)?a.setAttribute(ne[d],c):0==d.lastIndexOf(&quot;aria-&quot;,0)||0==d.lastIndexOf(&quot;data-&quot;,0)?a.setAttribute(d,c):a[d]=c})};\nne={cellpadding:&quot;cellPadding&quot;,cellspacing:&quot;cellSpacing&quot;,colspan:&quot;colSpan&quot;,frameborder:&quot;frameBorder&quot;,height:&quot;height&quot;,maxlength:&quot;maxLength&quot;,nonce:&quot;nonce&quot;,role:&quot;role&quot;,rowspan:&quot;rowSpan&quot;,type:&quot;type&quot;,usemap:&quot;useMap&quot;,valign:&quot;vAlign&quot;,width:&quot;width&quot;};_.re=function(a,b){var c=b[1],d=_.pe(a,String(b[0]));c&amp;&amp;(&quot;string&quot;===typeof c?d.className=c:Array.isArray(c)?d.className=c.join(&quot; &quot;):_.oe(d,c));2&lt;b.length&amp;&amp;qe(a,d,b);return d};\nqe=function(a,b,c){function d(h){h&amp;&amp;b.appendChild(&quot;string&quot;===typeof h?a.createTextNode(h):h)}for(var e=2;e&lt;c.length;e++){var f=c[e];if(!_.ie(f)||_.eb(f)&amp;&amp;0&lt;f.nodeType)d(f);else{a:{if(f&amp;&amp;&quot;number&quot;==typeof f.length){if(_.eb(f)){var g=&quot;function&quot;==typeof f.item||&quot;string&quot;==typeof f.item;break a}if(&quot;function&quot;===typeof f){g=&quot;function&quot;==typeof f.item;break a}}g=!1}_.nb(g?_.ma(f):f,d)}}};_.se=function(a){return _.pe(document,a)};\n_.pe=function(a,b){b=String(b);&quot;application/xhtml+xml&quot;===a.contentType&amp;&amp;(b=b.toLowerCase());return a.createElement(b)};_.te=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};_.ue=function(a){return _.eb(a)&amp;&amp;1==a.nodeType};_.ve=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document};_.we=function(a,b)\n</code></pre>\n"},{"tags":["java","jar","applet","signed-applet"],"answers":[{"comments":[{"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"score":22,"creation_date":1406297917,"post_id":21886019,"comment_id":38790766,"body_markdown":"Advising to use an older JDK is not a proper solution.","body":"Advising to use an older JDK is not a proper solution."},{"owner":{"account_id":82265,"reputation":5516,"user_id":231441,"accept_rate":88,"display_name":"zzeroo"},"score":13,"creation_date":1416761857,"post_id":21886019,"comment_id":42689687,"body_markdown":"The correct answer for op&#39;s question is:\n\n```jarsigner -tsa http://timestamp.digicert.com -keystore my keystore myjar.jar myalias```","body":"The correct answer for op&#39;s question is:  <code>jarsigner -tsa http:&#47;&#47;timestamp.digicert.com -keystore my keystore myjar.jar myalias</code>"},{"owner":{"account_id":3488201,"reputation":927,"user_id":2918516,"accept_rate":100,"display_name":"Peter Kirschner"},"score":2,"creation_date":1436447545,"post_id":21886019,"comment_id":50624188,"body_markdown":"This is no future safe solution and therefor should not be accepted as correct anwser. http://stackoverflow.com/a/24178906/2918516 is correct","body":"This is no future safe solution and therefor should not be accepted as correct anwser. <a href=\"http://stackoverflow.com/a/24178906/2918516\">stackoverflow.com/a/24178906/2918516</a> is correct"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690414352,"post_id":21886019,"comment_id":135352137,"body_markdown":"This is not an error, it is a warning; it is produced when signing, not compiling; and the solution is to *heed* it, not put your head in the sand or engage in time-travelling. Answer is completely incorrect.","body":"This is not an error, it is a warning; it is produced when signing, not compiling; and the solution is to <i>heed</i> it, not put your head in the sand or engage in time-travelling. Answer is completely incorrect."}],"tags":[],"owner":{"account_id":3363687,"reputation":84,"user_id":2824923,"accept_rate":100,"display_name":"Timmy"},"comment_count":4,"down_vote_count":22,"up_vote_count":5,"is_accepted":false,"score":-17,"last_activity_date":1532036688,"creation_date":1392826220,"answer_id":21886019,"question_id":21695520,"body_markdown":"This error is caused if updates were made with JDK Java/Oracle 1.7 u51. This JDK is NOT identical to the previous one.\r\n\r\nYou can install a previous version of the JDK BEFORE u51 (for exemple 1.7u45), or install JDK 6.\r\n\r\nThen, when you re-compile, you won&#39;t see the error.","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>This error is caused if updates were made with JDK Java/Oracle 1.7 u51. This JDK is NOT identical to the previous one.</p>\n\n<p>You can install a previous version of the JDK BEFORE u51 (for exemple 1.7u45), or install JDK 6.</p>\n\n<p>Then, when you re-compile, you won't see the error.</p>\n"},{"tags":[],"owner":{"account_id":4081054,"reputation":231,"user_id":3351539,"display_name":"Malte"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1393336134,"creation_date":1393336134,"answer_id":22016117,"question_id":21695520,"body_markdown":"This warning tells you that your jar&#39;s certificate will expire in may. Hence, users will not be able to execute your program after this date.\r\n\r\nTo improve the situation, the timestamp feature was added. This way, you can tell users: &quot;I used the certificate at this point of time (which is provided and verified by the time stamp agency - tsa), when it was still valid!&quot; As long as you do not change and resign your jar, it will still run, even after the certificate expires, because users see that at the point of creation the certificate was indeed valid.\r\n\r\nFor reference: http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html\r\n\r\ntl;dr: if you ignore the warning, your jar won&#39;t run after 14-05-08. Add a timestamp, and it will still run as long as you don&#39;t modify anything.\r\n\r\nRegards","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>This warning tells you that your jar's certificate will expire in may. Hence, users will not be able to execute your program after this date.</p>\n\n<p>To improve the situation, the timestamp feature was added. This way, you can tell users: \"I used the certificate at this point of time (which is provided and verified by the time stamp agency - tsa), when it was still valid!\" As long as you do not change and resign your jar, it will still run, even after the certificate expires, because users see that at the point of creation the certificate was indeed valid.</p>\n\n<p>For reference: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html\">http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html</a></p>\n\n<p>tl;dr: if you ignore the warning, your jar won't run after 14-05-08. Add a timestamp, and it will still run as long as you don't modify anything.</p>\n\n<p>Regards</p>\n"},{"comments":[{"owner":{"account_id":7100578,"reputation":2612,"user_id":5432315,"accept_rate":71,"display_name":"Brad Turek"},"score":2,"creation_date":1500066487,"post_id":24178906,"comment_id":77194991,"body_markdown":"Symantec has a TSA URL that will timestamp your self-signed app, `-tsa http://sha256timestamp.ws.symantec.com/sha256/timestamp`\n`","body":"Symantec has a TSA URL that will timestamp your self-signed app, <code>-tsa http:&#47;&#47;sha256timestamp.ws.symantec.com&#47;sha256&#47;timestamp</code> `"}],"tags":[],"owner":{"account_id":3731085,"reputation":9146,"user_id":3103448,"accept_rate":43,"display_name":"marc-medley"},"comment_count":1,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1675910272,"creation_date":1402558624,"answer_id":24178906,"question_id":21695520,"body_markdown":"The Java 7 release provides a (courtesy?) warning about something which has been in place for a decade...\r\n\r\nTrusted Timestamping was introducing in Java 5 (2004).  The motivation was so that developers would not be forced &quot;to re-sign deployed JAR files annually&quot; when the certificates expired.\r\n \r\n &amp;rarr; http://docs.oracle.com/javase/1.5.0/docs/guide/security/time-of-signing.html&lt;br&gt;\r\n\r\nA URL-based Time Stamp Authority (TSA) is usually provided by the issuing Certificate Authority (CA) **to work with the same certificates** the CA issued.  For example, the digicert tsa url can be access as follows: \r\n\r\n`jarsigner -tsa http://timestamp.digicert.com [.. other options]`\r\n \r\n &amp;rarr; http://www.digicert.com/code-signing/java-code-signing-guide.htm\r\n\r\nTime stamping with self-signed certificate _may be_ an elusive goal since (1) a TSA timestamp needs to be an trusted arms-length transaction (which rules out &quot;self timestamping&quot;), and (2) typical TSA URLs are setup to work with the certificates provided by the same CA organization (i.e. the TSA URL does not process a self-signed certificate)\r\n\r\n**Update:** \r\n\r\nURLs to try for timestamping self-signed certificates:\r\n\r\n* Symantec: `-tsa http://sha256timestamp.ws.symantec.com/sha256/timestamp` (per comment by brad-turek)\r\n\r\n_For a private network, one could consider an internal Timestamp Authority such as such as Thales (nCipher) Time Stamp Server (or historically OpenTSA)_ ","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>The Java 7 release provides a (courtesy?) warning about something which has been in place for a decade...</p>\n<p>Trusted Timestamping was introducing in Java 5 (2004).  The motivation was so that developers would not be forced &quot;to re-sign deployed JAR files annually&quot; when the certificates expired.</p>\n<p>→ <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/security/time-of-signing.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/guide/security/time-of-signing.html</a><br></p>\n<p>A URL-based Time Stamp Authority (TSA) is usually provided by the issuing Certificate Authority (CA) <strong>to work with the same certificates</strong> the CA issued.  For example, the digicert tsa url can be access as follows:</p>\n<p><code>jarsigner -tsa http://timestamp.digicert.com [.. other options]</code></p>\n<p>→ <a href=\"http://www.digicert.com/code-signing/java-code-signing-guide.htm\" rel=\"nofollow noreferrer\">http://www.digicert.com/code-signing/java-code-signing-guide.htm</a></p>\n<p>Time stamping with self-signed certificate <em>may be</em> an elusive goal since (1) a TSA timestamp needs to be an trusted arms-length transaction (which rules out &quot;self timestamping&quot;), and (2) typical TSA URLs are setup to work with the certificates provided by the same CA organization (i.e. the TSA URL does not process a self-signed certificate)</p>\n<p><strong>Update:</strong></p>\n<p>URLs to try for timestamping self-signed certificates:</p>\n<ul>\n<li>Symantec: <code>-tsa http://sha256timestamp.ws.symantec.com/sha256/timestamp</code> (per comment by brad-turek)</li>\n</ul>\n<p><em>For a private network, one could consider an internal Timestamp Authority such as such as Thales (nCipher) Time Stamp Server (or historically OpenTSA)</em></p>\n"},{"tags":[],"owner":{"account_id":8683978,"reputation":429,"user_id":6498991,"display_name":"vedant shirke"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508267722,"creation_date":1492436420,"answer_id":43452655,"question_id":21695520,"body_markdown":"I was facing the same problem. Without the timestamp the jar would not get signed.\r\n\r\nWhen you add `-tsa http://timestamp.digicert.com`, it would not give any warning or error but still the jar would not be signed.\r\n\r\nBut then I added the following part and it worked for me.\r\n\r\n    -tsacert alias\r\n\r\nSo, basically my final command was\r\n\r\n    jarsigner -verbose -tsa http://timestamp.digicert.com -tsacert alias  -sigalg SHA256withRSA -digestalg SHA1 -keystore my-release-key.keystore android-release-unsigned.apk alias_name\r\n\r\nRemember the `alias_name` in the command and the one in `keystore` should be the same.","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>I was facing the same problem. Without the timestamp the jar would not get signed.</p>\n\n<p>When you add <code>-tsa http://timestamp.digicert.com</code>, it would not give any warning or error but still the jar would not be signed.</p>\n\n<p>But then I added the following part and it worked for me.</p>\n\n<pre><code>-tsacert alias\n</code></pre>\n\n<p>So, basically my final command was</p>\n\n<pre><code>jarsigner -verbose -tsa http://timestamp.digicert.com -tsacert alias  -sigalg SHA256withRSA -digestalg SHA1 -keystore my-release-key.keystore android-release-unsigned.apk alias_name\n</code></pre>\n\n<p>Remember the <code>alias_name</code> in the command and the one in <code>keystore</code> should be the same.</p>\n"}],"owner":{"account_id":978301,"reputation":1366,"user_id":998676,"display_name":"Raja Peela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38773,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":24178906,"answer_count":4,"score":50,"last_activity_date":1675910272,"creation_date":1392103115,"question_id":21695520,"body_markdown":"When I was trying to self-sign in the jar like below.\r\n\r\n    jarsigner -keystore my keystore myjar.jar myalias\r\n\r\nIt gives warning like:\r\n\r\n&gt; No -tsa or -tsacert is provided and this jar is not timestamped. Without a timestamp, users may not be able to validate this jar after the signer certificate&#39;s expiration date (2014-05-08) or after any future revocation date.\r\n\r\n\r\nPlease help to resolve the problem.","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>When I was trying to self-sign in the jar like below.</p>\n\n<pre><code>jarsigner -keystore my keystore myjar.jar myalias\n</code></pre>\n\n<p>It gives warning like:</p>\n\n<blockquote>\n  <p>No -tsa or -tsacert is provided and this jar is not timestamped. Without a timestamp, users may not be able to validate this jar after the signer certificate's expiration date (2014-05-08) or after any future revocation date.</p>\n</blockquote>\n\n<p>Please help to resolve the problem.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675830648,"post_id":75381351,"comment_id":133010791,"body_markdown":"By the way, bold and italics don&#39;t work in formatted code.","body":"By the way, bold and italics don&#39;t work in formatted code."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1675831392,"post_id":75381351,"comment_id":133010869,"body_markdown":"This would be a good program to step through using a debugger.","body":"This would be a good program to step through using a debugger."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675835477,"post_id":75381351,"comment_id":133011379,"body_markdown":"Class `QuizManager` does not compile since it refers to class `NumericQuestion`. I assume that is also a class that you wrote. In any case, in order for your code to compile on my computer, I need class `NumericQuestion`.","body":"Class <code>QuizManager</code> does not compile since it refers to class <code>NumericQuestion</code>. I assume that is also a class that you wrote. In any case, in order for your code to compile on my computer, I need class <code>NumericQuestion</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675843555,"post_id":75381351,"comment_id":133012894,"body_markdown":"I would add the `sentence` to the error message of the exception so you can check what is wrong.... e.g. `throw new IllegalArgumentException(&quot;Fill in Question does not contain the correct format: &quot; + sentence);` (as a developer it is always *nice* to have some more information if something didn&#39;t work [specially user input]) || BTW if I test posted method with `parseQ(&quot;The sky is _-blue-_&quot;)` , I get `&quot;The sky is _________&quot;` - much probably that is not the argument that is causing problems","body":"I would add the <code>sentence</code> to the error message of the exception so you can check what is wrong.... e.g. <code>throw new IllegalArgumentException(&quot;Fill in Question does not contain the correct format: &quot; + sentence);</code> (as a developer it is always <i>nice</i> to have some more information if something didn&#39;t work [specially user input]) || BTW if I test posted method with <code>parseQ(&quot;The sky is _-blue-_&quot;)</code> , I get <code>&quot;The sky is _________&quot;</code> - much probably that is not the argument that is causing problems"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675844934,"post_id":75381351,"comment_id":133013250,"body_markdown":"( I could reproduce the error: `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Fill in Question does not contain the correct format: The color _________ is the most common color found on flags.`  - apparently this method is being called twice for the same text... `FillInQuestion.copy()` is found on the stack trace - this should indicate the problem )","body":"( I could reproduce the error: <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Fill in Question does not contain the correct format: The color _________ is the most common color found on flags.</code>  - apparently this method is being called twice for the same text... <code>FillInQuestion.copy()</code> is found on the stack trace - this should indicate the problem )"},{"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"score":0,"creation_date":1675909966,"post_id":75381351,"comment_id":133031189,"body_markdown":"I commented out the code for the NumericQuestion class in case it won&#39;t compile on your consoles. NumericQuestion works just fine but FillInquestion is not","body":"I commented out the code for the NumericQuestion class in case it won&#39;t compile on your consoles. NumericQuestion works just fine but FillInquestion is not"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675913497,"post_id":75381351,"comment_id":133031608,"body_markdown":"So, did the *&quot;I could reporduce the error&quot;* comment from @user16320675 lead to resolving the problem?","body":"So, did the <i>&quot;I could reporduce the error&quot;</i> comment from @user16320675 lead to resolving the problem?"},{"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"score":1,"creation_date":1675926420,"post_id":75381351,"comment_id":133033555,"body_markdown":"I figured out that the method for parseQ was correct so it had to something with the copy method, and someone commented the method was running two times so I solved it. Thank you for the suggestions.","body":"I figured out that the method for parseQ was correct so it had to something with the copy method, and someone commented the method was running two times so I solved it. Thank you for the suggestions."}],"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675909894,"creation_date":1675830089,"question_id":75381351,"body_markdown":"```\r\npublic class FillInQuestion extends Question {\r\n\t\r\n\tpublic FillInQuestion(String sentence, DifficultyLevel diff) {\r\n\t      super(parseQ(sentence), parseA(sentence), diff);\r\n\t      \r\n\t}\r\n\t/**\r\n\t * Takes a sentence string and replace the answer surrounded by a specific patterb with a blank \r\n\t * \r\n\t * @param sentence\r\n\t * @return finalquestion the question with a blank\r\n\t * @throws IllegalAArgumentException if format is not met\r\n\t */\r\n\t**private static String parseQ(String sentence){\t\r\n\t\tint startindex = sentence.indexOf(&quot;_-&quot;);\r\n\t\tint endindex = sentence.indexOf(&quot;-_&quot;);\r\n\t\tif (startindex == -1 || endindex == -1 || endindex &lt;= (startindex + 2)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Fill in Question does not contain the correct format&quot;);\r\n\t\t}\r\n\t\tString answer = sentence.substring(startindex+2, endindex);\r\n\t\tString finalquestion = sentence.replace(&quot;_-&quot; + answer + &quot;-_&quot;, &quot;_________&quot;);\r\n\t\treturn finalquestion;**\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param sentence\r\n\t * @return selected answer from a string\r\n\t */\r\n\tprivate static String parseA(String sentence) {\r\n\t\tint startindex = sentence.indexOf(&quot;_-&quot;);\r\n\t\tint endindex = sentence.indexOf(&quot;-_&quot;);\r\n\t\treturn sentence.substring(startindex+2, endindex);\r\n\t}\r\n\r\n\t/**Creates a copy of FillinQuestion\r\n\t * \r\n\t * @return a copy of FillinQuestion\r\n\t * \r\n\t */\r\n\t@Override\r\n\tpublic Question copy(){\r\n\t\treturn new FillInQuestion(this.getQuestion(), this.getDifficulty());\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class QuizManager {\r\n\t/**\r\n\t * Asks users for questions, take in user input and then have a score system\r\n\t * \r\n\t * @param questions ArrayList of Questions\r\n\t * @throws Exception\r\n\t */\r\n\tpublic static void giveQuiz(ArrayList&lt;Question&gt; questions) throws Exception {\r\n\t    Scanner s = new Scanner(System.in);\r\n\t    int score = 0;\r\n\t    if (questions.isEmpty()) { //Throws exception in the case of empty arraylist\r\n\t      throw new Exception(&quot;Questions Not Found Empty Quiz&quot;);\r\n\t    }\r\n\t    for (Question q : questions) {\r\n\t      System.out.println(q.displayQuestion());\r\n\t      System.out.print(&quot;Your answer: &quot;);\r\n\t      String userAnswer = s.nextLine();\r\n\t      if (q.checkAnswer(userAnswer)) {\r\n\t        score++;\r\n\t      }\r\n\t    }\r\n\t    System.out.println(&quot;You scored &quot; + score + &quot; out of &quot; + questions.size() + &quot;.&quot;);\r\n\t  }\r\n\r\n\t  public static void main(String[] args) {\r\n\t   \r\n\t\tQuizMaker quizMaker = new QuizMaker(&quot;General Pop Quiz&quot;); // New Object\r\n\t\t//Questions\r\n\t    quizMaker.add(new Question(&quot;When did World War I started?&quot;, &quot;1914&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;How many fundamental states of matter are there? (State the number only)&quot;, &quot;4&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;Which three numbers have the same answer whether they are added or multiplied together?&quot;, &quot;1, 2 and 3&quot;, Question.DifficultyLevel.MEDIUM));\r\n\t    quizMaker.add(new Question(&quot;How many wonders of the world are there (Numbers Only)&quot;, &quot;7&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;What is the capital city of Australia&quot;, &quot;Canberra&quot;, Question.DifficultyLevel.MEDIUM));\r\n\t    quizMaker.add(new Question(&quot;What is the largest capital city in North America?&quot;, &quot;Mexico City&quot;, Question.DifficultyLevel.HARD));\r\n\t    quizMaker.add(new Question(&quot;Who was the first person to create the first gasoline-powered car?&quot;, &quot;Karl Benz&quot;, Question.DifficultyLevel.HARD));\r\n\t    quizMaker.add(new Question(&quot;State a palindrome number between 10 and 20&quot;, &quot;11&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;\\n\\nString str1 = \\&quot;InterviewBit\\&quot;;\\n&quot;\r\n\t    \t\t+ &quot;String str2 = \\&quot;InterviewBit\\&quot;;\\n&quot;\r\n\t    \t\t+ &quot; \\n&quot;\r\n\t    \t\t+ &quot;System.out.println(str1 == str2);\\n\\nWhat will the code print?&quot;, &quot;True&quot;, Question.DifficultyLevel.HARD));\r\n\t    quizMaker.add(new Question(&quot;I’m tall when I’m young, and I’m short when I’m old. What am I?&quot;, &quot;Candle&quot;, Question.DifficultyLevel.MEDIUM));\r\n\t    **quizMaker.add(new FillInQuestion(&quot;The color _-white-_ is the most common color found on flags.&quot;, Question.DifficultyLevel.EASY));**\r\n\t    //quizMaker.add(new NumericQuestion(&quot;VALUE OF PI?&quot;, 3.14, 0.01, Question.DifficultyLevel.EASY));\r\n\t    \r\n\t    ArrayList&lt;Question&gt; allQuestions = quizMaker.createQuiz();\r\n\t    ArrayList&lt;Question&gt; hardQuestions = quizMaker.createQuiz(Question.DifficultyLevel.HARD);\r\n\r\n\t    //Exception Handling\r\n\t    try {\r\n\t    \t  System.out.println(&quot;Full Quiz for : &quot;);\r\n\t    \t  giveQuiz(allQuestions);\r\n\t    \t  System.out.println(&quot;\\nHard Quiz: &quot;);\r\n\t    \t  giveQuiz(hardQuestions);\r\n\t    \t} catch (Exception e) {\r\n\t    \t  System.out.println(e.getMessage());\r\n\t    \t}\r\n\t  }\t\t\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class QuizMaker {\r\n\tprivate String name;\r\n\t  private ArrayList&lt;Question&gt; pool;\r\n\t  \r\n\t  /**\r\n\t   * Constructor with name as an instance \r\n\t   * \r\n\t   * @param name the name of the QuizMaker instance\r\n\t   */\r\n\t  public QuizMaker(String name) {\r\n\t    this.name = name;\r\n\t    this.pool = new ArrayList&lt;&gt;();\r\n\t  }\r\n\t  /*\r\n\t   * Question is copied into the pool\r\n\t   * \r\n\t   * @param q Question q that will be added to the pool\r\n\t   */\r\n\t  public void add(Question q) {\r\n\t    this.pool.add(q.copy());\r\n\t  }\r\n\r\n\t  \r\n\t  /*\r\n\t   * @return the name of the QuizMaker Instance\r\n\t   */\r\n\t  public String getName() {\r\n\t    return name;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Sets the name of the QuizMaker instance.\r\n\t   * \r\n\t   * @param name the new name of the QuizMaker instance\r\n\t   */\r\n\t  public void setName(String name) {\r\n\t    this.name = name;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Creates quiz from the question pool\r\n\t   * \r\n\t   * @return an ArrayList of Question objects representing the quiz\r\n\t   */\r\n\t  public ArrayList&lt;Question&gt; createQuiz() {\r\n\t    ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\r\n\t    for (Question q : pool) {\r\n\t      quiz.add(q.copy());\r\n\t    }\r\n\t    return quiz;\r\n\t  }\r\n\t  \r\n\t  /**\r\n\t   * Creates a specific difficulty quiz from pool of questions\r\n\t   * \r\n\t   * @param difficulty the difficulty level of the questions \r\n\t   * @return an ArrayList of Question with the specific difficulty\r\n\t   */\r\n\t  public ArrayList&lt;Question&gt; createQuiz(Question.DifficultyLevel difficulty) {\r\n\t    ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\r\n\t    for (Question q : pool) {\r\n\t      if (q.getDifficulty() == difficulty) {\r\n\t        quiz.add(q.copy());\r\n\t      }\r\n\t    }\r\n\t    return quiz;\r\n\t  }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class Question {\r\n\t/*\r\n\t * Enum class representing the difficulty of the question \r\n\t */\r\n\tpublic enum DifficultyLevel {\r\n\t\tEASY, MEDIUM , HARD;\r\n\t}\r\n\t\r\n\t//Instance values \r\n\tprivate String question;\r\n\tprivate String answer;\r\n\tprivate DifficultyLevel difficulty;\r\n\t\r\n\t\r\n\t/**\r\n\t * Constructs a question with the given question text, answer, and difficulty level.\r\n\t * \r\n\t * @param question the question string\r\n\t * @param answer the answer string\r\n\t * @param difficulty the difficulty level of the question\r\n\t */\r\n\t public Question(String question, String answer, DifficultyLevel difficulty) {\r\n\t\t    this.question = question;\r\n\t\t    this.answer = answer;\r\n\t\t    this.difficulty = difficulty;\r\n\t\t  }\r\n\t \r\n\t /**\r\n\t\t * Constructs a new question with the given question and answer, and  default difficulty level of `EASY`.\r\n\t\t * \r\n\t\t * @param question the question string\r\n\t\t * @param answer the answer string\r\n\t\t */\r\n\t public Question(String question, String answer) {\r\n\t\t    this.question = question;\r\n\t\t    this.answer = answer;\r\n\t\t    this.difficulty = DifficultyLevel.EASY;\r\n\t\t  }\r\n\r\n\r\n /**\r\n  \t* \r\n\t* \r\n\t* @return question string\r\n\t*/\r\n\tpublic String getQuestion() {\r\n\t\treturn question;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set Given Question\r\n\t * @param question\r\n\t */\r\n\tpublic void setQuestion(String question) {\r\n\t\tthis.question = question;\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * @return answer string\r\n\t */\r\n\tpublic String getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\r\n\t/**Set the answer\r\n\t * \r\n\t * @param answer from given answer\r\n\t */\r\n\tpublic void setAnswer(String answer) {\r\n\t\tthis.answer = answer;\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * @return difficulty ENUM difficulty level\r\n\t */\r\n\tpublic DifficultyLevel getDifficulty() {\r\n\t\treturn difficulty;\r\n\t}\r\n\r\n\t/**\r\n\t * Set difficulty level\r\n\t * @param difficulty \r\n\t */\r\n\tpublic void setDifficulty(DifficultyLevel difficulty) {\r\n\t\tthis.difficulty = difficulty;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param userInput the user&#39;s answer \r\n\t * @return a boolean whether the answer is true or not\r\n\t */\r\n\tpublic boolean checkAnswer(String userInput) {\r\n\t\tif(userInput.equalsIgnoreCase(getAnswer())) {\r\n\t\t\treturn true;\r\n\t\t}else\r\n\t\t\treturn false;\r\n\t}\r\n\t\r\n\t/**Displays the question and the difficulty level of the question \r\n\t * \r\n\t * @return whole question and its difficulty\r\n\t */\r\n\tpublic String displayQuestion() {\r\n\t    return &quot;Question: &quot; + this.getQuestion() + &quot;\\nDifficulty: &quot; + this.getDifficulty();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @return the string summary\r\n\t */\r\n\tpublic String toString() {\r\n\t\t    return &quot;Question: &quot; + question + &quot;, Answer: &quot; + answer + &quot;, Difficulty Level: &quot; + difficulty;\r\n\t}\r\n\t\r\n\t/**Creates a new question with the same question, answer and difficulty\r\n\t * \r\n\t * @return a copy of the question \r\n\t */\r\n\tpublic Question copy() {\r\n\t    return new Question(this.getQuestion(), this.getAnswer(), this.getDifficulty());\r\n\t  }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI expected to the code I bolded to run smoothly without throwing the exception I implemented. It shouldn&#39;t happen since the format is correct. I don&#39;t know what I did wrong but basically o\t`parseQ(“The sky is _-blue-_”)` should return “The sky is _________” but I tried with the method but it only throws the exception. Also I am not allowed to use regex patterns.","title":"Why it is program showing the IllegalArgumentException I threw despite having the correct format for FillInQuestion? I put all class files for context","body":"<pre><code>public class FillInQuestion extends Question {\n    \n    public FillInQuestion(String sentence, DifficultyLevel diff) {\n          super(parseQ(sentence), parseA(sentence), diff);\n          \n    }\n    /**\n     * Takes a sentence string and replace the answer surrounded by a specific patterb with a blank \n     * \n     * @param sentence\n     * @return finalquestion the question with a blank\n     * @throws IllegalAArgumentException if format is not met\n     */\n    **private static String parseQ(String sentence){    \n        int startindex = sentence.indexOf(&quot;_-&quot;);\n        int endindex = sentence.indexOf(&quot;-_&quot;);\n        if (startindex == -1 || endindex == -1 || endindex &lt;= (startindex + 2)) {\n            throw new IllegalArgumentException(&quot;Fill in Question does not contain the correct format&quot;);\n        }\n        String answer = sentence.substring(startindex+2, endindex);\n        String finalquestion = sentence.replace(&quot;_-&quot; + answer + &quot;-_&quot;, &quot;_________&quot;);\n        return finalquestion;**\n    }\n    /**\n     * \n     * @param sentence\n     * @return selected answer from a string\n     */\n    private static String parseA(String sentence) {\n        int startindex = sentence.indexOf(&quot;_-&quot;);\n        int endindex = sentence.indexOf(&quot;-_&quot;);\n        return sentence.substring(startindex+2, endindex);\n    }\n\n    /**Creates a copy of FillinQuestion\n     * \n     * @return a copy of FillinQuestion\n     * \n     */\n    @Override\n    public Question copy(){\n        return new FillInQuestion(this.getQuestion(), this.getDifficulty());\n    }\n}\n\n</code></pre>\n<pre><code>public class QuizManager {\n    /**\n     * Asks users for questions, take in user input and then have a score system\n     * \n     * @param questions ArrayList of Questions\n     * @throws Exception\n     */\n    public static void giveQuiz(ArrayList&lt;Question&gt; questions) throws Exception {\n        Scanner s = new Scanner(System.in);\n        int score = 0;\n        if (questions.isEmpty()) { //Throws exception in the case of empty arraylist\n          throw new Exception(&quot;Questions Not Found Empty Quiz&quot;);\n        }\n        for (Question q : questions) {\n          System.out.println(q.displayQuestion());\n          System.out.print(&quot;Your answer: &quot;);\n          String userAnswer = s.nextLine();\n          if (q.checkAnswer(userAnswer)) {\n            score++;\n          }\n        }\n        System.out.println(&quot;You scored &quot; + score + &quot; out of &quot; + questions.size() + &quot;.&quot;);\n      }\n\n      public static void main(String[] args) {\n       \n        QuizMaker quizMaker = new QuizMaker(&quot;General Pop Quiz&quot;); // New Object\n        //Questions\n        quizMaker.add(new Question(&quot;When did World War I started?&quot;, &quot;1914&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;How many fundamental states of matter are there? (State the number only)&quot;, &quot;4&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;Which three numbers have the same answer whether they are added or multiplied together?&quot;, &quot;1, 2 and 3&quot;, Question.DifficultyLevel.MEDIUM));\n        quizMaker.add(new Question(&quot;How many wonders of the world are there (Numbers Only)&quot;, &quot;7&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;What is the capital city of Australia&quot;, &quot;Canberra&quot;, Question.DifficultyLevel.MEDIUM));\n        quizMaker.add(new Question(&quot;What is the largest capital city in North America?&quot;, &quot;Mexico City&quot;, Question.DifficultyLevel.HARD));\n        quizMaker.add(new Question(&quot;Who was the first person to create the first gasoline-powered car?&quot;, &quot;Karl Benz&quot;, Question.DifficultyLevel.HARD));\n        quizMaker.add(new Question(&quot;State a palindrome number between 10 and 20&quot;, &quot;11&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;\\n\\nString str1 = \\&quot;InterviewBit\\&quot;;\\n&quot;\n                + &quot;String str2 = \\&quot;InterviewBit\\&quot;;\\n&quot;\n                + &quot; \\n&quot;\n                + &quot;System.out.println(str1 == str2);\\n\\nWhat will the code print?&quot;, &quot;True&quot;, Question.DifficultyLevel.HARD));\n        quizMaker.add(new Question(&quot;I’m tall when I’m young, and I’m short when I’m old. What am I?&quot;, &quot;Candle&quot;, Question.DifficultyLevel.MEDIUM));\n        **quizMaker.add(new FillInQuestion(&quot;The color _-white-_ is the most common color found on flags.&quot;, Question.DifficultyLevel.EASY));**\n        //quizMaker.add(new NumericQuestion(&quot;VALUE OF PI?&quot;, 3.14, 0.01, Question.DifficultyLevel.EASY));\n        \n        ArrayList&lt;Question&gt; allQuestions = quizMaker.createQuiz();\n        ArrayList&lt;Question&gt; hardQuestions = quizMaker.createQuiz(Question.DifficultyLevel.HARD);\n\n        //Exception Handling\n        try {\n              System.out.println(&quot;Full Quiz for : &quot;);\n              giveQuiz(allQuestions);\n              System.out.println(&quot;\\nHard Quiz: &quot;);\n              giveQuiz(hardQuestions);\n            } catch (Exception e) {\n              System.out.println(e.getMessage());\n            }\n      }     \n}\n</code></pre>\n<pre><code>public class QuizMaker {\n    private String name;\n      private ArrayList&lt;Question&gt; pool;\n      \n      /**\n       * Constructor with name as an instance \n       * \n       * @param name the name of the QuizMaker instance\n       */\n      public QuizMaker(String name) {\n        this.name = name;\n        this.pool = new ArrayList&lt;&gt;();\n      }\n      /*\n       * Question is copied into the pool\n       * \n       * @param q Question q that will be added to the pool\n       */\n      public void add(Question q) {\n        this.pool.add(q.copy());\n      }\n\n      \n      /*\n       * @return the name of the QuizMaker Instance\n       */\n      public String getName() {\n        return name;\n      }\n\n      /**\n       * Sets the name of the QuizMaker instance.\n       * \n       * @param name the new name of the QuizMaker instance\n       */\n      public void setName(String name) {\n        this.name = name;\n      }\n\n      /**\n       * Creates quiz from the question pool\n       * \n       * @return an ArrayList of Question objects representing the quiz\n       */\n      public ArrayList&lt;Question&gt; createQuiz() {\n        ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\n        for (Question q : pool) {\n          quiz.add(q.copy());\n        }\n        return quiz;\n      }\n      \n      /**\n       * Creates a specific difficulty quiz from pool of questions\n       * \n       * @param difficulty the difficulty level of the questions \n       * @return an ArrayList of Question with the specific difficulty\n       */\n      public ArrayList&lt;Question&gt; createQuiz(Question.DifficultyLevel difficulty) {\n        ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\n        for (Question q : pool) {\n          if (q.getDifficulty() == difficulty) {\n            quiz.add(q.copy());\n          }\n        }\n        return quiz;\n      }\n\n}\n</code></pre>\n<pre><code>public class Question {\n    /*\n     * Enum class representing the difficulty of the question \n     */\n    public enum DifficultyLevel {\n        EASY, MEDIUM , HARD;\n    }\n    \n    //Instance values \n    private String question;\n    private String answer;\n    private DifficultyLevel difficulty;\n    \n    \n    /**\n     * Constructs a question with the given question text, answer, and difficulty level.\n     * \n     * @param question the question string\n     * @param answer the answer string\n     * @param difficulty the difficulty level of the question\n     */\n     public Question(String question, String answer, DifficultyLevel difficulty) {\n            this.question = question;\n            this.answer = answer;\n            this.difficulty = difficulty;\n          }\n     \n     /**\n         * Constructs a new question with the given question and answer, and  default difficulty level of `EASY`.\n         * \n         * @param question the question string\n         * @param answer the answer string\n         */\n     public Question(String question, String answer) {\n            this.question = question;\n            this.answer = answer;\n            this.difficulty = DifficultyLevel.EASY;\n          }\n\n\n /**\n    * \n    * \n    * @return question string\n    */\n    public String getQuestion() {\n        return question;\n    }\n    \n    /**\n     * Set Given Question\n     * @param question\n     */\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n    \n    /**\n     * \n     * @return answer string\n     */\n    public String getAnswer() {\n        return answer;\n    }\n\n    /**Set the answer\n     * \n     * @param answer from given answer\n     */\n    public void setAnswer(String answer) {\n        this.answer = answer;\n    }\n    \n    /**\n     * \n     * @return difficulty ENUM difficulty level\n     */\n    public DifficultyLevel getDifficulty() {\n        return difficulty;\n    }\n\n    /**\n     * Set difficulty level\n     * @param difficulty \n     */\n    public void setDifficulty(DifficultyLevel difficulty) {\n        this.difficulty = difficulty;\n    }\n    /**\n     * \n     * @param userInput the user's answer \n     * @return a boolean whether the answer is true or not\n     */\n    public boolean checkAnswer(String userInput) {\n        if(userInput.equalsIgnoreCase(getAnswer())) {\n            return true;\n        }else\n            return false;\n    }\n    \n    /**Displays the question and the difficulty level of the question \n     * \n     * @return whole question and its difficulty\n     */\n    public String displayQuestion() {\n        return &quot;Question: &quot; + this.getQuestion() + &quot;\\nDifficulty: &quot; + this.getDifficulty();\n    }\n    \n    /**\n     * @return the string summary\n     */\n    public String toString() {\n            return &quot;Question: &quot; + question + &quot;, Answer: &quot; + answer + &quot;, Difficulty Level: &quot; + difficulty;\n    }\n    \n    /**Creates a new question with the same question, answer and difficulty\n     * \n     * @return a copy of the question \n     */\n    public Question copy() {\n        return new Question(this.getQuestion(), this.getAnswer(), this.getDifficulty());\n      }\n\n}\n</code></pre>\n<p>I expected to the code I bolded to run smoothly without throwing the exception I implemented. It shouldn't happen since the format is correct. I don't know what I did wrong but basically o    <code>parseQ(“The sky is _-blue-_”)</code> should return “The sky is _________” but I tried with the method but it only throws the exception. Also I am not allowed to use regex patterns.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1447599996,"post_id":33719747,"comment_id":55212096,"body_markdown":"please post full stacktrace; but I will start with empty-ctor for `Country` and  setters for `countryName`","body":"please post full stacktrace; but I will start with empty-ctor for <code>Country</code> and  setters for <code>countryName</code>"}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1447605755,"creation_date":1447605755,"answer_id":33722146,"question_id":33719747,"body_markdown":"The problem here is that you are missing a default no-arg constructor in your `Country` class.\r\n\r\nYou are using [`BeanWrapperFieldSetMapper`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html) to map a [`FieldSet`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/FieldSet.html) to an object. Quoting the [`setTargetType(type)`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html#setTargetType-java.lang.Class-) Javadoc:\r\n&gt;An object of this type will be created from its default constructor for every call to `mapFieldSet(FieldSet)`.\r\n\r\nAs such, you need to add a default constructor and provide the corresponding getter / setter for the properties.","title":"FlatFileParseException Parsing error - Spring Batch","body":"<p>The problem here is that you are missing a default no-arg constructor in your <code>Country</code> class.</p>\n\n<p>You are using <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html\" rel=\"noreferrer\"><code>BeanWrapperFieldSetMapper</code></a> to map a <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/FieldSet.html\" rel=\"noreferrer\"><code>FieldSet</code></a> to an object. Quoting the <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html#setTargetType-java.lang.Class-\" rel=\"noreferrer\"><code>setTargetType(type)</code></a> Javadoc:</p>\n\n<blockquote>\n  <p>An object of this type will be created from its default constructor for every call to <code>mapFieldSet(FieldSet)</code>.</p>\n</blockquote>\n\n<p>As such, you need to add a default constructor and provide the corresponding getter / setter for the properties.</p>\n"}],"owner":{"account_id":1985059,"reputation":633,"user_id":1780541,"accept_rate":75,"display_name":"usil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18950,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":33722146,"answer_count":1,"score":9,"last_activity_date":1675909699,"creation_date":1447591121,"question_id":33719747,"body_markdown":"I follow this [tutorial][1] and I&#39;m getting `FlatFileParseException` error:\r\n\r\n&gt; org.springframework.batch.item.file.FlatFileParseException: Parsing\r\n&gt; error at line: 1 in resource=[class path resource [country.csv]],\r\n&gt; input=[AA,Aruba]\r\n\r\n`country.csv`\r\n\r\n    AA,Aruba\r\n    BB,Baruba\r\n\r\nand here is my `ItemReader` method\r\n\r\n    @Bean\r\n        public ItemReader&lt;Country&gt; reader() {\r\n            FlatFileItemReader&lt;Country&gt; reader = new FlatFileItemReader&lt;Country&gt;();\r\n            reader.setResource(new ClassPathResource(&quot;country.csv&quot;));\r\n            reader.setLineMapper(new DefaultLineMapper&lt;Country&gt;() {{\r\n                setLineTokenizer(new DelimitedLineTokenizer() {{\r\n                    setNames(new String[] { &quot;countryCode&quot;, &quot;countryName&quot; });\r\n                }});\r\n                setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;Country&gt;() {{\r\n                    setTargetType(Country.class);\r\n                }});\r\n            }});\r\n            return reader;\r\n        }\r\n\r\nand `Country.java`\r\n\r\n    @Entity\r\n    @Table(name=&quot;Country&quot;)\r\n    public class Country  {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n        Long id;\r\n    \r\n        @Column(name = &quot;countryCode&quot;, nullable = false, updatable = false)\r\n        String countryCode;\r\n    \r\n        @Column(name = &quot;countryName&quot;, nullable = false, updatable = false)\r\n        String countryName;\r\n    \r\n        public Country(String countryCode, String countryName) {\r\n            this.countryCode = countryCode;\r\n            this.countryName = countryName;\r\n    \r\n        }\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getCountryCode() {\r\n            return countryCode;\r\n        }\r\n    \r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n    \r\n        public String getCountryName() {\r\n            return countryName;\r\n        }\r\n    \r\n        public void setCountryName(String countryName) {\r\n            this.countryName = countryName;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;countryCode: &quot; + countryCode + &quot;, countryName: &quot; + countryName;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/batch-processing/","title":"FlatFileParseException Parsing error - Spring Batch","body":"<p>I follow this <a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"noreferrer\">tutorial</a> and I'm getting <code>FlatFileParseException</code> error:</p>\n\n<blockquote>\n  <p>org.springframework.batch.item.file.FlatFileParseException: Parsing\n  error at line: 1 in resource=[class path resource [country.csv]],\n  input=[AA,Aruba]</p>\n</blockquote>\n\n<p><code>country.csv</code></p>\n\n<pre><code>AA,Aruba\nBB,Baruba\n</code></pre>\n\n<p>and here is my <code>ItemReader</code> method</p>\n\n<pre><code>@Bean\n    public ItemReader&lt;Country&gt; reader() {\n        FlatFileItemReader&lt;Country&gt; reader = new FlatFileItemReader&lt;Country&gt;();\n        reader.setResource(new ClassPathResource(\"country.csv\"));\n        reader.setLineMapper(new DefaultLineMapper&lt;Country&gt;() {{\n            setLineTokenizer(new DelimitedLineTokenizer() {{\n                setNames(new String[] { \"countryCode\", \"countryName\" });\n            }});\n            setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;Country&gt;() {{\n                setTargetType(Country.class);\n            }});\n        }});\n        return reader;\n    }\n</code></pre>\n\n<p>and <code>Country.java</code></p>\n\n<pre><code>@Entity\n@Table(name=\"Country\")\npublic class Country  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false, updatable = false)\n    Long id;\n\n    @Column(name = \"countryCode\", nullable = false, updatable = false)\n    String countryCode;\n\n    @Column(name = \"countryName\", nullable = false, updatable = false)\n    String countryName;\n\n    public Country(String countryCode, String countryName) {\n        this.countryCode = countryCode;\n        this.countryName = countryName;\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getCountryCode() {\n        return countryCode;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public String getCountryName() {\n        return countryName;\n    }\n\n    public void setCountryName(String countryName) {\n        this.countryName = countryName;\n    }\n\n    @Override\n    public String toString() {\n        return \"countryCode: \" + countryCode + \", countryName: \" + countryName;\n    }\n}\n</code></pre>\n"},{"tags":["java","keystore"],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675907410,"creation_date":1675824282,"question_id":75380932,"body_markdown":"I have 2 file config to load Keystore softhsm_1 and softhsm_2.\r\n\r\nValue for file config changed, but Keystore and all alias not reload.\r\nBut when I restarting JVM, value loaded with new config.\r\nHow can i fix it?\r\n\r\nI&#39;ve already load and instance keystore like this\r\n```\r\nif (pkaSlot.equalsIgnoreCase(&quot;0&quot;)){\r\n   pkcs11conf = &quot;myPath\\\\softhsm_1.cfg&quot;; //load config for slot 0\r\n}else pkcs11conf = &quot;myPath\\\\softhsm_2.cfg&quot;\r\n\r\nchar[] password = &quot;12345678&quot;.toCharArray();\r\nprovider = new sun.security.pkcs11.SunPKCS11(pkcs11conf);\t\t \t\t\r\nSecurity.addProvider(provider);\r\n\r\n//Load keystore\r\nSystem.out.println(&quot;pkcs11conf: &quot;+pkcs11conf);\r\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\r\nfileInputStream = new FileInputStream(pkcs11conf);\r\nkeystore.load(fileInputStream, password);\r\n```","title":"How to reload config for Keystore Java","body":"<p>I have 2 file config to load Keystore softhsm_1 and softhsm_2.</p>\n<p>Value for file config changed, but Keystore and all alias not reload.\nBut when I restarting JVM, value loaded with new config.\nHow can i fix it?</p>\n<p>I've already load and instance keystore like this</p>\n<pre><code>if (pkaSlot.equalsIgnoreCase(&quot;0&quot;)){\n   pkcs11conf = &quot;myPath\\\\softhsm_1.cfg&quot;; //load config for slot 0\n}else pkcs11conf = &quot;myPath\\\\softhsm_2.cfg&quot;\n\nchar[] password = &quot;12345678&quot;.toCharArray();\nprovider = new sun.security.pkcs11.SunPKCS11(pkcs11conf);               \nSecurity.addProvider(provider);\n\n//Load keystore\nSystem.out.println(&quot;pkcs11conf: &quot;+pkcs11conf);\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\nfileInputStream = new FileInputStream(pkcs11conf);\nkeystore.load(fileInputStream, password);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","file","minio"],"owner":{"account_id":20283612,"reputation":1,"user_id":14876764,"display_name":"Badwomne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675906982,"creation_date":1675906876,"question_id":75393387,"body_markdown":"Files uploaded via API in [MinIO](https://min.io/) cannot be deleted (pending all the time)？My MinIO version is the latest version up to date and uses the Java SDK. I want to ask you guys have ever encountered this situation? If so, how did you solve it?\r\n\r\nMinio version: lastest (latest version on the official website)\r\nJavaSDK 8.2.1 .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hl8eM.png","title":"Files uploaded via API in minio cannot be deleted (pending all the time)","body":"<p>Files uploaded via API in <a href=\"https://min.io/\" rel=\"nofollow noreferrer\">MinIO</a> cannot be deleted (pending all the time)？My MinIO version is the latest version up to date and uses the Java SDK. I want to ask you guys have ever encountered this situation? If so, how did you solve it?</p>\n<p>Minio version: lastest (latest version on the official website)\nJavaSDK 8.2.1 .</p>\n<p><a href=\"https://i.stack.imgur.com/Hl8eM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hl8eM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","file","sockets","byte"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675748744,"post_id":75369060,"comment_id":132990374,"body_markdown":"[Java sending and receiving file (byte) over sockets](https://stackoverflow.com/questions/9520911/java-sending-and-receiving-file-byte-over-sockets)","body":"<a href=\"https://stackoverflow.com/questions/9520911/java-sending-and-receiving-file-byte-over-sockets\">Java sending and receiving file (byte) over sockets</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675749142,"post_id":75369060,"comment_id":132990417,"body_markdown":"[Java sending and receiving file over sockets](https://stackoverflow.com/questions/38732970/java-sending-and-receiving-file-over-sockets)","body":"<a href=\"https://stackoverflow.com/questions/38732970/java-sending-and-receiving-file-over-sockets\">Java sending and receiving file over sockets</a>"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1675764709,"post_id":75369060,"comment_id":132994237,"body_markdown":"the variable `bytes` tells you how many bytes were received. If 5 bytes were received then your program prints 1024 bytes anyway. What do you suppose goes in the extra 1019 bytes that it prints?","body":"the variable <code>bytes</code> tells you how many bytes were received. If 5 bytes were received then your program prints 1024 bytes anyway. What do you suppose goes in the extra 1019 bytes that it prints?"}],"answers":[{"comments":[{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":1,"creation_date":1675780503,"post_id":75369900,"comment_id":132999481,"body_markdown":"The for loop should work. An array is an enumerable, you can read up on that here: https://www.w3schools.com/java/java_arrays_loop.asp.","body":"The for loop should work. An array is an enumerable, you can read up on that here: <a href=\"https://www.w3schools.com/java/java_arrays_loop.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_arrays_loop.asp</a>."},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":1,"creation_date":1675780569,"post_id":75369900,"comment_id":132999508,"body_markdown":"I meant iterator, which you can read up on here: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html","body":"I meant iterator, which you can read up on here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675870527,"post_id":75369900,"comment_id":133021568,"body_markdown":"Incidentally if ((char)b == &#39;\\n&#39; || r == 0) any Unix new line is &quot;2 bytes of size , and a windows new line is 4 bytes of size, so you must create a string from the bytes 2 or four to check NOT SIMPLY ONE byte. see new String constructor in the API docs.","body":"Incidentally if ((char)b == &#39;\\n&#39; || r == 0) any Unix new line is &quot;2 bytes of size , and a windows new line is 4 bytes of size, so you must create a string from the bytes 2 or four to check NOT SIMPLY ONE byte. see new String constructor in the API docs."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675870587,"post_id":75369900,"comment_id":133021599,"body_markdown":"Thanks about the Array iterator, i always use counting with them particularly in that situation (it checksums), The exception should be outside the loop, it only needs setting on the code once.","body":"Thanks about the Array iterator, i always use counting with them particularly in that situation (it checksums), The exception should be outside the loop, it only needs setting on the code once."},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1675871077,"post_id":75369900,"comment_id":133021794,"body_markdown":"Yeah, you should consider deleting your answer as it is incorrect and misleading.","body":"Yeah, you should consider deleting your answer as it is incorrect and misleading."},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1675871159,"post_id":75369900,"comment_id":133021826,"body_markdown":"Unix newline is \\r\\n, which as you may notice includes \\n. You can trim the \\r from the end, however, this only matters if you are reading from a file written by a unix program and not your own program, as most unix programs will recognize simply \\n as a newline.","body":"Unix newline is \\r\\n, which as you may notice includes \\n. You can trim the \\r from the end, however, this only matters if you are reading from a file written by a unix program and not your own program, as most unix programs will recognize simply \\n as a newline."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675871825,"post_id":75369900,"comment_id":133022101,"body_markdown":"The counting is too incoherent from the server-socket  AND THAT is why i use numeric for() loop counting not collection iteration !!! particularly with bytes !!!  while(size&gt;0 &amp;&amp; (bytes = in.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1) , the variable &quot;size&quot; i believe is an attempted File-Size pre-transmission for the server , and you are not measuring byte-packet-size sent as i said in the answer ,  and you are not marking the reception size into the array in the server coherently either. Basically user253751 was saying similar.","body":"The counting is too incoherent from the server-socket  AND THAT is why i use numeric for() loop counting not collection iteration !!! particularly with bytes !!!  while(size&gt;0 &amp;&amp; (bytes = in.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1) , the variable &quot;size&quot; i believe is an attempted File-Size pre-transmission for the server , and you are not measuring byte-packet-size sent as i said in the answer ,  and you are not marking the reception size into the array in the server coherently either. Basically user253751 was saying similar."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675872273,"post_id":75369900,"comment_id":133022263,"body_markdown":"And when you come to write, the number of bytes each loop iteration will not necessarily ever be 1024, you should only be writing the bytes recieved in the iteration, &quot;so count and mark the quantities properly&quot; .","body":"And when you come to write, the number of bytes each loop iteration will not necessarily ever be 1024, you should only be writing the bytes recieved in the iteration, &quot;so count and mark the quantities properly&quot; ."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675872570,"post_id":75369900,"comment_id":133022392,"body_markdown":"SupaMaggie70 b you should consider learning newline chars ...\nprivate static final char[] carr_ret_line = {&#39;\\r&#39;, &#39;\\n&#39;}; // CRLF\n    private final String[] http1011CacheHeaderParts = {\n        ((String) new Character(&#39;\\r&#39;).toString()),\n        ((String) new Character(&#39;\\n&#39;).toString()),\n        ((String) new String(carr_ret_line)),","body":"SupaMaggie70 b you should consider learning newline chars ... private static final char[] carr_ret_line = {&#39;\\r&#39;, &#39;\\n&#39;}; // CRLF     private final String[] http1011CacheHeaderParts = {         ((String) new Character(&#39;\\r&#39;).toString()),         ((String) new Character(&#39;\\n&#39;).toString()),         ((String) new String(carr_ret_line)),"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1675874139,"post_id":75369900,"comment_id":133022977,"body_markdown":"Your answer is your opinion on how things should be done. It does not answer the original question and is misleading. Newline characters have nothing to do with the question; if you control the input and output it does not matter what newline the os prefers. The only time it will is when you are reading from the system. Newlines are not mentioned in the original question nor your answer. The \\n actually stands for new line where \\r sends it to the front of the line. The reason unix includes both goes back to typewriters, but including just \\n always creates a new line.","body":"Your answer is your opinion on how things should be done. It does not answer the original question and is misleading. Newline characters have nothing to do with the question; if you control the input and output it does not matter what newline the os prefers. The only time it will is when you are reading from the system. Newlines are not mentioned in the original question nor your answer. The \\n actually stands for new line where \\r sends it to the front of the line. The reason unix includes both goes back to typewriters, but including just \\n always creates a new line."}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":10,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675906657,"creation_date":1675753568,"answer_id":75369900,"question_id":75369060,"body_markdown":"That try catch should NOT be in the for loop !!!! It only needs single code use by wrapping. Also use counting metering conventionally the number of bytes with a conventional numeric &quot;for&quot; loop, Not for(byte b : buffer). Note: byte is not strictly numeric, it will only reach to 255 in the for counter! It depends the quantity bytes required iterated over and should be as many as are packaged to it over the connection.\r\n\r\n\r\nIn the read you need to obtain the number of bytes sent andmark that into the write length to take from the array, so it would be better to instantiate the array based on the number of bytes or maximum bytes the the client sender has sent or negotiated as the maximum allowed (see the api docs for the stream.\r\nNB ObjectStream does not apply , it&#39;s for RMI)\r\n\r\nOf counting into the byte[] buffer array, you should remove it from the method and put it as a global. In the method , instantiate a new &quot;buffer&quot; array on the global variable each iteration of the loop according to the number of bytes read as it&#39;s new length.\r\n\r\nThe code does not appear to be particularly safe or debugable. You might try carefully constructing it starting again from scratch.","title":"It duplicates content when transferring it via java socket","body":"<p>That try catch should NOT be in the for loop !!!! It only needs single code use by wrapping. Also use counting metering conventionally the number of bytes with a conventional numeric &quot;for&quot; loop, Not for(byte b : buffer). Note: byte is not strictly numeric, it will only reach to 255 in the for counter! It depends the quantity bytes required iterated over and should be as many as are packaged to it over the connection.</p>\n<p>In the read you need to obtain the number of bytes sent andmark that into the write length to take from the array, so it would be better to instantiate the array based on the number of bytes or maximum bytes the the client sender has sent or negotiated as the maximum allowed (see the api docs for the stream.\nNB ObjectStream does not apply , it's for RMI)</p>\n<p>Of counting into the byte[] buffer array, you should remove it from the method and put it as a global. In the method , instantiate a new &quot;buffer&quot; array on the global variable each iteration of the loop according to the number of bytes read as it's new length.</p>\n<p>The code does not appear to be particularly safe or debugable. You might try carefully constructing it starting again from scratch.</p>\n"},{"comments":[{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1675874339,"post_id":75386099,"comment_id":133023056,"body_markdown":"You should still only print the number of bytes received as user253751 pointed out in the original question.","body":"You should still only print the number of bytes received as user253751 pointed out in the original question."}],"tags":[],"owner":{"account_id":21136269,"reputation":45,"user_id":15539664,"display_name":"theoutstandingme"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675860810,"creation_date":1675860810,"answer_id":75386099,"question_id":75369060,"body_markdown":"The problem was that I didn&#39;t check if the size were 0 on the client side.","title":"It duplicates content when transferring it via java socket","body":"<p>The problem was that I didn't check if the size were 0 on the client side.</p>\n"}],"owner":{"account_id":21136269,"reputation":45,"user_id":15539664,"display_name":"theoutstandingme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675906657,"creation_date":1675745848,"question_id":75369060,"body_markdown":"I have written a client-socket &quot;system&quot; that is supposed to upload a file.\r\nAlthough, when I attempt to upload, content duplicates.\r\nI&#39;m pretty sure that it is because the program doesn&#39;t recognise the eof.\r\nI&#39;ve found something like &quot;Object stream&quot;, but I don&#39;t fancy importing new classes. I reckon that I don&#39;t really require that. But I wanna know how what the problem precisely is and how to hanle it.\r\n```java\r\npackage client;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Client {\r\n\r\n\tprivate Socket socket;\r\n\tprivate DataInputStream in;\r\n\tprivate DataOutputStream out;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Client();\r\n\r\n\t}\r\n\tpublic Client()\r\n\t{\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(&quot;127.0.0.1&quot;, 5010);\r\n\t\t\r\n\t\t\tin = new DataInputStream(socket.getInputStream());\r\n\t\t\tout = new DataOutputStream(socket.getOutputStream());\r\n\t\t\t\r\n\t\t\tthis.sendFile(&quot;./some.txt&quot;);\r\n\t\t\t\r\n\t\t\tin.close();\r\n\t\t\tout.close();\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\t\tcatch(UnknownHostException ex)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;unknown host&quot;);\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tprivate void sendFile(String path)\r\n\t{\r\n\t\tint bytes = 0;\r\n\t\tFile file = new File(path);\r\n\t\tFileInputStream input;\r\n\t\ttry {\r\n\t\t\tinput = new FileInputStream(file);\r\n\t\t\t\r\n\t\t\tlong size = file.length();\r\n\t\t\t//long size = file.getTotalSpace();\r\n\t\t\tSystem.out.println(size);\r\n\t\t\t// send a file&#39;s size\r\n\t\t\tout.writeLong(size);\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\tint i = 0, r=0;\r\n\t\t\t//while((bytes = input.read(buffer,0,buffer.length))!=-1)\r\n\t\t\twhile(size &gt; 0 &amp;&amp; (bytes = input.read(buffer,0,(int)Math.min(buffer.length, size)))!=-1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;\\n -------------&quot;+(++i));\r\n\t\t\t\tfor (byte b : buffer)\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif ((char)b == &#39;\\n&#39; || r == 0)\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;\\n&quot; + (++r));\r\n\t\t\t\t\t\tSystem.out.print((char)b);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(NullPointerException ex)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\tout.write(buffer, 0, bytes);\r\n\t\t\t\tout.flush();\r\n\t\t\t\tsize -= bytes;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinput.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n```java\r\npackage server;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n\r\n\tprivate ServerSocket ss;\r\n\tprivate Socket cs;\r\n\tprivate DataInputStream in;\r\n\tprivate DataOutputStream out;\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tnew Server();\r\n\t}\r\n\tpublic Server()\r\n\t{\r\n\t\ttry {\r\n\t\t\tss = new ServerSocket(5010);\r\n\t\t\tcs = ss.accept(); \r\n\t\t\t\r\n\t\t\tin = new DataInputStream(cs.getInputStream());\r\n\t\t\tout = new DataOutputStream(cs.getOutputStream());\r\n\t\t\t\r\n\t\t\tthis.receiveFile(&quot;./uploaded.txt&quot;);\r\n\t\t\t\r\n\t\t\tin.close();\r\n\t\t\tout.close();\r\n\t\t\tcs.close();\r\n\t\t\tss.close();\r\n\t\t} \r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tprivate void receiveFile(String path)\r\n\t{\r\n\t\tint bytes = 0;\r\n\t\ttry {\r\n\t\t\tFile file = new File(path);\r\n\t\t\tfile.createNewFile();\r\n\t\t\tFileOutputStream output = new FileOutputStream(file);\r\n\t\t\t\r\n\t\t\tlong size = in.readLong();\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t\r\n\t\t\tint i = 0;\r\n\t\t\t\r\n\t\t\twhile(size&gt;0 &amp;&amp; (bytes = in.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;\\n -------------&quot;+(++i));\r\n\t\t\t\tfor (byte b : buffer)\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.print((char)b);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(NullPointerException ex)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\toutput.write(buffer, 0, bytes);\r\n\t\t\t\tsize -= bytes;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toutput.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n  ","title":"It duplicates content when transferring it via java socket","body":"<p>I have written a client-socket &quot;system&quot; that is supposed to upload a file.\nAlthough, when I attempt to upload, content duplicates.\nI'm pretty sure that it is because the program doesn't recognise the eof.\nI've found something like &quot;Object stream&quot;, but I don't fancy importing new classes. I reckon that I don't really require that. But I wanna know how what the problem precisely is and how to hanle it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package client;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\npublic class Client {\n\n    private Socket socket;\n    private DataInputStream in;\n    private DataOutputStream out;\n\n    public static void main(String[] args) {\n        new Client();\n\n    }\n    public Client()\n    {\n        try {\n            socket = new Socket(&quot;127.0.0.1&quot;, 5010);\n        \n            in = new DataInputStream(socket.getInputStream());\n            out = new DataOutputStream(socket.getOutputStream());\n            \n            this.sendFile(&quot;./some.txt&quot;);\n            \n            in.close();\n            out.close();\n            socket.close();\n        }\n        catch(UnknownHostException ex)\n        {\n            System.out.println(&quot;unknown host&quot;);\n        }\n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    private void sendFile(String path)\n    {\n        int bytes = 0;\n        File file = new File(path);\n        FileInputStream input;\n        try {\n            input = new FileInputStream(file);\n            \n            long size = file.length();\n            //long size = file.getTotalSpace();\n            System.out.println(size);\n            // send a file's size\n            out.writeLong(size);\n            byte[] buffer = new byte[1024];\n            int i = 0, r=0;\n            //while((bytes = input.read(buffer,0,buffer.length))!=-1)\n            while(size &gt; 0 &amp;&amp; (bytes = input.read(buffer,0,(int)Math.min(buffer.length, size)))!=-1)\n            {\n                System.out.println(&quot;\\n -------------&quot;+(++i));\n                for (byte b : buffer)\n                    try\n                    {\n                        if ((char)b == '\\n' || r == 0)\n                            System.out.print(&quot;\\n&quot; + (++r));\n                        System.out.print((char)b);\n                        \n                    }\n                    catch(NullPointerException ex)\n                    {\n                        \n                    }\n                out.write(buffer, 0, bytes);\n                out.flush();\n                size -= bytes;\n            }\n            \n            input.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package server;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n\n    private ServerSocket ss;\n    private Socket cs;\n    private DataInputStream in;\n    private DataOutputStream out;\n    public static void main(String[] args) {\n        \n        new Server();\n    }\n    public Server()\n    {\n        try {\n            ss = new ServerSocket(5010);\n            cs = ss.accept(); \n            \n            in = new DataInputStream(cs.getInputStream());\n            out = new DataOutputStream(cs.getOutputStream());\n            \n            this.receiveFile(&quot;./uploaded.txt&quot;);\n            \n            in.close();\n            out.close();\n            cs.close();\n            ss.close();\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    private void receiveFile(String path)\n    {\n        int bytes = 0;\n        try {\n            File file = new File(path);\n            file.createNewFile();\n            FileOutputStream output = new FileOutputStream(file);\n            \n            long size = in.readLong();\n            byte[] buffer = new byte[1024];\n            \n            int i = 0;\n            \n            while(size&gt;0 &amp;&amp; (bytes = in.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1)\n            {\n                System.out.println(&quot;\\n -------------&quot;+(++i));\n                for (byte b : buffer)\n                    try\n                    {\n                        System.out.print((char)b);\n                    }\n                    catch(NullPointerException ex)\n                    {\n                        \n                    }\n                output.write(buffer, 0, bytes);\n                size -= bytes;\n                \n            }\n            \n            output.close();\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","junit"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1449837483,"post_id":34223696,"comment_id":56191304,"body_markdown":"What is `bean.getThing()` returning and what does the `toString()` of this type looks like?","body":"What is <code>bean.getThing()</code> returning and what does the <code>toString()</code> of this type looks like?"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1449837562,"post_id":34223696,"comment_id":56191361,"body_markdown":"&quot;What does it mean?&quot; it means that `bean1.getThing()` is not equal to `bean2.getThing()`","body":"&quot;What does it mean?&quot; it means that <code>bean1.getThing()</code> is not equal to <code>bean2.getThing()</code>"},{"owner":{"account_id":485862,"reputation":1486,"user_id":902423,"accept_rate":82,"display_name":"Raveesh Sharma"},"score":0,"creation_date":1449839162,"post_id":34223696,"comment_id":56192411,"body_markdown":"Can you post your bean class ..","body":"Can you post your bean class .."}],"answers":[{"comments":[{"owner":{"account_id":4698412,"reputation":5833,"user_id":5106017,"display_name":"sheilak"},"score":0,"creation_date":1449839147,"post_id":34223762,"comment_id":56192401,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/10526056)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/10526056\">From Review</a>"},{"owner":{"account_id":4060631,"reputation":243,"user_id":3337292,"display_name":"Iker Obregon Reigosa"},"score":1,"creation_date":1449839649,"post_id":34223762,"comment_id":56192744,"body_markdown":"Is a link to the oficial issue in github. They give two solutions, \n1 - Go back to Junit 4.11.\n2 - Update to the last version of JUnit that seems to be fixed.","body":"Is a link to the oficial issue in github. They give two solutions,  1 - Go back to Junit 4.11. 2 - Update to the last version of JUnit that seems to be fixed."},{"owner":{"account_id":4060631,"reputation":243,"user_id":3337292,"display_name":"Iker Obregon Reigosa"},"score":0,"creation_date":1449840380,"post_id":34223762,"comment_id":56193193,"body_markdown":"Thanks @Andrew Spencer for the correction. Now the answer is better.","body":"Thanks @Andrew Spencer for the correction. Now the answer is better."},{"owner":{"account_id":186511,"reputation":4611,"user_id":423955,"accept_rate":77,"display_name":"Alessandro Da Rugna"},"score":0,"creation_date":1449842879,"post_id":34223762,"comment_id":56194729,"body_markdown":"@Iker after switching to JUnit 4.11 the problem remains the same. I&#39;m updating the question.","body":"@Iker after switching to JUnit 4.11 the problem remains the same. I&#39;m updating the question."}],"tags":[],"owner":{"account_id":4060631,"reputation":243,"user_id":3337292,"display_name":"Iker Obregon Reigosa"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449840267,"creation_date":1449837398,"answer_id":34223762,"question_id":34223696,"body_markdown":"This looks like a problem with the 4.12 version of JUnit. [An issue was opened with JUnit on github][1] and has now been fixed. Therefore the workaround is to downgrade to 4.11 or take the latest build of JUnit.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/issues/976\r\n","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>This looks like a problem with the 4.12 version of JUnit. <a href=\"https://github.com/junit-team/junit/issues/976\" rel=\"nofollow\">An issue was opened with JUnit on github</a> and has now been fixed. Therefore the workaround is to downgrade to 4.11 or take the latest build of JUnit.</p>\n"},{"tags":[],"owner":{"account_id":186511,"reputation":4611,"user_id":423955,"accept_rate":77,"display_name":"Alessandro Da Rugna"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1449845151,"creation_date":1449845151,"answer_id":34226141,"question_id":34223696,"body_markdown":"After some more digging I&#39;ve discovered that the beans *are not* identical. The regular DAO sets the *string with value null* on Thing, while test data DAO sets *null* on Thing. The failing assert is \r\n\r\n    @Test\r\n    public void testNull() {\r\n        assertEquals(null, &quot;null&quot;);\r\n    }\r\n\r\nI&#39;m happy that it fails, values **are** different. The detail message is quite cryptical though.","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>After some more digging I've discovered that the beans <em>are not</em> identical. The regular DAO sets the <em>string with value null</em> on Thing, while test data DAO sets <em>null</em> on Thing. The failing assert is </p>\n\n<pre><code>@Test\npublic void testNull() {\n    assertEquals(null, \"null\");\n}\n</code></pre>\n\n<p>I'm happy that it fails, values <strong>are</strong> different. The detail message is quite cryptical though.</p>\n"},{"comments":[{"owner":{"account_id":5268225,"reputation":682,"user_id":4207399,"accept_rate":70,"display_name":"Shamseer"},"score":1,"creation_date":1482946543,"post_id":37845252,"comment_id":69935406,"body_markdown":"This one helped me..!","body":"This one helped me..!"}],"tags":[],"owner":{"account_id":951225,"reputation":455,"user_id":977344,"display_name":"Josh"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1466022790,"creation_date":1466022790,"answer_id":37845252,"question_id":34223696,"body_markdown":"I had a similar problem and solved it by wrapping the values with String.valueOf(Your Value Here) e.g. String.valueOf(&quot;null&quot;)","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I had a similar problem and solved it by wrapping the values with String.valueOf(Your Value Here) e.g. String.valueOf(\"null\")</p>\n"},{"tags":[],"owner":{"account_id":2173447,"reputation":9226,"user_id":2423194,"accept_rate":88,"display_name":"Rock Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505531505,"creation_date":1505531505,"answer_id":46249673,"question_id":34223696,"body_markdown":"I found the [correct answer][1] to be confusing and led me to think it was some complicated difference between the way GreenDAO stores `String yourString = null` and `null&quot;, making me think I need to upgrade JUnit to version 5, but luckily I found out the true meaning of the answer, which is:\r\n\r\nThis error simply means that you are comparing `null` and the string `&quot;null&quot;`, which are not equal. In my case, I was storing `&quot;null&quot;` in GreenDAO when I meant to store `null`. \r\n\r\n  [1]: https://stackoverflow.com/a/34226141/2423194","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I found the <a href=\"https://stackoverflow.com/a/34226141/2423194\">correct answer</a> to be confusing and led me to think it was some complicated difference between the way GreenDAO stores <code>String yourString = null</code> and `null\", making me think I need to upgrade JUnit to version 5, but luckily I found out the true meaning of the answer, which is:</p>\n\n<p>This error simply means that you are comparing <code>null</code> and the string <code>\"null\"</code>, which are not equal. In my case, I was storing <code>\"null\"</code> in GreenDAO when I meant to store <code>null</code>. </p>\n"},{"tags":[],"owner":{"account_id":5694554,"reputation":395,"user_id":4501434,"display_name":"PRAFUL ANAND"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527749164,"creation_date":1527749164,"answer_id":50618245,"question_id":34223696,"body_markdown":"Please Try below TestMethod\r\n\r\n    @Test\r\n    public void testNull() {\r\n    assertEquals(null, &quot;&quot;);\r\n    }","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>Please Try below TestMethod</p>\n\n<pre><code>@Test\npublic void testNull() {\nassertEquals(null, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651108805,"creation_date":1651108805,"answer_id":72036936,"question_id":34223696,"body_markdown":"I was getting error because I was using :\r\n\r\n        @Test\r\n    fun trimRightNullIsSetToNull() {\r\n        assertThat(trimRight(null), equalTo(nullValue()))\r\n    }\r\n\r\n \r\n\r\nRemoving equalTo and directly comparing them both solved the error : \r\n\r\n        @Test\r\n    fun trimRightNullIsSetToNull() {\r\n        assertThat(trimRight(null), nullValue())\r\n    }","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I was getting error because I was using :</p>\n<pre><code>    @Test\nfun trimRightNullIsSetToNull() {\n    assertThat(trimRight(null), equalTo(nullValue()))\n}\n</code></pre>\n<p>Removing equalTo and directly comparing them both solved the error :</p>\n<pre><code>    @Test\nfun trimRightNullIsSetToNull() {\n    assertThat(trimRight(null), nullValue())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11305566,"reputation":1,"user_id":8290293,"display_name":"Dasari Pradeep reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675906063,"creation_date":1675893551,"answer_id":75392164,"question_id":34223696,"body_markdown":"```\r\nInt marks = student.getMarks();\r\nmarks = null;\r\n```\r\nwe can try `Assert.assertNull(student.getMarks());`\r\n\r\nThis worked for me.","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<pre><code>Int marks = student.getMarks();\nmarks = null;\n</code></pre>\n<p>we can try <code>Assert.assertNull(student.getMarks());</code></p>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":186511,"reputation":4611,"user_id":423955,"accept_rate":77,"display_name":"Alessandro Da Rugna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57645,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":34226141,"answer_count":7,"score":13,"last_activity_date":1675906063,"creation_date":1449837148,"question_id":34223696,"body_markdown":"I have this strange issue in my Junit 4.12 test code. The application uses Spring Framework 4.1.6 and Hibernate 4. When comparing two beans coming from different databases I get this error\r\n\r\n\tjava.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt;\r\n\t\tat org.junit.Assert.fail(Assert.java:88)\r\n\t\tat org.junit.Assert.failNotEquals(Assert.java:834)\r\n\t\tat org.junit.Assert.assertEquals(Assert.java:118)\r\n\t\tat org.junit.Assert.assertEquals(Assert.java:144)\r\n\t\tat my.test.TestClass.method(TestClass.java:105)\r\n\r\nWhat does it mean? How to resolve it?\r\n\r\nMy test class runs with `SpringJUnit4ClassRunner` and looks similar to this\r\n\r\n    @ContextConfiguration(\r\n        {\r\n            &quot;classpath:beans-test.xml&quot;\r\n        }\r\n    )\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class TestMdtTechnicalGridGeneration extends AbstractJUnit4SpringContextTests {\r\n\r\n        @Test\r\n        public void method() {\r\n                assertEquals(bean1.getThing(), bean2.getThing());\r\n        }\r\n    }\r\n\r\n**edit**: the bean I&#39;m referring to is a simple POJO, you can imagine it look like the following:\r\n\r\n    public class Thing {\r\n        private String thing;\r\n\r\n        public void setThing(String thing) {\r\n            this.thing = thing;\r\n        }\r\n\r\n        public String getThing() {\r\n            return thing;\r\n        }\r\n    }\r\n\r\nI get them using Hibernate along the line of\r\n\r\n    SessionFactory mySF = (SessionFactory) applicationContext.getBean(&quot;mySessionFactory&quot;);\r\n    Query query = mySF.openSession().createQuery(&quot;FROM Thing WHERE code = &#39;&quot; + code + &quot;&#39;&quot;);\r\n    List&lt;Thing&gt; listThing = return query.list();\r\n    bean1 = listThing.get(0);\r\n\r\nTo address the *close vote*:\r\nI&#39;m not sure if all these details may help, the question is about the strange AssertError I get rather than how I get the beans. I can&#39;t find help here in SO nor Google.\r\n\r\n**edit2**: to further clarify, the POJO itself is the exact same Java class, I use two hibernate mappings files. The only difference is `catalog=&quot;this&quot;` and `catalog=&quot;that&quot;` in the mapping. I use two different sessionfactories because data is stored in different schemas (aka catalog), same MySQL instance.","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I have this strange issue in my Junit 4.12 test code. The application uses Spring Framework 4.1.6 and Hibernate 4. When comparing two beans coming from different databases I get this error</p>\n\n<pre><code>java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt;\n    at org.junit.Assert.fail(Assert.java:88)\n    at org.junit.Assert.failNotEquals(Assert.java:834)\n    at org.junit.Assert.assertEquals(Assert.java:118)\n    at org.junit.Assert.assertEquals(Assert.java:144)\n    at my.test.TestClass.method(TestClass.java:105)\n</code></pre>\n\n<p>What does it mean? How to resolve it?</p>\n\n<p>My test class runs with <code>SpringJUnit4ClassRunner</code> and looks similar to this</p>\n\n<pre><code>@ContextConfiguration(\n    {\n        \"classpath:beans-test.xml\"\n    }\n)\n@RunWith(SpringJUnit4ClassRunner.class)\npublic class TestMdtTechnicalGridGeneration extends AbstractJUnit4SpringContextTests {\n\n    @Test\n    public void method() {\n            assertEquals(bean1.getThing(), bean2.getThing());\n    }\n}\n</code></pre>\n\n<p><strong>edit</strong>: the bean I'm referring to is a simple POJO, you can imagine it look like the following:</p>\n\n<pre><code>public class Thing {\n    private String thing;\n\n    public void setThing(String thing) {\n        this.thing = thing;\n    }\n\n    public String getThing() {\n        return thing;\n    }\n}\n</code></pre>\n\n<p>I get them using Hibernate along the line of</p>\n\n<pre><code>SessionFactory mySF = (SessionFactory) applicationContext.getBean(\"mySessionFactory\");\nQuery query = mySF.openSession().createQuery(\"FROM Thing WHERE code = '\" + code + \"'\");\nList&lt;Thing&gt; listThing = return query.list();\nbean1 = listThing.get(0);\n</code></pre>\n\n<p>To address the <em>close vote</em>:\nI'm not sure if all these details may help, the question is about the strange AssertError I get rather than how I get the beans. I can't find help here in SO nor Google.</p>\n\n<p><strong>edit2</strong>: to further clarify, the POJO itself is the exact same Java class, I use two hibernate mappings files. The only difference is <code>catalog=\"this\"</code> and <code>catalog=\"that\"</code> in the mapping. I use two different sessionfactories because data is stored in different schemas (aka catalog), same MySQL instance.</p>\n"},{"tags":["java","spring-boot","hibernate","redis","jhipster"],"answers":[{"tags":[],"owner":{"account_id":19133592,"reputation":88,"user_id":13974992,"display_name":"Hungnn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675905496,"creation_date":1649753089,"answer_id":71839599,"question_id":71033395,"body_markdown":"It&#39;s seem related to Redis works.\r\nYou can checkout docs: https://www.baeldung.com/hibernate-second-level-cache move to &quot;What Is a Second-Level Cache&quot;.  \r\n\r\nFirst, enable bean &quot;hibernatePropertiesCustomizer&quot; in CacheConfiguration.java:\r\n\r\n    import org.hibernate.cache.jcache.ConfigSettings;\r\n\r\n    @Bean\r\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizer(CacheManager cm) {\r\n        return hibernateProperties -&gt; hibernateProperties.put(ConfigSettings.CACHE_MANAGER, cm);\r\n    }\r\nUnfortunately, Redis in Jhipster don&#39;t initial cache for each entity model, so you must to initial cache for each model in domain package, like: \r\n\r\n    @Bean\r\n        public JCacheManagerCustomizer cacheManagerCustomizer(javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration) {\r\n            return cm -&gt; {\r\n                // jhipster-needle-redis-add-entry\r\n                createCache(cm, com.project.model.YourModel1.class.getName(), jcacheConfiguration);\r\n                createCache(cm, com.project.model.YourModel2.class.getName(), jcacheConfiguration);\r\n            };\r\n        }\r\n\r\nPlease add all your Model(Entity class) using `@Cache` annotation.  \r\nGood luck,","title":"Redis with jHipster - Default configuration hasn&#39;t been specified","body":"<p>It's seem related to Redis works.\nYou can checkout docs: <a href=\"https://www.baeldung.com/hibernate-second-level-cache\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-second-level-cache</a> move to &quot;What Is a Second-Level Cache&quot;.</p>\n<p>First, enable bean &quot;hibernatePropertiesCustomizer&quot; in CacheConfiguration.java:</p>\n<pre><code>import org.hibernate.cache.jcache.ConfigSettings;\n\n@Bean\npublic HibernatePropertiesCustomizer hibernatePropertiesCustomizer(CacheManager cm) {\n    return hibernateProperties -&gt; hibernateProperties.put(ConfigSettings.CACHE_MANAGER, cm);\n}\n</code></pre>\n<p>Unfortunately, Redis in Jhipster don't initial cache for each entity model, so you must to initial cache for each model in domain package, like:</p>\n<pre><code>@Bean\n    public JCacheManagerCustomizer cacheManagerCustomizer(javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration) {\n        return cm -&gt; {\n            // jhipster-needle-redis-add-entry\n            createCache(cm, com.project.model.YourModel1.class.getName(), jcacheConfiguration);\n            createCache(cm, com.project.model.YourModel2.class.getName(), jcacheConfiguration);\n        };\n    }\n</code></pre>\n<p>Please add all your Model(Entity class) using <code>@Cache</code> annotation.<br />\nGood luck,</p>\n"}],"owner":{"account_id":16841356,"reputation":63,"user_id":12176682,"display_name":"Luka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1675905496,"creation_date":1644321038,"question_id":71033395,"body_markdown":"im using jhipster version 7.6.0 and this is my CacheConfiguration class.\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfiguration {\r\n\r\n    private GitProperties gitProperties;\r\n    private BuildProperties buildProperties;\r\n\r\n    @Bean\r\n    public javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration(JHipsterProperties jHipsterProperties) {\r\n        MutableConfiguration&lt;Object, Object&gt; jcacheConfig = new MutableConfiguration&lt;&gt;();\r\n\r\n        URI redisUri = URI.create(jHipsterProperties.getCache().getRedis().getServer()[0]);\r\n\r\n        Config config = new Config();\r\n        if (jHipsterProperties.getCache().getRedis().isCluster()) {\r\n            ClusterServersConfig clusterServersConfig = config\r\n                .useClusterServers()\r\n                .setMasterConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\r\n                .setMasterConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\r\n                .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\r\n                .addNodeAddress(jHipsterProperties.getCache().getRedis().getServer());\r\n\r\n            if (redisUri.getUserInfo() != null) {\r\n                clusterServersConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(&#39;:&#39;) + 1));\r\n            }\r\n        } else {\r\n            SingleServerConfig singleServerConfig = config\r\n                .useSingleServer()\r\n                .setConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\r\n                .setConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\r\n                .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\r\n                .setAddress(jHipsterProperties.getCache().getRedis().getServer()[0]);\r\n\r\n            if (redisUri.getUserInfo() != null) {\r\n                singleServerConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(&#39;:&#39;) + 1));\r\n            }\r\n        }\r\n        jcacheConfig.setStatisticsEnabled(true);\r\n        jcacheConfig.setExpiryPolicyFactory(\r\n            CreatedExpiryPolicy.factoryOf(new Duration(TimeUnit.SECONDS, jHipsterProperties.getCache().getRedis().getExpiration()))\r\n        );\r\n        return RedissonConfiguration.fromInstance(Redisson.create(config), jcacheConfig);\r\n    }\r\n\r\nHere is dependency for redisson :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis is my application-dev.yml:\r\n\r\n[![application-dev.yml][1]][1]\r\n\r\nEverything is generated by jHipster and after installation of redis version 3.2.100, im getting this exception:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: Default configuration hasn&#39;t been specified!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326)\r\n\tat com.eig.EigApp.main(EigApp.java:69)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: **Default configuration hasn&#39;t been specified!**\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalStateException: **Default configuration hasn&#39;t been specified!**\r\n\tat org.redisson.jcache.JCacheManager.createCache(JCacheManager.java:118)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createCache(JCacheRegionFactory.java:112)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.getOrCreateCache(JCacheRegionFactory.java:99)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createDomainDataStorageAccess(JCacheRegionFactory.java:83)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.buildDomainDataRegion(JCacheRegionFactory.java:72)\r\n\tat org.hibernate.cache.internal.EnabledCaching.prime(EnabledCaching.java:113)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.primeSecondLevelCacheRegions(MetamodelImpl.java:331)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:160)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:303)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 24 common frames omitted\r\n\r\nProject is compiling successfully by the way.\r\n\r\nThanks in advance for help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fNQGF.png","title":"Redis with jHipster - Default configuration hasn&#39;t been specified","body":"<p>im using jhipster version 7.6.0 and this is my CacheConfiguration class.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n\nprivate GitProperties gitProperties;\nprivate BuildProperties buildProperties;\n\n@Bean\npublic javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration(JHipsterProperties jHipsterProperties) {\n    MutableConfiguration&lt;Object, Object&gt; jcacheConfig = new MutableConfiguration&lt;&gt;();\n\n    URI redisUri = URI.create(jHipsterProperties.getCache().getRedis().getServer()[0]);\n\n    Config config = new Config();\n    if (jHipsterProperties.getCache().getRedis().isCluster()) {\n        ClusterServersConfig clusterServersConfig = config\n            .useClusterServers()\n            .setMasterConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\n            .setMasterConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\n            .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\n            .addNodeAddress(jHipsterProperties.getCache().getRedis().getServer());\n\n        if (redisUri.getUserInfo() != null) {\n            clusterServersConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(':') + 1));\n        }\n    } else {\n        SingleServerConfig singleServerConfig = config\n            .useSingleServer()\n            .setConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\n            .setConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\n            .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\n            .setAddress(jHipsterProperties.getCache().getRedis().getServer()[0]);\n\n        if (redisUri.getUserInfo() != null) {\n            singleServerConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(':') + 1));\n        }\n    }\n    jcacheConfig.setStatisticsEnabled(true);\n    jcacheConfig.setExpiryPolicyFactory(\n        CreatedExpiryPolicy.factoryOf(new Duration(TimeUnit.SECONDS, jHipsterProperties.getCache().getRedis().getExpiration()))\n    );\n    return RedissonConfiguration.fromInstance(Redisson.create(config), jcacheConfig);\n}\n</code></pre>\n<p>Here is dependency for redisson :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my application-dev.yml:</p>\n<p><a href=\"https://i.stack.imgur.com/fNQGF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fNQGF.png\" alt=\"application-dev.yml\" /></a></p>\n<p>Everything is generated by jHipster and after installation of redis version 3.2.100, im getting this exception:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: Default configuration hasn't been specified!\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:326)\nat com.eig.EigApp.main(EigApp.java:69)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: <strong>Default configuration hasn't been specified!</strong>\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\n... 20 common frames omitted\nCaused by: java.lang.IllegalStateException: <strong>Default configuration hasn't been specified!</strong>\nat org.redisson.jcache.JCacheManager.createCache(JCacheManager.java:118)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createCache(JCacheRegionFactory.java:112)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.getOrCreateCache(JCacheRegionFactory.java:99)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createDomainDataStorageAccess(JCacheRegionFactory.java:83)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.buildDomainDataRegion(JCacheRegionFactory.java:72)\nat org.hibernate.cache.internal.EnabledCaching.prime(EnabledCaching.java:113)\nat org.hibernate.metamodel.internal.MetamodelImpl.primeSecondLevelCacheRegions(MetamodelImpl.java:331)\nat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:160)\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:303)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n... 24 common frames omitted</p>\n</blockquote>\n<p>Project is compiling successfully by the way.</p>\n<p>Thanks in advance for help!</p>\n"},{"tags":["java","spring","maven","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1573027869,"post_id":58725357,"comment_id":103742761,"body_markdown":"These issues arise from mixing jars from different versions of Spring or using incompatible versions of other frameworks (too old Spring Security or Spring Data).","body":"These issues arise from mixing jars from different versions of Spring or using incompatible versions of other frameworks (too old Spring Security or Spring Data)."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1573028675,"post_id":58725357,"comment_id":103743103,"body_markdown":"Incompatible versions or something accidentally marked as provided?","body":"Incompatible versions or something accidentally marked as provided?"},{"owner":{"account_id":17043058,"reputation":21,"user_id":12330455,"display_name":"Bonyeon Koo"},"score":0,"creation_date":1573029018,"post_id":58725357,"comment_id":103743248,"body_markdown":"i added pom.xml...","body":"i added pom.xml..."}],"answers":[{"comments":[{"owner":{"account_id":17043058,"reputation":21,"user_id":12330455,"display_name":"Bonyeon Koo"},"score":0,"creation_date":1573087162,"post_id":58725796,"comment_id":103770624,"body_markdown":"After entering the command line you told me to build success, the error still remains.","body":"After entering the command line you told me to build success, the error still remains."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1573115621,"post_id":58725796,"comment_id":103778438,"body_markdown":"The command line I asked you to run will list all of the spring versions in your dependency tree. Take a look at the results (append the output to your question above) and I&#39;m guessing you&#39;ll have different version numbers of your spring dependencies which are not compatible with each other. `java.lang.NoSuchMethodError` occurs when dependency A is compiled against version X of dependency B, but at runtime its running against version Y of dependency B","body":"The command line I asked you to run will list all of the spring versions in your dependency tree. Take a look at the results (append the output to your question above) and I&#39;m guessing you&#39;ll have different version numbers of your spring dependencies which are not compatible with each other. <code>java.lang.NoSuchMethodError</code> occurs when dependency A is compiled against version X of dependency B, but at runtime its running against version Y of dependency B"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1573116240,"post_id":58725796,"comment_id":103778766,"body_markdown":"From your stack trace above it seems SpringServletContainerInitializer is running against an incompatible version of ReflectionUtils","body":"From your stack trace above it seems SpringServletContainerInitializer is running against an incompatible version of ReflectionUtils"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573028587,"creation_date":1573028587,"answer_id":58725796,"question_id":58725357,"body_markdown":"I suggest that you run the following at command line \r\n\r\n`mvn dependency:tree -Dincludes=org.springframework.*`\r\n\r\nYou should then look at all the spring dependency versions. I&#39;m guessing you have some version mismatches which you&#39;ll need to fix. ","title":"How to solve &quot;java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor&quot;","body":"<p>I suggest that you run the following at command line </p>\n\n<p><code>mvn dependency:tree -Dincludes=org.springframework.*</code></p>\n\n<p>You should then look at all the spring dependency versions. I'm guessing you have some version mismatches which you'll need to fix. </p>\n"},{"tags":[],"owner":{"account_id":6985827,"reputation":11,"user_id":5356822,"display_name":"codemilk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675905487,"creation_date":1675905487,"answer_id":75393273,"question_id":58725357,"body_markdown":"Posting this because my solution was different and took forever to find.\r\nIn my case it seemed to have been a conflict in multiple dependencies having that method. \r\n\r\nBy grepping my project folder for the name of the method, I could see what jars it was present in.\r\n\r\n`grep -r &quot;ReflectionUtils&quot; myProjectDirectory/`\r\n\r\n\r\nResult: (only listing spring ones)\r\n``` \r\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\r\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/org.springframework.core-3.2.4.jar matches\r\n```\r\n\r\nI used `mvn dependency:tree` to track where org.springframework.core-3.2.4.jar was coming from, and it was under a dependency called &quot;org.springframework.beans&quot;\r\n\r\nI went to pom.xml and removed the springframework.beans dependency, replaced with spring-beans 5.3.9, clean installed, and reran grep. Result was now: \r\n ``` \r\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\r\n```\r\n\r\nFrom there I ran on tomcat and issue no longer appeared. It may be a unique circumstance but it was the only thing I could get to work after scouring threads everywhere.\r\n\r\n","title":"How to solve &quot;java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor&quot;","body":"<p>Posting this because my solution was different and took forever to find.\nIn my case it seemed to have been a conflict in multiple dependencies having that method.</p>\n<p>By grepping my project folder for the name of the method, I could see what jars it was present in.</p>\n<p><code>grep -r &quot;ReflectionUtils&quot; myProjectDirectory/</code></p>\n<p>Result: (only listing spring ones)</p>\n<pre><code>Binary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/org.springframework.core-3.2.4.jar matches\n</code></pre>\n<p>I used <code>mvn dependency:tree</code> to track where org.springframework.core-3.2.4.jar was coming from, and it was under a dependency called &quot;org.springframework.beans&quot;</p>\n<p>I went to pom.xml and removed the springframework.beans dependency, replaced with spring-beans 5.3.9, clean installed, and reran grep. Result was now:</p>\n<pre><code>Binary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\n</code></pre>\n<p>From there I ran on tomcat and issue no longer appeared. It may be a unique circumstance but it was the only thing I could get to work after scouring threads everywhere.</p>\n"}],"owner":{"account_id":17043058,"reputation":21,"user_id":12330455,"display_name":"Bonyeon Koo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675905487,"creation_date":1573026599,"question_id":58725357,"body_markdown":"I&#39;m replacing lagecy&#39;s gradle project with boot&#39;s maven project.\r\nThere is no error, but when i run Tomcat server, the following error is \r\ndisplayed.\r\n\r\ni tried these....\r\n\r\n1. pom.xml &lt;artifactId&gt;spring-context&lt;/artifactId&gt; remove -&gt; failed\r\n2. spring boot version downgrade 2.1.9 --&gt; 2.0.4 -&gt; failed\r\n3. i made dependency spring core, spring context same version -&gt; failed \r\n\r\n```\r\nError during ServletContainerInitializer processing\r\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5352)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1410)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1400)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\r\n\t... 8 more\r\n```\r\npom.xml\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.mashape.unirest/unirest-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-firefox-driver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.lukehutch/fast-classpath-scanner --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.github.lukehutch&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;fast-classpath-scanner&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.sf.corn/corn-cps --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jul-to-slf4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-access --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.2.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-aspects --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-aspects&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-taglibs --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-servlet --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.bluelinelabs/logansquare --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.bluelinelabs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logansquare&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-library --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-api-mockito --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-module-junit4 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-all --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.10.19&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.lazyluke/log4jdbc-remix --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.lazyluke&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4jdbc-remix&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;0.2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-all --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.sourceforge.jexcelapi/jxl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.6.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.antlr/antlr --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;antlr&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/taglibs/standard --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common-java-0.0.22.jar --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.omnicns&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.22&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-java-0.0.22.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common-jsp-0.0.2.jar --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.omnicns&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-jsp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-jsp-0.0.2.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common-spring-0.0.15.jar --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.omnicns&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.15&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-spring-0.0.15.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.sun/tools --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;system&lt;/scope&gt;\r\n\t\t    &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/tools.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springmodules/spring-modules-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springmodules&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-modules-validation&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nHow should it work?","title":"How to solve &quot;java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor&quot;","body":"<p>I'm replacing lagecy's gradle project with boot's maven project.\nThere is no error, but when i run Tomcat server, the following error is \ndisplayed.</p>\n\n<p>i tried these....</p>\n\n<ol>\n<li>pom.xml spring-context remove -> failed</li>\n<li>spring boot version downgrade 2.1.9 --> 2.0.4 -> failed</li>\n<li>i made dependency spring core, spring context same version -> failed </li>\n</ol>\n\n<pre><code>Error during ServletContainerInitializer processing\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5352)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1410)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1400)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\n    ... 8 more\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.mashape.unirest/unirest-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-firefox-driver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.github.lukehutch/fast-classpath-scanner --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.lukehutch&lt;/groupId&gt;\n        &lt;artifactId&gt;fast-classpath-scanner&lt;/artifactId&gt;\n        &lt;version&gt;2.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.corn/corn-cps --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\n        &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\n        &lt;version&gt;1.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/jul-to-slf4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-access --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-aspects --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-aspects&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-taglibs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-servlet --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.bluelinelabs/logansquare --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.bluelinelabs&lt;/groupId&gt;\n        &lt;artifactId&gt;logansquare&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-library --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-api-mockito --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-module-junit4 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-all --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;1.10.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.lazyluke/log4jdbc-remix --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lazyluke&lt;/groupId&gt;\n        &lt;artifactId&gt;log4jdbc-remix&lt;/artifactId&gt;\n        &lt;version&gt;0.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-all --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;2.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.jexcelapi/jxl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.antlr/antlr --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n        &lt;version&gt;3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/taglibs/standard --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- common-java-0.0.22.jar --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.omnicns&lt;/groupId&gt;\n        &lt;artifactId&gt;common-java&lt;/artifactId&gt;\n        &lt;version&gt;0.0.22&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-java-0.0.22.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- common-jsp-0.0.2.jar --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.omnicns&lt;/groupId&gt;\n        &lt;artifactId&gt;common-jsp&lt;/artifactId&gt;\n        &lt;version&gt;0.0.2&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-jsp-0.0.2.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- common-spring-0.0.15.jar --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.omnicns&lt;/groupId&gt;\n        &lt;artifactId&gt;common-spring&lt;/artifactId&gt;\n        &lt;version&gt;0.0.15&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-spring-0.0.15.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.sun/tools --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun&lt;/groupId&gt;\n        &lt;artifactId&gt;tools&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springmodules/spring-modules-validation --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springmodules&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-modules-validation&lt;/artifactId&gt;\n        &lt;version&gt;0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>How should it work?</p>\n"},{"tags":["java","algorithm","performance","big-o"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675905616,"post_id":75393210,"comment_id":133030611,"body_markdown":"I agree that your solution is fine as-is.  It could be &quot;optimized&quot; to use just one loop but that won&#39;t affect the complexity, and it is doubtful that it would make it much faster.  (And the flip-side is that doing it in one loop makes the logic more complicated.)","body":"I agree that your solution is fine as-is.  It could be &quot;optimized&quot; to use just one loop but that won&#39;t affect the complexity, and it is doubtful that it would make it much faster.  (And the flip-side is that doing it in one loop makes the logic more complicated.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675905782,"post_id":75393210,"comment_id":133030629,"body_markdown":"Also ... those fancy solutions that use a hash table would almost certainly be slower for this problem.","body":"Also ... those fancy solutions that use a hash table would almost certainly be slower for this problem."}],"answers":[{"tags":[],"owner":{"account_id":25576911,"reputation":1,"user_id":19356181,"display_name":"Edd1e"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675905287,"creation_date":1675905055,"answer_id":75393246,"question_id":75393210,"body_markdown":"Well, if you can&#39;t use hash table (which makes the problem o(n) time complexity and o(n) space complexity), i would use just sorting the array, and check with 2 pointers if any of the values is repeated. \r\nSo after sorting the algorithm (O(nlogn)) i would make 2 variable i,j starting i at 0 and j at 1 and while j&lt;arr.lenght, and check if there is duplicate between positions array[i] and arr[j].\r\nHere is how i solved it in js:\r\n```javascript\r\nfunction areThereDuplicates(...args){//Don&#39;t worry about this, imagine like it is an array\r\n    args= typeof(args[0])==&#39;string&#39;?args.sort():args.sort((a,b)=&gt;a-b)//I sorted the array\r\n    let i=0\r\n    let j=1\r\n    while(j&lt;args.length){\r\n        let el= args[i]\r\n        let secEl=args[j]\r\n        if(el===secEl){\r\n            return true\r\n        }\r\n        i++\r\n        j++\r\n    }\r\n    return false\r\n}\r\n```","title":"Time Complexity for Array Max Duplicate","body":"<p>Well, if you can't use hash table (which makes the problem o(n) time complexity and o(n) space complexity), i would use just sorting the array, and check with 2 pointers if any of the values is repeated.\nSo after sorting the algorithm (O(nlogn)) i would make 2 variable i,j starting i at 0 and j at 1 and while j&lt;arr.lenght, and check if there is duplicate between positions array[i] and arr[j].\nHere is how i solved it in js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function areThereDuplicates(...args){//Don't worry about this, imagine like it is an array\n    args= typeof(args[0])=='string'?args.sort():args.sort((a,b)=&gt;a-b)//I sorted the array\n    let i=0\n    let j=1\n    while(j&lt;args.length){\n        let el= args[i]\n        let secEl=args[j]\n        if(el===secEl){\n            return true\n        }\n        i++\n        j++\n    }\n    return false\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1675906772,"post_id":75393266,"comment_id":133030763,"body_markdown":"Thanks for everyone&#39;s perspective. Okay so a loop inside of a loop, as long as every element is touched would be O(n^2), but 2 O(n)  simplifies to O(n).","body":"Thanks for everyone&#39;s perspective. Okay so a loop inside of a loop, as long as every element is touched would be O(n^2), but 2 O(n)  simplifies to O(n)."},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1675906942,"post_id":75393266,"comment_id":133030788,"body_markdown":"So, O(n) is good but do you think that is as good as we can do? I think it is because every element has to be touched once in a loop. So linear is the best it&#39;s gonna get using an an array.","body":"So, O(n) is good but do you think that is as good as we can do? I think it is because every element has to be touched once in a loop. So linear is the best it&#39;s gonna get using an an array."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675908505,"post_id":75393266,"comment_id":133030993,"body_markdown":"You have to visit every element, so yes, you can&#39;t do better than O(n).","body":"You have to visit every element, so yes, you can&#39;t do better than O(n)."},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1675910329,"post_id":75393266,"comment_id":133031236,"body_markdown":"I&#39;m sorry I thought I had to get the count of max duplicates which would have been easy, but I really need to get the indices of the max duplicates. It seems like the time complexity should be the same, but I am unsure on the logic to accomplish that. Can&#39;t have variables to store index values because we would never know how many indices will have a max value.","body":"I&#39;m sorry I thought I had to get the count of max duplicates which would have been easy, but I really need to get the indices of the max duplicates. It seems like the time complexity should be the same, but I am unsure on the logic to accomplish that. Can&#39;t have variables to store index values because we would never know how many indices will have a max value."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675910766,"post_id":75393266,"comment_id":133031295,"body_markdown":"Well, in the worst case, you can do three loops: one to find the max value, one to count the duplicates, and one to fill an array that holds all the indices, since you&#39;ll know how big to make the array.  (You can actually combine the loops to find the max value and to count the duplicates, but I won&#39;t spoil that part.)","body":"Well, in the worst case, you can do three loops: one to find the max value, one to count the duplicates, and one to fill an array that holds all the indices, since you&#39;ll know how big to make the array.  (You can actually combine the loops to find the max value and to count the duplicates, but I won&#39;t spoil that part.)"},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1675911479,"post_id":75393266,"comment_id":133031370,"body_markdown":"I don&#39;t need to count the duplicates. That was my mistake. I just need to get the index where every occurrence of a max value is.","body":"I don&#39;t need to count the duplicates. That was my mistake. I just need to get the index where every occurrence of a max value is."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675911781,"post_id":75393266,"comment_id":133031408,"body_markdown":"Sure, but where are you going to store them?  You&#39;ll need an array.  You&#39;ll need to _create_ that array.  When you create that array, you&#39;ll need a length.  That length is the count of duplicates.  So you&#39;ll want to count them.  (Or a `List`, which would be simpler, but it&#39;s not clear you can use that.)","body":"Sure, but where are you going to store them?  You&#39;ll need an array.  You&#39;ll need to <i>create</i> that array.  When you create that array, you&#39;ll need a length.  That length is the count of duplicates.  So you&#39;ll want to count them.  (Or a <code>List</code>, which would be simpler, but it&#39;s not clear you can use that.)"},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1675912348,"post_id":75393266,"comment_id":133031471,"body_markdown":"I see where your going but not sure what the code will look like. As for the List, do you mean a linked list? As long as what we have to begin with is an array and a List is what we are using to operate on it I think it would be fine.","body":"I see where your going but not sure what the code will look like. As for the List, do you mean a linked list? As long as what we have to begin with is an array and a List is what we are using to operate on it I think it would be fine."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675912569,"post_id":75393266,"comment_id":133031510,"body_markdown":"Well, I&#39;d do the whole thing with the count variable, and then I&#39;d write `int[] indices = new int[count];`, and then I&#39;d fill that in...","body":"Well, I&#39;d do the whole thing with the count variable, and then I&#39;d write <code>int[] indices = new int[count];</code>, and then I&#39;d fill that in..."},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1675914306,"post_id":75393266,"comment_id":133031725,"body_markdown":"If you are allowed to store the result in an ArrayList or just print out to console then you only need two loops. One to find the max value and the second to store/print the indices of the duplicates. If you are strictly only allowed to use arrays, then you would need three loops. One to find max, second to count duplicates (use this value to initialize result array) and change the value to Integer.MAX_VALUE, so that in the 3rd loop you&#39;ll know which index to add when you see Integer.MAX_VALUE. This sounds like an assignment, so I&#39;m not going to spoil you with code :). Best of luck.","body":"If you are allowed to store the result in an ArrayList or just print out to console then you only need two loops. One to find the max value and the second to store/print the indices of the duplicates. If you are strictly only allowed to use arrays, then you would need three loops. One to find max, second to count duplicates (use this value to initialize result array) and change the value to Integer.MAX_VALUE, so that in the 3rd loop you&#39;ll know which index to add when you see Integer.MAX_VALUE. This sounds like an assignment, so I&#39;m not going to spoil you with code :). Best of luck."},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1675915207,"post_id":75393266,"comment_id":133031833,"body_markdown":"I must &quot;list&quot; the indices. So, figured it out with just 2 loops and printing the indices. Turned out pretty simple that way. Thank you everyone for your insight.","body":"I must &quot;list&quot; the indices. So, figured it out with just 2 loops and printing the indices. Turned out pretty simple that way. Thank you everyone for your insight."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675905366,"creation_date":1675905366,"answer_id":75393266,"question_id":75393210,"body_markdown":"You already have a fine solution, you&#39;ve just analyzed it incorrectly.\r\n\r\nYou do one loop to find the maximum value, and then you do another loop to find duplicates of the maximum value.  That isn&#39;t a loop inside another loop, that&#39;s a loop after another loop -- and that&#39;s not O(n) * O(n), it&#39;s O(n) + O(n), which is just O(n) again.\r\n\r\nNo hash tables.  No fancy data structures.  You already have a good solution.","title":"Time Complexity for Array Max Duplicate","body":"<p>You already have a fine solution, you've just analyzed it incorrectly.</p>\n<p>You do one loop to find the maximum value, and then you do another loop to find duplicates of the maximum value.  That isn't a loop inside another loop, that's a loop after another loop -- and that's not O(n) * O(n), it's O(n) + O(n), which is just O(n) again.</p>\n<p>No hash tables.  No fancy data structures.  You already have a good solution.</p>\n"}],"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675905366,"creation_date":1675904542,"question_id":75393210,"body_markdown":"Using only an array for a data structure, what would be the fastest time complexity in finding duplicate max values in the array?\r\n\r\nI am thinking one loop is needed to find the max value and another loop would be needed to find if there are any duplicates. Each loop would have to touch each element once so it would be linear time complexity O(n). Given 2 loops we would have O(n) * O(n) = O(n^2).\r\n\r\nDoes this sound right or does anyone think it can all be done in one loop to keep the time complexity O(n).\r\n\r\nI&#39;ve looked the problem up, but I see fancy solutions like using a hash table. I need to use an array.","title":"Time Complexity for Array Max Duplicate","body":"<p>Using only an array for a data structure, what would be the fastest time complexity in finding duplicate max values in the array?</p>\n<p>I am thinking one loop is needed to find the max value and another loop would be needed to find if there are any duplicates. Each loop would have to touch each element once so it would be linear time complexity O(n). Given 2 loops we would have O(n) * O(n) = O(n^2).</p>\n<p>Does this sound right or does anyone think it can all be done in one loop to keep the time complexity O(n).</p>\n<p>I've looked the problem up, but I see fancy solutions like using a hash table. I need to use an array.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1675767893,"post_id":75371843,"comment_id":132995319,"body_markdown":"Hi @Viswesh, could you publish your code please.\n Key &amp; headers are not mandatory in Kafka, but keys allows you to garantee that messages with same keys will be in the same partition =&gt; so they&#39;ll be processed in order","body":"Hi @Viswesh, could you publish your code please.  Key &amp; headers are not mandatory in Kafka, but keys allows you to garantee that messages with same keys will be in the same partition =&gt; so they&#39;ll be processed in order"},{"owner":{"account_id":1222246,"reputation":495,"user_id":1188659,"display_name":"Nic Pegg"},"score":0,"creation_date":1675808781,"post_id":75371843,"comment_id":133007858,"body_markdown":"What consumer library are you using?","body":"What consumer library are you using?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675904372,"creation_date":1675904372,"answer_id":75393197,"question_id":75371843,"body_markdown":"Key and headers are completely optional. Serialization format doesn&#39;t matter. Producers and consumers don&#39;t communicate with one another, so it is unclear who/what is &quot;asking to publish with key&quot;","title":"Can we publish a message without key and header in kafka topics","body":"<p>Key and headers are completely optional. Serialization format doesn't matter. Producers and consumers don't communicate with one another, so it is unclear who/what is &quot;asking to publish with key&quot;</p>\n"}],"owner":{"account_id":27120485,"reputation":1,"user_id":20664254,"display_name":"Viswesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675904372,"creation_date":1675764570,"question_id":75371843,"body_markdown":"I want to write kafka producer to publish my data in avro without using using any key or header. If i publish message without key or header can consumer read the message from topics? Please help to understand how do consume message if key and header not exists\r\n\r\nI have tried without header and key to publish avro record but consumer asking me to publish with key . Is there any possible to read topics and messages from topics ?","title":"Can we publish a message without key and header in kafka topics","body":"<p>I want to write kafka producer to publish my data in avro without using using any key or header. If i publish message without key or header can consumer read the message from topics? Please help to understand how do consume message if key and header not exists</p>\n<p>I have tried without header and key to publish avro record but consumer asking me to publish with key . Is there any possible to read topics and messages from topics ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1675896287,"post_id":75392440,"comment_id":133029188,"body_markdown":"Yes, it would be `import java.util.Arrays`.","body":"Yes, it would be <code>import java.util.Arrays</code>."}],"answers":[{"tags":[],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675896946,"creation_date":1675896946,"answer_id":75392527,"question_id":75392440,"body_markdown":"java.lang.Object is superclass \r\njava.util is package and Arrays is the class name \r\n\r\nBasically, any decent IDE suggest available class implementation. Usually, Ctrl + left mouse click on class name will take you to implementation. There you will find identical description to Oracle. In my opinion, Oracle documentation is not very useful. ","title":"Where to find an import statement syntax in Java (Oracle) documentation","body":"<p>java.lang.Object is superclass\njava.util is package and Arrays is the class name</p>\n<p>Basically, any decent IDE suggest available class implementation. Usually, Ctrl + left mouse click on class name will take you to implementation. There you will find identical description to Oracle. In my opinion, Oracle documentation is not very useful.</p>\n"}],"owner":{"account_id":8503042,"reputation":1980,"user_id":6375464,"display_name":"ypow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675904140,"creation_date":1675896101,"question_id":75392440,"body_markdown":"Where can I find the `import` statement reference for a Java standard library method in the Oracle documentation?\r\n\r\nAs a Node.js developer, I&#39;m used to finding import statement references in the NodeJS documentation ([example](https://nodejs.org/dist/latest-v18.x/docs/api/http.html#http)). \r\n\r\nHow can I find similar information in the Oracle&#39;s Java documentation? For example, I want to use the `Arrays.toString()` method from the class [`Arrays`](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html) and need to know the right import statement to use.\r\n\r\nI assume it would be `java.util.Arrays`, as indicated on the top of the page as shown on the image below, is that right?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6zyyj.png","title":"Where to find an import statement syntax in Java (Oracle) documentation","body":"<p>Where can I find the <code>import</code> statement reference for a Java standard library method in the Oracle documentation?</p>\n<p>As a Node.js developer, I'm used to finding import statement references in the NodeJS documentation (<a href=\"https://nodejs.org/dist/latest-v18.x/docs/api/http.html#http\" rel=\"nofollow noreferrer\">example</a>).</p>\n<p>How can I find similar information in the Oracle's Java documentation? For example, I want to use the <code>Arrays.toString()</code> method from the class <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code></a> and need to know the right import statement to use.</p>\n<p>I assume it would be <code>java.util.Arrays</code>, as indicated on the top of the page as shown on the image below, is that right?\n<a href=\"https://i.stack.imgur.com/6zyyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zyyj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1675784078,"post_id":75375520,"comment_id":133000905,"body_markdown":"Okay , let&#39;s say there is issue in retrieving metadata from kafka while trying to produce , will asychronous callback method throws exception ? . forgive me if my understanding is wrong ... since, get() method is synchronous the thread will wait for the ack and throws error  for sure right? but if we use asynch approach then will it still throws error if some records is not produced","body":"Okay , let&#39;s say there is issue in retrieving metadata from kafka while trying to produce , will asychronous callback method throws exception ? . forgive me if my understanding is wrong ... since, get() method is synchronous the thread will wait for the ack and throws error  for sure right? but if we use asynch approach then will it still throws error if some records is not produced"}],"tags":[],"owner":{"account_id":19171582,"reputation":61,"user_id":14005220,"display_name":"Lucia Cerchie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675783647,"creation_date":1675783647,"answer_id":75375520,"question_id":75374948,"body_markdown":"`onCompletion()` is an [asynchronous callback method][1] defined [in the Java Kafka client][2]. \r\n\r\non the other hand, `get()` is an inbuilt Java function. When you&#39;re using the Java Kafka client, you can use `get()` with a `future` for synchronous writes, as in the example from the [Confluent documentation][3] below:\r\n\r\n```\r\nFuture&lt;RecordMetadata&gt; future = producer.send(record);\r\nRecordMetadata metadata = future.get();\r\n```\r\n\r\n\r\n  [1]: https://docs.confluent.io/kafka-clients/java/current/overview.html#asynchronous-writes\r\n  [2]: https://kafka.apache.org/0100/javadoc/org/apache/kafka/clients/producer/Callback.html#onCompletion(org.apache.kafka.clients.producer.RecordMetadata,%20java.lang.Exception)\r\n  [3]: https://docs.confluent.io/kafka-clients/java/current/overview.html#synchronous-writes","title":"Callback method vs get method in Kafka producer","body":"<p><code>onCompletion()</code> is an <a href=\"https://docs.confluent.io/kafka-clients/java/current/overview.html#asynchronous-writes\" rel=\"nofollow noreferrer\">asynchronous callback method</a> defined <a href=\"https://kafka.apache.org/0100/javadoc/org/apache/kafka/clients/producer/Callback.html#onCompletion(org.apache.kafka.clients.producer.RecordMetadata,%20java.lang.Exception)\" rel=\"nofollow noreferrer\">in the Java Kafka client</a>.</p>\n<p>on the other hand, <code>get()</code> is an inbuilt Java function. When you're using the Java Kafka client, you can use <code>get()</code> with a <code>future</code> for synchronous writes, as in the example from the <a href=\"https://docs.confluent.io/kafka-clients/java/current/overview.html#synchronous-writes\" rel=\"nofollow noreferrer\">Confluent documentation</a> below:</p>\n<pre><code>Future&lt;RecordMetadata&gt; future = producer.send(record);\nRecordMetadata metadata = future.get();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1675793525,"post_id":75375787,"comment_id":133003939,"body_markdown":"Okay , let&#39;s say there is issue in retrieving metadata from kafka while trying to produce , will asychronous callback method throws exception ? . forgive me if my understanding is wrong ... since, get() method is synchronous the thread will wait for the ack and throws error for sure right? but if we use asynch approach then will it still throws error if some records is not produced","body":"Okay , let&#39;s say there is issue in retrieving metadata from kafka while trying to produce , will asychronous callback method throws exception ? . forgive me if my understanding is wrong ... since, get() method is synchronous the thread will wait for the ack and throws error for sure right? but if we use asynch approach then will it still throws error if some records is not produced"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":1,"creation_date":1675830959,"post_id":75375787,"comment_id":133010821,"body_markdown":"The callback function for `onCompletion` looks like\n\npublic void onCompletion(RecordMetadata metadata, Exception e) {\n    if (e != null)\n      log.debug(&quot;Send failed for record {}&quot;, record, e);\n  }\n\nSo if the exception is thrown the variable `e` will be non null. Thus you will be able to understand whether the async callback threw an exception or not.","body":"The callback function for <code>onCompletion</code> looks like  public void onCompletion(RecordMetadata metadata, Exception e) {     if (e != null)       log.debug(&quot;Send failed for record {}&quot;, record, e);   }  So if the exception is thrown the variable <code>e</code> will be non null. Thus you will be able to understand whether the async callback threw an exception or not."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675784786,"creation_date":1675784786,"answer_id":75375787,"question_id":75374948,"body_markdown":"`onCompletion` is the async way of producing Kafka data and the loop with a `get` will be a sync way of writing data in Kafka. \r\n\r\nThe producer in Kafka writes data on the topic at very high throughput. If you use the sync `get` function in the producer code, after every write the producer needs to wait for the `ack` from Kafka. This throttles the producer throughput. The producer needs to wait for Kafka to store the data, replicate (based on how it is configured) and then give back the ack to the producer on successful write. \r\n\r\nThe alternative is `onCompletion` here the producer will keep on producing the data without waiting for `ack` from Kafka. Kafka will call the callback `onCompletion` if the write is successful. The producer needs to keep track of these `onCompletion` calls and if things fail, it needs to retry. \r\n\r\nWhat generally producers do is send a batch of N records to Kafka and then wait for all the completion events and then send the next N records. This is something like the TCP sliding window flow control paradigm. \r\n\r\nIt is difficult to suggest what you should do. The downside of working with `onCompletion ` and use a retry from there is that jeopardizes the ordering of the records in Kafka. \r\n\r\nThe producer may have sent 1..65 records successfully then Kafka missed 65-72 and then Kafka wrote 73..99. Once the Kafka completed writing 99, the producer may get the 66 , 67 as `onCompletion` (since it is an async callback, it can come anytime) call back and retry that. This essentially makes the record ordering jumbled up. \r\n\r\nIn those cases, the consumer needs to understand that all the writes may not be ordered.\r\n\r\nMy suggestion would be to use `onCompletion` for a batch of records. Generally, applications don&#39;t have very strict ordering requirements. So you could leverage the async nature of the call and improve throughput. ","title":"Callback method vs get method in Kafka producer","body":"<p><code>onCompletion</code> is the async way of producing Kafka data and the loop with a <code>get</code> will be a sync way of writing data in Kafka.</p>\n<p>The producer in Kafka writes data on the topic at very high throughput. If you use the sync <code>get</code> function in the producer code, after every write the producer needs to wait for the <code>ack</code> from Kafka. This throttles the producer throughput. The producer needs to wait for Kafka to store the data, replicate (based on how it is configured) and then give back the ack to the producer on successful write.</p>\n<p>The alternative is <code>onCompletion</code> here the producer will keep on producing the data without waiting for <code>ack</code> from Kafka. Kafka will call the callback <code>onCompletion</code> if the write is successful. The producer needs to keep track of these <code>onCompletion</code> calls and if things fail, it needs to retry.</p>\n<p>What generally producers do is send a batch of N records to Kafka and then wait for all the completion events and then send the next N records. This is something like the TCP sliding window flow control paradigm.</p>\n<p>It is difficult to suggest what you should do. The downside of working with <code>onCompletion </code> and use a retry from there is that jeopardizes the ordering of the records in Kafka.</p>\n<p>The producer may have sent 1..65 records successfully then Kafka missed 65-72 and then Kafka wrote 73..99. Once the Kafka completed writing 99, the producer may get the 66 , 67 as <code>onCompletion</code> (since it is an async callback, it can come anytime) call back and retry that. This essentially makes the record ordering jumbled up.</p>\n<p>In those cases, the consumer needs to understand that all the writes may not be ordered.</p>\n<p>My suggestion would be to use <code>onCompletion</code> for a batch of records. Generally, applications don't have very strict ordering requirements. So you could leverage the async nature of the call and improve throughput.</p>\n"}],"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75375787,"answer_count":2,"score":0,"last_activity_date":1675904117,"creation_date":1675781017,"question_id":75374948,"body_markdown":"To get the produced record details , we have two options to choose from \r\n\r\n1. onCompletion() -  callback function\r\n2. get() method\r\n\r\nCould someone please explain what is the difference between them and how to use them in details please? *(JAVA)*\r\n\r\n**NOTE** : Producer properties which I&#39;m using is mostly default (ex:batch.size,acks,max.block.ms...)\r\n\r\n","title":"Callback method vs get method in Kafka producer","body":"<p>To get the produced record details , we have two options to choose from</p>\n<ol>\n<li>onCompletion() -  callback function</li>\n<li>get() method</li>\n</ol>\n<p>Could someone please explain what is the difference between them and how to use them in details please? <em>(JAVA)</em></p>\n<p><strong>NOTE</strong> : Producer properties which I'm using is mostly default (ex:batch.size,acks,max.block.ms...)</p>\n"},{"tags":["java","apache-kafka","buffer"],"answers":[{"tags":[],"owner":{"account_id":6126073,"reputation":1795,"user_id":4778022,"display_name":"Andrew Coates"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675793801,"creation_date":1675793801,"answer_id":75377409,"question_id":75375875,"body_markdown":"If a Kafka broker goes pop then any data not written to disk, i.e. any data still only in memory, is lost.\r\n\r\nHowever, that&#39;s only taking into account 1 Kafka broker. Kafka provides fault tolerance / resiliency by running multiple Kafka brokers and replicating data across them.\r\n\r\nI&#39;d suggest reading up on this if you want to understand this more.  Just search the web for &quot;Kafka fault tolerance resiliency&quot; and you&#39;ll find plenty of posts going into it in great depth.","title":"What happens to messages in Kafka buffer.memory if application got crashed?","body":"<p>If a Kafka broker goes pop then any data not written to disk, i.e. any data still only in memory, is lost.</p>\n<p>However, that's only taking into account 1 Kafka broker. Kafka provides fault tolerance / resiliency by running multiple Kafka brokers and replicating data across them.</p>\n<p>I'd suggest reading up on this if you want to understand this more.  Just search the web for &quot;Kafka fault tolerance resiliency&quot; and you'll find plenty of posts going into it in great depth.</p>\n"}],"owner":{"account_id":18957792,"reputation":1,"user_id":13834008,"display_name":"raviteja.k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675904048,"creation_date":1675785205,"question_id":75375875,"body_markdown":"According to default buffer memory is 32 MB. So may be due to network fluctuation data stored in Buffer memory. So, what happens to the data if server down? and how to re generate the data from buffer memory?\r\n\r\nSince it is buffer memory if application or server goes down then data will be lost. So how to overcome this situation? ","title":"What happens to messages in Kafka buffer.memory if application got crashed?","body":"<p>According to default buffer memory is 32 MB. So may be due to network fluctuation data stored in Buffer memory. So, what happens to the data if server down? and how to re generate the data from buffer memory?</p>\n<p>Since it is buffer memory if application or server goes down then data will be lost. So how to overcome this situation?</p>\n"},{"tags":["java","spring-boot","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":2,"creation_date":1675843279,"post_id":75382608,"comment_id":133012831,"body_markdown":"Check out [AsyncAPI](https://www.asyncapi.com/) - it&#39;s like OpenAPI but for async and event-driven systems. I&#39;m not sure if there&#39;s a Springdoc analog for AsyncAPI, but you can at least write an AsyncAPI definition manually and generate the documentation from it. https://dalelane.co.uk/blog/?p=4219","body":"Check out <a href=\"https://www.asyncapi.com/\" rel=\"nofollow noreferrer\">AsyncAPI</a> - it&#39;s like OpenAPI but for async and event-driven systems. I&#39;m not sure if there&#39;s a Springdoc analog for AsyncAPI, but you can at least write an AsyncAPI definition manually and generate the documentation from it. <a href=\"https://dalelane.co.uk/blog/?p=4219\" rel=\"nofollow noreferrer\">dalelane.co.uk/blog/?p=4219</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675903607,"post_id":75382608,"comment_id":133030338,"body_markdown":"&quot;Changing to Kafka&quot; doesn&#39;t change how you can host OpenAPI webpage with Spring Boot... If you disabled the HTTP server, then that&#39;s a separate issue, and you&#39;ll need to add that back","body":"&quot;Changing to Kafka&quot; doesn&#39;t change how you can host OpenAPI webpage with Spring Boot... If you disabled the HTTP server, then that&#39;s a separate issue, and you&#39;ll need to add that back"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675909422,"post_id":75382608,"comment_id":133031125,"body_markdown":"You are correct @OneCricketeer, &quot;changing to Kafka&quot; means we are removing all wenflux/webmvc dependency in our SpringBoot project, leaving only kafka related packages. By doing so: we lost the capability to generate automatically the doc via the doc-plugin, as well as web handlers to access the doc within the same service","body":"You are correct @OneCricketeer, &quot;changing to Kafka&quot; means we are removing all wenflux/webmvc dependency in our SpringBoot project, leaving only kafka related packages. By doing so: we lost the capability to generate automatically the doc via the doc-plugin, as well as web handlers to access the doc within the same service"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675913769,"post_id":75382608,"comment_id":133031647,"body_markdown":"You should still be able to generate... But you&#39;ll need a separate web server to host that html/json spec","body":"You should still be able to generate... But you&#39;ll need a separate web server to host that html/json spec"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675932133,"post_id":75382608,"comment_id":133034967,"body_markdown":"You should still be able to generate... -&gt; tested not possible if web/webflux is removed","body":"You should still be able to generate... -&gt; tested not possible if web/webflux is removed"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675903563,"creation_date":1675841894,"question_id":75382608,"body_markdown":"Small question for Spring Kafka and OpenAPI V3 please.\r\n\r\nIn the paste, we had a Spring Web MVC web app, very straightforward, type https://interviewnoodle.com/documenting-a-springboot-rest-api-with-openapi-3-7b2bc1605f\r\n\r\n```\r\npackage com.openapi.model;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\n@Schema(description = &quot;Book object&quot;)\r\n@Entity\r\n@Table(name=&quot;books&quot;)\r\npublic class Book {\r\n  @JsonProperty(value=&quot;id&quot;, required=true, index = 10)\r\n  @Schema(description = &quot;Unique identifier of the Book.&quot;,\r\n      example = &quot;1&quot;, required = true)\r\n  private long id;\r\n  @JsonProperty(value=&quot;title&quot;, required=true, index = 20)\r\n  @Schema(description = &quot;Name of the title.&quot;,\r\n      example = &quot;Java&quot;, required = true)\r\n  @NotBlank\r\n  @Size(min = 0, max = 20)\r\n  private String title;\r\n  @JsonProperty(value=&quot;author&quot;, required=true, index = 30)\r\n  @Schema(description = &quot;Name of the author.&quot;,\r\n      example = &quot;Max Abi&quot;, required = true)\r\n  @NotBlank\r\n  @Size(min = 0, max = 30)\r\n  private String author;\r\n  public  Book() {}\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.AUTO)\r\n  public long getId() {\r\n    return id;\r\n  }\r\n  public void setId(long id) {\r\n    this.id = id;\r\n  }\r\n  @Column(name = &quot;title&quot;, nullable = false)\r\n  public String getTitle() {\r\n    return title;\r\n  }\r\n  public void setTitle(String title) {\r\n    this.title = title;\r\n  }\r\n  @Column(name = &quot;author&quot;, nullable = false)\r\n  public String getAuthor() {\r\n    return author;\r\n  }\r\n  public void setAuthor(String author) {\r\n    this.author = author;\r\n  }\r\n}\r\n```\r\n\r\n```\r\npackage com.openapi.controller;\r\n\r\nimport com.openapi.model.Book;\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Collection;\r\n\r\n@Tag(name = &quot;book&quot;, description = &quot;the book API&quot;)\r\n@RequestMapping(&quot;/api/v1/books&quot;)\r\npublic interface BookApi {\r\n\r\n  @Operation(summary = &quot;Create book&quot;, description = &quot;This can only be done by the logged in book.&quot;, tags = { &quot;book&quot; })\r\n  @ApiResponses(value = { @ApiResponse(description = &quot;successful operation&quot;, content = { @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Book.class)), @Content(mediaType = &quot;application/xml&quot;, schema = @Schema(implementation = Book.class)) }) })\r\n  @PostMapping(value = &quot;/&quot;, consumes = { &quot;application/json&quot;, &quot;application/xml&quot;, &quot;application/x-www-form-urlencoded&quot; })\r\n  @ResponseStatus(HttpStatus.CREATED)\r\n  public ResponseEntity&lt;Book&gt; postBook(\r\n      @NotNull\r\n      @Parameter(description = &quot;Created book object&quot;, required = true)\r\n      @Valid @RequestBody Book body,\r\n      @NotNull @Parameter(description = &quot;select which kind of data to fetch&quot;, required = true)\r\n      @Valid @RequestHeader(value=&quot;bookAuthorization&quot;, required = true) String bookAuthorization)\r\n      throws Exception;\r\n\r\n\r\n}\r\n```\r\n\r\nFor each and every client applications wanting to interact with us, i.e sending the http request with a Book object, we first jumped into a call, wrote a long mail explaning what the Book looks like.\r\n\r\nThen, we discovered  ```&lt;groupId&gt;org.springdoc&lt;/groupId&gt; &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;``` which changed the game.\r\n\r\nWe would just do the annotations, generate the Open API v3 doc as we build our project, no extra step.\r\n\r\nWe would then just send the spec.yml via email, and tell them &quot;please go to http://the-cool-host:8080/v3/api-docs/, and you will be able to see what you should be sending us&quot;.\r\n\r\nThis worked like a charm.\r\n\r\nFor organizational reason, we changed the http based application to a Kafka based approach. \r\n\r\nWith that, we lost ability to generate the doc, and also, host it on a website.\r\n\r\nWhat I tried:\r\nI tried leaving the annotations, and running the maven clean install command to generate the doc, but it is not generating anymore.\r\n\r\nMay I ask what did I miss please?\r\n\r\nWhat are the possibilities to generate the Open API v3 doc on the go, and host it, but for Spring Kafka please?\r\n\r\nThank you","title":"Spring Kafka OpenAPI v3 website generation + spec","body":"<p>Small question for Spring Kafka and OpenAPI V3 please.</p>\n<p>In the paste, we had a Spring Web MVC web app, very straightforward, type <a href=\"https://interviewnoodle.com/documenting-a-springboot-rest-api-with-openapi-3-7b2bc1605f\" rel=\"nofollow noreferrer\">https://interviewnoodle.com/documenting-a-springboot-rest-api-with-openapi-3-7b2bc1605f</a></p>\n<pre><code>package com.openapi.model;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n@Schema(description = &quot;Book object&quot;)\n@Entity\n@Table(name=&quot;books&quot;)\npublic class Book {\n  @JsonProperty(value=&quot;id&quot;, required=true, index = 10)\n  @Schema(description = &quot;Unique identifier of the Book.&quot;,\n      example = &quot;1&quot;, required = true)\n  private long id;\n  @JsonProperty(value=&quot;title&quot;, required=true, index = 20)\n  @Schema(description = &quot;Name of the title.&quot;,\n      example = &quot;Java&quot;, required = true)\n  @NotBlank\n  @Size(min = 0, max = 20)\n  private String title;\n  @JsonProperty(value=&quot;author&quot;, required=true, index = 30)\n  @Schema(description = &quot;Name of the author.&quot;,\n      example = &quot;Max Abi&quot;, required = true)\n  @NotBlank\n  @Size(min = 0, max = 30)\n  private String author;\n  public  Book() {}\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  public long getId() {\n    return id;\n  }\n  public void setId(long id) {\n    this.id = id;\n  }\n  @Column(name = &quot;title&quot;, nullable = false)\n  public String getTitle() {\n    return title;\n  }\n  public void setTitle(String title) {\n    this.title = title;\n  }\n  @Column(name = &quot;author&quot;, nullable = false)\n  public String getAuthor() {\n    return author;\n  }\n  public void setAuthor(String author) {\n    this.author = author;\n  }\n}\n</code></pre>\n<pre><code>package com.openapi.controller;\n\nimport com.openapi.model.Book;\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\nimport io.swagger.v3.oas.annotations.tags.Tag;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\nimport java.util.Collection;\n\n@Tag(name = &quot;book&quot;, description = &quot;the book API&quot;)\n@RequestMapping(&quot;/api/v1/books&quot;)\npublic interface BookApi {\n\n  @Operation(summary = &quot;Create book&quot;, description = &quot;This can only be done by the logged in book.&quot;, tags = { &quot;book&quot; })\n  @ApiResponses(value = { @ApiResponse(description = &quot;successful operation&quot;, content = { @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Book.class)), @Content(mediaType = &quot;application/xml&quot;, schema = @Schema(implementation = Book.class)) }) })\n  @PostMapping(value = &quot;/&quot;, consumes = { &quot;application/json&quot;, &quot;application/xml&quot;, &quot;application/x-www-form-urlencoded&quot; })\n  @ResponseStatus(HttpStatus.CREATED)\n  public ResponseEntity&lt;Book&gt; postBook(\n      @NotNull\n      @Parameter(description = &quot;Created book object&quot;, required = true)\n      @Valid @RequestBody Book body,\n      @NotNull @Parameter(description = &quot;select which kind of data to fetch&quot;, required = true)\n      @Valid @RequestHeader(value=&quot;bookAuthorization&quot;, required = true) String bookAuthorization)\n      throws Exception;\n\n\n}\n</code></pre>\n<p>For each and every client applications wanting to interact with us, i.e sending the http request with a Book object, we first jumped into a call, wrote a long mail explaning what the Book looks like.</p>\n<p>Then, we discovered  <code>&lt;groupId&gt;org.springdoc&lt;/groupId&gt; &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;</code> which changed the game.</p>\n<p>We would just do the annotations, generate the Open API v3 doc as we build our project, no extra step.</p>\n<p>We would then just send the spec.yml via email, and tell them &quot;please go to http://the-cool-host:8080/v3/api-docs/, and you will be able to see what you should be sending us&quot;.</p>\n<p>This worked like a charm.</p>\n<p>For organizational reason, we changed the http based application to a Kafka based approach.</p>\n<p>With that, we lost ability to generate the doc, and also, host it on a website.</p>\n<p>What I tried:\nI tried leaving the annotations, and running the maven clean install command to generate the doc, but it is not generating anymore.</p>\n<p>May I ask what did I miss please?</p>\n<p>What are the possibilities to generate the Open API v3 doc on the go, and host it, but for Spring Kafka please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","maven","twitter"],"answers":[{"comments":[{"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"score":0,"creation_date":1675893769,"post_id":75390595,"comment_id":133028648,"body_markdown":"That&#39;s unlucky, is there any alternative that can be used for Twitter API v1.1? Or perhaps some OAuth 1.0 library?","body":"That&#39;s unlucky, is there any alternative that can be used for Twitter API v1.1? Or perhaps some OAuth 1.0 library?"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675883239,"creation_date":1675883239,"answer_id":75390595,"question_id":75389781,"body_markdown":"Your guess is correct. [Spring Social Twitter](https://github.com/spring-attic/spring-social-twitter) is no longer maintained. The last release, 1.1.2.RELEASE, was made in October 2015 and it depends on Spring Framework 4. Spring Boot 1.x is based on Spring Framework 4.x but it has been [out of support since 2019](https://spring.io/projects/spring-boot#support).\r\n\r\nI would recommend that you find an alternative to Spring Social Twitter. The alternative would be to use it with Spring Boot 1.x but then you will be using unsupported software for which bug fixes won&#39;t be available. Even if you&#39;re happy to take that risk, there&#39;s also a good chance that Spring Social Twitter isn&#39;t compatible with the current version of Twitter&#39;s API.","title":"java.lang.NoSuchMethodError when using spring-social-twitter","body":"<p>Your guess is correct. <a href=\"https://github.com/spring-attic/spring-social-twitter\" rel=\"nofollow noreferrer\">Spring Social Twitter</a> is no longer maintained. The last release, 1.1.2.RELEASE, was made in October 2015 and it depends on Spring Framework 4. Spring Boot 1.x is based on Spring Framework 4.x but it has been <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">out of support since 2019</a>.</p>\n<p>I would recommend that you find an alternative to Spring Social Twitter. The alternative would be to use it with Spring Boot 1.x but then you will be using unsupported software for which bug fixes won't be available. Even if you're happy to take that risk, there's also a good chance that Spring Social Twitter isn't compatible with the current version of Twitter's API.</p>\n"},{"tags":[],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675903117,"creation_date":1675903117,"answer_id":75393095,"question_id":75389781,"body_markdown":"Solved by defining my own OAuth1 Rest Template using `spring-social`.\r\nFirst included following dependencies:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-web&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-security&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen create new temlate which extends `AbstractOAuth1ApiBinding`:\r\n```\r\npublic class TwitterTemplate extends AbstractOAuth1ApiBinding {\r\n    public static final String TWITTER_API = &quot;https://api.twitter.com/1.1&quot;;\r\n    public TwitterTemplate(String consumerKey, String consumerSecret, String accessToken,\r\n                           String accessTokenSecret) {\r\n        super(consumerKey, consumerSecret, accessToken, accessTokenSecret);\r\n    }\r\n    public TwitterUserResponse getUser(String name) {\r\n        return getRestTemplate().getForObject(\r\n                TWITTER_API + &quot;/users/show.json?screen_name={name}&quot;, TwitterUserResponse.class, name);\r\n    }\r\n}\r\n\r\n```\r\nThen just instantiate `TwitterTemplate` and call needed method.","title":"java.lang.NoSuchMethodError when using spring-social-twitter","body":"<p>Solved by defining my own OAuth1 Rest Template using <code>spring-social</code>.\nFirst included following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-core&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-web&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-security&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then create new temlate which extends <code>AbstractOAuth1ApiBinding</code>:</p>\n<pre><code>public class TwitterTemplate extends AbstractOAuth1ApiBinding {\n    public static final String TWITTER_API = &quot;https://api.twitter.com/1.1&quot;;\n    public TwitterTemplate(String consumerKey, String consumerSecret, String accessToken,\n                           String accessTokenSecret) {\n        super(consumerKey, consumerSecret, accessToken, accessTokenSecret);\n    }\n    public TwitterUserResponse getUser(String name) {\n        return getRestTemplate().getForObject(\n                TWITTER_API + &quot;/users/show.json?screen_name={name}&quot;, TwitterUserResponse.class, name);\n    }\n}\n\n</code></pre>\n<p>Then just instantiate <code>TwitterTemplate</code> and call needed method.</p>\n"}],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75393095,"answer_count":2,"score":0,"last_activity_date":1675903117,"creation_date":1675878353,"question_id":75389781,"body_markdown":"I try using Twitter API via Spring library `spring-social-twitter`. However I&#39;m when calling `sendDirectMessage(String toScreenName, String text)` function I get the following exception:\r\n```\r\njava.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;\r\n\tat org.springframework.social.twitter.api.impl.TwitterErrorHandler.handleError(TwitterErrorHandler.java:56) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:503) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.social.twitter.api.impl.DirectMessageTemplate.sendDirectMessage(DirectMessageTemplate.java:77) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\r\n\tat com.example.twittertest.TwitterController.send(TwitterController.java:17) ~[classes/:na]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n```\r\nI have the my `TwitterTemplate` configured as following:\r\n```\r\n@Component\r\npublic class TwitterTemplateCreator {\r\n    public Twitter getTwitterTemplate() {\r\n        return new TwitterTemplate(\r\n                &quot;&lt;cosumerKey&gt;&quot;,\r\n                &quot;&lt;consumerSecret&gt;&quot;,\r\n                &quot;&lt;accessToken&gt;&quot;,\r\n                &quot;&lt;accessTokenSecret&gt;&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`TwitterController`:\r\n```\r\n@RestController\r\n@RequestMapping((&quot;/api&quot;))\r\npublic class TwitterController {\r\n    @Autowired\r\n    private TwitterTemplateCreator twitterTemplateCreator;\r\n\r\n    @PostMapping(value = &quot;/send&quot;)\r\n    public void send(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;text&quot;) String text) {\r\n        twitterTemplateCreator.getTwitterTemplate().directMessageOperations().sendDirectMessage(name, text);\r\n    }\r\n}\r\n```\r\nAnd finally `pom.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;twitter-test&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;twitter-test&lt;/name&gt;\r\n    &lt;description&gt;twitter-test&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-social-twitter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nMy guess is that there is inconsistency with dependencies versions but after trying different Spring Boot versions I still can&#39;t figure out what causes this issue.","title":"java.lang.NoSuchMethodError when using spring-social-twitter","body":"<p>I try using Twitter API via Spring library <code>spring-social-twitter</code>. However I'm when calling <code>sendDirectMessage(String toScreenName, String text)</code> function I get the following exception:</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()'\n    at org.springframework.social.twitter.api.impl.TwitterErrorHandler.handleError(TwitterErrorHandler.java:56) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:503) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.social.twitter.api.impl.DirectMessageTemplate.sendDirectMessage(DirectMessageTemplate.java:77) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\n    at com.example.twittertest.TwitterController.send(TwitterController.java:17) ~[classes/:na]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n</code></pre>\n<p>I have the my <code>TwitterTemplate</code> configured as following:</p>\n<pre><code>@Component\npublic class TwitterTemplateCreator {\n    public Twitter getTwitterTemplate() {\n        return new TwitterTemplate(\n                &quot;&lt;cosumerKey&gt;&quot;,\n                &quot;&lt;consumerSecret&gt;&quot;,\n                &quot;&lt;accessToken&gt;&quot;,\n                &quot;&lt;accessTokenSecret&gt;&quot;);\n    }\n}\n</code></pre>\n<p><code>TwitterController</code>:</p>\n<pre><code>@RestController\n@RequestMapping((&quot;/api&quot;))\npublic class TwitterController {\n    @Autowired\n    private TwitterTemplateCreator twitterTemplateCreator;\n\n    @PostMapping(value = &quot;/send&quot;)\n    public void send(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;text&quot;) String text) {\n        twitterTemplateCreator.getTwitterTemplate().directMessageOperations().sendDirectMessage(name, text);\n    }\n}\n</code></pre>\n<p>And finally <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;twitter-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;twitter-test&lt;/name&gt;\n    &lt;description&gt;twitter-test&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-social-twitter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My guess is that there is inconsistency with dependencies versions but after trying different Spring Boot versions I still can't figure out what causes this issue.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":18562970,"reputation":392,"user_id":13526580,"display_name":"Jessica Vasey"},"score":0,"creation_date":1675781287,"post_id":75372711,"comment_id":132999771,"body_markdown":"When you say &quot;the Java thread is getting stuck trying to produce&quot; does the producer keep retying until eventually the message is successfully sent? I&#39;m trying to understand what you want to achieve i.e. is this part of a test where you want to see how the producer handles TimeoutExceptions?","body":"When you say &quot;the Java thread is getting stuck trying to produce&quot; does the producer keep retying until eventually the message is successfully sent? I&#39;m trying to understand what you want to achieve i.e. is this part of a test where you want to see how the producer handles TimeoutExceptions?"},{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1675781515,"post_id":75372711,"comment_id":132999857,"body_markdown":"Hi @JessicaVasey , No it&#39;s not retrying ... I believe the producer trying to get metadata from kafka and it&#39;s stuck there at the first try itself . it didn&#39;t made any retry (since , my producer config is set to &quot;0&quot; retry ) . it is not part of test , it&#39;s happening in our production (real time) .\n\nto add more , mostly we are able to produce records without any issue and rarely we are facing this issue where producer is not even throwing any exception/errors if it can&#39;t produce the record ... it&#39;s just stuck literally","body":"Hi @JessicaVasey , No it&#39;s not retrying ... I believe the producer trying to get metadata from kafka and it&#39;s stuck there at the first try itself . it didn&#39;t made any retry (since , my producer config is set to &quot;0&quot; retry ) . it is not part of test , it&#39;s happening in our production (real time) .  to add more , mostly we are able to produce records without any issue and rarely we are facing this issue where producer is not even throwing any exception/errors if it can&#39;t produce the record ... it&#39;s just stuck literally"},{"owner":{"account_id":18562970,"reputation":392,"user_id":13526580,"display_name":"Jessica Vasey"},"score":0,"creation_date":1675790368,"post_id":75372711,"comment_id":133003045,"body_markdown":"Hi @Misubushi, what version of Kafka are you using?","body":"Hi @Misubushi, what version of Kafka are you using?"},{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1675793306,"post_id":75372711,"comment_id":133003888,"body_markdown":"@JessicaVasey , I&#39;m using Kafka-clients 3.3.2 for Kafka producer and our kafka environment is Confluent Platform 6.2 .","body":"@JessicaVasey , I&#39;m using Kafka-clients 3.3.2 for Kafka producer and our kafka environment is Confluent Platform 6.2 ."}],"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675902716,"creation_date":1675769246,"question_id":75372711,"body_markdown":"I&#39;m using Kafka producer send() method with callback . most of the time (around 90%) we are able to produce the record without any issue but intermittently, after calling .send() method the Java thread is getting stuck while trying to produce . we are using default timeout values but exception of any kind is not getting triggered (we are expecting timeout exception or something but it&#39;s just stuck trying to produce).\r\n\r\n***BELOW IS THE CODE SNIPPET***\r\n```\r\nkafkaProducer.send(new ProducerRecord(topic, key, kafkaMsg), new Callback(){\r\n\t\t\t@Override\r\n\t\t\tpublic void onCompletion(RecordMetadata metadata,Exception e) {\r\n\t\t\t\tif (e == null) {\r\n\t\t\t\t\tisSuccess = true;\r\n\t\t\t\t\t//MessageLogger.logMessageString(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID,\r\n\t\t\t\t\tMessageLogger.logMessageStringOld(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID, \r\n                       &quot;topic -&gt; &quot;+ metadata.topic()+&quot;\\n&quot; +\r\n\t\t\t\t\t   &quot;partition -&gt; &quot;+metadata.partition()+&quot;\\n&quot;+\r\n\t\t\t\t\t   &quot;offset -&gt; &quot;+metadata.offset());\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//MessageLogger.logMessageString(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\r\n\t\t\t\t\tMessageLogger.logMessageStringOld(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tisSuccess = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tkafkaProducer.flush();\r\n\t\tkafkaProducer.close();\r\n```\r\n\r\n\r\nI tried to play with some timeout properties but no luck \r\n**example : \r\nkafkaProdConfig.put(&quot;max.block.ms&quot;, 60000);\r\nkafkaProdConfig.put(&quot;request.timeout.ms&quot;, 30000);**\r\n\r\nCould someone provide insight on this please?\r\n","title":"TimeOut exception not getting triggered in Kafka producer","body":"<p>I'm using Kafka producer send() method with callback . most of the time (around 90%) we are able to produce the record without any issue but intermittently, after calling .send() method the Java thread is getting stuck while trying to produce . we are using default timeout values but exception of any kind is not getting triggered (we are expecting timeout exception or something but it's just stuck trying to produce).</p>\n<p><em><strong>BELOW IS THE CODE SNIPPET</strong></em></p>\n<pre><code>kafkaProducer.send(new ProducerRecord(topic, key, kafkaMsg), new Callback(){\n            @Override\n            public void onCompletion(RecordMetadata metadata,Exception e) {\n                if (e == null) {\n                    isSuccess = true;\n                    //MessageLogger.logMessageString(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID,\n                    MessageLogger.logMessageStringOld(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID, \n                       &quot;topic -&gt; &quot;+ metadata.topic()+&quot;\\n&quot; +\n                       &quot;partition -&gt; &quot;+metadata.partition()+&quot;\\n&quot;+\n                       &quot;offset -&gt; &quot;+metadata.offset());\n                } else {\n                    //MessageLogger.logMessageString(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\n                    MessageLogger.logMessageStringOld(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\n                    e.printStackTrace();\n                    isSuccess = false;\n                }\n            }\n        });\n        kafkaProducer.flush();\n        kafkaProducer.close();\n</code></pre>\n<p>I tried to play with some timeout properties but no luck\n<strong>example :\nkafkaProdConfig.put(&quot;max.block.ms&quot;, 60000);\nkafkaProdConfig.put(&quot;request.timeout.ms&quot;, 30000);</strong></p>\n<p>Could someone provide insight on this please?</p>\n"},{"tags":["java","spring","jdbc","hikaricp"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675860140,"post_id":75385913,"comment_id":133017860,"body_markdown":"&quot;*Now, keeping passwords in Strings is not safe... So we started changing our code to use char[]  and byte[]*&quot; How do you think Strings store their characters? Pre-java 9, `char[]` and now `byte[]`. This exercise is pointless. You are just making your own life significantly harder, to - at best - mildly inconvenience an attacker. https://en.wikipedia.org/wiki/Security_through_obscurity","body":"&quot;<i>Now, keeping passwords in Strings is not safe... So we started changing our code to use char[]  and byte[]</i>&quot; How do you think Strings store their characters? Pre-java 9, <code>char[]</code> and now <code>byte[]</code>. This exercise is pointless. You are just making your own life significantly harder, to - at best - mildly inconvenience an attacker. <a href=\"https://en.wikipedia.org/wiki/Security_through_obscurity\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Security_through_obscurity</a>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1675860179,"post_id":75385913,"comment_id":133017871,"body_markdown":"&quot;*it can be extracted, until garbage collector comes and clears it*&quot; If an attacker has physical access to your server&#39;s memory, you have bigger problems than them reading passwords.","body":"&quot;<i>it can be extracted, until garbage collector comes and clears it</i>&quot; If an attacker has physical access to your server&#39;s memory, you have bigger problems than them reading passwords."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1675860566,"post_id":75385913,"comment_id":133017989,"body_markdown":"Perhaps the &quot;tool&quot; should be ignored?  Don&#39;t do everything a computer tells you to do.","body":"Perhaps the &quot;tool&quot; should be ignored?  Don&#39;t do everything a computer tells you to do."},{"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"score":0,"creation_date":1675860912,"post_id":75385913,"comment_id":133018090,"body_markdown":"So from your comments my understanding is that this is pointless and using encrypted strings is fine. Correct?","body":"So from your comments my understanding is that this is pointless and using encrypted strings is fine. Correct?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675861056,"post_id":75385913,"comment_id":133018127,"body_markdown":"Are you talking about a client or a server?","body":"Are you talking about a client or a server?"},{"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"score":0,"creation_date":1675861168,"post_id":75385913,"comment_id":133018180,"body_markdown":"Everything is server side. Spring-Boot","body":"Everything is server side. Spring-Boot"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675861243,"post_id":75385913,"comment_id":133018215,"body_markdown":"OK, then that&#39;s alright","body":"OK, then that&#39;s alright"},{"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"score":0,"creation_date":1675861367,"post_id":75385913,"comment_id":133018258,"body_markdown":"@Michael the idea with char[] was that you can clear it after usage by making the array empty.","body":"@Michael the idea with char[] was that you can clear it after usage by making the array empty."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1675864959,"post_id":75385913,"comment_id":133019476,"body_markdown":"Hash passwords and validate hash with hash.","body":"Hash passwords and validate hash with hash."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1675865003,"post_id":75385913,"comment_id":133019490,"body_markdown":"Related: [Eliminating Passwords from the JVM Heap](https://stackoverflow.com/q/59548500/12567365). Similar conclusion to other comments and answers here: spend your security effort where it will have the most impact.","body":"Related: <a href=\"https://stackoverflow.com/q/59548500/12567365\">Eliminating Passwords from the JVM Heap</a>. Similar conclusion to other comments and answers here: spend your security effort where it will have the most impact."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676304017,"post_id":75385913,"comment_id":133105597,"body_markdown":"This is tagged HikariCP, but that is basically irrelevant. All JDBC APIs that expect passwords (including `DriverManager` or `DataSource`) expect them as strings. If you don&#39;t want to use strings, then you should look if your JDBC driver supports alternative authentication mechanisms which don&#39;t involve passwords.","body":"This is tagged HikariCP, but that is basically irrelevant. All JDBC APIs that expect passwords (including <code>DriverManager</code> or <code>DataSource</code>) expect them as strings. If you don&#39;t want to use strings, then you should look if your JDBC driver supports alternative authentication mechanisms which don&#39;t involve passwords."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675902261,"creation_date":1675864057,"answer_id":75386730,"question_id":75385913,"body_markdown":"&gt; Now, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.\r\n\r\nOnly if someone has sufficient access to capture what is in memory (or swap space on disk).  If someone can do that, they can probably *also* do *one or more* of the following:\r\n\r\n  - modify your application at the bytecode level to inject code to capture the secret\r\n  - attach a debugger and use it to set a breakpoint at the point where the secret is used\r\n  - read the secret from the file system, database, whatever\r\n  - find the private key for your server&#39;s SSL certs and use it to snoop on the HTTPS traffic to your server,\r\n  - walk out of your machine room with your hard drives, etc and then attack them at their leisure\r\n  - and so on.\r\n\r\nSpending a lot of effort to use `char[]` for handling passwords won&#39;t address any of those other ways of stealing the secrets.\r\n\r\nAnd it won&#39;t address various other security blunders ... like porous firewalls, unencrypted backups saved to the cloud, keys on a stolen devops laptop, successful spear phishing, etc.\r\n\r\n&gt; So am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what?\r\n\r\nThat is what you *would* need to do if you wanted to address this attack vector.  Don&#39;t ever hold passwords in `String` objects, and make sure that you clear the `char[]` or `byte[]` or whatever that you use to hold them as soon as possible.\r\n\r\nAre you &quot;supposed&quot; to do that?  Shrug.\r\n\r\nMy advice would be to do a **full** security risk assessment, look at **all** of the issues and decide whether or not addressing this one will make a significant difference to *overall* security.  Balance that against the costs of creating and maintaining the Hikari patches. On the flip-side, quantify the costs to your organization if (these) passwords were stolen. \r\n\r\nBut it is not up to us to decide what you should.  And it is not even possible to give you an objective recommendation, because we don&#39;t understand the full context.\r\n","title":"String passwords in java on database connections","body":"<blockquote>\n<p>Now, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.</p>\n</blockquote>\n<p>Only if someone has sufficient access to capture what is in memory (or swap space on disk).  If someone can do that, they can probably <em>also</em> do <em>one or more</em> of the following:</p>\n<ul>\n<li>modify your application at the bytecode level to inject code to capture the secret</li>\n<li>attach a debugger and use it to set a breakpoint at the point where the secret is used</li>\n<li>read the secret from the file system, database, whatever</li>\n<li>find the private key for your server's SSL certs and use it to snoop on the HTTPS traffic to your server,</li>\n<li>walk out of your machine room with your hard drives, etc and then attack them at their leisure</li>\n<li>and so on.</li>\n</ul>\n<p>Spending a lot of effort to use <code>char[]</code> for handling passwords won't address any of those other ways of stealing the secrets.</p>\n<p>And it won't address various other security blunders ... like porous firewalls, unencrypted backups saved to the cloud, keys on a stolen devops laptop, successful spear phishing, etc.</p>\n<blockquote>\n<p>So am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what?</p>\n</blockquote>\n<p>That is what you <em>would</em> need to do if you wanted to address this attack vector.  Don't ever hold passwords in <code>String</code> objects, and make sure that you clear the <code>char[]</code> or <code>byte[]</code> or whatever that you use to hold them as soon as possible.</p>\n<p>Are you &quot;supposed&quot; to do that?  Shrug.</p>\n<p>My advice would be to do a <strong>full</strong> security risk assessment, look at <strong>all</strong> of the issues and decide whether or not addressing this one will make a significant difference to <em>overall</em> security.  Balance that against the costs of creating and maintaining the Hikari patches. On the flip-side, quantify the costs to your organization if (these) passwords were stolen.</p>\n<p>But it is not up to us to decide what you should.  And it is not even possible to give you an objective recommendation, because we don't understand the full context.</p>\n"}],"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386730,"answer_count":1,"score":0,"last_activity_date":1675902261,"creation_date":1675859948,"question_id":75385913,"body_markdown":"Recently we have added a tool to find security holes in our organization. One of the issues that was found is that when connecting to a database (ex. using Hikari), we have to provide a String containing the password (encrypted, of course, which will be decrypted when used).\r\n\r\nNow, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.\r\n\r\nSo we started changing our code to use char[] and byte[] (not sure it&#39;s the best, but the idea is that we can clear the array after usage, and not wait for garbage collector to clear it for us) to set our passwords on Hikari, but the last part of the flow is setting an unencrypted password String to Hikari. So all this fuss to find out that Hikari is keeping the password inside a String..\r\n\r\nSo am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what? \r\n\r\nHow can we avoid this?","title":"String passwords in java on database connections","body":"<p>Recently we have added a tool to find security holes in our organization. One of the issues that was found is that when connecting to a database (ex. using Hikari), we have to provide a String containing the password (encrypted, of course, which will be decrypted when used).</p>\n<p>Now, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.</p>\n<p>So we started changing our code to use char[] and byte[] (not sure it's the best, but the idea is that we can clear the array after usage, and not wait for garbage collector to clear it for us) to set our passwords on Hikari, but the last part of the flow is setting an unencrypted password String to Hikari. So all this fuss to find out that Hikari is keeping the password inside a String..</p>\n<p>So am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what?</p>\n<p>How can we avoid this?</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1675870649,"post_id":75386747,"comment_id":133021624,"body_markdown":"Can you try that in *onStart()* callback instead","body":"Can you try that in <i>onStart()</i> callback instead"},{"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"score":0,"creation_date":1675923231,"post_id":75386747,"comment_id":133032976,"body_markdown":"Im getting issue on this line\nBottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());","body":"Im getting issue on this line BottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());"}],"answers":[{"comments":[{"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"score":0,"creation_date":1675919045,"post_id":75387216,"comment_id":133032349,"body_markdown":"Tried this but now I&#39;m getting an issue\njava.lang.IllegalArgumentException: The view is not a child of CoordinatorLayout","body":"Tried this but now I&#39;m getting an issue java.lang.IllegalArgumentException: The view is not a child of CoordinatorLayout"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1675940103,"post_id":75387216,"comment_id":133037475,"body_markdown":"@ShekharJ.Lobo Please show more information about your classes so that I can give you the suitable solution","body":"@ShekharJ.Lobo Please show more information about your classes so that I can give you the suitable solution"}],"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675901529,"creation_date":1675866442,"answer_id":75387216,"question_id":75386747,"body_markdown":"When you want to deal with fragment you have to take into consideration the root. \r\nBy getting the root you can do any things in the fragment.\r\n\r\nI think the error message is because you didn’t get the root.(the null because there’s no root found)\r\n\r\nTry to use this in order to solve the problem:\r\n\r\n    BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(getView().findViewById(R.id.parent_view_id));\r\n\r\nThe `getView()` method will help you to do so or you can use:\r\n\r\n    View rootView = getView();\r\n    // use the rootView in your code \r\n\r\nI hope I explain the point correctly.\r\n\r\n&gt; If you can show more of your code maybe I can help you more \r\n\r\n","title":"Unable to get parent when bottomsheet called from fragment","body":"<p>When you want to deal with fragment you have to take into consideration the root.\nBy getting the root you can do any things in the fragment.</p>\n<p>I think the error message is because you didn’t get the root.(the null because there’s no root found)</p>\n<p>Try to use this in order to solve the problem:</p>\n<pre><code>BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(getView().findViewById(R.id.parent_view_id));\n</code></pre>\n<p>The <code>getView()</code> method will help you to do so or you can use:</p>\n<pre><code>View rootView = getView();\n// use the rootView in your code \n</code></pre>\n<p>I hope I explain the point correctly.</p>\n<blockquote>\n<p>If you can show more of your code maybe I can help you more</p>\n</blockquote>\n"}],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675901529,"creation_date":1675864146,"question_id":75386747,"body_markdown":"I&#39;m trying to set a peek height for my bottomsheet and I&#39;m using this method below, it works fine when the BottomModalLayout is called from an activity but it doesnt when called from a fragment\r\nHere is my code for bottomModalLayout\r\n\r\n    \r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState){\r\n        super.onViewCreated(view, savedInstanceState);\r\n        System.out.println(&quot;Details: &quot;+view.getParent());\r\n        //CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) ((View) view.getParent()).getLayoutParams();\r\n        BottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());\r\n        //BottomSheetBehavior bottomSheetBehavior=params.getBehavior();\r\n        bottomSheetBehavior.setPeekHeight(1877);\r\n        bottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\r\n            @Override\r\n            public void onStateChanged(@NonNull View bottomSheet, int newState) {\r\n                if (newState == BottomSheetBehavior.STATE_DRAGGING) {\r\n                    bottomSheetBehavior.setPeekHeight(1877);\r\n                    bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onSlide(@NonNull View bottomSheet, float slideOffset) {\r\n            }\r\n        });\r\n        bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n    }\r\n\r\n\r\n\r\nthis is called from a fragement \r\n\r\n    analysis.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    BottomModalLayout bottomSheet = new BottomModalLayout();\r\n\r\n                    bottomSheet.setCancelable(false);\r\n                    bottomSheet.show(getFragmentManager(),\r\n                            &quot;ModalBottomSheet&quot;);\r\n                }\r\n            });\r\n\r\n\r\nbut getting this error\r\n[![enter image description here][1]][1]\r\n\r\nKindly Help!!!\r\nand thanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RLCoK.png","title":"Unable to get parent when bottomsheet called from fragment","body":"<p>I'm trying to set a peek height for my bottomsheet and I'm using this method below, it works fine when the BottomModalLayout is called from an activity but it doesnt when called from a fragment\nHere is my code for bottomModalLayout</p>\n<pre><code>public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState){\n    super.onViewCreated(view, savedInstanceState);\n    System.out.println(&quot;Details: &quot;+view.getParent());\n    //CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) ((View) view.getParent()).getLayoutParams();\n    BottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());\n    //BottomSheetBehavior bottomSheetBehavior=params.getBehavior();\n    bottomSheetBehavior.setPeekHeight(1877);\n    bottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\n        @Override\n        public void onStateChanged(@NonNull View bottomSheet, int newState) {\n            if (newState == BottomSheetBehavior.STATE_DRAGGING) {\n                bottomSheetBehavior.setPeekHeight(1877);\n                bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n            }\n        }\n\n        @Override\n        public void onSlide(@NonNull View bottomSheet, float slideOffset) {\n        }\n    });\n    bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n}\n</code></pre>\n<p>this is called from a fragement</p>\n<pre><code>analysis.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                BottomModalLayout bottomSheet = new BottomModalLayout();\n\n                bottomSheet.setCancelable(false);\n                bottomSheet.show(getFragmentManager(),\n                        &quot;ModalBottomSheet&quot;);\n            }\n        });\n</code></pre>\n<p>but getting this error\n<a href=\"https://i.stack.imgur.com/RLCoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLCoK.png\" alt=\"enter image description here\" /></a></p>\n<p>Kindly Help!!!\nand thanks in advance</p>\n"},{"tags":["java","algorithm","recursion","data-structures","doubly-linked-list"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1675901889,"post_id":75392695,"comment_id":133030070,"body_markdown":"If the `last` property was `static` then you could only have 1 DLL in your code as every node would point to the same `last` node. Better would be to have a `LinkedList` class that holds fields and methods that apply to the entire structure (such as `last`) rather than having them in the node class.","body":"If the <code>last</code> property was <code>static</code> then you could only have 1 DLL in your code as every node would point to the same <code>last</code> node. Better would be to have a <code>LinkedList</code> class that holds fields and methods that apply to the entire structure (such as <code>last</code>) rather than having them in the node class."},{"owner":{"account_id":16577967,"reputation":151,"user_id":14143633,"display_name":"Bartek Lachowicz"},"score":0,"creation_date":1675931512,"post_id":75392695,"comment_id":133034789,"body_markdown":"Yeah that does make sense. Thanks","body":"Yeah that does make sense. Thanks"},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1676349465,"post_id":75392695,"comment_id":133114633,"body_markdown":"Either you made a transcription error or the code from the book has an error. There&#39;s no way that `last` can ever be anything but `null`.","body":"Either you made a transcription error or the code from the book has an error. There&#39;s no way that <code>last</code> can ever be anything but <code>null</code>."},{"owner":{"account_id":16577967,"reputation":151,"user_id":14143633,"display_name":"Bartek Lachowicz"},"score":0,"creation_date":1676367997,"post_id":75392695,"comment_id":133118242,"body_markdown":"This is copied from the book, if you look at the edits I also uploaded previously my &quot;renamed&quot; version of the code and picture from and the book but then decided to just upload code from the book. https://i.stack.imgur.com/miCoQ.jpg Anyhow thanks for taking your time to look at it","body":"This is copied from the book, if you look at the edits I also uploaded previously my &quot;renamed&quot; version of the code and picture from and the book but then decided to just upload code from the book. <a href=\"https://i.stack.imgur.com/miCoQ.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/miCoQ.jpg</a> Anyhow thanks for taking your time to look at it"}],"owner":{"account_id":16577967,"reputation":151,"user_id":14143633,"display_name":"Bartek Lachowicz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675899737,"creation_date":1675898650,"question_id":75392695,"body_markdown":"I am going through CTCI book and I really cannot wrap my head around the ```last``` property of DoubleLinkedList(DLL) implementation from the author. No matter how I try to initialise the DLL it&#39;s always ```null``` when I ask for that property. \r\n\r\nAs far as I understand the ```last``` property is not a class variable(no **static** keyword) so each Node object will have its own ```last``` element. I would expect the DLL, to have a pointer to the ```last``` fixed at all times(point to the last Node in the entire DLL), is that incorrect?\r\n\r\nMoreover, I was thinking about implementing ```head``` property into that implementation, and doing a similar thing with updating it in ```setPrevious``` function. I would update the head if ```setPrevious``` was called on the head. Is that stupid, why wouldn&#39;t she implement that logic?\r\n\r\nThis is the code from the book and my tries to get some output from the ```last``` property\r\n```java\r\npublic class LinkedListNode {\r\n\tpublic LinkedListNode next;\r\n\tpublic LinkedListNode prev;\r\n\tpublic LinkedListNode last;\r\n\tpublic int data;\r\n\tpublic LinkedListNode(int d, LinkedListNode n, LinkedListNode p) {\r\n\t\tdata = d;\r\n\t\tsetNext(n);\r\n\t\tsetPrevious(p);\r\n\t}\r\n\t\r\n\tpublic LinkedListNode(int d) {\r\n\t\tdata = d;\r\n\t}\t\r\n\t\r\n\tpublic LinkedListNode() { }\r\n\r\n\tpublic void setNext(LinkedListNode n) {\r\n\t\tnext = n;\r\n\t\tif (this == last) {\r\n\t\t\tlast = n;\r\n\t\t}\r\n\t\tif (n != null &amp;&amp; n.prev != this) {\r\n\t\t\tn.setPrevious(this);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void setPrevious(LinkedListNode p) {\r\n\t\tprev = p;\r\n\t\tif (p != null &amp;&amp; p.next != this) {\r\n\t\t\tp.setNext(this);\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tpublic String printForward() {\r\n\t\tif (next != null) {\r\n\t\t\treturn data + &quot;-&gt;&quot; + next.printForward();\r\n\t\t} else {\r\n\t\t\treturn ((Integer) data).toString();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic LinkedListNode clone() {\r\n\t\tLinkedListNode next2 = null;\r\n\t\tif (next != null) {\r\n\t\t\tnext2 = next.clone();\r\n\t\t}\r\n\t\tLinkedListNode head2 = new LinkedListNode(data, next2, null);\r\n\t\treturn head2;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n        LinkedListNode ll = new LinkedListNode(1);\r\n        ll.setNext(new LinkedListNode(2));\r\n\r\n        System.out.println(ll.last);\r\n        System.out.println(ll.next.last);\r\n\r\n        LinkedListNode firstNode = new LinkedListNode(1);\r\n        LinkedListNode thirdNode = new LinkedListNode(3);\r\n\r\n        LinkedListNode ll2 = new LinkedListNode(1, thirdNode, firstNode);\r\n        System.out.println(firstNode.last);\r\n        System.out.println(ll2.last);\r\n        System.out.println(thirdNode.last);\r\n        \r\n\t}\r\n}\r\n```\r\n\r\n```\r\n&gt; null\r\n&gt; null\r\n&gt; null\r\n&gt; null\r\n&gt; null\r\n```","title":"I don&#39;t understand Double linked list implementation from CTCI in java","body":"<p>I am going through CTCI book and I really cannot wrap my head around the <code>last</code> property of DoubleLinkedList(DLL) implementation from the author. No matter how I try to initialise the DLL it's always <code>null</code> when I ask for that property.</p>\n<p>As far as I understand the <code>last</code> property is not a class variable(no <strong>static</strong> keyword) so each Node object will have its own <code>last</code> element. I would expect the DLL, to have a pointer to the <code>last</code> fixed at all times(point to the last Node in the entire DLL), is that incorrect?</p>\n<p>Moreover, I was thinking about implementing <code>head</code> property into that implementation, and doing a similar thing with updating it in <code>setPrevious</code> function. I would update the head if <code>setPrevious</code> was called on the head. Is that stupid, why wouldn't she implement that logic?</p>\n<p>This is the code from the book and my tries to get some output from the <code>last</code> property</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LinkedListNode {\n    public LinkedListNode next;\n    public LinkedListNode prev;\n    public LinkedListNode last;\n    public int data;\n    public LinkedListNode(int d, LinkedListNode n, LinkedListNode p) {\n        data = d;\n        setNext(n);\n        setPrevious(p);\n    }\n    \n    public LinkedListNode(int d) {\n        data = d;\n    }   \n    \n    public LinkedListNode() { }\n\n    public void setNext(LinkedListNode n) {\n        next = n;\n        if (this == last) {\n            last = n;\n        }\n        if (n != null &amp;&amp; n.prev != this) {\n            n.setPrevious(this);\n        }\n    }\n    \n    public void setPrevious(LinkedListNode p) {\n        prev = p;\n        if (p != null &amp;&amp; p.next != this) {\n            p.setNext(this);\n        }\n    }   \n    \n    public String printForward() {\n        if (next != null) {\n            return data + &quot;-&gt;&quot; + next.printForward();\n        } else {\n            return ((Integer) data).toString();\n        }\n    }\n    \n    public LinkedListNode clone() {\n        LinkedListNode next2 = null;\n        if (next != null) {\n            next2 = next.clone();\n        }\n        LinkedListNode head2 = new LinkedListNode(data, next2, null);\n        return head2;\n    }\n    public static void main(String[] args) {\n        LinkedListNode ll = new LinkedListNode(1);\n        ll.setNext(new LinkedListNode(2));\n\n        System.out.println(ll.last);\n        System.out.println(ll.next.last);\n\n        LinkedListNode firstNode = new LinkedListNode(1);\n        LinkedListNode thirdNode = new LinkedListNode(3);\n\n        LinkedListNode ll2 = new LinkedListNode(1, thirdNode, firstNode);\n        System.out.println(firstNode.last);\n        System.out.println(ll2.last);\n        System.out.println(thirdNode.last);\n        \n    }\n}\n</code></pre>\n<pre><code>&gt; null\n&gt; null\n&gt; null\n&gt; null\n&gt; null\n</code></pre>\n"},{"tags":["java","fips"],"owner":{"account_id":27739430,"reputation":11,"user_id":21176218,"display_name":"user21176218"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675899676,"creation_date":1675899676,"question_id":75392806,"body_markdown":"I am trying to configure Java to run in FIPS mode. I am running openjdk 1.8.0 and NSS 3.79.0 on an AmazonLinux2 AWS instance. As per whatever documentation I could find, I configured the java.security file (security providers and keystore.type only):\r\n\r\n    security.provider.1=sun.security.pkcs11.SunPKCS11 /opt/fipsconfig/pkcs11.cfg\r\n    security.provider.2=sun.security.provider.Sun\r\n    security.provider.3=sun.security.ec.SunEC\r\n    security.provider.4=com.sun.net.ssl.internal.ssl.Provider SunPKCS11-NSSFIPS\r\n\r\nand\r\n\r\n    keystore.type=PKCS11\r\n\r\nNext, I configured the /opt/fipsconfig/pkcs11.cfg token to be:\r\n\r\n    [root@ip-10-4-93-132 hmac-test]# cat /opt/fipsconfig/pkcs11.cfg\r\n    name = NSSFIPS\r\n    nssLibraryDirectory = /usr/lib64\r\n    nssSecmodDirectory = /etc/pki/nssdb\r\n    nssModule = fips\r\n    nssDbMode = readOnly\r\n\r\nI then verified that /etc/pki/nssdb is FIPS enabled:\r\n\r\n    modutil -chkfips true -dbdir /etc/pki/nssdb\r\n    FIPS mode enabled.\r\n\r\nAnd the token looks good:\r\n\r\n    modutil -dbdir /etc/pki/nssdb -list\r\n\r\n    Listing of PKCS #11 Modules\r\n    -----------------------------------------------------------\r\n      1. NSS Internal PKCS #11 Module\r\n           uri: pkcs11:library-manufacturer=Mozilla%20Foundation;library-description=NSS%20Internal%20Crypto%20Services;library-version=3.79\r\n         slots: 1 slot attached\r\n        status: loaded\r\n\r\n         slot: NSS FIPS 140-2 User Private Key Services\r\n        token: NSS FIPS 140-2 Certificate DB\r\n          uri: pkcs11:token=NSS%20FIPS%20140-2%20Certificate%20DB;manufacturer=Mozilla%20Foundation;serial=0000000000000000;model=NSS%203\r\n-----------------------------------------------------------\r\n\r\n\r\nUsing this demo:\r\n\r\n    [root@ip-10-4-93-132 hmac-test]# cat hmac.java\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.KeyStore;\r\n\r\n        public class hmac {\r\n        public static String encode(String algorithm, String key, String data) throws Exception {\r\n            KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;);\r\n            if (ks == null) System.out.println(&quot;ks is null&quot;);\r\n            else {\r\n                ks.load(null, null);\r\n                System.out.println(&quot;keystore PKCS11 type = &quot; + ks.getDefaultType());\r\n                System.out.println(&quot;keystore PKCS11 provider = &quot; + ks.getProvider());\r\n                System.out.println(&quot;keystore PKCS11 size = &quot; + ks.size());\r\n            }\r\n\r\n            Mac sha256_HMAC = Mac.getInstance(algorithm);\r\n            //System.out.println(&quot;HMAC Provider: &quot; + sha256_HMAC.getProvider());\r\n            SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), algorithm);\r\n            sha256_HMAC.init(secret_key);\r\n\r\n            byte[] bytes = sha256_HMAC.doFinal(data.getBytes(&quot;UTF-8&quot;));\r\n            StringBuilder result = new StringBuilder();\r\n            for (byte aByte : bytes) {\r\n                result.append(String.format(&quot;%02x&quot;, aByte));\r\n            }\r\n            return result.toString();\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            if (args.length != 3) {\r\n                System.out.println(&quot;Invalid Usage.\\nUsage: java hmac &lt;algorithm&gt; &lt;key&gt; &lt;data&gt;&quot;);\r\n                System.exit(-1);\r\n            }\r\n            System.out.println(encode(args[0], args[1], args[2]));\r\n        }\r\n    }\r\n\r\nproduces this error when run with the following options:\r\n\r\n    java hmac HmacSHA256 &quot;key&quot; &quot;The quick brown fox jumps over the lazy dog&quot;\r\n    keystore PKCS11 type = PKCS11\r\n    keystore PKCS11 provider = SunPKCS11-NSSFIPS version 1.8\r\n    keystore PKCS11 size = 2\r\n    Exception in thread &quot;main&quot; java.security.InvalidKeyException: Could not create key\r\n        at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:274)\r\n        at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:179)\r\n        at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:111)\r\n        at sun.security.pkcs11.P11Mac.engineInit(P11Mac.java:204)\r\n        at javax.crypto.Mac.chooseProvider(Mac.java:350)\r\n        at javax.crypto.Mac.init(Mac.java:415)\r\n        at hmac.encode(hmac.java:19)\r\n        at hmac.main(hmac.java:34)\r\n    Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_ATTRIBUTE_VALUE_INVALID\r\n        at sun.security.pkcs11.wrapper.PKCS11.C_CreateObject(Native Method)\r\n        at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:269)\r\n        ... 7 more\r\n\r\n\r\nIf I run the demo in full java debug mode, with:\r\n\r\n    java -Djava.security.debug=all hmac HmacSHA256 key &quot;The quick brown fox jumps over the lazy dog&quot;  &gt; OUT 2&gt;&amp;1\r\n \r\nThe output looks reasonable, except for the exception produced at the very end.\r\n\r\nI&#39;ve looked all over the internet for a hint on what is going wrong, but I just can&#39;t seem to find anything. I took a look at the P11SecretKeyFactory.java code, and I believe the initial exception thrown is of type PKCS11Exception (where it then prints the &quot;Could not create key&quot; and then throws the new InvalidKeyException).\r\n\r\nIn the createKey() function, I see 3 attributes are being set:\r\n\r\n            attributes[0] = new CK_ATTRIBUTE(CKA_CLASS, CKO_SECRET_KEY);\r\n            attributes[1] = new CK_ATTRIBUTE(CKA_KEY_TYPE, keyType);\r\n            attributes[2] = new CK_ATTRIBUTE(CKA_VALUE, encoded);\r\n\r\nI am wondering if one of these attributes (probably the last 2) could be producing the CKR_ATTRIBUTE_VALUE_INVALID error?\r\n\r\nHas anyone run across this and if so would you be able to provide a clue as to what is wrong?\r\n\r\nThank you.\r\n","title":"openjdk 8 running in FIPS mode produces java.security.InvalidKeyException: Could not create key","body":"<p>I am trying to configure Java to run in FIPS mode. I am running openjdk 1.8.0 and NSS 3.79.0 on an AmazonLinux2 AWS instance. As per whatever documentation I could find, I configured the java.security file (security providers and keystore.type only):</p>\n<pre><code>security.provider.1=sun.security.pkcs11.SunPKCS11 /opt/fipsconfig/pkcs11.cfg\nsecurity.provider.2=sun.security.provider.Sun\nsecurity.provider.3=sun.security.ec.SunEC\nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider SunPKCS11-NSSFIPS\n</code></pre>\n<p>and</p>\n<pre><code>keystore.type=PKCS11\n</code></pre>\n<p>Next, I configured the /opt/fipsconfig/pkcs11.cfg token to be:</p>\n<pre><code>[root@ip-10-4-93-132 hmac-test]# cat /opt/fipsconfig/pkcs11.cfg\nname = NSSFIPS\nnssLibraryDirectory = /usr/lib64\nnssSecmodDirectory = /etc/pki/nssdb\nnssModule = fips\nnssDbMode = readOnly\n</code></pre>\n<p>I then verified that /etc/pki/nssdb is FIPS enabled:</p>\n<pre><code>modutil -chkfips true -dbdir /etc/pki/nssdb\nFIPS mode enabled.\n</code></pre>\n<p>And the token looks good:</p>\n<pre><code>modutil -dbdir /etc/pki/nssdb -list\n\nListing of PKCS #11 Modules\n-----------------------------------------------------------\n  1. NSS Internal PKCS #11 Module\n       uri: pkcs11:library-manufacturer=Mozilla%20Foundation;library-description=NSS%20Internal%20Crypto%20Services;library-version=3.79\n     slots: 1 slot attached\n    status: loaded\n\n     slot: NSS FIPS 140-2 User Private Key Services\n    token: NSS FIPS 140-2 Certificate DB\n      uri: pkcs11:token=NSS%20FIPS%20140-2%20Certificate%20DB;manufacturer=Mozilla%20Foundation;serial=0000000000000000;model=NSS%203\n</code></pre>\n<hr />\n<p>Using this demo:</p>\n<pre><code>[root@ip-10-4-93-132 hmac-test]# cat hmac.java\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.KeyStore;\n\n    public class hmac {\n    public static String encode(String algorithm, String key, String data) throws Exception {\n        KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;);\n        if (ks == null) System.out.println(&quot;ks is null&quot;);\n        else {\n            ks.load(null, null);\n            System.out.println(&quot;keystore PKCS11 type = &quot; + ks.getDefaultType());\n            System.out.println(&quot;keystore PKCS11 provider = &quot; + ks.getProvider());\n            System.out.println(&quot;keystore PKCS11 size = &quot; + ks.size());\n        }\n\n        Mac sha256_HMAC = Mac.getInstance(algorithm);\n        //System.out.println(&quot;HMAC Provider: &quot; + sha256_HMAC.getProvider());\n        SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), algorithm);\n        sha256_HMAC.init(secret_key);\n\n        byte[] bytes = sha256_HMAC.doFinal(data.getBytes(&quot;UTF-8&quot;));\n        StringBuilder result = new StringBuilder();\n        for (byte aByte : bytes) {\n            result.append(String.format(&quot;%02x&quot;, aByte));\n        }\n        return result.toString();\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length != 3) {\n            System.out.println(&quot;Invalid Usage.\\nUsage: java hmac &lt;algorithm&gt; &lt;key&gt; &lt;data&gt;&quot;);\n            System.exit(-1);\n        }\n        System.out.println(encode(args[0], args[1], args[2]));\n    }\n}\n</code></pre>\n<p>produces this error when run with the following options:</p>\n<pre><code>java hmac HmacSHA256 &quot;key&quot; &quot;The quick brown fox jumps over the lazy dog&quot;\nkeystore PKCS11 type = PKCS11\nkeystore PKCS11 provider = SunPKCS11-NSSFIPS version 1.8\nkeystore PKCS11 size = 2\nException in thread &quot;main&quot; java.security.InvalidKeyException: Could not create key\n    at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:274)\n    at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:179)\n    at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:111)\n    at sun.security.pkcs11.P11Mac.engineInit(P11Mac.java:204)\n    at javax.crypto.Mac.chooseProvider(Mac.java:350)\n    at javax.crypto.Mac.init(Mac.java:415)\n    at hmac.encode(hmac.java:19)\n    at hmac.main(hmac.java:34)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_ATTRIBUTE_VALUE_INVALID\n    at sun.security.pkcs11.wrapper.PKCS11.C_CreateObject(Native Method)\n    at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:269)\n    ... 7 more\n</code></pre>\n<p>If I run the demo in full java debug mode, with:</p>\n<pre><code>java -Djava.security.debug=all hmac HmacSHA256 key &quot;The quick brown fox jumps over the lazy dog&quot;  &gt; OUT 2&gt;&amp;1\n</code></pre>\n<p>The output looks reasonable, except for the exception produced at the very end.</p>\n<p>I've looked all over the internet for a hint on what is going wrong, but I just can't seem to find anything. I took a look at the P11SecretKeyFactory.java code, and I believe the initial exception thrown is of type PKCS11Exception (where it then prints the &quot;Could not create key&quot; and then throws the new InvalidKeyException).</p>\n<p>In the createKey() function, I see 3 attributes are being set:</p>\n<pre><code>        attributes[0] = new CK_ATTRIBUTE(CKA_CLASS, CKO_SECRET_KEY);\n        attributes[1] = new CK_ATTRIBUTE(CKA_KEY_TYPE, keyType);\n        attributes[2] = new CK_ATTRIBUTE(CKA_VALUE, encoded);\n</code></pre>\n<p>I am wondering if one of these attributes (probably the last 2) could be producing the CKR_ATTRIBUTE_VALUE_INVALID error?</p>\n<p>Has anyone run across this and if so would you be able to provide a clue as to what is wrong?</p>\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675898470,"post_id":75392662,"comment_id":133029532,"body_markdown":"Apache POI is a good option.  There are some [nice notes here](https://www.baeldung.com/java-microsoft-excel)","body":"Apache POI is a good option.  There are some <a href=\"https://www.baeldung.com/java-microsoft-excel\" rel=\"nofollow noreferrer\">nice notes here</a>"}],"owner":{"account_id":27263833,"reputation":23,"user_id":20786226,"display_name":"Dhirish Parthasarathy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675899031,"creation_date":1675898334,"question_id":75392662,"body_markdown":"Is there a way to convert a list of objects (say for example)\r\n\r\n    List&lt;Responsediff&gt; differences;\r\n\r\nwhere the Responsediff class looks like:\r\n\r\n    public class Responsediff{    \r\n        \r\n        private String balanceName;\r\n        private String balance1;\r\n        private String balance2;\r\n        private String differenceinbalances;\r\n    }\r\n\r\nto be converted directly into a Excel document? I am currently using openCSV to convert it to csv, but since my data involves number with precision I was hoping if I could convert the lsit of  objects to an excel file\r\n\r\n","title":"Converting a List of object into Excel(Java)","body":"<p>Is there a way to convert a list of objects (say for example)</p>\n<pre><code>List&lt;Responsediff&gt; differences;\n</code></pre>\n<p>where the Responsediff class looks like:</p>\n<pre><code>public class Responsediff{    \n    \n    private String balanceName;\n    private String balance1;\n    private String balance2;\n    private String differenceinbalances;\n}\n</code></pre>\n<p>to be converted directly into a Excel document? I am currently using openCSV to convert it to csv, but since my data involves number with precision I was hoping if I could convert the lsit of  objects to an excel file</p>\n"},{"tags":["java","methods","linked-list","nodes","singly-linked-list"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675899329,"post_id":75392710,"comment_id":133029698,"body_markdown":"I&#39;m looking at your `remove` method.  Although it reduces `size`, I can&#39;t see that it actually removes anything from the list.  You might have missed something out there.","body":"I&#39;m looking at your <code>remove</code> method.  Although it reduces <code>size</code>, I can&#39;t see that it actually removes anything from the list.  You might have missed something out there."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675899377,"post_id":75392710,"comment_id":133029713,"body_markdown":"I honestly think though that you&#39;d do well to learn to use your debugger.  You can&#39;t really become a good programmer without doing that.","body":"I honestly think though that you&#39;d do well to learn to use your debugger.  You can&#39;t really become a good programmer without doing that."}],"owner":{"display_name":"user20455580"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675898806,"creation_date":1675898806,"question_id":75392710,"body_markdown":"I am working on a Linked List class where I want to manually create each method. My methods are showing the wrong output and I am not sure where I went wrong with my code. Could anyone look over it and give me some pointers? \r\n\r\nThe output (it should match my ArrayList output but it isn&#39;t):\r\n\r\nInserted Course 451 at index 4\r\nArray List size: 6\r\nLinked List size: 6\r\nArray List data: 131 132 215 315 451 415 \r\nLinked List data: 131 132 215 315 451 451 \r\n\r\nRemoved Course at index 3 from the Lists\r\nArray List size: 5\r\nLinked List size: 5\r\nArray List data: 131 132 215 451 415 \r\nLinked List data: 131 132 215 315 451 \r\n\r\nRemoved Course 415 from the Lists\r\nArray List size: 4\r\nLinked List size: 5\r\nArray List data: 131 132 215 451 \r\nLinked List data: 131 132 215 315 451 \r\n\r\nReplaced Course 131 and Course 132 with Course 121 and Course 122 respectively\r\nArray List data: 121 122 215 451 \r\nLinked List data: 121 122 215 315 451 \r\n\r\nIndex of &#39;451&#39; in the Array List: 3\r\nIndex of &#39;451&#39; in the Linked List: 4\r\n\r\nIs &#39;215&#39; present in the Array List? true\r\nIs &#39;215&#39; present in the Linked List? true\r\nIs &#39;315&#39; present in the Array List? false\r\nIs &#39;315&#39; present in the Linked List? true\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy Linked List class with methods:\r\n\r\n`public class LinkedList{`\r\n\r\n    // linked list fields\r\n    private Node head;\r\n    private int size;\r\n\r\n    /**\r\n     * Default constructor\r\n     */\r\n    public LinkedList(){\r\n        head = null;\r\n        size = 0;\r\n    }\r\n\r\n\r\n    public Object get(int pos){\r\n        // error for if the position is less than zero or greater \r\n        // than the size\r\n        if (pos &lt; 0 || (pos &gt;= size)) {\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n\r\n        Node temp = head;\r\n        for (int i = 0; i &lt; pos; i++){\r\n            // if the next node is null and return current data\r\n            if (temp.next == null){\r\n                return temp.data;\r\n            } else {\r\n                //System.out.println(temp.data);\r\n                temp = temp.next;\r\n            }\r\n        }\r\n        // gets the value of that stored data in that position\r\n        return temp.data;\r\n    }\r\n\r\n\r\n    public void clear(){\r\n        for (int k = 0; k &lt; size; k++) {\r\n            head = null;\r\n        }\r\n        size = 0;\r\n    }\r\n\r\n    public boolean set(int pos, Object obj){\r\n        if (pos &lt; 0 || (pos &gt;= size)){\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        Node temp = head;\r\n        // loops through list until it gets to desired position\r\n        for (int i = 0; i &lt; pos; i++){\r\n            temp = temp.next;\r\n        }\r\n        // the original data is being updated with the new\r\n        // data(elem)\r\n        temp.data = obj;\r\n        // successfully updated the data\r\n        return true;\r\n    }\r\n\r\n\r\n    public int indexOf(Object obj){\r\n        for (int k = 0; k &lt; size(); k++){\r\n            Object elem = get(k);\r\n            if (elem.equals(obj)){\r\n                // found item; return its position\r\n                return k;\r\n            }\r\n        }\r\n        // item not found\r\n        return -1;\r\n    }\r\n\r\n    public Object remove(int pos){\r\n        if (pos &lt; 0 || pos &gt;= size){\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        // stores the element to be removed\r\n        Node temp = head;\r\n        // loops through list until it gets to desired position\r\n        for (int i = 0; i &lt; pos; i++){\r\n            // if the next node is null and return current data\r\n            if (temp.next == null){\r\n                return temp.data;\r\n            }\r\n            temp = temp.next;\r\n        }\r\n        // subtracts size\r\n        size--;\r\n\r\n        return temp.data;\r\n    }\r\n\r\n    public boolean add(int pos, Object obj){\r\n        if (pos &lt; 0 || pos &gt;= size) {\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        Node temp = head;\r\n        // loops through list until it gets to desired position\r\n        for (int i = 0; i &lt; pos; i++){\r\n            // if the next node is null and return current data\r\n            if (temp.next == null){\r\n                return false;\r\n            }\r\n            temp = temp.next;\r\n        }\r\n        temp.data = obj;\r\n        size++;\r\n        return true;\r\n    }\r\n`\r\n","title":"How can I fix the structure of my methods in a linked list class in Java?","body":"<p>I am working on a Linked List class where I want to manually create each method. My methods are showing the wrong output and I am not sure where I went wrong with my code. Could anyone look over it and give me some pointers?</p>\n<p>The output (it should match my ArrayList output but it isn't):</p>\n<p>Inserted Course 451 at index 4\nArray List size: 6\nLinked List size: 6\nArray List data: 131 132 215 315 451 415\nLinked List data: 131 132 215 315 451 451</p>\n<p>Removed Course at index 3 from the Lists\nArray List size: 5\nLinked List size: 5\nArray List data: 131 132 215 451 415\nLinked List data: 131 132 215 315 451</p>\n<p>Removed Course 415 from the Lists\nArray List size: 4\nLinked List size: 5\nArray List data: 131 132 215 451\nLinked List data: 131 132 215 315 451</p>\n<p>Replaced Course 131 and Course 132 with Course 121 and Course 122 respectively\nArray List data: 121 122 215 451\nLinked List data: 121 122 215 315 451</p>\n<p>Index of '451' in the Array List: 3\nIndex of '451' in the Linked List: 4</p>\n<p>Is '215' present in the Array List? true\nIs '215' present in the Linked List? true\nIs '315' present in the Array List? false\nIs '315' present in the Linked List? true</p>\n<p>My Linked List class with methods:</p>\n<p><code>public class LinkedList{</code></p>\n<pre><code>// linked list fields\nprivate Node head;\nprivate int size;\n\n/**\n * Default constructor\n */\npublic LinkedList(){\n    head = null;\n    size = 0;\n}\n\n\npublic Object get(int pos){\n    // error for if the position is less than zero or greater \n    // than the size\n    if (pos &lt; 0 || (pos &gt;= size)) {\n        throw new IndexOutOfBoundsException();\n    }\n\n    Node temp = head;\n    for (int i = 0; i &lt; pos; i++){\n        // if the next node is null and return current data\n        if (temp.next == null){\n            return temp.data;\n        } else {\n            //System.out.println(temp.data);\n            temp = temp.next;\n        }\n    }\n    // gets the value of that stored data in that position\n    return temp.data;\n}\n\n\npublic void clear(){\n    for (int k = 0; k &lt; size; k++) {\n        head = null;\n    }\n    size = 0;\n}\n\npublic boolean set(int pos, Object obj){\n    if (pos &lt; 0 || (pos &gt;= size)){\n        throw new IndexOutOfBoundsException();\n    }\n    Node temp = head;\n    // loops through list until it gets to desired position\n    for (int i = 0; i &lt; pos; i++){\n        temp = temp.next;\n    }\n    // the original data is being updated with the new\n    // data(elem)\n    temp.data = obj;\n    // successfully updated the data\n    return true;\n}\n\n\npublic int indexOf(Object obj){\n    for (int k = 0; k &lt; size(); k++){\n        Object elem = get(k);\n        if (elem.equals(obj)){\n            // found item; return its position\n            return k;\n        }\n    }\n    // item not found\n    return -1;\n}\n\npublic Object remove(int pos){\n    if (pos &lt; 0 || pos &gt;= size){\n        throw new IndexOutOfBoundsException();\n    }\n    // stores the element to be removed\n    Node temp = head;\n    // loops through list until it gets to desired position\n    for (int i = 0; i &lt; pos; i++){\n        // if the next node is null and return current data\n        if (temp.next == null){\n            return temp.data;\n        }\n        temp = temp.next;\n    }\n    // subtracts size\n    size--;\n\n    return temp.data;\n}\n\npublic boolean add(int pos, Object obj){\n    if (pos &lt; 0 || pos &gt;= size) {\n        throw new IndexOutOfBoundsException();\n    }\n    Node temp = head;\n    // loops through list until it gets to desired position\n    for (int i = 0; i &lt; pos; i++){\n        // if the next node is null and return current data\n        if (temp.next == null){\n            return false;\n        }\n        temp = temp.next;\n    }\n    temp.data = obj;\n    size++;\n    return true;\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","javafx","jfreechart-fx"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675898535,"creation_date":1637523926,"answer_id":70058016,"question_id":70058015,"body_markdown":"The example cited uses a renderer for which no [`ChartFactory`][1] exists. These factories illustrate typical use cases; all end by applying a `ChartTheme` to the `chart`. The variation below applies a [`StandardChartTheme`][2], which establishes coherent defaults for elements that affect geometry, such as font metrics and axis offsets; the defaults can be customized as shown.\r\n\r\nThe issue does not arise in pure Java2D, which runs on the [_initial thread_][3]. A similar Swing program is typically scheduled on the `EventQueue`. A [tag:jfreechart-fx] program relies on a custom `GraphicsContext`; applying a `ChartTheme` ensures that the required defaults are present on the first update.\r\n\r\nIn exceptional cases, the chart can be made to redraw itself explicitly via [`fireChartChanged()`][4]. The `Canvas` held by the `ChartViewer` can do the same via its  `chartChanged()` method.\r\n\r\n[![image][5]][5]\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.text.NumberFormat;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.StandardChartTheme;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.fx.ChartViewer;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYSplineRenderer;\r\nimport org.jfree.data.time.Day;\r\nimport org.jfree.data.time.TimeSeries;\r\nimport org.jfree.data.time.TimeSeriesCollection;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/70058016/230513\r\n * @see https://stackoverflow.com/q/70021577/230513\r\n */\r\npublic class SplineTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws ParseException {\r\n        SimpleDateFormat inFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        // data\r\n        double[] values = new double[]{0.67, 0.67, 0.69, 0.70, 0.70, 0.71, 0.71};\r\n        String[] dates = new String[]{&quot;2021-11-09&quot;, &quot;2021-11-10&quot;, &quot;2021-11-11&quot;,\r\n            &quot;2021-11-12&quot;, &quot;2021-11-15&quot;, &quot;2021-11-16&quot;, &quot;2021-11-17&quot;};\r\n        TimeSeries series = new TimeSeries(&quot;Time Series&quot;);\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            Date date = inFormat.parse(dates[i]);\r\n            series.add(new Day(date), values[i]);\r\n        }\r\n        TimeSeriesCollection dataset = new TimeSeriesCollection(series);\r\n        // axes\r\n        NumberAxis rangeAxis = new NumberAxis(&quot;Value&quot;);\r\n        NumberFormat numberFormat = NumberFormat.getInstance();\r\n        numberFormat.setMinimumFractionDigits(2);\r\n        numberFormat.setMaximumFractionDigits(2);\r\n        rangeAxis.setNumberFormatOverride(numberFormat);\r\n        rangeAxis.setLowerMargin(0.08); // 8% lower margin\r\n        rangeAxis.setAutoRangeIncludesZero(false);\r\n        DateAxis domainAxis = new DateAxis(&quot;Date&quot;);\r\n        domainAxis.setDateFormatOverride(outFormat);\r\n        domainAxis.setVerticalTickLabels(true);\r\n        // renderer, plot, chart\r\n        XYSplineRenderer r = new XYSplineRenderer(15);\r\n        XYPlot xyplot = new XYPlot(dataset, domainAxis, rangeAxis, r);\r\n        JFreeChart chart = new JFreeChart(null, xyplot);\r\n        StandardChartTheme theme = new StandardChartTheme(&quot;Custom&quot;);\r\n        theme.setPlotBackgroundPaint(Color.WHITE);\r\n        theme.setDomainGridlinePaint(Color.LIGHT_GRAY);\r\n        theme.setRangeGridlinePaint(Color.LIGHT_GRAY);\r\n        theme.apply(chart);\r\n        r.setSeriesPaint(0, new Color(255, 152, 0));\r\n        r.setSeriesStroke(0, new BasicStroke(2.0f));\r\n        // display\r\n        Scene scene = new Scene(new ChartViewer(chart));\r\n        stage.setTitle(&quot;SplineTest&quot;);\r\n        stage.setScene(scene);\r\n        stage.setWidth(600);\r\n        stage.setHeight(400);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/StandardChartTheme.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [4]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/JFreeChart.html#fireChartChanged()\r\n  [5]: https://i.stack.imgur.com/SwotH.png","title":"JFreeChart-FX time series vertical tick labels overlap","body":"<p>The example cited uses a renderer for which no <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html\" rel=\"nofollow noreferrer\"><code>ChartFactory</code></a> exists. These factories illustrate typical use cases; all end by applying a <code>ChartTheme</code> to the <code>chart</code>. The variation below applies a <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/StandardChartTheme.html\" rel=\"nofollow noreferrer\"><code>StandardChartTheme</code></a>, which establishes coherent defaults for elements that affect geometry, such as font metrics and axis offsets; the defaults can be customized as shown.</p>\n<p>The issue does not arise in pure Java2D, which runs on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><em>initial thread</em></a>. A similar Swing program is typically scheduled on the <code>EventQueue</code>. A <a href=\"/questions/tagged/jfreechart-fx\" class=\"post-tag\" title=\"show questions tagged &#39;jfreechart-fx&#39;\" aria-label=\"show questions tagged &#39;jfreechart-fx&#39;\" rel=\"tag\" aria-labelledby=\"jfreechart-fx-container\">jfreechart-fx</a> program relies on a custom <code>GraphicsContext</code>; applying a <code>ChartTheme</code> ensures that the required defaults are present on the first update.</p>\n<p>In exceptional cases, the chart can be made to redraw itself explicitly via <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/JFreeChart.html#fireChartChanged()\" rel=\"nofollow noreferrer\"><code>fireChartChanged()</code></a>. The <code>Canvas</code> held by the <code>ChartViewer</code> can do the same via its  <code>chartChanged()</code> method.</p>\n<p><a href=\"https://i.stack.imgur.com/SwotH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwotH.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.StandardChartTheme;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.fx.ChartViewer;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYSplineRenderer;\nimport org.jfree.data.time.Day;\nimport org.jfree.data.time.TimeSeries;\nimport org.jfree.data.time.TimeSeriesCollection;\n\n/**\n * @see https://stackoverflow.com/a/70058016/230513\n * @see https://stackoverflow.com/q/70021577/230513\n */\npublic class SplineTest extends Application {\n\n    @Override\n    public void start(Stage stage) throws ParseException {\n        SimpleDateFormat inFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n        // data\n        double[] values = new double[]{0.67, 0.67, 0.69, 0.70, 0.70, 0.71, 0.71};\n        String[] dates = new String[]{&quot;2021-11-09&quot;, &quot;2021-11-10&quot;, &quot;2021-11-11&quot;,\n            &quot;2021-11-12&quot;, &quot;2021-11-15&quot;, &quot;2021-11-16&quot;, &quot;2021-11-17&quot;};\n        TimeSeries series = new TimeSeries(&quot;Time Series&quot;);\n        for (int i = 0; i &lt; values.length; i++) {\n            Date date = inFormat.parse(dates[i]);\n            series.add(new Day(date), values[i]);\n        }\n        TimeSeriesCollection dataset = new TimeSeriesCollection(series);\n        // axes\n        NumberAxis rangeAxis = new NumberAxis(&quot;Value&quot;);\n        NumberFormat numberFormat = NumberFormat.getInstance();\n        numberFormat.setMinimumFractionDigits(2);\n        numberFormat.setMaximumFractionDigits(2);\n        rangeAxis.setNumberFormatOverride(numberFormat);\n        rangeAxis.setLowerMargin(0.08); // 8% lower margin\n        rangeAxis.setAutoRangeIncludesZero(false);\n        DateAxis domainAxis = new DateAxis(&quot;Date&quot;);\n        domainAxis.setDateFormatOverride(outFormat);\n        domainAxis.setVerticalTickLabels(true);\n        // renderer, plot, chart\n        XYSplineRenderer r = new XYSplineRenderer(15);\n        XYPlot xyplot = new XYPlot(dataset, domainAxis, rangeAxis, r);\n        JFreeChart chart = new JFreeChart(null, xyplot);\n        StandardChartTheme theme = new StandardChartTheme(&quot;Custom&quot;);\n        theme.setPlotBackgroundPaint(Color.WHITE);\n        theme.setDomainGridlinePaint(Color.LIGHT_GRAY);\n        theme.setRangeGridlinePaint(Color.LIGHT_GRAY);\n        theme.apply(chart);\n        r.setSeriesPaint(0, new Color(255, 152, 0));\n        r.setSeriesStroke(0, new BasicStroke(2.0f));\n        // display\n        Scene scene = new Scene(new ChartViewer(chart));\n        stage.setTitle(&quot;SplineTest&quot;);\n        stage.setScene(scene);\n        stage.setWidth(600);\n        stage.setHeight(400);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675898535,"creation_date":1637523926,"question_id":70058015,"body_markdown":"When using [tag:jfreechart-fx] to render a time series chart with vertical tick labels, the labels unexpectedly overlap the domain axis and sometimes change on resize. I can&#39;t reproduce this with Swing or pure Java2D, shown [here][1]. I&#39;d welcome any guidance.\r\n\r\n[![image][2]][2]\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.text.NumberFormat;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.fx.ChartViewer;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYSplineRenderer;\r\nimport org.jfree.data.time.Day;\r\nimport org.jfree.data.time.TimeSeries;\r\nimport org.jfree.data.time.TimeSeriesCollection;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/70021577/230513\r\n */\r\npublic class SplineTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws ParseException {\r\n        SimpleDateFormat inFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        // data\r\n        double[] values = new double[]{0.67, 0.67, 0.69, 0.70, 0.70, 0.71, 0.71};\r\n        String[] dates = new String[]{&quot;2021-11-09&quot;, &quot;2021-11-10&quot;, &quot;2021-11-11&quot;,\r\n            &quot;2021-11-12&quot;, &quot;2021-11-15&quot;, &quot;2021-11-16&quot;, &quot;2021-11-17&quot;};\r\n        TimeSeries series = new TimeSeries(&quot;Time Series&quot;);\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            Date date = inFormat.parse(dates[i]);\r\n            series.add(new Day(date), values[i]);\r\n        }\r\n        TimeSeriesCollection dataset = new TimeSeriesCollection(series);\r\n        // axes\r\n        NumberAxis rangeAxis = new NumberAxis(&quot;Value&quot;);\r\n        NumberFormat numberFormat = NumberFormat.getInstance();\r\n        numberFormat.setMinimumFractionDigits(2);\r\n        numberFormat.setMaximumFractionDigits(2);\r\n        rangeAxis.setNumberFormatOverride(numberFormat);\r\n        rangeAxis.setLowerMargin(0.08); // 8% lower margin\r\n        rangeAxis.setAutoRangeIncludesZero(false);\r\n        DateAxis domainAxis = new DateAxis(&quot;Date&quot;);\r\n        domainAxis.setDateFormatOverride(outFormat);\r\n        domainAxis.setVerticalTickLabels(true);\r\n        // renderer, plot, chart\r\n        XYSplineRenderer r = new XYSplineRenderer(15);\r\n        XYPlot xyplot = new XYPlot(dataset, domainAxis, rangeAxis, r);\r\n        JFreeChart chart = new JFreeChart(null, xyplot);\r\n        r.setSeriesPaint(0, new Color(255, 152, 0));\r\n        r.setSeriesStroke(0, new BasicStroke(2.0f));\r\n        // display\r\n        Scene scene = new Scene(new ChartViewer(chart));\r\n        stage.setTitle(&quot;SplineTest&quot;);\r\n        stage.setScene(scene);\r\n        stage.setWidth(600);\r\n        stage.setHeight(400);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/70042263/230513\r\n  [2]: https://i.stack.imgur.com/49MVM.png","title":"JFreeChart-FX time series vertical tick labels overlap","body":"<p>When using <a href=\"/questions/tagged/jfreechart-fx\" class=\"post-tag\" title=\"show questions tagged &#39;jfreechart-fx&#39;\" rel=\"tag\">jfreechart-fx</a> to render a time series chart with vertical tick labels, the labels unexpectedly overlap the domain axis and sometimes change on resize. I can't reproduce this with Swing or pure Java2D, shown <a href=\"https://stackoverflow.com/a/70042263/230513\">here</a>. I'd welcome any guidance.</p>\n<p><a href=\"https://i.stack.imgur.com/49MVM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/49MVM.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.fx.ChartViewer;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYSplineRenderer;\nimport org.jfree.data.time.Day;\nimport org.jfree.data.time.TimeSeries;\nimport org.jfree.data.time.TimeSeriesCollection;\n\n/**\n * @see https://stackoverflow.com/q/70021577/230513\n */\npublic class SplineTest extends Application {\n\n    @Override\n    public void start(Stage stage) throws ParseException {\n        SimpleDateFormat inFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n        // data\n        double[] values = new double[]{0.67, 0.67, 0.69, 0.70, 0.70, 0.71, 0.71};\n        String[] dates = new String[]{&quot;2021-11-09&quot;, &quot;2021-11-10&quot;, &quot;2021-11-11&quot;,\n            &quot;2021-11-12&quot;, &quot;2021-11-15&quot;, &quot;2021-11-16&quot;, &quot;2021-11-17&quot;};\n        TimeSeries series = new TimeSeries(&quot;Time Series&quot;);\n        for (int i = 0; i &lt; values.length; i++) {\n            Date date = inFormat.parse(dates[i]);\n            series.add(new Day(date), values[i]);\n        }\n        TimeSeriesCollection dataset = new TimeSeriesCollection(series);\n        // axes\n        NumberAxis rangeAxis = new NumberAxis(&quot;Value&quot;);\n        NumberFormat numberFormat = NumberFormat.getInstance();\n        numberFormat.setMinimumFractionDigits(2);\n        numberFormat.setMaximumFractionDigits(2);\n        rangeAxis.setNumberFormatOverride(numberFormat);\n        rangeAxis.setLowerMargin(0.08); // 8% lower margin\n        rangeAxis.setAutoRangeIncludesZero(false);\n        DateAxis domainAxis = new DateAxis(&quot;Date&quot;);\n        domainAxis.setDateFormatOverride(outFormat);\n        domainAxis.setVerticalTickLabels(true);\n        // renderer, plot, chart\n        XYSplineRenderer r = new XYSplineRenderer(15);\n        XYPlot xyplot = new XYPlot(dataset, domainAxis, rangeAxis, r);\n        JFreeChart chart = new JFreeChart(null, xyplot);\n        r.setSeriesPaint(0, new Color(255, 152, 0));\n        r.setSeriesStroke(0, new BasicStroke(2.0f));\n        // display\n        Scene scene = new Scene(new ChartViewer(chart));\n        stage.setTitle(&quot;SplineTest&quot;);\n        stage.setScene(scene);\n        stage.setWidth(600);\n        stage.setHeight(400);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1675932387,"post_id":75392672,"comment_id":133035052,"body_markdown":"Since you tagged your answer with [android], have you considered reading the Android JNI implementation? It is surprisingly readable.","body":"Since you tagged your answer with [android], have you considered reading the Android JNI implementation? It is surprisingly readable."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1675949088,"post_id":75392672,"comment_id":133040118,"body_markdown":"The most likely cause is an error in your earlier native code - most likely it&#39;s either a missed exception (you *are* checking *every* return value from *every* JNI call in your native code to the JVM for errors *and* checking for pending exceptions from *every* JNI call in your native code to the JVM that can throw an exception, aren&#39;t you?) or you did something like pass a JVM object from one JNI invocation to another by caching it in your native code.  But without a complete example, there&#39;s no way for anyone else to know.","body":"The most likely cause is an error in your earlier native code - most likely it&#39;s either a missed exception (you <i>are</i> checking <i>every</i> return value from <i>every</i> JNI call in your native code to the JVM for errors <i>and</i> checking for pending exceptions from <i>every</i> JNI call in your native code to the JVM that can throw an exception, aren&#39;t you?) or you did something like pass a JVM object from one JNI invocation to another by caching it in your native code.  But without a complete example, there&#39;s no way for anyone else to know."}],"owner":{"account_id":27739339,"reputation":1,"user_id":21176151,"display_name":"Anne Yu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675898437,"creation_date":1675898437,"question_id":75392672,"body_markdown":"`jintArray result = env-&gt;NewIntArray(count); `\r\n\r\n`env-&gt;SetIntArrayRegion(result, 0, count, names);`\r\n\r\nWe have this implementation in our code, but sometimes SetIntArrayRegion will having error as &quot;JNI DETECTED ERROR IN APPLICATION: java_array == null&quot;, wondering under what circumstances NewIntArray would return NULL?\r\n\r\nWe tried following:\r\n\r\n- NewIntArray(0)\r\n- NewIntArray(something big)\r\n- env = NULL\r\n\r\nAll give different messages, cannot repo the original error","title":"under what circumstances NewIntArray would return NULL?","body":"<p><code>jintArray result = env-&gt;NewIntArray(count); </code></p>\n<p><code>env-&gt;SetIntArrayRegion(result, 0, count, names);</code></p>\n<p>We have this implementation in our code, but sometimes SetIntArrayRegion will having error as &quot;JNI DETECTED ERROR IN APPLICATION: java_array == null&quot;, wondering under what circumstances NewIntArray would return NULL?</p>\n<p>We tried following:</p>\n<ul>\n<li>NewIntArray(0)</li>\n<li>NewIntArray(something big)</li>\n<li>env = NULL</li>\n</ul>\n<p>All give different messages, cannot repo the original error</p>\n"},{"tags":["java","svg","jfreechart"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1675760194,"post_id":75370925,"comment_id":132992842,"body_markdown":"Does this answer your question? [Create stylish charts in Java eg with JFreeChart](https://stackoverflow.com/questions/8264818/create-stylish-charts-in-java-eg-with-jfreechart)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8264818/create-stylish-charts-in-java-eg-with-jfreechart\">Create stylish charts in Java eg with JFreeChart</a>"},{"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"score":0,"creation_date":1675760561,"post_id":75370925,"comment_id":132992970,"body_markdown":"No, I want to set the &quot;svg&quot; tag value, not the settings of the rendered svg file.","body":"No, I want to set the &quot;svg&quot; tag value, not the settings of the rendered svg file."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675772455,"post_id":75370925,"comment_id":132996727,"body_markdown":"If you are using [`jfreesvg`](https://github.com/jfree/jfreesvg), is there anything helpful in the demos cited there?","body":"If you are using <a href=\"https://github.com/jfree/jfreesvg\" rel=\"nofollow noreferrer\"><code>jfreesvg</code></a>, is there anything helpful in the demos cited there?"},{"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"score":0,"creation_date":1675843788,"post_id":75370925,"comment_id":133012964,"body_markdown":"I used CanvasSize in JFree and this solved the problem. Close.","body":"I used CanvasSize in JFree and this solved the problem. Close."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1675897677,"post_id":75370925,"comment_id":133029411,"body_markdown":"Glad you got it sorted; for reference, you can [answer your own question](http://meta.stackoverflow.com/q/17463/163188).","body":"Glad you got it sorted; for reference, you can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>."}],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675897638,"creation_date":1675760000,"question_id":75370925,"body_markdown":"I need to set the height and width of the svg file generated by JFreeChart. It is caused by I&#39;m using svg to my html page (after all its pdf), and when I don&#39;t set any styles the image rendered in half.\r\n\r\n    DOMImplementation mySVGDOM= GenericDOMImplementation.getDOMImplementation();\r\n    /* create Document object */\r\n    Document document = mySVGDOM.createDocument(null, &quot;svg&quot;, null);\r\n    document.createAttribute(&quot;width&quot;);\r\n    document.getDocumentElement().setAttribute(&quot;width&quot;, &quot;1200px&quot;);\r\n    /* Create SVG Generator */\r\n    SVGGraphics2D my_svg_generator = new SVGGraphics2D(document);\r\n    /* Render chart as SVG 2D Graphics object */\r\n    chart.draw(my_svg_generator, new Rectangle2D.Double(0,0,1200,480));\r\n    /* Write output to file */\r\n\r\n    my_svg_generator.stream(&quot;output_pie_chart.svg&quot;);\r\n    return IOUtils.readUtf(new File(&quot;output_pie_chart.svg&quot;));\r\n\r\nThe final result:\r\n\r\n    &lt;svg width=&quot;1200px&quot; height=&quot;1200px&quot; fill-opacity=&quot;1&quot; ...\r\n\r\nThis is currently:\r\n\r\n  &lt;svg fill-opacity=&quot;1&quot; ...\r\n\r\nI would like to add width and height.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DzmkA.png\r\n\r\n\r\n","title":"How to set viewBox in JFreeChart svg file?","body":"<p>I need to set the height and width of the svg file generated by JFreeChart. It is caused by I'm using svg to my html page (after all its pdf), and when I don't set any styles the image rendered in half.</p>\n<pre><code>DOMImplementation mySVGDOM= GenericDOMImplementation.getDOMImplementation();\n/* create Document object */\nDocument document = mySVGDOM.createDocument(null, &quot;svg&quot;, null);\ndocument.createAttribute(&quot;width&quot;);\ndocument.getDocumentElement().setAttribute(&quot;width&quot;, &quot;1200px&quot;);\n/* Create SVG Generator */\nSVGGraphics2D my_svg_generator = new SVGGraphics2D(document);\n/* Render chart as SVG 2D Graphics object */\nchart.draw(my_svg_generator, new Rectangle2D.Double(0,0,1200,480));\n/* Write output to file */\n\nmy_svg_generator.stream(&quot;output_pie_chart.svg&quot;);\nreturn IOUtils.readUtf(new File(&quot;output_pie_chart.svg&quot;));\n</code></pre>\n<p>The final result:</p>\n<pre><code>&lt;svg width=&quot;1200px&quot; height=&quot;1200px&quot; fill-opacity=&quot;1&quot; ...\n</code></pre>\n<p>This is currently:</p>\n<p>&lt;svg fill-opacity=&quot;1&quot; ...</p>\n<p>I would like to add width and height.</p>\n<p><a href=\"https://i.stack.imgur.com/DzmkA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzmkA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","list","data-structures","set"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675894317,"post_id":75392089,"comment_id":133028768,"body_markdown":"Presumably, when you say &quot;edit strings&quot;, you mean replace strings in the insertion order?","body":"Presumably, when you say &quot;edit strings&quot;, you mean replace strings in the insertion order?"},{"owner":{"account_id":26684645,"reputation":43,"user_id":20294140,"display_name":"Jack Bogart"},"score":0,"creation_date":1675895387,"post_id":75392089,"comment_id":133029025,"body_markdown":"@DawoodibnKareem Yes exactly, I&#39;m not sure if there&#39;s really a data structure that can do all 3, feels like I would need a list linkedhashset","body":"@DawoodibnKareem Yes exactly, I&#39;m not sure if there&#39;s really a data structure that can do all 3, feels like I would need a list linkedhashset"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1675895427,"post_id":75392089,"comment_id":133029036,"body_markdown":"You might consider writing your own class. Perhaps it could have an array list, and check for duplicates using a hash set. But, I wonder if there could be an [XY Problem](https://en.wikipedia.org/wiki/XY_problem) here.","body":"You might consider writing your own class. Perhaps it could have an array list, and check for duplicates using a hash set. But, I wonder if there could be an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a> here."},{"owner":{"account_id":26684645,"reputation":43,"user_id":20294140,"display_name":"Jack Bogart"},"score":1,"creation_date":1675896056,"post_id":75392089,"comment_id":133029159,"body_markdown":"@OldDogProgrammer I think you&#39;re right, never heard of an &quot;XY Problem&quot; as I am relatively new to coding for clients. I think I&#39;ll reach out to see what he wants to achieve. Thank you.","body":"@OldDogProgrammer I think you&#39;re right, never heard of an &quot;XY Problem&quot; as I am relatively new to coding for clients. I think I&#39;ll reach out to see what he wants to achieve. Thank you."}],"owner":{"account_id":26684645,"reputation":43,"user_id":20294140,"display_name":"Jack Bogart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675897504,"creation_date":1675892997,"question_id":75392089,"body_markdown":"I&#39;m trying to implement a data structure that takes unique strings and stores them. I have to be able to delete and edit said strings.\r\n\r\nI was originally thinking of using an Arraylist but the problem is every string has to be unique, so every single time a new string is added I would have to iterate through the list to check if it exists.\r\n\r\nI then looked at LinkedHashSet which would make all item unique as no duplicates are allowed and it maintains insertion order, but it doesn&#39;t allow random access to edit strings. I could remove said strings and add the new edited string but that would change the order.\r\n\r\nWith the requirements I have, what data structure would be the best to implement in java?","title":"What data structure maintains insertion order, allows random access, and doesn&#39;t allow duplicates?","body":"<p>I'm trying to implement a data structure that takes unique strings and stores them. I have to be able to delete and edit said strings.</p>\n<p>I was originally thinking of using an Arraylist but the problem is every string has to be unique, so every single time a new string is added I would have to iterate through the list to check if it exists.</p>\n<p>I then looked at LinkedHashSet which would make all item unique as no duplicates are allowed and it maintains insertion order, but it doesn't allow random access to edit strings. I could remove said strings and add the new edited string but that would change the order.</p>\n<p>With the requirements I have, what data structure would be the best to implement in java?</p>\n"},{"tags":["java","spring-boot","feign","openfeign"],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675897339,"creation_date":1675897339,"question_id":75392564,"body_markdown":"I&#39;m trying to send a POST request with dynamic authorization header and form-urlencoded body but I&#39;m getting this exception:\r\n\r\n&gt;Caused by: java.lang.IllegalStateException: Method has too many Body parameters: public abstract perosnal.matcher.model.TokenDto perosnal.matcher.client.SpotifyAuthorizationClient.getToken(java.lang.String,perosnal.matcher.client.TokenRequestDto)\r\n\r\nMy client:\r\n```java\r\n@FeignClient(name = &quot;Spotify-Authorization-API&quot;, url = &quot;https://accounts.spotify.com&quot;)\r\npublic interface SpotifyAuthorizationClient {\r\n\r\n    @RequestMapping(method = POST, value = &quot;/api/token&quot;, produces = &quot;application/x-www-form-urlencoded&quot;)\r\n    @Headers(&quot;Authorization: {authorization}&quot;)\r\n    TokenDto getToken(@Param(&quot;authorization&quot;) String authorization,\r\n                      TokenRequestDto tokenRequestDto\r\n    );\r\n\r\n}\r\n```","title":"OpenFeign POST request with dynamic header and x-www-form-urlencoded body","body":"<p>I'm trying to send a POST request with dynamic authorization header and form-urlencoded body but I'm getting this exception:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Method has too many Body parameters: public abstract perosnal.matcher.model.TokenDto perosnal.matcher.client.SpotifyAuthorizationClient.getToken(java.lang.String,perosnal.matcher.client.TokenRequestDto)</p>\n</blockquote>\n<p>My client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;Spotify-Authorization-API&quot;, url = &quot;https://accounts.spotify.com&quot;)\npublic interface SpotifyAuthorizationClient {\n\n    @RequestMapping(method = POST, value = &quot;/api/token&quot;, produces = &quot;application/x-www-form-urlencoded&quot;)\n    @Headers(&quot;Authorization: {authorization}&quot;)\n    TokenDto getToken(@Param(&quot;authorization&quot;) String authorization,\n                      TokenRequestDto tokenRequestDto\n    );\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kubernetes","gradle"],"comments":[{"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1675910691,"post_id":75392541,"comment_id":133031284,"body_markdown":"Well, since you didn&#39;t paste your `kubectl run` no one can guess, but my theory is that `value = &quot;-Dspring.profiles.active=${var.environment} &quot;` is causing different behavior than the profiles that are active during your `kubectl run`","body":"Well, since you didn&#39;t paste your <code>kubectl run</code> no one can guess, but my theory is that <code>value = &quot;-Dspring.profiles.active=${var.environment} &quot;</code> is causing different behavior than the profiles that are active during your <code>kubectl run</code>"}],"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675897053,"creation_date":1675897053,"question_id":75392541,"body_markdown":"I have a spring image that is failing to bind the port correctly, I can see from the logs that the states for the readiness and liveness endpoints are ok.\r\n```\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.448Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state LivenessState changed to CORRECT&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674280192537}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.451Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.devtools.restart.Restarter&quot;,&quot;message&quot;:&quot;Creating new Restarter for thread Thread[main,5,main]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674282973006}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.454Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state ReadinessState changed to ACCEPTING_TRAFFIC&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674286139388}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.496Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter&quot;,&quot;message&quot;:&quot;Filter &#39;requestContextFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674328227052}\r\n```\r\nbut kubernetes can&#39;t reach those endpoints\r\n```yaml\r\nPort:           8080/TCP\r\n    Host Port:      0/TCP\r\n    State:          Running\r\n      Started:      Tue, 07 Feb 2023 01:23:27 -0600\r\n    Ready:          False\r\n    Restart Count:  0\r\n    Liveness:       http-get http://:8080/actuator/health/liveness delay=60s timeout=1s period=30s #success=1 #failure=3\r\n    Readiness:      http-get http://:8080/actuator/health/readiness delay=60s timeout=1s period=10s #success=1 #failure=3\r\n...\r\nEvents:\r\n  Type     Reason     Age                From               Message\r\n  ----     ------     ----               ----               -------\r\n  Normal   Scheduled  2m30s              default-scheduler  Successfully assigned podname to ip-10-8-x-x.ap-northeast-1.compute.internal\r\n  Normal   Pulled     2m29s              kubelet            Container image &quot;registry.gitlab.com/integration-image&quot; already present on machine\r\n  Normal   Created    2m29s              kubelet            Created container ui-backend\r\n  Normal   Started    2m29s              kubelet            Started container ui-backend\r\n  Warning  Unhealthy  30s (x2 over 60s)  kubelet            Liveness probe failed: HTTP probe failed with statuscode: 404\r\n  Warning  Unhealthy  10s (x8 over 80s)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 404\r\n```\r\n\r\nIf i curl from inside the pod I get the same result. `curl localhost:8080/actuator/health/liveness`\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWeird thing is that if I run the same image with `kubectl run` the application starts and I get `{&quot;status&quot;:&quot;UP&quot;}` from the liveness and readiness endpoints.\r\n\r\nThis is my deployment configuration\r\n```yaml\r\nresource &quot;kubernetes_deployment&quot; &quot;ui_backend&quot; {\r\n  metadata {\r\n    name      = local.name\r\n    namespace = local.namespace\r\n    labels = {\r\n      &quot;app.kubernetes.io/name&quot;       = local.name\r\n      &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n    }\r\n  }\r\n\r\n  spec {\r\n    replicas = 1\r\n\r\n    selector {\r\n      match_labels = {\r\n        &quot;app.kubernetes.io/name&quot;       = local.name\r\n        &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n      }\r\n    }\r\n\r\n    template {\r\n      metadata {\r\n        labels = {\r\n          &quot;app.kubernetes.io/name&quot;       = local.name\r\n          &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n        }\r\n      }\r\n\r\n      spec {\r\n        service_account_name = local.name\r\n\r\n        image_pull_secrets {\r\n          name = &quot;gitlab-auth&quot;\r\n        }\r\n\r\n        container {\r\n          image = var.docker_image\r\n          name  = local.name\r\n          env {\r\n            name  = &quot;JAVA_OPTS&quot;\r\n            value = &quot;-Dspring.profiles.active=${var.environment} &quot;\r\n          }\r\n\r\n          port {\r\n            container_port = local.application_port\r\n          }\r\n\r\n          liveness_probe {\r\n            http_get {\r\n              path = &quot;/actuator/health/liveness&quot;\r\n              port = local.application_port\r\n            }\r\n\r\n            initial_delay_seconds = 60\r\n            period_seconds        = 30\r\n          }\r\n\r\n          readiness_probe {\r\n            http_get {\r\n              path = &quot;/actuator/health/readiness&quot;\r\n              port = local.application_port\r\n            }\r\n\r\n            initial_delay_seconds = 60\r\n            period_seconds        = 10\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhat could be happening? This behaviour started a week ago, before that it was working correctly and we didn&#39;t change anything from the deployment configuration. The image is built with gradle `bootBuildImage` and therefore the `buildpacks`.\r\n\r\nAny information will be appreciated.","title":"Spring image starting with kubectl run but not with deployment","body":"<p>I have a spring image that is failing to bind the port correctly, I can see from the logs that the states for the readiness and liveness endpoints are ok.</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.448Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state LivenessState changed to CORRECT&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674280192537}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.451Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.devtools.restart.Restarter&quot;,&quot;message&quot;:&quot;Creating new Restarter for thread Thread[main,5,main]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674282973006}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.454Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state ReadinessState changed to ACCEPTING_TRAFFIC&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674286139388}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.496Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter&quot;,&quot;message&quot;:&quot;Filter 'requestContextFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674328227052}\n</code></pre>\n<p>but kubernetes can't reach those endpoints</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Port:           8080/TCP\n    Host Port:      0/TCP\n    State:          Running\n      Started:      Tue, 07 Feb 2023 01:23:27 -0600\n    Ready:          False\n    Restart Count:  0\n    Liveness:       http-get http://:8080/actuator/health/liveness delay=60s timeout=1s period=30s #success=1 #failure=3\n    Readiness:      http-get http://:8080/actuator/health/readiness delay=60s timeout=1s period=10s #success=1 #failure=3\n...\nEvents:\n  Type     Reason     Age                From               Message\n  ----     ------     ----               ----               -------\n  Normal   Scheduled  2m30s              default-scheduler  Successfully assigned podname to ip-10-8-x-x.ap-northeast-1.compute.internal\n  Normal   Pulled     2m29s              kubelet            Container image &quot;registry.gitlab.com/integration-image&quot; already present on machine\n  Normal   Created    2m29s              kubelet            Created container ui-backend\n  Normal   Started    2m29s              kubelet            Started container ui-backend\n  Warning  Unhealthy  30s (x2 over 60s)  kubelet            Liveness probe failed: HTTP probe failed with statuscode: 404\n  Warning  Unhealthy  10s (x8 over 80s)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 404\n</code></pre>\n<p>If i curl from inside the pod I get the same result. <code>curl localhost:8080/actuator/health/liveness</code></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Weird thing is that if I run the same image with <code>kubectl run</code> the application starts and I get <code>{&quot;status&quot;:&quot;UP&quot;}</code> from the liveness and readiness endpoints.</p>\n<p>This is my deployment configuration</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>resource &quot;kubernetes_deployment&quot; &quot;ui_backend&quot; {\n  metadata {\n    name      = local.name\n    namespace = local.namespace\n    labels = {\n      &quot;app.kubernetes.io/name&quot;       = local.name\n      &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n    }\n  }\n\n  spec {\n    replicas = 1\n\n    selector {\n      match_labels = {\n        &quot;app.kubernetes.io/name&quot;       = local.name\n        &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n      }\n    }\n\n    template {\n      metadata {\n        labels = {\n          &quot;app.kubernetes.io/name&quot;       = local.name\n          &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n        }\n      }\n\n      spec {\n        service_account_name = local.name\n\n        image_pull_secrets {\n          name = &quot;gitlab-auth&quot;\n        }\n\n        container {\n          image = var.docker_image\n          name  = local.name\n          env {\n            name  = &quot;JAVA_OPTS&quot;\n            value = &quot;-Dspring.profiles.active=${var.environment} &quot;\n          }\n\n          port {\n            container_port = local.application_port\n          }\n\n          liveness_probe {\n            http_get {\n              path = &quot;/actuator/health/liveness&quot;\n              port = local.application_port\n            }\n\n            initial_delay_seconds = 60\n            period_seconds        = 30\n          }\n\n          readiness_probe {\n            http_get {\n              path = &quot;/actuator/health/readiness&quot;\n              port = local.application_port\n            }\n\n            initial_delay_seconds = 60\n            period_seconds        = 10\n          }\n\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What could be happening? This behaviour started a week ago, before that it was working correctly and we didn't change anything from the deployment configuration. The image is built with gradle <code>bootBuildImage</code> and therefore the <code>buildpacks</code>.</p>\n<p>Any information will be appreciated.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1445283344,"post_id":33222441,"comment_id":54249447,"body_markdown":"_&quot;I need the part of packaging with &quot;war&quot; but could not reach it&quot;_ -- what does this mean? `Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.EnvironmentCapable` sounds like you&#39;re missing part of the Spring framework.","body":"<i>&quot;I need the part of packaging with &quot;war&quot; but could not reach it&quot;</i> -- what does this mean? <code>Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.EnvironmentCapable</code> sounds like you&#39;re missing part of the Spring framework."},{"owner":{"account_id":4594011,"reputation":468,"user_id":3726610,"accept_rate":63,"display_name":"arnoldssss"},"score":0,"creation_date":1445283524,"post_id":33222441,"comment_id":54249550,"body_markdown":"Yeah I got that feeling too but don&#180;t know if its my configuration in the Initializer.class ... I will add it to  the post","body":"Yeah I got that feeling too but don&#180;t know if its my configuration in the Initializer.class ... I will add it to  the post"},{"owner":{"account_id":4594011,"reputation":468,"user_id":3726610,"accept_rate":63,"display_name":"arnoldssss"},"score":0,"creation_date":1445283618,"post_id":33222441,"comment_id":54249600,"body_markdown":"It means that I could deploy with .jar but not with .war ....","body":"It means that I could deploy with .jar but not with .war ...."}],"answers":[{"comments":[{"owner":{"account_id":4594011,"reputation":468,"user_id":3726610,"accept_rate":63,"display_name":"arnoldssss"},"score":0,"creation_date":1445284888,"post_id":33222787,"comment_id":54250314,"body_markdown":"ok... so now it marks.. [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.6:war (default-war) on project entuzona: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode) -&gt; [Help 1]\n[ERROR]","body":"ok... so now it marks.. [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.6:war (default-war) on project entuzona: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode) -&gt; [Help 1] [ERROR]"},{"owner":{"account_id":4594011,"reputation":468,"user_id":3726610,"accept_rate":63,"display_name":"arnoldssss"},"score":0,"creation_date":1445285351,"post_id":33222787,"comment_id":54250562,"body_markdown":"naa it was something mine. Thanks","body":"naa it was something mine. Thanks"}],"tags":[],"owner":{"account_id":2499427,"reputation":91,"user_id":2174974,"display_name":"user12142006"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1445284522,"creation_date":1445284522,"answer_id":33222787,"question_id":33222441,"body_markdown":"In your pom.xml, you are setting spring-core as optional, which could be causing exclusion of the spring-core from the war file.\r\nEither remove the optional from the spring-core dependency or copy this jar under tomcat/lib folder, so that its available to the application.\r\nHere is the maven link for the optional dependencies:\r\n\r\n[Maven Optional Dependencies][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","title":"How to solve &quot;Failed to instantiate WebApplicationInitializer class&quot;","body":"<p>In your pom.xml, you are setting spring-core as optional, which could be causing exclusion of the spring-core from the war file.\nEither remove the optional from the spring-core dependency or copy this jar under tomcat/lib folder, so that its available to the application.\nHere is the maven link for the optional dependencies:</p>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow\">Maven Optional Dependencies</a></p>\n"},{"tags":[],"owner":{"account_id":4468336,"reputation":498,"user_id":3775515,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532337848,"creation_date":1532337848,"answer_id":51475457,"question_id":33222441,"body_markdown":"In you pom.xml add commons-logging-1.1.3 dependency only, i faced same issue but after adding this jar it is working fine. ","title":"How to solve &quot;Failed to instantiate WebApplicationInitializer class&quot;","body":"<p>In you pom.xml add commons-logging-1.1.3 dependency only, i faced same issue but after adding this jar it is working fine. </p>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675896851,"creation_date":1675896851,"answer_id":75392513,"question_id":33222441,"body_markdown":"for other people that have this error, add this to maven, the version matters:\r\nversion 4.02 of jakarta didn&#39;t work for me while \r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"How to solve &quot;Failed to instantiate WebApplicationInitializer class&quot;","body":"<p>for other people that have this error, add this to maven, the version matters:\nversion 4.02 of jakarta didn't work for me while</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4594011,"reputation":468,"user_id":3726610,"accept_rate":63,"display_name":"arnoldssss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26567,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33222787,"answer_count":3,"score":3,"last_activity_date":1675896851,"creation_date":1445283256,"question_id":33222441,"body_markdown":"I have a CRUD spring application that does not run because of dependencies. I need the part of packaging with &quot;war&quot; but could not reach it.\r\n\r\nMy pom.xml is:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.sprhib&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;entuzona&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.2.RELEASE&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;hibernate.version&gt;4.2.0.Final&lt;/hibernate.version&gt;\r\n    \t\t&lt;mysql.connector.version&gt;5.1.21&lt;/mysql.connector.version&gt;\r\n    \t\t&lt;spring.version&gt;4.0.9.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;spring.security.version&gt;3.2.5.RELEASE&lt;/spring.security.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- Other --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- For accept headers --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;!-- Spring Security --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- DB related dependencies --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mysql.connector.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- SPRING --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- CGLIB is required to process @Configuration classes --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Servlet API and JSTL --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-milestone&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe issue in the log when I startup tomcat is: \r\n\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    oct 19, 2015 2:25:36 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Error during ServletContainerInitializer processing\r\n    javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n    \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:160)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5170)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\r\n        ...\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.EnvironmentCapable\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1333)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1167)\r\n    \t... 27 more\r\n\r\nWebAppConfig.java:\r\n\r\n    package com.sprhib.init;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.Resource;\r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.ImportResource;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.hibernate4.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate4.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.view.JstlView;\r\n    import org.springframework.web.servlet.view.UrlBasedViewResolver;\r\n    \r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(&quot;com.sprhib&quot;)\r\n    @EnableTransactionManagement\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class WebAppConfig {\r\n    \t\r\n        private static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\r\n    \t\r\n        private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = &quot;entitymanager.packages.to.scan&quot;;\r\n        \r\n    \t@Resource\r\n    \tprivate Environment env;\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\t\r\n    \t\tdataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\r\n    \t\tdataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\r\n    \t\tdataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\r\n    \t\tdataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\r\n    \t\t\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean sessionFactory() {\r\n    \t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n    \t\tsessionFactoryBean.setDataSource(dataSource());\r\n    \t\tsessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\r\n    \t\tsessionFactoryBean.setHibernateProperties(hibProperties());\r\n    \t\treturn sessionFactoryBean;\r\n    \t}\r\n    \t\r\n    \tprivate Properties hibProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\r\n    \t\treturn properties;\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager transactionManager() {\r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    \t\ttransactionManager.setSessionFactory(sessionFactory().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UrlBasedViewResolver setupViewResolver() {\r\n    \t\tUrlBasedViewResolver resolver = new UrlBasedViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setViewClass(JstlView.class);\r\n    \t\treturn resolver;\r\n    \t}\r\n    \r\n    }\r\n\r\nAny ideas?\r\n","title":"How to solve &quot;Failed to instantiate WebApplicationInitializer class&quot;","body":"<p>I have a CRUD spring application that does not run because of dependencies. I need the part of packaging with \"war\" but could not reach it.</p>\n\n<p>My pom.xml is:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.sprhib&lt;/groupId&gt;\n    &lt;artifactId&gt;entuzona&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.2.RELEASE&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;hibernate.version&gt;4.2.0.Final&lt;/hibernate.version&gt;\n        &lt;mysql.connector.version&gt;5.1.21&lt;/mysql.connector.version&gt;\n        &lt;spring.version&gt;4.0.9.RELEASE&lt;/spring.version&gt;\n        &lt;spring.security.version&gt;3.2.5.RELEASE&lt;/spring.security.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Other --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\n\n\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- For accept headers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Spring Security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${spring.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- DB related dependencies --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;${mysql.connector.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.12.1.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SPRING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- CGLIB is required to process @Configuration classes --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Servlet API and JSTL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-maven-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>The issue in the log when I startup tomcat is: </p>\n\n<pre><code>INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\noct 19, 2015 2:25:36 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error during ServletContainerInitializer processing\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:160)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5170)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\n    ...\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.EnvironmentCapable\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1333)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1167)\n    ... 27 more\n</code></pre>\n\n<p>WebAppConfig.java:</p>\n\n<pre><code>package com.sprhib.init;\n\nimport java.util.Properties;\n\nimport javax.annotation.Resource;\nimport javax.sql.DataSource;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.ImportResource;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate4.HibernateTransactionManager;\nimport org.springframework.orm.hibernate4.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.JstlView;\nimport org.springframework.web.servlet.view.UrlBasedViewResolver;\n\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(\"com.sprhib\")\n@EnableTransactionManagement\n@PropertySource(\"classpath:application.properties\")\npublic class WebAppConfig {\n\n    private static final String PROPERTY_NAME_DATABASE_DRIVER = \"db.driver\";\n    private static final String PROPERTY_NAME_DATABASE_PASSWORD = \"db.password\";\n    private static final String PROPERTY_NAME_DATABASE_URL = \"db.url\";\n    private static final String PROPERTY_NAME_DATABASE_USERNAME = \"db.username\";\n\n    private static final String PROPERTY_NAME_HIBERNATE_DIALECT = \"hibernate.dialect\";\n    private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = \"hibernate.show_sql\";\n    private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = \"entitymanager.packages.to.scan\";\n\n    @Resource\n    private Environment env;\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\n        dataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\n        dataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\n        dataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\n\n        return dataSource;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\n        sessionFactoryBean.setHibernateProperties(hibProperties());\n        return sessionFactoryBean;\n    }\n\n    private Properties hibProperties() {\n        Properties properties = new Properties();\n        properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\n        properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\n        return properties;  \n    }\n\n    @Bean\n    public HibernateTransactionManager transactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory().getObject());\n        return transactionManager;\n    }\n\n    @Bean\n    public UrlBasedViewResolver setupViewResolver() {\n        UrlBasedViewResolver resolver = new UrlBasedViewResolver();\n        resolver.setPrefix(\"/WEB-INF/pages/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setViewClass(JstlView.class);\n        return resolver;\n    }\n\n}\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","sql-server","hibernate","jpa","ddl"],"answers":[{"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":3,"creation_date":1367925203,"post_id":16414383,"comment_id":23539867,"body_markdown":"Other places in the project large texts were annotated with `@Lob`, which results in a `text` SQL-datatype. Will do the same..","body":"Other places in the project large texts were annotated with <code>@Lob</code>, which results in a <code>text</code> SQL-datatype. Will do the same.."}],"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509907603,"creation_date":1367914691,"answer_id":16414383,"question_id":16414215,"body_markdown":"Since `length` is defined in the JPA spec and javadocs as `int` type and `max` is not an `int` then it&#39;s safe to assume that you&#39;re consigned to the `columnDefinition` datastore-dependent route. But then `varchar(max)` is datastore-dependent anyway.","title":"JPA - How to set string column to varchar(max) in DDL","body":"<p>Since <code>length</code> is defined in the JPA spec and javadocs as <code>int</code> type and <code>max</code> is not an <code>int</code> then it's safe to assume that you're consigned to the <code>columnDefinition</code> datastore-dependent route. But then <code>varchar(max)</code> is datastore-dependent anyway.</p>\n"},{"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1533056593,"post_id":22051198,"comment_id":90202735,"body_markdown":"Providing a custom SQLServerDialect that maps a text lob to varchar(max) might also do the trick, haven&#39;t tried though.","body":"Providing a custom SQLServerDialect that maps a text lob to varchar(max) might also do the trick, haven&#39;t tried though."}],"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"comment_count":1,"down_vote_count":1,"up_vote_count":120,"is_accepted":true,"score":119,"last_activity_date":1509907464,"creation_date":1393442648,"answer_id":22051198,"question_id":16414215,"body_markdown":"Some months have passed, new knowledge acquired, so I&#39;ll answer my own question:\r\n\r\n    @Lob\r\n    @Column\r\n    final String someString;\r\n\r\nyields the most correct result. With the version of `hbm2ddl` I&#39;m using, this will be transformed to the type `text` with `SqlServerDialect`. Since [`varchar(max)` is the replacement for `text`][1] in newer versions of [SQL Server][2], hopefully, newer versions of `hbm2ddl` will yield `varchar(max)` instead of `text` for this type of mapping (I&#39;m stuck at a quite dated version of Hibernate at the moment..)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/834863/1429387\r\n  [2]: https://en.wikipedia.org/wiki/Microsoft_SQL_Server","title":"JPA - How to set string column to varchar(max) in DDL","body":"<p>Some months have passed, new knowledge acquired, so I'll answer my own question:</p>\n\n<pre><code>@Lob\n@Column\nfinal String someString;\n</code></pre>\n\n<p>yields the most correct result. With the version of <code>hbm2ddl</code> I'm using, this will be transformed to the type <code>text</code> with <code>SqlServerDialect</code>. Since <a href=\"https://stackoverflow.com/a/834863/1429387\"><code>varchar(max)</code> is the replacement for <code>text</code></a> in newer versions of <a href=\"https://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"noreferrer\">SQL Server</a>, hopefully, newer versions of <code>hbm2ddl</code> will yield <code>varchar(max)</code> instead of <code>text</code> for this type of mapping (I'm stuck at a quite dated version of Hibernate at the moment..)</p>\n"},{"comments":[{"owner":{"account_id":3856231,"reputation":345,"user_id":3195091,"display_name":"eprats"},"score":0,"creation_date":1548862420,"post_id":33234383,"comment_id":95697479,"body_markdown":"@aycanadal, just in case you did not find the answer, check: https://stackoverflow.com/questions/34588354/difference-between-size-length-and-columnlength-value-when-using-jpa-and-h/34589474#34589474","body":"@aycanadal, just in case you did not find the answer, check: <a href=\"https://stackoverflow.com/questions/34588354/difference-between-size-length-and-columnlength-value-when-using-jpa-and-h/34589474#34589474\" title=\"difference between size length and columnlength value when using jpa and h\">stackoverflow.com/questions/34588354/&hellip;</a>"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1551906368,"post_id":33234383,"comment_id":96816845,"body_markdown":"I did not downvote, but I know why.  https://learn.microsoft.com/en-us/sql/t-sql/data-types/char-and-varchar-transact-sql?view=sql-server-2017   varchar(max) .. &quot;max&quot; is not a placeholder for a number (where you have 1337)  .. varchar(max) (no substitutions) is a datatype in sql server.","body":"I did not downvote, but I know why.  <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/char-and-varchar-transact-sql?view=sql-server-2017\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/t-sql/data-types/&hellip;</a>   varchar(max) .. &quot;max&quot; is not a placeholder for a number (where you have 1337)  .. varchar(max) (no substitutions) is a datatype in sql server."}],"tags":[],"owner":{"account_id":7153422,"reputation":29,"user_id":5466704,"display_name":"Anudeep Sharma"},"comment_count":2,"down_vote_count":9,"up_vote_count":4,"is_accepted":false,"score":-5,"last_activity_date":1445338356,"creation_date":1445337375,"answer_id":33234383,"question_id":16414215,"body_markdown":"Use `@Size(max = 1337)`. It does generate `varchar(1337)`","title":"JPA - How to set string column to varchar(max) in DDL","body":"<p>Use <code>@Size(max = 1337)</code>. It does generate <code>varchar(1337)</code></p>\n"},{"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":2,"creation_date":1556448409,"post_id":55888693,"comment_id":98436006,"body_markdown":"You are not answering the question, just repeating parts of it.","body":"You are not answering the question, just repeating parts of it."}],"tags":[],"owner":{"account_id":1108560,"reputation":73,"user_id":9144844,"display_name":"cm_mehdi"},"comment_count":1,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1556442385,"creation_date":1556442385,"answer_id":55888693,"question_id":16414215,"body_markdown":"You Can Use this Code -\r\n    \r\nModel Code:\r\n\r\n    @NotNull  \r\n    @Length(max = 7)  \r\n    @Column(name = &quot;Gender&quot;)  \r\n    private String gender;\r\n    \r\nSQL Output is like- \r\n    \r\n    &gt; gender varchar(7)","title":"JPA - How to set string column to varchar(max) in DDL","body":"<p>You Can Use this Code -</p>\n\n<p>Model Code:</p>\n\n<pre><code>@NotNull  \n@Length(max = 7)  \n@Column(name = \"Gender\")  \nprivate String gender;\n</code></pre>\n\n<p>SQL Output is like- </p>\n\n<pre><code>&gt; gender varchar(7)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":1,"creation_date":1616755846,"post_id":66813525,"comment_id":118108298,"body_markdown":"This does not provide any improvement to existing answers, it has both @Lob and columnDefinition that does the same, and the use of columnDefinition unnecessarily breaks portability.","body":"This does not provide any improvement to existing answers, it has both @Lob and columnDefinition that does the same, and the use of columnDefinition unnecessarily breaks portability."}],"tags":[],"owner":{"account_id":10131509,"reputation":1,"user_id":7484734,"display_name":"Kagiso Shibambo"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1616869518,"creation_date":1616748005,"answer_id":66813525,"question_id":16414215,"body_markdown":"Hi the below code fixed the same issue \r\n```\r\n@Column(columnDefinition=&quot;TEXT&quot;)\r\n\r\n@Lob\r\n\r\nfinal String someString;\r\n```","title":"JPA - How to set string column to varchar(max) in DDL","body":"<p>Hi the below code fixed the same issue</p>\n<pre><code>@Column(columnDefinition=&quot;TEXT&quot;)\n\n@Lob\n\nfinal String someString;\n</code></pre>\n"}],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94974,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":22051198,"answer_count":5,"score":61,"last_activity_date":1675895745,"creation_date":1367914118,"question_id":16414215,"body_markdown":"With [JPA][1], DDL-generation for the attribute:\r\n\r\n    @Column\r\n    final String someString;\r\n\r\nwill be `someString varchar(255) null`\r\n    \r\n    @Column(length = 1337)\r\n    final String someString;\r\n\r\nwill yield `someString varchar(1337) null`.\r\n\r\nBut how can I get it to produce `someString varchar(max) null`?\r\n\r\nIs it possible using the `length`-attribute, or do I need to use the `columnDefinition`-attribute? \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2560125/1429387","title":"JPA - How to set string column to varchar(max) in DDL","body":"<p>With <a href=\"https://stackoverflow.com/q/2560125/1429387\">JPA</a>, DDL-generation for the attribute:</p>\n\n<pre><code>@Column\nfinal String someString;\n</code></pre>\n\n<p>will be <code>someString varchar(255) null</code></p>\n\n<pre><code>@Column(length = 1337)\nfinal String someString;\n</code></pre>\n\n<p>will yield <code>someString varchar(1337) null</code>.</p>\n\n<p>But how can I get it to produce <code>someString varchar(max) null</code>?</p>\n\n<p>Is it possible using the <code>length</code>-attribute, or do I need to use the <code>columnDefinition</code>-attribute? </p>\n"},{"tags":["java","multi-tenant","converters"],"comments":[{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1524910782,"post_id":50068806,"comment_id":87167058,"body_markdown":"Than make the I&#39;d unique by adding a tennant prefix to it when you put it in the map. This is all effectively not a JSF issue but a generic  &#39;problem&#39; in java as well...","body":"Than make the I&#39;d unique by adding a tennant prefix to it when you put it in the map. This is all effectively not a JSF issue but a generic  &#39;problem&#39; in java as well..."},{"owner":{"account_id":12925975,"reputation":1,"user_id":9346695,"display_name":"rek illme"},"score":0,"creation_date":1524966746,"post_id":50068806,"comment_id":87181225,"body_markdown":"Yes you absolutly right. and that what I did !","body":"Yes you absolutly right. and that what I did !"}],"owner":{"account_id":12925975,"reputation":1,"user_id":9346695,"display_name":"rek illme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675895224,"creation_date":1524855899,"question_id":50068806,"body_markdown":"I&#39;ve got a problem with my custom converter. \r\n\r\n    @FacesConverter(value = &quot;converterObjet&quot;)\r\n    public class ConverterObjet implements Converter {\r\n    \r\n        private static Map&lt;Object, String&gt; listObjet = new WeakHashMap&lt;Object, String&gt;();\r\n    \r\n        @Override\r\n        public String getAsString(FacesContext context, UIComponent component, Object entity) {\r\n            synchronized (listObjet) {\r\n                if (!listObjet.containsKey(entity)) {\r\n                    String uuid = UUID.randomUUID().toString();\r\n                    listObjet.put(entity, uuid);\r\n                    return uuid;\r\n                } else {\r\n                    return listObjet.get(entity);\r\n                }\r\n            }\r\n        }\r\n        @Override\r\n        public Object getAsObject(FacesContext context, UIComponent component, String uuid) {\r\n            for (Entry&lt;Object, String&gt; entry : listObjet.entrySet()) {\r\n                if (entry.getValue().equals(uuid)) {\r\n                \treturn entry.getKey();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\nthe problem is the static Map. \r\n\r\nas I use a schema per tenant \r\n\r\n    @Entity\r\n   @Multitenant(MultitenantType.TABLE_PER_TENANT)\r\n    @TenantTableDiscriminator(type=TenantTableDiscriminatorType.SCHEMA, contextProperty=&quot;tenant-id&quot;)\r\n    public class Contry implements Serializable {\r\n\r\nthe hashCode() is the same for all tenant countries which have the same id \r\n\r\n    @Override\r\n    \tpublic int hashCode() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tfinal int prime = 31;\r\n    \t\tint hash = 17;\r\n    \t\thash = hash * prime+ this.idpays.hashCode();\r\n    \t\treturn hash;\r\n    \t}\r\n\r\nI  use the converter in my XHTML pages like this:\r\n\r\n    &lt;p:selectOneMenu widgetVar=&quot;wvCtrcdt&quot; id=&quot;contry&quot;\r\n\t\theight=&quot;150&quot; value=&quot;#{candidatView.contryChoosen}&quot;\r\n\t\tconverter=&quot;converterObjet&quot; filter=&quot;true&quot;&gt;\r\n\t\t&lt;f:selectItem itemLabel=&quot;#{text[&#39;chxInit&#39;]}&quot; itemValue=&quot;&quot;&gt;&lt;/f:selectItem&gt;\r\n\t\t&lt;f:selectItems value=&quot;#{contryView.listcontry}&quot; var=&quot;contry&quot;\r\n\t\t\titemLabel=&quot;#{contry.contryname}&quot; itemValue=&quot;#{contry}&quot;&gt;&lt;/f:selectItems&gt;\r\n\t\t&lt;p:ajax update=&quot;PoBirth&quot; /&gt;\r\n\t&lt;/p:selectOneMenu&gt;\r\n\r\nthe contryChoosen returned by the converter is not from the current tenant because it considered as already exist in the map as it has the same id of the country of the first tenant.\r\nthe question is how can I custom my converter, so it can differentiate tenant country, even if they has the same id?","title":"javax.faces.convert.Converter in a multitenacy environment","body":"<p>I've got a problem with my custom converter.</p>\n<pre><code>@FacesConverter(value = &quot;converterObjet&quot;)\npublic class ConverterObjet implements Converter {\n\n    private static Map&lt;Object, String&gt; listObjet = new WeakHashMap&lt;Object, String&gt;();\n\n    @Override\n    public String getAsString(FacesContext context, UIComponent component, Object entity) {\n        synchronized (listObjet) {\n            if (!listObjet.containsKey(entity)) {\n                String uuid = UUID.randomUUID().toString();\n                listObjet.put(entity, uuid);\n                return uuid;\n            } else {\n                return listObjet.get(entity);\n            }\n        }\n    }\n    @Override\n    public Object getAsObject(FacesContext context, UIComponent component, String uuid) {\n        for (Entry&lt;Object, String&gt; entry : listObjet.entrySet()) {\n            if (entry.getValue().equals(uuid)) {\n                return entry.getKey();\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>the problem is the static Map.</p>\n<p>as I use a schema per tenant</p>\n<pre><code>@Entity\n</code></pre>\n<p>@Multitenant(MultitenantType.TABLE_PER_TENANT)\n@TenantTableDiscriminator(type=TenantTableDiscriminatorType.SCHEMA, contextProperty=&quot;tenant-id&quot;)\npublic class Contry implements Serializable {</p>\n<p>the hashCode() is the same for all tenant countries which have the same id</p>\n<pre><code>@Override\n    public int hashCode() {\n        // TODO Auto-generated method stub\n        final int prime = 31;\n        int hash = 17;\n        hash = hash * prime+ this.idpays.hashCode();\n        return hash;\n    }\n</code></pre>\n<p>I  use the converter in my XHTML pages like this:</p>\n<pre><code>&lt;p:selectOneMenu widgetVar=&quot;wvCtrcdt&quot; id=&quot;contry&quot;\n    height=&quot;150&quot; value=&quot;#{candidatView.contryChoosen}&quot;\n    converter=&quot;converterObjet&quot; filter=&quot;true&quot;&gt;\n    &lt;f:selectItem itemLabel=&quot;#{text['chxInit']}&quot; itemValue=&quot;&quot;&gt;&lt;/f:selectItem&gt;\n    &lt;f:selectItems value=&quot;#{contryView.listcontry}&quot; var=&quot;contry&quot;\n        itemLabel=&quot;#{contry.contryname}&quot; itemValue=&quot;#{contry}&quot;&gt;&lt;/f:selectItems&gt;\n    &lt;p:ajax update=&quot;PoBirth&quot; /&gt;\n&lt;/p:selectOneMenu&gt;\n</code></pre>\n<p>the contryChoosen returned by the converter is not from the current tenant because it considered as already exist in the map as it has the same id of the country of the first tenant.\nthe question is how can I custom my converter, so it can differentiate tenant country, even if they has the same id?</p>\n"},{"tags":["java","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1524291576,"post_id":49952884,"comment_id":86922410,"body_markdown":"Why don&#39;t you just merge each of them into one `Object[]` of the parameters in the `testParameters` method?","body":"Why don&#39;t you just merge each of them into one <code>Object[]</code> of the parameters in the <code>testParameters</code> method?"},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1524291667,"post_id":49952884,"comment_id":86922435,"body_markdown":"@daniu, because typically there is much more than a single method. It would be a clear violation of the DRY principle.","body":"@daniu, because typically there is much more than a single method. It would be a clear violation of the DRY principle."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1524291869,"post_id":49952884,"comment_id":86922481,"body_markdown":"How so? Creating a `CombinedDataProvider` which accepts an arbitray number of `Supplier&lt;Object[]&gt;`s and merges them into into a matrix of all of them seems pretty simple and non-RY. You could add it with a `@Rule`.","body":"How so? Creating a <code>CombinedDataProvider</code> which accepts an arbitray number of <code>Supplier&lt;Object[]&gt;</code>s and merges them into into a matrix of all of them seems pretty simple and non-RY. You could add it with a <code>@Rule</code>."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1524292100,"post_id":49952884,"comment_id":86922537,"body_markdown":"@daniu, interesting. I&#39;ll look into it, but it&#39;s still not completely DRY: if I have one more class-level parameter, I&#39;d have to add it to every single method&#39;s signature. And it looks a bit over-complicated to me, with all the rules and suppliers. Too much plumbing for such a seemingly simple task.","body":"@daniu, interesting. I&#39;ll look into it, but it&#39;s still not completely DRY: if I have one more class-level parameter, I&#39;d have to add it to every single method&#39;s signature. And it looks a bit over-complicated to me, with all the rules and suppliers. Too much plumbing for such a seemingly simple task."},{"owner":{"account_id":4175623,"reputation":840,"user_id":3422238,"display_name":"Duong Nguyen"},"score":0,"creation_date":1524293825,"post_id":49952884,"comment_id":86922910,"body_markdown":"If you have two levels of argument, you can write it yourself a custom source that accept 1st and 2nd level then merge it to produced the desired data source while still commits with to DRY, instead of insisting on looking for a class level param. I couldn&#39;t see any value of the parameterized test class params.","body":"If you have two levels of argument, you can write it yourself a custom source that accept 1st and 2nd level then merge it to produced the desired data source while still commits with to DRY, instead of insisting on looking for a class level param. I couldn&#39;t see any value of the parameterized test class params."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1524296008,"post_id":49952884,"comment_id":86923393,"body_markdown":"@DuongNguyen I honestly don&#39;t see anything DRY about writing `ByteOrder bo,` in every test method&#39;s signature. Or using an artificial class `ClassParams` for that, in case I want to add parameters later. Besides, it&#39;s a feature supported by both JUnit 4 and TestNG, why would they support it if it was useless?","body":"@DuongNguyen I honestly don&#39;t see anything DRY about writing <code>ByteOrder bo,</code> in every test method&#39;s signature. Or using an artificial class <code>ClassParams</code> for that, in case I want to add parameters later. Besides, it&#39;s a feature supported by both JUnit 4 and TestNG, why would they support it if it was useless?"},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":3,"creation_date":1524311298,"post_id":49952884,"comment_id":86927245,"body_markdown":"Currently, classes cannot be parameterized, but there are plans to change that: https://github.com/junit-team/junit5/issues/878#issuecomment-354544841","body":"Currently, classes cannot be parameterized, but there are plans to change that: <a href=\"https://github.com/junit-team/junit5/issues/878#issuecomment-354544841\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/878#issuecomment-3545448&zwnj;&#8203;41</a>"},{"owner":{"account_id":3368483,"reputation":503,"user_id":2828388,"display_name":"lostintranslation"},"score":0,"creation_date":1553682186,"post_id":49952884,"comment_id":97471773,"body_markdown":"I wanted a similar test setup as you @SergeiTachenov . Only thing different was that I wanted the class parameters in a base class and testparams in derived class. Is it possible to do so ? \nI tried but its not working. Error is telling that actual and formal arguments differ on the base class constructor.","body":"I wanted a similar test setup as you @SergeiTachenov . Only thing different was that I wanted the class parameters in a base class and testparams in derived class. Is it possible to do so ?  I tried but its not working. Error is telling that actual and formal arguments differ on the base class constructor."}],"answers":[{"comments":[{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1566753577,"post_id":57648088,"comment_id":101746961,"body_markdown":"Sort of works, but so far from elegant that I wouldn&#39;t bother with it except maybe for a very simple case. What if I have 10 parameterized tests? I&#39;ll have to repeat the same trick 10 times. Not DRY at all.","body":"Sort of works, but so far from elegant that I wouldn&#39;t bother with it except maybe for a very simple case. What if I have 10 parameterized tests? I&#39;ll have to repeat the same trick 10 times. Not DRY at all."},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1566754184,"post_id":57648088,"comment_id":101747092,"body_markdown":"@SergeiTachenov you can extract the different sources (class parameters, test parameters, …) into separate classes and reuse them. I can&#39;t see how this violates the DRY principle. Or what do you mean?","body":"@SergeiTachenov you can extract the different sources (class parameters, test parameters, …) into separate classes and reuse them. I can&#39;t see how this violates the DRY principle. Or what do you mean?"},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1566755505,"post_id":57648088,"comment_id":101747404,"body_markdown":"One class, ten test methods. Method-level parameters are different (different types, different number, different sets), class-level parameters are the same. How would you do it? Can you edit your answer to provide an example with at least two test methods with different set of parameters?","body":"One class, ten test methods. Method-level parameters are different (different types, different number, different sets), class-level parameters are the same. How would you do it? Can you edit your answer to provide an example with at least two test methods with different set of parameters?"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1566758859,"post_id":57648088,"comment_id":101748153,"body_markdown":"@SergeiTachenov so a fixed set of class paramters (e.g. cp1, cp2, cp3) but multiple different sets of method parameters (e.g. mp1-1, mp1-2, mp1-3 and mp2-1, mp2-2, mp2-3)? Then you want to test each class parameter with each method parameter?","body":"@SergeiTachenov so a fixed set of class paramters (e.g. cp1, cp2, cp3) but multiple different sets of method parameters (e.g. mp1-1, mp1-2, mp1-3 and mp2-1, mp2-2, mp2-3)? Then you want to test each class parameter with each method parameter?"},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1566791917,"post_id":57648088,"comment_id":101753419,"body_markdown":"Yes, this is much better. I hadn&#39;t thought of extracting this Cartesian logic out of the parameters method. The example is still not general enough, though, because each test has only one method-level parameter. But it shouldn&#39;t be hard to generalize further from here.","body":"Yes, this is much better. I hadn&#39;t thought of extracting this Cartesian logic out of the parameters method. The example is still not general enough, though, because each test has only one method-level parameter. But it shouldn&#39;t be hard to generalize further from here."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1566792468,"post_id":57648088,"comment_id":101753512,"body_markdown":"Oh, and one more thing: this way I can&#39;t use class-level parameters in `setUp()` methods. And I can&#39;t think of a way around it, short of ditching the standard `setUp()` methods (called by the test framework) and calling a custom-made `setUp()` method manually from the test method instead.","body":"Oh, and one more thing: this way I can&#39;t use class-level parameters in <code>setUp()</code> methods. And I can&#39;t think of a way around it, short of ditching the standard <code>setUp()</code> methods (called by the test framework) and calling a custom-made <code>setUp()</code> method manually from the test method instead."},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1566809994,"post_id":57648088,"comment_id":101759352,"body_markdown":"@SergeiTachenov yeah, it&#39;s unfortunate that the parameters are not available e.g. via `@BeforeEach`. I mostly use this workaround for [cross-browser visual testing](https://gist.github.com/beatngu13/e4d756c494cb1d45496f8b4dbff27991/#gistcomment-3007617). Here I assign the parameters to fields to control them `@AfterEach`. Not perfect, but it does the job for me.","body":"@SergeiTachenov yeah, it&#39;s unfortunate that the parameters are not available e.g. via <code>@BeforeEach</code>. I mostly use this workaround for <a href=\"https://gist.github.com/beatngu13/e4d756c494cb1d45496f8b4dbff27991/#gistcomment-3007617\" rel=\"nofollow noreferrer\">cross-browser visual testing</a>. Here I assign the parameters to fields to control them <code>@AfterEach</code>. Not perfect, but it does the job for me."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1566844444,"post_id":57648088,"comment_id":101775207,"body_markdown":"Accepting this due to the obvious lack of better solutions.","body":"Accepting this due to the obvious lack of better solutions."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1566845828,"post_id":57648088,"comment_id":101775714,"body_markdown":"Reading the question comments, I remembered another non-DRY thing about this approach: having to write `String classParam, ` in *every* method signature. Also, edited the question to provide a better example of what and why I need.","body":"Reading the question comments, I remembered another non-DRY thing about this approach: having to write <code>String classParam, </code> in <i>every</i> method signature. Also, edited the question to provide a better example of what and why I need."}],"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":9,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675895113,"creation_date":1566753008,"answer_id":57648088,"question_id":49952884,"body_markdown":"## JUnit Jupiter (Vanilla)\r\n\r\nYou can combine multiple sources within e.g. a `@MethodSource`. Based on your TestNG example:\r\n\r\n```java\r\nclass ExampleTest {\r\n\r\n\t@ParameterizedTest\r\n\t@MethodSource(&quot;args&quot;)\r\n\tvoid test(String classParameter, String testParameter) {\r\n\t\tSystem.out.println(classParameter + &quot; &quot; + testParameter);\r\n\t}\r\n\r\n\tstatic Stream&lt;Arguments&gt; args() {\r\n\t\treturn classParameters().flatMap(\r\n\t\t\t\tclassParameter -&gt; testParameters().map(\r\n\t\t\t\t\t\ttestParameter -&gt; Arguments.of(classParameter, testParameter)));\r\n\t}\r\n\r\n\tstatic Stream&lt;String&gt; classParameters() {\r\n\t\treturn Stream.of(&quot;classParam1&quot;, &quot;classParam2&quot;);\r\n\t}\r\n\r\n\tstatic Stream&lt;String&gt; testParameters() {\r\n\t\treturn Stream.of(&quot;testParam1&quot;, &quot;testParam2&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis produces:\r\n\r\n```text\r\nclassParam1 testParam1\r\nclassParam1 testParam2\r\nclassParam2 testParam1\r\nclassParam2 testParam2\r\n```\r\n\r\nAs requested by the [OP](https://stackoverflow.com/questions/49952884/parameterize-both-class-and-tests-in-junit-5#comment101747404_57648088), here is &quot;an example with at least two test methods with different set of parameters&quot;:\r\n\r\n```java\r\nclass ExampleTest {\r\n\r\n\tstatic Stream&lt;String&gt; classParams() {\r\n\t\treturn Stream.of(&quot;classParam1&quot;, &quot;classParam2&quot;, &quot;classParam3&quot;);\r\n\t}\r\n\r\n\tstatic Stream&lt;Arguments&gt; withClassParams(List&lt;?&gt; methodParams) {\r\n\t\treturn classParams().flatMap(\r\n\t\t\t\tclassParam -&gt; methodParams.stream().map(\r\n\t\t\t\t\t\tmethodParam -&gt; Arguments.of(classParam, methodParam)));\r\n\t}\r\n\r\n\t@ParameterizedTest\r\n\t@MethodSource\r\n\tvoid booleanParams(String classParam, boolean booleanParam) {\r\n\t\tSystem.out.println(classParam + &quot; &quot; + booleanParam);\r\n\t}\r\n\r\n\tstatic Stream&lt;Arguments&gt; booleanParams() {\r\n\t\treturn withClassParams(List.of(false, true));\r\n\t}\r\n\r\n\t@ParameterizedTest\r\n\t@MethodSource\r\n\tvoid integerParams(String classParam, int integerParam) {\r\n\t\tSystem.out.println(classParam + &quot; &quot; + integerParam);\r\n\t}\r\n\r\n\tstatic Stream&lt;Arguments&gt; integerParams() {\r\n\t\treturn withClassParams(List.of(1, 2, 3, 4, 5, 6));\r\n\t}\r\n\r\n\t@ParameterizedTest\r\n\t@MethodSource\r\n\tvoid objectParams(String classParam, Object objectParam) {\r\n\t\tSystem.out.println(classParam + &quot; &quot; + objectParam);\r\n\t}\r\n\r\n\tstatic Stream&lt;Arguments&gt; objectParams() {\r\n\t\treturn withClassParams(List.of(new Object()));\r\n\t}\r\n\r\n}\r\n```\r\n\r\n3 class parameters plus 3 different method parameters with different types and sizes, producing the following output:\r\n\r\n```text\r\nclassParam1 java.lang.Object@35cabb2a\r\nclassParam2 java.lang.Object@35cabb2a\r\nclassParam3 java.lang.Object@35cabb2a\r\nclassParam1 1\r\nclassParam1 2\r\nclassParam1 3\r\nclassParam1 4\r\nclassParam1 5\r\nclassParam1 6\r\nclassParam2 1\r\nclassParam2 2\r\nclassParam2 3\r\nclassParam2 4\r\nclassParam2 5\r\nclassParam2 6\r\nclassParam3 1\r\nclassParam3 2\r\nclassParam3 3\r\nclassParam3 4\r\nclassParam3 5\r\nclassParam3 6\r\nclassParam1 false\r\nclassParam1 true\r\nclassParam2 false\r\nclassParam2 true\r\nclassParam3 false\r\nclassParam3 true\r\n```\r\n\r\n## JUnit Pioneer\r\n\r\nThere is the [JUnit Pioneer](https://junit-pioneer.org) extension pack for JUnit Jupiter. It comes with `@CartesianTest`. Using the extended the example from above:\r\n\r\n```java\r\nclass CartProdTest {\r\n\t\r\n\t@CartesianTest\r\n\t@CartesianTest.MethodFactory(&quot;classWithObjectParams&quot;)\r\n\tvoid testClassWithObject(String clazz, Object object) {\r\n\t\tSystem.out.println(clazz + &quot; &quot; + object);\r\n\t}\r\n\r\n\tstatic ArgumentSets classWithObjectParams() {\r\n\t\treturn ArgumentSets\r\n\t\t\t\t.argumentsForFirstParameter(classParams())\r\n\t\t\t\t.argumentsForNextParameter(new Object());\r\n\t}\r\n\r\n\t@CartesianTest\r\n\t@CartesianTest.MethodFactory(&quot;classWithIntegerParams&quot;)\r\n\tvoid testClassWithInteger(String clazz, int integerParam) {\r\n\t\tSystem.out.println(clazz + &quot; &quot; + integerParam);\r\n\t}\r\n\r\n\tstatic ArgumentSets classWithIntegerParams() {\r\n\t\treturn ArgumentSets\r\n\t\t\t\t.argumentsForFirstParameter(classParams())\r\n\t\t\t\t.argumentsForNextParameter(1, 2, 3, 4, 5, 6);\r\n\t}\r\n\r\n\t@CartesianTest\r\n\t@CartesianTest.MethodFactory(&quot;classWithBooleanParams&quot;)\r\n\tvoid testClassWithBoolean(String clazz, boolean booleanParam) {\r\n\t\tSystem.out.println(clazz + &quot; &quot; + booleanParam);\r\n\t}\r\n\r\n\tstatic ArgumentSets classWithBooleanParams() {\r\n\t\treturn ArgumentSets\r\n\t\t\t\t.argumentsForFirstParameter(classParams())\r\n\t\t\t\t.argumentsForNextParameter(false, true);\r\n\t}\r\n\r\n\tstatic String[] classParams() {\r\n\t\treturn new String[]{&quot;classParam1&quot;, &quot;classParam2&quot;, &quot;classParam3&quot;};\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis produces the same output.","title":"Parameterize both class and tests in JUnit 5","body":"<h2>JUnit Jupiter (Vanilla)</h2>\n<p>You can combine multiple sources within e.g. a <code>@MethodSource</code>. Based on your TestNG example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleTest {\n\n    @ParameterizedTest\n    @MethodSource(&quot;args&quot;)\n    void test(String classParameter, String testParameter) {\n        System.out.println(classParameter + &quot; &quot; + testParameter);\n    }\n\n    static Stream&lt;Arguments&gt; args() {\n        return classParameters().flatMap(\n                classParameter -&gt; testParameters().map(\n                        testParameter -&gt; Arguments.of(classParameter, testParameter)));\n    }\n\n    static Stream&lt;String&gt; classParameters() {\n        return Stream.of(&quot;classParam1&quot;, &quot;classParam2&quot;);\n    }\n\n    static Stream&lt;String&gt; testParameters() {\n        return Stream.of(&quot;testParam1&quot;, &quot;testParam2&quot;);\n    }\n\n}\n</code></pre>\n<p>This produces:</p>\n<pre><code>classParam1 testParam1\nclassParam1 testParam2\nclassParam2 testParam1\nclassParam2 testParam2\n</code></pre>\n<p>As requested by the <a href=\"https://stackoverflow.com/questions/49952884/parameterize-both-class-and-tests-in-junit-5#comment101747404_57648088\">OP</a>, here is &quot;an example with at least two test methods with different set of parameters&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleTest {\n\n    static Stream&lt;String&gt; classParams() {\n        return Stream.of(&quot;classParam1&quot;, &quot;classParam2&quot;, &quot;classParam3&quot;);\n    }\n\n    static Stream&lt;Arguments&gt; withClassParams(List&lt;?&gt; methodParams) {\n        return classParams().flatMap(\n                classParam -&gt; methodParams.stream().map(\n                        methodParam -&gt; Arguments.of(classParam, methodParam)));\n    }\n\n    @ParameterizedTest\n    @MethodSource\n    void booleanParams(String classParam, boolean booleanParam) {\n        System.out.println(classParam + &quot; &quot; + booleanParam);\n    }\n\n    static Stream&lt;Arguments&gt; booleanParams() {\n        return withClassParams(List.of(false, true));\n    }\n\n    @ParameterizedTest\n    @MethodSource\n    void integerParams(String classParam, int integerParam) {\n        System.out.println(classParam + &quot; &quot; + integerParam);\n    }\n\n    static Stream&lt;Arguments&gt; integerParams() {\n        return withClassParams(List.of(1, 2, 3, 4, 5, 6));\n    }\n\n    @ParameterizedTest\n    @MethodSource\n    void objectParams(String classParam, Object objectParam) {\n        System.out.println(classParam + &quot; &quot; + objectParam);\n    }\n\n    static Stream&lt;Arguments&gt; objectParams() {\n        return withClassParams(List.of(new Object()));\n    }\n\n}\n</code></pre>\n<p>3 class parameters plus 3 different method parameters with different types and sizes, producing the following output:</p>\n<pre><code>classParam1 java.lang.Object@35cabb2a\nclassParam2 java.lang.Object@35cabb2a\nclassParam3 java.lang.Object@35cabb2a\nclassParam1 1\nclassParam1 2\nclassParam1 3\nclassParam1 4\nclassParam1 5\nclassParam1 6\nclassParam2 1\nclassParam2 2\nclassParam2 3\nclassParam2 4\nclassParam2 5\nclassParam2 6\nclassParam3 1\nclassParam3 2\nclassParam3 3\nclassParam3 4\nclassParam3 5\nclassParam3 6\nclassParam1 false\nclassParam1 true\nclassParam2 false\nclassParam2 true\nclassParam3 false\nclassParam3 true\n</code></pre>\n<h2>JUnit Pioneer</h2>\n<p>There is the <a href=\"https://junit-pioneer.org\" rel=\"nofollow noreferrer\">JUnit Pioneer</a> extension pack for JUnit Jupiter. It comes with <code>@CartesianTest</code>. Using the extended the example from above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CartProdTest {\n    \n    @CartesianTest\n    @CartesianTest.MethodFactory(&quot;classWithObjectParams&quot;)\n    void testClassWithObject(String clazz, Object object) {\n        System.out.println(clazz + &quot; &quot; + object);\n    }\n\n    static ArgumentSets classWithObjectParams() {\n        return ArgumentSets\n                .argumentsForFirstParameter(classParams())\n                .argumentsForNextParameter(new Object());\n    }\n\n    @CartesianTest\n    @CartesianTest.MethodFactory(&quot;classWithIntegerParams&quot;)\n    void testClassWithInteger(String clazz, int integerParam) {\n        System.out.println(clazz + &quot; &quot; + integerParam);\n    }\n\n    static ArgumentSets classWithIntegerParams() {\n        return ArgumentSets\n                .argumentsForFirstParameter(classParams())\n                .argumentsForNextParameter(1, 2, 3, 4, 5, 6);\n    }\n\n    @CartesianTest\n    @CartesianTest.MethodFactory(&quot;classWithBooleanParams&quot;)\n    void testClassWithBoolean(String clazz, boolean booleanParam) {\n        System.out.println(clazz + &quot; &quot; + booleanParam);\n    }\n\n    static ArgumentSets classWithBooleanParams() {\n        return ArgumentSets\n                .argumentsForFirstParameter(classParams())\n                .argumentsForNextParameter(false, true);\n    }\n\n    static String[] classParams() {\n        return new String[]{&quot;classParam1&quot;, &quot;classParam2&quot;, &quot;classParam3&quot;};\n    }\n\n}\n</code></pre>\n<p>This produces the same output.</p>\n"}],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5684,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":57648088,"answer_count":1,"score":12,"last_activity_date":1675895113,"creation_date":1524290788,"question_id":49952884,"body_markdown":"Is there a way to parameterize both test class (like you could do with `Parameterized` and `@Parameters` in JUnit 4) and test methods (like you could do with JUnitParams in JUnit 4 or with `@ParameterizedTest` in JUnit 5)? I need to get the Cartesian product of the parameters in the end.\r\n\r\nExample of a partial test for `java.nio.ByteBuffer` using the desired approach:\r\n\r\n    public class ByteBufferTest {\r\n        private static final int BUFFER_SIZE = 16384;\r\n        private final ByteOrder byteOrder;\r\n        private ByteBuffer sut;\r\n    \r\n        @Factory(dataProvider = &quot;byteOrders&quot;)\r\n        public ByteBufferTest(ByteOrder byteOrder) {\r\n            this.byteOrder = byteOrder;\r\n        }\r\n    \r\n        @DataProvider\r\n        public static Object[][] byteOrders() {\r\n            return new Object[][] {\r\n                    {ByteOrder.BIG_ENDIAN},\r\n                    {ByteOrder.LITTLE_ENDIAN}\r\n            };\r\n        }\r\n    \r\n        @BeforeMethod\r\n        public void setUp() {\r\n            sut = ByteBuffer.allocate(BUFFER_SIZE);\r\n            sut.order(byteOrder);\r\n        }\r\n    \r\n        @Test(dataProvider = &quot;validPositions&quot;)\r\n        public void position(int position) {\r\n            System.out.println(byteOrder + &quot; position &quot; + position);\r\n            sut.position(position);\r\n            assertThat(sut.position()).isEqualTo(position);\r\n        }\r\n    \r\n        @DataProvider\r\n        public static Object[][] validPositions() {\r\n            return new Object[][] {{0}, {1}, {BUFFER_SIZE - 1}};\r\n        }\r\n    \r\n        @Test(dataProvider = &quot;intPositionsAndValues&quot;)\r\n        public void putInt(int position, int value, byte[] expected) {\r\n            System.out.println(byteOrder + &quot; position &quot; + position + &quot; value &quot; + value);\r\n            sut.putInt(position, value);\r\n            assertThat(sut.array())\r\n                    .contains(expected[0], atIndex(position))\r\n                    .contains(expected[1], atIndex(position + 1))\r\n                    .contains(expected[2], atIndex(position + 2))\r\n                    .contains(expected[3], atIndex(position + 3));\r\n        }\r\n    \r\n        @DataProvider\r\n        public Object[][] intPositionsAndValues() {\r\n            if (byteOrder == ByteOrder.BIG_ENDIAN) {\r\n                return new Object[][]{\r\n                        {0, 0, new byte[4]},\r\n                        {5, 123456789, new byte[] {0x07, 0x5B, (byte) 0xCD, 0x15}},\r\n                };\r\n            } else {\r\n                return new Object[][]{\r\n                        {0, 0, new byte[4]},\r\n                        {5, 123456789, new byte[] {0x15, (byte) 0xCD, 0x5B, 0x07}},\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIt produces:\r\n\r\n    LITTLE_ENDIAN position 0\r\n    LITTLE_ENDIAN position 1\r\n    LITTLE_ENDIAN position 16383\r\n    BIG_ENDIAN position 0\r\n    BIG_ENDIAN position 1\r\n    BIG_ENDIAN position 16383\r\n    LITTLE_ENDIAN position 0 value 0\r\n    LITTLE_ENDIAN position 5 value 123456789\r\n    BIG_ENDIAN position 0 value 0\r\n    BIG_ENDIAN position 5 value 123456789\r\n\r\nWe&#39;re thinking about migrating to JUnit 5 from TestNG, but we use this kind of thing pretty often. The use of the byte order as a class-level parameter in the example above is not a coincidence: we often need tests for various binary data processor, where the test constructor would take a byte/bit order argument, and we run every test for both Big Endian and Little Endian.\r\n\r\nI was thinking about creating an extension for this and then use `ExtendWith`, but maybe there is an existing extension or something that works out-of-the-box that I have missed?","title":"Parameterize both class and tests in JUnit 5","body":"<p>Is there a way to parameterize both test class (like you could do with <code>Parameterized</code> and <code>@Parameters</code> in JUnit 4) and test methods (like you could do with JUnitParams in JUnit 4 or with <code>@ParameterizedTest</code> in JUnit 5)? I need to get the Cartesian product of the parameters in the end.</p>\n\n<p>Example of a partial test for <code>java.nio.ByteBuffer</code> using the desired approach:</p>\n\n<pre><code>public class ByteBufferTest {\n    private static final int BUFFER_SIZE = 16384;\n    private final ByteOrder byteOrder;\n    private ByteBuffer sut;\n\n    @Factory(dataProvider = \"byteOrders\")\n    public ByteBufferTest(ByteOrder byteOrder) {\n        this.byteOrder = byteOrder;\n    }\n\n    @DataProvider\n    public static Object[][] byteOrders() {\n        return new Object[][] {\n                {ByteOrder.BIG_ENDIAN},\n                {ByteOrder.LITTLE_ENDIAN}\n        };\n    }\n\n    @BeforeMethod\n    public void setUp() {\n        sut = ByteBuffer.allocate(BUFFER_SIZE);\n        sut.order(byteOrder);\n    }\n\n    @Test(dataProvider = \"validPositions\")\n    public void position(int position) {\n        System.out.println(byteOrder + \" position \" + position);\n        sut.position(position);\n        assertThat(sut.position()).isEqualTo(position);\n    }\n\n    @DataProvider\n    public static Object[][] validPositions() {\n        return new Object[][] {{0}, {1}, {BUFFER_SIZE - 1}};\n    }\n\n    @Test(dataProvider = \"intPositionsAndValues\")\n    public void putInt(int position, int value, byte[] expected) {\n        System.out.println(byteOrder + \" position \" + position + \" value \" + value);\n        sut.putInt(position, value);\n        assertThat(sut.array())\n                .contains(expected[0], atIndex(position))\n                .contains(expected[1], atIndex(position + 1))\n                .contains(expected[2], atIndex(position + 2))\n                .contains(expected[3], atIndex(position + 3));\n    }\n\n    @DataProvider\n    public Object[][] intPositionsAndValues() {\n        if (byteOrder == ByteOrder.BIG_ENDIAN) {\n            return new Object[][]{\n                    {0, 0, new byte[4]},\n                    {5, 123456789, new byte[] {0x07, 0x5B, (byte) 0xCD, 0x15}},\n            };\n        } else {\n            return new Object[][]{\n                    {0, 0, new byte[4]},\n                    {5, 123456789, new byte[] {0x15, (byte) 0xCD, 0x5B, 0x07}},\n            };\n        }\n    }\n}\n</code></pre>\n\n<p>It produces:</p>\n\n<pre><code>LITTLE_ENDIAN position 0\nLITTLE_ENDIAN position 1\nLITTLE_ENDIAN position 16383\nBIG_ENDIAN position 0\nBIG_ENDIAN position 1\nBIG_ENDIAN position 16383\nLITTLE_ENDIAN position 0 value 0\nLITTLE_ENDIAN position 5 value 123456789\nBIG_ENDIAN position 0 value 0\nBIG_ENDIAN position 5 value 123456789\n</code></pre>\n\n<p>We're thinking about migrating to JUnit 5 from TestNG, but we use this kind of thing pretty often. The use of the byte order as a class-level parameter in the example above is not a coincidence: we often need tests for various binary data processor, where the test constructor would take a byte/bit order argument, and we run every test for both Big Endian and Little Endian.</p>\n\n<p>I was thinking about creating an extension for this and then use <code>ExtendWith</code>, but maybe there is an existing extension or something that works out-of-the-box that I have missed?</p>\n"},{"tags":["java","android-room"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1675858802,"post_id":75385670,"comment_id":133017486,"body_markdown":"maybe you could an activity (which is a context) instead of having the static java main","body":"maybe you could an activity (which is a context) instead of having the static java main"},{"owner":{"account_id":23350949,"reputation":1,"user_id":17424519,"display_name":"Hưng"},"score":0,"creation_date":1675859598,"post_id":75385670,"comment_id":133017704,"body_markdown":"@Blackbelt \nBut what if I just want to check the structure of the database but don&#39;t want to use the activity? Or i must to use at least 1 activity ?","body":"@Blackbelt  But what if I just want to check the structure of the database but don&#39;t want to use the activity? Or i must to use at least 1 activity ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675868590,"post_id":75385670,"comment_id":133020856,"body_markdown":"You must.  Your `main` method won&#39;t be called if this is an Android app; see https://developer.android.com/guide/components/activities/intro-activities.  First paragraph.","body":"You must.  Your <code>main</code> method won&#39;t be called if this is an Android app; see <a href=\"https://developer.android.com/guide/components/activities/intro-activities\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>.  First paragraph."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675893377,"creation_date":1675893377,"answer_id":75392138,"question_id":75385670,"body_markdown":"You MUST have a Context somewhere as an App will not run without an Activity and thus a Context. In which case you could have:-\r\n\r\n    class Main {\r\n       static void main(String[] args, Context context) {\r\n          AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\r\n          UserDAO userDAO = db.userDao();\r\n          List&lt;User&gt; users = userDAO.findAllUser();\r\n       }\r\n    }\r\n\r\n\r\n- i.e. the Context is passed to the `main` Method of the `Main` class.\r\n\r\nAn example use, from an Activity (MainActivity in this example) :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        AppDatabase db;\r\n        UserDAO userDAO;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Main.main(new String[]{}, this);\r\n        }\r\n    }\r\n\r\nHowever, you have further issues. \r\n\r\nThe first is the use of the `@Fts4` annotation, without consideration of what FTS is and how to use it, will result in results that you will not expect.\r\n\r\n- For testing the @Fts4 annotation was commented out\r\n\r\nThe next issue is that Room, by default, will not allow access to the database on the main thread. As such the attempt to use the `findAllUser` method would fail\r\n\r\n    java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\r\n\r\nSo `.allowMainThreadQueries` was added so the `main` method becomes:-\r\n\r\n    class Main {\r\n       static void main(String[] args, Context context) {\r\n          AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;)\r\n                  .allowMainThreadQueries() // ADDED to allow running on the main thread\r\n                  .build(); // I got error in this line\r\n          UserDAO userDAO = db.userDao();\r\n          List&lt;User&gt; users = userDAO.findAllUser();\r\n       }\r\n    }\r\n\r\n- Note that the last line if the `@Fts4` annotation is included will not compile.\r\n\r\nIt will then be seen that a database version number of 0 cannot be used, this was changed to 1.\r\n\r\nNow the App.\r\n\r\n**However**\r\n\r\nIt is suggested that you instead consider using a Singleton. That is a single databasebuild is undertaken when subsequent requests for an AppDatabase return the existing/built AppDatabase.\r\n\r\ne.g. using:-\r\n\r\n    @Database(entities = {User.class}, version = /* CANNOT BE 0*/ 1)\r\n    abstract class AppDatabase extends RoomDatabase {\r\n       public abstract UserDAO userDao();\r\n    \r\n       private static volatile AppDatabase instance;\r\n       static AppDatabase getInstance(Context context) {\r\n          if (instance==null) {\r\n             instance = Room.databaseBuilder(context,AppDatabase.class,&quot;other&quot;)\r\n                     .allowMainThreadQueries()\r\n                     .build();\r\n          }\r\n          return instance;\r\n       }\r\n       static AppDatabase  getInstance() throws Exception {\r\n          if (instance!=null) return instance;\r\n          throw new Exception(&quot;AppDatabase - Attempt to get an instance without a Context when the instance has not been instantiated&quot;);\r\n       }\r\n    }\r\n\r\n- Note that the second, parameterless version of getInstance, is an example of how you could get the AppDatabase instance where you cannot/will not have the Context. As can be seen `instance` **MUST** have been previously instantiated. \r\n- Obviously handling the case when `instance` has not been instantiated could be altered to suit.\r\n- Note that the database name has been changed and thus both the original and the suggested can be used together.\r\n\r\nWith the above and changing `MainActivity` to be:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        AppDatabase db;\r\n        UserDAO userDAO;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            try {\r\n                db = AppDatabase.getInstance();\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            Main.main(new String[]{}, this);\r\n    \r\n            db = AppDatabase.getInstance(this);\r\n            userDAO = db.userDao();\r\n            userDAO.findAllUser();\r\n        }\r\n    }\r\n\r\nThe the it all runs OK (Note that the `@Fts4` annotation is still commmented out).\r\n\r\nUsing App Inspection then the following is displayed:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs can be seen the database accessed via the `main` method, isn&#39;t available as App Inspection believe it to be closed.\r\n\r\nThe `other` database is available and includes the table according to the `User` class, with the three columns as per the Room annotations and there is no issue with the @Dao annotated methods.\r\n\r\n\r\nIf `@Fts4` is un-commented. Then compiling fails with\r\n\r\n    The columns returned by the query does not have the fields [id] in a.a.so75385670.User even though they are annotated as non-null or primitive. Columns returned by the query: [name,age]\r\n\r\n- for both `findAllUser` and `findUserById`\r\n\r\nSo Commenting out both of these and the use corrects the compile. However the database will not then be accessed. So to force access to the database instead of invoking the finAllUser method the use of `db.getOpenHelper().getWritableDatabase();` is used and the App run. Now AppInspection (at least for the `other` database) shows a remarkable difference:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf you intend to use FTS then you need to ascertain how to use it and certainly correct.\r\n\r\nIn regard to your `findAllUser` and `findUserById` you can change them to\r\nbe:-\r\n\r\n    @Query(&quot;SELECT *, rowid FROM users&quot;)\r\n    List&lt;User&gt; findAllUser();\r\n\r\n    @Query(&quot;SELECT *,rowid FROM users WHERE rowid = :rId&quot;)\r\n    User findUserById(int rId);\r\n\r\n- i.e. getting the normally hidden (and thus not extracted by *) rowid column\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GGp80.png\r\n  [2]: https://i.stack.imgur.com/0xFlA.png","title":"Non-static method &#39;getApplicationContext()&#39; cannot be referenced from a static context","body":"<p>You MUST have a Context somewhere as an App will not run without an Activity and thus a Context. In which case you could have:-</p>\n<pre><code>class Main {\n   static void main(String[] args, Context context) {\n      AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\n      UserDAO userDAO = db.userDao();\n      List&lt;User&gt; users = userDAO.findAllUser();\n   }\n}\n</code></pre>\n<ul>\n<li>i.e. the Context is passed to the <code>main</code> Method of the <code>Main</code> class.</li>\n</ul>\n<p>An example use, from an Activity (MainActivity in this example) :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    AppDatabase db;\n    UserDAO userDAO;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Main.main(new String[]{}, this);\n    }\n}\n</code></pre>\n<p>However, you have further issues.</p>\n<p>The first is the use of the <code>@Fts4</code> annotation, without consideration of what FTS is and how to use it, will result in results that you will not expect.</p>\n<ul>\n<li>For testing the @Fts4 annotation was commented out</li>\n</ul>\n<p>The next issue is that Room, by default, will not allow access to the database on the main thread. As such the attempt to use the <code>findAllUser</code> method would fail</p>\n<pre><code>java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\n</code></pre>\n<p>So <code>.allowMainThreadQueries</code> was added so the <code>main</code> method becomes:-</p>\n<pre><code>class Main {\n   static void main(String[] args, Context context) {\n      AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;)\n              .allowMainThreadQueries() // ADDED to allow running on the main thread\n              .build(); // I got error in this line\n      UserDAO userDAO = db.userDao();\n      List&lt;User&gt; users = userDAO.findAllUser();\n   }\n}\n</code></pre>\n<ul>\n<li>Note that the last line if the <code>@Fts4</code> annotation is included will not compile.</li>\n</ul>\n<p>It will then be seen that a database version number of 0 cannot be used, this was changed to 1.</p>\n<p>Now the App.</p>\n<p><strong>However</strong></p>\n<p>It is suggested that you instead consider using a Singleton. That is a single databasebuild is undertaken when subsequent requests for an AppDatabase return the existing/built AppDatabase.</p>\n<p>e.g. using:-</p>\n<pre><code>@Database(entities = {User.class}, version = /* CANNOT BE 0*/ 1)\nabstract class AppDatabase extends RoomDatabase {\n   public abstract UserDAO userDao();\n\n   private static volatile AppDatabase instance;\n   static AppDatabase getInstance(Context context) {\n      if (instance==null) {\n         instance = Room.databaseBuilder(context,AppDatabase.class,&quot;other&quot;)\n                 .allowMainThreadQueries()\n                 .build();\n      }\n      return instance;\n   }\n   static AppDatabase  getInstance() throws Exception {\n      if (instance!=null) return instance;\n      throw new Exception(&quot;AppDatabase - Attempt to get an instance without a Context when the instance has not been instantiated&quot;);\n   }\n}\n</code></pre>\n<ul>\n<li>Note that the second, parameterless version of getInstance, is an example of how you could get the AppDatabase instance where you cannot/will not have the Context. As can be seen <code>instance</code> <strong>MUST</strong> have been previously instantiated.</li>\n<li>Obviously handling the case when <code>instance</code> has not been instantiated could be altered to suit.</li>\n<li>Note that the database name has been changed and thus both the original and the suggested can be used together.</li>\n</ul>\n<p>With the above and changing <code>MainActivity</code> to be:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    AppDatabase db;\n    UserDAO userDAO;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        try {\n            db = AppDatabase.getInstance();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        Main.main(new String[]{}, this);\n\n        db = AppDatabase.getInstance(this);\n        userDAO = db.userDao();\n        userDAO.findAllUser();\n    }\n}\n</code></pre>\n<p>The the it all runs OK (Note that the <code>@Fts4</code> annotation is still commmented out).</p>\n<p>Using App Inspection then the following is displayed:-</p>\n<p><a href=\"https://i.stack.imgur.com/GGp80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GGp80.png\" alt=\"enter image description here\" /></a></p>\n<p>As can be seen the database accessed via the <code>main</code> method, isn't available as App Inspection believe it to be closed.</p>\n<p>The <code>other</code> database is available and includes the table according to the <code>User</code> class, with the three columns as per the Room annotations and there is no issue with the @Dao annotated methods.</p>\n<p>If <code>@Fts4</code> is un-commented. Then compiling fails with</p>\n<pre><code>The columns returned by the query does not have the fields [id] in a.a.so75385670.User even though they are annotated as non-null or primitive. Columns returned by the query: [name,age]\n</code></pre>\n<ul>\n<li>for both <code>findAllUser</code> and <code>findUserById</code></li>\n</ul>\n<p>So Commenting out both of these and the use corrects the compile. However the database will not then be accessed. So to force access to the database instead of invoking the finAllUser method the use of <code>db.getOpenHelper().getWritableDatabase();</code> is used and the App run. Now AppInspection (at least for the <code>other</code> database) shows a remarkable difference:-</p>\n<p><a href=\"https://i.stack.imgur.com/0xFlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0xFlA.png\" alt=\"enter image description here\" /></a></p>\n<p>If you intend to use FTS then you need to ascertain how to use it and certainly correct.</p>\n<p>In regard to your <code>findAllUser</code> and <code>findUserById</code> you can change them to\nbe:-</p>\n<pre><code>@Query(&quot;SELECT *, rowid FROM users&quot;)\nList&lt;User&gt; findAllUser();\n\n@Query(&quot;SELECT *,rowid FROM users WHERE rowid = :rId&quot;)\nUser findUserById(int rId);\n</code></pre>\n<ul>\n<li>i.e. getting the normally hidden (and thus not extracted by *) rowid column</li>\n</ul>\n"}],"owner":{"account_id":23350949,"reputation":1,"user_id":17424519,"display_name":"Hưng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675893377,"creation_date":1675858625,"question_id":75385670,"body_markdown":"I followed instructions in [Android Developer](https://developer.android.com/training/data-storage/room#java) to setup and create Room database, DAO and Data Entity.&lt;br&gt;\r\nEverything is fine until i got an error when trying to create an instance of the database:&lt;br&gt;\r\n``Non-static method &#39;getApplicationContext()&#39; cannot be referenced from a static context``\r\n\r\nHere is my code:\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\n\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Database;\r\nimport androidx.room.Delete;\r\nimport androidx.room.Entity;\r\nimport androidx.room.Fts4;\r\nimport androidx.room.Insert;\r\nimport androidx.room.OnConflictStrategy;\r\nimport androidx.room.PrimaryKey;\r\nimport androidx.room.Query;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\nimport androidx.room.Update;\r\n\r\nimport java.util.List;\r\n\r\n@Database(entities = {User.class}, version = 0)\r\nabstract class AppDatabase extends RoomDatabase {\r\n    public abstract UserDAO userDao();\r\n}\r\n\r\n@Fts4\r\n@Entity(tableName = &quot;users&quot;)\r\nclass User {\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;rowid&quot;)\r\n    public int id;\r\n\r\n    @ColumnInfo(name = &quot;name&quot;)\r\n    public String name;\r\n\r\n    @ColumnInfo(name = &quot;age&quot;)\r\n    public int age;\r\n}\r\n\r\n@Dao\r\ninterface UserDAO {\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insertUser(User... user);\r\n\r\n    @Query(&quot;SELECT * FROM users&quot;)\r\n    List&lt;User&gt; findAllUser();\r\n\r\n    @Query(&quot;SELECT * FROM users WHERE rowid = :rId&quot;)\r\n    User findUserById(int rId);\r\n\r\n    @Update(onConflict = OnConflictStrategy.IGNORE)\r\n    void updateUser(User user);\r\n\r\n    @Delete\r\n    void deleteUser(User user);\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        AppDatabase db = Room.databaseBuilder(Context.getApplicationContext(), AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\r\n        UserDAO userDAO = db.userDao();\r\n        List&lt;User&gt; users = userDAO.findAllUser();\r\n    }\r\n}\r\n```\r\nDoes anyone have any ideas? Or someone who has had this error since the first time using this Room library can give me a solution? Or simply just create an instance for Context ?","title":"Non-static method &#39;getApplicationContext()&#39; cannot be referenced from a static context","body":"<p>I followed instructions in <a href=\"https://developer.android.com/training/data-storage/room#java\" rel=\"nofollow noreferrer\">Android Developer</a> to setup and create Room database, DAO and Data Entity.<br>\nEverything is fine until i got an error when trying to create an instance of the database:<br>\n<code>Non-static method 'getApplicationContext()' cannot be referenced from a static context</code></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport android.content.Context;\n\nimport androidx.room.ColumnInfo;\nimport androidx.room.Dao;\nimport androidx.room.Database;\nimport androidx.room.Delete;\nimport androidx.room.Entity;\nimport androidx.room.Fts4;\nimport androidx.room.Insert;\nimport androidx.room.OnConflictStrategy;\nimport androidx.room.PrimaryKey;\nimport androidx.room.Query;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\nimport androidx.room.Update;\n\nimport java.util.List;\n\n@Database(entities = {User.class}, version = 0)\nabstract class AppDatabase extends RoomDatabase {\n    public abstract UserDAO userDao();\n}\n\n@Fts4\n@Entity(tableName = &quot;users&quot;)\nclass User {\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;rowid&quot;)\n    public int id;\n\n    @ColumnInfo(name = &quot;name&quot;)\n    public String name;\n\n    @ColumnInfo(name = &quot;age&quot;)\n    public int age;\n}\n\n@Dao\ninterface UserDAO {\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    void insertUser(User... user);\n\n    @Query(&quot;SELECT * FROM users&quot;)\n    List&lt;User&gt; findAllUser();\n\n    @Query(&quot;SELECT * FROM users WHERE rowid = :rId&quot;)\n    User findUserById(int rId);\n\n    @Update(onConflict = OnConflictStrategy.IGNORE)\n    void updateUser(User user);\n\n    @Delete\n    void deleteUser(User user);\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        AppDatabase db = Room.databaseBuilder(Context.getApplicationContext(), AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\n        UserDAO userDAO = db.userDao();\n        List&lt;User&gt; users = userDAO.findAllUser();\n    }\n}\n</code></pre>\n<p>Does anyone have any ideas? Or someone who has had this error since the first time using this Room library can give me a solution? Or simply just create an instance for Context ?</p>\n"},{"tags":["java","scala","constructor","multiple-constructors"],"answers":[{"comments":[{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1355264703,"post_id":3299792,"comment_id":19032686,"body_markdown":"The thing that&#39;s wrong is that it assumes that &quot;the most generic one&quot; is a valid concept.  It&#39;s not.  Different constructors can do completely different things.","body":"The thing that&#39;s wrong is that it assumes that &quot;the most generic one&quot; is a valid concept.  It&#39;s not.  Different constructors can do completely different things."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1355265953,"post_id":3299792,"comment_id":19033134,"body_markdown":"@JamesMoore Point very well taken. Clearly, one needs to be aware of the behavior of the various constructors to influence your decision. However, it would be a large violation of the principle of least surprise if, given `double d` that `new Base(d);`, `new Base((int)d);` and `new Base(String.valueOf(d));` did not all do the same thing. Of course it&#39;s not a guarantee, but if they&#39;re doing different things, there should be different classes. Now, if only all code followed predictable design principles... :)","body":"@JamesMoore Point very well taken. Clearly, one needs to be aware of the behavior of the various constructors to influence your decision. However, it would be a large violation of the principle of least surprise if, given <code>double d</code> that <code>new Base(d);</code>, <code>new Base((int)d);</code> and <code>new Base(String.valueOf(d));</code> did not all do the same thing. Of course it&#39;s not a guarantee, but if they&#39;re doing different things, there should be different classes. Now, if only all code followed predictable design principles... :)"}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279719394,"creation_date":1279719394,"answer_id":3299792,"question_id":3299776,"body_markdown":"I would pick the most generic one (in this case, String) and do the internal conversion yourself if it meets the other criteria.\r\n\r\nAlthough I admit this is not the best solution and something strikes me as wrong about it. :-(","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>I would pick the most generic one (in this case, String) and do the internal conversion yourself if it meets the other criteria.</p>\n\n<p>Although I admit this is not the best solution and something strikes me as wrong about it. :-(</p>\n"},{"comments":[{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":1,"creation_date":1311967090,"post_id":3299832,"comment_id":8184156,"body_markdown":"And what if Extended shall have additional parameters or I want to extend Extended with a Grandchild?","body":"And what if Extended shall have additional parameters or I want to extend Extended with a Grandchild?"},{"owner":{"account_id":156290,"reputation":2020,"user_id":373489,"accept_rate":74,"display_name":"Adam Mackler"},"score":0,"creation_date":1356139087,"post_id":3299832,"comment_id":19325084,"body_markdown":"Would love example of how to &quot;work around that by using abstract members.&quot;","body":"Would love example of how to &quot;work around that by using abstract members.&quot;"},{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":0,"creation_date":1356640887,"post_id":3299832,"comment_id":19433744,"body_markdown":"@AdamMackler: replace `class A(val b: B)` with `trait A { def b: B }`. It&#39;s usually safer to use `def` than `val` here because of initialization order pitfalls. To instantiate, instead of `new A(b)`, you do `new A { val b = ... }`. (`val` may override `def`.)","body":"@AdamMackler: replace <code>class A(val b: B)</code> with <code>trait A { def b: B }</code>. It&#39;s usually safer to use <code>def</code> than <code>val</code> here because of initialization order pitfalls. To instantiate, instead of <code>new A(b)</code>, you do <code>new A { val b = ... }</code>. (<code>val</code> may override <code>def</code>.)"},{"owner":{"account_id":2674704,"reputation":7701,"user_id":2311362,"accept_rate":78,"display_name":"OlivierBlanvillain"},"score":1,"creation_date":1387199447,"post_id":3299832,"comment_id":30844183,"body_markdown":"Note that this is not equivalent as you cannot instantiate `Extended` with the new keyboard. It [looks like](http://scala-programming-language.1934581.n4.nabble.com/scala-calling-different-super-constructors-td1994456.html) there is no way it equivalently to the Java way.","body":"Note that this is not equivalent as you cannot instantiate <code>Extended</code> with the new keyboard. It <a href=\"http://scala-programming-language.1934581.n4.nabble.com/scala-calling-different-super-constructors-td1994456.html\" rel=\"nofollow noreferrer\">looks like</a> there is no way it equivalently to the Java way."},{"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"score":0,"creation_date":1622719410,"post_id":3299832,"comment_id":119875298,"body_markdown":"That does not work if the whole point of extension is to get access to a protected value.","body":"That does not work if the whole point of extension is to get access to a protected value."}],"tags":[],"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"comment_count":5,"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1675893092,"creation_date":1279719602,"answer_id":3299832,"question_id":3299776,"body_markdown":"It&#39;s easy to forget that a trait may extend a class. If you use a trait, you can postpone the decision of which constructor to call, like this:\r\n\r\n    trait Extended extends Base {\r\n      ...\r\n    }\r\n\r\n    object Extended {\r\n      def apply(arg1: Int) = new Base(arg1) with Extended\r\n      def apply(arg2: String) = new Base(arg2) with Extended\r\n      def apply(arg3: Double) = new Base(arg3) with Extended\r\n    }\r\n\r\nScala 2 traits may not themselves have constructor parameters, but you can work around that by using abstract members instead.\r\n\r\n(Scala 3 lets traits have constructor parameters.)","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>It's easy to forget that a trait may extend a class. If you use a trait, you can postpone the decision of which constructor to call, like this:</p>\n<pre><code>trait Extended extends Base {\n  ...\n}\n\nobject Extended {\n  def apply(arg1: Int) = new Base(arg1) with Extended\n  def apply(arg2: String) = new Base(arg2) with Extended\n  def apply(arg3: Double) = new Base(arg3) with Extended\n}\n</code></pre>\n<p>Scala 2 traits may not themselves have constructor parameters, but you can work around that by using abstract members instead.</p>\n<p>(Scala 3 lets traits have constructor parameters.)</p>\n"},{"tags":[],"owner":{"account_id":46902,"reputation":20861,"user_id":138772,"accept_rate":100,"display_name":"JAB"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279720755,"creation_date":1279720755,"answer_id":3300034,"question_id":3299776,"body_markdown":"This is a silly answer that would probably work somewhat but might be too much effort if the Java class has way too many constructors, but:\r\n\r\nWrite a subclass in Java that implements a constructor that takes all the inputs the various other constructors would and calls the proper constructor of its superclass based on the presence or absence of inputs (via usage of &quot;null&quot; or some sort of sentinel values), then subclass that Java class in Scala and assign the sentinel values as default parameters.","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>This is a silly answer that would probably work somewhat but might be too much effort if the Java class has way too many constructors, but:</p>\n\n<p>Write a subclass in Java that implements a constructor that takes all the inputs the various other constructors would and calls the proper constructor of its superclass based on the presence or absence of inputs (via usage of \"null\" or some sort of sentinel values), then subclass that Java class in Scala and assign the sentinel values as default parameters.</p>\n"},{"comments":[{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":0,"creation_date":1279721836,"post_id":3300046,"comment_id":3418428,"body_markdown":"You&#39;re changing Base, so this answers a rather different question. It&#39;s a good answer to that other question, though :-)","body":"You&#39;re changing Base, so this answers a rather different question. It&#39;s a good answer to that other question, though :-)"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1279723919,"post_id":3300046,"comment_id":3418821,"body_markdown":"Yes - the question on the mailing list was not as clearly written as this one!","body":"Yes - the question on the mailing list was not as clearly written as this one!"},{"owner":{"account_id":297601,"reputation":78,"user_id":603202,"accept_rate":50,"display_name":"Arun George"},"score":0,"creation_date":1505976814,"post_id":3300046,"comment_id":79634229,"body_markdown":"That was not the question","body":"That was not the question"}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1279721765,"creation_date":1279720827,"answer_id":3300046,"question_id":3299776,"body_markdown":"**EDIT** - *this is from a question on the scala mailing list which I thought was duplicated here. My answer relates to providing three different constructors (i.e. replicating the Java design), and not extending the class*\r\n\r\nAssuming that each of your constructors ultimately create the *state* `S` of the object, create a companion object with &quot;static&quot; methods to create this state\r\n\r\n    object Base {\r\n      private def stateFrom(d : Double) : S = error(&quot;TODO&quot;)\r\n      private def stateFrom(s : Str) : S = error(&quot;TODO&quot;)\r\n      private def stateFrom(i : Int) : S = error(&quot;TODO&quot;)\r\n    } \r\n\r\nThen create a private constructor taking the state and (public) overloaded constructors which defer to the primary constructor\r\n\r\n    import Base._\r\n    class Base private(s : S) { //private constructor takes the state\r\n      def this(d : Double) = this(stateFrom(d)) \r\n      def this(str : String) = this(stateFrom(str))\r\n      def this(i : Int) = this(stateFrom(i))\r\n      //etc\r\n    }","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p><strong>EDIT</strong> - <em>this is from a question on the scala mailing list which I thought was duplicated here. My answer relates to providing three different constructors (i.e. replicating the Java design), and not extending the class</em></p>\n\n<p>Assuming that each of your constructors ultimately create the <em>state</em> <code>S</code> of the object, create a companion object with \"static\" methods to create this state</p>\n\n<pre><code>object Base {\n  private def stateFrom(d : Double) : S = error(\"TODO\")\n  private def stateFrom(s : Str) : S = error(\"TODO\")\n  private def stateFrom(i : Int) : S = error(\"TODO\")\n} \n</code></pre>\n\n<p>Then create a private constructor taking the state and (public) overloaded constructors which defer to the primary constructor</p>\n\n<pre><code>import Base._\nclass Base private(s : S) { //private constructor takes the state\n  def this(d : Double) = this(stateFrom(d)) \n  def this(str : String) = this(stateFrom(str))\n  def this(i : Int) = this(stateFrom(i))\n  //etc\n}\n</code></pre>\n"}],"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11048,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":3299832,"answer_count":4,"score":60,"last_activity_date":1675893092,"creation_date":1279719312,"question_id":3299776,"body_markdown":"Suppose I have a Java class with multiple constructors:\r\n\r\n    class Base {\r\n        Base(int arg1) {...};\r\n        Base(String arg2) {...};\r\n        Base(double arg3) {...};\r\n    }\r\n\r\nHow can I extend it in Scala and still provide access to all three of Base&#39;s constructors? In Scala, a subclass can only call one of it&#39;s superclass&#39;s constructors. How can I work around this rule?\r\n\r\nAssume the Java class is legacy code that I can&#39;t change.","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>Suppose I have a Java class with multiple constructors:</p>\n\n<pre><code>class Base {\n    Base(int arg1) {...};\n    Base(String arg2) {...};\n    Base(double arg3) {...};\n}\n</code></pre>\n\n<p>How can I extend it in Scala and still provide access to all three of Base's constructors? In Scala, a subclass can only call one of it's superclass's constructors. How can I work around this rule?</p>\n\n<p>Assume the Java class is legacy code that I can't change.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675893043,"creation_date":1675893043,"question_id":75392094,"body_markdown":"I have two classes, Workstation and WorkstationReservation. They are in a one to many relationship, a workstation can have several reservations and a workstation reservation is associated to only one workstation. \r\nWith the configuration I have provided I am able to insert a workstation without specifying a workstation reservation (this is the behaviour I want, a workstation initially does not have any workstation reservations on it) but whenever I try to insert a workstation reservation it asks me to provide a workstation, I just want to provide the workstation_name, like this:\r\n```\r\n{\r\n    &quot;workstation_name&quot;:&quot;AORUS&quot;,\r\n    &quot;t_start&quot;: &quot;2023-02-08T22:14:00&quot;,\r\n    &quot;t_end&quot;: &quot;2023-02-08T23:30:00&quot;,\r\n    &quot;t_res&quot;: &quot;2023-02-08T22:14:00&quot;,\r\n    &quot;owner_email&quot;: &quot;email@gmail.com&quot;,\r\n    &quot;cpu_reserved&quot;: 20,\r\n    &quot;cpu_id&quot;: 2,\r\n    &quot;ram_reserved&quot;:200,\r\n    &quot;ram_id&quot;:2,\r\n    &quot;disk_id&quot;:3,\r\n    &quot;disk_reserved&quot;:300,\r\n    &quot;net_reserved&quot;:100,\r\n    &quot;net_id&quot;:1\r\n}\r\n```\r\n\r\nHere are the two java classes:\r\n\r\nWorkstation.java\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n\r\n@Entity\r\npublic class Workstation {\r\n\r\n    @Id\r\n    private String name;\r\n    private String ipv4;\r\n    private String operating_system;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;WorkstationReservation&gt; workstation_reservations;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;Disk&gt; disks;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;Network&gt; networks;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Ram ram;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Cpu cpu;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;Program&gt; programs;\r\n    private int max_reservable_hours;\r\n    private int min_reservable_hours;\r\n    private String location;\r\n    private String description;\r\n    private String group_name;\r\n\r\n}\r\n```\r\n\r\nWorkstationReservation.java\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n\r\n@Entity\r\npublic class WorkstationReservation {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;workstation_reservation_id_gen&quot;,\r\n            sequenceName = &quot;workstation_reservation_id_seq&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;workstation_reservation_id_gen&quot;\r\n    )\r\n    private long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;workstation_name&quot;, insertable = false, updatable = false)\r\n    private Workstation workstation;\r\n\r\n    private Timestamp t_start;\r\n    private Timestamp t_end;\r\n    private Timestamp t_res;\r\n    private String owner_email;\r\n    private int cpu_reserved;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Cpu cpu;\r\n    private int ram_reserved;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Ram ram;\r\n\r\n    private int disk_reserved;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;disk_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Disk disk;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;network_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Network network;\r\n    private int net_reserved;\r\n}\r\n```","title":"One to many mapping Spring Jpa","body":"<p>I have two classes, Workstation and WorkstationReservation. They are in a one to many relationship, a workstation can have several reservations and a workstation reservation is associated to only one workstation.\nWith the configuration I have provided I am able to insert a workstation without specifying a workstation reservation (this is the behaviour I want, a workstation initially does not have any workstation reservations on it) but whenever I try to insert a workstation reservation it asks me to provide a workstation, I just want to provide the workstation_name, like this:</p>\n<pre><code>{\n    &quot;workstation_name&quot;:&quot;AORUS&quot;,\n    &quot;t_start&quot;: &quot;2023-02-08T22:14:00&quot;,\n    &quot;t_end&quot;: &quot;2023-02-08T23:30:00&quot;,\n    &quot;t_res&quot;: &quot;2023-02-08T22:14:00&quot;,\n    &quot;owner_email&quot;: &quot;email@gmail.com&quot;,\n    &quot;cpu_reserved&quot;: 20,\n    &quot;cpu_id&quot;: 2,\n    &quot;ram_reserved&quot;:200,\n    &quot;ram_id&quot;:2,\n    &quot;disk_id&quot;:3,\n    &quot;disk_reserved&quot;:300,\n    &quot;net_reserved&quot;:100,\n    &quot;net_id&quot;:1\n}\n</code></pre>\n<p>Here are the two java classes:</p>\n<p>Workstation.java</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n\n@Entity\npublic class Workstation {\n\n    @Id\n    private String name;\n    private String ipv4;\n    private String operating_system;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;WorkstationReservation&gt; workstation_reservations;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;Disk&gt; disks;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;Network&gt; networks;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Ram ram;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Cpu cpu;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;Program&gt; programs;\n    private int max_reservable_hours;\n    private int min_reservable_hours;\n    private String location;\n    private String description;\n    private String group_name;\n\n}\n</code></pre>\n<p>WorkstationReservation.java</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n\n@Entity\npublic class WorkstationReservation {\n\n    @Id\n    @SequenceGenerator(name = &quot;workstation_reservation_id_gen&quot;,\n            sequenceName = &quot;workstation_reservation_id_seq&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;workstation_reservation_id_gen&quot;\n    )\n    private long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;workstation_name&quot;, insertable = false, updatable = false)\n    private Workstation workstation;\n\n    private Timestamp t_start;\n    private Timestamp t_end;\n    private Timestamp t_res;\n    private String owner_email;\n    private int cpu_reserved;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Cpu cpu;\n    private int ram_reserved;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Ram ram;\n\n    private int disk_reserved;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;disk_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Disk disk;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;network_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Network network;\n    private int net_reserved;\n}\n</code></pre>\n"},{"tags":["java","selenium","junit","jmeter"],"comments":[{"owner":{"account_id":4922689,"reputation":624,"user_id":3964849,"display_name":"Harish Barma"},"score":0,"creation_date":1675780374,"post_id":75374677,"comment_id":132999435,"body_markdown":"if you use the easy way in the link provided, your test jar will be automatically generated when you execute maven build (mvn install). you don&#39;t have to explicitly generate jar","body":"if you use the easy way in the link provided, your test jar will be automatically generated when you execute maven build (mvn install). you don&#39;t have to explicitly generate jar"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675785518,"creation_date":1675785518,"answer_id":75375944,"question_id":75374677,"body_markdown":" 1. You don&#39;t need to choose a main class because you&#39;re not creating an [executable jar][1], you&#39;re creating a .jar with tests\r\n 2. You need to tick &quot;include tests&quot; box\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n\r\nI believe it would be easier to go for Maven Jar Plugin (from your own link) in combination with [Maven Assembly Plugin to add all transitive dependencies][3]. \r\n\r\n\r\n----------\r\nAnd the **easiest** would be just switching to [WebDriver Sampler][4] which can be installed using [JMeter Plugins Manager][5] and put your code there, it will be much easier to debug and amend it, moreover you won&#39;t have to take care about running it with &gt; 1 threads  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file\r\n  [2]: https://i.stack.imgur.com/VimrC.png\r\n  [3]: https://stackoverflow.com/questions/7000812/how-can-i-make-the-test-jar-include-dependencies-in-maven\r\n  [4]: https://jmeter-plugins.org/wiki/WebDriverSampler/\r\n  [5]: https://www.blazemeter.com/blog/jmeter-plugins-manager","title":"Creating .jar from JUnit Class in IntelliJ","body":"<ol>\n<li><p>You don't need to choose a main class because you're not creating an <a href=\"https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file\">executable jar</a>, you're creating a .jar with tests</p>\n</li>\n<li><p>You need to tick &quot;include tests&quot; box</p>\n<p><a href=\"https://i.stack.imgur.com/VimrC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VimrC.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>I believe it would be easier to go for Maven Jar Plugin (from your own link) in combination with <a href=\"https://stackoverflow.com/questions/7000812/how-can-i-make-the-test-jar-include-dependencies-in-maven\">Maven Assembly Plugin to add all transitive dependencies</a>.</p>\n<hr />\n<p>And the <strong>easiest</strong> would be just switching to <a href=\"https://jmeter-plugins.org/wiki/WebDriverSampler/\" rel=\"nofollow noreferrer\">WebDriver Sampler</a> which can be installed using <a href=\"https://www.blazemeter.com/blog/jmeter-plugins-manager\" rel=\"nofollow noreferrer\">JMeter Plugins Manager</a> and put your code there, it will be much easier to debug and amend it, moreover you won't have to take care about running it with &gt; 1 threads</p>\n"}],"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675892172,"creation_date":1675779817,"question_id":75374677,"body_markdown":"I need to run my Selenium scripts in Jmeter. I would like to use Junit request. To reach this I need to make a .jar file from my test file. But I dont know how.\r\nThis is my class with the test:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I try to make a .jar using: File -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; Jar from modules with dependencies -&gt; here I am trying to choose class:\r\n[![enter image description here][2]][2]\r\nbut it is not possible because my Login class is &quot;Unit test class&quot;.\r\n\r\nIs it possible to make .jar file from Unit test class somehow? And will the depedendecies in my pom.xml be preserved?\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried to make it under Main class, but there is a problem with a JUnit annotations.\r\n[![enter image description here][4]][4]\r\n\r\nI wasnt able to achieve this with these tips unfortunatelly :( https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mSgij.png\r\n  [2]: https://i.stack.imgur.com/Z09eJ.png\r\n  [3]: https://i.stack.imgur.com/IIWUA.png\r\n  [4]: https://i.stack.imgur.com/dGNzU.png","title":"Creating .jar from JUnit Class in IntelliJ","body":"<p>I need to run my Selenium scripts in Jmeter. I would like to use Junit request. To reach this I need to make a .jar file from my test file. But I dont know how.\nThis is my class with the test:\n<a href=\"https://i.stack.imgur.com/mSgij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSgij.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to make a .jar using: File -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; Jar from modules with dependencies -&gt; here I am trying to choose class:\n<a href=\"https://i.stack.imgur.com/Z09eJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z09eJ.png\" alt=\"enter image description here\" /></a>\nbut it is not possible because my Login class is &quot;Unit test class&quot;.</p>\n<p>Is it possible to make .jar file from Unit test class somehow? And will the depedendecies in my pom.xml be preserved?</p>\n<p><a href=\"https://i.stack.imgur.com/IIWUA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIWUA.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to make it under Main class, but there is a problem with a JUnit annotations.\n<a href=\"https://i.stack.imgur.com/dGNzU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGNzU.png\" alt=\"enter image description here\" /></a></p>\n<p>I wasnt able to achieve this with these tips unfortunatelly :( <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html</a></p>\n"},{"tags":["java","gradle","groovy","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1675883580,"post_id":75389963,"comment_id":133025991,"body_markdown":"This &quot;understanding gradle&quot; playlist imho is the best, most up to date resource from a guy who worked on gradle https://youtube.com/@jjohannes it covers everything you are asking in easy steps","body":"This &quot;understanding gradle&quot; playlist imho is the best, most up to date resource from a guy who worked on gradle <a href=\"https://youtube.com/@jjohannes\" rel=\"nofollow noreferrer\">youtube.com/@jjohannes</a> it covers everything you are asking in easy steps"}],"answers":[{"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1675898690,"post_id":75391918,"comment_id":133029577,"body_markdown":"You&#39;re better using convention plugins than `allprojects`","body":"You&#39;re better using convention plugins than <code>allprojects</code>"},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1676001803,"post_id":75391918,"comment_id":133053527,"body_markdown":"FWIW I&#39;ve used both.  I&#39;ve been happy with using allprojects to share configuration, tasks, etc.  And I&#39;ve had to switch to using plugins to accomplish things that can&#39;t be done with allprojects.  But plugins come with more overhead, and more process.  buildSrc can help limit that overhead.","body":"FWIW I&#39;ve used both.  I&#39;ve been happy with using allprojects to share configuration, tasks, etc.  And I&#39;ve had to switch to using plugins to accomplish things that can&#39;t be done with allprojects.  But plugins come with more overhead, and more process.  buildSrc can help limit that overhead."},{"owner":{"account_id":20224439,"reputation":5,"user_id":14832809,"display_name":"NoelUzunbeycan"},"score":0,"creation_date":1676043665,"post_id":75391918,"comment_id":133064081,"body_markdown":"@chubbsondubs As by your first suggestion the projects are standalone Projects and I get your Point, but with that i can Only outsource Tasks right?. So the Jar Manipulation might even work, but how do I pass in the Parameters?","body":"@chubbsondubs As by your first suggestion the projects are standalone Projects and I get your Point, but with that i can Only outsource Tasks right?. So the Jar Manipulation might even work, but how do I pass in the Parameters?"},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1676054285,"post_id":75391918,"comment_id":133067207,"body_markdown":"I think you should be to use the extension objects to provide customizations to a shared set of properties for things.  So things like publishing, credentials, etc could all be specified through extensions on your project and the build being included would just refer to those extensions within the skeleton config in it.  You might be able to use properties file if extensions didn&#39;t work.  I know that for a project I have extensions are leveraged to customize an allprojects block as well as plugins.","body":"I think you should be to use the extension objects to provide customizations to a shared set of properties for things.  So things like publishing, credentials, etc could all be specified through extensions on your project and the build being included would just refer to those extensions within the skeleton config in it.  You might be able to use properties file if extensions didn&#39;t work.  I know that for a project I have extensions are leveraged to customize an allprojects block as well as plugins."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1676055717,"post_id":75391918,"comment_id":133067568,"body_markdown":"Looking at your code above in the jar config I&#39;d say you want to move most of that outside of that block, and just move that logic to the outside.  That way you don&#39;t really need to modify the jar config.  Just have some properties you refer to, and that outside logic will set those.  You may have to move away from a specific debugJar task in favor of properties to signify what you want.  That way you don&#39;t need to wait until the taskGraph has finished to parse it.","body":"Looking at your code above in the jar config I&#39;d say you want to move most of that outside of that block, and just move that logic to the outside.  That way you don&#39;t really need to modify the jar config.  Just have some properties you refer to, and that outside logic will set those.  You may have to move away from a specific debugJar task in favor of properties to signify what you want.  That way you don&#39;t need to wait until the taskGraph has finished to parse it."},{"owner":{"account_id":20224439,"reputation":5,"user_id":14832809,"display_name":"NoelUzunbeycan"},"score":0,"creation_date":1676286736,"post_id":75391918,"comment_id":133100140,"body_markdown":"@chubbsondubs as of now i refactored most of my buildfile, but I am struggling to get rid of the createCP() call from the jar task. Because if I set an ext.classPath variable, it is evaluated to late and the classpath in my Manifest is empty (even though I specified that jar depends on createCP). If I try to wrap the manifest-block in a doLast{}, the resulting Manifest is just empty. So how do I achieve the wanted behaviour of: read the dependencies -&gt; ... -&gt; createCP() -&gt; ... -&gt; jar","body":"@chubbsondubs as of now i refactored most of my buildfile, but I am struggling to get rid of the createCP() call from the jar task. Because if I set an ext.classPath variable, it is evaluated to late and the classpath in my Manifest is empty (even though I specified that jar depends on createCP). If I try to wrap the manifest-block in a doLast{}, the resulting Manifest is just empty. So how do I achieve the wanted behaviour of: read the dependencies -&gt; ... -&gt; createCP() -&gt; ... -&gt; jar"},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1676477796,"post_id":75391918,"comment_id":133145733,"body_markdown":"@NoelUzunbeycan I wonder if something like convention might help you.  https://docs.gradle.org/current/userguide/lazy_configuration.html#applying_conventions","body":"@NoelUzunbeycan I wonder if something like convention might help you.  <a href=\"https://docs.gradle.org/current/userguide/lazy_configuration.html#applying_conventions\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675891955,"creation_date":1675891543,"answer_id":75391918,"question_id":75389963,"body_markdown":"You can do this in a couple of ways.  And this comes down to if your project is composed of multiple sub-projects or if they are stand alone projects.  For stand alone projects you can do the following in your settings.gradle file:\r\n\r\n    includeBuild(&quot;../common-project/build.gradle&quot;)\r\n\r\nThe common project would just house the common `build.gradle` file, and you&#39;d declare all of the items you want to share in there.  It would look like a normal build.gradle file.\r\n\r\nThat would require that each project share the common configuration from another project, but wouldn&#39;t require any additional projects be checked out.  Just the common project and the project itself.  For more details see:\r\n\r\nhttps://docs.gradle.org/current/userguide/composite_builds.html\r\n\r\nIf you have more of a multi-project build like say many micro-services or subprojects that make up a larger project then using multi-project setup and declare the common pieces in the `allprojects` closure in the root build.gradle:\r\n\r\n    allprojects {\r\n        plugin: java\r\n        plugin: web\r\n    \r\n        repositories {\r\n          ....\r\n        }\r\n\r\n        dependencies {\r\n           ....\r\n        }\r\n    }\r\n\r\nIn the multi-project case you&#39;d have to check out the top level project and all subprojects.  Your folder layout might look like this:\r\n\r\n    - my-project\r\n      - service-1\r\n          src\r\n          build.gradle\r\n      - service-2\r\n          src\r\n          build.gradle\r\n      - service-3\r\n          src\r\n          build.gradle\r\n        build.gradle\r\n        settings.gradle\r\n\r\nIn the multi-project setup service1, service2, and service3 would be declared in the `settings.gradle` file using `include` like so:\r\n\r\n    rootProject.name = &#39;my-project&#39;\r\n    include `service1`\r\n    include `service2`\r\n    include `service3`\r\n\r\nIn a multi-project setup you&#39;d typically house that in a single source repository as oppose to using `includeBuild` where each project would belong to a separate source code repo.  The former way  forces you to checkout the appropriate number of projects in the multi-project case.  But, in the `includeBuild` case the developer would have to know to check out minimum of 2 projects.","title":"How to write Gradle plugin to cut down build.gradle file","body":"<p>You can do this in a couple of ways.  And this comes down to if your project is composed of multiple sub-projects or if they are stand alone projects.  For stand alone projects you can do the following in your settings.gradle file:</p>\n<pre><code>includeBuild(&quot;../common-project/build.gradle&quot;)\n</code></pre>\n<p>The common project would just house the common <code>build.gradle</code> file, and you'd declare all of the items you want to share in there.  It would look like a normal build.gradle file.</p>\n<p>That would require that each project share the common configuration from another project, but wouldn't require any additional projects be checked out.  Just the common project and the project itself.  For more details see:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/composite_builds.html</a></p>\n<p>If you have more of a multi-project build like say many micro-services or subprojects that make up a larger project then using multi-project setup and declare the common pieces in the <code>allprojects</code> closure in the root build.gradle:</p>\n<pre><code>allprojects {\n    plugin: java\n    plugin: web\n\n    repositories {\n      ....\n    }\n\n    dependencies {\n       ....\n    }\n}\n</code></pre>\n<p>In the multi-project case you'd have to check out the top level project and all subprojects.  Your folder layout might look like this:</p>\n<pre><code>- my-project\n  - service-1\n      src\n      build.gradle\n  - service-2\n      src\n      build.gradle\n  - service-3\n      src\n      build.gradle\n    build.gradle\n    settings.gradle\n</code></pre>\n<p>In the multi-project setup service1, service2, and service3 would be declared in the <code>settings.gradle</code> file using <code>include</code> like so:</p>\n<pre><code>rootProject.name = 'my-project'\ninclude `service1`\ninclude `service2`\ninclude `service3`\n</code></pre>\n<p>In a multi-project setup you'd typically house that in a single source repository as oppose to using <code>includeBuild</code> where each project would belong to a separate source code repo.  The former way  forces you to checkout the appropriate number of projects in the multi-project case.  But, in the <code>includeBuild</code> case the developer would have to know to check out minimum of 2 projects.</p>\n"}],"owner":{"account_id":20224439,"reputation":5,"user_id":14832809,"display_name":"NoelUzunbeycan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75391918,"answer_count":1,"score":0,"last_activity_date":1675891955,"creation_date":1675879472,"question_id":75389963,"body_markdown":"A bit of Context first:\r\nI am working on migrating my companies projects to be built by Gradle.\r\nOne thing, that this results in, is having redundancy in my build.gradle files,\r\nas I am configuring the same Skeleton over and over again.\r\nThis includes:\r\n\r\n- Setting the java-,maven-publish- and org.sonarcube-plugin\r\n- Configuring the repositories to be mavenCentral and our private Artifactory Repo\r\n- Configuring the publishing block, that is all the same, except for the artifactId\r\n- Building a Manifest inside the Jar block (using helper Methods, to correctly build the Manifests   classpath)\r\n- Helper Methods\r\n- two Tasks\r\n- two dependsOn statements\r\n\r\nbuild.gradle file as of now:\r\n\r\n```\r\nplugins {\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n\tid &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\r\n\tid &#39;maven-publish&#39;\r\n\tid &#39;java&#39; \r\n}\r\n\r\ngroup = &#39;group&#39;\r\nversion = &#39;version&#39;\r\nsourceCompatibility = &#39;11&#39;\r\next.artifactName = &#39;ProjectName&#39;\r\n\r\n// Where to look for dependencies:\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven{\r\n\t\tcredentials{\r\n\t\t\tusername = &quot;${artifactory_user}&quot;\r\n\t\t\tpassword = &quot;${artifactory_password}&quot;\r\n\t\t}\r\n\t\turl &quot;${artifactory_contextUrl}&quot;\r\n\t\tallowInsecureProtocol = true\r\n\t}\r\n}\r\n// Where to publish what Artifacts to:\r\npublishing {\r\n\tpublications {\r\n        maven(MavenPublication) {\r\n            groupId = &#39;group&#39;\r\n            artifactId = &#39;ProjectName&#39;\r\n\t\t\tString buildEnvVar = System.env.BUILDENVIRONMENT\r\n\t\t\tif(buildEnvVar == null){\r\n\t\t\t\tversion = &#39;LOCAL BUILD&#39;\r\n\t\t\t}else{\r\n\t\t\t\tversion = &#39;version&#39;\r\n\t\t\t}\r\n            from components.java\r\n        }\r\n    }\r\n    repositories {\r\n        maven {\r\n            // change to point to your repo, e.g. http://my.org/repo\r\n            name = &quot;gradle-dev&quot;\r\n            url = &quot;${artifactory_contextUrl}&quot;\r\n            allowInsecureProtocol = true\r\n            credentials{\r\n            \tusername = &quot;${artifactory_user}&quot;\r\n            \tpassword = &quot;${artifactory_password}&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {...}\r\n\r\njar { \r\n\t// configuration of variables\r\n\tString dateString = new Date().format(&quot;yyyy-MM-dd HH:mm:ss &quot;)\r\n\tString localBuild = &quot;LOCAL BUILD by &quot; + System.getProperty(&quot;user.name&quot;) + &quot; on &quot; + dateString\r\n\tString buildEnvVar = System.env.BUILDENVIRONMENT\r\n\tString buildEnvironment\r\n\tString classpath = createCP()\r\n\tif(buildEnvVar == null){\r\n\t\tbuildEnvironment = localBuild \r\n\t\tarchiveName = &quot;ProjectName&quot;\r\n\t}else{\r\n\t\tbuildEnvironment = buildEnvVar\r\n\t\tarchiveFileName= &quot;ProjectName_&quot; + version + &quot;.jar&quot;\r\n\t\t\r\n\t\tdelete fileTree(&quot;build/libs&quot;) {\r\n\t\t\tinclude(&#39;*&#39;)\r\n\t\t}\r\n\t}\r\n\tmanifest {\r\n\t\tattributes (\r\n\t\t\t&quot;Main-Class&quot;: &quot;org.example.foo&quot;,\r\n\t\t\t&quot;Specification-Title&quot; : &quot;ProjectName&quot;,\r\n\t\t\t&quot;Specification-Vendor&quot; : &quot;blab&quot;,\r\n\t\t\t&quot;Specification-Version&quot; : &quot;Spec-version&quot;, \r\n\t\t\t&quot;Implementation-Title&quot; : &quot;$System.env.JOB_NAME&quot;,\r\n\t\t\t&quot;Implementation-Version&quot; : &quot;Impl-version&quot;,\r\n\t\t\t&quot;Implementation-Vendor&quot; : &quot;blub&quot;,\r\n\t\t\t&quot;Implementation-Vendor-Id&quot; : &quot;blob&quot;,\r\n\t\t\t&quot;Implementation-Url&quot; : &quot;bleb&quot;,\r\n\t\t\t&quot;Build-By&quot; : buildEnvironment,\r\n\t\t\t&#39;Class-Path&#39;: classpath\r\n\t\t)\r\n\t}\r\n}\r\n\r\nString createCP () {\r\n\t// super secret can&#39;t share\r\n}\r\n\r\n// will suffix the jars with release or debug, depending on it being compiled with or without debug-information\r\nproject.gradle.taskGraph.whenReady{\r\n\tboolean isDebug = project.gradle.taskGraph.getAllTasks().join(&#39; &#39;).contains(&#39;debugJar&#39;)\r\n\tcompileJava.options.debug = isDebug\r\n\tString suffix = isDebug? &quot;debug&quot; : &quot;release&quot;\r\n\tString fullJarName = &quot;$artifactName-$suffix&quot; + &quot;.jar&quot;\r\n\t\r\n\tjar.setProperty(&#39;archiveName&#39;, fullJarName)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntask debugJar() {}\r\ndebugJar.dependsOn(jar)\r\n\r\n//Downloads all Jars the project depends on, and saves them in buildDirectory/output/libs if the gradle build command is executed.\r\n\r\n task copyToLib(type: Copy) {\r\n    into &quot;${buildDir}/output/libs&quot;\r\n    from configurations.runtimeClasspath\r\n}\r\n\r\nbuild.dependsOn(copyToLib)\r\n```\r\n\r\nwhat I want to achive:\r\n\r\n```\r\nplugins {\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n    id &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;java&#39;\r\n    id &#39;mySuperPlugin&#39;\r\n}\r\n\r\n// Configure mySuperPlugin\r\nmySuperPlugin {\r\n    artifactId = &#39;xyz&#39;\r\n    mainClass = &#39;org.example.foo&#39;\r\n    version = &#39;version&#39;\r\n    stuffFromOtherTasks = ...\r\n}\r\n\r\n// Where to look for dependencies:\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven{\r\n\t\tcredentials{\r\n\t\t\tusername = &quot;${artifactory_user}&quot;\r\n\t\t\tpassword = &quot;${artifactory_password}&quot;\r\n\t\t}\r\n\t\turl &quot;${artifactory_contextUrl}&quot;\r\n\t\tallowInsecureProtocol = true\r\n\t}\r\n}\r\n\r\ndependencies {...}\r\n```\r\n\r\nMost of the values are the same.\r\nThe ones that aren&#39;t are passed in via Environment-Variables (Jenkins-JobName,...),\r\nor get determined through helper Methods.\r\nI reckon, that i will most likely not end up with a buildfile like the one above,\r\nbut atleast some of the buildfile must be outsourceable.\r\n\r\nI know as of now, that i can create seperate Tasks in a plugin, like comparing two files, that have been passed. What I didn&#39;t find a solution to yet:\r\n\r\n- Can I modify the Jar Task of the project applying the plugin, inside the plugin?\r\n- How do I pass Outputs from other Tasks into my plugins tasks?\r\n- How do I access the applying projects data (i.e. the runtimeClasspath)\r\n- Is a plugin even what i want to do, or is there another way of cutting down the build.gradle file?\r\n\r\nI am relatively unexperienced with gradle. I have read through quite a bit of the docs and other postings, but chances are i just overlooked some best-practice way of doing certain things.\r\nTherefore, feel free to criticize my buildfile aswell as my approach!","title":"How to write Gradle plugin to cut down build.gradle file","body":"<p>A bit of Context first:\nI am working on migrating my companies projects to be built by Gradle.\nOne thing, that this results in, is having redundancy in my build.gradle files,\nas I am configuring the same Skeleton over and over again.\nThis includes:</p>\n<ul>\n<li>Setting the java-,maven-publish- and org.sonarcube-plugin</li>\n<li>Configuring the repositories to be mavenCentral and our private Artifactory Repo</li>\n<li>Configuring the publishing block, that is all the same, except for the artifactId</li>\n<li>Building a Manifest inside the Jar block (using helper Methods, to correctly build the Manifests   classpath)</li>\n<li>Helper Methods</li>\n<li>two Tasks</li>\n<li>two dependsOn statements</li>\n</ul>\n<p>build.gradle file as of now:</p>\n<pre><code>plugins {\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\n    id 'maven-publish'\n    id 'java' \n}\n\ngroup = 'group'\nversion = 'version'\nsourceCompatibility = '11'\next.artifactName = 'ProjectName'\n\n// Where to look for dependencies:\nrepositories {\n    mavenCentral()\n    maven{\n        credentials{\n            username = &quot;${artifactory_user}&quot;\n            password = &quot;${artifactory_password}&quot;\n        }\n        url &quot;${artifactory_contextUrl}&quot;\n        allowInsecureProtocol = true\n    }\n}\n// Where to publish what Artifacts to:\npublishing {\n    publications {\n        maven(MavenPublication) {\n            groupId = 'group'\n            artifactId = 'ProjectName'\n            String buildEnvVar = System.env.BUILDENVIRONMENT\n            if(buildEnvVar == null){\n                version = 'LOCAL BUILD'\n            }else{\n                version = 'version'\n            }\n            from components.java\n        }\n    }\n    repositories {\n        maven {\n            // change to point to your repo, e.g. http://my.org/repo\n            name = &quot;gradle-dev&quot;\n            url = &quot;${artifactory_contextUrl}&quot;\n            allowInsecureProtocol = true\n            credentials{\n                username = &quot;${artifactory_user}&quot;\n                password = &quot;${artifactory_password}&quot;\n            }\n        }\n    }\n}\n\ndependencies {...}\n\njar { \n    // configuration of variables\n    String dateString = new Date().format(&quot;yyyy-MM-dd HH:mm:ss &quot;)\n    String localBuild = &quot;LOCAL BUILD by &quot; + System.getProperty(&quot;user.name&quot;) + &quot; on &quot; + dateString\n    String buildEnvVar = System.env.BUILDENVIRONMENT\n    String buildEnvironment\n    String classpath = createCP()\n    if(buildEnvVar == null){\n        buildEnvironment = localBuild \n        archiveName = &quot;ProjectName&quot;\n    }else{\n        buildEnvironment = buildEnvVar\n        archiveFileName= &quot;ProjectName_&quot; + version + &quot;.jar&quot;\n        \n        delete fileTree(&quot;build/libs&quot;) {\n            include('*')\n        }\n    }\n    manifest {\n        attributes (\n            &quot;Main-Class&quot;: &quot;org.example.foo&quot;,\n            &quot;Specification-Title&quot; : &quot;ProjectName&quot;,\n            &quot;Specification-Vendor&quot; : &quot;blab&quot;,\n            &quot;Specification-Version&quot; : &quot;Spec-version&quot;, \n            &quot;Implementation-Title&quot; : &quot;$System.env.JOB_NAME&quot;,\n            &quot;Implementation-Version&quot; : &quot;Impl-version&quot;,\n            &quot;Implementation-Vendor&quot; : &quot;blub&quot;,\n            &quot;Implementation-Vendor-Id&quot; : &quot;blob&quot;,\n            &quot;Implementation-Url&quot; : &quot;bleb&quot;,\n            &quot;Build-By&quot; : buildEnvironment,\n            'Class-Path': classpath\n        )\n    }\n}\n\nString createCP () {\n    // super secret can't share\n}\n\n// will suffix the jars with release or debug, depending on it being compiled with or without debug-information\nproject.gradle.taskGraph.whenReady{\n    boolean isDebug = project.gradle.taskGraph.getAllTasks().join(' ').contains('debugJar')\n    compileJava.options.debug = isDebug\n    String suffix = isDebug? &quot;debug&quot; : &quot;release&quot;\n    String fullJarName = &quot;$artifactName-$suffix&quot; + &quot;.jar&quot;\n    \n    jar.setProperty('archiveName', fullJarName)\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ntask debugJar() {}\ndebugJar.dependsOn(jar)\n\n//Downloads all Jars the project depends on, and saves them in buildDirectory/output/libs if the gradle build command is executed.\n\n task copyToLib(type: Copy) {\n    into &quot;${buildDir}/output/libs&quot;\n    from configurations.runtimeClasspath\n}\n\nbuild.dependsOn(copyToLib)\n</code></pre>\n<p>what I want to achive:</p>\n<pre><code>plugins {\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\n    id 'maven-publish'\n    id 'java'\n    id 'mySuperPlugin'\n}\n\n// Configure mySuperPlugin\nmySuperPlugin {\n    artifactId = 'xyz'\n    mainClass = 'org.example.foo'\n    version = 'version'\n    stuffFromOtherTasks = ...\n}\n\n// Where to look for dependencies:\nrepositories {\n    mavenCentral()\n    maven{\n        credentials{\n            username = &quot;${artifactory_user}&quot;\n            password = &quot;${artifactory_password}&quot;\n        }\n        url &quot;${artifactory_contextUrl}&quot;\n        allowInsecureProtocol = true\n    }\n}\n\ndependencies {...}\n</code></pre>\n<p>Most of the values are the same.\nThe ones that aren't are passed in via Environment-Variables (Jenkins-JobName,...),\nor get determined through helper Methods.\nI reckon, that i will most likely not end up with a buildfile like the one above,\nbut atleast some of the buildfile must be outsourceable.</p>\n<p>I know as of now, that i can create seperate Tasks in a plugin, like comparing two files, that have been passed. What I didn't find a solution to yet:</p>\n<ul>\n<li>Can I modify the Jar Task of the project applying the plugin, inside the plugin?</li>\n<li>How do I pass Outputs from other Tasks into my plugins tasks?</li>\n<li>How do I access the applying projects data (i.e. the runtimeClasspath)</li>\n<li>Is a plugin even what i want to do, or is there another way of cutting down the build.gradle file?</li>\n</ul>\n<p>I am relatively unexperienced with gradle. I have read through quite a bit of the docs and other postings, but chances are i just overlooked some best-practice way of doing certain things.\nTherefore, feel free to criticize my buildfile aswell as my approach!</p>\n"},{"tags":["java","pine-script"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676033249,"post_id":75391961,"comment_id":133060693,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":18341070,"reputation":1,"user_id":13357316,"display_name":"BItGuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675891904,"creation_date":1675891904,"question_id":75391961,"body_markdown":"I&#39;ve written a simple strategy in PineScript. It goes long when the higherLevelEMA is greater than the lowerLevelEMA and goes short when the higherLevelEMA is lesser than the lowerLevelEMA. This appears to be a working strategy on timeframes like the 15 minute chart. However, while the lowerLevelEMA is pretty straight forward. I am lost as to how the higherLevelEMA is actually being calculated to result in such positive results. I would like to figure out the specifics so I can recreate it in Java. Here is the short PineScript code:\r\n\r\n/@version=2\r\nstrategy(&quot;EMA Crossover&quot;, overlay=true)\r\n\r\nhigherLevelClose = security(tickerid, &quot;300&quot;, close)\r\n\r\nhigherLevelEMA = ema(higherLevelClose, 16)\r\n\r\nlowerLevelEMA = ema(close, 21)\r\n\r\nlongCondition = crossover(higherLevelEMA, lowerLevelEMA)\r\nif (longCondition)\r\n    strategy.entry(&quot;My Long Entry Id&quot;, strategy.long)\r\nshortcondition = crossunder(higherLevelEMA, lowerLevelEMA)\r\nif (shortcondition)\r\n    strategy.entry(&quot;My Short Entry Id&quot;, strategy.short)\r\n\r\nplot(higherLevelEMA)\r\nplot(lowerLevelEMA) \r\n\r\nI tried to show the strategy I am working on and explained how I am having difficulty with understanding the calculation of a variable.","title":"How is the higherLevelEMA variable calculated?","body":"<p>I've written a simple strategy in PineScript. It goes long when the higherLevelEMA is greater than the lowerLevelEMA and goes short when the higherLevelEMA is lesser than the lowerLevelEMA. This appears to be a working strategy on timeframes like the 15 minute chart. However, while the lowerLevelEMA is pretty straight forward. I am lost as to how the higherLevelEMA is actually being calculated to result in such positive results. I would like to figure out the specifics so I can recreate it in Java. Here is the short PineScript code:</p>\n<p>/@version=2\nstrategy(&quot;EMA Crossover&quot;, overlay=true)</p>\n<p>higherLevelClose = security(tickerid, &quot;300&quot;, close)</p>\n<p>higherLevelEMA = ema(higherLevelClose, 16)</p>\n<p>lowerLevelEMA = ema(close, 21)</p>\n<p>longCondition = crossover(higherLevelEMA, lowerLevelEMA)\nif (longCondition)\nstrategy.entry(&quot;My Long Entry Id&quot;, strategy.long)\nshortcondition = crossunder(higherLevelEMA, lowerLevelEMA)\nif (shortcondition)\nstrategy.entry(&quot;My Short Entry Id&quot;, strategy.short)</p>\n<p>plot(higherLevelEMA)\nplot(lowerLevelEMA)</p>\n<p>I tried to show the strategy I am working on and explained how I am having difficulty with understanding the calculation of a variable.</p>\n"},{"tags":["java","executorservice"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1675892022,"post_id":75391904,"comment_id":133028237,"body_markdown":"Probably the easiest solution is to have your `Runnable` use a try-catch around the actual work, and then simply call `executorService.shutdown()` (or `shutdownNow()`) if an exception is caught. Make sure to rethrow the exception so that the `Future` is still marked as failed.","body":"Probably the easiest solution is to have your <code>Runnable</code> use a try-catch around the actual work, and then simply call <code>executorService.shutdown()</code> (or <code>shutdownNow()</code>) if an exception is caught. Make sure to rethrow the exception so that the <code>Future</code> is still marked as failed."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675899004,"post_id":75391904,"comment_id":133029621,"body_markdown":"Alternatively, pass the executor to a `CompletableFuture`, and check for it completing exceptionally. Something like `compFuture.exceptionally(ex -&gt; executorService.shutdownNow())`","body":"Alternatively, pass the executor to a <code>CompletableFuture</code>, and check for it completing exceptionally. Something like <code>compFuture.exceptionally(ex -&gt; executorService.shutdownNow())</code>"}],"owner":{"account_id":2560275,"reputation":339,"user_id":2326697,"accept_rate":78,"display_name":"Zygmuntix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675891455,"creation_date":1675891455,"question_id":75391904,"body_markdown":"I would like to implement shutting down ExecutorService when at least one Future fails. If this is not possible to be done with ExecutorService please tell me if there is some class that supports this (or maybe I should implement this on my own?). Code:\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    public void runCommand(String command) {\r\n        \t/* This is done in reaction for an event, so we do not know when the new Runnable will be\r\n        \tsubmitted... sometimes we can have 10 tasks on the ExecutorService &#39;queue&#39;, sometimes 100 etc. */\r\n        \tRunnable runnable = () -&gt; {\r\n        \tlogger.info(&quot;do something&quot;);\r\n        \t};\r\n        \tFuture&lt;?&gt; runnableFuture = executorService.submit(runnable );\r\n        \r\n        \t// Somehow &#39;attach&#39; to ExecutorService and when at least Future&lt;?&gt; from its internal queue is finished and fails -&gt; then shutdown the whole ExecutorService.\r\n        }","title":"Shutdown ExecutorService when at least one Future fails","body":"<p>I would like to implement shutting down ExecutorService when at least one Future fails. If this is not possible to be done with ExecutorService please tell me if there is some class that supports this (or maybe I should implement this on my own?). Code:</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\npublic void runCommand(String command) {\n        /* This is done in reaction for an event, so we do not know when the new Runnable will be\n        submitted... sometimes we can have 10 tasks on the ExecutorService 'queue', sometimes 100 etc. */\n        Runnable runnable = () -&gt; {\n        logger.info(&quot;do something&quot;);\n        };\n        Future&lt;?&gt; runnableFuture = executorService.submit(runnable );\n    \n        // Somehow 'attach' to ExecutorService and when at least Future&lt;?&gt; from its internal queue is finished and fails -&gt; then shutdown the whole ExecutorService.\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amazon-rds","spring-jdbc"],"answers":[{"comments":[{"owner":{"account_id":5079558,"reputation":383,"user_id":4076057,"accept_rate":100,"display_name":"Enigma"},"score":0,"creation_date":1675983571,"post_id":75391862,"comment_id":133050936,"body_markdown":"Postgresql driver defines a failover of a comma delimited list of url&#39;s to databases. I realize mine is malformed in my post, but it&#39;s still not working even when formatted correctly. https://jdbc.postgresql.org/documentation/use/#connection-fail-over","body":"Postgresql driver defines a failover of a comma delimited list of url&#39;s to databases. I realize mine is malformed in my post, but it&#39;s still not working even when formatted correctly. <a href=\"https://jdbc.postgresql.org/documentation/use/#connection-fail-over\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/documentation/use/#connection-fail-over</a>"}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675891203,"creation_date":1675891203,"answer_id":75391862,"question_id":75391705,"body_markdown":"This is not the kind of thing I would ordinarily rely upon Spring for. \r\n\r\nAmazon-rds should have some kind of failover feature. And, depending on how your SpringBoot is deployed, you should be able to set it up to die gracefully during any interruption.\r\n\r\nLacking explicit features in Amazon-rds, you should also be able to set up a load balancer in AWS that will give you continuity of address, if not continuity of connection.","title":"Can a single spring data source take multiple urls?","body":"<p>This is not the kind of thing I would ordinarily rely upon Spring for.</p>\n<p>Amazon-rds should have some kind of failover feature. And, depending on how your SpringBoot is deployed, you should be able to set it up to die gracefully during any interruption.</p>\n<p>Lacking explicit features in Amazon-rds, you should also be able to set up a load balancer in AWS that will give you continuity of address, if not continuity of connection.</p>\n"}],"owner":{"account_id":5079558,"reputation":383,"user_id":4076057,"accept_rate":100,"display_name":"Enigma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675891203,"creation_date":1675890137,"question_id":75391705,"body_markdown":"Regarding the potential failover of an AWS RDS db from east region -&gt; west region, I need to be able to failover graciously. It&#39;s simpler if it were the same region multi-AZ since only one DNS needs to be maintained, but I can&#39;t think of a good solution in this case.\r\n\r\nCan a spring datasource take multiple URL&#39;s? \r\n\r\nExample:\r\n\r\n    spring.datasource.url: jdbc:postgresql://url1.com/db1, jdbc:postgresql://url2.com/db1\r\n\r\nI have not seen any information really on whether or not this is possible, local testing seems to say that this is not possible. ","title":"Can a single spring data source take multiple urls?","body":"<p>Regarding the potential failover of an AWS RDS db from east region -&gt; west region, I need to be able to failover graciously. It's simpler if it were the same region multi-AZ since only one DNS needs to be maintained, but I can't think of a good solution in this case.</p>\n<p>Can a spring datasource take multiple URL's?</p>\n<p>Example:</p>\n<pre><code>spring.datasource.url: jdbc:postgresql://url1.com/db1, jdbc:postgresql://url2.com/db1\n</code></pre>\n<p>I have not seen any information really on whether or not this is possible, local testing seems to say that this is not possible.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675891810,"post_id":75391853,"comment_id":133028182,"body_markdown":"This is just for local dev presumably? When I want to be sure I&#39;m only picking up stuff that&#39;s local, I just install with a name for the version that will never make it to a real repo, e.g. &quot;michael-1.2.3&quot;, and use that in the dependent project. In fact, all our projects use `${revision}` for their version, which is initialized in `&lt;properties&gt;` to a default value = `localdev-SNAPSHOT`; CI overrides it to a real version like `1.2.3`. Achieves the same as what I described, but you never have to touch it.","body":"This is just for local dev presumably? When I want to be sure I&#39;m only picking up stuff that&#39;s local, I just install with a name for the version that will never make it to a real repo, e.g. &quot;michael-1.2.3&quot;, and use that in the dependent project. In fact, all our projects use <code>${revision}</code> for their version, which is initialized in <code>&lt;properties&gt;</code> to a default value = <code>localdev-SNAPSHOT</code>; CI overrides it to a real version like <code>1.2.3</code>. Achieves the same as what I described, but you never have to touch it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675900936,"post_id":75391853,"comment_id":133029950,"body_markdown":"Is this a multi module build??","body":"Is this a multi module build??"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675919112,"post_id":75391853,"comment_id":133032359,"body_markdown":"Does this answer your question? [How do I force Maven to use my local repository rather than going out to remote repos to retrieve artifacts?](https://stackoverflow.com/questions/33548395/how-do-i-force-maven-to-use-my-local-repository-rather-than-going-out-to-remote)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33548395/how-do-i-force-maven-to-use-my-local-repository-rather-than-going-out-to-remote\">How do I force Maven to use my local repository rather than going out to remote repos to retrieve artifacts?</a>"},{"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"score":0,"creation_date":1675963201,"post_id":75391853,"comment_id":133045494,"body_markdown":"@Micheal, yes it is for local dev only, and yes I could go down that route of a different value for version such as `localdev-SNAPSHOT`.\n@khmarbaise, yes, multi module but also multi project. I don&#39;t have the option of changing that setup unfortunately.\n@life888888, I tried changing the `updatePolicy` as referenced in that answer, but it seems like it never took effect. My `common-module` that was locally built never got picked up even though it was the newest package (built seconds earlier)","body":"@Micheal, yes it is for local dev only, and yes I could go down that route of a different value for version such as <code>localdev-SNAPSHOT</code>. @khmarbaise, yes, multi module but also multi project. I don&#39;t have the option of changing that setup unfortunately. @life888888, I tried changing the <code>updatePolicy</code> as referenced in that answer, but it seems like it never took effect. My <code>common-module</code> that was locally built never got picked up even though it was the newest package (built seconds earlier)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676046917,"post_id":75391853,"comment_id":133065152,"body_markdown":"If you have a multi module build that has to work otherwise your setup is wrong... That something is tried to get from cache or alike implies something is wrong... Best is to test a multi module setup via the following steps: Try to build on plain command line (outside of IDE): `mvn clean verify -Dmaven.repo.local=$(pwd)/.repo` that should work withou any issue which I doubt... furthermore if you are using `${revision}` in your project version or parents you have to use `flatten-maven-plugin` ...(https://maven.apache.org/maven-ci-friendly.html)","body":"If you have a multi module build that has to work otherwise your setup is wrong... That something is tried to get from cache or alike implies something is wrong... Best is to test a multi module setup via the following steps: Try to build on plain command line (outside of IDE): <code>mvn clean verify -Dmaven.repo.local=$(pwd)&#47;.repo</code> that should work withou any issue which I doubt... furthermore if you are using <code>${revision}</code> in your project version or parents you have to use <code>flatten-maven-plugin</code> ...(<a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a>)"}],"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675891155,"creation_date":1675891155,"question_id":75391853,"body_markdown":"I have 2 maven projects where one depends on another. Let&#39;s call them `common` and `service`. \r\n\r\n`service` specifically depends on a module within `common` we&#39;ll call `common-module`.\r\n\r\nIf I make an update to `common-module` and run `mvn clean install`, it gets properly installed to my **local** repository.\r\n\r\n### Problem\r\nIn `service`, when I do a `mvn clean package/install` or `mvn -U clean package/install` will pick up the version that&#39;s in the **remote** repository even though the one I just built is newer. I cannot get it to pick up that latest version even though I see it in my `.m2/repository`.\r\n\r\nHow can I get it to pick my locally built jar?\r\n\r\n### Setup\r\n\r\n`pom.xml` for `common` (simplified, a lot is excluded)\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  \r\n    &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \r\n    &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \r\n    &lt;name&gt;Common Parent&lt;/name&gt;  \r\n    &lt;modules&gt;  \r\n        &lt;module&gt;common-module&lt;/module&gt;  \r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`pom.xml` for `common-module` (simplified, a lot is excluded)\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n    &lt;artifactId&gt;common-module&lt;/artifactId&gt;  \r\n    &lt;name&gt;common-module&lt;/name&gt;  \r\n    &lt;description&gt;common-module&lt;/description&gt;  \r\n    &lt;parent&gt;  \r\n        &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \r\n        &lt;groupId&gt;com.company.group&lt;/groupId&gt;  \r\n        &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \r\n    &lt;/parent&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`pom.xml` for `service` (simplified, a lot is excluded)\r\n\r\n```xml\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n\t&lt;artifactId&gt;service&lt;/artifactId&gt;  \r\n\t&lt;name&gt;service&lt;/name&gt;  \r\n\t&lt;version&gt;1.2.3-SNAPSHOT&lt;/version&gt;\r\n  \t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;  \r\n\t\t\t&lt;artifactId&gt;common-module&lt;/artifactId&gt;  \r\n\t\t\t&lt;groupId&gt;com.company.group&lt;/groupId&gt;  \r\n\t\t\t&lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Note 1**: I have a workaround where I can adjust the library settings within IntelliJ and force it to use the correct jar file, but this feels very hacky and unsustainable to me.\r\n\r\n**Note 2**: I&#39;ve tried changing the `&lt;updatePolicy&gt;` value in my `settings.xml` to `never` and other values, but it seems to have had no effect. This was suggested in other posts I&#39;ve read before asking here.\r\n\r\n```xml\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;Archiva Managed Snapshot Repository&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;http://internal.url/repository/snapshots&lt;/url&gt;\r\n\t\t\t\t&lt;releases&gt;\r\n\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t\t&lt;/releases&gt;\r\n\t\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n\t\t\t\t&lt;/snapshots&gt;\r\n\t\t\t&lt;/repository&gt;\r\n```","title":"Maven (IntelliJ) always using remote repository for artifacts","body":"<p>I have 2 maven projects where one depends on another. Let's call them <code>common</code> and <code>service</code>.</p>\n<p><code>service</code> specifically depends on a module within <code>common</code> we'll call <code>common-module</code>.</p>\n<p>If I make an update to <code>common-module</code> and run <code>mvn clean install</code>, it gets properly installed to my <strong>local</strong> repository.</p>\n<h3>Problem</h3>\n<p>In <code>service</code>, when I do a <code>mvn clean package/install</code> or <code>mvn -U clean package/install</code> will pick up the version that's in the <strong>remote</strong> repository even though the one I just built is newer. I cannot get it to pick up that latest version even though I see it in my <code>.m2/repository</code>.</p>\n<p>How can I get it to pick my locally built jar?</p>\n<h3>Setup</h3>\n<p><code>pom.xml</code> for <code>common</code> (simplified, a lot is excluded)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  \n    &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \n    &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \n    &lt;name&gt;Common Parent&lt;/name&gt;  \n    &lt;modules&gt;  \n        &lt;module&gt;common-module&lt;/module&gt;  \n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>pom.xml</code> for <code>common-module</code> (simplified, a lot is excluded)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n    &lt;artifactId&gt;common-module&lt;/artifactId&gt;  \n    &lt;name&gt;common-module&lt;/name&gt;  \n    &lt;description&gt;common-module&lt;/description&gt;  \n    &lt;parent&gt;  \n        &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \n        &lt;groupId&gt;com.company.group&lt;/groupId&gt;  \n        &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \n    &lt;/parent&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>pom.xml</code> for <code>service</code> (simplified, a lot is excluded)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n    &lt;artifactId&gt;service&lt;/artifactId&gt;  \n    &lt;name&gt;service&lt;/name&gt;  \n    &lt;version&gt;1.2.3-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;  \n            &lt;artifactId&gt;common-module&lt;/artifactId&gt;  \n            &lt;groupId&gt;com.company.group&lt;/groupId&gt;  \n            &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Note 1</strong>: I have a workaround where I can adjust the library settings within IntelliJ and force it to use the correct jar file, but this feels very hacky and unsustainable to me.</p>\n<p><strong>Note 2</strong>: I've tried changing the <code>&lt;updatePolicy&gt;</code> value in my <code>settings.xml</code> to <code>never</code> and other values, but it seems to have had no effect. This was suggested in other posts I've read before asking here.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;repository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;Archiva Managed Snapshot Repository&lt;/name&gt;\n                &lt;url&gt;http://internal.url/repository/snapshots&lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n</code></pre>\n"},{"tags":["java","maven","jenkins-pipeline","jenkins-plugins","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":26967292,"reputation":200,"user_id":20533909,"display_name":"grzegorzgrzegorz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675891086,"creation_date":1675891086,"answer_id":75391841,"question_id":75374119,"body_markdown":"It may be a blind shot here, but I would check [Nodes and Processes plugin][1]\r\nconfiguration in Jenkins (is plugin enabled? is plugin installed?). Also I would check if other steps which are part of this plugin like *sh* are working as expected.\r\n\r\n  [1]: https://www.jenkins.io/doc/pipeline/steps/workflow-durable-task-step/#node-allocate-node","title":"Jenkins error &quot;java.lang.NoSuchMethodError: No such DSL method &#39;node&#39; found among steps ....&quot;","body":"<p>It may be a blind shot here, but I would check <a href=\"https://www.jenkins.io/doc/pipeline/steps/workflow-durable-task-step/#node-allocate-node\" rel=\"nofollow noreferrer\">Nodes and Processes plugin</a>\nconfiguration in Jenkins (is plugin enabled? is plugin installed?). Also I would check if other steps which are part of this plugin like <em>sh</em> are working as expected.</p>\n"}],"owner":{"account_id":21105956,"reputation":11,"user_id":15514942,"display_name":"Alex Dunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675891086,"creation_date":1675776932,"question_id":75374119,"body_markdown":"the groovy script starts with \r\n```\r\nnode {\r\n    stage(&quot;Checkout&quot;){\r\n        echo &quot;git checkout&quot;\r\n        checkout changelog: false, poll: false, scm: [\r\n```\r\nThis `groovy` script should checkout a `java` project and run some `maven` commands on it. \r\n\r\nError:\r\n```\r\njava.lang.NoSuchMethodError: No such DSL method &#39;node&#39; found among steps...\r\n```\r\n\r\nThis used to work before some changes, but I couldn&#39;t say what what altered. \r\nCurrent version is `2.147`\r\nI found it might be a `Jenkins` plugin issue but nothing more","title":"Jenkins error &quot;java.lang.NoSuchMethodError: No such DSL method &#39;node&#39; found among steps ....&quot;","body":"<p>the groovy script starts with</p>\n<pre><code>node {\n    stage(&quot;Checkout&quot;){\n        echo &quot;git checkout&quot;\n        checkout changelog: false, poll: false, scm: [\n</code></pre>\n<p>This <code>groovy</code> script should checkout a <code>java</code> project and run some <code>maven</code> commands on it.</p>\n<p>Error:</p>\n<pre><code>java.lang.NoSuchMethodError: No such DSL method 'node' found among steps...\n</code></pre>\n<p>This used to work before some changes, but I couldn't say what what altered.\nCurrent version is <code>2.147</code>\nI found it might be a <code>Jenkins</code> plugin issue but nothing more</p>\n"},{"tags":["java","selenium","jmeter"],"answers":[{"comments":[{"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"score":0,"creation_date":1676286939,"post_id":75389934,"comment_id":133100189,"body_markdown":"Choosing &quot;groovy&quot; solves the problem. Another solution is to edit code like this: e.g. `element.sendKeys(new String[]{&quot;textToBeSent&quot;});` instead of `element.sendKeys(&quot;textToBeSent&quot;);`","body":"Choosing &quot;groovy&quot; solves the problem. Another solution is to edit code like this: e.g. <code>element.sendKeys(new String[]{&quot;textToBeSent&quot;});</code> instead of <code>element.sendKeys(&quot;textToBeSent&quot;);</code>"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675879238,"creation_date":1675879238,"answer_id":75389934,"question_id":75387124,"body_markdown":"You&#39;re just violating [JMeter Best Practices][1], using [Beanshell is not recommended since JMeter 3.1][2]\r\n\r\nThe reason is that [WebElement.sendKeys()][3] function expects a [CharSequence][4] and you&#39;re trying to pass a [String][5] there and Beanshell interpreter doesn&#39;t like it. \r\n\r\nSwitch the language to `groovy` and the issue will go away. See [Apache Groovy: What Is Groovy Used For?][6] article for more information on Groovy scripting in JMeter \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [2]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [3]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#sendKeys(java.lang.CharSequence...)\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n  [6]: https://www.blazemeter.com/blog/apache-groovy","title":".sendKeys method problems in WebDriver Sampler JMeter","body":"<p>You're just violating <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a>, using <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Beanshell is not recommended since JMeter 3.1</a></p>\n<p>The reason is that <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#sendKeys(java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">WebElement.sendKeys()</a> function expects a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\">CharSequence</a> and you're trying to pass a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> there and Beanshell interpreter doesn't like it.</p>\n<p>Switch the language to <code>groovy</code> and the issue will go away. See <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a> article for more information on Groovy scripting in JMeter</p>\n"}],"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75389934,"answer_count":1,"score":0,"last_activity_date":1675890967,"creation_date":1675866060,"question_id":75387124,"body_markdown":"I&#39;m making WebDriver Selenium scripts and trying to run them with JMeter.\r\nI have an issue I don&#39;t understand. My code will crash at line 17 with this error in JMeter:\r\n\r\n````\r\nERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: \r\nimport org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . &#39;&#39; : Error in method invocation: Method sendKeys( java.lang.String ) not found in class&#39;org.openqa.selenium.remote.RemoteWebElement&#39; : at Line: 17 : in file: inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . &#39;&#39; : .sendKeys ( &quot;value&quot; ) \r\n in inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . &#39;&#39; at line number 17\r\n````\r\n\r\nThis is my code in WebDriver Sampler in JMeter:\r\n\r\n[code with .sendKeys method](https://i.stack.imgur.com/33afY.png)\r\n\r\nWhat is the problem? Am I just blind?\r\n\r\nI tried to import `org.openqa.selenium.remote.RemoteWebElement` directly to the script and I also tried to change syntax because I learned it was necessary to put an Array instead of a String behind .sendKeys method, but it didn&#39;t work for me.\r\n\r\nI am using apache-jmeter-5.5 and Script Language in WebDriver Sampler is set to java.","title":".sendKeys method problems in WebDriver Sampler JMeter","body":"<p>I'm making WebDriver Selenium scripts and trying to run them with JMeter.\nI have an issue I don't understand. My code will crash at line 17 with this error in JMeter:</p>\n<pre><code>ERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: \nimport org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . '' : Error in method invocation: Method sendKeys( java.lang.String ) not found in class'org.openqa.selenium.remote.RemoteWebElement' : at Line: 17 : in file: inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . '' : .sendKeys ( &quot;value&quot; ) \n in inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . '' at line number 17\n</code></pre>\n<p>This is my code in WebDriver Sampler in JMeter:</p>\n<p><a href=\"https://i.stack.imgur.com/33afY.png\" rel=\"nofollow noreferrer\">code with .sendKeys method</a></p>\n<p>What is the problem? Am I just blind?</p>\n<p>I tried to import <code>org.openqa.selenium.remote.RemoteWebElement</code> directly to the script and I also tried to change syntax because I learned it was necessary to put an Array instead of a String behind .sendKeys method, but it didn't work for me.</p>\n<p>I am using apache-jmeter-5.5 and Script Language in WebDriver Sampler is set to java.</p>\n"},{"tags":["java","generics","interface","parameterized"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1675890937,"post_id":75391648,"comment_id":133027934,"body_markdown":"Despite the map, which should logically prevent you from passing the incorrect fruit to a fruit handler, the compiler only sees an `AbstractFruitHandler&lt;?&gt;` and a `Fruit`. What if the type of `f` was `Banana` and the type of `handler` was `AppleHandler`? To the compiler, that&#39;s a possible scenario, thus the types don&#39;t match.","body":"Despite the map, which should logically prevent you from passing the incorrect fruit to a fruit handler, the compiler only sees an <code>AbstractFruitHandler&lt;?&gt;</code> and a <code>Fruit</code>. What if the type of <code>f</code> was <code>Banana</code> and the type of <code>handler</code> was <code>AppleHandler</code>? To the compiler, that&#39;s a possible scenario, thus the types don&#39;t match."},{"owner":{"account_id":16394206,"reputation":79,"user_id":11842231,"display_name":"langio"},"score":0,"creation_date":1675907850,"post_id":75391648,"comment_id":133030902,"body_markdown":"That makes sense! So what I have should be refactored then? I&#39;m thinking I may need to update `AbstractFruitHandler` to instead have method `handle(Fruit fruit)`. And then in each implementation of `AbstractFruitHandler`,  explicitly cast the Fruit to the concrete type. Was trying to avoid having to do this.","body":"That makes sense! So what I have should be refactored then? I&#39;m thinking I may need to update <code>AbstractFruitHandler</code> to instead have method <code>handle(Fruit fruit)</code>. And then in each implementation of <code>AbstractFruitHandler</code>,  explicitly cast the Fruit to the concrete type. Was trying to avoid having to do this."}],"owner":{"account_id":16394206,"reputation":79,"user_id":11842231,"display_name":"langio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675889737,"creation_date":1675889737,"question_id":75391648,"body_markdown":"I have defined the class:\r\n\r\n    public abstract class AbstractFruitHandler&lt;T extends Fruit&gt; {\r\n       public abstract void handle(T fruit);\r\n       ...\r\n    }\r\n\r\nWhere `Fruit` is an interface.\r\n\r\nExample of a class that extends this abstract class:\r\n\r\n    public class AppleHandler extends AbstractFruitHandler&lt;Apple&gt; {\r\n        @Override\r\n        public void handle(Apple a) {\r\n                 ...\r\n             }\r\n        }\r\n    }\r\nWhere `Apple` is a class that implements `Fruit`.\r\n\r\nI have defined a map of these fruit handlers as such:\r\n\r\n    Map&lt;FruitType, AbtractFruitHandler&lt;? extends Fruit&gt; handlers = Map.of(\r\n         FruitType.APPLE, new AppleHandler(),\r\n         FruitType.BANANA, new BananaHandler()\r\n    );\r\n\r\nNow here is where I begin to see issues. Consider the code below:\r\n\r\n    for (Fruit f : fruits) {\r\n        AbstractFruitHandler handler = handlers.get(f.getType());\r\n        handler.handle(f);\r\n    }\r\nThis code works fine! The only issue is that the IDE warns about `Raw use of parameterized class &#39;AbstractFruitHandler&#39;`.\r\n\r\n\r\nTo suppress this warning, I tried to update this code to:\r\n\r\n    for (Fruit f : fruits) {\r\n        AbstractFruitHandler&lt;? extends Fruit&gt; handler = handlers.get(f.getType());\r\n        handler.handle(f);\r\n    }\r\n\r\nBut then I get a compilation error saying that the required type of the `handle` method is `capture of ? extends Fruit`, and not the provided type `Fruit`.\r\n\r\nI should also note that I get the same error when I try to explicitly pass in a concrete implementation of `Fruit`.\r\n\r\nIf possible, I&#39;d like to know why I see this compilation error even though I am passing in objects that are a subtype of `Fruit`.\r\n\r\nI&#39;m also wondering what other possible solutions there are.","title":"Compilation error with Java Generics: Required type &#39;capture of ? extends MyInterface&#39; when passing object implementing MyInterface","body":"<p>I have defined the class:</p>\n<pre><code>public abstract class AbstractFruitHandler&lt;T extends Fruit&gt; {\n   public abstract void handle(T fruit);\n   ...\n}\n</code></pre>\n<p>Where <code>Fruit</code> is an interface.</p>\n<p>Example of a class that extends this abstract class:</p>\n<pre><code>public class AppleHandler extends AbstractFruitHandler&lt;Apple&gt; {\n    @Override\n    public void handle(Apple a) {\n             ...\n         }\n    }\n}\n</code></pre>\n<p>Where <code>Apple</code> is a class that implements <code>Fruit</code>.</p>\n<p>I have defined a map of these fruit handlers as such:</p>\n<pre><code>Map&lt;FruitType, AbtractFruitHandler&lt;? extends Fruit&gt; handlers = Map.of(\n     FruitType.APPLE, new AppleHandler(),\n     FruitType.BANANA, new BananaHandler()\n);\n</code></pre>\n<p>Now here is where I begin to see issues. Consider the code below:</p>\n<pre><code>for (Fruit f : fruits) {\n    AbstractFruitHandler handler = handlers.get(f.getType());\n    handler.handle(f);\n}\n</code></pre>\n<p>This code works fine! The only issue is that the IDE warns about <code>Raw use of parameterized class 'AbstractFruitHandler'</code>.</p>\n<p>To suppress this warning, I tried to update this code to:</p>\n<pre><code>for (Fruit f : fruits) {\n    AbstractFruitHandler&lt;? extends Fruit&gt; handler = handlers.get(f.getType());\n    handler.handle(f);\n}\n</code></pre>\n<p>But then I get a compilation error saying that the required type of the <code>handle</code> method is <code>capture of ? extends Fruit</code>, and not the provided type <code>Fruit</code>.</p>\n<p>I should also note that I get the same error when I try to explicitly pass in a concrete implementation of <code>Fruit</code>.</p>\n<p>If possible, I'd like to know why I see this compilation error even though I am passing in objects that are a subtype of <code>Fruit</code>.</p>\n<p>I'm also wondering what other possible solutions there are.</p>\n"},{"tags":["java","sonarqube"],"owner":{"account_id":318580,"reputation":3208,"user_id":635885,"accept_rate":88,"display_name":"Joly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675889645,"creation_date":1675889645,"question_id":75391633,"body_markdown":"I&#39;m trying to configure sonar to connect to postgers over ssl. That Postgres server is using DigiCert Root CA.\r\n\r\nWhen I configure it like that by explicitly pointing at the CA file it works just fine:\r\n\r\n    sonar.jdbc.url=jdbc:postgresql://myserver/sonarqube?ssl=true&amp;sslmode=verify-ca&amp;sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt\r\n\r\nHowever when remove `sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt` assuming sonar will use the java keystore it bootstraps with it fails to authenticate as it fails to verify that Root certificate.\r\n\r\n**I have verified that the java CA trust store sonar uses has that CA in it and that the details match the one it works with by explicitly pointing at from the jdbc connection settings.**\r\n\r\nWhat am I missing as I&#39;d like sonar to use the java keystore rather than explicitly pointing at a CA file ?\r\n","title":"SonarQube SSL with Postgres doesn&#39;t work when using its java keystore","body":"<p>I'm trying to configure sonar to connect to postgers over ssl. That Postgres server is using DigiCert Root CA.</p>\n<p>When I configure it like that by explicitly pointing at the CA file it works just fine:</p>\n<pre><code>sonar.jdbc.url=jdbc:postgresql://myserver/sonarqube?ssl=true&amp;sslmode=verify-ca&amp;sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt\n</code></pre>\n<p>However when remove <code>sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt</code> assuming sonar will use the java keystore it bootstraps with it fails to authenticate as it fails to verify that Root certificate.</p>\n<p><strong>I have verified that the java CA trust store sonar uses has that CA in it and that the details match the one it works with by explicitly pointing at from the jdbc connection settings.</strong></p>\n<p>What am I missing as I'd like sonar to use the java keystore rather than explicitly pointing at a CA file ?</p>\n"},{"tags":["java","https","proxy","java-web-start","tunneling"],"comments":[{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":0,"creation_date":1485175484,"post_id":41806422,"comment_id":70800947,"body_markdown":"Were you able to verify, that property is generall working? This SO answer may help: http://stackoverflow.com/a/4036534/867816","body":"Were you able to verify, that property is generall working? This SO answer may help: <a href=\"http://stackoverflow.com/a/4036534/867816\">stackoverflow.com/a/4036534/867816</a>"},{"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"score":0,"creation_date":1485176457,"post_id":41806422,"comment_id":70801599,"body_markdown":"No, it&#39;s the first time I am trying to use a property tag. However java-vm-args does not seem to apply here, as there are only a few arguments supported this was. Here is a list: http://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html\nHowever, now I see there is also such a list for the property tag. Hm. So there is no possible way to enable basic auth proxy tunneling in Java Web Start?","body":"No, it&#39;s the first time I am trying to use a property tag. However java-vm-args does not seem to apply here, as there are only a few arguments supported this was. Here is a list: <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/javaws/&hellip;</a> However, now I see there is also such a list for the property tag. Hm. So there is no possible way to enable basic auth proxy tunneling in Java Web Start?"}],"answers":[{"tags":[],"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1518775994,"creation_date":1486110588,"answer_id":42019858,"question_id":41806422,"body_markdown":"I found out that there is one way, but not in the hands of the developer: The user can add \r\n\r\n    -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\nfor Java 8 in Java Control Panel → Java → View... → Runtime Parameters\r\n\r\nfor Java 9 in Java Control Panel → Desktop Settings → Runtime Parameters","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>I found out that there is one way, but not in the hands of the developer: The user can add </p>\n\n<pre><code>-Djdk.http.auth.tunneling.disabledSchemes=\"\"\n</code></pre>\n\n<p>for Java 8 in Java Control Panel → Java → View... → Runtime Parameters</p>\n\n<p>for Java 9 in Java Control Panel → Desktop Settings → Runtime Parameters</p>\n"},{"tags":[],"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1519294060,"creation_date":1492785905,"answer_id":43545638,"question_id":41806422,"body_markdown":"Beside the answer of mbee one can also configure this in the `net.properties` file of the jre:\r\n\r\n`C:\\Program Files (x86)\\Java\\jre1.8.0_131\\lib\\net.properties`\r\n\r\nCurrently last line 100 need to be commented out:\r\n\r\nBefore:\r\n\r\n     #jdk.http.auth.proxying.disabledSchemes=\r\n     jdk.http.auth.tunneling.disabledSchemes=Basic\r\n\r\n\r\nAfter:\r\n\r\n     #jdk.http.auth.proxying.disabledSchemes=\r\n     #jdk.http.auth.tunneling.disabledSchemes=Basic\r\n\r\nNote that both answers need to be repeated after a Java Update, although the Java Auto Update is deactivated with Basic Internet Proxy Authentication.\r\n","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>Beside the answer of mbee one can also configure this in the <code>net.properties</code> file of the jre:</p>\n\n<p><code>C:\\Program Files (x86)\\Java\\jre1.8.0_131\\lib\\net.properties</code></p>\n\n<p>Currently last line 100 need to be commented out:</p>\n\n<p>Before:</p>\n\n<pre><code> #jdk.http.auth.proxying.disabledSchemes=\n jdk.http.auth.tunneling.disabledSchemes=Basic\n</code></pre>\n\n<p>After:</p>\n\n<pre><code> #jdk.http.auth.proxying.disabledSchemes=\n #jdk.http.auth.tunneling.disabledSchemes=Basic\n</code></pre>\n\n<p>Note that both answers need to be repeated after a Java Update, although the Java Auto Update is deactivated with Basic Internet Proxy Authentication.</p>\n"},{"comments":[{"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"score":1,"creation_date":1494401650,"post_id":43877148,"comment_id":74806577,"body_markdown":"Are you sure you can change such security settings at runtime? \nI mean: Did you check if this has an effect?","body":"Are you sure you can change such security settings at runtime?  I mean: Did you check if this has an effect?"},{"owner":{"account_id":10744229,"reputation":91,"user_id":7906175,"display_name":"bj03rnv0ss"},"score":0,"creation_date":1494508654,"post_id":43877148,"comment_id":74866253,"body_markdown":"Yes you can. I&#39;ve just been struggeling with that problem a few days ago and found this thread which solved the problem I had. I closed up setting the property in the main method which works fine for me.","body":"Yes you can. I&#39;ve just been struggeling with that problem a few days ago and found this thread which solved the problem I had. I closed up setting the property in the main method which works fine for me."},{"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"score":3,"creation_date":1519294135,"post_id":43877148,"comment_id":84855449,"body_markdown":"sounds like a security bug","body":"sounds like a security bug"}],"tags":[],"owner":{"account_id":10744229,"reputation":91,"user_id":7906175,"display_name":"bj03rnv0ss"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1494353867,"creation_date":1494353867,"answer_id":43877148,"question_id":41806422,"body_markdown":"If you require to do this at runtime you can set the value of the *jdk.http.auth.proxying.disabledSchemes* property by adding\r\n\r\n    System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n\r\nto the main method of your application.","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>If you require to do this at runtime you can set the value of the <em>jdk.http.auth.proxying.disabledSchemes</em> property by adding</p>\n\n<pre><code>System.setProperty(\"jdk.http.auth.tunneling.disabledSchemes\", \"\");\n</code></pre>\n\n<p>to the main method of your application.</p>\n"},{"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":4,"creation_date":1542952435,"post_id":51087692,"comment_id":93755473,"body_markdown":"Setting such a property programmatically DOES work, but you have to be sure that the initialization is done before the first network connection is made. Some libraries do network connections during initialization, e.g. you logging framework could set up logging via UDP, or a library could &quot;helpfully&quot; check for updates, or something like that.","body":"Setting such a property programmatically DOES work, but you have to be sure that the initialization is done before the first network connection is made. Some libraries do network connections during initialization, e.g. you logging framework could set up logging via UDP, or a library could &quot;helpfully&quot; check for updates, or something like that."}],"tags":[],"owner":{"account_id":8121981,"reputation":11,"user_id":6118398,"display_name":"David Elsener"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530203473,"creation_date":1530203473,"answer_id":51087692,"question_id":41806422,"body_markdown":"I had this issue too while trying to access an external SOAP Webservice trough a Proxy-Server using BASIC-Authentification for an application running on Apache Tomcat. \r\n\r\nSetting the property programmatically (*System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);*) during application initialization **did not work**. It had to be set as VM-Argument or (not very nice way of course :)) in [JRE_HOME]\\lib\\net.properties.","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>I had this issue too while trying to access an external SOAP Webservice trough a Proxy-Server using BASIC-Authentification for an application running on Apache Tomcat. </p>\n\n<p>Setting the property programmatically (<em>System.setProperty(\"jdk.http.auth.tunneling.disabledSchemes\", \"\");</em>) during application initialization <strong>did not work</strong>. It had to be set as VM-Argument or (not very nice way of course :)) in [JRE_HOME]\\lib\\net.properties.</p>\n"},{"tags":[],"owner":{"account_id":2783084,"reputation":341,"user_id":2395187,"display_name":"TechSingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675889628,"creation_date":1675889628,"answer_id":75391630,"question_id":41806422,"body_markdown":"I enabled the below feature in net.properties and it worked without any other changes:\r\n\r\njava.net.useSystemProxies=true (this was false earlier)","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>I enabled the below feature in net.properties and it worked without any other changes:</p>\n<p>java.net.useSystemProxies=true (this was false earlier)</p>\n"}],"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39875,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":42019858,"answer_count":5,"score":21,"last_activity_date":1675889628,"creation_date":1485174563,"question_id":41806422,"body_markdown":"Some of our customers cannot run our Java Web Start client anymore since Java 8 Update 111. They get:\r\n\r\n&gt; java.io.IOException: Unable to tunnel through proxy. Proxy returns\r\n&gt; &quot;HTTP/1.1 407 Proxy Authentication Required\r\n\r\nLooks like it has to do with this [change][1]:\r\n\r\n&gt; Now, proxies requiring Basic authentication when setting up a tunnel\r\n&gt; for HTTPS will no longer succeed by default. If required, this\r\n&gt; authentication scheme can be reactivated by removing Basic from the\r\n&gt; jdk.http.auth.tunneling.disabledSchemes networking property, or by\r\n&gt; setting a system property of the same name to &quot;&quot; ( empty ) on the\r\n&gt; command line.\r\n\r\nIs there any way if customers are not willing to change their proxy authentication method? \r\n\r\n**Note:** Adding `&lt;property name=&quot;jdk.http.auth.tunneling.disabledSchemes&quot; value=&quot;&quot;/&gt;` to `&lt;resources&gt;` of the JNLP has no effect. This is because only a few properties are supported this way (there is a list near the bottom of [this page][2]). &quot;jdk.http.auth.tunneling.disabledSchemes&quot; is not among them.\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/8u111-relnotes-3124969.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>Some of our customers cannot run our Java Web Start client anymore since Java 8 Update 111. They get:</p>\n\n<blockquote>\n  <p>java.io.IOException: Unable to tunnel through proxy. Proxy returns\n  \"HTTP/1.1 407 Proxy Authentication Required</p>\n</blockquote>\n\n<p>Looks like it has to do with this <a href=\"https://www.oracle.com/technetwork/java/javase/8u111-relnotes-3124969.html\" rel=\"noreferrer\">change</a>:</p>\n\n<blockquote>\n  <p>Now, proxies requiring Basic authentication when setting up a tunnel\n  for HTTPS will no longer succeed by default. If required, this\n  authentication scheme can be reactivated by removing Basic from the\n  jdk.http.auth.tunneling.disabledSchemes networking property, or by\n  setting a system property of the same name to \"\" ( empty ) on the\n  command line.</p>\n</blockquote>\n\n<p>Is there any way if customers are not willing to change their proxy authentication method? </p>\n\n<p><strong>Note:</strong> Adding <code>&lt;property name=\"jdk.http.auth.tunneling.disabledSchemes\" value=\"\"/&gt;</code> to <code>&lt;resources&gt;</code> of the JNLP has no effect. This is because only a few properties are supported this way (there is a list near the bottom of <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html\" rel=\"noreferrer\">this page</a>). \"jdk.http.auth.tunneling.disabledSchemes\" is not among them.</p>\n"},{"tags":["java","sql","spring","jpa","graphql"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1674758002,"post_id":75249437,"comment_id":132787152,"body_markdown":"`UTC` -- Why does the parameter have a time offset (Universal Time Clock in this case)? LocalDateTime cannot accept time offsets or time zones. It seems the parameter value you are passing is a timestamp **WITH TIME ZONE** or similar. Get rid of the time zone.","body":"<code>UTC</code> -- Why does the parameter have a time offset (Universal Time Clock in this case)? LocalDateTime cannot accept time offsets or time zones. It seems the parameter value you are passing is a timestamp <b>WITH TIME ZONE</b> or similar. Get rid of the time zone."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674759413,"post_id":75249437,"comment_id":132787533,"body_markdown":"Looks like a toString was called on a java.util.Date object, which prints off the date in the default local/timezone/format. It doesn&#39;t mean there is a UTC timezone specified, only that the value represents midnight Jan 18th in UTC. This is a java exception, so the problem is with what you are passing in to the query - your parameter isn&#39;t a LocalDateTime, so check your method signatures and values, as you may need to convert it, as I don&#39;t think this is specifications changing anything to a Date object. How and where are you getting this exception from exactly? (ie show the stack trace)","body":"Looks like a toString was called on a java.util.Date object, which prints off the date in the default local/timezone/format. It doesn&#39;t mean there is a UTC timezone specified, only that the value represents midnight Jan 18th in UTC. This is a java exception, so the problem is with what you are passing in to the query - your parameter isn&#39;t a LocalDateTime, so check your method signatures and values, as you may need to convert it, as I don&#39;t think this is specifications changing anything to a Date object. How and where are you getting this exception from exactly? (ie show the stack trace)"},{"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"score":0,"creation_date":1674767081,"post_id":75249437,"comment_id":132789422,"body_markdown":"I&#39;m passing the value through a graphql playground, and it only accepts certain inputs or it hangs indefinitely","body":"I&#39;m passing the value through a graphql playground, and it only accepts certain inputs or it hangs indefinitely"},{"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"score":0,"creation_date":1674767144,"post_id":75249437,"comment_id":132789438,"body_markdown":"The input I pass in is `2023-01-18T00:00` and it appears to parse to a LocalDateTime correctly. I&#39;ll add the full stack trace to the post","body":"The input I pass in is <code>2023-01-18T00:00</code> and it appears to parse to a LocalDateTime correctly. I&#39;ll add the full stack trace to the post"},{"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"score":0,"creation_date":1674767700,"post_id":75249437,"comment_id":132789593,"body_markdown":"When I translate to a LocalDateTime, I can also use a dateFormatter but that doesn&#39;t really change anything because I&#39;m always able to translate to a LocalDateTime object. The issue comes when trying to execute in JPA","body":"When I translate to a LocalDateTime, I can also use a dateFormatter but that doesn&#39;t really change anything because I&#39;m always able to translate to a LocalDateTime object. The issue comes when trying to execute in JPA"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1675874204,"post_id":75249437,"comment_id":133022998,"body_markdown":"Maybe you could create+share a test case which recreates the problem? Or some more of your code allowing others to recreate the problem? This would allow potential fixes to be checked :)","body":"Maybe you could create+share a test case which recreates the problem? Or some more of your code allowing others to recreate the problem? This would allow potential fixes to be checked :)"}],"answers":[{"tags":[],"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675889374,"creation_date":1675889374,"answer_id":75391588,"question_id":75249437,"body_markdown":"The issue ended up being this part of the filter library. I had to fork the repo, remove the block of code, and then publish my own version of the library: https://github.com/intuit/graphql-filter-java/issues/29\r\n\r\nHopefully it can be fixed more formally for others in the future :)","title":"Spring Boot -- Can&#39;t use LocalDateTime with GraphQL filter library","body":"<p>The issue ended up being this part of the filter library. I had to fork the repo, remove the block of code, and then publish my own version of the library: <a href=\"https://github.com/intuit/graphql-filter-java/issues/29\" rel=\"nofollow noreferrer\">https://github.com/intuit/graphql-filter-java/issues/29</a></p>\n<p>Hopefully it can be fixed more formally for others in the future :)</p>\n"}],"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75391588,"answer_count":1,"score":-1,"last_activity_date":1675889374,"creation_date":1674752728,"question_id":75249437,"body_markdown":"Long story short, I have a custom filter object that I use to convert into JPA queries. \r\n\r\n```\r\n// env is a DataFetchingEnvironment\r\nFilterExpression filterExpression = builder.args(env.getArguments()).build();\r\nSpecification&lt;BaseModel&gt; specification = filterExpression.getExpression(ExpressionFormat.JPA);\r\n```\r\n\r\nThe stack trace is from JPA, but it&#39;s because the filter library is converting the date into a strange format\r\n\r\n```\r\nParameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\r\n```\r\n\r\nIt seems like the filter expression coerces the argument to a `Date` type but the SQL column is a `DateTime`. \r\n\r\nWhen I look online there are some solutions to this using native queries which would NOT work here because of the custom filter object I&#39;m using (I can query on multiple fields by building a JPA expression, and the only filter that isn&#39;t working is `LocalDateTime`).\r\n\r\nEdit: More detail\r\n\r\nIn SQL the column type is `DateTime` and there&#39;s nothing special specified for the column definition on hibernate. \r\n\r\nFull stack trace\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler$1$1.bind(CriteriaCompiler.java:140) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:364) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.18.jar:5.3.18]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy207.createQuery(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:801) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:779) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:517) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\t... 53 common frames omitted\r\n```\r\n\r\nEdit2: \r\n\r\nThe problem is with how my graphql library is building the datetime filter from `FilterExpression.newFilterExpressionBuilder().args(env.getArguments()).build()`. I was able to somewhat bypass things by omitting the DateTime filter and adding the specification myself afterwards but ideally I could get things to work with the filter expression builder.","title":"Spring Boot -- Can&#39;t use LocalDateTime with GraphQL filter library","body":"<p>Long story short, I have a custom filter object that I use to convert into JPA queries.</p>\n<pre><code>// env is a DataFetchingEnvironment\nFilterExpression filterExpression = builder.args(env.getArguments()).build();\nSpecification&lt;BaseModel&gt; specification = filterExpression.getExpression(ExpressionFormat.JPA);\n</code></pre>\n<p>The stack trace is from JPA, but it's because the filter library is converting the date into a strange format</p>\n<pre><code>Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\n</code></pre>\n<p>It seems like the filter expression coerces the argument to a <code>Date</code> type but the SQL column is a <code>DateTime</code>.</p>\n<p>When I look online there are some solutions to this using native queries which would NOT work here because of the custom filter object I'm using (I can query on multiple fields by building a JPA expression, and the only filter that isn't working is <code>LocalDateTime</code>).</p>\n<p>Edit: More detail</p>\n<p>In SQL the column type is <code>DateTime</code> and there's nothing special specified for the column definition on hibernate.</p>\n<p>Full stack trace</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler$1$1.bind(CriteriaCompiler.java:140) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:364) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.18.jar:5.3.18]\n    at jdk.proxy2/jdk.proxy2.$Proxy207.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:801) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:779) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:517) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.18.jar:5.3.18]\n    ... 53 common frames omitted\n</code></pre>\n<p>Edit2:</p>\n<p>The problem is with how my graphql library is building the datetime filter from <code>FilterExpression.newFilterExpressionBuilder().args(env.getArguments()).build()</code>. I was able to somewhat bypass things by omitting the DateTime filter and adding the specification myself afterwards but ideally I could get things to work with the filter expression builder.</p>\n"},{"tags":["java","android","network-interface"],"answers":[{"comments":[{"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"score":0,"creation_date":1663362489,"post_id":73708542,"comment_id":130230264,"body_markdown":"it doesn&#39;t solve the problem, my interface come up then down, my interface is a modem driver, it is not correctly managed by the ethernet tracker","body":"it doesn&#39;t solve the problem, my interface come up then down, my interface is a modem driver, it is not correctly managed by the ethernet tracker"},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":1,"creation_date":1663363713,"post_id":73708542,"comment_id":130230556,"body_markdown":"It comes up then down because nobody is using it and `ConnectivityService` tears it down in that case. Depending on which version of Android you are using, file a `NetworkRequest` by either `StringNetworkSpecifier` or `EthernetNetworkSpecifier`. You can file this before the network comes up in which case it won&#39;t get torn down, or you can file it after in which case it should be brought up. By filing the request, it let&#39;s `ConnectivityService` know this network is needed and not to tear it down.","body":"It comes up then down because nobody is using it and <code>ConnectivityService</code> tears it down in that case. Depending on which version of Android you are using, file a <code>NetworkRequest</code> by either <code>StringNetworkSpecifier</code> or <code>EthernetNetworkSpecifier</code>. You can file this before the network comes up in which case it won&#39;t get torn down, or you can file it after in which case it should be brought up. By filing the request, it let&#39;s <code>ConnectivityService</code> know this network is needed and not to tear it down."},{"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"score":0,"creation_date":1664188863,"post_id":73708542,"comment_id":130406407,"body_markdown":"can you develop your response into a little pseudo code, or a java code, your reponse sounds good, I&#39;m not an expert in android java part, but i start to understand by reading your response, i&#39;m using android 11","body":"can you develop your response into a little pseudo code, or a java code, your reponse sounds good, I&#39;m not an expert in android java part, but i start to understand by reading your response, i&#39;m using android 11"}],"tags":[],"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663098624,"creation_date":1663098624,"answer_id":73708542,"question_id":73705789,"body_markdown":"Treat the network as an ethernet interface.\r\n\r\nYou can either use the default name of &quot;ethx&quot; for you interface. In your case, rename `pif0` to `eth0`. This will cause it to match as an ethernet interface which will cause it to be tracked by the android stack. This should almost assuredly work for your use case.\r\n\r\nThe other option would be to update the android resource overlay `config_ethernet_iface_regex` to match your naming scheme of `pifx`.","title":"How to add and manage a new network interface into android stack","body":"<p>Treat the network as an ethernet interface.</p>\n<p>You can either use the default name of &quot;ethx&quot; for you interface. In your case, rename <code>pif0</code> to <code>eth0</code>. This will cause it to match as an ethernet interface which will cause it to be tracked by the android stack. This should almost assuredly work for your use case.</p>\n<p>The other option would be to update the android resource overlay <code>config_ethernet_iface_regex</code> to match your naming scheme of <code>pifx</code>.</p>\n"},{"tags":[],"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675888491,"creation_date":1675888491,"answer_id":75391463,"question_id":73705789,"body_markdown":"The response is dependent to each vendor, but in general, when the RIL makes setup data call, it enables the NIC interface, then it sends the data connection information to the java RIL part, then the information is sent to the connectivityService which creates a network agent to manage the NIC interface, then the netd sets the routing table and necessary firewall rules.\r\n\r\nThis may vary from vendor to an other","title":"How to add and manage a new network interface into android stack","body":"<p>The response is dependent to each vendor, but in general, when the RIL makes setup data call, it enables the NIC interface, then it sends the data connection information to the java RIL part, then the information is sent to the connectivityService which creates a network agent to manage the NIC interface, then the netd sets the routing table and necessary firewall rules.</p>\n<p>This may vary from vendor to an other</p>\n"}],"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675888491,"creation_date":1663083611,"question_id":73705789,"body_markdown":"I have developed a network driver for the mobile linux kernel.\r\nMy network device (pif0) run well with\r\n\r\n    ifconfig pif0 10.22.2.15\r\n    ping -I pif0 8.8.8.8\r\n\r\nNow i want that android stack be able to track this device and to set it as the default gateway to internet.\r\n\r\n\r\nI think that i should develop a number of java classes to track my new interface and manage it, but i don&#39;t know how to make them in the good order.\r\n\r\nany one who have made this exercise can advice please?\r\n","title":"How to add and manage a new network interface into android stack","body":"<p>I have developed a network driver for the mobile linux kernel.\nMy network device (pif0) run well with</p>\n<pre><code>ifconfig pif0 10.22.2.15\nping -I pif0 8.8.8.8\n</code></pre>\n<p>Now i want that android stack be able to track this device and to set it as the default gateway to internet.</p>\n<p>I think that i should develop a number of java classes to track my new interface and manage it, but i don't know how to make them in the good order.</p>\n<p>any one who have made this exercise can advice please?</p>\n"},{"tags":["java","kotlin","opencv"],"owner":{"account_id":232352,"reputation":16522,"user_id":497132,"accept_rate":75,"display_name":"artem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887791,"creation_date":1675887791,"question_id":75391346,"body_markdown":"I have around 2000 ABGR Mats, around 20x20 px each.\r\n\r\nAt least half of them are solid-colored, the colors can be different for each Mat, and it can be any color.\r\n\r\nCurrently I&#39;m iterating over these Mats like this:\r\n\r\n    private inline fun Mat.isSingleColor(): Boolean {\r\n        get(0, 0, singleColorReferencePixelData)\r\n\r\n        for (row in 0 until rows()) {\r\n            for (column in 0 until cols())  {\r\n                get(row, column, singleColorCurrentPixelData)\r\n\r\n                if (!singleColorReferencePixelData.contentEquals(singleColorCurrentPixelData)) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\nIt works, but it&#39;s slow for my task, it takes around 100ms to check all 2000 images.\r\n\r\nIs there a way to speed it up?","title":"How to do fast check if Java OpenCV Mat is solid?","body":"<p>I have around 2000 ABGR Mats, around 20x20 px each.</p>\n<p>At least half of them are solid-colored, the colors can be different for each Mat, and it can be any color.</p>\n<p>Currently I'm iterating over these Mats like this:</p>\n<pre><code>private inline fun Mat.isSingleColor(): Boolean {\n    get(0, 0, singleColorReferencePixelData)\n\n    for (row in 0 until rows()) {\n        for (column in 0 until cols())  {\n            get(row, column, singleColorCurrentPixelData)\n\n            if (!singleColorReferencePixelData.contentEquals(singleColorCurrentPixelData)) {\n                return false\n            }\n        }\n    }\n\n    return true\n}\n</code></pre>\n<p>It works, but it's slow for my task, it takes around 100ms to check all 2000 images.</p>\n<p>Is there a way to speed it up?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":2,"creation_date":1591220247,"post_id":62183042,"comment_id":109977431,"body_markdown":"Explain your input what does each line mean?","body":"Explain your input what does each line mean?"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1591220285,"post_id":62183042,"comment_id":109977455,"body_markdown":"When you say your code isn&#39;t giving the proper solution, could you tell us what solution it *is* giving?","body":"When you say your code isn&#39;t giving the proper solution, could you tell us what solution it <i>is</i> giving?"},{"owner":{"account_id":18727545,"reputation":96,"user_id":13653796,"display_name":"Simon He"},"score":0,"creation_date":1591220611,"post_id":62183042,"comment_id":109977589,"body_markdown":"Your question is somewhat unclear, can you explain your inputs and why you got that output","body":"Your question is somewhat unclear, can you explain your inputs and why you got that output"},{"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"score":0,"creation_date":1591220704,"post_id":62183042,"comment_id":109977624,"body_markdown":"Yeah! I&#39;m sorry for being unclear. My output is coming 1 rather than 3 for the example mentioned.","body":"Yeah! I&#39;m sorry for being unclear. My output is coming 1 rather than 3 for the example mentioned."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1634024864,"post_id":62183042,"comment_id":122908810,"body_markdown":"It seems that your input arrays are sorted in ascending order, so I dont get your first `for` loop: shouldn&#39;t it be ``for (int i=a.get(0);i&lt;=b.get(n-1);i++) {` ?","body":"It seems that your input arrays are sorted in ascending order, so I dont get your first <code>for</code> loop: shouldn&#39;t it be ``for (int i=a.get(0);i&lt;=b.get(n-1);i++) {` ?"}],"answers":[{"comments":[{"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"score":1,"creation_date":1591221812,"post_id":62183382,"comment_id":109978018,"body_markdown":"You Helped! thanks for appreciation, I&#39;m just a beginner in coding.","body":"You Helped! thanks for appreciation, I&#39;m just a beginner in coding."},{"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"score":0,"creation_date":1591222190,"post_id":62183382,"comment_id":109978143,"body_markdown":"Well for me that is some different level but I think I can see the solution in there too, I just don&#39;t know about streams.","body":"Well for me that is some different level but I think I can see the solution in there too, I just don&#39;t know about streams."},{"owner":{"account_id":5830029,"reputation":227,"user_id":4594906,"display_name":"Soufyane Bouchaala"},"score":0,"creation_date":1670756224,"post_id":62183382,"comment_id":131942640,"body_markdown":"you can make small change to win some performance: ...filter(value -&gt; i % value != 0).count() == 0 ... unstead of calling size() on each iteration","body":"you can make small change to win some performance: ...filter(value -&gt; i % value != 0).count() == 0 ... unstead of calling size() on each iteration"}],"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591221823,"creation_date":1591221411,"answer_id":62183382,"question_id":62183042,"body_markdown":"    private static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        int total = 0, x = 0, y = 0;\r\n        for (int i = a.get(n - 1); i &lt;= b.get(0); i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (i % a.get(j) == 0) {\r\n                    y++;\r\n                }\r\n            }\r\n            if (y == n) {\r\n                for (int k = 0; k &lt; m; k++) {\r\n                    if (b.get(k) % i == 0) {\r\n                        x++;\r\n                    }\r\n                }\r\n                if (x == m) {\r\n                    total++;\r\n                }\r\n            }\r\n            // changes here\r\n            y = 0;\r\n            x = 0;\r\n        }\r\n        return total;\r\n    }\r\n\r\nGreat progress. You were very close. Algorithm is on point and efficient.\r\n\r\nOnly one mistake: you were resetting the variables `x` and `y` inside the `if` conditions. \r\n\r\nWhat if the condition is not true? Then the variables are never reset and all the future computations are done on those wrong values in `x` and `y`.\r\n\r\n\r\n----------\r\n\r\nLike Java8? Here is a one-liner:\r\n\r\n    return (int) IntStream.rangeClosed(a.get(n - 1), b.get(0))\r\n            .filter(i -&gt; a.stream().filter(value -&gt; i % value == 0).count() == a.size())\r\n            .filter(i -&gt; b.stream().filter(value -&gt; value % i == 0).count() == b.size())\r\n            .count();","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<pre><code>private static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    int total = 0, x = 0, y = 0;\n    for (int i = a.get(n - 1); i &lt;= b.get(0); i++) {\n        for (int j = 0; j &lt; n; j++) {\n            if (i % a.get(j) == 0) {\n                y++;\n            }\n        }\n        if (y == n) {\n            for (int k = 0; k &lt; m; k++) {\n                if (b.get(k) % i == 0) {\n                    x++;\n                }\n            }\n            if (x == m) {\n                total++;\n            }\n        }\n        // changes here\n        y = 0;\n        x = 0;\n    }\n    return total;\n}\n</code></pre>\n\n<p>Great progress. You were very close. Algorithm is on point and efficient.</p>\n\n<p>Only one mistake: you were resetting the variables <code>x</code> and <code>y</code> inside the <code>if</code> conditions. </p>\n\n<p>What if the condition is not true? Then the variables are never reset and all the future computations are done on those wrong values in <code>x</code> and <code>y</code>.</p>\n\n<hr>\n\n<p>Like Java8? Here is a one-liner:</p>\n\n<pre><code>return (int) IntStream.rangeClosed(a.get(n - 1), b.get(0))\n        .filter(i -&gt; a.stream().filter(value -&gt; i % value == 0).count() == a.size())\n        .filter(i -&gt; b.stream().filter(value -&gt; value % i == 0).count() == b.size())\n        .count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17475006,"reputation":11,"user_id":12670067,"display_name":"Muhammad Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642278533,"creation_date":1642278533,"answer_id":70725176,"question_id":62183042,"body_markdown":"My solution in Python\r\n\r\n    def getTotal(a,b):\r\n      consider_ineger=[]\r\n      for i in range(a[len(a)-1],b[0]+1):\r\n        is_factor=False\r\n    \r\n        for n in a:\r\n            if i%n==0:\r\n                is_factor=True\r\n            else:\r\n                is_factor=False\r\n                break\r\n        if is_factor:\r\n            consider_ineger.append(i)\r\n    \r\n     print(consider_ineger)\r\n     final=[]\r\n    \r\n     for i in consider_ineger:\r\n        is_factor=False\r\n        for n in b:\r\n            if n%i==0:\r\n                is_factor=True\r\n            else:\r\n                is_factor=False\r\n                break\r\n        if is_factor:\r\n            final.append(i)\r\n    return len(final)","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<p>My solution in Python</p>\n<pre><code>def getTotal(a,b):\n  consider_ineger=[]\n  for i in range(a[len(a)-1],b[0]+1):\n    is_factor=False\n\n    for n in a:\n        if i%n==0:\n            is_factor=True\n        else:\n            is_factor=False\n            break\n    if is_factor:\n        consider_ineger.append(i)\n\n print(consider_ineger)\n final=[]\n\n for i in consider_ineger:\n    is_factor=False\n    for n in b:\n        if n%i==0:\n            is_factor=True\n        else:\n            is_factor=False\n            break\n    if is_factor:\n        final.append(i)\nreturn len(final)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2140425,"reputation":764,"user_id":1899214,"display_name":"Jeff Neet"},"score":0,"creation_date":1676282290,"post_id":75391329,"comment_id":133098951,"body_markdown":"Thanks for adding another answer, it might help to include a brief description of how your approach works and an example of the input / output.","body":"Thanks for adding another answer, it might help to include a brief description of how your approach works and an example of the input / output."}],"tags":[],"owner":{"account_id":27721826,"reputation":1,"user_id":21162188,"display_name":"Jinan Lakan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675887689,"creation_date":1675887689,"answer_id":75391329,"question_id":62183042,"body_markdown":"    \r\n    function getTotalX(a, b) {\r\n    // Write your code here\r\n    var factors=[]\r\n    var smallest=b[0];\r\n    var isFactor = true;\r\n    var count = 0;\r\n    for (var i=0; i&lt;b.length; i++){\r\n        if (b[i]&lt;smallest){\r\n            smallest=b[i];\r\n        }\r\n    }\r\n    for (var j=1; j&lt;=smallest; j++){\r\n        isFactor = true;\r\n        for (var k=0; k&lt;b.length; k++){\r\n            if (b[k]%j!=0){\r\n                isFactor = false;\r\n                break;\r\n            }\r\n            \r\n        }\r\n        if(isFactor){\r\n            factors.push(j);\r\n            }\r\n        \r\n    }\r\n    for (var x=0; x&lt;factors.length; x++){\r\n        isFactor = true;\r\n        for (var y=0; y&lt;a.length; y++){\r\n           if(factors[x]%a[y]!=0){\r\n                isFactor = false;\r\n                break;\r\n      \r\n           }\r\n        }\r\n        if(isFactor){\r\n            count++;\r\n        }\r\n    }\r\n    return count;\r\n    }","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<pre><code>function getTotalX(a, b) {\n// Write your code here\nvar factors=[]\nvar smallest=b[0];\nvar isFactor = true;\nvar count = 0;\nfor (var i=0; i&lt;b.length; i++){\n    if (b[i]&lt;smallest){\n        smallest=b[i];\n    }\n}\nfor (var j=1; j&lt;=smallest; j++){\n    isFactor = true;\n    for (var k=0; k&lt;b.length; k++){\n        if (b[k]%j!=0){\n            isFactor = false;\n            break;\n        }\n        \n    }\n    if(isFactor){\n        factors.push(j);\n        }\n    \n}\nfor (var x=0; x&lt;factors.length; x++){\n    isFactor = true;\n    for (var y=0; y&lt;a.length; y++){\n       if(factors[x]%a[y]!=0){\n            isFactor = false;\n            break;\n  \n       }\n    }\n    if(isFactor){\n        count++;\n    }\n}\nreturn count;\n}\n</code></pre>\n"}],"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4715,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62183382,"answer_count":3,"score":2,"last_activity_date":1675887689,"creation_date":1591219858,"question_id":62183042,"body_markdown":"Problem:You will be given two arrays of integers and asked to determine all integers that satisfy the following two conditions:\r\n\r\nThe elements of the first array are all factors of the integer being considered\r\nThe integer being considered is a factor of all elements of the second array\r\nThese numbers are referred to as being between the two arrays. You must determine how many such numbers exist.\r\n\r\nfor example  :Sample Input\r\n\r\n    2 3\r\n    2 4\r\n    16 32 96\r\n\r\nSample Output\r\n\r\n    3\r\n\r\nMy code:\r\n\r\n    public static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        int total=0,x=0,y=0;\r\n        for(int i=a.get(n-1);i&lt;=b.get(0);i++)\r\n        {\r\n            for(int j=0;j&lt;n;j++)\r\n            {   \r\n                //to check if the elements in list &#39;a&#39; can divide the integer.\r\n                if(i%a.get(j)==0)\r\n                {\r\n                y++;\r\n                }\r\n            }\r\n            //if every element in list a can divide the integer go forward\r\n            if(y==n)\r\n                {   \r\n                    for(int k=0;k&lt;m;k++)\r\n                    {\r\n                        //to check if the elements of list &#39;b&#39; is divisible by integer\r\n                        if(b.get(k)%i==0)\r\n                        {\r\n                        x++;\r\n                        }\r\n                    }  \r\n                    y=0;\r\n                   //if every element of &#39;b&#39; is divisible by integer, count how many                        such integers are there\r\n                    if(x==m)\r\n                    {    \r\n                        total++;\r\n                        x=0;      \r\n                    }\r\n                }\r\n        }\r\n        return total;\r\n\r\n    }\r\n\r\nMy code is not giving proper solution and I cant understand why.","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<p>Problem:You will be given two arrays of integers and asked to determine all integers that satisfy the following two conditions:</p>\n\n<p>The elements of the first array are all factors of the integer being considered\nThe integer being considered is a factor of all elements of the second array\nThese numbers are referred to as being between the two arrays. You must determine how many such numbers exist.</p>\n\n<p>for example  :Sample Input</p>\n\n<pre><code>2 3\n2 4\n16 32 96\n</code></pre>\n\n<p>Sample Output</p>\n\n<pre><code>3\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    int total=0,x=0,y=0;\n    for(int i=a.get(n-1);i&lt;=b.get(0);i++)\n    {\n        for(int j=0;j&lt;n;j++)\n        {   \n            //to check if the elements in list 'a' can divide the integer.\n            if(i%a.get(j)==0)\n            {\n            y++;\n            }\n        }\n        //if every element in list a can divide the integer go forward\n        if(y==n)\n            {   \n                for(int k=0;k&lt;m;k++)\n                {\n                    //to check if the elements of list 'b' is divisible by integer\n                    if(b.get(k)%i==0)\n                    {\n                    x++;\n                    }\n                }  \n                y=0;\n               //if every element of 'b' is divisible by integer, count how many                        such integers are there\n                if(x==m)\n                {    \n                    total++;\n                    x=0;      \n                }\n            }\n    }\n    return total;\n\n}\n</code></pre>\n\n<p>My code is not giving proper solution and I cant understand why.</p>\n"},{"tags":["java","ssl","encryption","bouncycastle"],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1651264683,"post_id":72063072,"comment_id":127331691,"body_markdown":"Or configure `org.bouncycastle.jsse.provider.BouncyCastleJsseProvider` in the java.security file, but **in either case you need `bctls-$version.jar`** _in addition_ to bcprov, because I&#39;m pretty sure you _do_ need the JCE provider to get CCM primitive.","body":"Or configure <code>org.bouncycastle.jsse.provider.BouncyCastleJsseProvider</code> in the java.security file, but <b>in either case you need <code>bctls-$version.jar</code></b> <i>in addition</i> to bcprov, because I&#39;m pretty sure you <i>do</i> need the JCE provider to get CCM primitive."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1651269099,"post_id":72063072,"comment_id":127332607,"body_markdown":"@dave_thompson_085 Yeah, right. I probably mistyped when searching for that .jar file, as I did look at the downloads page.","body":"@dave_thompson_085 Yeah, right. I probably mistyped when searching for that .jar file, as I did look at the downloads page."},{"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"score":3,"creation_date":1651473498,"post_id":72063072,"comment_id":127364776,"body_markdown":"(1) Downloaded and added files bcprov-$version.jar and bctls-$version.jar to %JAVA_HOME%\\lib\\ext path.  \n(2) Updated java.security file with security.provider.N=org.bouncycastle.jce.provider.BouncyCastleJsseProvider \n(3) Updated java.security file with security.provider.(N+1)=org.bouncycastle.jsse.provider.BouncyCastleJsseProvider    \nThe tool now gave below error:\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/bouncycastle/asn1/eac/EACObjectIdentifiers\n        at org.bouncycastle.tls.TlsUtils.createCertSigAlgOIDs(Unknown Source)\nSo added bcutil-$version.jar also folder.","body":"(1) Downloaded and added files bcprov-$version.jar and bctls-$version.jar to %JAVA_HOME%\\lib\\ext path.   (2) Updated java.security file with security.provider.N=org.bouncycastle.jce.provider.BouncyCast&zwnj;&#8203;leJsseProvider  (3) Updated java.security file with security.provider.(N+1)=org.bouncycastle.jsse.provider.Bounc&zwnj;&#8203;yCastleJsseProvider     The tool now gave below error: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/bouncycastle/asn1/eac/EACObjectIdentifiers         at org.bouncycastle.tls.TlsUtils.createCertSigAlgOIDs(Unknown Source) So added bcutil-$version.jar also folder."},{"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"score":0,"creation_date":1651473607,"post_id":72063072,"comment_id":127364805,"body_markdown":"Thanks a ton @dave_thompson_085 and Maarten Bodewes","body":"Thanks a ton @dave_thompson_085 and Maarten Bodewes"}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675887382,"creation_date":1651261865,"answer_id":72063072,"question_id":72060766,"body_markdown":"The `BouncyCastleProvider` adds cryptographic algorithms such as the AES in the CCM mode of operation to the available algorithms of `Cipher` and other classes. As CCM is not included by default in Java, you will need to register this provider through code (i.e. `Security.addProvider(new BouncyCastleProvider)`) or adding it into the `java.security` file (as demonstrated in the question). You will probably want to add it to the end of the provider list as the algorithms of the Oracle provider are generally better tested and may be sped up using hardware acceleration.\r\n\r\nHowever, the `BouncyCastleProvider` does *not* contain an implementation of the TLS protocol. You&#39;d need to register the `BouncyCastleJsseProvider` for that instead. This is required as the Java TLS implementation won&#39;t magically know how to use the CCM implementation within Bouncy Castle. JSSE is an acronym of the Java Secure Socket Extension.\r\n\r\nYou can add that provider at the start of the providers so you know for sure that this provider is used for implementing TLS: \r\n\r\n    Security.insertProviderAt(new rg.bouncycastle.jsse.provider.BouncyCastleJsseProvider(), 1);\r\n\r\nAnd you can also directly register it in the `java.security` file.\r\n\r\nNote that the JSSE provider doesn&#39;t provide implementations such as RSA or AES for `Cipher` or `Signature` so it should not be in the way.\r\n\r\n\r\n\r\n","title":"Bouncy Castle Configuration for TLS","body":"<p>The <code>BouncyCastleProvider</code> adds cryptographic algorithms such as the AES in the CCM mode of operation to the available algorithms of <code>Cipher</code> and other classes. As CCM is not included by default in Java, you will need to register this provider through code (i.e. <code>Security.addProvider(new BouncyCastleProvider)</code>) or adding it into the <code>java.security</code> file (as demonstrated in the question). You will probably want to add it to the end of the provider list as the algorithms of the Oracle provider are generally better tested and may be sped up using hardware acceleration.</p>\n<p>However, the <code>BouncyCastleProvider</code> does <em>not</em> contain an implementation of the TLS protocol. You'd need to register the <code>BouncyCastleJsseProvider</code> for that instead. This is required as the Java TLS implementation won't magically know how to use the CCM implementation within Bouncy Castle. JSSE is an acronym of the Java Secure Socket Extension.</p>\n<p>You can add that provider at the start of the providers so you know for sure that this provider is used for implementing TLS:</p>\n<pre><code>Security.insertProviderAt(new rg.bouncycastle.jsse.provider.BouncyCastleJsseProvider(), 1);\n</code></pre>\n<p>And you can also directly register it in the <code>java.security</code> file.</p>\n<p>Note that the JSSE provider doesn't provide implementations such as RSA or AES for <code>Cipher</code> or <code>Signature</code> so it should not be in the way.</p>\n"}],"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1673,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72063072,"answer_count":1,"score":2,"last_activity_date":1675887382,"creation_date":1651248300,"question_id":72060766,"body_markdown":"I am using a test app that used java for TLS communication. Standard Oracle java is installed in my system.\r\n\r\nI need to use the `TLS_DHE_RSA_WITH_AES_128_CCM` cipher suite, which is not supported by standard Java, so many suggested using Bouncy Castle. I downloaded and copied the `bcprov-ext-jdk18on-171.jar` to  `$JAVA_HOME/lib` folder.\r\nAlso, updated `java.security` file to include Bouncy Castle in the provider list as below:\r\n   \r\n```None\r\nsecurity.provider.4=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n```\r\n\r\nI still cannot get `TLS_DHE_RSA_WITH_AES_128_CCM` to work though.\r\n\r\nAre the steps I did sufficient and correct? Can someone suggest the steps to install and configure Bouncy Castle?\r\n","title":"Bouncy Castle Configuration for TLS","body":"<p>I am using a test app that used java for TLS communication. Standard Oracle java is installed in my system.</p>\n<p>I need to use the <code>TLS_DHE_RSA_WITH_AES_128_CCM</code> cipher suite, which is not supported by standard Java, so many suggested using Bouncy Castle. I downloaded and copied the <code>bcprov-ext-jdk18on-171.jar</code> to  <code>$JAVA_HOME/lib</code> folder.\nAlso, updated <code>java.security</code> file to include Bouncy Castle in the provider list as below:</p>\n<pre><code>security.provider.4=org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n<p>I still cannot get <code>TLS_DHE_RSA_WITH_AES_128_CCM</code> to work though.</p>\n<p>Are the steps I did sufficient and correct? Can someone suggest the steps to install and configure Bouncy Castle?</p>\n"},{"tags":["java","angular","spring-boot"],"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887342,"creation_date":1675887145,"question_id":75391251,"body_markdown":"I&#39;m a beginner in the area of ​​programming and I&#39;m developing a project where I&#39;m trying to send data from my student registration form, which contains a file input for the student&#39;s profile picture, but every time I submit the data it&#39;s not registered and I get the same message:\r\n\r\n&gt; error: &quot;Internal Server Error&quot;\r\n&gt; \r\n&gt; message: &quot;Invalid file: java.io.FileNotFoundException:\r\n&gt; C:\\\\fakepath\\\\Perfil.jpg (System could not find specific path)&quot;\r\n&gt; \r\n&gt; \r\n&gt; status: 500\r\n&gt; \r\n&gt; \r\n&gt; trace: &quot;java.lang.IllegalArgumentException: Invalid file:\r\n&gt; java.io.FileNotFoundException\r\n\r\n**Error description:**\r\n\r\n```\r\njava.io.FileNotFoundException: C:\\fakepath\\Perfil.jpg (System could not find specific path)\r\n        at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\r\n        at com.example.demo.controller.StudentController.saveStudent(studentController.java:63) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n```\r\n\r\n**Function With Error in** **Student** **Controller:**\r\n\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.nio.file.Files;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.management.relation.RelationTypeNotFoundException;\r\n\r\nimport org.apache.commons.fileupload.FileItem;\r\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\r\n\r\nimport com.example.demo.model.Student;\r\nimport com.example.demo.repository.StudentRepository;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/registry/student&quot;)\r\n@AllArgsConstructor\r\npublic class StudentController {\r\n\r\n    private final StudentRepository studentRepos;\r\n    private final ImageModelController imgCot;\r\n\r\n    @PostMapping\r\n    public Student saveStudent(@RequestBody Student record) throws IOException{\r\n        File arqFile = record.getPicByte();\r\n        \r\n        FileItem fileItem = new DiskFileItemFactory().createItem(&quot;file&quot;,\r\n        Files.probeContentType(arqFile.toPath()), false, arqFile.getName());\r\n\r\n// BELOW LINE WITH ERROR\r\n\r\n        try (InputStream in = new FileInputStream(record.getPicByte()); OutputStream out = fileItem.getOutputStream()) {\r\n\r\n// ABOVE LINE WITH ERROR\r\n\r\n            in.transferTo(out);\r\n        } catch (Exception e) {\r\n            throw new IllegalArgumentException(&quot;Invalid file: &quot; + e, e);\r\n        }\r\n\r\n        CommonsMultipartFile multipartFile = new CommonsMultipartFile( fileItem);\r\n         \r\n        imgCot.uploadFile(multipartFile);\r\n        \r\n        return studentRepos.save(record);\r\n    }\r\n}\r\n```\r\n\r\n**Student** **Repository:**\r\n\r\n```\r\npackage com.example.demo.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.demo.model.Student;\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n    \r\n}\r\n```\r\n\r\n**Class Student****:**\r\n\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport java.io.File;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Entity\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long idStudent;\r\n\r\n    @Column(length = 50, nullable = false)\r\n    private String studentName;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date startDate;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date endDate;\r\n    \r\n    @Column(nullable = false)\r\n    private File picByte;\r\n\r\n}\r\n```","title":"How to resolve error &quot;System could not find specific path&quot; - Java Spring Boot","body":"<p>I'm a beginner in the area of ​​programming and I'm developing a project where I'm trying to send data from my student registration form, which contains a file input for the student's profile picture, but every time I submit the data it's not registered and I get the same message:</p>\n<blockquote>\n<p>error: &quot;Internal Server Error&quot;</p>\n<p>message: &quot;Invalid file: java.io.FileNotFoundException:\nC:\\fakepath\\Perfil.jpg (System could not find specific path)&quot;</p>\n<p>status: 500</p>\n<p>trace: &quot;java.lang.IllegalArgumentException: Invalid file:\njava.io.FileNotFoundException</p>\n</blockquote>\n<p><strong>Error description:</strong></p>\n<pre><code>java.io.FileNotFoundException: C:\\fakepath\\Perfil.jpg (System could not find specific path)\n        at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\n        at com.example.demo.controller.StudentController.saveStudent(studentController.java:63) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n</code></pre>\n<p><strong>Function With Error in</strong> <strong>Student</strong> <strong>Controller:</strong></p>\n<pre><code>package com.example.demo.controller;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.management.relation.RelationTypeNotFoundException;\n\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\n\nimport com.example.demo.model.Student;\nimport com.example.demo.repository.StudentRepository;\n\nimport lombok.AllArgsConstructor;\n\n@RestController\n@RequestMapping(&quot;/registry/student&quot;)\n@AllArgsConstructor\npublic class StudentController {\n\n    private final StudentRepository studentRepos;\n    private final ImageModelController imgCot;\n\n    @PostMapping\n    public Student saveStudent(@RequestBody Student record) throws IOException{\n        File arqFile = record.getPicByte();\n        \n        FileItem fileItem = new DiskFileItemFactory().createItem(&quot;file&quot;,\n        Files.probeContentType(arqFile.toPath()), false, arqFile.getName());\n\n// BELOW LINE WITH ERROR\n\n        try (InputStream in = new FileInputStream(record.getPicByte()); OutputStream out = fileItem.getOutputStream()) {\n\n// ABOVE LINE WITH ERROR\n\n            in.transferTo(out);\n        } catch (Exception e) {\n            throw new IllegalArgumentException(&quot;Invalid file: &quot; + e, e);\n        }\n\n        CommonsMultipartFile multipartFile = new CommonsMultipartFile( fileItem);\n         \n        imgCot.uploadFile(multipartFile);\n        \n        return studentRepos.save(record);\n    }\n}\n</code></pre>\n<p><strong>Student</strong> <strong>Repository:</strong></p>\n<pre><code>package com.example.demo.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.demo.model.Student;\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n    \n}\n</code></pre>\n<p><strong>Class Student</strong>**:**</p>\n<pre><code>package com.example.demo.model;\n\nimport java.io.File;\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport lombok.Data;\n\n@Data\n@Entity\npublic class Student {\n\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long idStudent;\n\n    @Column(length = 50, nullable = false)\n    private String studentName;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date startDate;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date endDate;\n    \n    @Column(nullable = false)\n    private File picByte;\n\n}\n</code></pre>\n"},{"tags":["java","json","enums","jsonschema"],"owner":{"account_id":20190310,"reputation":33,"user_id":14808685,"display_name":"Geo A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887143,"creation_date":1675887002,"question_id":75391225,"body_markdown":"Having the following java class:\r\n``` \r\npublic enum MyEnum {\r\n    FIRST_VALUE(&quot;ab&quot;, &quot;cd&quot;, &quot;fg&quot;),\r\n    SECOND_VALUE(&quot;ab&quot;, &quot;cd&quot;),\r\n    THIRD_VALUE;\r\n    private List&lt;String&gt; values;\r\n    MyEnum(String... values) {\r\n        this.values = Arrays.asList(values);\r\n    }\r\n    public List&lt;String&gt; getValues() {\r\n        return values;\r\n    }    \r\n}\r\n```\r\nIs there any way to generate this type of class based on json-schema? how should the json-schema look like? \r\n\r\nThanks","title":"How to add multiple values for an enum constructor using json schema?","body":"<p>Having the following java class:</p>\n<pre><code>public enum MyEnum {\n    FIRST_VALUE(&quot;ab&quot;, &quot;cd&quot;, &quot;fg&quot;),\n    SECOND_VALUE(&quot;ab&quot;, &quot;cd&quot;),\n    THIRD_VALUE;\n    private List&lt;String&gt; values;\n    MyEnum(String... values) {\n        this.values = Arrays.asList(values);\n    }\n    public List&lt;String&gt; getValues() {\n        return values;\n    }    \n}\n</code></pre>\n<p>Is there any way to generate this type of class based on json-schema? how should the json-schema look like?</p>\n<p>Thanks</p>\n"},{"tags":["java","excel","ubuntu","apache-poi","xssf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1675886714,"post_id":75390860,"comment_id":133026879,"body_markdown":"Make sure the file you create has a file extension of `.xlsx`. Excel files (modern ones, at least) basically _are_ zip files containing what you are seeing (a collection of XML documents). Without the Excel related file extension, the file may be mistaken for just a plain zip file (container).","body":"Make sure the file you create has a file extension of <code>.xlsx</code>. Excel files (modern ones, at least) basically <i>are</i> zip files containing what you are seeing (a collection of XML documents). Without the Excel related file extension, the file may be mistaken for just a plain zip file (container)."}],"owner":{"account_id":17078329,"reputation":3,"user_id":20418191,"display_name":"skylight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887039,"creation_date":1675884778,"question_id":75390860,"body_markdown":"I am trying to write an excel file using java. I&#39;m looking for just simply a column with one username per row right now, and then will build upon this later once I understand what is going a bit better. I get a zip file instead of the expected excel file, and it contains docProps, _rels, xl, and [Content_Types].xml. I don&#39;t understand how to open this zip file as though it is an excel file. I have not had luck finding the answer as all the tutorials I see show it to be a straight forward excel file, not a zip file. Is it a configuration I&#39;m missing or is it to do with linux?\r\n\r\nHere&#39;s my code, and what I end up with:\r\n```\r\n    private void createExcelSheet(Assignment assignment) throws FileNotFoundException {\r\n\r\n        String excelFilePath = Configuration.DIRECTORY_ROOT+&quot;/tests/&quot;+assignment.getAssn_number()+&quot;/gradebook-&quot;+assignment.getAssn_number();\r\n\r\n        int rowNum = 0;\r\n        int col = 0;\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n        XSSFSheet spreadsheet = workbook.createSheet(assignment.getAssn_number()+&quot; Grades &quot;);\r\n        XSSFRow row = spreadsheet.createRow(rowNum);\r\n\r\n        Cell cell;\r\n\r\n\r\n            for (User user : userService.getUsers() ) {\r\n\r\n                row = spreadsheet.createRow(rowNum);\r\n                cell = row.createCell(rowNum);\r\n                cell.setCellValue(user.getStudent_id());\r\n\r\n\r\n                rowNum++;\r\n            }\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(excelFilePath)) {\r\n                workbook.write(fos);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3bIY.png","title":"zip file instead of an excel file when using XSSFWorkbook in java how do I open this","body":"<p>I am trying to write an excel file using java. I'm looking for just simply a column with one username per row right now, and then will build upon this later once I understand what is going a bit better. I get a zip file instead of the expected excel file, and it contains docProps, _rels, xl, and [Content_Types].xml. I don't understand how to open this zip file as though it is an excel file. I have not had luck finding the answer as all the tutorials I see show it to be a straight forward excel file, not a zip file. Is it a configuration I'm missing or is it to do with linux?</p>\n<p>Here's my code, and what I end up with:</p>\n<pre><code>    private void createExcelSheet(Assignment assignment) throws FileNotFoundException {\n\n        String excelFilePath = Configuration.DIRECTORY_ROOT+&quot;/tests/&quot;+assignment.getAssn_number()+&quot;/gradebook-&quot;+assignment.getAssn_number();\n\n        int rowNum = 0;\n        int col = 0;\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet spreadsheet = workbook.createSheet(assignment.getAssn_number()+&quot; Grades &quot;);\n        XSSFRow row = spreadsheet.createRow(rowNum);\n\n        Cell cell;\n\n\n            for (User user : userService.getUsers() ) {\n\n                row = spreadsheet.createRow(rowNum);\n                cell = row.createCell(rowNum);\n                cell.setCellValue(user.getStudent_id());\n\n\n                rowNum++;\n            }\n\n        try (FileOutputStream fos = new FileOutputStream(excelFilePath)) {\n                workbook.write(fos);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x3bIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3bIY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","maven","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1613295341,"post_id":66193950,"comment_id":117026946,"body_markdown":"In which console? Why you cannot see them currently? Can you add more context?","body":"In which console? Why you cannot see them currently? Can you add more context?"},{"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"score":0,"creation_date":1613298503,"post_id":66193950,"comment_id":117027604,"body_markdown":"@AlexeyR. On IDE console. The exceptions are displayed on the TestNG&#39;s tab under the test failure label.","body":"@AlexeyR. On IDE console. The exceptions are displayed on the TestNG&#39;s tab under the test failure label."},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613308155,"post_id":66193950,"comment_id":117029836,"body_markdown":"This is a straight forward question ! why to close","body":"This is a straight forward question ! why to close"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613308181,"post_id":66193950,"comment_id":117029843,"body_markdown":"Testng won&#39;t print the exception to stdout you have to handle it in a special way]","body":"Testng won&#39;t print the exception to stdout you have to handle it in a special way]"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613308216,"post_id":66193950,"comment_id":117029854,"body_markdown":"@AlexeyR. Please vote to reopen","body":"@AlexeyR. Please vote to reopen"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1613312177,"post_id":66193950,"comment_id":117030889,"body_markdown":"Alright, voted. But I believe the proper answer has been already given. Unless there is some configuration feature that allows to override default behavior.","body":"Alright, voted. But I believe the proper answer has been already given. Unless there is some configuration feature that allows to override default behavior."},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613312466,"post_id":66193950,"comment_id":117030985,"body_markdown":"@AlexeyR. Thank you  the answer which is provided is wrong , should use VerboseReporter","body":"@AlexeyR. Thank you  the answer which is provided is wrong , should use VerboseReporter"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613312499,"post_id":66193950,"comment_id":117031003,"body_markdown":"Please do vote to reopen so that i can add the answer","body":"Please do vote to reopen so that i can add the answer"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1613313584,"post_id":66193950,"comment_id":117031316,"body_markdown":"@shriv ☝️set your vote as well. I spent mine.","body":"@shriv ☝️set your vote as well. I spent mine."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":2,"creation_date":1613341876,"post_id":66193950,"comment_id":117039380,"body_markdown":"@PDHide ReOpened the question to accept additional answers.","body":"@PDHide ReOpened the question to accept additional answers."},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":2,"creation_date":1613342341,"post_id":66193950,"comment_id":117039495,"body_markdown":"@DebanjanB Added the answer thank you","body":"@DebanjanB Added the answer thank you"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675886230,"creation_date":1613298743,"answer_id":66194483,"question_id":66193950,"body_markdown":"If you use any kind of logging framework you should probably stick with that.\r\nOtherwise you can always print Exceptions using https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#printStackTrace() (and siblings) such as\r\n\r\n    ...\r\n    } catch (Exception e) {\r\n        e.printStackTrace(System.out);\r\n        e.printStackTrace(System.err);\r\n    }\r\n    ...\r\n","title":"How to print exceptions on console? I am using TestNG and Maven","body":"<p>If you use any kind of logging framework you should probably stick with that.\nOtherwise you can always print Exceptions using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#printStackTrace()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#printStackTrace()</a> (and siblings) such as</p>\n<pre><code>...\n} catch (Exception e) {\n    e.printStackTrace(System.out);\n    e.printStackTrace(System.err);\n}\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"score":1,"creation_date":1613366963,"post_id":66200792,"comment_id":117043561,"body_markdown":"Thanks @PDHide. I have added the listener of &#39;VerboseReporter&#39; and now able to see the TestNG logs.","body":"Thanks @PDHide. I have added the listener of &#39;VerboseReporter&#39; and now able to see the TestNG logs."},{"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"score":0,"creation_date":1613379236,"post_id":66200792,"comment_id":117047082,"body_markdown":"any idea of how to change the Verbose level?","body":"any idea of how to change the Verbose level?"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":1,"creation_date":1613379450,"post_id":66200792,"comment_id":117047177,"body_markdown":"https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html","body":"<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":1,"creation_date":1613379488,"post_id":66200792,"comment_id":117047193,"body_markdown":"Also https://testng.org/doc/documentation-main.html search for verbose in this two documents","body":"Also <a href=\"https://testng.org/doc/documentation-main.html\" rel=\"nofollow noreferrer\">testng.org/doc/documentation-main.html</a> search for verbose in this two documents"},{"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"score":0,"creation_date":1613379827,"post_id":66200792,"comment_id":117047358,"body_markdown":"how can we define the verbose level programmatically?","body":"how can we define the verbose level programmatically?"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":1,"creation_date":1613379967,"post_id":66200792,"comment_id":117047407,"body_markdown":"testng.setVerbose(verbose);","body":"testng.setVerbose(verbose);"},{"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"score":0,"creation_date":1613384784,"post_id":66200792,"comment_id":117049375,"body_markdown":"Is there any workaround to display TestNG logs only in case of test failures or any exception?","body":"Is there any workaround to display TestNG logs only in case of test failures or any exception?"}],"tags":[],"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1613342159,"creation_date":1613342159,"answer_id":66200792,"question_id":66193950,"body_markdown":"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/reporters/VerboseReporter.html\r\n\r\nyou should use above reporter , but the constructor expects a string so you cannot initialize it using testng.xml **( if any one knows how to pass string argument to listener in testng.xml please do add it here )**\r\n\r\nSo the work around is to add  the listener through script and initiate testng through a java entry file.\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n            TestNG testng = new TestNG();\r\n    \r\n    \t\t// Create a list of String\r\n    \t\tList&lt;String&gt; suitefiles = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t// Add xml file which you have to execute\r\n    \t\tsuitefiles.add(prop.getProperty(&quot;path_to_your_existing_testngxml\\testng.xml&quot;));\r\n    \r\n    \t\t// now set xml file for execution\r\n    \t\ttestng.setTestSuites(suitefiles);\r\n    \t\t\r\n    \t\ttestng.addListener(new VerboseReporter(&quot;[TestNG] &quot;));\r\n    \r\n    \t\t// finally execute the runner using run method\r\n    \t\ttestng.run();\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Note**\r\n\r\nAs this reporter constructor expects a string you should not provide it in your testng.xml you will get initialization error\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TZ3BZ.png","title":"How to print exceptions on console? I am using TestNG and Maven","body":"<p><a href=\"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/reporters/VerboseReporter.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/reporters/VerboseReporter.html</a></p>\n<p>you should use above reporter , but the constructor expects a string so you cannot initialize it using testng.xml <strong>( if any one knows how to pass string argument to listener in testng.xml please do add it here )</strong></p>\n<p>So the work around is to add  the listener through script and initiate testng through a java entry file.</p>\n<pre><code>public static void main(String[] args) {\n\n\n        TestNG testng = new TestNG();\n\n        // Create a list of String\n        List&lt;String&gt; suitefiles = new ArrayList&lt;String&gt;();\n\n        // Add xml file which you have to execute\n        suitefiles.add(prop.getProperty(&quot;path_to_your_existing_testngxml\\testng.xml&quot;));\n\n        // now set xml file for execution\n        testng.setTestSuites(suitefiles);\n        \n        testng.addListener(new VerboseReporter(&quot;[TestNG] &quot;));\n\n        // finally execute the runner using run method\n        testng.run();\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/TZ3BZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZ3BZ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note</strong></p>\n<p>As this reporter constructor expects a string you should not provide it in your testng.xml you will get initialization error</p>\n"}],"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66200792,"answer_count":2,"score":1,"last_activity_date":1675886230,"creation_date":1613294241,"question_id":66193950,"body_markdown":"I want to see the exceptions on console. I am using TestNG with Maven as a build tool. I have defined my testng.xml in the Maven surefire plugin.","title":"How to print exceptions on console? I am using TestNG and Maven","body":"<p>I want to see the exceptions on console. I am using TestNG with Maven as a build tool. I have defined my testng.xml in the Maven surefire plugin.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":12330817,"reputation":31,"user_id":8996898,"display_name":"zsp"},"score":0,"creation_date":1676377923,"post_id":75307864,"comment_id":133121209,"body_markdown":"Thanks for answering, @Mahmoud Ben Hassine! I looked at the example you mentioned, but in my case, I use a Scheduler that calls jobLauncher.run, I edited the post with the code. Basically it works like this: the creation of steps/job/readers is in the BatchConfiguration class, but the actual execution of the job is in this scheduler. Do you know any similar examples?","body":"Thanks for answering, @Mahmoud Ben Hassine! I looked at the example you mentioned, but in my case, I use a Scheduler that calls jobLauncher.run, I edited the post with the code. Basically it works like this: the creation of steps/job/readers is in the BatchConfiguration class, but the actual execution of the job is in this scheduler. Do you know any similar examples?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1676379701,"post_id":75307864,"comment_id":133121766,"body_markdown":"I&#39;m not sure the way the job is launched has an impact on your initial problem. What you might want to try is make the reader and the listener step-scoped, so that they are re-instantiated on each run (because by default they are singletons). Same thing for resources, if they are defined as a bean.","body":"I&#39;m not sure the way the job is launched has an impact on your initial problem. What you might want to try is make the reader and the listener step-scoped, so that they are re-instantiated on each run (because by default they are singletons). Same thing for resources, if they are defined as a bean."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675242829,"creation_date":1675242829,"answer_id":75307864,"question_id":75300096,"body_markdown":"&gt; Using FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.\r\n\r\nThat is the very reason I always recommend the job-per-file approach over the single-job-for-all-files-with-MultiResourceItemReader approach, like [here](https://stackoverflow.com/a/75282266/5019386) or [here](https://stackoverflow.com/a/60719833/5019386).\r\n\r\n&gt; Is there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?\r\n\r\nNo, because the listener is not aware of the resource the item was read from. This is a limitation of the approach itself, not in Spring Batch. What you can do though is make your items aware of the resource they were read from, by implementing [ResourceAware](https://docs.spring.io/spring-batch/docs/5.0.0/api/org/springframework/batch/item/ResourceAware.html).","title":"Spring batch reading files with MultiResourceItemReader and using ItemReadListener","body":"<blockquote>\n<p>Using FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.</p>\n</blockquote>\n<p>That is the very reason I always recommend the job-per-file approach over the single-job-for-all-files-with-MultiResourceItemReader approach, like <a href=\"https://stackoverflow.com/a/75282266/5019386\">here</a> or <a href=\"https://stackoverflow.com/a/60719833/5019386\">here</a>.</p>\n<blockquote>\n<p>Is there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?</p>\n</blockquote>\n<p>No, because the listener is not aware of the resource the item was read from. This is a limitation of the approach itself, not in Spring Batch. What you can do though is make your items aware of the resource they were read from, by implementing <a href=\"https://docs.spring.io/spring-batch/docs/5.0.0/api/org/springframework/batch/item/ResourceAware.html\" rel=\"nofollow noreferrer\">ResourceAware</a>.</p>\n"}],"owner":{"account_id":12330817,"reputation":31,"user_id":8996898,"display_name":"zsp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675885989,"creation_date":1675182201,"question_id":75300096,"body_markdown":"Here&#39;s the scenario: I have a Spring Batch that reads multiple input files, processes them, and finally generates more output files. \r\n\r\nUsing FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.\r\n\r\nPS: I use ItemReadListener to add some properties of the object being read within a jobExecutionContext, which will be used later to validate (and generate, or not, the output file).\r\n\r\nHowever, if I use MultiResourceItemReader to read all the input files without completely restarting the whole context (and the resources), the ItemReadListener overwrites the properties of each object (input file) in the jobExecutionContext, so that we only have data from the last one object present in the array of input files.\r\n\r\nIs there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?\r\n\r\nExample Reader:\r\n```\r\n@Bean\r\n    public MultiResourceItemReader&lt;CustomObject&gt; multiResourceItemReader() {\r\n      MultiResourceItemReader&lt;CustomObject&gt; resourceItemReader = new MultiResourceItemReader&lt;CustomObject&gt;();\r\n      resourceItemReader.setResources(resources);\r\n      resourceItemReader.setDelegate(reader());\r\n      return resourceItemReader;\r\n    }\r\n\r\n@Bean\r\n    public FlatFileItemReader&lt;CustomObject&gt; reader() {\r\n      FlatFileItemReader&lt;CustomObject&gt; reader = new FlatFileItemReader&lt;CustomObject&gt;();\r\n\t  reader.setLineMapper(customObjectLineMapper());\t    \r\n\t  return reader;\r\n    }\r\n\r\n```\r\nExample Step:\r\n\r\n```\r\n@Bean\r\n    public Step loadInputFiles() {\r\n      return stepBuilderFactory.get(&quot;loadInputFiles&quot;).&lt;CustomObject, CustomObject&gt;chunk(10)\r\n          .reader(multiResourceItemReader())\r\n          .writer(new NoOpItemWriter())\r\n          .listener(customObjectListener())\r\n          .build();\r\n    }\r\n```\r\n\r\nExample Listener:\r\n\r\n```\r\npublic class CustomObjectListener implements ItemReadListener&lt;CustomObject&gt; {\r\n\r\n\t@Value(&quot;#{jobExecution.executionContext}&quot;)\r\n    private ExecutionContext executionContext;\r\n\t\r\n\t@Override\r\n\tpublic void beforeRead() {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterRead(CustomObject item) {\r\n\t\texecutionContext.put(&quot;customProperty&quot;, item.getCustomProperty());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onReadError(Exception ex) {\r\n\t}\r\n}\r\n```\r\nScheduler:\r\n```\r\npublic class Scheduler {\r\n\r\n\t@Autowired\r\n\tJobLauncher jobLauncher;\r\n\t\r\n\t@Autowired\r\n\tJob job;\r\n\t\r\n\tSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\r\n\t@Scheduled(fixedDelay = 5000, initialDelay = 5000)\r\n\tpublic void scheduleByFixedRate() throws Exception {\r\n\t\tJobParameters params = new JobParametersBuilder().addString(&quot;time&quot;, format.format(Calendar.getInstance().getTime()))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t .toJobParameters();\r\n\t\t\r\n\t\tjobLauncher.run(job, params);\r\n}\r\n```","title":"Spring batch reading files with MultiResourceItemReader and using ItemReadListener","body":"<p>Here's the scenario: I have a Spring Batch that reads multiple input files, processes them, and finally generates more output files.</p>\n<p>Using FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.</p>\n<p>PS: I use ItemReadListener to add some properties of the object being read within a jobExecutionContext, which will be used later to validate (and generate, or not, the output file).</p>\n<p>However, if I use MultiResourceItemReader to read all the input files without completely restarting the whole context (and the resources), the ItemReadListener overwrites the properties of each object (input file) in the jobExecutionContext, so that we only have data from the last one object present in the array of input files.</p>\n<p>Is there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?</p>\n<p>Example Reader:</p>\n<pre><code>@Bean\n    public MultiResourceItemReader&lt;CustomObject&gt; multiResourceItemReader() {\n      MultiResourceItemReader&lt;CustomObject&gt; resourceItemReader = new MultiResourceItemReader&lt;CustomObject&gt;();\n      resourceItemReader.setResources(resources);\n      resourceItemReader.setDelegate(reader());\n      return resourceItemReader;\n    }\n\n@Bean\n    public FlatFileItemReader&lt;CustomObject&gt; reader() {\n      FlatFileItemReader&lt;CustomObject&gt; reader = new FlatFileItemReader&lt;CustomObject&gt;();\n      reader.setLineMapper(customObjectLineMapper());       \n      return reader;\n    }\n\n</code></pre>\n<p>Example Step:</p>\n<pre><code>@Bean\n    public Step loadInputFiles() {\n      return stepBuilderFactory.get(&quot;loadInputFiles&quot;).&lt;CustomObject, CustomObject&gt;chunk(10)\n          .reader(multiResourceItemReader())\n          .writer(new NoOpItemWriter())\n          .listener(customObjectListener())\n          .build();\n    }\n</code></pre>\n<p>Example Listener:</p>\n<pre><code>public class CustomObjectListener implements ItemReadListener&lt;CustomObject&gt; {\n\n    @Value(&quot;#{jobExecution.executionContext}&quot;)\n    private ExecutionContext executionContext;\n    \n    @Override\n    public void beforeRead() {\n    }\n\n    @Override\n    public void afterRead(CustomObject item) {\n        executionContext.put(&quot;customProperty&quot;, item.getCustomProperty());\n    }\n\n    @Override\n    public void onReadError(Exception ex) {\n    }\n}\n</code></pre>\n<p>Scheduler:</p>\n<pre><code>public class Scheduler {\n\n    @Autowired\n    JobLauncher jobLauncher;\n    \n    @Autowired\n    Job job;\n    \n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    \n    @Scheduled(fixedDelay = 5000, initialDelay = 5000)\n    public void scheduleByFixedRate() throws Exception {\n        JobParameters params = new JobParametersBuilder().addString(&quot;time&quot;, format.format(Calendar.getInstance().getTime()))\n                                                         .toJobParameters();\n        \n        jobLauncher.run(job, params);\n}\n</code></pre>\n"},{"tags":["java","spring-integration","spring-integration-dsl","spring-integration-sftp","spring-integration-ftp"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675866787,"post_id":75380905,"comment_id":133020191,"body_markdown":"Consider to configure a DEBUG logging level for `org.springframework.integration` category to observer some events when your `Ftp.inboundAdapter` is in action. There may be a log like `Cannot rename`.","body":"Consider to configure a DEBUG logging level for <code>org.springframework.integration</code> category to observer some events when your <code>Ftp.inboundAdapter</code> is in action. There may be a log like <code>Cannot rename</code>."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675868256,"post_id":75380905,"comment_id":133020730,"body_markdown":"Hi @ArtemBilan, thanks for replying. I did what you suggested and the only log that I see with DEBUG level are the next: `Connected to server [xxx.xxx.xxx.xxx:xx]`, `0 files transferred from &#39;/H2H/Salida/&#39;`, and `Received no Message during the poll, returning &#39;false&#39;`.","body":"Hi @ArtemBilan, thanks for replying. I did what you suggested and the only log that I see with DEBUG level are the next: <code>Connected to server [xxx.xxx.xxx.xxx:xx]</code>, <code>0 files transferred from &#39;&#47;H2H&#47;Salida&#47;&#39;</code>, and <code>Received no Message during the poll, returning &#39;false&#39;</code>."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675869270,"post_id":75380905,"comment_id":133021101,"body_markdown":"OK. At least we see now that no files are transferred. Can you debug your solution and place a break point in the `AbstractInboundFileSynchronizer.transferFilesFromRemoteToLocal` to see what `session.list(remoteDirectory)` returns for you?","body":"OK. At least we see now that no files are transferred. Can you debug your solution and place a break point in the <code>AbstractInboundFileSynchronizer.transferFilesFromRemoteToLoc&zwnj;&#8203;al</code> to see what <code>session.list(remoteDirectory)</code> returns for you?"},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675871080,"post_id":75380905,"comment_id":133021796,"body_markdown":"`session.list(remoteDirectory)` returns an empty array, so the `AbstractInboundFileSynchronizer.transferFilesFromRemoteToLocal` function returns 0.","body":"<code>session.list(remoteDirectory)</code> returns an empty array, so the <code>AbstractInboundFileSynchronizer.transferFilesFromRemoteToLoc&zwnj;&#8203;al</code> function returns 0."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675872182,"post_id":75380905,"comment_id":133022232,"body_markdown":"Then there is nothing what we can do from our side: turns out your FTP client cannot see entries in that `/H2H/Salida/` remote dir.","body":"Then there is nothing what we can do from our side: turns out your FTP client cannot see entries in that <code>&#47;H2H&#47;Salida&#47;</code> remote dir."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675875733,"post_id":75380905,"comment_id":133023523,"body_markdown":"I see. Do you think there is some kind of specific configuration that should be set on the FTP server to Spring Integration be able to retrieve the directory&#39;s entries? When I use Apache Mina locally, it works perfecty, but I use the default configuration, so I don&#39;t know if there&#39;s something configured differently on the AS400.","body":"I see. Do you think there is some kind of specific configuration that should be set on the FTP server to Spring Integration be able to retrieve the directory&#39;s entries? When I use Apache Mina locally, it works perfecty, but I use the default configuration, so I don&#39;t know if there&#39;s something configured differently on the AS400."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675875904,"post_id":75380905,"comment_id":133023580,"body_markdown":"Neither do I: never worked with AS400. Since we got an answer from `FtpSession.list()`, then connection happens properly. Therefore something else is needed to be done on the server side to make the files in that dir to be visible for FTP client.","body":"Neither do I: never worked with AS400. Since we got an answer from <code>FtpSession.list()</code>, then connection happens properly. Therefore something else is needed to be done on the server side to make the files in that dir to be visible for FTP client."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675876243,"post_id":75380905,"comment_id":133023702,"body_markdown":"I see. Then I&#39;ll talk to the AS400 team to check the FTP server configuration and maybe find something. Thanks again for trying to help.","body":"I see. Then I&#39;ll talk to the AS400 team to check the FTP server configuration and maybe find something. Thanks again for trying to help."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":1,"creation_date":1675885839,"post_id":75380905,"comment_id":133026625,"body_markdown":"Hi @ArtemBilan, I found the solution. It wasn&#39;t something bad in the FTP Server, but a dependency in `spring-integration-ftp`. My project is using `spring-integration-ftp 5.5.16` that has `commons-net 3.8.0` as a dependency. For some reason, that version of `commons-net` was retrieving the empty array, so I exclude that dependecy from `spring-integration-ftp` and included version 3.9.0 in my project and it works now. I don&#39;t know if it&#39;s some kind of bug in version 3.8.0 inside `spring-integration-ftp`, but version 3.9.0 solved my problem.","body":"Hi @ArtemBilan, I found the solution. It wasn&#39;t something bad in the FTP Server, but a dependency in <code>spring-integration-ftp</code>. My project is using <code>spring-integration-ftp 5.5.16</code> that has <code>commons-net 3.8.0</code> as a dependency. For some reason, that version of <code>commons-net</code> was retrieving the empty array, so I exclude that dependecy from <code>spring-integration-ftp</code> and included version 3.9.0 in my project and it works now. I don&#39;t know if it&#39;s some kind of bug in version 3.8.0 inside <code>spring-integration-ftp</code>, but version 3.9.0 solved my problem."}],"answers":[{"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675887445,"post_id":75391073,"comment_id":133027062,"body_markdown":"Good to know! Unfortunately we cannot upgrade that `5.5.x` version to newer `commons-net` since the rule is not to pull minor version to point version. We will upgrade to a that one in the next `6.1`.","body":"Good to know! Unfortunately we cannot upgrade that <code>5.5.x</code> version to newer <code>commons-net</code> since the rule is not to pull minor version to point version. We will upgrade to a that one in the next <code>6.1</code>."}],"tags":[],"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675885972,"creation_date":1675885972,"answer_id":75391073,"question_id":75380905,"body_markdown":"I found the solution of my problem. I&#39;m posting this in case something similar happens to someone else. \r\n\r\nMy project is using `spring-integration-ftp 5.5.16` that has `commons-net 3.8.0` as a dependency. For some reason, that version of `commons-net` wasn&#39;t retrieving the files inside the directory of the AS400, so I excluded that dependency from `spring-integration-ftp` and added `commons-net 3.9.0` in my project. Now everything works fine.","title":"Spring Integration is not detecting files on FTP Folder","body":"<p>I found the solution of my problem. I'm posting this in case something similar happens to someone else.</p>\n<p>My project is using <code>spring-integration-ftp 5.5.16</code> that has <code>commons-net 3.8.0</code> as a dependency. For some reason, that version of <code>commons-net</code> wasn't retrieving the files inside the directory of the AS400, so I excluded that dependency from <code>spring-integration-ftp</code> and added <code>commons-net 3.9.0</code> in my project. Now everything works fine.</p>\n"}],"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75391073,"answer_count":1,"score":1,"last_activity_date":1675885972,"creation_date":1675823942,"question_id":75380905,"body_markdown":"Currently I&#39;m facing a problem where I don&#39;t know what to do to resolve it. I&#39;m developing a simple application that transfer files through different FTP and SFTP servers to be processed. Well, at the beginnig those servers weren&#39;t ready, so I used Apache Mina and RebexTinySftpServer to set a FTP server and a SFTP server on my computer to test my development. \r\n\r\nWith those applications I completed and tested my application locally, so it was time to test it using the servers that will be used in production, but something is wrong with the FTP server and Spring Integration is not detecting the files that are put in the folder to be transferred to the SFTP server.\r\n\r\nI have two folders on each server: one for Input files and the another one for Output files. So when Spring Integration detects that there&#39;s a new file in the Input folder on the SFTP Server, it transfers the file to the Input folder on FTP Server to be processed for another service. That part works fine.\r\n\r\nAfter that service processes the file, it generates an output file and stores it in the Output folder on the FTP Server to be transferred to the Output folder on the SFTP server, but for some reason Spring Integration is not detecting those files and doesn&#39;t transfer none of them. This part is what I don&#39;t know how to solve because none Exception is being thrown, so I don&#39;t know what part of my code I have to modify.\r\n\r\nHere is my code where I define the DefaultFtpSessionFactory:\r\n\r\n```\r\npublic DefaultFtpSessionFactory ftpSessionFactory() {\r\n\tDefaultFtpSessionFactory session = new DefaultFtpSessionFactory();\r\n\tsession.setUsername(username);\r\n\tsession.setPassword(password);\r\n\tsession.setPort(port);\r\n\tsession.setHost(host);\r\n\tsession.setFileType(FTP.ASCII_FILE_TYPE);\r\n\tsession.setClientMode(FTPClient.PASSIVE_LOCAL_DATA_CONNECTION_MODE);\r\n\treturn session;\r\n}\r\n```\r\n\r\nAnd here is the code where I define the FTP Inbound Adapter:\r\n\r\n```\r\n@Bean\r\nFtpInboundChannelAdapterSpec salidaAS400InboundAdapter() {\r\n\treturn Ftp.inboundAdapter(as400Session.ftpSessionFactory())\r\n\t\t\t.preserveTimestamp(true)\r\n\t\t\t.remoteDirectory(as400Session.getPathSalida())\r\n\t\t\t.deleteRemoteFiles(true)\r\n\t\t\t.localDirectory(new File(&quot;tmp/as400/salida&quot;))\r\n\t\t\t.temporaryFileSuffix(&quot;.tmp&quot;);\r\n}\r\n```\r\n\r\nI should mention that the FTP Server is running on an AS/400 system, so maybe that has something to do with the situation I&#39;m facing.","title":"Spring Integration is not detecting files on FTP Folder","body":"<p>Currently I'm facing a problem where I don't know what to do to resolve it. I'm developing a simple application that transfer files through different FTP and SFTP servers to be processed. Well, at the beginnig those servers weren't ready, so I used Apache Mina and RebexTinySftpServer to set a FTP server and a SFTP server on my computer to test my development.</p>\n<p>With those applications I completed and tested my application locally, so it was time to test it using the servers that will be used in production, but something is wrong with the FTP server and Spring Integration is not detecting the files that are put in the folder to be transferred to the SFTP server.</p>\n<p>I have two folders on each server: one for Input files and the another one for Output files. So when Spring Integration detects that there's a new file in the Input folder on the SFTP Server, it transfers the file to the Input folder on FTP Server to be processed for another service. That part works fine.</p>\n<p>After that service processes the file, it generates an output file and stores it in the Output folder on the FTP Server to be transferred to the Output folder on the SFTP server, but for some reason Spring Integration is not detecting those files and doesn't transfer none of them. This part is what I don't know how to solve because none Exception is being thrown, so I don't know what part of my code I have to modify.</p>\n<p>Here is my code where I define the DefaultFtpSessionFactory:</p>\n<pre><code>public DefaultFtpSessionFactory ftpSessionFactory() {\n    DefaultFtpSessionFactory session = new DefaultFtpSessionFactory();\n    session.setUsername(username);\n    session.setPassword(password);\n    session.setPort(port);\n    session.setHost(host);\n    session.setFileType(FTP.ASCII_FILE_TYPE);\n    session.setClientMode(FTPClient.PASSIVE_LOCAL_DATA_CONNECTION_MODE);\n    return session;\n}\n</code></pre>\n<p>And here is the code where I define the FTP Inbound Adapter:</p>\n<pre><code>@Bean\nFtpInboundChannelAdapterSpec salidaAS400InboundAdapter() {\n    return Ftp.inboundAdapter(as400Session.ftpSessionFactory())\n            .preserveTimestamp(true)\n            .remoteDirectory(as400Session.getPathSalida())\n            .deleteRemoteFiles(true)\n            .localDirectory(new File(&quot;tmp/as400/salida&quot;))\n            .temporaryFileSuffix(&quot;.tmp&quot;);\n}\n</code></pre>\n<p>I should mention that the FTP Server is running on an AS/400 system, so maybe that has something to do with the situation I'm facing.</p>\n"},{"tags":["java","swing","jpanel","jlabel"],"answers":[{"comments":[{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1322735728,"post_id":8339853,"comment_id":10283648,"body_markdown":"added `magnet.validate()` but still not working. Neither `reapint()` nor `validate()` is working.  I&#39;d to make the `label` visible on the `panel`.","body":"added <code>magnet.validate()</code> but still not working. Neither <code>reapint()</code> nor <code>validate()</code> is working.  I&#39;d to make the <code>label</code> visible on the <code>panel</code>."},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1322736092,"post_id":8339853,"comment_id":10283757,"body_markdown":"I&#39;d used `setLocation()` does it now enough because `setBounds()` may trim the text. `setBounds()` also not working. I request you to please check the code by executing.","body":"I&#39;d used <code>setLocation()</code> does it now enough because <code>setBounds()</code> may trim the text. <code>setBounds()</code> also not working. I request you to please check the code by executing."},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":2,"creation_date":1322736201,"post_id":8339853,"comment_id":10283783,"body_markdown":"@MohammadFaisal: No. When you use `null` in layout you **must** explicitly define bounds of a component.","body":"@MohammadFaisal: No. When you use <code>null</code> in layout you <b>must</b> explicitly define bounds of a component."},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1322736363,"post_id":8339853,"comment_id":10283836,"body_markdown":"@AndrewThompson If he will not specify bounds for a null layout the component will never come into the picture. Isn&#39;t this right?","body":"@AndrewThompson If he will not specify bounds for a null layout the component will never come into the picture. Isn&#39;t this right?"},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1322736422,"post_id":8339853,"comment_id":10283856,"body_markdown":"Isn&#39;t any way out, because it trims my text.\nthe user can enter any number of lines.","body":"Isn&#39;t any way out, because it trims my text. the user can enter any number of lines."},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1322736566,"post_id":8339853,"comment_id":10283894,"body_markdown":"@MohammadFaisal: Use some layout.","body":"@MohammadFaisal: Use some layout."},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1322736698,"post_id":8339853,"comment_id":10283937,"body_markdown":"Actually I want these `label`s draggable, therefore I&#39;d `setLayout(null)`","body":"Actually I want these <code>label</code>s draggable, therefore I&#39;d <code>setLayout(null)</code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1322737455,"post_id":8339853,"comment_id":10284179,"body_markdown":"OK - I think the `null` layout should be swapped out for a custom layout, but my main objection to the answer was that `setBounds()` is so much guesswork as to the **size** of the component.  It would be better (even when using a `null` layout) to set it to the preferred size then call `setLocation()` rather than `setBounds()`.","body":"OK - I think the <code>null</code> layout should be swapped out for a custom layout, but my main objection to the answer was that <code>setBounds()</code> is so much guesswork as to the <b>size</b> of the component.  It would be better (even when using a <code>null</code> layout) to set it to the preferred size then call <code>setLocation()</code> rather than <code>setBounds()</code>."},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1322737710,"post_id":8339853,"comment_id":10284246,"body_markdown":"@AndrewThompson: `setLocation()` is not working. I&#39;d forcefully have to use `setBounds()`. Can I get the preferred size after using the `setBounds()`?","body":"@AndrewThompson: <code>setLocation()</code> is not working. I&#39;d forcefully have to use <code>setBounds()</code>. Can I get the preferred size after using the <code>setBounds()</code>?"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":1,"creation_date":1322737749,"post_id":8339853,"comment_id":10284255,"body_markdown":"@AndrewThompson: hmm... now I get it. Mohammad Faisal: instead of setBounds() use setSize(getPreferedSize()) and setLocation(); This might work for you.","body":"@AndrewThompson: hmm... now I get it. Mohammad Faisal: instead of setBounds() use setSize(getPreferedSize()) and setLocation(); This might work for you."},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":1,"creation_date":1322737951,"post_id":8339853,"comment_id":10284310,"body_markdown":"@AndrewThompson: I have updated the answer. Is it right for now?","body":"@AndrewThompson: I have updated the answer. Is it right for now?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1322740028,"post_id":8339853,"comment_id":10284945,"body_markdown":"*&quot;Is it right for now?&quot;*   Gets an up-vote here.  Good call on the edit. :)","body":"<i>&quot;Is it right for now?&quot;</i>   Gets an up-vote here.  Good call on the edit. :)"},{"owner":{"account_id":3846000,"reputation":570,"user_id":3187539,"accept_rate":80,"display_name":"clockw0rk"},"score":0,"creation_date":1599952690,"post_id":8339853,"comment_id":112935868,"body_markdown":"setbounds is the preferred way when u want to update the element, f.e. when the size of parent JFrame changes. u will have to work with percentual numbers or a clever calculation of getDimension()","body":"setbounds is the preferred way when u want to update the element, f.e. when the size of parent JFrame changes. u will have to work with percentual numbers or a clever calculation of getDimension()"}],"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"comment_count":13,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1322737927,"creation_date":1322735452,"answer_id":8339853,"question_id":8339790,"body_markdown":"You need to repaint()/validate() your panle after adding new components in it dynamically. So after this:\r\n\r\n    magnet.add(codeLabel);\r\n\r\nadd this:\r\n\r\n    magnet.validate();\r\n\r\nor\r\n\r\n    magnet.repaint();\r\n\r\n----------\r\nAlso one thing you are using null layout for magnet panel. So must have to setBounds() of jLable before adding it to magnet panel. So it becomes\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        codeLabel=new JLabel(area4Label.getText());\r\n        codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n        codeLabel.setBounds(50, 20, 100, 100);\r\n        magnet.add(codeLabel);\r\n        magnet.repaint();\r\n        area4Label.setText(&quot;&quot;);\r\n    }\r\n\r\nIt is not recommended to use `null` as layout, you should use proper layout like BorderLayout or GridLayout or even simpler FlowLayout based on your requirement.\r\n\r\n\r\n----------\r\nAs said by @Andrew use something like:\r\n\r\n    codeLabel.setSize(codeLabel.getPreferredSize());\r\n    codeLabel.setLocation(50, 20);\r\n\r\ninstead of \r\n\r\n    codeLabel.setBounds(50, 20, 100, 100);\r\n\r\nThis will solve the size issue of jLabel.","title":"JLabel not visible on Jpanel","body":"<p>You need to repaint()/validate() your panle after adding new components in it dynamically. So after this:</p>\n\n<pre><code>magnet.add(codeLabel);\n</code></pre>\n\n<p>add this:</p>\n\n<pre><code>magnet.validate();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>magnet.repaint();\n</code></pre>\n\n<hr>\n\n<p>Also one thing you are using null layout for magnet panel. So must have to setBounds() of jLable before adding it to magnet panel. So it becomes</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n    codeLabel=new JLabel(area4Label.getText());\n    codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n    codeLabel.setBounds(50, 20, 100, 100);\n    magnet.add(codeLabel);\n    magnet.repaint();\n    area4Label.setText(\"\");\n}\n</code></pre>\n\n<p>It is not recommended to use <code>null</code> as layout, you should use proper layout like BorderLayout or GridLayout or even simpler FlowLayout based on your requirement.</p>\n\n<hr>\n\n<p>As said by @Andrew use something like:</p>\n\n<pre><code>codeLabel.setSize(codeLabel.getPreferredSize());\ncodeLabel.setLocation(50, 20);\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>codeLabel.setBounds(50, 20, 100, 100);\n</code></pre>\n\n<p>This will solve the size issue of jLabel.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663361395,"post_id":73701359,"comment_id":130230012,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73701359/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26323028,"reputation":1,"user_id":19984772,"display_name":"Habibfufu "},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675885790,"creation_date":1663064687,"answer_id":73701359,"question_id":8339790,"body_markdown":"    public void actionPerformed(ActionEvent e) {\r\n    codeLabel=new JLabel(area4Label.getText());\r\n    codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n    codeLabel.setBounds(50, 20, 100, 100);\r\n    codeLabel.setOpaque(True);\r\n    magnet.add(codeLabel);\r\n    magnet.repaint();\r\n    area4Label.setText(&quot;&quot;);\r\n\r\n}","title":"JLabel not visible on Jpanel","body":"<pre><code>public void actionPerformed(ActionEvent e) {\ncodeLabel=new JLabel(area4Label.getText());\ncodeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\ncodeLabel.setBounds(50, 20, 100, 100);\ncodeLabel.setOpaque(True);\nmagnet.add(codeLabel);\nmagnet.repaint();\narea4Label.setText(&quot;&quot;);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21478,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8339853,"answer_count":2,"score":4,"last_activity_date":1675885790,"creation_date":1322735155,"question_id":8339790,"body_markdown":"I&#39;m working on a program in which I&#39;d used a `JTextArea`, `JButton`, `JLabel` and `JPanel`.  \r\nThe logic I&#39;d to implement is: user types a text in the given `textArea` and then click on the `button`. On button click I&#39;d to retrieve the text from the `textArea` and create a `label` with the written text(as in `textArea`) and show it on the `panel`.  \r\nEverything I&#39;d done previously is correct but the problem is with the `label` and `panel`. The `label` is not visible on the `panel`.\r\n\r\nThe code snippets is:  \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.HeadlessException;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.ScrollPaneConstants;\r\n    import javax.swing.border.BevelBorder;\r\n\r\n    /**\r\n     *\r\n     * @author mohammadfaisal\r\n     * http://ermohammadfaisal.blogspot.com\r\n     * http://facebook.com/m.faisal6621\r\n     * \r\n     */\r\n    public class CodeMagnets extends JFrame{\r\n        private JTextArea area4Label;\r\n        private JLabel codeLabel;\r\n        private JButton createButton;\r\n        private JPanel magnet;\r\n\r\n        public CodeMagnets(String title) throws HeadlessException {\r\n            super(title);\r\n            magnet=new JPanel(null);\r\n            JScrollPane magnetScroller=new JScrollPane(magnet);\r\n                  magnetScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n            magnetScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n            add(BorderLayout.CENTER, magnetScroller);\r\n            JPanel inputPanel=new JPanel();\r\n            area4Label=new JTextArea(5, 30);\r\n            area4Label.setTabSize(4);\r\n            JScrollPane textScroller=new JScrollPane(area4Label);\r\n            inputPanel.add(textScroller);\r\n            createButton=new JButton(&quot;Create code magnet&quot;);\r\n            createButton.addActionListener(new ActionListener() {\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    //codeLabel=new JLabel(area4Label.getText());\r\n                    codeLabel=new MyLabel(area4Label.getText());//this is for my new question\r\n                    codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n                    codeLabel.setLocation(50, 20);\r\n                    codeLabel.setVisible(true);\r\n                    magnet.add(codeLabel);\r\n                    area4Label.setText(&quot;&quot;);\r\n                    //pack();\r\n                }\r\n            });\r\n            inputPanel.add(createButton);\r\n            add(BorderLayout.SOUTH, inputPanel);\r\n            //pack();\r\n            setSize(640, 480);\r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            new CodeMagnets(&quot;Code Magnets&quot;);\r\n        }\r\n    }\r\n\r\n","title":"JLabel not visible on Jpanel","body":"<p>I'm working on a program in which I'd used a <code>JTextArea</code>, <code>JButton</code>, <code>JLabel</code> and <code>JPanel</code>.<br>\nThe logic I'd to implement is: user types a text in the given <code>textArea</code> and then click on the <code>button</code>. On button click I'd to retrieve the text from the <code>textArea</code> and create a <code>label</code> with the written text(as in <code>textArea</code>) and show it on the <code>panel</code>.<br>\nEverything I'd done previously is correct but the problem is with the <code>label</code> and <code>panel</code>. The <code>label</code> is not visible on the <code>panel</code>.</p>\n\n<p>The code snippets is:  </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.HeadlessException;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.ScrollPaneConstants;\nimport javax.swing.border.BevelBorder;\n\n/**\n *\n * @author mohammadfaisal\n * http://ermohammadfaisal.blogspot.com\n * http://facebook.com/m.faisal6621\n * \n */\npublic class CodeMagnets extends JFrame{\n    private JTextArea area4Label;\n    private JLabel codeLabel;\n    private JButton createButton;\n    private JPanel magnet;\n\n    public CodeMagnets(String title) throws HeadlessException {\n        super(title);\n        magnet=new JPanel(null);\n        JScrollPane magnetScroller=new JScrollPane(magnet);\n              magnetScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        magnetScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        add(BorderLayout.CENTER, magnetScroller);\n        JPanel inputPanel=new JPanel();\n        area4Label=new JTextArea(5, 30);\n        area4Label.setTabSize(4);\n        JScrollPane textScroller=new JScrollPane(area4Label);\n        inputPanel.add(textScroller);\n        createButton=new JButton(\"Create code magnet\");\n        createButton.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                //codeLabel=new JLabel(area4Label.getText());\n                codeLabel=new MyLabel(area4Label.getText());//this is for my new question\n                codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n                codeLabel.setLocation(50, 20);\n                codeLabel.setVisible(true);\n                magnet.add(codeLabel);\n                area4Label.setText(\"\");\n                //pack();\n            }\n        });\n        inputPanel.add(createButton);\n        add(BorderLayout.SOUTH, inputPanel);\n        //pack();\n        setSize(640, 480);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new CodeMagnets(\"Code Magnets\");\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","jscrollpane","jlayeredpane"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675737200,"post_id":75368027,"comment_id":132988977,"body_markdown":"`LP.setLayout(new BorderLayout());` isn&#39;t going to work for you, as it will only allow a single component (the last one you added) to be managed at each available position.  I tried using a `GridBagLayout` and while it &quot;initially&quot; worked, if your scroll the scroll pane, the button disappears - not sure, but the scroll pane wants to be on top","body":"<code>LP.setLayout(new BorderLayout());</code> isn&#39;t going to work for you, as it will only allow a single component (the last one you added) to be managed at each available position.  I tried using a <code>GridBagLayout</code> and while it &quot;initially&quot; worked, if your scroll the scroll pane, the button disappears - not sure, but the scroll pane wants to be on top"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675737227,"post_id":75368027,"comment_id":132988980,"body_markdown":"1) Swing doesn&#39;t handle background with transparency. See: [Backgrounds With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) for more information. However, in your case there is no need to set the background because you are using full transparency, so you just need setOpaque(false). 2) I see you are attempting to build on you last solution from your last question. I really have no idea why you are attempting to do this. I would be frustrated with a button on top of my text area. Swing does not handle stacking of component in this manner very well.","body":"1) Swing doesn&#39;t handle background with transparency. See: <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a> for more information. However, in your case there is no need to set the background because you are using full transparency, so you just need setOpaque(false). 2) I see you are attempting to build on you last solution from your last question. I really have no idea why you are attempting to do this. I would be frustrated with a button on top of my text area. Swing does not handle stacking of component in this manner very well."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675737246,"post_id":75368027,"comment_id":132988985,"body_markdown":"Maybe you could use a [Glass Pane](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html).","body":"Maybe you could use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">Glass Pane</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675737348,"post_id":75368027,"comment_id":132988994,"body_markdown":"Without knowing more, I might encourage you to make use of the &quot;corner component&quot; support of `JScrollPane` - [How to Use Scroll Panes: Providing Custom Decorations](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations)","body":"Without knowing more, I might encourage you to make use of the &quot;corner component&quot; support of <code>JScrollPane</code> - <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\" rel=\"nofollow noreferrer\">How to Use Scroll Panes: Providing Custom Decorations</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675737427,"post_id":75368027,"comment_id":132989003,"body_markdown":"Further on, I &quot;think&quot; it has to do with how the `JScrollPane` optimisations work when you scroll, but I&#39;m not going to spend a lot of time trying to figure it out","body":"Further on, I &quot;think&quot; it has to do with how the <code>JScrollPane</code> optimisations work when you scroll, but I&#39;m not going to spend a lot of time trying to figure it out"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675741218,"post_id":75368622,"comment_id":132989459,"body_markdown":"The first approach sucks - put more text in and it just won&#39;t scroll","body":"The first approach sucks - put more text in and it just won&#39;t scroll"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675748641,"post_id":75368622,"comment_id":132990357,"body_markdown":"@MadProgrammer - both approaches scroll fine for me using JDK11 on Windows 11 using either the mouse or Page Up/Down keys.  I don&#39;t like either approach for a UX, but it does answer the question. Maybe a Glass Pane will work better.","body":"@MadProgrammer - both approaches scroll fine for me using JDK11 on Windows 11 using either the mouse or Page Up/Down keys.  I don&#39;t like either approach for a UX, but it does answer the question. Maybe a Glass Pane will work better."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675749051,"post_id":75368622,"comment_id":132990405,"body_markdown":"On MacOS your first approach won&#39;t allow me to scroll beyond the first page of results (but the layout is so screwed up anyway), the second approach seems to work okay","body":"On MacOS your first approach won&#39;t allow me to scroll beyond the first page of results (but the layout is so screwed up anyway), the second approach seems to work okay"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675749408,"post_id":75368622,"comment_id":132990444,"body_markdown":"Okay, I got something to work using your `isOptimizedDrawingEnabled` idea and just `GridBagLayout`, which, I personally, prefer, but I still don&#39;t think it&#39;s a very good UX (looking at you Google &#128545;) (personal opinion)","body":"Okay, I got something to work using your <code>isOptimizedDrawingEnabled</code> idea and just <code>GridBagLayout</code>, which, I personally, prefer, but I still don&#39;t think it&#39;s a very good UX (looking at you Google 😡) (personal opinion)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675782331,"post_id":75368622,"comment_id":133000172,"body_markdown":"@MadProgrammer *but I still don&#39;t think it&#39;s a very good UX* - neither do I which I have already stated three times.  Once in my original comments to the question and again in my answer and comments here. Hope the OP gets the hint. Are you suggesting you used a layered pane with multiple panels each using a GridBagLayout? If you got something working why not post it. Maybe it is not the best UX for this, but it might work for other requirements.","body":"@MadProgrammer <i>but I still don&#39;t think it&#39;s a very good UX</i> - neither do I which I have already stated three times.  Once in my original comments to the question and again in my answer and comments here. Hope the OP gets the hint. Are you suggesting you used a layered pane with multiple panels each using a GridBagLayout? If you got something working why not post it. Maybe it is not the best UX for this, but it might work for other requirements."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675801208,"post_id":75368622,"comment_id":133006018,"body_markdown":"Essentially what I got working was your `isOptimizedDrawingEnabled`, but instead of using a `OverlayLayout`, I used a `GridBagLayout` for the `contentPane`","body":"Essentially what I got working was your <code>isOptimizedDrawingEnabled</code>, but instead of using a <code>OverlayLayout</code>, I used a <code>GridBagLayout</code> for the <code>contentPane</code>"}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675885487,"creation_date":1675739633,"answer_id":75368622,"question_id":75368027,"body_markdown":"Swing is designed/optimized  to display/paint components in 2 dimensions. The vast majority of layout managers will make sure that the components don&#39;t overlap. \r\n\r\nThis means that you can&#39;t use a layout manager on your layered pane (if you want the components to overlap). Instead, you must manually set the size/location of components on each layer.\r\n\r\nWhen you use a JLayeredPane the painting of components on each layer is managed so that the higher layer is painted last.\r\n\r\nSo your code might be changed to something like:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJFrame window = new JFrame();\r\n            window.setSize(600, 400);\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            //Making the LayeredPane\r\n            JLayeredPane LP = new JLayeredPane();\r\n    \r\n            //Making the ScrollPane and JTextArea\r\n            JTextArea textArea = new JTextArea(20,40);\r\n            textArea.setText(&quot;Test Text&quot;);\r\n            textArea.setSize( textArea.getPreferredSize() );\r\n            JScrollPane back = new JScrollPane( textArea);\r\n            back.setSize( textArea.getSize() );\r\n    \r\n            JButton button = new JButton(&quot;test&quot;);\r\n            button.setBounds(200,200,50,20);\r\n    \r\n            LP.add(back, new Integer(0));\r\n            LP.add(button, new Integer(1));\r\n    \r\n            window.add(LP);\r\n            window.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\nThere is one layout manager in the JDK, the `OverlayLayout`, which is designed to stack components on top of one another. However, even this layout manager does not paint components properly when the components overlap. The trick when using this layout manager is to override the  `isOptimizedDrawing()` method of the panel using the layout manager to make sure all components are repainted all the time. In this case, make sure the bottom panel is always painted before the top panel.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class Main2\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJFrame window = new JFrame();\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJPanel contentPane = new JPanel()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean isOptimizedDrawingEnabled()\r\n    \t\t\t{\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tcontentPane.setLayout( new OverlayLayout(contentPane) );\r\n    \r\n    \t\tJPanel top = new JPanel( new GridBagLayout() );\r\n    \t\ttop.setBorder( new EmptyBorder(0, 0, 16, 16) );\r\n    \t\ttop.setOpaque(false);\r\n            top.setAlignmentX(1.0f);\r\n            top.setAlignmentY(1.0f);\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.weightx = 1.0;\r\n    \t\tgbc.weighty = 1.0;\r\n    \t\tgbc.anchor = GridBagConstraints.LAST_LINE_END;\r\n    \r\n            JButton button = new JButton(&quot;test&quot;);\r\n    \t\ttop.add(button, gbc);\r\n            contentPane.add(top);\r\n    \r\n            //Making the ScrollPane and JTextArea\r\n            JTextArea textArea = new JTextArea(10,25);\r\n            textArea.setText(&quot;Test Text&quot;);\r\n            JScrollPane back = new JScrollPane( textArea);\r\n            back.setAlignmentX(1.0f);\r\n            back.setAlignmentY(1.0f);\r\n            contentPane.add(back);\r\n    \r\n            window.add(contentPane);\r\n            window.pack();\r\n            window.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nThe benefit of this approach is that the button will move as the frame is resized.\r\n\r\nHowever, as a user I would still get annoyed with a button appearing over top of the text in my text area.\r\n\r\nEdit:\r\n\r\nIf you really need components to overlap then I would suggest you could:\r\n\r\n1. look at MadProgrammers solution to use a GridBagLayout. This approach gives far more control over the alignment of the components\r\n2. check out the [Overlap Layout](https://tips4java.wordpress.com/2009/07/26/overlap-layout/) which also provides more flexibility when aligning overlapping components\r\n\r\nIt should be noted that both above approaches may still require you to override the `isOptimizedDrawEnabled(...)` method to make sure components are painted properly. I am not aware of any layout manager the allows you to overlap components and works without this override. ","title":"Java Swing trying to add a stationary JButton over a JScrollPane","body":"<p>Swing is designed/optimized  to display/paint components in 2 dimensions. The vast majority of layout managers will make sure that the components don't overlap.</p>\n<p>This means that you can't use a layout manager on your layered pane (if you want the components to overlap). Instead, you must manually set the size/location of components on each layer.</p>\n<p>When you use a JLayeredPane the painting of components on each layer is managed so that the higher layer is painted last.</p>\n<p>So your code might be changed to something like:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        JFrame window = new JFrame();\n        window.setSize(600, 400);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //Making the LayeredPane\n        JLayeredPane LP = new JLayeredPane();\n\n        //Making the ScrollPane and JTextArea\n        JTextArea textArea = new JTextArea(20,40);\n        textArea.setText(&quot;Test Text&quot;);\n        textArea.setSize( textArea.getPreferredSize() );\n        JScrollPane back = new JScrollPane( textArea);\n        back.setSize( textArea.getSize() );\n\n        JButton button = new JButton(&quot;test&quot;);\n        button.setBounds(200,200,50,20);\n\n        LP.add(back, new Integer(0));\n        LP.add(button, new Integer(1));\n\n        window.add(LP);\n        window.setVisible(true);\n    }\n}\n</code></pre>\n<p>There is one layout manager in the JDK, the <code>OverlayLayout</code>, which is designed to stack components on top of one another. However, even this layout manager does not paint components properly when the components overlap. The trick when using this layout manager is to override the  <code>isOptimizedDrawing()</code> method of the panel using the layout manager to make sure all components are repainted all the time. In this case, make sure the bottom panel is always painted before the top panel.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class Main2\n{\n    public static void main(String[] args)\n    {\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel contentPane = new JPanel()\n        {\n            @Override\n            public boolean isOptimizedDrawingEnabled()\n            {\n                return false;\n            }\n        };\n        contentPane.setLayout( new OverlayLayout(contentPane) );\n\n        JPanel top = new JPanel( new GridBagLayout() );\n        top.setBorder( new EmptyBorder(0, 0, 16, 16) );\n        top.setOpaque(false);\n        top.setAlignmentX(1.0f);\n        top.setAlignmentY(1.0f);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1.0;\n        gbc.weighty = 1.0;\n        gbc.anchor = GridBagConstraints.LAST_LINE_END;\n\n        JButton button = new JButton(&quot;test&quot;);\n        top.add(button, gbc);\n        contentPane.add(top);\n\n        //Making the ScrollPane and JTextArea\n        JTextArea textArea = new JTextArea(10,25);\n        textArea.setText(&quot;Test Text&quot;);\n        JScrollPane back = new JScrollPane( textArea);\n        back.setAlignmentX(1.0f);\n        back.setAlignmentY(1.0f);\n        contentPane.add(back);\n\n        window.add(contentPane);\n        window.pack();\n        window.setVisible(true);\n    }\n}\n</code></pre>\n<p>The benefit of this approach is that the button will move as the frame is resized.</p>\n<p>However, as a user I would still get annoyed with a button appearing over top of the text in my text area.</p>\n<p>Edit:</p>\n<p>If you really need components to overlap then I would suggest you could:</p>\n<ol>\n<li>look at MadProgrammers solution to use a GridBagLayout. This approach gives far more control over the alignment of the components</li>\n<li>check out the <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">Overlap Layout</a> which also provides more flexibility when aligning overlapping components</li>\n</ol>\n<p>It should be noted that both above approaches may still require you to override the <code>isOptimizedDrawEnabled(...)</code> method to make sure components are painted properly. I am not aware of any layout manager the allows you to overlap components and works without this override.</p>\n"},{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675811642,"post_id":75378703,"comment_id":133008417,"body_markdown":"(1+) I&#39;ll need to remember this. The trick is to add the two components to the same grid. The GridBagConstraints then give more control on how the components are aligned within the grid than can be achieved with the OverlayLayout.","body":"(1+) I&#39;ll need to remember this. The trick is to add the two components to the same grid. The GridBagConstraints then give more control on how the components are aligned within the grid than can be achieved with the OverlayLayout."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675801956,"creation_date":1675801956,"answer_id":75378703,"question_id":75368027,"body_markdown":"# Caveat\r\n\r\nI&#39;m not a fan of this is idea.  It&#39;s not a &quot;common&quot; UX concept that many desktop users would be presented with and there are a number of, arguably, better solutions which leverage the pre-existing experience of users.\r\n\r\nThis requires some &quot;hacking&quot; to get to work, so, there&#39;s no guarantee that it will work on all platforms or continue to work into the future.\r\n\r\n# Why doesn&#39;t it work?\r\n\r\nThis is a rather technical question which delves deep into the core of how Swing, and in particular, the `JScrollPane` work.  Let&#39;s just say, I don&#39;t have the time or desire to dig into, but I know the `JScrollPane` is heavy optimised, which may be affecting the way in which anything which overlays it gets updated - or it could just be the way that the painting system works.\r\n\r\n# Runnable example...\r\n\r\nThis takes the idea by camickr (all credit to him), but instead of using a `OverlayLayout`, makes use of a `GridBagLayout` to position the button.  Why?  Because the `GridBagLayout` gives me more control over the position of the button - it&#39;s a personal thing.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.*;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import javax.swing.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                JTextArea textArea = new JTextArea(40, 40);\r\n                try (Reader reader = new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/StarWarsNewHope.txt&quot;))) {\r\n                    textArea.read(reader, &quot;A long list&quot;);\r\n                } catch (IOException exp) {\r\n                    exp.printStackTrace();\r\n                }\r\n                JButton button = new JButton(&quot;Am I in your way yet&quot;);\r\n\r\n                JPanel contentPane = new JPanel() {\r\n                    @Override\r\n                    public boolean isOptimizedDrawingEnabled() {\r\n                        return false;\r\n                    }\r\n                };\r\n                contentPane.setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1.0;\r\n                gbc.weighty = 1.0;\r\n                // Change this to reposition the button some where else\r\n                gbc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n                gbc.insets = new Insets(32, 32, 32, 32);\r\n                gbc.ipadx = 16;\r\n                gbc.ipady = 16;\r\n                contentPane.add(button, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1.0;\r\n                gbc.weighty = 1.0;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                JScrollPane scrollPane = new JScrollPane(textArea);\r\n                contentPane.add(scrollPane, gbc);\r\n\r\n                add(contentPane);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KdJRW.gif\r\n\r\nYou should probably also look at [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) and the section on [Providing Custom Decorations](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations) for some alternatives","title":"Java Swing trying to add a stationary JButton over a JScrollPane","body":"<h1>Caveat</h1>\n<p>I'm not a fan of this is idea.  It's not a &quot;common&quot; UX concept that many desktop users would be presented with and there are a number of, arguably, better solutions which leverage the pre-existing experience of users.</p>\n<p>This requires some &quot;hacking&quot; to get to work, so, there's no guarantee that it will work on all platforms or continue to work into the future.</p>\n<h1>Why doesn't it work?</h1>\n<p>This is a rather technical question which delves deep into the core of how Swing, and in particular, the <code>JScrollPane</code> work.  Let's just say, I don't have the time or desire to dig into, but I know the <code>JScrollPane</code> is heavy optimised, which may be affecting the way in which anything which overlays it gets updated - or it could just be the way that the painting system works.</p>\n<h1>Runnable example...</h1>\n<p>This takes the idea by camickr (all credit to him), but instead of using a <code>OverlayLayout</code>, makes use of a <code>GridBagLayout</code> to position the button.  Why?  Because the <code>GridBagLayout</code> gives me more control over the position of the button - it's a personal thing.</p>\n<p><a href=\"https://i.stack.imgur.com/KdJRW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KdJRW.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n\n            JTextArea textArea = new JTextArea(40, 40);\n            try (Reader reader = new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/StarWarsNewHope.txt&quot;))) {\n                textArea.read(reader, &quot;A long list&quot;);\n            } catch (IOException exp) {\n                exp.printStackTrace();\n            }\n            JButton button = new JButton(&quot;Am I in your way yet&quot;);\n\n            JPanel contentPane = new JPanel() {\n                @Override\n                public boolean isOptimizedDrawingEnabled() {\n                    return false;\n                }\n            };\n            contentPane.setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1.0;\n            gbc.weighty = 1.0;\n            // Change this to reposition the button some where else\n            gbc.anchor = GridBagConstraints.FIRST_LINE_END;\n            gbc.insets = new Insets(32, 32, 32, 32);\n            gbc.ipadx = 16;\n            gbc.ipady = 16;\n            contentPane.add(button, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1.0;\n            gbc.weighty = 1.0;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            JScrollPane scrollPane = new JScrollPane(textArea);\n            contentPane.add(scrollPane, gbc);\n\n            add(contentPane);\n        }\n\n    }\n}\n</code></pre>\n<p>You should probably also look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> and the section on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\" rel=\"nofollow noreferrer\">Providing Custom Decorations</a> for some alternatives</p>\n"}],"owner":{"account_id":14032529,"reputation":33,"user_id":20027927,"display_name":"Different"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675885487,"creation_date":1675731779,"question_id":75368027,"body_markdown":"I am trying to make a text editor with a button that appears at the bottom right of the editor regardless if you scroll up or down and appears over the text area\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Problem{\r\n\r\n    public static void main(String[] args){\r\n        //Setting up the frame\r\n        JFrame window = new JFrame();\r\n        window.setSize(600, 400);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        //Making the LayeredPane\r\n        JLayeredPane LP = new JLayeredPane();\r\n        LP.setLayout(new BorderLayout());\r\n\r\n        //Making the ScrollPane and JTextArea\r\n        JTextArea textArea = new JTextArea(100,50);\r\n        textArea.setText(&quot;Test Text&quot;);\r\n        JScrollPane back = new JScrollPane();\r\n        back.setViewportView(textArea);\r\n\r\n        //Making the panel that appears in the front of the text\r\n        JPanel front = new JPanel();\r\n        front.setLayout(null);\r\n        front.setBackground(new Color(0,0,0,0));\r\n        front.setOpaque(false);\r\n        JButton button = new JButton(&quot;test&quot;);\r\n        button.setBounds(200,200,50,20);\r\n        front.add(button);\r\n\r\n        LP.add(back,BorderLayout.CENTER);\r\n        LP.setLayer(back,0,0);\r\n\r\n        LP.add(front,BorderLayout.CENTER);\r\n        LP.setLayer(front,1,0);\r\n\r\n        window.add(LP);\r\n        window.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nI am seeing just the JButton with a white background, if I don&#39;t add the second layer &quot;front&quot; I see my back JScrollPane with the JTextArea","title":"Java Swing trying to add a stationary JButton over a JScrollPane","body":"<p>I am trying to make a text editor with a button that appears at the bottom right of the editor regardless if you scroll up or down and appears over the text area</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Problem{\n\n    public static void main(String[] args){\n        //Setting up the frame\n        JFrame window = new JFrame();\n        window.setSize(600, 400);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //Making the LayeredPane\n        JLayeredPane LP = new JLayeredPane();\n        LP.setLayout(new BorderLayout());\n\n        //Making the ScrollPane and JTextArea\n        JTextArea textArea = new JTextArea(100,50);\n        textArea.setText(&quot;Test Text&quot;);\n        JScrollPane back = new JScrollPane();\n        back.setViewportView(textArea);\n\n        //Making the panel that appears in the front of the text\n        JPanel front = new JPanel();\n        front.setLayout(null);\n        front.setBackground(new Color(0,0,0,0));\n        front.setOpaque(false);\n        JButton button = new JButton(&quot;test&quot;);\n        button.setBounds(200,200,50,20);\n        front.add(button);\n\n        LP.add(back,BorderLayout.CENTER);\n        LP.setLayer(back,0,0);\n\n        LP.add(front,BorderLayout.CENTER);\n        LP.setLayer(front,1,0);\n\n        window.add(LP);\n        window.setVisible(true);\n    }\n}\n</code></pre>\n<p>I am seeing just the JButton with a white background, if I don't add the second layer &quot;front&quot; I see my back JScrollPane with the JTextArea</p>\n"},{"tags":["java","spring","spring-boot","log4j2"],"answers":[{"comments":[{"owner":{"account_id":16532718,"reputation":23,"user_id":11945517,"display_name":"Fernando Alexsandro Siregar"},"score":0,"creation_date":1675904195,"post_id":75390993,"comment_id":133030424,"body_markdown":"broo, you save my day.. thanks for the answer, this solved my problem.. great","body":"broo, you save my day.. thanks for the answer, this solved my problem.. great"}],"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675885456,"creation_date":1675885456,"answer_id":75390993,"question_id":75381552,"body_markdown":"The general format to configure a Log4j2 component via properties is:\r\n\r\n```\r\n&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.type = ComponentType\r\n&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.property1 = value1\r\n...\r\n```\r\n\r\nSo in your case you need:\r\n\r\n```\r\nappender.$0.type = Rewrite\r\nappender.$0.name = Rewrite\r\n\r\nappender.$0.$1.type = LogInterceptor\r\n\r\nappender.$0.$2.type = AppenderRef\r\nappender.$0.$2.ref = fileLogger\r\n```","title":"How to convert Log4j.xml to Log4j2.properties (Rewrite Polici)","body":"<p>The general format to configure a Log4j2 component via properties is:</p>\n<pre><code>&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.type = ComponentType\n&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.property1 = value1\n...\n</code></pre>\n<p>So in your case you need:</p>\n<pre><code>appender.$0.type = Rewrite\nappender.$0.name = Rewrite\n\nappender.$0.$1.type = LogInterceptor\n\nappender.$0.$2.type = AppenderRef\nappender.$0.$2.ref = fileLogger\n</code></pre>\n"}],"owner":{"account_id":16532718,"reputation":23,"user_id":11945517,"display_name":"Fernando Alexsandro Siregar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75390993,"answer_count":1,"score":0,"last_activity_date":1675885456,"creation_date":1675832651,"question_id":75381552,"body_markdown":"i want to use `Rewrite Policy` for some condition in logging like masking, and then I found the solution but in `log4j2.xml`, however we use `log4j2.properties` for base config, I already try to config but the rewrite still not working. \r\n\r\nhere other config compare to my config\r\n\r\nOther Config :\r\n```\r\n&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n  &lt;Properties&gt;\r\n    &lt;Property name=&quot;LOG_DIR&quot;&gt;/logs&lt;/Property&gt;\r\n  &lt;/Properties&gt;\r\n\r\n  &lt;Appenders&gt;\r\n    &lt;RollingFile\r\n      name=&quot;rollingFile&quot;\r\n      fileName=&quot;D:/logs/omnichannel/application.log&quot;\r\n      filePattern=&quot;D:/logs/omnichannel/application.%i.log.gz&quot;\r\n      ignoreExceptions=&quot;false&quot;&gt;\r\n      &lt;PatternLayout&gt;\r\n          &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\r\n      &lt;/PatternLayout&gt;\r\n      &lt;Policies&gt;\r\n          &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\r\n      &lt;/Policies&gt;\r\n      &lt;DefaultRolloverStrategy max=&quot;5&quot;&gt;\r\n        &lt;Delete basePath=&quot;D:/logs/&quot; maxDepth=&quot;2&quot;&gt;\r\n          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;\r\n          &lt;IfLastModified age=&quot;P30D&quot; /&gt;\r\n        &lt;/Delete&gt;\r\n      &lt;/DefaultRolloverStrategy&gt;\r\n    &lt;/RollingFile&gt;\r\n     &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot; ignoreExceptions=&quot;false&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n    &lt;Rewrite name=&quot;Rewrite&quot;&gt;\r\n      &lt;LogInterceptor /&gt;\r\n      &lt;AppenderRef ref=&quot;rollingFile&quot;/&gt;\r\n    &lt;/Rewrite&gt;\r\n  &lt;/Appenders&gt;\r\n\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;info&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;Rewrite&quot;/&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAnd my config here :\r\n```\r\nstatus = warn\r\nname= PropertiesConfig\r\n\r\n# Give directory path where log files should get stored\r\nproperty.basePath = D://logs//\r\n\r\nappenders = rolling, console, Rewrite \r\n\r\nappender.Rewrite.type = Rewrite\r\nappender.Rewrite.name = Rewrite\r\nappender.Rewrite.layout.type = LogInterceptor\r\nappender.Rewrite.layout.RewriteAppender = fileLogger\r\n\r\n# ConsoleAppender will print logs on console\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.target = SYSTEM_OUT\r\nappender.console.layout.type = PatternLayout\r\n# Specify the pattern of the logs\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %highlight{[%-5level]}{TRACE=magenta} %mask %logger{36}.%M(%L) : %msg%n%throwable\r\nappender.console.layout.disableAnsi=false\r\n\r\n# RollingFileAppender will print logs in file which can be rotated based on time or size\r\nappender.rolling.type = RollingFile\r\nappender.rolling.name = fileLogger\r\nappender.rolling.fileName = ${basePath}${hostName}.log\r\nappender.rolling.filePattern = ${basePath}${hostName}_%d{yyyy-MM-dd}-%i.log.gz\r\nappender.rolling.layout.type = PatternLayout\r\nappender.rolling.layout.pattern =  %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%-5level] %logger{36}.%M(%L) : %msg%n%throwable\r\nappender.rolling.policies.type = Policies\r\n\r\n# Rotate log file each day and keep 30 days worth\r\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.rolling.policies.time.interval = 1\r\nappender.rolling.strategy.type = DefaultRolloverStrategy\r\nappender.rolling.strategy.action.type = Delete\r\nappender.rolling.strategy.action.basePath = ${basePath}\r\nappender.rolling.strategy.action.maxDepth = 1\r\nappender.rolling.strategy.action.ifLastModified.type = IfLastModified\r\nappender.rolling.strategy.fileIndex = nomax\r\n\r\n# For hibernate tracing query parameter, make this default not opened\r\n#loggers = application, hibernate\r\nloggers = application, httpclient, Client\r\n\r\n\r\n# Mention package name here. Classes in this package or sub packages will use ConsoleAppender and RollingFileAppender for logging         \r\nlogger.application.name = com.project\r\nlogger.application.level = info\r\nlogger.application.appenderRefs = rolling\r\nlogger.application.appenderRef.rolling.ref = fileLogger\r\n\r\nlogger.httpclient.name = org.apache.http\r\nlogger.httpclient.level = info\r\nlogger.httpclient.appenderRefs = rolling\r\nlogger.httpclient.appenderRef.rolling.ref = fileLogger\r\n\r\nlogger.Client.name = com.sun.jersey.api\r\nlogger.Client.level = info\r\nlogger.Client.appenderRefs = rolling\r\nlogger.Client.appenderRef.rolling.ref = fileLogger\r\n\r\n# For hibernate tracing query parameter, make this default not opened\r\n#logger.hibernate.name = org.hibernate.type\r\n#logger.hibernate.level = trace\r\n#Logger.hibernate.Additivity = false\r\n\r\n# Configure root logger for logging error logs in classes which are in package other than above specified package\r\nrootLogger.level = info\r\nrootLogger.appenderRefs = Rewrite\r\nrootLogger.appenderRef.Rewrite.ref = Rewrite\r\n```\r\nmy function rewrite : \r\n```\r\n@Plugin(name = &quot;LogInterceptor&quot;, category = &quot;Core&quot;, elementType = &quot;rewritePolicy&quot;, printObject = true)\r\npublic class LoggingMaskingConverter implements RewritePolicy {\r\n\t\r\n\tprotected static final Logger log = LogManager.getLogger(LoggingMaskingConverter.class);\r\n\r\n\tprivate static final List&lt;String&gt; loggingSetting = Arrays.asList(&quot;pin,password&quot;.split(&quot;,&quot;));\r\n\t\r\n\tprivate static final String loggingMasking = &quot;1&quot;;\r\n\t\r\n\tprivate static final List&lt;String&gt; excludePath = Collections.emptyList();\r\n\t\r\n\tprivate static final String STR_BODY = &quot;body=[&quot;;\r\n\t\r\n\tProperties prop = new Properties();\r\n\t\r\n\t @PluginFactory\r\n\t public static LoggingMaskingConverter createPolicy() {\r\n\t\t return new LoggingMaskingConverter();\r\n\t }\r\n\t \r\n\t @Override\r\n\t public LogEvent rewrite(LogEvent event) {\r\n\t\t if (event.getLoggerName().contains(&quot;com.project&quot;)) {\r\n\t\t\t \r\n\t\t\t Message outputMessage = logInfoMasking(event.getMessage());\r\n\r\n\t\t     return new Log4jLogEvent.Builder(event).setMessage(outputMessage).build();\r\n\t\t } else {\r\n\t\t\t return new Log4jLogEvent.Builder(event).build();\r\n\t\t }\r\n\t\t\r\n\t }\r\n\t \r\n\t public Message logInfoMasking(Message message) {\r\n\t\t StringBuilder stringBuilder = new StringBuilder();\r\n\t\t try {\r\n\t\t\t String body = message.getFormattedMessage();\r\n\t\t\t ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\t\t if (StringUtils.isNotBlank(loggingMasking) &amp;&amp; loggingMasking.equalsIgnoreCase(&quot;1&quot;)) {\r\n\t\t\t\t if (body != null) {\r\n\t\t\t\t\t Collection&lt;String&gt; whitelist = loggingSetting;\r\n\t\t\t\t\t Collection&lt;String&gt; excludeKeys = excludePath;\r\n\t\t\t\t\t JsonMasker masker = new JsonMasker(whitelist, excludeKeys);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t JsonNode jsonNode = new ObjectMapper().readTree(body);\r\n\t\t\t\t\t JsonNode masked =  masker.mask(jsonNode);\r\n\t\t\t\t\t stringBuilder.append(STR_BODY + masked.toString() + &quot;]&quot;);\r\n\t\t\t\t }\r\n\t\t\t } else {\r\n\t\t\t\t String json = ow.writeValueAsString(body);\r\n\t\t\t\t stringBuilder.append(STR_BODY + json + &quot;]&quot;);\r\n\t\t\t }\r\n\t\t\t\t\r\n\t\t } catch (JsonProcessingException e) {\r\n\t\t\t log.error(e, e);\r\n\t\t }\r\n\t\t return new ObjectMessage(stringBuilder.toString());\r\n\t}\r\n}\r\n```\r\n\r\n\r\ni spend my time around one day to solve this. until this day. the rewrite still not working in logs file but in my function rewrite going well \r\n","title":"How to convert Log4j.xml to Log4j2.properties (Rewrite Polici)","body":"<p>i want to use <code>Rewrite Policy</code> for some condition in logging like masking, and then I found the solution but in <code>log4j2.xml</code>, however we use <code>log4j2.properties</code> for base config, I already try to config but the rewrite still not working.</p>\n<p>here other config compare to my config</p>\n<p>Other Config :</p>\n<pre><code>&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\n  &lt;Properties&gt;\n    &lt;Property name=&quot;LOG_DIR&quot;&gt;/logs&lt;/Property&gt;\n  &lt;/Properties&gt;\n\n  &lt;Appenders&gt;\n    &lt;RollingFile\n      name=&quot;rollingFile&quot;\n      fileName=&quot;D:/logs/omnichannel/application.log&quot;\n      filePattern=&quot;D:/logs/omnichannel/application.%i.log.gz&quot;\n      ignoreExceptions=&quot;false&quot;&gt;\n      &lt;PatternLayout&gt;\n          &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n          &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\n      &lt;/Policies&gt;\n      &lt;DefaultRolloverStrategy max=&quot;5&quot;&gt;\n        &lt;Delete basePath=&quot;D:/logs/&quot; maxDepth=&quot;2&quot;&gt;\n          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;\n          &lt;IfLastModified age=&quot;P30D&quot; /&gt;\n        &lt;/Delete&gt;\n      &lt;/DefaultRolloverStrategy&gt;\n    &lt;/RollingFile&gt;\n     &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot; ignoreExceptions=&quot;false&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n    &lt;/Console&gt;\n    &lt;Rewrite name=&quot;Rewrite&quot;&gt;\n      &lt;LogInterceptor /&gt;\n      &lt;AppenderRef ref=&quot;rollingFile&quot;/&gt;\n    &lt;/Rewrite&gt;\n  &lt;/Appenders&gt;\n\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;Rewrite&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>And my config here :</p>\n<pre><code>status = warn\nname= PropertiesConfig\n\n# Give directory path where log files should get stored\nproperty.basePath = D://logs//\n\nappenders = rolling, console, Rewrite \n\nappender.Rewrite.type = Rewrite\nappender.Rewrite.name = Rewrite\nappender.Rewrite.layout.type = LogInterceptor\nappender.Rewrite.layout.RewriteAppender = fileLogger\n\n# ConsoleAppender will print logs on console\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.target = SYSTEM_OUT\nappender.console.layout.type = PatternLayout\n# Specify the pattern of the logs\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %highlight{[%-5level]}{TRACE=magenta} %mask %logger{36}.%M(%L) : %msg%n%throwable\nappender.console.layout.disableAnsi=false\n\n# RollingFileAppender will print logs in file which can be rotated based on time or size\nappender.rolling.type = RollingFile\nappender.rolling.name = fileLogger\nappender.rolling.fileName = ${basePath}${hostName}.log\nappender.rolling.filePattern = ${basePath}${hostName}_%d{yyyy-MM-dd}-%i.log.gz\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern =  %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%-5level] %logger{36}.%M(%L) : %msg%n%throwable\nappender.rolling.policies.type = Policies\n\n# Rotate log file each day and keep 30 days worth\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.time.interval = 1\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.action.type = Delete\nappender.rolling.strategy.action.basePath = ${basePath}\nappender.rolling.strategy.action.maxDepth = 1\nappender.rolling.strategy.action.ifLastModified.type = IfLastModified\nappender.rolling.strategy.fileIndex = nomax\n\n# For hibernate tracing query parameter, make this default not opened\n#loggers = application, hibernate\nloggers = application, httpclient, Client\n\n\n# Mention package name here. Classes in this package or sub packages will use ConsoleAppender and RollingFileAppender for logging         \nlogger.application.name = com.project\nlogger.application.level = info\nlogger.application.appenderRefs = rolling\nlogger.application.appenderRef.rolling.ref = fileLogger\n\nlogger.httpclient.name = org.apache.http\nlogger.httpclient.level = info\nlogger.httpclient.appenderRefs = rolling\nlogger.httpclient.appenderRef.rolling.ref = fileLogger\n\nlogger.Client.name = com.sun.jersey.api\nlogger.Client.level = info\nlogger.Client.appenderRefs = rolling\nlogger.Client.appenderRef.rolling.ref = fileLogger\n\n# For hibernate tracing query parameter, make this default not opened\n#logger.hibernate.name = org.hibernate.type\n#logger.hibernate.level = trace\n#Logger.hibernate.Additivity = false\n\n# Configure root logger for logging error logs in classes which are in package other than above specified package\nrootLogger.level = info\nrootLogger.appenderRefs = Rewrite\nrootLogger.appenderRef.Rewrite.ref = Rewrite\n</code></pre>\n<p>my function rewrite :</p>\n<pre><code>@Plugin(name = &quot;LogInterceptor&quot;, category = &quot;Core&quot;, elementType = &quot;rewritePolicy&quot;, printObject = true)\npublic class LoggingMaskingConverter implements RewritePolicy {\n    \n    protected static final Logger log = LogManager.getLogger(LoggingMaskingConverter.class);\n\n    private static final List&lt;String&gt; loggingSetting = Arrays.asList(&quot;pin,password&quot;.split(&quot;,&quot;));\n    \n    private static final String loggingMasking = &quot;1&quot;;\n    \n    private static final List&lt;String&gt; excludePath = Collections.emptyList();\n    \n    private static final String STR_BODY = &quot;body=[&quot;;\n    \n    Properties prop = new Properties();\n    \n     @PluginFactory\n     public static LoggingMaskingConverter createPolicy() {\n         return new LoggingMaskingConverter();\n     }\n     \n     @Override\n     public LogEvent rewrite(LogEvent event) {\n         if (event.getLoggerName().contains(&quot;com.project&quot;)) {\n             \n             Message outputMessage = logInfoMasking(event.getMessage());\n\n             return new Log4jLogEvent.Builder(event).setMessage(outputMessage).build();\n         } else {\n             return new Log4jLogEvent.Builder(event).build();\n         }\n        \n     }\n     \n     public Message logInfoMasking(Message message) {\n         StringBuilder stringBuilder = new StringBuilder();\n         try {\n             String body = message.getFormattedMessage();\n             ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n             if (StringUtils.isNotBlank(loggingMasking) &amp;&amp; loggingMasking.equalsIgnoreCase(&quot;1&quot;)) {\n                 if (body != null) {\n                     Collection&lt;String&gt; whitelist = loggingSetting;\n                     Collection&lt;String&gt; excludeKeys = excludePath;\n                     JsonMasker masker = new JsonMasker(whitelist, excludeKeys);\n                        \n                     JsonNode jsonNode = new ObjectMapper().readTree(body);\n                     JsonNode masked =  masker.mask(jsonNode);\n                     stringBuilder.append(STR_BODY + masked.toString() + &quot;]&quot;);\n                 }\n             } else {\n                 String json = ow.writeValueAsString(body);\n                 stringBuilder.append(STR_BODY + json + &quot;]&quot;);\n             }\n                \n         } catch (JsonProcessingException e) {\n             log.error(e, e);\n         }\n         return new ObjectMessage(stringBuilder.toString());\n    }\n}\n</code></pre>\n<p>i spend my time around one day to solve this. until this day. the rewrite still not working in logs file but in my function rewrite going well</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1675884286,"post_id":75390750,"comment_id":133026171,"body_markdown":"Hint: does &quot;q&quot; contain a comma? How do you expect to get to your final &quot;else if&quot; when `userInput` is &quot;q&quot;?","body":"Hint: does &quot;q&quot; contain a comma? How do you expect to get to your final &quot;else if&quot; when <code>userInput</code> is &quot;q&quot;?"},{"owner":{"account_id":27738096,"reputation":1,"user_id":21175183,"display_name":"Ashley"},"score":0,"creation_date":1675884741,"post_id":75390750,"comment_id":133026294,"body_markdown":"Thank you! I&#39;ve put the quit at the top. Still not sure how to fix the odd whitespace.","body":"Thank you! I&#39;ve put the quit at the top. Still not sure how to fix the odd whitespace."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675884823,"post_id":75390750,"comment_id":133026323,"body_markdown":"It&#39;s not clear to me what&#39;s wrong.  What&#39;s weird about the whitespace?","body":"It&#39;s not clear to me what&#39;s wrong.  What&#39;s weird about the whitespace?"},{"owner":{"account_id":27738096,"reputation":1,"user_id":21175183,"display_name":"Ashley"},"score":0,"creation_date":1675884947,"post_id":75390750,"comment_id":133026355,"body_markdown":"The program I&#39;m submitting to keeps telling me I have an extra space after the first word and before the second word.","body":"The program I&#39;m submitting to keeps telling me I have an extra space after the first word and before the second word."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1675885533,"post_id":75390750,"comment_id":133026535,"body_markdown":"There&#39;s an extra space because that is what you typed after `Golden`. Look here: `Golden , Monkey`","body":"There&#39;s an extra space because that is what you typed after <code>Golden</code>. Look here: <code>Golden , Monkey</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675892202,"post_id":75390750,"comment_id":133028286,"body_markdown":"If you need to remove the whitespace when you split, you can try `userInput.split(&quot;\\\\s*,\\\\s*&quot;)`.  The `&quot;\\\\s*&quot;` part is an expression that means &quot;any amount of white space&quot;.","body":"If you need to remove the whitespace when you split, you can try <code>userInput.split(&quot;\\\\s*,\\\\s*&quot;)</code>.  The <code>&quot;\\\\s*&quot;</code> part is an expression that means &quot;any amount of white space&quot;."}],"answers":[{"tags":[],"owner":{"account_id":27678740,"reputation":26,"user_id":21127984,"display_name":"Terkeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675884951,"creation_date":1675884818,"answer_id":75390869,"question_id":75390750,"body_markdown":"Your code never actually goes to the last &quot;else if&quot;, because &quot;q&quot; doesn&#39;t contain a comma, so only the second &quot;else if&quot; is accessed. Also, you aren&#39;t removing the spaces in your string, you still keep them after spliting the words.","title":"Parsing Strings (JAVA)","body":"<p>Your code never actually goes to the last &quot;else if&quot;, because &quot;q&quot; doesn't contain a comma, so only the second &quot;else if&quot; is accessed. Also, you aren't removing the spaces in your string, you still keep them after spliting the words.</p>\n"}],"owner":{"account_id":27738096,"reputation":1,"user_id":21175183,"display_name":"Ashley"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676319485,"accepted_answer_id":75390869,"answer_count":1,"score":-1,"last_activity_date":1675885248,"creation_date":1675884074,"question_id":75390750,"body_markdown":"I&#39;m trying to complete this assignment, but I&#39;m stuck on how to proceed. \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        while (true)\r\n        {\r\n            System.out.println(&quot;Enter input string: &quot;);\r\n            String userInput = scan.nextLine();\r\n\r\n            if (userInput.contains(&quot;,&quot;))\r\n            {\r\n                System.out.println(&quot;First word:  &quot; + userInput.split(&quot;,&quot;)[0]);\r\n                System.out.println(&quot;Second word:&quot; + userInput.split(&quot;,&quot;)[1]);\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n            else if (!userInput.contains(&quot;,&quot;))\r\n            {\r\n                System.out.println(&quot;Error: No comma in string&quot;);\r\n\r\n            }\r\n            else if (userInput.equalsIgnoreCase(&quot;q&quot;))\r\n            {\r\n                break;\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n** I&#39;ve fixed the issue with the quit, still need help with the weird whitespace.\r\n\r\n  [1]: https://i.stack.imgur.com/FEQKJ.png","title":"Parsing Strings (JAVA)","body":"<p>I'm trying to complete this assignment, but I'm stuck on how to proceed.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n\n        while (true)\n        {\n            System.out.println(&quot;Enter input string: &quot;);\n            String userInput = scan.nextLine();\n\n            if (userInput.contains(&quot;,&quot;))\n            {\n                System.out.println(&quot;First word:  &quot; + userInput.split(&quot;,&quot;)[0]);\n                System.out.println(&quot;Second word:&quot; + userInput.split(&quot;,&quot;)[1]);\n                System.out.println(&quot;\\n&quot;);\n            }\n            else if (!userInput.contains(&quot;,&quot;))\n            {\n                System.out.println(&quot;Error: No comma in string&quot;);\n\n            }\n            else if (userInput.equalsIgnoreCase(&quot;q&quot;))\n            {\n                break;\n            }\n        }\n        return;\n    }\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FEQKJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEQKJ.png\" alt=\"enter image description here\" /></a></p>\n<p>** I've fixed the issue with the quit, still need help with the weird whitespace.</p>\n"},{"tags":["java","android","android-studio","chaquopy"],"comments":[{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1625549646,"post_id":68265019,"comment_id":120648174,"body_markdown":"Do you target Android 11?  Android no longer permit access to external storage, unless you&#39;re developing a file manager. If it&#39;s for educational purposes, you can declare All Files Access permission (be a file manager)","body":"Do you target Android 11?  Android no longer permit access to external storage, unless you&#39;re developing a file manager. If it&#39;s for educational purposes, you can declare All Files Access permission (be a file manager)"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1625550069,"post_id":68265019,"comment_id":120648284,"body_markdown":"and this permission is already declared (`MANAGE_EXTERNAL_STORAGE`), but is it granted? @op check in system settings of your app","body":"and this permission is already declared (<code>MANAGE_EXTERNAL_STORAGE</code>), but is it granted? @op check in system settings of your app"},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1625557572,"post_id":68265019,"comment_id":120650770,"body_markdown":"Declaring permissions in manifest was the old way. Those permissions might also need to be asked at runtime as [runtime permissions](https://developer.android.com/training/permissions/requesting) in modern Android versions.","body":"Declaring permissions in manifest was the old way. Those permissions might also need to be asked at runtime as <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">runtime permissions</a> in modern Android versions."}],"answers":[{"comments":[{"owner":{"account_id":7320341,"reputation":690,"user_id":5576570,"display_name":"Sanjay Kumaar"},"score":1,"creation_date":1625554088,"post_id":68265582,"comment_id":120649494,"body_markdown":"Google changes their privacy policy&#39;s since 1st of May 2021. After this Google Play Store will not accept this &#39;(android: requestLegacyExternalStorage = &quot;true&quot;)&#39;.","body":"Google changes their privacy policy&#39;s since 1st of May 2021. After this Google Play Store will not accept this &#39;(android: requestLegacyExternalStorage = &quot;true&quot;)&#39;."},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":1,"creation_date":1625554162,"post_id":68265582,"comment_id":120649521,"body_markdown":"This flag no is ignored if app targets Android 11","body":"This flag no is ignored if app targets Android 11"}],"tags":[],"owner":{"account_id":19759736,"reputation":86,"user_id":14469197,"display_name":"SamanSepahvand"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625552986,"creation_date":1625552986,"answer_id":68265582,"question_id":68265019,"body_markdown":"In addition to obtaining these permissions (READ_EXTERNAL_STORAGE, \r\n WRITE_EXTERNAL_STORAGE)during the initial run of the program, you must add the following code to the AndroidManifest.xml file in &lt;application&gt; tag.\r\n\r\n\r\n      android: requestLegacyExternalStorage = &quot;true&quot;","title":"Permission denied while accessing file Android 11","body":"<p>In addition to obtaining these permissions (READ_EXTERNAL_STORAGE,\nWRITE_EXTERNAL_STORAGE)during the initial run of the program, you must add the following code to the AndroidManifest.xml file in  tag.</p>\n<pre><code>  android: requestLegacyExternalStorage = &quot;true&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77317,"reputation":7321,"user_id":220765,"display_name":"mhsmith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625580465,"creation_date":1625580465,"answer_id":68272100,"question_id":68265019,"body_markdown":"From the [Chaquopy FAQ](https://chaquo.com/chaquopy/doc/current/faq.html#read-files-from-external-storage-sdcard):\r\n\r\nSince API level 29, Android has a [scoped storage policy](https://developer.android.com/training/data-storage#scoped-storage) which prevents direct access to external storage, even if your app has the READ_EXTERNAL_STORAGE permission. Instead, you can use the [system file picker](https://developer.android.com/training/data-storage/use-cases#open-document), and pass the file to Python as a byte array:\r\n\r\n```kotlin\r\nval REQUEST_OPEN = 0\r\n\r\nfun myMethod() {\r\n    startActivityForResult(\r\n        Intent(if (Build.VERSION.SDK_INT &gt;= 19) Intent.ACTION_OPEN_DOCUMENT\r\n               else Intent.ACTION_GET_CONTENT).apply {\r\n            addCategory(Intent.CATEGORY_OPENABLE)\r\n            setType(&quot;*/*&quot;)\r\n        }, REQUEST_OPEN)\r\n}\r\n\r\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n    if (requestCode == REQUEST_OPEN &amp;&amp; resultCode == RESULT_OK) {\r\n        val uri = data!!.data!!\r\n        // For Java, see https://stackoverflow.com/a/10297073\r\n        val content = contentResolver.openInputStream(uri)!!.use { it.readBytes() }\r\n        myPythonModule.callAttr(&quot;process&quot;, content)\r\n    }\r\n}\r\n```\r\n\r\nThe Python function can then access the file content however you like:\r\n\r\n```python\r\ndef process(content):\r\n    # `content` is already a bytes-like object, but if you need a standard bytes object:\r\n    content = bytes(content)\r\n\r\n    # If you need a file-like object:\r\n    import io\r\n    content_file = io.BytesIO(content)\r\n\r\n    # If you need a filename (less efficient):\r\n    import tempfile\r\n    with tempfile.NamedTemporaryFile() as temp_file:\r\n        temp_file.write(content)\r\n        filename = temp_file.name  # Valid only inside the `with` block.\r\n```","title":"Permission denied while accessing file Android 11","body":"<p>From the <a href=\"https://chaquo.com/chaquopy/doc/current/faq.html#read-files-from-external-storage-sdcard\" rel=\"nofollow noreferrer\">Chaquopy FAQ</a>:</p>\n<p>Since API level 29, Android has a <a href=\"https://developer.android.com/training/data-storage#scoped-storage\" rel=\"nofollow noreferrer\">scoped storage policy</a> which prevents direct access to external storage, even if your app has the READ_EXTERNAL_STORAGE permission. Instead, you can use the <a href=\"https://developer.android.com/training/data-storage/use-cases#open-document\" rel=\"nofollow noreferrer\">system file picker</a>, and pass the file to Python as a byte array:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val REQUEST_OPEN = 0\n\nfun myMethod() {\n    startActivityForResult(\n        Intent(if (Build.VERSION.SDK_INT &gt;= 19) Intent.ACTION_OPEN_DOCUMENT\n               else Intent.ACTION_GET_CONTENT).apply {\n            addCategory(Intent.CATEGORY_OPENABLE)\n            setType(&quot;*/*&quot;)\n        }, REQUEST_OPEN)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    if (requestCode == REQUEST_OPEN &amp;&amp; resultCode == RESULT_OK) {\n        val uri = data!!.data!!\n        // For Java, see https://stackoverflow.com/a/10297073\n        val content = contentResolver.openInputStream(uri)!!.use { it.readBytes() }\n        myPythonModule.callAttr(&quot;process&quot;, content)\n    }\n}\n</code></pre>\n<p>The Python function can then access the file content however you like:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def process(content):\n    # `content` is already a bytes-like object, but if you need a standard bytes object:\n    content = bytes(content)\n\n    # If you need a file-like object:\n    import io\n    content_file = io.BytesIO(content)\n\n    # If you need a filename (less efficient):\n    import tempfile\n    with tempfile.NamedTemporaryFile() as temp_file:\n        temp_file.write(content)\n        filename = temp_file.name  # Valid only inside the `with` block.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":77317,"reputation":7321,"user_id":220765,"display_name":"mhsmith"},"score":0,"creation_date":1676194390,"post_id":75390867,"comment_id":133085161,"body_markdown":"The question is about accessing a text file.","body":"The question is about accessing a text file."}],"tags":[],"owner":{"account_id":14963506,"reputation":513,"user_id":10802531,"display_name":"Mosayeb Masoumi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675884816,"creation_date":1675884816,"answer_id":75390867,"question_id":68265019,"body_markdown":"it&#39;s better to use below permissions if just want to access videos and images :\r\n\r\n  &quot;android.permission.READ_MEDIA_IMAGES&quot;  \r\n  &quot;android.permission.READ_MEDIA_VIDEO&quot;\r\n\r\ninstead of using MANAGE_EXTERNAL_STORAGE","title":"Permission denied while accessing file Android 11","body":"<p>it's better to use below permissions if just want to access videos and images :</p>\n<p>&quot;android.permission.READ_MEDIA_IMAGES&quot;<br />\n&quot;android.permission.READ_MEDIA_VIDEO&quot;</p>\n<p>instead of using MANAGE_EXTERNAL_STORAGE</p>\n"}],"owner":{"account_id":19642340,"reputation":53,"user_id":14378117,"display_name":"Noman Omer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675884816,"creation_date":1625549350,"question_id":68265019,"body_markdown":"I am accessing text file in android but the permission denied errno13 showed up and i have already given all permission of storage\r\n\r\n\r\nThis is the logcat error which showing\r\n[![This is the logcat error which showing][1]][1]\r\n\r\n\r\nApplication permission code\r\n[![Application permission code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fvjpc.png\r\n  [2]: https://i.stack.imgur.com/EDrWP.png","title":"Permission denied while accessing file Android 11","body":"<p>I am accessing text file in android but the permission denied errno13 showed up and i have already given all permission of storage</p>\n<p>This is the logcat error which showing\n<a href=\"https://i.stack.imgur.com/Fvjpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fvjpc.png\" alt=\"This is the logcat error which showing\" /></a></p>\n<p>Application permission code\n<a href=\"https://i.stack.imgur.com/EDrWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDrWP.png\" alt=\"Application permission code\" /></a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":14020306,"reputation":85,"user_id":10126669,"display_name":"RipperJugo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540367530,"creation_date":1540367530,"answer_id":52963586,"question_id":52881225,"body_markdown":"I had this problem and solved it by replacing:\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO) \r\n\r\nwith:\r\n  \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nHope it works for you too!","title":"Hibernate exception: The internal connection pool has reached its maximum size","body":"<p>I had this problem and solved it by replacing:</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO) \n</code></pre>\n\n<p>with:</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>Hope it works for you too!</p>\n"},{"tags":[],"owner":{"account_id":8254927,"reputation":71,"user_id":6208394,"display_name":"Kees Kuip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547213893,"creation_date":1547213893,"answer_id":54147652,"question_id":52881225,"body_markdown":"I think it uses a connection to determine the &#39;id&#39;.\r\nMaybe setting the number of connections to 2 instead of 1 solves the problem.","title":"Hibernate exception: The internal connection pool has reached its maximum size","body":"<p>I think it uses a connection to determine the 'id'.\nMaybe setting the number of connections to 2 instead of 1 solves the problem.</p>\n"}],"owner":{"account_id":7719619,"reputation":33,"user_id":5846244,"display_name":"Rajnandini Ranbhare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675884609,"creation_date":1539891018,"question_id":52881225,"body_markdown":"I am facing above issue, whenever I&#39;m adding &#39;@GeneratedValue&#39; annotation to Id field.\r\nSee below code snippet which I have used for saving entity using hibernate. \r\n\r\n\r\n    public class HibernateTest {\r\n\tpublic static void main(String[] args) {\r\n\t    Employee emp1 = new Employee();\r\n\t\temp1.setName(&quot;User1&quot;);\r\n\t\r\n\t\ttry (SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); Session session = sessionFactory.openSession()){\r\n\t\tsession.beginTransaction();\r\n\t\tsession.save(emp1);\r\n\t\tsession.getTransaction().commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nBelow is my Entity class\r\n\r\n    @Entity\r\n    @Table (name = &quot;Employee_Details&quot;)\r\n    public class Employee {\r\n\t    @Id  @GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate int id;\r\n\t    private String name;\r\n    \tpublic int getId() { return id; }\r\n\t    public void setId(int id) { this.id = id; } \r\n    \tpublic String getName() {\r\n\t    \treturn name;\r\n    \t}\r\n\t    public void setName(String name) { this.name = name; }\r\n\t}\r\n\r\nAnd in hibernate.cfg.xml, connection pool size is set to 1\r\n\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\nI am closing the session as well as sessionFactory instance each time. Still facing below exception in logs\r\n\r\n    org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.poll(DriverManagerConnectionProviderImpl.java:322)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:189)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)\r\n\tat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125)\r\n\tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\r\n\r\nIf I remove &#39;GeneratedValue&#39; annotation from Id field, this works fine. Can anyone tell me, why is this failing? And how to I resolve it?","title":"Hibernate exception: The internal connection pool has reached its maximum size","body":"<p>I am facing above issue, whenever I'm adding '@GeneratedValue' annotation to Id field.\nSee below code snippet which I have used for saving entity using hibernate. </p>\n\n<pre><code>public class HibernateTest {\npublic static void main(String[] args) {\n    Employee emp1 = new Employee();\n    emp1.setName(\"User1\");\n\n    try (SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); Session session = sessionFactory.openSession()){\n    session.beginTransaction();\n    session.save(emp1);\n    session.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Below is my Entity class</p>\n\n<pre><code>@Entity\n@Table (name = \"Employee_Details\")\npublic class Employee {\n    @Id  @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n    private String name;\n    public int getId() { return id; }\n    public void setId(int id) { this.id = id; } \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) { this.name = name; }\n}\n</code></pre>\n\n<p>And in hibernate.cfg.xml, connection pool size is set to 1</p>\n\n<pre><code>&lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n</code></pre>\n\n<p>I am closing the session as well as sessionFactory instance each time. Still facing below exception in logs</p>\n\n<pre><code>org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\nat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.poll(DriverManagerConnectionProviderImpl.java:322)\nat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:189)\nat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)\nat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125)\nat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\n</code></pre>\n\n<p>If I remove 'GeneratedValue' annotation from Id field, this works fine. Can anyone tell me, why is this failing? And how to I resolve it?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1675881747,"post_id":75390304,"comment_id":133025486,"body_markdown":"@JonSkeet Maybe a `Map&lt;String, String[]&gt;`, this being Java.","body":"@JonSkeet Maybe a <code>Map&lt;String, String[]&gt;</code>, this being Java."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1675881950,"post_id":75390304,"comment_id":133025545,"body_markdown":"Thinking about it more, I suspect you should *probably* actually embrace object orientation more - you probably want a `Map&lt;String, Person&gt;` where the `Person` class would have hair colour, gender etc. Keeping everything in a string array can be a quick way to get started - but gets messy *really* quickly.","body":"Thinking about it more, I suspect you should <i>probably</i> actually embrace object orientation more - you probably want a <code>Map&lt;String, Person&gt;</code> where the <code>Person</code> class would have hair colour, gender etc. Keeping everything in a string array can be a quick way to get started - but gets messy <i>really</i> quickly."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1675882892,"post_id":75390304,"comment_id":133025790,"body_markdown":"`I have about 150 different arrays` like literally someone typed 150 arrays into your source code?  Clarifying would do wonders here.  What you need to do is to make this into a data file of some sort (&quot;Laura,Female,Blond&quot;) then read the whole thing in a loop.  Use Jon&#39;s suggestion to create a model object `Person` to hold this data.","body":"<code>I have about 150 different arrays</code> like literally someone typed 150 arrays into your source code?  Clarifying would do wonders here.  What you need to do is to make this into a data file of some sort (&quot;Laura,Female,Blond&quot;) then read the whole thing in a loop.  Use Jon&#39;s suggestion to create a model object <code>Person</code> to hold this data."},{"owner":{"account_id":24278208,"reputation":1,"user_id":18225186,"display_name":"Lasse Linow"},"score":0,"creation_date":1675885515,"post_id":75390304,"comment_id":133026530,"body_markdown":"@markspace Yes that someone being me. I broke my code down to make it easier, but seems that made helping me harder! I am writing a &quot;cheat&quot; for Loldle.com, so I have all the 150 Champions in the game and their Traits (gender, melee/ranged, ressource type etc) I am a noob so I figured an array is fine. I&#39;ll look into Maps and check it out!","body":"@markspace Yes that someone being me. I broke my code down to make it easier, but seems that made helping me harder! I am writing a &quot;cheat&quot; for Loldle.com, so I have all the 150 Champions in the game and their Traits (gender, melee/ranged, ressource type etc) I am a noob so I figured an array is fine. I&#39;ll look into Maps and check it out!"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675889916,"post_id":75390304,"comment_id":133027679,"body_markdown":"What you want to use is called associative array.  Associative arrays or maps are built into the languages such as Python, JavaScript, PHP but not Java.  You can use Map to get do something similar.  It&#39;s more cumbersome and annoying but you could achieve the same thing.  You can&#39;t use [ ] operator.","body":"What you want to use is called associative array.  Associative arrays or maps are built into the languages such as Python, JavaScript, PHP but not Java.  You can use Map to get do something similar.  It&#39;s more cumbersome and annoying but you could achieve the same thing.  You can&#39;t use [ ] operator."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675884328,"creation_date":1675884328,"answer_id":75390797,"question_id":75390304,"body_markdown":"Variable names do not survive compilation, at least, not in a usable way. Thus, to directly answer your question: __impossible__.\r\n\r\nGiven that it is, java programmers tend not to do what you&#39;re doing. Instead, they&#39;d make a `Map` that maps strings (such as `Laura`) onto values (such as new String[] {&quot;Female&quot;, &quot;Blond&quot;}`).\r\n\r\nActually, while we&#39;re at it, a java programmer would never store such data in a string array, they&#39;d make types, such as:\r\n\r\n```\r\nenum HairColor {\r\n  BROWN, BLONDE, OTHER;\r\n}\r\n\r\nenum Gender {\r\n  MALE, FEMALE, OTHER;\r\n}\r\n\r\nrecord Person(Gender gender, HairColor hairColor) {}\r\n```\r\n\r\nThen you&#39;d have a `Map&lt;String, Person&gt;` that maps the name of a person (`&quot;Laura&quot;`) to an instance of `Person` representing her.\r\n\r\nThen you can do your `person[1] =&quot;Laura&quot;[1]` as:\r\n\r\n```\r\nPerson p = persons.get(&quot;Laura&quot;);\r\n```\r\n\r\nand go from there. To make this map, you replace:\r\n\r\n```\r\nString[] laura = {&quot;Female&quot;, &quot;Blonde&quot;};\r\n\r\n// with\r\nMap&lt;String, Person&gt; persons = new HashMap&lt;&gt;();\r\npersons.put(&quot;Laura&quot;, new Person(Gender.FEMALE, HairColor.BLONDE));\r\n```\r\n","title":"How to get a array by variable? (Java)","body":"<p>Variable names do not survive compilation, at least, not in a usable way. Thus, to directly answer your question: <strong>impossible</strong>.</p>\n<p>Given that it is, java programmers tend not to do what you're doing. Instead, they'd make a <code>Map</code> that maps strings (such as <code>Laura</code>) onto values (such as new String[] {&quot;Female&quot;, &quot;Blond&quot;}`).</p>\n<p>Actually, while we're at it, a java programmer would never store such data in a string array, they'd make types, such as:</p>\n<pre><code>enum HairColor {\n  BROWN, BLONDE, OTHER;\n}\n\nenum Gender {\n  MALE, FEMALE, OTHER;\n}\n\nrecord Person(Gender gender, HairColor hairColor) {}\n</code></pre>\n<p>Then you'd have a <code>Map&lt;String, Person&gt;</code> that maps the name of a person (<code>&quot;Laura&quot;</code>) to an instance of <code>Person</code> representing her.</p>\n<p>Then you can do your <code>person[1] =&quot;Laura&quot;[1]</code> as:</p>\n<pre><code>Person p = persons.get(&quot;Laura&quot;);\n</code></pre>\n<p>and go from there. To make this map, you replace:</p>\n<pre><code>String[] laura = {&quot;Female&quot;, &quot;Blonde&quot;};\n\n// with\nMap&lt;String, Person&gt; persons = new HashMap&lt;&gt;();\npersons.put(&quot;Laura&quot;, new Person(Gender.FEMALE, HairColor.BLONDE));\n</code></pre>\n"}],"owner":{"account_id":24278208,"reputation":1,"user_id":18225186,"display_name":"Lasse Linow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1675884328,"creation_date":1675881363,"question_id":75390304,"body_markdown":"I have a bunch of Arrays \r\n\r\n\r\n\r\n    \r\n    static String[] Laura= {&quot;Female&quot;, &quot;Blond&quot;};\r\n    \r\n    static String[] Phil= {&quot;Male&quot;, &quot;Brunette&quot;};\r\n    \r\n    static String[] Mark= {&quot;Male&quot;, &quot;brown&quot;};\r\n\r\n\r\n    static String[] Person= {&quot;Gender&quot;, &quot;Haircolor&quot;};\r\n\r\nand I want to replace the placeholder person with content from the arrays 2-4, depending on user input. \r\nIn short: \r\n\r\nI want to acces an array by giving the name as a String that the user inputs and replace my person array.\r\n\r\nso something like this: \r\n\r\n`person[1] =&quot;Laura&quot;[1]`\r\n\r\nI have about 150 different arrays, and having 150 code snippets just for this seems unreasonable to me, there has to be a way. (Its probably really simple I just cant think of it at the moment)\r\n\r\nI tried just putting my variable in the place where the Array&#39;s name would usually be, but its a Syntax error. \r\n\r\n\r\nI tried: \r\n\r\n\r\n`person[1] = variable[1]`","title":"How to get a array by variable? (Java)","body":"<p>I have a bunch of Arrays</p>\n<pre><code>static String[] Laura= {&quot;Female&quot;, &quot;Blond&quot;};\n\nstatic String[] Phil= {&quot;Male&quot;, &quot;Brunette&quot;};\n\nstatic String[] Mark= {&quot;Male&quot;, &quot;brown&quot;};\n\n\nstatic String[] Person= {&quot;Gender&quot;, &quot;Haircolor&quot;};\n</code></pre>\n<p>and I want to replace the placeholder person with content from the arrays 2-4, depending on user input.\nIn short:</p>\n<p>I want to acces an array by giving the name as a String that the user inputs and replace my person array.</p>\n<p>so something like this:</p>\n<p><code>person[1] =&quot;Laura&quot;[1]</code></p>\n<p>I have about 150 different arrays, and having 150 code snippets just for this seems unreasonable to me, there has to be a way. (Its probably really simple I just cant think of it at the moment)</p>\n<p>I tried just putting my variable in the place where the Array's name would usually be, but its a Syntax error.</p>\n<p>I tried:</p>\n<p><code>person[1] = variable[1]</code></p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory"],"comments":[{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1649661215,"post_id":70035497,"comment_id":126923082,"body_markdown":"did you find a solution?","body":"did you find a solution?"}],"answers":[{"comments":[{"owner":{"account_id":23392475,"reputation":11,"user_id":17456964,"display_name":"noba86"},"score":0,"creation_date":1637577498,"post_id":70044267,"comment_id":123854626,"body_markdown":"Unfortunately is you idea not working. Whenn I add the .oidUserService(oidcUserService) I still need this UserService and I don&#39;t know where it should come from.","body":"Unfortunately is you idea not working. Whenn I add the .oidUserService(oidcUserService) I still need this UserService and I don&#39;t know where it should come from."},{"owner":{"account_id":23392475,"reputation":11,"user_id":17456964,"display_name":"noba86"},"score":0,"creation_date":1637577704,"post_id":70044267,"comment_id":123854702,"body_markdown":"I also doublechecked the indentation in the application.yml. Semms correct from my point of view. What my application.yml doesn&#39;t contain is that second spring: secturity: oauth2: client:. Do I really need that? I was not able to find it in the documentation which you posted.","body":"I also doublechecked the indentation in the application.yml. Semms correct from my point of view. What my application.yml doesn&#39;t contain is that second spring: secturity: oauth2: client:. Do I really need that? I was not able to find it in the documentation which you posted."},{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1659127144,"post_id":70044267,"comment_id":129227677,"body_markdown":"I&#39;m getting `Could not find com.microsoft.azure:azure-active-directory-spring-boot-starter`, any ideas?","body":"I&#39;m getting <code>Could not find com.microsoft.azure:azure-active-directory-spring-boot-start&zwnj;&#8203;er</code>, any ideas?"}],"tags":[],"owner":{"account_id":21681461,"reputation":8729,"user_id":15997509,"display_name":"kavyaS"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637396096,"creation_date":1637396096,"answer_id":70044267,"question_id":70035497,"body_markdown":"Please check the below work arounds\r\n\r\n1.\tPlease Check dependencies:\r\n azure-active-directory-spring-boot-starter  and spring-boot-starter-oauth2-client.\r\n\r\n2.\tIn security configuration try this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                  .authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .oauth2Login()\r\n                    .userInfoEndpoint()\r\n                    .oidcUserService(oidcUserService);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n3.\tAlso check if it is indentation issue in your application.yml file or application.properties . security property must be beneath the spring property and so on\r\n\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     azure:\r\n          activedirectory:\r\n            tenant-id: &lt;tenant-id&gt;\r\n        //other\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n           //other\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nPlease refer this [Spring Boot Starter for Azure Active Directory developer&#39;s guide | Microsoft Docs][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide","title":"Azure active directory with spring boot Oaut2UserService Problem","body":"<p>Please check the below work arounds</p>\n<ol>\n<li><p>Please Check dependencies:\nazure-active-directory-spring-boot-starter  and spring-boot-starter-oauth2-client.</p>\n</li>\n<li><p>In security configuration try this</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n              .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login()\n                .userInfoEndpoint()\n                .oidcUserService(oidcUserService);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"3\">\n<li>Also check if it is indentation issue in your application.yml file or application.properties . security property must be beneath the spring property and so on</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> azure:\n      activedirectory:\n        tenant-id: &lt;tenant-id&gt;\n    //other</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n       //other</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Please refer this <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide\" rel=\"nofollow noreferrer\">Spring Boot Starter for Azure Active Directory developer's guide | Microsoft Docs</a></p>\n"},{"tags":[],"owner":{"account_id":21747186,"reputation":21,"user_id":16053675,"display_name":"Tevin Banton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675884230,"creation_date":1675884230,"answer_id":75390781,"question_id":70035497,"body_markdown":"I had the same issue and fixed it by adding the following to my application.properties file\r\n\r\n```\r\nazure.activedirectory.tenant-id=YOUR_TENANT_ID\r\nazure.activedirectory.client-id=YOUR_APPLICATION_ID\r\nazure.activedirectory.client-secret=YOUR_CLIENT_SECRET\r\nazure.activedirectory.post-logout-redirect-uri=REDIRECT_URI\r\nazure.activedirectory.autorization-clients.graph.scopes=APP_SCOPES\r\n```\r\n","title":"Azure active directory with spring boot Oaut2UserService Problem","body":"<p>I had the same issue and fixed it by adding the following to my application.properties file</p>\n<pre><code>azure.activedirectory.tenant-id=YOUR_TENANT_ID\nazure.activedirectory.client-id=YOUR_APPLICATION_ID\nazure.activedirectory.client-secret=YOUR_CLIENT_SECRET\nazure.activedirectory.post-logout-redirect-uri=REDIRECT_URI\nazure.activedirectory.autorization-clients.graph.scopes=APP_SCOPES\n</code></pre>\n"}],"owner":{"account_id":23392475,"reputation":11,"user_id":17456964,"display_name":"noba86"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675884230,"creation_date":1637328011,"question_id":70035497,"body_markdown":"Description:\r\n\r\nField oidcUserService in com.azure.spring.aad.webapp.AADWebSecurityConfigurerAdapter required a bean of type &#39;org.springframework.security.oauth2.client.userinfo.OAuth2UserService&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nAction:\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.client.userinfo.OAuth2UserService&#39; in your configuration.\r\n\r\nSecurityConfig.java\r\n\r\n     \r\n    \r\n       @EnableWebSecurity\r\n        @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n        @Profile(&quot;azure&quot;)\r\n        public class SecurityConfig extends AADWebSecurityConfigurerAdapter {\r\n            @Value( &quot;${app.protect.authenticated}&quot;)\r\n            private String[] protectedRoutes;\r\n    \r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n            .anyRequest().authenticated();\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nIf I compare my SecurtiyConfig.java with couple of other tutorials its very similar. Or at least they have no OAuth2UserService Bean in the SecurityConfig. Thats what I don&#39;t understand.\r\nAnybody able to help?\r\nhttps://code-premium.exaas.bosch.com/ps.go/msal-search-users/-/tree/main/1-Authentication/sign-in\r\n\r\n","title":"Azure active directory with spring boot Oaut2UserService Problem","body":"<p>Description:</p>\n<p>Field oidcUserService in com.azure.spring.aad.webapp.AADWebSecurityConfigurerAdapter required a bean of type 'org.springframework.security.oauth2.client.userinfo.OAuth2UserService' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:\nConsider defining a bean of type 'org.springframework.security.oauth2.client.userinfo.OAuth2UserService' in your configuration.</p>\n<p>SecurityConfig.java</p>\n<pre><code>   @EnableWebSecurity\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\n    @Profile(&quot;azure&quot;)\n    public class SecurityConfig extends AADWebSecurityConfigurerAdapter {\n        @Value( &quot;${app.protect.authenticated}&quot;)\n        private String[] protectedRoutes;\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http.authorizeRequests()\n        .anyRequest().authenticated();\n\n}\n\n}\n</code></pre>\n<p>If I compare my SecurtiyConfig.java with couple of other tutorials its very similar. Or at least they have no OAuth2UserService Bean in the SecurityConfig. Thats what I don't understand.\nAnybody able to help?\n<a href=\"https://code-premium.exaas.bosch.com/ps.go/msal-search-users/-/tree/main/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">https://code-premium.exaas.bosch.com/ps.go/msal-search-users/-/tree/main/1-Authentication/sign-in</a></p>\n"},{"tags":["java","android","sharedpreferences"],"owner":{"account_id":22641761,"reputation":51,"user_id":16817752,"display_name":"DJ Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675883772,"creation_date":1675883772,"question_id":75390695,"body_markdown":"In my Android app, I have a settings activity, using the `PreferenceScreen` base, and it seems to work fine. On my main screen, I have an options menu with a `Settings` option. To handle this, I have this code:\r\n```   \r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        if (item.getItemId() == R.id.settings_item) {\r\n\r\n            Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\r\n            startActivity(intent);\r\n\r\n        }\r\n        \r\n        return true;\r\n    }\r\n```\r\n\r\nThat opens the `Settings` menu perfectly fine, and I go into it. This is my `root_preferences.xml` file:\r\n```\r\n&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;PreferenceCategory app:title=&quot;General&quot;&gt;\r\n\r\n        &lt;SwitchPreference\r\n            app:key=&quot;advanced_mode&quot;\r\n            app:title=&quot;Advanced Mode&quot;\r\n            app:summary=&quot;Display all details, for advanced users ONLY.&quot;\r\n            app:icon=&quot;@drawable/baseline_developer_board_24&quot; /&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```\r\n\r\nHere is my `SettingsActivity.java` file:\r\n```\r\npackage com.slimyfrog123.smokercontrol;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.preference.PreferenceFragmentCompat;\r\n\r\npublic class SettingsActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.settings_activity);\r\n        if (savedInstanceState == null) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(R.id.settings, new SettingsFragment())\r\n                    .commit();\r\n        }\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n\r\n            actionBar.setTitle(&quot;Settings&quot;);\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        if (item.getItemId() == 16908332) onBackPressed();\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n    public static class SettingsFragment extends PreferenceFragmentCompat {\r\n\r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo, this works just fine whenever I open it the first time, and the toast pops up saying that I changed it, as defined here:\r\n```\r\n\r\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        SharedPreferences.OnSharedPreferenceChangeListener listener =\r\n                new SharedPreferences.OnSharedPreferenceChangeListener() {\r\n\r\n            @Override\r\n            public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\r\n\r\n                runOnUiThread(() -&gt; {\r\n\r\n                    Toast.makeText(getApplicationContext(), &quot;`&quot;  + key + &quot;` changed.&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n\r\n                });\r\n\r\n                if (key.equals(&quot;advanced_mode&quot;)) {\r\n\r\n                    advancedMode = sharedPreferences.getBoolean(&quot;advanced_mode&quot;, false);\r\n\r\n                    runOnUiThread(() -&gt; {\r\n\r\n                        Toast.makeText(getApplicationContext(), (advancedMode) ? &quot;Advanced Mode &quot; +\r\n                                &quot;Enabled.&quot; : &quot;Advanced Mode Disabled.&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                        updateUi();\r\n\r\n                    });\r\n\r\n                }\r\n\r\n            }\r\n\r\n        };\r\n        advancedMode = preferences.getBoolean(&quot;advanced_mode&quot;, false);\r\n        preferences.registerOnSharedPreferenceChangeListener(listener);\r\n```\r\nonce I close and re-open the menu, though, or even when I switch the `SwitchPreference` twice, it doesn&#39;t work anymore, and I have no idea why.\r\n\r\n\r\nI tried multiple different things, including telling the activity to finish on the back button pressed (the back button in the header) and then it did not work at all.\r\n\r\nMy expectation was that this would work in the first place, and that this would be simple and straightforward.","title":"Android: Preferences will not change on the second time that the screen is opened","body":"<p>In my Android app, I have a settings activity, using the <code>PreferenceScreen</code> base, and it seems to work fine. On my main screen, I have an options menu with a <code>Settings</code> option. To handle this, I have this code:</p>\n<pre><code>    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        if (item.getItemId() == R.id.settings_item) {\n\n            Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\n            startActivity(intent);\n\n        }\n        \n        return true;\n    }\n</code></pre>\n<p>That opens the <code>Settings</code> menu perfectly fine, and I go into it. This is my <code>root_preferences.xml</code> file:</p>\n<pre><code>&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;PreferenceCategory app:title=&quot;General&quot;&gt;\n\n        &lt;SwitchPreference\n            app:key=&quot;advanced_mode&quot;\n            app:title=&quot;Advanced Mode&quot;\n            app:summary=&quot;Display all details, for advanced users ONLY.&quot;\n            app:icon=&quot;@drawable/baseline_developer_board_24&quot; /&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>Here is my <code>SettingsActivity.java</code> file:</p>\n<pre><code>package com.slimyfrog123.smokercontrol;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.settings_activity);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.settings, new SettingsFragment())\n                    .commit();\n        }\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n\n            actionBar.setTitle(&quot;Settings&quot;);\n            actionBar.setDisplayHomeAsUpEnabled(true);\n\n        }\n\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        if (item.getItemId() == 16908332) onBackPressed();\n\n        return true;\n\n    }\n\n    public static class SettingsFragment extends PreferenceFragmentCompat {\n\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\n        }\n\n    }\n\n}\n</code></pre>\n<p>So, this works just fine whenever I open it the first time, and the toast pops up saying that I changed it, as defined here:</p>\n<pre><code>\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\n        SharedPreferences.OnSharedPreferenceChangeListener listener =\n                new SharedPreferences.OnSharedPreferenceChangeListener() {\n\n            @Override\n            public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\n\n                runOnUiThread(() -&gt; {\n\n                    Toast.makeText(getApplicationContext(), &quot;`&quot;  + key + &quot;` changed.&quot;,\n                            Toast.LENGTH_SHORT).show();\n\n                });\n\n                if (key.equals(&quot;advanced_mode&quot;)) {\n\n                    advancedMode = sharedPreferences.getBoolean(&quot;advanced_mode&quot;, false);\n\n                    runOnUiThread(() -&gt; {\n\n                        Toast.makeText(getApplicationContext(), (advancedMode) ? &quot;Advanced Mode &quot; +\n                                &quot;Enabled.&quot; : &quot;Advanced Mode Disabled.&quot;, Toast.LENGTH_SHORT).show();\n\n                        updateUi();\n\n                    });\n\n                }\n\n            }\n\n        };\n        advancedMode = preferences.getBoolean(&quot;advanced_mode&quot;, false);\n        preferences.registerOnSharedPreferenceChangeListener(listener);\n</code></pre>\n<p>once I close and re-open the menu, though, or even when I switch the <code>SwitchPreference</code> twice, it doesn't work anymore, and I have no idea why.</p>\n<p>I tried multiple different things, including telling the activity to finish on the back button pressed (the back button in the header) and then it did not work at all.</p>\n<p>My expectation was that this would work in the first place, and that this would be simple and straightforward.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9559,"page":664,"page_size":100}
