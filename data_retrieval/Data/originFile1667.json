{"items":[{"tags":["java","spring","postgresql","spring-boot","linkedhashmap"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642587501,"post_id":70768681,"comment_id":125108101,"body_markdown":"Are you using a framework like Hibernate? Saving the data back?","body":"Are you using a framework like Hibernate? Saving the data back?"},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642588558,"post_id":70768681,"comment_id":125108572,"body_markdown":"@Bruno yes, I&#39;m using spring Data JPA","body":"@Bruno yes, I&#39;m using spring Data JPA"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642589630,"post_id":70768681,"comment_id":125108968,"body_markdown":"Not clear what your `modelMapper` does, but it&#39;s possibly keeping the references to the `Map`, and then you&#39;d be saving that later, affecting the data stored in the DB.","body":"Not clear what your <code>modelMapper</code> does, but it&#39;s possibly keeping the references to the <code>Map</code>, and then you&#39;d be saving that later, affecting the data stored in the DB."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642589887,"post_id":70768681,"comment_id":125109077,"body_markdown":"As a side-note, your choice of class names and variable names is confusing. Firstly, you have a `key.getKey()`, so a &quot;key&quot; contains a field called &quot;key&quot; too apparently, which seems to be of type `Map&lt;String, Object&gt;`, which then conflicts with the general terminology of `Map`s (where key/values have their own meanings). Essentially, in this short code sample, it seems the word &quot;key&quot; to mean at least 3 different kind of things...","body":"As a side-note, your choice of class names and variable names is confusing. Firstly, you have a <code>key.getKey()</code>, so a &quot;key&quot; contains a field called &quot;key&quot; too apparently, which seems to be of type <code>Map&lt;String, Object&gt;</code>, which then conflicts with the general terminology of <code>Map</code>s (where key/values have their own meanings). Essentially, in this short code sample, it seems the word &quot;key&quot; to mean at least 3 different kind of things..."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642596645,"post_id":70768681,"comment_id":125111854,"body_markdown":"If you are persisting that entity later all you have to do is make a clone of the list and modify that inside `getKeys` instead of operating on the original list.","body":"If you are persisting that entity later all you have to do is make a clone of the list and modify that inside <code>getKeys</code> instead of operating on the original list."},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642660690,"post_id":70768681,"comment_id":125131197,"body_markdown":"@Bruno, there are two key dto, one is DB model and another is Response model, because this is a migration project and something cannot be modified, this is one of them. Also, there is a key object within Key DTO. What I&#39;m trying to do is read the values from DB and parse it to response model using model mapper. And then , remove the &quot;d&quot; values within the key Object / Map which is inside the response (parsed) model.","body":"@Bruno, there are two key dto, one is DB model and another is Response model, because this is a migration project and something cannot be modified, this is one of them. Also, there is a key object within Key DTO. What I&#39;m trying to do is read the values from DB and parse it to response model using model mapper. And then , remove the &quot;d&quot; values within the key Object / Map which is inside the response (parsed) model."},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642660838,"post_id":70768681,"comment_id":125131234,"body_markdown":"@IgorFlakiewicz, I&#39;m modifying the parsed object, not the value which is red from the DB. So, how this can cause an issue at the DB level. Also, after the operation, no DB operations are done. So, how can this impact the DB?","body":"@IgorFlakiewicz, I&#39;m modifying the parsed object, not the value which is red from the DB. So, how this can cause an issue at the DB level. Also, after the operation, no DB operations are done. So, how can this impact the DB?"},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642665609,"post_id":70768681,"comment_id":125132667,"body_markdown":"The issue is fixed. The reson for the issue is @Transaction annotation. I did use this for fixing some previous issues and due to this, the issue arise.","body":"The issue is fixed. The reson for the issue is @Transaction annotation. I did use this for fixing some previous issues and due to this, the issue arise."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642668160,"post_id":70768681,"comment_id":125133590,"body_markdown":"If you can&#39;t rename the fields/getters/methods, I&#39;d suggest you make the variable names more explicit to distinguish between these types of objects.","body":"If you can&#39;t rename the fields/getters/methods, I&#39;d suggest you make the variable names more explicit to distinguish between these types of objects."}],"answers":[{"tags":[],"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642665706,"creation_date":1642665706,"answer_id":70782589,"question_id":70768681,"body_markdown":"The cause for the issue is ```@Trasactional```. when I remove this the issue removed.\r\nBut it will be nice if someone can explain how ```@Trasactional``` can cause such an issue.","title":"Map.remove(&quot;x&quot;) removes from relevant &quot;x&quot; in Postgres Json column","body":"<p>The cause for the issue is <code>@Trasactional</code>. when I remove this the issue removed.\nBut it will be nice if someone can explain how <code>@Trasactional</code> can cause such an issue.</p>\n"}],"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782589,"answer_count":1,"score":0,"last_activity_date":1642665706,"creation_date":1642586969,"question_id":70768681,"body_markdown":"I&#39;m reading data from Postgres DB and then I need to remove one part of JSON data from the red data. But this has an impact on the database level because this even removes data from the DB level.\r\n\r\nremove method\r\n```\r\nprivate static Map&lt;String,Object&gt; removePrivate(Object key) {\r\n        try {\r\n            Map&lt;String, Object&gt; keyMap = (Map&lt;String, Object&gt;) key;\r\n            keyMap.remove(&quot;d&quot;);\r\n            return keyMap;\r\n        } catch (Exception ex) {\r\n            log.warn(&quot;no private component &#39;d&#39; in private key&quot;,ex);\r\n            return null;\r\n        }\r\n    }\r\n```\r\nThe remove method is used here.\r\n```\r\npublic List&lt;Key&gt; getKeys(URI controller, URI url, String type, String purpose, String reference, Long limit, boolean exportPrivate) {\r\n\r\n        List&lt;Key&gt; keyList = new ArrayList&lt;&gt;();\r\n        List&lt;com.xxx.model.Key&gt; keys = keyRepository.getKeys(controller, url, type, purpose, reference, limit);\r\n        if (keys == null || keys.isEmpty()) throw new BadRequestException(&quot;No keys found for given settings&quot;);\r\n        keys.forEach(key -&gt; {\r\n            try {\r\n                Key k = modelMapper.map(key, Key.class);\r\n                keyList.add(k);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Parse exception {}&quot;, e.getMessage(),e);\r\n                throw new BadRequestException(&quot;Invalid key format&quot;,e);\r\n            }\r\n        });\r\n\r\n        if (!exportPrivate) keyList.forEach(key -&gt; key.setKey(removePrivate(key.getKey())));\r\n        return keyList;\r\n    }\r\n```\r\n\r\nIs there any clear reason why removing the property &quot;d&quot; from the map has an effect on the database level and also it removes the &quot;d&quot; component from &quot;keys&quot; List, but it should remove only from &quot;keyList&quot; List.","title":"Map.remove(&quot;x&quot;) removes from relevant &quot;x&quot; in Postgres Json column","body":"<p>I'm reading data from Postgres DB and then I need to remove one part of JSON data from the red data. But this has an impact on the database level because this even removes data from the DB level.</p>\n<p>remove method</p>\n<pre><code>private static Map&lt;String,Object&gt; removePrivate(Object key) {\n        try {\n            Map&lt;String, Object&gt; keyMap = (Map&lt;String, Object&gt;) key;\n            keyMap.remove(&quot;d&quot;);\n            return keyMap;\n        } catch (Exception ex) {\n            log.warn(&quot;no private component 'd' in private key&quot;,ex);\n            return null;\n        }\n    }\n</code></pre>\n<p>The remove method is used here.</p>\n<pre><code>public List&lt;Key&gt; getKeys(URI controller, URI url, String type, String purpose, String reference, Long limit, boolean exportPrivate) {\n\n        List&lt;Key&gt; keyList = new ArrayList&lt;&gt;();\n        List&lt;com.xxx.model.Key&gt; keys = keyRepository.getKeys(controller, url, type, purpose, reference, limit);\n        if (keys == null || keys.isEmpty()) throw new BadRequestException(&quot;No keys found for given settings&quot;);\n        keys.forEach(key -&gt; {\n            try {\n                Key k = modelMapper.map(key, Key.class);\n                keyList.add(k);\n            } catch (Exception e) {\n                log.error(&quot;Parse exception {}&quot;, e.getMessage(),e);\n                throw new BadRequestException(&quot;Invalid key format&quot;,e);\n            }\n        });\n\n        if (!exportPrivate) keyList.forEach(key -&gt; key.setKey(removePrivate(key.getKey())));\n        return keyList;\n    }\n</code></pre>\n<p>Is there any clear reason why removing the property &quot;d&quot; from the map has an effect on the database level and also it removes the &quot;d&quot; component from &quot;keys&quot; List, but it should remove only from &quot;keyList&quot; List.</p>\n"},{"tags":["java","android","java-8","gitlab-ci","java-11"],"comments":[{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1639507127,"post_id":70350933,"comment_id":124364646,"body_markdown":"I think your real question is not how to upgrade your _CI pipeline_, but how to upgrade your Java app (and build) from Java8 to Java11. Can you build your app locally (not in CI pipeline) with Java 11?","body":"I think your real question is not how to upgrade your <i>CI pipeline</i>, but how to upgrade your Java app (and build) from Java8 to Java11. Can you build your app locally (not in CI pipeline) with Java 11?"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639507977,"post_id":70350933,"comment_id":124364953,"body_markdown":"Yes, I can build and lauch it locally","body":"Yes, I can build and lauch it locally"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639666527,"post_id":70350933,"comment_id":124411608,"body_markdown":"I found the solution. The beginnig of &quot;yml&quot; file is: image: openjdk:11-jdk\n\nvariables:\n  ANDROID_COMPILE_SDK: &quot;31&quot;\n  ANDROID_BUILD_TOOLS: &quot;32.0.0&quot;\n  SDK_TOOLS: &quot;7583922&quot; # from https://developer.android.com/studio/#command-tools","body":"I found the solution. The beginnig of &quot;yml&quot; file is: image: openjdk:11-jdk  variables:   ANDROID_COMPILE_SDK: &quot;31&quot;   ANDROID_BUILD_TOOLS: &quot;32.0.0&quot;   SDK_TOOLS: &quot;7583922&quot; # from <a href=\"https://developer.android.com/studio/#command-tools\" rel=\"nofollow noreferrer\">developer.android.com/studio/#command-tools</a>"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639666595,"post_id":70350933,"comment_id":124411642,"body_markdown":"before_script:\n  - wget --quiet --output-document=android-sdk.zip https://dl.google.com/android/repository/commandlinetools-linux-${SDK_TOOLS}_latest.zip\n  - unzip -q android-sdk.zip -d android-sdk-linux\n  - rm android-sdk.zip\n\n  - export ANDROID_HOME=$PWD/android-sdk-linux\n  - export PATH=$PATH:$PWD/android-sdk-linux/platform-tools/\n\n  - android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --update\n  - echo y | android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot; &quot;build-tools;${ANDROID_BUILD_TOOLS}&quot;","body":"before_script:   - wget --quiet --output-document=android-sdk.zip <a href=\"https://dl.google.com/android/repository/commandlinetools-linux-$\" rel=\"nofollow noreferrer\">dl.google.com/android/repository/commandlinetools-linux-$</a>{SD&zwnj;&#8203;K_TOOLS}_latest.zip   - unzip -q android-sdk.zip -d android-sdk-linux   - rm android-sdk.zip    - export ANDROID_HOME=$PWD/android-sdk-linux   - export PATH=$PATH:$PWD/android-sdk-linux/platform-tools/    - android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --update   - echo y | android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot; &quot;build-tools;${ANDROID_BUILD_TOOLS}&quot;"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639666598,"post_id":70350933,"comment_id":124411643,"body_markdown":"- chmod +x ./gradlew","body":"- chmod +x ./gradlew"},{"owner":{"account_id":12226747,"reputation":684,"user_id":9673638,"display_name":"Nexus7_2012"},"score":0,"creation_date":1641574035,"post_id":70350933,"comment_id":124847594,"body_markdown":"This question is exactly the same as my question. It is not a duplicate of the question in reference and it should be re-opened. The same error occurs in my environment upgrading to Java 11 from Java 8 in gitlab and I created a pipeline with the comments above but it still fails with the same error when accepting the license agreement in the CI script.","body":"This question is exactly the same as my question. It is not a duplicate of the question in reference and it should be re-opened. The same error occurs in my environment upgrading to Java 11 from Java 8 in gitlab and I created a pipeline with the comments above but it still fails with the same error when accepting the license agreement in the CI script."}],"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1639507783,"answer_count":0,"score":1,"last_activity_date":1642665680,"creation_date":1639493509,"question_id":70350933,"body_markdown":"Previously I had this is the beginning of my  .gitlab-ci.yml file:\r\n\r\n    image: openjdk:8-jdk\r\n\r\n    variables:\r\n     ANDROID_HOME: &quot;/androidsdk&quot;\r\n\r\n    before_script:\r\n      - chmod +x ./gradlew\r\n      - ./scripts/setup-android-sdk.sh\r\n\r\nNow I changed image to \r\n\r\n    image: openjdk:11-jdk\r\n\r\nand I have this error in ci/cd:\r\n\r\n    Running with gitlab-runner 11.9.2 (fa86510e)\r\n    on Mobile Android app GitLab CI Runners LWfCCxFM\r\n\r\n    Using Docker executor with image openjdk:11-jdk ...\r\n    Pulling docker image openjdk:11-jdk ...\r\n    Using docker image sha256:0719902862f3aa23b1e419b86666aa31c22095b5269d9633599b714718675973 for openjdk:11-jdk ...\r\n    Running on runner-LWfCCxFM-project-3359-concurrent-0 via mobileandroidgitlabci...\r\n    00:01\r\n    Reinitialized existing Git repository in /builds/android/androidclient/.git/\r\n    00:02\r\n    Clean repository\r\n    Fetching changes...\r\n    fatal: remote origin already exists.\r\n    From https://gitlab.****.tech/android/androidclient\r\n     * [new ref]               f21db547816f7f472eec299b3ec4cfdb6d9b5555 -&gt; refs/pipelines/8861554\r\n       7475181b40..f21db54781  migrate_app_to_31_target_sdk_mob_11536 -&gt; origin/migrate_app_to_31_target_sdk_mob_11536\r\n    Checking out f21db547 as migrate_app_to_31_target_sdk_mob_11536...\r\n    Skipping Git submodules setup\r\n    $ chmod +x ./gradlew\r\n    00:01\r\n    $ ./scripts/setup-android-sdk.sh\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 5 more\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 5 more\r\n\r\nMy setup-android-sdk script:\r\n\r\n    #!/usr/bin/env bash\r\n    \r\n    ANDROID_COMPILE_SDK=`egrep &#39;compileSdkVersion [0-9]*&#39; androidclient/build.gradle | awk &#39;{print $2}&#39;`\r\n    \r\n    yes | ${ANDROID_HOME}/tools/bin/sdkmanager --licenses\r\n    ${ANDROID_HOME}/tools/bin/sdkmanager &quot;platform-tools&quot; &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot;\r\n\r\nI think the problem in setup-android-sdk script. How could I change it? I just don&#39;t undertand how it works. I understand, that this is because of Java 11, javax was removed. But if I removing setup-android-sdk script from yml file, there is No more errors (but no compiled apk too). Please help\r\n\r\nThis question is not duplicate! And should be reopened","title":"Update gitlab CI/CD pipeline from Java 8 to Java 11 for Android app","body":"<p>Previously I had this is the beginning of my  .gitlab-ci.yml file:</p>\n<pre><code>image: openjdk:8-jdk\n\nvariables:\n ANDROID_HOME: &quot;/androidsdk&quot;\n\nbefore_script:\n  - chmod +x ./gradlew\n  - ./scripts/setup-android-sdk.sh\n</code></pre>\n<p>Now I changed image to</p>\n<pre><code>image: openjdk:11-jdk\n</code></pre>\n<p>and I have this error in ci/cd:</p>\n<pre><code>Running with gitlab-runner 11.9.2 (fa86510e)\non Mobile Android app GitLab CI Runners LWfCCxFM\n\nUsing Docker executor with image openjdk:11-jdk ...\nPulling docker image openjdk:11-jdk ...\nUsing docker image sha256:0719902862f3aa23b1e419b86666aa31c22095b5269d9633599b714718675973 for openjdk:11-jdk ...\nRunning on runner-LWfCCxFM-project-3359-concurrent-0 via mobileandroidgitlabci...\n00:01\nReinitialized existing Git repository in /builds/android/androidclient/.git/\n00:02\nClean repository\nFetching changes...\nfatal: remote origin already exists.\nFrom https://gitlab.****.tech/android/androidclient\n * [new ref]               f21db547816f7f472eec299b3ec4cfdb6d9b5555 -&gt; refs/pipelines/8861554\n   7475181b40..f21db54781  migrate_app_to_31_target_sdk_mob_11536 -&gt; origin/migrate_app_to_31_target_sdk_mob_11536\nChecking out f21db547 as migrate_app_to_31_target_sdk_mob_11536...\nSkipping Git submodules setup\n$ chmod +x ./gradlew\n00:01\n$ ./scripts/setup-android-sdk.sh\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 5 more\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 5 more\n</code></pre>\n<p>My setup-android-sdk script:</p>\n<pre><code>#!/usr/bin/env bash\n\nANDROID_COMPILE_SDK=`egrep 'compileSdkVersion [0-9]*' androidclient/build.gradle | awk '{print $2}'`\n\nyes | ${ANDROID_HOME}/tools/bin/sdkmanager --licenses\n${ANDROID_HOME}/tools/bin/sdkmanager &quot;platform-tools&quot; &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot;\n</code></pre>\n<p>I think the problem in setup-android-sdk script. How could I change it? I just don't undertand how it works. I understand, that this is because of Java 11, javax was removed. But if I removing setup-android-sdk script from yml file, there is No more errors (but no compiled apk too). Please help</p>\n<p>This question is not duplicate! And should be reopened</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":20871433,"reputation":81,"user_id":15331281,"display_name":"coding_stark"},"score":0,"creation_date":1642672592,"post_id":70782540,"comment_id":125135288,"body_markdown":"Give permit all to all the requests and check if it&#39;s happening again? Let me know the results","body":"Give permit all to all the requests and check if it&#39;s happening again? Let me know the results"},{"owner":{"account_id":18872755,"reputation":23,"user_id":13766909,"display_name":"hemanth kumar"},"score":0,"creation_date":1642673765,"post_id":70782540,"comment_id":125135771,"body_markdown":"if I permit all request then /authenticate and /hello works fine, but I need protect /hello","body":"if I permit all request then /authenticate and /hello works fine, but I need protect /hello"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":1,"creation_date":1642676172,"post_id":70782540,"comment_id":125136746,"body_markdown":"The error shows the denied path was &#39;/authenticate/&#39;. Was the test done with &#39;/authenticate&#39; or &#39;/authenticate/&#39; with a slash at the end also?","body":"The error shows the denied path was &#39;/authenticate/&#39;. Was the test done with &#39;/authenticate&#39; or &#39;/authenticate/&#39; with a slash at the end also?"},{"owner":{"account_id":20871433,"reputation":81,"user_id":15331281,"display_name":"coding_stark"},"score":0,"creation_date":1642676449,"post_id":70782540,"comment_id":125136852,"body_markdown":"Try giving &#39;/authenticate/**&#39; in antMatchers","body":"Try giving &#39;/authenticate/**&#39; in antMatchers"}],"owner":{"account_id":18872755,"reputation":23,"user_id":13766909,"display_name":"hemanth kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642665494,"creation_date":1642665494,"question_id":70782540,"body_markdown":"\r\nWhen I am trying access /authenticate route it show this error in postman\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-01-20T07:50:45.532+0000&quot;,\r\n    &quot;status&quot;: 403,\r\n    &quot;error&quot;: &quot;Forbidden&quot;,\r\n    &quot;message&quot;: &quot;Access Denied&quot;,\r\n    &quot;path&quot;: &quot;/authenticate/&quot;\r\n}\r\n\r\n\r\nand /authenticate route authenticates the user and return jwt token\r\n\r\n\r\n**CODE**\r\n\r\nRest Controller\r\n\r\n```\r\n@RestController\r\nclass HelloWorldController {\r\n\r\n\t@Autowired\r\n\tprivate AuthenticationManager authenticationManager;\r\n\r\n\t@Autowired\r\n\tprivate JwtUtil jwtTokenUtil;\r\n\r\n\t@Autowired\r\n\tprivate MyUserDetailsService userDetailsService;\r\n\r\n\t@RequestMapping({ &quot;/hello&quot; })\r\n\tpublic String firstPage() {\r\n\t\treturn &quot;Hello World&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\r\n\r\n\t\ttry {\r\n\t\t\tauthenticationManager.authenticate(\r\n\t\t\t\t\tnew UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch (BadCredentialsException e) {\r\n\t\t\tthrow new Exception(&quot;Incorrect username or password&quot;, e);\r\n\t\t}\r\n\r\n\r\n\t\tfinal UserDetails userDetails = userDetailsService\r\n\t\t\t\t.loadUserByUsername(authenticationRequest.getUsername());\r\n\r\n\t\tfinal String jwt = jwtTokenUtil.generateToken(userDetails);\r\n\r\n\t\treturn ResponseEntity.ok(new AuthenticationResponse(jwt));\r\n\t}\r\n\r\n}\r\n```\r\nSpring Security configuration \r\n\r\n```\r\n@EnableWebSecurity\r\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Autowired\r\n\tprivate UserDetailsService myUserDetailsService;\r\n\t@Autowired\r\n\tprivate JwtRequestFilter jwtRequestFilter;\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(myUserDetailsService);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn NoOpPasswordEncoder.getInstance();\r\n\t}\r\n\r\n\t@Override\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t\thttpSecurity.csrf().disable()\r\n\t\t\t\t.authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n\t\t\t\t\t\tanyRequest().authenticated().\r\n\t\t\t\t\t\tand().\r\n\t\t\t\t\t\texceptionHandling().and().sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Getting Unauthorized error in spring rest api , even /authenticate route is protected","body":"<p>When I am trying access /authenticate route it show this error in postman</p>\n<p>{\n&quot;timestamp&quot;: &quot;2022-01-20T07:50:45.532+0000&quot;,\n&quot;status&quot;: 403,\n&quot;error&quot;: &quot;Forbidden&quot;,\n&quot;message&quot;: &quot;Access Denied&quot;,\n&quot;path&quot;: &quot;/authenticate/&quot;\n}</p>\n<p>and /authenticate route authenticates the user and return jwt token</p>\n<p><strong>CODE</strong></p>\n<p>Rest Controller</p>\n<pre><code>@RestController\nclass HelloWorldController {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtUtil jwtTokenUtil;\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @RequestMapping({ &quot;/hello&quot; })\n    public String firstPage() {\n        return &quot;Hello World&quot;;\n    }\n\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\n\n        try {\n            authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\n            );\n        }\n        catch (BadCredentialsException e) {\n            throw new Exception(&quot;Incorrect username or password&quot;, e);\n        }\n\n\n        final UserDetails userDetails = userDetailsService\n                .loadUserByUsername(authenticationRequest.getUsername());\n\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\n\n        return ResponseEntity.ok(new AuthenticationResponse(jwt));\n    }\n\n}\n</code></pre>\n<p>Spring Security configuration</p>\n<pre><code>@EnableWebSecurity\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private UserDetailsService myUserDetailsService;\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(myUserDetailsService);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\n                        anyRequest().authenticated().\n                        and().\n                        exceptionHandling().and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"tags":[],"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642665405,"creation_date":1642665405,"answer_id":70782522,"question_id":70769431,"body_markdown":"Well, I figured it out myself. I will share my answer to help the community. I used `NamedParameterJdbcOperations.queryForObject` instead of `namedParameterJdbcOperations.query` and used the same ROW_MAPPER:\r\n\r\n    @Override\r\n    public ElementEntity getElement(final long id)\r\n    {\r\n        final MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n        paramSource.addValue(&quot;id&quot;, id);\r\n\r\n        try\r\n        {\r\n            return namedParameterJdbcOperations.queryForObject(SQL_RETURN_ELEMENT, paramSource, ROW_MAPPER_ELEMENT);\r\n        }\r\n        catch (EmptyResultDataAccessException e)\r\n        {\r\n            return null;\r\n        }\r\n    }\r\nIn my particular case I&#39;m interested to catch when the SQL Query attempt to find an Element that doesn&#39;t exist in the DB. For this purpose I catch and handle the `EmptyResultDataAccessException` thrown.\r\n\r\nMore info could be found here: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-org.springframework.jdbc.core.namedparam.SqlParameterSource-org.springframework.jdbc.core.RowMapper-","title":"NamedParameterJdbcTemplate.query for returning only one element","body":"<p>Well, I figured it out myself. I will share my answer to help the community. I used <code>NamedParameterJdbcOperations.queryForObject</code> instead of <code>namedParameterJdbcOperations.query</code> and used the same ROW_MAPPER:</p>\n<pre><code>@Override\npublic ElementEntity getElement(final long id)\n{\n    final MapSqlParameterSource paramSource = new MapSqlParameterSource();\n    paramSource.addValue(&quot;id&quot;, id);\n\n    try\n    {\n        return namedParameterJdbcOperations.queryForObject(SQL_RETURN_ELEMENT, paramSource, ROW_MAPPER_ELEMENT);\n    }\n    catch (EmptyResultDataAccessException e)\n    {\n        return null;\n    }\n}\n</code></pre>\n<p>In my particular case I'm interested to catch when the SQL Query attempt to find an Element that doesn't exist in the DB. For this purpose I catch and handle the <code>EmptyResultDataAccessException</code> thrown.</p>\n<p>More info could be found here: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-org.springframework.jdbc.core.namedparam.SqlParameterSource-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-org.springframework.jdbc.core.namedparam.SqlParameterSource-org.springframework.jdbc.core.RowMapper-</a></p>\n"}],"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70782522,"answer_count":1,"score":1,"last_activity_date":1642665405,"creation_date":1642590126,"question_id":70769431,"body_markdown":"I&#39;am writing a method to retrieve an element of a DB giving a Long id parameter.\r\n\r\nThis id is unique, so the method should just return one element, and I want to create a class instance with this element retrived.\r\n\r\nI&#39;ve made the following method that works perfectly fine:\r\n\r\n    @Override\r\n    public ElementEntity getElement(final long id)\r\n    {\r\n        final MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n        paramSource.addValue(&quot;element_id&quot;, id);\r\n        final List&lt;ElementEntity &gt; listOfElements =\r\n            namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, ROW_MAPPER_ELEMENT);\r\n        return !listOfElements .isEmpty() ? listOfElements.get(0) : null;\r\n    }\r\nThe ROW_MAPPER is implemented this way:\r\n\r\n    private static final RowMapper&lt;ElementEntity &gt; ROW_MAPPER_INSTALLER =\r\n        (rs, RowNum) -&gt;\r\n            new ElementEntityBuilder().setElement(rs.getBytes(&quot;ELEMENT&quot;)).build();\r\n\r\nThe element is a byte array. I repeat, works perfectly. But I would like to avoid using a list and retrieving the first position and, instead, create directly the ElementEntity. So I tried the following approach:\r\n\r\n     @Override\r\n    public ElementEntity getElement(final long id)\r\n    {\r\n        final MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n        paramSource.addValue(&quot;element_id&quot;, id);\r\n\r\n        return namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, (ResultSet rs) -&gt; new DesktopAppInstallerEntity(rs.getBytes(&quot;ELEMENT&quot;)));\r\n    }\r\n\r\nAlthought I have&#39;t made any more changes, it gives me the following error:`org.h2.jdbc.JdbcSQLNonTransientException: No data is available`.\r\n\r\nThat&#39;s the full error (I changed some words to avoid showing the real SQL query):\r\n\r\n    org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [SELECT SOMETHING FROM SOMEWHERE WHERE id = ?]; No data is available [2000-200]; nested exception is org.h2.jdbc.JdbcSQLNonTransientException: No data is available [2000-200]\r\n\r\nI&#39;m pretty new to all this JDBC, but it seems to me that the paramSource is not working properly when I apply this changes and I don&#39;t have the foggiest idea why is happening because I&#39;m just changing the result extractor.","title":"NamedParameterJdbcTemplate.query for returning only one element","body":"<p>I'am writing a method to retrieve an element of a DB giving a Long id parameter.</p>\n<p>This id is unique, so the method should just return one element, and I want to create a class instance with this element retrived.</p>\n<p>I've made the following method that works perfectly fine:</p>\n<pre><code>@Override\npublic ElementEntity getElement(final long id)\n{\n    final MapSqlParameterSource paramSource = new MapSqlParameterSource();\n    paramSource.addValue(&quot;element_id&quot;, id);\n    final List&lt;ElementEntity &gt; listOfElements =\n        namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, ROW_MAPPER_ELEMENT);\n    return !listOfElements .isEmpty() ? listOfElements.get(0) : null;\n}\n</code></pre>\n<p>The ROW_MAPPER is implemented this way:</p>\n<pre><code>private static final RowMapper&lt;ElementEntity &gt; ROW_MAPPER_INSTALLER =\n    (rs, RowNum) -&gt;\n        new ElementEntityBuilder().setElement(rs.getBytes(&quot;ELEMENT&quot;)).build();\n</code></pre>\n<p>The element is a byte array. I repeat, works perfectly. But I would like to avoid using a list and retrieving the first position and, instead, create directly the ElementEntity. So I tried the following approach:</p>\n<pre><code> @Override\npublic ElementEntity getElement(final long id)\n{\n    final MapSqlParameterSource paramSource = new MapSqlParameterSource();\n    paramSource.addValue(&quot;element_id&quot;, id);\n\n    return namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, (ResultSet rs) -&gt; new DesktopAppInstallerEntity(rs.getBytes(&quot;ELEMENT&quot;)));\n}\n</code></pre>\n<p>Althought I have't made any more changes, it gives me the following error:<code>org.h2.jdbc.JdbcSQLNonTransientException: No data is available</code>.</p>\n<p>That's the full error (I changed some words to avoid showing the real SQL query):</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [SELECT SOMETHING FROM SOMEWHERE WHERE id = ?]; No data is available [2000-200]; nested exception is org.h2.jdbc.JdbcSQLNonTransientException: No data is available [2000-200]\n</code></pre>\n<p>I'm pretty new to all this JDBC, but it seems to me that the paramSource is not working properly when I apply this changes and I don't have the foggiest idea why is happening because I'm just changing the result extractor.</p>\n"},{"tags":["java","list","nodes"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1642664868,"post_id":70782376,"comment_id":125132405,"body_markdown":"`private static RectNode _head` - have a look at that line again.","body":"<code>private static RectNode _head</code> - have a look at that line again."}],"answers":[{"tags":[],"owner":{"account_id":16542155,"reputation":1935,"user_id":11952668,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642665160,"creation_date":1642665160,"answer_id":70782476,"question_id":70782376,"body_markdown":"your `_head` variable is a `static` property of the `RectList` class . `static` members have the same value in all occurrences of the class.\r\nso when you do `rL1.addRect(r1);` `rL2` also get `r1` as it&#39;s head.\r\nthen you do `rL2.addrect(r2)` and it adds `r2` to the reference of the head, which is the same head of both objects (because the head is the static variable).\r\n\r\nyou can just remove the `static` keyword and it should do the trick.","title":"Why are all of the nodes that I add to different lists ends up in one list?","body":"<p>your <code>_head</code> variable is a <code>static</code> property of the <code>RectList</code> class . <code>static</code> members have the same value in all occurrences of the class.\nso when you do <code>rL1.addRect(r1);</code> <code>rL2</code> also get <code>r1</code> as it's head.\nthen you do <code>rL2.addrect(r2)</code> and it adds <code>r2</code> to the reference of the head, which is the same head of both objects (because the head is the static variable).</p>\n<p>you can just remove the <code>static</code> keyword and it should do the trick.</p>\n"}],"owner":{"account_id":23996112,"reputation":3,"user_id":17981603,"display_name":"Michael_fr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642665963,"accepted_answer_id":70782476,"answer_count":1,"score":-1,"last_activity_date":1642665160,"creation_date":1642664612,"question_id":70782376,"body_markdown":"I have two classes, RectNode and RectList. The assignment is to create a list of rectangles (with another class called RectangleA). When I use the tester it seems like all of the nodes are added to the all of lists, even tho I create different lists. For example, the tester creates two lists: ```rL1``` and ```rL2```. Then it adds one rectangle to the 1st list, and one to the 2nd. The problem is that when I run the tester and prints both lists with a ```toString()``` method I created, it shows that both rectangles are in both of the lists. Can anyone help me find the problem?\r\n**When running test:** \r\n![1]\r\n\r\nrL1: The list has 2 rectangles.\r\n1. Width=5 Height=7 PointSW=(0,0)\r\n2. Width=3 Height=8 PointSW=(0,0)\r\n\r\nrL2: The list has 2 rectangles.\r\n1. Width=5 Height=7 PointSW=(0,0)\r\n2. Width=3 Height=8 PointSW=(0,0)\r\n\r\n**classes:**\r\n```\r\npublic class RectList\r\n{\r\n    private static RectNode _head;\r\n    public RectList(){\r\n        _head = null;\r\n    }\r\n    public static void addRect(RectangleA r){\r\n        if(empty()){\r\n            _head = new RectNode(r);\r\n        }else{\r\n            boolean isThereRectangle = false;\r\n            RectNode ptr = _head;\r\n            while(ptr.getNext() != null){\r\n                if(ptr.getRect().equals(r)){\r\n                    isThereRectangle = true;\r\n                }\r\n                ptr = ptr.getNext();\r\n            }\r\n            if(ptr.getRect().equals(r)){\r\n                isThereRectangle = true;\r\n            }\r\n            if(isThereRectangle == false){\r\n                ptr.setNext(new RectNode(r));\r\n            }\r\n        }\r\n    }\r\n    public String toString(){\r\n        String list = &quot;&quot;;\r\n        int counter = 0;\r\n        if(!empty()){\r\n            RectNode ptr = _head;\r\n            while(ptr != null){\r\n                counter++;\r\n                list += (counter + &quot;. &quot; + ptr.getRect().toString() + &quot;\\r\\n&quot;);\r\n                ptr = ptr.getNext();\r\n            }\r\n        }\r\n        return (&quot;The list has &quot; + counter + &quot; rectangles.&quot; + &quot;\\r\\n&quot; + list);\r\n        \r\n    }\r\n}\r\npublic class RectNode\r\n{\r\n    private RectangleA _rect;\r\n    private RectNode _next;\r\n    public RectNode(RectangleA r){\r\n        _rect = r;\r\n        _next = null;\r\n    }\r\n    public RectNode(RectangleA r, RectNode n) {\r\n        _rect = r;\r\n        _next = n;\r\n    }\r\n    public RectNode(RectNode r){\r\n        _rect = r._rect;\r\n        _next = r._next;\r\n    }\r\n    public RectangleA getRect(){\r\n        return new RectangleA(_rect);\r\n    }\r\n    public RectNode getNext(){\r\n        return _next;\r\n    }\r\n    public void setRect(RectangleA r){\r\n        _rect = new RectangleA(r);\r\n    }\r\n    public void setNext(RectNode next){\r\n        _next = next;\r\n    }\r\n}\r\n\r\npublic class test\r\n{\r\n    public static void main(String[] args) {\r\n        RectList rL1 = new RectList();\r\n        RectList rL2 = new RectList();\r\n        RectangleA r1 = new RectangleA(5, 7);\r\n        RectangleA r2 = new RectangleA(3, 8);\r\n        rL1.addRect(r1);\r\n        rL2.addRect(r2);\r\n        System.out.println(&quot;rL1: &quot; + rL1.toString() +&quot;\\nrL2: &quot; + rL2.toString());\r\n    }\r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/kJqgU.png","title":"Why are all of the nodes that I add to different lists ends up in one list?","body":"<p>I have two classes, RectNode and RectList. The assignment is to create a list of rectangles (with another class called RectangleA). When I use the tester it seems like all of the nodes are added to the all of lists, even tho I create different lists. For example, the tester creates two lists: <code>rL1</code> and <code>rL2</code>. Then it adds one rectangle to the 1st list, and one to the 2nd. The problem is that when I run the tester and prints both lists with a <code>toString()</code> method I created, it shows that both rectangles are in both of the lists. Can anyone help me find the problem?\n<strong>When running test:</strong>\n<img src=\"https://i.stack.imgur.com/kJqgU.png\" alt=\"1\" /></p>\n<p>rL1: The list has 2 rectangles.</p>\n<ol>\n<li>Width=5 Height=7 PointSW=(0,0)</li>\n<li>Width=3 Height=8 PointSW=(0,0)</li>\n</ol>\n<p>rL2: The list has 2 rectangles.</p>\n<ol>\n<li>Width=5 Height=7 PointSW=(0,0)</li>\n<li>Width=3 Height=8 PointSW=(0,0)</li>\n</ol>\n<p><strong>classes:</strong></p>\n<pre><code>public class RectList\n{\n    private static RectNode _head;\n    public RectList(){\n        _head = null;\n    }\n    public static void addRect(RectangleA r){\n        if(empty()){\n            _head = new RectNode(r);\n        }else{\n            boolean isThereRectangle = false;\n            RectNode ptr = _head;\n            while(ptr.getNext() != null){\n                if(ptr.getRect().equals(r)){\n                    isThereRectangle = true;\n                }\n                ptr = ptr.getNext();\n            }\n            if(ptr.getRect().equals(r)){\n                isThereRectangle = true;\n            }\n            if(isThereRectangle == false){\n                ptr.setNext(new RectNode(r));\n            }\n        }\n    }\n    public String toString(){\n        String list = &quot;&quot;;\n        int counter = 0;\n        if(!empty()){\n            RectNode ptr = _head;\n            while(ptr != null){\n                counter++;\n                list += (counter + &quot;. &quot; + ptr.getRect().toString() + &quot;\\r\\n&quot;);\n                ptr = ptr.getNext();\n            }\n        }\n        return (&quot;The list has &quot; + counter + &quot; rectangles.&quot; + &quot;\\r\\n&quot; + list);\n        \n    }\n}\npublic class RectNode\n{\n    private RectangleA _rect;\n    private RectNode _next;\n    public RectNode(RectangleA r){\n        _rect = r;\n        _next = null;\n    }\n    public RectNode(RectangleA r, RectNode n) {\n        _rect = r;\n        _next = n;\n    }\n    public RectNode(RectNode r){\n        _rect = r._rect;\n        _next = r._next;\n    }\n    public RectangleA getRect(){\n        return new RectangleA(_rect);\n    }\n    public RectNode getNext(){\n        return _next;\n    }\n    public void setRect(RectangleA r){\n        _rect = new RectangleA(r);\n    }\n    public void setNext(RectNode next){\n        _next = next;\n    }\n}\n\npublic class test\n{\n    public static void main(String[] args) {\n        RectList rL1 = new RectList();\n        RectList rL2 = new RectList();\n        RectangleA r1 = new RectangleA(5, 7);\n        RectangleA r2 = new RectangleA(3, 8);\n        rL1.addRect(r1);\n        rL2.addRect(r2);\n        System.out.println(&quot;rL1: &quot; + rL1.toString() +&quot;\\nrL2: &quot; + rL2.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":4294949,"reputation":2245,"user_id":3510260,"display_name":"Gregor Koukkoullis"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1522217531,"creation_date":1402652486,"answer_id":24202272,"question_id":24202236,"body_markdown":"You can&#39;t reference to `this` in a lambda expression. The semantic of `this` has been changed to reference the instance of the surrounding class only, from within the lambda. There is no way to reference to the lambda expression&#39;s `this` from inside the lambda.\n\n\nThe problem is that you use `this` in the `main()` method. The main method is static and there is no reference to an object that represents `this`.\n\nWhen you use `this` inside an instance of an inner class you are referencing to the instance of the inner class.\nA lambda expression is not an inner class, `this` is not referencing to the instance of the lambda expression. It is referencing to the instance of the class you define the lambda expression in. In your case it would be a instance of Main. But since your are in a static method, there is no instance.\n\nThis is what your second compilation error is telling you. You hand over an instance of Main to your method. But your method signature requires an instance of Observer.\n\n**Update:**\n\nThe [Java Language Specification 15.27.2 says][1]:\n\n&gt;Unlike code appearing in anonymous class declarations, the meaning of names and the this and super keywords appearing in a lambda body, along with the accessibility of referenced declarations, are the same as in the surrounding context (except that lambda parameters introduce new names).\n&gt;\n&gt; The transparency of *this* (both explicit and implicit) in the body of a lambda expression - that is, treating it the same as in the surrounding context - allows more flexibility for implementations, and prevents the meaning of unqualified names in the body from being dependent on overload resolution.\n&gt;\n&gt; Practically speaking, it is unusual for a lambda expression to need to talk about itself (either to call itself recursively or to invoke its other methods), while it is more common to want to use names to refer to things in the enclosing class that would otherwise be shadowed (*this, toString()*). If it is necessary for a lambda expression to refer to itself (as if via *this*), a method reference or an anonymous inner class should be used instead. \n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2","title":"Lambda this reference in java","body":"<p>You can't reference to <code>this</code> in a lambda expression. The semantic of <code>this</code> has been changed to reference the instance of the surrounding class only, from within the lambda. There is no way to reference to the lambda expression's <code>this</code> from inside the lambda.</p>\n<p>The problem is that you use <code>this</code> in the <code>main()</code> method. The main method is static and there is no reference to an object that represents <code>this</code>.</p>\n<p>When you use <code>this</code> inside an instance of an inner class you are referencing to the instance of the inner class.\nA lambda expression is not an inner class, <code>this</code> is not referencing to the instance of the lambda expression. It is referencing to the instance of the class you define the lambda expression in. In your case it would be a instance of Main. But since your are in a static method, there is no instance.</p>\n<p>This is what your second compilation error is telling you. You hand over an instance of Main to your method. But your method signature requires an instance of Observer.</p>\n<p><strong>Update:</strong></p>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"noreferrer\">Java Language Specification 15.27.2 says</a>:</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, the meaning of names and the this and super keywords appearing in a lambda body, along with the accessibility of referenced declarations, are the same as in the surrounding context (except that lambda parameters introduce new names).</p>\n<p>The transparency of <em>this</em> (both explicit and implicit) in the body of a lambda expression - that is, treating it the same as in the surrounding context - allows more flexibility for implementations, and prevents the meaning of unqualified names in the body from being dependent on overload resolution.</p>\n<p>Practically speaking, it is unusual for a lambda expression to need to talk about itself (either to call itself recursively or to invoke its other methods), while it is more common to want to use names to refer to things in the enclosing class that would otherwise be shadowed (<em>this, toString()</em>). If it is necessary for a lambda expression to refer to itself (as if via <em>this</em>), a method reference or an anonymous inner class should be used instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503972749,"creation_date":1453834639,"answer_id":35021660,"question_id":24202236,"body_markdown":"\r\n### Workaround 1\r\nYour `change()` method throws `ConcurrentModificationException` anyway.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            final Observer[] a = new Observer[1];\r\n            final Observer o = er -&gt; er.removeObserver(a[0]); // !!\r\n            a[0] = o;\r\n            observable.addObserver(o);\r\n            observable.change();\r\n        }\r\n    }\r\n    public class Observable {\r\n        private final java.util.Collection&lt;Observer&gt; n\r\n            = java.util.new ArrayList&lt;&gt;();\r\n        public void addObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void removeObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void change() {\r\n            for (final Observer o : n.toArray(new Observer[n.size()])) {\r\n                o.changed(this);\r\n            }\r\n        }\r\n    }\r\n    public interface Observer {\r\n        void changed(Observable notifier);\r\n    }\r\n\r\n### Workaround 2\r\nI changed the `changed(Observable)` to `changed(Observable, Observer)` so that an observer can handle itself.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            final Observer o = (er, ee) -&gt; er.removeObserver(ee); // !!\r\n            observable.addObserver(o);\r\n            observable.change();\r\n        }\r\n    }\r\n    public class Observable {\r\n        private final java.util.Collection&lt;Observer&gt; n\r\n            = new java.util.ArrayList&lt;&gt;();\r\n        public void addObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void removeObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void change() {\r\n            for (final Observer o : n.toArray(new Observer[n.size()])) {\r\n                o.changed(this, o);\r\n            }\r\n        }\r\n    }\r\n    public interface Observer {\r\n        void changed(Observable notifier, Observer notifiee);\r\n    }","title":"Lambda this reference in java","body":"<h3>Workaround 1</h3>\n\n<p>Your <code>change()</code> method throws <code>ConcurrentModificationException</code> anyway.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        final Observer[] a = new Observer[1];\n        final Observer o = er -&gt; er.removeObserver(a[0]); // !!\n        a[0] = o;\n        observable.addObserver(o);\n        observable.change();\n    }\n}\npublic class Observable {\n    private final java.util.Collection&lt;Observer&gt; n\n        = java.util.new ArrayList&lt;&gt;();\n    public void addObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void removeObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void change() {\n        for (final Observer o : n.toArray(new Observer[n.size()])) {\n            o.changed(this);\n        }\n    }\n}\npublic interface Observer {\n    void changed(Observable notifier);\n}\n</code></pre>\n\n<h3>Workaround 2</h3>\n\n<p>I changed the <code>changed(Observable)</code> to <code>changed(Observable, Observer)</code> so that an observer can handle itself.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        final Observer o = (er, ee) -&gt; er.removeObserver(ee); // !!\n        observable.addObserver(o);\n        observable.change();\n    }\n}\npublic class Observable {\n    private final java.util.Collection&lt;Observer&gt; n\n        = new java.util.ArrayList&lt;&gt;();\n    public void addObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void removeObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void change() {\n        for (final Observer o : n.toArray(new Observer[n.size()])) {\n            o.changed(this, o);\n        }\n    }\n}\npublic interface Observer {\n    void changed(Observable notifier, Observer notifiee);\n}\n</code></pre>\n"}],"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33318,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":24202272,"answer_count":2,"score":82,"last_activity_date":1642664932,"creation_date":1402652361,"question_id":24202236,"body_markdown":"I want to convert an anonymous class to a lambda expression. But this anonymous class uses the `this` keyword.\r\n\r\nFor example, I wrote this simple Observer/Observable pattern:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n\r\n    public static class Observable {\r\n        private final Collection&lt;Observer&gt; notifiables = new ArrayList&lt;&gt;();\r\n\r\n        public Observable() { }\r\n\r\n        public void addObserver(Observer notifiable) { notifiables.add(notifiable); }\r\n        public void removeObserver(Observer notifiable) { notifiables.add(notifiable); }\r\n\r\n        public void change() {\r\n            notifiables.forEach(notifiable -&gt; notifiable.changed(this));\r\n        }\r\n    }\r\n\r\n    public interface Observer {\r\n        void changed(Observable notifier);\r\n    }\r\n\r\nand this sample code with an anonymous class (use the this keyword):\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            observable.addObserver(new Observer() {\r\n                @Override\r\n                public void changed(Observable notifier) {\r\n                    notifier.removeObserver(this);\r\n                }\r\n            });\r\n            observable.change();\r\n        }\r\n    }\r\n\r\nbut when I convert it to a lambda expression:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            observable.addObserver(notifier -&gt; { notifier.removeObserver(this); });\r\n            observable.change();\r\n        }\r\n    }\r\n\r\nI get this compilation error:\r\n\r\n    Cannot use this in a static context and in a non `static` context\r\n\r\n\r\n\r\n    public class Main {\r\n        public void main(String[] args) {\r\n            method();\r\n        }\r\n\r\n        private void method() {\r\n            Observable observable = new Observable();\r\n            observable.addObserver(notifier -&gt; {\r\n                    notifier.removeObserver(this);\r\n            });\r\n            observable.change();\r\n        }\r\n    }\r\n\r\nThe compilation error is:\r\n\r\n    The method removeObserver(Main.Observer) in the type Main.Observable is not applicable for the arguments (Main)\r\n\r\nIs there a way to reference the lambda object with `this`?\r\n","title":"Lambda this reference in java","body":"<p>I want to convert an anonymous class to a lambda expression. But this anonymous class uses the <code>this</code> keyword.</p>\n<p>For example, I wrote this simple Observer/Observable pattern:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\n\npublic static class Observable {\n    private final Collection&lt;Observer&gt; notifiables = new ArrayList&lt;&gt;();\n\n    public Observable() { }\n\n    public void addObserver(Observer notifiable) { notifiables.add(notifiable); }\n    public void removeObserver(Observer notifiable) { notifiables.add(notifiable); }\n\n    public void change() {\n        notifiables.forEach(notifiable -&gt; notifiable.changed(this));\n    }\n}\n\npublic interface Observer {\n    void changed(Observable notifier);\n}\n</code></pre>\n<p>and this sample code with an anonymous class (use the this keyword):</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        observable.addObserver(new Observer() {\n            @Override\n            public void changed(Observable notifier) {\n                notifier.removeObserver(this);\n            }\n        });\n        observable.change();\n    }\n}\n</code></pre>\n<p>but when I convert it to a lambda expression:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        observable.addObserver(notifier -&gt; { notifier.removeObserver(this); });\n        observable.change();\n    }\n}\n</code></pre>\n<p>I get this compilation error:</p>\n<pre><code>Cannot use this in a static context and in a non `static` context\n\n\n\npublic class Main {\n    public void main(String[] args) {\n        method();\n    }\n\n    private void method() {\n        Observable observable = new Observable();\n        observable.addObserver(notifier -&gt; {\n                notifier.removeObserver(this);\n        });\n        observable.change();\n    }\n}\n</code></pre>\n<p>The compilation error is:</p>\n<pre><code>The method removeObserver(Main.Observer) in the type Main.Observable is not applicable for the arguments (Main)\n</code></pre>\n<p>Is there a way to reference the lambda object with <code>this</code>?</p>\n"},{"tags":["java","cors"],"comments":[{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1499171227,"post_id":44905898,"comment_id":76788922,"body_markdown":"Are you using spring boot ?","body":"Are you using spring boot ?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1499172007,"post_id":44905898,"comment_id":76789465,"body_markdown":"What application server are you using? This should work without requiring extra configuration.","body":"What application server are you using? This should work without requiring extra configuration."},{"owner":{"account_id":5332063,"reputation":89,"user_id":4252396,"accept_rate":33,"display_name":"Soumyajit Chatterjee"},"score":0,"creation_date":1499174121,"post_id":44905898,"comment_id":76790938,"body_markdown":"We are not using Spring boot ..  We are using netty server.","body":"We are not using Spring boot ..  We are using netty server."}],"answers":[{"tags":[],"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499171225,"creation_date":1499171225,"answer_id":44905977,"question_id":44905898,"body_markdown":"You have to enable it in your server first, check the website below to see how to configure your server (i.e., Tomcat) to enable CORS\r\n\r\nhttps://enable-cors.org/server.html","title":"How to enable CORS on server-side code in java","body":"<p>You have to enable it in your server first, check the website below to see how to configure your server (i.e., Tomcat) to enable CORS</p>\n\n<p><a href=\"https://enable-cors.org/server.html\" rel=\"nofollow noreferrer\">https://enable-cors.org/server.html</a></p>\n"},{"tags":[],"owner":{"account_id":10986923,"reputation":487,"user_id":8072314,"display_name":"D. Peter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499229622,"creation_date":1499171262,"answer_id":44905991,"question_id":44905898,"body_markdown":"As far as I&#39;m concerned the following are working\r\n\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Authorization&quot;);\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,PUT,DELETE,OPTIONS,HEAD&quot;);\r\n\r\n\r\nEdit : (For spring cloud netflix and maybe others)\r\n\r\n    @Component\r\n    public class HeadersFilter implements Filter {\r\n        @Override\r\n        public void init(FilterConfig fc) throws ServletException {\r\n        }\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain fc) throws IOException, ServletException {\r\n            if(servletResponse instanceof HttpServletResponse){\r\n                HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n                // here add the headers\r\n            }\r\n            fc.doFilter(servletRequest, servletResponse);\r\n        }\r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    }","title":"How to enable CORS on server-side code in java","body":"<p>As far as I'm concerned the following are working</p>\n\n<pre><code>response.getHeaders().add(\"Access-Control-Allow-Origin\", \"*\");\nresponse.getHeaders().add(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\nresponse.getHeaders().add(\"Access-Control-Allow-Credentials\", \"true\");\nresponse.getHeaders().add(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS,HEAD\");\n</code></pre>\n\n<p>Edit : (For spring cloud netflix and maybe others)</p>\n\n<pre><code>@Component\npublic class HeadersFilter implements Filter {\n    @Override\n    public void init(FilterConfig fc) throws ServletException {\n    }\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain fc) throws IOException, ServletException {\n        if(servletResponse instanceof HttpServletResponse){\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n            // here add the headers\n        }\n        fc.doFilter(servletRequest, servletResponse);\n    }\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2742245,"reputation":10850,"user_id":2363517,"display_name":"mszalbach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499173115,"creation_date":1499171309,"answer_id":44906009,"question_id":44905898,"body_markdown":"For a JavaEE 7 App you need to register this class in the ResourceConfig by adding following class to your war.\r\n\r\n    @ApplicationPath( &quot;/&quot; )\r\n    public class ApplicationConfig\r\n        extends ResourceConfig {\r\n\r\n       public ApplicationConfig() {\r\n           register( new CORSFilter() );\r\n       }\r\n\r\n    }\r\n\r\nMaybe you also need to increase the priority of your Filter by adding the following class level annotation:\r\n\r\n    @Provider\r\n    @Priority( Priorities.HEADER_DECORATOR)\r\n    public class CORSFilter implements ContainerResponseFilter {\r\n    ...\r\n    }","title":"How to enable CORS on server-side code in java","body":"<p>For a JavaEE 7 App you need to register this class in the ResourceConfig by adding following class to your war.</p>\n\n<pre><code>@ApplicationPath( \"/\" )\npublic class ApplicationConfig\n    extends ResourceConfig {\n\n   public ApplicationConfig() {\n       register( new CORSFilter() );\n   }\n\n}\n</code></pre>\n\n<p>Maybe you also need to increase the priority of your Filter by adding the following class level annotation:</p>\n\n<pre><code>@Provider\n@Priority( Priorities.HEADER_DECORATOR)\npublic class CORSFilter implements ContainerResponseFilter {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7926954,"reputation":24,"user_id":5986136,"display_name":"Tanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499172685,"creation_date":1499172685,"answer_id":44906538,"question_id":44905898,"body_markdown":"In Jersey, I use the ResourceConfig class to register the CORSFilter. Like ,\r\n\r\n    import org.glassfish.jersey.jackson.JacksonFeature;\r\n    import org.glassfish.jersey.media.multipart.MultiPartFeature;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    \r\n    public class JerseyApplication extends ResourceConfig {\r\n    \tpublic JerseyApplication() {\r\n    \t\tregister(CORSFilter.class);\r\n    \t}\r\n    }\r\n\r\n`\r\n\r\nand link this in web.xml like,\r\n\r\n    &lt;init-param&gt;\r\n                &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.service.JerseyApplication&lt;/param-value&gt;\r\n            &lt;/init-param&gt;  \r\n\r\n\r\n","title":"How to enable CORS on server-side code in java","body":"<p>In Jersey, I use the ResourceConfig class to register the CORSFilter. Like ,</p>\n\n<pre><code>import org.glassfish.jersey.jackson.JacksonFeature;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.server.ResourceConfig;\n\npublic class JerseyApplication extends ResourceConfig {\n    public JerseyApplication() {\n        register(CORSFilter.class);\n    }\n}\n</code></pre>\n\n<p>`</p>\n\n<p>and link this in web.xml like,</p>\n\n<pre><code>&lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.service.JerseyApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4118322,"reputation":63,"user_id":3379357,"display_name":"kubo44"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527773506,"creation_date":1527766618,"answer_id":50623381,"question_id":44905898,"body_markdown":"There are 2 things you have to do:\r\n\r\n1. If your resource is password protected, you have to allow preflight OPTIONS requests to run through without credentials, in web.xml e.g.:\r\n\r\n\r\n    \t&lt;security-constraint&gt;\r\n    \t\t\t&lt;web-resource-collection&gt;\r\n    \t\t\t&lt;web-resource-name&gt;application&lt;/web-resource-name&gt;\r\n    \t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t\t\t&lt;http-method-omission&gt;OPTIONS&lt;/http-method-omission&gt;\r\n    \t\t&lt;/web-resource-collection&gt;\r\n    \t\t&lt;auth-constraint&gt;\r\n    \t\t\t&lt;role-name&gt;user&lt;/role-name&gt;\r\n    \t\t&lt;/auth-constraint&gt;\r\n    \t&lt;/security-constraint&gt;\r\n\r\n2. Use servlet filter to take care of preflight OPTIONS requests. For maven add this dependency\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n add filter to web.xml:\r\n\r\n\r\n    \t&lt;filter&gt;\r\n    \t    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\r\n    \t    &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\r\n    \t    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;","title":"How to enable CORS on server-side code in java","body":"<p>There are 2 things you have to do:</p>\n\n<ol>\n<li><p>If your resource is password protected, you have to allow preflight OPTIONS requests to run through without credentials, in web.xml e.g.:</p>\n\n<pre><code>&lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;application&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;http-method-omission&gt;OPTIONS&lt;/http-method-omission&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;user&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre></li>\n<li><p>Use servlet filter to take care of preflight OPTIONS requests. For maven add this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\n    &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>add filter to web.xml:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20916350,"reputation":73,"user_id":15365931,"display_name":"Hoomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642664888,"creation_date":1642664888,"answer_id":70782428,"question_id":44905898,"body_markdown":"I tested the codes above but the best one that was easy and fast to use was mentioned here: [https://spring.io/blog/2015/06/08/cors-support-in-spring-framework][1]\r\nI added @CrossOrgin to my API or controller calls whenever needed and worked perfectly. \r\n\r\nExample Code:\r\n\r\n    @CrossOrigin\r\n    @GetMapping\r\n    public List&lt;Product&gt; getAllProducts(){return productService.getAllProducts();}\r\n*You can also filter the access by adding your URL in front of @CrossOrigin\r\n\r\nHope you find this useful.\r\n\r\n  [1]: https://spring.io/blog/2015/06/08/cors-support-in-spring-framework","title":"How to enable CORS on server-side code in java","body":"<p>I tested the codes above but the best one that was easy and fast to use was mentioned here: <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/08/cors-support-in-spring-framework</a>\nI added @CrossOrgin to my API or controller calls whenever needed and worked perfectly.</p>\n<p>Example Code:</p>\n<pre><code>@CrossOrigin\n@GetMapping\npublic List&lt;Product&gt; getAllProducts(){return productService.getAllProducts();}\n</code></pre>\n<p>*You can also filter the access by adding your URL in front of @CrossOrigin</p>\n<p>Hope you find this useful.</p>\n"}],"owner":{"account_id":5332063,"reputation":89,"user_id":4252396,"accept_rate":33,"display_name":"Soumyajit Chatterjee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29468,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1642664888,"creation_date":1499170977,"question_id":44905898,"body_markdown":"We are having a situation where UI is running on one host, and it is trying to communicate with the resources which are available on another host. The problem here is that, the UI is not be able to make call to the resources because that resource lives in a different domain and cross domain requests will not work unless the server is CORS enabled .\r\n\r\nIn-order to make server CORS enabled, We have done the below changes .\r\n\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerResponseContext;\r\n    import javax.ws.rs.container.ContainerResponseFilter;\r\n    import javax.ws.rs.ext.Provider;\r\n    import java.io.IOException;\r\n    \r\n    @Provider\r\n    public class CORSFilter implements ContainerResponseFilter {\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext request, ContainerResponseContext response) throws IOException\r\n        {\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,&quot;origin, content-type, accept, authorization&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n        }\r\n    }\r\n\r\nHowever I am not able to figure out where I need to map/configure this class,since there is no config files (web.xml).\r\nI don&#39;t have much knowledge on enabling CORS on server-side . \r\nPlease suggest how to proceed further .\r\n\r\n\r\n","title":"How to enable CORS on server-side code in java","body":"<p>We are having a situation where UI is running on one host, and it is trying to communicate with the resources which are available on another host. The problem here is that, the UI is not be able to make call to the resources because that resource lives in a different domain and cross domain requests will not work unless the server is CORS enabled .</p>\n\n<p>In-order to make server CORS enabled, We have done the below changes .</p>\n\n<pre><code>import javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerResponseContext;\nimport javax.ws.rs.container.ContainerResponseFilter;\nimport javax.ws.rs.ext.Provider;\nimport java.io.IOException;\n\n@Provider\npublic class CORSFilter implements ContainerResponseFilter {\n\n    @Override\n    public void filter(ContainerRequestContext request, ContainerResponseContext response) throws IOException\n    {\n        response.getHeaders().add(\"Access-Control-Allow-Origin\", \"*\");\n        response.getHeaders().add(\"Access-Control-Allow-Headers\",\"origin, content-type, accept, authorization\");\n        response.getHeaders().add(\"Access-Control-Allow-Credentials\", \"true\");\n        response.getHeaders().add(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS, HEAD\");\n    }\n}\n</code></pre>\n\n<p>However I am not able to figure out where I need to map/configure this class,since there is no config files (web.xml).\nI don't have much knowledge on enabling CORS on server-side . \nPlease suggest how to proceed further .</p>\n"},{"tags":["java","algorithm","data-structures","backtracking"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642664683,"creation_date":1642663396,"answer_id":70782160,"question_id":70780390,"body_markdown":"The algorithm works as follows:\r\n\r\n1. The base case: when the string consists of just one character, then return a set with just that one string: it is the only possible permutation.\r\n\r\n2. Solve the problem for one character less: get all the permutations of the shorter string that lacks the original last character.\r\n\r\n3. For each permutation in the set that is returned by this recursive call, do the following:\r\n\r\n    * Choose every possible index in this this permutation at which we can insert a character, i.e. 0 to the length of the shorter string (included):\r\n\r\n        * In this permutation, at the given index: insert the excluded character, thereby constructing a permutation that has all the characters now.\r\n\r\n\r\nSo step 3 needs two nested loops: one to get each permutation of the shorter string, and another to select an index at which the excluded character is to be inserted into that permutation.\r\n\r\n### Example:\r\n\r\nInput: \r\n\r\n    &quot;abcd&quot;\r\n\r\nIn step 2 we look at the shorter string &quot;abc&quot;, and trust the function to produce the correct result for it (inductive reasoning), which is the set:\r\n\r\n    { &quot;abc&quot;, &quot;acb&quot;, &quot;bac&quot;, &quot;bca&quot;, &quot;cab&quot;, &quot;cba&quot; }\r\n\r\nNow we get to step 3. The outer loop iterates over this set. The inner loop chooses an index between 0 and 3 (included). So let&#39;s put that in a table:\r\n\r\n| shorter permutation | index at which to insert &quot;d&quot; | resulting permutation\r\n|:-------------------:|:-----:|:---------------------:\r\n| &quot;abc&quot; | 0 | &quot;dabc&quot;\r\n| &quot;abc&quot; | 1 | &quot;adbc&quot;\r\n| &quot;abc&quot; | 2 | &quot;abdc&quot;\r\n| &quot;abc&quot; | 3 | &quot;abcd&quot;\r\n|  | |\r\n| &quot;acb&quot; | 0 | &quot;dacb&quot;\r\n| &quot;acb&quot; | 1 | &quot;adcb&quot;\r\n| &quot;acb&quot; | 2 | &quot;acdb&quot;\r\n| &quot;acb&quot; | 3 | &quot;acbd&quot;\r\n|  | |\r\n| &quot;bac&quot; | 0 | &quot;dbac&quot;\r\n| &quot;bac&quot; | 1 | &quot;bdac&quot;\r\n| &quot;bac&quot; | 2 | &quot;badc&quot;\r\n| &quot;bac&quot; | 3 | &quot;bacd&quot;\r\n|  | |\r\n| &quot;bca&quot; | 0 | &quot;dbca&quot;\r\n| &quot;bca&quot; | 1 | &quot;bdca&quot;\r\n| &quot;bca&quot; | 2 | &quot;bcda&quot;\r\n| &quot;bca&quot; | 3 | &quot;bcad&quot;\r\n|  | |\r\n| &quot;cab&quot; | 0 | &quot;dcab&quot;\r\n| &quot;cab&quot; | 1 | &quot;cdab&quot;\r\n| &quot;cab&quot; | 2 | &quot;cadb&quot;\r\n| &quot;cab&quot; | 3 | &quot;cabd&quot;\r\n|  | |\r\n| &quot;cba&quot; | 0 | &quot;dcba&quot;\r\n| &quot;cba&quot; | 1 | &quot;cdba&quot;\r\n| &quot;cba&quot; | 2 | &quot;cbda&quot;\r\n| &quot;cba&quot; | 3 | &quot;cbad&quot;\r\n\r\nThis resulting set is then returned.\r\n\r\nHope this clarifies it.\r\n\r\n","title":"Backtracking with recursion. Why is the code working","body":"<p>The algorithm works as follows:</p>\n<ol>\n<li><p>The base case: when the string consists of just one character, then return a set with just that one string: it is the only possible permutation.</p>\n</li>\n<li><p>Solve the problem for one character less: get all the permutations of the shorter string that lacks the original last character.</p>\n</li>\n<li><p>For each permutation in the set that is returned by this recursive call, do the following:</p>\n<ul>\n<li><p>Choose every possible index in this this permutation at which we can insert a character, i.e. 0 to the length of the shorter string (included):</p>\n<ul>\n<li>In this permutation, at the given index: insert the excluded character, thereby constructing a permutation that has all the characters now.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>So step 3 needs two nested loops: one to get each permutation of the shorter string, and another to select an index at which the excluded character is to be inserted into that permutation.</p>\n<h3>Example:</h3>\n<p>Input:</p>\n<pre><code>&quot;abcd&quot;\n</code></pre>\n<p>In step 2 we look at the shorter string &quot;abc&quot;, and trust the function to produce the correct result for it (inductive reasoning), which is the set:</p>\n<pre><code>{ &quot;abc&quot;, &quot;acb&quot;, &quot;bac&quot;, &quot;bca&quot;, &quot;cab&quot;, &quot;cba&quot; }\n</code></pre>\n<p>Now we get to step 3. The outer loop iterates over this set. The inner loop chooses an index between 0 and 3 (included). So let's put that in a table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">shorter permutation</th>\n<th style=\"text-align: center;\">index at which to insert &quot;d&quot;</th>\n<th style=\"text-align: center;\">resulting permutation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dabc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;adbc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;abdc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;abcd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dacb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;adcb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;acdb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;acbd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dbac&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;bdac&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;badc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;bacd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dbca&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;bdca&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;bcda&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;bcad&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dcab&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;cdab&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;cadb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;cabd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dcba&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;cdba&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;cbda&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;cbad&quot;</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This resulting set is then returned.</p>\n<p>Hope this clarifies it.</p>\n"}],"owner":{"account_id":23994423,"reputation":3,"user_id":17980105,"display_name":"adssdfd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782160,"answer_count":1,"score":0,"last_activity_date":1642664683,"creation_date":1642648276,"question_id":70780390,"body_markdown":"Could you please help me understanding the below code snippet. the note says it&#39;s doing a string permutation by back tracking but I just don&#39;t get it. I don&#39;t get what the nested for loops are doing. I tried to follow the code with &quot;Cat&quot;. Doesn&#39;t permutation set have &lt;Ca&gt; then?\r\n\r\n    public static Set&lt;String&gt; getPermutations(String inputString) {\r\n            if(inputString.length() &lt;= 1) {\r\n                return new HashSet&lt;&gt;(Collections.singletonList(inputString));\r\n            }\r\n            String allCharsExceptLast = inputString.substring(0, inputString.length()-1);\r\n            char lastChar = inputString.charAt(inputString.length()-1);\r\n    \r\n            Set&lt;String&gt; permutationsOfAllCharsExceptLast = getPermutations(allCharsExceptLast);\r\n    \r\n            Set&lt;String&gt; permutations = new HashSet&lt;&gt;();\r\n            for(String permutationOfAllCharsExceptLast: permutationsOfAllCharsExceptLast) {\r\n                for(int position = 0; position &lt;= allCharsExceptLast.length(); position++) {\r\n                    String permutation = permutationOfAllCharsExceptLast.substring(0, position) + lastChar +\r\n                            permutationOfAllCharsExceptLast.substring(position);\r\n                    permutations.add(permutation);\r\n                }\r\n            }\r\n    \r\n            return permutations;\r\n        }\r\n    \r\n    }","title":"Backtracking with recursion. Why is the code working","body":"<p>Could you please help me understanding the below code snippet. the note says it's doing a string permutation by back tracking but I just don't get it. I don't get what the nested for loops are doing. I tried to follow the code with &quot;Cat&quot;. Doesn't permutation set have  then?</p>\n<pre><code>public static Set&lt;String&gt; getPermutations(String inputString) {\n        if(inputString.length() &lt;= 1) {\n            return new HashSet&lt;&gt;(Collections.singletonList(inputString));\n        }\n        String allCharsExceptLast = inputString.substring(0, inputString.length()-1);\n        char lastChar = inputString.charAt(inputString.length()-1);\n\n        Set&lt;String&gt; permutationsOfAllCharsExceptLast = getPermutations(allCharsExceptLast);\n\n        Set&lt;String&gt; permutations = new HashSet&lt;&gt;();\n        for(String permutationOfAllCharsExceptLast: permutationsOfAllCharsExceptLast) {\n            for(int position = 0; position &lt;= allCharsExceptLast.length(); position++) {\n                String permutation = permutationOfAllCharsExceptLast.substring(0, position) + lastChar +\n                        permutationOfAllCharsExceptLast.substring(position);\n                permutations.add(permutation);\n            }\n        }\n\n        return permutations;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","jdbc"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1642663853,"post_id":70782210,"comment_id":125132072,"body_markdown":"You have a nullpointer - `Caused by: java.lang.NullPointerException\n    at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)`. Check your `SimplePBEConfig`to see why it doesn&#39;t find property or whatever it was that caused NPE","body":"You have a nullpointer - <code>Caused by: java.lang.NullPointerException     at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPassword&zwnj;&#8203;CharArray(SimplePBEC&zwnj;&#8203;onfig.java:434)</code>. Check your <code>SimplePBEConfig</code>to see why it doesn&#39;t find property or whatever it was that caused NPE"}],"answers":[{"tags":[],"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642664682,"creation_date":1642664682,"answer_id":70782388,"question_id":70782210,"body_markdown":"Looks like the password is not set and is null in SimplePBEConfig.java(line no. 434) causing NullPointerException.\r\n\r\nReference - https://github.com/jboss-fuse/jasypt/blob/master/jasypt/src/main/java/org/jasypt/encryption/pbe/config/SimplePBEConfig.java\r\n","title":"Could not open JDBC Connection for transaction even through db connection properties are correct","body":"<p>Looks like the password is not set and is null in SimplePBEConfig.java(line no. 434) causing NullPointerException.</p>\n<p>Reference - <a href=\"https://github.com/jboss-fuse/jasypt/blob/master/jasypt/src/main/java/org/jasypt/encryption/pbe/config/SimplePBEConfig.java\" rel=\"nofollow noreferrer\">https://github.com/jboss-fuse/jasypt/blob/master/jasypt/src/main/java/org/jasypt/encryption/pbe/config/SimplePBEConfig.java</a></p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782388,"answer_count":1,"score":0,"last_activity_date":1642664682,"creation_date":1642663683,"question_id":70782210,"body_markdown":"I have a unit test, which when I run, gives this error:\r\n\r\n```\r\n[07:21:08.581]-[WARN ]-[                                    ] : Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e38921c] to process &#39;before&#39; execution of test method [public void me.Avis.policy.tierservice.PolicyServiceTest.testGetHomePolicy()] for test instance [me.Avis.policy.tierservice.PolicyServiceTest@41005828]\r\njava.lang.NullPointerException: null\r\n\tat org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\r\n\tat org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\r\n\tat org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\r\n\tat org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\r\n\tat me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\r\n\tat org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\r\n\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\r\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\r\n\tat org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\r\n\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\r\n\tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\r\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\r\n\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\r\n\tat org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\r\n\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\r\n\tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\r\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\r\n\tat org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\r\n\tat org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\r\n\tat org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\r\n\tat me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\r\n\t... 26 more\r\n```\r\n\r\nMy db connection details are correct in the `application.properties`. What could be causing this?\r\n\r\n","title":"Could not open JDBC Connection for transaction even through db connection properties are correct","body":"<p>I have a unit test, which when I run, gives this error:</p>\n<pre><code>[07:21:08.581]-[WARN ]-[                                    ] : Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e38921c] to process 'before' execution of test method [public void me.Avis.policy.tierservice.PolicyServiceTest.testGetHomePolicy()] for test instance [me.Avis.policy.tierservice.PolicyServiceTest@41005828]\njava.lang.NullPointerException: null\n    at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\n    at org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\n    at org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\n    at org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\n    at me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\n    at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\n    at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\n\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\n    at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.NullPointerException\n    at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\n    at org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\n    at org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\n    at org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\n    at me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\n    ... 26 more\n</code></pre>\n<p>My db connection details are correct in the <code>application.properties</code>. What could be causing this?</p>\n"},{"tags":["java","gradle","build.gradle","javac"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1642664280,"post_id":70778646,"comment_id":125132203,"body_markdown":"what task is failing?","body":"what task is failing?"},{"owner":{"account_id":163467,"reputation":2905,"user_id":385637,"accept_rate":60,"display_name":"Mustafa Zengin"},"score":0,"creation_date":1642667095,"post_id":70778646,"comment_id":125133183,"body_markdown":"@George compileJava is the task that’s failing. I get the error messages from the compiler in the output, but it doesn’t list errors from all the files in the project. e.g. it shows 73 errors from a few files, if I fix some of those files, I start to see other files being added to compilation and get different number of errors. As I mentioned in the question, there is no dependency between the files, so errors I fix don’t hide the other errors in the initial attempt.","body":"@George compileJava is the task that’s failing. I get the error messages from the compiler in the output, but it doesn’t list errors from all the files in the project. e.g. it shows 73 errors from a few files, if I fix some of those files, I start to see other files being added to compilation and get different number of errors. As I mentioned in the question, there is no dependency between the files, so errors I fix don’t hide the other errors in the initial attempt."}],"owner":{"account_id":163467,"reputation":2905,"user_id":385637,"accept_rate":60,"display_name":"Mustafa Zengin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642664490,"creation_date":1642631927,"question_id":70778646,"body_markdown":"I am trying to compile a set of Java files with some external dependencies, but the build fails early without going through all the files. What I would like to achieve is to report all the compilation failures in all files after a single `gradle build` call. How can I force the compiler to continue compiling even after hitting errors?\r\n\r\nThere is no interdependency between the files I attempt to compile. The compilation failures are only with respect to types defined in external library dependencies.\r\n\r\nI tried increasing the heap memory size in `jvmargs`, that doesn&#39;t seem to be the problem. I have also tried increasing `-Xmaxerrors`, that only affects the number of errors &quot;printed&quot;, not the number of errors to hit before finishing the compilation.\r\n\r\nThe error count is also not constant for the &quot;bail out early&quot; condition, for different sets of files I get different max error count, so I don&#39;t know how the compiler decides to stop.","title":"How to prevent gradle build from failing early?","body":"<p>I am trying to compile a set of Java files with some external dependencies, but the build fails early without going through all the files. What I would like to achieve is to report all the compilation failures in all files after a single <code>gradle build</code> call. How can I force the compiler to continue compiling even after hitting errors?</p>\n<p>There is no interdependency between the files I attempt to compile. The compilation failures are only with respect to types defined in external library dependencies.</p>\n<p>I tried increasing the heap memory size in <code>jvmargs</code>, that doesn't seem to be the problem. I have also tried increasing <code>-Xmaxerrors</code>, that only affects the number of errors &quot;printed&quot;, not the number of errors to hit before finishing the compilation.</p>\n<p>The error count is also not constant for the &quot;bail out early&quot; condition, for different sets of files I get different max error count, so I don't know how the compiler decides to stop.</p>\n"},{"tags":["java","openjdk-11"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1570197133,"post_id":58236241,"comment_id":102848322,"body_markdown":"What Linux distro are you using?  What version?  How did you install OpenJDK Java 11?  How did you install the Java ATK?  What is your CLASSPATH variable set to?","body":"What Linux distro are you using?  What version?  How did you install OpenJDK Java 11?  How did you install the Java ATK?  What is your CLASSPATH variable set to?"},{"owner":{"account_id":11808821,"reputation":156,"user_id":8640698,"display_name":"RobinFood"},"score":0,"creation_date":1570202602,"post_id":58236241,"comment_id":102851030,"body_markdown":"Right, sorry. Clarified in my post - ubuntu 16.04.5, openjdk11 was intalled via apt. The CLASSPATH environment variable actually isn&#39;t set at all.","body":"Right, sorry. Clarified in my post - ubuntu 16.04.5, openjdk11 was intalled via apt. The CLASSPATH environment variable actually isn&#39;t set at all."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635862823,"creation_date":1570198010,"answer_id":58238014,"question_id":58236241,"body_markdown":"When I tried to reproduce this with OpenJDK Java 11.0.4 on Fedora 29, I got a NPE.\r\n\r\n    $ javac Main.java \r\n    $ java Main \r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat Main.main(Main.java:6)\r\n    $ java -version\r\n    openjdk version &quot;11.0.4&quot; 2019-07-16\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.4+11)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.4+11, mixed mode, sharing)\r\n    $ echo $CLASSPATH\r\n    \r\n    $\r\n\r\n\r\n\r\nThen I tried to find `java-atk-wrapper.jar`.  Not there.  So I installed it via the package manager, and then ran your program again.\r\n\r\nStill an NPE&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nHmmm.\r\n\r\nConclusion: there is something weird about the OpenJDK Java 11.0.4 you have installed, but is NOT a bug in OpenJDK itself.\r\n\r\nNote that the following OpenJDK bug report is relevant to this:\r\n\r\n  - https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8204862\r\n\r\nIt seems to be saying that the OpenJDK team doesn&#39;t support / maintain the stuff inside that JAR file.\r\n\r\n---------------\r\n\r\n**UPDATE**\r\n\r\nGiven the extra information that you added to question, the problem would appear to be a bug in the OpenJDK packages for Debian / Ubuntu.  I found this Debian bug that seems to be related:\r\n\r\n  - https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900912\r\n\r\nI suspect that their attempts to fix the original bug (&quot;Accessibility does not get loaded&quot;) has introduced this regression.\r\n\r\nMy advice to you would be:\r\n\r\n  1.  Raise a new issue with Ubuntu / Debian.  Let them decide if this needs to be raised upstream, or whether it is their problem to fix.\r\n\r\n  2. If you want to try a hacky workaround, see what happens if you rename `java-atk-wrapper.jar` so that the launcher cannot find it.  It *might* work. \r\n\r\n  3. Alternatively (less hacky), see what Ubuntu package the JAR file comes from *on your system*.  If it makes sense, uninstall that package and whatever depends on it.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - The NPE happens because `getResource` is returning `null` ... because the class loader cannot find a manifest resource.  That&#39;s what *should* happen.&lt;/sup&gt;\r\n\r\n\r\n","title":"OpenJDK 11.0.4 has java-atk-wrapper.jar in the classpath","body":"<p>When I tried to reproduce this with OpenJDK Java 11.0.4 on Fedora 29, I got a NPE.</p>\n<pre><code>$ javac Main.java \n$ java Main \nException in thread &quot;main&quot; java.lang.NullPointerException\n    at Main.main(Main.java:6)\n$ java -version\nopenjdk version &quot;11.0.4&quot; 2019-07-16\nOpenJDK Runtime Environment 18.9 (build 11.0.4+11)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.4+11, mixed mode, sharing)\n$ echo $CLASSPATH\n\n$\n</code></pre>\n<p>Then I tried to find <code>java-atk-wrapper.jar</code>.  Not there.  So I installed it via the package manager, and then ran your program again.</p>\n<p>Still an NPE<sup>1</sup>.</p>\n<p>Hmmm.</p>\n<p>Conclusion: there is something weird about the OpenJDK Java 11.0.4 you have installed, but is NOT a bug in OpenJDK itself.</p>\n<p>Note that the following OpenJDK bug report is relevant to this:</p>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8204862\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8204862</a></li>\n</ul>\n<p>It seems to be saying that the OpenJDK team doesn't support / maintain the stuff inside that JAR file.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Given the extra information that you added to question, the problem would appear to be a bug in the OpenJDK packages for Debian / Ubuntu.  I found this Debian bug that seems to be related:</p>\n<ul>\n<li><a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900912\" rel=\"nofollow noreferrer\">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900912</a></li>\n</ul>\n<p>I suspect that their attempts to fix the original bug (&quot;Accessibility does not get loaded&quot;) has introduced this regression.</p>\n<p>My advice to you would be:</p>\n<ol>\n<li><p>Raise a new issue with Ubuntu / Debian.  Let them decide if this needs to be raised upstream, or whether it is their problem to fix.</p>\n</li>\n<li><p>If you want to try a hacky workaround, see what happens if you rename <code>java-atk-wrapper.jar</code> so that the launcher cannot find it.  It <em>might</em> work.</p>\n</li>\n<li><p>Alternatively (less hacky), see what Ubuntu package the JAR file comes from <em>on your system</em>.  If it makes sense, uninstall that package and whatever depends on it.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - The NPE happens because <code>getResource</code> is returning <code>null</code> ... because the class loader cannot find a manifest resource.  That's what <em>should</em> happen.</sup></p>\n"},{"tags":[],"owner":{"account_id":8428091,"reputation":1,"user_id":6324712,"display_name":"IC3Coffee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642664228,"creation_date":1642424222,"answer_id":70741743,"question_id":58236241,"body_markdown":"Same happened to me: &lt;br&gt;\r\nInstead of deleting the libatk-wrapper-java , i iterated over all URL&#39;s from getResource**s** and chose the URL with the jar-name. &lt;br&gt;\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResources-java.lang.String-\r\n\r\n    Env: \r\n    $uname -a \r\n    Linux hostname 5.11.0-46-generic #51~20.04.1-Ubuntu SMP Fri Jan 7 06:51:40 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n    $java -version\r\n    openjdk version &quot;11.0.13&quot; 2021-10-19\r\n    OpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)","title":"OpenJDK 11.0.4 has java-atk-wrapper.jar in the classpath","body":"<p>Same happened to me: <br>\nInstead of deleting the libatk-wrapper-java , i iterated over all URL's from getResource<strong>s</strong> and chose the URL with the jar-name. <br>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResources-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResources-java.lang.String-</a></p>\n<pre><code>Env: \n$uname -a \nLinux hostname 5.11.0-46-generic #51~20.04.1-Ubuntu SMP Fri Jan 7 06:51:40 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n$java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":11808821,"reputation":156,"user_id":8640698,"display_name":"RobinFood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58238014,"answer_count":2,"score":2,"last_activity_date":1642664228,"creation_date":1570191333,"question_id":58236241,"body_markdown":"I noticed this issue when attempting to load the MANIFEST.MF from the .jar file of my application via `class.getResource(&quot;/META-INF/MANIFEST.MF&quot;)`.\r\n\r\nInstead of getting my own manifest, a manifest is seemingly loaded from `/usr/share/java/java-atk-wrapper.jar`. \r\nHowever, this jar is not specified as part of my application&#39;s classpath - I tried disabling the java accessibility assistive technologies ([here][1]), but this had no effect.\r\n\r\nInterestingly, this behavior is specific to OpenJDK-11.0.4. The issue does not occur when using 11.0.3.\r\nCan anyone shed some light on what might be happening here? Was there some kind of change to how java-internal jars/classes are loaded/accessed? Or could this simply be a bug introduced in 11.0.4?\r\n\r\n**Minimal working example:**\r\n\r\n    import java.net.URL;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final URL resource = Main.class.getResource(&quot;/META-INF/MANIFEST.MF&quot;);\r\n            System.out.println(resource.getPath());\r\n        }\r\n    }\r\n\r\nThen run:\r\n\r\n    $ java --version\r\n    openjdk 11.0.4 2019-07-16\r\n    OpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-116.04.1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-116.04.1, mixed mode, sharing)\r\n    $ javac Main.java\r\n    $ java Main\r\n    file:/usr/share/java/java-atk-wrapper.jar!/META-INF/MANIFEST.MF\r\n    $ echo $CLASSPATH\r\n    \r\n    $\r\n\r\nThe _expexted_ behavior of this code snippet would be to throw a NPE, because there is no manifest resource. Instead, the manifest is loaded from the atk-wrapper.\r\n\r\n**Environment details:**\r\n\r\nUbuntu 16.04.5 LTS\r\n\r\nOpenJDK was freshly installed via apt\r\n\r\n    add-apt-repository ppa:openjdk-r/ppa\r\n    apt install openjdk-11-jdk\r\n\r\nThe apk-wrapper was _not_ installed explicitly. I wasn&#39;t aware of its existence until this issue occurred on one of our machines - at which point I was able to reproduce it on my local machine as well.\r\n\r\n  [1]: https://stackoverflow.com/questions/47985068/bug-in-gnomes-java-atk-wrapper-how-to-disable-accessibility-for-a-swing-compo","title":"OpenJDK 11.0.4 has java-atk-wrapper.jar in the classpath","body":"<p>I noticed this issue when attempting to load the MANIFEST.MF from the .jar file of my application via <code>class.getResource(\"/META-INF/MANIFEST.MF\")</code>.</p>\n\n<p>Instead of getting my own manifest, a manifest is seemingly loaded from <code>/usr/share/java/java-atk-wrapper.jar</code>. \nHowever, this jar is not specified as part of my application's classpath - I tried disabling the java accessibility assistive technologies (<a href=\"https://stackoverflow.com/questions/47985068/bug-in-gnomes-java-atk-wrapper-how-to-disable-accessibility-for-a-swing-compo\">here</a>), but this had no effect.</p>\n\n<p>Interestingly, this behavior is specific to OpenJDK-11.0.4. The issue does not occur when using 11.0.3.\nCan anyone shed some light on what might be happening here? Was there some kind of change to how java-internal jars/classes are loaded/accessed? Or could this simply be a bug introduced in 11.0.4?</p>\n\n<p><strong>Minimal working example:</strong></p>\n\n<pre><code>import java.net.URL;\n\npublic class Main {\n    public static void main(String[] args) {\n        final URL resource = Main.class.getResource(\"/META-INF/MANIFEST.MF\");\n        System.out.println(resource.getPath());\n    }\n}\n</code></pre>\n\n<p>Then run:</p>\n\n<pre><code>$ java --version\nopenjdk 11.0.4 2019-07-16\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-116.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-116.04.1, mixed mode, sharing)\n$ javac Main.java\n$ java Main\nfile:/usr/share/java/java-atk-wrapper.jar!/META-INF/MANIFEST.MF\n$ echo $CLASSPATH\n\n$\n</code></pre>\n\n<p>The <em>expexted</em> behavior of this code snippet would be to throw a NPE, because there is no manifest resource. Instead, the manifest is loaded from the atk-wrapper.</p>\n\n<p><strong>Environment details:</strong></p>\n\n<p>Ubuntu 16.04.5 LTS</p>\n\n<p>OpenJDK was freshly installed via apt</p>\n\n<pre><code>add-apt-repository ppa:openjdk-r/ppa\napt install openjdk-11-jdk\n</code></pre>\n\n<p>The apk-wrapper was <em>not</em> installed explicitly. I wasn't aware of its existence until this issue occurred on one of our machines - at which point I was able to reproduce it on my local machine as well.</p>\n"},{"tags":["java","jdbc","weblogic12c","oracle9i"],"comments":[{"owner":{"account_id":5667261,"reputation":1536,"user_id":4483113,"display_name":"idelvall"},"score":0,"creation_date":1457302043,"post_id":35832465,"comment_id":59333336,"body_markdown":"Are the drivers the same version? If not try upgrading to the last. This may be helpful: http://stackoverflow.com/questions/17530909/java-returns-empty-string-value-for-oracle-varchar2","body":"Are the drivers the same version? If not try upgrading to the last. This may be helpful: <a href=\"http://stackoverflow.com/questions/17530909/java-returns-empty-string-value-for-oracle-varchar2\" title=\"java returns empty string value for oracle varchar2\">stackoverflow.com/questions/17530909/&hellip;</a>"},{"owner":{"account_id":2046209,"reputation":95,"user_id":1826240,"accept_rate":50,"display_name":"user1826240"},"score":0,"creation_date":1457335467,"post_id":35832465,"comment_id":59342601,"body_markdown":"First of all, thanks for the answer. I have update OJDBC7.jar  and remove all the OJDBC6.jar/OJDBC14.jar from WL. Also i add to the classpath the reference to OJDBC7.jar, but nothing change.","body":"First of all, thanks for the answer. I have update OJDBC7.jar  and remove all the OJDBC6.jar/OJDBC14.jar from WL. Also i add to the classpath the reference to OJDBC7.jar, but nothing change."}],"answers":[{"tags":[],"owner":{"account_id":23962199,"reputation":1,"user_id":17952124,"display_name":"sergio garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642664134,"creation_date":1642399701,"answer_id":70737149,"question_id":35832465,"body_markdown":"For someone who maybe comes for the answer, just get the resultset like this:\r\n\r\n    byte[] cod = rs.getBytes(&quot;COD&quot;);\r\n    \r\n    codServ = new String(cod);","title":"Strings are empty in ResultSet (Weblogic 12c + Oracle 9i)","body":"<p>For someone who maybe comes for the answer, just get the resultset like this:</p>\n<pre><code>byte[] cod = rs.getBytes(&quot;COD&quot;);\n\ncodServ = new String(cod);\n</code></pre>\n"}],"owner":{"account_id":2046209,"reputation":95,"user_id":1826240,"accept_rate":50,"display_name":"user1826240"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642664134,"creation_date":1457297886,"question_id":35832465,"body_markdown":"I have an application working properly in WL 11 (JDK 1.6) + Oracle 9i. When I migrate to WL12 (JDK1.8), all the strings in the results are empty but the other fields are OK (int, date...)\r\n\r\nIn both server, I have a datasource with `oracle.jdbc.xa.client.OracleXADataSource` driver.\r\n\r\n&#191;Any idea? &#191;Do I have to change driver at WL console?\r\n\r\n    Statement stm = conn.createStatement();\r\n\tResultSet rst = stm.executeQuery(query);\r\n\r\nEdit: I have deploy another app in Oracle 11g DB and works properly. Could not work properly with Oracle 9i?\r\n","title":"Strings are empty in ResultSet (Weblogic 12c + Oracle 9i)","body":"<p>I have an application working properly in WL 11 (JDK 1.6) + Oracle 9i. When I migrate to WL12 (JDK1.8), all the strings in the results are empty but the other fields are OK (int, date...)</p>\n\n<p>In both server, I have a datasource with <code>oracle.jdbc.xa.client.OracleXADataSource</code> driver.</p>\n\n<p>¿Any idea? ¿Do I have to change driver at WL console?</p>\n\n<pre><code>Statement stm = conn.createStatement();\nResultSet rst = stm.executeQuery(query);\n</code></pre>\n\n<p>Edit: I have deploy another app in Oracle 11g DB and works properly. Could not work properly with Oracle 9i?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642664013,"creation_date":1642664013,"answer_id":70782253,"question_id":70774081,"body_markdown":"You are getting that behavior because you are creating a new instance of MyAdapter at each iteration of the inner loop. What you should is to get all those 4 lines of code out of the loop, as you can see below:\r\n\r\n    for (DataSnapshot ds:snapshot.getChildren()) {\r\n        for (DataSnapshot snapshot1:ds.getChildren()) {\r\n            reply data = snapshot1.getValue(reply.class);\r\n            list.add(data);\r\n        }\r\n        holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        myAdapter = new MyAdapter(getContext(), list);\r\n        holder.rcv.setAdapter(myAdapter);\r\n        myAdapter.notifyDataSetChanged();\r\n    }\r\n","title":"recyclerview in FirebaseRecyclerviewAdapter turn all longth but write just one","body":"<p>You are getting that behavior because you are creating a new instance of MyAdapter at each iteration of the inner loop. What you should is to get all those 4 lines of code out of the loop, as you can see below:</p>\n<pre><code>for (DataSnapshot ds:snapshot.getChildren()) {\n    for (DataSnapshot snapshot1:ds.getChildren()) {\n        reply data = snapshot1.getValue(reply.class);\n        list.add(data);\n    }\n    holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\n    myAdapter = new MyAdapter(getContext(), list);\n    holder.rcv.setAdapter(myAdapter);\n    myAdapter.notifyDataSetChanged();\n}\n</code></pre>\n"}],"owner":{"account_id":20064492,"reputation":78,"user_id":14710443,"display_name":"samsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782253,"answer_count":1,"score":0,"last_activity_date":1642664061,"creation_date":1642608961,"question_id":70774081,"body_markdown":"I have a regular RecyclerView in FRA I set up in onbindviewholder class. İt turns longth as you see in app there is a space for all items normally I should see there reply text but just one can see.\r\n\r\n\r\n\r\n \r\n\r\n    dbreply.child(post_key).addValueEventListener(new ValueEventListener() {\r\n                     @Override\r\n                     public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                         for (DataSnapshot ds:snapshot.getChildren()) {\r\n                             for (DataSnapshot snapshot1:ds.getChildren()) {\r\n                                 reply data = snapshot1.getValue(reply.class);\r\n                                 list.add(data);\r\n                          \r\n                                 holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\r\n                                 myAdapter = new MyAdapter(getContext(), list);\r\n                                 holder.rcv.setAdapter(myAdapter);\r\n                                 myAdapter.notifyDataSetChanged();\r\n    \r\n                            }\r\n                         }\r\n \r\n                                 @Override\r\n                                 public void onCancelled(@NonNull DatabaseError error) { }});\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/myzLI.jpg","title":"recyclerview in FirebaseRecyclerviewAdapter turn all longth but write just one","body":"<p>I have a regular RecyclerView in FRA I set up in onbindviewholder class. İt turns longth as you see in app there is a space for all items normally I should see there reply text but just one can see.</p>\n<pre><code>dbreply.child(post_key).addValueEventListener(new ValueEventListener() {\n                 @Override\n                 public void onDataChange(@NonNull DataSnapshot snapshot) {\n                     for (DataSnapshot ds:snapshot.getChildren()) {\n                         for (DataSnapshot snapshot1:ds.getChildren()) {\n                             reply data = snapshot1.getValue(reply.class);\n                             list.add(data);\n                      \n                             holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\n                             myAdapter = new MyAdapter(getContext(), list);\n                             holder.rcv.setAdapter(myAdapter);\n                             myAdapter.notifyDataSetChanged();\n\n                        }\n                     }\n\n                             @Override\n                             public void onCancelled(@NonNull DatabaseError error) { }});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/myzLI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myzLI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","authentication","jax-rs","wildfly","bearer-token"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1441813711,"post_id":32471808,"comment_id":52828931,"body_markdown":"Yeah I am not sure how it works it would work in an EE environment, even making the resource class an stateless bean. The @RolesAllowed annotation is meant to be used in an for ejbs. In which case the principal is retrieved from the servlet request (I  believe). What I would do is just implements your own authorization filter to that looksup the annotation and checks against the principal in the security context.","body":"Yeah I am not sure how it works it would work in an EE environment, even making the resource class an stateless bean. The @RolesAllowed annotation is meant to be used in an for ejbs. In which case the principal is retrieved from the servlet request (I  believe). What I would do is just implements your own authorization filter to that looksup the annotation and checks against the principal in the security context."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1441813864,"post_id":32471808,"comment_id":52829046,"body_markdown":"You can see [how Jersey implements it](https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java). Nothing is really Jersey specific about it except the `AnnotatedMethod` class. For that you can just do some reflection with `java.lang.reflect.Method` instead (`resourceInfo.getResourceMethod()`). Other than that, you can pretty much copy the code as is. Once you&#39;re done, just register the `RolesAllowedDynamicFeature` with the application. Or just annotate it with `@Provider` to be scanned for.","body":"You can see <a href=\"https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java\" rel=\"nofollow noreferrer\">how Jersey implements it</a>. Nothing is really Jersey specific about it except the <code>AnnotatedMethod</code> class. For that you can just do some reflection with <code>java.lang.reflect.Method</code> instead (<code>resourceInfo.getResourceMethod()</code>). Other than that, you can pretty much copy the code as is. Once you&#39;re done, just register the <code>RolesAllowedDynamicFeature</code> with the application. Or just annotate it with <code>@Provider</code> to be scanned for."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1441813934,"post_id":32471808,"comment_id":52829113,"body_markdown":"You will also need to make sure your filter is annotated with `@Priority(Priorities.AUTHENTICATION)` so that it is called before the authorization filter","body":"You will also need to make sure your filter is annotated with <code>@Priority(Priorities.AUTHENTICATION)</code> so that it is called before the authorization filter"},{"owner":{"account_id":3199627,"reputation":8485,"user_id":2701950,"accept_rate":74,"display_name":"Jadiel de Armas"},"score":0,"creation_date":1441814016,"post_id":32471808,"comment_id":52829165,"body_markdown":"I wish that Wildfly had a `RolesAllowedDynamic` feature like Wildfly. I will try to implement one like Jersey does it. That is exactly what I am looking for.","body":"I wish that Wildfly had a <code>RolesAllowedDynamic</code> feature like Wildfly. I will try to implement one like Jersey does it. That is exactly what I am looking for."},{"owner":{"account_id":3199627,"reputation":8485,"user_id":2701950,"accept_rate":74,"display_name":"Jadiel de Armas"},"score":0,"creation_date":1441815074,"post_id":32471808,"comment_id":52829939,"body_markdown":"@peeskillet You should write your comments as an answer. I will accept it and upvote it.","body":"@peeskillet You should write your comments as an answer. I will accept it and upvote it."}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441857118,"creation_date":1441815493,"answer_id":32484638,"question_id":32471808,"body_markdown":"Yeah I am not sure how it would work in an EE environment, even making the resource class an stateless bean. The `@RolesAllowed` annotation is meant to be used for ejbs. In which case the principal is retrieved from the servlet request (I believe). What I would do is just implements your own authorization filter that looks up the annotation and checks against the principal in the security context.\n\nYou can see [how Jersey implements it][1]. Nothing is really Jersey specific about it except the `AnnotatedMethod` class. For that you can just do some reflection with `java.lang.reflect.Method` (resourceInfo.getResourceMethod()) instead. Other than that, you can pretty much copy the code as is. Once you&#39;re done, just register the `RolesAllowedDynamicFeature` with the application. Or just annotate it with `@Provider` to be scanned for.\n\nYou will also need to make sure your authentication filter is annotated with `@Priority(Priorities.AUTHENTICATION)` so that it is called before the authorization filter, which is annotated with `@Priority(Priorities.AUTHORIZATION)`.\n\n-----\n\n## UPDATE\n\nHere is a refactor of the the code I linked to, so It doesn&#39;t use an Jersey specific classes. The `AnnotatedMethod` is just changed to `Method`. \n\n    @Provider\n    public class RolesAllowedFeature implements DynamicFeature {\n    \n        @Override\n        public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n            Method resourceMethod = resourceInfo.getResourceMethod();\n            \n            if (resourceMethod.isAnnotationPresent(DenyAll.class)) {\n                configuration.register(new RolesAllowedRequestFilter());\n                return;\n            }\n            \n            RolesAllowed ra = resourceMethod.getAnnotation(RolesAllowed.class);\n            if (ra != null) {\n                configuration.register(new RolesAllowedRequestFilter(ra.value()));\n                return;\n            }\n            \n            if (resourceMethod.isAnnotationPresent(PermitAll.class)) {\n                return;\n            }\n            \n            ra = resourceInfo.getResourceClass().getAnnotation(RolesAllowed.class);\n            if (ra != null) {\n                 configuration.register(new RolesAllowedRequestFilter(ra.value()));\n            }\n        }\n    \n        @Priority(Priorities.AUTHORIZATION) // authorization filter - should go after any authentication filters\n        private static class RolesAllowedRequestFilter implements ContainerRequestFilter {\n    \n            private final boolean denyAll;\n            private final String[] rolesAllowed;\n    \n            RolesAllowedRequestFilter() {\n                this.denyAll = true;\n                this.rolesAllowed = null;\n            }\n    \n            RolesAllowedRequestFilter(final String[] rolesAllowed) {\n                this.denyAll = false;\n                this.rolesAllowed = (rolesAllowed != null) ? rolesAllowed : new String[]{};\n            }\n    \n            @Override\n            public void filter(final ContainerRequestContext requestContext) throws IOException {\n                if (!denyAll) {\n                    if (rolesAllowed.length &gt; 0 &amp;&amp; !isAuthenticated(requestContext)) {\n                        throw new ForbiddenException(&quot;Not Authorized&quot;);\n                    }\n    \n                    for (final String role : rolesAllowed) {\n                        if (requestContext.getSecurityContext().isUserInRole(role)) {\n                            return;\n                        }\n                    }\n                }\n    \n                throw new ForbiddenException(&quot;Not Authorized&quot;);\n            }\n    \n            private static boolean isAuthenticated(final ContainerRequestContext requestContext) {\n                return requestContext.getSecurityContext().getUserPrincipal() != null;\n            }\n        }\n    }\n\nFirst let me explain a bit about how the `DynamicFeature` works. For that let&#39;s first change the context of discussion to your current implementation of your `AuthenticationFilter`. \n\nRight now it is a filter that is processed for every request. But let&#39;s say we introduced a custom `@Authenticated` annotation\n\n    @Target({METHOD, TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface Authenticated{}\n\nWe could use this annotation to annotate different methods and classes. To make it so that only the methods and classes annotated are filtered by the filter, we can introduce a `DynamicFeature` that checks for the annotation, then only register the filter when the annotation is found. For example\n\n    @Provider\n    public class AuthenticationDynamicFeature implements DynamicFeature {\n    \n        @Override\n        public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n            if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)) {\n                configuration.register(new AuthenticationFilter());\n                return;\n            }\n            \n            if (resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n                configuration.register(new AuthenticationFilter());\n            }\n        } \n    }\n\nOnce we register this `AuthenticationDynamicFeature` class, it will make it so that only methods and classes annotated with `@Authenticated` will be filtered.\n\nAlternatively, this can even be done _within_ the filter. We can get a reference to the `ResourceInfo` from within the `AuthenticationFilter`. For example check for the annotation, if is not there, then move on.\n\n    @Provider\n    @Priority(Priorities.AUTHENTICATION)\n    public class AuthenticationFilter implements ContainerRequestFilter {\n        \n        @Context\n        private ResourceInfo resourceInfo;\n    \n        @Override\n        public void filter(ContainerRequestContext context) throws IOException {\n            \n            boolean hasAnnotation = false;\n            if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)\n                    || resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n                hasAnnotation = true;\n            }\n            if (!hasAnnotation) return;\n            \n            // process authentication is annotation is present\n\nThis way we could completely forget about the `DynamicFeature`. It&#39;s better to just use the `DynamicFeature`, I was just giving an example for demonstration purposes. \n\nBut that being said, if we look at the first block of code with the `RolesAllowedDynamicFeature`, you can better understand what is going on. It only registers the filter for methods and classes annotated with `@RolesAllowed` and `@DenyAll`. You could even refactor it to have all the annotation logic in the filter instead of the feature. You only have the filter. Just like I did with the `AuthenticationFilter` example above. Again this would be just for example purposes.\n\nNow as far as the registration of the `DynamicFeature`, it works the same way as registering any other resource class or provider class (e.g. your authentication filter). So however you register those, just register the `RolesAllowedDynamicFeature` the same way. There is scanning, where `@Path` and `@Provider` annotations are scanned for. If this is what you are current using, then just annotating the feature class with `@Provider` should register it. For example just having an empty `Application` subclass will cause scanning to happen\n\n    @ApplicationPath(&quot;/api&quot;)\n    public class RestApplication extends Application {}\n\nThen there is explicit registration in your `Application` subclass. For example\n\n    @ApplicationPath(&quot;/api&quot;)\n    public class RestApplication extends Application {\n    \n        @Override\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n            Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;&gt;();\n            classes.add(AuthenticationFilter.class);\n            classes.add(RolesAllowedFeature.class);\n            classes.add(SomeResource.class);\n            return classes;\n        }\n    }\n\nNote that when doing this, you disable any scanning that goes on.\n\nSo a couple other things to make sure after all the above is clear it still isn&#39;t working. \n\n1. Make sure your current `AuthenticationFilter` is annotated with `@Priority(Priorities.AUTHENTICATION)`. This is to ensure that your authentication filter is called before the authorization filter. This needs to happen because the authentication filter is what sets the security context, and the authorization filter checks it.\n\n2. Make sure you are creating the security context correctly. The authorization filter will call the `SecurityContext.isUserInRole(role)` passing in roles from the `@RolesAllowed` annotation. So you need to make sure to implements the `isUserInRole` correctly.\n\n\n[1]: https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java#L85 ","title":"Bearer only authentication in Wildfly without using Keycloak","body":"<p>Yeah I am not sure how it would work in an EE environment, even making the resource class an stateless bean. The <code>@RolesAllowed</code> annotation is meant to be used for ejbs. In which case the principal is retrieved from the servlet request (I believe). What I would do is just implements your own authorization filter that looks up the annotation and checks against the principal in the security context.</p>\n<p>You can see <a href=\"https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java#L85\" rel=\"nofollow noreferrer\">how Jersey implements it</a>. Nothing is really Jersey specific about it except the <code>AnnotatedMethod</code> class. For that you can just do some reflection with <code>java.lang.reflect.Method</code> (resourceInfo.getResourceMethod()) instead. Other than that, you can pretty much copy the code as is. Once you're done, just register the <code>RolesAllowedDynamicFeature</code> with the application. Or just annotate it with <code>@Provider</code> to be scanned for.</p>\n<p>You will also need to make sure your authentication filter is annotated with <code>@Priority(Priorities.AUTHENTICATION)</code> so that it is called before the authorization filter, which is annotated with <code>@Priority(Priorities.AUTHORIZATION)</code>.</p>\n<hr />\n<h2>UPDATE</h2>\n<p>Here is a refactor of the the code I linked to, so It doesn't use an Jersey specific classes. The <code>AnnotatedMethod</code> is just changed to <code>Method</code>.</p>\n<pre><code>@Provider\npublic class RolesAllowedFeature implements DynamicFeature {\n\n    @Override\n    public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n        Method resourceMethod = resourceInfo.getResourceMethod();\n        \n        if (resourceMethod.isAnnotationPresent(DenyAll.class)) {\n            configuration.register(new RolesAllowedRequestFilter());\n            return;\n        }\n        \n        RolesAllowed ra = resourceMethod.getAnnotation(RolesAllowed.class);\n        if (ra != null) {\n            configuration.register(new RolesAllowedRequestFilter(ra.value()));\n            return;\n        }\n        \n        if (resourceMethod.isAnnotationPresent(PermitAll.class)) {\n            return;\n        }\n        \n        ra = resourceInfo.getResourceClass().getAnnotation(RolesAllowed.class);\n        if (ra != null) {\n             configuration.register(new RolesAllowedRequestFilter(ra.value()));\n        }\n    }\n\n    @Priority(Priorities.AUTHORIZATION) // authorization filter - should go after any authentication filters\n    private static class RolesAllowedRequestFilter implements ContainerRequestFilter {\n\n        private final boolean denyAll;\n        private final String[] rolesAllowed;\n\n        RolesAllowedRequestFilter() {\n            this.denyAll = true;\n            this.rolesAllowed = null;\n        }\n\n        RolesAllowedRequestFilter(final String[] rolesAllowed) {\n            this.denyAll = false;\n            this.rolesAllowed = (rolesAllowed != null) ? rolesAllowed : new String[]{};\n        }\n\n        @Override\n        public void filter(final ContainerRequestContext requestContext) throws IOException {\n            if (!denyAll) {\n                if (rolesAllowed.length &gt; 0 &amp;&amp; !isAuthenticated(requestContext)) {\n                    throw new ForbiddenException(&quot;Not Authorized&quot;);\n                }\n\n                for (final String role : rolesAllowed) {\n                    if (requestContext.getSecurityContext().isUserInRole(role)) {\n                        return;\n                    }\n                }\n            }\n\n            throw new ForbiddenException(&quot;Not Authorized&quot;);\n        }\n\n        private static boolean isAuthenticated(final ContainerRequestContext requestContext) {\n            return requestContext.getSecurityContext().getUserPrincipal() != null;\n        }\n    }\n}\n</code></pre>\n<p>First let me explain a bit about how the <code>DynamicFeature</code> works. For that let's first change the context of discussion to your current implementation of your <code>AuthenticationFilter</code>.</p>\n<p>Right now it is a filter that is processed for every request. But let's say we introduced a custom <code>@Authenticated</code> annotation</p>\n<pre><code>@Target({METHOD, TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Authenticated{}\n</code></pre>\n<p>We could use this annotation to annotate different methods and classes. To make it so that only the methods and classes annotated are filtered by the filter, we can introduce a <code>DynamicFeature</code> that checks for the annotation, then only register the filter when the annotation is found. For example</p>\n<pre><code>@Provider\npublic class AuthenticationDynamicFeature implements DynamicFeature {\n\n    @Override\n    public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n        if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)) {\n            configuration.register(new AuthenticationFilter());\n            return;\n        }\n        \n        if (resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n            configuration.register(new AuthenticationFilter());\n        }\n    } \n}\n</code></pre>\n<p>Once we register this <code>AuthenticationDynamicFeature</code> class, it will make it so that only methods and classes annotated with <code>@Authenticated</code> will be filtered.</p>\n<p>Alternatively, this can even be done <em>within</em> the filter. We can get a reference to the <code>ResourceInfo</code> from within the <code>AuthenticationFilter</code>. For example check for the annotation, if is not there, then move on.</p>\n<pre><code>@Provider\n@Priority(Priorities.AUTHENTICATION)\npublic class AuthenticationFilter implements ContainerRequestFilter {\n    \n    @Context\n    private ResourceInfo resourceInfo;\n\n    @Override\n    public void filter(ContainerRequestContext context) throws IOException {\n        \n        boolean hasAnnotation = false;\n        if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)\n                || resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n            hasAnnotation = true;\n        }\n        if (!hasAnnotation) return;\n        \n        // process authentication is annotation is present\n</code></pre>\n<p>This way we could completely forget about the <code>DynamicFeature</code>. It's better to just use the <code>DynamicFeature</code>, I was just giving an example for demonstration purposes.</p>\n<p>But that being said, if we look at the first block of code with the <code>RolesAllowedDynamicFeature</code>, you can better understand what is going on. It only registers the filter for methods and classes annotated with <code>@RolesAllowed</code> and <code>@DenyAll</code>. You could even refactor it to have all the annotation logic in the filter instead of the feature. You only have the filter. Just like I did with the <code>AuthenticationFilter</code> example above. Again this would be just for example purposes.</p>\n<p>Now as far as the registration of the <code>DynamicFeature</code>, it works the same way as registering any other resource class or provider class (e.g. your authentication filter). So however you register those, just register the <code>RolesAllowedDynamicFeature</code> the same way. There is scanning, where <code>@Path</code> and <code>@Provider</code> annotations are scanned for. If this is what you are current using, then just annotating the feature class with <code>@Provider</code> should register it. For example just having an empty <code>Application</code> subclass will cause scanning to happen</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class RestApplication extends Application {}\n</code></pre>\n<p>Then there is explicit registration in your <code>Application</code> subclass. For example</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class RestApplication extends Application {\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;&gt;();\n        classes.add(AuthenticationFilter.class);\n        classes.add(RolesAllowedFeature.class);\n        classes.add(SomeResource.class);\n        return classes;\n    }\n}\n</code></pre>\n<p>Note that when doing this, you disable any scanning that goes on.</p>\n<p>So a couple other things to make sure after all the above is clear it still isn't working.</p>\n<ol>\n<li><p>Make sure your current <code>AuthenticationFilter</code> is annotated with <code>@Priority(Priorities.AUTHENTICATION)</code>. This is to ensure that your authentication filter is called before the authorization filter. This needs to happen because the authentication filter is what sets the security context, and the authorization filter checks it.</p>\n</li>\n<li><p>Make sure you are creating the security context correctly. The authorization filter will call the <code>SecurityContext.isUserInRole(role)</code> passing in roles from the <code>@RolesAllowed</code> annotation. So you need to make sure to implements the <code>isUserInRole</code> correctly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3199627,"reputation":8485,"user_id":2701950,"accept_rate":74,"display_name":"Jadiel de Armas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3165,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":32484638,"answer_count":1,"score":1,"last_activity_date":1642664053,"creation_date":1441777834,"question_id":32471808,"body_markdown":"I want to do my own implementation of Bearer-only authentication in Wildfly.  In essence, I will do the following steps:\r\n\r\n1. When I receive a request, I will check if it has an Authorization header.\r\n\r\n2. I obtain the token and check against a database (in this case I will be using Redis) for the validity of it.\r\n\r\n3. I obtain the role for that user from the database.\r\n\r\n4. I want to be able to use the `@RolesAllowed` annotation on my rest services.\r\n\r\nHow do I go about it? How do I need to modify the Wildfly configuration files? What interfaces do I need to implement? How can I pass the role of the user to the security context so that Wildfly does the `@RolesAllowed` check for me?\r\n\r\nIf answering, consider that I am an experienced Java Programmer, but new to Wildfly, so you can skip details on programming logic but not on Wildfly configuration.  Also in your answer don&#39;t worry on how the token got to Redis in the first place, or how the client obtained it.\r\n\r\n**EDIT**\r\n\r\nThis is what I have done, but with no luck yet.  I have implemented an `AuthenticationFilter` that implements `ContainerRequestFilter`.  (I am including below only the main filter function that I have implemented.  Note that there are some helper functions that get the roles from the database that are not included).  Even when, at the end of the function I set the security context of the request context with the user profile (which contains the role), I cannot get to work the `@RolesAllowed` annotations on my JAX-RS rest services.  Any pointers on what should I do? \r\n\r\nNote: I have not modified any Wildfly configuration files or the web.xml file.  I know that the filter is being called for every request because I am able to LOG messages from it on every request.\r\n\r\n\t/** \r\n\t * (non-Javadoc)\r\n\t * @see javax.ws.rs.container.ContainerRequestFilter#filter(javax.ws.rs.container.ContainerRequestContext)\r\n\t */\r\n\t@Override\r\n\tpublic void filter(ContainerRequestContext requestContext) {\r\n\t\t\r\n\t\t//1. Read the JSON web token from the header\r\n\t\tString authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\r\n\t\tif (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\trequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tString token = authorizationHeader.substring(&quot;Bearer&quot;.length()).trim();\r\n\t\t\r\n\t\ttry{\r\n\t\t\t//Note that if the token is not in the database,\r\n\t\t\t//an exception will be thrown and we abort.\r\n\t\t\r\n\t\t\tUserProfile userProfile = this.getUserProfile(token);\r\n\t\t\r\n\t\t\tif (null == userProfile){\r\n\t\t\t\tuserProfile = this.decodeToken(token);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\tif (null == userProfile){\r\n\t\t\t\tthrow new Exception();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\tString role = userProfile.getUserRole();\r\n\t\t\tif (null == role){\r\n\t\t\t\trole = this.getRoleFromMod(userProfile);\r\n\t\t\t\tif (null == role){\r\n\t\t\t\t\trole = RoleType.READ_ONLY;\r\n\t\t\t\t}\r\n\t\t\t\tuserProfile.setUserRole(role);\r\n\t\t\t\tthis.updateUserProfileForToken(token, userProfile);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuserProfile.setUserRole(role);\r\n\t\t\t\t\r\n\t\t\t//5. Create a security context class that implements the crazy interface \r\n\t\t\t//and set it here.\r\n\t\t\trequestContext.setSecurityContext(new ModSecurityContext(userProfile));\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\trequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n\t\t}\r\n\t}","title":"Bearer only authentication in Wildfly without using Keycloak","body":"<p>I want to do my own implementation of Bearer-only authentication in Wildfly.  In essence, I will do the following steps:</p>\n\n<ol>\n<li><p>When I receive a request, I will check if it has an Authorization header.</p></li>\n<li><p>I obtain the token and check against a database (in this case I will be using Redis) for the validity of it.</p></li>\n<li><p>I obtain the role for that user from the database.</p></li>\n<li><p>I want to be able to use the <code>@RolesAllowed</code> annotation on my rest services.</p></li>\n</ol>\n\n<p>How do I go about it? How do I need to modify the Wildfly configuration files? What interfaces do I need to implement? How can I pass the role of the user to the security context so that Wildfly does the <code>@RolesAllowed</code> check for me?</p>\n\n<p>If answering, consider that I am an experienced Java Programmer, but new to Wildfly, so you can skip details on programming logic but not on Wildfly configuration.  Also in your answer don't worry on how the token got to Redis in the first place, or how the client obtained it.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is what I have done, but with no luck yet.  I have implemented an <code>AuthenticationFilter</code> that implements <code>ContainerRequestFilter</code>.  (I am including below only the main filter function that I have implemented.  Note that there are some helper functions that get the roles from the database that are not included).  Even when, at the end of the function I set the security context of the request context with the user profile (which contains the role), I cannot get to work the <code>@RolesAllowed</code> annotations on my JAX-RS rest services.  Any pointers on what should I do? </p>\n\n<p>Note: I have not modified any Wildfly configuration files or the web.xml file.  I know that the filter is being called for every request because I am able to LOG messages from it on every request.</p>\n\n<pre><code>/** \n * (non-Javadoc)\n * @see javax.ws.rs.container.ContainerRequestFilter#filter(javax.ws.rs.container.ContainerRequestContext)\n */\n@Override\npublic void filter(ContainerRequestContext requestContext) {\n\n    //1. Read the JSON web token from the header\n    String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\n    if (authorizationHeader == null || !authorizationHeader.startsWith(\"Bearer \")) {\n        requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n        return;\n    }\n\n    String token = authorizationHeader.substring(\"Bearer\".length()).trim();\n\n    try{\n        //Note that if the token is not in the database,\n        //an exception will be thrown and we abort.\n\n        UserProfile userProfile = this.getUserProfile(token);\n\n        if (null == userProfile){\n            userProfile = this.decodeToken(token);\n        }\n\n\n        if (null == userProfile){\n            throw new Exception();\n        }\n\n\n        String role = userProfile.getUserRole();\n        if (null == role){\n            role = this.getRoleFromMod(userProfile);\n            if (null == role){\n                role = RoleType.READ_ONLY;\n            }\n            userProfile.setUserRole(role);\n            this.updateUserProfileForToken(token, userProfile);\n\n        }\n\n        userProfile.setUserRole(role);\n\n        //5. Create a security context class that implements the crazy interface \n        //and set it here.\n        requestContext.setSecurityContext(new ModSecurityContext(userProfile));\n\n    }\n    catch(Exception e){\n        requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","formatter"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1639744567,"post_id":70393083,"comment_id":124433118,"body_markdown":"no, that would be not good.... (you have to do it yourself! separate the string `&quot; + &quot;` (then eclipse will format(within these bounds)) or use &quot;recent jdk features&quot;(multi-line ..but i don&#39;t have exp. how mature eclipse is with these) `&quot;&quot;&quot;`)","body":"no, that would be not good.... (you have to do it yourself! separate the string <code>&quot; + &quot;</code> (then eclipse will format(within these bounds)) or use &quot;recent jdk features&quot;(multi-line ..but i don&#39;t have exp. how mature eclipse is with these) <code>&quot;&quot;&quot;</code>)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1642664884,"post_id":70393083,"comment_id":125132414,"body_markdown":"literal strings should never be separated automatically (e.g. you search for it and would not find it), but Eclipse helps breaking the long literals, just type return inside the string, `&quot; + &quot;` and line break will be inserted - the second case should be working if  Formatter (Java Code Style -&gt; Formatter) with correct settings is used. (@xen `&quot;&quot;&quot;` would not help, it inclludes the line breaks into the literal)","body":"literal strings should never be separated automatically (e.g. you search for it and would not find it), but Eclipse helps breaking the long literals, just type return inside the string, <code>&quot; + &quot;</code> and line break will be inserted - the second case should be working if  Formatter (Java Code Style -&gt; Formatter) with correct settings is used. (@xen <code>&quot;&quot;&quot;</code> would not help, it inclludes the line breaks into the literal)"}],"owner":{"account_id":200794,"reputation":549,"user_id":446842,"display_name":"Shorty123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642663747,"creation_date":1639743652,"question_id":70393083,"body_markdown":"In my eclipse formatter i set the eclipse max line width to 140 unfortunately that does not count for  something like this where the given text width is longer than 140:\r\n\r\n```java\r\nassertThat(rte.getMessage(),\r\n                is(&quot;lorem ypsum sfdasdasd asdasdh asfpojkasgkl asdfjkhklasg asdjklhagjklhag asdjklhasdjkf asghjkahghjkag asghjkajkhag asghjkahgjkhagjkl asgjklhagjkhajkg aghjkhadgjklhalkg asdgjklhagjklhagl asdgjklhasjklhjklag asgjkhaksjhjkag&quot;));\r\n```\r\n\r\nAnother problem occurs in lines like this:\r\n\r\n```java\r\nprivate void test(final String something, final boolean something2, final Path something3, final boolean something4)throws IOException,JDOMException                                                                                                                   \r\n```                                                         \r\n\r\nIs there a possibility to let eclipse also format this?","title":"Eclipse code formatting: Line width ignored for some situations","body":"<p>In my eclipse formatter i set the eclipse max line width to 140 unfortunately that does not count for  something like this where the given text width is longer than 140:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(rte.getMessage(),\n                is(&quot;lorem ypsum sfdasdasd asdasdh asfpojkasgkl asdfjkhklasg asdjklhagjklhag asdjklhasdjkf asghjkahghjkag asghjkajkhag asghjkahgjkhagjkl asgjklhagjkhajkg aghjkhadgjklhalkg asdgjklhagjklhagl asdgjklhasjklhjklag asgjkhaksjhjkag&quot;));\n</code></pre>\n<p>Another problem occurs in lines like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void test(final String something, final boolean something2, final Path something3, final boolean something4)throws IOException,JDOMException                                                                                                                   \n</code></pre>\n<p>Is there a possibility to let eclipse also format this?</p>\n"},{"tags":["java","python","ruby","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":8975,"reputation":6356,"user_id":16399,"accept_rate":92,"display_name":"sk."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1231887083,"creation_date":1231869848,"answer_id":440086,"question_id":440036,"body_markdown":"The basic principles of concurrent programming existed before java and were summarized in those java books you&#39;re talking about. The java.util.concurrent library was similarly derived from previous code and research papers on concurrent programming.\r\n\r\nHowever, some implementation issues are specific to Java. It has a specified memory model, and the concurrent utilities in Java are tailored to the specifics of that. With some modification those can be ported to other languages/environments with different memory model characteristics.\r\n\r\nSo, you might need a book to teach you the canonical usage of the concurrency tools in other languages but it wouldn&#39;t be reinventing the wheel.","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>The basic principles of concurrent programming existed before java and were summarized in those java books you're talking about. The java.util.concurrent library was similarly derived from previous code and research papers on concurrent programming.</p>\n\n<p>However, some implementation issues are specific to Java. It has a specified memory model, and the concurrent utilities in Java are tailored to the specifics of that. With some modification those can be ported to other languages/environments with different memory model characteristics.</p>\n\n<p>So, you might need a book to teach you the canonical usage of the concurrency tools in other languages but it wouldn't be reinventing the wheel.</p>\n"},{"tags":[],"owner":{"account_id":7495,"reputation":103710,"user_id":13055,"accept_rate":68,"display_name":"Parand"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1231921709,"creation_date":1231920765,"answer_id":442252,"question_id":440036,"body_markdown":"Keep in mind that threads are just one of several possible models for dealing with &quot;concurrency&quot;. Python, for example, has one of the most advanced asynchronous (event based) non-threaded models in [Twisted][1]. Non-blocking models are quite powerful and are used as alternatives to threads in most of the highest scaling apps out there (eg. nginx, lighttpd). \r\n\r\nYour assumption that other popular languages need threads may simply be a symptom of a java centric (and hence thread-centric) world view. Take a look at the [C10K][2] page for a slightly dated but highly informative look at several models for how to handle large volumes of concurrent requests.\r\n\r\n\r\n  [1]: http://twistedmatrix.com/trac/\r\n  [2]: http://www.kegel.com/c10k.html","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>Keep in mind that threads are just one of several possible models for dealing with \"concurrency\". Python, for example, has one of the most advanced asynchronous (event based) non-threaded models in <a href=\"http://twistedmatrix.com/trac/\" rel=\"nofollow noreferrer\">Twisted</a>. Non-blocking models are quite powerful and are used as alternatives to threads in most of the highest scaling apps out there (eg. nginx, lighttpd). </p>\n\n<p>Your assumption that other popular languages need threads may simply be a symptom of a java centric (and hence thread-centric) world view. Take a look at the <a href=\"http://www.kegel.com/c10k.html\" rel=\"nofollow noreferrer\">C10K</a> page for a slightly dated but highly informative look at several models for how to handle large volumes of concurrent requests.</p>\n"},{"tags":[],"owner":{"account_id":15292,"reputation":22433,"user_id":32136,"accept_rate":66,"display_name":"philsquared"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231922854,"creation_date":1231922854,"answer_id":442312,"question_id":440036,"body_markdown":"This is not flame bait, but IMHO Java has one of the simpler and more restricted models for threading and concurrency available.\r\nThat&#39;s not necessarily a bad thing, but at the level of granularity it offers it means that the perspective it gives you of what concurrency is and how to deal with it is inherently limited if you have a &quot;java centric&quot; view (as someone else put it).\r\n\r\nIf you&#39;re serious about concurrency, then it&#39;s worth exploring other languages precisely *because* different models and idioms exist.\r\n\r\nSome of the hottest areas are lock-free programming (you&#39;ll see a lot of it, but often done badly, in C++) and functional programming (which has been around for a while but arguably, is becoming increasingly relevant. A prime example in the case of concurrency is probably Erlang).","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>This is not flame bait, but IMHO Java has one of the simpler and more restricted models for threading and concurrency available.\nThat's not necessarily a bad thing, but at the level of granularity it offers it means that the perspective it gives you of what concurrency is and how to deal with it is inherently limited if you have a \"java centric\" view (as someone else put it).</p>\n\n<p>If you're serious about concurrency, then it's worth exploring other languages precisely <em>because</em> different models and idioms exist.</p>\n\n<p>Some of the hottest areas are lock-free programming (you'll see a lot of it, but often done badly, in C++) and functional programming (which has been around for a while but arguably, is becoming increasingly relevant. A prime example in the case of concurrency is probably Erlang).</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232487661,"creation_date":1232487661,"answer_id":463249,"question_id":440036,"body_markdown":"I think the answer is both yes and no.  Java arguably has the most well-defined memory model and execution semantics of the most commonly used imperative languages (Java, C++, Python, Ruby, etc).  In some sense, other languages either lack this completely or are playing catch-up (if that&#39;s even possible given the immaturity of the threading models).  \r\n\r\nC++ is probably the notable exception - it has been treading the same ground for C++0x and has possibly gone beyond the current state of the Java model from my impression.\r\n\r\nI say no because the communities are not isolated.  Many of the guys working on this stuff are involved (at least from a guidance point of view, if not from a direct hand in the specs) in more than one language.  So, there is a lot of crosstalk between guys working on JMM and guys working on C++0x specs as they are essentially solving the same problems with many of the same underlying drivers (from the hardware guys at the bottom and the users at the top).  And I&#39;m pretty sure there is cross-talk at some level between the JVM / CLR camps as well.  \r\n\r\nAs others have mentioned, there are also other models for concurrency:  actors in Erlang and Scala, agents/STM in Clojure, FP&#39;s rise in F#, Scala, Haskell, the CCR and PLINQ stuff in CLR land, etc.  It&#39;s an exciting time right now!  We can use as many concurrency experts as we can find I think.... :)\r\n","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>I think the answer is both yes and no.  Java arguably has the most well-defined memory model and execution semantics of the most commonly used imperative languages (Java, C++, Python, Ruby, etc).  In some sense, other languages either lack this completely or are playing catch-up (if that's even possible given the immaturity of the threading models).  </p>\n\n<p>C++ is probably the notable exception - it has been treading the same ground for C++0x and has possibly gone beyond the current state of the Java model from my impression.</p>\n\n<p>I say no because the communities are not isolated.  Many of the guys working on this stuff are involved (at least from a guidance point of view, if not from a direct hand in the specs) in more than one language.  So, there is a lot of crosstalk between guys working on JMM and guys working on C++0x specs as they are essentially solving the same problems with many of the same underlying drivers (from the hardware guys at the bottom and the users at the top).  And I'm pretty sure there is cross-talk at some level between the JVM / CLR camps as well.  </p>\n\n<p>As others have mentioned, there are also other models for concurrency:  actors in Erlang and Scala, agents/STM in Clojure, FP's rise in F#, Scala, Haskell, the CCR and PLINQ stuff in CLR land, etc.  It's an exciting time right now!  We can use as many concurrency experts as we can find I think.... :)</p>\n"},{"tags":[],"owner":{"account_id":40118,"reputation":634,"user_id":116112,"display_name":"Michael Sparks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642663444,"creation_date":1264011345,"answer_id":2103804,"question_id":440036,"body_markdown":"[Kamaelia][1] is a project (which I started, and continue to work on) that has specifically the goal of making concurrency a tool you want to use, rather than a pain to use. In practical terms this means that it is primarily a shared-nothing model with message passing model (based on a world view from Occam &amp; Unix pipes).\r\n\r\nUnderlying that goal is a desire to make concurrency easy to use for the average developer, shielding them from the nastier problems caused by a number of approaches to concurrency. (There&#39;s a bunch of presentations on slideshare explaining the why &amp; how there)\r\n\r\nAdditionally it provides a simple software transactional memory model for the situations where you must share data, and uses a deliberately simple API.\r\n\r\nKamaelia&#39;s primary implementation is in python, with a toy implementation in Ruby &amp; C++. Someone else has ported the underlying approach to E and also to Java. (though the Java person has disappeared) (The toy implementations are sanity checks the ideas can work in other languages, if needing to be recast as local idioms)\r\n\r\nPerhaps your question shouldn&#39;t be &quot;what can these languages learn&quot;, but &quot;what can the Java community learn by looking elsewhere?&quot;. Many people who learn python are liguistically immigrants from elsewhere and bring their knowledge of other languages with them, and so from where I sit it looks like python already looks out to other languages for inspiration.\r\n\r\nPicking something concrete, for example, [this speak and write application][2] - which is a tool for teaching a small child to read and write, based around pen input, handwriting recognition, and speech synth - uses several dozen concurrent subsystems, runs at an acceptable speed on a single core machine, would be easily amenable to running on a many-core machine. However, the reason for the number of concurrent subsystems however has nothing to do with &quot;wanting to make the application parallel&quot;, but more to do with &quot;How can I make the application easier to write, extend and maintain?&quot;. **The fact it ends up embarassingly parallel is a secondary bonus.**\r\n\r\nThere&#39;s a full tutorial - [Pragmatic Concurrency][3] - linked from the front page. (Notes, slides, video &amp; code bundle)\r\n\r\nThe model can be improved, and suggestions are welcome - life would be very boring if we all just &quot;stopped&quot; trying to make better tools - but ignoring what already exists seems a little ... parochial. If that seems a little harsh, please look at [today&#39;s dilbert][4].\r\n\r\n  [1]: http://www.kamaelia.org/Home\r\n  [2]: http://www.kamaelia.org/SpeakAndWrite\r\n  [3]: http://www.kamaelia.org/PragmaticConcurrency\r\n  [4]: http://www.dilbert.com/fast/2010-01-20/\r\n","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p><a href=\"http://www.kamaelia.org/Home\" rel=\"nofollow noreferrer\">Kamaelia</a> is a project (which I started, and continue to work on) that has specifically the goal of making concurrency a tool you want to use, rather than a pain to use. In practical terms this means that it is primarily a shared-nothing model with message passing model (based on a world view from Occam &amp; Unix pipes).</p>\n<p>Underlying that goal is a desire to make concurrency easy to use for the average developer, shielding them from the nastier problems caused by a number of approaches to concurrency. (There's a bunch of presentations on slideshare explaining the why &amp; how there)</p>\n<p>Additionally it provides a simple software transactional memory model for the situations where you must share data, and uses a deliberately simple API.</p>\n<p>Kamaelia's primary implementation is in python, with a toy implementation in Ruby &amp; C++. Someone else has ported the underlying approach to E and also to Java. (though the Java person has disappeared) (The toy implementations are sanity checks the ideas can work in other languages, if needing to be recast as local idioms)</p>\n<p>Perhaps your question shouldn't be &quot;what can these languages learn&quot;, but &quot;what can the Java community learn by looking elsewhere?&quot;. Many people who learn python are liguistically immigrants from elsewhere and bring their knowledge of other languages with them, and so from where I sit it looks like python already looks out to other languages for inspiration.</p>\n<p>Picking something concrete, for example, <a href=\"http://www.kamaelia.org/SpeakAndWrite\" rel=\"nofollow noreferrer\">this speak and write application</a> - which is a tool for teaching a small child to read and write, based around pen input, handwriting recognition, and speech synth - uses several dozen concurrent subsystems, runs at an acceptable speed on a single core machine, would be easily amenable to running on a many-core machine. However, the reason for the number of concurrent subsystems however has nothing to do with &quot;wanting to make the application parallel&quot;, but more to do with &quot;How can I make the application easier to write, extend and maintain?&quot;. <strong>The fact it ends up embarassingly parallel is a secondary bonus.</strong></p>\n<p>There's a full tutorial - <a href=\"http://www.kamaelia.org/PragmaticConcurrency\" rel=\"nofollow noreferrer\">Pragmatic Concurrency</a> - linked from the front page. (Notes, slides, video &amp; code bundle)</p>\n<p>The model can be improved, and suggestions are welcome - life would be very boring if we all just &quot;stopped&quot; trying to make better tools - but ignoring what already exists seems a little ... parochial. If that seems a little harsh, please look at <a href=\"http://www.dilbert.com/fast/2010-01-20/\" rel=\"nofollow noreferrer\">today's dilbert</a>.</p>\n"}],"owner":{"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1642663444,"creation_date":1231869162,"question_id":440036,"body_markdown":"I am primarily a Java developer, and I&#39;ve been reading a lot of in-depth work on threads and concurrency.  Many very smart people (Doug Lea, Brian Goetz, etc) have authored books on these topics and made contributions to new concurrency libraries for Java.\r\n\r\nAs I start to learn more about Python, Ruby, and other languages, I&#39;m wondering: does all of that work have to be re-created for these languages?\r\n\r\nWill there be, or does there need to be, a &quot;Doug Lea of Python,&quot; or a &quot;Brian Goetz of Ruby,&quot; who make similarly powerful contributions to the concurrency features of those languages?  \r\n\r\n&lt;b&gt;Does all of this concurrency work done in Java have to be re-created for future languages?&lt;/b&gt;  Or will the work done in Java establish lessons and guidance for future languages?","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>I am primarily a Java developer, and I've been reading a lot of in-depth work on threads and concurrency.  Many very smart people (Doug Lea, Brian Goetz, etc) have authored books on these topics and made contributions to new concurrency libraries for Java.</p>\n\n<p>As I start to learn more about Python, Ruby, and other languages, I'm wondering: does all of that work have to be re-created for these languages?</p>\n\n<p>Will there be, or does there need to be, a \"Doug Lea of Python,\" or a \"Brian Goetz of Ruby,\" who make similarly powerful contributions to the concurrency features of those languages?  </p>\n\n<p><b>Does all of this concurrency work done in Java have to be re-created for future languages?</b>  Or will the work done in Java establish lessons and guidance for future languages?</p>\n"},{"tags":["java","file","bufferedreader","filereader"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1642657602,"post_id":70781328,"comment_id":125130542,"body_markdown":"You need to edit your question and add the code you want help with.","body":"You need to edit your question and add the code you want help with."},{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":0,"creation_date":1642658460,"post_id":70781328,"comment_id":125130723,"body_markdown":"@tgdavies Updated the question with code","body":"@tgdavies Updated the question with code"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642661135,"post_id":70781328,"comment_id":125131305,"body_markdown":"Do you mean that the file ends with two newline characters after &quot;Text: Hi&quot;? Or just one newline with nothing following it at all? If it&#39;s the latter, then this is working as expected, and your program will need to accomodate this.","body":"Do you mean that the file ends with two newline characters after &quot;Text: Hi&quot;? Or just one newline with nothing following it at all? If it&#39;s the latter, then this is working as expected, and your program will need to accomodate this."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642662469,"creation_date":1642661420,"answer_id":70781855,"question_id":70781328,"body_markdown":"The code is working the way it is supposed to. The last (empty) line is the end of file (EOF). A valid line is terminated by a carriage return and line feed. Line #3 is read because of this.  I included an image of your file showing the text and symbols (used Notepad++ for this)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I add another blank line at the end, notice how the previous blank line is now terminated.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI modified your code slightly to run this scenario\r\n\r\n```\r\n\tpublic static void main (String[] args) throws IOException {\r\n\t\tFile file = new File(&quot;emptyline.txt&quot;);\r\n\t\tFileReader fr = new FileReader(file);\r\n\t\tBufferedReader br = new BufferedReader(fr);\r\n\t\tString line;\r\n\t\tint linenum = 1;\r\n\t\twhile ( (line = br.readLine()) != null) {\r\n\t\t\tSystem.out.println(&quot;Line &quot; + (linenum++) + &quot;: &quot; + line);\r\n\t\t}\r\n\t\tbr.close();\r\n\t}\r\n```\r\nWhen I run the code with two blank lines at the end, this is the result:\r\n```\r\nLine 1: Name: John\r\nLine 2: Text: Hello\r\nLine 3: \r\nLine 4: Name: Adam\r\nLine 5: Text: Hi\r\nLine 6: \r\n```\r\nIf you have software that validates this file based on data being structured this way, I am not sure what to say. That seems a bad way to validate a file. There are more effective ways to do this, like using checksum. Maybe if you try with two empty lines at the end, the validator will accept it as a correct format.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HCudd.png\r\n  [2]: https://i.stack.imgur.com/Tx3Hc.png","title":"BufferedReader in Java is skipping the last empty line in file","body":"<p>The code is working the way it is supposed to. The last (empty) line is the end of file (EOF). A valid line is terminated by a carriage return and line feed. Line #3 is read because of this.  I included an image of your file showing the text and symbols (used Notepad++ for this)</p>\n<p><a href=\"https://i.stack.imgur.com/HCudd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCudd.png\" alt=\"enter image description here\" /></a></p>\n<p>If I add another blank line at the end, notice how the previous blank line is now terminated.</p>\n<p><a href=\"https://i.stack.imgur.com/Tx3Hc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tx3Hc.png\" alt=\"enter image description here\" /></a></p>\n<p>I modified your code slightly to run this scenario</p>\n<pre><code>    public static void main (String[] args) throws IOException {\n        File file = new File(&quot;emptyline.txt&quot;);\n        FileReader fr = new FileReader(file);\n        BufferedReader br = new BufferedReader(fr);\n        String line;\n        int linenum = 1;\n        while ( (line = br.readLine()) != null) {\n            System.out.println(&quot;Line &quot; + (linenum++) + &quot;: &quot; + line);\n        }\n        br.close();\n    }\n</code></pre>\n<p>When I run the code with two blank lines at the end, this is the result:</p>\n<pre><code>Line 1: Name: John\nLine 2: Text: Hello\nLine 3: \nLine 4: Name: Adam\nLine 5: Text: Hi\nLine 6: \n</code></pre>\n<p>If you have software that validates this file based on data being structured this way, I am not sure what to say. That seems a bad way to validate a file. There are more effective ways to do this, like using checksum. Maybe if you try with two empty lines at the end, the validator will accept it as a correct format.</p>\n"}],"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70781855,"answer_count":1,"score":1,"last_activity_date":1642662469,"creation_date":1642657496,"question_id":70781328,"body_markdown":"I have a file in following format:\r\n\r\nName: John &lt;br&gt;\r\nText: Hello &lt;br&gt;\r\n--empty line--  Buffered Reader is reading this.&lt;br&gt;\r\nName: Adam &lt;br&gt;\r\nText: Hi &lt;br&gt;\r\n--empty line-- Buffered Reader is skipping this line.&lt;br&gt;\r\n\r\nI tried multiple ways to read the last empty line but its not working. Any suggestions?\r\nI have a program which validates that the message is in correct format or not.\r\nFor the correct format there should be three lines first with name followed by text and empty line.\r\nAs the last empty line is not read by the BufferedReader, my program always says that the message is in wrong format.\r\n\r\nSample Code I am using:\r\n```\r\nFile file = new File(absolutePath);\r\nFileReader fr = new FileReader(file);\r\nBufferedReader br = new BufferedReader(fr);\r\nString line;\r\nwhile ((line = br.readLine()) != null) {\r\n    process(line);\r\n}\r\n```","title":"BufferedReader in Java is skipping the last empty line in file","body":"<p>I have a file in following format:</p>\n<p>Name: John <br>\nText: Hello <br>\n--empty line--  Buffered Reader is reading this.<br>\nName: Adam <br>\nText: Hi <br>\n--empty line-- Buffered Reader is skipping this line.<br></p>\n<p>I tried multiple ways to read the last empty line but its not working. Any suggestions?\nI have a program which validates that the message is in correct format or not.\nFor the correct format there should be three lines first with name followed by text and empty line.\nAs the last empty line is not read by the BufferedReader, my program always says that the message is in wrong format.</p>\n<p>Sample Code I am using:</p>\n<pre><code>File file = new File(absolutePath);\nFileReader fr = new FileReader(file);\nBufferedReader br = new BufferedReader(fr);\nString line;\nwhile ((line = br.readLine()) != null) {\n    process(line);\n}\n</code></pre>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642663153,"post_id":70781976,"comment_id":125131855,"body_markdown":"Note that your Java code would just build the DOM tree which doesn&#39;t have any notion of &quot;line&quot; or &quot;linebreak&quot;. What you&#39;re refering to is the formatting of the DOM tree into text and you didn&#39;t show anything related to that. Also, if you notice a difference between machines then make sure that both are running the exact same version of the application and check what the differences are between the environments (e.g. different Java versions or library versions). That should provide you a starting point to find the reason for the difference in results.","body":"Note that your Java code would just build the DOM tree which doesn&#39;t have any notion of &quot;line&quot; or &quot;linebreak&quot;. What you&#39;re refering to is the formatting of the DOM tree into text and you didn&#39;t show anything related to that. Also, if you notice a difference between machines then make sure that both are running the exact same version of the application and check what the differences are between the environments (e.g. different Java versions or library versions). That should provide you a starting point to find the reason for the difference in results."},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1642663253,"post_id":70781976,"comment_id":125131902,"body_markdown":"would you possibly let me know how to add new line in java code every time we add new tag to xml","body":"would you possibly let me know how to add new line in java code every time we add new tag to xml"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642663319,"post_id":70781976,"comment_id":125131915,"body_markdown":"As I said, your code doesn&#39;t directly change any XML _text_ and a DOM neither knows nor cares about &quot;new line&quot;. Adding new tags in text only would not be a good idea so what you need to look into is the marshalling process which converts the DOM tree to text. Look for an option to have the marshaller pretty print the XML text which should result in line breaks and nice indentation.","body":"As I said, your code doesn&#39;t directly change any XML <i>text</i> and a DOM neither knows nor cares about &quot;new line&quot;. Adding new tags in text only would not be a good idea so what you need to look into is the marshalling process which converts the DOM tree to text. Look for an option to have the marshaller pretty print the XML text which should result in line breaks and nice indentation."},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1643101597,"post_id":70781976,"comment_id":125244196,"body_markdown":"I figured a way to resolve this. Post updating the code to have proper indentation, now the updated xml has the desired result.","body":"I figured a way to resolve this. Post updating the code to have proper indentation, now the updated xml has the desired result."}],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642662202,"creation_date":1642662202,"question_id":70781976,"body_markdown":"I have been trying to update the existing XML file by adding new multiple tags. For ex as shown below in the snippet, it works perfectly in local server wherein the same solution doesn&#39;t yield the required result in another server. here I am trying to add TestTag3 and TestTag4 to existing xml. \r\n\r\nLocal server result: This is the expected one and it is working as expected in local\r\n\r\n    &lt;process id=&quot;test&quot;&gt;\r\n    \t\t&lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\r\n    \t\t&lt;TestTag2&gt;value2&lt;/TestTag2&gt;\r\n    \t\t&lt;TestTag3&gt;YES&lt;/TestTag3&gt;\r\n    \t\t&lt;TestTag4&gt;Value4&lt;/TestTag4&gt;\r\n    &lt;/process&gt;\r\n\r\nAnother server result: it should update in new line for every added new tags\r\n\r\n    &lt;process id=&quot;test&quot;&gt;\r\n    \t\t&lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\r\n    \t\t&lt;TestTag2&gt;value2&lt;/TestTag2&gt;\r\n    \t&lt;TestTag3&gt;YES&lt;/TestTag3&gt;&lt;TestTag4&gt;Value4&lt;/TestTag4&gt;&lt;/process&gt;\r\n\r\n\r\nJava code:\r\n\r\n    private boolean addNewTag(Node node, String tagName, String tagValue, Document document) {\t\r\n    \t    Element ele = document.createElement(tagName);\r\n    \t    if(tagValue!=null){\r\n    \t\t    ele.appendChild(document.createTextNode(tagValue));\r\n    \t\t    node.appendChild(ele);\r\n    \t\t    return true;\r\n    \t    }else{\r\n    \t\t    ele.appendChild(document.createTextNode(&quot;&quot;));\r\n    \t\t    node.appendChild(ele);\r\n    \t\t    return true;\r\n        \t}\r\n        }\r\n\r\n","title":"Adding new tags to existing xml file results in adding tags in single line using DOM in Java","body":"<p>I have been trying to update the existing XML file by adding new multiple tags. For ex as shown below in the snippet, it works perfectly in local server wherein the same solution doesn't yield the required result in another server. here I am trying to add TestTag3 and TestTag4 to existing xml.</p>\n<p>Local server result: This is the expected one and it is working as expected in local</p>\n<pre><code>&lt;process id=&quot;test&quot;&gt;\n        &lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\n        &lt;TestTag2&gt;value2&lt;/TestTag2&gt;\n        &lt;TestTag3&gt;YES&lt;/TestTag3&gt;\n        &lt;TestTag4&gt;Value4&lt;/TestTag4&gt;\n&lt;/process&gt;\n</code></pre>\n<p>Another server result: it should update in new line for every added new tags</p>\n<pre><code>&lt;process id=&quot;test&quot;&gt;\n        &lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\n        &lt;TestTag2&gt;value2&lt;/TestTag2&gt;\n    &lt;TestTag3&gt;YES&lt;/TestTag3&gt;&lt;TestTag4&gt;Value4&lt;/TestTag4&gt;&lt;/process&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>private boolean addNewTag(Node node, String tagName, String tagValue, Document document) {  \n        Element ele = document.createElement(tagName);\n        if(tagValue!=null){\n            ele.appendChild(document.createTextNode(tagValue));\n            node.appendChild(ele);\n            return true;\n        }else{\n            ele.appendChild(document.createTextNode(&quot;&quot;));\n            node.appendChild(ele);\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-firefoxdriver","suppress-warnings","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1642661166,"creation_date":1642660851,"answer_id":70781778,"question_id":70781649,"body_markdown":"Be aware there are two classes named ProfilesIni\r\n\r\n    org.openqa.selenium.firefox.ProfilesIni\r\n    org.openqa.selenium.firefox.internal.ProfilesIni\r\n\r\nYou can suppress the warning on class:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public class YourClass {\r\n       ...\r\n    }\r\n\r\nor on method:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public void foo() {\r\n       ...\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public WebDriver startGeckoDriver() {\r\n       WebDriver driver = ...;\r\n       return driver;\r\n    }\r\n\r\nor on `myProfile`:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    ProfilesIni myProfile = new ProfilesIni();\r\n\r\nIn Eclipse you can add the annotation using the yellow warning icon:\r\n[![on class][1]][1]\r\n\r\n\r\n[![on method][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F1Gfi.png\r\n  [2]: https://i.stack.imgur.com/VwmYT.png","title":"How to fix a Deprecation Warning, Firefox ProfilesIni has been deprecated in java","body":"<p>Be aware there are two classes named ProfilesIni</p>\n<pre><code>org.openqa.selenium.firefox.ProfilesIni\norg.openqa.selenium.firefox.internal.ProfilesIni\n</code></pre>\n<p>You can suppress the warning on class:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\npublic class YourClass {\n   ...\n}\n</code></pre>\n<p>or on method:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\npublic void foo() {\n   ...\n}\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic WebDriver startGeckoDriver() {\n   WebDriver driver = ...;\n   return driver;\n}\n</code></pre>\n<p>or on <code>myProfile</code>:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\nProfilesIni myProfile = new ProfilesIni();\n</code></pre>\n<p>In Eclipse you can add the annotation using the yellow warning icon:\n<a href=\"https://i.stack.imgur.com/F1Gfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1Gfi.png\" alt=\"on class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VwmYT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VwmYT.png\" alt=\"on method\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642661709,"creation_date":1642661709,"answer_id":70781891,"question_id":70781649,"body_markdown":"Just use the newer class as mentioned in the [javadoc][1]:\r\n\r\n&gt; Deprecated.\r\n&gt; Use org.openqa.selenium.firefox.ProfilesIni instead.\r\n\r\nInstead of \r\n`org.openqa.selenium.firefox.internal.ProfilesIni`\r\nuse \r\n`org.openqa.selenium.firefox.ProfilesIni`.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.seleniumhq.selenium/selenium-firefox-driver/3.141.0/org/openqa/selenium/firefox/internal/ProfilesIni.html","title":"How to fix a Deprecation Warning, Firefox ProfilesIni has been deprecated in java","body":"<p>Just use the newer class as mentioned in the <a href=\"https://javadoc.io/doc/org.seleniumhq.selenium/selenium-firefox-driver/3.141.0/org/openqa/selenium/firefox/internal/ProfilesIni.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Deprecated.\nUse org.openqa.selenium.firefox.ProfilesIni instead.</p>\n</blockquote>\n<p>Instead of\n<code>org.openqa.selenium.firefox.internal.ProfilesIni</code>\nuse\n<code>org.openqa.selenium.firefox.ProfilesIni</code>.</p>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70781778,"answer_count":2,"score":2,"last_activity_date":1642661709,"creation_date":1642659902,"question_id":70781649,"body_markdown":"I want to use my custom Firefox profile and I&#39;m getting a **Deprecation Warning** on \r\n```\r\nProfilesIni myProfile = new ProfilesIni();\r\n```\r\n**@SuppressWarnings**. How do I fix this issue.\r\n```\r\nimport org.openqa.selenium.WebDriver;&#160;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.firefox.internal.ProfilesIni;\r\nimport org.openqa.selenium.firefox.FirefoxProfile;\r\n\r\n//System.setProperty(&quot;C:\\\\driver\\\\geckodriver.exe&quot;);\r\n\r\nProfilesIni myProfile = new ProfilesIni();\r\n\r\nFirefoxProfile test = myProfile.getProfile(&quot;selenium 1&quot;);\r\n\r\nWebDriver driver = new FirefoxDriver(test);\r\n\r\ndriver.manage().window().maximize();\r\n\r\ndriver.get(&quot;https://www.google.com&quot;);\r\n```","title":"How to fix a Deprecation Warning, Firefox ProfilesIni has been deprecated in java","body":"<p>I want to use my custom Firefox profile and I'm getting a <strong>Deprecation Warning</strong> on</p>\n<pre><code>ProfilesIni myProfile = new ProfilesIni();\n</code></pre>\n<p><strong>@SuppressWarnings</strong>. How do I fix this issue.</p>\n<pre><code>import org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.internal.ProfilesIni;\nimport org.openqa.selenium.firefox.FirefoxProfile;\n\n//System.setProperty(&quot;C:\\\\driver\\\\geckodriver.exe&quot;);\n\nProfilesIni myProfile = new ProfilesIni();\n\nFirefoxProfile test = myProfile.getProfile(&quot;selenium 1&quot;);\n\nWebDriver driver = new FirefoxDriver(test);\n\ndriver.manage().window().maximize();\n\ndriver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n"},{"tags":["java","jenkins","testng","jenkins-plugins"],"comments":[{"owner":{"account_id":332360,"reputation":843,"user_id":657619,"display_name":"patrungel"},"score":0,"creation_date":1369709964,"post_id":16782414,"comment_id":24183632,"body_markdown":"You are right about the plugin. How is your java project built? ant, maven, custom script? Tests normally run as a build phase. Also what are the build steps for jenkins?","body":"You are right about the plugin. How is your java project built? ant, maven, custom script? Tests normally run as a build phase. Also what are the build steps for jenkins?"},{"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"score":0,"creation_date":1369716691,"post_id":16782414,"comment_id":24185106,"body_markdown":"It&#39;s not built with ant, maven or scripts, it&#39;s a TestNG project from JBoss Developer Studio.  So I can run the tests from my own machine, but I want to run the same classes via Jenkins somehow.  I understand there is a way to run TestNG tests as Ant tasks, but I get classpath exceptions and am just confused in general about how to do this.","body":"It&#39;s not built with ant, maven or scripts, it&#39;s a TestNG project from JBoss Developer Studio.  So I can run the tests from my own machine, but I want to run the same classes via Jenkins somehow.  I understand there is a way to run TestNG tests as Ant tasks, but I get classpath exceptions and am just confused in general about how to do this."},{"owner":{"account_id":332360,"reputation":843,"user_id":657619,"display_name":"patrungel"},"score":0,"creation_date":1369749495,"post_id":16782414,"comment_id":24201560,"body_markdown":"Well, it&#39;s ant then and JBDS provides it with classpath setting when it runs tests, so should you, either by defining a classpath in the ant script or (better) passing it as an option. -Dtestng.test.classpath=&quot;c:/build;c:/java/classes;&quot; When you are able to run your tests with ant command, feed the same to jenkins.","body":"Well, it&#39;s ant then and JBDS provides it with classpath setting when it runs tests, so should you, either by defining a classpath in the ant script or (better) passing it as an option. -Dtestng.test.classpath=&quot;c:/build;c:/java/classes;&quot; When you are able to run your tests with ant command, feed the same to jenkins."},{"owner":{"account_id":263814,"reputation":2012,"user_id":549643,"accept_rate":96,"display_name":"Patton"},"score":0,"creation_date":1369888967,"post_id":16782414,"comment_id":24262167,"body_markdown":"@fuzzyanalysis I have never used jenkins but as it is a clone of Hudson I believe that there would be a way where you can run shell/batch/ant scripts. So as the first step in the process pls define the classpath i.e, place all your class files and necessary jars in the classpath and run the testNG tests from there.","body":"@fuzzyanalysis I have never used jenkins but as it is a clone of Hudson I believe that there would be a way where you can run shell/batch/ant scripts. So as the first step in the process pls define the classpath i.e, place all your class files and necessary jars in the classpath and run the testNG tests from there."},{"owner":{"account_id":3702943,"reputation":1484,"user_id":3082183,"accept_rate":18,"display_name":"Pankaj Kumar Katiyar"},"score":0,"creation_date":1443525027,"post_id":16782414,"comment_id":53519079,"body_markdown":"@fuzzyanalysis: I am also in a similar situation, I am able to execute my testNG tests, but not sure how to report test failures back to jenkins, in case you could do it, please let me know, any help is appreciated.","body":"@fuzzyanalysis: I am also in a similar situation, I am able to execute my testNG tests, but not sure how to report test failures back to jenkins, in case you could do it, please let me know, any help is appreciated."}],"answers":[{"tags":[],"owner":{"account_id":263814,"reputation":2012,"user_id":549643,"accept_rate":96,"display_name":"Patton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540910775,"creation_date":1369892685,"answer_id":16828802,"question_id":16782414,"body_markdown":"As commented above, please use the following ant script to run TestNG unit tests. Please tweak the below code to meet your requirements.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;Ant Play&quot;&gt;\r\n    \t&lt;property name=&quot;classes.dir&quot; value=&quot;bin&quot; /&gt;\r\n    \t&lt;property name=&quot;report.dir&quot; value=&quot;test-output&quot; /&gt;\r\n        &lt;path id=&quot;classpath&quot;&gt;\r\n            &lt;fileset dir=&quot;lib&quot;&gt;\r\n                &lt;include name=&quot;**/*.jar&quot;/&gt;\r\n             &lt;/fileset&gt;\r\n    \t\t&lt;pathelement path=&quot;${basedir}\\${classes.dir}&quot;/&gt;\r\n        &lt;/path&gt;\r\n        &lt;target name=&quot;init&quot;&gt;\r\n            &lt;mkdir dir=&quot;${classes.dir}&quot;/&gt;\r\n            &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;${classes.dir}&quot;&gt;\r\n                &lt;fileset dir=&quot;src&quot;&gt;\r\n                    &lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/copy&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;clean&quot;&gt;\r\n            &lt;delete dir=&quot;${classes.dir}&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target depends=&quot;clean&quot; name=&quot;cleanall&quot;/&gt;\r\n        &lt;target depends=&quot;build-project&quot; name=&quot;build&quot;/&gt;\r\n        &lt;target depends=&quot;init&quot; name=&quot;build-project&quot;&gt;\r\n            &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;\r\n            &lt;javac debug=&quot;true&quot; includeantruntime=&quot;false&quot; destdir=&quot;${classes.dir}&quot;&gt;\r\n                &lt;src path=&quot;src&quot;/&gt;\r\n                &lt;classpath refid=&quot;classpath&quot;/&gt;\r\n            &lt;/javac&gt;\r\n        &lt;/target&gt;\r\n    \t&lt;target  depends=&quot;build&quot; name=&quot;runTests&quot; description=&quot;Running tests&quot; &gt;\r\n    \t\t&lt;echo&gt;Running Tests...&lt;/echo&gt;\r\n    \t\t&lt;taskdef resource=&quot;testngtasks&quot; classpathref=&quot;classpath&quot;/&gt;\r\n    \t\t&lt;testng outputDir=&quot;${report.dir}&quot;\r\n    \t\t\thaltonfailure=&quot;true&quot;\r\n    \t\t\tuseDefaultListeners=&quot;false&quot;\r\n    \t\t\tlisteners=&quot;org.uncommons.reportng.HTMLReporter&quot;\r\n    \t\t\tclasspathref=&quot;classpath&quot;&gt;\r\n    \t\t\t&lt;xmlfileset dir=&quot;${basedir}&quot; includes=&quot;testng.xml&quot;/&gt;\r\n    \t\t\t&lt;!--&lt;classfileset dir=&quot;${classes.dir}&quot; includes=&quot;**/*.class&quot; /&gt;--&gt;\r\n    \t\t&lt;/testng&gt;\r\n    \t&lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nLet me know if you encounter any issues. BTW, please use the Jenkins ant plugin/task to run this script","title":"How to Run TestNG Tests on Jenkins","body":"<p>As commented above, please use the following ant script to run TestNG unit tests. Please tweak the below code to meet your requirements.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;project basedir=\".\" default=\"build\" name=\"Ant Play\"&gt;\n    &lt;property name=\"classes.dir\" value=\"bin\" /&gt;\n    &lt;property name=\"report.dir\" value=\"test-output\" /&gt;\n    &lt;path id=\"classpath\"&gt;\n        &lt;fileset dir=\"lib\"&gt;\n            &lt;include name=\"**/*.jar\"/&gt;\n         &lt;/fileset&gt;\n        &lt;pathelement path=\"${basedir}\\${classes.dir}\"/&gt;\n    &lt;/path&gt;\n    &lt;target name=\"init\"&gt;\n        &lt;mkdir dir=\"${classes.dir}\"/&gt;\n        &lt;copy includeemptydirs=\"false\" todir=\"${classes.dir}\"&gt;\n            &lt;fileset dir=\"src\"&gt;\n                &lt;exclude name=\"**/*.java\"/&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n    &lt;target name=\"clean\"&gt;\n        &lt;delete dir=\"${classes.dir}\"/&gt;\n    &lt;/target&gt;\n    &lt;target depends=\"clean\" name=\"cleanall\"/&gt;\n    &lt;target depends=\"build-project\" name=\"build\"/&gt;\n    &lt;target depends=\"init\" name=\"build-project\"&gt;\n        &lt;echo message=\"${ant.project.name}: ${ant.file}\"/&gt;\n        &lt;javac debug=\"true\" includeantruntime=\"false\" destdir=\"${classes.dir}\"&gt;\n            &lt;src path=\"src\"/&gt;\n            &lt;classpath refid=\"classpath\"/&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n    &lt;target  depends=\"build\" name=\"runTests\" description=\"Running tests\" &gt;\n        &lt;echo&gt;Running Tests...&lt;/echo&gt;\n        &lt;taskdef resource=\"testngtasks\" classpathref=\"classpath\"/&gt;\n        &lt;testng outputDir=\"${report.dir}\"\n            haltonfailure=\"true\"\n            useDefaultListeners=\"false\"\n            listeners=\"org.uncommons.reportng.HTMLReporter\"\n            classpathref=\"classpath\"&gt;\n            &lt;xmlfileset dir=\"${basedir}\" includes=\"testng.xml\"/&gt;\n            &lt;!--&lt;classfileset dir=\"${classes.dir}\" includes=\"**/*.class\" /&gt;--&gt;\n        &lt;/testng&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Let me know if you encounter any issues. BTW, please use the Jenkins ant plugin/task to run this script</p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1438237731,"creation_date":1438237731,"answer_id":31716581,"question_id":16782414,"body_markdown":"There are two steps to accomplished this task:-\r\n\r\nStep 1:-\r\n\r\n1. Go to localhost:8080/configure (Jenkins configure section)\r\n\r\n2. Now go to JDK section and uncheck Install automatically (If you don&#39;t uncheck that then it will download latest java every time whenever it is available, and can cause  for build failed)\r\n\r\n3. put JAVA_HOME in name section and jdk home path in JAVA_HOME section\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4. Apply and save\r\n\r\nStep 2:-\r\n\r\n1. Go to Jenkins and add new Item, also select &quot;Free Style Project&quot; and click on Ok.\r\n\r\n2. Click on &quot;Advanced in &quot;Advanced Project Options&quot;\r\n\r\n3. Now check option: - &quot;Use custom workspace&quot; and specify your project absolute path in Directory section \r\n\r\n[![enter image description here][2]][2]\r\n\r\n4. Apply\r\n\r\n5. Now to go &quot;Build&quot; and select &quot;Execute windows batch command&quot;\r\n6. Here in command column give the file name of your batch file \r\n[![enter image description here][3]][3]\r\n7. Apply and save\r\n\r\n**Now go to the Jenkins and select your Jenkins project and click on Build :)**\r\n\r\n  [1]: http://i.stack.imgur.com/KLk4D.jpg\r\n  [2]: http://i.stack.imgur.com/3u0nz.jpg\r\n  [3]: http://i.stack.imgur.com/c0eSH.jpg","title":"How to Run TestNG Tests on Jenkins","body":"<p>There are two steps to accomplished this task:-</p>\n\n<p>Step 1:-</p>\n\n<ol>\n<li><p>Go to localhost:8080/configure (Jenkins configure section)</p></li>\n<li><p>Now go to JDK section and uncheck Install automatically (If you don't uncheck that then it will download latest java every time whenever it is available, and can cause  for build failed)</p></li>\n<li><p>put JAVA_HOME in name section and jdk home path in JAVA_HOME section</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/KLk4D.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KLk4D.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Apply and save</li>\n</ol>\n\n<p>Step 2:-</p>\n\n<ol>\n<li><p>Go to Jenkins and add new Item, also select \"Free Style Project\" and click on Ok.</p></li>\n<li><p>Click on \"Advanced in \"Advanced Project Options\"</p></li>\n<li><p>Now check option: - \"Use custom workspace\" and specify your project absolute path in Directory section </p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/3u0nz.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3u0nz.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li><p>Apply</p></li>\n<li><p>Now to go \"Build\" and select \"Execute windows batch command\"</p></li>\n<li>Here in command column give the file name of your batch file \n<a href=\"https://i.stack.imgur.com/c0eSH.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c0eSH.jpg\" alt=\"enter image description here\"></a></li>\n<li>Apply and save</li>\n</ol>\n\n<p><strong>Now go to the Jenkins and select your Jenkins project and click on Build :)</strong></p>\n"},{"tags":[],"owner":{"account_id":1841592,"reputation":141,"user_id":1670883,"accept_rate":0,"display_name":"dassimon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464865253,"creation_date":1464865253,"answer_id":37589979,"question_id":16782414,"body_markdown":"I use gradle to run my testNG tests from Jenkins.\r\nTake a look at [the gradle docs][1].\r\n\r\n\r\nI run the testNG tests using configuration xml files. \r\nTake a look at [the testNG docs][2]. \r\n\r\nThere is quite a lot to cover so I suggest reading these sources but I&#39;ll provide some relevant pieces from one of my configurations.\r\n\r\nThe relevant parts from my build.gradle\r\n\r\n    tasks.withType(Test) {\r\n\r\n\t    useTestNG {\r\n\t\t    useDefaultListeners = true\r\n\t    }\r\n\r\n\t    options {\r\n\t\t    outputDirectory = file(&#39;test-report&#39;)\r\n\t\t    listeners &lt;&lt; &#39;org.uncommons.reportng.JUnitXMLReporter&#39;\r\n\t    }\r\n\r\n\t    testLogging.showStandardStreams = true\r\n\r\n\t    systemProperties System.getProperties()\r\n\t    systemProperty &quot;org.uncommons.reportng.escape-output&quot;, &quot;false&quot;\r\n\t    systemProperty &quot;org.uncommons.reportng.title&quot;, &quot;Test Report&quot;\r\n\r\n\t    ignoreFailures = true\r\n    }\r\n\r\n\r\n    task Smoke_Test(type: Test) {\r\n\t    description &quot;SmokeTest&quot;\r\n\t    options.suites(&quot;resources/testng-smoketest.xml&quot;)\t  \r\n\t    ignoreFailures = false\r\n    }\r\n\r\nMy testNG xml as referenced above &#39;testng-smoketest.xml&#39;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n    &lt;suite name=&quot;Smoke Tests&quot; &gt;\r\n\t    &lt;test name=&quot;BootCheck&quot; parallel=&quot;false&quot; thread-count=&quot;1&quot;&gt;\r\n\t\t    &lt;classes&gt;\r\n\t\t\t    &lt;class name=&quot;com.x.automation.y.tests.smoke.BootCheck&quot; /&gt;\r\n\t\t    &lt;/classes&gt;\r\n\t    &lt;/test&gt;\r\n    &lt;/suite&gt;  \t\r\n\r\nAnd from Jenkins, as an &#39;execute shell&#39; build step run the gradle task, I use gradle wrapper for convenience.\r\n\r\n    ./gradlew clean Smoke_Test\r\n\r\nEnsure you&#39;re in the correct directory, &#39;Smoke_Test&#39; is the name specified in the build.gradle.\r\n\r\nYou can use the testNG Jenkins plugin for saving your results.\r\n\r\nI also recommend using [reportng][3] for nice formatting of your test reports which can also be shown and saved in Jenkins using the HTML Publisher plugin.\r\n\r\nTry getting this to run from a CLI on your local machine first, trying to debug when running from Jenkins will drive you crazy.\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html\r\n  [2]: http://testng.org/doc/documentation-main.html#testng-xml\r\n  [3]: http://reportng.uncommons.org/","title":"How to Run TestNG Tests on Jenkins","body":"<p>I use gradle to run my testNG tests from Jenkins.\nTake a look at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html\" rel=\"nofollow\">the gradle docs</a>.</p>\n\n<p>I run the testNG tests using configuration xml files. \nTake a look at <a href=\"http://testng.org/doc/documentation-main.html#testng-xml\" rel=\"nofollow\">the testNG docs</a>. </p>\n\n<p>There is quite a lot to cover so I suggest reading these sources but I'll provide some relevant pieces from one of my configurations.</p>\n\n<p>The relevant parts from my build.gradle</p>\n\n<pre><code>tasks.withType(Test) {\n\n    useTestNG {\n        useDefaultListeners = true\n    }\n\n    options {\n        outputDirectory = file('test-report')\n        listeners &lt;&lt; 'org.uncommons.reportng.JUnitXMLReporter'\n    }\n\n    testLogging.showStandardStreams = true\n\n    systemProperties System.getProperties()\n    systemProperty \"org.uncommons.reportng.escape-output\", \"false\"\n    systemProperty \"org.uncommons.reportng.title\", \"Test Report\"\n\n    ignoreFailures = true\n}\n\n\ntask Smoke_Test(type: Test) {\n    description \"SmokeTest\"\n    options.suites(\"resources/testng-smoketest.xml\")      \n    ignoreFailures = false\n}\n</code></pre>\n\n<p>My testNG xml as referenced above 'testng-smoketest.xml'</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" &gt;\n&lt;suite name=\"Smoke Tests\" &gt;\n    &lt;test name=\"BootCheck\" parallel=\"false\" thread-count=\"1\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.x.automation.y.tests.smoke.BootCheck\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;    \n</code></pre>\n\n<p>And from Jenkins, as an 'execute shell' build step run the gradle task, I use gradle wrapper for convenience.</p>\n\n<pre><code>./gradlew clean Smoke_Test\n</code></pre>\n\n<p>Ensure you're in the correct directory, 'Smoke_Test' is the name specified in the build.gradle.</p>\n\n<p>You can use the testNG Jenkins plugin for saving your results.</p>\n\n<p>I also recommend using <a href=\"http://reportng.uncommons.org/\" rel=\"nofollow\">reportng</a> for nice formatting of your test reports which can also be shown and saved in Jenkins using the HTML Publisher plugin.</p>\n\n<p>Try getting this to run from a CLI on your local machine first, trying to debug when running from Jenkins will drive you crazy.</p>\n"}],"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53357,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":16828802,"answer_count":3,"score":10,"last_activity_date":1642661102,"creation_date":1369703097,"question_id":16782414,"body_markdown":"I&#39;m trying to run TestNG tests (in a contained Java project) from Jenkins but having no luck.  \r\n\r\nIt appears as though the TestNG plugin for Jenkins (https://wiki.jenkins-ci.org/display/JENKINS/testng-plugin) only publishes the results of TestNG tests, but doesn&#39;t actually run test classes... or am I wrong?  \r\n\r\nIn any case, how do I actually run TestNG tests in a TestNG project with Jenkins, or is that even possible?  Do I have to use a command line statement or batch file (on Windows Server 2008), for example?\r\n\r\nAny help much appreciated.\r\n\r\n\r\n**Note** I tried entering a post-build command line in Jenkins for the project to run TestNG tests but had a hard time with class paths not being found for TestNG.  I posted an earlier question about running TestNG from the command line which I couldn&#39;t get working, so I&#39;ve given up on that route:  \r\n\r\nhttps://stackoverflow.com/questions/11896791/how-to-run-testng-from-dos-prompt","title":"How to Run TestNG Tests on Jenkins","body":"<p>I'm trying to run TestNG tests (in a contained Java project) from Jenkins but having no luck.</p>\n<p>It appears as though the TestNG plugin for Jenkins (<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/testng-plugin\" rel=\"nofollow noreferrer\">https://wiki.jenkins-ci.org/display/JENKINS/testng-plugin</a>) only publishes the results of TestNG tests, but doesn't actually run test classes... or am I wrong?</p>\n<p>In any case, how do I actually run TestNG tests in a TestNG project with Jenkins, or is that even possible?  Do I have to use a command line statement or batch file (on Windows Server 2008), for example?</p>\n<p>Any help much appreciated.</p>\n<p><strong>Note</strong> I tried entering a post-build command line in Jenkins for the project to run TestNG tests but had a hard time with class paths not being found for TestNG.  I posted an earlier question about running TestNG from the command line which I couldn't get working, so I've given up on that route:</p>\n<p><a href=\"https://stackoverflow.com/questions/11896791/how-to-run-testng-from-dos-prompt\">How to run TestNG from command line</a></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1645788596,"post_id":70781723,"comment_id":125969232,"body_markdown":"Does this answer your question? [Please Explain Java 8 Method Reference to instance Method using class name](https://stackoverflow.com/questions/32283833/please-explain-java-8-method-reference-to-instance-method-using-class-name)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32283833/please-explain-java-8-method-reference-to-instance-method-using-class-name\">Please Explain Java 8 Method Reference to instance Method using class name</a>"}],"answers":[{"tags":[],"owner":{"account_id":15402785,"reputation":1251,"user_id":11111704,"display_name":"Giriraj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642660432,"creation_date":1642660432,"answer_id":70781724,"question_id":70781723,"body_markdown":"Solution would be\r\n\r\n    l.forEach(this::print);","title":"How to use method referencing for a private method in same class","body":"<p>Solution would be</p>\n<pre><code>l.forEach(this::print);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642660738,"creation_date":1642660738,"answer_id":70781760,"question_id":70781723,"body_markdown":"You can call by\r\n```\r\n l.forEach(this::print);\r\n```\r\n\r\nFurthermore, explicit type argument String can be replaced with &lt;&gt;.\r\n\r\n---\r\n\r\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\nby\r\n\r\n    List&lt;String&gt; l = new ArrayList&lt;&gt;();","title":"How to use method referencing for a private method in same class","body":"<p>You can call by</p>\n<pre><code> l.forEach(this::print);\n</code></pre>\n<p>Furthermore, explicit type argument String can be replaced with &lt;&gt;.</p>\n<hr />\n<pre><code>List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>by</p>\n<pre><code>List&lt;String&gt; l = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":15402785,"reputation":1251,"user_id":11111704,"display_name":"Giriraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1642660738,"creation_date":1642660432,"question_id":70781723,"body_markdown":"        public class Demo {\r\n      public static void main(String[] args) {\r\n        new Demo().pqr();\r\n      }\r\n       void pqr() {\r\n        List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n        l.add(&quot;abc&quot;);\r\n        l.add(&quot;jkl&quot;);\r\n        l.forEach(p -&gt; print(p));\r\n      }\r\n      private void print(String l) {\r\n        System.out.println(l);\r\n      }\r\n    }\r\n\r\n\r\n\r\nIn above code how to replace lambda expression with method referencing","title":"How to use method referencing for a private method in same class","body":"<pre><code>    public class Demo {\n  public static void main(String[] args) {\n    new Demo().pqr();\n  }\n   void pqr() {\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n    l.add(&quot;abc&quot;);\n    l.add(&quot;jkl&quot;);\n    l.forEach(p -&gt; print(p));\n  }\n  private void print(String l) {\n    System.out.println(l);\n  }\n}\n</code></pre>\n<p>In above code how to replace lambda expression with method referencing</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"score":0,"creation_date":1642653003,"post_id":70780705,"comment_id":125129719,"body_markdown":"Stream&lt;String&gt; longNames = stream .filter(str -&gt; str.length() &gt; 12);","body":"Stream&lt;String&gt; longNames = stream .filter(str -&gt; str.length() &gt; 12);"},{"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"score":0,"creation_date":1642653325,"post_id":70780705,"comment_id":125129776,"body_markdown":"@GlareStorm how about the regex check if it has letters in it the else if block","body":"@GlareStorm how about the regex check if it has letters in it the else if block"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1642653537,"post_id":70780705,"comment_id":125129810,"body_markdown":"Are you trying to do anything with these items other than log messages? Streams are supposed to produce an output value. If you just want to consume them, that&#39;s what `forEach()` is for.","body":"Are you trying to do anything with these items other than log messages? Streams are supposed to produce an output value. If you just want to consume them, that&#39;s what <code>forEach()</code> is for."},{"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"score":0,"creation_date":1642654394,"post_id":70780705,"comment_id":125129973,"body_markdown":"@shmosel my colleague told me not to use forEach()","body":"@shmosel my colleague told me not to use forEach()"},{"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"score":0,"creation_date":1642659519,"post_id":70780705,"comment_id":125130929,"body_markdown":"@Cedrix Cedrix ; they might have told you not to use it because a stream() is actually takes more memory and more time than a normal for loop; because under the hood thats that is being used if your use a forEach()","body":"@Cedrix Cedrix ; they might have told you not to use it because a stream() is actually takes more memory and more time than a normal for loop; because under the hood thats that is being used if your use a forEach()"},{"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"score":0,"creation_date":1642660011,"post_id":70780705,"comment_id":125131045,"body_markdown":"... your message is being set to Invalid Item format, because the trigger condition is identical to the one before.... so it gets set last....","body":"... your message is being set to Invalid Item format, because the trigger condition is identical to the one before.... so it gets set last...."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642668907,"post_id":70780705,"comment_id":125133871,"body_markdown":"`filter` is not a terminal operation, so the stream of the second code example does not do anything. It always returns a new stream; nobody ever said that you can use a `null` check on the result. Generally, if your problem is not solved, don’t accept an answer that doesn’t solve the problem. Most readers will assume that the question’s problem has been solved when an answer has been accepted.","body":"<code>filter</code> is not a terminal operation, so the stream of the second code example does not do anything. It always returns a new stream; nobody ever said that you can use a <code>null</code> check on the result. Generally, if your problem is not solved, don’t accept an answer that doesn’t solve the problem. Most readers will assume that the question’s problem has been solved when an answer has been accepted."}],"answers":[{"tags":[],"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642660381,"creation_date":1642652957,"answer_id":70780810,"question_id":70780705,"body_markdown":"Use the filter method:\r\n\r\n    Stream&lt;String&gt; stream = Files.lines(path);\r\n    Stream&lt;String&gt; filteredStream= stream .filter(str -&gt; str.length() &gt; 12);      \r\n\r\n    Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; Pattern.matches(regex, str));\r\n            \t\t\t\r\n\r\nor:\r\n        \r\n\r\n    Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\r\n          if(str.length() &gt; 12 &amp;&amp; Pattern.matches(regex, str))\r\n              return true;\r\n          return false;\r\n         });\r\n\r\n\r\nTo set error messages you prolly will have to throw an error that will return what ever message you want:\r\n\r\n    try{\r\n    Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\r\n          if(str.length() &gt; 11 )\r\n               throw new Exception(&quot;Item must not exceed 12 numbers&quot;);\r\n          if(Pattern.matches(regex, str))\r\n              return true;\r\n          throw new Exception(&quot;Invalid Item format&quot;);         \r\n         });\r\n    }\r\n    catch(Exception e){\r\n       log.error(e);\r\n       message = e;\r\n    }\r\n\r\n","title":"simplify java stream to return an error message","body":"<p>Use the filter method:</p>\n<pre><code>Stream&lt;String&gt; stream = Files.lines(path);\nStream&lt;String&gt; filteredStream= stream .filter(str -&gt; str.length() &gt; 12);      \n\nStream&lt;String&gt; matching = filteredStream.filter(str -&gt; Pattern.matches(regex, str));\n                    \n</code></pre>\n<p>or:</p>\n<pre><code>Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\n      if(str.length() &gt; 12 &amp;&amp; Pattern.matches(regex, str))\n          return true;\n      return false;\n     });\n</code></pre>\n<p>To set error messages you prolly will have to throw an error that will return what ever message you want:</p>\n<pre><code>try{\nStream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\n      if(str.length() &gt; 11 )\n           throw new Exception(&quot;Item must not exceed 12 numbers&quot;);\n      if(Pattern.matches(regex, str))\n          return true;\n      throw new Exception(&quot;Invalid Item format&quot;);         \n     });\n}\ncatch(Exception e){\n   log.error(e);\n   message = e;\n}\n</code></pre>\n"}],"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70780810,"answer_count":1,"score":1,"last_activity_date":1642660381,"creation_date":1642651873,"question_id":70780705,"body_markdown":"Hi I am new to stream in java I am trying to find which item inside a file has more than 12 of length also if that item has letters mixed in it and wanted to know if this can be simplified using stream in java without using the forEach method in java stream:\r\n\r\n    Stream&lt;String&gt; stream = Files.lines(path)\r\n\r\n    stream.forEach(item -&gt; {\r\n          Pattern pattern = Pattern.compile(REGEX);\r\n          Matcher matcher = pattern.matcher(item);\r\n          if (item.length() &gt; 12) {\r\n                 log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\r\n                 streamMessage.set(&quot;Item must not exceed 12 numbers&quot;);\r\n          }\r\n          else if (matcher.matches()) {\r\n                 log.error(&quot;Invalid Item format {}&quot;, item);\r\n                 streamMessage.set(&quot;Invalid Item format&quot;);\r\n          }\r\n    });\r\n\r\nI also need it to return the log.error messages and the stream message thank you\r\n\r\nEDIT:\r\n\r\nI have tried Glare storm&#39;s answer but the message being returned by this:\r\n\r\n    Stream&lt;String&gt; lengthStream =\r\n                        stream.filter(item -&gt; item.length() &gt; 12);\r\n\r\n    Pattern pattern = Pattern.compile(REGEX);\r\n\r\n    Stream&lt;String&gt; letterStream =\r\n                        lengthStream.filter(pattern.asPredicate());\r\n    if(lengthStream != null){\r\n           log.error(&quot;Item must not exceed 12 numbers&quot;);\r\n           message = &quot;Item must not exceed 12 numbers&quot;;\r\n    }\r\n    if(letterStream != null){\r\n           log.error(&quot;Invalid Item format&quot;);\r\n           message = &quot;Invalid Item format&quot;;\r\n    }\r\n\r\nit always return Invalid Item format even tho there are no letters inside the file and only has exceeded 12 in length","title":"simplify java stream to return an error message","body":"<p>Hi I am new to stream in java I am trying to find which item inside a file has more than 12 of length also if that item has letters mixed in it and wanted to know if this can be simplified using stream in java without using the forEach method in java stream:</p>\n<pre><code>Stream&lt;String&gt; stream = Files.lines(path)\n\nstream.forEach(item -&gt; {\n      Pattern pattern = Pattern.compile(REGEX);\n      Matcher matcher = pattern.matcher(item);\n      if (item.length() &gt; 12) {\n             log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\n             streamMessage.set(&quot;Item must not exceed 12 numbers&quot;);\n      }\n      else if (matcher.matches()) {\n             log.error(&quot;Invalid Item format {}&quot;, item);\n             streamMessage.set(&quot;Invalid Item format&quot;);\n      }\n});\n</code></pre>\n<p>I also need it to return the log.error messages and the stream message thank you</p>\n<p>EDIT:</p>\n<p>I have tried Glare storm's answer but the message being returned by this:</p>\n<pre><code>Stream&lt;String&gt; lengthStream =\n                    stream.filter(item -&gt; item.length() &gt; 12);\n\nPattern pattern = Pattern.compile(REGEX);\n\nStream&lt;String&gt; letterStream =\n                    lengthStream.filter(pattern.asPredicate());\nif(lengthStream != null){\n       log.error(&quot;Item must not exceed 12 numbers&quot;);\n       message = &quot;Item must not exceed 12 numbers&quot;;\n}\nif(letterStream != null){\n       log.error(&quot;Invalid Item format&quot;);\n       message = &quot;Invalid Item format&quot;;\n}\n</code></pre>\n<p>it always return Invalid Item format even tho there are no letters inside the file and only has exceeded 12 in length</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1642577924,"post_id":70766547,"comment_id":125104554,"body_markdown":"Are you using `@RestController`?","body":"Are you using <code>@RestController</code>?"},{"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"score":0,"creation_date":1642580731,"post_id":70766547,"comment_id":125105440,"body_markdown":"Yes im using @RestController","body":"Yes im using @RestController"},{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1642583601,"post_id":70766547,"comment_id":125106486,"body_markdown":"what&#39;s your definition of `ResponseEntity`. It seems that `ResponseEntity` should have a constructor with string-argument.","body":"what&#39;s your definition of <code>ResponseEntity</code>. It seems that <code>ResponseEntity</code> should have a constructor with string-argument."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1642595382,"post_id":70766547,"comment_id":125111383,"body_markdown":"can you please show me your entity","body":"can you please show me your entity"},{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1642600408,"post_id":70766547,"comment_id":125113508,"body_markdown":"When you use `@RestController`, all response objects are automatically wrapped within`ResponseEntity`","body":"When you use <code>@RestController</code>, all response objects are automatically wrapped within<code>ResponseEntity</code>"},{"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"score":0,"creation_date":1642654842,"post_id":70766547,"comment_id":125130031,"body_markdown":"@Prashant - yes very strange this does happen in this spring boot application.. can be issue with dependency or some spring level config","body":"@Prashant - yes very strange this does happen in this spring boot application.. can be issue with dependency or some spring level config"}],"answers":[{"tags":[],"owner":{"account_id":22701229,"reputation":11,"user_id":16868620,"display_name":"mp30028"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642583296,"creation_date":1642578138,"answer_id":70766884,"question_id":70766547,"body_markdown":"Try the following:\r\n\r\n```java\r\n@PostMapping(value = &quot;/checkraw&quot;)\r\npublic String getPostResp() {\r\n    return &quot;test&quot;;\r\n}\r\n```\r\n\r\nSpring Boot should take care of marshaling back the return value into a response.\r\n\r\nInstead of @PostMapping have you tried with @GetMapping. That will most likely work.","title":"Spring-Boot Jackson Parsing Error While returning Basic Response","body":"<p>Try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/checkraw&quot;)\npublic String getPostResp() {\n    return &quot;test&quot;;\n}\n</code></pre>\n<p>Spring Boot should take care of marshaling back the return value into a response.</p>\n<p>Instead of @PostMapping have you tried with @GetMapping. That will most likely work.</p>\n"},{"tags":[],"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642659901,"creation_date":1642659901,"answer_id":70781648,"question_id":70766547,"body_markdown":"Found the issue. This code was added not sure why it was implemented but was causing the issue. Thankyou for all your support.\r\n\r\n    public class ControllerAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n    \r\n    @Override\r\n    public boolean supports(\r\n    @NonNull MethodParameter returnType,\r\n     @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n    return true;\r\n    }\r\n    \r\n    @Override\r\n    public Object beforeBodyWrite(\r\n    Object body,\r\n     @NonNull MethodParameter parameter,\r\n     @NonNull MediaType mediaType,\r\n     @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\r\n     @NonNull ServerHttpRequest request,\r\n     @NonNull ServerHttpResponse response) {\r\n    if (body == null\r\n     || Primitives.allWrapperTypes().contains(body.getClass())\r\n    || Primitives.allPrimitiveTypes().contains(body.getClass())\r\n    || (body instanceof String &amp;&amp; ((String) body).contains(&quot;openapi&quot;))) {\r\n    return body;\r\n     }\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n     Map&lt;String, Object&gt; map =\r\n    mapper.convertValue(body, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    });\r\n    \r\n     if (map.containsKey(ERROR_CODE)\r\n    &amp;&amp; map.get(ERROR_CODE) != null\r\n     &amp;&amp; map.get(ERROR_CODE).toString().startsWith(&quot;AUTH-401&quot;)) {\r\n    List&lt;String&gt; apiKeyList = request.getHeaders().get(HttpHeaders.AUTHORIZATION);\r\n     if (!CollectionUtils.isEmpty(apiKeyList)) {\r\n    response.getHeaders().add(HttpHeaders.WWW_AUTHENTICATE, apiKeyList.get(0));\r\n     }\r\n    }\r\n    return body;\r\n    }","title":"Spring-Boot Jackson Parsing Error While returning Basic Response","body":"<p>Found the issue. This code was added not sure why it was implemented but was causing the issue. Thankyou for all your support.</p>\n<pre><code>public class ControllerAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n\n@Override\npublic boolean supports(\n@NonNull MethodParameter returnType,\n @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\nreturn true;\n}\n\n@Override\npublic Object beforeBodyWrite(\nObject body,\n @NonNull MethodParameter parameter,\n @NonNull MediaType mediaType,\n @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\n @NonNull ServerHttpRequest request,\n @NonNull ServerHttpResponse response) {\nif (body == null\n || Primitives.allWrapperTypes().contains(body.getClass())\n|| Primitives.allPrimitiveTypes().contains(body.getClass())\n|| (body instanceof String &amp;&amp; ((String) body).contains(&quot;openapi&quot;))) {\nreturn body;\n }\n\nObjectMapper mapper = new ObjectMapper();\n Map&lt;String, Object&gt; map =\nmapper.convertValue(body, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n});\n\n if (map.containsKey(ERROR_CODE)\n&amp;&amp; map.get(ERROR_CODE) != null\n &amp;&amp; map.get(ERROR_CODE).toString().startsWith(&quot;AUTH-401&quot;)) {\nList&lt;String&gt; apiKeyList = request.getHeaders().get(HttpHeaders.AUTHORIZATION);\n if (!CollectionUtils.isEmpty(apiKeyList)) {\nresponse.getHeaders().add(HttpHeaders.WWW_AUTHENTICATE, apiKeyList.get(0));\n }\n}\nreturn body;\n}\n</code></pre>\n"}],"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642659901,"creation_date":1642576158,"question_id":70766547,"body_markdown":"Im trying to return only Basic ResponseEntity&lt;String&gt; in my Application Noticing Jackson Parsing Error. When i do the same in sample Spring boot application , it works fine , not able to figure out what can be causing this issue.This is existing Application.\r\n\r\n\r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    @Slf4j\r\n    @Tag(name = &quot;Public Key&quot;)\r\n    public class PublicKeyController {\r\n\r\n    @PostMapping(value =&quot;/checkraw&quot;)\r\n    public ResponseEntity&lt;String&gt;  getPostResp() {\r\n        return ResponseEntity.ok(&quot;test&quot;);\r\n    }\r\n    }\r\n\r\nError : \r\n\r\n    level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;message&quot;:&quot;Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)\\n at [Source: UNKNOWN; line: -1, column: -1]&quot;,&quot;stack_trace&quot;:&quot;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1455)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1081)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromString(ValueInstantiator.java:258)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:357)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4229)\\r\\n\\t... 77 common frames omitted\\r\\nWrapped by: java.lang.IllegalArgumentException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4234)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4175)\\r\\n\\tat com.ocbc.ms.signature.advice.DigitalSigningControllerAdvice.beforeBodyWrite(DigitalSigningControllerAdvice.java:258)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.processBody(RequestResponseBodyAdviceChain.java:141)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.beforeBodyWrite(RequestResponseBodyAdviceChain.java:116)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:278)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\r\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.AddHeaderToContextFilter.doFilter(AddHeaderToContextFilter.java:32)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ResponseHeaderSetterFilter.doFilter(ResponseHeaderSetterFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MandatoryHeaderValidationFilter.doFilter(MandatoryHeaderValidationFilter.java:71)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.InjectionSafeValidationFilter.doFilter(InjectionSafeValidationFilter.java:60)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MDCRequestFilter.doFilter(MDCRequestFilter.java:40)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MultiReadRequestFilter.doFilter(MultiReadRequestFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ExceptionHandlerFilter.doFilterInternal(ExceptionHandlerFilter.java:27)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:834)\\r\\n&quot;}\r\n\r\n\r\nIf i use return custome object , it works fine as below\r\n\r\n\r\n    @PostMapping(value = &quot;/checkraw&quot;)\r\n     public DummyObject getPostResp() {\r\n         DummyObject response = new DummyObject();\r\n         return response ;\r\n     }\r\n\r\nbelow are the dependency\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- spring framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- cmbp core framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ms-lib-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${ms-lib-core.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ms-lib-connector-resttemplate&lt;/artifactId&gt;\r\n            &lt;version&gt;${ms-lib-connector-resttemplate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cmbp.ms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ms-lib-openapi&lt;/artifactId&gt;\r\n            &lt;version&gt;${ms-lib-openapi.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- misc --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;${nimbus-jose-jwt.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;${logstash-logback-encoder.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- For OCPS Check --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- For OCPS Check --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-collections.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-net.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-cli.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-pool2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- For OCPS Check --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- added after removing ms-pom-security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform-launcher.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${easy-random-core.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Spring-Boot Jackson Parsing Error While returning Basic Response","body":"<p>Im trying to return only Basic ResponseEntity in my Application Noticing Jackson Parsing Error. When i do the same in sample Spring boot application , it works fine , not able to figure out what can be causing this issue.This is existing Application.</p>\n<pre><code>@RequiredArgsConstructor\n@RestController\n@Slf4j\n@Tag(name = &quot;Public Key&quot;)\npublic class PublicKeyController {\n\n@PostMapping(value =&quot;/checkraw&quot;)\npublic ResponseEntity&lt;String&gt;  getPostResp() {\n    return ResponseEntity.ok(&quot;test&quot;);\n}\n}\n</code></pre>\n<p>Error :</p>\n<pre><code>level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;message&quot;:&quot;Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')\\n at [Source: UNKNOWN; line: -1, column: -1]&quot;,&quot;stack_trace&quot;:&quot;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1455)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1081)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromString(ValueInstantiator.java:258)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:357)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4229)\\r\\n\\t... 77 common frames omitted\\r\\nWrapped by: java.lang.IllegalArgumentException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4234)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4175)\\r\\n\\tat com.ocbc.ms.signature.advice.DigitalSigningControllerAdvice.beforeBodyWrite(DigitalSigningControllerAdvice.java:258)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.processBody(RequestResponseBodyAdviceChain.java:141)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.beforeBodyWrite(RequestResponseBodyAdviceChain.java:116)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:278)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\r\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.AddHeaderToContextFilter.doFilter(AddHeaderToContextFilter.java:32)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ResponseHeaderSetterFilter.doFilter(ResponseHeaderSetterFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MandatoryHeaderValidationFilter.doFilter(MandatoryHeaderValidationFilter.java:71)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.InjectionSafeValidationFilter.doFilter(InjectionSafeValidationFilter.java:60)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MDCRequestFilter.doFilter(MDCRequestFilter.java:40)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MultiReadRequestFilter.doFilter(MultiReadRequestFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ExceptionHandlerFilter.doFilterInternal(ExceptionHandlerFilter.java:27)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:834)\\r\\n&quot;}\n</code></pre>\n<p>If i use return custome object , it works fine as below</p>\n<pre><code>@PostMapping(value = &quot;/checkraw&quot;)\n public DummyObject getPostResp() {\n     DummyObject response = new DummyObject();\n     return response ;\n }\n</code></pre>\n<p>below are the dependency</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- spring framework --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- cmbp core framework --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\n        &lt;artifactId&gt;ms-lib-core&lt;/artifactId&gt;\n        &lt;version&gt;${ms-lib-core.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\n        &lt;artifactId&gt;ms-lib-connector-resttemplate&lt;/artifactId&gt;\n        &lt;version&gt;${ms-lib-connector-resttemplate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cmbp.ms&lt;/groupId&gt;\n        &lt;artifactId&gt;ms-lib-openapi&lt;/artifactId&gt;\n        &lt;version&gt;${ms-lib-openapi.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- misc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n        &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n        &lt;version&gt;${nimbus-jose-jwt.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n        &lt;version&gt;${logstash-logback-encoder.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- For OCPS Check --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- For OCPS Check --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;${commons-lang.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;${commons-collections.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;${commons-net.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;${commons-cli.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n        &lt;version&gt;${commons-pool2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- For OCPS Check --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- added after removing ms-pom-security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;${okhttp.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- test dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform-launcher.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n        &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\n        &lt;version&gt;${easy-random-core.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\n                &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","windows","gradle"],"answers":[{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642657751,"creation_date":1642657416,"answer_id":70781316,"question_id":70781276,"body_markdown":"The distributionUrl should be like this:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n\r\nNote: **You will need to escape the colon**.","title":"issue with gradle andriod","body":"<p>The distributionUrl should be like this:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>Note: <strong>You will need to escape the colon</strong>.</p>\n"},{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642659553,"creation_date":1642659553,"answer_id":70781605,"question_id":70781276,"body_markdown":"Try replacing the whole content of **gradle-wrapper.properties** with this:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nAnd after this, do a fresh gradle sync.\r\nAlso, check if your AGP is on latest version or not.","title":"issue with gradle andriod","body":"<p>Try replacing the whole content of <strong>gradle-wrapper.properties</strong> with this:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>And after this, do a fresh gradle sync.\nAlso, check if your AGP is on latest version or not.</p>\n"}],"owner":{"account_id":23811313,"reputation":1,"user_id":17820078,"display_name":"Dinesh Talware"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1643039495,"answer_count":2,"score":-6,"last_activity_date":1642659553,"creation_date":1642657117,"question_id":70781276,"body_markdown":"   \r\n\r\nLaunching lib\\main.dart on SM A127F in debug mode... Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from &#39;C:\\Users\\DELL\\Downloads\\Online Sports Fitness Code 31 Dec\\Online Spo rts Fitness\\android\\gradle\\wrapper\\gradle-wrapper.properties&#39;. at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:64) at org.gradle.wrapper.WrapperExecutor.forWrapperPropertiesFile(WrapperExecutor.java:47) at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60) Caused by: java.net.URISyntaxException: Illegal character in path at index 60: https://services.gradle.org/distributions/gradle-7.2-all.zip at java.base/java.net.URI$Parser.fail(URI.java:2913) at java.base/java.net.URI$Parser.checkChars(URI.java:3084) at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166) at java.base/java.net.URI$Parser.parse(URI.java:3114) at java.base/java.net.URI.&lt;init&gt;(URI.java:600) at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java :81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec utor.java:70) at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:57) ... 2 more Running Gradle task &#39;assembleDebug&#39;... 1,478ms Exception: Gradle task assembleDebug failed with exit code 1 getting this error\r\n------------------------------------------------------------------------","title":"issue with gradle andriod","body":"<h2>Launching lib\\main.dart on SM A127F in debug mode... Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from 'C:\\Users\\DELL\\Downloads\\Online Sports Fitness Code 31 Dec\\Online Spo rts Fitness\\android\\gradle\\wrapper\\gradle-wrapper.properties'. at org.gradle.wrapper.WrapperExecutor.(WrapperExecutor.java:64) at org.gradle.wrapper.WrapperExecutor.forWrapperPropertiesFile(WrapperExecutor.java:47) at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60) Caused by: java.net.URISyntaxException: Illegal character in path at index 60: <a href=\"https://services.gradle.org/distributions/gradle-7.2-all.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-7.2-all.zip</a> at java.base/java.net.URI$Parser.fail(URI.java:2913) at java.base/java.net.URI$Parser.checkChars(URI.java:3084) at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166) at java.base/java.net.URI$Parser.parse(URI.java:3114) at java.base/java.net.URI.(URI.java:600) at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java :81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec utor.java:70) at org.gradle.wrapper.WrapperExecutor.(WrapperExecutor.java:57) ... 2 more Running Gradle task 'assembleDebug'... 1,478ms Exception: Gradle task assembleDebug failed with exit code 1 getting this error</h2>\n"},{"tags":["java","insertion-sort","alphabetical"],"answers":[{"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642640474,"creation_date":1642640474,"answer_id":70779645,"question_id":70779559,"body_markdown":"you can sort the hole array at once using static method `Arrays.sort(arr)`\r\n\r\n    import java.util.Arrays;\r\n    ...\r\n    \r\n    String[] arrayOfStrs = {&quot;d&quot;,&quot;a&quot;,&quot;ca&quot;};\r\n\r\n    Arrays.sort(arrayOfStrs);\r\n    \r\n    // arrayOfStrs is now [&quot;a&quot;,&quot;ca&quot;,&quot;d&quot;]","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>you can sort the hole array at once using static method <code>Arrays.sort(arr)</code></p>\n<pre><code>import java.util.Arrays;\n...\n\nString[] arrayOfStrs = {&quot;d&quot;,&quot;a&quot;,&quot;ca&quot;};\n\nArrays.sort(arrayOfStrs);\n\n// arrayOfStrs is now [&quot;a&quot;,&quot;ca&quot;,&quot;d&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642640724,"creation_date":1642640724,"answer_id":70779664,"question_id":70779559,"body_markdown":"To sort it from less to more amount of letrers create first a `Comparator` class that uses the `String` length:\r\n\r\n```java\r\npublic class StringLengthComparator implements Comparator&lt;String&gt; {\r\n  public int compare(String o1, String o2) {\r\n    return Integer.compare(o1.length(), o2.length());\r\n  }\r\n}\r\n```\r\n\r\nAnd then use it in the `Arrays.sort(...)` method:\r\n\r\n```java\r\nArrays.sort(a, new StringLengthComparator());\r\n```\r\n\r\nTo sort them alphabetically you just need this:\r\n\r\n```java\r\nArrays.sort(a);\r\n```","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>To sort it from less to more amount of letrers create first a <code>Comparator</code> class that uses the <code>String</code> length:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringLengthComparator implements Comparator&lt;String&gt; {\n  public int compare(String o1, String o2) {\n    return Integer.compare(o1.length(), o2.length());\n  }\n}\n</code></pre>\n<p>And then use it in the <code>Arrays.sort(...)</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(a, new StringLengthComparator());\n</code></pre>\n<p>To sort them alphabetically you just need this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642643557,"creation_date":1642641156,"answer_id":70779707,"question_id":70779559,"body_markdown":"You have to change the condition inside the **insert()** method.\r\n\r\nComparison of String objects could be done using method **compareTo**.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)\r\n\r\n&gt; Compares two strings lexicographically. The comparison is based on the\r\n&gt; Unicode value of each character in the strings.\r\n&gt; \r\n&gt; **Returns:** the value 0 if the argument string is equal to this string; a value less than 0 if this string is lexicographically less\r\n&gt; than the string argument; and a value greater than 0 if this string is\r\n&gt; lexicographically greater than the string argument.\r\n\r\nIn other words, you may visualize what the method **compareTo()** does is like a &#39;weighting&#39; of those strings using scales. \r\n\r\nIf &#39;weights&#39; are equal the  **compareTo()** returns 0, if the first string is &#39;lighter&#39; than the second (a string that is passed as an argument) a &#39;scales&#39; (**compareTo()**) will give you a negative value.\r\n\r\nThat&#39;s why the condition in the code below is written as \r\n\r\n**unsortedElement.compareTo(a[i]) &lt; 0**\r\n\r\n\r\n        public static void insert(String[] a, int marker) {\r\n            String unsortedElement = a[marker];\r\n    \r\n            // shift other elements to the right to create the correct position\r\n            int correctPosition = marker;\r\n            for (int i = marker - 1; i &gt;= 0; i--) {\r\n                if (unsortedElement.compareTo(a[i]) &lt; 0) {\r\n                    a[i + 1] = a[i];\r\n                    correctPosition--;\r\n                }\r\n                else {\r\n                    break; // stop looping\r\n                }\r\n            }\r\n            // Insert the unsorted element to the correct position\r\n            a[correctPosition] = unsortedElement;\r\n        }\r\n\r\n**OUTPUT:**\r\n\r\n    Before Sort:[Allison, Neha, Charley, Jason, Tyson, Miles, Riley]\r\n    After Sort: [Allison, Charley, Jason, Miles, Neha, Riley, Tyson]","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>You have to change the condition inside the <strong>insert()</strong> method.</p>\n<p>Comparison of String objects could be done using method <strong>compareTo</strong>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)</a></p>\n<blockquote>\n<p>Compares two strings lexicographically. The comparison is based on the\nUnicode value of each character in the strings.</p>\n<p><strong>Returns:</strong> the value 0 if the argument string is equal to this string; a value less than 0 if this string is lexicographically less\nthan the string argument; and a value greater than 0 if this string is\nlexicographically greater than the string argument.</p>\n</blockquote>\n<p>In other words, you may visualize what the method <strong>compareTo()</strong> does is like a 'weighting' of those strings using scales.</p>\n<p>If 'weights' are equal the  <strong>compareTo()</strong> returns 0, if the first string is 'lighter' than the second (a string that is passed as an argument) a 'scales' (<strong>compareTo()</strong>) will give you a negative value.</p>\n<p>That's why the condition in the code below is written as</p>\n<p><strong>unsortedElement.compareTo(a[i]) &lt; 0</strong></p>\n<pre><code>    public static void insert(String[] a, int marker) {\n        String unsortedElement = a[marker];\n\n        // shift other elements to the right to create the correct position\n        int correctPosition = marker;\n        for (int i = marker - 1; i &gt;= 0; i--) {\n            if (unsortedElement.compareTo(a[i]) &lt; 0) {\n                a[i + 1] = a[i];\n                correctPosition--;\n            }\n            else {\n                break; // stop looping\n            }\n        }\n        // Insert the unsorted element to the correct position\n        a[correctPosition] = unsortedElement;\n    }\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Before Sort:[Allison, Neha, Charley, Jason, Tyson, Miles, Riley]\nAfter Sort: [Allison, Charley, Jason, Miles, Neha, Riley, Tyson]\n</code></pre>\n"}],"owner":{"account_id":23993605,"reputation":13,"user_id":17979389,"display_name":"Jacob Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70779707,"answer_count":3,"score":1,"last_activity_date":1642659328,"creation_date":1642639699,"question_id":70779559,"body_markdown":"I am new to coding and I put my code in order going from least amount of letters to greatest amount. Please help me understand how to put the code into alphabetical order.\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] a = new String[] {&quot;bread&quot;, &quot;milk&quot;, &quot;cheese&quot;, &quot;spinach&quot;, &quot;apple&quot;, &quot;peanuts&quot;};\r\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\r\n        insertionSort(a);\r\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\r\n\r\n        System.out.println();\r\n\r\n        a = new String[] { &quot;Allison&quot;, &quot;Neha&quot;, &quot;Charley&quot;, &quot;Jason&quot;, &quot;Tyson&quot;, &quot;Miles&quot;, &quot;Riley&quot; };\r\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\r\n        insertionSort(a);\r\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\r\n\r\n\r\n    }\r\n\r\n    public static void insertionSort(String[] a) {\r\n        // Move the marker from index 1 to the last index\r\n        for (int i = 1; i &lt; a.length; i++) {\r\n            // Insert the element at the marker to the right position\r\n            insert(a, i);\r\n\r\n        }\r\n    }\r\n    public static void insert(String[] a, int marker) {\r\n        String unsortedElement = a[marker];\r\n\r\n        // shift other elements to the right to create the correct position\r\n        int correctPosition = marker;\r\n        for (int i = marker - 1; i &gt;= 0; i--) {\r\n            if (a[i].length() &gt; unsortedElement.length()) {\r\n                a[i + 1] = a[i];\r\n                correctPosition--;\r\n            }\r\n            else {\r\n                break; // stop looping\r\n            }\r\n        }\r\n        // Insert the unsorted element to the correct position\r\n        a[correctPosition] = unsortedElement;\r\n    }\r\n}\r\n```\r\n","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>I am new to coding and I put my code in order going from least amount of letters to greatest amount. Please help me understand how to put the code into alphabetical order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] a = new String[] {&quot;bread&quot;, &quot;milk&quot;, &quot;cheese&quot;, &quot;spinach&quot;, &quot;apple&quot;, &quot;peanuts&quot;};\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\n        insertionSort(a);\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\n\n        System.out.println();\n\n        a = new String[] { &quot;Allison&quot;, &quot;Neha&quot;, &quot;Charley&quot;, &quot;Jason&quot;, &quot;Tyson&quot;, &quot;Miles&quot;, &quot;Riley&quot; };\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\n        insertionSort(a);\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\n\n\n    }\n\n    public static void insertionSort(String[] a) {\n        // Move the marker from index 1 to the last index\n        for (int i = 1; i &lt; a.length; i++) {\n            // Insert the element at the marker to the right position\n            insert(a, i);\n\n        }\n    }\n    public static void insert(String[] a, int marker) {\n        String unsortedElement = a[marker];\n\n        // shift other elements to the right to create the correct position\n        int correctPosition = marker;\n        for (int i = marker - 1; i &gt;= 0; i--) {\n            if (a[i].length() &gt; unsortedElement.length()) {\n                a[i + 1] = a[i];\n                correctPosition--;\n            }\n            else {\n                break; // stop looping\n            }\n        }\n        // Insert the unsorted element to the correct position\n        a[correctPosition] = unsortedElement;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","tensorflow-lite","yolov5"],"comments":[{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":1,"creation_date":1642515581,"post_id":70750798,"comment_id":125087272,"body_markdown":"So what is the error in the logcat? Why do you think the android app that you used for the yolo.tflite will work out of the box?","body":"So what is the error in the logcat? Why do you think the android app that you used for the yolo.tflite will work out of the box?"},{"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"score":0,"creation_date":1642558569,"post_id":70750798,"comment_id":125100943,"body_markdown":"@Farmaker I have edited the post which includes the logcat error. I forgot to mention that I used the same model trained on my laptop using a pre-trained `SSD MobileNet V2 FPNLite 320x320` on CPU following instructions from this [youtube tutorial series](https://www.youtube.com/watch?v=ZPFcSN6SP7s&amp;t=962s) which the previous student did. I replicated the steps and was able to train the same tflite file but it crashes after conversion. When I test the `.tflite` file on `detect.py` it works, but just doesn&#39;t work on Android Studio.\n\nEdit: I apologize in advance as I have no knowledge in Java","body":"@Farmaker I have edited the post which includes the logcat error. I forgot to mention that I used the same model trained on my laptop using a pre-trained <code>SSD MobileNet V2 FPNLite 320x320</code> on CPU following instructions from this <a href=\"https://www.youtube.com/watch?v=ZPFcSN6SP7s&amp;t=962s\" rel=\"nofollow noreferrer\">youtube tutorial series</a> which the previous student did. I replicated the steps and was able to train the same tflite file but it crashes after conversion. When I test the <code>.tflite</code> file on <code>detect.py</code> it works, but just doesn&#39;t work on Android Studio.  Edit: I apologize in advance as I have no knowledge in Java"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1642567570,"post_id":70750798,"comment_id":125102327,"body_markdown":"It is a classic error when using an tensorflow example project for a custom model. The error point out that you are trying to feed the model with an array of 1, 6300,6 BUT the model expects 1,10,4. I do not know how you are going to debug that if you have no knowledge of Java.","body":"It is a classic error when using an tensorflow example project for a custom model. The error point out that you are trying to feed the model with an array of 1, 6300,6 BUT the model expects 1,10,4. I do not know how you are going to debug that if you have no knowledge of Java."},{"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"score":0,"creation_date":1642573314,"post_id":70750798,"comment_id":125103379,"body_markdown":"@Farmaker So it is going to be difficult since I do not have any knowledge in Java and tedious since it involves debugging on Netron? I managed to find people who experience the same problem but they mention modifying the layers on Netron and something about detector inputs. May I know how to obtain these inputs like [this](https://stackoverflow.com/questions/65072546/cannot-copy-from-a-tensorflowlite-tensor-identity-with-shape-1-4-to-a-java)?","body":"@Farmaker So it is going to be difficult since I do not have any knowledge in Java and tedious since it involves debugging on Netron? I managed to find people who experience the same problem but they mention modifying the layers on Netron and something about detector inputs. May I know how to obtain these inputs like <a href=\"https://stackoverflow.com/questions/65072546/cannot-copy-from-a-tensorflowlite-tensor-identity-with-shape-1-4-to-a-java\">this</a>?"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1642575296,"post_id":70750798,"comment_id":125103816,"body_markdown":"what does netron.app shows for your tflite file? Is it correct? Can you share a link to that .tflite model to see?","body":"what does netron.app shows for your tflite file? Is it correct? Can you share a link to that .tflite model to see?"},{"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"score":0,"creation_date":1642580292,"post_id":70750798,"comment_id":125105280,"body_markdown":"@Farmaker [Here](https://drive.google.com/file/d/1J2tuHP6W-U81cXcD-GTZRQJgJUvjDIlC/view?usp=sharing) is the tflite file. Apparently running on Netron, the first layer starts off with [1,320,320,3] and after `Concentration` there is only one output of the [YOLOV5.tflite](https://drive.google.com/file/d/1qeEo-v6w7BiomfCG7ygcNeYRuagki8JA/view?usp=sharing). However, the [model](https://shorturl.at/moBC7) the previous student used with lower confidence level has 4 outputs and hers is working. Edit: I suppose I need to get the final output to 4 arrays as seen [here](https://shorturl.at/mDEOT)?","body":"@Farmaker <a href=\"https://drive.google.com/file/d/1J2tuHP6W-U81cXcD-GTZRQJgJUvjDIlC/view?usp=sharing\" rel=\"nofollow noreferrer\">Here</a> is the tflite file. Apparently running on Netron, the first layer starts off with [1,320,320,3] and after <code>Concentration</code> there is only one output of the <a href=\"https://drive.google.com/file/d/1qeEo-v6w7BiomfCG7ygcNeYRuagki8JA/view?usp=sharing\" rel=\"nofollow noreferrer\">YOLOV5.tflite</a>. However, the <a href=\"https://shorturl.at/moBC7\" rel=\"nofollow noreferrer\">model</a> the previous student used with lower confidence level has 4 outputs and hers is working. Edit: I suppose I need to get the final output to 4 arrays as seen <a href=\"https://shorturl.at/mDEOT\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1642583369,"post_id":70750798,"comment_id":125106398,"body_markdown":"Yes. I saw that file and it has one output of 1, 6300, 6...but the code expects 1.10.4 ...you need to find out what is going on with your model or with the conversion to tflite","body":"Yes. I saw that file and it has one output of 1, 6300, 6...but the code expects 1.10.4 ...you need to find out what is going on with your model or with the conversion to tflite"}],"answers":[{"tags":[],"owner":{"account_id":15178015,"reputation":540,"user_id":10952155,"display_name":"Karim Nosseir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642659034,"creation_date":1642659034,"answer_id":70781541,"question_id":70750798,"body_markdown":"Your model output has shape [1, 6300, 6] not [1, 10, 4]. You will need to know what is the output of your model means and adjust the code correctly.","title":"TensorFlow Lite model not working in Android (Java) but works on Python","body":"<p>Your model output has shape [1, 6300, 6] not [1, 10, 4]. You will need to know what is the output of your model means and adjust the code correctly.</p>\n"}],"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642660288,"answer_count":1,"score":0,"last_activity_date":1642659034,"creation_date":1642484578,"question_id":70750798,"body_markdown":"**Background**\r\n\r\nI successfully converted my YOLOV5 model from YOLOV5.pt to YOLOV5-fp16.tflite and was able to run it on python(refer to the [test video on Google Drive](https://drive.google.com/file/d/1xYB9O0IshZVlLJKSo3upcorJ1OGqK03v/view?usp=sharing)).\r\nI used the conversion method ```python export.py --include tflite```.\r\n\r\n[Google Colab where the ```weights.pt``` was trained on](https://colab.research.google.com/drive/1vgtIz90Wo54cLp1jlNVtiK4vDSTLH0jO?usp=sharing)\r\n\r\nI then used [this]() and tried to port it to Android Studio(Artic Fox), loading the model to ```assets```, adjusted the ```modelPath``` under ```PreviewImageActivity.java```. After this, the application is then exported into an APK.\r\n\r\n\r\n**Problem**\r\n\r\nWhen the application is executed it cannot get past the part after the video is processed into images for object detection and crashes. \r\n\r\nI tried searching online for solutions and it did not help as my situation seems to be different. Any help would be good since I am doing this for my school project thanks!\r\n\r\nHere is the [zip](https://drive.google.com/drive/folders/1KPQdXye1lFngedhvTC6zgxWpahfLyNE8?usp=sharing) to the application with the test video to process. The Username and Password is ```admin``` and ```password``` respectively.\r\n\r\n**Edit 1**\r\n\r\nHere is the log cat error when I run the program on my device(Samsung Tab A) via USB debugging.\r\n\r\n```2022-01-19 10:06:53.084 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d]\r\n2022-01-19 10:06:53.117 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3]\r\n2022-01-19 10:06:53.148 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579]\r\n2022-01-19 10:06:53.180 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f]\r\n2022-01-19 10:06:53.210 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f, android.graphics.Bitmap@e4d9035]\r\n2022-01-19 10:06:53.423 6044-6044/bline.detector.com.ffmpegvideoeditor D/AndroidRuntime: Shutting down VM\r\n2022-01-19 10:06:53.427 6044-6044/bline.detector.com.ffmpegvideoeditor E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: bline.detector.com.ffmpegvideoeditor, PID: 6044\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{bline.detector.com.ffmpegvideoeditor/bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity}: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3623)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:237)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8107)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\r\n     Caused by: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\r\n        at org.tensorflow.lite.Tensor.throwIfDstShapeIsIncompatible(Tensor.java:482)\r\n        at org.tensorflow.lite.Tensor.copyTo(Tensor.java:252)\r\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:175)\r\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:360)\r\n        at bline.detector.com.ffmpegvideoeditor.activity.objectDetectorClass.recognizeVideo(objectDetectorClass.java:118)\r\n        at bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity.onCreate(PreviewImageActivity.java:118)\r\n        at android.app.Activity.performCreate(Activity.java:7957)\r\n        at android.app.Activity.performCreate(Activity.java:7946)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3598)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:237)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8107)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)&#160;```\r\n\r\n","title":"TensorFlow Lite model not working in Android (Java) but works on Python","body":"<p><strong>Background</strong></p>\n<p>I successfully converted my YOLOV5 model from YOLOV5.pt to YOLOV5-fp16.tflite and was able to run it on python(refer to the <a href=\"https://drive.google.com/file/d/1xYB9O0IshZVlLJKSo3upcorJ1OGqK03v/view?usp=sharing\" rel=\"nofollow noreferrer\">test video on Google Drive</a>).\nI used the conversion method <code>python export.py --include tflite</code>.</p>\n<p><a href=\"https://colab.research.google.com/drive/1vgtIz90Wo54cLp1jlNVtiK4vDSTLH0jO?usp=sharing\" rel=\"nofollow noreferrer\">Google Colab where the <code>weights.pt</code> was trained on</a></p>\n<p>I then used this and tried to port it to Android Studio(Artic Fox), loading the model to <code>assets</code>, adjusted the <code>modelPath</code> under <code>PreviewImageActivity.java</code>. After this, the application is then exported into an APK.</p>\n<p><strong>Problem</strong></p>\n<p>When the application is executed it cannot get past the part after the video is processed into images for object detection and crashes.</p>\n<p>I tried searching online for solutions and it did not help as my situation seems to be different. Any help would be good since I am doing this for my school project thanks!</p>\n<p>Here is the <a href=\"https://drive.google.com/drive/folders/1KPQdXye1lFngedhvTC6zgxWpahfLyNE8?usp=sharing\" rel=\"nofollow noreferrer\">zip</a> to the application with the test video to process. The Username and Password is <code>admin</code> and <code>password</code> respectively.</p>\n<p><strong>Edit 1</strong></p>\n<p>Here is the log cat error when I run the program on my device(Samsung Tab A) via USB debugging.</p>\n<pre><code>2022-01-19 10:06:53.117 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3]\n2022-01-19 10:06:53.148 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579]\n2022-01-19 10:06:53.180 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f]\n2022-01-19 10:06:53.210 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f, android.graphics.Bitmap@e4d9035]\n2022-01-19 10:06:53.423 6044-6044/bline.detector.com.ffmpegvideoeditor D/AndroidRuntime: Shutting down VM\n2022-01-19 10:06:53.427 6044-6044/bline.detector.com.ffmpegvideoeditor E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: bline.detector.com.ffmpegvideoeditor, PID: 6044\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{bline.detector.com.ffmpegvideoeditor/bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity}: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3623)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:237)\n        at android.app.ActivityThread.main(ActivityThread.java:8107)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n     Caused by: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\n        at org.tensorflow.lite.Tensor.throwIfDstShapeIsIncompatible(Tensor.java:482)\n        at org.tensorflow.lite.Tensor.copyTo(Tensor.java:252)\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:175)\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:360)\n        at bline.detector.com.ffmpegvideoeditor.activity.objectDetectorClass.recognizeVideo(objectDetectorClass.java:118)\n        at bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity.onCreate(PreviewImageActivity.java:118)\n        at android.app.Activity.performCreate(Activity.java:7957)\n        at android.app.Activity.performCreate(Activity.java:7946)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3598)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:237) \n        at android.app.ActivityThread.main(ActivityThread.java:8107) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100) ```\n\n</code></pre>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":1,"creation_date":1315828344,"post_id":7387299,"comment_id":8920401,"body_markdown":"question, JComboBox could be used and in this same time is/are added new Item(s)","body":"question, JComboBox could be used and in this same time is/are added new Item(s)"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1315828644,"post_id":7387299,"comment_id":8920501,"body_markdown":"It *should* work - [here&#39;s a snippet that uses the same constructor](http://www.java2s.com/Code/JavaAPI/javax.swing/newJComboBoxVectoritems.htm)","body":"It <i>should</i> work - <a href=\"http://www.java2s.com/Code/JavaAPI/javax.swing/newJComboBoxVectoritems.htm\" rel=\"nofollow noreferrer\">here&#39;s a snippet that uses the same constructor</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1315833934,"post_id":7387299,"comment_id":8922102,"body_markdown":"you must add the items to model, not to the underlying vector - only so the required notifications are fired!","body":"you must add the items to model, not to the underlying vector - only so the required notifications are fired!"}],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1315828302,"creation_date":1315828302,"answer_id":7387381,"question_id":7387299,"body_markdown":"How about using ComboBoxModel? Something like this....\r\n\r\n        JFrame frame = new JFrame(&quot;Combo Box Demo&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(200, 200);\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\t\r\n\t\tVector comboBoxItems=new Vector();\r\n\t\tcomboBoxItems.add(&quot;A&quot;);\r\n\t\tcomboBoxItems.add(&quot;B&quot;);\r\n\t\tcomboBoxItems.add(&quot;C&quot;);\r\n\t\tcomboBoxItems.add(&quot;D&quot;);\r\n\t\tcomboBoxItems.add(&quot;E&quot;);\r\n\t\tfinal DefaultComboBoxModel model = new DefaultComboBoxModel(comboBoxItems);\r\n\t\tJComboBox comboBox = new JComboBox(model);\r\n\t\tframe.add(comboBox);\r\n\t\t\r\n\t\tJButton button = new JButton(&quot;Add new element in combo box&quot;);\r\n\t\tframe.add(button);\r\n\t\tbutton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\t\t\tmodel.addElement(&quot;F&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tframe.setVisible(true);","title":"Dynamically adding items to a JComboBox","body":"<p>How about using ComboBoxModel? Something like this....</p>\n\n<pre><code>    JFrame frame = new JFrame(\"Combo Box Demo\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(200, 200);\n    frame.setLayout(new FlowLayout());\n\n    Vector comboBoxItems=new Vector();\n    comboBoxItems.add(\"A\");\n    comboBoxItems.add(\"B\");\n    comboBoxItems.add(\"C\");\n    comboBoxItems.add(\"D\");\n    comboBoxItems.add(\"E\");\n    final DefaultComboBoxModel model = new DefaultComboBoxModel(comboBoxItems);\n    JComboBox comboBox = new JComboBox(model);\n    frame.add(comboBox);\n\n    JButton button = new JButton(\"Add new element in combo box\");\n    frame.add(button);\n    button.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent ae) {\n            model.addElement(\"F\");\n        }\n    });\n\n    frame.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315835389,"creation_date":1315835389,"answer_id":7388965,"question_id":7387299,"body_markdown":"for example:\r\n\r\n![enter image description here][1]\r\n![enter image description here][3] \r\n![enter image description here][2] \r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ComboBoxSorted extends JFrame {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private JComboBox comboBox;\r\n        private JTextField textField;\r\n    \r\n        public ComboBoxSorted() {\r\n            textField = new JTextField(15);\r\n            textField.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    comboBox.addItem(textField.getText());\r\n                    textField.setText(&quot;&quot;);\r\n                    comboBox.showPopup();\r\n                }\r\n            });\r\n    \r\n            String[] items = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;};\r\n            SortedComboBoxModel model = new SortedComboBoxModel(items);\r\n            comboBox = new JComboBox(model);\r\n            comboBox.setPrototypeDisplayValue(&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;);\r\n            JFrame frame = new JFrame(&quot;Add Item on Runtime&quot;);\r\n            frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            frame.add(comboBox, BorderLayout.SOUTH);\r\n            frame.add(textField, BorderLayout.WEST);\r\n            frame.add(new JLabel(&quot;Enter to add Item  &quot;), BorderLayout.EAST);\r\n            frame.pack();\r\n            frame.setLocation(150, 150);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private class SortedComboBoxModel extends DefaultComboBoxModel {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n    \r\n            public SortedComboBoxModel() {\r\n                super();\r\n            }\r\n    \r\n            public SortedComboBoxModel(Object[] items) {\r\n                Arrays.sort(items);\r\n                int size = items.length;\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    super.addElement(items[i]);\r\n                }\r\n                setSelectedItem(items[0]);\r\n            }\r\n    \r\n            public SortedComboBoxModel(Vector items) {\r\n                Collections.sort(items);\r\n                int size = items.size();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    super.addElement(items.elementAt(i));\r\n                }\r\n                setSelectedItem(items.elementAt(0));\r\n            }\r\n    \r\n            @Override\r\n            public void addElement(Object element) {\r\n                insertElementAt(element, 0);\r\n            }\r\n    \r\n            @Override\r\n            public void insertElementAt(Object element, int index) {\r\n                int size = getSize();\r\n                //  Determine where to insert element to keep model in sorted order            \r\n                for (index = 0; index &lt; size; index++) {\r\n                    Comparable c = (Comparable) getElementAt(index);\r\n                    if (c.compareTo(element) &gt; 0) {\r\n                        break;\r\n                    }\r\n                }\r\n                super.insertElementAt(element, index);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    ComboBoxSorted comboBoxSorted = new ComboBoxSorted();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/B2FiF.jpg\r\n  [2]: http://i.stack.imgur.com/EULBQ.jpg\r\n  [3]: http://i.stack.imgur.com/W9XGh.jpg","title":"Dynamically adding items to a JComboBox","body":"<p>for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/B2FiF.jpg\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/W9XGh.jpg\" alt=\"enter image description here\"> \n<img src=\"https://i.stack.imgur.com/EULBQ.jpg\" alt=\"enter image description here\"> </p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.*;\n\npublic class ComboBoxSorted extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n    private JComboBox comboBox;\n    private JTextField textField;\n\n    public ComboBoxSorted() {\n        textField = new JTextField(15);\n        textField.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                comboBox.addItem(textField.getText());\n                textField.setText(\"\");\n                comboBox.showPopup();\n            }\n        });\n\n        String[] items = {\"one\", \"two\", \"three\", \"four\", \"five\"};\n        SortedComboBoxModel model = new SortedComboBoxModel(items);\n        comboBox = new JComboBox(model);\n        comboBox.setPrototypeDisplayValue(\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");\n        JFrame frame = new JFrame(\"Add Item on Runtime\");\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        frame.add(comboBox, BorderLayout.SOUTH);\n        frame.add(textField, BorderLayout.WEST);\n        frame.add(new JLabel(\"Enter to add Item  \"), BorderLayout.EAST);\n        frame.pack();\n        frame.setLocation(150, 150);\n        frame.setVisible(true);\n    }\n\n    private class SortedComboBoxModel extends DefaultComboBoxModel {\n\n        private static final long serialVersionUID = 1L;\n\n        public SortedComboBoxModel() {\n            super();\n        }\n\n        public SortedComboBoxModel(Object[] items) {\n            Arrays.sort(items);\n            int size = items.length;\n            for (int i = 0; i &lt; size; i++) {\n                super.addElement(items[i]);\n            }\n            setSelectedItem(items[0]);\n        }\n\n        public SortedComboBoxModel(Vector items) {\n            Collections.sort(items);\n            int size = items.size();\n            for (int i = 0; i &lt; size; i++) {\n                super.addElement(items.elementAt(i));\n            }\n            setSelectedItem(items.elementAt(0));\n        }\n\n        @Override\n        public void addElement(Object element) {\n            insertElementAt(element, 0);\n        }\n\n        @Override\n        public void insertElementAt(Object element, int index) {\n            int size = getSize();\n            //  Determine where to insert element to keep model in sorted order            \n            for (index = 0; index &lt; size; index++) {\n                Comparable c = (Comparable) getElementAt(index);\n                if (c.compareTo(element) &gt; 0) {\n                    break;\n                }\n            }\n            super.insertElementAt(element, index);\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                ComboBoxSorted comboBoxSorted = new ComboBoxSorted();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7786675,"reputation":610,"user_id":5891226,"accept_rate":20,"display_name":"Chetan Bhagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471606584,"creation_date":1471605570,"answer_id":39037758,"question_id":7387299,"body_markdown":"&gt;Dynamically adding items like JComboBox,JTextField and ImageIcon\r\n\r\n[Please,Show this image on display, how many items added or Table Fields size][1]\r\n\r\n[After second images are display on Items like JComboBox,JTextField and ImageIcon][2]\r\n\r\n\r\n    for example : count=3\r\n    //Dynamically Adding Items or Component above method\r\n    public void  dya_addcomp(int count)\r\n    {\r\n    //Dynamicly Drop/Delete icon\r\n     BufferedImage Drop_Tablefield = null;\r\n     try {\r\n         Drop_Tablefield = ImageIO.read(this.getClass().getResource(&quot;/images/drop.png&quot;));\r\n     } catch (IOException ex) {\r\n         msg(&quot; Error: drop and edit icon on Table, &quot;+ex);\r\n     }\r\n     //count Items for loop executed..\r\n     for(int i=0;i&lt;count;i++)\r\n     {\r\n         //cnt++;\r\n         //lblcount.setText(&quot;Count : &quot;+cnt);\r\n         JTextField txtcolnm=new JTextField(&quot;&quot;,20);\r\n         JComboBox cmbtype=new JComboBox();\r\n         JTextField txtcolsize=new JTextField(&quot;&quot;,20);\r\n\r\n         JButton Drop_Table_Field = new JButton(new ImageIcon(Drop_Tablefield));\r\n\r\n         cmbtype.addItem(&quot;INTEGER&quot;); cmbtype.addItem(&quot;FLOAT&quot;);\r\n         cmbtype.addItem(&quot;STRING&quot;);  cmbtype.addItem(&quot;BOOLEAN&quot;);\r\n\r\n         colnamepanel.add(txtcolnm);   colnamepanel.add(cmbtype);\r\n         colnamepanel.add(txtcolsize); colnamepanel.add(Drop_Table_Field);\r\n\r\n         colnamepanel.setAutoscrolls(true);\r\n\r\n         //refresh panel\r\n         colnamepanel.revalidate();\r\n         colnamepanel.repaint();\r\n        \r\n         //set the layout on Jpanel\r\n         colnamepanel.setLayout(new FlowLayout(FlowLayout.LEFT,5,0));\r\n\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WOyNa.jpg\r\n  [2]: https://i.stack.imgur.com/eP9Fu.jpg","title":"Dynamically adding items to a JComboBox","body":"<blockquote>\n  <p>Dynamically adding items like JComboBox,JTextField and ImageIcon</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/WOyNa.jpg\" rel=\"nofollow\">Please,Show this image on display, how many items added or Table Fields size</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/eP9Fu.jpg\" rel=\"nofollow\">After second images are display on Items like JComboBox,JTextField and ImageIcon</a></p>\n\n<pre><code>for example : count=3\n//Dynamically Adding Items or Component above method\npublic void  dya_addcomp(int count)\n{\n//Dynamicly Drop/Delete icon\n BufferedImage Drop_Tablefield = null;\n try {\n     Drop_Tablefield = ImageIO.read(this.getClass().getResource(\"/images/drop.png\"));\n } catch (IOException ex) {\n     msg(\" Error: drop and edit icon on Table, \"+ex);\n }\n //count Items for loop executed..\n for(int i=0;i&lt;count;i++)\n {\n     //cnt++;\n     //lblcount.setText(\"Count : \"+cnt);\n     JTextField txtcolnm=new JTextField(\"\",20);\n     JComboBox cmbtype=new JComboBox();\n     JTextField txtcolsize=new JTextField(\"\",20);\n\n     JButton Drop_Table_Field = new JButton(new ImageIcon(Drop_Tablefield));\n\n     cmbtype.addItem(\"INTEGER\"); cmbtype.addItem(\"FLOAT\");\n     cmbtype.addItem(\"STRING\");  cmbtype.addItem(\"BOOLEAN\");\n\n     colnamepanel.add(txtcolnm);   colnamepanel.add(cmbtype);\n     colnamepanel.add(txtcolsize); colnamepanel.add(Drop_Table_Field);\n\n     colnamepanel.setAutoscrolls(true);\n\n     //refresh panel\n     colnamepanel.revalidate();\n     colnamepanel.repaint();\n\n     //set the layout on Jpanel\n     colnamepanel.setLayout(new FlowLayout(FlowLayout.LEFT,5,0));\n\n }\n</code></pre>\n"}],"owner":{"account_id":905455,"reputation":157,"user_id":940461,"display_name":"raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97456,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7387381,"answer_count":3,"score":16,"last_activity_date":1642658495,"creation_date":1315827781,"question_id":7387299,"body_markdown":"    Vector comboBoxItems = new Vector();\r\n    DefaultComboBoxModel model;\r\n    // ComboBox Items have gotten from Data Base initially.\r\n    model = new DefaultComboBoxModel(ComboBoxItems);\r\n    JComboBox box = new JComboBox(model);\r\n\r\nI added this combo box to a panel. If I add some items in the database directly, I want those newly added items shown in the combo box.\r\n\r\nI can see the values in `comboBoxItems` when I debug, but those values do not appear in my combo box.\r\n\r\nHow can I get those newly added values into the combo box without closing the panel?","title":"Dynamically adding items to a JComboBox","body":"<pre><code>Vector comboBoxItems = new Vector();\nDefaultComboBoxModel model;\n// ComboBox Items have gotten from Data Base initially.\nmodel = new DefaultComboBoxModel(ComboBoxItems);\nJComboBox box = new JComboBox(model);\n</code></pre>\n\n<p>I added this combo box to a panel. If I add some items in the database directly, I want those newly added items shown in the combo box.</p>\n\n<p>I can see the values in <code>comboBoxItems</code> when I debug, but those values do not appear in my combo box.</p>\n\n<p>How can I get those newly added values into the combo box without closing the panel?</p>\n"},{"tags":["c#","java","unit-testing"],"comments":[{"owner":{"account_id":115340,"reputation":14522,"user_id":302908,"accept_rate":98,"display_name":"Dustin Davis"},"score":0,"creation_date":1313527136,"post_id":7075938,"comment_id":8480118,"body_markdown":"I say no because what happens when you forget to make it private again? Consumers will use it and when you do make it private in later releases, bang! breaking changes.","body":"I say no because what happens when you forget to make it private again? Consumers will use it and when you do make it private in later releases, bang! breaking changes."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1313538959,"post_id":7075938,"comment_id":8482646,"body_markdown":"&quot;changing a system to &#39;support a support tool&#39; if you will, is blatant bad practice&quot;. Well, yes, sort of. But OTOH if your system does not work well with established tools, maybe something *is* wrong with the system.","body":"&quot;changing a system to &#39;support a support tool&#39; if you will, is blatant bad practice&quot;. Well, yes, sort of. But OTOH if your system does not work well with established tools, maybe something <i>is</i> wrong with the system."},{"owner":{"account_id":248909,"reputation":21944,"user_id":524588,"accept_rate":78,"display_name":"Sanghyun Lee"},"score":1,"creation_date":1313554040,"post_id":7075938,"comment_id":8484556,"body_markdown":"How isn&#39;t this duplicate of http://stackoverflow.com/questions/105007/do-you-test-private-method?","body":"How isn&#39;t this duplicate of <a href=\"http://stackoverflow.com/questions/105007/do-you-test-private-method\" title=\"do you test private method\">stackoverflow.com/questions/105007/do-you-test-private-metho&zwnj;&#8203;d</a>?"},{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":0,"creation_date":1313556161,"post_id":7075938,"comment_id":8484872,"body_markdown":"separation of concern. Code should just do the work, not to test itself. Put the test in other file.","body":"separation of concern. Code should just do the work, not to test itself. Put the test in other file."},{"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"score":0,"creation_date":1315487704,"post_id":7075938,"comment_id":8864861,"body_markdown":"@Sangdol - have you even read that other question? Completely different question...","body":"@Sangdol - have you even read that other question? Completely different question..."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1372718275,"post_id":7075938,"comment_id":25290706,"body_markdown":"This question appears to be off-topic because it is polling for opinions. ","body":"This question appears to be off-topic because it is polling for opinions. "},{"owner":{"account_id":2841559,"reputation":99,"user_id":2441081,"display_name":"Zano"},"score":1,"creation_date":1437978142,"post_id":7075938,"comment_id":51238496,"body_markdown":"Not an answer, but you can always access them by reflection.","body":"Not an answer, but you can always access them by reflection."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":36,"creation_date":1437978164,"post_id":7075938,"comment_id":51238504,"body_markdown":"No, you shouldn&#39;t expose them. Instead, you should test that your class **behaves** as it should do, via its public API. And if exposing internals is really the only option (which I doubt), then you should at least make the accessors package protected, so that only classes in the same package (as your test should be) can access them.","body":"No, you shouldn&#39;t expose them. Instead, you should test that your class <b>behaves</b> as it should do, via its public API. And if exposing internals is really the only option (which I doubt), then you should at least make the accessors package protected, so that only classes in the same package (as your test should be) can access them."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1437978229,"post_id":7075938,"comment_id":51238540,"body_markdown":"I don&#39;t think you should be exposing the stacks to the outside world. This is an implementation detail and you might move to a new data structure in the future. As far as unit testing is concerned, you should test all corner cases and as long as you get the desired results from the `first`, `last` etc methods, you should be good. You may be tempted to give them the default access modifier but that does not guarantee that other developers won&#39;t abuse this.","body":"I don&#39;t think you should be exposing the stacks to the outside world. This is an implementation detail and you might move to a new data structure in the future. As far as unit testing is concerned, you should test all corner cases and as long as you get the desired results from the <code>first</code>, <code>last</code> etc methods, you should be good. You may be tempted to give them the default access modifier but that does not guarantee that other developers won&#39;t abuse this."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":5,"creation_date":1437978260,"post_id":7075938,"comment_id":51238555,"body_markdown":"Yes, it is. It is perfectly acceptable to give a method package-private (default) visibility to make it accessible from unit tests. Libraries like Guava even provide an [`@VisibileForTesting`](https://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/annotations/VisibleForTesting.html) annotation to make such methods - I recommend you do this so that the reason for the method not being `private` is properly documented.","body":"Yes, it is. It is perfectly acceptable to give a method package-private (default) visibility to make it accessible from unit tests. Libraries like Guava even provide an <a href=\"https://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\"><code>@VisibileForTesting</code></a> annotation to make such methods - I recommend you do this so that the reason for the method not being <code>private</code> is properly documented."},{"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"score":0,"creation_date":1438021880,"post_id":7075938,"comment_id":51265886,"body_markdown":"Make them package private.","body":"Make them package private."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1438119531,"post_id":7075938,"comment_id":51316877,"body_markdown":"You should never need to make the fields more than package local. You could add a helper class with package local getters for access if you need to.","body":"You should never need to make the fields more than package local. You could add a helper class with package local getters for access if you need to."},{"owner":{"account_id":2396133,"reputation":2128,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1688805083,"post_id":7075938,"comment_id":135125488,"body_markdown":"@Boris the Spider Your link is broken. Up to date link is here: [@VisibleForTesting annotation](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/annotations/VisibleForTesting.html).","body":"@Boris the Spider Your link is broken. Up to date link is here: <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\">@VisibleForTesting annotation</a>."}],"answers":[{"tags":[],"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"down_vote_count":1,"up_vote_count":157,"is_accepted":false,"score":156,"last_activity_date":1383902585,"creation_date":1313486042,"answer_id":7075965,"question_id":7075938,"body_markdown":"Personally, I&#39;d rather unit test using the public API and I&#39;d certainly never make the private method public *just* to make it easy to test. \r\n\r\nIf you really want to test the private method in isolation, in Java you could use [Easymock][1] / [Powermock][2] to allow you to do this.\r\n\r\nYou have to be pragmatic about it and you should also be aware of the reasons why things are difficult to test. \r\n\r\n&#39;[Listen to the tests][3]&#39; - if it&#39;s difficult to test, is that telling you something about your design? Could you refactor to where a test for this method would be trivial and easily covered by testing through the public api? \r\n\r\nHere&#39;s what Michael Feathers has to say in &#39;[Working Effectively With Legacy Code][4]&quot;\r\n\r\n&gt; &quot;Many people spend a lot of time trying ot figure out how to get around this problem ... the real answer is that if you have the urge to test a private method, the method shouldn&#39;t be private; if making the method public bothers you, chances are, it is because it is part of a separate reponsibility; it should be on another class.&quot; [*Working Effectively With Legacy Code* (2005) by M. Feathers]\r\n\r\n\r\n  [1]: http://easymock.org/\r\n  [2]: http://code.google.com/p/powermock/\r\n  [3]: http://www.mockobjects.com/search/label/listening%20to%20the%20tests\r\n  [4]: http://www.amazon.co.uk/Working-Effectively-Legacy-Robert-Martin/dp/0131177052","title":"Making a private method public to unit test it...good idea?","body":"<p>Personally, I'd rather unit test using the public API and I'd certainly never make the private method public <em>just</em> to make it easy to test. </p>\n\n<p>If you really want to test the private method in isolation, in Java you could use <a href=\"http://easymock.org/\" rel=\"noreferrer\">Easymock</a> / <a href=\"http://code.google.com/p/powermock/\" rel=\"noreferrer\">Powermock</a> to allow you to do this.</p>\n\n<p>You have to be pragmatic about it and you should also be aware of the reasons why things are difficult to test. </p>\n\n<p>'<a href=\"http://www.mockobjects.com/search/label/listening%20to%20the%20tests\" rel=\"noreferrer\">Listen to the tests</a>' - if it's difficult to test, is that telling you something about your design? Could you refactor to where a test for this method would be trivial and easily covered by testing through the public api? </p>\n\n<p>Here's what Michael Feathers has to say in '<a href=\"http://www.amazon.co.uk/Working-Effectively-Legacy-Robert-Martin/dp/0131177052\" rel=\"noreferrer\">Working Effectively With Legacy Code</a>\"</p>\n\n<blockquote>\n  <p>\"Many people spend a lot of time trying ot figure out how to get around this problem ... the real answer is that if you have the urge to test a private method, the method shouldn't be private; if making the method public bothers you, chances are, it is because it is part of a separate reponsibility; it should be on another class.\" [<em>Working Effectively With Legacy Code</em> (2005) by M. Feathers]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28479,"reputation":4733,"user_id":76116,"accept_rate":86,"display_name":"IanR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313486231,"creation_date":1313486231,"answer_id":7075998,"question_id":7075938,"body_markdown":"I tend to agree that the bonuses of having it unit tested outweigh the problems of increasing the visibility of some of the members. A slight improvement is to make it protected and virtual, then override it in a test class to expose it.\r\n\r\nAlternatively, if it&#39;s functionality you want to test separately does it not suggest a missing object from your design?  Maybe you could put it in a separate testable class...then your existing class just delegates to an instance of this new class.","title":"Making a private method public to unit test it...good idea?","body":"<p>I tend to agree that the bonuses of having it unit tested outweigh the problems of increasing the visibility of some of the members. A slight improvement is to make it protected and virtual, then override it in a test class to expose it.</p>\n\n<p>Alternatively, if it's functionality you want to test separately does it not suggest a missing object from your design?  Maybe you could put it in a separate testable class...then your existing class just delegates to an instance of this new class.</p>\n"},{"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1313486310,"creation_date":1313486310,"answer_id":7076017,"question_id":7075938,"body_markdown":"I would say it is a bad idea for I am not sure whether you get any benefit and potentially problems down the line.  If you are changing the contract of a calls, just to test a private method, you&#39;re not testing the class in how it would be used, but creating an artificial scenario which you never intended to happen.\r\n\r\nFurthermore, by declaring the method as public, what&#39;s to say that in six months time (after forgetting that the only reason for making a method public is for testing) that you (or if you&#39;ve handed the project over) somebody completely different won&#39;t use it, leading to potentially unintended consequences and/or a maintenance nightmare.","title":"Making a private method public to unit test it...good idea?","body":"<p>I would say it is a bad idea for I am not sure whether you get any benefit and potentially problems down the line.  If you are changing the contract of a calls, just to test a private method, you're not testing the class in how it would be used, but creating an artificial scenario which you never intended to happen.</p>\n\n<p>Furthermore, by declaring the method as public, what's to say that in six months time (after forgetting that the only reason for making a method public is for testing) that you (or if you've handed the project over) somebody completely different won't use it, leading to potentially unintended consequences and/or a maintenance nightmare.</p>\n"},{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":6,"up_vote_count":36,"is_accepted":false,"score":30,"last_activity_date":1619143488,"creation_date":1313486381,"answer_id":7076031,"question_id":7075938,"body_markdown":"A unit test should test the public contract, the only way how a class could be used in other parts of the code. A private method is implementation details, you should not test it; as far as public API works correctly, the implementation doesn&#39;t matter and could be changed without changes in test cases.","title":"Making a private method public to unit test it...good idea?","body":"<p>A unit test should test the public contract, the only way how a class could be used in other parts of the code. A private method is implementation details, you should not test it; as far as public API works correctly, the implementation doesn't matter and could be changed without changes in test cases.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1313486775,"creation_date":1313486390,"answer_id":7076032,"question_id":7075938,"body_markdown":"How about making it package private? Then your test code can see it (and other classes in your package as well), but it is still hidden from your users.\r\n\r\nBut really, you should not be testing private methods. Those are implementation details, and not part of the contract. Everything they do should be covered by calling the public methods (if they have code in there that is not exercised by the public methods, then that should go). If the private code is too complex, the class is probably doing too many things and in want of refactoring.\r\n\r\nMaking a method public is big commitment. Once you do that, people will be able to use it, and you cannot just change them anymore.","title":"Making a private method public to unit test it...good idea?","body":"<p>How about making it package private? Then your test code can see it (and other classes in your package as well), but it is still hidden from your users.</p>\n\n<p>But really, you should not be testing private methods. Those are implementation details, and not part of the contract. Everything they do should be covered by calling the public methods (if they have code in there that is not exercised by the public methods, then that should go). If the private code is too complex, the class is probably doing too many things and in want of refactoring.</p>\n\n<p>Making a method public is big commitment. Once you do that, people will be able to use it, and you cannot just change them anymore.</p>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1313486441,"creation_date":1313486441,"answer_id":7076039,"question_id":7075938,"body_markdown":"In java, there&#39;s also the option of making it **package private** (ie leaving off the visibility modifier).  If your unit tests are in the same package as the class being tested it should then be able to see these methods, and is a bit safer than making the method completely public.","title":"Making a private method public to unit test it...good idea?","body":"<p>In java, there's also the option of making it <strong>package private</strong> (ie leaving off the visibility modifier).  If your unit tests are in the same package as the class being tested it should then be able to see these methods, and is a bit safer than making the method completely public.</p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313486453,"creation_date":1313486453,"answer_id":7076040,"question_id":7075938,"body_markdown":"There are actually situations when you should do this (e.g. when you&#39;re implementing some complex algorithms). Just do it package-private and this will be enough. \r\nBut in most cases probably you have too complex classes which requires factoring out logic into other classes.","title":"Making a private method public to unit test it...good idea?","body":"<p>There are actually situations when you should do this (e.g. when you're implementing some complex algorithms). Just do it package-private and this will be enough. \nBut in most cases probably you have too complex classes which requires factoring out logic into other classes.</p>\n"},{"tags":[],"owner":{"account_id":174088,"reputation":4794,"user_id":403234,"accept_rate":89,"display_name":"yas4891"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313486473,"creation_date":1313486473,"answer_id":7076044,"question_id":7075938,"body_markdown":"I generally keep the test classes in the same project/assembly as the classes under test.   \r\nThis way I only need `internal` visibility to make functions/classes testable.\r\n\r\nThis somewhat complicates your building process, which needs to filter out the test classes. \r\nI achieve this by naming all my test classes `TestedClassTest` and using a regex to filter those classes.\r\n\r\nThis of course only applies to the C# / .NET part of your question","title":"Making a private method public to unit test it...good idea?","body":"<p>I generally keep the test classes in the same project/assembly as the classes under test.<br>\nThis way I only need <code>internal</code> visibility to make functions/classes testable.</p>\n\n<p>This somewhat complicates your building process, which needs to filter out the test classes. \nI achieve this by naming all my test classes <code>TestedClassTest</code> and using a regex to filter those classes.</p>\n\n<p>This of course only applies to the C# / .NET part of your question</p>\n"},{"tags":[],"owner":{"account_id":400584,"reputation":2150,"user_id":766640,"accept_rate":100,"display_name":"adamjmarkham"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1313486493,"creation_date":1313486493,"answer_id":7076047,"question_id":7075938,"body_markdown":"Private methods are usually used as &quot;helper&quot; methods. Therefore they only return basic values and never operate on specific instances of objects. \r\n\r\nYou have a couple of options if you want to test them.\r\n\r\n - Use reflection\r\n - Give the methods package access\r\n\r\nAlternatively you could create a new class with the helper method as a public method if it is a good enough candidate for a new class.\r\n\r\nThere is a very [good article here][1] on this.\r\n\r\n\r\n  [1]: http://www.artima.com/suiterunner/private2.html","title":"Making a private method public to unit test it...good idea?","body":"<p>Private methods are usually used as \"helper\" methods. Therefore they only return basic values and never operate on specific instances of objects. </p>\n\n<p>You have a couple of options if you want to test them.</p>\n\n<ul>\n<li>Use reflection</li>\n<li>Give the methods package access</li>\n</ul>\n\n<p>Alternatively you could create a new class with the helper method as a public method if it is a good enough candidate for a new class.</p>\n\n<p>There is a very <a href=\"http://www.artima.com/suiterunner/private2.html\" rel=\"noreferrer\">good article here</a> on this.</p>\n"},{"tags":[],"owner":{"account_id":302601,"reputation":1004,"user_id":611064,"accept_rate":71,"display_name":"Xoke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313487428,"creation_date":1313487428,"answer_id":7076224,"question_id":7075938,"body_markdown":"Personally, I have the same problems when testing private methods and this is because the some of the testing tools are limited.\r\nIt&#39;s not good your design to be driven by limited tools if they don&#39;t response to your need change the tool not the design.\r\nBecause your asking for C# i can&#39;t propose good testing tools, but for Java there are two powerful tools: TestNG and PowerMock, and you can find corresponding testing tools for .NET platform ","title":"Making a private method public to unit test it...good idea?","body":"<p>Personally, I have the same problems when testing private methods and this is because the some of the testing tools are limited.\nIt's not good your design to be driven by limited tools if they don't response to your need change the tool not the design.\nBecause your asking for C# i can't propose good testing tools, but for Java there are two powerful tools: TestNG and PowerMock, and you can find corresponding testing tools for .NET platform </p>\n"},{"tags":[],"owner":{"account_id":129935,"reputation":20197,"user_id":328848,"accept_rate":65,"display_name":"Dean Chalk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313487841,"creation_date":1313487841,"answer_id":7076306,"question_id":7075938,"body_markdown":"Its all about pragmatism. Your unit tests are a client to the code in a way and in order to achieve a good level of code coverage you need to make your code very testable. Your solution will be a potential failure if the testing code is vastly comlplex in order for you to be able to setup the necessary corner-cases without effective public seams withing your code. Using IoC helps in this matter too.","title":"Making a private method public to unit test it...good idea?","body":"<p>Its all about pragmatism. Your unit tests are a client to the code in a way and in order to achieve a good level of code coverage you need to make your code very testable. Your solution will be a potential failure if the testing code is vastly comlplex in order for you to be able to setup the necessary corner-cases without effective public seams withing your code. Using IoC helps in this matter too.</p>\n"},{"tags":[],"owner":{"account_id":243832,"reputation":2641,"user_id":516238,"accept_rate":81,"display_name":"Chris Johnson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313495857,"creation_date":1313495857,"answer_id":7077832,"question_id":7075938,"body_markdown":"The point of the unit test is to confirm the workings of the public api for that unit.  There should be no need to make a private method exposed only for testing, if so then your interface should be rethought.   Private methods can be thought as &#39;helper&#39; methods to the public interface and therefore are tested via the public interface as they would be calling into the private methods.\r\n\r\nThe only reason I can see that you have a &#39;need&#39; to do this is that your class is not properly designed for testing in mind.","title":"Making a private method public to unit test it...good idea?","body":"<p>The point of the unit test is to confirm the workings of the public api for that unit.  There should be no need to make a private method exposed only for testing, if so then your interface should be rethought.   Private methods can be thought as 'helper' methods to the public interface and therefore are tested via the public interface as they would be calling into the private methods.</p>\n\n<p>The only reason I can see that you have a 'need' to do this is that your class is not properly designed for testing in mind.</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":2,"up_vote_count":80,"is_accepted":false,"score":78,"last_activity_date":1313585253,"creation_date":1313496818,"answer_id":7078045,"question_id":7075938,"body_markdown":"As others have said, it is somewhat suspect to be unit testing private methods at all; unit test the public interface, not the private implementation details. \r\n\r\nThat said, the technique I use when I want to unit test something that is private in C# is to downgrade the accessibility protection from private to internal, and then mark the unit testing assembly as a friend assembly using [InternalsVisibleTo][1]. The unit testing assembly will then be allowed to treat the internals as public, but you don&#39;t have to worry about accidentally adding to your public surface area.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/0tke9fxk.aspx","title":"Making a private method public to unit test it...good idea?","body":"<p>As others have said, it is somewhat suspect to be unit testing private methods at all; unit test the public interface, not the private implementation details. </p>\n\n<p>That said, the technique I use when I want to unit test something that is private in C# is to downgrade the accessibility protection from private to internal, and then mark the unit testing assembly as a friend assembly using <a href=\"http://msdn.microsoft.com/en-us/library/0tke9fxk.aspx\">InternalsVisibleTo</a>. The unit testing assembly will then be allowed to treat the internals as public, but you don't have to worry about accidentally adding to your public surface area.</p>\n"},{"tags":[],"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313503066,"creation_date":1313503066,"answer_id":7079304,"question_id":7075938,"body_markdown":"First see if the method ought to be extracted into another class and made public.  If that&#39;s not the case, make it package protected and in Java annotate with [@VisibleForTesting][1].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/VisibleForTesting.html","title":"Making a private method public to unit test it...good idea?","body":"<p>First see if the method ought to be extracted into another class and made public.  If that's not the case, make it package protected and in Java annotate with <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/VisibleForTesting.html\" rel=\"noreferrer\">@VisibleForTesting</a>.</p>\n"},{"tags":[],"owner":{"account_id":7689,"reputation":53388,"user_id":13422,"accept_rate":50,"display_name":"Zan Lynx"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1313505971,"creation_date":1313505971,"answer_id":7080112,"question_id":7075938,"body_markdown":"I will often add a method called something like `validate`, `verify`, `check`, etc, to a class so that it can be called to test the internal state of an object.\r\n\r\nSometimes this method is wrapped in an ifdef block (I write mostly in C++) so that it isn&#39;t compiled for release. But it&#39;s often useful in release to provide validation methods that walk the program&#39;s object trees checking things.","title":"Making a private method public to unit test it...good idea?","body":"<p>I will often add a method called something like <code>validate</code>, <code>verify</code>, <code>check</code>, etc, to a class so that it can be called to test the internal state of an object.</p>\n\n<p>Sometimes this method is wrapped in an ifdef block (I write mostly in C++) so that it isn't compiled for release. But it's often useful in release to provide validation methods that walk the program's object trees checking things.</p>\n"},{"tags":[],"owner":{"account_id":327461,"reputation":15242,"user_id":649852,"display_name":"Go Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313512451,"creation_date":1313512451,"answer_id":7081622,"question_id":7075938,"body_markdown":"As is extensively noted by others&#39; comments, unit tests should focus on the public API.  However, pros/cons and justification aside, you can call private methods in a unit test by using reflection.  You would of course need to make sure your JRE security allows it.  Calling private methods is something that the Spring Framework employs with it&#39;s [ReflectionUtils][1] (see the `makeAccessible(Method)` method).\r\n\r\nHere&#39;s a small example class with a private instance method.\r\n\r\n    public class A {\r\n        private void doSomething() {\r\n            System.out.println(&quot;Doing something private.&quot;);\r\n        }\r\n    }\r\n\r\nAnd an example class that executes the private instance method.\r\n\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    public class B {\r\n        public static final void main(final String[] args) {\r\n            try {\r\n                Method doSomething = A.class.getDeclaredMethod(&quot;doSomething&quot;);\r\n                A o = new A();\r\n                //o.doSomething(); // Compile-time error!\r\n                doSomething.setAccessible(true); // If this is not done, you get an IllegalAccessException!\r\n                doSomething.invoke(o);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            } catch (InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            } catch (NoSuchMethodException e) {\r\n                e.printStackTrace();\r\n            } catch (SecurityException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nExecuting B, will print `Doing something private.`  If you really need it, reflection could be used in unit tests to access private instance methods.\r\n\r\n  [1]: https://src.springframework.org/svn/spring-framework/trunk/org.springframework.core/src/main/java/org/springframework/util/ReflectionUtils.java\r\n\r\n","title":"Making a private method public to unit test it...good idea?","body":"<p>As is extensively noted by others' comments, unit tests should focus on the public API.  However, pros/cons and justification aside, you can call private methods in a unit test by using reflection.  You would of course need to make sure your JRE security allows it.  Calling private methods is something that the Spring Framework employs with it's <a href=\"https://src.springframework.org/svn/spring-framework/trunk/org.springframework.core/src/main/java/org/springframework/util/ReflectionUtils.java\" rel=\"nofollow\">ReflectionUtils</a> (see the <code>makeAccessible(Method)</code> method).</p>\n\n<p>Here's a small example class with a private instance method.</p>\n\n<pre><code>public class A {\n    private void doSomething() {\n        System.out.println(\"Doing something private.\");\n    }\n}\n</code></pre>\n\n<p>And an example class that executes the private instance method.</p>\n\n<pre><code>import java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\npublic class B {\n    public static final void main(final String[] args) {\n        try {\n            Method doSomething = A.class.getDeclaredMethod(\"doSomething\");\n            A o = new A();\n            //o.doSomething(); // Compile-time error!\n            doSomething.setAccessible(true); // If this is not done, you get an IllegalAccessException!\n            doSomething.invoke(o);\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (SecurityException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Executing B, will print <code>Doing something private.</code>  If you really need it, reflection could be used in unit tests to access private instance methods.</p>\n"},{"tags":[],"owner":{"account_id":61862,"reputation":13306,"user_id":184131,"accept_rate":76,"display_name":"csano"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1313517419,"creation_date":1313517419,"answer_id":7082711,"question_id":7075938,"body_markdown":"Some great answers. One thing I didn&#39;t see mentioned is that with test-driven development (TDD), private methods are created during the refactoring phase (look at [Extract Method][1] for an example of a refactoring pattern), and should therefore already have the necessary test coverage. If done correctly (and of course, you&#39;re going to get a mixed bag of opinions when it comes to correctness), you shouldn&#39;t have to worry about having to make a private method public just so that you can test it.\r\n\r\n\r\n  [1]: http://www.refactoring.com/catalog/extractMethod.html","title":"Making a private method public to unit test it...good idea?","body":"<p>Some great answers. One thing I didn't see mentioned is that with test-driven development (TDD), private methods are created during the refactoring phase (look at <a href=\"http://www.refactoring.com/catalog/extractMethod.html\">Extract Method</a> for an example of a refactoring pattern), and should therefore already have the necessary test coverage. If done correctly (and of course, you're going to get a mixed bag of opinions when it comes to correctness), you shouldn't have to worry about having to make a private method public just so that you can test it.</p>\n"},{"tags":[],"owner":{"account_id":346057,"reputation":10788,"user_id":679340,"accept_rate":71,"display_name":"Piotr Perak"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1313519672,"creation_date":1313519672,"answer_id":7083208,"question_id":7075938,"body_markdown":"If you are using C# you can make method internal. That way you don&#39;t pollute public API.\r\n\r\nThen add attribute to dll\r\n\r\n[assembly: InternalsVisibleTo(&quot;MyTestAssembly&quot;)]\r\n\r\nNow all the methods are visible in your MyTestAssembly project. Maybe not perfect, but better then making private method public just to test it.","title":"Making a private method public to unit test it...good idea?","body":"<p>If you are using C# you can make method internal. That way you don't pollute public API.</p>\n\n<p>Then add attribute to dll</p>\n\n<p>[assembly: InternalsVisibleTo(\"MyTestAssembly\")]</p>\n\n<p>Now all the methods are visible in your MyTestAssembly project. Maybe not perfect, but better then making private method public just to test it.</p>\n"},{"tags":[],"owner":{"account_id":85546,"reputation":84728,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"down_vote_count":3,"up_vote_count":66,"is_accepted":false,"score":63,"last_activity_date":1313525389,"creation_date":1313520320,"answer_id":7083360,"question_id":7075938,"body_markdown":"Lots of answers suggest only testing the public interface, but IMHO this is unrealistic - if a method does something that takes 5 steps, you&#39;ll want to test those five steps separately, not all together.  This requires testing all five methods, which *(other than for testing)* might otherwise be `private`.\r\n\r\nThe usual way of testing &quot;private&quot; methods is to give every class its own interface, and make the &quot;private&quot; methods `public`, but not include them in the interface.  This way, they can still be tested, but they don&#39;t bloat the interface.\r\n\r\nYes, this will result in file- and class-bloat.\r\n\r\nYes, this does make the `public` and `private` specifiers redundant.\r\n\r\nYes, this is a pain in the ass.\r\n\r\nThis is, unfortunately, one of the many **[sacrifices we make to make code testable](https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38501#38501)**.  Perhaps a future language (or a even a future version of C#/Java) will have features to make class- and module-testability more convenient; but in the meanwhile, we have to jump through these hoops.\r\n\r\n---\r\n\r\nThere are some who would argue that each of those steps should [be its own class](https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38504#38504), but I disagree - if they all share state, there is no reason to create five separate classes where five methods would do.  Even worse, this results in file- and class-bloat.  *Plus*, it infects the public API of your module - all those classes must necessarily be `public` if you want to test them from another module *(either that, or include the test code in the same module, which means shipping the test code with your product)*.","title":"Making a private method public to unit test it...good idea?","body":"<p>Lots of answers suggest only testing the public interface, but IMHO this is unrealistic - if a method does something that takes 5 steps, you'll want to test those five steps separately, not all together.  This requires testing all five methods, which <em>(other than for testing)</em> might otherwise be <code>private</code>.</p>\n\n<p>The usual way of testing \"private\" methods is to give every class its own interface, and make the \"private\" methods <code>public</code>, but not include them in the interface.  This way, they can still be tested, but they don't bloat the interface.</p>\n\n<p>Yes, this will result in file- and class-bloat.</p>\n\n<p>Yes, this does make the <code>public</code> and <code>private</code> specifiers redundant.</p>\n\n<p>Yes, this is a pain in the ass.</p>\n\n<p>This is, unfortunately, one of the many <strong><a href=\"https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38501#38501\">sacrifices we make to make code testable</a></strong>.  Perhaps a future language (or a even a future version of C#/Java) will have features to make class- and module-testability more convenient; but in the meanwhile, we have to jump through these hoops.</p>\n\n<hr>\n\n<p>There are some who would argue that each of those steps should <a href=\"https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38504#38504\">be its own class</a>, but I disagree - if they all share state, there is no reason to create five separate classes where five methods would do.  Even worse, this results in file- and class-bloat.  <em>Plus</em>, it infects the public API of your module - all those classes must necessarily be <code>public</code> if you want to test them from another module <em>(either that, or include the test code in the same module, which means shipping the test code with your product)</em>.</p>\n"},{"tags":[],"owner":{"account_id":321405,"reputation":61,"user_id":640214,"display_name":"bengtb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313584593,"creation_date":1313523480,"answer_id":7083973,"question_id":7075938,"body_markdown":"In your update you say that it&#39;s good to just test using the public API. \r\nThere is actually two schools here.\r\n \r\n1. Black box testing\r\n\r\n The black box school says that the class should be considered as a black box that no one can see the implementation inside it. The only way to test this is through the public API -- just like the user&#39;s of the class will be using it. \r\n\r\n2. white box testing.\r\n \r\n  The white box school thinks it naturally to use the knowledge about the implementation of the  class and then test the class to know that it works as it should.\r\n\r\nI really cannot take side in the discussion. I just thought it would be interesting to know that there are two distinct ways to test a class (or a library or whatever).","title":"Making a private method public to unit test it...good idea?","body":"<p>In your update you say that it's good to just test using the public API. \nThere is actually two schools here.</p>\n\n<ol>\n<li><p>Black box testing</p>\n\n<p>The black box school says that the class should be considered as a black box that no one can see the implementation inside it. The only way to test this is through the public API -- just like the user's of the class will be using it. </p></li>\n<li><p>white box testing.</p>\n\n<p>The white box school thinks it naturally to use the knowledge about the implementation of the  class and then test the class to know that it works as it should.</p></li>\n</ol>\n\n<p>I really cannot take side in the discussion. I just thought it would be interesting to know that there are two distinct ways to test a class (or a library or whatever).</p>\n"},{"tags":[],"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313545703,"creation_date":1313545703,"answer_id":7087151,"question_id":7075938,"body_markdown":"Guava has a @VisibleForTesting annotation for marking methods that have enlarged scope (package or public) that they would otherwise.  I use a @Private annotation for the same thing.\r\n\r\nWhile the public API must be tested, sometimes it&#39;s convenient and sensible to get at stuff that wouldn&#39;t normally be public.  \r\n\r\nWhen:\r\n\r\n- a class is made significantly less readable, in toto, by breaking it up into multiple classes,\r\n- just to make it more testable,\r\n- and providing some test access to the innards would do the trick\r\n\r\nit seems like religion is trumping engineering.","title":"Making a private method public to unit test it...good idea?","body":"<p>Guava has a @VisibleForTesting annotation for marking methods that have enlarged scope (package or public) that they would otherwise.  I use a @Private annotation for the same thing.</p>\n\n<p>While the public API must be tested, sometimes it's convenient and sensible to get at stuff that wouldn't normally be public.  </p>\n\n<p>When:</p>\n\n<ul>\n<li>a class is made significantly less readable, in toto, by breaking it up into multiple classes,</li>\n<li>just to make it more testable,</li>\n<li>and providing some test access to the innards would do the trick</li>\n</ul>\n\n<p>it seems like religion is trumping engineering.</p>\n"},{"tags":[],"owner":{"account_id":36035,"reputation":15548,"user_id":102482,"accept_rate":91,"display_name":"Finglas"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1438280929,"creation_date":1313597683,"answer_id":7096107,"question_id":7075938,"body_markdown":"**Update**: [I have added a more expanded and more complete answer to this question in numerous other places. This is can be found on my blog][1].\r\n\r\nIf I ever need to make something public to test it, this usually hints that the system under test is not following the [Single Reponsibility Principle][2]. Hence there is a missing class that should be introduced. After extracting the code into a new class, make it public. Now you can test easily, and you are following SRP. Your other class simply has to invoke this new class via composition.\r\n\r\nMaking methods public/using langauge tricks such as marking code as visible to test assembilies should always be a last resort.\r\n\r\nFor example:\r\n\r\n    public class SystemUnderTest\r\n    {\r\n       public void DoStuff()\r\n       {\r\n          // Blah\r\n          // Call Validate()\r\n       }\r\n    \r\n       private void Validate()\r\n       {\r\n          // Several lines of complex code...\r\n       }\r\n    }\r\n\r\nRefactor this by introducing a validator object.\r\n\r\n    public class SystemUnderTest\r\n    {\r\n        public void DoStuff()\r\n        {\r\n           // Blah\r\n           validator.Invoke(..)\r\n        }\r\n    }\r\n\r\nNow all we have to do is test that the validator is invoked correctly. The actual process of validation (the previously private logic) can be tested in pure isolation. There will be no need for complex test set up to ensure this validation passes.\r\n \r\n\r\n\r\n  [1]: http://blog.shaunfinglas.co.uk/2015/05/testing-private-code.html\r\n  [2]: http://en.wikipedia.org/wiki/Single_responsibility_principle","title":"Making a private method public to unit test it...good idea?","body":"<p><strong>Update</strong>: <a href=\"http://blog.shaunfinglas.co.uk/2015/05/testing-private-code.html\" rel=\"noreferrer\">I have added a more expanded and more complete answer to this question in numerous other places. This is can be found on my blog</a>.</p>\n\n<p>If I ever need to make something public to test it, this usually hints that the system under test is not following the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">Single Reponsibility Principle</a>. Hence there is a missing class that should be introduced. After extracting the code into a new class, make it public. Now you can test easily, and you are following SRP. Your other class simply has to invoke this new class via composition.</p>\n\n<p>Making methods public/using langauge tricks such as marking code as visible to test assembilies should always be a last resort.</p>\n\n<p>For example:</p>\n\n<pre><code>public class SystemUnderTest\n{\n   public void DoStuff()\n   {\n      // Blah\n      // Call Validate()\n   }\n\n   private void Validate()\n   {\n      // Several lines of complex code...\n   }\n}\n</code></pre>\n\n<p>Refactor this by introducing a validator object.</p>\n\n<pre><code>public class SystemUnderTest\n{\n    public void DoStuff()\n    {\n       // Blah\n       validator.Invoke(..)\n    }\n}\n</code></pre>\n\n<p>Now all we have to do is test that the validator is invoked correctly. The actual process of validation (the previously private logic) can be tested in pure isolation. There will be no need for complex test set up to ensure this validation passes.</p>\n"},{"tags":[],"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313607223,"creation_date":1313607223,"answer_id":7097929,"question_id":7075938,"body_markdown":"Private methods that you want to test in isolation are an indication that there&#39;s another &quot;concept&quot; buried in your class. Extract that &quot;concept&quot; to its own class and test it as a separate &quot;unit&quot;.\r\n\r\nTake a look at [this video](http://vimeo.com/15007792) for a really interesting take on the subject.","title":"Making a private method public to unit test it...good idea?","body":"<p>Private methods that you want to test in isolation are an indication that there's another \"concept\" buried in your class. Extract that \"concept\" to its own class and test it as a separate \"unit\".</p>\n\n<p>Take a look at <a href=\"http://vimeo.com/15007792\" rel=\"noreferrer\">this video</a> for a really interesting take on the subject.</p>\n"},{"tags":[],"owner":{"account_id":928372,"reputation":2357,"user_id":958689,"display_name":"hiergiltdiestfu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399022803,"creation_date":1399022803,"answer_id":23424837,"question_id":7075938,"body_markdown":"I usually leave those methods as `protected` and place the unit test within the same package (but in another project or source folder), where they can access all the protected methods because the class loader will place them within the same namespace.","title":"Making a private method public to unit test it...good idea?","body":"<p>I usually leave those methods as <code>protected</code> and place the unit test within the same package (but in another project or source folder), where they can access all the protected methods because the class loader will place them within the same namespace.</p>\n"},{"tags":[],"owner":{"account_id":16046,"reputation":13138,"user_id":34553,"accept_rate":100,"display_name":"Daniel Alexiuc"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1437978529,"creation_date":1437978529,"answer_id":31646252,"question_id":7075938,"body_markdown":"Use reflection to access the private variables if you need to.\r\n\r\nBut really, you don&#39;t care about the internal state of the class, you just want to test that the public methods return what you expect in the situations you can anticipate.","title":"Making a private method public to unit test it...good idea?","body":"<p>Use reflection to access the private variables if you need to.</p>\n\n<p>But really, you don't care about the internal state of the class, you just want to test that the public methods return what you expect in the situations you can anticipate.</p>\n"},{"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1437995040,"creation_date":1437978532,"answer_id":31646253,"question_id":7075938,"body_markdown":"IMO, you should write your tests not making deep assumptions on how your class implemented inside. You probably want to refactor it later using another internal model but still making the same guarantees that previous implementation gives.\r\n\r\nKeeping that in mind I suggest you to focus on testing that your contract is still holds no matter what internal implementation your class currently have. Property based testing of your public APIs.","title":"Making a private method public to unit test it...good idea?","body":"<p>IMO, you should write your tests not making deep assumptions on how your class implemented inside. You probably want to refactor it later using another internal model but still making the same guarantees that previous implementation gives.</p>\n\n<p>Keeping that in mind I suggest you to focus on testing that your contract is still holds no matter what internal implementation your class currently have. Property based testing of your public APIs.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":2,"up_vote_count":195,"is_accepted":false,"score":193,"last_activity_date":1438149865,"creation_date":1437978650,"answer_id":31646279,"question_id":7075938,"body_markdown":"&gt; **Note:**&lt;br/&gt;\r\n&gt; This answer was originally posted for the question [Is unit testing alone ever a good reason to expose private instance variables via getters? ](https://stackoverflow.com/q/31646092/2422776) which was merged into this one, so it may be a tad specific to the usecase presented there.\r\n\r\nAs a general statement, I&#39;m usually all for refactoring &quot;production&quot; code to make it easier to test. However, I don&#39;t think that would be a good call here. A good unit test (usually) shouldn&#39;t care about the class&#39; implementation details, only about its visible behavior. Instead of exposing the internal stacks to the test, you could test that the class returns the pages in the order you expect it to after calling `first()` or `last()`. \r\n\r\nFor example, consider this pseudo-code:\r\n\r\n    public class NavigationTest {\r\n        private Navigation nav;\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            // Set up nav so the order is page1-&gt;page2-&gt;page3 and\r\n            // we&#39;ve moved back to page2\r\n            nav = ...;\r\n        }\r\n        \r\n        @Test\r\n        public void testFirst() {\r\n            nav.first();\r\n        \r\n            assertEquals(&quot;page1&quot;, nav.getPage());\r\n        \r\n            nav.next();\r\n            assertEquals(&quot;page2&quot;, nav.getPage());\r\n        \r\n            nav.next();\r\n            assertEquals(&quot;page3&quot;, nav.getPage());\r\n        }\r\n        \r\n        @Test\r\n        public void testLast() {\r\n            nav.last();\r\n        \r\n            assertEquals(&quot;page3&quot;, nav.getPage());\r\n        \r\n            nav.previous();\r\n            assertEquals(&quot;page2&quot;, nav.getPage());\r\n        \r\n            nav.previous();\r\n            assertEquals(&quot;page1&quot;, nav.getPage());\r\n        }\r\n    }","title":"Making a private method public to unit test it...good idea?","body":"<blockquote>\n  <p><strong>Note:</strong><br/>\n  This answer was originally posted for the question <a href=\"https://stackoverflow.com/q/31646092/2422776\">Is unit testing alone ever a good reason to expose private instance variables via getters? </a> which was merged into this one, so it may be a tad specific to the usecase presented there.</p>\n</blockquote>\n\n<p>As a general statement, I'm usually all for refactoring \"production\" code to make it easier to test. However, I don't think that would be a good call here. A good unit test (usually) shouldn't care about the class' implementation details, only about its visible behavior. Instead of exposing the internal stacks to the test, you could test that the class returns the pages in the order you expect it to after calling <code>first()</code> or <code>last()</code>. </p>\n\n<p>For example, consider this pseudo-code:</p>\n\n<pre><code>public class NavigationTest {\n    private Navigation nav;\n\n    @Before\n    public void setUp() {\n        // Set up nav so the order is page1-&gt;page2-&gt;page3 and\n        // we've moved back to page2\n        nav = ...;\n    }\n\n    @Test\n    public void testFirst() {\n        nav.first();\n\n        assertEquals(\"page1\", nav.getPage());\n\n        nav.next();\n        assertEquals(\"page2\", nav.getPage());\n\n        nav.next();\n        assertEquals(\"page3\", nav.getPage());\n    }\n\n    @Test\n    public void testLast() {\n        nav.last();\n\n        assertEquals(\"page3\", nav.getPage());\n\n        nav.previous();\n        assertEquals(\"page2\", nav.getPage());\n\n        nav.previous();\n        assertEquals(\"page1\", nav.getPage());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4097798,"reputation":315,"user_id":3364088,"display_name":"Johny"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437979277,"creation_date":1437979277,"answer_id":31646445,"question_id":7075938,"body_markdown":"in terms of unit testing, you should definitely not add more methods; I believe you would better make a test case just about your `first()` method, which would be called before each test; then you can call multiple times the - `next()`, `previous()` and `last()` to see if the outcomes match your expectation.\r\nI guess if you don&#39;t add more methods to your class (just for testing purposes), you would stick to the &quot;black box&quot; principle of testing;","title":"Making a private method public to unit test it...good idea?","body":"<p>in terms of unit testing, you should definitely not add more methods; I believe you would better make a test case just about your <code>first()</code> method, which would be called before each test; then you can call multiple times the - <code>next()</code>, <code>previous()</code> and <code>last()</code> to see if the outcomes match your expectation.\nI guess if you don't add more methods to your class (just for testing purposes), you would stick to the \"black box\" principle of testing;</p>\n"},{"tags":[],"owner":{"account_id":2367392,"reputation":238,"user_id":2227602,"display_name":"Alfred Armstrong"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1438009589,"creation_date":1438009589,"answer_id":31656690,"question_id":7075938,"body_markdown":"Why not split out the stack management algorithm into a utility class? The utility class can manage the stacks and provide public accessors. Its unit tests can be focussed on implementation detail. Deep tests for algorithmically tricky classes are very helpful in wrinkling out edge cases and ensuring coverage.\r\n\r\nThen your current class can cleanly delegate to the utility class without exposing any implementation details. Its tests will relate to the pagination requirement as others have recommended.","title":"Making a private method public to unit test it...good idea?","body":"<p>Why not split out the stack management algorithm into a utility class? The utility class can manage the stacks and provide public accessors. Its unit tests can be focussed on implementation detail. Deep tests for algorithmically tricky classes are very helpful in wrinkling out edge cases and ensuring coverage.</p>\n\n<p>Then your current class can cleanly delegate to the utility class without exposing any implementation details. Its tests will relate to the pagination requirement as others have recommended.</p>\n"},{"tags":[],"owner":{"account_id":6115116,"reputation":1655,"user_id":5162810,"display_name":"Graham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438045665,"creation_date":1438045665,"answer_id":31665836,"question_id":7075938,"body_markdown":"No, because there are better ways of skinning that cat.\r\n\r\nSome unit test harnesses rely on macros in the class definition which  automagically expand to create hooks when built in test mode. Very C style, but it works.\r\n\r\nAn easier OO idiom is to make anything you want to test &quot;protected&quot; rather than &quot;private&quot;. The test harness inherits from the class under test, and can then access all protected members.\r\n\r\nOr you go for the &quot;friend&quot; option. Personally this is the feature of C++ I like least because it breaks the encapsulation rules, but it happens to be necessary for how C++ implements some features, so hey ho.\r\n\r\nAnyway, if you&#39;re unit testing then you&#39;re just as likely to need to inject values into those members. White box texting is perfectly valid.  And that really *would* break your encapsulation.","title":"Making a private method public to unit test it...good idea?","body":"<p>No, because there are better ways of skinning that cat.</p>\n\n<p>Some unit test harnesses rely on macros in the class definition which  automagically expand to create hooks when built in test mode. Very C style, but it works.</p>\n\n<p>An easier OO idiom is to make anything you want to test \"protected\" rather than \"private\". The test harness inherits from the class under test, and can then access all protected members.</p>\n\n<p>Or you go for the \"friend\" option. Personally this is the feature of C++ I like least because it breaks the encapsulation rules, but it happens to be necessary for how C++ implements some features, so hey ho.</p>\n\n<p>Anyway, if you're unit testing then you're just as likely to need to inject values into those members. White box texting is perfectly valid.  And that really <em>would</em> break your encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":2001206,"reputation":273,"user_id":1794978,"display_name":"coteyr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438047989,"creation_date":1438047989,"answer_id":31666106,"question_id":7075938,"body_markdown":"You should never ever ever let your tests dictate your code. I&#39;m not speaking about TDD or other DDs I mean, exactly what your asking. Does your app need those methods to be public. If it does then test them. If it does not then then don&#39;t make them public just for testing. Same with variables and others. Let your application&#39;s needs dictate the code, and let your tests test that the need is met. (Again I don&#39;t mean testing first or not I mean changing a classes structure to meet a testing goal). \r\n\r\nInstead you should &quot;test higher&quot;. Test the method that calls the private method. But your tests should be testing your applications needs and not your &quot;implementation decisions&quot;.\r\n\r\nFor example (bod pseudo code here);\r\n\r\n       public int books(int a) {\r\n         return add(a, 2);\r\n       }\r\n       private int add(int a, int b) {\r\n         return a+b;\r\n       } \r\n\r\nThere is no reason to test &quot;add&quot; you can test &quot;books&quot; instead. \r\n\r\nNever ever let your tests make code design decisions for you. Test that you get the expected result, not how you get that result.","title":"Making a private method public to unit test it...good idea?","body":"<p>You should never ever ever let your tests dictate your code. I'm not speaking about TDD or other DDs I mean, exactly what your asking. Does your app need those methods to be public. If it does then test them. If it does not then then don't make them public just for testing. Same with variables and others. Let your application's needs dictate the code, and let your tests test that the need is met. (Again I don't mean testing first or not I mean changing a classes structure to meet a testing goal). </p>\n\n<p>Instead you should \"test higher\". Test the method that calls the private method. But your tests should be testing your applications needs and not your \"implementation decisions\".</p>\n\n<p>For example (bod pseudo code here);</p>\n\n<pre><code>   public int books(int a) {\n     return add(a, 2);\n   }\n   private int add(int a, int b) {\n     return a+b;\n   } \n</code></pre>\n\n<p>There is no reason to test \"add\" you can test \"books\" instead. </p>\n\n<p>Never ever let your tests make code design decisions for you. Test that you get the expected result, not how you get that result.</p>\n"},{"tags":[],"owner":{"account_id":321393,"reputation":12292,"user_id":640195,"display_name":"yoel halb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466775994,"creation_date":1466775994,"answer_id":38014968,"question_id":7075938,"body_markdown":"In .Net there is a special class called `PrivateObject` deigned specifically to allow you to access private methods of a class.\r\n\r\nSee more about it on [the MSDN][1] or here on [Stack Overflow][2]\r\n\r\n(I am wondering that no one has mentioned it so far.)\r\n\r\nThere are situations though which this is not enough, in which case you will have to use reflection.\r\n\r\nStill I would adhere to the general recommendation not to test private methods, however as usual there are always exceptions.\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.privateobject.aspx\r\n  [2]: https://stackoverflow.com/questions/5396996/how-can-i-use-privateobject-to-access-private-members-of-both-my-class-and-its-p","title":"Making a private method public to unit test it...good idea?","body":"<p>In .Net there is a special class called <code>PrivateObject</code> deigned specifically to allow you to access private methods of a class.</p>\n\n<p>See more about it on <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.privateobject.aspx\" rel=\"nofollow noreferrer\">the MSDN</a> or here on <a href=\"https://stackoverflow.com/questions/5396996/how-can-i-use-privateobject-to-access-private-members-of-both-my-class-and-its-p\">Stack Overflow</a></p>\n\n<p>(I am wondering that no one has mentioned it so far.)</p>\n\n<p>There are situations though which this is not enough, in which case you will have to use reflection.</p>\n\n<p>Still I would adhere to the general recommendation not to test private methods, however as usual there are always exceptions.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610485222,"creation_date":1514747590,"answer_id":48045113,"question_id":7075938,"body_markdown":"Very answered question.&lt;br&gt;\r\nIHMO, the excellent [answer][1] from @BlueRaja - Danny Pflughoeft is one of the best.&lt;br&gt;\r\n\r\n&gt; Lots of answers suggest only testing the public interface, but IMHO\r\n&gt; this is unrealistic - if a method does something that takes 5 steps,\r\n&gt; you&#39;ll want to test those five steps separately, not all together.\r\n&gt; This requires testing all five methods, which (other than for testing)\r\n&gt; might otherwise be private.\r\n\r\n\r\n----------\r\nAbove all, I want to stress that the question &quot;should we make a private method public to unit test it&quot; is a question which an objectively correct answer depends on multiple parameters.   \r\nSo I think that in some cases **we have not** to and in others **we should**.  \r\n\r\n----------\r\n\r\n**Making public a private method or extracting the private method as a public method in another class (new or existing)?** &lt;br&gt;\r\n\r\nIt is rarely the best way.     \r\nA unit test has to test the behavior of **one** API method/function.    \r\nIf you test a `public` method that invokes another `public` method belonging to the same component, you don&#39;t **unit test** the method. You test **multiple** `public` methods at the same time.    \r\nAs a consequence, you may duplicate tests, test fixtures, test assertions, the test maintenance and more generally the application design.&lt;br&gt;\r\nAs the tests value decreases, they often lose interest for developers that write or maintain them.&lt;br&gt;\r\n\r\nTo avoid all this duplication, instead of making the `private` method `public` method, in many cases a better solution is **extracting the `private` method as a `public` method in a new or an existing class**.&lt;br&gt;\r\nIt will not create a design defect.&lt;br&gt;\r\nIt will make the code more meaningful and the class less bloat.&lt;br&gt; \r\nBesides, sometimes the `private` method is a routine/subset of the class while the behavior suits better in a specific structure.&lt;br&gt;\r\nAt last, it also makes the code more testable and avoid tests duplication.&lt;br&gt; \r\nWe can indeed prevent tests duplication by unit testing the `public` method in its own test class and in the test class of the client classes, we have just to mock the dependency.&lt;br&gt;\r\n\r\n\r\n**Mocking private methods?**&lt;br&gt;\r\n\r\nWhile it is possible by using reflection or with tools as PowerMock, I think that it is often a way to bypass a design issue.&lt;br&gt;\r\nA `private` member is not designed to be exposed to other classes.    \r\nA test class is a class as another. So we should apply the same rule for it.    \r\n\r\n**Mocking public methods of the object under test?**&lt;br&gt;\r\n\r\nYou may want to change the modifier `private` to `public` to test the method.&lt;br&gt;\r\nThen to test the method that uses this refactored public method, you may be tempted to mock the refactored `public` method  by using tools as Mockito ([spy concept][2]) but similarly to mocking `private` methods, we should avoid to mock the object under test.&lt;br&gt;\r\n\r\nThe `Mockito.spy()` documentation says it itself : \r\n\r\n&gt; Creates a spy of the real object. The spy calls real methods unless they are &gt; &gt; stubbed. \r\n&gt;\r\n&gt; Real spies should be used carefully and occasionally, for example when\r\n&gt; dealing with legacy code.\r\n\r\nBy experience, using `spy()` generally decreases the test quality and its readability.&lt;br&gt;\r\nBesides, it is much more error-prone as the object under test is both a mock and a real object.&lt;br&gt;\r\nIt is often the best way to write an invalid acceptance test.\r\n\r\n----------\r\n\r\n**Here is a guideline I use to decide whether a `private`  method should stay `private` or be refactored.**&lt;br&gt;\r\n\r\n\r\nCase 1) Never make a `private` method `public` if this method is invoked **once**.&lt;br&gt;\r\nIt is a `private` method for **a single** method. So you could never duplicate test logic as it is invoke once.&lt;br&gt;\r\n\r\nCase 2) You should wonder whether a `private` method should be refactored as a `public` method if the `private` method is invoked **more than once**.&lt;br&gt;\r\n\r\nHow to decide ?&lt;br&gt;\r\n\r\n- The `private` method doesn&#39;t produce duplication in the tests.&lt;br&gt; \r\n-&gt; Keep the method **private** as it is. \r\n\r\n- The `private` method produces duplication in the tests. That is, you need to repeat some tests, to assert the same logic for each test that unit-tests `public` methods using the `private` method.&lt;br&gt;\r\n-&gt; **If the repeated processing may make part of the API provided to clients** (no security issue, no internal processing, etc...), **extract the `private` method as a `public` method in a new class**.&lt;br&gt;\r\n-&gt; Otherwise, **if the repeated processing has not to make part of the API provided to clients** (security issue, internal processing, etc...), **don&#39;t widen the visibility of the `private` method to `public`**.&lt;br&gt;\r\nYou may leave it unchanged or move the method in a `private` package class that will never make part of the API and would be never accessible by clients.&lt;br&gt;\r\n\r\n\r\n----------\r\n**Code examples**&lt;br&gt;\r\n\r\nThe examples rely on Java and the following libraries : JUnit, AssertJ (assertion matcher) and Mockito.&lt;br&gt;\r\nBut I think that the overall approach is also valid for C#.&lt;br&gt;\r\n\r\n\r\n**1) Example where the `private` method doesn&#39;t create duplication in the test code**&lt;br&gt;\r\n\r\nHere is a `Computation` class that provides methods to perform some computations.&lt;br&gt;\r\nAll public methods use the `mapToInts()` method.\r\n\r\n\r\n    public class Computation {\r\n    \r\n    \tpublic int add(String a, String b) {\r\n    \t\tint[] ints = mapToInts(a, b);\r\n    \t\treturn ints[0] + ints[1];\r\n    \t}\r\n    \r\n    \tpublic int minus(String a, String b) {\r\n    \t\tint[] ints = mapToInts(a, b);\r\n    \t\treturn ints[0] - ints[1];\r\n    \t}\r\n    \r\n    \tpublic int multiply(String a, String b) {\r\n    \t\tint[] ints = mapToInts(a, b);\r\n    \t\treturn ints[0] * ints[1];\r\n    \t}\r\n    \r\n    \tprivate int[] mapToInts(String a, String b) {\r\n    \t\treturn new int[] { Integer.parseInt(a), Integer.parseInt(b) };\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the test code :\r\n\r\n    public class ComputationTest {\r\n    \r\n    \tprivate Computation computation = new Computation();\r\n    \r\n    \t@Test\r\n    \tpublic void add() throws Exception {\r\n    \t\tAssert.assertEquals(7, computation.add(&quot;3&quot;, &quot;4&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void minus() throws Exception {\r\n    \t\tAssert.assertEquals(2, computation.minus(&quot;5&quot;, &quot;3&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void multiply() throws Exception {\r\n    \t\tAssert.assertEquals(100, computation.multiply(&quot;20&quot;, &quot;5&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\nWe could see that the invocation of the `private` method `mapToInts()` doesn&#39;t duplicate the test logic.&lt;br&gt;\r\nIt is an intermediary operation and it doesn&#39;t produce a specific result that we need to assert in the tests.&lt;br&gt;\r\n\r\n\r\n**2) Example where the `private` method creates undesirable duplication in the test code**&lt;br&gt;\r\n\r\nHere is a `MessageService` class that provides methods to create messages.&lt;br&gt;\r\nAll `public` methods use the `createHeader()` method : &lt;br&gt;\r\n\r\n    public class MessageService {\r\n    \r\n    \tpublic Message createMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = createHeader(credentials, message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createEncryptedMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = createHeader(credentials, message, true);\r\n    \t\t// specific processing to encrypt\r\n    \t\t// ......\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createAnonymousMessage(String message) {\r\n    \t\tHeader header = createHeader(Credentials.anonymous(), message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tprivate Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\r\n    \t\treturn new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the test code :\r\n\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.Test;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    public class MessageServiceTest {\r\n    \r\n    \tprivate MessageService messageService = new MessageService();\r\n    \r\n    \t@Test\r\n    \tpublic void createMessage() throws Exception {\r\n    \t\tfinal String inputMessage = &quot;simple message&quot;;\r\n    \t\tfinal Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\r\n    \t\tMessage actualMessage = messageService.createMessage(inputMessage, inputCredentials);\r\n    \t\t// assertion\r\n    \t\tAssert.assertEquals(inputMessage, actualMessage.getMessage());\r\n    \t\tAssertions.assertThat(actualMessage.getHeader())\r\n    \t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n    \t\t          .containsExactly(inputCredentials, 9, LocalDate.now(), false);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void createEncryptedMessage() throws Exception {\r\n    \t\tfinal String inputMessage = &quot;encryted message&quot;;\r\n    \t\tfinal Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\r\n    \t\tMessage actualMessage = messageService.createEncryptedMessage(inputMessage, inputCredentials);\r\n    \t\t// assertion\r\n    \t\tAssert.assertEquals(&quot;A&#231;4B36ddflm1Dkok49d1d9gaz&quot;, actualMessage.getMessage());\r\n    \t\tAssertions.assertThat(actualMessage.getHeader())\r\n    \t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n    \t\t          .containsExactly(inputCredentials, 9, LocalDate.now(), true);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void createAnonymousMessage() throws Exception {\r\n    \t\tfinal String inputMessage = &quot;anonymous message&quot;;\r\n    \t\tMessage actualMessage = messageService.createAnonymousMessage(inputMessage);\r\n    \t\t// assertion\r\n    \t\tAssert.assertEquals(inputMessage, actualMessage.getMessage());\r\n    \t\tAssertions.assertThat(actualMessage.getHeader())\r\n    \t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n    \t\t          .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\r\n    \t}\r\n    \r\n    }\r\n\r\nWe could see that the invocation of the `private` method `createHeader()` creates some duplication in the test logic.&lt;br&gt;\r\n`createHeader()` creates indeed a specific result that we need to assert in the tests.&lt;br&gt;\r\nWe assert 3 times the header content while a single assertion should be required.&lt;br&gt;\r\n\r\nWe could also note that the asserting duplication is close between the methods but not necessary the same as the `private` method has a specific logic :\r\nOf course, we could have more differences according to the logic complexity of the `private` method.&lt;br&gt;\r\nBesides, at each time we add a new `public` method in `MessageService` that calls `createHeader()`, we will have to add this assertion.&lt;br&gt;\r\nNote also that if `createHeader()` modifies its behavior, all these tests may also need to be modified.&lt;br&gt;\r\nDefinitively, it is not a very good design.&lt;br&gt;\r\n\r\n**Refactoring step** \r\n\r\nSuppose we are in a case where `createHeader()` is acceptable to make part of the API.&lt;br&gt;\r\nWe will start by refactoring the `MessageService` class by changing the access modifier of `createHeader()` to `public` :\r\n\r\n\tpublic Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\r\n\t\treturn new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\r\n\t}\r\n\r\nWe could now test unitary this method :\r\n\r\n    @Test\r\n    public void createHeader_with_encrypted_message() throws Exception {\r\n      ...\r\n      boolean isEncrypted = true;\r\n \t  // action\r\n      Header actualHeader = messageService.createHeader(credentials, message, isEncrypted);\r\n      // assertion\r\n\t  Assertions.assertThat(actualHeader)\r\n\t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n\t\t          .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), true);\r\n    }\r\n\r\n    @Test\r\n    public void createHeader_with_not_encrypted_message() throws Exception {\r\n      ...\r\n      boolean isEncrypted = false;\r\n \t  // action\r\n\t  messageService.createHeader(credentials, message, isEncrypted);\r\n      // assertion\r\n\t  Assertions.assertThat(actualHeader)\r\n\t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n\t\t          .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\r\n\r\n    }\r\n\r\n\r\nBut what about the tests we write previously for `public` methods of the class that use `createHeader()` ?&lt;br&gt;\r\nNot many differences. &lt;br&gt;\r\nIn fact, we are still annoyed as these `public` methods still need to be tested concerning the returned header value.&lt;br&gt;\r\nIf we remove these assertions, we may not detect regressions about it.&lt;br&gt;\r\nWe should be able to naturally isolate this processing but we cannot as the `createHeader()` method belongs to the tested component.&lt;br&gt;\r\nThat&#39;s why I explained at the beginning of my answer that in most of cases, we should favor the extraction of the `private` method in another class to the change of the access modifier to `public`.&lt;br&gt;\r\n\r\nSo we introduce `HeaderService` :\r\n\r\n    public class HeaderService {\r\n    \r\n    \tpublic Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\r\n    \t\treturn new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd we migrate the `createHeader()` tests in `HeaderServiceTest`.&lt;br&gt;\r\n\r\nNow `MessageService` is defined with a `HeaderService` dependency:\r\n\r\n    public class MessageService {\r\n    \r\n    \tprivate HeaderService headerService;\r\n    \r\n    \tpublic MessageService(HeaderService headerService) {\r\n    \t\tthis.headerService = headerService;\r\n    \t}\r\n    \r\n    \tpublic Message createMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = headerService.createHeader(credentials, message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createEncryptedMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = headerService.createHeader(credentials, message, true);\r\n    \t\t// specific processing to encrypt\r\n    \t\t// ......\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createAnonymousMessage(String message) {\r\n    \t\tHeader header = headerService.createHeader(Credentials.anonymous(), message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd in  `MessageService`  tests, we don&#39;t need any longer to assert each header value as this is already tested.&lt;br&gt;\r\nWe want to just ensure that `Message.getHeader()` returns what  `HeaderService.createHeader()` has returned.&lt;br&gt;\r\n\r\nFor example, here is the new version of `createMessage()` test :\r\n\r\n\t@Test\r\n\tpublic void createMessage() throws Exception {\r\n\t\tfinal String inputMessage = &quot;simple message&quot;;\r\n\t\tfinal Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\r\n\t\tfinal Header fakeHeaderForMock = createFakeHeader();\r\n\t\tMockito.when(headerService.createHeader(inputCredentials, inputMessage, false))\r\n\t\t       .thenReturn(fakeHeaderForMock);\r\n\t\t// action\r\n\t\tMessage actualMessage = messageService.createMessage(inputMessage, inputCredentials);\r\n\t\t// assertion\r\n\t\tAssert.assertEquals(inputMessage, actualMessage.getMessage());\r\n\t\tAssert.assertSame(fakeHeaderForMock, actualMessage.getHeader());\r\n\t}\r\n\r\nNote the `assertSame()` use to compare the object references for the headers and not the contents.&lt;br&gt;\r\nNow, `HeaderService.createHeader()` may change its behavior and return different values, it doesn&#39;t matter from the `MessageService` tests point of view.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7083360/270371\r\n  [2]: https://static.javadoc.io/org.mockito/mockito-core/2.13.0/org/mockito/Spy.html\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Making a private method public to unit test it...good idea?","body":"<p>Very answered question.<br>\nIHMO, the excellent <a href=\"https://stackoverflow.com/a/7083360/270371\">answer</a> from @BlueRaja - Danny Pflughoeft is one of the best.<br></p>\n<blockquote>\n<p>Lots of answers suggest only testing the public interface, but IMHO\nthis is unrealistic - if a method does something that takes 5 steps,\nyou'll want to test those five steps separately, not all together.\nThis requires testing all five methods, which (other than for testing)\nmight otherwise be private.</p>\n</blockquote>\n<hr />\n<p>Above all, I want to stress that the question &quot;should we make a private method public to unit test it&quot; is a question which an objectively correct answer depends on multiple parameters.<br />\nSo I think that in some cases <strong>we have not</strong> to and in others <strong>we should</strong>.</p>\n<hr />\n<p><strong>Making public a private method or extracting the private method as a public method in another class (new or existing)?</strong> <br></p>\n<p>It is rarely the best way.<br />\nA unit test has to test the behavior of <strong>one</strong> API method/function.<br />\nIf you test a <code>public</code> method that invokes another <code>public</code> method belonging to the same component, you don't <strong>unit test</strong> the method. You test <strong>multiple</strong> <code>public</code> methods at the same time.<br />\nAs a consequence, you may duplicate tests, test fixtures, test assertions, the test maintenance and more generally the application design.<br>\nAs the tests value decreases, they often lose interest for developers that write or maintain them.<br></p>\n<p>To avoid all this duplication, instead of making the <code>private</code> method <code>public</code> method, in many cases a better solution is <strong>extracting the <code>private</code> method as a <code>public</code> method in a new or an existing class</strong>.<br>\nIt will not create a design defect.<br>\nIt will make the code more meaningful and the class less bloat.<br>\nBesides, sometimes the <code>private</code> method is a routine/subset of the class while the behavior suits better in a specific structure.<br>\nAt last, it also makes the code more testable and avoid tests duplication.<br>\nWe can indeed prevent tests duplication by unit testing the <code>public</code> method in its own test class and in the test class of the client classes, we have just to mock the dependency.<br></p>\n<p><strong>Mocking private methods?</strong><br></p>\n<p>While it is possible by using reflection or with tools as PowerMock, I think that it is often a way to bypass a design issue.<br>\nA <code>private</code> member is not designed to be exposed to other classes.<br />\nA test class is a class as another. So we should apply the same rule for it.</p>\n<p><strong>Mocking public methods of the object under test?</strong><br></p>\n<p>You may want to change the modifier <code>private</code> to <code>public</code> to test the method.<br>\nThen to test the method that uses this refactored public method, you may be tempted to mock the refactored <code>public</code> method  by using tools as Mockito (<a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.13.0/org/mockito/Spy.html\" rel=\"nofollow noreferrer\">spy concept</a>) but similarly to mocking <code>private</code> methods, we should avoid to mock the object under test.<br></p>\n<p>The <code>Mockito.spy()</code> documentation says it itself :</p>\n<blockquote>\n<p>Creates a spy of the real object. The spy calls real methods unless they are &gt; &gt; stubbed.</p>\n<p>Real spies should be used carefully and occasionally, for example when\ndealing with legacy code.</p>\n</blockquote>\n<p>By experience, using <code>spy()</code> generally decreases the test quality and its readability.<br>\nBesides, it is much more error-prone as the object under test is both a mock and a real object.<br>\nIt is often the best way to write an invalid acceptance test.</p>\n<hr />\n<p><strong>Here is a guideline I use to decide whether a <code>private</code>  method should stay <code>private</code> or be refactored.</strong><br></p>\n<p>Case 1) Never make a <code>private</code> method <code>public</code> if this method is invoked <strong>once</strong>.<br>\nIt is a <code>private</code> method for <strong>a single</strong> method. So you could never duplicate test logic as it is invoke once.<br></p>\n<p>Case 2) You should wonder whether a <code>private</code> method should be refactored as a <code>public</code> method if the <code>private</code> method is invoked <strong>more than once</strong>.<br></p>\n<p>How to decide ?<br></p>\n<ul>\n<li><p>The <code>private</code> method doesn't produce duplication in the tests.<br>\n-&gt; Keep the method <strong>private</strong> as it is.</p>\n</li>\n<li><p>The <code>private</code> method produces duplication in the tests. That is, you need to repeat some tests, to assert the same logic for each test that unit-tests <code>public</code> methods using the <code>private</code> method.<br>\n-&gt; <strong>If the repeated processing may make part of the API provided to clients</strong> (no security issue, no internal processing, etc...), <strong>extract the <code>private</code> method as a <code>public</code> method in a new class</strong>.<br>\n-&gt; Otherwise, <strong>if the repeated processing has not to make part of the API provided to clients</strong> (security issue, internal processing, etc...), <strong>don't widen the visibility of the <code>private</code> method to <code>public</code></strong>.<br>\nYou may leave it unchanged or move the method in a <code>private</code> package class that will never make part of the API and would be never accessible by clients.<br></p>\n</li>\n</ul>\n<hr />\n<p><strong>Code examples</strong><br></p>\n<p>The examples rely on Java and the following libraries : JUnit, AssertJ (assertion matcher) and Mockito.<br>\nBut I think that the overall approach is also valid for C#.<br></p>\n<p><strong>1) Example where the <code>private</code> method doesn't create duplication in the test code</strong><br></p>\n<p>Here is a <code>Computation</code> class that provides methods to perform some computations.<br>\nAll public methods use the <code>mapToInts()</code> method.</p>\n<pre><code>public class Computation {\n\n    public int add(String a, String b) {\n        int[] ints = mapToInts(a, b);\n        return ints[0] + ints[1];\n    }\n\n    public int minus(String a, String b) {\n        int[] ints = mapToInts(a, b);\n        return ints[0] - ints[1];\n    }\n\n    public int multiply(String a, String b) {\n        int[] ints = mapToInts(a, b);\n        return ints[0] * ints[1];\n    }\n\n    private int[] mapToInts(String a, String b) {\n        return new int[] { Integer.parseInt(a), Integer.parseInt(b) };\n    }\n\n}\n</code></pre>\n<p>Here is the test code :</p>\n<pre><code>public class ComputationTest {\n\n    private Computation computation = new Computation();\n\n    @Test\n    public void add() throws Exception {\n        Assert.assertEquals(7, computation.add(&quot;3&quot;, &quot;4&quot;));\n    }\n\n    @Test\n    public void minus() throws Exception {\n        Assert.assertEquals(2, computation.minus(&quot;5&quot;, &quot;3&quot;));\n    }\n\n    @Test\n    public void multiply() throws Exception {\n        Assert.assertEquals(100, computation.multiply(&quot;20&quot;, &quot;5&quot;));\n    }\n\n}\n</code></pre>\n<p>We could see that the invocation of the <code>private</code> method <code>mapToInts()</code> doesn't duplicate the test logic.<br>\nIt is an intermediary operation and it doesn't produce a specific result that we need to assert in the tests.<br></p>\n<p><strong>2) Example where the <code>private</code> method creates undesirable duplication in the test code</strong><br></p>\n<p>Here is a <code>MessageService</code> class that provides methods to create messages.<br>\nAll <code>public</code> methods use the <code>createHeader()</code> method : <br></p>\n<pre><code>public class MessageService {\n\n    public Message createMessage(String message, Credentials credentials) {\n        Header header = createHeader(credentials, message, false);\n        return new Message(header, message);\n    }\n\n    public Message createEncryptedMessage(String message, Credentials credentials) {\n        Header header = createHeader(credentials, message, true);\n        // specific processing to encrypt\n        // ......\n        return new Message(header, message);\n    }\n\n    public Message createAnonymousMessage(String message) {\n        Header header = createHeader(Credentials.anonymous(), message, false);\n        return new Message(header, message);\n    }\n\n    private Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\n        return new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\n    }\n\n}\n</code></pre>\n<p>Here is the test code :</p>\n<pre><code>import java.time.LocalDate;\n\nimport org.assertj.core.api.Assertions;\nimport org.junit.Test;\n\nimport junit.framework.Assert;\n\npublic class MessageServiceTest {\n\n    private MessageService messageService = new MessageService();\n\n    @Test\n    public void createMessage() throws Exception {\n        final String inputMessage = &quot;simple message&quot;;\n        final Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\n        Message actualMessage = messageService.createMessage(inputMessage, inputCredentials);\n        // assertion\n        Assert.assertEquals(inputMessage, actualMessage.getMessage());\n        Assertions.assertThat(actualMessage.getHeader())\n                  .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n                  .containsExactly(inputCredentials, 9, LocalDate.now(), false);\n    }\n\n    @Test\n    public void createEncryptedMessage() throws Exception {\n        final String inputMessage = &quot;encryted message&quot;;\n        final Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\n        Message actualMessage = messageService.createEncryptedMessage(inputMessage, inputCredentials);\n        // assertion\n        Assert.assertEquals(&quot;Aç4B36ddflm1Dkok49d1d9gaz&quot;, actualMessage.getMessage());\n        Assertions.assertThat(actualMessage.getHeader())\n                  .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n                  .containsExactly(inputCredentials, 9, LocalDate.now(), true);\n    }\n\n    @Test\n    public void createAnonymousMessage() throws Exception {\n        final String inputMessage = &quot;anonymous message&quot;;\n        Message actualMessage = messageService.createAnonymousMessage(inputMessage);\n        // assertion\n        Assert.assertEquals(inputMessage, actualMessage.getMessage());\n        Assertions.assertThat(actualMessage.getHeader())\n                  .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n                  .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\n    }\n\n}\n</code></pre>\n<p>We could see that the invocation of the <code>private</code> method <code>createHeader()</code> creates some duplication in the test logic.<br>\n<code>createHeader()</code> creates indeed a specific result that we need to assert in the tests.<br>\nWe assert 3 times the header content while a single assertion should be required.<br></p>\n<p>We could also note that the asserting duplication is close between the methods but not necessary the same as the <code>private</code> method has a specific logic :\nOf course, we could have more differences according to the logic complexity of the <code>private</code> method.<br>\nBesides, at each time we add a new <code>public</code> method in <code>MessageService</code> that calls <code>createHeader()</code>, we will have to add this assertion.<br>\nNote also that if <code>createHeader()</code> modifies its behavior, all these tests may also need to be modified.<br>\nDefinitively, it is not a very good design.<br></p>\n<p><strong>Refactoring step</strong></p>\n<p>Suppose we are in a case where <code>createHeader()</code> is acceptable to make part of the API.<br>\nWe will start by refactoring the <code>MessageService</code> class by changing the access modifier of <code>createHeader()</code> to <code>public</code> :</p>\n<pre><code>public Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\n    return new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\n}\n</code></pre>\n<p>We could now test unitary this method :</p>\n<pre><code>@Test\npublic void createHeader_with_encrypted_message() throws Exception {\n  ...\n  boolean isEncrypted = true;\n  // action\n  Header actualHeader = messageService.createHeader(credentials, message, isEncrypted);\n  // assertion\n  Assertions.assertThat(actualHeader)\n              .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n              .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), true);\n}\n\n@Test\npublic void createHeader_with_not_encrypted_message() throws Exception {\n  ...\n  boolean isEncrypted = false;\n  // action\n  messageService.createHeader(credentials, message, isEncrypted);\n  // assertion\n  Assertions.assertThat(actualHeader)\n              .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n              .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\n\n}\n</code></pre>\n<p>But what about the tests we write previously for <code>public</code> methods of the class that use <code>createHeader()</code> ?<br>\nNot many differences. <br>\nIn fact, we are still annoyed as these <code>public</code> methods still need to be tested concerning the returned header value.<br>\nIf we remove these assertions, we may not detect regressions about it.<br>\nWe should be able to naturally isolate this processing but we cannot as the <code>createHeader()</code> method belongs to the tested component.<br>\nThat's why I explained at the beginning of my answer that in most of cases, we should favor the extraction of the <code>private</code> method in another class to the change of the access modifier to <code>public</code>.<br></p>\n<p>So we introduce <code>HeaderService</code> :</p>\n<pre><code>public class HeaderService {\n\n    public Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\n        return new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\n    }\n\n}\n</code></pre>\n<p>And we migrate the <code>createHeader()</code> tests in <code>HeaderServiceTest</code>.<br></p>\n<p>Now <code>MessageService</code> is defined with a <code>HeaderService</code> dependency:</p>\n<pre><code>public class MessageService {\n\n    private HeaderService headerService;\n\n    public MessageService(HeaderService headerService) {\n        this.headerService = headerService;\n    }\n\n    public Message createMessage(String message, Credentials credentials) {\n        Header header = headerService.createHeader(credentials, message, false);\n        return new Message(header, message);\n    }\n\n    public Message createEncryptedMessage(String message, Credentials credentials) {\n        Header header = headerService.createHeader(credentials, message, true);\n        // specific processing to encrypt\n        // ......\n        return new Message(header, message);\n    }\n\n    public Message createAnonymousMessage(String message) {\n        Header header = headerService.createHeader(Credentials.anonymous(), message, false);\n        return new Message(header, message);\n    }\n\n}\n</code></pre>\n<p>And in  <code>MessageService</code>  tests, we don't need any longer to assert each header value as this is already tested.<br>\nWe want to just ensure that <code>Message.getHeader()</code> returns what  <code>HeaderService.createHeader()</code> has returned.<br></p>\n<p>For example, here is the new version of <code>createMessage()</code> test :</p>\n<pre><code>@Test\npublic void createMessage() throws Exception {\n    final String inputMessage = &quot;simple message&quot;;\n    final Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\n    final Header fakeHeaderForMock = createFakeHeader();\n    Mockito.when(headerService.createHeader(inputCredentials, inputMessage, false))\n           .thenReturn(fakeHeaderForMock);\n    // action\n    Message actualMessage = messageService.createMessage(inputMessage, inputCredentials);\n    // assertion\n    Assert.assertEquals(inputMessage, actualMessage.getMessage());\n    Assert.assertSame(fakeHeaderForMock, actualMessage.getHeader());\n}\n</code></pre>\n<p>Note the <code>assertSame()</code> use to compare the object references for the headers and not the contents.<br>\nNow, <code>HeaderService.createHeader()</code> may change its behavior and return different values, it doesn't matter from the <code>MessageService</code> tests point of view.</p>\n"},{"tags":[],"owner":{"account_id":1717540,"reputation":6124,"user_id":1574294,"accept_rate":86,"display_name":"Kolyunya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634761599,"creation_date":1634761599,"answer_id":69652627,"question_id":7075938,"body_markdown":"When you have complex logic in some method that you want to test, this is a good indicator that the class violates the single responsibility principle.\r\n\r\nA good solution for that would be to:\r\n1. Create an interface for the functionality the original method had.\r\n2. Implement and test that interface in a class.\r\n3. Inject the interface into the original class.","title":"Making a private method public to unit test it...good idea?","body":"<p>When you have complex logic in some method that you want to test, this is a good indicator that the class violates the single responsibility principle.</p>\n<p>A good solution for that would be to:</p>\n<ol>\n<li>Create an interface for the functionality the original method had.</li>\n<li>Implement and test that interface in a class.</li>\n<li>Inject the interface into the original class.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":199879,"reputation":1105,"user_id":445440,"accept_rate":68,"display_name":"danny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642658320,"creation_date":1642651262,"answer_id":70780650,"question_id":7075938,"body_markdown":"recently I have come to the same thinking when refactoring a big method(&gt; 200 lines). I successfully split the big method into smaller methods for each logical step, so it is easy to reason about.\r\n\r\nwhen comes to the refactored out small private methods, I wonder should I test them separately since if I only test the public method, I&#39;m still testing the big method, testing is not benefiting from the refactoring at all\r\n\r\nafter some more thought I came to some realizations:\r\n\r\n 1. if all the small methods are private and can&#39;t be reused by others,\r\n    maybe I am doing something wrong: **I am not pulling the right\r\n    abstraction from the code**, I am only splitting the big methods\r\n    treating them like lines/strings, not like **mental barrier**\r\n 2. when I came to the right small methods(*I refactored again,\r\n    completely changing the small methods*), and move the small methods\r\n    into another class exposed as public methods **for others to use**,\r\n    now I can test them(and I should test them, they will be used more\r\n    and deserver the attention)\r\n\r\nSummary: \r\n\r\nI still have many small private methods, but they are sharing lots of public methods and the small methods is really small(3-4 lines, mostly function call), but **I will not test them**, I **only need to test the shared public method now in another class**","title":"Making a private method public to unit test it...good idea?","body":"<p>recently I have come to the same thinking when refactoring a big method(&gt; 200 lines). I successfully split the big method into smaller methods for each logical step, so it is easy to reason about.</p>\n<p>when comes to the refactored out small private methods, I wonder should I test them separately since if I only test the public method, I'm still testing the big method, testing is not benefiting from the refactoring at all</p>\n<p>after some more thought I came to some realizations:</p>\n<ol>\n<li>if all the small methods are private and can't be reused by others,\nmaybe I am doing something wrong: <strong>I am not pulling the right\nabstraction from the code</strong>, I am only splitting the big methods\ntreating them like lines/strings, not like <strong>mental barrier</strong></li>\n<li>when I came to the right small methods(<em>I refactored again,\ncompletely changing the small methods</em>), and move the small methods\ninto another class exposed as public methods <strong>for others to use</strong>,\nnow I can test them(and I should test them, they will be used more\nand deserver the attention)</li>\n</ol>\n<p>Summary:</p>\n<p>I still have many small private methods, but they are sharing lots of public methods and the small methods is really small(3-4 lines, mostly function call), but <strong>I will not test them</strong>, I <strong>only need to test the shared public method now in another class</strong></p>\n"}],"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62618,"favorite_count":0,"down_vote_count":1,"up_vote_count":335,"answer_count":35,"score":334,"last_activity_date":1642658320,"creation_date":1313485902,"question_id":7075938,"body_markdown":"&lt;sub&gt;**Moderator Note:**  *There are already 39 answers posted here (some have been deleted).*  Before you post *your* answer, consider whether or not you can add something meaningful to the discussion.  You&#39;re more than likely just repeating what someone else has already said.&lt;/sub&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nI occasionally find myself needing to make a private method in a class public just to write some unit tests for it.\r\n\r\nUsually this would be because the method contains logic shared between other methods in the class and it&#39;s tidier to test the logic on its own, or another reason could be possible be I want to test logic used in synchronous threads without having to worry about threading problems.\r\n\r\nDo other people find themselves doing this, because I don&#39;t really like doing it?? I personally think the bonuses outweigh the problems of making a method public which doesn&#39;t really provide any service outside of the class...\r\n\r\n**UPDATE**\r\n\r\nThanks for answers everyone, seems to have piqued peoples&#39; interest. I think the general consensus is testing should happen via the public API as this is the only way a class will ever be used, and I do agree with this. The couple of cases I mentioned above where I would do this above were uncommon cases and I thought the benefits of doing it was worth it.\r\n\r\nI can however, see everyones point that it should never really happen. And when thinking about it a bit more I think changing your code to accommodate tests is a bad idea - after all I suppose testing is a support tool in a way and changing a system to &#39;support a support tool&#39; if you will, is blatant bad practice.\r\n","title":"Making a private method public to unit test it...good idea?","body":"<p><sub><strong>Moderator Note:</strong>  <em>There are already 39 answers posted here (some have been deleted).</em>  Before you post <em>your</em> answer, consider whether or not you can add something meaningful to the discussion.  You're more than likely just repeating what someone else has already said.</sub></p>\n\n<hr>\n\n<p>I occasionally find myself needing to make a private method in a class public just to write some unit tests for it.</p>\n\n<p>Usually this would be because the method contains logic shared between other methods in the class and it's tidier to test the logic on its own, or another reason could be possible be I want to test logic used in synchronous threads without having to worry about threading problems.</p>\n\n<p>Do other people find themselves doing this, because I don't really like doing it?? I personally think the bonuses outweigh the problems of making a method public which doesn't really provide any service outside of the class...</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks for answers everyone, seems to have piqued peoples' interest. I think the general consensus is testing should happen via the public API as this is the only way a class will ever be used, and I do agree with this. The couple of cases I mentioned above where I would do this above were uncommon cases and I thought the benefits of doing it was worth it.</p>\n\n<p>I can however, see everyones point that it should never really happen. And when thinking about it a bit more I think changing your code to accommodate tests is a bad idea - after all I suppose testing is a support tool in a way and changing a system to 'support a support tool' if you will, is blatant bad practice.</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642658128,"creation_date":1642651596,"answer_id":70780685,"question_id":70780071,"body_markdown":"You can try this is will replicate some function of javascript\r\n\r\n    &lt;div th:each=&quot;comment : ${comments}&quot;&gt;\r\n     &lt;button th:if=&quot;${comment.author.username == user.username}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\r\n    &lt;/div&gt;","title":"Thymeleaf - Check if array contains element with property","body":"<p>You can try this is will replicate some function of javascript</p>\n<pre><code>&lt;div th:each=&quot;comment : ${comments}&quot;&gt;\n &lt;button th:if=&quot;${comment.author.username == user.username}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14796971,"reputation":355,"user_id":10686377,"display_name":"FireFuro99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642657228,"creation_date":1642657228,"answer_id":70781288,"question_id":70780071,"body_markdown":"Finally found a working solution: https://stackoverflow.com/a/34828280/10686377\r\n\r\nUsing Spring&#39;s [Collection Selection][1] you can check if a list contains an element with a specific property value.\r\n\r\n    &lt;button th:unless=&quot;${comments.^[author.username == user.username]}&quot;  class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-selection","title":"Thymeleaf - Check if array contains element with property","body":"<p>Finally found a working solution: <a href=\"https://stackoverflow.com/a/34828280/10686377\">https://stackoverflow.com/a/34828280/10686377</a></p>\n<p>Using Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-selection\" rel=\"nofollow noreferrer\">Collection Selection</a> you can check if a list contains an element with a specific property value.</p>\n<pre><code>&lt;button th:unless=&quot;${comments.^[author.username == user.username]}&quot;  class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\n</code></pre>\n"}],"owner":{"account_id":14796971,"reputation":355,"user_id":10686377,"display_name":"FireFuro99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70781288,"answer_count":2,"score":2,"last_activity_date":1642658128,"creation_date":1642644829,"question_id":70780071,"body_markdown":"I have a list of `comments`. Each comment has an attribute `author`. And each author has a `username`.\r\n\r\nI want to display a specific button only if the current user did not write a comment yet. (Which means there must be no comment in the list, where the username of the author equals user.username)\r\n\r\nThis is what it would look like in JavaScript:\r\n\r\n    if(!comments.some(comment =&gt; comment.author.username === user.username))\r\n\r\nBut I have no idea, how to do it in Thymeleaf. I could not find any necessary functions like array#map(), array#any(), etc. Inline loops also don&#39;t seem to be a thing.\r\n\r\n     &lt;button th:if=&quot;${!&lt;What goes here?&gt;}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\r\n\r\nHow do I do it?","title":"Thymeleaf - Check if array contains element with property","body":"<p>I have a list of <code>comments</code>. Each comment has an attribute <code>author</code>. And each author has a <code>username</code>.</p>\n<p>I want to display a specific button only if the current user did not write a comment yet. (Which means there must be no comment in the list, where the username of the author equals user.username)</p>\n<p>This is what it would look like in JavaScript:</p>\n<pre><code>if(!comments.some(comment =&gt; comment.author.username === user.username))\n</code></pre>\n<p>But I have no idea, how to do it in Thymeleaf. I could not find any necessary functions like array#map(), array#any(), etc. Inline loops also don't seem to be a thing.</p>\n<pre><code> &lt;button th:if=&quot;${!&lt;What goes here?&gt;}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\n</code></pre>\n<p>How do I do it?</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1642655607,"post_id":70781018,"comment_id":125130173,"body_markdown":"Read the javac docs: https://docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html The `-d` option may help.","body":"Read the javac docs: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html</a> The <code>-d</code> option may help."}],"answers":[{"tags":[],"owner":{"account_id":23977205,"reputation":136,"user_id":17965148,"display_name":"Optimizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642656186,"creation_date":1642656186,"answer_id":70781156,"question_id":70781018,"body_markdown":"Use -d parameter with javac to specify the directory you&#39;d like to store the compiled class file.\r\nAs Ex:\r\n\r\n        javac -d &lt;path where to store class file&gt; &lt;your java file to compile&gt;\r\n        \r\n\r\n","title":"create java class file in another directory","body":"<p>Use -d parameter with javac to specify the directory you'd like to store the compiled class file.\nAs Ex:</p>\n<pre><code>    javac -d &lt;path where to store class file&gt; &lt;your java file to compile&gt;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23954185,"reputation":13,"user_id":17945304,"display_name":"Prithvi Atal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642657590,"creation_date":1642657590,"answer_id":70781338,"question_id":70781018,"body_markdown":"javac Graph.java -d &quot;~/java/classes/&quot;","title":"create java class file in another directory","body":"<p>javac Graph.java -d &quot;~/java/classes/&quot;</p>\n"}],"owner":{"account_id":23995137,"reputation":11,"user_id":17980737,"display_name":"efgvdfv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1642657590,"creation_date":1642654962,"question_id":70781018,"body_markdown":"say ~ is my home directory. it got a child directory ``` java ``` , which has two child directories ```classes``` and ```sources```. Say I got a file in ```~/java/sources/``` names Graph.java. I want to compile it such that its class file ends up being in ```~/java/classes/```. ","title":"create java class file in another directory","body":"<p>say ~ is my home directory. it got a child directory <code>java</code> , which has two child directories <code>classes</code> and <code>sources</code>. Say I got a file in <code>~/java/sources/</code> names Graph.java. I want to compile it such that its class file ends up being in <code>~/java/classes/</code>.</p>\n"},{"tags":["java","junit","libgdx","asset-management"],"comments":[{"owner":{"account_id":23992605,"reputation":21,"user_id":17978508,"display_name":"Erch G"},"score":0,"creation_date":1642631763,"post_id":70778544,"comment_id":125126054,"body_markdown":"Want to note that I already tried https://stackoverflow.com/questions/47122554/libgdx-test-from-gradle-command-line-assets-not-found without success","body":"Want to note that I already tried <a href=\"https://stackoverflow.com/questions/47122554/libgdx-test-from-gradle-command-line-assets-not-found\" title=\"libgdx test from gradle command line assets not found\">stackoverflow.com/questions/47122554/&hellip;</a> without success"}],"owner":{"account_id":23992605,"reputation":21,"user_id":17978508,"display_name":"Erch G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642657533,"creation_date":1642631272,"question_id":70778544,"body_markdown":"I&#39;m currently facing the following problem:\r\nI started a project using libGdx. I&#39;ve almost finished it and want to run some JUnit tests now. In the test class I&#39;m using an AssetManager to load assets from the src module, but however it doesn&#39;t work correctly.\r\n\r\n\r\n    assetManager.setLoader(SceneAsset.class, &quot;.gltf&quot;, new GLTFAssetLoader());\r\n\r\n    assetManager.load(&quot;faceted_character/scene.gltf&quot;, SceneAsset.class);\r\n    assetManager.load(&quot;cute_cyborg/scene.gltf&quot;, SceneAsset.class);\r\n    assetManager.load(&quot;spaceship_orion/scene.gltf&quot;, SceneAsset.class);\r\n\r\n    assetManager.finishLoading();`\r\n\r\nIt throws this error:\r\n[![stacktrace][1]][1]\r\n\r\n(line 49 is assetManager.finishLoading();)\r\n\r\nThis leads me to the question: How can I access these files from the test class?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LV4Za.png","title":"libGdx: Can&#39;t load assets from JUnit test class","body":"<p>I'm currently facing the following problem:\nI started a project using libGdx. I've almost finished it and want to run some JUnit tests now. In the test class I'm using an AssetManager to load assets from the src module, but however it doesn't work correctly.</p>\n<pre><code>assetManager.setLoader(SceneAsset.class, &quot;.gltf&quot;, new GLTFAssetLoader());\n\nassetManager.load(&quot;faceted_character/scene.gltf&quot;, SceneAsset.class);\nassetManager.load(&quot;cute_cyborg/scene.gltf&quot;, SceneAsset.class);\nassetManager.load(&quot;spaceship_orion/scene.gltf&quot;, SceneAsset.class);\n\nassetManager.finishLoading();`\n</code></pre>\n<p>It throws this error:\n<a href=\"https://i.stack.imgur.com/LV4Za.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LV4Za.png\" alt=\"stacktrace\" /></a></p>\n<p>(line 49 is assetManager.finishLoading();)</p>\n<p>This leads me to the question: How can I access these files from the test class?</p>\n"},{"tags":["java","cmd","jar"],"answers":[{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642656514,"creation_date":1642656514,"answer_id":70781198,"question_id":70781160,"body_markdown":"To open a jar file in Windows, you must have the Java Runtime Environment installed. Alternatively, you can use decompression software, such as an unzip utility, to view the files in the jar archive.\r\n\r\nYou can also view, extract, run, and create JAR files with the Java Archive Tool provided as part of the Java Development Kit (JDK) included in the Oracle Java SE Development Kit. The Java Archive Tool is a command-line utility and here are the commands associated with the different capabilities:\r\n\r\nTo view a JAR file - jar tf jar file\r\nTo extract a JAR file - jar xf jar file\r\nTo run a JAR file - java -jar app.jar\r\nTo create a JAR file - jar cf jar file input file(s)\r\nNOTE: If you are looking to extract the contents from a JAR file, you can use various decompression utilities, such as Corel WinZip (Windows), Corel WinZip Mac (Mac), RARLAB WinRAR (Windows), and 7-Zip (Windows).\r\n\r\nOpen and view .JAR files with File Vi","title":"Jar File Not Opening When Double Clicked","body":"<p>To open a jar file in Windows, you must have the Java Runtime Environment installed. Alternatively, you can use decompression software, such as an unzip utility, to view the files in the jar archive.</p>\n<p>You can also view, extract, run, and create JAR files with the Java Archive Tool provided as part of the Java Development Kit (JDK) included in the Oracle Java SE Development Kit. The Java Archive Tool is a command-line utility and here are the commands associated with the different capabilities:</p>\n<p>To view a JAR file - jar tf jar file\nTo extract a JAR file - jar xf jar file\nTo run a JAR file - java -jar app.jar\nTo create a JAR file - jar cf jar file input file(s)\nNOTE: If you are looking to extract the contents from a JAR file, you can use various decompression utilities, such as Corel WinZip (Windows), Corel WinZip Mac (Mac), RARLAB WinRAR (Windows), and 7-Zip (Windows).</p>\n<p>Open and view .JAR files with File Vi</p>\n"},{"tags":[],"owner":{"account_id":11456951,"reputation":113,"user_id":8397651,"display_name":"SRM Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642657007,"creation_date":1642657007,"answer_id":70781261,"question_id":70781160,"body_markdown":"This is well known issue with `.jar` files.\r\n\r\nwhat we can do is try to `right-click` on the `.jar` file and `Open With` If some other program listed as the default program then If a Java Runtime is listed, you can open with it, and make it the default program to run with.\r\n\r\n&gt; That is\r\n\r\n     Right Click -&gt;  Properties -&gt; Change -&gt; C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\r\n\r\nthis path may vary based on jre installation location.\r\n","title":"Jar File Not Opening When Double Clicked","body":"<p>This is well known issue with <code>.jar</code> files.</p>\n<p>what we can do is try to <code>right-click</code> on the <code>.jar</code> file and <code>Open With</code> If some other program listed as the default program then If a Java Runtime is listed, you can open with it, and make it the default program to run with.</p>\n<blockquote>\n<p>That is</p>\n</blockquote>\n<pre><code> Right Click -&gt;  Properties -&gt; Change -&gt; C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\n</code></pre>\n<p>this path may vary based on jre installation location.</p>\n"}],"owner":{"account_id":17396510,"reputation":11,"user_id":12606141,"display_name":"Crispy-Nuggets-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8583,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1642673227,"answer_count":2,"score":-2,"last_activity_date":1642657234,"creation_date":1642656226,"question_id":70781160,"body_markdown":"I am having a small issue when trying to run Jar files on another application. I create a simple code that opens a JFrame it runs when I double click on my PC but if I send it over to another PC, double clicking it does not do anything. It only opens up if I type java -jar yourjar.jar, how would I fix so that it opens the JFrame window when the jar is double clicked? JRE is installed on both environments\r\n","title":"Jar File Not Opening When Double Clicked","body":"<p>I am having a small issue when trying to run Jar files on another application. I create a simple code that opens a JFrame it runs when I double click on my PC but if I send it over to another PC, double clicking it does not do anything. It only opens up if I type java -jar yourjar.jar, how would I fix so that it opens the JFrame window when the jar is double clicked? JRE is installed on both environments</p>\n"},{"tags":["java","android","java-native-interface","file-descriptor","parcelfiledescriptor"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1642653766,"post_id":70780312,"comment_id":125129851,"body_markdown":"1 wouldn&#39;t work because a ParcelFileDescriptor is not a subclass of FileDescriptor.  The second I wouldn&#39;t use at all-  its relying on internal implementation details of the FileDescriptor object, which could change at any time.","body":"1 wouldn&#39;t work because a ParcelFileDescriptor is not a subclass of FileDescriptor.  The second I wouldn&#39;t use at all-  its relying on internal implementation details of the FileDescriptor object, which could change at any time."},{"owner":{"account_id":18884916,"reputation":144,"user_id":13776577,"display_name":"拉拉姬"},"score":0,"creation_date":1642657033,"post_id":70780312,"comment_id":125130427,"body_markdown":"@Gabe Sechan\n https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12","body":"@Gabe Sechan  <a href=\"https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12\" rel=\"nofollow noreferrer\">learn.microsoft.com/zh-cn/dotnet/api/&hellip;</a>"}],"owner":{"account_id":18884916,"reputation":144,"user_id":13776577,"display_name":"拉拉姬"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642656926,"creation_date":1642647408,"question_id":70780312,"body_markdown":"I want to convert the filedescriptor (int) obtained from native to filedescriptor (Java object)\r\n\r\n```\r\n//native\r\n\r\nint fd = open(......);\r\n```\r\n\r\nWhy doesn&#39;t example 1 work? Maybe in theory?\r\n```java\r\n//eg 1:\r\n\r\nFileDescriptor mFd = ParcelFileDescriptor.adoptFd(fd).getFileDescriptor();\r\n\r\n//eg 2:\r\n\r\nFileDescriptor mFd = new FileDescriptor()\r\nMethod setFd = FileDescriptor.class.getDeclaredMethod(&quot;setInt$&quot;, int.class);\r\nsetFd.setAccessible(true);\r\nsetFd.invoke(mFd, fd);\r\n```\r\n\r\nMicrosoft：\r\n&gt;Take ownership of a raw native fd in to a new ParcelFileDescriptor.\r\n\r\nC#\r\n\r\n[Android.Runtime.Register(&quot;adoptFd&quot;, &quot;(I)Landroid/os/ParcelFileDescriptor;&quot;, &quot;&quot;)]\r\n\r\npublic static Android.OS.ParcelFileDescriptor? AdoptFd (int fd);\r\n\r\nParameters fd Int32\r\nThe native fd that the ParcelFileDescriptor should adopt.\r\n\r\nReturns\r\n\r\nParcelFileDescriptor\r\n\r\n**Returns a new ParcelFileDescriptor holding a FileDescriptor for the given fd.**\r\n\r\nAttributes\r\nRegisterAttribute\r\n\r\nhttps://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12","title":"Create a FileDescriptor object on Android","body":"<p>I want to convert the filedescriptor (int) obtained from native to filedescriptor (Java object)</p>\n<pre><code>//native\n\nint fd = open(......);\n</code></pre>\n<p>Why doesn't example 1 work? Maybe in theory?</p>\n<pre class=\"lang-java prettyprint-override\"><code>//eg 1:\n\nFileDescriptor mFd = ParcelFileDescriptor.adoptFd(fd).getFileDescriptor();\n\n//eg 2:\n\nFileDescriptor mFd = new FileDescriptor()\nMethod setFd = FileDescriptor.class.getDeclaredMethod(&quot;setInt$&quot;, int.class);\nsetFd.setAccessible(true);\nsetFd.invoke(mFd, fd);\n</code></pre>\n<p>Microsoft：</p>\n<blockquote>\n<p>Take ownership of a raw native fd in to a new ParcelFileDescriptor.</p>\n</blockquote>\n<p>C#</p>\n<p>[Android.Runtime.Register(&quot;adoptFd&quot;, &quot;(I)Landroid/os/ParcelFileDescriptor;&quot;, &quot;&quot;)]</p>\n<p>public static Android.OS.ParcelFileDescriptor? AdoptFd (int fd);</p>\n<p>Parameters fd Int32\nThe native fd that the ParcelFileDescriptor should adopt.</p>\n<p>Returns</p>\n<p>ParcelFileDescriptor</p>\n<p><strong>Returns a new ParcelFileDescriptor holding a FileDescriptor for the given fd.</strong></p>\n<p>Attributes\nRegisterAttribute</p>\n<p><a href=\"https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12</a></p>\n"},{"tags":["java","spring","spring-boot","proxy","buildpack"],"answers":[{"tags":[],"owner":{"account_id":2564481,"reputation":187,"user_id":2224918,"display_name":"astropcr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642656863,"creation_date":1642656863,"answer_id":70781248,"question_id":70781247,"body_markdown":"OK, managed to solve this one finally. \r\n\r\nSo the key was the `HTTP_PROXY` and `HTTPS_PROXY` setting, but had to put it in the correct place.\r\n\r\nFor me that was in the `environment` portion of the `bootBuildImage` gradle DSL.\r\n\r\n```java\r\n/**\r\n * Configure (Ahead-Of-Time) AOT Task.\r\n */\r\nspringAot {\r\n\tmode = AotMode.NATIVE\t\t// NATIVE is default\r\n\tdebugVerify = false\t\t\t// false is default\r\n\tremoveXmlSupport = false\t// true is default\r\n\tremoveSpelSupport = true\t// false is default\r\n\tremoveYamlSupport = true\t// false is default\r\n\tremoveJmxSupport = true\t\t// true is default\r\n\tverify = true\t\t\t\t// true is default\r\n}\r\n\r\n/**\r\n * Native Image Configuration.\r\n */\r\nbootBuildImage {\r\n\tbuilder = &#39;paketobuildpacks/builder:tiny&#39;\r\n\tenvironment = [\r\n\t\t\t&#39;BP_NATIVE_IMAGE&#39;: &#39;true&#39;,\r\n\t\t\t&#39;HTTP_PROXY&#39; : &#39;http://www-myproxy.org:43924&#39;,\r\n\t\t\t&#39;HTTPS_PROXY&#39; : &#39;http://www-myproxy.org:43924&#39;\r\n\t]\r\n}\r\n```\r\n\r\nThat did the trick. The buildpack was able to detect the environment property correctly then and route the request to download items via the proxy properly.","title":"Using Spring-Boot with Native Buildpack behind Corp. Proxy","body":"<p>OK, managed to solve this one finally.</p>\n<p>So the key was the <code>HTTP_PROXY</code> and <code>HTTPS_PROXY</code> setting, but had to put it in the correct place.</p>\n<p>For me that was in the <code>environment</code> portion of the <code>bootBuildImage</code> gradle DSL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Configure (Ahead-Of-Time) AOT Task.\n */\nspringAot {\n    mode = AotMode.NATIVE       // NATIVE is default\n    debugVerify = false         // false is default\n    removeXmlSupport = false    // true is default\n    removeSpelSupport = true    // false is default\n    removeYamlSupport = true    // false is default\n    removeJmxSupport = true     // true is default\n    verify = true               // true is default\n}\n\n/**\n * Native Image Configuration.\n */\nbootBuildImage {\n    builder = 'paketobuildpacks/builder:tiny'\n    environment = [\n            'BP_NATIVE_IMAGE': 'true',\n            'HTTP_PROXY' : 'http://www-myproxy.org:43924',\n            'HTTPS_PROXY' : 'http://www-myproxy.org:43924'\n    ]\n}\n</code></pre>\n<p>That did the trick. The buildpack was able to detect the environment property correctly then and route the request to download items via the proxy properly.</p>\n"}],"owner":{"account_id":2564481,"reputation":187,"user_id":2224918,"display_name":"astropcr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70781248,"answer_count":1,"score":1,"last_activity_date":1642656863,"creation_date":1642656863,"question_id":70781247,"body_markdown":"I am having an issue where the buildpack I am using as part of a native build with Spring Boot cannot download the required JDK to build the container image. It is not aware of my proxy settings for my corporate proxy. \r\n\r\nGetting errors that cant download the JDK as cant locate the host - classic proxy issue.\r\n\r\nWhat is the best way to set the proxy settings for a buildpack to use when using these packs as part of the Spring Boot native plugin (in my case Gradle).\r\n\r\nI have tried:\r\n\r\n - Setting proxy in my gradle.properties\r\n - Setting proxy in my gradle-wreapper.properties\r\n - Setting proxy within the IDE I am running gradle in\r\n - Setting HTTP_PROXY and HTTPS_PROXY env properties in Windows.\r\n\r\nThanks\r\n\r\nThanks,","title":"Using Spring-Boot with Native Buildpack behind Corp. Proxy","body":"<p>I am having an issue where the buildpack I am using as part of a native build with Spring Boot cannot download the required JDK to build the container image. It is not aware of my proxy settings for my corporate proxy.</p>\n<p>Getting errors that cant download the JDK as cant locate the host - classic proxy issue.</p>\n<p>What is the best way to set the proxy settings for a buildpack to use when using these packs as part of the Spring Boot native plugin (in my case Gradle).</p>\n<p>I have tried:</p>\n<ul>\n<li>Setting proxy in my gradle.properties</li>\n<li>Setting proxy in my gradle-wreapper.properties</li>\n<li>Setting proxy within the IDE I am running gradle in</li>\n<li>Setting HTTP_PROXY and HTTPS_PROXY env properties in Windows.</li>\n</ul>\n<p>Thanks</p>\n<p>Thanks,</p>\n"},{"tags":["java","json","authentication","jwt"],"comments":[{"owner":{"account_id":7979803,"reputation":8816,"user_id":6021597,"accept_rate":77,"display_name":"Ayush Gupta"},"score":0,"creation_date":1516641139,"post_id":48386407,"comment_id":83761191,"body_markdown":"read this too: https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-with-identity-providers.html","body":"read this too: <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-with-identity-providers.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cognito/latest/developerguide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1516640828,"creation_date":1516640122,"answer_id":48386609,"question_id":48386407,"body_markdown":"JWT can be used for two purpose:\r\n \r\n 1. Authentication (as you said)\r\n 2. Information Exchange.\r\n\r\nThe second part is the interesting one. A JWT contains:\r\n\r\n - a header: contains algorithm and token type\r\n - a payload: Which are statements about an entity (typically, the user) and additional metadata. There are three types of claims: registered, public, and private claims.\r\n - a signature: The signature is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn&#39;t changed along the way.\r\n\r\nThe payload can contains information about a user such as a list of rights.\r\nThis way you can use it for Authorization.\r\n\r\nExample from jwt.io:\r\n\r\n    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\r\n\r\nwhich contains:\r\n\r\n    {\r\n      &quot;alg&quot;: &quot;HS256&quot;,\r\n      &quot;typ&quot;: &quot;JWT&quot;\r\n    }\r\n    {\r\n      &quot;sub&quot;: &quot;1234567890&quot;,\r\n      &quot;name&quot;: &quot;John Doe&quot;,\r\n      &quot;admin&quot;: true\r\n    }\r\nyou can see that the payload contains the identity and information about the administration right. You can trust theses data because of the payload signature.","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p>JWT can be used for two purpose:</p>\n\n<ol>\n<li>Authentication (as you said)</li>\n<li>Information Exchange.</li>\n</ol>\n\n<p>The second part is the interesting one. A JWT contains:</p>\n\n<ul>\n<li>a header: contains algorithm and token type</li>\n<li>a payload: Which are statements about an entity (typically, the user) and additional metadata. There are three types of claims: registered, public, and private claims.</li>\n<li>a signature: The signature is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn't changed along the way.</li>\n</ul>\n\n<p>The payload can contains information about a user such as a list of rights.\nThis way you can use it for Authorization.</p>\n\n<p>Example from jwt.io:</p>\n\n<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\n</code></pre>\n\n<p>which contains:</p>\n\n<pre><code>{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n{\n  \"sub\": \"1234567890\",\n  \"name\": \"John Doe\",\n  \"admin\": true\n}\n</code></pre>\n\n<p>you can see that the payload contains the identity and information about the administration right. You can trust theses data because of the payload signature.</p>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1516640224,"creation_date":1516640224,"answer_id":48386629,"question_id":48386407,"body_markdown":"**Authorization** with *JWT* can be achieved using the token specific [claims][1].\r\n\r\nAs many other user information packaged as claims in the *Json Web Token* the specific permissions can be pre-filled in the token and can be intercepted later on by an authorization service.\r\n\r\nTypically the authorization would be permission based where permissions are used to restrict access to an api endpoint (may also be used to grant users access to views on the frontend apps).\r\n\r\nHere down a sample *JWT* token having a permission element:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      &quot;UserInfo&quot;: {\r\n        &quot;id&quot;: &quot;#{USER_ID}&quot;,\r\n        &quot;roles&quot;: {\r\n          &quot;#{ROLE_NAME}&quot;: &quot;#{ROLE_ID}&quot;\r\n        },\r\n        &quot;permissions&quot;: {\r\n          &quot;#{PERMISSION_NAME}&quot;: &quot;#{PERMISSION_ID}&quot;,\r\n        }\r\n      },\r\n      &quot;exp&quot;: 1488888888\r\n    }\r\n\r\n[1]: https://www.rfc-editor.org/rfc/rfc7519#section-4.1","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p><strong>Authorization</strong> with <em>JWT</em> can be achieved using the token specific <a href=\"https://www.rfc-editor.org/rfc/rfc7519#section-4.1\" rel=\"noreferrer\">claims</a>.</p>\n<p>As many other user information packaged as claims in the <em>Json Web Token</em> the specific permissions can be pre-filled in the token and can be intercepted later on by an authorization service.</p>\n<p>Typically the authorization would be permission based where permissions are used to restrict access to an api endpoint (may also be used to grant users access to views on the frontend apps).</p>\n<p>Here down a sample <em>JWT</em> token having a permission element:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;UserInfo&quot;: {\n    &quot;id&quot;: &quot;#{USER_ID}&quot;,\n    &quot;roles&quot;: {\n      &quot;#{ROLE_NAME}&quot;: &quot;#{ROLE_ID}&quot;\n    },\n    &quot;permissions&quot;: {\n      &quot;#{PERMISSION_NAME}&quot;: &quot;#{PERMISSION_ID}&quot;,\n    }\n  },\n  &quot;exp&quot;: 1488888888\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14156143,"reputation":315,"user_id":10226823,"display_name":"Aydin Homay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608212574,"creation_date":1608212574,"answer_id":65341905,"question_id":48386407,"body_markdown":"&gt; Is JWT suitable for Authorization or is it only for Authentication?\r\n\r\nThe answer to this question is lying in the following lines of [RFC7519][1] Standard:\r\n\r\n&gt;JSON Web Token (JWT) is a compact claims representation format\r\n   intended for space constrained environments such as HTTP\r\n   Authorization headers and URI query parameters.\r\n\r\n&gt;JWT doesn&#39;t seem to have any implementation that actually allows access to users to a given resource.\r\n\r\nI would say this part of your understanding needs a bit of polishing ;-) \r\nIndeed JWT has a structure called [Claims][2] and there you can find topics related to authorization. \r\n\r\nThe remaining part of your understanding is not following a correct sequence. In fact, there is a missing piece called Token Issuer. This guy is responsible to Authenticate JWT token requester and issue a JWT token if and only if the authentication process was successful and the requester was authorized. Then the issued JWT token could be verified by checking the signature, meaning that, the token that has been issued via a token issuer like an Identity Server will contain a hash code of message which will allow the consumer of the token to double-check the signature (hash code) to make sure the token has not been modified via unauthorized access during the transitions between client-server. Then if the token was a valid token the consumer at the next step can extract token (JWT) claims to process the authorization part.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7519#section-1\r\n  [2]: https://www.rfc-editor.org/rfc/rfc7519#section-4","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<blockquote>\n<p>Is JWT suitable for Authorization or is it only for Authentication?</p>\n</blockquote>\n<p>The answer to this question is lying in the following lines of <a href=\"https://www.rfc-editor.org/rfc/rfc7519#section-1\" rel=\"nofollow noreferrer\">RFC7519</a> Standard:</p>\n<blockquote>\n<p>JSON Web Token (JWT) is a compact claims representation format\nintended for space constrained environments such as HTTP\nAuthorization headers and URI query parameters.</p>\n</blockquote>\n<blockquote>\n<p>JWT doesn't seem to have any implementation that actually allows access to users to a given resource.</p>\n</blockquote>\n<p>I would say this part of your understanding needs a bit of polishing ;-)\nIndeed JWT has a structure called <a href=\"https://www.rfc-editor.org/rfc/rfc7519#section-4\" rel=\"nofollow noreferrer\">Claims</a> and there you can find topics related to authorization.</p>\n<p>The remaining part of your understanding is not following a correct sequence. In fact, there is a missing piece called Token Issuer. This guy is responsible to Authenticate JWT token requester and issue a JWT token if and only if the authentication process was successful and the requester was authorized. Then the issued JWT token could be verified by checking the signature, meaning that, the token that has been issued via a token issuer like an Identity Server will contain a hash code of message which will allow the consumer of the token to double-check the signature (hash code) to make sure the token has not been modified via unauthorized access during the transitions between client-server. Then if the token was a valid token the consumer at the next step can extract token (JWT) claims to process the authorization part.</p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609246309,"creation_date":1609198734,"answer_id":65485469,"question_id":48386407,"body_markdown":"User logins first. Once user pass the login process, or we say once user is authenticated, you sign a jwt token and send it to the user. this is node.js snippet \r\n\r\n \r\n\r\n    async postLogin(req, res, next) {\r\n        // parse the req.body, get the email,password\r\n        // check if the email exist, if exists check the passord\r\n        // now you are sure credentials are true, create the jwt.\r\n        const token = jwt.sign({ _id: this._id, email: this.email }, &quot;this-is-secret&quot;, {\r\n      expiresIn: &quot;1h&quot;,\r\n      res\r\n        .status(200)\r\n        .header(&quot;x-auth-token&quot;, token)\r\n        .json({ token, userId: existingUser._id.toString() });\r\n       });\r\n      }\r\n   \r\n   now client will takes it save it to localStorage. (for simplicity i m using localStorage). IN the client side, user sends post request to login and gets what I sent above. It will take the token, and save it. since it is async request, it will be like this. this is a little react code to demonstrate:\r\n\r\n      .then(resData =&gt; {\r\n        localStorage.setItem(&#39;token&#39;, resData.token);\r\n        localStorage.setItem(&#39;userId&#39;, resData.userId);\r\n   \r\nOne thing about tokens, browser does not send it automatically, so client will manually attach it to the request. \r\n\r\n   \r\n\r\n    fetch(url, {\r\n          method: &quot;post&quot;,\r\n          headers: {\r\n            Authorization: &#39;Bearer &#39; + localStorage.getItem(&#39;token&#39;)\r\n          }\r\n        })\r\n\r\n Once your server gets the request, you check the incoming token, if it is a valid token you will authorize the user to access certain routes or services. So user will be Authorized. \r\n\r\nAuthentication is the process of identifying users and validating who they claim to be. One of the most common and obvious factors to authenticate identity is a password. If the user name matches the password credential, it means the identity is valid, and the system grants access to the user, so we say user is authenticated\r\n","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p>User logins first. Once user pass the login process, or we say once user is authenticated, you sign a jwt token and send it to the user. this is node.js snippet</p>\n<pre><code>async postLogin(req, res, next) {\n    // parse the req.body, get the email,password\n    // check if the email exist, if exists check the passord\n    // now you are sure credentials are true, create the jwt.\n    const token = jwt.sign({ _id: this._id, email: this.email }, &quot;this-is-secret&quot;, {\n  expiresIn: &quot;1h&quot;,\n  res\n    .status(200)\n    .header(&quot;x-auth-token&quot;, token)\n    .json({ token, userId: existingUser._id.toString() });\n   });\n  }\n</code></pre>\n<p>now client will takes it save it to localStorage. (for simplicity i m using localStorage). IN the client side, user sends post request to login and gets what I sent above. It will take the token, and save it. since it is async request, it will be like this. this is a little react code to demonstrate:</p>\n<pre><code>  .then(resData =&gt; {\n    localStorage.setItem('token', resData.token);\n    localStorage.setItem('userId', resData.userId);\n</code></pre>\n<p>One thing about tokens, browser does not send it automatically, so client will manually attach it to the request.</p>\n<pre><code>fetch(url, {\n      method: &quot;post&quot;,\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    })\n</code></pre>\n<p>Once your server gets the request, you check the incoming token, if it is a valid token you will authorize the user to access certain routes or services. So user will be Authorized.</p>\n<p>Authentication is the process of identifying users and validating who they claim to be. One of the most common and obvious factors to authenticate identity is a password. If the user name matches the password credential, it means the identity is valid, and the system grants access to the user, so we say user is authenticated</p>\n"}],"owner":{"account_id":2208907,"reputation":1341,"user_id":1951392,"display_name":"Rohan Kadu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18335,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":4,"score":27,"last_activity_date":1642656817,"creation_date":1516639405,"question_id":48386407,"body_markdown":"JWT terminology has been bothering me for a few reasons. Is JWT suitable for Authorization or is it only for Authentication?\r\n\r\nCorrect me if I&#39;m wrong but I have always read Authorization as being the act of allowing someone access to a resource yet JWT doesn&#39;t seem to have any implementation that actually allows access to users to a given resource. All JWT implementations talk about is providing a user a token. This token is then passed with every call to a back-end service endpoint where it is checked for validity and if valid access is granted. So we can use JWT for **Authentication** of any user  but how can we restrict the access to particular valid users ?\r\n\r\nHow can we use JWT for restricting a few users depending on roles they have?\r\nDo JWT provide any type of Authorization details as well or does it just provide us Authentication ?\r\n\r\nThanks in advance for your help and reading my doubt patiently.\r\n\r\n\r\n\r\n","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p>JWT terminology has been bothering me for a few reasons. Is JWT suitable for Authorization or is it only for Authentication?</p>\n<p>Correct me if I'm wrong but I have always read Authorization as being the act of allowing someone access to a resource yet JWT doesn't seem to have any implementation that actually allows access to users to a given resource. All JWT implementations talk about is providing a user a token. This token is then passed with every call to a back-end service endpoint where it is checked for validity and if valid access is granted. So we can use JWT for <strong>Authentication</strong> of any user  but how can we restrict the access to particular valid users ?</p>\n<p>How can we use JWT for restricting a few users depending on roles they have?\nDo JWT provide any type of Authorization details as well or does it just provide us Authentication ?</p>\n<p>Thanks in advance for your help and reading my doubt patiently.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642652822,"creation_date":1642652822,"answer_id":70780796,"question_id":70780083,"body_markdown":"You are missing the **@Override** :\r\n\r\n    Button button = findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override //Right here\r\n            public void onClick(View v) {\r\n                webView.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\r\n            }\r\n        });","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>You are missing the <strong>@Override</strong> :</p>\n<pre><code>Button button = findViewById(R.id.button);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override //Right here\n        public void onClick(View v) {\n            webView.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642653901,"creation_date":1642653901,"answer_id":70780913,"question_id":70780083,"body_markdown":"You are creating a web view programmatically and then trying to access a button from an XML file and you have not linked the XML file in the Java file, so it crashes. Update your code with this code completely\r\n\r\n XML file  - activity_main.xml \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/my_progress&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:indeterminate=&quot;true&quot;/&gt;\r\n    \r\n        &lt;WebView\r\n            android:id=&quot;@+id/my_webview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/reload_btn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:text=&quot;Retry&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\njava file - MainActivity.java\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkCapabilities;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Button;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            WebView webView = findViewById(R.id.my_webview);\r\n            Button reloadBtn = findViewById(R.id.reload_btn);\r\n            ProgressBar progress = findViewById(R.id.my_progress);\r\n    \r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setBuiltInZoomControls(true);\r\n            webSettings.setJavaScriptEnabled(true);\r\n    \r\n            webSettings.setLoadWithOverviewMode(true);\r\n            webSettings.setUseWideViewPort(true);\r\n            webSettings.setSupportZoom(true);\r\n            webSettings.setBuiltInZoomControls(true);\r\n            webSettings.setDisplayZoomControls(false);\r\n            webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n            webView.setScrollbarFadingEnabled(false);\r\n    \r\n    \r\n            webView.setWebViewClient(new WebViewClient(){\r\n    \r\n                @Override\r\n                public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                    super.onPageStarted(view, url, favicon);\r\n                    webView.setVisibility(View.GONE);\r\n                }\r\n    \r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    super.onPageFinished(view, url);\r\n                    progress.setVisibility(View.GONE);\r\n                    webView.setVisibility(View.VISIBLE);\r\n                }\r\n            });\r\n    \r\n    \r\n            if (isNetworkAvailable(this)) {\r\n    \r\n                webView.loadUrl(&quot;https://racks.tk&quot;);\r\n    \r\n                reloadBtn.setVisibility(View.GONE);\r\n    \r\n            } else {\r\n    \r\n                Toast.makeText(this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n                reloadBtn.setVisibility(View.VISIBLE);\r\n    \r\n            }\r\n    \r\n    \r\n            reloadBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (isNetworkAvailable(MainActivity.this)){\r\n                        reloadBtn.setVisibility(View.GONE);\r\n                        webView.loadUrl(&quot;https://racks.tk&quot;);\r\n                    }else {\r\n    \r\n                        reloadBtn.setVisibility(View.VISIBLE);\r\n                        Toast.makeText(MainActivity.this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        public static boolean isNetworkAvailable(Context context) {\r\n    \r\n            ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n            if (connectivityManager != null) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                    return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n                } else {\r\n                    NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                    return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n    \r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }\r\n\r\n","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>You are creating a web view programmatically and then trying to access a button from an XML file and you have not linked the XML file in the Java file, so it crashes. Update your code with this code completely</p>\n<p>XML file  - activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/my_progress&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:indeterminate=&quot;true&quot;/&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/my_webview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/reload_btn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:text=&quot;Retry&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>java file - MainActivity.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkCapabilities;\nimport android.net.NetworkInfo;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = findViewById(R.id.my_webview);\n        Button reloadBtn = findViewById(R.id.reload_btn);\n        ProgressBar progress = findViewById(R.id.my_progress);\n\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n\n        webSettings.setLoadWithOverviewMode(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setSupportZoom(true);\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n\n\n        webView.setWebViewClient(new WebViewClient(){\n\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n                webView.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                progress.setVisibility(View.GONE);\n                webView.setVisibility(View.VISIBLE);\n            }\n        });\n\n\n        if (isNetworkAvailable(this)) {\n\n            webView.loadUrl(&quot;https://racks.tk&quot;);\n\n            reloadBtn.setVisibility(View.GONE);\n\n        } else {\n\n            Toast.makeText(this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n            reloadBtn.setVisibility(View.VISIBLE);\n\n        }\n\n\n        reloadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (isNetworkAvailable(MainActivity.this)){\n                    reloadBtn.setVisibility(View.GONE);\n                    webView.loadUrl(&quot;https://racks.tk&quot;);\n                }else {\n\n                    reloadBtn.setVisibility(View.VISIBLE);\n                    Toast.makeText(MainActivity.this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n                }\n\n            }\n        });\n    }\n\n    public static boolean isNetworkAvailable(Context context) {\n\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (connectivityManager != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n            } else {\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9707166,"reputation":21,"user_id":7200266,"display_name":"Smart virus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642655223,"creation_date":1642655223,"answer_id":70781045,"question_id":70780083,"body_markdown":"Button button= findViewById(R.id.button);\r\n\r\nif(isNetworkAvailable(this)){\r\n\r\n            webView.loadUrl(&quot;myurl.com&quot;);\r\n\r\n            button.setVisibility(View.VISIBLE)\r\n\r\n        } else {\r\n\r\n            button.setVisibility(View.GONE)\r\n            Toast.makeText(this,&quot;check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>Button button= findViewById(R.id.button);</p>\n<p>if(isNetworkAvailable(this)){</p>\n<pre><code>        webView.loadUrl(&quot;myurl.com&quot;);\n\n        button.setVisibility(View.VISIBLE)\n\n    } else {\n\n        button.setVisibility(View.GONE)\n        Toast.makeText(this,&quot;check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70780913,"answer_count":3,"score":0,"last_activity_date":1642655223,"creation_date":1642644944,"question_id":70780083,"body_markdown":"Hello I&#39;m trying to get my button that I have in my main XML file to only appear when there&#39;s no internet \r\nSo that&#39;s why I can get the button to only appear when there&#39;s no internet and so it&#39;s not shown anywhere else unless there&#39;s internet\r\ncan someone please help me?\r\n\r\nBlow i have listed the code for both the main XML and the main Java file\r\n\r\nxml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;WebView\r\n        android:layout_width=&quot;10dp&quot;\r\n        android:layout_height=&quot;10dp&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;\r\n        tools:layout_editor_absoluteX=&quot;200dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;361dp&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        tools:layout_editor_absoluteX=&quot;202dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;399dp&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\\\r\n```\r\njava\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        WebView webView = new WebView(this);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setJavaScriptEnabled(true);\r\n        setContentView(webView);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setSupportZoom(true);\r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n        webView.getSettings().setDisplayZoomControls(false);\r\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n        webView.setScrollbarFadingEnabled(false);\r\n\r\n\r\n        if(isNetworkAvailable(this)){\r\n\r\n            webView.loadUrl(&quot;https://racks.tk&quot;);\r\n\r\n        } else {\r\n\r\n\r\n            Toast.makeText(this,&quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n    }\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n            } else {\r\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n```\r\n","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>Hello I'm trying to get my button that I have in my main XML file to only appear when there's no internet\nSo that's why I can get the button to only appear when there's no internet and so it's not shown anywhere else unless there's internet\ncan someone please help me?</p>\n<p>Blow i have listed the code for both the main XML and the main Java file</p>\n<p>xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;WebView\n        android:layout_width=&quot;10dp&quot;\n        android:layout_height=&quot;10dp&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteX=&quot;200dp&quot;\n        tools:layout_editor_absoluteY=&quot;361dp&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot;\n        tools:layout_editor_absoluteX=&quot;202dp&quot;\n        tools:layout_editor_absoluteY=&quot;399dp&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\\\n</code></pre>\n<p>java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = new WebView(this);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n        setContentView(webView);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n\n\n        if(isNetworkAvailable(this)){\n\n            webView.loadUrl(&quot;https://racks.tk&quot;);\n\n        } else {\n\n\n            Toast.makeText(this,&quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n        }\n    }\n\n    public static boolean isNetworkAvailable(Context context) {\n\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (connectivityManager != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n            } else {\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n\n            }\n        }\n\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","integer","entitymanager","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475597773,"creation_date":1475597700,"answer_id":39857196,"question_id":39857168,"body_markdown":"Simply try this:\r\n\r\n    public int returnCountOfDogTable(String id) {\r\n    //...\r\n        List&lt;BigDecimal&gt; resultList = query.getResultList();\r\n        BigDecimal result = resultList.get(0);\r\n        return result.toIntValue();\r\n    }","title":"Returning result of count native query using EntityManager in Java?","body":"<p>Simply try this:</p>\n\n<pre><code>public int returnCountOfDogTable(String id) {\n//...\n    List&lt;BigDecimal&gt; resultList = query.getResultList();\n    BigDecimal result = resultList.get(0);\n    return result.toIntValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":188308,"reputation":492,"user_id":427002,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475598378,"creation_date":1475598378,"answer_id":39857400,"question_id":39857168,"body_markdown":"Make sense to use **Query#getSingleResult** method:\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;);\r\n    query.setParameter(&quot;id&quot;, 1);\r\n    int count = ((BigInteger) query.getSingleResult()).intValue();","title":"Returning result of count native query using EntityManager in Java?","body":"<p>Make sense to use <strong>Query#getSingleResult</strong> method:</p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT COUNT(*) FROM DOG WHERE ID =:id\");\nquery.setParameter(\"id\", 1);\nint count = ((BigInteger) query.getSingleResult()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1558447398,"creation_date":1533671740,"answer_id":51734502,"question_id":39857168,"body_markdown":"You can also use `Number` and call `intValue()`:\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;);\r\n    query.setParameter(&quot;id&quot;, 1);\r\n    int count = ((Number) query.getSingleResult()).intValue();\r\n\r\n","title":"Returning result of count native query using EntityManager in Java?","body":"<p>You can also use <code>Number</code> and call <code>intValue()</code>:</p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT COUNT(*) FROM DOG WHERE ID =:id\");\nquery.setParameter(\"id\", 1);\nint count = ((Number) query.getSingleResult()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642655006,"creation_date":1642655006,"answer_id":70781023,"question_id":39857168,"body_markdown":"    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n\r\n    @PersistenceContext\r\n    protected EntityManager em;\r\n\r\n    public int getCountQuery(String sql) {\r\n        int resultCount = 0;\r\n        try {\r\n            Query query = em.createNativeQuery(sql);\r\n            resultCount = ((Number) query.getSingleResult()).intValue();\r\n        } catch (Exception e) {\r\n            log.error(&quot;SQL Error&quot; + e.getMessage());\r\n        }\r\n        return resultCount;\r\n    }","title":"Returning result of count native query using EntityManager in Java?","body":"<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\n\n@PersistenceContext\nprotected EntityManager em;\n\npublic int getCountQuery(String sql) {\n    int resultCount = 0;\n    try {\n        Query query = em.createNativeQuery(sql);\n        resultCount = ((Number) query.getSingleResult()).intValue();\n    } catch (Exception e) {\n        log.error(&quot;SQL Error&quot; + e.getMessage());\n    }\n    return resultCount;\n}\n</code></pre>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44107,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":51734502,"answer_count":4,"score":11,"last_activity_date":1642655006,"creation_date":1475597580,"question_id":39857168,"body_markdown":"I have the following `SQL Query :`\r\n\r\n    SELECT COUNT(*) FROM DOG where ID = &#39;SampleId&#39;;\r\n\r\nI am trying to write this in `java` :\r\n\r\n    public int returnCountOfDogTable(String id){\r\n    \r\n            String sql= &quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;;\r\n            Query query = persistence.entityManager().createNativeQuery(sql);\r\n            query.setParameter(&quot;id&quot;, id);\r\n            List&lt;Integer&gt; resultList = query.getResultList();\r\n            int result = resultList.get(0);\r\n            return result;\r\n        }\r\n\r\nHowever I get this exception:\r\n\r\n    java.lang.ClassCastException: java.math.BigDecimal cannot be cast to java.lang.Integer\r\n\r\nHow can I solve this?\r\n\r\n\r\n","title":"Returning result of count native query using EntityManager in Java?","body":"<p>I have the following <code>SQL Query :</code></p>\n<pre><code>SELECT COUNT(*) FROM DOG where ID = 'SampleId';\n</code></pre>\n<p>I am trying to write this in <code>java</code> :</p>\n<pre><code>public int returnCountOfDogTable(String id){\n\n        String sql= &quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;;\n        Query query = persistence.entityManager().createNativeQuery(sql);\n        query.setParameter(&quot;id&quot;, id);\n        List&lt;Integer&gt; resultList = query.getResultList();\n        int result = resultList.get(0);\n        return result;\n    }\n</code></pre>\n<p>However I get this exception:</p>\n<pre><code>java.lang.ClassCastException: java.math.BigDecimal cannot be cast to java.lang.Integer\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","mysql","eclipse","hibernate-tools"],"comments":[{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1599113852,"post_id":63444628,"comment_id":112673801,"body_markdown":"Ended up reinstalling Eclipse and rebuilding the project with newer versions of the components. And skipped using the Hibernate Reverse Engineering tool altogether. So, I guess this just goes unresolved.","body":"Ended up reinstalling Eclipse and rebuilding the project with newer versions of the components. And skipped using the Hibernate Reverse Engineering tool altogether. So, I guess this just goes unresolved."}],"answers":[{"tags":[],"owner":{"account_id":14841854,"reputation":36,"user_id":10718356,"display_name":"razorshaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615656016,"creation_date":1615612606,"answer_id":66610350,"question_id":63444628,"body_markdown":"I guess sys is the default schema in your MySQL workbench.\r\n\r\nGo to your Mysql workbench and drop the schema/because it is importing all the schemas from your local server. \r\n\r\nor\r\n\r\nCustom :- Open your workspace(eclipse(&quot;run&quot; tab on top of screen-&gt;hibernate code genration) -&gt; Go to hibernate code generation( -&gt; click main-&gt; revenge.xml-&gt;select new -&gt; select folder-&gt; configure table filter-&gt; (1)select database you want to select-&gt; import all table-&gt; apply -&gt; Run .\r\n\r\nNow you can see all the tables in the location you have selected.\r\nIf you want to customer export you could also do so after (1) step above\r\n\r\n","title":"Eclipse Hibernate.cfg.xml is linking &quot;sys&quot; database from MySQL","body":"<p>I guess sys is the default schema in your MySQL workbench.</p>\n<p>Go to your Mysql workbench and drop the schema/because it is importing all the schemas from your local server.</p>\n<p>or</p>\n<p>Custom :- Open your workspace(eclipse(&quot;run&quot; tab on top of screen-&gt;hibernate code genration) -&gt; Go to hibernate code generation( -&gt; click main-&gt; revenge.xml-&gt;select new -&gt; select folder-&gt; configure table filter-&gt; (1)select database you want to select-&gt; import all table-&gt; apply -&gt; Run .</p>\n<p>Now you can see all the tables in the location you have selected.\nIf you want to customer export you could also do so after (1) step above</p>\n"},{"tags":[],"owner":{"account_id":3908690,"reputation":461,"user_id":3259971,"accept_rate":0,"display_name":"atkawa7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620895786,"creation_date":1620895786,"answer_id":67516438,"question_id":63444628,"body_markdown":"For those with a similar issue to this. Hibernate tools reverse engineering reads all schemas. Therefor specifying the database doesn&#39;t work. So you need a custom schema selection tag to specify which database you want reverse engineer from. This is done by creating a `hibernate.reveng.xml` file and adding something like this where `demo` is the name of the database \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-reverse-engineering SYSTEM &quot;http://hibernate.org/dtd/hibernate-reverse-engineering-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-reverse-engineering&gt;\r\n    &lt;schema-selection match-catalog=&quot;demo&quot; match-schema=&quot;.*&quot; match-table=&quot;.*&quot;/&gt;\r\n&lt;/hibernate-reverse-engineering&gt;\r\n\r\n```","title":"Eclipse Hibernate.cfg.xml is linking &quot;sys&quot; database from MySQL","body":"<p>For those with a similar issue to this. Hibernate tools reverse engineering reads all schemas. Therefor specifying the database doesn't work. So you need a custom schema selection tag to specify which database you want reverse engineer from. This is done by creating a <code>hibernate.reveng.xml</code> file and adding something like this where <code>demo</code> is the name of the database</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-reverse-engineering SYSTEM &quot;http://hibernate.org/dtd/hibernate-reverse-engineering-3.0.dtd&quot;&gt;\n\n&lt;hibernate-reverse-engineering&gt;\n    &lt;schema-selection match-catalog=&quot;demo&quot; match-schema=&quot;.*&quot; match-table=&quot;.*&quot;/&gt;\n&lt;/hibernate-reverse-engineering&gt;\n\n</code></pre>\n"}],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66610350,"answer_count":2,"score":2,"last_activity_date":1642653535,"creation_date":1597638994,"question_id":63444628,"body_markdown":"When I use Hibernate to connect to a MySQL database, *bookstoredb*, in Eclipse, a connection to the MySQL *sys* database also shows up!\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m using the following:\r\n\r\n - Ubuntu 18.04.5 LTS (desktop)\r\n - Eclipse 2020-6 (4.16.0) w/JBoss Tools, Hibernate-Tools plugin. \r\n - MySQL Ver 8.0.21 for Linux on x86_64 (MySQL Community Server - GPL)\r\n\r\nNote: this is a local desktop project, I am working through a tutorial. I will NOT be using root/admin with MySQL down the road.\r\n\r\nFollowing is the complete hibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/bookstoredb?serverTimezone=UTC&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nAm I misunderstanding, shouldn&#39;t the connection.url, as given, ONLY connect to *bookstoredb*? Why is &quot;sys&quot; connecting also?\r\n\r\nThis becomes even more of a problem when using the tool to reverse-engineer the database tables into java classes. I&#39;m getting not only the *bookstoredb* tables as java classes but every table in the *sys* database as well. And there are a lot of them, as I am sure folks well know.\r\n\r\nHow do I unlink the *sys* database? Or set things up so I don&#39;t link to it in the first place?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X1FHw.png","title":"Eclipse Hibernate.cfg.xml is linking &quot;sys&quot; database from MySQL","body":"<p>When I use Hibernate to connect to a MySQL database, <em>bookstoredb</em>, in Eclipse, a connection to the MySQL <em>sys</em> database also shows up!</p>\n<p><a href=\"https://i.stack.imgur.com/X1FHw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1FHw.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using the following:</p>\n<ul>\n<li>Ubuntu 18.04.5 LTS (desktop)</li>\n<li>Eclipse 2020-6 (4.16.0) w/JBoss Tools, Hibernate-Tools plugin.</li>\n<li>MySQL Ver 8.0.21 for Linux on x86_64 (MySQL Community Server - GPL)</li>\n</ul>\n<p>Note: this is a local desktop project, I am working through a tutorial. I will NOT be using root/admin with MySQL down the road.</p>\n<p>Following is the complete hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/bookstoredb?serverTimezone=UTC&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Am I misunderstanding, shouldn't the connection.url, as given, ONLY connect to <em>bookstoredb</em>? Why is &quot;sys&quot; connecting also?</p>\n<p>This becomes even more of a problem when using the tool to reverse-engineer the database tables into java classes. I'm getting not only the <em>bookstoredb</em> tables as java classes but every table in the <em>sys</em> database as well. And there are a lot of them, as I am sure folks well know.</p>\n<p>How do I unlink the <em>sys</em> database? Or set things up so I don't link to it in the first place?</p>\n"},{"tags":["java","android","android-studio","ram"],"comments":[{"owner":{"account_id":21184533,"reputation":767,"user_id":15578194,"display_name":"idk wut to put here"},"score":0,"creation_date":1624229803,"post_id":68060651,"comment_id":120294248,"body_markdown":"Kill some of them in Task Manager!","body":"Kill some of them in Task Manager!"},{"owner":{"account_id":16973276,"reputation":313,"user_id":12277320,"display_name":"Thirasha"},"score":0,"creation_date":1625311455,"post_id":68060651,"comment_id":120597294,"body_markdown":"did you solve this?","body":"did you solve this?"},{"owner":{"account_id":22005138,"reputation":41,"user_id":16276234,"display_name":"Nguyễn Vương Thanh Tuấn"},"score":0,"creation_date":1627308365,"post_id":68060651,"comment_id":121114399,"body_markdown":"@Thirasha No man, I still face to this problem","body":"@Thirasha No man, I still face to this problem"},{"owner":{"account_id":16973276,"reputation":313,"user_id":12277320,"display_name":"Thirasha"},"score":0,"creation_date":1627314493,"post_id":68060651,"comment_id":121117372,"body_markdown":"@NguyễnVươngThanhTuấn finally I found a solution. check it [here](https://stackoverflow.com/a/68330256/12277320)","body":"@NguyễnVươngThanhTuấn finally I found a solution. check it <a href=\"https://stackoverflow.com/a/68330256/12277320\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":22139176,"reputation":179,"user_id":16389443,"display_name":"Hamza Sheikh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629873835,"creation_date":1629873510,"answer_id":68917964,"question_id":68060651,"body_markdown":"I solved this issue by turning off the Mobile Hotspot in windows 10. I don&#39;t know what&#39;s the reason but it worked for me. While building gradle make sure Mobile Hotspot is turned off.","title":"Android Studio : Too many Open JDK Platform Binary process","body":"<p>I solved this issue by turning off the Mobile Hotspot in windows 10. I don't know what's the reason but it worked for me. While building gradle make sure Mobile Hotspot is turned off.</p>\n"},{"tags":[],"owner":{"account_id":23994967,"reputation":71,"user_id":17980587,"display_name":"Ahsan445"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642653350,"creation_date":1642653350,"answer_id":70780855,"question_id":68060651,"body_markdown":"Turning of Mobile Hotspot in Windows 10 Worked for me Too.","title":"Android Studio : Too many Open JDK Platform Binary process","body":"<p>Turning of Mobile Hotspot in Windows 10 Worked for me Too.</p>\n"}],"owner":{"account_id":22005138,"reputation":41,"user_id":16276234,"display_name":"Nguyễn Vương Thanh Tuấn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642653350,"creation_date":1624229537,"question_id":68060651,"body_markdown":"I usually get this problem on my Android Studio.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n Gradle often sync failed with this error. When I open Task Manager I could see too many Open JDK Platform Binary running like the below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy RAM usage goes up to 100% due to this ( 8GB RAM), when I restart my laptop, it disappear and my Gradle will sync successfully. How can I fix this?\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sqFv2.png\r\n  [2]: https://i.stack.imgur.com/vjglx.png","title":"Android Studio : Too many Open JDK Platform Binary process","body":"<p>I usually get this problem on my Android Studio.</p>\n<p><a href=\"https://i.stack.imgur.com/sqFv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sqFv2.png\" alt=\"enter image description here\" /></a></p>\n<p>Gradle often sync failed with this error. When I open Task Manager I could see too many Open JDK Platform Binary running like the below.</p>\n<p><a href=\"https://i.stack.imgur.com/vjglx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjglx.png\" alt=\"enter image description here\" /></a></p>\n<p>My RAM usage goes up to 100% due to this ( 8GB RAM), when I restart my laptop, it disappear and my Gradle will sync successfully. How can I fix this?</p>\n"},{"tags":["java","arraylist","chess"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1559153650,"post_id":56366360,"comment_id":99335834,"body_markdown":"`boardHistory.add(new boardInstance` if you make a new board each time, how does this board remember the previous moves and position of its pieces?  I think you should be reusing the old board.","body":"<code>boardHistory.add(new boardInstance</code> if you make a new board each time, how does this board remember the previous moves and position of its pieces?  I think you should be reusing the old board."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1559154507,"post_id":56366360,"comment_id":99336176,"body_markdown":"Adding a byte[][] to an object does not create a copy. You need to create a new instace of the object and copy its content.","body":"Adding a byte[][] to an object does not create a copy. You need to create a new instace of the object and copy its content."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1559154613,"post_id":56366360,"comment_id":99336222,"body_markdown":"Check https://stackoverflow.com/questions/56209975/game-of-life-algorithm-not-working-correctly/56210209#56210209, where I answered a similiar question.","body":"Check <a href=\"https://stackoverflow.com/questions/56209975/game-of-life-algorithm-not-working-correctly/56210209#56210209\" title=\"game of life algorithm not working correctly\">stackoverflow.com/questions/56209975/&hellip;</a>, where I answered a similiar question."}],"answers":[{"tags":[],"owner":{"account_id":22011758,"reputation":23,"user_id":16281911,"display_name":"Zachary Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642653065,"creation_date":1642653065,"answer_id":70780822,"question_id":56366360,"body_markdown":"I actually solved this same problem back in 1997 working on my third doctorate at Carnegie Mellon University and you should be ashamed. Try looking through this (rather elementary) algorithm and seeing if you&#39;re able to understand where you went wrong: https://en.wikipedia.org/wiki/Cox%E2%80%93Zucker_machine.","title":"Why is my ArrayList not returning its stored values?","body":"<p>I actually solved this same problem back in 1997 working on my third doctorate at Carnegie Mellon University and you should be ashamed. Try looking through this (rather elementary) algorithm and seeing if you're able to understand where you went wrong: <a href=\"https://en.wikipedia.org/wiki/Cox%E2%80%93Zucker_machine\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Cox%E2%80%93Zucker_machine</a>.</p>\n"}],"owner":{"account_id":16036959,"reputation":24,"user_id":11574405,"display_name":"Canaanite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642653065,"creation_date":1559153537,"question_id":56366360,"body_markdown":"I&#39;m currently creating a Chess program in Java, where I&#39;m attempting to implement an undo button. My current approach at this is to create an array list of an object called boardInstance, which stores the 2D-Array I&#39;m using as the board (a 2D-Array of piece objects), as well as other variables such as the location of the two kings and a Boolean determining if it is currently White&#39;s turn or not. After every valid move, a new boardInstance object is created and added to the arrayList (boardHistory) and the moveCount variable (which I am using as an index variable) is incremented. When pressing the Z key, my code is supposed to update the current board and variables to the copies of those variables from the boardInstance from one move ago, however when testing this I can only observe that the Boolean variable is being changed to match that of previous moves, but the board and other variables seem to remain unchanged.\r\n\r\nI&#39;ve attempted to make every variable and method in the boardInstance class static, which doesn&#39;t seem to have any effect on the problem, as well as converting variables from public to private and vice versa.\r\n\r\nHere is the entirety of my boardInstance class:\r\n```\r\npublic class boardInstance {\r\n\r\n\tprivate static piece[][] boardCopy;\r\n\tprivate boolean isWhiteTurn;\r\n\tprivate String whiteKingPos, blackKingPos;\r\n\t\r\n\tpublic boardInstance() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic boardInstance(piece[][] tempBoard, boolean isWhitePlayerTurn, String whiteKingCoords, String blackKingCoords) {\r\n\t\tboardCopy = tempBoard;\r\n\t\tisWhiteTurn = isWhitePlayerTurn;\r\n\t\twhiteKingPos = whiteKingCoords;\r\n\t\tblackKingPos = blackKingCoords;\r\n\t}\r\n\t\r\n\tpublic static piece[][] getBoardCopy(){\r\n\t\treturn boardCopy;\r\n\t}\r\n\t\r\n\tpublic boolean isWhiteTurn() {\r\n\t\treturn isWhiteTurn;\r\n\t}\r\n\t\r\n\tpublic String getWhiteKingPos() {\r\n\t\treturn whiteKingPos;\r\n\t}\r\n\t\r\n\tpublic String getBlackKingPos() {\r\n\t\treturn blackKingPos;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nHere are the relevant variables as instantiated in my main class.\r\n\r\n```\r\nArrayList&lt;boardInstance&gt; boardHistory = new ArrayList&lt;boardInstance&gt;();\r\n\t\r\n\tprivate static piece[][] board;\r\n\t\r\n\tprivate static int moveCount = 0;\r\n        private static String whiteKingPosition, blackKingPosition;\r\n\r\n\r\n```\r\n\r\nHere is the code that runs after every valid move:\r\n\r\n```\r\nmoveCount++;\r\nboardHistory.add(new boardInstance(board, isWhitesTurn, whiteKingPosition, blackKingPosition));\r\n```\r\n\r\nAnd here is the code that runs every time the Z key is pressed:\r\n\r\n```\r\nif (e.getKeyCode()==KeyEvent.VK_Z) {\r\n\t\t\t\tif (moveCount&gt;0) {\r\n\t\t\t\t\tmoveCount--;\r\n\t\t\t\t\tfor (int r=0; r&lt;board.length;r++) {\r\n\t\t\t\t\t\tfor (int c=0; c&lt;board[0].length;c++) {\r\n\t\t\t\t\t\t\tboard[r][c]=boardHistory.get(moveCount).getBoardCopy()[r][c];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisWhitesTurn = boardHistory.get(moveCount).isWhiteTurn();\r\n\t\t\t\t\twhiteKingPosition = boardHistory.get(moveCount).getWhiteKingPos();\r\n\t\t\t\t\tblackKingPosition = boardHistory.get(moveCount).getBlackKingPos();\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\n\r\n\r\nI have it in my paint method to print out the current player turn based on the Boolean variable as well as a print command to print the current movecount, which is how I can discern that those portions of the code are working, but apart from that board, whiteKingPosition, and backKingPosition don&#39;t seem to be changing, with no error messages produced.","title":"Why is my ArrayList not returning its stored values?","body":"<p>I'm currently creating a Chess program in Java, where I'm attempting to implement an undo button. My current approach at this is to create an array list of an object called boardInstance, which stores the 2D-Array I'm using as the board (a 2D-Array of piece objects), as well as other variables such as the location of the two kings and a Boolean determining if it is currently White's turn or not. After every valid move, a new boardInstance object is created and added to the arrayList (boardHistory) and the moveCount variable (which I am using as an index variable) is incremented. When pressing the Z key, my code is supposed to update the current board and variables to the copies of those variables from the boardInstance from one move ago, however when testing this I can only observe that the Boolean variable is being changed to match that of previous moves, but the board and other variables seem to remain unchanged.</p>\n\n<p>I've attempted to make every variable and method in the boardInstance class static, which doesn't seem to have any effect on the problem, as well as converting variables from public to private and vice versa.</p>\n\n<p>Here is the entirety of my boardInstance class:</p>\n\n<pre><code>public class boardInstance {\n\n    private static piece[][] boardCopy;\n    private boolean isWhiteTurn;\n    private String whiteKingPos, blackKingPos;\n\n    public boardInstance() {\n\n    }\n\n    public boardInstance(piece[][] tempBoard, boolean isWhitePlayerTurn, String whiteKingCoords, String blackKingCoords) {\n        boardCopy = tempBoard;\n        isWhiteTurn = isWhitePlayerTurn;\n        whiteKingPos = whiteKingCoords;\n        blackKingPos = blackKingCoords;\n    }\n\n    public static piece[][] getBoardCopy(){\n        return boardCopy;\n    }\n\n    public boolean isWhiteTurn() {\n        return isWhiteTurn;\n    }\n\n    public String getWhiteKingPos() {\n        return whiteKingPos;\n    }\n\n    public String getBlackKingPos() {\n        return blackKingPos;\n    }\n}\n</code></pre>\n\n<p>Here are the relevant variables as instantiated in my main class.</p>\n\n<pre><code>ArrayList&lt;boardInstance&gt; boardHistory = new ArrayList&lt;boardInstance&gt;();\n\n    private static piece[][] board;\n\n    private static int moveCount = 0;\n        private static String whiteKingPosition, blackKingPosition;\n\n\n</code></pre>\n\n<p>Here is the code that runs after every valid move:</p>\n\n<pre><code>moveCount++;\nboardHistory.add(new boardInstance(board, isWhitesTurn, whiteKingPosition, blackKingPosition));\n</code></pre>\n\n<p>And here is the code that runs every time the Z key is pressed:</p>\n\n<pre><code>if (e.getKeyCode()==KeyEvent.VK_Z) {\n                if (moveCount&gt;0) {\n                    moveCount--;\n                    for (int r=0; r&lt;board.length;r++) {\n                        for (int c=0; c&lt;board[0].length;c++) {\n                            board[r][c]=boardHistory.get(moveCount).getBoardCopy()[r][c];\n                        }\n                    }\n                    isWhitesTurn = boardHistory.get(moveCount).isWhiteTurn();\n                    whiteKingPosition = boardHistory.get(moveCount).getWhiteKingPos();\n                    blackKingPosition = boardHistory.get(moveCount).getBlackKingPos();\n                    repaint();\n                }\n            }\n</code></pre>\n\n<p>I have it in my paint method to print out the current player turn based on the Boolean variable as well as a print command to print the current movecount, which is how I can discern that those portions of the code are working, but apart from that board, whiteKingPosition, and backKingPosition don't seem to be changing, with no error messages produced.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mustache"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1642621470,"post_id":70776540,"comment_id":125122827,"body_markdown":"Looks like you are typing &#39;charity&#39; in the id input","body":"Looks like you are typing &#39;charity&#39; in the id input"},{"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"score":0,"creation_date":1642621943,"post_id":70776540,"comment_id":125122999,"body_markdown":"I can&#39;t even open url with my form, so i guess it&#39;s unlikely :( \n\nBut i suspect that it&#39;s trying to get parameters from the url which is &quot;http://localhost:8080/share/charities/charity&quot; , instead of from ui form.","body":"I can&#39;t even open url with my form, so i guess it&#39;s unlikely :(   But i suspect that it&#39;s trying to get parameters from the url which is &quot;<a href=\"http://localhost:8080/share/charities/charity\" rel=\"nofollow noreferrer\">localhost:8080/share/charities/charity</a>&quot; , instead of from ui form."},{"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"score":0,"creation_date":1642623740,"post_id":70776540,"comment_id":125123579,"body_markdown":"@PostMapping(&quot;charities/charity&quot;) should be @PostMapping(&quot;/charities/charity&quot;)","body":"@PostMapping(&quot;charities/charity&quot;) should be @PostMapping(&quot;/charities/charity&quot;)"},{"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"score":0,"creation_date":1643654264,"post_id":70776540,"comment_id":125392807,"body_markdown":"thanks, i&#39;ve tried but still the same error :(","body":"thanks, i&#39;ve tried but still the same error :("}],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642652529,"creation_date":1642652529,"answer_id":70780770,"question_id":70776540,"body_markdown":"      @PostMapping(&quot;charities/charity&quot;)\r\n      public String addCharity(@Valid @RequestBody Charity charity){ \r\n        charityService.save(charity);\r\n        \r\n        return &quot;addForm&quot;;\r\n      } \r\n\r\nvalidate JSON data and inspect for page and check for requests from the network","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;","body":"<pre><code>  @PostMapping(&quot;charities/charity&quot;)\n  public String addCharity(@Valid @RequestBody Charity charity){ \n    charityService.save(charity);\n    \n    return &quot;addForm&quot;;\n  } \n</code></pre>\n<p>validate JSON data and inspect for page and check for requests from the network</p>\n"}],"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642652529,"creation_date":1642619949,"question_id":70776540,"body_markdown":"I&#39;m trying to create a simple spring web app. And i encountered an error while executing POST method. When i go to url to which my post method is mapped i&#39;m getting the following error: \r\n\r\n&gt; Whitelabel Error Page This application has no explicit mapping for\r\n&gt; /error, so you are seeing this as a fallback.\r\n&gt; \r\n&gt; Wed Jan 19 20:57:38 EET 2022 There was an unexpected error (type=Bad\r\n&gt; Request, status=400).\r\n\r\nI have an html form where user can enters data, from which an object is created and added to the db (for ui templates i use Mustache) \r\n\r\nAlso, the error in console is the following: \r\n\r\n```.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;charity&quot;] ```\r\n\r\nhere&#39;s my Controller: \r\n\r\n    @RequestMapping(&quot;/share&quot;)\r\n    @Controller\r\n    public class CharityController {\r\n    \r\n      @Autowired\r\n      private CharityServiceImpl charityService;\r\n    \r\n    \r\n      @PostMapping(&quot;charities/charity&quot;)\r\n      public String addCharity(@RequestBody Charity charity){ \r\n        charityService.save(charity);\r\n        \r\n        return &quot;addForm&quot;;\r\n      } \r\n\r\nhtml form: \r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Add New Charity&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div&gt;\r\n            &lt;form method=&quot;post&quot; action=&quot;charities/charity&quot;&gt;\r\n                &lt;input type=&quot;number&quot; name=&quot;id&quot; placeholder=&quot;Id&quot;/&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;name&quot; placeholder=&quot;Charity name&quot;/&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;description&quot; placeholder=&quot;Description&quot;/&gt;\r\n                &lt;button type=&quot;submit&quot;&gt;Add&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nEntity class: \r\n\r\n    @Entity\r\n    public class Charity {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer id;\r\n      @NotBlank\r\n      private String name;\r\n      @NotBlank\r\n      private String description;\r\n    \r\n      public Charity(Integer id, String name, String description) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n      }\r\n      \r\n      public Charity() {\r\n      }\r\n    \r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public String getDescription() {\r\n        return description;\r\n      }\r\n\r\nDAO method: \r\n\r\n    public void save(Charity charity) {\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        session.saveOrUpdate(charity);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n      }\r\n\r\nService implementation: \r\n\r\n      public void save(Charity charity){\r\n        charityDao.save(charity);\r\n      }","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;","body":"<p>I'm trying to create a simple spring web app. And i encountered an error while executing POST method. When i go to url to which my post method is mapped i'm getting the following error:</p>\n<blockquote>\n<p>Whitelabel Error Page This application has no explicit mapping for\n/error, so you are seeing this as a fallback.</p>\n<p>Wed Jan 19 20:57:38 EET 2022 There was an unexpected error (type=Bad\nRequest, status=400).</p>\n</blockquote>\n<p>I have an html form where user can enters data, from which an object is created and added to the db (for ui templates i use Mustache)</p>\n<p>Also, the error in console is the following:</p>\n<p><code>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: &quot;charity&quot;] </code></p>\n<p>here's my Controller:</p>\n<pre><code>@RequestMapping(&quot;/share&quot;)\n@Controller\npublic class CharityController {\n\n  @Autowired\n  private CharityServiceImpl charityService;\n\n\n  @PostMapping(&quot;charities/charity&quot;)\n  public String addCharity(@RequestBody Charity charity){ \n    charityService.save(charity);\n    \n    return &quot;addForm&quot;;\n  } \n</code></pre>\n<p>html form:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Add New Charity&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;form method=&quot;post&quot; action=&quot;charities/charity&quot;&gt;\n            &lt;input type=&quot;number&quot; name=&quot;id&quot; placeholder=&quot;Id&quot;/&gt;\n            &lt;input type=&quot;text&quot; name=&quot;name&quot; placeholder=&quot;Charity name&quot;/&gt;\n            &lt;input type=&quot;text&quot; name=&quot;description&quot; placeholder=&quot;Description&quot;/&gt;\n            &lt;button type=&quot;submit&quot;&gt;Add&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Entity class:</p>\n<pre><code>@Entity\npublic class Charity {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer id;\n  @NotBlank\n  private String name;\n  @NotBlank\n  private String description;\n\n  public Charity(Integer id, String name, String description) {\n    this.id = id;\n    this.name = name;\n    this.description = description;\n  }\n  \n  public Charity() {\n  }\n\n  public Integer getId() {\n    return id;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public String getDescription() {\n    return description;\n  }\n</code></pre>\n<p>DAO method:</p>\n<pre><code>public void save(Charity charity) {\n    Session session = sessionFactory.openSession();\n    session.beginTransaction();\n    session.saveOrUpdate(charity);\n    session.getTransaction().commit();\n    session.close();\n  }\n</code></pre>\n<p>Service implementation:</p>\n<pre><code>  public void save(Charity charity){\n    charityDao.save(charity);\n  }\n</code></pre>\n"},{"tags":["javascript","java","scala","log4j","log4j2"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1642661930,"post_id":70780762,"comment_id":125131513,"body_markdown":"I doubt log4j2 would take 100MB of memory to load something that doesn&#39;t exist. Which memory are you talking about?","body":"I doubt log4j2 would take 100MB of memory to load something that doesn&#39;t exist. Which memory are you talking about?"},{"owner":{"account_id":22162119,"reputation":11,"user_id":16408944,"display_name":"user16408944"},"score":0,"creation_date":1643169967,"post_id":70780762,"comment_id":125266580,"body_markdown":"I have measured when my scala application initializes log4j2 and it does use significantly more heap memory (+ 30 MB) while the overall container memory usage jumps by more than 100MB, which I guess comes from extra off-heap memory.\n\nAfter a bit more debugging, it seems like NOT passing -Dlog4j2.debug=true does avoid the huge increase in memory usage. There&#39;s something in the script manager in log4j that loads a lot more stuff in debug mode.","body":"I have measured when my scala application initializes log4j2 and it does use significantly more heap memory (+ 30 MB) while the overall container memory usage jumps by more than 100MB, which I guess comes from extra off-heap memory.  After a bit more debugging, it seems like NOT passing -Dlog4j2.debug=true does avoid the huge increase in memory usage. There&#39;s something in the script manager in log4j that loads a lot more stuff in debug mode."}],"owner":{"account_id":22162119,"reputation":11,"user_id":16408944,"display_name":"user16408944"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642652429,"creation_date":1642652429,"question_id":70780762,"body_markdown":"I&#39;m using Log4j2 in a scala application but noticed that it loads several scripting engines to process its configuration using JSR 223 (see &quot;Scripts&quot; session in https://logging.apache.org/log4j/2.x/manual/configuration.html). We don&#39;t really need this functionality since our configuration is programmatically generated through scala code. We also noticed this has a quite high memory usage (more than 100MB) as it loads a javascript and a scala scripting engine. Is there a way to disable this through either a log4j configuration or some other Java knob? I haven&#39;t found one so far.\r\n\r\nThank you","title":"Disable log4j2 scripting configuration module","body":"<p>I'm using Log4j2 in a scala application but noticed that it loads several scripting engines to process its configuration using JSR 223 (see &quot;Scripts&quot; session in <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a>). We don't really need this functionality since our configuration is programmatically generated through scala code. We also noticed this has a quite high memory usage (more than 100MB) as it loads a javascript and a scala scripting engine. Is there a way to disable this through either a log4j configuration or some other Java knob? I haven't found one so far.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","android-studio","http-post","android-volley"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1562605910,"post_id":56939474,"comment_id":100419477,"body_markdown":"Connection refused indicates that the receiving machine is blocking the connection.There are several reasons for that.  `192.168.100.2` is not `localhost`. It&#39;s typically `127.0.0.1` so  would need more details on the service you&#39;re attempting to call.","body":"Connection refused indicates that the receiving machine is blocking the connection.There are several reasons for that.  <code>192.168.100.2</code> is not <code>localhost</code>. It&#39;s typically <code>127.0.0.1</code> so  would need more details on the service you&#39;re attempting to call."},{"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"score":0,"creation_date":1562605970,"post_id":56939474,"comment_id":100419504,"body_markdown":"First check are you able to connet to local host by http or not as few device block http and only allow https.","body":"First check are you able to connet to local host by http or not as few device block http and only allow https."},{"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"score":0,"creation_date":1562606408,"post_id":56939474,"comment_id":100419713,"body_markdown":"@ChristopherSchneider i know the ip is not localhost, but in android studio i run the program in my android device, that&#39;s the reason i can&#39;t use the typically localhost, so i use the ip where both, my pc and my android device are connected. I&#39;ve already done in another project but with a sql connection.","body":"@ChristopherSchneider i know the ip is not localhost, but in android studio i run the program in my android device, that&#39;s the reason i can&#39;t use the typically localhost, so i use the ip where both, my pc and my android device are connected. I&#39;ve already done in another project but with a sql connection."},{"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"score":0,"creation_date":1562606761,"post_id":56939474,"comment_id":100419888,"body_markdown":"@RahulKhatri do you think is problem of my android device? how can i check that?\nI&#39;ve programmed web pages with javascript, python and i&#39;ve never had problem with my API requests, though i have with this.","body":"@RahulKhatri do you think is problem of my android device? how can i check that? I&#39;ve programmed web pages with javascript, python and i&#39;ve never had problem with my API requests, though i have with this."},{"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"score":0,"creation_date":1562654828,"post_id":56939474,"comment_id":100432797,"body_markdown":"For Android device api &gt;= 28 you can&#39;t use http only https permitted, in api &gt;=23 it by default block http but with usesCleartextTraffic=&quot;true&quot; in manifest you can use http url but still some devices don&#39;t allow like Xiomi device. But if there is CleartextTraffic issue then you will error CleartextTraffic not permited.","body":"For Android device api &gt;= 28 you can&#39;t use http only https permitted, in api &gt;=23 it by default block http but with usesCleartextTraffic=&quot;true&quot; in manifest you can use http url but still some devices don&#39;t allow like Xiomi device. But if there is CleartextTraffic issue then you will error CleartextTraffic not permited."},{"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"score":0,"creation_date":1562655032,"post_id":56939474,"comment_id":100432913,"body_markdown":"You can do one thing try to check api in your android device Browser, it may help you.","body":"You can do one thing try to check api in your android device Browser, it may help you."}],"answers":[{"tags":[],"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562904987,"creation_date":1562904987,"answer_id":57000108,"question_id":56939474,"body_markdown":"I&#39;ve found the solution to the connectivity issues; i&#39;d been trying to access from my cellphone to the url which was running in localhost on my computer through the IP where both, my cellphone and my computer are connected, althought this didn&#39;t work for me because the request dies before reach to the server, so i tried another way, here&#39;s the answer to access from your device to the localhost&#39;s url running in your computer:\r\n\r\nhttps://stackoverflow.com/a/53920173/11755598","title":"Why my http post request with android volley throws error (localhost)?","body":"<p>I've found the solution to the connectivity issues; i'd been trying to access from my cellphone to the url which was running in localhost on my computer through the IP where both, my cellphone and my computer are connected, althought this didn't work for me because the request dies before reach to the server, so i tried another way, here's the answer to access from your device to the localhost's url running in your computer:</p>\n\n<p><a href=\"https://stackoverflow.com/a/53920173/11755598\">https://stackoverflow.com/a/53920173/11755598</a></p>\n"},{"tags":[],"owner":{"account_id":21749129,"reputation":85,"user_id":16055338,"display_name":"blaze-centurion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642650546,"creation_date":1642650546,"answer_id":70780587,"question_id":56939474,"body_markdown":"Firstly, make sure that your server is running.\r\n\r\nThen set usesCleartextTraffic to true in AndroidManifest file in application tag.\r\n\r\n\r\n```xml\r\n    &lt;application\r\n        .....\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n     &gt;\r\n            ....\r\n        &lt;/activity&gt;\r\n```\r\n\r\nThen in url instead of &quot;http://192.168.100.2:8000/login_facebook_app&quot; use this &quot;http://10.0.2.2:8000/login_facebook_app&quot;\r\n\r\nSo now your new code is:\r\n\r\n```java\r\n     private void login(final String email, final String password){\r\n        final String url = &quot;http://10.0.2.2:8000/login_facebook_app&quot;;\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n\r\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }){\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n                params.put(&quot;email&quot;, email);\r\n                params.put(&quot;password&quot;, password);\r\n\r\n                return params;\r\n            }\r\n        };\r\n\r\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                15000,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n\r\n       \r\n```","title":"Why my http post request with android volley throws error (localhost)?","body":"<p>Firstly, make sure that your server is running.</p>\n<p>Then set usesCleartextTraffic to true in AndroidManifest file in application tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;application\n        .....\n        android:usesCleartextTraffic=&quot;true&quot;\n     &gt;\n            ....\n        &lt;/activity&gt;\n</code></pre>\n<p>Then in url instead of &quot;http://192.168.100.2:8000/login_facebook_app&quot; use this &quot;http://10.0.2.2:8000/login_facebook_app&quot;</p>\n<p>So now your new code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     private void login(final String email, final String password){\n        final String url = &quot;http://10.0.2.2:8000/login_facebook_app&quot;;\n\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        }){\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n                params.put(&quot;email&quot;, email);\n                params.put(&quot;password&quot;, password);\n\n                return params;\n            }\n        };\n\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\n                15000,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n       \n</code></pre>\n"}],"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57000108,"answer_count":2,"score":0,"last_activity_date":1642650546,"creation_date":1562604931,"question_id":56939474,"body_markdown":"I&#39;m working on an android studio project and i&#39;ve had some problems trying to make a post request with volley library. I&#39;ve already tested my API with postman and all works fine, so the problem is from the client part.\r\n\r\nI&#39;ve already added the internet permission in my android manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nHere is my code, i&#39;ve created a function named &quot;login&quot; that receive two paramaters which are the data that i want to send by post method:\r\n\r\n```java\r\n     private void login(final String email, final String password){\r\n        final String url = &quot;http://192.168.100.2:8000/login_facebook_app&quot;;\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n\r\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }){\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n                params.put(&quot;email&quot;, email);\r\n                params.put(&quot;password&quot;, password);\r\n\r\n                return params;\r\n            }\r\n        };\r\n\r\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                15000,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n\r\n        requestQueue.add(postRequest);\r\n    }\r\n```\r\nI call that function on a click event login button, but when i click that button i get\r\n\r\n    com.android.volley.timeoutError\r\n\r\nI&#39;ve read many solutions and i&#39;ve found that the timeout problem is due to firewall problems when the API is running in localhost.\r\nBut when i disable the firewall throws me another error:\r\n\r\n    com.android.volley.NoConnectionError:java.net.ConnectionException: failed to connect to /192.168.100.2(port 8000) after 2500ms:isConnected failed: ECONNREFUSED(Connection refused)\r\n\r\nI&#39;ve tried many solutions of here and i cannot make work my app. Please help me xD","title":"Why my http post request with android volley throws error (localhost)?","body":"<p>I'm working on an android studio project and i've had some problems trying to make a post request with volley library. I've already tested my API with postman and all works fine, so the problem is from the client part.</p>\n\n<p>I've already added the internet permission in my android manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>Here is my code, i've created a function named \"login\" that receive two paramaters which are the data that i want to send by post method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>     private void login(final String email, final String password){\n        final String url = \"http://192.168.100.2:8000/login_facebook_app\";\n\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        }){\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n                params.put(\"email\", email);\n                params.put(\"password\", password);\n\n                return params;\n            }\n        };\n\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\n                15000,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n        requestQueue.add(postRequest);\n    }\n</code></pre>\n\n<p>I call that function on a click event login button, but when i click that button i get</p>\n\n<pre><code>com.android.volley.timeoutError\n</code></pre>\n\n<p>I've read many solutions and i've found that the timeout problem is due to firewall problems when the API is running in localhost.\nBut when i disable the firewall throws me another error:</p>\n\n<pre><code>com.android.volley.NoConnectionError:java.net.ConnectionException: failed to connect to /192.168.100.2(port 8000) after 2500ms:isConnected failed: ECONNREFUSED(Connection refused)\n</code></pre>\n\n<p>I've tried many solutions of here and i cannot make work my app. Please help me xD</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3251277,"reputation":497,"user_id":2741453,"accept_rate":80,"display_name":"Agi Maulana"},"score":0,"creation_date":1642647907,"post_id":70780323,"comment_id":125128992,"body_markdown":"is there any call to start another activity? if it is,  perhaps the desired activity stopped and the `MainActivity` try to restart","body":"is there any call to start another activity? if it is,  perhaps the desired activity stopped and the <code>MainActivity</code> try to restart"},{"owner":{"account_id":19708217,"reputation":103,"user_id":14429358,"display_name":"Exron"},"score":0,"creation_date":1642648352,"post_id":70780323,"comment_id":125129064,"body_markdown":"I would like to recommend using logs(log.i or log.e) to print something in the logcat that way you will get a closer look at what is wrong and where is it or when it happens.","body":"I would like to recommend using logs(log.i or log.e) to print something in the logcat that way you will get a closer look at what is wrong and where is it or when it happens."}],"answers":[{"tags":[],"owner":{"account_id":23994276,"reputation":31,"user_id":17979965,"display_name":"Kevin Mullican"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642650364,"creation_date":1642650364,"answer_id":70780574,"question_id":70780323,"body_markdown":"Just in case anyone else ever runs into this, the issue was that in the manifest I was only specifying ACCESS_COARSE_LOCATION, but in the Bluetooth handler, I was requesting ACCESS_FINE_LOCATION. Note that Agi&#39;s answer helped me figure this out. It was the Bluetooth activity that was silently failing. Thank you all for the suggestions.","title":"Android Application unresponsive - looping between MainActivity onpause and onresume seemingly jumping to handle navigation bar","body":"<p>Just in case anyone else ever runs into this, the issue was that in the manifest I was only specifying ACCESS_COARSE_LOCATION, but in the Bluetooth handler, I was requesting ACCESS_FINE_LOCATION. Note that Agi's answer helped me figure this out. It was the Bluetooth activity that was silently failing. Thank you all for the suggestions.</p>\n"}],"owner":{"account_id":23994276,"reputation":31,"user_id":17979965,"display_name":"Kevin Mullican"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642650364,"creation_date":1642647491,"question_id":70780323,"body_markdown":"I am reviving an old Android project. I am using Android Studio 2020.3.1 Patch 4 on MacOS Monterey. I have updated the project, addressed all errors and warnings in every class and view, I have removed/replaced all deprecated functions, and am successfully building and testing the application on a Galaxy S20 running Android 11. I am building to SDK 30. The application builds and runs but is VERY unresponsive. It will accept button clicks and keyboard entry eventually, but it feels very slow and random. In looking at the run log, I see the following message set repeated at a very high frequency:\r\n\r\n```\r\nD/Mo: onPause\r\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 1\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nD/InputTransport: Input channel constructed: &#39;ClientS&#39;, fd=87\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767936]\r\n    nativeRelease nativeObject e[-5476376652132767936]\r\n    nativeRelease nativeObject s[-5476376652132759840]\r\n    nativeRelease nativeObject e[-5476376652132759840]\r\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132850656]\r\n    nativeRelease nativeObject e[-5476376652132850656]\r\n    nativeRelease nativeObject s[-5476376652132847488]\r\n    nativeRelease nativeObject e[-5476376652132847488]\r\n    nativeRelease nativeObject s[-5476376652132891488]\r\n    nativeRelease nativeObject e[-5476376652132891488]\r\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\r\nD/Mo: onResume\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132899760]\r\n    nativeRelease nativeObject e[-5476376652132899760]\r\nD/Mo: onPause\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\r\n    nativeRelease nativeObject e[-5476376652132767584]\r\nI/SurfaceControl: assignNativeObject: nativeObject = 0 Surface(name=null)/@0x77a85a8 / android.view.SurfaceControl.readFromParcel:1117 android.view.IWindowSession$Stub$Proxy.relayout:1820 android.view.ViewRootImpl.relayoutWindow:9005 android.view.ViewRootImpl.performTraversals:3360 android.view.ViewRootImpl.doTraversal:2618 android.view.ViewRootImpl$TraversalRunnable.run:9971 android.view.Choreographer$CallbackRecord.run:1010 android.view.Choreographer.doCallbacks:809 android.view.Choreographer.doFrame:744 android.view.Choreographer$FrameDisplayEventReceiver.run:995 \r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132900112]\r\n    nativeRelease nativeObject e[-5476376652132900112]\r\n    nativeRelease nativeObject s[-5476376652132849424]\r\n    nativeRelease nativeObject e[-5476376652132849424]\r\n    nativeRelease nativeObject s[-5476376652132849776]\r\n    nativeRelease nativeObject e[-5476376652132849776]\r\nI/ViewRootImpl@5d619c7[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=8 res=0x1 s={true -5476376647837952720} ch=false fn=8\r\n    MSG_WINDOW_FOCUS_CHANGED 1 1\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nD/InputTransport: Input channel constructed: &#39;ClientS&#39;, fd=88\r\n    Input channel destroyed: &#39;ClientS&#39;, fd=87\r\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\r\n    nativeRelease nativeObject e[-5476376652132767584]\r\n    nativeRelease nativeObject s[-5476376652132850656]\r\n    nativeRelease nativeObject e[-5476376652132850656]\r\n    nativeRelease nativeObject s[-5476376652132897472]\r\n    nativeRelease nativeObject e[-5476376652132897472]\r\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\r\nD/Mo: onResume\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132848368]\r\n    nativeRelease nativeObject e[-5476376652132848368]\r\nD/Mo: onPause\r\n```\r\n\r\nIt appears that the app is continually pausing and resuming the MainActivity, jumping out to address whatever is indicated in the above log. I can see that my interactions with the app UI elements, when they happen, do happen between the onResume and onPause messages (those onResume and onPause messages are generated from the MainActivity calls of the same names). The vast majority of the time, the MainActivity is paused addressing whatever is indicated in the log above.\r\n\r\nFor some context, the app is essentially a chat app. It has a message history window that takes up most of the UI, a text entry box at the bottom, a submit button to enter the text into the message history and a slide-in drawer at the left to select from different message groups. The app also connects to a bluetooth LE device. I have tried disabling each of the UI elements and the bluetooth components individually, but the behavior remains the same.\r\n\r\nPerhaps I am too close to the trees to see the forest. I would appreciate any guidance on a direction to debug this issue. ","title":"Android Application unresponsive - looping between MainActivity onpause and onresume seemingly jumping to handle navigation bar","body":"<p>I am reviving an old Android project. I am using Android Studio 2020.3.1 Patch 4 on MacOS Monterey. I have updated the project, addressed all errors and warnings in every class and view, I have removed/replaced all deprecated functions, and am successfully building and testing the application on a Galaxy S20 running Android 11. I am building to SDK 30. The application builds and runs but is VERY unresponsive. It will accept button clicks and keyboard entry eventually, but it feels very slow and random. In looking at the run log, I see the following message set repeated at a very high frequency:</p>\n<pre><code>D/Mo: onPause\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 1\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nD/InputTransport: Input channel constructed: 'ClientS', fd=87\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\nD/InputMethodManager: startInputInner - Id : 0\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767936]\n    nativeRelease nativeObject e[-5476376652132767936]\n    nativeRelease nativeObject s[-5476376652132759840]\n    nativeRelease nativeObject e[-5476376652132759840]\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132850656]\n    nativeRelease nativeObject e[-5476376652132850656]\n    nativeRelease nativeObject s[-5476376652132847488]\n    nativeRelease nativeObject e[-5476376652132847488]\n    nativeRelease nativeObject s[-5476376652132891488]\n    nativeRelease nativeObject e[-5476376652132891488]\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\nD/Mo: onResume\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132899760]\n    nativeRelease nativeObject e[-5476376652132899760]\nD/Mo: onPause\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\n    nativeRelease nativeObject e[-5476376652132767584]\nI/SurfaceControl: assignNativeObject: nativeObject = 0 Surface(name=null)/@0x77a85a8 / android.view.SurfaceControl.readFromParcel:1117 android.view.IWindowSession$Stub$Proxy.relayout:1820 android.view.ViewRootImpl.relayoutWindow:9005 android.view.ViewRootImpl.performTraversals:3360 android.view.ViewRootImpl.doTraversal:2618 android.view.ViewRootImpl$TraversalRunnable.run:9971 android.view.Choreographer$CallbackRecord.run:1010 android.view.Choreographer.doCallbacks:809 android.view.Choreographer.doFrame:744 android.view.Choreographer$FrameDisplayEventReceiver.run:995 \nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132900112]\n    nativeRelease nativeObject e[-5476376652132900112]\n    nativeRelease nativeObject s[-5476376652132849424]\n    nativeRelease nativeObject e[-5476376652132849424]\n    nativeRelease nativeObject s[-5476376652132849776]\n    nativeRelease nativeObject e[-5476376652132849776]\nI/ViewRootImpl@5d619c7[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=8 res=0x1 s={true -5476376647837952720} ch=false fn=8\n    MSG_WINDOW_FOCUS_CHANGED 1 1\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nD/InputTransport: Input channel constructed: 'ClientS', fd=88\n    Input channel destroyed: 'ClientS', fd=87\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\n    nativeRelease nativeObject e[-5476376652132767584]\n    nativeRelease nativeObject s[-5476376652132850656]\n    nativeRelease nativeObject e[-5476376652132850656]\n    nativeRelease nativeObject s[-5476376652132897472]\n    nativeRelease nativeObject e[-5476376652132897472]\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\nD/Mo: onResume\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132848368]\n    nativeRelease nativeObject e[-5476376652132848368]\nD/Mo: onPause\n</code></pre>\n<p>It appears that the app is continually pausing and resuming the MainActivity, jumping out to address whatever is indicated in the above log. I can see that my interactions with the app UI elements, when they happen, do happen between the onResume and onPause messages (those onResume and onPause messages are generated from the MainActivity calls of the same names). The vast majority of the time, the MainActivity is paused addressing whatever is indicated in the log above.</p>\n<p>For some context, the app is essentially a chat app. It has a message history window that takes up most of the UI, a text entry box at the bottom, a submit button to enter the text into the message history and a slide-in drawer at the left to select from different message groups. The app also connects to a bluetooth LE device. I have tried disabling each of the UI elements and the bluetooth components individually, but the behavior remains the same.</p>\n<p>Perhaps I am too close to the trees to see the forest. I would appreciate any guidance on a direction to debug this issue.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"score":0,"creation_date":1642182328,"post_id":70682558,"comment_id":125011360,"body_markdown":"are you running it on Android 12?","body":"are you running it on Android 12?"},{"owner":{"account_id":23049030,"reputation":41,"user_id":17166150,"display_name":"parker"},"score":0,"creation_date":1642185383,"post_id":70682558,"comment_id":125012470,"body_markdown":"No, I am running it on my emulator and android device both are android 11 @Jabbar","body":"No, I am running it on my emulator and android device both are android 11 @Jabbar"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642191582,"post_id":70682558,"comment_id":125014492,"body_markdown":"Do you want to save an image in two locations? And you did not describe any problem you encountered.","body":"Do you want to save an image in two locations? And you did not describe any problem you encountered."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642191694,"post_id":70682558,"comment_id":125014536,"body_markdown":"The media store does not scan files in app specific storages. Are you asking it should? Describe your problem!","body":"The media store does not scan files in app specific storages. Are you asking it should? Describe your problem!"},{"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"score":0,"creation_date":1642349595,"post_id":70682558,"comment_id":125041944,"body_markdown":"since android 11, the scope of the storage has changed. so you need to check what is the version of the android and create the specific path depending on the android version","body":"since android 11, the scope of the storage has changed. so you need to check what is the version of the android and create the specific path depending on the android version"},{"owner":{"account_id":15820995,"reputation":155,"user_id":11415346,"display_name":"Miftah Classifieds"},"score":0,"creation_date":1675464048,"post_id":70682558,"comment_id":132942166,"body_markdown":"Hi, I encountered the same issue , the image has been successfully stored in app-specific scope storage but default gallery cannot scan it. so I have to save it in some shared folder so that any other app can access it. the pic has been taken by default camera using the new Api for that.","body":"Hi, I encountered the same issue , the image has been successfully stored in app-specific scope storage but default gallery cannot scan it. so I have to save it in some shared folder so that any other app can access it. the pic has been taken by default camera using the new Api for that."}],"answers":[{"tags":[],"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642449690,"creation_date":1642449690,"answer_id":70746879,"question_id":70682558,"body_markdown":"I&#39;m assuming the app-specific storage is some sort of cache, in your ```onActivityResult()``` wouldn&#39;t you save the picture first to app-specific storage and  then copy it to ```Environment.DIRECTORY_PICTURES```?\r\n","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>I'm assuming the app-specific storage is some sort of cache, in your <code>onActivityResult()</code> wouldn't you save the picture first to app-specific storage and  then copy it to <code>Environment.DIRECTORY_PICTURES</code>?</p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642515373,"creation_date":1642515373,"answer_id":70757032,"question_id":70682558,"body_markdown":"Whenever you take a photo from the device, you the image uri in the `onActivityResult`. Now to save it to another location, you can use the code given below\r\n\r\n    void savefile(Uri sourceuri){\r\n        String sourceFilename= sourceuri.getPath();\r\n        String destinationFilename = android.os.Environment.getExternalStorageDirectory().getPath()+File.separatorChar+&quot;abc.mp3&quot;;\r\n\r\n        BufferedInputStream bis = null;\r\n        BufferedOutputStream bos = null;\r\n\r\n        try {\r\n          bis = new BufferedInputStream(new FileInputStream(sourceFilename));\r\n          bos = new BufferedOutputStream(new FileOutputStream(destinationFilename, false));\r\n          byte[] buf = new byte[1024];\r\n          bis.read(buf);\r\n          do {\r\n             bos.write(buf);\r\n          } while(bis.read(buf) != -1);\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        } finally {\r\n          try {\r\n            if (bis != null) bis.close();\r\n            if (bos != null) bos.close();\r\n          } catch (IOException e) {\r\n                e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\n\r\nAnd in the `onActivityResult`, you can call it like this\r\n\r\n    saveFile(data.getData());\r\n\r\n","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>Whenever you take a photo from the device, you the image uri in the <code>onActivityResult</code>. Now to save it to another location, you can use the code given below</p>\n<pre><code>void savefile(Uri sourceuri){\n    String sourceFilename= sourceuri.getPath();\n    String destinationFilename = android.os.Environment.getExternalStorageDirectory().getPath()+File.separatorChar+&quot;abc.mp3&quot;;\n\n    BufferedInputStream bis = null;\n    BufferedOutputStream bos = null;\n\n    try {\n      bis = new BufferedInputStream(new FileInputStream(sourceFilename));\n      bos = new BufferedOutputStream(new FileOutputStream(destinationFilename, false));\n      byte[] buf = new byte[1024];\n      bis.read(buf);\n      do {\n         bos.write(buf);\n      } while(bis.read(buf) != -1);\n    } catch (IOException e) {\n      e.printStackTrace();\n    } finally {\n      try {\n        if (bis != null) bis.close();\n        if (bos != null) bos.close();\n      } catch (IOException e) {\n            e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n<p>And in the <code>onActivityResult</code>, you can call it like this</p>\n<pre><code>saveFile(data.getData());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642574874,"creation_date":1642574874,"answer_id":70766323,"question_id":70682558,"body_markdown":"I have done something like this Before, I Share my code with you and others that may help.&lt;br&gt;\r\nin this scenario if you want to save captured image, you have to check which api level that device is running with. for api level 28 and below you have to use specific method and for api level 28 above you have specific way.\r\nso first step, start from:&lt;br&gt;\r\n**AndroidManifest.xml**\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;28&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n\r\nand add this line in to your AndroidManifest.xml application tag:&lt;br&gt;\r\n\r\n    android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\nif your project targetSdkVersion is 28 and above, you have to use **ActivityResultLauncher** otherwise you have to override **onRequestPermissionResult** in your fragment or activity.&lt;br&gt;\r\nif you use fragment you have to register your **ActivityResultLauncher** in onAttach method, if not register it in onCreate of your Activity, so do this:&lt;br&gt;\r\n\r\n    public class YourFragment extends Fragment {\r\n       private Bitmap bitmap;\r\n       private ActivityResultLauncher&lt;String&gt; storageResultActivity;\r\n\r\n\r\n        @Override\r\n        public void onAttach(@NonNull @NotNull Context context) {\r\n           super.onAttach(context);\r\n           registerWriteExternalStoragePermission();\r\n        }\r\n\r\n**registerWriteExternalStoragePermission** has this codes:&lt;br&gt;\r\n\r\n        private void registerWriteExternalStoragePermission() {\r\n        storageResultActivity = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n            if (isGranted) {\r\n                checkStoragePermissionAndSaveImage(bitmap);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nso next step is to get back result of captured image from intent and change it to Bitmap for this section we need another **activityResultLauncher** so do this in onAttach of your fragment or onCreate of your activity:&lt;br&gt;\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n        if (result.getResultCode() == RESULT_OK) {\r\n           Intent data = result.getData();\r\n           if (data == null || data.getData() == null) {\r\n              //showError\r\n           }\r\n           Uri uri = data.getData();\r\n            if (Build.VERSION.SDK_INT &lt; 29) {\r\n                bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver(), uri);\r\n            } else {\r\n                ImageDecoder.Source source = ImageDecoder.createSource(context.getContentResolver(), uri);\r\n                bitmap = ImageDecoder.decodeBitmap(source);\r\n            }\r\n        }\r\n\r\nso next step is to check your app has storage permission or not:&lt;br&gt;\r\n\r\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n            saveImageInAndroidApi28AndBelow(bitmap);\r\n        } else if (ActivityCompat.shouldShowRequestPermissionRationale(requireActivity(), Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n            //show user app can&#39;t save image for storage permission denied\r\n        } else {\r\n            storageResultActivity.launch(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        }\r\n\r\nok as we near the end of this answer :) you have to implement **saveImageInAndroidApi28AndBelow** method, se lets go to do it:&lt;br&gt;\r\n\r\n        private boolean saveImageInAndroidApi28AndBelow(Bitmap bitmap) {\r\n        OutputStream fos;\r\n        String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString();\r\n        File image = new File(imagesDir, &quot;IMG_&quot; + System.currentTimeMillis() + &quot;.png&quot;);\r\n        try {\r\n            fos = new FileOutputStream(image);\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 95, fos);\r\n            Objects.requireNonNull(fos).close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            //isSuccess = false;\r\n            return false;\r\n        }\r\n        //isSuccess = true;\r\n        return true;\r\n    }\r\n\r\nand the final step is to implement **saveImageInAndroidApi29AndAbove** method do it like this: &lt;br&gt;\r\n\r\n    @NonNull\r\n    public Uri saveImageInAndroidApi29AndAbove(@NonNull final Bitmap bitmap) throws IOException {\r\n        final ContentValues values = new ContentValues();\r\n        values.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot; + System.currentTimeMillis());\r\n        values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\r\n        }\r\n        final ContentResolver resolver = requireContext().getContentResolver();\r\n        Uri uri = null;\r\n        try {\r\n            final Uri contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n            uri = resolver.insert(contentUri, values);\r\n            if (uri == null) {\r\n                //isSuccess = false;\r\n                throw new IOException(&quot;Failed to create new MediaStore record.&quot;);\r\n            }\r\n            try (final OutputStream stream = resolver.openOutputStream(uri)) {\r\n                if (stream == null) {\r\n                    //isSuccess = false;\r\n                    throw new IOException(&quot;Failed to open output stream.&quot;);\r\n                }\r\n                if (!bitmap.compress(Bitmap.CompressFormat.PNG, 95, stream)) {\r\n                    //isSuccess = false;\r\n                    throw new IOException(&quot;Failed to save bitmap.&quot;);\r\n                }\r\n            }\r\n            //isSuccess = true;\r\n            return uri;\r\n        } catch (IOException e) {\r\n            if (uri != null) {\r\n                resolver.delete(uri, null, null);\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n\r\nso you have to check which API Level that device is running and with with little code handle what you want:&lt;br&gt;\r\n\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                try {\r\n                    saveImageInAndroidApi29AndAbove(bitmap);\r\n                } catch (Exception e) {\r\n                   //show error to user that operatoin failed\r\n                }\r\n            } else {\r\n                saveImageInAndroidApi28AndBelow(bitmap);\r\n            }\r\n\r\n**Don&#39;t FORGET TO call .launch ON YOUR ActivityResultLauncher**\r\n\r\nhave a good time with the codes :)","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>I have done something like this Before, I Share my code with you and others that may help.<br>\nin this scenario if you want to save captured image, you have to check which api level that device is running with. for api level 28 and below you have to use specific method and for api level 28 above you have specific way.\nso first step, start from:<br>\n<strong>AndroidManifest.xml</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;28&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n</code></pre>\n<p>and add this line in to your AndroidManifest.xml application tag:<br></p>\n<pre><code>android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>if your project targetSdkVersion is 28 and above, you have to use <strong>ActivityResultLauncher</strong> otherwise you have to override <strong>onRequestPermissionResult</strong> in your fragment or activity.<br>\nif you use fragment you have to register your <strong>ActivityResultLauncher</strong> in onAttach method, if not register it in onCreate of your Activity, so do this:<br></p>\n<pre><code>public class YourFragment extends Fragment {\n   private Bitmap bitmap;\n   private ActivityResultLauncher&lt;String&gt; storageResultActivity;\n\n\n    @Override\n    public void onAttach(@NonNull @NotNull Context context) {\n       super.onAttach(context);\n       registerWriteExternalStoragePermission();\n    }\n</code></pre>\n<p><strong>registerWriteExternalStoragePermission</strong> has this codes:<br></p>\n<pre><code>    private void registerWriteExternalStoragePermission() {\n    storageResultActivity = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n        if (isGranted) {\n            checkStoragePermissionAndSaveImage(bitmap);\n        }\n    });\n}\n</code></pre>\n<p>so next step is to get back result of captured image from intent and change it to Bitmap for this section we need another <strong>activityResultLauncher</strong> so do this in onAttach of your fragment or onCreate of your activity:<br></p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n    if (result.getResultCode() == RESULT_OK) {\n       Intent data = result.getData();\n       if (data == null || data.getData() == null) {\n          //showError\n       }\n       Uri uri = data.getData();\n        if (Build.VERSION.SDK_INT &lt; 29) {\n            bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver(), uri);\n        } else {\n            ImageDecoder.Source source = ImageDecoder.createSource(context.getContentResolver(), uri);\n            bitmap = ImageDecoder.decodeBitmap(source);\n        }\n    }\n</code></pre>\n<p>so next step is to check your app has storage permission or not:<br></p>\n<pre><code>    if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n        saveImageInAndroidApi28AndBelow(bitmap);\n    } else if (ActivityCompat.shouldShowRequestPermissionRationale(requireActivity(), Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n        //show user app can't save image for storage permission denied\n    } else {\n        storageResultActivity.launch(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    }\n</code></pre>\n<p>ok as we near the end of this answer :) you have to implement <strong>saveImageInAndroidApi28AndBelow</strong> method, se lets go to do it:<br></p>\n<pre><code>    private boolean saveImageInAndroidApi28AndBelow(Bitmap bitmap) {\n    OutputStream fos;\n    String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString();\n    File image = new File(imagesDir, &quot;IMG_&quot; + System.currentTimeMillis() + &quot;.png&quot;);\n    try {\n        fos = new FileOutputStream(image);\n        bitmap.compress(Bitmap.CompressFormat.PNG, 95, fos);\n        Objects.requireNonNull(fos).close();\n    } catch (IOException e) {\n        e.printStackTrace();\n        //isSuccess = false;\n        return false;\n    }\n    //isSuccess = true;\n    return true;\n}\n</code></pre>\n<p>and the final step is to implement <strong>saveImageInAndroidApi29AndAbove</strong> method do it like this: <br></p>\n<pre><code>@NonNull\npublic Uri saveImageInAndroidApi29AndAbove(@NonNull final Bitmap bitmap) throws IOException {\n    final ContentValues values = new ContentValues();\n    values.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot; + System.currentTimeMillis());\n    values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\n    if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\n    }\n    final ContentResolver resolver = requireContext().getContentResolver();\n    Uri uri = null;\n    try {\n        final Uri contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n        uri = resolver.insert(contentUri, values);\n        if (uri == null) {\n            //isSuccess = false;\n            throw new IOException(&quot;Failed to create new MediaStore record.&quot;);\n        }\n        try (final OutputStream stream = resolver.openOutputStream(uri)) {\n            if (stream == null) {\n                //isSuccess = false;\n                throw new IOException(&quot;Failed to open output stream.&quot;);\n            }\n            if (!bitmap.compress(Bitmap.CompressFormat.PNG, 95, stream)) {\n                //isSuccess = false;\n                throw new IOException(&quot;Failed to save bitmap.&quot;);\n            }\n        }\n        //isSuccess = true;\n        return uri;\n    } catch (IOException e) {\n        if (uri != null) {\n            resolver.delete(uri, null, null);\n        }\n        throw e;\n    }\n}\n</code></pre>\n<p>so you have to check which API Level that device is running and with with little code handle what you want:<br></p>\n<pre><code>            if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            try {\n                saveImageInAndroidApi29AndAbove(bitmap);\n            } catch (Exception e) {\n               //show error to user that operatoin failed\n            }\n        } else {\n            saveImageInAndroidApi28AndBelow(bitmap);\n        }\n</code></pre>\n<p><strong>Don't FORGET TO call .launch ON YOUR ActivityResultLauncher</strong></p>\n<p>have a good time with the codes :)</p>\n"},{"tags":[],"owner":{"account_id":12514527,"reputation":1,"user_id":12109533,"display_name":"Rene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642650228,"creation_date":1642650228,"answer_id":70780561,"question_id":70682558,"body_markdown":"Simple, make a Launcher attach the camera and gallery and you have everything in one place, here I send you 2 links to make a launcher\r\n\r\nhttps://code.tutsplus.com/es/tutorials/build-a-custom-launcher-on-android--cms-21358\r\n\r\nhttps://steemit.com/utopian-io/@ideba/how-to-build-a-custom-android-launcher-and-home-screen-application-part-1","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>Simple, make a Launcher attach the camera and gallery and you have everything in one place, here I send you 2 links to make a launcher</p>\n<p><a href=\"https://code.tutsplus.com/es/tutorials/build-a-custom-launcher-on-android--cms-21358\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/es/tutorials/build-a-custom-launcher-on-android--cms-21358</a></p>\n<p><a href=\"https://steemit.com/utopian-io/@ideba/how-to-build-a-custom-android-launcher-and-home-screen-application-part-1\" rel=\"nofollow noreferrer\">https://steemit.com/utopian-io/@ideba/how-to-build-a-custom-android-launcher-and-home-screen-application-part-1</a></p>\n"}],"owner":{"account_id":23049030,"reputation":41,"user_id":17166150,"display_name":"parker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5291,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1642650228,"creation_date":1641994722,"question_id":70682558,"body_markdown":"I want to call the camera through intent, capture images, and save it locally in the gallery and in the app-specific storage how can I achieve that?\r\n\r\nI went through [this][1] question also but the code is not working I don&#39;t know why.\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60027883/take-photo-in-android-app-and-save-it-into-gallery","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>I want to call the camera through intent, capture images, and save it locally in the gallery and in the app-specific storage how can I achieve that?</p>\n<p>I went through <a href=\"https://stackoverflow.com/questions/60027883/take-photo-in-android-app-and-save-it-into-gallery\">this</a> question also but the code is not working I don't know why.</p>\n"},{"tags":["java","email","outlook"],"comments":[{"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"score":0,"creation_date":1512072921,"post_id":47581414,"comment_id":82121184,"body_markdown":"Instead of `imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);`, try using `imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + &quot;101@gmail.com&quot;+ &quot;&gt;&quot;);`","body":"Instead of <code>imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);</code>, try using <code>imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + &quot;101@gmail.com&quot;+ &quot;&gt;&quot;);</code>"},{"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"score":0,"creation_date":1512073371,"post_id":47581414,"comment_id":82121436,"body_markdown":"This could also potentially be a reason why the images are not being shown inline in Outlook -  http://www.addintools.com/documents/outlook/images/trust-center-window.png","body":"This could also potentially be a reason why the images are not being shown inline in Outlook -  <a href=\"http://www.addintools.com/documents/outlook/images/trust-center-window.png\" rel=\"nofollow noreferrer\">addintools.com/documents/outlook/images/trust-center-window.&zwnj;&#8203;png</a>"},{"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"score":0,"creation_date":1512074397,"post_id":47581414,"comment_id":82122001,"body_markdown":"I tried your suggestion, but it didn&#39;t work. I forgot to mention that I am using Microsoft Outlook for Mac version 15.33 for testing, and this version does not include or support Microsoft&#39;s Trust Center.","body":"I tried your suggestion, but it didn&#39;t work. I forgot to mention that I am using Microsoft Outlook for Mac version 15.33 for testing, and this version does not include or support Microsoft&#39;s Trust Center."}],"answers":[{"tags":[],"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1515834033,"creation_date":1515827758,"answer_id":48237758,"question_id":47581414,"body_markdown":"I wrote the following code, and it solved my problem. The difference between this one and the one above is that I called `setText` instead of `setContent` for the body text, and I called `attachFile` instead of `setDataHandler` for the image.\r\n\r\n    private void send(String toAddress, String subject, String text, byte[] attachment) {\r\n      JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n      mailSender.setHost(mailHost);\r\n\r\n      MimeMessage message = mailSender.createMimeMessage();\r\n      MimeMessageHelper msgHelper = new MimeMessageHelper(message, true);\r\n      msgHelper.setSubject(subject);\r\n      msgHelper.setFrom(fromAddress);\r\n      msgHelper.setTo(toAddress);\r\n\r\n      Multipart multipart = new MimeMultipart();\r\n\r\n      MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n      messageBodyPart.setText(text, &quot;UTF-8&quot;, &quot;html&quot;);\r\n      multipart.addBodyPart(messageBodyPart);\r\n\r\n      MimeBodyPart imagePart = new MimeBodyPart();\r\n      imagePart.attachFile(new File(PdfMailServiceImpl.class.getClassLoader().getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\r\n      imagePart.setContentID(&quot;&lt;&quot; + &quot;101&quot; + &quot;&gt;&quot;);\r\n      imagePart.setDisposition(MimeBodyPart.INLINE);\r\n      multipart.addBodyPart(imagePart);\r\n\r\n      MimeBodyPart pdfPart = new MimeBodyPart();\r\n      DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\r\n      pdfPart.setDataHandler(new DataHandler(pdfSrc));\r\n      pdfPart.setFileName(formFilename);\r\n      multipart.addBodyPart(pdfPart);\r\n\r\n      message.setContent(multipart, &quot;text/html&quot;);\r\n\r\n      message.saveChanges();\r\n\r\n      mailSender.send(message);\r\n    }","title":"How to prevent inline images from being converted to binary attachments in Microsoft Outlook?","body":"<p>I wrote the following code, and it solved my problem. The difference between this one and the one above is that I called <code>setText</code> instead of <code>setContent</code> for the body text, and I called <code>attachFile</code> instead of <code>setDataHandler</code> for the image.</p>\n\n<pre><code>private void send(String toAddress, String subject, String text, byte[] attachment) {\n  JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n  mailSender.setHost(mailHost);\n\n  MimeMessage message = mailSender.createMimeMessage();\n  MimeMessageHelper msgHelper = new MimeMessageHelper(message, true);\n  msgHelper.setSubject(subject);\n  msgHelper.setFrom(fromAddress);\n  msgHelper.setTo(toAddress);\n\n  Multipart multipart = new MimeMultipart();\n\n  MimeBodyPart messageBodyPart = new MimeBodyPart();\n  messageBodyPart.setText(text, \"UTF-8\", \"html\");\n  multipart.addBodyPart(messageBodyPart);\n\n  MimeBodyPart imagePart = new MimeBodyPart();\n  imagePart.attachFile(new File(PdfMailServiceImpl.class.getClassLoader().getResource(\"images/Energy_Office-logo.png\").toURI()));\n  imagePart.setContentID(\"&lt;\" + \"101\" + \"&gt;\");\n  imagePart.setDisposition(MimeBodyPart.INLINE);\n  multipart.addBodyPart(imagePart);\n\n  MimeBodyPart pdfPart = new MimeBodyPart();\n  DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\n  pdfPart.setDataHandler(new DataHandler(pdfSrc));\n  pdfPart.setFileName(formFilename);\n  multipart.addBodyPart(pdfPart);\n\n  message.setContent(multipart, \"text/html\");\n\n  message.saveChanges();\n\n  mailSender.send(message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23994573,"reputation":1,"user_id":17980231,"display_name":"paul chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642649990,"creation_date":1642649990,"answer_id":70780539,"question_id":47581414,"body_markdown":"  \r\n     MimeBodyPart imagePart = new MimeBodyPart();\r\n     DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\r\n     .getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\r\n     imagePart.setDataHandler(new DataHandler(imgSrc));\r\n     imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);\r\n    // add The following code\r\n     imagePart1.setHeader(&quot;Content-Type&quot;, &quot;image/png&quot;);\r\n     imagePart.setDisposition(MimeBodyPart.INLINE);\r\n    multipart.addBodyPart(imagePart);","title":"How to prevent inline images from being converted to binary attachments in Microsoft Outlook?","body":"<pre><code> MimeBodyPart imagePart = new MimeBodyPart();\n DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\n .getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\n imagePart.setDataHandler(new DataHandler(imgSrc));\n imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);\n// add The following code\n imagePart1.setHeader(&quot;Content-Type&quot;, &quot;image/png&quot;);\n imagePart.setDisposition(MimeBodyPart.INLINE);\nmultipart.addBodyPart(imagePart);\n</code></pre>\n"}],"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48237758,"answer_count":2,"score":0,"last_activity_date":1642649990,"creation_date":1512070989,"question_id":47581414,"body_markdown":"My Java application creates an e-mail and sends it to a user. If the e-mail is sent to a Gmail account and the user checks his e-mail online in a web browser, the image that is in the body and at the bottom of the e-mail (i.e. not an attachment) will be displayed. However, if the e-mail is sent to a user who checks his e-mail via Microsoft Outlook (i.e. the e-mail passes through a Microsoft Exchange Server), the image is converted to a binary file and then attached to the e-mail, and at the bottom of the e-mail, the filename &quot;ATT00001.bin&quot; is displayed. How do I fix this issue so that the image will be displayed?\r\n\r\nHere is what the e-mail should look like with the image, which should be at the bottom of the e-mail.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut here is how the e-mail looks in Microsoft Outlook. There is no image, only a binary file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my code for generating an e-mail with an inline image.\r\n\r\n      MimeMessage message = mailSender.createMimeMessage();\r\n      message.setSubject(&quot;Subject&quot;);\r\n\r\n      MimeMessageHelper msg = new MimeMessageHelper(message, true);\r\n\r\n      msg.setTo(&quot;recipient@gmail.com&quot;);\r\n      msg.setFrom(&quot;sender@gmail.com&quot;);\r\n      msg.setSentDate(new Date());\r\n\r\n      Multipart multipart = new MimeMultipart();\r\n\r\n      MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n      messageBodyPart.setContent(&quot;&lt;html&gt;&lt;body&gt;Test&lt;br /&gt;&quot;\r\n        + &quot;&lt;img src=&#39;cid:101@gmail.com&#39;/&gt;&lt;/body&gt;&lt;/html&gt;&quot;, &quot;text/html&quot;);\r\n      multipart.addBodyPart(messageBodyPart);\r\n\r\n      MimeBodyPart imagePart = new MimeBodyPart();\r\n      DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\r\n        .getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\r\n      imagePart.setDataHandler(new DataHandler(imgSrc));\r\n      imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);\r\n      // The following code does not fix the issue either.\r\n      // imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + &quot;101@gmail.com&quot; + &quot;&gt;&quot;);\r\n      imagePart.setDisposition(MimeBodyPart.INLINE);\r\n      multipart.addBodyPart(imagePart);\r\n\r\n      MimeBodyPart pdfPart = new MimeBodyPart();\r\n      DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\r\n      pdfPart.setDataHandler(new DataHandler(pdfSrc));\r\n      pdfPart.setFileName(&quot;file.pdf&quot;);\r\n      multipart.addBodyPart(pdfPart);\r\n\r\n      message.setContent(multipart, &quot;text/html&quot;);\r\n\r\n      message.saveChanges();\r\n\r\n      mailSender.send(message);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/145og.png\r\n  [2]: https://i.stack.imgur.com/7wP2j.png","title":"How to prevent inline images from being converted to binary attachments in Microsoft Outlook?","body":"<p>My Java application creates an e-mail and sends it to a user. If the e-mail is sent to a Gmail account and the user checks his e-mail online in a web browser, the image that is in the body and at the bottom of the e-mail (i.e. not an attachment) will be displayed. However, if the e-mail is sent to a user who checks his e-mail via Microsoft Outlook (i.e. the e-mail passes through a Microsoft Exchange Server), the image is converted to a binary file and then attached to the e-mail, and at the bottom of the e-mail, the filename \"ATT00001.bin\" is displayed. How do I fix this issue so that the image will be displayed?</p>\n\n<p>Here is what the e-mail should look like with the image, which should be at the bottom of the e-mail.</p>\n\n<p><a href=\"https://i.stack.imgur.com/145og.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/145og.png\" alt=\"enter image description here\"></a></p>\n\n<p>But here is how the e-mail looks in Microsoft Outlook. There is no image, only a binary file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7wP2j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7wP2j.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code for generating an e-mail with an inline image.</p>\n\n<pre><code>  MimeMessage message = mailSender.createMimeMessage();\n  message.setSubject(\"Subject\");\n\n  MimeMessageHelper msg = new MimeMessageHelper(message, true);\n\n  msg.setTo(\"recipient@gmail.com\");\n  msg.setFrom(\"sender@gmail.com\");\n  msg.setSentDate(new Date());\n\n  Multipart multipart = new MimeMultipart();\n\n  MimeBodyPart messageBodyPart = new MimeBodyPart();\n  messageBodyPart.setContent(\"&lt;html&gt;&lt;body&gt;Test&lt;br /&gt;\"\n    + \"&lt;img src='cid:101@gmail.com'/&gt;&lt;/body&gt;&lt;/html&gt;\", \"text/html\");\n  multipart.addBodyPart(messageBodyPart);\n\n  MimeBodyPart imagePart = new MimeBodyPart();\n  DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\n    .getResource(\"images/Energy_Office-logo.png\").toURI()));\n  imagePart.setDataHandler(new DataHandler(imgSrc));\n  imagePart.setContentID(\"&lt;101@gmail.com&gt;\");\n  // The following code does not fix the issue either.\n  // imagePart.setHeader(\"Content-ID\", \"&lt;\" + \"101@gmail.com\" + \"&gt;\");\n  imagePart.setDisposition(MimeBodyPart.INLINE);\n  multipart.addBodyPart(imagePart);\n\n  MimeBodyPart pdfPart = new MimeBodyPart();\n  DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\n  pdfPart.setDataHandler(new DataHandler(pdfSrc));\n  pdfPart.setFileName(\"file.pdf\");\n  multipart.addBodyPart(pdfPart);\n\n  message.setContent(multipart, \"text/html\");\n\n  message.saveChanges();\n\n  mailSender.send(message);\n</code></pre>\n"},{"tags":["java","swing","class","actionlistener"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642641460,"post_id":70778844,"comment_id":125128011,"body_markdown":"Generally, you create a Swing GUI one time, at the beginning of your application.  You create an application model made up of one or more plain Java getter/setter classes to hold the state of the game.  Your GUI reads the state of the game from the model and updates the text of the Swing components in the GUI.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Generally, you create a Swing GUI one time, at the beginning of your application.  You create an application model made up of one or more plain Java getter/setter classes to hold the state of the game.  Your GUI reads the state of the game from the model and updates the text of the Swing components in the GUI.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":13417687,"reputation":45,"user_id":15411439,"display_name":"Teo"},"score":0,"creation_date":1642644212,"post_id":70778844,"comment_id":125128418,"body_markdown":"@GilbertLeBlanc So i should create a class that has all of the info as to how the &#39;new game&#39; looks like? Dimensions, letters at buttons. and when i click new game, have it load from that &quot;game state&quot; class?","body":"@GilbertLeBlanc So i should create a class that has all of the info as to how the &#39;new game&#39; looks like? Dimensions, letters at buttons. and when i click new game, have it load from that &quot;game state&quot; class?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642662259,"post_id":70778844,"comment_id":125131605,"body_markdown":"Is it just a coincidence that the code in [this question](https://stackoverflow.com/questions/70750073/how-to-have-one-jpanel-show-up-and-the-second-one-disappear-on-button-click) by another user has a lot in common with this one ?","body":"Is it just a coincidence that the code in <a href=\"https://stackoverflow.com/questions/70750073/how-to-have-one-jpanel-show-up-and-the-second-one-disappear-on-button-click\">this question</a> by another user has a lot in common with this one ?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642667285,"post_id":70778844,"comment_id":125133267,"body_markdown":"No.  As  I said, you create the view once and only once using Swing components.  Your application model consists of **plain Java getter/setter classes**.  No Swing components whatsoever.  The Wikipedia article [model–view–controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) goes into much more detail.","body":"No.  As  I said, you create the view once and only once using Swing components.  Your application model consists of <b>plain Java getter/setter classes</b>.  No Swing components whatsoever.  The Wikipedia article <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model–view–controller</a> goes into much more detail."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642649845,"creation_date":1642646502,"answer_id":70780223,"question_id":70778844,"body_markdown":"In general, you should be working on the concept of decoupling your views and your data, this means that you could have a &quot;game model&quot; which could be applied to a view and the view would then modify itself based on model properties, this is commonly known as &quot;model - view - controller&quot;.\r\n\r\nThe problem is, however, you never remove `grid` from it&#39;s parent container when you create a new game\r\n\r\n    if (checkexists == true){\r\n        grid = null;\r\n        grid = new JPanel();\r\n    }\r\n\r\nInstead, before you re-intialise the `grid`, you should remove from it&#39;s parent container\r\n\r\n    if (grid != null) {\r\n        mainGame.remove(grid);\r\n        grid = null;\r\n        grid = new JPanel();\r\n    }\r\n\r\nor you could just remove the components from the `grid` panel itself\r\n\r\n    grid.removeAll();\r\n\r\n# A different approach...\r\n\r\nAt all stages you should be trying to decouple you objects and workflows from each other, so that it&#39;s easier to change any one part without having adverse effects on the other parts of the system or workflow.\r\n\r\nLooking at you code, for example, the navigation decisions are tightly coupled to each panel/view, but in reality, they shouldn&#39;t know or care about how the navigation works (or the fact that there are other views), they should just do there job.\r\n\r\nYou can decouple this workflow through the use of delegation (backed by an observer).  This basically means that the individual view doesn&#39;t care &quot;how&quot; the navigation works, only that when it makes a request for some action to be taken, it happens.\r\n\r\nYou should take the time to read through...\r\n\r\n* [Model-View-Controller](https://www.geeksforgeeks.org/mvc-design-pattern/)\r\n* [Observer Pattern](https://www.oodesign.com/observer-pattern.html)\r\n* [Dependency Injection in Java](https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae)\r\n\r\nBut how does this help you?  Well, it will help you all the time!\r\n\r\nLets start with the &quot;game&quot; itself.  The first thing we need is some kind of container to hold the data base logic for the game, so based on your current code, it might look something like...\r\n\r\n    public interface GameModel {\r\n        public int getRows();\r\n        public int getColumns();\r\n    }\r\n\r\nI know, amazing isn&#39;t it, but this `interface` would grow to hold the logic required to run your game.\r\n\r\nNow, we can apply this to the `GamePanel`\r\n\r\n    public class GamePane extends JPanel {\r\n        \r\n        public interface Obsever {\r\n            public void back(GamePane source);\r\n        }\r\n\r\n        private GameModel model;\r\n        private Obsever obsever;\r\n        \r\n        private JPanel contentPane;\r\n        \r\n        private ActionListener buttonActionListener = new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                didTap(e.getActionCommand());\r\n            }\r\n        };\r\n        \r\n        public GamePane(Obsever obsever) {\r\n            this.obsever = obsever;\r\n            \r\n            setLayout(new BorderLayout());\r\n            \r\n            contentPane = new JPanel();\r\n            add(new JScrollPane(contentPane));\r\n            \r\n            JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\r\n            backButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    obsever.back(GamePane.this);\r\n                }\r\n            });\r\n            \r\n            JPanel bannerPane = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_END;\r\n            \r\n            bannerPane.add(backButton, gbc);\r\n            \r\n            add(bannerPane, BorderLayout.NORTH);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            // Bunch of things we could do here, but this basically\r\n            // acts as a stand in for CardLayout, otherwise the primary\r\n            // view will be to small\r\n            return new Dimension(800, 800);\r\n        }\r\n\r\n        public void setModel(GameModel model) {\r\n            if (this.model == model) {\r\n                // Do nothing, nothings changed\r\n                return;\r\n            }\r\n            this.model = model;\r\n            buildUI();\r\n        }\r\n\r\n        protected void buildUI() {\r\n            contentPane.removeAll();\r\n            if (model == null) {\r\n                return;\r\n            }\r\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            Random rnd = new Random();\r\n            JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\r\n            contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\r\n            //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\r\n            for (int i = 0; i &lt; model.getRows(); i++) {\r\n                for (int j = 0; j &lt; model.getColumns(); j++) {\r\n                    int randomnumber = rnd.nextInt(Letters.length());\r\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                    //gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                    contentPane.add(gridbutton[i][j]);\r\n                }\r\n            }\r\n        }\r\n        \r\n        protected void didTap(String action) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\nNow, the nice &quot;juicy&quot; part is in the `buildUI` which is called by `setModel` when the model changes.  This just re-builds the UI based on the `GameModel` properties.\r\n\r\nAs for the navigation concept, you can see part of it in the `GamePane` via its `Observer` `interface`.  I started by creating a seperate class to handle the navigation workflows. \r\n\r\nThis means that the &quot;how&quot; or &quot;implementation detail&quot; is decoupled or hidden from the other parts of the system.  Instead, it makes use of simple observer/delegation workflow.\r\n\r\nEach view provides an `Observer` (for the what of a better name) which describes the navigation actions it needs performed.  For example, both the `SettingsPane` and `GamePane` simply have `back`.  They don&#39;t care what came before them, that&#39;s up to the navigation controller to decide.\r\n\r\n\r\n    public class NavigationPane extends JPanel {\r\n\r\n        enum View {\r\n            MAIN_MENU, GAME, SETTINGS\r\n        }\r\n\r\n        private CardLayout cardLayout;\r\n        private GameModel model;\r\n        private GamePane gamePane;\r\n        \r\n        // Just for testing...\r\n        private Random rnd = new Random();\r\n\r\n        public NavigationPane() {\r\n            cardLayout = new CardLayout();\r\n            setLayout(cardLayout);\r\n\r\n            add(new MainMenu(new MainMenu.Observer() {\r\n                @Override\r\n                public void newGame(MainMenu source) {\r\n                    gamePane.setModel(createModel());\r\n                    navigateTo(View.GAME);\r\n                }\r\n\r\n                @Override\r\n                public void continueGame(MainMenu source) {\r\n                    // Because it&#39;s possible to push continue\r\n                    // without starting a game\r\n                    // It might be possible have a &quot;menu&quot; model\r\n                    // which can be used to change the enabled state of\r\n                    // the continue button based on the state of the\r\n                    // game\r\n                    gamePane.setModel(getOrCreateGameModel());\r\n                    navigateTo(View.GAME);\r\n                }\r\n\r\n                @Override\r\n                public void settingsGame(MainMenu source) {\r\n                    navigateTo(View.SETTINGS);\r\n                }\r\n            }), View.MAIN_MENU);\r\n            \r\n            gamePane = new GamePane(new GamePane.Obsever() {\r\n                @Override\r\n                public void back(GamePane source) {\r\n                    navigateTo(View.MAIN_MENU);\r\n                }\r\n            });\r\n            add(gamePane, View.GAME);\r\n            \r\n            add(new SettingsPane(new SettingsPane.Obsever() {\r\n                @Override\r\n                public void back(SettingsPane source) {\r\n                    navigateTo(View.MAIN_MENU);\r\n                }\r\n            }), View.SETTINGS);\r\n\r\n            navigateTo(View.MAIN_MENU);\r\n        }\r\n        \r\n        protected GameModel createModel() {\r\n            model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\r\n            return model;\r\n        }\r\n        \r\n        protected GameModel getOrCreateGameModel() {\r\n            if (model == null) {\r\n                model = createModel();\r\n            }\r\n            return model;\r\n        }\r\n\r\n        protected void add(Component component, View view) {\r\n            add(component, view.name());\r\n        }\r\n\r\n        protected void navigateTo(View view) {\r\n            cardLayout.show(this, view.name());\r\n        }\r\n\r\n    }\r\n\r\n# Runnable example...\r\n\r\nSo, that&#39;s a lot of out-of-context code.  The below is basically an example of one possible approach you could take to further reduce some of the clutter and coupling which is growing in your code base at this time.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new NavigationPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class NavigationPane extends JPanel {\r\n\r\n            enum View {\r\n                MAIN_MENU, GAME, SETTINGS\r\n            }\r\n\r\n            private CardLayout cardLayout;\r\n            private GameModel model;\r\n            private GamePane gamePane;\r\n\r\n            // Just for testing...\r\n            private Random rnd = new Random();\r\n\r\n            public NavigationPane() {\r\n                cardLayout = new CardLayout();\r\n                setLayout(cardLayout);\r\n\r\n                add(new MainMenu(new MainMenu.Observer() {\r\n                    @Override\r\n                    public void newGame(MainMenu source) {\r\n                        gamePane.setModel(createModel());\r\n                        navigateTo(View.GAME);\r\n                    }\r\n\r\n                    @Override\r\n                    public void continueGame(MainMenu source) {\r\n                        // Because it&#39;s possible to push continue\r\n                        // without starting a game\r\n                        // It might be possible have a &quot;menu&quot; model\r\n                        // which can be used to change the enabled state of\r\n                        // the continue button based on the state of the\r\n                        // game\r\n                        gamePane.setModel(getOrCreateGameModel());\r\n                        navigateTo(View.GAME);\r\n                    }\r\n\r\n                    @Override\r\n                    public void settingsGame(MainMenu source) {\r\n                        navigateTo(View.SETTINGS);\r\n                    }\r\n                }), View.MAIN_MENU);\r\n\r\n                gamePane = new GamePane(new GamePane.Obsever() {\r\n                    @Override\r\n                    public void back(GamePane source) {\r\n                        navigateTo(View.MAIN_MENU);\r\n                    }\r\n                });\r\n                add(gamePane, View.GAME);\r\n\r\n                add(new SettingsPane(new SettingsPane.Obsever() {\r\n                    @Override\r\n                    public void back(SettingsPane source) {\r\n                        navigateTo(View.MAIN_MENU);\r\n                    }\r\n                }), View.SETTINGS);\r\n\r\n                navigateTo(View.MAIN_MENU);\r\n            }\r\n\r\n            protected GameModel createModel() {\r\n                model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\r\n                return model;\r\n            }\r\n\r\n            protected GameModel getOrCreateGameModel() {\r\n                if (model == null) {\r\n                    model = createModel();\r\n                }\r\n                return model;\r\n            }\r\n\r\n            protected void add(Component component, View view) {\r\n                add(component, view.name());\r\n            }\r\n\r\n            protected void navigateTo(View view) {\r\n                cardLayout.show(this, view.name());\r\n            }\r\n\r\n        }\r\n\r\n        public class MainMenu extends JPanel {\r\n\r\n            public interface Observer {\r\n                public void newGame(MainMenu source);\r\n                public void continueGame(MainMenu source);\r\n                public void settingsGame(MainMenu source);\r\n            }\r\n\r\n            private Observer observer;\r\n\r\n            public MainMenu(Observer observer) {\r\n                this.observer = observer;\r\n                setLayout(new GridBagLayout());\r\n\r\n                JButton newGameButton = new JButton(&quot;New Game&quot;);\r\n                JButton continueButton = new JButton(&quot;Continue&quot;);\r\n                JButton settingsButton = new JButton(&quot;Settings&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(newGameButton, gbc);\r\n                add(continueButton, gbc);\r\n                add(settingsButton, gbc);\r\n\r\n                newGameButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        observer.newGame(MainMenu.this);\r\n                    }\r\n                });\r\n\r\n                continueButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        observer.continueGame(MainMenu.this);\r\n                    }\r\n                });\r\n\r\n                settingsButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        observer.settingsGame(MainMenu.this);\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class SettingsPane extends JPanel {\r\n\r\n            public interface Obsever {\r\n                public void back(SettingsPane source);\r\n            }\r\n\r\n            public SettingsPane(Obsever obsever) {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                add(new JLabel(&quot;All your setting belong to us&quot;), gbc);\r\n\r\n                JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\r\n                backButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        obsever.back(SettingsPane.this);\r\n                    }\r\n                });\r\n\r\n                add(backButton, gbc);\r\n            }\r\n\r\n        }\r\n\r\n        public interface GameModel {\r\n            public int getRows();\r\n            public int getColumns();\r\n        }\r\n\r\n        public class DefaultGameModel implements GameModel {\r\n\r\n            private int rows;\r\n            private int columns;\r\n\r\n            public DefaultGameModel(int rows, int columns) {\r\n                this.rows = rows;\r\n                this.columns = columns;\r\n            }\r\n\r\n            @Override\r\n            public int getRows() {\r\n                return rows;\r\n            }\r\n\r\n            @Override\r\n            public int getColumns() {\r\n                return columns;\r\n            }\r\n\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n\r\n            public interface Obsever {\r\n                public void back(GamePane source);\r\n            }\r\n\r\n            private GameModel model;\r\n            private Obsever obsever;\r\n\r\n            private JPanel contentPane;\r\n\r\n            private ActionListener buttonActionListener = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    didTap(e.getActionCommand());\r\n                }\r\n            };\r\n\r\n            public GamePane(Obsever obsever) {\r\n                this.obsever = obsever;\r\n\r\n                setLayout(new BorderLayout());\r\n\r\n                contentPane = new JPanel();\r\n                add(new JScrollPane(contentPane));\r\n\r\n                JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\r\n                backButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        obsever.back(GamePane.this);\r\n                    }\r\n                });\r\n\r\n                JPanel bannerPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n\r\n                bannerPane.add(backButton, gbc);\r\n\r\n                add(bannerPane, BorderLayout.NORTH);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                // Bunch of things we could do here, but this basically\r\n                // acts as a stand in for CardLayout, otherwise the primary\r\n                // view will be to small\r\n                return new Dimension(800, 800);\r\n            }\r\n\r\n            public void setModel(GameModel model) {\r\n                if (this.model == model) {\r\n                    // Do nothing, nothings changed\r\n                    return;\r\n                }\r\n                this.model = model;\r\n                buildUI();\r\n            }\r\n\r\n            protected void buildUI() {\r\n                contentPane.removeAll();\r\n                if (model == null) {\r\n                    return;\r\n                }\r\n                String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n                Random rnd = new Random();\r\n                JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\r\n                contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\r\n                //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\r\n                for (int i = 0; i &lt; model.getRows(); i++) {\r\n                    for (int j = 0; j &lt; model.getColumns(); j++) {\r\n                        int randomnumber = rnd.nextInt(Letters.length());\r\n                        gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                        //gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                        contentPane.add(gridbutton[i][j]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            protected void didTap(String action) {\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n","title":"How to have the program regenerate a &quot;new game&quot; where previous grid letters get swapped with new grid letters","body":"<p>In general, you should be working on the concept of decoupling your views and your data, this means that you could have a &quot;game model&quot; which could be applied to a view and the view would then modify itself based on model properties, this is commonly known as &quot;model - view - controller&quot;.</p>\n<p>The problem is, however, you never remove <code>grid</code> from it's parent container when you create a new game</p>\n<pre><code>if (checkexists == true){\n    grid = null;\n    grid = new JPanel();\n}\n</code></pre>\n<p>Instead, before you re-intialise the <code>grid</code>, you should remove from it's parent container</p>\n<pre><code>if (grid != null) {\n    mainGame.remove(grid);\n    grid = null;\n    grid = new JPanel();\n}\n</code></pre>\n<p>or you could just remove the components from the <code>grid</code> panel itself</p>\n<pre><code>grid.removeAll();\n</code></pre>\n<h1>A different approach...</h1>\n<p>At all stages you should be trying to decouple you objects and workflows from each other, so that it's easier to change any one part without having adverse effects on the other parts of the system or workflow.</p>\n<p>Looking at you code, for example, the navigation decisions are tightly coupled to each panel/view, but in reality, they shouldn't know or care about how the navigation works (or the fact that there are other views), they should just do there job.</p>\n<p>You can decouple this workflow through the use of delegation (backed by an observer).  This basically means that the individual view doesn't care &quot;how&quot; the navigation works, only that when it makes a request for some action to be taken, it happens.</p>\n<p>You should take the time to read through...</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/mvc-design-pattern/\" rel=\"nofollow noreferrer\">Model-View-Controller</a></li>\n<li><a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">Observer Pattern</a></li>\n<li><a href=\"https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae\" rel=\"nofollow noreferrer\">Dependency Injection in Java</a></li>\n</ul>\n<p>But how does this help you?  Well, it will help you all the time!</p>\n<p>Lets start with the &quot;game&quot; itself.  The first thing we need is some kind of container to hold the data base logic for the game, so based on your current code, it might look something like...</p>\n<pre><code>public interface GameModel {\n    public int getRows();\n    public int getColumns();\n}\n</code></pre>\n<p>I know, amazing isn't it, but this <code>interface</code> would grow to hold the logic required to run your game.</p>\n<p>Now, we can apply this to the <code>GamePanel</code></p>\n<pre><code>public class GamePane extends JPanel {\n    \n    public interface Obsever {\n        public void back(GamePane source);\n    }\n\n    private GameModel model;\n    private Obsever obsever;\n    \n    private JPanel contentPane;\n    \n    private ActionListener buttonActionListener = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            didTap(e.getActionCommand());\n        }\n    };\n    \n    public GamePane(Obsever obsever) {\n        this.obsever = obsever;\n        \n        setLayout(new BorderLayout());\n        \n        contentPane = new JPanel();\n        add(new JScrollPane(contentPane));\n        \n        JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\n        backButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                obsever.back(GamePane.this);\n            }\n        });\n        \n        JPanel bannerPane = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.anchor = GridBagConstraints.LINE_END;\n        \n        bannerPane.add(backButton, gbc);\n        \n        add(bannerPane, BorderLayout.NORTH);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        // Bunch of things we could do here, but this basically\n        // acts as a stand in for CardLayout, otherwise the primary\n        // view will be to small\n        return new Dimension(800, 800);\n    }\n\n    public void setModel(GameModel model) {\n        if (this.model == model) {\n            // Do nothing, nothings changed\n            return;\n        }\n        this.model = model;\n        buildUI();\n    }\n\n    protected void buildUI() {\n        contentPane.removeAll();\n        if (model == null) {\n            return;\n        }\n        String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        Random rnd = new Random();\n        JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\n        contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\n        //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\n        for (int i = 0; i &lt; model.getRows(); i++) {\n            for (int j = 0; j &lt; model.getColumns(); j++) {\n                int randomnumber = rnd.nextInt(Letters.length());\n                gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                //gridbutton[i][j].addActionListener(mainbuttonAL);\n                contentPane.add(gridbutton[i][j]);\n            }\n        }\n    }\n    \n    protected void didTap(String action) {\n        \n    }\n\n}\n</code></pre>\n<p>Now, the nice &quot;juicy&quot; part is in the <code>buildUI</code> which is called by <code>setModel</code> when the model changes.  This just re-builds the UI based on the <code>GameModel</code> properties.</p>\n<p>As for the navigation concept, you can see part of it in the <code>GamePane</code> via its <code>Observer</code> <code>interface</code>.  I started by creating a seperate class to handle the navigation workflows.</p>\n<p>This means that the &quot;how&quot; or &quot;implementation detail&quot; is decoupled or hidden from the other parts of the system.  Instead, it makes use of simple observer/delegation workflow.</p>\n<p>Each view provides an <code>Observer</code> (for the what of a better name) which describes the navigation actions it needs performed.  For example, both the <code>SettingsPane</code> and <code>GamePane</code> simply have <code>back</code>.  They don't care what came before them, that's up to the navigation controller to decide.</p>\n<pre><code>public class NavigationPane extends JPanel {\n\n    enum View {\n        MAIN_MENU, GAME, SETTINGS\n    }\n\n    private CardLayout cardLayout;\n    private GameModel model;\n    private GamePane gamePane;\n    \n    // Just for testing...\n    private Random rnd = new Random();\n\n    public NavigationPane() {\n        cardLayout = new CardLayout();\n        setLayout(cardLayout);\n\n        add(new MainMenu(new MainMenu.Observer() {\n            @Override\n            public void newGame(MainMenu source) {\n                gamePane.setModel(createModel());\n                navigateTo(View.GAME);\n            }\n\n            @Override\n            public void continueGame(MainMenu source) {\n                // Because it's possible to push continue\n                // without starting a game\n                // It might be possible have a &quot;menu&quot; model\n                // which can be used to change the enabled state of\n                // the continue button based on the state of the\n                // game\n                gamePane.setModel(getOrCreateGameModel());\n                navigateTo(View.GAME);\n            }\n\n            @Override\n            public void settingsGame(MainMenu source) {\n                navigateTo(View.SETTINGS);\n            }\n        }), View.MAIN_MENU);\n        \n        gamePane = new GamePane(new GamePane.Obsever() {\n            @Override\n            public void back(GamePane source) {\n                navigateTo(View.MAIN_MENU);\n            }\n        });\n        add(gamePane, View.GAME);\n        \n        add(new SettingsPane(new SettingsPane.Obsever() {\n            @Override\n            public void back(SettingsPane source) {\n                navigateTo(View.MAIN_MENU);\n            }\n        }), View.SETTINGS);\n\n        navigateTo(View.MAIN_MENU);\n    }\n    \n    protected GameModel createModel() {\n        model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\n        return model;\n    }\n    \n    protected GameModel getOrCreateGameModel() {\n        if (model == null) {\n            model = createModel();\n        }\n        return model;\n    }\n\n    protected void add(Component component, View view) {\n        add(component, view.name());\n    }\n\n    protected void navigateTo(View view) {\n        cardLayout.show(this, view.name());\n    }\n\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<p>So, that's a lot of out-of-context code.  The below is basically an example of one possible approach you could take to further reduce some of the clutter and coupling which is growing in your code base at this time.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new NavigationPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class NavigationPane extends JPanel {\n\n        enum View {\n            MAIN_MENU, GAME, SETTINGS\n        }\n\n        private CardLayout cardLayout;\n        private GameModel model;\n        private GamePane gamePane;\n\n        // Just for testing...\n        private Random rnd = new Random();\n\n        public NavigationPane() {\n            cardLayout = new CardLayout();\n            setLayout(cardLayout);\n\n            add(new MainMenu(new MainMenu.Observer() {\n                @Override\n                public void newGame(MainMenu source) {\n                    gamePane.setModel(createModel());\n                    navigateTo(View.GAME);\n                }\n\n                @Override\n                public void continueGame(MainMenu source) {\n                    // Because it's possible to push continue\n                    // without starting a game\n                    // It might be possible have a &quot;menu&quot; model\n                    // which can be used to change the enabled state of\n                    // the continue button based on the state of the\n                    // game\n                    gamePane.setModel(getOrCreateGameModel());\n                    navigateTo(View.GAME);\n                }\n\n                @Override\n                public void settingsGame(MainMenu source) {\n                    navigateTo(View.SETTINGS);\n                }\n            }), View.MAIN_MENU);\n\n            gamePane = new GamePane(new GamePane.Obsever() {\n                @Override\n                public void back(GamePane source) {\n                    navigateTo(View.MAIN_MENU);\n                }\n            });\n            add(gamePane, View.GAME);\n\n            add(new SettingsPane(new SettingsPane.Obsever() {\n                @Override\n                public void back(SettingsPane source) {\n                    navigateTo(View.MAIN_MENU);\n                }\n            }), View.SETTINGS);\n\n            navigateTo(View.MAIN_MENU);\n        }\n\n        protected GameModel createModel() {\n            model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\n            return model;\n        }\n\n        protected GameModel getOrCreateGameModel() {\n            if (model == null) {\n                model = createModel();\n            }\n            return model;\n        }\n\n        protected void add(Component component, View view) {\n            add(component, view.name());\n        }\n\n        protected void navigateTo(View view) {\n            cardLayout.show(this, view.name());\n        }\n\n    }\n\n    public class MainMenu extends JPanel {\n\n        public interface Observer {\n            public void newGame(MainMenu source);\n            public void continueGame(MainMenu source);\n            public void settingsGame(MainMenu source);\n        }\n\n        private Observer observer;\n\n        public MainMenu(Observer observer) {\n            this.observer = observer;\n            setLayout(new GridBagLayout());\n\n            JButton newGameButton = new JButton(&quot;New Game&quot;);\n            JButton continueButton = new JButton(&quot;Continue&quot;);\n            JButton settingsButton = new JButton(&quot;Settings&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(newGameButton, gbc);\n            add(continueButton, gbc);\n            add(settingsButton, gbc);\n\n            newGameButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    observer.newGame(MainMenu.this);\n                }\n            });\n\n            continueButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    observer.continueGame(MainMenu.this);\n                }\n            });\n\n            settingsButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    observer.settingsGame(MainMenu.this);\n                }\n            });\n        }\n\n    }\n\n    public class SettingsPane extends JPanel {\n\n        public interface Obsever {\n            public void back(SettingsPane source);\n        }\n\n        public SettingsPane(Obsever obsever) {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(new JLabel(&quot;All your setting belong to us&quot;), gbc);\n\n            JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\n            backButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    obsever.back(SettingsPane.this);\n                }\n            });\n\n            add(backButton, gbc);\n        }\n\n    }\n\n    public interface GameModel {\n        public int getRows();\n        public int getColumns();\n    }\n\n    public class DefaultGameModel implements GameModel {\n\n        private int rows;\n        private int columns;\n\n        public DefaultGameModel(int rows, int columns) {\n            this.rows = rows;\n            this.columns = columns;\n        }\n\n        @Override\n        public int getRows() {\n            return rows;\n        }\n\n        @Override\n        public int getColumns() {\n            return columns;\n        }\n\n    }\n\n    public class GamePane extends JPanel {\n\n        public interface Obsever {\n            public void back(GamePane source);\n        }\n\n        private GameModel model;\n        private Obsever obsever;\n\n        private JPanel contentPane;\n\n        private ActionListener buttonActionListener = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                didTap(e.getActionCommand());\n            }\n        };\n\n        public GamePane(Obsever obsever) {\n            this.obsever = obsever;\n\n            setLayout(new BorderLayout());\n\n            contentPane = new JPanel();\n            add(new JScrollPane(contentPane));\n\n            JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\n            backButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    obsever.back(GamePane.this);\n                }\n            });\n\n            JPanel bannerPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.anchor = GridBagConstraints.LINE_END;\n\n            bannerPane.add(backButton, gbc);\n\n            add(bannerPane, BorderLayout.NORTH);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            // Bunch of things we could do here, but this basically\n            // acts as a stand in for CardLayout, otherwise the primary\n            // view will be to small\n            return new Dimension(800, 800);\n        }\n\n        public void setModel(GameModel model) {\n            if (this.model == model) {\n                // Do nothing, nothings changed\n                return;\n            }\n            this.model = model;\n            buildUI();\n        }\n\n        protected void buildUI() {\n            contentPane.removeAll();\n            if (model == null) {\n                return;\n            }\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n            Random rnd = new Random();\n            JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\n            contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\n            //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\n            for (int i = 0; i &lt; model.getRows(); i++) {\n                for (int j = 0; j &lt; model.getColumns(); j++) {\n                    int randomnumber = rnd.nextInt(Letters.length());\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                    //gridbutton[i][j].addActionListener(mainbuttonAL);\n                    contentPane.add(gridbutton[i][j]);\n                }\n            }\n        }\n\n        protected void didTap(String action) {\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13417687,"reputation":45,"user_id":15411439,"display_name":"Teo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70780223,"answer_count":1,"score":0,"last_activity_date":1642649845,"creation_date":1642633324,"question_id":70778844,"body_markdown":"In this program I&#39;m trying to input a functionality to start game, where if I click start game (MainMenu) a new jpanel opens up (MainGame), creating another jpanel that creates jbuttons in a grid. If i go back, and click start game again, a new grid should generate instead of the previous one, effectively starting a &quot;new game&quot;. the problem is that if i go back and click on new game again, the program creates 2 grids.\r\n\r\nI&#39;ve tried removing the instance of the grid panel with = null but it doesn&#39;t work\r\n\r\nMain function:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.CardLayout;\r\n    \r\n    public class Game extends JFrame {\r\n        MainMenu mainMenu;\r\n        Settings settings;\r\n        MainGame mainGame;\r\n        CardLayout cl;\r\n        JPanel container;\r\n    \r\n        public Game(){\r\n            setSize(900,900); //have all as seperate classes\r\n            setDefaultCloseOperation(3); //cl call container\r\n            container  = new JPanel(); //container call menu1 and menu2\r\n            cl = new CardLayout();\r\n            mainMenu = new MainMenu();\r\n            settings = new Settings();\r\n            mainGame = new MainGame();\r\n            mainMenu.setSettings(settings);\r\n            settings.setMainMenu(mainMenu);\r\n            settings.setMainGame(mainGame);\r\n            mainMenu.setMainGame(mainGame);\r\n            mainGame.setMainMenu(mainMenu);\r\n            mainGame.setSettings(settings);\r\n            container.setLayout(cl); //this stays here i think\r\n    \r\n    \r\n    \r\n            //add setter for main game here\r\n            container.add(mainMenu,&quot;1&quot;);\r\n            container.add(settings,&quot;2&quot;);\r\n            container.add(mainGame,&quot;3&quot;);\r\n            mainMenu.setContainer(container);\r\n            mainMenu.setCl(cl);\r\n            settings.setContainer(container);\r\n            settings.setCl(cl);\r\n            mainGame.setContainer(container);\r\n            mainGame.setCl(cl);\r\n            cl.show(container, &quot;1&quot;);\r\n            add(container,BorderLayout.CENTER);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Game game = new Game();\r\n            game.setVisible(true);\r\n        }\r\n    }\r\n\r\nmain game class:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    \r\n    public class MainGame extends JPanel {\r\n        MainMenu mainMenu;\r\n        Settings settings;\r\n        CardLayout cl;\r\n        JPanel container;\r\n        String rows;\r\n        String columns;\r\n    \r\n        public void setMainMenu(MainMenu mainMenu) {\r\n            this.mainMenu = mainMenu;\r\n        }\r\n    \r\n        public void setSettings(Settings settings) {\r\n            this.settings = settings;\r\n        }\r\n    \r\n        public void setCl(CardLayout cl) {\r\n            this.cl = cl;\r\n        }\r\n    \r\n        public void setContainer(JPanel container) {\r\n            this.container = container;\r\n        }\r\n    \r\n        public void setRows(String rows) {\r\n            this.rows = rows;\r\n        }\r\n    \r\n        public void setColumns(String columns) {\r\n            this.columns = columns;\r\n        }\r\n        public MainGame(){\r\n            JPanel north = new JPanel();\r\n            north.setLayout(new FlowLayout());\r\n            ReturnAction returnAl = new ReturnAction();\r\n            JButton Return2 = new JButton(&quot;Return&quot;);\r\n            Return2.addActionListener(returnAl);\r\n            north.add(Return2);\r\n            add(north);\r\n        }\r\n        class ReturnAction implements ActionListener {\r\n            @Override\r\n    \r\n            public void actionPerformed(ActionEvent e) {\r\n                cl.show(container,&quot;1&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nMain menu class (this one contains the game generation part):\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    public class MainMenu extends JPanel {\r\n    JPanel grid = new JPanel();\r\n    MainGame mainGame;\r\n    Settings settings;\r\n    CardLayout cl;\r\n    JPanel container;\r\n    String rows;\r\n    String columns;\r\n    boolean checkexists = false;\r\n    int rownumber;\r\n    int columnnumber;\r\n\r\n\r\n    public void setMainGame(MainGame mainGame) {\r\n        this.mainGame = mainGame;\r\n    }\r\n\r\n    public void setCl(CardLayout cl) {\r\n        this.cl = cl;\r\n    }\r\n\r\n    public void setContainer(JPanel container) {\r\n        this.container = container;\r\n    }\r\n\r\n    public void setSettings(Settings settings) {\r\n        this.settings = settings;\r\n    }\r\n\r\n    public void setRows(String rows) {\r\n        this.rows = rows;\r\n    }\r\n\r\n    public void setColumns(String columns) {\r\n        this.columns = columns;\r\n    }\r\n\r\n    public MainMenu() {\r\n        setLayout(new GridLayout(3, 1));\r\n        JButton Newgame = new JButton(&quot;New Game&quot;);\r\n        JButton Cont = new JButton(&quot;Continue&quot;);\r\n        JButton Sett = new JButton(&quot;Settings&quot;);\r\n        add(Newgame);\r\n        add(Cont);\r\n        SwitchMenu1 switchMenu1 = new SwitchMenu1();\r\n        SwitchMenu2 switchMenu2 = new SwitchMenu2();\r\n        GenerateGame generateGame = new GenerateGame();\r\n        Newgame.addActionListener(switchMenu2);\r\n        Newgame.addActionListener(generateGame);\r\n        Sett.addActionListener(switchMenu1);\r\n        add(Sett);\r\n\r\n    }\r\n\r\n    class SwitchMenu1 implements ActionListener {\r\n        @Override\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            cl.show(container, &quot;2&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    class SwitchMenu2 implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            cl.show(container, &quot;3&quot;);\r\n        }\r\n    }\r\n\r\n    class GenerateGame implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (checkexists == true){\r\n                grid = null;\r\n                grid = new JPanel();\r\n            }\r\n            try {\r\n                rownumber = Integer.parseInt(rows);\r\n            } catch (NumberFormatException be) {\r\n                rownumber = 10;\r\n            }\r\n            try {\r\n                columnnumber = Integer.parseInt(columns);\r\n            } catch (NumberFormatException be) {\r\n                columnnumber = 10;\r\n            }\r\n            Random rand = new Random();\r\n            int randomnumber;\r\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            grid.setLayout(new GridLayout(rownumber, columnnumber));\r\n            JButton[][] gridbutton = new JButton[rownumber][columnnumber];\r\n            MainbuttonAL mainbuttonAL = new MainbuttonAL();\r\n            for (int i = 0; i &lt; rownumber; i++) {\r\n                for (int j = 0; j &lt; columnnumber; j++) {\r\n                    if (checkexists == true){\r\n                        gridbutton[i][j] = null;\r\n                    }\r\n                    randomnumber = rand.nextInt(Letters.length());\r\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                    gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                    grid.add(gridbutton[i][j]);\r\n                }\r\n            }\r\n            mainGame.add(grid);\r\n            checkexists = true;\r\n        }\r\n    }\r\n\r\n    class MainbuttonAL implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nsettings class:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    public class MainMenu extends JPanel {\r\n        JPanel grid = new JPanel();\r\n        MainGame mainGame;\r\n        Settings settings;\r\n        CardLayout cl;\r\n        JPanel container;\r\n        String rows;\r\n        String columns;\r\n        boolean checkexists = false;\r\n        int rownumber;\r\n        int columnnumber;\r\n    \r\n    \r\n        public void setMainGame(MainGame mainGame) {\r\n            this.mainGame = mainGame;\r\n        }\r\n    \r\n        public void setCl(CardLayout cl) {\r\n            this.cl = cl;\r\n        }\r\n    \r\n        public void setContainer(JPanel container) {\r\n            this.container = container;\r\n        }\r\n    \r\n        public void setSettings(Settings settings) {\r\n            this.settings = settings;\r\n        }\r\n    \r\n        public void setRows(String rows) {\r\n            this.rows = rows;\r\n        }\r\n    \r\n        public void setColumns(String columns) {\r\n            this.columns = columns;\r\n        }\r\n    \r\n        public MainMenu() {\r\n            setLayout(new GridLayout(3, 1));\r\n            JButton Newgame = new JButton(&quot;New Game&quot;);\r\n            JButton Cont = new JButton(&quot;Continue&quot;);\r\n            JButton Sett = new JButton(&quot;Settings&quot;);\r\n            add(Newgame);\r\n            add(Cont);\r\n            SwitchMenu1 switchMenu1 = new SwitchMenu1();\r\n            SwitchMenu2 switchMenu2 = new SwitchMenu2();\r\n            GenerateGame generateGame = new GenerateGame();\r\n            Newgame.addActionListener(switchMenu2);\r\n            Newgame.addActionListener(generateGame);\r\n            Sett.addActionListener(switchMenu1);\r\n            add(Sett);\r\n    \r\n        }\r\n    \r\n        class SwitchMenu1 implements ActionListener {\r\n            @Override\r\n    \r\n            public void actionPerformed(ActionEvent e) {\r\n                cl.show(container, &quot;2&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n        class SwitchMenu2 implements ActionListener {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                cl.show(container, &quot;3&quot;);\r\n            }\r\n        }\r\n    \r\n        class GenerateGame implements ActionListener {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (checkexists == true){\r\n                    grid = null;\r\n                    grid = new JPanel();\r\n                }\r\n                try {\r\n                    rownumber = Integer.parseInt(rows);\r\n                } catch (NumberFormatException be) {\r\n                    rownumber = 10;\r\n                }\r\n                try {\r\n                    columnnumber = Integer.parseInt(columns);\r\n                } catch (NumberFormatException be) {\r\n                    columnnumber = 10;\r\n                }\r\n                Random rand = new Random();\r\n                int randomnumber;\r\n                String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n                grid.setLayout(new GridLayout(rownumber, columnnumber));\r\n                JButton[][] gridbutton = new JButton[rownumber][columnnumber];\r\n                MainbuttonAL mainbuttonAL = new MainbuttonAL();\r\n                for (int i = 0; i &lt; rownumber; i++) {\r\n                    for (int j = 0; j &lt; columnnumber; j++) {\r\n                        if (checkexists == true){\r\n                            gridbutton[i][j] = null;\r\n                        }\r\n                        randomnumber = rand.nextInt(Letters.length());\r\n                        gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                        gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                        grid.add(gridbutton[i][j]);\r\n                    }\r\n                }\r\n                mainGame.add(grid);\r\n                checkexists = true;\r\n            }\r\n        }\r\n    \r\n        class MainbuttonAL implements ActionListener {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nwhat method can i employ to regenerate a grid?\r\n\r\n\r\n\r\n","title":"How to have the program regenerate a &quot;new game&quot; where previous grid letters get swapped with new grid letters","body":"<p>In this program I'm trying to input a functionality to start game, where if I click start game (MainMenu) a new jpanel opens up (MainGame), creating another jpanel that creates jbuttons in a grid. If i go back, and click start game again, a new grid should generate instead of the previous one, effectively starting a &quot;new game&quot;. the problem is that if i go back and click on new game again, the program creates 2 grids.</p>\n<p>I've tried removing the instance of the grid panel with = null but it doesn't work</p>\n<p>Main function:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.CardLayout;\n\npublic class Game extends JFrame {\n    MainMenu mainMenu;\n    Settings settings;\n    MainGame mainGame;\n    CardLayout cl;\n    JPanel container;\n\n    public Game(){\n        setSize(900,900); //have all as seperate classes\n        setDefaultCloseOperation(3); //cl call container\n        container  = new JPanel(); //container call menu1 and menu2\n        cl = new CardLayout();\n        mainMenu = new MainMenu();\n        settings = new Settings();\n        mainGame = new MainGame();\n        mainMenu.setSettings(settings);\n        settings.setMainMenu(mainMenu);\n        settings.setMainGame(mainGame);\n        mainMenu.setMainGame(mainGame);\n        mainGame.setMainMenu(mainMenu);\n        mainGame.setSettings(settings);\n        container.setLayout(cl); //this stays here i think\n\n\n\n        //add setter for main game here\n        container.add(mainMenu,&quot;1&quot;);\n        container.add(settings,&quot;2&quot;);\n        container.add(mainGame,&quot;3&quot;);\n        mainMenu.setContainer(container);\n        mainMenu.setCl(cl);\n        settings.setContainer(container);\n        settings.setCl(cl);\n        mainGame.setContainer(container);\n        mainGame.setCl(cl);\n        cl.show(container, &quot;1&quot;);\n        add(container,BorderLayout.CENTER);\n\n    }\n\n    public static void main(String[] args) {\n        Game game = new Game();\n        game.setVisible(true);\n    }\n}\n</code></pre>\n<p>main game class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\n\npublic class MainGame extends JPanel {\n    MainMenu mainMenu;\n    Settings settings;\n    CardLayout cl;\n    JPanel container;\n    String rows;\n    String columns;\n\n    public void setMainMenu(MainMenu mainMenu) {\n        this.mainMenu = mainMenu;\n    }\n\n    public void setSettings(Settings settings) {\n        this.settings = settings;\n    }\n\n    public void setCl(CardLayout cl) {\n        this.cl = cl;\n    }\n\n    public void setContainer(JPanel container) {\n        this.container = container;\n    }\n\n    public void setRows(String rows) {\n        this.rows = rows;\n    }\n\n    public void setColumns(String columns) {\n        this.columns = columns;\n    }\n    public MainGame(){\n        JPanel north = new JPanel();\n        north.setLayout(new FlowLayout());\n        ReturnAction returnAl = new ReturnAction();\n        JButton Return2 = new JButton(&quot;Return&quot;);\n        Return2.addActionListener(returnAl);\n        north.add(Return2);\n        add(north);\n    }\n    class ReturnAction implements ActionListener {\n        @Override\n\n        public void actionPerformed(ActionEvent e) {\n            cl.show(container,&quot;1&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Main menu class (this one contains the game generation part):</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\npublic class MainMenu extends JPanel {\nJPanel grid = new JPanel();\nMainGame mainGame;\nSettings settings;\nCardLayout cl;\nJPanel container;\nString rows;\nString columns;\nboolean checkexists = false;\nint rownumber;\nint columnnumber;\n\n\npublic void setMainGame(MainGame mainGame) {\n    this.mainGame = mainGame;\n}\n\npublic void setCl(CardLayout cl) {\n    this.cl = cl;\n}\n\npublic void setContainer(JPanel container) {\n    this.container = container;\n}\n\npublic void setSettings(Settings settings) {\n    this.settings = settings;\n}\n\npublic void setRows(String rows) {\n    this.rows = rows;\n}\n\npublic void setColumns(String columns) {\n    this.columns = columns;\n}\n\npublic MainMenu() {\n    setLayout(new GridLayout(3, 1));\n    JButton Newgame = new JButton(&quot;New Game&quot;);\n    JButton Cont = new JButton(&quot;Continue&quot;);\n    JButton Sett = new JButton(&quot;Settings&quot;);\n    add(Newgame);\n    add(Cont);\n    SwitchMenu1 switchMenu1 = new SwitchMenu1();\n    SwitchMenu2 switchMenu2 = new SwitchMenu2();\n    GenerateGame generateGame = new GenerateGame();\n    Newgame.addActionListener(switchMenu2);\n    Newgame.addActionListener(generateGame);\n    Sett.addActionListener(switchMenu1);\n    add(Sett);\n\n}\n\nclass SwitchMenu1 implements ActionListener {\n    @Override\n\n    public void actionPerformed(ActionEvent e) {\n        cl.show(container, &quot;2&quot;);\n\n    }\n}\n\nclass SwitchMenu2 implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        cl.show(container, &quot;3&quot;);\n    }\n}\n\nclass GenerateGame implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (checkexists == true){\n            grid = null;\n            grid = new JPanel();\n        }\n        try {\n            rownumber = Integer.parseInt(rows);\n        } catch (NumberFormatException be) {\n            rownumber = 10;\n        }\n        try {\n            columnnumber = Integer.parseInt(columns);\n        } catch (NumberFormatException be) {\n            columnnumber = 10;\n        }\n        Random rand = new Random();\n        int randomnumber;\n        String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        grid.setLayout(new GridLayout(rownumber, columnnumber));\n        JButton[][] gridbutton = new JButton[rownumber][columnnumber];\n        MainbuttonAL mainbuttonAL = new MainbuttonAL();\n        for (int i = 0; i &lt; rownumber; i++) {\n            for (int j = 0; j &lt; columnnumber; j++) {\n                if (checkexists == true){\n                    gridbutton[i][j] = null;\n                }\n                randomnumber = rand.nextInt(Letters.length());\n                gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                gridbutton[i][j].addActionListener(mainbuttonAL);\n                grid.add(gridbutton[i][j]);\n            }\n        }\n        mainGame.add(grid);\n        checkexists = true;\n    }\n}\n\nclass MainbuttonAL implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n}\n}\n</code></pre>\n<p>settings class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\npublic class MainMenu extends JPanel {\n    JPanel grid = new JPanel();\n    MainGame mainGame;\n    Settings settings;\n    CardLayout cl;\n    JPanel container;\n    String rows;\n    String columns;\n    boolean checkexists = false;\n    int rownumber;\n    int columnnumber;\n\n\n    public void setMainGame(MainGame mainGame) {\n        this.mainGame = mainGame;\n    }\n\n    public void setCl(CardLayout cl) {\n        this.cl = cl;\n    }\n\n    public void setContainer(JPanel container) {\n        this.container = container;\n    }\n\n    public void setSettings(Settings settings) {\n        this.settings = settings;\n    }\n\n    public void setRows(String rows) {\n        this.rows = rows;\n    }\n\n    public void setColumns(String columns) {\n        this.columns = columns;\n    }\n\n    public MainMenu() {\n        setLayout(new GridLayout(3, 1));\n        JButton Newgame = new JButton(&quot;New Game&quot;);\n        JButton Cont = new JButton(&quot;Continue&quot;);\n        JButton Sett = new JButton(&quot;Settings&quot;);\n        add(Newgame);\n        add(Cont);\n        SwitchMenu1 switchMenu1 = new SwitchMenu1();\n        SwitchMenu2 switchMenu2 = new SwitchMenu2();\n        GenerateGame generateGame = new GenerateGame();\n        Newgame.addActionListener(switchMenu2);\n        Newgame.addActionListener(generateGame);\n        Sett.addActionListener(switchMenu1);\n        add(Sett);\n\n    }\n\n    class SwitchMenu1 implements ActionListener {\n        @Override\n\n        public void actionPerformed(ActionEvent e) {\n            cl.show(container, &quot;2&quot;);\n\n        }\n    }\n\n    class SwitchMenu2 implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            cl.show(container, &quot;3&quot;);\n        }\n    }\n\n    class GenerateGame implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (checkexists == true){\n                grid = null;\n                grid = new JPanel();\n            }\n            try {\n                rownumber = Integer.parseInt(rows);\n            } catch (NumberFormatException be) {\n                rownumber = 10;\n            }\n            try {\n                columnnumber = Integer.parseInt(columns);\n            } catch (NumberFormatException be) {\n                columnnumber = 10;\n            }\n            Random rand = new Random();\n            int randomnumber;\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n            grid.setLayout(new GridLayout(rownumber, columnnumber));\n            JButton[][] gridbutton = new JButton[rownumber][columnnumber];\n            MainbuttonAL mainbuttonAL = new MainbuttonAL();\n            for (int i = 0; i &lt; rownumber; i++) {\n                for (int j = 0; j &lt; columnnumber; j++) {\n                    if (checkexists == true){\n                        gridbutton[i][j] = null;\n                    }\n                    randomnumber = rand.nextInt(Letters.length());\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                    gridbutton[i][j].addActionListener(mainbuttonAL);\n                    grid.add(gridbutton[i][j]);\n                }\n            }\n            mainGame.add(grid);\n            checkexists = true;\n        }\n    }\n\n    class MainbuttonAL implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n        }\n    }\n}\n</code></pre>\n<p>what method can i employ to regenerate a grid?</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":15777597,"reputation":343,"user_id":11385006,"display_name":"Marcos Blandim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642634901,"creation_date":1642634901,"answer_id":70779061,"question_id":70778930,"body_markdown":"You could split `date` twice to get a list of the date\r\n```java\r\nString date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\r\nString[] splittedDate = date.split(&quot; &quot;)[1].split(&quot;-&quot;);\r\n\r\nint day = Integer.valueOf(splittedDate[2]);\r\nint month = Integer.valueOf(splittedDate[1]);\r\nint year = Integer.valueOf(splittedDate[0]);\r\n\r\n//(method for finding these numbers and putting them into the separate int variables)\r\n\r\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\r\n```","title":"Find certain numbers in a String and add them in separate ints","body":"<p>You could split <code>date</code> twice to get a list of the date</p>\n<pre class=\"lang-java prettyprint-override\"><code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\nString[] splittedDate = date.split(&quot; &quot;)[1].split(&quot;-&quot;);\n\nint day = Integer.valueOf(splittedDate[2]);\nint month = Integer.valueOf(splittedDate[1]);\nint year = Integer.valueOf(splittedDate[0]);\n\n//(method for finding these numbers and putting them into the separate int variables)\n\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8095042,"reputation":429,"user_id":6099890,"display_name":"gustavozapata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642635068,"creation_date":1642635068,"answer_id":70779078,"question_id":70778930,"body_markdown":"You need to extract the date (those specific values) from the String. You could use regular expressions (regex) to extract this.\r\nHave a look at this solution which is similar to what you want to achieve \r\nhttps://stackoverflow.com/a/33924024/6099890","title":"Find certain numbers in a String and add them in separate ints","body":"<p>You need to extract the date (those specific values) from the String. You could use regular expressions (regex) to extract this.\nHave a look at this solution which is similar to what you want to achieve\n<a href=\"https://stackoverflow.com/a/33924024/6099890\">https://stackoverflow.com/a/33924024/6099890</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642649430,"creation_date":1642649430,"answer_id":70780485,"question_id":70778930,"body_markdown":"Presuming that the date is always the second token, you can do it like so.\r\n- split the string on spaces, and use the second token\r\n- define a formatter to parse the date assigning to a `LocalDate` instance.\r\n- then pull extract the values\r\n- you can use those extractions to re-format the date\r\n- or you can use the formatter\r\n```\r\nString date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\r\n\r\nString[] tokens = date.split(&quot;\\\\s+&quot;, 3);\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern((&quot;dd-MM-y&quot;));\r\nLocalDate ld = LocalDate.parse(tokens[1], dtf);\r\n\r\nint day = ld.getDayOfMonth();\r\nint year = ld.getYear();\r\nint month = ld.getMonthValue();\r\n\r\nSystem.out.printf(&quot;%02d-%02d-%02d%n&quot;, day, month, year);\r\nSystem.out.println(ld.format(dtf));\r\n```\r\nprints\r\n```\r\n22-01-19\r\n22-01-19\r\n```\r\nFor more info, check out the [java.time](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html) package.  If you are going to be parsing or manipulating date/time objects, this is an essential class to know.","title":"Find certain numbers in a String and add them in separate ints","body":"<p>Presuming that the date is always the second token, you can do it like so.</p>\n<ul>\n<li>split the string on spaces, and use the second token</li>\n<li>define a formatter to parse the date assigning to a <code>LocalDate</code> instance.</li>\n<li>then pull extract the values</li>\n<li>you can use those extractions to re-format the date</li>\n<li>or you can use the formatter</li>\n</ul>\n<pre><code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\n\nString[] tokens = date.split(&quot;\\\\s+&quot;, 3);\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern((&quot;dd-MM-y&quot;));\nLocalDate ld = LocalDate.parse(tokens[1], dtf);\n\nint day = ld.getDayOfMonth();\nint year = ld.getYear();\nint month = ld.getMonthValue();\n\nSystem.out.printf(&quot;%02d-%02d-%02d%n&quot;, day, month, year);\nSystem.out.println(ld.format(dtf));\n</code></pre>\n<p>prints</p>\n<pre><code>22-01-19\n22-01-19\n</code></pre>\n<p>For more info, check out the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.  If you are going to be parsing or manipulating date/time objects, this is an essential class to know.</p>\n"}],"owner":{"account_id":20503465,"reputation":1,"user_id":17237166,"display_name":"Golden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70779061,"answer_count":3,"score":-1,"last_activity_date":1642649430,"creation_date":1642633903,"question_id":70778930,"body_markdown":"I need a way to take specific &quot;random&quot; numbers from a string and put them each in separate int variables.\r\nFor example this string cannot/shouldnt be changed:\r\n```String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;```\r\n\r\nI need these three numbers in separet ints &quot;22-01-19&quot;.\r\nSo one int would be called &quot;day&quot; and it holds the number 19, another int is called &quot;month&quot; and it holds the number 1, another int called &quot;year&quot; and it holds the number 22.\r\n\r\nThis is what it would look like:\r\n```\r\nString date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\r\nint day = 0;\r\nint month = 0;\r\nint year = 0;\r\n\r\n//(method for finding these numbers and putting them into the separate int variables)\r\n\r\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\r\n```\r\n\r\nThank you in advance!\r\n\r\nNote: I did not find a solution that explained this well enough for me to understand it, I apologize if there already excists a duplicate of this question.","title":"Find certain numbers in a String and add them in separate ints","body":"<p>I need a way to take specific &quot;random&quot; numbers from a string and put them each in separate int variables.\nFor example this string cannot/shouldnt be changed:\n<code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;</code></p>\n<p>I need these three numbers in separet ints &quot;22-01-19&quot;.\nSo one int would be called &quot;day&quot; and it holds the number 19, another int is called &quot;month&quot; and it holds the number 1, another int called &quot;year&quot; and it holds the number 22.</p>\n<p>This is what it would look like:</p>\n<pre><code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\nint day = 0;\nint month = 0;\nint year = 0;\n\n//(method for finding these numbers and putting them into the separate int variables)\n\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\n</code></pre>\n<p>Thank you in advance!</p>\n<p>Note: I did not find a solution that explained this well enough for me to understand it, I apologize if there already excists a duplicate of this question.</p>\n"},{"tags":["java","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642649222,"creation_date":1642648704,"answer_id":70780433,"question_id":70780380,"body_markdown":"The exception `NoSuchElementException` in your case is caused by trying to use `nextInt()` on a file/input that has no more int&#39;s left to read, see the [Javadoc][1]:\r\n\r\n&gt; Thrown by various accessor methods to indicate that the element being\r\n&gt; requested does not exist.\r\n\r\nThe reason you get the issue is because every time you call `nextInt()` in actually uses up an int and moves onto the next one.\r\n\r\nSo instead of this where you call `nextInt()` over and over in the if/else if:\r\n\r\n    if (input1.nextInt() == 0) //Gets the next int\r\n    { break; \r\n    } else if (input1.nextInt() &lt; largest) //Gets the next int (different from the previous)\r\n    { largest = input1.nextInt();  //Gets the next int (different from the previous)\r\n    ... //And so on\r\n\r\nYou need to do call `nextInt()` once and assign it to a value then use that value:\r\n\r\n    //Store the int as a value\r\n    int value = input1.nextInt();\r\n    \r\n    //Use the value instead of calling &quot;nextInt()&quot; again\r\n    if (value  == 0)\r\n    { break; \r\n    } else if (value &lt; largest)\r\n    { largest = value; \r\n    ...\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html","title":"java.util.NoSuchElementException error on multiple while statements","body":"<p>The exception <code>NoSuchElementException</code> in your case is caused by trying to use <code>nextInt()</code> on a file/input that has no more int's left to read, see the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p>Thrown by various accessor methods to indicate that the element being\nrequested does not exist.</p>\n</blockquote>\n<p>The reason you get the issue is because every time you call <code>nextInt()</code> in actually uses up an int and moves onto the next one.</p>\n<p>So instead of this where you call <code>nextInt()</code> over and over in the if/else if:</p>\n<pre><code>if (input1.nextInt() == 0) //Gets the next int\n{ break; \n} else if (input1.nextInt() &lt; largest) //Gets the next int (different from the previous)\n{ largest = input1.nextInt();  //Gets the next int (different from the previous)\n... //And so on\n</code></pre>\n<p>You need to do call <code>nextInt()</code> once and assign it to a value then use that value:</p>\n<pre><code>//Store the int as a value\nint value = input1.nextInt();\n\n//Use the value instead of calling &quot;nextInt()&quot; again\nif (value  == 0)\n{ break; \n} else if (value &lt; largest)\n{ largest = value; \n...\n</code></pre>\n"}],"owner":{"account_id":23994345,"reputation":11,"user_id":17980033,"display_name":"Kimchar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70780433,"answer_count":1,"score":1,"last_activity_date":1642649222,"creation_date":1642648204,"question_id":70780380,"body_markdown":"[Screenshot of error message][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Doz1.png\r\n\r\nGetting this error when I run my code, note that it finds a problem at line 37, but I cannot figure out what it is. Running the first iteration of the scanner method (for input 1) worked fine, and yielded the proper output, but none of the consecutive ones have, and I&#39;ve been stuck on that issue. Code is below: \r\n\r\n```\r\nimport java.io.FileNotFoundException;\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\n\r\npublic class Assignment2 {\r\n\r\npublic static void main(String[] args)  {\r\n\t\t\r\n\t\tint largest= 0;\r\n\t\tint largestEven = 0;\r\n\t\tint countOfAllPositive = 0;\r\n\t\tint sumOfAll = 0;\r\n\t\t\r\n\ttry {\r\n\t\tScanner input1 = new Scanner(new File(&quot;input1.txt&quot;));\r\n\t\twhile (input1.hasNextInt()) { \r\n\t\t\tif (input1.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input1.nextInt() &lt; largest)\r\n\t\t\t{ largest = input1.nextInt(); \r\n\t\t\t} else if (input1.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input1.nextInt();\r\n\t\t\t} else if (input1.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input1.nextInt();\r\n\t\t\t} else if (input1.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tScanner input2 = new Scanner(new File(&quot;input2.txt&quot;));\r\n\t\twhile (input2.hasNextInt()) { \r\n\t\t\tif (input2.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input2.nextInt() &lt; largest)\r\n\t\t\t{ largest = input2.nextInt(); \r\n\t\t\t} else if (input2.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input2.nextInt();\r\n\t\t\t} else if (input2.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input2.nextInt();\r\n\t\t\t} else if (input2.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tScanner input3 = new Scanner(new File(&quot;input3.txt&quot;));\r\n\t\twhile (input3.hasNextInt()) { \r\n\t\t\tif (input3.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input3.nextInt() &lt; largest)\r\n\t\t\t{ largest = input3.nextInt(); \r\n\t\t\t} else if (input3.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input3.nextInt();\r\n\t\t\t} else if (input3.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input3.nextInt();\r\n\t\t\t} else if (input3.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tScanner input4 = new Scanner(new File(&quot;input4.txt&quot;));\r\n\t\twhile (input4.hasNextInt()) { \r\n\t\t\tif (input4.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input4.nextInt() &lt; largest)\r\n\t\t\t{ largest = input4.nextInt(); \r\n\t\t\t} else if (input4.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input4.nextInt();\r\n\t\t\t} else if (input4.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input4.nextInt();\r\n\t\t\t} else if (input4.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (FileNotFoundException e) {\r\n\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\te.printStackTrace(); } \r\n\t\r\nSystem.out.println(&quot;The largest integer in the sequence is &quot; + largest);\r\nSystem.out.println(&quot;The largest even integer in the sequence is &quot; + largestEven);\r\nSystem.out.println(&quot;The count of all positive integers in the sequence is &quot; + countOfAllPositive);\r\nSystem.out.println(&quot;The sum of all integers is &quot; + sumOfAll);\r\n\t}\r\n\t}\r\n\t\r\n\r\n","title":"java.util.NoSuchElementException error on multiple while statements","body":"<p><a href=\"https://i.stack.imgur.com/9Doz1.png\" rel=\"nofollow noreferrer\">Screenshot of error message</a></p>\n<p>Getting this error when I run my code, note that it finds a problem at line 37, but I cannot figure out what it is. Running the first iteration of the scanner method (for input 1) worked fine, and yielded the proper output, but none of the consecutive ones have, and I've been stuck on that issue. Code is below:</p>\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.File;\nimport java.util.Scanner;\n\npublic class Assignment2 {\n\npublic static void main(String[] args)  {\n        \n        int largest= 0;\n        int largestEven = 0;\n        int countOfAllPositive = 0;\n        int sumOfAll = 0;\n        \n    try {\n        Scanner input1 = new Scanner(new File(&quot;input1.txt&quot;));\n        while (input1.hasNextInt()) { \n            if (input1.nextInt() == 0)\n            { break; \n            } else if (input1.nextInt() &lt; largest)\n            { largest = input1.nextInt(); \n            } else if (input1.nextInt() &gt; 0)\n            { largestEven += input1.nextInt();\n            } else if (input1.nextInt() % 2 == 0)\n            { countOfAllPositive += input1.nextInt();\n            } else if (input1.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n            \n        }\n        Scanner input2 = new Scanner(new File(&quot;input2.txt&quot;));\n        while (input2.hasNextInt()) { \n            if (input2.nextInt() == 0)\n            { break; \n            } else if (input2.nextInt() &lt; largest)\n            { largest = input2.nextInt(); \n            } else if (input2.nextInt() &gt; 0)\n            { largestEven += input2.nextInt();\n            } else if (input2.nextInt() % 2 == 0)\n            { countOfAllPositive += input2.nextInt();\n            } else if (input2.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n        }\n        Scanner input3 = new Scanner(new File(&quot;input3.txt&quot;));\n        while (input3.hasNextInt()) { \n            if (input3.nextInt() == 0)\n            { break; \n            } else if (input3.nextInt() &lt; largest)\n            { largest = input3.nextInt(); \n            } else if (input3.nextInt() &gt; 0)\n            { largestEven += input3.nextInt();\n            } else if (input3.nextInt() % 2 == 0)\n            { countOfAllPositive += input3.nextInt();\n            } else if (input3.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n        }\n        Scanner input4 = new Scanner(new File(&quot;input4.txt&quot;));\n        while (input4.hasNextInt()) { \n            if (input4.nextInt() == 0)\n            { break; \n            } else if (input4.nextInt() &lt; largest)\n            { largest = input4.nextInt(); \n            } else if (input4.nextInt() &gt; 0)\n            { largestEven += input4.nextInt();\n            } else if (input4.nextInt() % 2 == 0)\n            { countOfAllPositive += input4.nextInt();\n            } else if (input4.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n        }\n    } catch (FileNotFoundException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace(); } \n    \nSystem.out.println(&quot;The largest integer in the sequence is &quot; + largest);\nSystem.out.println(&quot;The largest even integer in the sequence is &quot; + largestEven);\nSystem.out.println(&quot;The count of all positive integers in the sequence is &quot; + countOfAllPositive);\nSystem.out.println(&quot;The sum of all integers is &quot; + sumOfAll);\n    }\n    }\n    \n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642649014,"creation_date":1642649014,"answer_id":70780463,"question_id":70780355,"body_markdown":"Your code has serious style issues, and it is broken. And we haven&#39;t even gotten to the error you&#39;re asking about yet. I suggest you skip the actual answer and instead read why you&#39;re barking up the wrong tree and need to rethink this code, making the actual answer irrelevant for you.\r\n\r\n## The actual answer\r\n\r\nProxy will make a new instance of a proxy class (that&#39;s where that `$Proxy2` thing is coming from). Proxy __cannot__ make an object that is an instance of that actual class: That&#39;s just not how java works. Thus, you have an instance of an unknown, effectively irrelevant class. However, that `$Proxy2` class __does__ implement whatever interfaces you want it to. It can&#39;t extend anything (other than, obviously, `java.lang.Object`). No final classes, no normal classes, not even abstract classes. That&#39;s just how it works: If you want a proxy that extends something specific, you&#39;re out of luck.\r\n\r\nThus: __You can only proxy interfaces__.\r\n\r\nHad the field been:\r\n\r\n```\r\npublic static SdkInterface instance;\r\n```\r\n\r\ninstead, it would have worked fine; That `$Proxy2` class is a class made on the fly by the `Proxy.newProxyInstance` call, and this class implements all the interface you passed in.\r\n\r\nBut, as I said, __do not__ just start changing things, you need to rethink this code more fundamentally.\r\n\r\n\r\n\r\n## The more significant issues with your code\r\n\r\n* Your `BaseCore` class has a field of type `Core`, eliminating any point or purpose in the class hierarchy of it. Its type should possible be BaseCore, or the &#39;singleton holder&#39; field should be in Core. Generally fields should have the __least specific__ type that you want to use, e.g. we write `List x = new ArrayList` - because `List` is less specific. You&#39;ve gone the other way, and made the field the most specific type you could find (`Core`, which is more specific than `BaseCore`, which is more specific than `SdkInterface`). If that static field&#39;s type is `SdkInterface`, you can assign a proxy object to it. But __if the type of that field is a class (other than java.lang.Object), then that is impossible__ - as proxies implement whatever interfaces you want, but extend `j.l.Object` and can&#39;t be made to extend anything else.\r\n* Double checked locking [__does not work__](https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html), so don&#39;t do it. Your `getInstance()` method is broken in a really nasty way: It is broken, but, most tests do not catch it. It requires a specific combination of hardware, android version, and phase of the moon for it to fail. There are only 2 sane ways to &#39;load&#39; singletons: Generally, just initialize the field (and make it final), because java lazy loads; the only benefit to having an actual method that loads it only when you invoke `.getInstance()` or whatnot, is when it is plausible you will &#39;touch&#39; the class (load a class that has a field of type `Core`, for example), but never actually need the instance. This happens, but it is rare. If it doesn&#39;t apply to you, there is no point to any of this, and you can just write `public static final Core INSTANCE = new Core();` and be done with it all. If you really do need the getSingleton method, use the java classloader which is extremely good at efficient locking - at least as good as anything you can write in java and possibly better:\r\n\r\n```\r\npublic static Core get() {\r\n  return CoreSingletonHolder.INSTANCE;\r\n}\r\n\r\nprivate static class CoreSingletonHolder {\r\n  static final Core INSTANCE = new Core();\r\n}\r\n```\r\n\r\nThis works because java doesn&#39;t load classes until it is needed, and nothing &#39;touches&#39; `CoreSingletonHolder` (causing it to be loaded), except invoking the `get()` method. Hence, `new Core()` is executed exactly once, and only once, as per JVM guarantees, using ClassLoader&#39;s own locking mechanism, which is very efficient. It&#39;s efficient because java has to do this with every single last class your app ever loads. If it wasn&#39;t efficient, java/android would be dog slow, and we know it isn&#39;t, QED.\r\n\r\n* Your intended singleton instance is `public` and non-final; anything can overwrite it. The above strategies fix these issues; given that all access needs to go through `get()` in order to ensure its initialized, why make it public?\r\n\r\n","title":"Java Proxy.newProxyInstance IllegalArgumentException","body":"<p>Your code has serious style issues, and it is broken. And we haven't even gotten to the error you're asking about yet. I suggest you skip the actual answer and instead read why you're barking up the wrong tree and need to rethink this code, making the actual answer irrelevant for you.</p>\n<h2>The actual answer</h2>\n<p>Proxy will make a new instance of a proxy class (that's where that <code>$Proxy2</code> thing is coming from). Proxy <strong>cannot</strong> make an object that is an instance of that actual class: That's just not how java works. Thus, you have an instance of an unknown, effectively irrelevant class. However, that <code>$Proxy2</code> class <strong>does</strong> implement whatever interfaces you want it to. It can't extend anything (other than, obviously, <code>java.lang.Object</code>). No final classes, no normal classes, not even abstract classes. That's just how it works: If you want a proxy that extends something specific, you're out of luck.</p>\n<p>Thus: <strong>You can only proxy interfaces</strong>.</p>\n<p>Had the field been:</p>\n<pre><code>public static SdkInterface instance;\n</code></pre>\n<p>instead, it would have worked fine; That <code>$Proxy2</code> class is a class made on the fly by the <code>Proxy.newProxyInstance</code> call, and this class implements all the interface you passed in.</p>\n<p>But, as I said, <strong>do not</strong> just start changing things, you need to rethink this code more fundamentally.</p>\n<h2>The more significant issues with your code</h2>\n<ul>\n<li>Your <code>BaseCore</code> class has a field of type <code>Core</code>, eliminating any point or purpose in the class hierarchy of it. Its type should possible be BaseCore, or the 'singleton holder' field should be in Core. Generally fields should have the <strong>least specific</strong> type that you want to use, e.g. we write <code>List x = new ArrayList</code> - because <code>List</code> is less specific. You've gone the other way, and made the field the most specific type you could find (<code>Core</code>, which is more specific than <code>BaseCore</code>, which is more specific than <code>SdkInterface</code>). If that static field's type is <code>SdkInterface</code>, you can assign a proxy object to it. But <strong>if the type of that field is a class (other than java.lang.Object), then that is impossible</strong> - as proxies implement whatever interfaces you want, but extend <code>j.l.Object</code> and can't be made to extend anything else.</li>\n<li>Double checked locking <a href=\"https://www.cs.umd.edu/%7Epugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\"><strong>does not work</strong></a>, so don't do it. Your <code>getInstance()</code> method is broken in a really nasty way: It is broken, but, most tests do not catch it. It requires a specific combination of hardware, android version, and phase of the moon for it to fail. There are only 2 sane ways to 'load' singletons: Generally, just initialize the field (and make it final), because java lazy loads; the only benefit to having an actual method that loads it only when you invoke <code>.getInstance()</code> or whatnot, is when it is plausible you will 'touch' the class (load a class that has a field of type <code>Core</code>, for example), but never actually need the instance. This happens, but it is rare. If it doesn't apply to you, there is no point to any of this, and you can just write <code>public static final Core INSTANCE = new Core();</code> and be done with it all. If you really do need the getSingleton method, use the java classloader which is extremely good at efficient locking - at least as good as anything you can write in java and possibly better:</li>\n</ul>\n<pre><code>public static Core get() {\n  return CoreSingletonHolder.INSTANCE;\n}\n\nprivate static class CoreSingletonHolder {\n  static final Core INSTANCE = new Core();\n}\n</code></pre>\n<p>This works because java doesn't load classes until it is needed, and nothing 'touches' <code>CoreSingletonHolder</code> (causing it to be loaded), except invoking the <code>get()</code> method. Hence, <code>new Core()</code> is executed exactly once, and only once, as per JVM guarantees, using ClassLoader's own locking mechanism, which is very efficient. It's efficient because java has to do this with every single last class your app ever loads. If it wasn't efficient, java/android would be dog slow, and we know it isn't, QED.</p>\n<ul>\n<li>Your intended singleton instance is <code>public</code> and non-final; anything can overwrite it. The above strategies fix these issues; given that all access needs to go through <code>get()</code> in order to ensure its initialized, why make it public?</li>\n</ul>\n"}],"owner":{"account_id":23710472,"reputation":11,"user_id":17732401,"display_name":"周朋飞"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70780463,"answer_count":1,"score":-1,"last_activity_date":1642649014,"creation_date":1642647936,"question_id":70780355,"body_markdown":"I define an interface follow \r\n\r\n ```\r\ninterface SdkInterface {\r\n    void onPause();\r\n\r\n    void onResume();\r\n\r\n    void onStop();\r\n}\r\n```\r\n\r\nthen I  define a abstract class implement the interface\r\n\r\n```\r\nabstract class BaseCore implements SdkInterface {\r\n    public static final byte[] lock = new byte[0];\r\n    private static final String TAG = &quot;BaseCore&quot;;\r\n    public static Core instance;\r\n\r\n    @Override\r\n    public void onPause() {\r\n        Log.e(TAG, &quot;onPause: &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        Log.e(TAG, &quot;onResume: &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        Log.e(TAG, &quot;onStop: &quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nthen I has a class extends the abstract class \r\n```\r\nclass Core extends BaseCore {\r\n    private Core() {\r\n    }\r\n\r\n    public static Core getInstance() {\r\n        if (instance == null) {\r\n            synchronized (lock) {\r\n                if (instance == null) {\r\n                    instance = new Core();\r\n                }\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n\r\n}\r\n```\r\n\r\nnow  I want to generate a proxy  for the instance field of the BaseCore class,I  do this \r\n```\r\n public static void register() {\r\n        try {\r\n            Class&lt;?&gt; core = Class.forName(&quot;com.secoo.coobox.Core&quot;);\r\n            Field instance = core.getSuperclass().getDeclaredField(&quot;instance&quot;);\r\n            Method getInstance = core.getDeclaredMethod(&quot;getInstance&quot;);\r\n            Object invoke = getInstance.invoke(null);\r\n            Object o = Proxy.newProxyInstance(core.getClassLoader(), core.getInterfaces(), new InvocationHandler() {\r\n                @Override\r\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: before &quot; + method.getName());\r\n                    Object invoke1 = method.invoke(invoke, args);\r\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: after &quot; + method.getName());\r\n                    return invoke1;\r\n                }\r\n            });\r\n            instance.set(invoke, o);\r\n        } catch (ClassNotFoundException | NoSuchFieldException | NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n``` \r\n\r\nbut I receive the exception \r\n```\r\nCaused by: java.lang.IllegalArgumentException: field com.secoo.coobox.BaseCore.instance has type com.secoo.coobox.Core, got $Proxy2\r\n        at java.lang.reflect.Field.set(Native Method)\r\n        at com.secoo.coobox.TestProxy.register(TestProxy.java:31)\r\n        at com.secoo.coobox.MainActivity.onCreate(MainActivity.kt:24)\r\n        at android.app.Activity.performCreate(Activity.java:8006)\r\n        at android.app.Activity.performCreate(Activity.java:7990)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3584)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2246)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:233)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8010)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)&#160;\r\n```\r\n\r\nwho can help me explain the excetion and  how I can  solve the problem? thanks ","title":"Java Proxy.newProxyInstance IllegalArgumentException","body":"<p>I define an interface follow</p>\n<pre><code>interface SdkInterface {\n   void onPause();\n\n   void onResume();\n\n   void onStop();\n}\n</code></pre>\n<p>then I  define a abstract class implement the interface</p>\n<pre><code>abstract class BaseCore implements SdkInterface {\n    public static final byte[] lock = new byte[0];\n    private static final String TAG = &quot;BaseCore&quot;;\n    public static Core instance;\n\n    @Override\n    public void onPause() {\n        Log.e(TAG, &quot;onPause: &quot;);\n    }\n\n    @Override\n    public void onResume() {\n        Log.e(TAG, &quot;onResume: &quot;);\n    }\n\n    @Override\n    public void onStop() {\n        Log.e(TAG, &quot;onStop: &quot;);\n    }\n}\n\n\n</code></pre>\n<p>then I has a class extends the abstract class</p>\n<pre><code>class Core extends BaseCore {\n    private Core() {\n    }\n\n    public static Core getInstance() {\n        if (instance == null) {\n            synchronized (lock) {\n                if (instance == null) {\n                    instance = new Core();\n                }\n            }\n        }\n        return instance;\n    }\n\n}\n</code></pre>\n<p>now  I want to generate a proxy  for the instance field of the BaseCore class,I  do this</p>\n<pre><code> public static void register() {\n        try {\n            Class&lt;?&gt; core = Class.forName(&quot;com.secoo.coobox.Core&quot;);\n            Field instance = core.getSuperclass().getDeclaredField(&quot;instance&quot;);\n            Method getInstance = core.getDeclaredMethod(&quot;getInstance&quot;);\n            Object invoke = getInstance.invoke(null);\n            Object o = Proxy.newProxyInstance(core.getClassLoader(), core.getInterfaces(), new InvocationHandler() {\n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: before &quot; + method.getName());\n                    Object invoke1 = method.invoke(invoke, args);\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: after &quot; + method.getName());\n                    return invoke1;\n                }\n            });\n            instance.set(invoke, o);\n        } catch (ClassNotFoundException | NoSuchFieldException | NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>but I receive the exception</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: field com.secoo.coobox.BaseCore.instance has type com.secoo.coobox.Core, got $Proxy2\n        at java.lang.reflect.Field.set(Native Method)\n        at com.secoo.coobox.TestProxy.register(TestProxy.java:31)\n        at com.secoo.coobox.MainActivity.onCreate(MainActivity.kt:24)\n        at android.app.Activity.performCreate(Activity.java:8006)\n        at android.app.Activity.performCreate(Activity.java:7990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3584)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2246) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:233) \n        at android.app.ActivityThread.main(ActivityThread.java:8010) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978) \n</code></pre>\n<p>who can help me explain the excetion and  how I can  solve the problem? thanks</p>\n"},{"tags":["java","swing","jpanel","actionlistener","keylistener"],"comments":[{"owner":{"account_id":4282317,"reputation":711,"user_id":3501286,"display_name":"Bakon Jarser"},"score":0,"creation_date":1556744377,"post_id":55942621,"comment_id":98538469,"body_markdown":"Try removing the KeyListener from the panel you are switching from and then adding it to the panel you are switching to.","body":"Try removing the KeyListener from the panel you are switching from and then adding it to the panel you are switching to."},{"owner":{"account_id":15840727,"reputation":11,"user_id":11429313,"display_name":"Aren Vardanyan"},"score":0,"creation_date":1556747841,"post_id":55942621,"comment_id":98539566,"body_markdown":"That&#39;s what I initially did, and I just tried it again, but doesn&#39;t work... :(","body":"That&#39;s what I initially did, and I just tried it again, but doesn&#39;t work... :("},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1556748786,"post_id":55942621,"comment_id":98539860,"body_markdown":"Are you sure it&#39;s the listener that isn&#39;t working? It could be that the conditions aren&#39;t returning `true`, or maybe there&#39;s a flaw with the logic for movement. Could you confirm this?","body":"Are you sure it&#39;s the listener that isn&#39;t working? It could be that the conditions aren&#39;t returning <code>true</code>, or maybe there&#39;s a flaw with the logic for movement. Could you confirm this?"},{"owner":{"account_id":8674619,"reputation":655,"user_id":6492354,"accept_rate":45,"display_name":"Daniel Williams"},"score":0,"creation_date":1556757160,"post_id":55942621,"comment_id":98541451,"body_markdown":"I would suggest adding the KeyListener to the Frame or JFrame.  That way, you don&#39;t have to worry about any component switching.","body":"I would suggest adding the KeyListener to the Frame or JFrame.  That way, you don&#39;t have to worry about any component switching."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642648110,"post_id":55942621,"comment_id":125129017,"body_markdown":"1) For better help sooner, [edit] to add a [mre]. 2) `KeyListener` is a lower-level API that has many problems, for Swing, we&#39;d typically use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html). 3) Don&#39;t extend components or windows without good reason. There isn&#39;t one here, as far as I can see.","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/55942621/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2) <code>KeyListener</code> is a lower-level API that has many problems, for Swing, we&#39;d typically use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>. 3) Don&#39;t extend components or windows without good reason. There isn&#39;t one here, as far as I can see."}],"owner":{"account_id":15840727,"reputation":11,"user_id":11429313,"display_name":"Aren Vardanyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642647921,"creation_date":1556744151,"question_id":55942621,"body_markdown":"I&#39;m working on a game, and when I switch from my MenuPanel to my actual game (Player), the KeyListener won&#39;t work, my character won&#39;t move. I implemented the KeyListener in both classes. How can I fix this problem? This is a snippet of the code for the game (Player), :\r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\npublic class Player extends JPanel implements ActionListener, KeyListener {\r\n     \r\n        \r\n         private MijnProject mainVenster;\r\n\r\n         public Player(MijnProject mainVenster) {\r\n\r\n\t\tthis.mainVenster = mainVenster;\r\n\t\taddKeyListener(this);\r\n\t\tsetFocusable(true);\t\r\n\t\trequestFocusInWindow();\r\n\t\tTimer t = new Timer();\r\n\t\tt.scheduleAtFixedRate(new UpdateTimerTask() , 0, PERIOD);\r\n\t }\r\n\r\n         public void keyPressed(KeyEvent e) {\r\n\t\t \r\n\t\tint code = e.getKeyCode();\r\n\t\tif(code==KeyEvent.VK_UP) {\r\n\t\t\tup();\r\n\t\t}\r\n\t\t\r\n\t\tif(code==KeyEvent.VK_DOWN) {\r\n\t\t\tdown();\r\n\t\t}\r\n\t\tif(code==KeyEvent.VK_RIGHT) {\r\n\t\t\tright();\r\n\t\t}\r\n\t\tif(code==KeyEvent.VK_LEFT) {\r\n\t\t\tleft();\r\n\t\t}\r\n\t\tif(code==KeyEvent.VK_SPACE) {\r\n\t\t\tbullet(); \t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nAnd this is a part of the code for the menu (MenuPanel) :\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\npublic class MenuPanel extends JPanel implements ActionListener, KeyListener\r\n{\r\n\t\r\n\tprivate JButton playKnop, highScoreKnop, quitKnop;\r\n\tprivate MijnProject mainVenster;\r\n\t\r\n\tpublic MenuPanel(MijnProject mainVenster) \r\n\r\n\t{\taddKeyListener(this);\r\n\t\tsetFocusable(true);\t\r\n\t\tthis.mainVenster = mainVenster;\r\n\t\t\r\n                playKnop = new JButton(&quot;Play&quot;); \t\r\n\t\tplayKnop.addActionListener(this);\r\n\t\t\r\n\t\tquitKnop = new JButton(&quot;Quit&quot;);\r\n\t\tquitKnop.addActionListener(this);\r\n\t\t\r\n\t\thighScoreKnop = new JButton(&quot;High Scores&quot;);\r\n\t\thighScoreKnop.addActionListener(this);\r\n\r\n\t\tthis.add(playKnop);\r\n\t\tthis.add(quitKnop);\r\n\t\tthis.add(highScoreKnop);\r\n\r\n\t}\r\n\t\r\n\t\r\n\tpublic void actionPerformed(ActionEvent ae)\r\n\t{\r\n\t\tif (ae.getSource() == playKnop)\r\n\t\t{\r\n\t\t\tmainVenster.switchPanel(new Player(mainVenster));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\tpublic void keyPressed(KeyEvent arg0) {\r\n\t\r\n\t}\r\n\r\n\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\r\n\t}\r\n\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\r\n\t}\r\n\r\n}","title":"KeyListener not working when switching JPanels in a game","body":"<p>I'm working on a game, and when I switch from my MenuPanel to my actual game (Player), the KeyListener won't work, my character won't move. I implemented the KeyListener in both classes. How can I fix this problem? This is a snippet of the code for the game (Player), :</p>\n\n<pre><code>public class Player extends JPanel implements ActionListener, KeyListener {\n\n\n         private MijnProject mainVenster;\n\n         public Player(MijnProject mainVenster) {\n\n        this.mainVenster = mainVenster;\n        addKeyListener(this);\n        setFocusable(true); \n        requestFocusInWindow();\n        Timer t = new Timer();\n        t.scheduleAtFixedRate(new UpdateTimerTask() , 0, PERIOD);\n     }\n\n         public void keyPressed(KeyEvent e) {\n\n        int code = e.getKeyCode();\n        if(code==KeyEvent.VK_UP) {\n            up();\n        }\n\n        if(code==KeyEvent.VK_DOWN) {\n            down();\n        }\n        if(code==KeyEvent.VK_RIGHT) {\n            right();\n        }\n        if(code==KeyEvent.VK_LEFT) {\n            left();\n        }\n        if(code==KeyEvent.VK_SPACE) {\n            bullet();   \n\n        }\n\n\n</code></pre>\n\n<p>And this is a part of the code for the menu (MenuPanel) :</p>\n\n<pre><code>public class MenuPanel extends JPanel implements ActionListener, KeyListener\n{\n\n    private JButton playKnop, highScoreKnop, quitKnop;\n    private MijnProject mainVenster;\n\n    public MenuPanel(MijnProject mainVenster) \n\n    {   addKeyListener(this);\n        setFocusable(true); \n        this.mainVenster = mainVenster;\n\n                playKnop = new JButton(\"Play\");     \n        playKnop.addActionListener(this);\n\n        quitKnop = new JButton(\"Quit\");\n        quitKnop.addActionListener(this);\n\n        highScoreKnop = new JButton(\"High Scores\");\n        highScoreKnop.addActionListener(this);\n\n        this.add(playKnop);\n        this.add(quitKnop);\n        this.add(highScoreKnop);\n\n    }\n\n\n    public void actionPerformed(ActionEvent ae)\n    {\n        if (ae.getSource() == playKnop)\n        {\n            mainVenster.switchPanel(new Player(mainVenster));\n        }\n\n    }\n\n\n    public void keyPressed(KeyEvent arg0) {\n\n    }\n\n\n    public void keyReleased(KeyEvent e) {\n\n    }\n\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","tree","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":207320,"reputation":720,"user_id":457116,"accept_rate":80,"display_name":"brainstorm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548826780,"creation_date":1548826780,"answer_id":54433941,"question_id":54339957,"body_markdown":"Well, we managed to solve this problem, for more pointers see the following github repo for a barebones example not integrating AWS S3 buckets:\r\n\r\nhttps://github.com/reisingerf/SwingDynamicTree\r\n\r\nand the final integration with S3 browser:\r\n\r\nhttps://github.com/igvteam/igv/pull/620\r\n\r\nHope that helps somebody wondering the same :)","title":"Simple dynamic JTree-based S3 bucket/object chooser example","body":"<p>Well, we managed to solve this problem, for more pointers see the following github repo for a barebones example not integrating AWS S3 buckets:</p>\n\n<p><a href=\"https://github.com/reisingerf/SwingDynamicTree\" rel=\"nofollow noreferrer\">https://github.com/reisingerf/SwingDynamicTree</a></p>\n\n<p>and the final integration with S3 browser:</p>\n\n<p><a href=\"https://github.com/igvteam/igv/pull/620\" rel=\"nofollow noreferrer\">https://github.com/igvteam/igv/pull/620</a></p>\n\n<p>Hope that helps somebody wondering the same :)</p>\n"}],"owner":{"account_id":207320,"reputation":720,"user_id":457116,"accept_rate":80,"display_name":"brainstorm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54433941,"answer_count":1,"score":1,"last_activity_date":1642647785,"creation_date":1548308178,"question_id":54339957,"body_markdown":"Before writing my own custom implementation, I have been googling for a complete example of a simple tree-like JTree/JDialog that allows me to **dynamically load and expand the contents of a S3 bucket** or sub-S3-object-keys. \r\n\r\nIn other words, **I don&#39;t want to recursively prefetch all the objects from different buckets beforehand and populate a JTree**. The reason is that there are too many (sub-)objects and keys to have a smooth UX experience, in the order of millions/billions of objects spread in different S3 buckets that don&#39;t need to be opened by the user during a session.\r\n\r\nPut simply, **the ideal solution would be like a regular filesystem `FileChooser` but for Amazon S3 buckets**. For more context, [here is the closest I&#39;ve got to finding what I need](https://github.com/FlowJo-LLC/FlowJo-AWS-S3-Plugin/blob/master/AWSS3Plugin/awss3plugin/AWSS3GUI.java#L735).\r\n\r\n\r\nBut unfortunately it doesn&#39;t implement the **on-expanding of subtrees usecase**. On the other hand, [this other SO example is a close match, but very incomplete](https://stackoverflow.com/questions/37967989/jtree-dynamically-updating-with-arraylist-changes/37968170)... I suspect that better snippets should be available, perhaps it&#39;s just my google-fu failing me on this one?\r\n\r\nI am aware that [buckets/keys are not filesystems](https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories), but for my usecase and purposes, that&#39;s what I need.\r\n\r\nAny suggestions are very welcome!\r\n\r\n","title":"Simple dynamic JTree-based S3 bucket/object chooser example","body":"<p>Before writing my own custom implementation, I have been googling for a complete example of a simple tree-like JTree/JDialog that allows me to <strong>dynamically load and expand the contents of a S3 bucket</strong> or sub-S3-object-keys. </p>\n\n<p>In other words, <strong>I don't want to recursively prefetch all the objects from different buckets beforehand and populate a JTree</strong>. The reason is that there are too many (sub-)objects and keys to have a smooth UX experience, in the order of millions/billions of objects spread in different S3 buckets that don't need to be opened by the user during a session.</p>\n\n<p>Put simply, <strong>the ideal solution would be like a regular filesystem <code>FileChooser</code> but for Amazon S3 buckets</strong>. For more context, <a href=\"https://github.com/FlowJo-LLC/FlowJo-AWS-S3-Plugin/blob/master/AWSS3Plugin/awss3plugin/AWSS3GUI.java#L735\" rel=\"nofollow noreferrer\">here is the closest I've got to finding what I need</a>.</p>\n\n<p>But unfortunately it doesn't implement the <strong>on-expanding of subtrees usecase</strong>. On the other hand, <a href=\"https://stackoverflow.com/questions/37967989/jtree-dynamically-updating-with-arraylist-changes/37968170\">this other SO example is a close match, but very incomplete</a>... I suspect that better snippets should be available, perhaps it's just my google-fu failing me on this one?</p>\n\n<p>I am aware that <a href=\"https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories\">buckets/keys are not filesystems</a>, but for my usecase and purposes, that's what I need.</p>\n\n<p>Any suggestions are very welcome!</p>\n"},{"tags":["java","swing","jtree"],"answers":[{"tags":[],"owner":{"account_id":413889,"reputation":776,"user_id":787791,"accept_rate":53,"display_name":"grackkle"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1308209071,"creation_date":1307733470,"answer_id":6311080,"question_id":6274782,"body_markdown":"Simply try the following line:\r\n\r\n    model.reload();\r\n\r\nCheck this simple example. It works for me and shows both new nodes after the 5 seconds delay.\r\n\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tTestTree frame= new TestTree();\r\n\t\tframe.setSize(400, 400);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tframe.pack();\r\n\t\tMutableTreeNode root = (MutableTreeNode)tree.getModel().getRoot();\r\n\t\tSystem.out.println(&quot;A: &quot;+root.getChildCount());\t\t\r\n\t\ttry {\r\n\t\t\tThread.sleep(5000);\r\n\t\t}\r\n\t\tcatch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\troot.insert(new DefaultMutableTreeNode(&quot;test&quot;), 1);\r\n\t\t((DefaultMutableTreeNode)root.getChildAt(2)).insert(new DefaultMutableTreeNode(&quot;test2&quot;), 1);\r\n\t\t((DefaultTreeModel)(tree.getModel())).reload();\r\n\t\tSystem.out.println(&quot;B: &quot;+root.getChildCount());\r\n\t\tSystem.out.println(root.getChildAt(1));\r\n\t}","title":"Jtree not shown on adding a node!","body":"<p>Simply try the following line:</p>\n\n<pre><code>model.reload();\n</code></pre>\n\n<p>Check this simple example. It works for me and shows both new nodes after the 5 seconds delay.</p>\n\n<pre><code>/**\n * @param args\n */\npublic static void main(String[] args) {\n    TestTree frame= new TestTree();\n    frame.setSize(400, 400);\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    frame.pack();\n    MutableTreeNode root = (MutableTreeNode)tree.getModel().getRoot();\n    System.out.println(\"A: \"+root.getChildCount());     \n    try {\n        Thread.sleep(5000);\n    }\n    catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    root.insert(new DefaultMutableTreeNode(\"test\"), 1);\n    ((DefaultMutableTreeNode)root.getChildAt(2)).insert(new DefaultMutableTreeNode(\"test2\"), 1);\n    ((DefaultTreeModel)(tree.getModel())).reload();\n    System.out.println(\"B: \"+root.getChildCount());\n    System.out.println(root.getChildAt(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5333747,"reputation":1657,"user_id":4253536,"accept_rate":82,"display_name":"Nick Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416244476,"creation_date":1416243956,"answer_id":26977955,"question_id":6274782,"body_markdown":"I think maybe you forget to set your new Node&#39;s parent in your TreeNode&#39;s insert method...here is my code \r\n\r\n    public void insert(MyTreeNode newChild, int childIndex) {\r\n        if (!allowsChildren) {\r\n            throw new IllegalStateException(&quot;node does not allow children&quot;);\r\n        } else if (newChild == null) {\r\n            throw new IllegalArgumentException(&quot;new child is null&quot;);\r\n        }\r\n\r\n            newChild.setParent(this);\r\n            if (children == null) {\r\n                children = new ArrayList&lt;GoodSort&gt;();\r\n            }\r\n            children.add(childIndex,(GoodSort)newChild);\r\n            ((GoodSort)newChild).parent = this;\r\n    }","title":"Jtree not shown on adding a node!","body":"<p>I think maybe you forget to set your new Node's parent in your TreeNode's insert method...here is my code </p>\n\n<pre><code>public void insert(MyTreeNode newChild, int childIndex) {\n    if (!allowsChildren) {\n        throw new IllegalStateException(\"node does not allow children\");\n    } else if (newChild == null) {\n        throw new IllegalArgumentException(\"new child is null\");\n    }\n\n        newChild.setParent(this);\n        if (children == null) {\n            children = new ArrayList&lt;GoodSort&gt;();\n        }\n        children.add(childIndex,(GoodSort)newChild);\n        ((GoodSort)newChild).parent = this;\n}\n</code></pre>\n"}],"owner":{"account_id":347393,"reputation":266,"user_id":681481,"display_name":"yogi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6311080,"answer_count":2,"score":2,"last_activity_date":1642647691,"creation_date":1307512947,"question_id":6274782,"body_markdown":"I have a static jtree in a scrollpane. And now iam trying to add child to jtree, it got added successfully. Now, the added node is not visible in the jtree.\r\n\r\n**Try 1: I have tried with model.reload()**\r\n\r\n    DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\r\n    TreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\r\n    DefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\r\n    model.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\r\n    model.reload();\r\n\r\n**Try 2: I have tried with tree.setModel() too...**\r\n\r\n    DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\r\n    TreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\r\n    DefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\r\n    model.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\r\n\r\n    DefaultTreeModel projectTreeModel = new DefaultTreeModel((DefaultMutabletreeNode) model.getRoot());\r\n    tree.setModel(projectTreeModel);\r\n\r\nEven then newly added child is not visible. but Its getting added in thr tree. I tested by printing the child.\r\nSuggest me a solution.","title":"Jtree not shown on adding a node!","body":"<p>I have a static jtree in a scrollpane. And now iam trying to add child to jtree, it got added successfully. Now, the added node is not visible in the jtree.</p>\n\n<p><strong>Try 1: I have tried with model.reload()</strong></p>\n\n<pre><code>DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\nTreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\nDefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\nmodel.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\nmodel.reload();\n</code></pre>\n\n<p><strong>Try 2: I have tried with tree.setModel() too...</strong></p>\n\n<pre><code>DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\nTreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\nDefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\nmodel.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\n\nDefaultTreeModel projectTreeModel = new DefaultTreeModel((DefaultMutabletreeNode) model.getRoot());\ntree.setModel(projectTreeModel);\n</code></pre>\n\n<p>Even then newly added child is not visible. but Its getting added in thr tree. I tested by printing the child.\nSuggest me a solution.</p>\n"},{"tags":["java","swing","binary-search-tree","jtree"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638333689,"post_id":70178907,"comment_id":124058171,"body_markdown":"[Adding and removing nodes from a JTree](https://stackoverflow.com/questions/7928839/adding-and-removing-nodes-from-a-jtree)","body":"<a href=\"https://stackoverflow.com/questions/7928839/adding-and-removing-nodes-from-a-jtree\">Adding and removing nodes from a JTree</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638333881,"post_id":70178907,"comment_id":124058198,"body_markdown":"[How to Use Trees](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html\" rel=\"nofollow noreferrer\">How to Use Trees</a>"}],"owner":{"account_id":22746793,"reputation":1,"user_id":16907479,"display_name":"杨小林"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642647546,"creation_date":1638330504,"question_id":70178907,"body_markdown":"When deleting one node with a child (tree), I don&#39;t know how to set the child of a node as the child of the parent of the node and then remove the node in the `JTree`.\r\n\r\nJust like:\r\n\r\n    node.getChildNode().setParent(node.getParent)\r\n    node = null\r\nWhen I tried to use:\r\n\r\n    node.removeFromParent()\r\nIt will remove this node including its subtrees directly.\r\nWhat&#39;s more, I want to know how to expand a path that is from the root to a specific node. I tried some methods online, however, after calling the method like `jtree.updateUI()` and `model.reload()`, UI didn&#39;t change.\r\n\r\n","title":"Binary sort tree about JTree","body":"<p>When deleting one node with a child (tree), I don't know how to set the child of a node as the child of the parent of the node and then remove the node in the <code>JTree</code>.</p>\n<p>Just like:</p>\n<pre><code>node.getChildNode().setParent(node.getParent)\nnode = null\n</code></pre>\n<p>When I tried to use:</p>\n<pre><code>node.removeFromParent()\n</code></pre>\n<p>It will remove this node including its subtrees directly.\nWhat's more, I want to know how to expand a path that is from the root to a specific node. I tried some methods online, however, after calling the method like <code>jtree.updateUI()</code> and <code>model.reload()</code>, UI didn't change.</p>\n"},{"tags":["java","amazon-web-services","elasticsearch","opensearch"],"comments":[{"owner":{"account_id":12794544,"reputation":1137,"user_id":9257991,"display_name":"Riz"},"score":0,"creation_date":1640771064,"post_id":70475350,"comment_id":124653637,"body_markdown":"I hope the endpoint is not &quot;&lt;my-index...amazon.com&gt;&quot;. It should be the endpoint of your opensearch domain which can be found in &quot;general information&quot; in opensearch dashboard in aws.","body":"I hope the endpoint is not &quot;&lt;my-index...amazon.com&gt;&quot;. It should be the endpoint of your opensearch domain which can be found in &quot;general information&quot; in opensearch dashboard in aws."},{"owner":{"display_name":"user8576589"},"score":0,"creation_date":1640798045,"post_id":70475350,"comment_id":124662511,"body_markdown":"You are right, I dont want to put my endpoint here","body":"You are right, I dont want to put my endpoint here"},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1661796369,"post_id":70475350,"comment_id":129851951,"body_markdown":"@user8576589, did you figure it out?","body":"@user8576589, did you figure it out?"}],"answers":[{"tags":[],"owner":{"account_id":17589664,"reputation":85,"user_id":12761790,"display_name":"Sajjan Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642646720,"creation_date":1642646720,"answer_id":70780247,"question_id":70475350,"body_markdown":"Try [this example][1]. I tried the same and it did work well for me. I did not bother doing anything in regards to the cert as I had followed AWS demo examples to create the domain. \r\n\r\nHopefully this is what you are looking for...\r\n\r\n\r\n  [1]: https://opensearch.org/docs/latest/clients/java-rest-high-level/","title":"AWS ElasticSearch/OpenSearch not connecting from java","body":"<p>Try <a href=\"https://opensearch.org/docs/latest/clients/java-rest-high-level/\" rel=\"nofollow noreferrer\">this example</a>. I tried the same and it did work well for me. I did not bother doing anything in regards to the cert as I had followed AWS demo examples to create the domain.</p>\n<p>Hopefully this is what you are looking for...</p>\n"}],"owner":{"display_name":"user8576589"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5079,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642646720,"creation_date":1640367368,"question_id":70475350,"body_markdown":"Im using a simple example from amazon aws site to connect to opensearch index.\r\nThis is the example source  https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java.\r\nThe health status of my node is yellow and its open\r\n\r\nyellow open   my-index  \r\n\r\nThe error message\r\n```\r\nException in thread &quot;main&quot; java.net.ConnectException\r\n\tat org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:943)\r\n\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:227)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1256)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1231)\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:587)\r\n\tat com.amazonaws.lambda.demo.AWSElasticsearchServiceClient.main(AWSElasticsearchServiceClient.java:41)\r\nCaused by: java.net.ConnectException\r\n\tat org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:168)\r\n\tat org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:561)\r\n\tat org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:822)\r\n\tat org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:183)\r\n\tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:210)\r\n\tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:155)\r\n\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:348)\r\n\tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192)\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n\tat java.lang.Thread.run(Unknown Source) ```\r\n\r\n\r\n\r\n```\r\n``` private static String serviceName = &quot;es&quot;;\r\n    private static String region = &quot;us-west-1&quot;;\r\n    private static String domainEndpoint = &quot;&lt;my-index...amazon.com&gt;&quot;; // e.g. https://search-mydomain.us-west-1.es.amazonaws.com\r\n    private static String index = &quot;my-index&quot;;\r\n    private static String type = &quot;_doc&quot;;\r\n    private static String id = &quot;1&quot;;\r\n    static final AWSCredentialsProvider credentialsProvider = new DefaultAWSCredentialsProviderChain();\r\n\r\n ```   public static void main(String[] args) throws IOException {\r\n        RestHighLevelClient searchClient = searchClient(serviceName, region);\r\n\r\n        // Create the document as a hash map\r\n        Map&lt;String, Object&gt; document = new HashMap&lt;&gt;();\r\n        document.put(&quot;title&quot;, &quot;Walk the Line&quot;);\r\n        document.put(&quot;director&quot;, &quot;James Mangold&quot;);\r\n        document.put(&quot;year&quot;, &quot;2005&quot;);\r\n\r\n        // Form the indexing request, send it, and print the response\r\n        IndexRequest request = new IndexRequest(index, type, id).source(document);\r\n        IndexResponse response = searchClient.index(request, RequestOptions.DEFAULT);\r\n        System.out.println(response.toString());\r\n    }\r\n\r\n    // Adds the interceptor to the OpenSearch REST client\r\n    public static RestHighLevelClient searchClient(String serviceName, String region) {\r\n        AWS4Signer signer = new AWS4Signer();\r\n        signer.setServiceName(serviceName);\r\n        signer.setRegionName(region);\r\n        HttpRequestInterceptor interceptor = new AWSRequestSigningApacheInterceptor(serviceName, signer, credentialsProvider);\r\n        return new RestHighLevelClient(RestClient.builder(HttpHost.create(domainEndpoint)).setHttpClientConfigCallback(hacb -&gt; hacb.addInterceptorLast(interceptor)));\r\n    }\r\n","title":"AWS ElasticSearch/OpenSearch not connecting from java","body":"<p>Im using a simple example from amazon aws site to connect to opensearch index.\nThis is the example source  <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java</a>.\nThe health status of my node is yellow and its open</p>\n<p>yellow open   my-index</p>\n<p>The error message</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException\n    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:943)\n    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:227)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1256)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1231)\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:587)\n    at com.amazonaws.lambda.demo.AWSElasticsearchServiceClient.main(AWSElasticsearchServiceClient.java:41)\nCaused by: java.net.ConnectException\n    at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:168)\n    at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:561)\n    at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:822)\n    at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:183)\n    at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:210)\n    at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:155)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:348)\n    at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n    at java.lang.Thread.run(Unknown Source) ```\n\n\n\n</code></pre>\n<pre><code>    private static String region = &quot;us-west-1&quot;;\n    private static String domainEndpoint = &quot;&lt;my-index...amazon.com&gt;&quot;; // e.g. https://search-mydomain.us-west-1.es.amazonaws.com\n    private static String index = &quot;my-index&quot;;\n    private static String type = &quot;_doc&quot;;\n    private static String id = &quot;1&quot;;\n    static final AWSCredentialsProvider credentialsProvider = new DefaultAWSCredentialsProviderChain();\n\n ```   public static void main(String[] args) throws IOException {\n        RestHighLevelClient searchClient = searchClient(serviceName, region);\n\n        // Create the document as a hash map\n        Map&lt;String, Object&gt; document = new HashMap&lt;&gt;();\n        document.put(&quot;title&quot;, &quot;Walk the Line&quot;);\n        document.put(&quot;director&quot;, &quot;James Mangold&quot;);\n        document.put(&quot;year&quot;, &quot;2005&quot;);\n\n        // Form the indexing request, send it, and print the response\n        IndexRequest request = new IndexRequest(index, type, id).source(document);\n        IndexResponse response = searchClient.index(request, RequestOptions.DEFAULT);\n        System.out.println(response.toString());\n    }\n\n    // Adds the interceptor to the OpenSearch REST client\n    public static RestHighLevelClient searchClient(String serviceName, String region) {\n        AWS4Signer signer = new AWS4Signer();\n        signer.setServiceName(serviceName);\n        signer.setRegionName(region);\n        HttpRequestInterceptor interceptor = new AWSRequestSigningApacheInterceptor(serviceName, signer, credentialsProvider);\n        return new RestHighLevelClient(RestClient.builder(HttpHost.create(domainEndpoint)).setHttpClientConfigCallback(hacb -&gt; hacb.addInterceptorLast(interceptor)));\n    }\n</code></pre>\n"},{"tags":["java","flutter","keystore"],"answers":[{"tags":[],"owner":{"account_id":18876876,"reputation":662,"user_id":13800717,"display_name":"Carlos Pe&#241;aranda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642646505,"creation_date":1642646505,"answer_id":70780224,"question_id":66538548,"body_markdown":"you need to change the &quot;\\&quot; of your path to &quot;/&quot;\r\nthats worked for me","title":"Keystore file not found not found for signing config &#39;release&#39; flutter","body":"<p>you need to change the &quot;&quot; of your path to &quot;/&quot;\nthats worked for me</p>\n"}],"owner":{"account_id":19195797,"reputation":657,"user_id":14024520,"display_name":"J L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642646505,"creation_date":1615245024,"question_id":66538548,"body_markdown":"I followed all the steps from generating a key - updating the key.properties with the typed password, \r\n\r\nI added link where the key that was created. \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI keep having a failure - keystore file not found for signing config release\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe gradle file is properly updated.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXGgj.png\r\n  [2]: https://i.stack.imgur.com/ny8IP.png\r\n  [3]: https://i.stack.imgur.com/qBVYb.png","title":"Keystore file not found not found for signing config &#39;release&#39; flutter","body":"<p>I followed all the steps from generating a key - updating the key.properties with the typed password,</p>\n<p>I added link where the key that was created.\n<a href=\"https://i.stack.imgur.com/sXGgj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXGgj.png\" alt=\"enter image description here\" /></a></p>\n<p>I keep having a failure - keystore file not found for signing config release</p>\n<p><a href=\"https://i.stack.imgur.com/ny8IP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ny8IP.png\" alt=\"enter image description here\" /></a></p>\n<p>The gradle file is properly updated.\n<a href=\"https://i.stack.imgur.com/qBVYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBVYb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-softkeyboard"],"answers":[{"tags":[],"owner":{"account_id":1500194,"reputation":3358,"user_id":1405120,"display_name":"ThePCWizard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351002590,"creation_date":1351002590,"answer_id":13032778,"question_id":13032436,"body_markdown":"This one works for me always: \r\n\r\n    InputMethodManager im = (InputMethodManager) getSystemService(MyActivity.INPUT_METHOD_SERVICE);\r\n    im.hideSoftInputFromWindow(getWindow().getDecorView().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);","title":"Hiding softkeyboard reliably","body":"<p>This one works for me always: </p>\n\n<pre><code>InputMethodManager im = (InputMethodManager) getSystemService(MyActivity.INPUT_METHOD_SERVICE);\nim.hideSoftInputFromWindow(getWindow().getDecorView().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":311103,"reputation":1062,"user_id":624482,"display_name":"Arda Yigithan Orhan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1351003080,"creation_date":1351003080,"answer_id":13032957,"question_id":13032436,"body_markdown":"I think if you handle the null case of getCurrentFocus(), you&#39;re good to go. I use the method below and it works like a charm!\r\n\r\n         /* Hide Keyboard */\r\n        public static void hideKeyboard(Activity activity){\r\n            InputMethodManager inputMethodManager = (InputMethodManager)activity\r\n                    .getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            View focus = activity.getCurrentFocus();\r\n            if(focus != null)\r\n                inputMethodManager.hideSoftInputFromWindow(focus.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\r\n        }","title":"Hiding softkeyboard reliably","body":"<p>I think if you handle the null case of getCurrentFocus(), you're good to go. I use the method below and it works like a charm!</p>\n\n<pre><code>     /* Hide Keyboard */\n    public static void hideKeyboard(Activity activity){\n        InputMethodManager inputMethodManager = (InputMethodManager)activity\n                .getSystemService(Context.INPUT_METHOD_SERVICE);\n        View focus = activity.getCurrentFocus();\n        if(focus != null)\n            inputMethodManager.hideSoftInputFromWindow(focus.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484811376,"creation_date":1359271546,"answer_id":14545355,"question_id":13032436,"body_markdown":"Since you need an `EditText` to bring up the keyboard, find the particular one and use the first method you displayed to hide the keyboard:\r\n\r\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\r\n\r\nHowever, you will need that `EditText`. First, get all views:\r\n\r\n    public static ArrayList&lt;View&gt; getAllViewsFromRoots(View...roots) {\r\n        ArrayList&lt;View&gt; result = new ArrayList&lt;View&gt;();\r\n        for (View root : roots) {\r\n            getAllViews(result, root);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\tprivate static void getAllViews(ArrayList&lt;View&gt; allviews, View parent) {\r\n\t\tallviews.add(parent);\r\n\t\tif (parent instanceof ViewGroup) {\r\n\t\t\tViewGroup viewGroup = (ViewGroup)parent;\r\n\t\t\tfor (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\r\n\t\t\t\tgetAllViews(allviews, viewGroup.getChildAt(i));\r\n            }\r\n\t\t}\r\n\t}\r\n\r\nThen, get an `EditText` which is visible.\r\n\r\n    public static EditText getEditText(View root) {\r\n\t\tArrayList&lt;View&gt; views = getAllViewsFromRoots(root);\r\n\t\tfor (View view : views) {\r\n\t\t\tif (view instanceof EditText &amp;&amp; view.getVisibility() == View.VISIBLE) {\r\n\t\t\t\treturn (EditText) view;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nCall somewhere:\r\n\r\n    Toolkit.getEditText(((ViewParent) findViewById(android.R.id.content)).getChildAt(0));\r\n\r\nwith that, call the hiding method.","title":"Hiding softkeyboard reliably","body":"<p>Since you need an <code>EditText</code> to bring up the keyboard, find the particular one and use the first method you displayed to hide the keyboard:</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\n</code></pre>\n\n<p>However, you will need that <code>EditText</code>. First, get all views:</p>\n\n<pre><code>public static ArrayList&lt;View&gt; getAllViewsFromRoots(View...roots) {\n    ArrayList&lt;View&gt; result = new ArrayList&lt;View&gt;();\n    for (View root : roots) {\n        getAllViews(result, root);\n    }\n    return result;\n}\n\nprivate static void getAllViews(ArrayList&lt;View&gt; allviews, View parent) {\n    allviews.add(parent);\n    if (parent instanceof ViewGroup) {\n        ViewGroup viewGroup = (ViewGroup)parent;\n        for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\n            getAllViews(allviews, viewGroup.getChildAt(i));\n        }\n    }\n}\n</code></pre>\n\n<p>Then, get an <code>EditText</code> which is visible.</p>\n\n<pre><code>public static EditText getEditText(View root) {\n    ArrayList&lt;View&gt; views = getAllViewsFromRoots(root);\n    for (View view : views) {\n        if (view instanceof EditText &amp;&amp; view.getVisibility() == View.VISIBLE) {\n            return (EditText) view;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Call somewhere:</p>\n\n<pre><code>Toolkit.getEditText(((ViewParent) findViewById(android.R.id.content)).getChildAt(0));\n</code></pre>\n\n<p>with that, call the hiding method.</p>\n"},{"tags":[],"owner":{"account_id":1805158,"reputation":1989,"user_id":1642418,"display_name":"FDIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395681676,"creation_date":1395681676,"answer_id":22616291,"question_id":13032436,"body_markdown":"Only this solution worked for me:\r\n\r\n    mActivity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\nI had a dialog with input field, hiding the dialog didnt hide the keyboard on tablet.","title":"Hiding softkeyboard reliably","body":"<p>Only this solution worked for me:</p>\n\n<pre><code>mActivity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n\n<p>I had a dialog with input field, hiding the dialog didnt hide the keyboard on tablet.</p>\n"},{"tags":[],"owner":{"account_id":10341576,"reputation":33,"user_id":7627762,"display_name":"Nihal Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627711481,"creation_date":1627711481,"answer_id":68599591,"question_id":13032436,"body_markdown":"kotlin.  Put this on common BaseActivity. just call hideKeyboard() method anywhere in your activity similar apply for Fragment. \r\n\r\n    open class BaseActivity : AppCompatActivity() {\r\n\r\n    fun Fragment.hideKeyboard() {\r\n        view?.let { activity?.hideKeyboard(it) }\r\n    }\r\n\r\n    fun Context.hideKeyboard(view: View) {\r\n        val inputMethodManager = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\r\n        inputMethodManager.hideSoftInputFromWindow(view.windowToken, 0)\r\n    }\r\n    \r\n    }\r\n\r\n","title":"Hiding softkeyboard reliably","body":"<p>kotlin.  Put this on common BaseActivity. just call hideKeyboard() method anywhere in your activity similar apply for Fragment.</p>\n<pre><code>open class BaseActivity : AppCompatActivity() {\n\nfun Fragment.hideKeyboard() {\n    view?.let { activity?.hideKeyboard(it) }\n}\n\nfun Context.hideKeyboard(view: View) {\n    val inputMethodManager = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\n    inputMethodManager.hideSoftInputFromWindow(view.windowToken, 0)\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642646330,"creation_date":1642646330,"answer_id":70780204,"question_id":13032436,"body_markdown":"Try this:\r\n    \r\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);","title":"Hiding softkeyboard reliably","body":"<p>Try this:</p>\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n</code></pre>\n"}],"owner":{"account_id":1786329,"reputation":10939,"user_id":1627730,"accept_rate":75,"display_name":"stealthjong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13837,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":14545355,"answer_count":6,"score":15,"last_activity_date":1642646330,"creation_date":1351001552,"question_id":13032436,"body_markdown":"I have a application, and need to close the softkeyboard on *a rather large amount of actions*. For example, when **clicking a button**, when a new **layout is drawn**, on **screen orientation change**, when the **controller tells** the UI to, et cetera.\r\nI use the optionsMenuButton to flip view with a ViewFlipper, and obviously I want the keyboard to hide in the flipped view (there is no input field there).\r\n\r\nI&#39;ve tried these so far and tell why these aren&#39;t reliable:\r\n\r\nThis one didn&#39;t work because I have lots of editTexts, and other views. I need a more generic one, one that does not require a view as argument, if possible.\r\n\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(\r\n      Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\r\n\r\nThis one does not work at all for me:\r\n\r\n    getWindow().setSoftInputMode(\r\n      WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\nThis one works, but immediately pops the keyboard up again when the view is flipped. \r\n\r\n    InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n    imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\r\n\r\nThis one works sometimes, but getCurrentFocus() returns null most of the time.\r\n\r\n    InputMethodManager inputManager = (InputMethodManager)            \r\n    Context.getSystemService(Context.INPUT_METHOD_SERVICE); \r\n    inputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(),      \r\n    InputMethodManager.HIDE_NOT_ALWAYS);\r\n\r\nThis one works only if the keyboard is shown:\r\n\r\n    getInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\r\n\r\nThis one does not work with the EditText like the first piece of code, but with the root Layout, which changes on orientation change and everytime the oncreate is called. I have different layout XML for landscape/portrait and normal/large. All the root Layouts have the ID `root`. This works nicely the first time, but after that, it doesn&#39;t work anymore.\r\n\r\n    InputMethodManager inputManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n  \tinputManager.hideSoftInputFromWindow(findViewById(R.id.root).getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\r\n\r\nBottomline: I&#39;ve tried hella lot of softkeyboard hiding methods, but none of them seems to work reliably. **Is there *any* method for hiding the soft keyboard reliably?**","title":"Hiding softkeyboard reliably","body":"<p>I have a application, and need to close the softkeyboard on <em>a rather large amount of actions</em>. For example, when <strong>clicking a button</strong>, when a new <strong>layout is drawn</strong>, on <strong>screen orientation change</strong>, when the <strong>controller tells</strong> the UI to, et cetera.\nI use the optionsMenuButton to flip view with a ViewFlipper, and obviously I want the keyboard to hide in the flipped view (there is no input field there).</p>\n\n<p>I've tried these so far and tell why these aren't reliable:</p>\n\n<p>This one didn't work because I have lots of editTexts, and other views. I need a more generic one, one that does not require a view as argument, if possible.</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager)getSystemService(\n  Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\n</code></pre>\n\n<p>This one does not work at all for me:</p>\n\n<pre><code>getWindow().setSoftInputMode(\n  WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n\n<p>This one works, but immediately pops the keyboard up again when the view is flipped. </p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n</code></pre>\n\n<p>This one works sometimes, but getCurrentFocus() returns null most of the time.</p>\n\n<pre><code>InputMethodManager inputManager = (InputMethodManager)            \nContext.getSystemService(Context.INPUT_METHOD_SERVICE); \ninputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(),      \nInputMethodManager.HIDE_NOT_ALWAYS);\n</code></pre>\n\n<p>This one works only if the keyboard is shown:</p>\n\n<pre><code>getInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\n</code></pre>\n\n<p>This one does not work with the EditText like the first piece of code, but with the root Layout, which changes on orientation change and everytime the oncreate is called. I have different layout XML for landscape/portrait and normal/large. All the root Layouts have the ID <code>root</code>. This works nicely the first time, but after that, it doesn't work anymore.</p>\n\n<pre><code>InputMethodManager inputManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\ninputManager.hideSoftInputFromWindow(findViewById(R.id.root).getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n</code></pre>\n\n<p>Bottomline: I've tried hella lot of softkeyboard hiding methods, but none of them seems to work reliably. <strong>Is there <em>any</em> method for hiding the soft keyboard reliably?</strong></p>\n"},{"tags":["java","bash"],"comments":[{"owner":{"display_name":"user16829600"},"score":0,"creation_date":1642646978,"post_id":70780036,"comment_id":125128851,"body_markdown":"try `which java`?","body":"try <code>which java</code>?"},{"owner":{"account_id":23993312,"reputation":1,"user_id":17979130,"display_name":"KraftyKaleb"},"score":0,"creation_date":1642647477,"post_id":70780036,"comment_id":125128929,"body_markdown":"@00001H Running java 17","body":"@00001H Running java 17"},{"owner":{"display_name":"user16829600"},"score":0,"creation_date":1642647575,"post_id":70780036,"comment_id":125128942,"body_markdown":"what does `which java` return?","body":"what does <code>which java</code> return?"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1642724951,"post_id":70780036,"comment_id":125155056,"body_markdown":"The `java` you use when you type it in your shell can be some other executable than `/usr/bin/java`.  Check if `/usr/bin/java` exists, and based on what you put, it does not. Then run `which java` in your terminal, and modify your script to point to that specific path.","body":"The <code>java</code> you use when you type it in your shell can be some other executable than <code>&#47;usr&#47;bin&#47;java</code>.  Check if <code>&#47;usr&#47;bin&#47;java</code> exists, and based on what you put, it does not. Then run <code>which java</code> in your terminal, and modify your script to point to that specific path."}],"owner":{"account_id":23993312,"reputation":1,"user_id":17979130,"display_name":"KraftyKaleb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642644518,"creation_date":1642644518,"question_id":70780036,"body_markdown":"I am using a tool called Multicraft to manage game server instances for development purposes. Multicraft allows a startup script, to initialize the server. However, upon trying to use java within the script, I receive an error that No file or Directory is found. \r\n\r\nCommand: `/bin/bash /home/kraft/test.sh &#39;/usr/bin/java -version&#39;`\r\n\r\nError: `/home/kraft/test.sh: line 2: &#39;/usr/bin/java: No such file or directory`\r\n\r\nShell Script: \r\n\r\n    #!/bin/sh\r\n    $($@)\r\n\r\nI can run `java -version` just fine when I use the `su` command to change to the multicraft user that would be running the script. Additionally, I dug and found the command `ldd /usr/bin/java`, this returns \r\n\r\n    linux-vdso.so.1 (0x00007ffd49bf6000)\r\n    libjli.so =&gt; not found\r\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f9e14ad9000)\r\n    /lib64/ld-linux-x86-64.so.2 (0x00007f9e150cd000)\r\nI assume this means a dependency is not working correctly, however upon doing `locate libjli.so` the file is indeed found within the JDK 17 folder.\r\n\r\nIn the end, I would like to execute a jar file from within this script, instead of trying to view the version of java.","title":"/usr/bin/java: No such file or directory error upon executing shell script","body":"<p>I am using a tool called Multicraft to manage game server instances for development purposes. Multicraft allows a startup script, to initialize the server. However, upon trying to use java within the script, I receive an error that No file or Directory is found.</p>\n<p>Command: <code>/bin/bash /home/kraft/test.sh '/usr/bin/java -version'</code></p>\n<p>Error: <code>/home/kraft/test.sh: line 2: '/usr/bin/java: No such file or directory</code></p>\n<p>Shell Script:</p>\n<pre><code>#!/bin/sh\n$($@)\n</code></pre>\n<p>I can run <code>java -version</code> just fine when I use the <code>su</code> command to change to the multicraft user that would be running the script. Additionally, I dug and found the command <code>ldd /usr/bin/java</code>, this returns</p>\n<pre><code>linux-vdso.so.1 (0x00007ffd49bf6000)\nlibjli.so =&gt; not found\nlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f9e14ad9000)\n/lib64/ld-linux-x86-64.so.2 (0x00007f9e150cd000)\n</code></pre>\n<p>I assume this means a dependency is not working correctly, however upon doing <code>locate libjli.so</code> the file is indeed found within the JDK 17 folder.</p>\n<p>In the end, I would like to execute a jar file from within this script, instead of trying to view the version of java.</p>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1642642486,"post_id":70779792,"comment_id":125128151,"body_markdown":"My 2c is that if the code which creates the thread has no interest in whether it completes successfully, then structured concurrency is irrelevant.","body":"My 2c is that if the code which creates the thread has no interest in whether it completes successfully, then structured concurrency is irrelevant."},{"owner":{"account_id":1003513,"reputation":413,"user_id":1017818,"accept_rate":83,"display_name":"srock"},"score":0,"creation_date":1642704682,"post_id":70779792,"comment_id":125149113,"body_markdown":"Makes sense, @tgdavies. Would that be considered bad practice? Thanks","body":"Makes sense, @tgdavies. Would that be considered bad practice? Thanks"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642722357,"post_id":70779792,"comment_id":125154612,"body_markdown":"It depends what the thread is doing. Perhaps there&#39;s some other way that failures are reported, or perhaps failure doesn&#39;t matter. It depends.","body":"It depends what the thread is doing. Perhaps there&#39;s some other way that failures are reported, or perhaps failure doesn&#39;t matter. It depends."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642643818,"creation_date":1642643818,"answer_id":70779947,"question_id":70779792,"body_markdown":"The phrase &quot;within the same code block&quot; is a bit ambiguous.\r\n\r\nStrictly speaking, your `main` method could open a StructuredExecutor and make it available to all code in your entire program, such that you&#39;re using the library support for structured concurrency but not really using structured concurrency. (This is roughly analogous to using for+switch to write spaghetti code that technically doesn&#39;t contain &#39;goto&#39; but amounts to the same thing.)\r\n\r\nBoth of your examples do *not* follow the structured concurrency principle, because they involve forking off a task and abandoning it. You can potentially rework them to follow that principle by identifying a higher-level caller that really does depend on that task, and having that higher-level caller manage the StructuredExecutor. Alternatively, you might decide that you don&#39;t really want to follow this principle, either in general or in these cases.\r\n\r\nThe JEP doesn&#39;t really explain the concept of structured concurrency in detail, because its main focus is on how it could be supported in Java. If you&#39;d like to understand the concept itself, I&#39;d recommend reading one or both of the blog posts that it links to:\r\n\r\n* [&quot;Structured Concurrency&quot;, by Martin S&#250;strik, 2016-02-07](https://250bpm.com/blog:71/)\r\n* [&quot;Notes on structured concurrency, or: Go statement considered harmful&quot;, by Nathaniel J. Smith, 2018-04-25](https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/)\r\n\r\n(Note: the former is a bit more technical, the latter a bit easier to read.)","title":"Java structured concurrency","body":"<p>The phrase &quot;within the same code block&quot; is a bit ambiguous.</p>\n<p>Strictly speaking, your <code>main</code> method could open a StructuredExecutor and make it available to all code in your entire program, such that you're using the library support for structured concurrency but not really using structured concurrency. (This is roughly analogous to using for+switch to write spaghetti code that technically doesn't contain 'goto' but amounts to the same thing.)</p>\n<p>Both of your examples do <em>not</em> follow the structured concurrency principle, because they involve forking off a task and abandoning it. You can potentially rework them to follow that principle by identifying a higher-level caller that really does depend on that task, and having that higher-level caller manage the StructuredExecutor. Alternatively, you might decide that you don't really want to follow this principle, either in general or in these cases.</p>\n<p>The JEP doesn't really explain the concept of structured concurrency in detail, because its main focus is on how it could be supported in Java. If you'd like to understand the concept itself, I'd recommend reading one or both of the blog posts that it links to:</p>\n<ul>\n<li><a href=\"https://250bpm.com/blog:71/\" rel=\"nofollow noreferrer\">&quot;Structured Concurrency&quot;, by Martin Sústrik, 2016-02-07</a></li>\n<li><a href=\"https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/\" rel=\"nofollow noreferrer\">&quot;Notes on structured concurrency, or: Go statement considered harmful&quot;, by Nathaniel J. Smith, 2018-04-25</a></li>\n</ul>\n<p>(Note: the former is a bit more technical, the latter a bit easier to read.)</p>\n"}],"owner":{"account_id":1003513,"reputation":413,"user_id":1017818,"accept_rate":83,"display_name":"srock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642643818,"creation_date":1642642036,"question_id":70779792,"body_markdown":"**Structured concurrency:**\r\n\r\n&gt;  a simple principle that states that when the flow of execution splits into multiple concurrent flows, they rejoin in the same code block.\r\n\r\n[Source][1]\r\n\r\nBased on this, let&#39;s assume I have something like below:\r\n\r\n    //can replace this with Virtual thread\r\n    public static void delegateTask() {\r\n\t\tThread delegator = new Thread(new TaskDeligator());\r\n\t\tdelegator.setName(&quot;TaskDeligatorThread&quot;);\r\n\t\tlogger.info(&quot;Creating task delegator thread....which will register listeners&quot;);\r\n\t\tdelegator.start();\r\n\t}\r\n\r\n\r\n**Question 1:**\r\nI have created a new child thread(*TaskDeligatorThread*) but did not finish/end/rejoin in the same code block i.e. the method *delegateTask()* - does this mean it&#39;s not following structured concurrency principle? \r\n\r\n**Question 2:**\r\nThere might be scenarios where Thread1 wants to delegate some task to a child thread (which Thread1 will create) and Thread1 doesn&#39;t need to wait for the output/completion of the child thread. In this case, again I will not finish/end/rejoin the child thread in the code block where the child thread was created. In these kind of scenarios how would I follow structured concurrency?\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/8277129","title":"Java structured concurrency","body":"<p><strong>Structured concurrency:</strong></p>\n<blockquote>\n<p>a simple principle that states that when the flow of execution splits into multiple concurrent flows, they rejoin in the same code block.</p>\n</blockquote>\n<p><a href=\"https://openjdk.java.net/jeps/8277129\" rel=\"nofollow noreferrer\">Source</a></p>\n<p>Based on this, let's assume I have something like below:</p>\n<pre><code>//can replace this with Virtual thread\npublic static void delegateTask() {\n    Thread delegator = new Thread(new TaskDeligator());\n    delegator.setName(&quot;TaskDeligatorThread&quot;);\n    logger.info(&quot;Creating task delegator thread....which will register listeners&quot;);\n    delegator.start();\n}\n</code></pre>\n<p><strong>Question 1:</strong>\nI have created a new child thread(<em>TaskDeligatorThread</em>) but did not finish/end/rejoin in the same code block i.e. the method <em>delegateTask()</em> - does this mean it's not following structured concurrency principle?</p>\n<p><strong>Question 2:</strong>\nThere might be scenarios where Thread1 wants to delegate some task to a child thread (which Thread1 will create) and Thread1 doesn't need to wait for the output/completion of the child thread. In this case, again I will not finish/end/rejoin the child thread in the code block where the child thread was created. In these kind of scenarios how would I follow structured concurrency?</p>\n"},{"tags":["java","twilio","twilio-api"],"answers":[{"tags":[],"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642643035,"creation_date":1642643035,"answer_id":70779878,"question_id":70715212,"body_markdown":"Twilio developer evangelist here.\r\n\r\nIs it possible that in the testing environment you may be forcing TLS 1.2 but still using a weak cipher that Twilio no longer accepts?\r\n\r\nPlease read through this [article for various things to check and test with to ensure that your environment can connect to Twilio][1].\r\n\r\n\r\n  [1]: https://support.twilio.com/hc/en-us/articles/360006751753-Tips-for-Upgrading-Your-Environment-to-Support-Twilio-REST-API-s-TLS-and-Strong-Cipher-Suite-Changes","title":"Twilio - com.twilio.exception.ApiException: Upgrade Required","body":"<p>Twilio developer evangelist here.</p>\n<p>Is it possible that in the testing environment you may be forcing TLS 1.2 but still using a weak cipher that Twilio no longer accepts?</p>\n<p>Please read through this <a href=\"https://support.twilio.com/hc/en-us/articles/360006751753-Tips-for-Upgrading-Your-Environment-to-Support-Twilio-REST-API-s-TLS-and-Strong-Cipher-Suite-Changes\" rel=\"nofollow noreferrer\">article for various things to check and test with to ensure that your environment can connect to Twilio</a>.</p>\n"}],"owner":{"account_id":1911571,"reputation":339,"user_id":1725253,"accept_rate":50,"display_name":"user1725253"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642643035,"creation_date":1642185864,"question_id":70715212,"body_markdown":"We have 3 different Twilio accounts, one for production, testing and development.\r\n\r\nFor some reason when we use the testing account it return a message: Upgrade is Required.\r\n\r\nWe are using the Twilio 8.24 library and java.  \r\n\r\nReading I found that the error is related to the TLS 1.2 that is requiered, we force the request adding to the JVM the -Djdk.tls.client.protocols=TLSv1.2 command but the error persist.\r\n\r\nThe strange is that the same code works perfect with the production or development account, it only display the error with the testing account.\r\n\r\n\r\n\r\nThe Code is very simple:\r\n\r\n```Twilio.init(SID, TOKEN);```\r\n```com.twilio.rest.lookups.v1.PhoneNumber number = com.twilio.rest.lookups.v1.PhoneNumber.fetcher(new PhoneNumber(787-123-4567)).fetch();```\r\n\r\nAny idea?","title":"Twilio - com.twilio.exception.ApiException: Upgrade Required","body":"<p>We have 3 different Twilio accounts, one for production, testing and development.</p>\n<p>For some reason when we use the testing account it return a message: Upgrade is Required.</p>\n<p>We are using the Twilio 8.24 library and java.</p>\n<p>Reading I found that the error is related to the TLS 1.2 that is requiered, we force the request adding to the JVM the -Djdk.tls.client.protocols=TLSv1.2 command but the error persist.</p>\n<p>The strange is that the same code works perfect with the production or development account, it only display the error with the testing account.</p>\n<p>The Code is very simple:</p>\n<p><code>Twilio.init(SID, TOKEN);</code>\n<code>com.twilio.rest.lookups.v1.PhoneNumber number = com.twilio.rest.lookups.v1.PhoneNumber.fetcher(new PhoneNumber(787-123-4567)).fetch();</code></p>\n<p>Any idea?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":18300221,"reputation":11,"user_id":13325213,"display_name":"loseship"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642642680,"creation_date":1642642680,"question_id":70779846,"body_markdown":"I am constructing a UI that has multiple of the same fragment displayed on the screen at a time. 2 fragmentContainerViews are rotated 90 degrees and 1 is normal. The on not rotated fills the container but the 2 that are rotated don&#39;t fill the container vertically.\r\n\r\nThis is what the display looks like when ran:\r\n\r\n[activity screen][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nF8w3.png\r\n\r\nThis is the xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ThreePlayerActivity&quot;&gt;\r\n\r\n        &lt;androidx.fragment.app.FragmentContainerView\r\n            android:id=&quot;@+id/fragmentContainerView3&quot;\r\n            android:name=&quot;com.example.mtgcommanderapp.PlayerFragment&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout2&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout2&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/fragmentContainerView3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;androidx.fragment.app.FragmentContainerView\r\n                android:id=&quot;@+id/fragmentContainerView4&quot;\r\n                android:name=&quot;com.example.mtgcommanderapp.PlayerFragment&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:rotation=&quot;90&quot; /&gt;\r\n\r\n            &lt;androidx.fragment.app.FragmentContainerView\r\n                android:id=&quot;@+id/fragmentContainerView5&quot;\r\n                android:name=&quot;com.example.mtgcommanderapp.PlayerFragment&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:rotation=&quot;-90&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAlso if anyone knows a good resource for learning how to format an activity that is more in-depth?","title":"Fragment not filling fragmentContainerView when rotated 90 degrees in the View","body":"<p>I am constructing a UI that has multiple of the same fragment displayed on the screen at a time. 2 fragmentContainerViews are rotated 90 degrees and 1 is normal. The on not rotated fills the container but the 2 that are rotated don't fill the container vertically.</p>\n<p>This is what the display looks like when ran:</p>\n<p><a href=\"https://i.stack.imgur.com/nF8w3.png\" rel=\"nofollow noreferrer\">activity screen</a></p>\n<p>This is the xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ThreePlayerActivity&quot;&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/fragmentContainerView3&quot;\n        android:name=&quot;com.example.mtgcommanderapp.PlayerFragment&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout2&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout2&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/fragmentContainerView3&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.fragment.app.FragmentContainerView\n            android:id=&quot;@+id/fragmentContainerView4&quot;\n            android:name=&quot;com.example.mtgcommanderapp.PlayerFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:rotation=&quot;90&quot; /&gt;\n\n        &lt;androidx.fragment.app.FragmentContainerView\n            android:id=&quot;@+id/fragmentContainerView5&quot;\n            android:name=&quot;com.example.mtgcommanderapp.PlayerFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:rotation=&quot;-90&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Also if anyone knows a good resource for learning how to format an activity that is more in-depth?</p>\n"},{"tags":["java","arrays","json","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":13261255,"reputation":21,"user_id":9575763,"display_name":"Tao Zhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522427092,"creation_date":1522427092,"answer_id":49577864,"question_id":47958699,"body_markdown":"Try to use the line below to translate restassured response body to JSONObject format:\r\n\r\n    JSONObject responseJSONObject = new JSONObject(response.getBody().asString);","title":"Not able to fetch Json object from restassured Response(in json)","body":"<p>Try to use the line below to translate restassured response body to JSONObject format:</p>\n\n<pre><code>JSONObject responseJSONObject = new JSONObject(response.getBody().asString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523124958,"creation_date":1523124958,"answer_id":49710482,"question_id":47958699,"body_markdown":"    ValidatableResponse statusResponse = givenJsonRequest().when()\r\n        .get(&quot;/field/entity/test&quot;).then();\r\n    ArrayList&lt;Map&lt;String,?&gt;&gt; jsonAsArrayList = statusResponse.extract()\r\n        .jsonPath().get(&quot;&quot;);\r\n    Optional&lt;Map&lt;String,?&gt;&gt; filtered = jsonAsArrayList.stream()\r\n        .filter(m -&gt; m.get(&quot;fieldName1&quot;).equals(&quot;Whatever1&quot;))\r\n        .filter(m -&gt; m.get(&quot;jsonObject&quot;).toString().contains(&quot;Whatever2&quot;))\r\n        .findFirst();\r\n    Assert.assertTrue(filtered.isPresent(), &quot;Test expected a result after filtering.&quot;);","title":"Not able to fetch Json object from restassured Response(in json)","body":"<pre><code>ValidatableResponse statusResponse = givenJsonRequest().when()\n    .get(\"/field/entity/test\").then();\nArrayList&lt;Map&lt;String,?&gt;&gt; jsonAsArrayList = statusResponse.extract()\n    .jsonPath().get(\"\");\nOptional&lt;Map&lt;String,?&gt;&gt; filtered = jsonAsArrayList.stream()\n    .filter(m -&gt; m.get(\"fieldName1\").equals(\"Whatever1\"))\n    .filter(m -&gt; m.get(\"jsonObject\").toString().contains(\"Whatever2\"))\n    .findFirst();\nAssert.assertTrue(filtered.isPresent(), \"Test expected a result after filtering.\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1876517,"reputation":1209,"user_id":1697631,"display_name":"jmccure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642642410,"creation_date":1642397241,"answer_id":70736885,"question_id":47958699,"body_markdown":"In RestAssured 4.4.0 the following works:\r\n\r\n`JSONObject jsonObject = new JSONObject(response.jsonPath().getJsonObject(&quot;$&quot;));`","title":"Not able to fetch Json object from restassured Response(in json)","body":"<p>In RestAssured 4.4.0 the following works:</p>\n<p><code>JSONObject jsonObject = new JSONObject(response.jsonPath().getJsonObject(&quot;$&quot;));</code></p>\n"}],"owner":{"account_id":8811434,"reputation":77,"user_id":6584371,"display_name":"rajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5509,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1642642410,"creation_date":1514098884,"question_id":47958699,"body_markdown":"I am getting response from the server in json format by hitting post request using restAssured using java.\r\n\r\n    Response response = requestSpecification.body(text).post(endpoint);\r\n\r\n\r\nnow i want to fetch sub json object named &quot;freebies&quot;. How can i perform this operation because when i am writting :\r\n\r\n    JSONObject responseJSONObject = new JSONObject(response);\r\n\r\n    //jsonObject.getJSONObject(&quot;freebies&quot;).getString(&quot;id&quot;);\r\n\r\n    JSONArray list = jsonObject.getJSONArray(&quot;freebies&quot;);\r\n\r\n    String freebies = list.getJSONObject(0).getString(&quot;id&quot;);\r\n\r\n        for (int i = 0; i &lt; freebies.length(); i++) {\r\n            String id = list.getJSONObject(i).getString(&quot;id&quot;);\r\n            System.out.println(id.toString());\r\n            String name = list.getJSONObject(i).getString(&quot;name&quot;);\r\n            System.out.println(name.toString());\r\n            String packName = list.getJSONObject(i).getString(&quot;packName&quot;);\r\n            System.out.println(packName.toString());\r\n            String quota = list.getJSONObject(i).getString(&quot;quota&quot;);\r\n            System.out.println(quota.toString());\r\n            \r\nI am getting stackoverFlow err.\r\n\r\nPlease help.\r\n\r\n","title":"Not able to fetch Json object from restassured Response(in json)","body":"<p>I am getting response from the server in json format by hitting post request using restAssured using java.</p>\n\n<pre><code>Response response = requestSpecification.body(text).post(endpoint);\n</code></pre>\n\n<p>now i want to fetch sub json object named \"freebies\". How can i perform this operation because when i am writting :</p>\n\n<pre><code>JSONObject responseJSONObject = new JSONObject(response);\n\n//jsonObject.getJSONObject(\"freebies\").getString(\"id\");\n\nJSONArray list = jsonObject.getJSONArray(\"freebies\");\n\nString freebies = list.getJSONObject(0).getString(\"id\");\n\n    for (int i = 0; i &lt; freebies.length(); i++) {\n        String id = list.getJSONObject(i).getString(\"id\");\n        System.out.println(id.toString());\n        String name = list.getJSONObject(i).getString(\"name\");\n        System.out.println(name.toString());\n        String packName = list.getJSONObject(i).getString(\"packName\");\n        System.out.println(packName.toString());\n        String quota = list.getJSONObject(i).getString(\"quota\");\n        System.out.println(quota.toString());\n</code></pre>\n\n<p>I am getting stackoverFlow err.</p>\n\n<p>Please help.</p>\n"},{"tags":["java","android-studio","google-maps","methods","google-maps-markers"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642642203,"creation_date":1642641126,"answer_id":70779705,"question_id":70779032,"body_markdown":"The `chain` term you used is a good one as it is referred to as `method chaining` (or more specifically `method cascading`) and is simply a way of invoking a series of methods on an object (the `MarkerOptions` instance) in one statement rather than a series of statements.  (It is not unique to Java.)\r\n\r\nHere is an equivalent without the chaining:\r\n\r\n    MarkerOptions mo = new MarkerOptions().\r\n    mo.position(posicion);\r\n    mo.title(&quot;Primer posicion&quot;);\r\n    mo.snippet(&quot;Hora de llegad: &quot; + hora1);\r\n    mMap.addMarker(mo);\r\n\r\nThat&#39;s all it is - syntactic sugar.\r\n\r\nNow for a class to implement method chaining each of the methods above would return the `this` object.  So for example the `position` method (in the `MarkerOptions` implementation) would look something like:\r\n\r\n    public MarkerOptions position(LatLng latLng) {\r\n        // do something with latLng\r\n        return this;\r\n    }\r\n\r\nSo each method that supports chaining would return the current instance with the `this` keyword.\r\n\r\nAs for the syntax that is just a series of object method invocations just as the expanded version but in series.\r\n\r\nSince `addMarker` accepts a `MarkerOptions` instance, the concluding `snippet` method in the series satisfies the signature since it returns a `MarkerOptions`.\r\n\r\nThe Builder Pattern is a one design which typically uses method chaining.\r\n\r\nOne limitation of method chaining is a method can&#39;t return anything but the instance reference.","title":"Doud with the addMarker method","body":"<p>The <code>chain</code> term you used is a good one as it is referred to as <code>method chaining</code> (or more specifically <code>method cascading</code>) and is simply a way of invoking a series of methods on an object (the <code>MarkerOptions</code> instance) in one statement rather than a series of statements.  (It is not unique to Java.)</p>\n<p>Here is an equivalent without the chaining:</p>\n<pre><code>MarkerOptions mo = new MarkerOptions().\nmo.position(posicion);\nmo.title(&quot;Primer posicion&quot;);\nmo.snippet(&quot;Hora de llegad: &quot; + hora1);\nmMap.addMarker(mo);\n</code></pre>\n<p>That's all it is - syntactic sugar.</p>\n<p>Now for a class to implement method chaining each of the methods above would return the <code>this</code> object.  So for example the <code>position</code> method (in the <code>MarkerOptions</code> implementation) would look something like:</p>\n<pre><code>public MarkerOptions position(LatLng latLng) {\n    // do something with latLng\n    return this;\n}\n</code></pre>\n<p>So each method that supports chaining would return the current instance with the <code>this</code> keyword.</p>\n<p>As for the syntax that is just a series of object method invocations just as the expanded version but in series.</p>\n<p>Since <code>addMarker</code> accepts a <code>MarkerOptions</code> instance, the concluding <code>snippet</code> method in the series satisfies the signature since it returns a <code>MarkerOptions</code>.</p>\n<p>The Builder Pattern is a one design which typically uses method chaining.</p>\n<p>One limitation of method chaining is a method can't return anything but the instance reference.</p>\n"}],"owner":{"account_id":23992638,"reputation":5,"user_id":17978536,"display_name":"Jorge Barajas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70779705,"answer_count":1,"score":0,"last_activity_date":1642642203,"creation_date":1642634623,"question_id":70779032,"body_markdown":"my name is George, I&#180;m making an android app in android studio with google maps, I have a question, I&#180;m still a beginner so I don&#180;t understand why the data that you send to the method addmarker has the constructor method and others methods united whith points, what this methods chain means? why they are united with points and sended to the method addmarker? thanks for your help and if it needs a large explication you can help me telling what lesson or theme I have to study:)\r\ni atach the part of the code that I refer\r\n\r\n    mMap.addMarker(new MarkerOptions().position(posicion).title(&quot;Primer posicion&quot;).snippet(&quot;Hora de llegada: &quot; + hora1));","title":"Doud with the addMarker method","body":"<p>my name is George, I´m making an android app in android studio with google maps, I have a question, I´m still a beginner so I don´t understand why the data that you send to the method addmarker has the constructor method and others methods united whith points, what this methods chain means? why they are united with points and sended to the method addmarker? thanks for your help and if it needs a large explication you can help me telling what lesson or theme I have to study:)\ni atach the part of the code that I refer</p>\n<pre><code>mMap.addMarker(new MarkerOptions().position(posicion).title(&quot;Primer posicion&quot;).snippet(&quot;Hora de llegada: &quot; + hora1));\n</code></pre>\n"},{"tags":["java","swing","selection","cell","jlist"],"comments":[{"owner":{"account_id":3511464,"reputation":192,"user_id":2935685,"accept_rate":100,"display_name":"Prabhat Singh"},"score":0,"creation_date":1438066812,"post_id":31669350,"comment_id":51282042,"body_markdown":"Show your code which you tried to solve this.","body":"Show your code which you tried to solve this."},{"owner":{"account_id":6617635,"reputation":2201,"user_id":5110359,"accept_rate":73,"display_name":"milez"},"score":0,"creation_date":1438067048,"post_id":31669350,"comment_id":51282151,"body_markdown":"Also there are many solutions on this very site, like this duplicate http://stackoverflow.com/questions/17863780/make-jlist-values-unselectable that already has duplicates.","body":"Also there are many solutions on this very site, like this duplicate <a href=\"http://stackoverflow.com/questions/17863780/make-jlist-values-unselectable\" title=\"make jlist values unselectable\">stackoverflow.com/questions/17863780/&hellip;</a> that already has duplicates."}],"answers":[{"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1438067078,"creation_date":1438067078,"answer_id":31669484,"question_id":31669350,"body_markdown":"`JList` is supposed to be selectable. Note the absence of `NO_SELECTION` in `ListSelectionModel` interface.\r\n\r\nIf you want to just display the items, the best option is to display a list of `JLabel`s in a panel rather than using `JList`.\r\n","title":"Disable JList Cell Selection Property","body":"<p><code>JList</code> is supposed to be selectable. Note the absence of <code>NO_SELECTION</code> in <code>ListSelectionModel</code> interface.</p>\n\n<p>If you want to just display the items, the best option is to display a list of <code>JLabel</code>s in a panel rather than using <code>JList</code>.</p>\n"},{"tags":[],"owner":{"account_id":1900543,"reputation":4792,"user_id":1716487,"accept_rate":82,"display_name":"morpheus05"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1438067635,"creation_date":1438067276,"answer_id":31669551,"question_id":31669350,"body_markdown":"I achived this by implementing a NoSelection SelectionModel. SelectionModels are responsible for handling selection events, see [ListSelectionModel][1] Example:\r\n\r\n    public final class Main {\r\n\r\n     public static void main(String[] args) {\r\n       SwingUtilities.invokeLater(new Runnable() {\r\n         public void run() {\r\n           JFrame frame = new JFrame();\r\n           frame.setSize(500, 500);\r\n           frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n           JList&lt;Object&gt; view = new JList&lt;Object&gt;();\r\n           view.setSelectionModel(new NoSelectionModel());\r\n           view.setListData(new Object[] {&quot;String 1 &quot;, &quot;String 2&quot;});\r\n           frame.getContentPane().add(new JScrollPane(view));\r\n  \r\n           frame.setVisible(true);\r\n         }\r\n       });\r\n     }\r\n\r\n     private static class NoSelectionModel extends DefaultListSelectionModel {\r\n\r\n       @Override\r\n       public void setAnchorSelectionIndex(final int anchorIndex) {}\r\n\r\n       @Override\r\n       public void setLeadAnchorNotificationEnabled(final boolean flag) {}\r\n\r\n       @Override\r\n       public void setLeadSelectionIndex(final int leadIndex) {}\r\n\r\n       @Override\r\n       public void setSelectionInterval(final int index0, final int index1) { }\r\n     }\r\n    } \r\n\r\nYou have to remember: If the user cannot select anything he can also not copy paste anything. Furthermore, the keyboard scroll behavior is little strange.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/ListSelectionModel.html","title":"Disable JList Cell Selection Property","body":"<p>I achived this by implementing a NoSelection SelectionModel. SelectionModels are responsible for handling selection events, see <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/ListSelectionModel.html\" rel=\"noreferrer\">ListSelectionModel</a> Example:</p>\n\n<pre><code>public final class Main {\n\n public static void main(String[] args) {\n   SwingUtilities.invokeLater(new Runnable() {\n     public void run() {\n       JFrame frame = new JFrame();\n       frame.setSize(500, 500);\n       frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n       JList&lt;Object&gt; view = new JList&lt;Object&gt;();\n       view.setSelectionModel(new NoSelectionModel());\n       view.setListData(new Object[] {\"String 1 \", \"String 2\"});\n       frame.getContentPane().add(new JScrollPane(view));\n\n       frame.setVisible(true);\n     }\n   });\n }\n\n private static class NoSelectionModel extends DefaultListSelectionModel {\n\n   @Override\n   public void setAnchorSelectionIndex(final int anchorIndex) {}\n\n   @Override\n   public void setLeadAnchorNotificationEnabled(final boolean flag) {}\n\n   @Override\n   public void setLeadSelectionIndex(final int leadIndex) {}\n\n   @Override\n   public void setSelectionInterval(final int index0, final int index1) { }\n }\n} \n</code></pre>\n\n<p>You have to remember: If the user cannot select anything he can also not copy paste anything. Furthermore, the keyboard scroll behavior is little strange.</p>\n"},{"tags":[],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642641992,"creation_date":1642641992,"answer_id":70779787,"question_id":31669350,"body_markdown":"In newer versions of Java, the selection is also blocked when `setEnabled()` is set to `false`. Although there is a particularity when you have a `JList` inside a panel (`JScrollPane`) and you try to recursively disable all elements inside of it. \r\nHere is a method that will help you with that:\r\n\r\n```Java\r\npublic void setComponentStatus(JComponent panel, Boolean status) {\r\n\t\ttry {\r\n\t\t\tpanel.setEnabled(status);\r\n\t\t\tComponent[] components = panel.getComponents();\r\n\t\t\t\r\n\t\t\tfor (Component component : components) {\r\n\t\t\t\tif (component instanceof JPanel) {\r\n\t\t\t\t\tsetComponentStatus((JComponent) component, status);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (component instanceof JScrollPane)\r\n\t\t\t\t\t\t((JScrollPane) component).getViewport().getView().setEnabled(status);\r\n\t\t\t\t\tcomponent.setEnabled(status);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;Impossible to complete change the status of the panel: &quot; + panel + &quot; or one of its components to status:&quot; + status, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe core feature I&#39;m trying to point out is this:\r\n\r\n```((JScrollPane) component).getViewport().getView().setEnabled(status);```","title":"Disable JList Cell Selection Property","body":"<p>In newer versions of Java, the selection is also blocked when <code>setEnabled()</code> is set to <code>false</code>. Although there is a particularity when you have a <code>JList</code> inside a panel (<code>JScrollPane</code>) and you try to recursively disable all elements inside of it.\nHere is a method that will help you with that:</p>\n<pre><code>public void setComponentStatus(JComponent panel, Boolean status) {\n        try {\n            panel.setEnabled(status);\n            Component[] components = panel.getComponents();\n            \n            for (Component component : components) {\n                if (component instanceof JPanel) {\n                    setComponentStatus((JComponent) component, status);\n                } else {\n                    if (component instanceof JScrollPane)\n                        ((JScrollPane) component).getViewport().getView().setEnabled(status);\n                    component.setEnabled(status);\n                }\n            }\n            \n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Impossible to complete change the status of the panel: &quot; + panel + &quot; or one of its components to status:&quot; + status, e);\n        }\n    }\n</code></pre>\n<p>The core feature I'm trying to point out is this:</p>\n<p><code>((JScrollPane) component).getViewport().getView().setEnabled(status);</code></p>\n"}],"owner":{"account_id":6635579,"reputation":102,"user_id":5122832,"display_name":"Jonathandgorman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4913,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31669551,"answer_count":3,"score":7,"last_activity_date":1642641992,"creation_date":1438066671,"question_id":31669350,"body_markdown":"I am attempting to display an `array` of `strings` in a `JList`, which is then added to a `JPanel` using `Java Swing`. I am not having a problem displaying the data in the `Jlists`, however I would like to **remove the default property that allows a user to select items in the `Jlist`**. I am attempting to simply display the data to the user. Unfortunately I am unable to locate the property that would allow me to disable this feature. A example of the selection property that I am referring to can be seen here in [1].\r\n\r\n [1]: https://i.stack.imgur.com/7EssJ.png\r\n\r\nPerhaps I am using the wrong `Java Swing` component to display this data, but I have research `JTextArea`, `JTable`, etc., and the `JList` seems to fit my needs. Any help is much appreciated.\r\n\r\npublic static JComponent createList(ArrayList&lt;String&gt; inputData) {\r\n\r\n\t\tJPanel panel = new JPanel(false);\r\n\t\tpanel.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n\t\tpanel.setBackground(Color.white);\r\n\r\n\t\tString[] displayData= {Data.get(0),Data.get(1),Data.get(2),Data.get(3)};\r\n\t\tJList&lt;String&gt; displayDataList= new JList&lt;String&gt;(displayData);\r\n\t\tdisplayDataList.setFont(sysDataList.getFont().deriveFont(Font.PLAIN)); \r\n\t\tpanel.add(displayDataList);\r\n\r\n\t\treturn panel;\r\n\t}\t\r\n\r\n\r\n ","title":"Disable JList Cell Selection Property","body":"<p>I am attempting to display an <code>array</code> of <code>strings</code> in a <code>JList</code>, which is then added to a <code>JPanel</code> using <code>Java Swing</code>. I am not having a problem displaying the data in the <code>Jlists</code>, however I would like to <strong>remove the default property that allows a user to select items in the <code>Jlist</code></strong>. I am attempting to simply display the data to the user. Unfortunately I am unable to locate the property that would allow me to disable this feature. A example of the selection property that I am referring to can be seen here in <a href=\"https://i.stack.imgur.com/7EssJ.png\" rel=\"noreferrer\">1</a>.</p>\n\n<p>Perhaps I am using the wrong <code>Java Swing</code> component to display this data, but I have research <code>JTextArea</code>, <code>JTable</code>, etc., and the <code>JList</code> seems to fit my needs. Any help is much appreciated.</p>\n\n<p>public static JComponent createList(ArrayList inputData) {</p>\n\n<pre><code>    JPanel panel = new JPanel(false);\n    panel.setLayout(new FlowLayout(FlowLayout.LEFT));\n    panel.setBackground(Color.white);\n\n    String[] displayData= {Data.get(0),Data.get(1),Data.get(2),Data.get(3)};\n    JList&lt;String&gt; displayDataList= new JList&lt;String&gt;(displayData);\n    displayDataList.setFont(sysDataList.getFont().deriveFont(Font.PLAIN)); \n    panel.add(displayDataList);\n\n    return panel;\n}   \n</code></pre>\n"},{"tags":["java","json","fasterxml"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1642616750,"post_id":70775600,"comment_id":125121217,"body_markdown":"Note it&#39;s `ALLOW_UNQUOTED_FIELD_NAMES`, which handles the _names_ but not the _values_.   Unquoted string values are invalid JSON.  Take a look at this likely dup https://stackoverflow.com/q/15005185/18157","body":"Note it&#39;s <code>ALLOW_UNQUOTED_FIELD_NAMES</code>, which handles the <i>names</i> but not the <i>values</i>.   Unquoted string values are invalid JSON.  Take a look at this likely dup <a href=\"https://stackoverflow.com/q/15005185/18157\">stackoverflow.com/q/15005185/18157</a>"}],"answers":[{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642640754,"creation_date":1642640754,"answer_id":70779667,"question_id":70775600,"body_markdown":"The form of your JSON string is invalid, it looks more like [Properies class in Java](https://www.geeksforgeeks.org/java-util-properties-class-java/).  \r\n\r\nTherefore, you can transform your invalid JSON string by replacing some characters to meet the format of [`.properties`](https://en.wikipedia.org/wiki/.properties) file, and then use `Properties` to read it as follows:\r\n```java\r\nString inputStr = &quot;{ht_missingConditions=null, employeeNumber=UMB1075962, firstName=Pete}&quot;;\r\n\r\ninputStr = inputStr.replace(&quot;{&quot;, &quot;&quot;).replace(&quot;}&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;\\r\\n&quot;);\r\n\r\nProperties properties = new Properties();\r\nproperties.load(new ByteArrayInputStream(inputStr.getBytes(StandardCharsets.UTF_8)));\r\nSystem.out.println(properties.toString()); // {ht_missingConditions=null, firstName=Pete, employeeNumber=UMB1075962}\r\n```\r\nOr you can also convert it to a `Map` and get similar result:\r\n```java\r\nMap&lt;String, String&gt; propMap = properties.entrySet().stream()\r\n        .collect(Collectors.toMap(\r\n                e -&gt; String.valueOf(e.getKey()),\r\n                e -&gt; String.valueOf(e.getValue()),\r\n                (prev, next) -&gt; next, HashMap::new\r\n        ));\r\nSystem.out.println(propMap.toString()); // {firstName=Pete, ht_missingConditions=null, employeeNumber=UMB1075962}\r\n```","title":"Not able to parse JSON without double quotes in Java using FasterXML Jackson","body":"<p>The form of your JSON string is invalid, it looks more like <a href=\"https://www.geeksforgeeks.org/java-util-properties-class-java/\" rel=\"nofollow noreferrer\">Properies class in Java</a>.</p>\n<p>Therefore, you can transform your invalid JSON string by replacing some characters to meet the format of <a href=\"https://en.wikipedia.org/wiki/.properties\" rel=\"nofollow noreferrer\"><code>.properties</code></a> file, and then use <code>Properties</code> to read it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String inputStr = &quot;{ht_missingConditions=null, employeeNumber=UMB1075962, firstName=Pete}&quot;;\n\ninputStr = inputStr.replace(&quot;{&quot;, &quot;&quot;).replace(&quot;}&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;\\r\\n&quot;);\n\nProperties properties = new Properties();\nproperties.load(new ByteArrayInputStream(inputStr.getBytes(StandardCharsets.UTF_8)));\nSystem.out.println(properties.toString()); // {ht_missingConditions=null, firstName=Pete, employeeNumber=UMB1075962}\n</code></pre>\n<p>Or you can also convert it to a <code>Map</code> and get similar result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; propMap = properties.entrySet().stream()\n        .collect(Collectors.toMap(\n                e -&gt; String.valueOf(e.getKey()),\n                e -&gt; String.valueOf(e.getValue()),\n                (prev, next) -&gt; next, HashMap::new\n        ));\nSystem.out.println(propMap.toString()); // {firstName=Pete, ht_missingConditions=null, employeeNumber=UMB1075962}\n</code></pre>\n"}],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70779667,"answer_count":1,"score":1,"last_activity_date":1642640754,"creation_date":1642615338,"question_id":70775600,"body_markdown":"Here is my RAW Json data :\r\n```{ht_missingConditions=null, employeeNumber=UMB1075962, firstName=Pete}```\r\n\r\n**Note:** there is no double quotes\r\n\r\nMy Java Class\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class MBIdClass {\r\n\r\n\tprivate String ht_missingConditions; \r\n\tprivate String name; \r\n\tprivate String employeeNumber; \r\n\r\n//All setter getters\r\n}\r\n\r\n```\r\n\r\nMy Utility to convert JSON\r\n\r\n```\r\npublic static Map&lt;String,String&gt; test(String json) {\r\n\t\tObjectMapper om=new ObjectMapper();\r\n\t\tom.configure(com.fasterxml.jackson.core.JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n\t\tom.configure(com.fasterxml.jackson.core.JsonParser.Feature.AUTO_CLOSE_SOURCE, true);\r\n\t\ttry {\r\n\t\t    return om.readValue(json, new TypeReference&lt;HashMap&lt;String,String&gt;&gt;(){});\r\n\t\t} catch (Exception e) {\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\nEarlier I tried with passing Generic class but now I am trying at least it parse and convert into `HashMap`.\r\n\r\nI am calling using below ways \r\n\r\n```\r\nMap&lt;String, String&gt; testObj = test(sanitizedcleanData);\r\n```\r\n\r\nI am ending up below error:\r\n```\r\n\r\ncom.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;UMB1075962&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\r\n at [Source: (String)&quot;{ht_missingConditions:null, employeeNumber:UMB1075962, firstName:Pete  st&quot;[truncated 1569 chars]; line: 1, column: 54]\r\n\tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1804)\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:703)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:2853)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:1899)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:968)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:512)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:364)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3023)\r\n\tat com.devsoftbd.palash.studentsinfo.utils.CommonUtils.test(CommonUtils.java:80)\r\n\tat com.devsoftbd.palash.studentsinfo.StudentsInfoApplication.lambda$0(StudentsInfoApplication.java:55)\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:324)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\tat com.devsoftbd.palash.studentsinfo.StudentsInfoApplication.main(StudentsInfoApplication.java:21)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n\r\n```\r\n\r\nI have tried to replace `=` with `:` but still no luck\r\nI was referring below article : [StackOverflow-Issue][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51387626/unexpected-character-code-61-while-parsing-jsonstring","title":"Not able to parse JSON without double quotes in Java using FasterXML Jackson","body":"<p>Here is my RAW Json data :\n<code>{ht_missingConditions=null, employeeNumber=UMB1075962, firstName=Pete}</code></p>\n<p><strong>Note:</strong> there is no double quotes</p>\n<p>My Java Class</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class MBIdClass {\n\n    private String ht_missingConditions; \n    private String name; \n    private String employeeNumber; \n\n//All setter getters\n}\n\n</code></pre>\n<p>My Utility to convert JSON</p>\n<pre><code>public static Map&lt;String,String&gt; test(String json) {\n        ObjectMapper om=new ObjectMapper();\n        om.configure(com.fasterxml.jackson.core.JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n        om.configure(com.fasterxml.jackson.core.JsonParser.Feature.AUTO_CLOSE_SOURCE, true);\n        try {\n            return om.readValue(json, new TypeReference&lt;HashMap&lt;String,String&gt;&gt;(){});\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>Earlier I tried with passing Generic class but now I am trying at least it parse and convert into <code>HashMap</code>.</p>\n<p>I am calling using below ways</p>\n<pre><code>Map&lt;String, String&gt; testObj = test(sanitizedcleanData);\n</code></pre>\n<p>I am ending up below error:</p>\n<pre><code>\ncom.fasterxml.jackson.core.JsonParseException: Unrecognized token 'UMB1075962': was expecting ('true', 'false' or 'null')\n at [Source: (String)&quot;{ht_missingConditions:null, employeeNumber:UMB1075962, firstName:Pete  st&quot;[truncated 1569 chars]; line: 1, column: 54]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1804)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:703)\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:2853)\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:1899)\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:968)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:512)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:364)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3023)\n    at com.devsoftbd.palash.studentsinfo.utils.CommonUtils.test(CommonUtils.java:80)\n    at com.devsoftbd.palash.studentsinfo.StudentsInfoApplication.lambda$0(StudentsInfoApplication.java:55)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at com.devsoftbd.palash.studentsinfo.StudentsInfoApplication.main(StudentsInfoApplication.java:21)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n\n</code></pre>\n<p>I have tried to replace <code>=</code> with <code>:</code> but still no luck\nI was referring below article : <a href=\"https://stackoverflow.com/questions/51387626/unexpected-character-code-61-while-parsing-jsonstring\">StackOverflow-Issue</a></p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1589894692,"post_id":61659898,"comment_id":109469301,"body_markdown":"added request here : https://github.com/spring-cloud/spring-cloud-sleuth/issues/1650","body":"added request here : <a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/issues/1650\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-sleuth/issues/1650</a>"}],"answers":[{"tags":[],"owner":{"account_id":8375968,"reputation":1454,"user_id":6289425,"display_name":"Dirk Hoffmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588926689,"creation_date":1588926689,"answer_id":61675138,"question_id":61659898,"body_markdown":"I think you either could continue the main span like \r\n\r\nhttps://cloud.spring.io/spring-cloud-sleuth/reference/html/#continuing-spans-2\r\n\r\n```\r\n// method declaration\r\n@ContinueSpan(log = &quot;testMethod11&quot;)\r\nvoid testMethod11(@SpanTag(&quot;testTag11&quot;) String param);\r\n\r\n// method execution\r\nthis.testBean.testMethod11(&quot;test&quot;);\r\nthis.testBean.testMethod13();\r\n```\r\n\r\nor\r\n\r\nhttps://cloud.spring.io/spring-cloud-sleuth/reference/html/#continuing-spans\r\n\r\n```\r\n// let&#39;s assume that we&#39;re in a thread Y and we&#39;ve received\r\n// the `initialSpan` from thread X\r\nSpan continuedSpan = this.tracer.toSpan(newSpan.context());\r\ntry {\r\n    // ...\r\n    // You can tag a span\r\n    continuedSpan.tag(&quot;taxValue&quot;, taxValue);\r\n    // ...\r\n    // You can log an event on a span\r\n    continuedSpan.annotate(&quot;taxCalculated&quot;);\r\n}\r\nfinally {\r\n    // Once done remember to flush the span. That means that\r\n    // it will get reported but the span itself is not yet finished\r\n    continuedSpan.flush();\r\n}\r\n```\r\n\r\n or\r\n\r\n https://cloud.spring.io/spring-cloud-sleuth/reference/html/#creating-spans-with-explicit-parent\r\n\r\n```\r\n// let&#39;s assume that we&#39;re in a thread Y and we&#39;ve received\r\n// the `initialSpan` from thread X. `initialSpan` will be the parent\r\n// of the `newSpan`\r\nSpan newSpan = null;\r\ntry (Tracer.SpanInScope ws = this.tracer.withSpanInScope(initialSpan)) {\r\n    newSpan = this.tracer.nextSpan().name(&quot;calculateCommission&quot;);\r\n    // ...\r\n    // You can tag a span\r\n    newSpan.tag(&quot;commissionValue&quot;, commissionValue);\r\n    // ...\r\n    // You can log an event on a span\r\n    newSpan.annotate(&quot;commissionCalculated&quot;);\r\n}\r\nfinally {\r\n    // Once done remember to finish the span. This will allow collecting\r\n    // the span to send it to Zipkin. The tags and events set on the\r\n    // newSpan will not be present on the parent\r\n    if (newSpan != null) {\r\n        newSpan.finish();\r\n    }\r\n}\r\n```\r\n\r\nor\r\n\r\nhttps://cloud.spring.io/spring-cloud-sleuth/reference/html/#runnable-and-callable\r\n\r\n```\r\nRunnable runnable = new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        // do some work\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;spanNameFromToStringMethod&quot;;\r\n    }\r\n};\r\n// Manual `TraceRunnable` creation with explicit &quot;calculateTax&quot; Span name\r\nRunnable traceRunnable = new TraceRunnable(this.tracing, spanNamer, runnable,\r\n        &quot;calculateTax&quot;);\r\n// Wrapping `Runnable` with `Tracing`. That way the current span will be available\r\n// in the thread of `Runnable`\r\nRunnable traceRunnableFromTracer = this.tracing.currentTraceContext()\r\n        .wrap(runnable);\r\n```\r\n\r\nThe following example shows how to do so for Callable:\r\n\r\n```\r\nCallable&lt;String&gt; callable = new Callable&lt;String&gt;() {\r\n    @Override\r\n    public String call() throws Exception {\r\n        return someLogic();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;spanNameFromToStringMethod&quot;;\r\n    }\r\n};\r\n// Manual `TraceCallable` creation with explicit &quot;calculateTax&quot; Span name\r\nCallable&lt;String&gt; traceCallable = new TraceCallable&lt;&gt;(this.tracing, spanNamer,\r\n        callable, &quot;calculateTax&quot;);\r\n// Wrapping `Callable` with `Tracing`. That way the current span will be available\r\n// in the thread of `Callable`\r\nCallable&lt;String&gt; traceCallableFromTracer = this.tracing.currentTraceContext()\r\n        .wrap(callable);\r\n```\r\n\r\nThat way, you ensure that a new span is created and closed for each execution.\r\n","title":"The way to stop sleuth fron creating new trace id for new threads","body":"<p>I think you either could continue the main span like </p>\n\n<p><a href=\"https://cloud.spring.io/spring-cloud-sleuth/reference/html/#continuing-spans-2\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-sleuth/reference/html/#continuing-spans-2</a></p>\n\n<pre><code>// method declaration\n@ContinueSpan(log = \"testMethod11\")\nvoid testMethod11(@SpanTag(\"testTag11\") String param);\n\n// method execution\nthis.testBean.testMethod11(\"test\");\nthis.testBean.testMethod13();\n</code></pre>\n\n<p>or</p>\n\n<p><a href=\"https://cloud.spring.io/spring-cloud-sleuth/reference/html/#continuing-spans\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-sleuth/reference/html/#continuing-spans</a></p>\n\n<pre><code>// let's assume that we're in a thread Y and we've received\n// the `initialSpan` from thread X\nSpan continuedSpan = this.tracer.toSpan(newSpan.context());\ntry {\n    // ...\n    // You can tag a span\n    continuedSpan.tag(\"taxValue\", taxValue);\n    // ...\n    // You can log an event on a span\n    continuedSpan.annotate(\"taxCalculated\");\n}\nfinally {\n    // Once done remember to flush the span. That means that\n    // it will get reported but the span itself is not yet finished\n    continuedSpan.flush();\n}\n</code></pre>\n\n<p>or</p>\n\n<p><a href=\"https://cloud.spring.io/spring-cloud-sleuth/reference/html/#creating-spans-with-explicit-parent\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-sleuth/reference/html/#creating-spans-with-explicit-parent</a></p>\n\n<pre><code>// let's assume that we're in a thread Y and we've received\n// the `initialSpan` from thread X. `initialSpan` will be the parent\n// of the `newSpan`\nSpan newSpan = null;\ntry (Tracer.SpanInScope ws = this.tracer.withSpanInScope(initialSpan)) {\n    newSpan = this.tracer.nextSpan().name(\"calculateCommission\");\n    // ...\n    // You can tag a span\n    newSpan.tag(\"commissionValue\", commissionValue);\n    // ...\n    // You can log an event on a span\n    newSpan.annotate(\"commissionCalculated\");\n}\nfinally {\n    // Once done remember to finish the span. This will allow collecting\n    // the span to send it to Zipkin. The tags and events set on the\n    // newSpan will not be present on the parent\n    if (newSpan != null) {\n        newSpan.finish();\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<p><a href=\"https://cloud.spring.io/spring-cloud-sleuth/reference/html/#runnable-and-callable\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-sleuth/reference/html/#runnable-and-callable</a></p>\n\n<pre><code>Runnable runnable = new Runnable() {\n    @Override\n    public void run() {\n        // do some work\n    }\n\n    @Override\n    public String toString() {\n        return \"spanNameFromToStringMethod\";\n    }\n};\n// Manual `TraceRunnable` creation with explicit \"calculateTax\" Span name\nRunnable traceRunnable = new TraceRunnable(this.tracing, spanNamer, runnable,\n        \"calculateTax\");\n// Wrapping `Runnable` with `Tracing`. That way the current span will be available\n// in the thread of `Runnable`\nRunnable traceRunnableFromTracer = this.tracing.currentTraceContext()\n        .wrap(runnable);\n</code></pre>\n\n<p>The following example shows how to do so for Callable:</p>\n\n<pre><code>Callable&lt;String&gt; callable = new Callable&lt;String&gt;() {\n    @Override\n    public String call() throws Exception {\n        return someLogic();\n    }\n\n    @Override\n    public String toString() {\n        return \"spanNameFromToStringMethod\";\n    }\n};\n// Manual `TraceCallable` creation with explicit \"calculateTax\" Span name\nCallable&lt;String&gt; traceCallable = new TraceCallable&lt;&gt;(this.tracing, spanNamer,\n        callable, \"calculateTax\");\n// Wrapping `Callable` with `Tracing`. That way the current span will be available\n// in the thread of `Callable`\nCallable&lt;String&gt; traceCallableFromTracer = this.tracing.currentTraceContext()\n        .wrap(callable);\n</code></pre>\n\n<p>That way, you ensure that a new span is created and closed for each execution.</p>\n"},{"tags":[],"owner":{"account_id":1271864,"reputation":792,"user_id":1227937,"display_name":"Adrian Cole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589938185,"creation_date":1589938185,"answer_id":61903602,"question_id":61659898,"body_markdown":"I&#39;m not well versed in this, but I saw some help from \r\nhttps://gitter.im/spring-cloud/spring-cloud-sleuth?at=5eb2b6f397338850a2ee2b3f\r\n\r\nsome advice pasted here:\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-sleuth/issues/1570#issuecomment-627181235\r\n\r\nyou can try doing the subscribe first, and &quot;then&quot; your callable wrapper","title":"The way to stop sleuth fron creating new trace id for new threads","body":"<p>I'm not well versed in this, but I saw some help from \n<a href=\"https://gitter.im/spring-cloud/spring-cloud-sleuth?at=5eb2b6f397338850a2ee2b3f\" rel=\"nofollow noreferrer\">https://gitter.im/spring-cloud/spring-cloud-sleuth?at=5eb2b6f397338850a2ee2b3f</a></p>\n\n<p>some advice pasted here:</p>\n\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/issues/1570#issuecomment-627181235\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-sleuth/issues/1570#issuecomment-627181235</a></p>\n\n<p>you can try doing the subscribe first, and \"then\" your callable wrapper</p>\n"},{"tags":[],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642640524,"creation_date":1590349901,"answer_id":61991633,"question_id":61659898,"body_markdown":"To solve this problem I had to use `LazyTraceExecutor` - `org.springframework.cloud.sleuth.instrument.async.LazyTraceExecutor`\r\n\r\nExample of instance -ing  it \r\n\r\n    LazyTraceExecutor lazyTraceExecutor;\r\n\r\n    @PostConstrucrt\r\n    void init() {\r\n          LazyTraceExecutor lazyTraceExecutor =  new LazyTraceExecutor(this.beanFactory,\r\n                                                            java.util.concurrent.Executors.newFixedThreadPool(10, threadFactory(&quot;Sched-A-%d&quot;))\r\n                                                                    );\r\n    }\r\n\r\nThen in my RX method that spawns new threads.\r\n    \r\n    Single&lt;MyObject&gt; methohThaCallAnotherRemoteService() {\r\n    \r\n            return Single.fromCallable( () -&gt; { ...\r\n    \r\n                final ResponseEntity&lt;MyObject&gt; response = restTemplate.postForEntity...\r\n    \r\n                return response.getBody();\r\n    \r\n            })\r\n            .subscribeOn(Schedulers.from(lazyTraceExecutor));  //  use it\r\n\r\nNow I have no problem with spans.","title":"The way to stop sleuth fron creating new trace id for new threads","body":"<p>To solve this problem I had to use <code>LazyTraceExecutor</code> - <code>org.springframework.cloud.sleuth.instrument.async.LazyTraceExecutor</code></p>\n<p>Example of instance -ing  it</p>\n<pre><code>LazyTraceExecutor lazyTraceExecutor;\n\n@PostConstrucrt\nvoid init() {\n      LazyTraceExecutor lazyTraceExecutor =  new LazyTraceExecutor(this.beanFactory,\n                                                        java.util.concurrent.Executors.newFixedThreadPool(10, threadFactory(&quot;Sched-A-%d&quot;))\n                                                                );\n}\n</code></pre>\n<p>Then in my RX method that spawns new threads.</p>\n<pre><code>Single&lt;MyObject&gt; methohThaCallAnotherRemoteService() {\n\n        return Single.fromCallable( () -&gt; { ...\n\n            final ResponseEntity&lt;MyObject&gt; response = restTemplate.postForEntity...\n\n            return response.getBody();\n\n        })\n        .subscribeOn(Schedulers.from(lazyTraceExecutor));  //  use it\n</code></pre>\n<p>Now I have no problem with spans.</p>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61991633,"answer_count":3,"score":1,"last_activity_date":1642640524,"creation_date":1588860433,"question_id":61659898,"body_markdown":"1.\r\n\r\nThread 1 Main thread\r\n\r\n    myClient.methohThaCallAnotherRemoteService();\r\n\r\n2.\r\n\r\nIn my `MyClient` class we call another service by with `restTeamplate`\r\n\r\n    Single&lt;MyObject&gt; methohThaCallAnotherRemoteService() {\r\n    \r\n            return Single.fromCallable( () -&gt; { ...\r\n    \r\n                final ResponseEntity&lt;MyObject&gt; response = restTemplate.postForEntity...\r\n    \r\n                return response.getBody();\r\n    \r\n            })\r\n            .subscribeOn(Schedulers.io()); // to be run on separate threads / scheduler\r\n\r\n\r\n3.\r\n\r\n Then in `ClientHttpRequestInterceptorImpl` that is defined as\r\n\r\n \r\n\r\n       ClientHttpRequestInterceptorImpl implements  org.springframework.http.client.ClientHttpRequestInterceptor {\r\n         ...\r\n     public ClientHttpResponse intercept(final HttpRequest request, final byte[] body, final ClientHttpRequestExecution execution) { ...\r\n    \r\n         log.info(&quot;HTTP_CLIENT_REQUEST&quot; + logResponse));\r\n\r\n\r\n\r\n**The problem is:**\r\n That Sleuth creates a separate trace id (trace-id-2) with a span. The the log looks like this:\r\n\r\nfrom main thread:\r\n\r\n    &gt; INFO [my-app,trace-id-1, span-id-1] [nio-8080-exec-2] ...\r\n\r\nfrom io thread:\r\n\r\n    &gt; INFO [my-app,trace-id-2, span-id-2,false] 117037 ---\r\n    &gt; [readScheduler-2] d.p.i.w.ClientHttpRequestInterceptorImpl :\r\n    &gt; {&quot;logType&quot;:&quot;HTTP_CLIENT_REQUEST&quot;\r\n\r\n**I would like trace-id-2 to be trace-id-1 so I could trance the request from the main thread to io thread. (otherwise it does not make sense in terms of tracing).**\r\n\r\nI still want my `logger.info()` to be inside the `ClientHttpRequestInterceptorImpl`\r\n\r\n**Q:** How exactly it could be achieved?\r\n ","title":"The way to stop sleuth fron creating new trace id for new threads","body":"<p>1.</p>\n\n<p>Thread 1 Main thread</p>\n\n<pre><code>myClient.methohThaCallAnotherRemoteService();\n</code></pre>\n\n<p>2.</p>\n\n<p>In my <code>MyClient</code> class we call another service by with <code>restTeamplate</code></p>\n\n<pre><code>Single&lt;MyObject&gt; methohThaCallAnotherRemoteService() {\n\n        return Single.fromCallable( () -&gt; { ...\n\n            final ResponseEntity&lt;MyObject&gt; response = restTemplate.postForEntity...\n\n            return response.getBody();\n\n        })\n        .subscribeOn(Schedulers.io()); // to be run on separate threads / scheduler\n</code></pre>\n\n<p>3.</p>\n\n<p>Then in <code>ClientHttpRequestInterceptorImpl</code> that is defined as</p>\n\n<pre><code>   ClientHttpRequestInterceptorImpl implements  org.springframework.http.client.ClientHttpRequestInterceptor {\n     ...\n public ClientHttpResponse intercept(final HttpRequest request, final byte[] body, final ClientHttpRequestExecution execution) { ...\n\n     log.info(\"HTTP_CLIENT_REQUEST\" + logResponse));\n</code></pre>\n\n<p><strong>The problem is:</strong>\n That Sleuth creates a separate trace id (trace-id-2) with a span. The the log looks like this:</p>\n\n<p>from main thread:</p>\n\n<pre><code>&gt; INFO [my-app,trace-id-1, span-id-1] [nio-8080-exec-2] ...\n</code></pre>\n\n<p>from io thread:</p>\n\n<pre><code>&gt; INFO [my-app,trace-id-2, span-id-2,false] 117037 ---\n&gt; [readScheduler-2] d.p.i.w.ClientHttpRequestInterceptorImpl :\n&gt; {\"logType\":\"HTTP_CLIENT_REQUEST\"\n</code></pre>\n\n<p><strong>I would like trace-id-2 to be trace-id-1 so I could trance the request from the main thread to io thread. (otherwise it does not make sense in terms of tracing).</strong></p>\n\n<p>I still want my <code>logger.info()</code> to be inside the <code>ClientHttpRequestInterceptorImpl</code></p>\n\n<p><strong>Q:</strong> How exactly it could be achieved?</p>\n"},{"tags":["java","sonarqube","sonarlint","sonarcloud"],"comments":[{"owner":{"account_id":4902825,"reputation":1,"user_id":3950483,"display_name":"thusila"},"score":1,"creation_date":1642635346,"post_id":70778917,"comment_id":125126955,"body_markdown":"Sonarlint shows that I have to include Resultset also so if I include result set inside trywith resources what should I write in the try block","body":"Sonarlint shows that I have to include Resultset also so if I include result set inside trywith resources what should I write in the try block"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1643386495,"post_id":70778917,"comment_id":125333949,"body_markdown":"Please don&#39;t post images of code or errors; see [ask]. Don&#39;t use comments to clarify; [edit] your question instead.","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Don&#39;t use comments to clarify; <a href=\"https://stackoverflow.com/posts/70778917/edit\">edit</a> your question instead."}],"answers":[{"tags":[],"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642639345,"creation_date":1642638449,"answer_id":70779434,"question_id":70778917,"body_markdown":" try this code, normally it should solve your problem\r\n \r\n    synchronized(this) {\r\n      try (Connection sqlConnection= DriverManager.getConnection(myConnectionURL);\r\n         PreparedStatement ps = con.createStatement(q)) {\r\n      \r\n        try (ResultSet rs = ps.executeQuery()) {\r\n            while(rs.next()) {\r\n              return result;\r\n            }\r\n        }\r\n      } catch (SQLException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\nLet me know if it work for you","title":"How to fix this sonarqube blocker without affecting to the logic","body":"<p>try this code, normally it should solve your problem</p>\n<pre><code>synchronized(this) {\n  try (Connection sqlConnection= DriverManager.getConnection(myConnectionURL);\n     PreparedStatement ps = con.createStatement(q)) {\n  \n    try (ResultSet rs = ps.executeQuery()) {\n        while(rs.next()) {\n          return result;\n        }\n    }\n  } catch (SQLException e) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p>Let me know if it work for you</p>\n"}],"owner":{"account_id":4902825,"reputation":1,"user_id":3950483,"display_name":"thusila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642639345,"creation_date":1642633809,"question_id":70778917,"body_markdown":"Could you please look at below image and please let me know the solution for this. I have tried to write a try-with-reources for Statement and Resultset but inside try block what should I write\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GWIz0.png","title":"How to fix this sonarqube blocker without affecting to the logic","body":"<p>Could you please look at below image and please let me know the solution for this. I have tried to write a try-with-reources for Statement and Resultset but inside try block what should I write</p>\n<p><a href=\"https://i.stack.imgur.com/GWIz0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","httpclient","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642638681,"creation_date":1351170427,"answer_id":13069293,"question_id":13069089,"body_markdown":"You must be looking at old javadocs.  In the current release (2.4) here is an overload of the `copyURLToFile` method that has two timeout parameters:\r\n\r\n      public static void copyURLToFile(URL source,\r\n                                 File destination,\r\n                                 int connectionTimeout,\r\n                                 int readTimeout)\r\n                          throws IOException\r\n\r\nAs the javadoc explains, the time unit is milliseconds.  \r\n\r\nReference: \r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html","title":"Set timeout on org.apache.commons.io.FileUtils.copyURLToFile?","body":"<p>You must be looking at old javadocs.  In the current release (2.4) here is an overload of the <code>copyURLToFile</code> method that has two timeout parameters:</p>\n<pre><code>  public static void copyURLToFile(URL source,\n                             File destination,\n                             int connectionTimeout,\n                             int readTimeout)\n                      throws IOException\n</code></pre>\n<p>As the javadoc explains, the time unit is milliseconds.</p>\n<p>Reference:\n<a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":2552367,"reputation":21,"user_id":2215899,"display_name":"FishFly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364394532,"creation_date":1364392301,"answer_id":15660560,"question_id":13069089,"body_markdown":"Not true, the overloaded method\r\n\r\n    FileUtils.copyURLToFile(URL source,\r\n                            File destination,\r\n                            int connectionTimeout,\r\n                            int readTimeout)\r\n\r\n**does not exist in the latest 2.4. version**, although the method is listed in Javadoc:\r\n\r\nhttp://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)\r\n\r\nI&#39;m positively sure that I&#39;m using the 2.4 version of Apache commons-io.\r\n\r\nP.S.: I also downloaded source (http://www.carfab.com/apachesoftware//commons/io/source/commons-io-2.4-src.zip) to make sure that the above method really doesn&#39;t exist (anymore?) and inside `FileUtils.java` there really isn&#39;t such method.\r\n\r\n\r\n","title":"Set timeout on org.apache.commons.io.FileUtils.copyURLToFile?","body":"<p>Not true, the overloaded method</p>\n\n<pre><code>FileUtils.copyURLToFile(URL source,\n                        File destination,\n                        int connectionTimeout,\n                        int readTimeout)\n</code></pre>\n\n<p><strong>does not exist in the latest 2.4. version</strong>, although the method is listed in Javadoc:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)\" rel=\"nofollow\">http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)</a></p>\n\n<p>I'm positively sure that I'm using the 2.4 version of Apache commons-io.</p>\n\n<p>P.S.: I also downloaded source (<a href=\"http://www.carfab.com/apachesoftware//commons/io/source/commons-io-2.4-src.zip\" rel=\"nofollow\">http://www.carfab.com/apachesoftware//commons/io/source/commons-io-2.4-src.zip</a>) to make sure that the above method really doesn't exist (anymore?) and inside <code>FileUtils.java</code> there really isn't such method.</p>\n"},{"tags":[],"owner":{"account_id":1218980,"reputation":1,"user_id":1186010,"display_name":"user1186010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384213998,"creation_date":1384213998,"answer_id":19918352,"question_id":13069089,"body_markdown":"Check your maven dependencies, there might be another older version of common-io jar in your classpath. I had the same issue.","title":"Set timeout on org.apache.commons.io.FileUtils.copyURLToFile?","body":"<p>Check your maven dependencies, there might be another older version of common-io jar in your classpath. I had the same issue.</p>\n"}],"owner":{"account_id":1168233,"reputation":3508,"user_id":1146032,"accept_rate":93,"display_name":"A_Elric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13069293,"answer_count":3,"score":2,"last_activity_date":1642638681,"creation_date":1351169669,"question_id":13069089,"body_markdown":"I have some code that copies using httpCore util copyURLtoFile() but I can&#39;t seem to find anything about timeouts in the documentation like I was able to with httpClient.   The file it&#39;s pulling shouldn&#39;t pull out, but depending on that is.... interesting.\r\n\r\n    \r\n        URL pjmUrl = new URL(&quot;myFile&quot;);\r\n        File projLoad = new File(&quot;projLoad.txt&quot;);\r\n        org.apache.commons.io.FileUtils.copyURLToFile(pjmUrl, projLoad);\r\n\r\nIf the third line should timeout, the program has no way to throw an error based on runtime or to check for threadInterrupted()","title":"Set timeout on org.apache.commons.io.FileUtils.copyURLToFile?","body":"<p>I have some code that copies using httpCore util copyURLtoFile() but I can't seem to find anything about timeouts in the documentation like I was able to with httpClient.   The file it's pulling shouldn't pull out, but depending on that is.... interesting.</p>\n\n<pre><code>    URL pjmUrl = new URL(\"myFile\");\n    File projLoad = new File(\"projLoad.txt\");\n    org.apache.commons.io.FileUtils.copyURLToFile(pjmUrl, projLoad);\n</code></pre>\n\n<p>If the third line should timeout, the program has no way to throw an error based on runtime or to check for threadInterrupted()</p>\n"},{"tags":["java","android","byte","hash","arduino"],"comments":[{"owner":{"account_id":2914500,"reputation":1161,"user_id":2498017,"accept_rate":69,"display_name":"Richard Barker"},"score":0,"creation_date":1436193525,"post_id":7947871,"comment_id":50494584,"body_markdown":"Try using SHA128 if you&#39;re sending the string to an adruino. It&#39;s reversible; but I don&#39;t know if you&#39;d need that code on the arduino.","body":"Try using SHA128 if you&#39;re sending the string to an adruino. It&#39;s reversible; but I don&#39;t know if you&#39;d need that code on the arduino."}],"answers":[{"tags":[],"owner":{"account_id":15839,"reputation":14996,"user_id":33885,"accept_rate":56,"display_name":"Szere Dyeri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1320009586,"creation_date":1320009586,"answer_id":7947899,"question_id":7947871,"body_markdown":"Use `[String.getBytes()][1]` to convert to bytes and use `[String(byte[] data)][2]` constructor to convert back to string.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/String.html#getBytes()\r\n  [2]: http://developer.android.com/reference/java/lang/String.html#String%28byte%5B%5D%29","title":"Convert a String to a byte array and then back to the original String","body":"<p>Use <code>[String.getBytes()][1]</code> to convert to bytes and use <code>[String(byte[] data)][2]</code> constructor to convert back to string.</p>\n"},{"tags":[],"owner":{"account_id":397999,"reputation":13202,"user_id":762442,"accept_rate":93,"display_name":"Michell Bak"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1320009590,"creation_date":1320009590,"answer_id":7947900,"question_id":7947871,"body_markdown":"You can do it like this.\r\n\r\n**String to byte array**\r\n\r\n    String stringToConvert = &quot;This String is 76 characters long and will be converted to an array of bytes&quot;;\r\n    byte[] theByteArray = stringToConvert.getBytes();\r\n\r\nhttp://www.javadb.com/convert-string-to-byte-array\r\n\r\n**Byte array to String**\r\n\r\n    byte[] byteArray = new byte[] {87, 79, 87, 46, 46, 46};\r\n    String value = new String(byteArray);\r\n\r\nhttp://www.javadb.com/convert-byte-array-to-string","title":"Convert a String to a byte array and then back to the original String","body":"<p>You can do it like this.</p>\n\n<p><strong>String to byte array</strong></p>\n\n<pre><code>String stringToConvert = \"This String is 76 characters long and will be converted to an array of bytes\";\nbyte[] theByteArray = stringToConvert.getBytes();\n</code></pre>\n\n<p><a href=\"http://www.javadb.com/convert-string-to-byte-array\" rel=\"noreferrer\">http://www.javadb.com/convert-string-to-byte-array</a></p>\n\n<p><strong>Byte array to String</strong></p>\n\n<pre><code>byte[] byteArray = new byte[] {87, 79, 87, 46, 46, 46};\nString value = new String(byteArray);\n</code></pre>\n\n<p><a href=\"http://www.javadb.com/convert-byte-array-to-string\" rel=\"noreferrer\">http://www.javadb.com/convert-byte-array-to-string</a></p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":127,"is_accepted":true,"score":127,"last_activity_date":1320011231,"creation_date":1320009737,"answer_id":7947911,"question_id":7947871,"body_markdown":"I would suggest using the members of string, but *with an explicit encoding*:\r\n\r\n    byte[] bytes = text.getBytes(&quot;UTF-8&quot;);\r\n    String text = new String(bytes, &quot;UTF-8&quot;);\r\n\r\nBy using an explicit encoding (and one which supports all of Unicode) you avoid the problems of just calling `text.getBytes()` etc:\r\n\r\n- You&#39;re explicitly using a specific encoding, so you know which encoding to use later, rather than relying on the platform default.\r\n- You know it will support all of Unicode (as opposed to, say, ISO-Latin-1).\r\n\r\nEDIT: Even though UTF-8 is the default encoding on Android, I&#39;d definitely be explicit about this. For example, this question only says &quot;in Java or Android&quot; - so it&#39;s entirely possible that the code will end up being used on other platforms.\r\n\r\nBasically given that the normal Java platform *can* have different default encodings, I think it&#39;s best to be absolutely explicit. I&#39;ve seen way too many people using the default encoding and losing data to take that risk.\r\n\r\nEDIT: In my haste I forgot to mention that you don&#39;t have to use the encoding&#39;s *name* - you can use a `Charset` instead. Using [Guava][1] I&#39;d *really* use:\r\n\r\n    byte[] bytes = text.getBytes(Charsets.UTF_8);\r\n    String text = new String(bytes, Charsets.UTF_8);\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n","title":"Convert a String to a byte array and then back to the original String","body":"<p>I would suggest using the members of string, but <em>with an explicit encoding</em>:</p>\n\n<pre><code>byte[] bytes = text.getBytes(\"UTF-8\");\nString text = new String(bytes, \"UTF-8\");\n</code></pre>\n\n<p>By using an explicit encoding (and one which supports all of Unicode) you avoid the problems of just calling <code>text.getBytes()</code> etc:</p>\n\n<ul>\n<li>You're explicitly using a specific encoding, so you know which encoding to use later, rather than relying on the platform default.</li>\n<li>You know it will support all of Unicode (as opposed to, say, ISO-Latin-1).</li>\n</ul>\n\n<p>EDIT: Even though UTF-8 is the default encoding on Android, I'd definitely be explicit about this. For example, this question only says \"in Java or Android\" - so it's entirely possible that the code will end up being used on other platforms.</p>\n\n<p>Basically given that the normal Java platform <em>can</em> have different default encodings, I think it's best to be absolutely explicit. I've seen way too many people using the default encoding and losing data to take that risk.</p>\n\n<p>EDIT: In my haste I forgot to mention that you don't have to use the encoding's <em>name</em> - you can use a <code>Charset</code> instead. Using <a href=\"http://guava-libraries.googlecode.com\" rel=\"noreferrer\">Guava</a> I'd <em>really</em> use:</p>\n\n<pre><code>byte[] bytes = text.getBytes(Charsets.UTF_8);\nString text = new String(bytes, Charsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6798393"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642638419,"creation_date":1482812717,"answer_id":41338987,"question_id":7947871,"body_markdown":"```java\r\nimport java.io.FileInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\npublic class FileHashStream\t\r\n{\r\n\t// write a new method that will provide a new Byte array, and where this generally reads from an input stream\r\n\t\r\n\tpublic static byte[] read(InputStream is) throws Exception\r\n\t{\r\n\t\tString path = /* type in the absolute path for the &#39;commons-codec-1.10-bin.zip&#39; */;\r\n\r\n\t\t// must need a Byte buffer\r\n\r\n\t\tbyte[] buf = new byte[1024 * 16]\r\n\r\n\t\t// we will use 16 kilobytes\r\n\r\n\t\tint len = 0;\r\n\r\n\t\t// we need a new input stream\r\n\r\n\t\tFileInputStream is = new FileInputStream(path);\r\n\r\n\t\t// use the buffer to update our &quot;MessageDigest&quot; instance\r\n\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\tlen = is.read(buf);\r\n\t\t\tif(len &lt; 0) break;\r\n\t\t\tmd.update(buf, 0, len);\r\n\t\t}\r\n\r\n\t\t// close the input stream\r\n\r\n\t\tis.close();\r\n\r\n\t\t// call the &quot;digest&quot; method for obtaining the final hash-result\r\n\r\n\t\tbyte[] ret = md.digest();\r\n\r\n\t\tSystem.out.println(&quot;Length of Hash: &quot; + ret.length);\r\n\r\n\t\tfor(byte b : ret)\r\n\t\t{\r\n\t\t\tSystem.out.println(b + &quot;, &quot;);\r\n\t\t}\r\n\r\n\t\tString compare = &quot;49276d206b696c6c696e6720796f757220627261696e206c696b65206120706f69736f6e6f7573206d757368726f6f6d&quot;;\r\n\r\n\t\tString verification = Hex.encodeHexString(ret);\r\n\r\n\t\tSystem.out.println();\r\n\r\n\t\tSystem.out.println(&quot;===&quot;)\r\n\r\n\t\tSystem.out.println(verification);\r\n\r\n\t\tSystem.out.println(&quot;Equals? &quot; + verification.equals(compare));\r\n\t\t\t\r\n\t}\r\n}\r\n```","title":"Convert a String to a byte array and then back to the original String","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.io.ByteArrayOutputStream;\n\npublic class FileHashStream \n{\n    // write a new method that will provide a new Byte array, and where this generally reads from an input stream\n    \n    public static byte[] read(InputStream is) throws Exception\n    {\n        String path = /* type in the absolute path for the 'commons-codec-1.10-bin.zip' */;\n\n        // must need a Byte buffer\n\n        byte[] buf = new byte[1024 * 16]\n\n        // we will use 16 kilobytes\n\n        int len = 0;\n\n        // we need a new input stream\n\n        FileInputStream is = new FileInputStream(path);\n\n        // use the buffer to update our &quot;MessageDigest&quot; instance\n\n        while(true)\n        {\n            len = is.read(buf);\n            if(len &lt; 0) break;\n            md.update(buf, 0, len);\n        }\n\n        // close the input stream\n\n        is.close();\n\n        // call the &quot;digest&quot; method for obtaining the final hash-result\n\n        byte[] ret = md.digest();\n\n        System.out.println(&quot;Length of Hash: &quot; + ret.length);\n\n        for(byte b : ret)\n        {\n            System.out.println(b + &quot;, &quot;);\n        }\n\n        String compare = &quot;49276d206b696c6c696e6720796f757220627261696e206c696b65206120706f69736f6e6f7573206d757368726f6f6d&quot;;\n\n        String verification = Hex.encodeHexString(ret);\n\n        System.out.println();\n\n        System.out.println(&quot;===&quot;)\n\n        System.out.println(verification);\n\n        System.out.println(&quot;Equals? &quot; + verification.equals(compare));\n            \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23903468,"reputation":1,"user_id":17901339,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642502764,"creation_date":1642502764,"answer_id":70754257,"question_id":7947871,"body_markdown":"`byte[] pdfBytes = Base64.decode(myPdfBase64String, Base64.DEFAULT)`","title":"Convert a String to a byte array and then back to the original String","body":"<p><code>byte[] pdfBytes = Base64.decode(myPdfBase64String, Base64.DEFAULT)</code></p>\n"}],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130718,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":7947911,"answer_count":5,"score":55,"last_activity_date":1642638419,"creation_date":1320009331,"question_id":7947871,"body_markdown":"Is it possible to convert a string to a byte array and then convert it back to the original string in Java or Android?\r\n\r\nMy objective is to send some strings to a microcontroller (Arduino) and store it into EEPROM (which is the only 1&amp;nbsp; KB). I tried to use an [MD5][1] hash, but it seems it&#39;s only one-way encryption. What can I do to deal with this issue?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/MD5\r\n","title":"Convert a String to a byte array and then back to the original String","body":"<p>Is it possible to convert a string to a byte array and then convert it back to the original string in Java or Android?</p>\n<p>My objective is to send some strings to a microcontroller (Arduino) and store it into EEPROM (which is the only 1  KB). I tried to use an <a href=\"http://en.wikipedia.org/wiki/MD5\" rel=\"nofollow noreferrer\">MD5</a> hash, but it seems it's only one-way encryption. What can I do to deal with this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1642638635,"post_id":70779420,"comment_id":125127608,"body_markdown":"Have you tried removing `input.close()`? Also, `System.err` isn&#39;t for debugging. Breakpoints in your IDE are.","body":"Have you tried removing <code>input.close()</code>? Also, <code>System.err</code> isn&#39;t for debugging. Breakpoints in your IDE are."},{"owner":{"account_id":472406,"reputation":6519,"user_id":880874,"accept_rate":88,"display_name":"SkyeBoniwell"},"score":0,"creation_date":1642638728,"post_id":70779420,"comment_id":125127622,"body_markdown":"@OneCricketeer No but it was working fine with input.close().  is there something wrong with input.close?  Also I am using Visual Studio Code by the Micro Soft.  thanks!","body":"@OneCricketeer No but it was working fine with input.close().  is there something wrong with input.close?  Also I am using Visual Studio Code by the Micro Soft.  thanks!"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1642641491,"post_id":70779420,"comment_id":125128017,"body_markdown":"This error would happen if you enter a radius that can&#39;t be parsed as a double. So, I think it&#39;s not a change to the code causing the error, but a change to the input provided. What are you typing as the radius?","body":"This error would happen if you enter a radius that can&#39;t be parsed as a double. So, I think it&#39;s not a change to the code causing the error, but a change to the input provided. What are you typing as the radius?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1642658428,"post_id":70779420,"comment_id":125130711,"body_markdown":"Java debugger works with the Java extension in Vscode just fine https://code.visualstudio.com/docs/java/java-debugging","body":"Java debugger works with the Java extension in Vscode just fine <a href=\"https://code.visualstudio.com/docs/java/java-debugging\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-debugging</a>"}],"owner":{"account_id":472406,"reputation":6519,"user_id":880874,"accept_rate":88,"display_name":"SkyeBoniwell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642638370,"creation_date":1642638370,"question_id":70779420,"body_markdown":"I have the following simple Java program:\r\n\r\n    public static void main(String[] args) \r\n    { \r\n        Scanner input = new Scanner(System.in); \r\n        \r\n        double rad;  \r\n        double area;  \r\n     \r\n        System.out.print(&quot;radius #: &quot;); \r\n        rad = input.nextDouble(); \r\n        System.err.println(rad);\r\n    \r\n        area = rad * rad * 3.14159; \r\n     \r\n        System.out.println(&quot;Radius &quot;  \r\n         + rad + &quot; is &quot; + area); \r\n    \r\n         input.close();\r\n     } \r\n    }\r\n\r\nIt was running great, but I wanted to practice debugging, so I added this line:\r\n\r\n    System.err.println(rad);\r\n\r\nAnd it now gives me this error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n            at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n            at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n            at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n            at ComputeArea.main(ComputeArea.java:20)\r\n\r\nWhat could I be doing wrong?\r\n\r\nthanks!","title":"Added java debugging which is not causing my java program to throw errors","body":"<p>I have the following simple Java program:</p>\n<pre><code>public static void main(String[] args) \n{ \n    Scanner input = new Scanner(System.in); \n    \n    double rad;  \n    double area;  \n \n    System.out.print(&quot;radius #: &quot;); \n    rad = input.nextDouble(); \n    System.err.println(rad);\n\n    area = rad * rad * 3.14159; \n \n    System.out.println(&quot;Radius &quot;  \n     + rad + &quot; is &quot; + area); \n\n     input.close();\n } \n}\n</code></pre>\n<p>It was running great, but I wanted to practice debugging, so I added this line:</p>\n<pre><code>System.err.println(rad);\n</code></pre>\n<p>And it now gives me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\n        at ComputeArea.main(ComputeArea.java:20)\n</code></pre>\n<p>What could I be doing wrong?</p>\n<p>thanks!</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642637858,"creation_date":1642637858,"answer_id":70779373,"question_id":70776311,"body_markdown":"Appender names have no relationship to logger names, so this:\r\n\r\n    .withName(&quot;my runtime logger&quot;)\r\n\r\nis pointless.  You might as well use `&quot;My appender&quot;` or something.\r\n\r\nThe problem is this:\r\n\r\n    lc.getRootLogger().addAppender(\r\n\r\nYou’re adding your Appender to the root logger, from which all other loggers inherit, so of course all loggers are using it.  Try adding the Appender to just your logger:\r\n\r\n    lc.getLogger(&quot;my runtime logger&quot;).addAppender(\r\n\r\n","title":"Log4j2 add logger at runtime - what&#39;s wrong with this code?","body":"<p>Appender names have no relationship to logger names, so this:</p>\n<pre><code>.withName(&quot;my runtime logger&quot;)\n</code></pre>\n<p>is pointless.  You might as well use <code>&quot;My appender&quot;</code> or something.</p>\n<p>The problem is this:</p>\n<pre><code>lc.getRootLogger().addAppender(\n</code></pre>\n<p>You’re adding your Appender to the root logger, from which all other loggers inherit, so of course all loggers are using it.  Try adding the Appender to just your logger:</p>\n<pre><code>lc.getLogger(&quot;my runtime logger&quot;).addAppender(\n</code></pre>\n"}],"owner":{"account_id":7568218,"reputation":81,"user_id":5742976,"accept_rate":50,"display_name":"Damian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70779373,"answer_count":1,"score":0,"last_activity_date":1642637858,"creation_date":1642618744,"question_id":70776311,"body_markdown":"while migrating a project from log4j to log4j2 I encountered a situation when a logger that logs events to a separate file (let&#39;s call it `uu.log`) has to be added at runtime - all other loggers are configured in properties file. The below code is almost doing the job - namely, `uu.log` contains events from all existing loggers, not just from  new one. This is what I try so far: How can I fix the code below to achieve the desired state in simplest way?\r\n```\r\npublic class MultipleLoggersExample {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        // this logger is configured in properties file and is logging to own file\r\n        Logger aud = LogManager.getLogger(&quot;aud&quot;);\r\n\r\n        // class B is logging to separate file (logger also defined in properties)\r\n        B b = new B();\r\n\r\n        // below classes should log to common file NormalLog.log defined in properties\r\n        C c = new C();\r\n        D d = new D();\r\n        E e = new E();\r\n\r\n        addLoggerAtRuntime();\r\n\r\n        // this logger needs to log only its OWN messages to uu.log file\r\n        Logger runtimeLogger = LogManager.getLogger(&quot;my runtime logger&quot;);\r\n\r\n        int counter = 2;\r\n        while(true) {\r\n            if(counter % 2 == 0){\r\n                aud.info(&quot;message from \\&quot;aud\\&quot; logger no. &quot;+ (counter-1));\r\n            } else{\r\n                b.logger.info(&quot;message from class B no. &quot; + (counter-1));\r\n            }\r\n            c.logger.info(&quot;message from class C&quot;);\r\n            e.logger.info(&quot;message from class E&quot;);\r\n\r\n            if(counter % 4 == 0) {\r\n                runtimeLogger.info(&quot;message from logger added at runtime&quot;);\r\n            }\r\n            counter++;\r\n            Thread.sleep(5_000);\r\n        }\r\n    }\r\n\r\n    private static void addLoggerAtRuntime() {\r\n        final String fileName = &quot;C:\\\\Users\\\\Damian\\\\Desktop\\\\uu.log&quot;;\r\n\r\n        LoggerContext lc = (LoggerContext) LogManager.getContext(false);\r\n        RollingFileAppender rfa = RollingFileAppender.newBuilder()\r\n                .withName(&quot;my runtime logger&quot;).withAppend(true)\r\n                .withFileName(fileName)\r\n                .withLayout(PatternLayout.newBuilder().withPattern(&quot;%-5p %d [%t] %C{2} - %m%n&quot;).build())\r\n                .withPolicy(TimeBasedTriggeringPolicy.newBuilder().withModulate(true).withInterval(2).build())\r\n                .withFilePattern(fileName + &quot;.&quot; + &quot;%d{yyyy-MM-dd-HH-mm}&quot;)\r\n                .setConfiguration(lc.getConfiguration()).build();\r\n        rfa.start();\r\n        lc.getConfiguration().addAppender(rfa);\r\n        lc.getRootLogger().addAppender(lc.getConfiguration().getAppender(rfa.getName()));\r\n        lc.updateLoggers();\r\n    }\r\n\r\n}\r\n```","title":"Log4j2 add logger at runtime - what&#39;s wrong with this code?","body":"<p>while migrating a project from log4j to log4j2 I encountered a situation when a logger that logs events to a separate file (let's call it <code>uu.log</code>) has to be added at runtime - all other loggers are configured in properties file. The below code is almost doing the job - namely, <code>uu.log</code> contains events from all existing loggers, not just from  new one. This is what I try so far: How can I fix the code below to achieve the desired state in simplest way?</p>\n<pre><code>public class MultipleLoggersExample {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        // this logger is configured in properties file and is logging to own file\n        Logger aud = LogManager.getLogger(&quot;aud&quot;);\n\n        // class B is logging to separate file (logger also defined in properties)\n        B b = new B();\n\n        // below classes should log to common file NormalLog.log defined in properties\n        C c = new C();\n        D d = new D();\n        E e = new E();\n\n        addLoggerAtRuntime();\n\n        // this logger needs to log only its OWN messages to uu.log file\n        Logger runtimeLogger = LogManager.getLogger(&quot;my runtime logger&quot;);\n\n        int counter = 2;\n        while(true) {\n            if(counter % 2 == 0){\n                aud.info(&quot;message from \\&quot;aud\\&quot; logger no. &quot;+ (counter-1));\n            } else{\n                b.logger.info(&quot;message from class B no. &quot; + (counter-1));\n            }\n            c.logger.info(&quot;message from class C&quot;);\n            e.logger.info(&quot;message from class E&quot;);\n\n            if(counter % 4 == 0) {\n                runtimeLogger.info(&quot;message from logger added at runtime&quot;);\n            }\n            counter++;\n            Thread.sleep(5_000);\n        }\n    }\n\n    private static void addLoggerAtRuntime() {\n        final String fileName = &quot;C:\\\\Users\\\\Damian\\\\Desktop\\\\uu.log&quot;;\n\n        LoggerContext lc = (LoggerContext) LogManager.getContext(false);\n        RollingFileAppender rfa = RollingFileAppender.newBuilder()\n                .withName(&quot;my runtime logger&quot;).withAppend(true)\n                .withFileName(fileName)\n                .withLayout(PatternLayout.newBuilder().withPattern(&quot;%-5p %d [%t] %C{2} - %m%n&quot;).build())\n                .withPolicy(TimeBasedTriggeringPolicy.newBuilder().withModulate(true).withInterval(2).build())\n                .withFilePattern(fileName + &quot;.&quot; + &quot;%d{yyyy-MM-dd-HH-mm}&quot;)\n                .setConfiguration(lc.getConfiguration()).build();\n        rfa.start();\n        lc.getConfiguration().addAppender(rfa);\n        lc.getRootLogger().addAppender(lc.getConfiguration().getAppender(rfa.getName()));\n        lc.updateLoggers();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1493361229,"post_id":43673461,"comment_id":74392968,"body_markdown":"Can you check this solution http://stackoverflow.com/a/11922393/227775","body":"Can you check this solution <a href=\"http://stackoverflow.com/a/11922393/227775\">stackoverflow.com/a/11922393/227775</a>"},{"owner":{"account_id":150937,"reputation":1189,"user_id":364468,"accept_rate":44,"display_name":"Luca"},"score":0,"creation_date":1493361501,"post_id":43673461,"comment_id":74393106,"body_markdown":"@dasrohith I already tried but it didn&#39;t solve my issue","body":"@dasrohith I already tried but it didn&#39;t solve my issue"},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1493361666,"post_id":43673461,"comment_id":74393171,"body_markdown":"have you tried with ip or locahost?","body":"have you tried with ip or locahost?"},{"owner":{"account_id":150937,"reputation":1189,"user_id":364468,"accept_rate":44,"display_name":"Luca"},"score":0,"creation_date":1493361748,"post_id":43673461,"comment_id":74393222,"body_markdown":"@dasrohith yes, I tried localhost, 127.0.0.1, my local ip and that IP that the exception shows (that I don&#39;t recognize). Still no luck","body":"@dasrohith yes, I tried localhost, 127.0.0.1, my local ip and that IP that the exception shows (that I don&#39;t recognize). Still no luck"},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1493361858,"post_id":43673461,"comment_id":74393281,"body_markdown":"Execute  FLUSH PRIVILEGES; after the GRANT ALL PRIVILEGES","body":"Execute  FLUSH PRIVILEGES; after the GRANT ALL PRIVILEGES"},{"owner":{"account_id":150937,"reputation":1189,"user_id":364468,"accept_rate":44,"display_name":"Luca"},"score":0,"creation_date":1493362018,"post_id":43673461,"comment_id":74393369,"body_markdown":"Thanks, but it didn&#39;t work","body":"Thanks, but it didn&#39;t work"},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1493362074,"post_id":43673461,"comment_id":74393403,"body_markdown":"Have you checked this SO answer. Please have a look into this http://stackoverflow.com/a/32288517/227775","body":"Have you checked this SO answer. Please have a look into this <a href=\"http://stackoverflow.com/a/32288517/227775\">stackoverflow.com/a/32288517/227775</a>"},{"owner":{"account_id":150937,"reputation":1189,"user_id":364468,"accept_rate":44,"display_name":"Luca"},"score":0,"creation_date":1493362943,"post_id":43673461,"comment_id":74393894,"body_markdown":"@dasrohith I tried id. I had many root users (all the IPs and wildcard I tried). I removed them ad left with only root@127.0.0.1, localhost, % wildcard and 172.17.0.1 (the IP of the exception). I also ran a FLUSH PRIVILEGES; Still no changes.. Of course as soon as it will work I&#39;ll remove the wildcard and I&#39;ll not use root.\nI don&#39;t know if you saw my edit but I can connect using Python","body":"@dasrohith I tried id. I had many root users (all the IPs and wildcard I tried). I removed them ad left with only root@127.0.0.1, localhost, % wildcard and 172.17.0.1 (the IP of the exception). I also ran a FLUSH PRIVILEGES; Still no changes.. Of course as soon as it will work I&#39;ll remove the wildcard and I&#39;ll not use root. I don&#39;t know if you saw my edit but I can connect using Python"},{"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"score":0,"creation_date":1631794294,"post_id":43673461,"comment_id":122321977,"body_markdown":"This solved my problem\nhttps://medium.com/tech-learn-share/docker-mysql-access-denied-for-user-172-17-0-1-using-password-yes-c5eadad582d3","body":"This solved my problem <a href=\"https://medium.com/tech-learn-share/docker-mysql-access-denied-for-user-172-17-0-1-using-password-yes-c5eadad582d3\" rel=\"nofollow noreferrer\">medium.com/tech-learn-share/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":150937,"reputation":1189,"user_id":364468,"accept_rate":44,"display_name":"Luca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493363139,"creation_date":1493363139,"answer_id":43674066,"question_id":43673461,"body_markdown":"I solved the issue by shutting down the Docker server. \r\nI was using it for another project and I completely forgot about it. Still not sure why I got the error as yes, I had a Mysql container running, but was not on localhost.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;172.17.0.1&#39; (using password: YES)","body":"<p>I solved the issue by shutting down the Docker server. \nI was using it for another project and I completely forgot about it. Still not sure why I got the error as yes, I had a Mysql container running, but was not on localhost.</p>\n"},{"tags":[],"owner":{"account_id":4160602,"reputation":151,"user_id":3725221,"display_name":"Iakov Senatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552029428,"creation_date":1552029428,"answer_id":55058455,"question_id":43673461,"body_markdown":"The same error comming on connect with DB in local Docker, if Docker self has problems to connect to with his own cloud account (Feuerwall, login problem etc. ).","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;172.17.0.1&#39; (using password: YES)","body":"<p>The same error comming on connect with DB in local Docker, if Docker self has problems to connect to with his own cloud account (Feuerwall, login problem etc. ).</p>\n"},{"tags":[],"owner":{"account_id":132720,"reputation":903,"user_id":333588,"display_name":"drdrej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577734191,"creation_date":1577734191,"answer_id":59535953,"question_id":43673461,"body_markdown":"thoughts:\r\n\r\n1. if you checks roots privileges, you will see, this user is bound to localhost.\r\n2. i have a query-user to exec queries without host (%)\r\n\r\nso to solve this problem:\r\n1. give root more access\r\n2. use another user for access (not root)\r\n3. important:use newest mysql jar driver package. \r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;172.17.0.1&#39; (using password: YES)","body":"<p>thoughts:</p>\n\n<ol>\n<li>if you checks roots privileges, you will see, this user is bound to localhost.</li>\n<li>i have a query-user to exec queries without host (%)</li>\n</ol>\n\n<p>so to solve this problem:\n1. give root more access\n2. use another user for access (not root)\n3. important:use newest mysql jar driver package. </p>\n"},{"tags":[],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627376187,"creation_date":1627376187,"answer_id":68541861,"question_id":43673461,"body_markdown":"I had been facing the same problem. I found one solution to this problem.\r\n\r\n\r\n```\r\nCREATE USER &#39;root&#39;@&#39;172.17.0.1&#39; IDENTIFIED BY &#39;root&#39;;\r\n\r\n\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;172.23.0.1&#39; WITH GRANT OPTION;\r\n\r\n\r\ndocker exec -it a5572eb07b8fe8e216d9addc63c1b8f50473638393c39d79e44e2ca7ffd6781e mysql -uroot -p (to get the docker-mysql terminal)[![This picture is for docker-mysql CLI][1]][1]\r\nflush privileges;\r\n\r\n```\r\n\r\n\r\nCreate the user for the IP address for which you are using getting this error using above command on the docker-mysql terminal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uBk4p.png","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;172.17.0.1&#39; (using password: YES)","body":"<p>I had been facing the same problem. I found one solution to this problem.</p>\n<pre><code>CREATE USER 'root'@'172.17.0.1' IDENTIFIED BY 'root';\n\n\nGRANT ALL PRIVILEGES ON *.* TO 'root'@'172.23.0.1' WITH GRANT OPTION;\n\n\ndocker exec -it a5572eb07b8fe8e216d9addc63c1b8f50473638393c39d79e44e2ca7ffd6781e mysql -uroot -p (to get the docker-mysql terminal)[![This picture is for docker-mysql CLI][1]][1]\nflush privileges;\n\n</code></pre>\n<p>Create the user for the IP address for which you are using getting this error using above command on the docker-mysql terminal.</p>\n"}],"owner":{"account_id":150937,"reputation":1189,"user_id":364468,"accept_rate":44,"display_name":"Luca"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43674066,"answer_count":4,"score":1,"last_activity_date":1642637668,"creation_date":1493361031,"question_id":43673461,"body_markdown":"I am trying to write into a mysql database from Java but I get this error:\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;172.17.0.1&#39; (using password: YES)\r\n\r\nI am connecting to a local mysql instance and to be honest I don&#39;t know what&#39;s 172.17.0.1 ip.\r\n\r\nThe small code I wrote:\r\n\r\n    public static void writeToDB(String value, String unit) throws ClassNotFoundException, SQLException, SQLException\r\n\t{\r\n\r\n\t\t// create a mysql database connection\r\n\t\tString myDriver = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n\t\tString myUrl = &quot;jdbc:mysql://localhost:3306/MyDB&quot;;\r\n\t\tClass.forName(myDriver);\r\n\r\n\t\tConnection conn = null;\r\n\r\n\t\tconn = DriverManager.getConnection(myUrl, &quot;root&quot;, &quot;MyPass&quot;);\r\n\r\n\r\n\t\t// the mysql insert statement\r\n\t\tString query = &quot; insert into data (unit, value)&quot;\r\n\t\t\t\t+ &quot; values (?, ?)&quot;;\r\n\r\n\t\t// create the mysql insert preparedstatement\r\n\t\tPreparedStatement preparedStmt = null;\r\n\t\tpreparedStmt = conn.prepareStatement(query);\r\n\t\tpreparedStmt.setString (1, unit);\r\n\t\tpreparedStmt.setString (2, value);\r\n\r\n\t\t// execute the preparedstatement\r\n\t\tpreparedStmt.execute();\r\n\t\tconn.close();\r\n\r\n\t}\r\n\r\nI ran\r\n\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;MyPass&#39; WITH GRANT OPTION;\r\n\r\nbut nothing changed. \r\n\r\nMy my.cnf is all commented out.\r\nMy local ip is 192.168.1.46. I tried to use this ip and 127.0.0.1 instead of localhost on the myUrl variable but nothing changed.\r\n\r\nI restarted the mysql server, eclipse and pc without success. \r\n\r\nEdit: additional info\r\nI stopped the server and ran the code. I get the exact same exception. I guess somehow I can&#39;t reach the server at all.\r\n\r\nI am able to use &quot;localhost&quot; in my Python script. It writes on the same table as the java code. \r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;172.17.0.1&#39; (using password: YES)","body":"<p>I am trying to write into a mysql database from Java but I get this error:</p>\n\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'172.17.0.1' (using password: YES)\n</code></pre>\n\n<p>I am connecting to a local mysql instance and to be honest I don't know what's 172.17.0.1 ip.</p>\n\n<p>The small code I wrote:</p>\n\n<pre><code>public static void writeToDB(String value, String unit) throws ClassNotFoundException, SQLException, SQLException\n{\n\n    // create a mysql database connection\n    String myDriver = \"com.mysql.cj.jdbc.Driver\";\n    String myUrl = \"jdbc:mysql://localhost:3306/MyDB\";\n    Class.forName(myDriver);\n\n    Connection conn = null;\n\n    conn = DriverManager.getConnection(myUrl, \"root\", \"MyPass\");\n\n\n    // the mysql insert statement\n    String query = \" insert into data (unit, value)\"\n            + \" values (?, ?)\";\n\n    // create the mysql insert preparedstatement\n    PreparedStatement preparedStmt = null;\n    preparedStmt = conn.prepareStatement(query);\n    preparedStmt.setString (1, unit);\n    preparedStmt.setString (2, value);\n\n    // execute the preparedstatement\n    preparedStmt.execute();\n    conn.close();\n\n}\n</code></pre>\n\n<p>I ran</p>\n\n<pre><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'MyPass' WITH GRANT OPTION;\n</code></pre>\n\n<p>but nothing changed. </p>\n\n<p>My my.cnf is all commented out.\nMy local ip is 192.168.1.46. I tried to use this ip and 127.0.0.1 instead of localhost on the myUrl variable but nothing changed.</p>\n\n<p>I restarted the mysql server, eclipse and pc without success. </p>\n\n<p>Edit: additional info\nI stopped the server and ran the code. I get the exact same exception. I guess somehow I can't reach the server at all.</p>\n\n<p>I am able to use \"localhost\" in my Python script. It writes on the same table as the java code. </p>\n"},{"tags":["java","swing","nullpointerexception","jbutton"],"comments":[{"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"score":2,"creation_date":1369410360,"post_id":16738745,"comment_id":24107085,"body_markdown":"Running your code, I see a NullPointerException in getFontMetrics(), not in getFont(). Can you please post the exception stack trace?","body":"Running your code, I see a NullPointerException in getFontMetrics(), not in getFont(). Can you please post the exception stack trace?"},{"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"score":0,"creation_date":1369410450,"post_id":16738745,"comment_id":24107146,"body_markdown":"@CyrilleKa You are right `getFont()` returns null and then `getFontMetrics(null)` throws exception","body":"@CyrilleKa You are right <code>getFont()</code> returns null and then <code>getFontMetrics(null)</code> throws exception"},{"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"score":0,"creation_date":1369410592,"post_id":16738745,"comment_id":24107237,"body_markdown":"I think it is probably related to http://stackoverflow.com/questions/9014135/why-am-i-getting-this-nullpointerexception As long as the JButton is not &quot;displayed&quot; (attached to your JFrame), some graphics-related methods will not work properly.","body":"I think it is probably related to <a href=\"http://stackoverflow.com/questions/9014135/why-am-i-getting-this-nullpointerexception\" title=\"why am i getting this nullpointerexception\">stackoverflow.com/questions/9014135/&hellip;</a> As long as the JButton is not &quot;displayed&quot; (attached to your JFrame), some graphics-related methods will not work properly."}],"answers":[{"tags":[],"owner":{"account_id":1148764,"reputation":16208,"user_id":1130930,"display_name":"Russell Zahniser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369410869,"creation_date":1369410869,"answer_id":16739013,"question_id":16738745,"body_markdown":"The problem is that `setText()` is called from `JButton`&#39;s constructor, apparently before the `font` field is initialized. This is bad coding practice on the part of the Swing folks, but you can work around it by just doing nothing if `getFont() == null`.","title":"NullPointerException while getting font from my JButton","body":"<p>The problem is that <code>setText()</code> is called from <code>JButton</code>'s constructor, apparently before the <code>font</code> field is initialized. This is bad coding practice on the part of the Swing folks, but you can work around it by just doing nothing if <code>getFont() == null</code>.</p>\n"},{"tags":[],"owner":{"account_id":2714223,"reputation":47902,"user_id":2341938,"display_name":"gkalpak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1369412546,"creation_date":1369410871,"answer_id":16739014,"question_id":16738745,"body_markdown":"Long story short:  \r\nChange `super(txt)` to \r\n\r\n    super();\r\n    setText(txt);\r\n        \r\n_**Short explanation**_  \r\nAs the stack-trace indicates, calling `super(txt)` (with a String argument) calls at some point `AbstractButton`&#39;s `init` method:\r\n\r\n    protected void init(String text, Icon icon) {\r\n        if (text != null) {\r\n            setText(text);\r\n        }\r\n        ...\r\n\r\nAs you can see, **IF** the `text` argument is not `null`, method `setText` is called. But your overriden `setText` method requires the Font to be set (which at this point isn&#39;t).\r\n\r\nSo, calling the no-argument constructor first (`super()`), causes the `text` argument passed to `init` to be `null`, thus avoiding the problem. Only **after** `super()` returns (at which point the Font has been properly set), is it safe to call `setText(txt)` explicitely and everything works fine.\r\n\r\n(Long story short **plus** happy ending !)","title":"NullPointerException while getting font from my JButton","body":"<p>Long story short:<br>\nChange <code>super(txt)</code> to </p>\n\n<pre><code>super();\nsetText(txt);\n</code></pre>\n\n<p><em><strong>Short explanation</strong></em><br>\nAs the stack-trace indicates, calling <code>super(txt)</code> (with a String argument) calls at some point <code>AbstractButton</code>'s <code>init</code> method:</p>\n\n<pre><code>protected void init(String text, Icon icon) {\n    if (text != null) {\n        setText(text);\n    }\n    ...\n</code></pre>\n\n<p>As you can see, <strong>IF</strong> the <code>text</code> argument is not <code>null</code>, method <code>setText</code> is called. But your overriden <code>setText</code> method requires the Font to be set (which at this point isn't).</p>\n\n<p>So, calling the no-argument constructor first (<code>super()</code>), causes the <code>text</code> argument passed to <code>init</code> to be <code>null</code>, thus avoiding the problem. Only <strong>after</strong> <code>super()</code> returns (at which point the Font has been properly set), is it safe to call <code>setText(txt)</code> explicitely and everything works fine.</p>\n\n<p>(Long story short <strong>plus</strong> happy ending !)</p>\n"}],"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1824,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":16739014,"answer_count":2,"score":0,"last_activity_date":1642636894,"creation_date":1369409980,"question_id":16738745,"body_markdown":"I wanted to create button which would auto resize while the `string` inside of it cannot be displayed (it is too big).\r\n\r\nI got something like that:\r\n\r\n    public class ResizingButton extends JButton {\r\n    \tpublic ResizingButton(String txt) {\r\n    \t\tsuper(txt);\r\n    \t\taddActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n    \t\t\t\tsetText(JOptionPane.showInputDialog(&quot;Text&quot;));\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setText(String arg0) {\r\n    \t\tsuper.setText(arg0);\r\n    \t\tFontMetrics metrics = getFontMetrics(getFont());//nullPointerException !!!\r\n    \t\tint width = metrics.stringWidth(getText());\r\n    \t\tint height = metrics.getHeight();\r\n    \t\tDimension newDimension = new Dimension(width + 40, height + 10);\r\n    \t\tsetPreferredSize(newDimension);\r\n    \t\tsetBounds(new Rectangle(getLocation(), getPreferredSize()));\r\n    \t}\r\n    }\r\n\r\nI wanted to use that class:\r\n\r\n    public class Zadanie2 extends JFrame {\r\n    \tpublic Zadanie2() {\r\n    \t\tcreateGUI();\r\n    \t}\r\n    \r\n    \tprivate void createGUI() {\r\n    \t\tsetSize(200, 80);\r\n    \t\t//setLayout(new GridLayout());\r\n    \t\tadd(new ResizingButton(&quot;tekst&quot;));\r\n    \t\tsetVisible(true);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \tnew Zadanie2();\r\n    \t}\r\n    }\r\n\r\nBut I am getting null pointer exception in `setText()` method? Why is that happening, and how can I repair it? **`getFont()` returns null and then `getFontMetrics(null)` throws exception.**\r\n\r\nStack trace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.util.concurrent.ConcurrentHashMap.hash(Unknown Source)\r\n    \tat java.util.concurrent.ConcurrentHashMap.get(Unknown Source)\r\n    \tat sun.font.FontDesignMetrics.getMetrics(Unknown Source)\r\n    \tat sun.swing.SwingUtilities2.getFontMetrics(Unknown Source)\r\n    \tat javax.swing.JComponent.getFontMetrics(Unknown Source)\r\n    \tat ResizingButton.setText(ResizingButton.java:26)\r\n    \tat javax.swing.AbstractButton.init(Unknown Source)\r\n    \tat javax.swing.JButton.&lt;init&gt;(Unknown Source)\r\n    \tat javax.swing.JButton.&lt;init&gt;(Unknown Source)\r\n    \tat ResizingButton.&lt;init&gt;(ResizingButton.java:13)\r\n    \tat Zadanie2.createGUI(Zadanie2.java:14)\r\n    \tat Zadanie2.&lt;init&gt;(Zadanie2.java:8)\r\n    \tat Zadanie2.main(Zadanie2.java:20)\r\n","title":"NullPointerException while getting font from my JButton","body":"<p>I wanted to create button which would auto resize while the <code>string</code> inside of it cannot be displayed (it is too big).</p>\n<p>I got something like that:</p>\n<pre><code>public class ResizingButton extends JButton {\n    public ResizingButton(String txt) {\n        super(txt);\n        addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                setText(JOptionPane.showInputDialog(&quot;Text&quot;));\n            }\n        });\n    }\n\n    @Override\n    public void setText(String arg0) {\n        super.setText(arg0);\n        FontMetrics metrics = getFontMetrics(getFont());//nullPointerException !!!\n        int width = metrics.stringWidth(getText());\n        int height = metrics.getHeight();\n        Dimension newDimension = new Dimension(width + 40, height + 10);\n        setPreferredSize(newDimension);\n        setBounds(new Rectangle(getLocation(), getPreferredSize()));\n    }\n}\n</code></pre>\n<p>I wanted to use that class:</p>\n<pre><code>public class Zadanie2 extends JFrame {\n    public Zadanie2() {\n        createGUI();\n    }\n\n    private void createGUI() {\n        setSize(200, 80);\n        //setLayout(new GridLayout());\n        add(new ResizingButton(&quot;tekst&quot;));\n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n    new Zadanie2();\n    }\n}\n</code></pre>\n<p>But I am getting null pointer exception in <code>setText()</code> method? Why is that happening, and how can I repair it? <strong><code>getFont()</code> returns null and then <code>getFontMetrics(null)</code> throws exception.</strong></p>\n<p>Stack trace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.util.concurrent.ConcurrentHashMap.hash(Unknown Source)\n    at java.util.concurrent.ConcurrentHashMap.get(Unknown Source)\n    at sun.font.FontDesignMetrics.getMetrics(Unknown Source)\n    at sun.swing.SwingUtilities2.getFontMetrics(Unknown Source)\n    at javax.swing.JComponent.getFontMetrics(Unknown Source)\n    at ResizingButton.setText(ResizingButton.java:26)\n    at javax.swing.AbstractButton.init(Unknown Source)\n    at javax.swing.JButton.&lt;init&gt;(Unknown Source)\n    at javax.swing.JButton.&lt;init&gt;(Unknown Source)\n    at ResizingButton.&lt;init&gt;(ResizingButton.java:13)\n    at Zadanie2.createGUI(Zadanie2.java:14)\n    at Zadanie2.&lt;init&gt;(Zadanie2.java:8)\n    at Zadanie2.main(Zadanie2.java:20)\n</code></pre>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1642635238,"post_id":70778752,"comment_id":125126928,"body_markdown":"Please update your question to show us what you have tried so far, and which part you were stuck on. Opening files? Reading lines? Getting part of a line? Storing it as an array?","body":"Please update your question to show us what you have tried so far, and which part you were stuck on. Opening files? Reading lines? Getting part of a line? Storing it as an array?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643386609,"post_id":70778752,"comment_id":125333985,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642636030,"creation_date":1642633626,"answer_id":70778891,"question_id":70778752,"body_markdown":"Target file **&quot;test.txt&quot;** must reside in your project folder.\r\n\r\n    public static void main(String[] args) {\r\n        int[] result = getArrayFromFile(&quot;test.txt&quot;);\r\n        System.out.println(Arrays.toString(result));\r\n    }\r\n\r\n    private static int[] getArrayFromFile(String fileName) {\r\n        try(Stream&lt;String&gt; stream = createStreamFromFile(fileName)) {\r\n            return createArray(stream);\r\n        }\r\n        catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return new int[0];\r\n    }\r\n    \r\n    private static int[] createArray(Stream&lt;String&gt; stream) {\r\n        return stream.filter(line -&gt; line.matches(&quot;.*\\\\d+.*&quot;))\r\n                .map(line -&gt; line.split(&quot;\\\\D&quot;)[0])\r\n                .mapToInt(Integer::parseInt)\r\n                .toArray();\r\n    }\r\n\r\n    private static Stream&lt;String&gt; createStreamFromFile(String fileName) throws IOException {\r\n        return Files.lines(Path.of(fileName));\r\n    }\r\n\r\n\r\n**OUTPUT**:\r\n\r\n    [1, 5, 9, 3]\r\n\r\n\r\nPlease tell us does this solution satisfy your requirements?\r\n\r\nAnd if you have any questions fill free to ask.","title":"How to add the first number of every row in a txt file to an array in Java","body":"<p>Target file <strong>&quot;test.txt&quot;</strong> must reside in your project folder.</p>\n<pre><code>public static void main(String[] args) {\n    int[] result = getArrayFromFile(&quot;test.txt&quot;);\n    System.out.println(Arrays.toString(result));\n}\n\nprivate static int[] getArrayFromFile(String fileName) {\n    try(Stream&lt;String&gt; stream = createStreamFromFile(fileName)) {\n        return createArray(stream);\n    }\n    catch(IOException e) {\n        e.printStackTrace();\n    }\n    return new int[0];\n}\n\nprivate static int[] createArray(Stream&lt;String&gt; stream) {\n    return stream.filter(line -&gt; line.matches(&quot;.*\\\\d+.*&quot;))\n            .map(line -&gt; line.split(&quot;\\\\D&quot;)[0])\n            .mapToInt(Integer::parseInt)\n            .toArray();\n}\n\nprivate static Stream&lt;String&gt; createStreamFromFile(String fileName) throws IOException {\n    return Files.lines(Path.of(fileName));\n}\n</code></pre>\n<p><strong>OUTPUT</strong>:</p>\n<pre><code>[1, 5, 9, 3]\n</code></pre>\n<p>Please tell us does this solution satisfy your requirements?</p>\n<p>And if you have any questions fill free to ask.</p>\n"}],"owner":{"account_id":23992930,"reputation":1,"user_id":17978808,"display_name":"Java_Junior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642636030,"creation_date":1642632655,"question_id":70778752,"body_markdown":"I have a txt file that looks like below:\r\n\r\n1 2 3 4\r\n\r\n5 6 7 8\r\n\r\n9 0 1 2 \r\n\r\n3 4 5 6\r\n\r\n\r\nHow can I add the first number of every row to an array meaning the array should contain: 1 5 9 3 and that is it.","title":"How to add the first number of every row in a txt file to an array in Java","body":"<p>I have a txt file that looks like below:</p>\n<p>1 2 3 4</p>\n<p>5 6 7 8</p>\n<p>9 0 1 2</p>\n<p>3 4 5 6</p>\n<p>How can I add the first number of every row to an array meaning the array should contain: 1 5 9 3 and that is it.</p>\n"},{"tags":["java","xsd","jaxb"],"answers":[{"tags":[],"owner":{"account_id":12519889,"reputation":31,"user_id":9111638,"display_name":"search fast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513985749,"creation_date":1513985749,"answer_id":47948497,"question_id":44896922,"body_markdown":"As in the original post issue, I also got the same issue while running in different java version.\r\nI added following dependency and my issue resolved\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"JAXB unmarshall fields are null after updating Java from 1.8.0_45 to 1.8.0_131","body":"<p>As in the original post issue, I also got the same issue while running in different java version.\nI added following dependency and my issue resolved</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23993286,"reputation":1,"user_id":17979104,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642636027,"creation_date":1642636027,"answer_id":70779191,"question_id":44896922,"body_markdown":"Adding -npa to the plugin args will skip the generation of the package-info.class and thus avoiding strictness of newer Java versions. Add this to the plugin configuration.\r\n```&lt;plugin&gt;\r\n  &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n  ...\r\n  &lt;configuration&gt;\r\n    ...\r\n    &lt;args&gt;-npa&lt;/args&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;```","title":"JAXB unmarshall fields are null after updating Java from 1.8.0_45 to 1.8.0_131","body":"<p>Adding -npa to the plugin args will skip the generation of the package-info.class and thus avoiding strictness of newer Java versions. Add this to the plugin configuration.</p>\n<pre><code>  &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n  ...\n  &lt;configuration&gt;\n    ...\n    &lt;args&gt;-npa&lt;/args&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;```\n</code></pre>\n"}],"owner":{"account_id":8580487,"reputation":31,"user_id":6428275,"display_name":"MG_IP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642636027,"creation_date":1499141587,"question_id":44896922,"body_markdown":"I know this is almost identical to many other posts e.g. https://stackoverflow.com/questions/41850384/jaxb-doesnt-unmarshall-after-updating-java-from-1-8-0-77-to-1-8-0-121\r\nbut none of those answers or comments solved my issue.\r\n\r\n(I&#39;ve also checked the samples here https://github.com/KlausGroenbaek/jaxbissue and read through this blog http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html )\r\n\r\nI upgraded my Java 8 and now a number of tests using a sample XML file are failing.\r\n\r\nThe unmarshall returns an object with all fields null.\r\n\r\nI don&#39;t want a solution that requires modifying package-info or ObjectFactory as they are automatically regenerated and will overwrite any changes made.\r\n\r\nI&#39;ve heard elsewhere that a Maven option \r\n\r\n    &lt;strict&gt;false&lt;/strict&gt;\r\n\r\n \r\nin the POM should help but it did not.\r\n\r\nI&#39;m not sure if it is a relevant difference, but my schema xsd is defined in an external project.\r\n\r\nEDMS.xsd (in Eden Suite project)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsd:schema xmlns:tns=&quot;urn:www.edenportal.com.au:exchange:edms&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                targetNamespace=&quot;urn:www.edenportal.com.au:exchange:edms&quot;\r\n                elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.0&quot;&gt;\r\n    \r\n      &lt;xsd:element name=&quot;edmsExchangeData&quot; type=&quot;tns:edmsExchange&quot; /&gt;\r\n    \r\n      &lt;xsd:complexType name=&quot;edmsExchange&quot;&gt;\r\n        &lt;xsd:sequence&gt;\r\n          &lt;xsd:element name=&quot;received&quot; type=&quot;xsd:dateTime&quot; /&gt;\r\n          &lt;xsd:element name=&quot;sourceSystem&quot; type=&quot;xsd:string&quot; nillable=&quot;true&quot; /&gt;\r\n          &lt;xsd:element name=&quot;rawActivityDataList&quot; type=&quot;tns:ActivityData&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;unbounded&quot; /&gt;\r\n        &lt;/xsd:sequence&gt;\r\n      &lt;/xsd:complexType&gt;\r\n    \r\n      &lt;xsd:complexType name=&quot;ActivityData&quot;&gt;\r\n        &lt;xsd:sequence&gt;\r\n          &lt;xsd:element name=&quot;networkItemId&quot; type=&quot;xsd:long&quot; /&gt;\r\n          &lt;xsd:element name=&quot;description&quot; type=&quot;xsd:string&quot; /&gt;\r\n          &lt;xsd:element name=&quot;dateFrom&quot; type=&quot;xsd:dateTime&quot; /&gt;\r\n          &lt;xsd:element name=&quot;dateTo&quot; type=&quot;xsd:dateTime&quot; /&gt;\r\n          &lt;xsd:element name=&quot;originalDataSourceFormat&quot; type=&quot;tns:OriginalDataSource&quot; /&gt;\r\n          &lt;xsd:element name=&quot;rawActivityDataItems&quot;&gt;\r\n            &lt;xsd:complexType&gt;\r\n              &lt;xsd:sequence&gt;\r\n                &lt;xsd:element name=&quot;rawActivityDataItem&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n                  &lt;xsd:complexType&gt;\r\n                    &lt;xsd:sequence&gt;\r\n                      &lt;xsd:element name=&quot;key&quot; type=&quot;xsd:string&quot; /&gt;\r\n                      &lt;xsd:element name=&quot;value&quot; type=&quot;xsd:string&quot; /&gt;\r\n                    &lt;/xsd:sequence&gt;\r\n                  &lt;/xsd:complexType&gt;\r\n                &lt;/xsd:element&gt;\r\n              &lt;/xsd:sequence&gt;\r\n            &lt;/xsd:complexType&gt;\r\n          &lt;/xsd:element&gt;\r\n        &lt;/xsd:sequence&gt;\r\n      &lt;/xsd:complexType&gt;\r\n    \r\n      &lt;xsd:simpleType name=&quot;OriginalDataSource&quot;&gt;\r\n        &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n          &lt;xsd:enumeration value=&quot;FuelBilling&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;ElectricityBilling&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;GasBilling&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;WaterBilling&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;ElectricityInterval&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;WasteBilling&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;Paper&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;AirTravel&quot; /&gt;\r\n          &lt;xsd:enumeration value=&quot;Other&quot; /&gt;\r\n        &lt;/xsd:restriction&gt;\r\n      &lt;/xsd:simpleType&gt;\r\n    \r\n    &lt;/xsd:schema&gt;\r\n\r\nThe unmarshaller code (in Eden Node project):\r\n\r\n        private JAXBContext edmsExchangeJaxbContext;\r\n    \r\n        public EdmsExchangeUnmarshaller() {\r\n            try {\r\n                edmsExchangeJaxbContext = JAXBContext.newInstance(&quot;au.com.edenportal.exchange.edms&quot;);\r\n    \r\n    ...\r\n    \r\n        public EdmsExchange unmarshallEdmsMessage(MessageBody messageBody) {\r\n    \r\n    ...\r\n            Reader inputReader = null;\r\n    \r\n            if (messageBody.getBinaryContent() != null) {\r\n                LOG.debug(&quot;Reading MessageBody as binary... &quot;);\r\n                inputReader = new InputStreamReader(new ByteArrayInputStream(messageBody.getBinaryContent().getValue()));\r\n            } else if (messageBody.getTextContent() != null) {\r\n                LOG.debug(&quot;Reading MessageBody as text... &quot;);\r\n                inputReader = new StringReader(messageBody.getTextContent());\r\n            }\r\n    \r\n            Object unmarshalledObject = null;\r\n            try {\r\n    \r\n                Unmarshaller unmarshaller = edmsExchangeJaxbContext.createUnmarshaller();\r\n                unmarshalledObject = unmarshaller.unmarshal(inputReader);\r\n                inputReader.close();\r\n            } catch (JAXBException e) {\r\n                throw new ExchangeUnmarshallingException(&quot;Could not unmarshall payload&quot;, e);\r\n            } catch (IOException io) {\r\n                throw new ExchangeUnmarshallingException(&quot;IO error when parsing&quot;, io);\r\n            }\r\n    \r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            EdmsExchange edmsExchange = ((JAXBElement&lt;EdmsExchange&gt;) unmarshalledObject).getValue();\r\n            return edmsExchange;\r\n    \r\n        }\r\n\r\n\r\nThe original XML sample test file (in Eden Node project) that worked in 1.8.0_45 but not now in 1.8.0_131:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;edmsExchangeData xmlns=&quot;urn:www.edenportal.com.au:exchange:edms&quot;&gt;\r\n        &lt;sourceSystem xsi:nil=&quot;true&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; /&gt;\r\n        &lt;rawActivityDataList&gt;\r\n            &lt;description&gt;Fuel usage&lt;/description&gt;\r\n            &lt;dateFrom&gt;2011-02-15T00:00:00.000+10:00&lt;/dateFrom&gt;\r\n            &lt;dateTo&gt;2011-02-15T00:00:00.000+10:00&lt;/dateTo&gt;\r\n            &lt;originalDataSourceFormat&gt;FuelBilling&lt;/originalDataSourceFormat&gt;\r\n            &lt;rawActivityDataItems&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;id&lt;/key&gt;\r\n                    &lt;value&gt;1924&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.id&lt;/key&gt;\r\n                    &lt;value&gt;1503&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.node&lt;/key&gt;\r\n                    &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.cardNumber&lt;/key&gt;\r\n                    &lt;value&gt;7307992&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.supplierName&lt;/key&gt;\r\n                    &lt;value&gt;au.com.shell&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;customer.customerName&lt;/key&gt;\r\n                    &lt;value&gt;POLICE FORCE VICTORIA&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;customer.customerIdentifier&lt;/key&gt;\r\n                    &lt;value&gt;573537&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.fuelCost&lt;/key&gt;\r\n                    &lt;value&gt;61.84&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.quantityLitres&lt;/key&gt;\r\n                    &lt;value&gt;51.54&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.pumpPricePerLitre&lt;/key&gt;\r\n                    &lt;value&gt;1.33&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.productType&lt;/key&gt;\r\n                    &lt;value&gt;GASOLINE&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.unitPricePerLitre&lt;/key&gt;\r\n                    &lt;value&gt;1.32&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.fuelCostInclGST&lt;/key&gt;\r\n                    &lt;value&gt;68.02&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.totalCostIncTax&lt;/key&gt;\r\n                    &lt;value&gt;68.02&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.totalTax&lt;/key&gt;\r\n                    &lt;value&gt;6.18&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.invoiceNumber&lt;/key&gt;\r\n                    &lt;value&gt;549&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.transactionDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-02-15 00:00 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.totalCostExTax&lt;/key&gt;\r\n                    &lt;value&gt;61.84&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.invoiceDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-02-15 00:00 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.taxRatePercent&lt;/key&gt;\r\n                    &lt;value&gt;0.1&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;vehicle.odometer&lt;/key&gt;\r\n                    &lt;value&gt;28694&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;vehicle.regoState&lt;/key&gt;\r\n                    &lt;value&gt;AUS&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;vehicle.rego&lt;/key&gt;\r\n                    &lt;value&gt;MCE721H&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.receivedDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.insertedDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.nodeName&lt;/key&gt;\r\n                    &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.version&lt;/key&gt;\r\n                    &lt;value&gt;0&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.currencyCode&lt;/key&gt;\r\n                    &lt;value&gt;AUD&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.correlationId&lt;/key&gt;\r\n                    &lt;value&gt;e23014f7-2290-44f0-94ff-99a5df6a148e&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.id&lt;/key&gt;\r\n                    &lt;value&gt;5&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;supplier.id&lt;/key&gt;\r\n                    &lt;value&gt;5&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;supplier.name&lt;/key&gt;\r\n                    &lt;value&gt;au.com.shell&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n            &lt;/rawActivityDataItems&gt;\r\n        &lt;/rawActivityDataList&gt;\r\n        &lt;rawActivityDataList&gt;\r\n            &lt;description&gt;Fuel usage&lt;/description&gt;\r\n            &lt;dateFrom&gt;2011-02-08T00:00:00.000+10:00&lt;/dateFrom&gt;\r\n            &lt;dateTo&gt;2011-02-08T00:00:00.000+10:00&lt;/dateTo&gt;\r\n            &lt;originalDataSourceFormat&gt;FuelBilling&lt;/originalDataSourceFormat&gt;\r\n            &lt;rawActivityDataItems&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;id&lt;/key&gt;\r\n                    &lt;value&gt;2483&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.id&lt;/key&gt;\r\n                    &lt;value&gt;400&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.node&lt;/key&gt;\r\n                    &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.cardNumber&lt;/key&gt;\r\n                    &lt;value&gt;7744906&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelCard.supplierName&lt;/key&gt;\r\n                    &lt;value&gt;au.com.shell&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;customer.customerName&lt;/key&gt;\r\n                    &lt;value&gt;POLICE FORCE VICTORIA&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;customer.customerIdentifier&lt;/key&gt;\r\n                    &lt;value&gt;573537&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.fuelCost&lt;/key&gt;\r\n                    &lt;value&gt;27.7&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.quantityLitres&lt;/key&gt;\r\n                    &lt;value&gt;23.41&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.pumpPricePerLitre&lt;/key&gt;\r\n                    &lt;value&gt;1.39&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.productType&lt;/key&gt;\r\n                    &lt;value&gt;GASOLINE&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.unitPricePerLitre&lt;/key&gt;\r\n                    &lt;value&gt;1.3&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;fuelDetail.fuelCostInclGST&lt;/key&gt;\r\n                    &lt;value&gt;30.47&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.totalCostIncTax&lt;/key&gt;\r\n                    &lt;value&gt;30.47&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.totalTax&lt;/key&gt;\r\n                    &lt;value&gt;2.77&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.invoiceNumber&lt;/key&gt;\r\n                    &lt;value&gt;549&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.transactionDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-02-08 00:00 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.totalCostExTax&lt;/key&gt;\r\n                    &lt;value&gt;27.7&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.invoiceDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-02-15 00:00 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;invoice.taxRatePercent&lt;/key&gt;\r\n                    &lt;value&gt;0.1&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;vehicle.odometer&lt;/key&gt;\r\n                    &lt;value&gt;22627&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;vehicle.regoState&lt;/key&gt;\r\n                    &lt;value&gt;AUS&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;vehicle.rego&lt;/key&gt;\r\n                    &lt;value&gt;XVV759&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.receivedDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.insertedDate&lt;/key&gt;\r\n                    &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.nodeName&lt;/key&gt;\r\n                    &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.version&lt;/key&gt;\r\n                    &lt;value&gt;0&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.currencyCode&lt;/key&gt;\r\n                    &lt;value&gt;AUD&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.correlationId&lt;/key&gt;\r\n                    &lt;value&gt;e23014f7-2290-44f0-94ff-99a5df6a148e&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;statement.id&lt;/key&gt;\r\n                    &lt;value&gt;5&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;supplier.id&lt;/key&gt;\r\n                    &lt;value&gt;5&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n                &lt;rawActivityDataItem&gt;\r\n                    &lt;key&gt;supplier.name&lt;/key&gt;\r\n                    &lt;value&gt;au.com.shell&lt;/value&gt;\r\n                &lt;/rawActivityDataItem&gt;\r\n            &lt;/rawActivityDataItems&gt;\r\n        &lt;/rawActivityDataList&gt;\r\n    &lt;/edmsExchangeData&gt;\r\n\r\nThe XML sample test file (in Eden Node project) - modified version after StackOverflow reading - that still doesn&#39;t work...:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;e:edmsExchangeData xmlns:e=&quot;urn:www.edenportal.com.au:exchange:edms&quot;\r\n                      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                      xsi:schemaLocation=&quot;urn:www.edenportal.com.au:exchange:edms EdmsExchange/Edms.xsd &quot;&gt;\r\n        &lt;e:received&gt;2011-04-13T00:00:00.000+10:00&lt;/e:received&gt;\r\n        &lt;e:sourceSystem xsi:nil=&quot;true&quot;/&gt;\r\n        &lt;e:rawActivityDataList&gt;\r\n            &lt;e:networkItemId&gt;1000000&lt;/e:networkItemId&gt;\r\n            &lt;e:description&gt;Fuel usage&lt;/e:description&gt;\r\n            &lt;e:dateFrom&gt;2011-02-15T00:00:00.000+10:00&lt;/e:dateFrom&gt;\r\n            &lt;e:dateTo&gt;2011-02-15T00:00:00.000+10:00&lt;/e:dateTo&gt;\r\n            &lt;e:originalDataSourceFormat&gt;FuelBilling&lt;/e:originalDataSourceFormat&gt;\r\n            &lt;e:rawActivityDataItems&gt;\r\n                &lt;e:rawActivityDataItem&gt;\r\n                    &lt;e:key&gt;id&lt;/e:key&gt;\r\n                    &lt;e:value&gt;1924&lt;/e:value&gt;\r\n                &lt;/e:rawActivityDataItem&gt;\r\n                &lt;e:rawActivityDataItem&gt;\r\n                    &lt;e:key&gt;fuelCard.id&lt;/e:key&gt;\r\n                    &lt;e:value&gt;1503&lt;/e:value&gt;\r\n                &lt;/e:rawActivityDataItem&gt;\r\n    ...\r\n                &lt;e:rawActivityDataItem&gt;\r\n                    &lt;e:key&gt;supplier.name&lt;/e:key&gt;\r\n                    &lt;e:value&gt;au.com.shell&lt;/e:value&gt;\r\n                &lt;/e:rawActivityDataItem&gt;\r\n            &lt;/e:rawActivityDataItems&gt;\r\n        &lt;/e:rawActivityDataList&gt;\r\n        &lt;e:rawActivityDataList&gt;\r\n            &lt;e:networkItemId&gt;1000001&lt;/e:networkItemId&gt;\r\n            &lt;e:description&gt;Fuel usage&lt;/e:description&gt;\r\n            &lt;e:dateFrom&gt;2011-02-08T00:00:00.000+10:00&lt;/e:dateFrom&gt;\r\n            &lt;e:dateTo&gt;2011-02-08T00:00:00.000+10:00&lt;/e:dateTo&gt;\r\n            &lt;e:originalDataSourceFormat&gt;FuelBilling&lt;/e:originalDataSourceFormat&gt;\r\n            &lt;e:rawActivityDataItems&gt;\r\n                &lt;e:rawActivityDataItem&gt;\r\n                    &lt;e:key&gt;id&lt;/e:key&gt;\r\n                    &lt;e:value&gt;2483&lt;/e:value&gt;\r\n                &lt;/e:rawActivityDataItem&gt;\r\n                &lt;e:rawActivityDataItem&gt;\r\n                    &lt;e:key&gt;fuelCard.id&lt;/e:key&gt;\r\n                    &lt;e:value&gt;400&lt;/e:value&gt;\r\n                &lt;/e:rawActivityDataItem&gt;\r\n    ...\r\n\r\n                &lt;e:rawActivityDataItem&gt;\r\n                    &lt;e:key&gt;supplier.name&lt;/e:key&gt;\r\n                    &lt;e:value&gt;au.com.shell&lt;/e:value&gt;\r\n                &lt;/e:rawActivityDataItem&gt;\r\n            &lt;/e:rawActivityDataItems&gt;\r\n        &lt;/e:rawActivityDataList&gt;\r\n    &lt;/e:edmsExchangeData&gt;\r\n\r\n\r\n\r\n\r\nCan anyone please help with other possible solutions? Thanks.\r\n\r\n\r\n\r\n\r\n\r\n","title":"JAXB unmarshall fields are null after updating Java from 1.8.0_45 to 1.8.0_131","body":"<p>I know this is almost identical to many other posts e.g. <a href=\"https://stackoverflow.com/questions/41850384/jaxb-doesnt-unmarshall-after-updating-java-from-1-8-0-77-to-1-8-0-121\">JAXB doesn&#39;t unmarshall after updating java from 1.8.0_77 to 1.8.0_121</a>\nbut none of those answers or comments solved my issue.</p>\n\n<p>(I've also checked the samples here <a href=\"https://github.com/KlausGroenbaek/jaxbissue\" rel=\"nofollow noreferrer\">https://github.com/KlausGroenbaek/jaxbissue</a> and read through this blog <a href=\"http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html</a> )</p>\n\n<p>I upgraded my Java 8 and now a number of tests using a sample XML file are failing.</p>\n\n<p>The unmarshall returns an object with all fields null.</p>\n\n<p>I don't want a solution that requires modifying package-info or ObjectFactory as they are automatically regenerated and will overwrite any changes made.</p>\n\n<p>I've heard elsewhere that a Maven option </p>\n\n<pre><code>&lt;strict&gt;false&lt;/strict&gt;\n</code></pre>\n\n<p>in the POM should help but it did not.</p>\n\n<p>I'm not sure if it is a relevant difference, but my schema xsd is defined in an external project.</p>\n\n<p>EDMS.xsd (in Eden Suite project)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsd:schema xmlns:tns=\"urn:www.edenportal.com.au:exchange:edms\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n            targetNamespace=\"urn:www.edenportal.com.au:exchange:edms\"\n            elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\" version=\"1.0\"&gt;\n\n  &lt;xsd:element name=\"edmsExchangeData\" type=\"tns:edmsExchange\" /&gt;\n\n  &lt;xsd:complexType name=\"edmsExchange\"&gt;\n    &lt;xsd:sequence&gt;\n      &lt;xsd:element name=\"received\" type=\"xsd:dateTime\" /&gt;\n      &lt;xsd:element name=\"sourceSystem\" type=\"xsd:string\" nillable=\"true\" /&gt;\n      &lt;xsd:element name=\"rawActivityDataList\" type=\"tns:ActivityData\" minOccurs=\"1\" maxOccurs=\"unbounded\" /&gt;\n    &lt;/xsd:sequence&gt;\n  &lt;/xsd:complexType&gt;\n\n  &lt;xsd:complexType name=\"ActivityData\"&gt;\n    &lt;xsd:sequence&gt;\n      &lt;xsd:element name=\"networkItemId\" type=\"xsd:long\" /&gt;\n      &lt;xsd:element name=\"description\" type=\"xsd:string\" /&gt;\n      &lt;xsd:element name=\"dateFrom\" type=\"xsd:dateTime\" /&gt;\n      &lt;xsd:element name=\"dateTo\" type=\"xsd:dateTime\" /&gt;\n      &lt;xsd:element name=\"originalDataSourceFormat\" type=\"tns:OriginalDataSource\" /&gt;\n      &lt;xsd:element name=\"rawActivityDataItems\"&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=\"rawActivityDataItem\" minOccurs=\"1\" maxOccurs=\"unbounded\"&gt;\n              &lt;xsd:complexType&gt;\n                &lt;xsd:sequence&gt;\n                  &lt;xsd:element name=\"key\" type=\"xsd:string\" /&gt;\n                  &lt;xsd:element name=\"value\" type=\"xsd:string\" /&gt;\n                &lt;/xsd:sequence&gt;\n              &lt;/xsd:complexType&gt;\n            &lt;/xsd:element&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n    &lt;/xsd:sequence&gt;\n  &lt;/xsd:complexType&gt;\n\n  &lt;xsd:simpleType name=\"OriginalDataSource\"&gt;\n    &lt;xsd:restriction base=\"xsd:string\"&gt;\n      &lt;xsd:enumeration value=\"FuelBilling\" /&gt;\n      &lt;xsd:enumeration value=\"ElectricityBilling\" /&gt;\n      &lt;xsd:enumeration value=\"GasBilling\" /&gt;\n      &lt;xsd:enumeration value=\"WaterBilling\" /&gt;\n      &lt;xsd:enumeration value=\"ElectricityInterval\" /&gt;\n      &lt;xsd:enumeration value=\"WasteBilling\" /&gt;\n      &lt;xsd:enumeration value=\"Paper\" /&gt;\n      &lt;xsd:enumeration value=\"AirTravel\" /&gt;\n      &lt;xsd:enumeration value=\"Other\" /&gt;\n    &lt;/xsd:restriction&gt;\n  &lt;/xsd:simpleType&gt;\n\n&lt;/xsd:schema&gt;\n</code></pre>\n\n<p>The unmarshaller code (in Eden Node project):</p>\n\n<pre><code>    private JAXBContext edmsExchangeJaxbContext;\n\n    public EdmsExchangeUnmarshaller() {\n        try {\n            edmsExchangeJaxbContext = JAXBContext.newInstance(\"au.com.edenportal.exchange.edms\");\n\n...\n\n    public EdmsExchange unmarshallEdmsMessage(MessageBody messageBody) {\n\n...\n        Reader inputReader = null;\n\n        if (messageBody.getBinaryContent() != null) {\n            LOG.debug(\"Reading MessageBody as binary... \");\n            inputReader = new InputStreamReader(new ByteArrayInputStream(messageBody.getBinaryContent().getValue()));\n        } else if (messageBody.getTextContent() != null) {\n            LOG.debug(\"Reading MessageBody as text... \");\n            inputReader = new StringReader(messageBody.getTextContent());\n        }\n\n        Object unmarshalledObject = null;\n        try {\n\n            Unmarshaller unmarshaller = edmsExchangeJaxbContext.createUnmarshaller();\n            unmarshalledObject = unmarshaller.unmarshal(inputReader);\n            inputReader.close();\n        } catch (JAXBException e) {\n            throw new ExchangeUnmarshallingException(\"Could not unmarshall payload\", e);\n        } catch (IOException io) {\n            throw new ExchangeUnmarshallingException(\"IO error when parsing\", io);\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        EdmsExchange edmsExchange = ((JAXBElement&lt;EdmsExchange&gt;) unmarshalledObject).getValue();\n        return edmsExchange;\n\n    }\n</code></pre>\n\n<p>The original XML sample test file (in Eden Node project) that worked in 1.8.0_45 but not now in 1.8.0_131:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;edmsExchangeData xmlns=\"urn:www.edenportal.com.au:exchange:edms\"&gt;\n    &lt;sourceSystem xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" /&gt;\n    &lt;rawActivityDataList&gt;\n        &lt;description&gt;Fuel usage&lt;/description&gt;\n        &lt;dateFrom&gt;2011-02-15T00:00:00.000+10:00&lt;/dateFrom&gt;\n        &lt;dateTo&gt;2011-02-15T00:00:00.000+10:00&lt;/dateTo&gt;\n        &lt;originalDataSourceFormat&gt;FuelBilling&lt;/originalDataSourceFormat&gt;\n        &lt;rawActivityDataItems&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;id&lt;/key&gt;\n                &lt;value&gt;1924&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.id&lt;/key&gt;\n                &lt;value&gt;1503&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.node&lt;/key&gt;\n                &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.cardNumber&lt;/key&gt;\n                &lt;value&gt;7307992&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.supplierName&lt;/key&gt;\n                &lt;value&gt;au.com.shell&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;customer.customerName&lt;/key&gt;\n                &lt;value&gt;POLICE FORCE VICTORIA&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;customer.customerIdentifier&lt;/key&gt;\n                &lt;value&gt;573537&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.fuelCost&lt;/key&gt;\n                &lt;value&gt;61.84&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.quantityLitres&lt;/key&gt;\n                &lt;value&gt;51.54&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.pumpPricePerLitre&lt;/key&gt;\n                &lt;value&gt;1.33&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.productType&lt;/key&gt;\n                &lt;value&gt;GASOLINE&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.unitPricePerLitre&lt;/key&gt;\n                &lt;value&gt;1.32&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.fuelCostInclGST&lt;/key&gt;\n                &lt;value&gt;68.02&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.totalCostIncTax&lt;/key&gt;\n                &lt;value&gt;68.02&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.totalTax&lt;/key&gt;\n                &lt;value&gt;6.18&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.invoiceNumber&lt;/key&gt;\n                &lt;value&gt;549&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.transactionDate&lt;/key&gt;\n                &lt;value&gt;2011-02-15 00:00 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.totalCostExTax&lt;/key&gt;\n                &lt;value&gt;61.84&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.invoiceDate&lt;/key&gt;\n                &lt;value&gt;2011-02-15 00:00 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.taxRatePercent&lt;/key&gt;\n                &lt;value&gt;0.1&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;vehicle.odometer&lt;/key&gt;\n                &lt;value&gt;28694&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;vehicle.regoState&lt;/key&gt;\n                &lt;value&gt;AUS&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;vehicle.rego&lt;/key&gt;\n                &lt;value&gt;MCE721H&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.receivedDate&lt;/key&gt;\n                &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.insertedDate&lt;/key&gt;\n                &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.nodeName&lt;/key&gt;\n                &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.version&lt;/key&gt;\n                &lt;value&gt;0&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.currencyCode&lt;/key&gt;\n                &lt;value&gt;AUD&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.correlationId&lt;/key&gt;\n                &lt;value&gt;e23014f7-2290-44f0-94ff-99a5df6a148e&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.id&lt;/key&gt;\n                &lt;value&gt;5&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;supplier.id&lt;/key&gt;\n                &lt;value&gt;5&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;supplier.name&lt;/key&gt;\n                &lt;value&gt;au.com.shell&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n        &lt;/rawActivityDataItems&gt;\n    &lt;/rawActivityDataList&gt;\n    &lt;rawActivityDataList&gt;\n        &lt;description&gt;Fuel usage&lt;/description&gt;\n        &lt;dateFrom&gt;2011-02-08T00:00:00.000+10:00&lt;/dateFrom&gt;\n        &lt;dateTo&gt;2011-02-08T00:00:00.000+10:00&lt;/dateTo&gt;\n        &lt;originalDataSourceFormat&gt;FuelBilling&lt;/originalDataSourceFormat&gt;\n        &lt;rawActivityDataItems&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;id&lt;/key&gt;\n                &lt;value&gt;2483&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.id&lt;/key&gt;\n                &lt;value&gt;400&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.node&lt;/key&gt;\n                &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.cardNumber&lt;/key&gt;\n                &lt;value&gt;7744906&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelCard.supplierName&lt;/key&gt;\n                &lt;value&gt;au.com.shell&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;customer.customerName&lt;/key&gt;\n                &lt;value&gt;POLICE FORCE VICTORIA&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;customer.customerIdentifier&lt;/key&gt;\n                &lt;value&gt;573537&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.fuelCost&lt;/key&gt;\n                &lt;value&gt;27.7&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.quantityLitres&lt;/key&gt;\n                &lt;value&gt;23.41&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.pumpPricePerLitre&lt;/key&gt;\n                &lt;value&gt;1.39&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.productType&lt;/key&gt;\n                &lt;value&gt;GASOLINE&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.unitPricePerLitre&lt;/key&gt;\n                &lt;value&gt;1.3&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;fuelDetail.fuelCostInclGST&lt;/key&gt;\n                &lt;value&gt;30.47&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.totalCostIncTax&lt;/key&gt;\n                &lt;value&gt;30.47&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.totalTax&lt;/key&gt;\n                &lt;value&gt;2.77&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.invoiceNumber&lt;/key&gt;\n                &lt;value&gt;549&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.transactionDate&lt;/key&gt;\n                &lt;value&gt;2011-02-08 00:00 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.totalCostExTax&lt;/key&gt;\n                &lt;value&gt;27.7&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.invoiceDate&lt;/key&gt;\n                &lt;value&gt;2011-02-15 00:00 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;invoice.taxRatePercent&lt;/key&gt;\n                &lt;value&gt;0.1&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;vehicle.odometer&lt;/key&gt;\n                &lt;value&gt;22627&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;vehicle.regoState&lt;/key&gt;\n                &lt;value&gt;AUS&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;vehicle.rego&lt;/key&gt;\n                &lt;value&gt;XVV759&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.receivedDate&lt;/key&gt;\n                &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.insertedDate&lt;/key&gt;\n                &lt;value&gt;2011-04-13 11:15 +1000&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.nodeName&lt;/key&gt;\n                &lt;value&gt;au.gov.vic.fuel&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.version&lt;/key&gt;\n                &lt;value&gt;0&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.currencyCode&lt;/key&gt;\n                &lt;value&gt;AUD&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.correlationId&lt;/key&gt;\n                &lt;value&gt;e23014f7-2290-44f0-94ff-99a5df6a148e&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;statement.id&lt;/key&gt;\n                &lt;value&gt;5&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;supplier.id&lt;/key&gt;\n                &lt;value&gt;5&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n            &lt;rawActivityDataItem&gt;\n                &lt;key&gt;supplier.name&lt;/key&gt;\n                &lt;value&gt;au.com.shell&lt;/value&gt;\n            &lt;/rawActivityDataItem&gt;\n        &lt;/rawActivityDataItems&gt;\n    &lt;/rawActivityDataList&gt;\n&lt;/edmsExchangeData&gt;\n</code></pre>\n\n<p>The XML sample test file (in Eden Node project) - modified version after StackOverflow reading - that still doesn't work...:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;e:edmsExchangeData xmlns:e=\"urn:www.edenportal.com.au:exchange:edms\"\n                  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                  xsi:schemaLocation=\"urn:www.edenportal.com.au:exchange:edms EdmsExchange/Edms.xsd \"&gt;\n    &lt;e:received&gt;2011-04-13T00:00:00.000+10:00&lt;/e:received&gt;\n    &lt;e:sourceSystem xsi:nil=\"true\"/&gt;\n    &lt;e:rawActivityDataList&gt;\n        &lt;e:networkItemId&gt;1000000&lt;/e:networkItemId&gt;\n        &lt;e:description&gt;Fuel usage&lt;/e:description&gt;\n        &lt;e:dateFrom&gt;2011-02-15T00:00:00.000+10:00&lt;/e:dateFrom&gt;\n        &lt;e:dateTo&gt;2011-02-15T00:00:00.000+10:00&lt;/e:dateTo&gt;\n        &lt;e:originalDataSourceFormat&gt;FuelBilling&lt;/e:originalDataSourceFormat&gt;\n        &lt;e:rawActivityDataItems&gt;\n            &lt;e:rawActivityDataItem&gt;\n                &lt;e:key&gt;id&lt;/e:key&gt;\n                &lt;e:value&gt;1924&lt;/e:value&gt;\n            &lt;/e:rawActivityDataItem&gt;\n            &lt;e:rawActivityDataItem&gt;\n                &lt;e:key&gt;fuelCard.id&lt;/e:key&gt;\n                &lt;e:value&gt;1503&lt;/e:value&gt;\n            &lt;/e:rawActivityDataItem&gt;\n...\n            &lt;e:rawActivityDataItem&gt;\n                &lt;e:key&gt;supplier.name&lt;/e:key&gt;\n                &lt;e:value&gt;au.com.shell&lt;/e:value&gt;\n            &lt;/e:rawActivityDataItem&gt;\n        &lt;/e:rawActivityDataItems&gt;\n    &lt;/e:rawActivityDataList&gt;\n    &lt;e:rawActivityDataList&gt;\n        &lt;e:networkItemId&gt;1000001&lt;/e:networkItemId&gt;\n        &lt;e:description&gt;Fuel usage&lt;/e:description&gt;\n        &lt;e:dateFrom&gt;2011-02-08T00:00:00.000+10:00&lt;/e:dateFrom&gt;\n        &lt;e:dateTo&gt;2011-02-08T00:00:00.000+10:00&lt;/e:dateTo&gt;\n        &lt;e:originalDataSourceFormat&gt;FuelBilling&lt;/e:originalDataSourceFormat&gt;\n        &lt;e:rawActivityDataItems&gt;\n            &lt;e:rawActivityDataItem&gt;\n                &lt;e:key&gt;id&lt;/e:key&gt;\n                &lt;e:value&gt;2483&lt;/e:value&gt;\n            &lt;/e:rawActivityDataItem&gt;\n            &lt;e:rawActivityDataItem&gt;\n                &lt;e:key&gt;fuelCard.id&lt;/e:key&gt;\n                &lt;e:value&gt;400&lt;/e:value&gt;\n            &lt;/e:rawActivityDataItem&gt;\n...\n\n            &lt;e:rawActivityDataItem&gt;\n                &lt;e:key&gt;supplier.name&lt;/e:key&gt;\n                &lt;e:value&gt;au.com.shell&lt;/e:value&gt;\n            &lt;/e:rawActivityDataItem&gt;\n        &lt;/e:rawActivityDataItems&gt;\n    &lt;/e:rawActivityDataList&gt;\n&lt;/e:edmsExchangeData&gt;\n</code></pre>\n\n<p>Can anyone please help with other possible solutions? Thanks.</p>\n"},{"tags":["java","android","stream","media","shoutcast"],"comments":[{"owner":{"account_id":97831,"reputation":27599,"user_id":265167,"accept_rate":75,"display_name":"Yaqub Ahmad"},"score":0,"creation_date":1328937800,"post_id":9235748,"comment_id":11636195,"body_markdown":"http://stackoverflow.com/questions/8681550/android-2-2-mediaplayer-is-working-fine-with-one-shoutcast-url-but-not-with-the\n\nhttp://stackoverflow.com/questions/8671479/android-mediaplayer-works-fine-in-our-custom-audio-streaming-application-up-to-a","body":"<a href=\"http://stackoverflow.com/questions/8681550/android-2-2-mediaplayer-is-working-fine-with-one-shoutcast-url-but-not-with-the\" title=\"android 2 2 mediaplayer is working fine with one shoutcast url but not with the\">stackoverflow.com/questions/8681550/&hellip;</a>  <a href=\"http://stackoverflow.com/questions/8671479/android-mediaplayer-works-fine-in-our-custom-audio-streaming-application-up-to-a\" title=\"android mediaplayer works fine in our custom audio streaming application up to a\">stackoverflow.com/questions/8671479/&hellip;</a>"},{"owner":{"account_id":118548,"reputation":13106,"user_id":309641,"accept_rate":90,"display_name":"David Zorychta"},"score":0,"creation_date":1328993838,"post_id":9235748,"comment_id":11645313,"body_markdown":"@Yaqub The problem persists after having looked at that already and as I mentioned in my question I am using 4.0.3, not a varient of 2.X.","body":"@Yaqub The problem persists after having looked at that already and as I mentioned in my question I am using 4.0.3, not a varient of 2.X."},{"owner":{"account_id":292217,"reputation":1770,"user_id":594853,"accept_rate":89,"display_name":"polerto"},"score":0,"creation_date":1335473819,"post_id":9235748,"comment_id":13319465,"body_markdown":"I am having exactly the same problem.. I tried almost everything to solve it with no success. Have you found any solution to it?","body":"I am having exactly the same problem.. I tried almost everything to solve it with no success. Have you found any solution to it?"}],"answers":[{"tags":[],"owner":{"account_id":1645398,"reputation":1212,"user_id":1517029,"accept_rate":73,"display_name":"The_ehT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348843994,"creation_date":1344221844,"answer_id":11822026,"question_id":9235748,"body_markdown":"I suggest you\r\n\r\n1. test with other URL\r\n2. try removing third line\r\n","title":"Why won&#39;t this Java Android SHOUTcast MediaPlayer app code work?","body":"<p>I suggest you</p>\n\n<ol>\n<li>test with other URL</li>\n<li>try removing third line</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1378880,"reputation":186,"user_id":1312305,"display_name":"itsmewajid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1344505041,"creation_date":1344505041,"answer_id":11880535,"question_id":9235748,"body_markdown":"    MediaPlayer mp;\r\n    @Override\r\n    public void onCreate(){\r\n    mp = new MediaPlayer();\r\n    mp.setOnPreparedListener(this);\r\n    }\r\n    public void prepareplayer(){\r\n    mp.setDataSource(Url);\r\n    mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n    Log.d(TAG, &quot;Preparing..&quot;);\r\n    mp.prepareAsync();\r\n    }\r\n    \r\n    @Override\r\n    public void onPrepared(MediaPlayer mp) {\r\n    // TODO Auto-generated method stub\r\n    Log.d(TAG, &quot;Prepared&quot;);\r\n    mp.play();\r\n    }\r\n\r\n\r\n","title":"Why won&#39;t this Java Android SHOUTcast MediaPlayer app code work?","body":"<pre><code>MediaPlayer mp;\n@Override\npublic void onCreate(){\nmp = new MediaPlayer();\nmp.setOnPreparedListener(this);\n}\npublic void prepareplayer(){\nmp.setDataSource(Url);\nmp.setAudioStreamType(AudioManager.STREAM_MUSIC);\nLog.d(TAG, \"Preparing..\");\nmp.prepareAsync();\n}\n\n@Override\npublic void onPrepared(MediaPlayer mp) {\n// TODO Auto-generated method stub\nLog.d(TAG, \"Prepared\");\nmp.play();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2054036,"reputation":31,"user_id":1832308,"display_name":"Binary Boy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353175465,"creation_date":1353175465,"answer_id":13433256,"question_id":9235748,"body_markdown":"I was having the same issue so I decided simply to try it on a real device (4.0.4).  It worked.  Seems like an emulator issue to me.","title":"Why won&#39;t this Java Android SHOUTcast MediaPlayer app code work?","body":"<p>I was having the same issue so I decided simply to try it on a real device (4.0.4).  It worked.  Seems like an emulator issue to me.</p>\n"},{"tags":[],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624046088,"creation_date":1506422923,"answer_id":46424400,"question_id":9235748,"body_markdown":"I&#39;m using this code for a shout cast stream works okay. Just need to add a controller using a surfaceview in XML.\r\n\r\n    private String shoutcastsource = &quot;Your http:\\\\223.example.80.4003&quot;\r\n\r\n     surfaceView = (SurfaceView)findViewById(R.id.surface);\r\n    surfaceHolder = surfaceView.getHolder();\r\n    surfaceHolder.addCallback(this);\r\n\r\n    surfaceView.setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            if(mediaController != null){\r\n                mediaController.show();\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n\r\n    Toast.makeText(radiostation.this,\r\n            &quot;Media Controls active lets mash it up&quot;, Toast.LENGTH_LONG).show();\r\n    mediaPlayer = new MediaPlayer();\r\n    mediaPlayer.setDisplay(surfaceHolder);\r\n    mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n    mediaPlayer.setOnPreparedListener(this);\r\n    try {\r\n        mediaPlayer.setDataSource(shoutcastsource);\r\n        mediaPlayer.prepare();\r\n\r\n        mediaController = new MediaController(this);\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n        Toast.makeText(radiostation.this,\r\n                &quot;Radio Station off Air or no internet connection!\\n&quot; + e.toString(),\r\n                Toast.LENGTH_LONG).show();\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder,\r\n                           int format, int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onPrepared(MediaPlayer mp) {\r\n    mediaPlayer.start();\r\n    Toast.makeText(radiostation.this,\r\n            &quot;You are now connected to Ukn-Radio the home of the mash up&quot;, Toast.LENGTH_LONG).show();\r\n\r\n    mediaController.setMediaPlayer(this);\r\n    mediaController.setAnchorView(surfaceView);\r\n    handler.post(new Runnable() {\r\n\r\n        public void run() {\r\n            mediaController.setEnabled(true);\r\n            mediaController.show();\r\n        }\r\n    });\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n    mediaPlayer.start();\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n    mediaPlayer.pause();\r\n    }\r\n\r\n    @Override\r\n    public int getDuration() {\r\n    return mediaPlayer.getDuration();\r\n    }\r\n\r\n    @Override\r\n    public int getCurrentPosition() {\r\n    return mediaPlayer.getCurrentPosition();\r\n    }\r\n\r\n    @Override\r\n    public void seekTo(int pos) {\r\n    mediaPlayer.seekTo(pos);\r\n    }\r\n\r\n    @Override\r\n    public boolean isPlaying() {\r\n    return mediaPlayer.isPlaying();\r\n    }\r\n\r\n    @Override\r\n    public int getBufferPercentage() {\r\n    return 0;\r\n    }\r\n\r\n    @Override\r\n      public boolean canPause() {\r\n    return true;\r\n    }\r\n\r\n      @Override\r\n    public boolean canSeekBackward() {\r\n    return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean canSeekForward() {\r\n    return false;\r\n    }\r\n\r\n    @Override\r\n    public int getAudioSessionId() {\r\n    return mediaPlayer.getAudioSessionId();\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n    mediaPlayer.stop();\r\n    mediaPlayer.release();\r\n    mediaPlayer=null;\r\n    finish();\r\n    }\r\n\r\n    }\r\n\r\nEdit\r\n---\r\n\r\nAlso make sure you allow internet access in your Android manifest:\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","title":"Why won&#39;t this Java Android SHOUTcast MediaPlayer app code work?","body":"<p>I'm using this code for a shout cast stream works okay. Just need to add a controller using a surfaceview in XML.</p>\n<pre><code>private String shoutcastsource = &quot;Your http:\\\\223.example.80.4003&quot;\n\n surfaceView = (SurfaceView)findViewById(R.id.surface);\nsurfaceHolder = surfaceView.getHolder();\nsurfaceHolder.addCallback(this);\n\nsurfaceView.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if(mediaController != null){\n            mediaController.show();\n        }\n        return false;\n    }\n});\n\n}\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n\nToast.makeText(radiostation.this,\n        &quot;Media Controls active lets mash it up&quot;, Toast.LENGTH_LONG).show();\nmediaPlayer = new MediaPlayer();\nmediaPlayer.setDisplay(surfaceHolder);\nmediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\nmediaPlayer.setOnPreparedListener(this);\ntry {\n    mediaPlayer.setDataSource(shoutcastsource);\n    mediaPlayer.prepare();\n\n    mediaController = new MediaController(this);\n\n} catch (IOException e) {\n    e.printStackTrace();\n    Toast.makeText(radiostation.this,\n            &quot;Radio Station off Air or no internet connection!\\n&quot; + e.toString(),\n            Toast.LENGTH_LONG).show();\n}\n}\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder,\n                       int format, int width, int height) {\n\n}\n\n@Override\npublic void surfaceDestroyed(SurfaceHolder holder) {\n\n}\n\n@Override\npublic void onPrepared(MediaPlayer mp) {\nmediaPlayer.start();\nToast.makeText(radiostation.this,\n        &quot;You are now connected to Ukn-Radio the home of the mash up&quot;, Toast.LENGTH_LONG).show();\n\nmediaController.setMediaPlayer(this);\nmediaController.setAnchorView(surfaceView);\nhandler.post(new Runnable() {\n\n    public void run() {\n        mediaController.setEnabled(true);\n        mediaController.show();\n    }\n});\n}\n\n@Override\npublic void start() {\nmediaPlayer.start();\n}\n\n@Override\npublic void pause() {\nmediaPlayer.pause();\n}\n\n@Override\npublic int getDuration() {\nreturn mediaPlayer.getDuration();\n}\n\n@Override\npublic int getCurrentPosition() {\nreturn mediaPlayer.getCurrentPosition();\n}\n\n@Override\npublic void seekTo(int pos) {\nmediaPlayer.seekTo(pos);\n}\n\n@Override\npublic boolean isPlaying() {\nreturn mediaPlayer.isPlaying();\n}\n\n@Override\npublic int getBufferPercentage() {\nreturn 0;\n}\n\n@Override\n  public boolean canPause() {\nreturn true;\n}\n\n  @Override\npublic boolean canSeekBackward() {\nreturn false;\n}\n\n@Override\npublic boolean canSeekForward() {\nreturn false;\n}\n\n@Override\npublic int getAudioSessionId() {\nreturn mediaPlayer.getAudioSessionId();\n}\n@Override\npublic void onBackPressed() {\n\nmediaPlayer.stop();\nmediaPlayer.release();\nmediaPlayer=null;\nfinish();\n}\n\n}\n</code></pre>\n<h2>Edit</h2>\n<p>Also make sure you allow internet access in your Android manifest:</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":118548,"reputation":13106,"user_id":309641,"accept_rate":90,"display_name":"David Zorychta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11880535,"answer_count":4,"score":3,"last_activity_date":1642635346,"creation_date":1328913182,"question_id":9235748,"body_markdown":"        String url = &quot;http://91.121.140.11:8000/&quot;;\r\n        MediaPlayer mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n        mediaPlayer.setDataSource(url);\r\n        mediaPlayer.prepare();\r\n        mediaPlayer.start();\r\n\r\nI am using Android 4.0.3 to test this and have tried it on a physical device and the emulator. The app opens but I cannot hear anything. I thought they added support for SHOUTcast streams. Have I done something wrong?\r\n","title":"Why won&#39;t this Java Android SHOUTcast MediaPlayer app code work?","body":"<pre><code>    String url = &quot;http://91.121.140.11:8000/&quot;;\n    MediaPlayer mediaPlayer = new MediaPlayer();\n    mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n    mediaPlayer.setDataSource(url);\n    mediaPlayer.prepare();\n    mediaPlayer.start();\n</code></pre>\n<p>I am using Android 4.0.3 to test this and have tried it on a physical device and the emulator. The app opens but I cannot hear anything. I thought they added support for SHOUTcast streams. Have I done something wrong?</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1540996259,"post_id":53083005,"comment_id":93068338,"body_markdown":"Where is `-primary-border-color` defined?","body":"Where is <code>-primary-border-color</code> defined?"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1540999926,"post_id":53083005,"comment_id":93070892,"body_markdown":"Sorry about that. I have added it to the CSS example.","body":"Sorry about that. I have added it to the CSS example."},{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1541005772,"post_id":53083005,"comment_id":93074349,"body_markdown":"Very weird. I have tried many methods of correcting this and I can&#39;t isolate the property that is being triggered when hovering...","body":"Very weird. I have tried many methods of correcting this and I can&#39;t isolate the property that is being triggered when hovering..."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642634938,"creation_date":1541025299,"answer_id":53092879,"question_id":53083005,"body_markdown":"Setting inline CSS styling takes the priority over from the styles in css file. So applying the background through setStyle will do the trick.\r\n\r\n    button.setOnAction(event -&gt; {\r\n                final Node node = titledPane.lookup(&quot;.title&quot;);\r\n                if (button.isSelected()) {\r\n                    node.setStyle(&quot;-fx-background-color:#00ff11;&quot;);\r\n                } else {\r\n                    node.setStyle(null);\r\n                }\r\n            });\r\n\r\n***UPDATE:***\r\nHowever, a bit more details on the actual problem. To understand this, you need to first know how the background of .title is defined internally and how the hover styling is set.\r\n\r\nInternally in Modena.css below are the styling for the background of .title:\r\n\r\n    .titled-pane &gt; .title {\r\n        -fx-background-color:\r\n            linear-gradient(to bottom,\r\n                derive(-fx-color,-15%) 95%,\r\n                derive(-fx-color,-25%) 100%\r\n            ),\r\n            -fx-inner-border, -fx-body-color;\r\n        -fx-background-insets: 0, 1, 2;\r\n        -fx-background-radius: 3 3 0 0, 2 2 0 0, 1 1 0 0;\r\n        -fx-padding: 0.3333em 0.75em 0.3333em 0.75em; /* 4 9 4 9 */\r\n    }\r\n    \r\n    .titled-pane &gt; .title:hover {\r\n        -fx-color: -fx-hover-base;\r\n    }\r\n\r\nIf you notice the actual background is derived from -fx-color, -fx-inner-border &amp; -fx-body-color. However -fx-inner-border &amp; -fx-body-color are indeed again derived from -fx-color only.\r\n\r\n    -fx-inner-border: linear-gradient(to bottom,\r\n                    ladder(\r\n                        -fx-color,\r\n                        derive(-fx-color,30%) 0%,\r\n                        derive(-fx-color,20%) 40%,\r\n                        derive(-fx-color,25%) 60%,\r\n                        derive(-fx-color,55%) 80%,\r\n                        derive(-fx-color,55%) 90%,\r\n                        derive(-fx-color,75%) 100%\r\n                    ),\r\n                    ladder(\r\n                        -fx-color,\r\n                        derive(-fx-color,20%) 0%,\r\n                        derive(-fx-color,10%) 20%,\r\n                        derive(-fx-color,5%) 40%,\r\n                        derive(-fx-color,-2%) 60%,\r\n                        derive(-fx-color,-5%) 100%\r\n                    ));\r\n    \t\t\t\t\r\n    -fx-body-color: linear-gradient(to bottom,\r\n                ladder(\r\n                    -fx-color,\r\n                    derive(-fx-color,8%) 75%,\r\n                    derive(-fx-color,10%) 80%\r\n                ),\r\n                derive(-fx-color,-8%));\r\n\t\t\r\nIn the :hover pseudo state, the -fx-color is changed to -fx-hover-base and the background is updated accordingly. **There lies your problem**. You are setting only the default background programatically. On mouse over the .title, it **still picks** the internally CSS file styling (as you have not defined your custom one for hover).\r\n\r\nIf we manage to update the -fx-color attribute, then it will take care of the corresponding css updates for different pseudo states.\r\n\r\nA more correct approach for your requirement will be as below: this way you can still get the nice gradient features of title which are internally defined.\r\n\r\n    button.setOnAction(event -&gt; {\r\n                final Node node = titledPane.lookup(&quot;.title&quot;);\r\n                if (button.isSelected()) {\r\n                    node.setStyle(&quot;-fx-color:#00ff11;&quot;);\r\n                } else {\r\n                    node.setStyle(null);\r\n                }\r\n            });\r\n    \t\r\n    // In css file\t\r\n    .titled-pane &gt; .title {\r\n        -fx-color: -primary-border-color;\r\n        -fx-background-insets: 0;\r\n        -fx-background-radius: 0 0 0 0;\r\n        -fx-padding: 0.2em 0.2em 0.2em 0.2em;\r\n    }\r\n\r\n**UPDATE 2**:\r\n\r\nPlease find below an example for TitledPane inside another TitledPane.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TitledPane;\r\n    import javafx.scene.control.ToggleButton;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Set;\r\n    \r\n    public class TitledPaneApplication extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            final VBox root = new VBox();\r\n            root.setSpacing(10);\r\n    \r\n            final TitledPane titledPane = new TitledPane();\r\n            titledPane.setText(&quot;Title&quot;);\r\n    \r\n            final String titleBackgroundValue = &quot;#00ff11&quot;;\r\n            final ToggleButton button = new ToggleButton(&quot;Change&quot;);\r\n            button.setOnAction(event -&gt; {\r\n                final Set&lt;Node&gt; node = titledPane.lookupAll(&quot;.title&quot;);\r\n                if (button.isSelected()) {\r\n                    node.forEach(n-&gt;n.setStyle(&quot;-fx-color:#00ff11;&quot;));\r\n                } else {\r\n                    node.forEach(n-&gt;n.setStyle(null));\r\n                }\r\n            });\r\n            button.setSelected(false);\r\n    \r\n            VBox inner = new VBox();\r\n            inner.setSpacing(10);\r\n            inner.setPadding(new Insets(10));\r\n            final TitledPane innerTP = new TitledPane();\r\n            innerTP.setText(&quot;Inner Title&quot;);\r\n            inner.getChildren().addAll(new Label(&quot;Inner&quot;),innerTP);\r\n            innerTP.setContent(new Button(&quot;Dummy Button&quot;));\r\n    \r\n            titledPane.setContent(inner);\r\n    \r\n            root.getChildren().addAll(button,titledPane);\r\n            final Scene scene = new Scene(root, 400, 400);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;light.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;TestApplication&quot;);\r\n            primaryStage.show();\r\n        }\r\n    }","title":"JavaFX TitledPane changed title background is reset on mouse entered","body":"<p>Setting inline CSS styling takes the priority over from the styles in css file. So applying the background through setStyle will do the trick.</p>\n<pre><code>button.setOnAction(event -&gt; {\n            final Node node = titledPane.lookup(&quot;.title&quot;);\n            if (button.isSelected()) {\n                node.setStyle(&quot;-fx-background-color:#00ff11;&quot;);\n            } else {\n                node.setStyle(null);\n            }\n        });\n</code></pre>\n<p><em><strong>UPDATE:</strong></em>\nHowever, a bit more details on the actual problem. To understand this, you need to first know how the background of .title is defined internally and how the hover styling is set.</p>\n<p>Internally in Modena.css below are the styling for the background of .title:</p>\n<pre><code>.titled-pane &gt; .title {\n    -fx-background-color:\n        linear-gradient(to bottom,\n            derive(-fx-color,-15%) 95%,\n            derive(-fx-color,-25%) 100%\n        ),\n        -fx-inner-border, -fx-body-color;\n    -fx-background-insets: 0, 1, 2;\n    -fx-background-radius: 3 3 0 0, 2 2 0 0, 1 1 0 0;\n    -fx-padding: 0.3333em 0.75em 0.3333em 0.75em; /* 4 9 4 9 */\n}\n\n.titled-pane &gt; .title:hover {\n    -fx-color: -fx-hover-base;\n}\n</code></pre>\n<p>If you notice the actual background is derived from -fx-color, -fx-inner-border &amp; -fx-body-color. However -fx-inner-border &amp; -fx-body-color are indeed again derived from -fx-color only.</p>\n<pre><code>-fx-inner-border: linear-gradient(to bottom,\n                ladder(\n                    -fx-color,\n                    derive(-fx-color,30%) 0%,\n                    derive(-fx-color,20%) 40%,\n                    derive(-fx-color,25%) 60%,\n                    derive(-fx-color,55%) 80%,\n                    derive(-fx-color,55%) 90%,\n                    derive(-fx-color,75%) 100%\n                ),\n                ladder(\n                    -fx-color,\n                    derive(-fx-color,20%) 0%,\n                    derive(-fx-color,10%) 20%,\n                    derive(-fx-color,5%) 40%,\n                    derive(-fx-color,-2%) 60%,\n                    derive(-fx-color,-5%) 100%\n                ));\n                \n-fx-body-color: linear-gradient(to bottom,\n            ladder(\n                -fx-color,\n                derive(-fx-color,8%) 75%,\n                derive(-fx-color,10%) 80%\n            ),\n            derive(-fx-color,-8%));\n    \n</code></pre>\n<p>In the :hover pseudo state, the -fx-color is changed to -fx-hover-base and the background is updated accordingly. <strong>There lies your problem</strong>. You are setting only the default background programatically. On mouse over the .title, it <strong>still picks</strong> the internally CSS file styling (as you have not defined your custom one for hover).</p>\n<p>If we manage to update the -fx-color attribute, then it will take care of the corresponding css updates for different pseudo states.</p>\n<p>A more correct approach for your requirement will be as below: this way you can still get the nice gradient features of title which are internally defined.</p>\n<pre><code>button.setOnAction(event -&gt; {\n            final Node node = titledPane.lookup(&quot;.title&quot;);\n            if (button.isSelected()) {\n                node.setStyle(&quot;-fx-color:#00ff11;&quot;);\n            } else {\n                node.setStyle(null);\n            }\n        });\n    \n// In css file  \n.titled-pane &gt; .title {\n    -fx-color: -primary-border-color;\n    -fx-background-insets: 0;\n    -fx-background-radius: 0 0 0 0;\n    -fx-padding: 0.2em 0.2em 0.2em 0.2em;\n}\n</code></pre>\n<p><strong>UPDATE 2</strong>:</p>\n<p>Please find below an example for TitledPane inside another TitledPane.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TitledPane;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.Set;\n\npublic class TitledPaneApplication extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        final VBox root = new VBox();\n        root.setSpacing(10);\n\n        final TitledPane titledPane = new TitledPane();\n        titledPane.setText(&quot;Title&quot;);\n\n        final String titleBackgroundValue = &quot;#00ff11&quot;;\n        final ToggleButton button = new ToggleButton(&quot;Change&quot;);\n        button.setOnAction(event -&gt; {\n            final Set&lt;Node&gt; node = titledPane.lookupAll(&quot;.title&quot;);\n            if (button.isSelected()) {\n                node.forEach(n-&gt;n.setStyle(&quot;-fx-color:#00ff11;&quot;));\n            } else {\n                node.forEach(n-&gt;n.setStyle(null));\n            }\n        });\n        button.setSelected(false);\n\n        VBox inner = new VBox();\n        inner.setSpacing(10);\n        inner.setPadding(new Insets(10));\n        final TitledPane innerTP = new TitledPane();\n        innerTP.setText(&quot;Inner Title&quot;);\n        inner.getChildren().addAll(new Label(&quot;Inner&quot;),innerTP);\n        innerTP.setContent(new Button(&quot;Dummy Button&quot;));\n\n        titledPane.setContent(inner);\n\n        root.getChildren().addAll(button,titledPane);\n        final Scene scene = new Scene(root, 400, 400);\n        scene.getStylesheets().add(getClass().getResource(&quot;light.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;TestApplication&quot;);\n        primaryStage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53092879,"answer_count":1,"score":3,"last_activity_date":1642634938,"creation_date":1540987736,"question_id":53083005,"body_markdown":"I need to change the TitledPane title background based on some incoming value during runtime and reset it otherwise.\r\n\r\nAll my TitledPane&#39;s is styled on a CSS attached to the Scene.\r\n\r\nChanging the background is no problem.\r\nThe problem is when the mouse enters over the title after the background has been changed, the background is thus reset to the background from CSS.\r\n\r\n&lt;br&gt;\r\nTest application for changing TitledPane title background:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TitledPane;\r\n    import javafx.scene.control.ToggleButton;\r\n    import javafx.scene.layout.Background;\r\n    import javafx.scene.layout.BackgroundFill;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TitledPaneApplication extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            final StackPane root = new StackPane();\r\n    \r\n            final TitledPane titledPane = new TitledPane();\r\n            titledPane.setText(&quot;Title&quot;);\r\n            root.getChildren().add(titledPane);\r\n    \r\n            final String titleBackgroundValue = &quot;#00ff11&quot;;\r\n            final ToggleButton button = new ToggleButton(&quot;Change&quot;);\r\n            button.setOnAction(event -&gt; {\r\n                boolean selected = button.isSelected();\r\n    \r\n                final Node node = titledPane.lookup(&quot;.title&quot;);\r\n                if (selected) {\r\n                    final Color color = Color.valueOf(titleBackgroundValue);\r\n                    ((Region) node).setBackground(new Background(new BackgroundFill(color, null, null)));\r\n                } else {\r\n                    ((Region) node).setBackground(null);\r\n                    titledPane.applyCss();\r\n                }\r\n            });\r\n    \r\n            button.setSelected(false);\r\n            titledPane.setContent(button);\r\n    \r\n            final Scene scene = new Scene(root, 400, 400);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;light.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;TestApplication&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe Scene CSS light.css\r\n\r\n    .root {\r\n        -fx-base: rgb(240, 240, 240);\r\n        -fx-background: rgb(240, 240, 240);\r\n        -fx-border-color: rgb(220, 220, 220);\r\n    \r\n        /* make controls (buttons, thumb, etc.) slightly lighter */\r\n        -fx-color: derive(-fx-base, 10%);\r\n    \r\n        /* text fields and table rows background */\r\n        -fx-control-inner-background: rgb(248, 248, 248);\r\n        /* version of -fx-control-inner-background for alternative rows */\r\n        -fx-control-inner-background-alt: derive(-fx-control-inner-background, -2.5%);\r\n    \r\n        /* text colors depending on background&#39;s brightness */\r\n        -fx-light-text-color: rgb(220, 220, 220);\r\n        -fx-mid-text-color: rgb(100, 100, 100);\r\n        -fx-dark-text-color: rgb(20, 20, 20);\r\n    \r\n        /* A bright blue for highlighting/accenting objects.  For example: selected\r\n         * text; selected items in menus, lists, trees, and tables; progress bars */\r\n        -fx-accent: rgb(0, 80, 100);\r\n    \r\n        /* color of non-focused yet selected elements */\r\n        -fx-selection-bar-non-focused: rgb(50, 50, 50);\r\n    \r\n        -fx-font-family: &quot;Roboto&quot;; /* &quot;Segoe UI Semibold&quot;, &quot;Roboto&quot;, &quot;Monospaced&quot; */\r\n        -fx-font-size: 1em;\r\n\r\n        -primary-border-color: rgb(220, 220, 220);\r\n    }\r\n    \r\n    /* Fix derived prompt color for text fields */\r\n    .text-input {\r\n        -fx-prompt-text-fill: derive(-fx-control-inner-background, -50%);\r\n    }\r\n    \r\n    /* Keep prompt invisible when focused (above color fix overrides it) */\r\n    .text-input:focused {\r\n        -fx-prompt-text-fill: transparent;\r\n    }\r\n    \r\n    /* Fix scroll bar buttons arrows colors */\r\n    .scroll-bar &gt; .increment-button &gt; .increment-arrow,\r\n    .scroll-bar &gt; .decrement-button &gt; .decrement-arrow {\r\n        -fx-background-color: -fx-mark-highlight-color, rgb(220, 220, 220);\r\n    }\r\n    \r\n    .scroll-bar &gt; .increment-button:hover &gt; .increment-arrow,\r\n    .scroll-bar &gt; .decrement-button:hover &gt; .decrement-arrow {\r\n        -fx-background-color: -fx-mark-highlight-color, rgb(240, 240, 240);\r\n    }\r\n    \r\n    .scroll-bar &gt; .increment-button:pressed &gt; .increment-arrow,\r\n    .scroll-bar &gt; .decrement-button:pressed &gt; .decrement-arrow {\r\n        -fx-background-color: -fx-mark-highlight-color, rgb(255, 255, 255);\r\n    }\r\n    \r\n    .text-field {\r\n        -fx-font-size: 10pt;\r\n    }\r\n    \r\n    .combo-box {\r\n        -fx-font-size: 10pt;\r\n    }\r\n    \r\n    /* ScrollPane style. */\r\n    .scroll-pane {\r\n        -fx-background-color: transparent;\r\n    }\r\n    \r\n    .scroll-pane &gt; .viewport {\r\n        -fx-background-color: transparent;\r\n    }\r\n    \r\n    /* TabPane style. */\r\n    .tab-pane &gt; .tab-header-area {\r\n        -fx-background-color: transparent;\r\n    }\r\n    \r\n    /* TitledPane style. */\r\n    .titled-pane {\r\n        -fx-border-width: 1;\r\n        -fx-border-color: -primary-border-color;\r\n        -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.15), 5, 0.0, 0, 1);\r\n    }\r\n    \r\n    .titled-pane &gt; .content {\r\n        -fx-border-width: 0;\r\n    }\r\n    \r\n    .titled-pane .title .arrow-button {\r\n        visibility: false;\r\n    }\r\n    \r\n    .titled-pane &gt; .title {\r\n        -fx-background-color: -primary-border-color;\r\n        -fx-background-insets: 0;\r\n        -fx-background-radius: 0 0 0 0;\r\n        -fx-padding: 0.2em 0.2em 0.2em 0.2em;\r\n    }\r\n    \r\n    .titled-pane &gt; .title .text {\r\n        -fx-font-size: 10pt;\r\n    }\r\n","title":"JavaFX TitledPane changed title background is reset on mouse entered","body":"<p>I need to change the TitledPane title background based on some incoming value during runtime and reset it otherwise.</p>\n\n<p>All my TitledPane's is styled on a CSS attached to the Scene.</p>\n\n<p>Changing the background is no problem.\nThe problem is when the mouse enters over the title after the background has been changed, the background is thus reset to the background from CSS.</p>\n\n<p><br>\nTest application for changing TitledPane title background:</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TitledPane;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.Region;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class TitledPaneApplication extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        final StackPane root = new StackPane();\n\n        final TitledPane titledPane = new TitledPane();\n        titledPane.setText(\"Title\");\n        root.getChildren().add(titledPane);\n\n        final String titleBackgroundValue = \"#00ff11\";\n        final ToggleButton button = new ToggleButton(\"Change\");\n        button.setOnAction(event -&gt; {\n            boolean selected = button.isSelected();\n\n            final Node node = titledPane.lookup(\".title\");\n            if (selected) {\n                final Color color = Color.valueOf(titleBackgroundValue);\n                ((Region) node).setBackground(new Background(new BackgroundFill(color, null, null)));\n            } else {\n                ((Region) node).setBackground(null);\n                titledPane.applyCss();\n            }\n        });\n\n        button.setSelected(false);\n        titledPane.setContent(button);\n\n        final Scene scene = new Scene(root, 400, 400);\n        scene.getStylesheets().add(getClass().getResource(\"light.css\").toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(\"TestApplication\");\n        primaryStage.show();\n    }\n\n}\n</code></pre>\n\n<p>The Scene CSS light.css</p>\n\n<pre><code>.root {\n    -fx-base: rgb(240, 240, 240);\n    -fx-background: rgb(240, 240, 240);\n    -fx-border-color: rgb(220, 220, 220);\n\n    /* make controls (buttons, thumb, etc.) slightly lighter */\n    -fx-color: derive(-fx-base, 10%);\n\n    /* text fields and table rows background */\n    -fx-control-inner-background: rgb(248, 248, 248);\n    /* version of -fx-control-inner-background for alternative rows */\n    -fx-control-inner-background-alt: derive(-fx-control-inner-background, -2.5%);\n\n    /* text colors depending on background's brightness */\n    -fx-light-text-color: rgb(220, 220, 220);\n    -fx-mid-text-color: rgb(100, 100, 100);\n    -fx-dark-text-color: rgb(20, 20, 20);\n\n    /* A bright blue for highlighting/accenting objects.  For example: selected\n     * text; selected items in menus, lists, trees, and tables; progress bars */\n    -fx-accent: rgb(0, 80, 100);\n\n    /* color of non-focused yet selected elements */\n    -fx-selection-bar-non-focused: rgb(50, 50, 50);\n\n    -fx-font-family: \"Roboto\"; /* \"Segoe UI Semibold\", \"Roboto\", \"Monospaced\" */\n    -fx-font-size: 1em;\n\n    -primary-border-color: rgb(220, 220, 220);\n}\n\n/* Fix derived prompt color for text fields */\n.text-input {\n    -fx-prompt-text-fill: derive(-fx-control-inner-background, -50%);\n}\n\n/* Keep prompt invisible when focused (above color fix overrides it) */\n.text-input:focused {\n    -fx-prompt-text-fill: transparent;\n}\n\n/* Fix scroll bar buttons arrows colors */\n.scroll-bar &gt; .increment-button &gt; .increment-arrow,\n.scroll-bar &gt; .decrement-button &gt; .decrement-arrow {\n    -fx-background-color: -fx-mark-highlight-color, rgb(220, 220, 220);\n}\n\n.scroll-bar &gt; .increment-button:hover &gt; .increment-arrow,\n.scroll-bar &gt; .decrement-button:hover &gt; .decrement-arrow {\n    -fx-background-color: -fx-mark-highlight-color, rgb(240, 240, 240);\n}\n\n.scroll-bar &gt; .increment-button:pressed &gt; .increment-arrow,\n.scroll-bar &gt; .decrement-button:pressed &gt; .decrement-arrow {\n    -fx-background-color: -fx-mark-highlight-color, rgb(255, 255, 255);\n}\n\n.text-field {\n    -fx-font-size: 10pt;\n}\n\n.combo-box {\n    -fx-font-size: 10pt;\n}\n\n/* ScrollPane style. */\n.scroll-pane {\n    -fx-background-color: transparent;\n}\n\n.scroll-pane &gt; .viewport {\n    -fx-background-color: transparent;\n}\n\n/* TabPane style. */\n.tab-pane &gt; .tab-header-area {\n    -fx-background-color: transparent;\n}\n\n/* TitledPane style. */\n.titled-pane {\n    -fx-border-width: 1;\n    -fx-border-color: -primary-border-color;\n    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.15), 5, 0.0, 0, 1);\n}\n\n.titled-pane &gt; .content {\n    -fx-border-width: 0;\n}\n\n.titled-pane .title .arrow-button {\n    visibility: false;\n}\n\n.titled-pane &gt; .title {\n    -fx-background-color: -primary-border-color;\n    -fx-background-insets: 0;\n    -fx-background-radius: 0 0 0 0;\n    -fx-padding: 0.2em 0.2em 0.2em 0.2em;\n}\n\n.titled-pane &gt; .title .text {\n    -fx-font-size: 10pt;\n}\n</code></pre>\n"},{"tags":["java","android","zip4j"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1449594132,"post_id":34161690,"comment_id":56070124,"body_markdown":"This answers your question: http://stackoverflow.com/questions/7190618/most-efficient-way-to-check-if-a-file-is-empty-in-java-on-windows An empty ZIP file is not a valid ZIP file so you just need to check if the file is empty.","body":"This answers your question: <a href=\"http://stackoverflow.com/questions/7190618/most-efficient-way-to-check-if-a-file-is-empty-in-java-on-windows\" title=\"most efficient way to check if a file is empty in java on windows\">stackoverflow.com/questions/7190618/&hellip;</a> An empty ZIP file is not a valid ZIP file so you just need to check if the file is empty."},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1449594492,"post_id":34161690,"comment_id":56070346,"body_markdown":"Why not just catch and handle the exception ?!?","body":"Why not just catch and handle the exception ?!?"}],"answers":[{"tags":[],"owner":{"account_id":4430471,"reputation":3004,"user_id":3607748,"display_name":"Beck Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642634852,"creation_date":1454811244,"answer_id":35248957,"question_id":34161690,"body_markdown":"The API &lt;code&gt;zip.isValidZipFile()&lt;/code&gt; will return false if input file contains no zip entry. (Tested with zip4j v1.3.2)\r\n\r\nBTW, exception is not thrown when new ZipFile object.","title":"Zip4j libary: How do I check if the zip file is empty?","body":"<p>The API <code>zip.isValidZipFile()</code> will return false if input file contains no zip entry. (Tested with zip4j v1.3.2)</p>\n<p>BTW, exception is not thrown when new ZipFile object.</p>\n"}],"owner":{"account_id":5319945,"reputation":7077,"user_id":4243687,"accept_rate":57,"display_name":"Ersen Osman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35248957,"answer_count":1,"score":1,"last_activity_date":1642634852,"creation_date":1449593981,"question_id":34161690,"body_markdown":"Hello I am using the zip4j library for Java to extract zip file to a directory.\r\n\r\nI get this zip file from the internet.\r\n\r\nEverything works fine however I get this exception when the zip file is empty.\r\n\r\n    12-08 16:52:00.964 29829-30843/ W/System.err: net.lingala.zip4j.exception.ZipException: net.lingala.zip4j.exception.ZipException: java.io.IOException: offset &lt; 0: -20\r\n    12-08 16:52:00.964 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.readZip64EndCentralDirLocator(HeaderReader.java:546)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:82)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.ZipFile.readZipInfo(ZipFile.java:425)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.ZipFile.getFileHeaders(ZipFile.java:688)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at com.myapp.services.DownloadContentIntentService.onHandleIntent(DownloadContentIntentService.java:124)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at android.os.Looper.loop(Looper.java:148)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at android.os.HandlerThread.run(HandlerThread.java:61)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err: Caused by: net.lingala.zip4j.exception.ZipException: java.io.IOException: offset &lt; 0: -20\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.setFilePointerToReadZip64EndCentralDirLoc(HeaderReader.java:816)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.readZip64EndCentralDirLocator(HeaderReader.java:517)\r\n    12-08 16:52:00.965 29829-30843/ W/System.err: \t... 8 more\r\n    12-08 16:52:00.966 29829-30843/ W/System.err: Caused by: java.io.IOException: offset &lt; 0: -20\r\n    12-08 16:52:00.966 29829-30843/ W/System.err:     at java.io.RandomAccessFile.seek(RandomAccessFile.java:600)\r\n    12-08 16:52:00.966 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.setFilePointerToReadZip64EndCentralDirLoc(HeaderReader.java:814)\r\n    12-08 16:52:00.966 29829-30843/ W/System.err: \t... 9 more\r\n\r\nThis is the line in question.\r\n\r\n     ZipFile zipFile = new ZipFile(temp);\r\n\r\nWhen debugging, I found this only happens with empty zip files i.e. an archive with nothing inside.\r\n\r\nHowever the problem I am having is how can I check the amount of files inside the archive because I have found if I do this\r\n\r\n     List&lt;FileHeader&gt; fileHeaders = zipFile.getFileHeaders();\r\n     if(fileHeaders != null &amp;&amp; fileHeaders.size() &gt; 0){\r\n    \r\n     }\r\n\r\nI am able to get information about the zip content I.e. amount of files and size etc.\r\n\r\nBut there is one big issue.\r\nThe exception gets thrown here\r\n\r\nThe exception gets thrown at this point \r\n\r\n     ZipFile zipFile = new ZipFile(temp);\r\n\r\nAnd I need the instance to access the file headers\r\n\r\nPlease help","title":"Zip4j libary: How do I check if the zip file is empty?","body":"<p>Hello I am using the zip4j library for Java to extract zip file to a directory.</p>\n\n<p>I get this zip file from the internet.</p>\n\n<p>Everything works fine however I get this exception when the zip file is empty.</p>\n\n<pre><code>12-08 16:52:00.964 29829-30843/ W/System.err: net.lingala.zip4j.exception.ZipException: net.lingala.zip4j.exception.ZipException: java.io.IOException: offset &lt; 0: -20\n12-08 16:52:00.964 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.readZip64EndCentralDirLocator(HeaderReader.java:546)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:82)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.ZipFile.readZipInfo(ZipFile.java:425)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.ZipFile.getFileHeaders(ZipFile.java:688)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at com.myapp.services.DownloadContentIntentService.onHandleIntent(DownloadContentIntentService.java:124)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at android.os.Looper.loop(Looper.java:148)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at android.os.HandlerThread.run(HandlerThread.java:61)\n12-08 16:52:00.965 29829-30843/ W/System.err: Caused by: net.lingala.zip4j.exception.ZipException: java.io.IOException: offset &lt; 0: -20\n12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.setFilePointerToReadZip64EndCentralDirLoc(HeaderReader.java:816)\n12-08 16:52:00.965 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.readZip64EndCentralDirLocator(HeaderReader.java:517)\n12-08 16:52:00.965 29829-30843/ W/System.err:   ... 8 more\n12-08 16:52:00.966 29829-30843/ W/System.err: Caused by: java.io.IOException: offset &lt; 0: -20\n12-08 16:52:00.966 29829-30843/ W/System.err:     at java.io.RandomAccessFile.seek(RandomAccessFile.java:600)\n12-08 16:52:00.966 29829-30843/ W/System.err:     at net.lingala.zip4j.core.HeaderReader.setFilePointerToReadZip64EndCentralDirLoc(HeaderReader.java:814)\n12-08 16:52:00.966 29829-30843/ W/System.err:   ... 9 more\n</code></pre>\n\n<p>This is the line in question.</p>\n\n<pre><code> ZipFile zipFile = new ZipFile(temp);\n</code></pre>\n\n<p>When debugging, I found this only happens with empty zip files i.e. an archive with nothing inside.</p>\n\n<p>However the problem I am having is how can I check the amount of files inside the archive because I have found if I do this</p>\n\n<pre><code> List&lt;FileHeader&gt; fileHeaders = zipFile.getFileHeaders();\n if(fileHeaders != null &amp;&amp; fileHeaders.size() &gt; 0){\n\n }\n</code></pre>\n\n<p>I am able to get information about the zip content I.e. amount of files and size etc.</p>\n\n<p>But there is one big issue.\nThe exception gets thrown here</p>\n\n<p>The exception gets thrown at this point </p>\n\n<pre><code> ZipFile zipFile = new ZipFile(temp);\n</code></pre>\n\n<p>And I need the instance to access the file headers</p>\n\n<p>Please help</p>\n"},{"tags":["java","c","java-native-interface"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1642560421,"post_id":70763746,"comment_id":125101261,"body_markdown":"Please put the code into the question. 1) It makes your question easier to read. 2)  Links to your github repos are liable to evaporate, rendering the question unintelligible.","body":"Please put the code into the question. 1) It makes your question easier to read. 2)  Links to your github repos are liable to evaporate, rendering the question unintelligible."},{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1642573240,"post_id":70763746,"comment_id":125103363,"body_markdown":"Code won&#39;t change until I somehow get past this issue...Will see about getting the code inline tomorrow. Extremely frustrating day to say the least.","body":"Code won&#39;t change until I somehow get past this issue...Will see about getting the code inline tomorrow. Extremely frustrating day to say the least."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1642574658,"post_id":70763746,"comment_id":125103678,"body_markdown":"*&quot;Code won&#39;t change until I somehow get past this issue...&quot;*.  I would not imagine that it would.  But that is not what we are concerned about.  We are concerned about other people trying to read and understand your Question and the Answers in the future; e.g. in (say) 5 years time. I&#39;ll take another look at this when you have fixed the question.","body":"<i>&quot;Code won&#39;t change until I somehow get past this issue...&quot;</i>.  I would not imagine that it would.  But that is not what we are concerned about.  We are concerned about other people trying to read and understand your Question and the Answers in the future; e.g. in (say) 5 years time. I&#39;ll take another look at this when you have fixed the question."},{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1642575615,"post_id":70763746,"comment_id":125103909,"body_markdown":"Went ahead and inlined the code immediately. You are definitely right about the benefits of keeping the code with the question. I was initially being lazy I guess since I definitely know better.","body":"Went ahead and inlined the code immediately. You are definitely right about the benefits of keeping the code with the question. I was initially being lazy I guess since I definitely know better."},{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1642616381,"post_id":70763746,"comment_id":125121047,"body_markdown":"Unfortunately my current minimal reproducer doesn&#39;t exhibit the same behavior. Will probably try building on it slowly to see what could be causing the issue.","body":"Unfortunately my current minimal reproducer doesn&#39;t exhibit the same behavior. Will probably try building on it slowly to see what could be causing the issue."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1642633397,"post_id":70763746,"comment_id":125126480,"body_markdown":"*In my code I am caching the jclass and jmethodID for the class and the constructor in a global struct, but the code looks like*  That&#39;s a huge red flag.  Per [the Java documentation](https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#global_and_local_references):  &quot;All Java objects returned by JNI functions are local references.&quot;  This is almost certainly a dupe of [**Why I should not reuse a jclass and/or jmethodID in JNI?**](https://stackoverflow.com/questions/2093112/why-i-should-not-reuse-a-jclass-and-or-jmethodid-in-jni)  I won&#39;t vote to close - yet...","body":"<i>In my code I am caching the jclass and jmethodID for the class and the constructor in a global struct, but the code looks like</i>  That&#39;s a huge red flag.  Per <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#global_and_local_references\" rel=\"nofollow noreferrer\">the Java documentation</a>:  &quot;All Java objects returned by JNI functions are local references.&quot;  This is almost certainly a dupe of <a href=\"https://stackoverflow.com/questions/2093112/why-i-should-not-reuse-a-jclass-and-or-jmethodid-in-jni\"><b>Why I should not reuse a jclass and/or jmethodID in JNI?</b></a>  I won&#39;t vote to close - yet..."},{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1642634213,"post_id":70763746,"comment_id":125126706,"body_markdown":"Andrew, thanks for your comment. It is enlightening. Let me see about changing my global refs to local refs.","body":"Andrew, thanks for your comment. It is enlightening. Let me see about changing my global refs to local refs."},{"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"score":0,"creation_date":1642634441,"post_id":70763746,"comment_id":125126754,"body_markdown":"Andrew, your intuition was correct. I will have to review that documentation link and review the SO question. Feel free to mark as duplicate and/or delete, but this should definitely be closed.","body":"Andrew, your intuition was correct. I will have to review that documentation link and review the SO question. Feel free to mark as duplicate and/or delete, but this should definitely be closed."}],"answers":[{"tags":[],"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642634628,"creation_date":1642634628,"answer_id":70779034,"question_id":70763746,"body_markdown":"My issue was that I was holding onto `jclass` et al. references for too long.\r\n\r\nPrior question: https://stackoverflow.com/questions/2093112/why-i-should-not-reuse-a-jclass-and-or-jmethodid-in-jni\r\n\r\nJava docs: https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#global_and_local_references\r\n\r\n&gt; All Java objects returned by JNI functions are local references.\r\n\r\nThanks to Andrew Henle for pointing this out in the comments of the question. I have highlighted his comment in this answer, and will mark it is as the answer.","title":"JNIEnv::NewObject() throwing java.lang.InstantiantionException","body":"<p>My issue was that I was holding onto <code>jclass</code> et al. references for too long.</p>\n<p>Prior question: <a href=\"https://stackoverflow.com/questions/2093112/why-i-should-not-reuse-a-jclass-and-or-jmethodid-in-jni\">Why I should not reuse a jclass and/or jmethodID in JNI?</a></p>\n<p>Java docs: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#global_and_local_references\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#global_and_local_references</a></p>\n<blockquote>\n<p>All Java objects returned by JNI functions are local references.</p>\n</blockquote>\n<p>Thanks to Andrew Henle for pointing this out in the comments of the question. I have highlighted his comment in this answer, and will mark it is as the answer.</p>\n"}],"owner":{"account_id":6341049,"reputation":551,"user_id":7572728,"accept_rate":100,"display_name":"tristan957"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70779034,"answer_count":1,"score":0,"last_activity_date":1642634628,"creation_date":1642549548,"question_id":70763746,"body_markdown":"I am attempting to call [JNIEnv::NewObject()](https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewObject) in some JNI code when a C function returns a non-zero error code.\r\n\r\nThe order of events looks like:\r\n\r\n1. Call C function.\r\n2. If return code is non-zero, call a helper function which throws a custom excpetion.\r\n\r\nThe class I am trying to construct so that I can throw it is: \r\n```java\r\npublic final class HseException extends Exception {\r\n    private static final long serialVersionUID = 8995408998818557762L;\r\n\r\n    private final int errno;\r\n    private final Context ctx;\r\n\r\n    /* Only called from C */\r\n    HseException(final String message, final int errno, final Context ctx) {\r\n        super(message);\r\n\r\n        this.errno = errno;\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    public Context getContext() {\r\n        return this.ctx;\r\n    }\r\n\r\n    public int getErrno() {\r\n        return this.errno;\r\n    }\r\n\r\n    public static enum Context {\r\n        NONE\r\n    }\r\n}\r\n```\r\n\r\nIn my code I am caching the `jclass` and `jmethodID` for the class and the constructor in a global struct, but the code looks like:\r\n\r\n```c\r\n    globals.com.micron.hse.HseException.class =\r\n        (*env)-&gt;FindClass(env, &quot;com/micron/hse/HseException&quot;);\r\n    globals.com.micron.hse.HseException.init = (*env)-&gt;GetMethodID(\r\n        env,\r\n        globals.com.micron.hse.HseException.class,\r\n        &quot;&lt;init&gt;&quot;,\r\n        &quot;(Ljava/lang/String;ILcom/micron/hse/HseException$Context;)V&quot;);\r\n\r\n    globals.com.micron.hse.HseException.Context.class =\r\n        (*env)-&gt;FindClass(env, &quot;com/micron/hse/HseException$Context&quot;);\r\n    globals.com.micron.hse.HseException.Context.NONE = (*env)-&gt;GetStaticFieldID(\r\n        env,\r\n        globals.com.micron.hse.HseException.Context.class,\r\n        &quot;NONE&quot;,\r\n        &quot;Lcom/micron/hse/HseException$Context;&quot;);\r\n```\r\n\r\nNote that the above code is located in the `JNI_OnLoad()` function of my library. This function completes without error, so this tells me that at least my classes and methods are being loaded correctly.\r\n\r\nLastly here is my helper function where I throw my custom exception type:\r\n\r\n```c\r\n/* hse_err_t is a scalar type.\r\n * hse_strerror() creates a string out of that scalar.\r\n * hse_err_to_ctx() gets the enum context value embedded within the scalar.\r\n * hse_err_to_errno() gets the errno value embedded within the scalar.\r\n */\r\njint\r\nthrow_new_hse_exception(JNIEnv *env, hse_err_t err)\r\n{\r\n    assert(env);\r\n    assert(err);\r\n\r\n    const size_t needed_sz = hse_strerror(err, NULL, 0);\r\n    char        *buf = malloc(needed_sz + 1);\r\n    if (!buf)\r\n        return (*env)-&gt;ThrowNew(\r\n            env,\r\n            globals.java.lang.OutOfMemoryError.class,\r\n            &quot;Failed to allocate memory for error buffer&quot;);\r\n\r\n    hse_strerror(err, buf, needed_sz + 1);\r\n\r\n    const jstring message = (*env)-&gt;NewStringUTF(env, buf);\r\n    free(buf);\r\n    if ((*env)-&gt;ExceptionCheck(env))\r\n        return JNI_ERR;\r\n\r\n    const int              rc = hse_err_to_errno(err);\r\n    const enum hse_err_ctx ctx = hse_err_to_ctx(err);\r\n\r\n    jfieldID err_ctx_field = NULL;\r\n    switch (ctx) {\r\n        case HSE_ERR_CTX_NONE:\r\n            err_ctx_field = globals.com.micron.hse.HseException.Context.NONE;\r\n            break;\r\n    }\r\n\r\n    assert(err_ctx_field);\r\n\r\n    const jobject err_ctx_obj = (*env)-&gt;GetStaticObjectField(\r\n        env, globals.com.micron.hse.HseException.Context.class, err_ctx_field);\r\n    if ((*env)-&gt;ExceptionCheck(env))\r\n        return JNI_ERR;\r\n\r\n    const jobject hse_exception_obj = (*env)-&gt;NewObject(\r\n        env,\r\n        globals.com.micron.hse.HseException.class,\r\n        globals.com.micron.hse.HseException.init,\r\n        message,\r\n        rc,\r\n        err_ctx_obj);\r\n    if ((*env)-&gt;ExceptionCheck(env))\r\n        return JNI_ERR;\r\n\r\n    return (*env)-&gt;Throw(env, (jthrowable)hse_exception_obj);\r\n}\r\n```\r\n\r\nI know for a fact that the `(*env)-&gt;NewObject()` call is what is raising the exception because an exception check before and after will tell me so. The `(*env)-&gt;NewStringUTF()` call is successful and contains the string it should contain. The context field is also retrieved successfully.\r\n\r\nWhat I am not understanding is why I am getting an `InstantiationException`. The `Throws` section of the `JNIEnv::NewObject()` is marked as the following:\r\n\r\n```\r\nTHROWS:\r\nInstantiationException: if the class is an interface or an abstract class.\r\n\r\nOutOfMemoryError: if the system runs out of memory.\r\n\r\nAny exceptions thrown by the constructor.\r\n```\r\n\r\nMy class is not an interface nor is it an abstract class, so where could this exception be generated from? The weird thing is that I swear this worked before, but since I am writing these Java bindings from scratch, I have just been overwriting commits and force pushing to my branch.\r\n\r\nAny help is appreciated. Unfortunately `getMessage()` on the exception returns `null` which just isn&#39;t helpful at all. There is no message from the JVM telling me potentially what I have done wrong either.\r\n\r\nOne detail that could be helpful is that when I try to call `JNIEnv::ThrowNew()` (after putting a `(Ljava/lang/String;)V` constructor in the same `HseException` class, `jni_ThrowNew()` segfaults, and I cannot understand why. The class is valid when I stash the `jclass`, and I know for a fact that the memory it is stashed in isn&#39;t overwritten in any way, since I have checked the pointer.\r\n\r\nThe repo where all this code lives is: https://github.com/hse-project/hse-java. Unfinished product, but at least it is buildable and tests can be ran. In the event that someone decides to clone the repo and build it, I will repeat the directions here:\r\n\r\n```shell\r\nmeson build\r\nninja -C build\r\nmeson test -C build -t 0 KvsTest # I am using this test to exercise the code path\r\n```\r\n\r\nMy goal tomorrow will be to try to reproduce the issue in a smaller manner. I may also try to peer into the OpenJDK code assuming that is where the JNI interfaces live. Figure if I look hard enough, I might find the line of code which generates the exception.\r\n\r\nEdit: I did a test where in my current code, I added a main function and a native function whose only purpose is to throw an exception from C. The code looks something like:\r\n\r\n```java\r\nprivate static native void throwException();\r\n\r\npublic static void main(String[] args) {\r\n    System.load(&quot;/path/to/.so&quot;);\r\n    throwException();\r\n}\r\n```\r\n\r\nThe implementation of the native function is:\r\n\r\n```c\r\nvoid Java_com_micron_hse_Hse_throwException\r\n  (JNIEnv *env, jclass hse_cls)\r\n{\r\n    (void)hse_cls;\r\n\r\n    /* Generate error */\r\n    hse_err_t err = hse_kvdb_txn_begin(NULL, NULL);\r\n\r\n    throw_new_hse_exception(env, err);\r\n}\r\n```\r\n\r\nThis printed the following after executing `java -jar path/to/jar`:\r\n\r\n```\r\nException in thread &quot;main&quot; com.micron.hse.HseException: lib/binding/kvdb_interface.c:1046: Invalid argument (22)\r\n        at com.micron.hse.Hse.throwException(Native Method)\r\n        at com.micron.hse.Hse.main(Hse.java:28)\r\n```\r\n\r\nThat is exactly what I expect to be printed, so now I would say I am even more lost than when I started. For some reason in the context of my tests, the InstantiationException is raised. Not sure if an application using the JAR would hit the same issue or if it is just a test context thing.\r\n\r\nEdit 2:\r\n\r\nChanged the main method from the previous edit to the following which is pretty much exactly what my test does:\r\n\r\n```java\r\n    public static void main(String[] args) throws HseException {\r\n        try {\r\n            loadLibrary(Paths.get(&quot;/home/tpartin/Projects/hse-java/build/src/main/c/libhsejni-2.so&quot;));\r\n\r\n            init();\r\n\r\n            final Kvdb kvdb = Kvdb.open(Paths.get(&quot;/media/hse-tests&quot;));\r\n            final Kvs kvs = kvdb.kvsOpen(&quot;kvs&quot;);\r\n\r\n            kvs.delete((byte[])null);\r\n\r\n            kvs.close();\r\n            kvdb.close();\r\n        } finally {\r\n            // fini();\r\n        }\r\n    }\r\n```\r\n\r\nAnd was able throw the exception from C appropriately. This must mean that something is wrong with my test environment somehow.\r\n\r\nEdit 3: Another clue. On one test, this issue generates the InstantiationException. On another test, this issue segfaults in `jni_NewObject`.","title":"JNIEnv::NewObject() throwing java.lang.InstantiantionException","body":"<p>I am attempting to call <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewObject\" rel=\"nofollow noreferrer\">JNIEnv::NewObject()</a> in some JNI code when a C function returns a non-zero error code.</p>\n<p>The order of events looks like:</p>\n<ol>\n<li>Call C function.</li>\n<li>If return code is non-zero, call a helper function which throws a custom excpetion.</li>\n</ol>\n<p>The class I am trying to construct so that I can throw it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class HseException extends Exception {\n    private static final long serialVersionUID = 8995408998818557762L;\n\n    private final int errno;\n    private final Context ctx;\n\n    /* Only called from C */\n    HseException(final String message, final int errno, final Context ctx) {\n        super(message);\n\n        this.errno = errno;\n        this.ctx = ctx;\n    }\n\n    public Context getContext() {\n        return this.ctx;\n    }\n\n    public int getErrno() {\n        return this.errno;\n    }\n\n    public static enum Context {\n        NONE\n    }\n}\n</code></pre>\n<p>In my code I am caching the <code>jclass</code> and <code>jmethodID</code> for the class and the constructor in a global struct, but the code looks like:</p>\n<pre class=\"lang-c prettyprint-override\"><code>    globals.com.micron.hse.HseException.class =\n        (*env)-&gt;FindClass(env, &quot;com/micron/hse/HseException&quot;);\n    globals.com.micron.hse.HseException.init = (*env)-&gt;GetMethodID(\n        env,\n        globals.com.micron.hse.HseException.class,\n        &quot;&lt;init&gt;&quot;,\n        &quot;(Ljava/lang/String;ILcom/micron/hse/HseException$Context;)V&quot;);\n\n    globals.com.micron.hse.HseException.Context.class =\n        (*env)-&gt;FindClass(env, &quot;com/micron/hse/HseException$Context&quot;);\n    globals.com.micron.hse.HseException.Context.NONE = (*env)-&gt;GetStaticFieldID(\n        env,\n        globals.com.micron.hse.HseException.Context.class,\n        &quot;NONE&quot;,\n        &quot;Lcom/micron/hse/HseException$Context;&quot;);\n</code></pre>\n<p>Note that the above code is located in the <code>JNI_OnLoad()</code> function of my library. This function completes without error, so this tells me that at least my classes and methods are being loaded correctly.</p>\n<p>Lastly here is my helper function where I throw my custom exception type:</p>\n<pre class=\"lang-c prettyprint-override\"><code>/* hse_err_t is a scalar type.\n * hse_strerror() creates a string out of that scalar.\n * hse_err_to_ctx() gets the enum context value embedded within the scalar.\n * hse_err_to_errno() gets the errno value embedded within the scalar.\n */\njint\nthrow_new_hse_exception(JNIEnv *env, hse_err_t err)\n{\n    assert(env);\n    assert(err);\n\n    const size_t needed_sz = hse_strerror(err, NULL, 0);\n    char        *buf = malloc(needed_sz + 1);\n    if (!buf)\n        return (*env)-&gt;ThrowNew(\n            env,\n            globals.java.lang.OutOfMemoryError.class,\n            &quot;Failed to allocate memory for error buffer&quot;);\n\n    hse_strerror(err, buf, needed_sz + 1);\n\n    const jstring message = (*env)-&gt;NewStringUTF(env, buf);\n    free(buf);\n    if ((*env)-&gt;ExceptionCheck(env))\n        return JNI_ERR;\n\n    const int              rc = hse_err_to_errno(err);\n    const enum hse_err_ctx ctx = hse_err_to_ctx(err);\n\n    jfieldID err_ctx_field = NULL;\n    switch (ctx) {\n        case HSE_ERR_CTX_NONE:\n            err_ctx_field = globals.com.micron.hse.HseException.Context.NONE;\n            break;\n    }\n\n    assert(err_ctx_field);\n\n    const jobject err_ctx_obj = (*env)-&gt;GetStaticObjectField(\n        env, globals.com.micron.hse.HseException.Context.class, err_ctx_field);\n    if ((*env)-&gt;ExceptionCheck(env))\n        return JNI_ERR;\n\n    const jobject hse_exception_obj = (*env)-&gt;NewObject(\n        env,\n        globals.com.micron.hse.HseException.class,\n        globals.com.micron.hse.HseException.init,\n        message,\n        rc,\n        err_ctx_obj);\n    if ((*env)-&gt;ExceptionCheck(env))\n        return JNI_ERR;\n\n    return (*env)-&gt;Throw(env, (jthrowable)hse_exception_obj);\n}\n</code></pre>\n<p>I know for a fact that the <code>(*env)-&gt;NewObject()</code> call is what is raising the exception because an exception check before and after will tell me so. The <code>(*env)-&gt;NewStringUTF()</code> call is successful and contains the string it should contain. The context field is also retrieved successfully.</p>\n<p>What I am not understanding is why I am getting an <code>InstantiationException</code>. The <code>Throws</code> section of the <code>JNIEnv::NewObject()</code> is marked as the following:</p>\n<pre><code>THROWS:\nInstantiationException: if the class is an interface or an abstract class.\n\nOutOfMemoryError: if the system runs out of memory.\n\nAny exceptions thrown by the constructor.\n</code></pre>\n<p>My class is not an interface nor is it an abstract class, so where could this exception be generated from? The weird thing is that I swear this worked before, but since I am writing these Java bindings from scratch, I have just been overwriting commits and force pushing to my branch.</p>\n<p>Any help is appreciated. Unfortunately <code>getMessage()</code> on the exception returns <code>null</code> which just isn't helpful at all. There is no message from the JVM telling me potentially what I have done wrong either.</p>\n<p>One detail that could be helpful is that when I try to call <code>JNIEnv::ThrowNew()</code> (after putting a <code>(Ljava/lang/String;)V</code> constructor in the same <code>HseException</code> class, <code>jni_ThrowNew()</code> segfaults, and I cannot understand why. The class is valid when I stash the <code>jclass</code>, and I know for a fact that the memory it is stashed in isn't overwritten in any way, since I have checked the pointer.</p>\n<p>The repo where all this code lives is: <a href=\"https://github.com/hse-project/hse-java\" rel=\"nofollow noreferrer\">https://github.com/hse-project/hse-java</a>. Unfinished product, but at least it is buildable and tests can be ran. In the event that someone decides to clone the repo and build it, I will repeat the directions here:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>meson build\nninja -C build\nmeson test -C build -t 0 KvsTest # I am using this test to exercise the code path\n</code></pre>\n<p>My goal tomorrow will be to try to reproduce the issue in a smaller manner. I may also try to peer into the OpenJDK code assuming that is where the JNI interfaces live. Figure if I look hard enough, I might find the line of code which generates the exception.</p>\n<p>Edit: I did a test where in my current code, I added a main function and a native function whose only purpose is to throw an exception from C. The code looks something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static native void throwException();\n\npublic static void main(String[] args) {\n    System.load(&quot;/path/to/.so&quot;);\n    throwException();\n}\n</code></pre>\n<p>The implementation of the native function is:</p>\n<pre class=\"lang-c prettyprint-override\"><code>void Java_com_micron_hse_Hse_throwException\n  (JNIEnv *env, jclass hse_cls)\n{\n    (void)hse_cls;\n\n    /* Generate error */\n    hse_err_t err = hse_kvdb_txn_begin(NULL, NULL);\n\n    throw_new_hse_exception(env, err);\n}\n</code></pre>\n<p>This printed the following after executing <code>java -jar path/to/jar</code>:</p>\n<pre><code>Exception in thread &quot;main&quot; com.micron.hse.HseException: lib/binding/kvdb_interface.c:1046: Invalid argument (22)\n        at com.micron.hse.Hse.throwException(Native Method)\n        at com.micron.hse.Hse.main(Hse.java:28)\n</code></pre>\n<p>That is exactly what I expect to be printed, so now I would say I am even more lost than when I started. For some reason in the context of my tests, the InstantiationException is raised. Not sure if an application using the JAR would hit the same issue or if it is just a test context thing.</p>\n<p>Edit 2:</p>\n<p>Changed the main method from the previous edit to the following which is pretty much exactly what my test does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws HseException {\n        try {\n            loadLibrary(Paths.get(&quot;/home/tpartin/Projects/hse-java/build/src/main/c/libhsejni-2.so&quot;));\n\n            init();\n\n            final Kvdb kvdb = Kvdb.open(Paths.get(&quot;/media/hse-tests&quot;));\n            final Kvs kvs = kvdb.kvsOpen(&quot;kvs&quot;);\n\n            kvs.delete((byte[])null);\n\n            kvs.close();\n            kvdb.close();\n        } finally {\n            // fini();\n        }\n    }\n</code></pre>\n<p>And was able throw the exception from C appropriately. This must mean that something is wrong with my test environment somehow.</p>\n<p>Edit 3: Another clue. On one test, this issue generates the InstantiationException. On another test, this issue segfaults in <code>jni_NewObject</code>.</p>\n"},{"tags":["java","logging","grails","log4j","log4j2"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1642440092,"post_id":70741835,"comment_id":125066092,"body_markdown":"&quot;How can I stop the internal logs from appending?&quot; - Do you want to turn off all logging that comes from the framework and only include logging that comes from your application&#39;s code?","body":"&quot;How can I stop the internal logs from appending?&quot; - Do you want to turn off all logging that comes from the framework and only include logging that comes from your application&#39;s code?"},{"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"score":0,"creation_date":1642502561,"post_id":70741835,"comment_id":125081986,"body_markdown":"@JeffScottBrown I think better to have just the error logs from the framework, and my application logs. These never used to appear before upgrading to log4j2 v.2.17.1. Not sure what exactly am doing wrong.\n\nI notice that the log4j config in Config.groovy is not being read.","body":"@JeffScottBrown I think better to have just the error logs from the framework, and my application logs. These never used to appear before upgrading to log4j2 v.2.17.1. Not sure what exactly am doing wrong.  I notice that the log4j config in Config.groovy is not being read."},{"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"score":0,"creation_date":1642503333,"post_id":70741835,"comment_id":125082329,"body_markdown":"@JeffScottBrown I&#39;ve updated the question with the log4j config present in Config.groovy.","body":"@JeffScottBrown I&#39;ve updated the question with the log4j config present in Config.groovy."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1642515826,"post_id":70741835,"comment_id":125087387,"body_markdown":"&quot;I think better to have just the error logs from the framework, and my application logs&quot; - If you mean that you want different logs for the framework vs your application code, then you should configure a separate appender for your app classes.","body":"&quot;I think better to have just the error logs from the framework, and my application logs&quot; - If you mean that you want different logs for the framework vs your application code, then you should configure a separate appender for your app classes."},{"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"score":0,"creation_date":1642524510,"post_id":70741835,"comment_id":125091249,"body_markdown":"@JeffScottBrown Is there a way I can disable these extra logs?","body":"@JeffScottBrown Is there a way I can disable these extra logs?"}],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642634450,"creation_date":1642633994,"answer_id":70778940,"question_id":70741835,"body_markdown":"First, specifying an additivity on the root logger is meaningless. Please see [Log4j 2 Configuration - Additivity][1] for how additivity works.\r\n\r\nOut of the box, Log4j 1 does not support configuration via Groovy. From what I can tell you are providing a basic log4j 1.x configuration and then the Groovy tool is modifying that configuration. I can&#39;t be sure what all of the syntax means without looking at the tools documentation. However, it seems pretty clear that the lines doing \r\n\r\n      error &#39;org.codehaus.groovy.grails.web.servlet&#39;,  //  controllers\r\n      &#39;org.codehaus.groovy.grails.web.pages&#39;, //  GSP\r\n      &#39;org.codehaus.groovy.grails.web.sitemesh&#39;, //  layouts\r\n      &#39;org.codehaus.groovy.grails.web.mapping.filter&#39;, // URL mapping\r\n      &#39;org.codehaus.groovy.grails.web.mapping&#39;, // URL mapping\r\n      &#39;org.codehaus.groovy.grails.commons&#39;, // core / classloading\r\n      &#39;org.codehaus.groovy.grails.plugins&#39;, // plugins\r\n      &#39;org.codehaus.groovy.grails.orm.hibernate&#39;, // hibernate integration\r\n      &#39;org.springframework&#39;,\r\n      &#39;org.hibernate&#39;\r\nare declaring individual loggers at the error level.\r\n\r\nSo you would need to add lines to your configuration such as\r\n\r\n    logger.hibernate.name = org.hibernate\r\n    logger.hibernate.level = error\r\n\r\nto match what your Groovy code is doing. If you do not specify the additivity it will default to true and the message will be routed to the appender associated with the root logger. \r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity","title":"Internal Grails logs appearing after log4j2 upgrade","body":"<p>First, specifying an additivity on the root logger is meaningless. Please see <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity\" rel=\"nofollow noreferrer\">Log4j 2 Configuration - Additivity</a> for how additivity works.</p>\n<p>Out of the box, Log4j 1 does not support configuration via Groovy. From what I can tell you are providing a basic log4j 1.x configuration and then the Groovy tool is modifying that configuration. I can't be sure what all of the syntax means without looking at the tools documentation. However, it seems pretty clear that the lines doing</p>\n<pre><code>  error 'org.codehaus.groovy.grails.web.servlet',  //  controllers\n  'org.codehaus.groovy.grails.web.pages', //  GSP\n  'org.codehaus.groovy.grails.web.sitemesh', //  layouts\n  'org.codehaus.groovy.grails.web.mapping.filter', // URL mapping\n  'org.codehaus.groovy.grails.web.mapping', // URL mapping\n  'org.codehaus.groovy.grails.commons', // core / classloading\n  'org.codehaus.groovy.grails.plugins', // plugins\n  'org.codehaus.groovy.grails.orm.hibernate', // hibernate integration\n  'org.springframework',\n  'org.hibernate'\n</code></pre>\n<p>are declaring individual loggers at the error level.</p>\n<p>So you would need to add lines to your configuration such as</p>\n<pre><code>logger.hibernate.name = org.hibernate\nlogger.hibernate.level = error\n</code></pre>\n<p>to match what your Groovy code is doing. If you do not specify the additivity it will default to true and the message will be routed to the appender associated with the root logger.</p>\n"}],"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642634450,"creation_date":1642424638,"question_id":70741835,"body_markdown":"I&#39;m upgrading log4j dependency in my *grails 2.5.4* application from *1.2.17* to the latest version *2.17.1*\r\n\r\nI&#39;ve excluded log4j from the *BuildConfig.groovy* and added the following dependencies pertaining to *v2.17.1*:\r\n\r\n - log4j-api\r\n - log4j-core\r\n - log4j-1.2-api\r\n - log4j-slf4j-impl\r\n\r\nI&#39;m using the log4-1.x bridge to reduce overall codebase change.\r\n\r\nI&#39;ve added the following log4j2.properties file under the *conf* directory:\r\n\r\n    rootLogger.level = INFO\r\n    rootLogger.additivity = false\r\n    rootLogger.appenderRefs = stdout\r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n\r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %m%n\r\n\r\nBut during the application boot-up and usage, I notice extra logs getting added to the console:\r\n\r\n    ..........................................Attempting to load [0] user defined plugins\r\n    Grails plug-in [dataBinding] with version [2.5.4] loaded successfully\r\n    Grails plug-in [i18n] with version [2.5.4] loaded successfully\r\n    Grails plug-in [restResponder] with version [2.5.4] loaded successfully\r\n    Grails plug-in [core] with version [2.5.4] loaded successfully\r\n    Grails plug-in [greenmail] with version [1.3.4] loaded successfully\r\n    Grails plug-in [executor] with version [0.3] loaded successfully\r\n    Grails plug-in [webxml] with version [1.4.1] loaded successfully\r\n    Grails plug-in [cacheHeaders] with version [1.1.7] loaded successfully\r\n    Grails plug-in [browserDetection] with version [2.8.1] loaded successfully\r\n    Grails plug-in [console] with version [1.5.12] loaded successfully\r\n    Grails plug-in [remotePagination] with version [0.4.8] loaded successfully\r\n    Grails plug-in [tomcat] with version [7.0.42] loaded successfully\r\n    ...\r\n\r\nSome Hibernate logs are also appearing (didn&#39;t add the logs due to Domain information present)\r\n\r\nIt seems like the internal Grails logs are appended to the console. During application use, following kind of logs appeared:\r\n\r\n    FrameworkServlet &#39;gsp&#39;: initialization started\r\n    GSP servlet initialized\r\n    FrameworkServlet &#39;gsp&#39;: initialization completed in 39 ms\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/favicon.ico\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/spinner.gif\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/spinner.gif\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/spinner.gif\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/spinner.gif\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/spinner.gif\r\n    Invocation of &lt;r:resource&gt; for a resource that apparently doesn&#39;t exist: /assets/spinner.gif\r\n    ...\r\n\r\n\r\nSeems like setting the *additivity* property to *false* is not working. I tried using *additive* as well, but in vain.\r\n\r\nI notice that log4j config present in Config.groovy is also not being read. Here&#39;s the config:\r\n\r\n        log4j = {\r\n      appenders {\r\n    \r\n    \r\n        &#39;null&#39; name: &#39;empty&#39;\r\n    \r\n        environments {\r\n          development {\r\n            &#39;null&#39; name: &#39;stacktrace&#39;\r\n    \r\n            appender name: &quot;appLog&quot;,\r\n                new org.apache.log4j.DailyRollingFileAppender(\r\n                    threshold: org.apache.log4j.Level.INFO,\r\n                    datePattern: &quot;&#39;.&#39;yyyy-MM-dd&quot;,\r\n                    file: &quot;/tmp/test.log&quot;,\r\n                    layout: pattern(conversionPattern: &#39;[%d{yyyy-MM-dd hh:mm:ss.SSS}] %p %c{5} %m%n&#39;))\r\n            root {\r\n              info stdout\r\n            }\r\n          }\r\n    \r\n          production {\r\n            file name: &#39;stacktrace&#39;, file: &quot;/logs/stacktrace.log&quot;.toString()\r\n    \r\n    \r\n            root {\r\n              error &#39;stdout&#39;\r\n              info stdout\r\n            }\r\n          }\r\n    \r\n        }\r\n    \r\n      }\r\n    \r\n    //  off &#39;ErrorsController &amp; ResourceMeta&#39;\r\n      off &#39;org.grails.plugin.resource.ResourceMeta&#39;,\r\n          &#39;org.springframework.security.saml.metadata&#39;\r\n    \r\n      error empty: [&#39;grails.app.services.org.grails.plugin.resource&#39;,\r\n                    &#39;grails.app.taglib.org.grails.plugin.resource&#39;,\r\n                    &#39;grails.app.resourceMappers.org.grails.plugin.resource&#39;,\r\n                    &#39;grails.app.resource.ResourceMeta&#39;]\r\n    \r\n      info &#39;grails.plugin.springsecurity.web.filter.DebugFilter&#39;\r\n    \r\n      error &#39;org.codehaus.groovy.grails.web.servlet&#39;,  //  controllers\r\n          &#39;org.codehaus.groovy.grails.web.pages&#39;, //  GSP\r\n          &#39;org.codehaus.groovy.grails.web.sitemesh&#39;, //  layouts\r\n          &#39;org.codehaus.groovy.grails.web.mapping.filter&#39;, // URL mapping\r\n          &#39;org.codehaus.groovy.grails.web.mapping&#39;, // URL mapping\r\n          &#39;org.codehaus.groovy.grails.commons&#39;, // core / classloading\r\n          &#39;org.codehaus.groovy.grails.plugins&#39;, // plugins\r\n          &#39;org.codehaus.groovy.grails.orm.hibernate&#39;, // hibernate integration\r\n          &#39;org.springframework&#39;,\r\n          &#39;org.hibernate&#39;\r\n    \r\n      debug &#39;org.springframework.security.saml&#39;\r\n    \r\n      warn &#39;org.mortbay.log&#39;\r\n      environments {\r\n        development {\r\n          //info additivity: true, appLog: &quot;grails.app&quot;\r\n        }\r\n      }\r\n    \r\n    \r\n      root {\r\n        additivity = false\r\n      }\r\n    }\r\n\r\nCould someone please guide what I&#39;m doing wrong? How can I stop the internal logs from appending?\r\n\r\n","title":"Internal Grails logs appearing after log4j2 upgrade","body":"<p>I'm upgrading log4j dependency in my <em>grails 2.5.4</em> application from <em>1.2.17</em> to the latest version <em>2.17.1</em></p>\n<p>I've excluded log4j from the <em>BuildConfig.groovy</em> and added the following dependencies pertaining to <em>v2.17.1</em>:</p>\n<ul>\n<li>log4j-api</li>\n<li>log4j-core</li>\n<li>log4j-1.2-api</li>\n<li>log4j-slf4j-impl</li>\n</ul>\n<p>I'm using the log4-1.x bridge to reduce overall codebase change.</p>\n<p>I've added the following log4j2.properties file under the <em>conf</em> directory:</p>\n<pre><code>rootLogger.level = INFO\nrootLogger.additivity = false\nrootLogger.appenderRefs = stdout\nrootLogger.appenderRef.stdout.ref = STDOUT\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %m%n\n</code></pre>\n<p>But during the application boot-up and usage, I notice extra logs getting added to the console:</p>\n<pre><code>..........................................Attempting to load [0] user defined plugins\nGrails plug-in [dataBinding] with version [2.5.4] loaded successfully\nGrails plug-in [i18n] with version [2.5.4] loaded successfully\nGrails plug-in [restResponder] with version [2.5.4] loaded successfully\nGrails plug-in [core] with version [2.5.4] loaded successfully\nGrails plug-in [greenmail] with version [1.3.4] loaded successfully\nGrails plug-in [executor] with version [0.3] loaded successfully\nGrails plug-in [webxml] with version [1.4.1] loaded successfully\nGrails plug-in [cacheHeaders] with version [1.1.7] loaded successfully\nGrails plug-in [browserDetection] with version [2.8.1] loaded successfully\nGrails plug-in [console] with version [1.5.12] loaded successfully\nGrails plug-in [remotePagination] with version [0.4.8] loaded successfully\nGrails plug-in [tomcat] with version [7.0.42] loaded successfully\n...\n</code></pre>\n<p>Some Hibernate logs are also appearing (didn't add the logs due to Domain information present)</p>\n<p>It seems like the internal Grails logs are appended to the console. During application use, following kind of logs appeared:</p>\n<pre><code>FrameworkServlet 'gsp': initialization started\nGSP servlet initialized\nFrameworkServlet 'gsp': initialization completed in 39 ms\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/favicon.ico\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/spinner.gif\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/spinner.gif\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/spinner.gif\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/spinner.gif\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/spinner.gif\nInvocation of &lt;r:resource&gt; for a resource that apparently doesn't exist: /assets/spinner.gif\n...\n</code></pre>\n<p>Seems like setting the <em>additivity</em> property to <em>false</em> is not working. I tried using <em>additive</em> as well, but in vain.</p>\n<p>I notice that log4j config present in Config.groovy is also not being read. Here's the config:</p>\n<pre><code>    log4j = {\n  appenders {\n\n\n    'null' name: 'empty'\n\n    environments {\n      development {\n        'null' name: 'stacktrace'\n\n        appender name: &quot;appLog&quot;,\n            new org.apache.log4j.DailyRollingFileAppender(\n                threshold: org.apache.log4j.Level.INFO,\n                datePattern: &quot;'.'yyyy-MM-dd&quot;,\n                file: &quot;/tmp/test.log&quot;,\n                layout: pattern(conversionPattern: '[%d{yyyy-MM-dd hh:mm:ss.SSS}] %p %c{5} %m%n'))\n        root {\n          info stdout\n        }\n      }\n\n      production {\n        file name: 'stacktrace', file: &quot;/logs/stacktrace.log&quot;.toString()\n\n\n        root {\n          error 'stdout'\n          info stdout\n        }\n      }\n\n    }\n\n  }\n\n//  off 'ErrorsController &amp; ResourceMeta'\n  off 'org.grails.plugin.resource.ResourceMeta',\n      'org.springframework.security.saml.metadata'\n\n  error empty: ['grails.app.services.org.grails.plugin.resource',\n                'grails.app.taglib.org.grails.plugin.resource',\n                'grails.app.resourceMappers.org.grails.plugin.resource',\n                'grails.app.resource.ResourceMeta']\n\n  info 'grails.plugin.springsecurity.web.filter.DebugFilter'\n\n  error 'org.codehaus.groovy.grails.web.servlet',  //  controllers\n      'org.codehaus.groovy.grails.web.pages', //  GSP\n      'org.codehaus.groovy.grails.web.sitemesh', //  layouts\n      'org.codehaus.groovy.grails.web.mapping.filter', // URL mapping\n      'org.codehaus.groovy.grails.web.mapping', // URL mapping\n      'org.codehaus.groovy.grails.commons', // core / classloading\n      'org.codehaus.groovy.grails.plugins', // plugins\n      'org.codehaus.groovy.grails.orm.hibernate', // hibernate integration\n      'org.springframework',\n      'org.hibernate'\n\n  debug 'org.springframework.security.saml'\n\n  warn 'org.mortbay.log'\n  environments {\n    development {\n      //info additivity: true, appLog: &quot;grails.app&quot;\n    }\n  }\n\n\n  root {\n    additivity = false\n  }\n}\n</code></pre>\n<p>Could someone please guide what I'm doing wrong? How can I stop the internal logs from appending?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16686759,"reputation":13,"user_id":17978797,"display_name":"Michel Guirguis"},"score":0,"creation_date":1642633077,"post_id":70778804,"comment_id":125126385,"body_markdown":"The link has a picture of me running the code with test cases","body":"The link has a picture of me running the code with test cases"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1642633302,"post_id":70778804,"comment_id":125126446,"body_markdown":"1 is less than 8.","body":"1 is less than 8."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642633467,"post_id":70778804,"comment_id":125126495,"body_markdown":"Pay more attention to case `nearTen(1)`. What is result at *Run* column? What it should be?","body":"Pay more attention to case <code>nearTen(1)</code>. What is result at <i>Run</i> column? What it should be?"},{"owner":{"account_id":16686759,"reputation":13,"user_id":17978797,"display_name":"Michel Guirguis"},"score":0,"creation_date":1642633573,"post_id":70778804,"comment_id":125126521,"body_markdown":"how come nearTen (1) is true? is 0 a multiple of 10?","body":"how come nearTen (1) is true? is 0 a multiple of 10?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1642633677,"post_id":70778804,"comment_id":125126554,"body_markdown":"@MichelGuirguis According to your image, it outputs *false*, but it was **expected** to output *true*.","body":"@MichelGuirguis According to your image, it outputs <i>false</i>, but it was <b>expected</b> to output <i>true</i>."},{"owner":{"account_id":16686759,"reputation":13,"user_id":17978797,"display_name":"Michel Guirguis"},"score":0,"creation_date":1642633993,"post_id":70778804,"comment_id":125126650,"body_markdown":"@DavidConrad yes I just noticed that. I assumed it output the reverse because I do not understand why nearTen(1) would be true.","body":"@DavidConrad yes I just noticed that. I assumed it output the reverse because I do not understand why nearTen(1) would be true."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642634045,"post_id":70778804,"comment_id":125126666,"body_markdown":"`0` is *multiplication* of 10, specifically `0*10 = 0` and since `1` is *within 2* of 0 (which is multiple of 10) method should return `true` for `1`.","body":"<code>0</code> is <i>multiplication</i> of 10, specifically <code>0*10 = 0</code> and since <code>1</code> is <i>within 2</i> of 0 (which is multiple of 10) method should return <code>true</code> for <code>1</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1642634065,"post_id":70778804,"comment_id":125126673,"body_markdown":"`nearTen(1)` is true because 1 is less than 8, and the first thing you do is test to see if it is less than 8 and return false.","body":"<code>nearTen(1)</code> is true because 1 is less than 8, and the first thing you do is test to see if it is less than 8 and return false."}],"answers":[{"tags":[],"owner":{"account_id":7743843,"reputation":26,"user_id":5862466,"display_name":"ALargeTom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642634028,"creation_date":1642634028,"answer_id":70778949,"question_id":70778804,"body_markdown":"    public boolean nearTen(int num) {\r\n        if(num &lt; 8) {\r\n            return false;\r\n        } else if(num % 10 == 0) {\r\n            return true;\r\n        }\r\n        while(num / 10 != 0) {\r\n            num = num - 10;\r\n        }\r\n        if(num == 8 || num == 9 || num == 1 || num == 2) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\nthis is your code, but in first if condition you are doing \r\n\r\n    if(num &lt; 8) \r\n        return false\r\n    //so 100% you will fail case =&gt; input is 1  \r\nAnd your logic has some issues. Instead of using &quot;/&quot;, we can use &quot;%&quot;. Reason is you only consider number multiplied by 10.  \r\nfor example:\r\n\r\n - 1 / 11 / 21 / 111 / 555551 /  1000001 =&gt; last digit is 1\r\n - 2 / 12 / 122 / 12342 /  5124512 /  1000002 =&gt; last digit is 2\r\n\r\nfor all those numbers we can ignore previous digits, and only consider last digit. Because previous digits are numbers used to multiply 10.  \r\nso this answer can be simplified to following code\r\n\r\n    public boolean nearTen(int num) {\r\n        if(num &lt; 0) {\r\n            return false;\r\n        }\r\n        num %= 10;\r\n        return num == 8 || num == 9 || (num &gt;= 0 &amp;&amp; num &lt;= 2);\r\n    }\r\n\r\n","title":"Coding challenge: Solution debugging","body":"<pre><code>public boolean nearTen(int num) {\n    if(num &lt; 8) {\n        return false;\n    } else if(num % 10 == 0) {\n        return true;\n    }\n    while(num / 10 != 0) {\n        num = num - 10;\n    }\n    if(num == 8 || num == 9 || num == 1 || num == 2) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>this is your code, but in first if condition you are doing</p>\n<pre><code>if(num &lt; 8) \n    return false\n//so 100% you will fail case =&gt; input is 1  \n</code></pre>\n<p>And your logic has some issues. Instead of using &quot;/&quot;, we can use &quot;%&quot;. Reason is you only consider number multiplied by 10.<br />\nfor example:</p>\n<ul>\n<li>1 / 11 / 21 / 111 / 555551 /  1000001 =&gt; last digit is 1</li>\n<li>2 / 12 / 122 / 12342 /  5124512 /  1000002 =&gt; last digit is 2</li>\n</ul>\n<p>for all those numbers we can ignore previous digits, and only consider last digit. Because previous digits are numbers used to multiply 10.<br />\nso this answer can be simplified to following code</p>\n<pre><code>public boolean nearTen(int num) {\n    if(num &lt; 0) {\n        return false;\n    }\n    num %= 10;\n    return num == 8 || num == 9 || (num &gt;= 0 &amp;&amp; num &lt;= 2);\n}\n</code></pre>\n"}],"owner":{"account_id":16686759,"reputation":13,"user_id":17978797,"display_name":"Michel Guirguis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70778949,"answer_count":1,"score":1,"last_activity_date":1642634028,"creation_date":1642633021,"question_id":70778804,"body_markdown":"A picture of code and test cases:\r\n![A picture of code and test cases. Please click][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A3e9I.png\r\nThis is the problem:\r\n\r\nGiven a non-negative number &quot;num&quot;, return true if num is within 2 of a multiple of 10. Note: (a % b) is the remainder of dividing a by b, so (7 % 5) is 2. See also: Introduction to Mod\r\n\r\nMy code fails nearTen(1) for some reason. please open the picture for details.\r\n\r\n```\r\npublic boolean nearTen(int num) {\r\n    if (num &lt; 8)\r\n        return false;\r\n\r\n    if (num % 10 == 0)\r\n        return true;\r\n\r\n    while (num / 10 != 0) {\r\n        num = num - 10;\r\n    }\r\n\r\n    if (num == 8 || num == 9 || num == 1 || num == 2)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n```","title":"Coding challenge: Solution debugging","body":"<p>A picture of code and test cases:\n<img src=\"https://i.stack.imgur.com/A3e9I.png\" alt=\"A picture of code and test cases. Please click\" /></p>\n<p>This is the problem:</p>\n<p>Given a non-negative number &quot;num&quot;, return true if num is within 2 of a multiple of 10. Note: (a % b) is the remainder of dividing a by b, so (7 % 5) is 2. See also: Introduction to Mod</p>\n<p>My code fails nearTen(1) for some reason. please open the picture for details.</p>\n<pre><code>public boolean nearTen(int num) {\n    if (num &lt; 8)\n        return false;\n\n    if (num % 10 == 0)\n        return true;\n\n    while (num / 10 != 0) {\n        num = num - 10;\n    }\n\n    if (num == 8 || num == 9 || num == 1 || num == 2)\n        return true;\n\n    return false;\n}\n</code></pre>\n"},{"tags":["java","resin"],"answers":[{"tags":[],"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287476523,"creation_date":1287476523,"answer_id":3966452,"question_id":3966421,"body_markdown":"While  trying to launch the application set the max and min size for heap and reserved areas\r\n\r\nusing Xmx Xms Xss","title":"How to avoid OutOfMemoryError uploading file?","body":"<p>While  trying to launch the application set the max and min size for heap and reserved areas</p>\n\n<p>using Xmx Xms Xss</p>\n"},{"tags":[],"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287476776,"creation_date":1287476776,"answer_id":3966488,"question_id":3966421,"body_markdown":"[OutOfMemoryError][1] are thrown by the JVM when not enough memory is available for a particular action (object&#39;s instantiation for example)\r\n\r\n\r\nTo avoid such errors you can increase the memory avaible for the JVM at startup time using a specific option depending on your JVM (usually -Xmx512m for 512 megas)\r\n\r\nIn your case, such small upload should not generate any OutOfMemoryError and I recommend using a tool such as [Memory Analyzer][2] to identify the origin of the error. \r\n\r\n\r\n  [1]: http://download-llnw.oracle.com/javase/6/docs/api/java/lang/OutOfMemoryError.html\r\n  [2]: http://www.eclipse.org/mat/","title":"How to avoid OutOfMemoryError uploading file?","body":"<p><a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow\">OutOfMemoryError</a> are thrown by the JVM when not enough memory is available for a particular action (object's instantiation for example)</p>\n\n<p>To avoid such errors you can increase the memory avaible for the JVM at startup time using a specific option depending on your JVM (usually -Xmx512m for 512 megas)</p>\n\n<p>In your case, such small upload should not generate any OutOfMemoryError and I recommend using a tool such as <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow\">Memory Analyzer</a> to identify the origin of the error. </p>\n"},{"tags":[],"owner":{"account_id":101936,"reputation":5859,"user_id":273924,"accept_rate":43,"display_name":"locka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1287477685,"creation_date":1287477153,"answer_id":3966535,"question_id":3966421,"body_markdown":"If you are running out of memory, the first thing to check is how much memory your JVM has allocated. You don&#39;t say how Resin is running or which JVM it is using or the OS / host but typically a JVM will be governed by a default heap size and a a maximum heap size. From the command line the standard JVM has `-Xms` and `-Xmx` parameters that govern these values. When the JVM starts it allocates the default heap and it will allow it to grow to the maximum. When an allocation exceeds the maximum heap it might try to release any soft / weak references and other disposable resources, force a GC, but if it still hasn&#39;t enough space it will throw an `OutOfMemoryException`. Therefore changing the values can affect when this happens.\r\n\r\nThe second thing to look for is how you allocate memory in the server. For example, if your server holds a pile of stuff in memory with strong references you can run out of memory, if so consider using a weak references instead or something like [Ehcache][1] to move stuff out to disk. Or if your servlet were allocating MB instead of KB due to some kind of calculation error. You shouldn&#39;t be trying to read the entire input into memory anyway. Assuming you are implementing a servlet, then the supplied `ServletRequest` / `HttpServletRequest` allows you to access the input stream of the POSTDATA and you can read it in chunks (e.g. 32KB at a time) and write it out to an output buffer in chunks. As a general rule of thumb reading input data in discrete chunks would be better practice anyway since you don&#39;t want untrusted data to be able to break your server by passing some massive file to you.\r\n\r\n\r\n  [1]: http://ehcache.org/","title":"How to avoid OutOfMemoryError uploading file?","body":"<p>If you are running out of memory, the first thing to check is how much memory your JVM has allocated. You don't say how Resin is running or which JVM it is using or the OS / host but typically a JVM will be governed by a default heap size and a a maximum heap size. From the command line the standard JVM has <code>-Xms</code> and <code>-Xmx</code> parameters that govern these values. When the JVM starts it allocates the default heap and it will allow it to grow to the maximum. When an allocation exceeds the maximum heap it might try to release any soft / weak references and other disposable resources, force a GC, but if it still hasn't enough space it will throw an <code>OutOfMemoryException</code>. Therefore changing the values can affect when this happens.</p>\n\n<p>The second thing to look for is how you allocate memory in the server. For example, if your server holds a pile of stuff in memory with strong references you can run out of memory, if so consider using a weak references instead or something like <a href=\"http://ehcache.org/\" rel=\"nofollow\">Ehcache</a> to move stuff out to disk. Or if your servlet were allocating MB instead of KB due to some kind of calculation error. You shouldn't be trying to read the entire input into memory anyway. Assuming you are implementing a servlet, then the supplied <code>ServletRequest</code> / <code>HttpServletRequest</code> allows you to access the input stream of the POSTDATA and you can read it in chunks (e.g. 32KB at a time) and write it out to an output buffer in chunks. As a general rule of thumb reading input data in discrete chunks would be better practice anyway since you don't want untrusted data to be able to break your server by passing some massive file to you.</p>\n"},{"tags":[],"owner":{"account_id":20148548,"reputation":144,"user_id":14776441,"display_name":"Bryce Rakop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642633653,"creation_date":1642633653,"answer_id":70778898,"question_id":3966421,"body_markdown":"I&#39;ll post this because it helped me, I tried fiddling with Tomcat memory allocations (I was running coldfusion and Lucee) but in the end I got around this problem by reading the file from disk instead of from a cfimage (memory):\r\nExcerpt from SQL statement from Disk (worked):\r\n```\r\n&lt;cfqueryparam value=&quot;#fileRead(&quot;#absFilePath#&quot;)#&quot; cfsqltype=&quot;cf_sql_blob&quot;&gt;,\r\n```\r\n\r\nExcerpt from SQL statement from memory (failed with larger files):\r\n```\r\n#Load into cfimage\r\n&lt;cfimage action=&quot;read&quot; source=&quot;#absFilePath#&quot; name=&quot;myImage&quot;&gt;\r\n#Try to us it in cfqueryparam example:\r\n&lt;cfqueryparam value=&quot;#ImageGetBlob(myImage)#&quot; cfsqltype=&quot;cf_sql_blob&quot;&gt;,\r\n```\r\n\r\nWhat I find SUPER odd is that I still do read the larger images into a cfimage so I can make a thumbnail, and that&#39;s fine, but I have to do the first insert with just a toBinary(&quot;Placeholder&quot;) and I can set the thumbnail, but then I have to do an update query to replace the &quot;Placeholder&quot; with the fileRead. Odd, but I&#39;ve tested up to 2MB now and it&#39;s fine, whereas before it was failing at ~400KB.","title":"How to avoid OutOfMemoryError uploading file?","body":"<p>I'll post this because it helped me, I tried fiddling with Tomcat memory allocations (I was running coldfusion and Lucee) but in the end I got around this problem by reading the file from disk instead of from a cfimage (memory):\nExcerpt from SQL statement from Disk (worked):</p>\n<pre><code>&lt;cfqueryparam value=&quot;#fileRead(&quot;#absFilePath#&quot;)#&quot; cfsqltype=&quot;cf_sql_blob&quot;&gt;,\n</code></pre>\n<p>Excerpt from SQL statement from memory (failed with larger files):</p>\n<pre><code>#Load into cfimage\n&lt;cfimage action=&quot;read&quot; source=&quot;#absFilePath#&quot; name=&quot;myImage&quot;&gt;\n#Try to us it in cfqueryparam example:\n&lt;cfqueryparam value=&quot;#ImageGetBlob(myImage)#&quot; cfsqltype=&quot;cf_sql_blob&quot;&gt;,\n</code></pre>\n<p>What I find SUPER odd is that I still do read the larger images into a cfimage so I can make a thumbnail, and that's fine, but I have to do the first insert with just a toBinary(&quot;Placeholder&quot;) and I can set the thumbnail, but then I have to do an update query to replace the &quot;Placeholder&quot; with the fileRead. Odd, but I've tested up to 2MB now and it's fine, whereas before it was failing at ~400KB.</p>\n"}],"owner":{"account_id":166235,"reputation":4986,"user_id":390230,"accept_rate":77,"display_name":"Shwetanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2718,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3966535,"answer_count":4,"score":2,"last_activity_date":1642633653,"creation_date":1287476323,"question_id":3966421,"body_markdown":"I&#39;m trying to upload image files. When uploading files of sizes of about 40 to 200kb everything is fine. But when I try to upload a file of size 459kb sometimes it gets uploaded and sometimes OutOfMemoryError is shown. I don&#39;t think that file size is very large for this error to be thrown. I&#39;m using resin. Is it possible there&#39;s a resin setting that prevents uploading of large sized files? Because in the code there is nowhere I&#39;m setting any maximum size for file uploading.\r\n\r\nAny one have any ideas how to avoid this. I want users to upload images of any size of up to about 10 MB.","title":"How to avoid OutOfMemoryError uploading file?","body":"<p>I'm trying to upload image files. When uploading files of sizes of about 40 to 200kb everything is fine. But when I try to upload a file of size 459kb sometimes it gets uploaded and sometimes OutOfMemoryError is shown. I don't think that file size is very large for this error to be thrown. I'm using resin. Is it possible there's a resin setting that prevents uploading of large sized files? Because in the code there is nowhere I'm setting any maximum size for file uploading.</p>\n\n<p>Any one have any ideas how to avoid this. I want users to upload images of any size of up to about 10 MB.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":16199380,"reputation":112,"user_id":11696136,"display_name":"Petru-Cristian Boza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642261964,"creation_date":1642261964,"answer_id":70723016,"question_id":70722915,"body_markdown":"You can use expression to call any method\r\n\r\n      MyEntity mapToEntity(MyDTO dto, List&lt;String&gt; list);\r\n\r\n\r\n\r\n     @Mapping(target = &quot;name&quot;, expression = &quot;java(mapMyHashMap(map, list))&quot;)\r\n    \r\n\r\nOr else if you don&#39;t need it to be configured, just hard code it in the method and do a filter out\r\n","title":"How to perform a mapping with mapstruct that is dependant on more than one DTO variable","body":"<p>You can use expression to call any method</p>\n<pre><code>  MyEntity mapToEntity(MyDTO dto, List&lt;String&gt; list);\n\n\n\n @Mapping(target = &quot;name&quot;, expression = &quot;java(mapMyHashMap(map, list))&quot;)\n</code></pre>\n<p>Or else if you don't need it to be configured, just hard code it in the method and do a filter out</p>\n"},{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642633635,"creation_date":1642633635,"answer_id":70778895,"question_id":70722915,"body_markdown":"It is possible to add more arguments to the methods:\r\n\r\n```\r\nimport org.mapstruct.Context;\r\n@Mapper\r\npublic interface MyMapper {\r\n\r\n      MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\r\n\r\n      @Mapping(source = &quot;myHashMap&quot;, target = &quot;myHashMapEntityList&quot;, qualifiedByName = &quot;mapMyHashMap&quot;)\r\n      MyEntity mapToEntity(MyDTO dto, @Context List&lt;String&gt; keysToBeMappedList);\r\n\r\n      @Named(&quot;mapMyHashMap&quot;)\r\n      static List&lt;myHashMapEntity&gt; mapMyHashMap(final Map&lt;String, String&gt; myHashMap, @Context List&lt;String&gt; keysToBeMappedList) {\r\n          ...\r\n      }\r\n}\r\n```\r\n\r\nThe implementation of the `mapToEntity` method will now pass on the `keysToBeMappedList` to the `mapMyHashMap` method, but mapstruct will not attempt to use the `keysToBeMappedList` for any mappings.\r\n\r\n[You can find more information about the @Context here.][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#passing-context","title":"How to perform a mapping with mapstruct that is dependant on more than one DTO variable","body":"<p>It is possible to add more arguments to the methods:</p>\n<pre><code>import org.mapstruct.Context;\n@Mapper\npublic interface MyMapper {\n\n      MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\n\n      @Mapping(source = &quot;myHashMap&quot;, target = &quot;myHashMapEntityList&quot;, qualifiedByName = &quot;mapMyHashMap&quot;)\n      MyEntity mapToEntity(MyDTO dto, @Context List&lt;String&gt; keysToBeMappedList);\n\n      @Named(&quot;mapMyHashMap&quot;)\n      static List&lt;myHashMapEntity&gt; mapMyHashMap(final Map&lt;String, String&gt; myHashMap, @Context List&lt;String&gt; keysToBeMappedList) {\n          ...\n      }\n}\n</code></pre>\n<p>The implementation of the <code>mapToEntity</code> method will now pass on the <code>keysToBeMappedList</code> to the <code>mapMyHashMap</code> method, but mapstruct will not attempt to use the <code>keysToBeMappedList</code> for any mappings.</p>\n<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/#passing-context\" rel=\"nofollow noreferrer\">You can find more information about the @Context here.</a></p>\n"}],"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642633635,"creation_date":1642261298,"question_id":70722915,"body_markdown":"I am using mapstruct to map my DTO to its corresponding entity. \r\n\r\nThe DTO contains a Hashmap variable, the entries of which are suppossed to be mapped to a key- and a value-variable of a special HashMap-entity. That&#39;s why I am describing this mapping in an extra method as follows: \r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n    \r\n          MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\r\n    \r\n          @Mapping(source = &quot;myHashMap&quot;, target = &quot;myHashMapEntityList&quot;, qualifiedByName = &quot;mapMyHashMap&quot;)\r\n          MyEntity mapToEntity(MyDTO dto);\r\n\r\n          @Named(&quot;mapMyHashMap&quot;)\r\n          static List&lt;myHashMapEntity&gt; mapMyHashMap(final Map&lt;String, String&gt; myHashMap) {\r\n              ...\r\n          }\r\n    }\r\n\r\n\r\nThis works fine. The only issue that I have is that I do not want to map all entries of the hashmap. I only want to map entries, the key of which is contained in a list `keysToBeMappedList`. While it is possible to construct this `keysToBeMappedList` from the `dto`, this variable is not part of the dto. And I am wondering how perform my mapping. \r\n\r\nMy question: \r\n\r\nIs it possible to compute this `keysToBeMappedList` inside this `MyMapper` interface and then use this list inside the `mapMyHashMap` method? Because even if this is not possible and I make the `keysToBeMappedList` part of my dto, I will still have to use both `keysToBeMappedList` and `myHashMap` inside `mapMyHashMap` to perform the mapping. And I have never seen more than one variable being used in these mapstruct methods. \r\n\r\nI hope it&#39;s more or less clear what I want to do. Can somebody help?\r\n\r\n","title":"How to perform a mapping with mapstruct that is dependant on more than one DTO variable","body":"<p>I am using mapstruct to map my DTO to its corresponding entity.</p>\n<p>The DTO contains a Hashmap variable, the entries of which are suppossed to be mapped to a key- and a value-variable of a special HashMap-entity. That's why I am describing this mapping in an extra method as follows:</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n\n      MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\n\n      @Mapping(source = &quot;myHashMap&quot;, target = &quot;myHashMapEntityList&quot;, qualifiedByName = &quot;mapMyHashMap&quot;)\n      MyEntity mapToEntity(MyDTO dto);\n\n      @Named(&quot;mapMyHashMap&quot;)\n      static List&lt;myHashMapEntity&gt; mapMyHashMap(final Map&lt;String, String&gt; myHashMap) {\n          ...\n      }\n}\n</code></pre>\n<p>This works fine. The only issue that I have is that I do not want to map all entries of the hashmap. I only want to map entries, the key of which is contained in a list <code>keysToBeMappedList</code>. While it is possible to construct this <code>keysToBeMappedList</code> from the <code>dto</code>, this variable is not part of the dto. And I am wondering how perform my mapping.</p>\n<p>My question:</p>\n<p>Is it possible to compute this <code>keysToBeMappedList</code> inside this <code>MyMapper</code> interface and then use this list inside the <code>mapMyHashMap</code> method? Because even if this is not possible and I make the <code>keysToBeMappedList</code> part of my dto, I will still have to use both <code>keysToBeMappedList</code> and <code>myHashMap</code> inside <code>mapMyHashMap</code> to perform the mapping. And I have never seen more than one variable being used in these mapstruct methods.</p>\n<p>I hope it's more or less clear what I want to do. Can somebody help?</p>\n"},{"tags":["python","java","api","authentication","parameter-passing"],"comments":[{"owner":{"account_id":76368,"reputation":11500,"user_id":218663,"display_name":"JonSG"},"score":0,"creation_date":1642633797,"post_id":70778877,"comment_id":125126587,"body_markdown":"Just a heads up that stuff passed on the command line is often visible via things like a simple `ps`.","body":"Just a heads up that stuff passed on the command line is often visible via things like a simple <code>ps</code>."},{"owner":{"account_id":23753392,"reputation":18261,"user_id":17769815,"display_name":"BrokenBenchmark"},"score":1,"creation_date":1642635042,"post_id":70778877,"comment_id":125126895,"body_markdown":"Does this answer your question? [Command line parameters or configuration file?](https://stackoverflow.com/questions/2322630/command-line-parameters-or-configuration-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2322630/command-line-parameters-or-configuration-file\">Command line parameters or configuration file?</a>"},{"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"score":0,"creation_date":1642637913,"post_id":70778877,"comment_id":125127511,"body_markdown":"If you are working on a Mac, then the `keyring` package lets you store secret info in your keyring and get it from there.  I presume there is something similar on other OSs.","body":"If you are working on a Mac, then the <code>keyring</code> package lets you store secret info in your keyring and get it from there.  I presume there is something similar on other OSs."}],"owner":{"display_name":"user10949197"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642633523,"creation_date":1642633523,"question_id":70778877,"body_markdown":"In my database project I am keeping all relavant files in some extra another file and mostly reading and passing to my code to make safer. But what about API keys for projects ?\r\nSome people recommend to do as database logic in separate file, some of says pass as command line arguments ? What is the industry standards for those kinda situation.\r\n\r\n    import testapi\r\n    \r\n    api_obj=testapi.connect(&#39;APIKEY&#39;)\r\n\r\nWhat is the best way to pass api key to the project ? \r\n\r\nHealthy Regards\r\n","title":"What is the best way to api key passing to project?","body":"<p>In my database project I am keeping all relavant files in some extra another file and mostly reading and passing to my code to make safer. But what about API keys for projects ?\nSome people recommend to do as database logic in separate file, some of says pass as command line arguments ? What is the industry standards for those kinda situation.</p>\n<pre><code>import testapi\n\napi_obj=testapi.connect('APIKEY')\n</code></pre>\n<p>What is the best way to pass api key to the project ?</p>\n<p>Healthy Regards</p>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":2,"creation_date":1537172325,"post_id":52363230,"comment_id":91671045,"body_markdown":"You could create a twin `message` that *just* has the property you&#39;re interested in, and deserialize *that*? However, depending on the implementation, it may still do work to store the unexpected fields for round-trip purposes. Another approach is to use the raw parser/reader API, but that depends on how complex your model is.","body":"You could create a twin <code>message</code> that <i>just</i> has the property you&#39;re interested in, and deserialize <i>that</i>? However, depending on the implementation, it may still do work to store the unexpected fields for round-trip purposes. Another approach is to use the raw parser/reader API, but that depends on how complex your model is."},{"owner":{"account_id":13514912,"reputation":438,"user_id":9749861,"display_name":"B.Z."},"score":0,"creation_date":1636408596,"post_id":52363230,"comment_id":123544542,"body_markdown":"if you know the tag id, CodedInputStream works nicely.","body":"if you know the tag id, CodedInputStream works nicely."}],"answers":[{"tags":[],"owner":{"account_id":3693902,"reputation":340,"user_id":3075836,"accept_rate":100,"display_name":"jirislav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642633197,"creation_date":1642633197,"answer_id":70778827,"question_id":52363230,"body_markdown":"Yes, it is possible. \r\n- I have already implemented this in Scala and published as a library to the Maven central under:\r\n  - [cz.jkozlovsky:scala-protobuf-field-extractor_${scalaVersion}](https://search.maven.org/search?q=g:cz.jkozlovsky%20AND%20a:scala-protobuf-field-extractor_*)\r\n\r\nIn case you are comfortable with Scala, the usage of the library is explained [within the README](https://github.com/jirislav/scala-protobuf-extractor#usage).\r\n- Also, [the tests](https://github.com/jirislav/scala-protobuf-extractor/blob/c9e87235bccbddc885c496bad277fc596988f5b3/src/test/scala/cz/jkozlovsky/scala/protobuf/field/extractor/FieldExtractorTest.scala) might give you a good idea of how to use the API.\r\n\r\n---\r\n\r\nIn case you need Java native solution, you can easily implement it yourself. \r\nFor details, see the [staticExtract](https://github.com/jirislav/scala-protobuf-extractor/blob/c9e87235bccbddc885c496bad277fc596988f5b3/src/main/scala/cz/jkozlovsky/scala/protobuf/field/extractor/FieldExtractor.scala) method.\r\n\r\nHere is a Scala snippet of the implementation (any decent IDE should automatically convert this to Java while pasting):\r\n```scala\r\n  def staticExtract[T](codedInputStream: CodedInputStream, fieldDescriptor: FieldDescriptor, extractionMethod: CodedInputStream =&gt; T): T = {\r\n    while (!codedInputStream.isAtEnd) {\r\n      if (WireFormat.getTagFieldNumber(codedInputStream.readTag()) == fieldDescriptor.getNumber) {\r\n        return extractionMethod.apply(codedInputStream)\r\n      } else codedInputStream.skipField(codedInputStream.getLastTag)\r\n    }\r\n    fieldDescriptor.getDefaultValue.asInstanceOf[T]\r\n  }\r\n```\r\n- all it does, is it iterates over the input stream until either:\r\n  - the queried field is found\r\n    - then the provided extraction method is applied upon the current stream state (e.g. `CodedInputStream.readBool()`)\r\n    - it is important to note, that the `tag` read by the `CodedInputStream` contains both the `fieldNumber` and the `wireType` (as explained [here](https://developers.google.com/protocol-buffers/docs/encoding)), so you have to first extract the `fieldNumber` in order to match it with the `FieldDescriptor`&#39;s number\r\n  - the end is reached\r\n    - in which case, the default value is returned","title":"Get only one field in protocol buffer without deserializing whole object in java","body":"<p>Yes, it is possible.</p>\n<ul>\n<li>I have already implemented this in Scala and published as a library to the Maven central under:\n<ul>\n<li><a href=\"https://search.maven.org/search?q=g:cz.jkozlovsky%20AND%20a:scala-protobuf-field-extractor_*\" rel=\"nofollow noreferrer\">cz.jkozlovsky:scala-protobuf-field-extractor_${scalaVersion}</a></li>\n</ul>\n</li>\n</ul>\n<p>In case you are comfortable with Scala, the usage of the library is explained <a href=\"https://github.com/jirislav/scala-protobuf-extractor#usage\" rel=\"nofollow noreferrer\">within the README</a>.</p>\n<ul>\n<li>Also, <a href=\"https://github.com/jirislav/scala-protobuf-extractor/blob/c9e87235bccbddc885c496bad277fc596988f5b3/src/test/scala/cz/jkozlovsky/scala/protobuf/field/extractor/FieldExtractorTest.scala\" rel=\"nofollow noreferrer\">the tests</a> might give you a good idea of how to use the API.</li>\n</ul>\n<hr />\n<p>In case you need Java native solution, you can easily implement it yourself.\nFor details, see the <a href=\"https://github.com/jirislav/scala-protobuf-extractor/blob/c9e87235bccbddc885c496bad277fc596988f5b3/src/main/scala/cz/jkozlovsky/scala/protobuf/field/extractor/FieldExtractor.scala\" rel=\"nofollow noreferrer\">staticExtract</a> method.</p>\n<p>Here is a Scala snippet of the implementation (any decent IDE should automatically convert this to Java while pasting):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>  def staticExtract[T](codedInputStream: CodedInputStream, fieldDescriptor: FieldDescriptor, extractionMethod: CodedInputStream =&gt; T): T = {\n    while (!codedInputStream.isAtEnd) {\n      if (WireFormat.getTagFieldNumber(codedInputStream.readTag()) == fieldDescriptor.getNumber) {\n        return extractionMethod.apply(codedInputStream)\n      } else codedInputStream.skipField(codedInputStream.getLastTag)\n    }\n    fieldDescriptor.getDefaultValue.asInstanceOf[T]\n  }\n</code></pre>\n<ul>\n<li>all it does, is it iterates over the input stream until either:\n<ul>\n<li>the queried field is found\n<ul>\n<li>then the provided extraction method is applied upon the current stream state (e.g. <code>CodedInputStream.readBool()</code>)</li>\n<li>it is important to note, that the <code>tag</code> read by the <code>CodedInputStream</code> contains both the <code>fieldNumber</code> and the <code>wireType</code> (as explained <a href=\"https://developers.google.com/protocol-buffers/docs/encoding\" rel=\"nofollow noreferrer\">here</a>), so you have to first extract the <code>fieldNumber</code> in order to match it with the <code>FieldDescriptor</code>'s number</li>\n</ul>\n</li>\n<li>the end is reached\n<ul>\n<li>in which case, the default value is returned</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":2454017,"reputation":1269,"user_id":2139631,"display_name":"Rahim Dastar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1642633197,"creation_date":1537171323,"question_id":52363230,"body_markdown":"I have POJO that serialized with protobuf. This object has many fields. I want to check one field. Is it possible to deserialize only one filed without deserializing the whole object in Java? I think it is probable in Python.","title":"Get only one field in protocol buffer without deserializing whole object in java","body":"<p>I have POJO that serialized with protobuf. This object has many fields. I want to check one field. Is it possible to deserialize only one filed without deserializing the whole object in Java? I think it is probable in Python.</p>\n"},{"tags":["java","spring-boot","junit","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642619745,"creation_date":1642619745,"answer_id":70776509,"question_id":70776360,"body_markdown":"You can use Spring Framework&#39;s `@DynamicPropertySource` for this purpose. It&#39;s described in [this blog post](https://spring.io/blog/2020/03/27/dynamicpropertysource-in-spring-framework-5-2-5-and-spring-boot-2-2-6).\r\n\r\nIn the case of `MyWebTest`, the dynamic property source would look something like this:\r\n\r\n```java\r\n@DynamicPropertySource\r\nstatic void mockPortProperty(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;mockPort&quot;, () -&gt; PORT);\r\n}\r\n```","title":"Add environment property to @SpringBootTest before application.properties evaluation?","body":"<p>You can use Spring Framework's <code>@DynamicPropertySource</code> for this purpose. It's described in <a href=\"https://spring.io/blog/2020/03/27/dynamicpropertysource-in-spring-framework-5-2-5-and-spring-boot-2-2-6\" rel=\"nofollow noreferrer\">this blog post</a>.</p>\n<p>In the case of <code>MyWebTest</code>, the dynamic property source would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamicPropertySource\nstatic void mockPortProperty(DynamicPropertyRegistry registry) {\n    registry.add(&quot;mockPort&quot;, () -&gt; PORT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642633093,"creation_date":1642633093,"answer_id":70778813,"question_id":70776360,"body_markdown":"Maybe you prefer to start a single MockWebServer for all test classes, instead of starting a new server for each test method. When this class is initialized, the static block starts a server and sets a system property to the server URL. [System properties override](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config) properties from the `application.properties` file.\r\n\r\n```java\r\n@TestConfiguration\r\npublic class MockWebServerConfiguration {\r\n\r\n  private static final MockWebServer mockWebServer = new MockWebServer();\r\n\r\n  static {\r\n    int port = SocketUtils.findAvailableTcpPort();\r\n    mockWebServer.start(port);\r\n\r\n    System.setProperty(&quot;web.client.url&quot;, &quot;localhost:&quot; + port + &quot;/path&quot;);\r\n  }\r\n}\r\n```\r\n\r\nTo include this configuration class in your integration test, annotate your test class with:\r\n\r\n```java\r\n@Import(MockWebServerConfiguration.class)\r\n```","title":"Add environment property to @SpringBootTest before application.properties evaluation?","body":"<p>Maybe you prefer to start a single MockWebServer for all test classes, instead of starting a new server for each test method. When this class is initialized, the static block starts a server and sets a system property to the server URL. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">System properties override</a> properties from the <code>application.properties</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestConfiguration\npublic class MockWebServerConfiguration {\n\n  private static final MockWebServer mockWebServer = new MockWebServer();\n\n  static {\n    int port = SocketUtils.findAvailableTcpPort();\n    mockWebServer.start(port);\n\n    System.setProperty(&quot;web.client.url&quot;, &quot;localhost:&quot; + port + &quot;/path&quot;);\n  }\n}\n</code></pre>\n<p>To include this configuration class in your integration test, annotate your test class with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import(MockWebServerConfiguration.class)\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70776509,"answer_count":2,"score":2,"last_activity_date":1642633093,"creation_date":1642618968,"question_id":70776360,"body_markdown":"Is it possible to add a &quot;dynamic&quot; property from a class to `application.properties` before they are evaluated?\r\n\r\nI want to achieve the following: find a free port on the system, inject it as property `mockPort` into the spring lifecycle, and reuse this port to override a property from `application.properties` using `@TestPropertySource`, as follows:\r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(properties = &quot;web.client.url=localhost:${mockPort}/path&quot;)\r\n    public class MyWebTest {\r\n                   //TODO how to write the port into ${mockPort} property?\r\n                   private static final PORT = SocketUtils.findAvailableTcpPort();\r\n     \r\n                   @BeforeEach\r\n                   public void init() {\r\n                       MockWebServer mock = new MockWebServer();\r\n                       mock.start(PORT);\r\n                   }\r\n     \r\n                   @Test\r\n                   public void test() {\r\n                       service.runWebRequest();\r\n                   }\r\n    }\r\n\r\nThe service under test can be any client that makes use of `@Value(&quot;${web.client.url})`. And as the free port is found dynamically during runtime, I have to somehow inject it into that property.\r\n\r\nHow can I achieve this?","title":"Add environment property to @SpringBootTest before application.properties evaluation?","body":"<p>Is it possible to add a &quot;dynamic&quot; property from a class to <code>application.properties</code> before they are evaluated?</p>\n<p>I want to achieve the following: find a free port on the system, inject it as property <code>mockPort</code> into the spring lifecycle, and reuse this port to override a property from <code>application.properties</code> using <code>@TestPropertySource</code>, as follows:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(properties = &quot;web.client.url=localhost:${mockPort}/path&quot;)\npublic class MyWebTest {\n               //TODO how to write the port into ${mockPort} property?\n               private static final PORT = SocketUtils.findAvailableTcpPort();\n \n               @BeforeEach\n               public void init() {\n                   MockWebServer mock = new MockWebServer();\n                   mock.start(PORT);\n               }\n \n               @Test\n               public void test() {\n                   service.runWebRequest();\n               }\n}\n</code></pre>\n<p>The service under test can be any client that makes use of <code>@Value(&quot;${web.client.url})</code>. And as the free port is found dynamically during runtime, I have to somehow inject it into that property.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","deployment","desktop-application","installation"],"answers":[{"tags":[],"owner":{"account_id":55151,"reputation":8058,"user_id":165103,"accept_rate":88,"display_name":"Mahmoud Hanafy"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1300821377,"creation_date":1300821377,"answer_id":5396779,"question_id":5396778,"body_markdown":"You can use either [NSIS][1] or [Inno Setup][2]\r\n\r\n\r\n  [1]: http://nsis.sourceforge.net/Main_Page\r\n  [2]: http://www.jrsoftware.org/isdl.php","title":"Create Windows Installer for Java Programs","body":"<p>You can use either <a href=\"http://nsis.sourceforge.net/Main_Page\" rel=\"noreferrer\">NSIS</a> or <a href=\"http://www.jrsoftware.org/isdl.php\" rel=\"noreferrer\">Inno Setup</a></p>\n"},{"tags":[],"owner":{"account_id":33603,"reputation":14546,"user_id":94173,"accept_rate":75,"display_name":"Sorantis"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1547202523,"creation_date":1300821430,"answer_id":5396780,"question_id":5396778,"body_markdown":"From [here](http://java-source.net/open-source/installer-generators):\r\n\r\n# Open Source Installers Generators in Java\r\n## IzPack\r\nIzPack is an installers generator for the Java platform. It produces lightweight installers that can be run on any operating system where a Java virtual machine is available. Depending on the operating system, it can be launched by a double-click or a simple &#39;java -jar installer.jar&#39; on a shell. The most common use is to distribute applications for the Java platform, but you can also use it for other kinds of projects. The main benefit of IzPack is that it provides a clean and unique way of distributing a project to users using different operating systems.\r\n\r\n\r\n## VAInstall\r\nVAInstall is a multi-platform installer written in Java. It is distributed under the GNU GPL License 2. Through a simple config file, it allows the packager to pick files and directories from various places on disk, and not only one root dir like other installers. The packager can completely reorganize the files and dirs on the destination host. He can choose the install mode for the destination host (graphic, xtra, text or ansi).\r\n\r\n## Packlet\r\nPacklet is a simple installer tool for Java. A packlet is similar to a zip or tgz file: it packages an application into a single compressed file that can be distributed. Packlet files are Java class files that can be executed on any machine with Java 2 Runtime Environment installed. Executing a packlet brings up an installer gui to configure and unpack the application.\r\n\r\n## Lift Off Java Installer\r\nLift Off Java Installer is an installer for Java applications. Highlights are self-extracting class files, minimal requirements for the Java installation on the target system, and cross platform installation.\r\n\r\n## Mini Installer\r\nA simple package to build self installating programs in Java. The process is script driven, the result is a unique JAR file that the user can double click to execute a wizard-like installation process.\r\n\r\n## JSmooth\r\nJSmooth is a Java Executable Wrapper that makes a standard Windows executable binary (.exe) from a jar file. It makes java deployment much smoother and user-friendly, as it is able to find a Java VM by itself. When no VM is available, it provides feed-back to the users, and can launch the default web browser to an URL that explains how to download a Java VM. Note: NOT COMPLETELY WRITTEN IN JAVA\r\n\r\n## Launch4J\r\nWindows native executable (.exe) java application wrapper. Offers native splash screen, application icon, search for JRE or use bundled one, feedback on startup failure, passes command line arguments.\r\n\r\n## AntInstaller\r\nAntInstaller is an installer framework which uses a simple XML file to define the UI, and Apache Ant as a back end. The installers can therefore do anything Ant can, and are compatible with Ant&#39;s extension mechanism. Installers can be packaged as a selfextracting Jar and can run from the command line or a Swing GUI. AntInstall can also be used as a GUI front end for existing Ant builds.\r\n\r\n## Antigen\r\nAntigen (Ant Installer Generator) is a tool to take an Ant build script, combine it with a GUI and wrap it up as an executable jar file. Its primary purpose is to create powerful graphical installers from Ant scripts.\r\n\r\n## Java Service Wrapper\r\nThe Wrapper makes it possible to install a Java Application as a Windows NT Service. The scripts provided with the Wrapper also make it very easy to install those same Java Applications as daemon processes on UNIX systems. The Wrapper correctly handles user log outs under Windows, service dependencies, and the ability to run services which interact with the desktop.\r\n\r\n","title":"Create Windows Installer for Java Programs","body":"<p>From <a href=\"http://java-source.net/open-source/installer-generators\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<h1>Open Source Installers Generators in Java</h1>\n\n<h2>IzPack</h2>\n\n<p>IzPack is an installers generator for the Java platform. It produces lightweight installers that can be run on any operating system where a Java virtual machine is available. Depending on the operating system, it can be launched by a double-click or a simple 'java -jar installer.jar' on a shell. The most common use is to distribute applications for the Java platform, but you can also use it for other kinds of projects. The main benefit of IzPack is that it provides a clean and unique way of distributing a project to users using different operating systems.</p>\n\n<h2>VAInstall</h2>\n\n<p>VAInstall is a multi-platform installer written in Java. It is distributed under the GNU GPL License 2. Through a simple config file, it allows the packager to pick files and directories from various places on disk, and not only one root dir like other installers. The packager can completely reorganize the files and dirs on the destination host. He can choose the install mode for the destination host (graphic, xtra, text or ansi).</p>\n\n<h2>Packlet</h2>\n\n<p>Packlet is a simple installer tool for Java. A packlet is similar to a zip or tgz file: it packages an application into a single compressed file that can be distributed. Packlet files are Java class files that can be executed on any machine with Java 2 Runtime Environment installed. Executing a packlet brings up an installer gui to configure and unpack the application.</p>\n\n<h2>Lift Off Java Installer</h2>\n\n<p>Lift Off Java Installer is an installer for Java applications. Highlights are self-extracting class files, minimal requirements for the Java installation on the target system, and cross platform installation.</p>\n\n<h2>Mini Installer</h2>\n\n<p>A simple package to build self installating programs in Java. The process is script driven, the result is a unique JAR file that the user can double click to execute a wizard-like installation process.</p>\n\n<h2>JSmooth</h2>\n\n<p>JSmooth is a Java Executable Wrapper that makes a standard Windows executable binary (.exe) from a jar file. It makes java deployment much smoother and user-friendly, as it is able to find a Java VM by itself. When no VM is available, it provides feed-back to the users, and can launch the default web browser to an URL that explains how to download a Java VM. Note: NOT COMPLETELY WRITTEN IN JAVA</p>\n\n<h2>Launch4J</h2>\n\n<p>Windows native executable (.exe) java application wrapper. Offers native splash screen, application icon, search for JRE or use bundled one, feedback on startup failure, passes command line arguments.</p>\n\n<h2>AntInstaller</h2>\n\n<p>AntInstaller is an installer framework which uses a simple XML file to define the UI, and Apache Ant as a back end. The installers can therefore do anything Ant can, and are compatible with Ant's extension mechanism. Installers can be packaged as a selfextracting Jar and can run from the command line or a Swing GUI. AntInstall can also be used as a GUI front end for existing Ant builds.</p>\n\n<h2>Antigen</h2>\n\n<p>Antigen (Ant Installer Generator) is a tool to take an Ant build script, combine it with a GUI and wrap it up as an executable jar file. Its primary purpose is to create powerful graphical installers from Ant scripts.</p>\n\n<h2>Java Service Wrapper</h2>\n\n<p>The Wrapper makes it possible to install a Java Application as a Windows NT Service. The scripts provided with the Wrapper also make it very easy to install those same Java Applications as daemon processes on UNIX systems. The Wrapper correctly handles user log outs under Windows, service dependencies, and the ability to run services which interact with the desktop.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":3,"up_vote_count":13,"is_accepted":true,"score":10,"last_activity_date":1642632662,"creation_date":1300822948,"answer_id":5396863,"question_id":5396778,"body_markdown":"Deploy the app. from a web site using &lt;a href=&quot;https://stackoverflow.com/tags/java-web-start/info&quot;&gt;Java Web Start&lt;/a&gt;.  Ensure the user has the minimum Java using `deployJava.js` (linked from the JWS info page). \r\n\r\n## Update\r\n\r\nThe Java Plug-In (used to deploy both applets and webstart applications) was deprecated around Java 9 and removed from the API soon after. *This is no longer a viable option.*","title":"Create Windows Installer for Java Programs","body":"<p>Deploy the app. from a web site using <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.  Ensure the user has the minimum Java using <code>deployJava.js</code> (linked from the JWS info page).</p>\n<h2>Update</h2>\n<p>The Java Plug-In (used to deploy both applets and webstart applications) was deprecated around Java 9 and removed from the API soon after. <em>This is no longer a viable option.</em></p>\n"},{"tags":[],"owner":{"account_id":605284,"reputation":1043,"user_id":316238,"display_name":"eee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300834256,"creation_date":1300834256,"answer_id":5398823,"question_id":5396778,"body_markdown":"You can use Ant task tool with InnoSetup and Launch4j under Eclipse IDE to create a professional-looking Windows-based EXE installer for Java-based program: https://stackoverflow.com/questions/3116126/how-to-create-an-exe-file-in-java/3116293#3116293","title":"Create Windows Installer for Java Programs","body":"<p>You can use Ant task tool with InnoSetup and Launch4j under Eclipse IDE to create a professional-looking Windows-based EXE installer for Java-based program: <a href=\"https://stackoverflow.com/questions/3116126/how-to-create-an-exe-file-in-java/3116293#3116293\">How to create an exe file in java</a></p>\n"},{"tags":[],"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1300867634,"creation_date":1300867634,"answer_id":5402363,"question_id":5396778,"body_markdown":"You can use &lt;a href=&quot;http://wix.sourceforge.net/&quot;&gt;WiX&lt;/a&gt; to create Windows Installer package. The package will include the JRE binaries and your compiled application (jar file). Upon installation, the installer unpacks your files to user&#39;s computer, creates shortcut that starts your application (&lt;code&gt;&lt;i&gt;app-path&lt;/i&gt;\\jre\\bin\\javaw.exe -jar &lt;i&gt;app-path&lt;/i&gt;\\&lt;i&gt;your-app&lt;/i&gt;.jar&lt;/code&gt;).\r\n\r\nSee notes on &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/runtime-141403.html#redistribution&quot;&gt;Redistributing the JRE&lt;/a&gt; and in &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/jrereadme-182762.html&quot;&gt;README&lt;/a&gt;.","title":"Create Windows Installer for Java Programs","body":"<p>You can use <a href=\"http://wix.sourceforge.net/\">WiX</a> to create Windows Installer package. The package will include the JRE binaries and your compiled application (jar file). Upon installation, the installer unpacks your files to user's computer, creates shortcut that starts your application (<code><i>app-path</i>\\jre\\bin\\javaw.exe -jar <i>app-path</i>\\<i>your-app</i>.jar</code>).</p>\n\n<p>See notes on <a href=\"http://www.oracle.com/technetwork/java/javase/runtime-141403.html#redistribution\">Redistributing the JRE</a> and in <a href=\"http://www.oracle.com/technetwork/java/javase/jrereadme-182762.html\">README</a>.</p>\n"},{"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1300908642,"creation_date":1300908642,"answer_id":5410586,"question_id":5396778,"body_markdown":"I use a program called JSmooth. This turns java .jar files into executables. I then take those executable and create a installer using InstallShield. InstallShield allows you to create highly customizable installers. There is a free &quot;Light Edition&quot; that you can use. Very easy to do and very easy to add to build scripts.","title":"Create Windows Installer for Java Programs","body":"<p>I use a program called JSmooth. This turns java .jar files into executables. I then take those executable and create a installer using InstallShield. InstallShield allows you to create highly customizable installers. There is a free \"Light Edition\" that you can use. Very easy to do and very easy to add to build scripts.</p>\n"},{"tags":[],"owner":{"account_id":2492359,"reputation":1290,"user_id":2169571,"accept_rate":64,"display_name":"Keval Trivedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366719162,"creation_date":1366719162,"answer_id":16169068,"question_id":5396778,"body_markdown":"You can use the install4j for the create exe file for jar file of java project and use the Inno Setup Compiler file for create the installer for the project. this ts Youtube vedio for the how to create the exe and installer\r\n\r\n[video for create the exe and installer][1]\r\n\r\n\r\n  [1]: http://www.youtube.com/watch?v=kSmhIunxVW4","title":"Create Windows Installer for Java Programs","body":"<p>You can use the install4j for the create exe file for jar file of java project and use the Inno Setup Compiler file for create the installer for the project. this ts Youtube vedio for the how to create the exe and installer</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=kSmhIunxVW4\" rel=\"nofollow\">video for create the exe and installer</a></p>\n"},{"tags":[],"owner":{"account_id":4969490,"reputation":47,"user_id":3997787,"display_name":"Stefano Castagnino"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1443909189,"creation_date":1443909189,"answer_id":32927854,"question_id":5396778,"body_markdown":"Basically, you have to save your project in jar and then convert to exe, you can use jar4exe or other software. When you have the exe file, use an installer software like Inno Setup Compile or other.  After all those stpes Your project will be ready to be install in windows, mac or linux platform.  Good Luck.","title":"Create Windows Installer for Java Programs","body":"<p>Basically, you have to save your project in jar and then convert to exe, you can use jar4exe or other software. When you have the exe file, use an installer software like Inno Setup Compile or other.  After all those stpes Your project will be ready to be install in windows, mac or linux platform.  Good Luck.</p>\n"},{"tags":[],"owner":{"account_id":6244817,"reputation":337,"user_id":4857156,"display_name":"Norman Pilusa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512588114,"creation_date":1512588114,"answer_id":47681962,"question_id":5396778,"body_markdown":"1. Install exe4j\r\n - This you will use to create a .exe file from a jar file\r\n\r\n2. Install inno setup compiler\r\n - This is used to create installer\r\n\r\nAn outdated but relevant video to guide you through\r\nhttps://www.youtube.com/watch?v=kSmhIunxVW4  ","title":"Create Windows Installer for Java Programs","body":"<ol>\n<li><p>Install exe4j</p>\n\n<ul>\n<li>This you will use to create a .exe file from a jar file</li>\n</ul></li>\n<li><p>Install inno setup compiler</p>\n\n<ul>\n<li>This is used to create installer</li>\n</ul></li>\n</ol>\n\n<p>An outdated but relevant video to guide you through\n<a href=\"https://www.youtube.com/watch?v=kSmhIunxVW4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=kSmhIunxVW4</a>  </p>\n"}],"owner":{"account_id":207888,"reputation":2643,"user_id":458036,"accept_rate":86,"display_name":"Hafizul Amri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63078,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"closed_date":1671289038,"accepted_answer_id":5396863,"answer_count":9,"score":44,"last_activity_date":1642632662,"creation_date":1300821220,"question_id":5396778,"body_markdown":"I&#39;m a Java beginner.\r\n\r\nI already created a simple GUI application that display will &quot;hello world&quot; label.\r\n\r\nBut, how can I create an installer from .java or .jar for windows.\r\nLet&#39;s say that I have created a useful application and want to share it with my friends \r\nto install it in their PC without they need to know what is JRE, or how to download JRE.\r\n\r\n\r\n\r\n","title":"Create Windows Installer for Java Programs","body":"<p>I'm a Java beginner.</p>\n\n<p>I already created a simple GUI application that display will \"hello world\" label.</p>\n\n<p>But, how can I create an installer from .java or .jar for windows.\nLet's say that I have created a useful application and want to share it with my friends \nto install it in their PC without they need to know what is JRE, or how to download JRE.</p>\n"},{"tags":["java","spring-boot","rest","postman"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1642633014,"post_id":70778753,"comment_id":125126368,"body_markdown":"SpringBoot has a configured JSON marshaller for Response objects that configures Date types","body":"SpringBoot has a configured JSON marshaller for Response objects that configures Date types"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":1,"creation_date":1642645609,"post_id":70778753,"comment_id":125128663,"body_markdown":"A Date is always a Striing in JSON, it&#39;s just not formatted the way you want.\nHow you change the default settings depends on a few things, too long for a comment. See the explanation at https://www.baeldung.com/spring-boot-formatting-json-dates","body":"A Date is always a Striing in JSON, it&#39;s just not formatted the way you want. How you change the default settings depends on a few things, too long for a comment. See the explanation at <a href=\"https://www.baeldung.com/spring-boot-formatting-json-dates\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-formatting-json-dates</a>"}],"owner":{"account_id":22723439,"reputation":43,"user_id":16887602,"display_name":"Cleo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642632660,"creation_date":1642632660,"question_id":70778753,"body_markdown":"Recently I ran into this situation: \r\nmy Rest API controller is returning this myResponse of type MyResponse: \r\n\r\n    public class MyResponse{\r\n         private List&lt;Stuff&gt; stuffs; \r\n    }\r\n    \r\n    public class Stuff{\r\n         private Date date; \r\n    }\r\n    \r\n    public class myController{\r\n        ResponseEntity&lt;MyResponse&gt; result = ResponseEntity.ok().body(myService.getResp(myRequest));\r\n        return result; \r\n    }\r\n\r\nand when I run debugger and put breakpoint on &quot;return result&quot; in controller, the date value inside result is of still Date type: &quot;Mon Jan 10 00:00:00 CST 2022&quot;. \r\n\r\nBut somehow in Postman it&#39;s showing &quot;2022-02-10&quot; instead: \r\n\r\n{&quot;stuffs&quot; : [{&quot;date&quot;: &quot;2022-01-10&quot;}]}\r\n\r\nWhat is the reason for this? where did it change? \r\n","title":"Why is Date showing up as a String in Rest API Response","body":"<p>Recently I ran into this situation:\nmy Rest API controller is returning this myResponse of type MyResponse:</p>\n<pre><code>public class MyResponse{\n     private List&lt;Stuff&gt; stuffs; \n}\n\npublic class Stuff{\n     private Date date; \n}\n\npublic class myController{\n    ResponseEntity&lt;MyResponse&gt; result = ResponseEntity.ok().body(myService.getResp(myRequest));\n    return result; \n}\n</code></pre>\n<p>and when I run debugger and put breakpoint on &quot;return result&quot; in controller, the date value inside result is of still Date type: &quot;Mon Jan 10 00:00:00 CST 2022&quot;.</p>\n<p>But somehow in Postman it's showing &quot;2022-02-10&quot; instead:</p>\n<p>{&quot;stuffs&quot; : [{&quot;date&quot;: &quot;2022-01-10&quot;}]}</p>\n<p>What is the reason for this? where did it change?</p>\n"},{"tags":["java","c#","unit-testing","testing","integration-testing"],"comments":[{"owner":{"account_id":12182211,"reputation":583,"user_id":8893323,"display_name":"Exitare"},"score":0,"creation_date":1642632541,"post_id":70778714,"comment_id":125126249,"body_markdown":"In terms of a database you could use an in memory database for testing, so you don&#39;t have to concern yourself with polluting a database every time.","body":"In terms of a database you could use an in memory database for testing, so you don&#39;t have to concern yourself with polluting a database every time."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1642632588,"post_id":70778714,"comment_id":125126258,"body_markdown":"Why no refactoring? I&#39;m guessing you already know this based on your question, but the best answer to your question is &quot;don&#39;t write methods with thousands of lines that do tons of different things.&quot;","body":"Why no refactoring? I&#39;m guessing you already know this based on your question, but the best answer to your question is &quot;don&#39;t write methods with thousands of lines that do tons of different things.&quot;"},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1642632720,"post_id":70778714,"comment_id":125126298,"body_markdown":"I agree with Exitaire about the in-memory database for unit testing, though - that&#39;s usually what I do. That way I can set it up just how I want it and I can just throw it away when I&#39;m done with it without worrying about cleanup.","body":"I agree with Exitaire about the in-memory database for unit testing, though - that&#39;s usually what I do. That way I can set it up just how I want it and I can just throw it away when I&#39;m done with it without worrying about cleanup."},{"owner":{"account_id":6774790,"reputation":69,"user_id":5216961,"display_name":"TestModus"},"score":0,"creation_date":1642762921,"post_id":70778714,"comment_id":125163967,"body_markdown":"Unfortunately it does not seem that there is an in memory db with PL/SQL...                   @EJoshuaS-ReinstateMonica I am aware. However, I am not allowed to delete anything... not even code that is only in comments, &quot;because it could be of use again&quot;... ...Don&#180;t ask how Version control is handled.","body":"Unfortunately it does not seem that there is an in memory db with PL/SQL...                   @EJoshuaS-ReinstateMonica I am aware. However, I am not allowed to delete anything... not even code that is only in comments, &quot;because it could be of use again&quot;... ...Don&#180;t ask how Version control is handled."}],"owner":{"account_id":6774790,"reputation":69,"user_id":5216961,"display_name":"TestModus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642632439,"creation_date":1642632439,"question_id":70778714,"body_markdown":"I am working on a dated system. It consists out of huge methods with sometimes thousands of lines. Most methods do multiple things.\r\nThere are no comments, there are no tests.\r\nI have realized that testing is quite good to ensure that I find errors faster (obviously..). It&#180;s quite easy to write some Unit Tests on smaller or at least specialized methods, but I dont know how to test bigger ones.\r\n\r\nAt the moment I am testing database methods with commit/rollback, which seems to work.\r\n\r\nI would now like to know:\r\n\r\n-&gt;How do I rollback the database from other modules? \r\nWhen I am doing it directly with the database methods it&#180;s easy, but what if I am in the UI, with: UI (code)-&gt;logic-&gt;API-&gt;database ? How can I ensure that the database reverts back? ...or since this is only the dev database, how to let the data in the db, without having to always input new values for the tests.\r\n\r\n-&gt;How do I test huge methods?\r\n\r\n I have in the UI very few methods, which do a LOT of things. Doing some things in the UI, taking in user input, validating it,starting other modules, querying the database, changing UI, a with dozen different cases depending in what case we are. \r\nHow do I test those and the modules behind them? The problem is that they often are dependent on other complex objects, be it as parameter or from other modules or data in the database, which is only added to it for this one session.\r\n\r\nWould it be a useful idea to setup UI tests instead of testing the UI Code? However, I have never done UI tests and I don&#180;t get time for any tests at all...\r\n\r\n..I am not allowed to Refactor anything...\r\n","title":"How to test huge methods? (Integration Testing?)","body":"<p>I am working on a dated system. It consists out of huge methods with sometimes thousands of lines. Most methods do multiple things.\nThere are no comments, there are no tests.\nI have realized that testing is quite good to ensure that I find errors faster (obviously..). It´s quite easy to write some Unit Tests on smaller or at least specialized methods, but I dont know how to test bigger ones.</p>\n<p>At the moment I am testing database methods with commit/rollback, which seems to work.</p>\n<p>I would now like to know:</p>\n<p>-&gt;How do I rollback the database from other modules?\nWhen I am doing it directly with the database methods it´s easy, but what if I am in the UI, with: UI (code)-&gt;logic-&gt;API-&gt;database ? How can I ensure that the database reverts back? ...or since this is only the dev database, how to let the data in the db, without having to always input new values for the tests.</p>\n<p>-&gt;How do I test huge methods?</p>\n<p>I have in the UI very few methods, which do a LOT of things. Doing some things in the UI, taking in user input, validating it,starting other modules, querying the database, changing UI, a with dozen different cases depending in what case we are.\nHow do I test those and the modules behind them? The problem is that they often are dependent on other complex objects, be it as parameter or from other modules or data in the database, which is only added to it for this one session.</p>\n<p>Would it be a useful idea to setup UI tests instead of testing the UI Code? However, I have never done UI tests and I don´t get time for any tests at all...</p>\n<p>..I am not allowed to Refactor anything...</p>\n"},{"tags":["java","gradle","gradlew"],"answers":[{"tags":[],"owner":{"account_id":11741517,"reputation":4117,"user_id":8593689,"display_name":"Shane Bishop"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642632342,"creation_date":1642535018,"answer_id":70761528,"question_id":70761214,"body_markdown":"The problem was I was using an older version of the Black Duck `detect.sh` script. I was using version 6.9.1. Once I upgraded to using version 7.6.0, the Black Duck scan worked once more.\r\n\r\nTo use the new version of the script, you can do the following (note the `detect7.sh` in the URL; if you download plain `detect.sh` you will get an old version):\r\n\r\n```bash\r\ncurl --fail https://detect.synopsys.com/detect7.sh -o detect.sh\r\nexport DETECT_LATEST_RELEASE_VERSION=7.6.0\r\nbash detect.sh &lt;args&gt;\r\n```","title":"Black Duck fails to run gradlew dependencies successfully","body":"<p>The problem was I was using an older version of the Black Duck <code>detect.sh</code> script. I was using version 6.9.1. Once I upgraded to using version 7.6.0, the Black Duck scan worked once more.</p>\n<p>To use the new version of the script, you can do the following (note the <code>detect7.sh</code> in the URL; if you download plain <code>detect.sh</code> you will get an old version):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>curl --fail https://detect.synopsys.com/detect7.sh -o detect.sh\nexport DETECT_LATEST_RELEASE_VERSION=7.6.0\nbash detect.sh &lt;args&gt;\n</code></pre>\n"}],"owner":{"account_id":11741517,"reputation":4117,"user_id":8593689,"display_name":"Shane Bishop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3464,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70761528,"answer_count":1,"score":4,"last_activity_date":1642632342,"creation_date":1642533397,"question_id":70761214,"body_markdown":"Since upgrading from Gradle 6.7.1 to 7.0 (which may be a red herring), [Black Duck](https://www.synopsys.com/software-integrity/security-testing/software-composition-analysis.html) scans of my Gradle project now fail.\r\n\r\nHere is the error message:\r\n\r\n&lt;pre&gt;\r\n* Where:\r\nInitialization script &#39;/root/blackduck/runs/2022-01-18-19-06-00-216/shared/gradle/init-detect.gradle&#39; line: 40\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:dependencies&#39;.\r\n&gt; No signature of method: org.gradle.api.tasks.diagnostics.internal.dependencies.AsciiDependencyReportRenderer.startProject() is applicable for argument types: (org.gradle.api.internal.project.DefaultProject_Decorated) values: [root project &#39;&amp;lt;redacted&amp;gt&#39;]\r\n  Possible solutions: startProject(org.gradle.api.tasks.diagnostics.internal.ProjectDetails), startProject(org.gradle.api.tasks.diagnostics.internal.ProjectDetails)\r\n&lt;/pre&gt;\r\n\r\nBuilds are successful when the Gradle build is run without Black Duck.\r\n\r\nThe Black Duck scan is run with the following command:\r\n\r\n&lt;pre&gt;\r\nbash detect.sh --blackduck.url=&amp;lt;redacted&amp;gt; --blackduck.trust.cert=true --blackduck.api.token=&amp;lt;redacted&amp;gt; --detect.project.name=&amp;lt;redacted&amp;gt; --detect.project.version.name=Developer --detect.source.path=.\r\n&lt;/pre&gt;\r\n\r\nHere is my full `build.gradle`:\r\n\r\n```groovy\r\nbuildscript {\r\n  repositories {\r\n    maven {\r\n      url &quot;https://&lt;redacted&gt;/nexus/repository/maven-central&quot;\r\n    }\r\n    maven {\r\n      url &quot;https://&lt;redacted&gt;/nexus/repository/thirdparty&quot;\r\n    }\r\n    maven {\r\n      url &quot;https://&lt;redacted&gt;/nexus/repository/gradle-plugins&quot;\r\n    }\r\n  }\r\n}\r\n\r\nplugins {\r\n  id &quot;java&quot;\r\n}\r\n\r\ndef nexusUsername = (System.getenv(&quot;NEXUS_USERNAME&quot;) != null ? System.getenv(&quot;NEXUS_USERNAME&quot;) : (project.hasProperty(&#39;NEXUS_USERNAME&#39;) ? &quot;$NEXUS_USERNAME&quot; : &quot;&quot;))\r\ndef nexusPassword = (System.getenv(&quot;NEXUS_PASSWORD&quot;) != null ? System.getenv(&quot;NEXUS_PASSWORD&quot;) : (project.hasProperty(&#39;NEXUS_PASSWORD&#39;) ? &quot;$NEXUS_PASSWORD&quot; : &quot;&quot;))\r\n\r\nrepositories {}\r\n\r\next {}\r\n\r\ndependencies {}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;idea&#39;\r\n\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n\r\nsourceSets {\r\n  main {\r\n    java {\r\n      srcDirs = [&#39;src/main/java&#39;]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMy ideas for what could be wrong:\r\n* There is a bug in the auto-generated `/root/blackduck/runs/2022-01-18-19-06-00-216/shared/gradle/init-detect.gradle` file (maybe Black Duck doesn&#39;t play nice with Gradle 7.0)\r\n* I run the `detect.sh` script with the wrong arguments\r\n* There is something wrong with my `build.gradle` file\r\n\r\nI am looking for any suggestions on how to solve this problem so that my Black Duck scans can run successfully once more.","title":"Black Duck fails to run gradlew dependencies successfully","body":"<p>Since upgrading from Gradle 6.7.1 to 7.0 (which may be a red herring), <a href=\"https://www.synopsys.com/software-integrity/security-testing/software-composition-analysis.html\" rel=\"nofollow noreferrer\">Black Duck</a> scans of my Gradle project now fail.</p>\n<p>Here is the error message:</p>\n<pre>\n* Where:\nInitialization script '/root/blackduck/runs/2022-01-18-19-06-00-216/shared/gradle/init-detect.gradle' line: 40\n\n* What went wrong:\nExecution failed for task ':dependencies'.\n> No signature of method: org.gradle.api.tasks.diagnostics.internal.dependencies.AsciiDependencyReportRenderer.startProject() is applicable for argument types: (org.gradle.api.internal.project.DefaultProject_Decorated) values: [root project '&lt;redacted&gt']\n  Possible solutions: startProject(org.gradle.api.tasks.diagnostics.internal.ProjectDetails), startProject(org.gradle.api.tasks.diagnostics.internal.ProjectDetails)\n</pre>\n<p>Builds are successful when the Gradle build is run without Black Duck.</p>\n<p>The Black Duck scan is run with the following command:</p>\n<pre>\nbash detect.sh --blackduck.url=&lt;redacted&gt; --blackduck.trust.cert=true --blackduck.api.token=&lt;redacted&gt; --detect.project.name=&lt;redacted&gt; --detect.project.version.name=Developer --detect.source.path=.\n</pre>\n<p>Here is my full <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n  repositories {\n    maven {\n      url &quot;https://&lt;redacted&gt;/nexus/repository/maven-central&quot;\n    }\n    maven {\n      url &quot;https://&lt;redacted&gt;/nexus/repository/thirdparty&quot;\n    }\n    maven {\n      url &quot;https://&lt;redacted&gt;/nexus/repository/gradle-plugins&quot;\n    }\n  }\n}\n\nplugins {\n  id &quot;java&quot;\n}\n\ndef nexusUsername = (System.getenv(&quot;NEXUS_USERNAME&quot;) != null ? System.getenv(&quot;NEXUS_USERNAME&quot;) : (project.hasProperty('NEXUS_USERNAME') ? &quot;$NEXUS_USERNAME&quot; : &quot;&quot;))\ndef nexusPassword = (System.getenv(&quot;NEXUS_PASSWORD&quot;) != null ? System.getenv(&quot;NEXUS_PASSWORD&quot;) : (project.hasProperty('NEXUS_PASSWORD') ? &quot;$NEXUS_PASSWORD&quot; : &quot;&quot;))\n\nrepositories {}\n\next {}\n\ndependencies {}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n\nsourceSets {\n  main {\n    java {\n      srcDirs = ['src/main/java']\n    }\n  }\n}\n</code></pre>\n<p>My ideas for what could be wrong:</p>\n<ul>\n<li>There is a bug in the auto-generated <code>/root/blackduck/runs/2022-01-18-19-06-00-216/shared/gradle/init-detect.gradle</code> file (maybe Black Duck doesn't play nice with Gradle 7.0)</li>\n<li>I run the <code>detect.sh</code> script with the wrong arguments</li>\n<li>There is something wrong with my <code>build.gradle</code> file</li>\n</ul>\n<p>I am looking for any suggestions on how to solve this problem so that my Black Duck scans can run successfully once more.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"score":2,"creation_date":1642631435,"post_id":70778531,"comment_id":125125969,"body_markdown":"I think your are looking for a `while` loop as an &quot;if loop&quot; is not a thing.","body":"I think your are looking for a <code>while</code> loop as an &quot;if loop&quot; is not a thing."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642632173,"creation_date":1642631836,"answer_id":70778637,"question_id":70778531,"body_markdown":"You forgot to add a loop to the test method, so it checks the first array&#39;s item only. E.g. you can use `while loop`.\r\n\r\n```java\r\npublic static void test(PrintWriter out) {\r\n    int x = 17;\r\n    int pos = 0;\r\n\r\n    while (true) {\r\n        if (pos != numbers.length) {\r\n            if (numbers[pos] == x) {\r\n                out.println(&quot;The number was found!&quot;);\r\n                return;\r\n            }\r\n\r\n            pos++;\r\n        } else if (pos == numbers.length) {\r\n            out.println(&quot;The number does not exist!&quot;);\r\n            return;\r\n        }\r\n    }\r\n}\r\n```\r\n---\r\n\r\nI think you should redesign your code by splitting different activities with separate methods. It makes your code clear to understand.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = createArray(100);\r\n        System.out.println(isNumberExist(arr, 17) ? &quot;The number was found!&quot;\r\n                                                  : &quot;The number does not exist!&quot;);\r\n    }\r\n\r\n    public static int[] createArray(int total) {\r\n        int[] arr = new int[total];\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            arr[i] = random.nextInt(arr.length);\r\n\r\n        return arr;\r\n    }\r\n\r\n    public static boolean isNumberExist(int[] arr, int x) {\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            if (arr[i] == x)\r\n                return true;\r\n\r\n        return false;\r\n    }\r\n\r\n}\r\n```","title":"Does not find specific number in array","body":"<p>You forgot to add a loop to the test method, so it checks the first array's item only. E.g. you can use <code>while loop</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void test(PrintWriter out) {\n    int x = 17;\n    int pos = 0;\n\n    while (true) {\n        if (pos != numbers.length) {\n            if (numbers[pos] == x) {\n                out.println(&quot;The number was found!&quot;);\n                return;\n            }\n\n            pos++;\n        } else if (pos == numbers.length) {\n            out.println(&quot;The number does not exist!&quot;);\n            return;\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>I think you should redesign your code by splitting different activities with separate methods. It makes your code clear to understand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        int[] arr = createArray(100);\n        System.out.println(isNumberExist(arr, 17) ? &quot;The number was found!&quot;\n                                                  : &quot;The number does not exist!&quot;);\n    }\n\n    public static int[] createArray(int total) {\n        int[] arr = new int[total];\n        Random random = new Random();\n\n        for (int i = 0; i &lt; arr.length; i++)\n            arr[i] = random.nextInt(arr.length);\n\n        return arr;\n    }\n\n    public static boolean isNumberExist(int[] arr, int x) {\n        for (int i = 0; i &lt; arr.length; i++)\n            if (arr[i] == x)\n                return true;\n\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23684315,"reputation":171,"user_id":17709482,"display_name":"Johann Schwarze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642632127,"creation_date":1642632127,"answer_id":70778675,"question_id":70778531,"body_markdown":"You should add a while loop to your test method, like this:\r\n\r\n    public static void test(PrintWriter out) {\r\n        int x = 17;\r\n        int pos = 0;\r\n        while(pos &lt; numbers.length) {\r\n            if(numbers[pos] == x) {\r\n                out.println(&quot;The number was found!&quot;);\r\n                out.flush();\r\n                break;\r\n            }\r\n            \r\n            pos++;\r\n        }\r\n        \r\n        if(pos == numbers.length) {\r\n            out.println(&quot;The number does not exist!&quot;);\r\n            out.flush();\r\n        }\r\n    }\r\n\r\nIn your method, the if statement will only be executed once.","title":"Does not find specific number in array","body":"<p>You should add a while loop to your test method, like this:</p>\n<pre><code>public static void test(PrintWriter out) {\n    int x = 17;\n    int pos = 0;\n    while(pos &lt; numbers.length) {\n        if(numbers[pos] == x) {\n            out.println(&quot;The number was found!&quot;);\n            out.flush();\n            break;\n        }\n        \n        pos++;\n    }\n    \n    if(pos == numbers.length) {\n        out.println(&quot;The number does not exist!&quot;);\n        out.flush();\n    }\n}\n</code></pre>\n<p>In your method, the if statement will only be executed once.</p>\n"}],"owner":{"account_id":23230149,"reputation":21,"user_id":17329455,"display_name":"Fl4chz4nge "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70778637,"answer_count":2,"score":1,"last_activity_date":1642632261,"creation_date":1642631174,"question_id":70778531,"body_markdown":"I am trying to write a program that creates an array and fill it with int numbers(first method). In the end, it is supposed to see if a specific number is given in the array(second method). The problem is that the program does not run my if loops. I do not know why.\r\nThe variable x is the number the program is looking for in the array and pos the position of the number in the array\r\n\r\n```java\r\npublic class Program {\r\n\r\n\tstatic int [] numbers= new int[100];\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\r\n\t\tPrintWriter out = new PrintWriter(System.out);\r\n\r\n\t\tarrayConstruction();\r\n\t\ttest(out);\r\n\t\tout.flush();\r\n\t}\r\n\r\n\tpublic static void arrayConstruction() {\r\n\t\tint x = 0;\r\n\t\tfor (int i = 0; i &lt; numbers.length; i++) {\r\n\t\t\tnumbers[i] = x;\r\n\t\t\tx++;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void test(PrintWriter out) {\r\n\t\tint x = 17;\r\n\t\tint pos = 0;\r\n\t\tif(pos != numbers.length) {\r\n\t\t\tif(numbers[pos] == x) {\r\n\t\t\t\tout.println(&quot;The number was found!&quot;);\r\n\t\t\t\tout.flush();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpos++;\r\n\t\t}\r\n\t\t\r\n\t\telse if(pos == numbers.length) {\r\n\t\t\tout.println(&quot;The number does not exist!&quot;);\r\n\t\t\tout.flush();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Does not find specific number in array","body":"<p>I am trying to write a program that creates an array and fill it with int numbers(first method). In the end, it is supposed to see if a specific number is given in the array(second method). The problem is that the program does not run my if loops. I do not know why.\nThe variable x is the number the program is looking for in the array and pos the position of the number in the array</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Program {\n\n    static int [] numbers= new int[100];\n    \n    public static void main(String [] args) {\n\n        PrintWriter out = new PrintWriter(System.out);\n\n        arrayConstruction();\n        test(out);\n        out.flush();\n    }\n\n    public static void arrayConstruction() {\n        int x = 0;\n        for (int i = 0; i &lt; numbers.length; i++) {\n            numbers[i] = x;\n            x++;\n        }\n    }\n\n    public static void test(PrintWriter out) {\n        int x = 17;\n        int pos = 0;\n        if(pos != numbers.length) {\n            if(numbers[pos] == x) {\n                out.println(&quot;The number was found!&quot;);\n                out.flush();\n            }\n            \n            pos++;\n        }\n        \n        else if(pos == numbers.length) {\n            out.println(&quot;The number does not exist!&quot;);\n            out.flush();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1642630681,"post_id":70778408,"comment_id":125125739,"body_markdown":"Recall that generics in Java are largely a compile-time only phenomenon.  The run-time type of `Hashmap&lt;String, String&gt;[]` is that of `Hashmap[].class`, which is what `getClass()` returns.  If you need more type information about the hashmap, you can consider passing *type tokens* for its elements.","body":"Recall that generics in Java are largely a compile-time only phenomenon.  The run-time type of <code>Hashmap&lt;String, String&gt;[]</code> is that of <code>Hashmap[].class</code>, which is what <code>getClass()</code> returns.  If you need more type information about the hashmap, you can consider passing <i>type tokens</i> for its elements."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1642630970,"post_id":70778408,"comment_id":125125830,"body_markdown":"Also if you have code that takes an `Object` and does a bunch of `instanceof` checks, you might want to consider a different approach. It&#39;s quite primitive and clumsy, and there&#39;s probably a better way to do it.","body":"Also if you have code that takes an <code>Object</code> and does a bunch of <code>instanceof</code> checks, you might want to consider a different approach. It&#39;s quite primitive and clumsy, and there&#39;s probably a better way to do it."}],"answers":[{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642632259,"creation_date":1642632259,"answer_id":70778696,"question_id":70778408,"body_markdown":"When doing type checks with `instanceof`, you cannot use a generic type as the check: you must use a raw type.  The reason for this is simple:  most of the generic type information is erased at compile-time and no longer exists at run-time.   To the JVM at run-time, these types are the same: `List&lt;T&gt;`, `List&lt;String&gt;`, `List&lt;Hashmap&lt;E&gt;&gt;`, and `List`.  If Java allowed the use of generic types for `instanceof` operations, serious type errors could result.\r\n\r\nIn fact, it is not strictly correct to allow operations like:\r\n\r\n    if (obj instanceof Hashmap&lt;?,?&gt;[]) { ...\r\n\r\nThe compiler allows this because unbounded wildcard types are the only type of *reified* generics that exist in Java.  Many authors discourage the use of unbounded wildcards in this situation because they may imply that the use of other (non-reifiable) generic types is valid.  Rather, this is the uncommon situation where it is best to use the raw type:\r\n\r\n    if (obj instanceof Hashmap[]) { ...\r\n        Hashmap&lt;?,?&gt;[] map = (Hashmap&lt;?,?&gt;[]) obj\r\n            :\r\n            :\r\n\r\nBecause the type has been checked, the cast is legal and no compiler warning will be emitted by the above snippet.\r\n\r\nIf run-time information is needed about the types in the `Hashmap`, you can consider two approaches (that can be mixed):\r\n\r\n - generifying `function()` to take type parameters for the keys and/or values\r\n - passing `Class&lt;T&gt;` objects as run-time *type tokens* for the types of the keys and values.  ","title":"How to check if Object is instanceof HashMap&lt;?,?&gt;[] in Java?","body":"<p>When doing type checks with <code>instanceof</code>, you cannot use a generic type as the check: you must use a raw type.  The reason for this is simple:  most of the generic type information is erased at compile-time and no longer exists at run-time.   To the JVM at run-time, these types are the same: <code>List&lt;T&gt;</code>, <code>List&lt;String&gt;</code>, <code>List&lt;Hashmap&lt;E&gt;&gt;</code>, and <code>List</code>.  If Java allowed the use of generic types for <code>instanceof</code> operations, serious type errors could result.</p>\n<p>In fact, it is not strictly correct to allow operations like:</p>\n<pre><code>if (obj instanceof Hashmap&lt;?,?&gt;[]) { ...\n</code></pre>\n<p>The compiler allows this because unbounded wildcard types are the only type of <em>reified</em> generics that exist in Java.  Many authors discourage the use of unbounded wildcards in this situation because they may imply that the use of other (non-reifiable) generic types is valid.  Rather, this is the uncommon situation where it is best to use the raw type:</p>\n<pre><code>if (obj instanceof Hashmap[]) { ...\n    Hashmap&lt;?,?&gt;[] map = (Hashmap&lt;?,?&gt;[]) obj\n        :\n        :\n</code></pre>\n<p>Because the type has been checked, the cast is legal and no compiler warning will be emitted by the above snippet.</p>\n<p>If run-time information is needed about the types in the <code>Hashmap</code>, you can consider two approaches (that can be mixed):</p>\n<ul>\n<li>generifying <code>function()</code> to take type parameters for the keys and/or values</li>\n<li>passing <code>Class&lt;T&gt;</code> objects as run-time <em>type tokens</em> for the types of the keys and values.</li>\n</ul>\n"}],"owner":{"account_id":9452766,"reputation":184,"user_id":7028973,"display_name":"Jayleen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70778696,"answer_count":1,"score":0,"last_activity_date":1642632259,"creation_date":1642630290,"question_id":70778408,"body_markdown":"I have in java an array of HashMaps\r\n```\r\nHashMap&lt;String, String&gt;[] convertTags = new HashMap[1];\r\nHashMap&lt;String, String&gt; tag = new HashMap&lt;&gt;();\r\ntag.put(&quot;key&quot;, &quot;test-tag&quot;);\r\ntag.put(&quot;value&quot;, &quot;test-value&quot;);\r\nconvertTags[0] = tag;\r\n```\r\n\r\nAnd in another class, I pass this convertTags object to a function that takes in a generic Object. Based on the type of object, I want to run different code. However, when I have an if statement to check the instanceof the array of HashMaps, it doesn&#39;t seem to recognize my convertTags object.\r\n\r\n``` \r\npublic static void function (Object obj) {\r\n...\r\n   if (obj instanceof HashMap&lt;?, ?&gt;[]) {\r\n      //do stuff\r\n   }\r\n}\r\n```\r\n\r\nAm I missing something? Calling .getClass() on convertTags object returns `class [Ljava.util.HashMap;`","title":"How to check if Object is instanceof HashMap&lt;?,?&gt;[] in Java?","body":"<p>I have in java an array of HashMaps</p>\n<pre><code>HashMap&lt;String, String&gt;[] convertTags = new HashMap[1];\nHashMap&lt;String, String&gt; tag = new HashMap&lt;&gt;();\ntag.put(&quot;key&quot;, &quot;test-tag&quot;);\ntag.put(&quot;value&quot;, &quot;test-value&quot;);\nconvertTags[0] = tag;\n</code></pre>\n<p>And in another class, I pass this convertTags object to a function that takes in a generic Object. Based on the type of object, I want to run different code. However, when I have an if statement to check the instanceof the array of HashMaps, it doesn't seem to recognize my convertTags object.</p>\n<pre><code>public static void function (Object obj) {\n...\n   if (obj instanceof HashMap&lt;?, ?&gt;[]) {\n      //do stuff\n   }\n}\n</code></pre>\n<p>Am I missing something? Calling .getClass() on convertTags object returns <code>class [Ljava.util.HashMap;</code></p>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1381144700,"post_id":19223366,"comment_id":28449693,"body_markdown":"What have you tried? What&#39;s the problem you&#39;re facing? Why wouldn&#39;t getModel() return the DefaultListModel, and why is explicit casting not allowed?","body":"What have you tried? What&#39;s the problem you&#39;re facing? Why wouldn&#39;t getModel() return the DefaultListModel, and why is explicit casting not allowed?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1381148127,"post_id":19223366,"comment_id":28451719,"body_markdown":"That&#39;s because you didn&#39;t create a JList with a DefaultTableModel in the first place. I don&#39;t how it&#39;s relevant to the question anyway. Sinc it seems that you&#39;re not ready to elaborate your question, I&#39;ll vote to close.","body":"That&#39;s because you didn&#39;t create a JList with a DefaultTableModel in the first place. I don&#39;t how it&#39;s relevant to the question anyway. Sinc it seems that you&#39;re not ready to elaborate your question, I&#39;ll vote to close."},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1381148385,"post_id":19223366,"comment_id":28451886,"body_markdown":"As i am new here, i am not able to add the image else i would have added the detailed description...\nand i created the JList with DefaultTableModel.","body":"As i am new here, i am not able to add the image else i would have added the detailed description... and i created the JList with DefaultTableModel."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1381148466,"post_id":19223366,"comment_id":28451930,"body_markdown":"Don&#39;t add images. Post the code.","body":"Don&#39;t add images. Post the code."},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1381149172,"post_id":19223366,"comment_id":28452362,"body_markdown":"I edited the post with the code and image of JFrame.","body":"I edited the post with the code and image of JFrame."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1381153785,"post_id":19223366,"comment_id":28455247,"body_markdown":"something wrong with the code you are not showing ...","body":"something wrong with the code you are not showing ..."},{"owner":{"account_id":398094,"reputation":636,"user_id":762588,"display_name":"Viktor Seifert"},"score":1,"creation_date":1381153983,"post_id":19223366,"comment_id":28455371,"body_markdown":"Consider providing a [SSCCE](http://sscce.org/).  It will make it lot easier for people to asnwer your questions.","body":"Consider providing a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>.  It will make it lot easier for people to asnwer your questions."},{"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"score":0,"creation_date":1381158205,"post_id":19223366,"comment_id":28458276,"body_markdown":"Consider using &quot;&gt;&quot; and &quot;&lt;&quot; as the labels for your swap buttons. This is more typical for swapping just the selected item(s), whereas &quot;&gt;&gt;&quot; and &quot;&lt;&lt;&quot; would be used to swap all items.","body":"Consider using &quot;&gt;&quot; and &quot;&lt;&quot; as the labels for your swap buttons. This is more typical for swapping just the selected item(s), whereas &quot;&gt;&gt;&quot; and &quot;&lt;&lt;&quot; would be used to swap all items."},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1381173601,"post_id":19223366,"comment_id":28466592,"body_markdown":"Kleopatra...pls let me know further about the same as i am new here.","body":"Kleopatra...pls let me know further about the same as i am new here."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1381177237,"post_id":19223366,"comment_id":28468610,"body_markdown":"Are you using `DefaultListModel` or `DefaultTableModel`? They aren&#39;t interchangeable.","body":"Are you using <code>DefaultListModel</code> or <code>DefaultTableModel</code>? They aren&#39;t interchangeable."},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1381204700,"post_id":19223366,"comment_id":28476804,"body_markdown":"Obviously, i am using DefaultListModel...!!!\nit is there in code part...","body":"Obviously, i am using DefaultListModel...!!! it is there in code part..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1381236075,"post_id":19223366,"comment_id":28491939,"body_markdown":"Again: obviously, you are doing something wrong in the code you are _not_ showing. Either go ahead and post that (... self-censored profanity ...) SSCCE to allow somebody to help you find it or find it yourself. As is, the question is not answerable and probably will be closed soon","body":"Again: obviously, you are doing something wrong in the code you are <i>not</i> showing. Either go ahead and post that (... self-censored profanity ...) SSCCE to allow somebody to help you find it or find it yourself. As is, the question is not answerable and probably will be closed soon"},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1388567298,"post_id":19223366,"comment_id":31308721,"body_markdown":"Exception : java.lang.ClassCastException: javax.swing.JList$5 cannot be cast to javax.swing.DefaultListModel Exception while casting this... DefaultListModel dm = (DefaultListModel) ListName.getModel();","body":"Exception : java.lang.ClassCastException: javax.swing.JList$5 cannot be cast to javax.swing.DefaultListModel Exception while casting this... DefaultListModel dm = (DefaultListModel) ListName.getModel();"}],"answers":[{"tags":[],"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381213242,"creation_date":1381152722,"answer_id":19226265,"question_id":19223366,"body_markdown":"Your solution should be very straight forward like:\r\n\r\n1. Get all selected items from Left List\r\n2. Add selected items from Left List to Right List\r\n\r\nAnd for doing Add All and Remove All those should be without question very simple. JList class gives you methods to perform all of the above.\r\n\r\nJList.getSelectedIndices() will return an array of int (int[]) of all indexes that have been selected. So you would go through the list and take the items at those indexes and add them to your Right List.\r\n\r\n    List&lt;Object&gt; myItemsForRightList = new ArrayList&lt;Object&gt;();\r\n    int[] selectedIndexes = jListLeft.getSelectedIndicies();\r\n    for(int i=0; i &lt; selectedIndexes.length; i++) {\r\n          Object whatever = jListLeft.getElementAt(selectedIndexes[i]);\r\n          ((DefaultListModel)jListRight.getModel()).addElement(whatever);\r\n    }\r\n\r\n\r\nI suggest you also look at what the API has to offer @ http://docs.oracle.com/javase/6/docs/api/javax/swing/JList.html\r\n\r\n--- EDIT ---&lt;br&gt;\r\nJust because no complete source code was provided, I am re-posting the code above with JDK 7 in mind\r\n\r\n    public static void main(String ... args) {\r\n  \t       JFrame frame = new JFrame(&quot;Test&quot;);\r\n\t       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t       DefaultListModel&lt;String&gt; defaultListModel = new DefaultListModel&lt;String&gt;();\r\n\t       defaultListModel.addElement(&quot;Bla bla bla&quot;);\r\n\t       defaultListModel.addElement(&quot;Ble ble ble&quot;);\r\n\t       defaultListModel.addElement(&quot;Blo blo blo&quot;);\r\n\t\r\n\t       final JList&lt;String&gt; list = new JList&lt;String&gt;();\r\n\t       list.setPreferredSize(new Dimension(400, 200));\r\n\t       list.setModel(defaultListModel);\r\n\t\r\n\t       JButton button = new JButton(&quot;Add&quot;);\r\n\t       button.addActionListener(new ActionListener() {\r\n\t\t       @Override\r\n\t\t       public void actionPerformed(ActionEvent e) {\r\n\t\t\t       ((DefaultListModel&lt;String&gt;)list.getModel()).addElement(&quot;New one added&quot;);\r\n\t\t       }\r\n\t       });\r\n\t\r\n\t       frame.setLayout(new BorderLayout(5, 5));\r\n\t       frame.add(new JScrollPane(list), BorderLayout.NORTH);\r\n\t       frame.add(button, BorderLayout.SOUTH);\r\n\t       frame.pack();\r\n\t       frame.setVisible(true);\r\n       }","title":"Moving selected data between two JList","body":"<p>Your solution should be very straight forward like:</p>\n\n<ol>\n<li>Get all selected items from Left List</li>\n<li>Add selected items from Left List to Right List</li>\n</ol>\n\n<p>And for doing Add All and Remove All those should be without question very simple. JList class gives you methods to perform all of the above.</p>\n\n<p>JList.getSelectedIndices() will return an array of int (int[]) of all indexes that have been selected. So you would go through the list and take the items at those indexes and add them to your Right List.</p>\n\n<pre><code>List&lt;Object&gt; myItemsForRightList = new ArrayList&lt;Object&gt;();\nint[] selectedIndexes = jListLeft.getSelectedIndicies();\nfor(int i=0; i &lt; selectedIndexes.length; i++) {\n      Object whatever = jListLeft.getElementAt(selectedIndexes[i]);\n      ((DefaultListModel)jListRight.getModel()).addElement(whatever);\n}\n</code></pre>\n\n<p>I suggest you also look at what the API has to offer @ <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/JList.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/javax/swing/JList.html</a></p>\n\n<p>--- EDIT ---<br>\nJust because no complete source code was provided, I am re-posting the code above with JDK 7 in mind</p>\n\n<pre><code>public static void main(String ... args) {\n       JFrame frame = new JFrame(\"Test\");\n       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n       DefaultListModel&lt;String&gt; defaultListModel = new DefaultListModel&lt;String&gt;();\n       defaultListModel.addElement(\"Bla bla bla\");\n       defaultListModel.addElement(\"Ble ble ble\");\n       defaultListModel.addElement(\"Blo blo blo\");\n\n       final JList&lt;String&gt; list = new JList&lt;String&gt;();\n       list.setPreferredSize(new Dimension(400, 200));\n       list.setModel(defaultListModel);\n\n       JButton button = new JButton(\"Add\");\n       button.addActionListener(new ActionListener() {\n           @Override\n           public void actionPerformed(ActionEvent e) {\n               ((DefaultListModel&lt;String&gt;)list.getModel()).addElement(\"New one added\");\n           }\n       });\n\n       frame.setLayout(new BorderLayout(5, 5));\n       frame.add(new JScrollPane(list), BorderLayout.NORTH);\n       frame.add(button, BorderLayout.SOUTH);\n       frame.pack();\n       frame.setVisible(true);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642631834,"creation_date":1642631834,"answer_id":70778635,"question_id":19223366,"body_markdown":"These are the steps you are looking for:\r\n 1. Obtain the selected elements in the A list\r\n 2. Delete elements from A list\r\n 3. To avoid the casting exception, obtain all elements in list B\r\n 4. Add all elements from list B to a new Model\r\n 5. Add all elements obtained from list A to the new Model\r\n 6. Set the new Model to list B\r\n 7. Thank the creator :)\r\n\r\n\r\nThis is the core method:\r\n\r\n```Java\r\n\t/**\r\n\t * Moves the {@link Entity entities} from one {@link JList} to another.\r\n\t * Used in the filters context of the app, but made generic and reusable.\r\n\t * \r\n\t * @param from {@link JList} to obtain the entities from.\r\n\t * @param to  {@link  JList} to add the obtained entities.\r\n\t * @param &lt;E&gt; Class of the elements loaded in the {@link  JList}.\r\n\t * @throws IllegalArgumentException - if any the provided parameters are null.\r\n\t */\r\n\tpublic &lt;E&gt; void moveSelectedTo(JList from, JList to) {\r\n\t    String logID=&quot;::moveSelectedTo(from,to): &quot;;\r\n\t\t//log.trace(&quot;{}Start&quot;, logID);\r\n\t\t//checkNotNull(from,to);\r\n\t\ttry{\r\n\t\t\tList&lt;E&gt; entitiesToTransition=from.getSelectedValuesList();\r\n\t\t\tif(entitiesToTransition==null || entitiesToTransition.isEmpty()) return;\r\n\t\t\t\r\n\t\t\tDefaultListModel fromModel = (DefaultListModel) from.getModel();\r\n\t\t\tfor (E entity: entitiesToTransition) fromModel.removeElement(entity);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tList&lt;E&gt; previouslyLoadedEntities=new ArrayList&lt;&gt;();\r\n\t\t\tListModel&lt;E&gt; model=(to.getModel());\r\n\t\t\tfor (int i = 0; i &lt; model.getSize(); i++)\tpreviouslyLoadedEntities.add(model.getElementAt(i));\r\n\t\t\tDefaultListModel&lt;E&gt; dlm=new DefaultListModel&lt;&gt;(){{\r\n\t\t\t\taddAll(previouslyLoadedEntities);\r\n\t\t\t\taddAll(entitiesToTransition);\r\n\t\t\t}};\r\n\t\t\tto.setModel(dlm);\r\n\t\t    log.trace(&quot;{}Finish&quot;, logID);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t        throw new RuntimeException(&quot;Impossible to transition the entities from one JList to another &quot;, e);\r\n\t    }\r\n\t}\r\n```","title":"Moving selected data between two JList","body":"<p>These are the steps you are looking for:</p>\n<ol>\n<li>Obtain the selected elements in the A list</li>\n<li>Delete elements from A list</li>\n<li>To avoid the casting exception, obtain all elements in list B</li>\n<li>Add all elements from list B to a new Model</li>\n<li>Add all elements obtained from list A to the new Model</li>\n<li>Set the new Model to list B</li>\n<li>Thank the creator :)</li>\n</ol>\n<p>This is the core method:</p>\n<pre><code>    /**\n     * Moves the {@link Entity entities} from one {@link JList} to another.\n     * Used in the filters context of the app, but made generic and reusable.\n     * \n     * @param from {@link JList} to obtain the entities from.\n     * @param to  {@link  JList} to add the obtained entities.\n     * @param &lt;E&gt; Class of the elements loaded in the {@link  JList}.\n     * @throws IllegalArgumentException - if any the provided parameters are null.\n     */\n    public &lt;E&gt; void moveSelectedTo(JList from, JList to) {\n        String logID=&quot;::moveSelectedTo(from,to): &quot;;\n        //log.trace(&quot;{}Start&quot;, logID);\n        //checkNotNull(from,to);\n        try{\n            List&lt;E&gt; entitiesToTransition=from.getSelectedValuesList();\n            if(entitiesToTransition==null || entitiesToTransition.isEmpty()) return;\n            \n            DefaultListModel fromModel = (DefaultListModel) from.getModel();\n            for (E entity: entitiesToTransition) fromModel.removeElement(entity);\n            \n            \n            List&lt;E&gt; previouslyLoadedEntities=new ArrayList&lt;&gt;();\n            ListModel&lt;E&gt; model=(to.getModel());\n            for (int i = 0; i &lt; model.getSize(); i++)   previouslyLoadedEntities.add(model.getElementAt(i));\n            DefaultListModel&lt;E&gt; dlm=new DefaultListModel&lt;&gt;(){{\n                addAll(previouslyLoadedEntities);\n                addAll(entitiesToTransition);\n            }};\n            to.setModel(dlm);\n            log.trace(&quot;{}Finish&quot;, logID);\n            \n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Impossible to transition the entities from one JList to another &quot;, e);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6258,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1642631834,"creation_date":1381144412,"question_id":19223366,"body_markdown":"I am trying to develop a Java code that will move selected data between two JList,\r\nAs getModel() method will not return the DefaultListModel and explicit casting is also not allowed to List.getModel() method, is it any other possible way to move selected data from one to other JList and vice versa.?\r\n\r\n![][1]\r\n\r\n  [1]: http://i.stack.imgur.com/IlbVZ.png\r\n\r\nHere is the Exact view of what i am trying...(&quot;Add All&quot; and &quot;Remove all&quot; buttons are working well, i am using Arralist for that, but i am finding solution for selected data, includig ordering sequence of adding and removing data)\r\n\r\nCode:\r\n\r\nFor Left JList&quot;\r\n\r\n    lmLeft = new DefaultListModel();\r\n    lstLeft = new javax.swing.JList();\r\n    lstLeft.setModel(lmLeft);\r\n   \r\n\r\nFor right JList:\r\n\r\n    lmRight = new DefaultListModel();\r\n    lstRight = new javax.swing.JList();\r\n    lstRight.setModel(lmRight);\r\n    \r\n\r\n**SOLVED : I replaced JList with JTable**\r\n\r\nNote : We cannot cast DefaultListModel to getList() as it will return AbstractListModel.\r\n\r\nThank you all for your attention.","title":"Moving selected data between two JList","body":"<p>I am trying to develop a Java code that will move selected data between two JList,\nAs getModel() method will not return the DefaultListModel and explicit casting is also not allowed to List.getModel() method, is it any other possible way to move selected data from one to other JList and vice versa.?</p>\n\n<p><img src=\"https://i.stack.imgur.com/IlbVZ.png\" alt=\"\"></p>\n\n<p>Here is the Exact view of what i am trying...(\"Add All\" and \"Remove all\" buttons are working well, i am using Arralist for that, but i am finding solution for selected data, includig ordering sequence of adding and removing data)</p>\n\n<p>Code:</p>\n\n<p>For Left JList\"</p>\n\n<pre><code>lmLeft = new DefaultListModel();\nlstLeft = new javax.swing.JList();\nlstLeft.setModel(lmLeft);\n</code></pre>\n\n<p>For right JList:</p>\n\n<pre><code>lmRight = new DefaultListModel();\nlstRight = new javax.swing.JList();\nlstRight.setModel(lmRight);\n</code></pre>\n\n<p><strong>SOLVED : I replaced JList with JTable</strong></p>\n\n<p>Note : We cannot cast DefaultListModel to getList() as it will return AbstractListModel.</p>\n\n<p>Thank you all for your attention.</p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690057076,"post_id":70777883,"comment_id":135300916,"body_markdown":"Did you get the answer you were looking for?","body":"Did you get the answer you were looking for?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642628550,"creation_date":1642628163,"answer_id":70778043,"question_id":70777883,"body_markdown":"\r\n- streams the ids via `myService.getIds`\r\n- then simply maps those `ids` to the list returned by the service (using a method reference).\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = myService.getIds(myApp).\r\n\t\t  stream().collect(Collectors.toMap(id-&gt;id, myService::getListForId));\r\n```\r\n","title":"Java stream collect as a map using streamed element as key and collected list as value?","body":"<ul>\n<li>streams the ids via <code>myService.getIds</code></li>\n<li>then simply maps those <code>ids</code> to the list returned by the service (using a method reference).</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = myService.getIds(myApp).\n          stream().collect(Collectors.toMap(id-&gt;id, myService::getListForId));\n</code></pre>\n"}],"owner":{"account_id":4269745,"reputation":6457,"user_id":3491855,"accept_rate":69,"display_name":"lagoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2846,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642631274,"creation_date":1642627141,"question_id":70777883,"body_markdown":"so I have seen some similar questions to this but have been unable to apply their answers to my code and am wondering how to do this. So basically I have the following code (simplified):\r\n\r\n```\r\npublic Map&lt;String, List&lt;String&gt;&gt; myFunction(String myApp) {\r\n  List&lt;String&gt; myIds = myService.getIds(myApp);\r\n\r\n  return myIds.stream()\r\n      .map(id -&gt; {\r\n          final List&lt;String&gt; myObjects = myService.getListForId(id);\r\n          return new MyWrapper(id, myObjects);\r\n      }).collect(Collectors.toMap(a -&gt; a.ID, a -&gt; a.OBJECTS);\r\n}\r\n\r\nclass MyWrapper {\r\n    public final String ID;\r\n    public final List&lt;String&gt; OBJECTS;\r\n\r\n    public MyWrapper(String id, List&lt;String&gt; objects) {\r\n        ID = id;\r\n        OBJECTS = objects;\r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t figure out how to access `id` in the Collectors function since the list has no gettable relation to the id so I created a wrapper class to store both values. Any ideas on a way to do this without the wrapper? Thanks","title":"Java stream collect as a map using streamed element as key and collected list as value?","body":"<p>so I have seen some similar questions to this but have been unable to apply their answers to my code and am wondering how to do this. So basically I have the following code (simplified):</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; myFunction(String myApp) {\n  List&lt;String&gt; myIds = myService.getIds(myApp);\n\n  return myIds.stream()\n      .map(id -&gt; {\n          final List&lt;String&gt; myObjects = myService.getListForId(id);\n          return new MyWrapper(id, myObjects);\n      }).collect(Collectors.toMap(a -&gt; a.ID, a -&gt; a.OBJECTS);\n}\n\nclass MyWrapper {\n    public final String ID;\n    public final List&lt;String&gt; OBJECTS;\n\n    public MyWrapper(String id, List&lt;String&gt; objects) {\n        ID = id;\n        OBJECTS = objects;\n    }\n}\n</code></pre>\n<p>I can't figure out how to access <code>id</code> in the Collectors function since the list has no gettable relation to the id so I created a wrapper class to store both values. Any ideas on a way to do this without the wrapper? Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1642627837,"post_id":70777946,"comment_id":125124874,"body_markdown":"If you need precision use `BigDecimal` .","body":"If you need precision use <code>BigDecimal</code> ."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1642627853,"post_id":70777946,"comment_id":125124882,"body_markdown":"Also read https://stackoverflow.com/questions/588004/is-floating-point-math-broken","body":"Also read <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\" title=\"is floating point math broken\">stackoverflow.com/questions/588004/&hellip;</a>"},{"owner":{"account_id":23992346,"reputation":1,"user_id":17978293,"display_name":"username123"},"score":0,"creation_date":1642628200,"post_id":70777946,"comment_id":125125001,"body_markdown":"@PM77-1 I tried doing this but I still get the same values `BigDecimal caloriesBurnedW = BigDecimal.valueOf(0.0175 * 4 * (weight/2.2) * walkingTime);\n\t\tBigDecimal caloriesBurnedR = BigDecimal.valueOf(0.0175 * 10 * (weight/2.2) * runningTime);\n\t\tBigDecimal caloriesBurnedMC = BigDecimal.valueOf(0.0175 * 8 * (weight/2.2) * mountainClimberTime);\n\t`","body":"@PM77-1 I tried doing this but I still get the same values <code>BigDecimal caloriesBurnedW = BigDecimal.valueOf(0.0175 * 4 * (weight&#47;2.2) * walkingTime); \t\tBigDecimal caloriesBurnedR = BigDecimal.valueOf(0.0175 * 10 * (weight&#47;2.2) * runningTime); \t\tBigDecimal caloriesBurnedMC = BigDecimal.valueOf(0.0175 * 8 * (weight&#47;2.2) * mountainClimberTime); \t</code>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1642628268,"post_id":70777946,"comment_id":125125017,"body_markdown":"Then your &quot;*should be*&quot; numbers are wrong.","body":"Then your &quot;<i>should be</i>&quot; numbers are wrong."},{"owner":{"account_id":23992346,"reputation":1,"user_id":17978293,"display_name":"username123"},"score":0,"creation_date":1642628373,"post_id":70777946,"comment_id":125125049,"body_markdown":"@PM77-1 They&#39;re straight from the assignment sheet though. It says that the program &quot;must display the same information with the same format&quot;","body":"@PM77-1 They&#39;re straight from the assignment sheet though. It says that the program &quot;must display the same information with the same format&quot;"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1642629094,"post_id":70777946,"comment_id":125125278,"body_markdown":"`286.3636363636364` has 13, not 14 decimals. The person who wrote the exercise appears to have done a basic `System.out.println(caloriesBurnedW);` and it just happened to result in this number of decimals (for weight=150, walkingTime=60). I would try that instead of direct formatting. I don&#39;t think this would have been an issue if the exercise author was more familiar with floating point numbers.","body":"<code>286.3636363636364</code> has 13, not 14 decimals. The person who wrote the exercise appears to have done a basic <code>System.out.println(caloriesBurnedW);</code> and it just happened to result in this number of decimals (for weight=150, walkingTime=60). I would try that instead of direct formatting. I don&#39;t think this would have been an issue if the exercise author was more familiar with floating point numbers."}],"answers":[{"tags":[],"owner":{"account_id":23992346,"reputation":1,"user_id":17978293,"display_name":"username123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642631091,"creation_date":1642631091,"answer_id":70778519,"question_id":70777946,"body_markdown":"Instead of dividing the weight by 2.2, I created a variable \r\n\r\n    kgWeight = weight * (1/2.2) \r\n\r\nThat resolved the issue for some reason","title":"My output is not rounding correctly and it doesn&#39;t match the expected output","body":"<p>Instead of dividing the weight by 2.2, I created a variable</p>\n<pre><code>kgWeight = weight * (1/2.2) \n</code></pre>\n<p>That resolved the issue for some reason</p>\n"}],"owner":{"account_id":23992346,"reputation":1,"user_id":17978293,"display_name":"username123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642632844,"answer_count":1,"score":0,"last_activity_date":1642631091,"creation_date":1642627579,"question_id":70777946,"body_markdown":"sorry if this is an obvious question but I just started learning computer science. \r\n\r\nI have to print the results of this with 14 decimal places so I did so by using %.14f in a printf statement. All of the other variables are integers\r\n  \r\n    double caloriesBurnedW = 0.0175 * 4 * (weight/2.2) * walkingTime; \r\n\tdouble caloriesBurnedR = 0.0175 * 10 * (weight/2.2) * runningTime;\r\n\tdouble caloriesBurnedMC = 0.0175 * 8 * (weight/2.2) * mountainClimberTime;\r\n\r\nThe outputs I get are \r\n\r\n - 286.36363636363640\r\n - 114.54545454545455\r\n - 229.09090909090910\r\n\r\nbut they should be \r\n\r\n - 286.3636363636364\r\n - 114.54545454545456\r\n - 229.09090909090912","title":"My output is not rounding correctly and it doesn&#39;t match the expected output","body":"<p>sorry if this is an obvious question but I just started learning computer science.</p>\n<p>I have to print the results of this with 14 decimal places so I did so by using %.14f in a printf statement. All of the other variables are integers</p>\n<pre><code>double caloriesBurnedW = 0.0175 * 4 * (weight/2.2) * walkingTime; \ndouble caloriesBurnedR = 0.0175 * 10 * (weight/2.2) * runningTime;\ndouble caloriesBurnedMC = 0.0175 * 8 * (weight/2.2) * mountainClimberTime;\n</code></pre>\n<p>The outputs I get are</p>\n<ul>\n<li>286.36363636363640</li>\n<li>114.54545454545455</li>\n<li>229.09090909090910</li>\n</ul>\n<p>but they should be</p>\n<ul>\n<li>286.3636363636364</li>\n<li>114.54545454545456</li>\n<li>229.09090909090912</li>\n</ul>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14672981,"reputation":66,"user_id":10596965,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642630733,"creation_date":1642630733,"answer_id":70778481,"question_id":70777302,"body_markdown":"Try using firebase Messaging in conjunction with your backend.\r\n\r\nYou can read about it here:\r\n\r\nhttps://firebase.google.com/docs/cloud-messaging/?authuser=0#implementation_paths\r\n\r\nhttps://firebase.google.com/docs/cloud-messaging/js/client?authuser=0","title":"Run android service via remote command","body":"<p>Try using firebase Messaging in conjunction with your backend.</p>\n<p>You can read about it here:</p>\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/?authuser=0#implementation_paths\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/?authuser=0#implementation_paths</a></p>\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/js/client?authuser=0\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/js/client?authuser=0</a></p>\n"}],"owner":{"account_id":11911574,"reputation":7,"user_id":8716656,"display_name":"Barraviera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70778481,"answer_count":1,"score":0,"last_activity_date":1642630733,"creation_date":1642623900,"question_id":70777302,"body_markdown":"I have the following code that runs in a service where it captures screenshots from Android. What technology could I use to send a remote command to this service to execute the task? I don&#39;t want it to run from a MainActivity button. Firebase cloud messaging ? Websocket ?\r\n\r\n\r\nScreenCaptureService.java\r\n       \r\n    import android.annotation.SuppressLint;\r\n    import android.app.Activity;\r\n    import android.app.Notification;\r\n    import android.app.Service;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.res.Resources;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.PixelFormat;\r\n    import android.hardware.display.DisplayManager;\r\n    import android.hardware.display.VirtualDisplay;\r\n    import android.media.Image;\r\n    import android.media.ImageReader;\r\n    import android.media.projection.MediaProjection;\r\n    import android.media.projection.MediaProjectionManager;\r\n    import android.os.Build;\r\n    import android.os.Handler;\r\n    import android.os.IBinder;\r\n    import android.os.Looper;\r\n    import android.util.Log;\r\n    import android.view.Display;\r\n    import android.view.OrientationEventListener;\r\n    import android.view.WindowManager;\r\n    \r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.core.util.Pair;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.util.Objects;\r\n    \r\n    public class ScreenCaptureService extends Service {\r\n    \r\n        private static final String TAG = &quot;ScreenCaptureService&quot;;\r\n        private static final String RESULT_CODE = &quot;RESULT_CODE&quot;;\r\n        private static final String DATA = &quot;DATA&quot;;\r\n        private static final String ACTION = &quot;ACTION&quot;;\r\n        private static final String START = &quot;START&quot;;\r\n        private static final String STOP = &quot;STOP&quot;;\r\n        private static final String SCREENCAP_NAME = &quot;screencap&quot;;\r\n    \r\n        private static int IMAGES_PRODUCED;\r\n    \r\n        private MediaProjection mMediaProjection;\r\n        private String mStoreDir;\r\n        private ImageReader mImageReader;\r\n        private Handler mHandler;\r\n        private Display mDisplay;\r\n        private VirtualDisplay mVirtualDisplay;\r\n        private int mDensity;\r\n        private int mWidth;\r\n        private int mHeight;\r\n        private int mRotation;\r\n        private OrientationChangeCallback mOrientationChangeCallback;\r\n    \r\n        public static Intent getStartIntent(Context context, int resultCode, Intent data) {\r\n            Intent intent = new Intent(context, ScreenCaptureService.class);\r\n            intent.putExtra(ACTION, START);\r\n            intent.putExtra(RESULT_CODE, resultCode);\r\n            intent.putExtra(DATA, data);\r\n    \r\n            return intent;\r\n        }\r\n    \r\n        public static Intent getStopIntent(Context context) {\r\n            Intent intent = new Intent(context, ScreenCaptureService.class);\r\n            intent.putExtra(ACTION, STOP);\r\n            return intent;\r\n        }\r\n    \r\n        private static boolean isStartCommand(Intent intent) {\r\n            return intent.hasExtra(RESULT_CODE) &amp;&amp; intent.hasExtra(DATA)\r\n                    &amp;&amp; intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), START);\r\n        }\r\n    \r\n        private static boolean isStopCommand(Intent intent) {\r\n            return intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), STOP);\r\n        }\r\n    \r\n        private static int getVirtualDisplayFlags() {\r\n            return DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY | DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\r\n        }\r\n    \r\n        private class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\r\n            @Override\r\n            public void onImageAvailable(ImageReader reader) {\r\n    \r\n                FileOutputStream fos = null;\r\n                Bitmap bitmap = null;\r\n                try (Image image = mImageReader.acquireLatestImage()) {\r\n                    if (image != null) {\r\n                        Image.Plane[] planes = image.getPlanes();\r\n                        ByteBuffer buffer = planes[0].getBuffer();\r\n                        int pixelStride = planes[0].getPixelStride();\r\n                        int rowStride = planes[0].getRowStride();\r\n                        int rowPadding = rowStride - pixelStride * mWidth;\r\n    \r\n                        // create bitmap\r\n                        bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\r\n                        bitmap.copyPixelsFromBuffer(buffer);\r\n    \r\n                        // write bitmap to a file\r\n                        fos = new FileOutputStream(mStoreDir + &quot;/myscreen_&quot; + IMAGES_PRODUCED + &quot;.png&quot;);\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n    \r\n                        IMAGES_PRODUCED++;\r\n                        Log.e(TAG, &quot;captured image: &quot; + IMAGES_PRODUCED);\r\n                    }\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (fos != null) {\r\n                        try {\r\n                            fos.close();\r\n                        } catch (IOException ioe) {\r\n                            ioe.printStackTrace();\r\n                        }\r\n                    }\r\n    \r\n                    if (bitmap != null) {\r\n                        bitmap.recycle();\r\n                    }\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n        private class OrientationChangeCallback extends OrientationEventListener {\r\n    \r\n            OrientationChangeCallback(Context context) {\r\n                super(context);\r\n            }\r\n    \r\n            @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n            @Override\r\n            public void onOrientationChanged(int orientation) {\r\n                final int rotation = mDisplay.getRotation();\r\n                if (rotation != mRotation) {\r\n                    mRotation = rotation;\r\n                    try {\r\n                        // clean up\r\n                        if (mVirtualDisplay != null) mVirtualDisplay.release();\r\n                        if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\r\n    \r\n                        // re-create virtual display depending on device width / height\r\n                        createVirtualDisplay();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        private class MediaProjectionStopCallback extends MediaProjection.Callback {\r\n            @Override\r\n            public void onStop() {\r\n                Log.e(TAG, &quot;stopping projection.&quot;);\r\n                mHandler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        if (mVirtualDisplay != null) mVirtualDisplay.release();\r\n                        if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\r\n                        if (mOrientationChangeCallback != null) mOrientationChangeCallback.disable();\r\n                        mMediaProjection.unregisterCallback(MediaProjectionStopCallback.this);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            // create store dir\r\n            File externalFilesDir = getExternalFilesDir(null);\r\n            if (externalFilesDir != null) {\r\n                mStoreDir = externalFilesDir.getAbsolutePath() + &quot;/screenshots/&quot;;\r\n                File storeDirectory = new File(mStoreDir);\r\n                if (!storeDirectory.exists()) {\r\n                    boolean success = storeDirectory.mkdirs();\r\n                    if (!success) {\r\n                        Log.e(TAG, &quot;failed to create file storage directory.&quot;);\r\n                        stopSelf();\r\n                    }\r\n                }\r\n            } else {\r\n                Log.e(TAG, &quot;failed to create file storage directory, getExternalFilesDir is null.&quot;);\r\n                stopSelf();\r\n            }\r\n    \r\n            // start capture handling thread\r\n            new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    Looper.prepare();\r\n                    mHandler = new Handler();\r\n                    Looper.loop();\r\n                }\r\n            }.start();\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n    \r\n            if (isStartCommand(intent)) {\r\n                // create notification\r\n                Pair&lt;Integer, Notification&gt; notification = NotificationUtils.getNotification(this);\r\n                startForeground(notification.first, notification.second);\r\n                // start projection\r\n                int resultCode = intent.getIntExtra(RESULT_CODE, Activity.RESULT_CANCELED);\r\n                Intent data = intent.getParcelableExtra(DATA);\r\n                startProjection(resultCode, data);\r\n            } else if (isStopCommand(intent)) {\r\n                stopProjection();\r\n                stopSelf();\r\n            } else {\r\n                stopSelf();\r\n            }\r\n    \r\n            return START_NOT_STICKY;\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        private void startProjection(int resultCode, Intent data) {\r\n            MediaProjectionManager mpManager =\r\n                    (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n            if (mMediaProjection == null) {\r\n                mMediaProjection = mpManager.getMediaProjection(resultCode, data);\r\n                if (mMediaProjection != null) {\r\n                    // display metrics\r\n                    mDensity = Resources.getSystem().getDisplayMetrics().densityDpi;\r\n                    WindowManager windowManager = (WindowManager) getSystemService(Context.WINDOW_SERVICE);\r\n                    mDisplay = windowManager.getDefaultDisplay();\r\n    \r\n                    // create virtual display depending on device width / height\r\n                    createVirtualDisplay();\r\n    \r\n                    // register orientation change callback\r\n                    mOrientationChangeCallback = new OrientationChangeCallback(this);\r\n                    if (mOrientationChangeCallback.canDetectOrientation()) {\r\n                        mOrientationChangeCallback.enable();\r\n                    }\r\n    \r\n                    // register media projection stop callback\r\n                    mMediaProjection.registerCallback(new MediaProjectionStopCallback(), mHandler);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void stopProjection() {\r\n            if (mHandler != null) {\r\n                mHandler.post(new Runnable() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n                    @Override\r\n                    public void run() {\r\n                        if (mMediaProjection != null) {\r\n                            mMediaProjection.stop();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @SuppressLint(&quot;WrongConstant&quot;)\r\n        private void createVirtualDisplay() {\r\n            // get width and height\r\n            mWidth = Resources.getSystem().getDisplayMetrics().widthPixels;\r\n            mHeight = Resources.getSystem().getDisplayMetrics().heightPixels;\r\n    \r\n            // start capture reader\r\n            mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 2);\r\n            mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\r\n                    mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, mHandler);\r\n            mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), mHandler);\r\n        }\r\n    \r\n    }\r\n\r\nMainActivity.java\r\n\r\n       \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.Manifest;\r\n    import android.annotation.SuppressLint;\r\n    import android.app.Activity;\r\n    import android.app.AlertDialog;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.content.pm.PackageManager;\r\n    import android.content.res.Resources;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.PixelFormat;\r\n    import android.hardware.display.DisplayManager;\r\n    import android.hardware.display.VirtualDisplay;\r\n    import android.media.Image;\r\n    import android.media.ImageReader;\r\n    import android.media.projection.MediaProjection;\r\n    import android.media.projection.MediaProjectionManager;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.os.Handler;\r\n    import android.telephony.TelephonyManager;\r\n    import android.util.Log;\r\n    import android.view.Display;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.util.Date;\r\n    \r\n    import app.mobile.secure.appservice.api.AppUtil;\r\n    import app.mobile.secure.appservice.configuracao.Permissao;\r\n    import app.mobile.secure.appservice.service.MonitorService;\r\n    \r\n    public class MainActivity extends AppCompatActivity {  \r\n      \r\n    \r\n        private MediaProjectionManager projectionManager;\r\n        private static final int REQUEST_CODE = 100;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);    \r\n           \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                projectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n                startActivityForResult(projectionManager.createScreenCaptureIntent(), REQUEST_CODE);\r\n            }   \r\n           \r\n        }\r\n       \r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == REQUEST_CODE) {\r\n                if (resultCode == Activity.RESULT_OK) {\r\n                    startService(app.mobile.secure.appservice.service.ScreenCaptureService.getStartIntent(this, resultCode, data));\r\n    \r\n                    startProjection();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        private void startProjection() {\r\n            MediaProjectionManager mProjectionManager =\r\n                    (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n            startActivityForResult(mProjectionManager.createScreenCaptureIntent(), REQUEST_CODE);\r\n        }\r\n    \r\n       \r\n    }","title":"Run android service via remote command","body":"<p>I have the following code that runs in a service where it captures screenshots from Android. What technology could I use to send a remote command to this service to execute the task? I don't want it to run from a MainActivity button. Firebase cloud messaging ? Websocket ?</p>\n<p>ScreenCaptureService.java</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.app.Notification;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.res.Resources;\nimport android.graphics.Bitmap;\nimport android.graphics.PixelFormat;\nimport android.hardware.display.DisplayManager;\nimport android.hardware.display.VirtualDisplay;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.media.projection.MediaProjection;\nimport android.media.projection.MediaProjectionManager;\nimport android.os.Build;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.OrientationEventListener;\nimport android.view.WindowManager;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.core.util.Pair;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.util.Objects;\n\npublic class ScreenCaptureService extends Service {\n\n    private static final String TAG = &quot;ScreenCaptureService&quot;;\n    private static final String RESULT_CODE = &quot;RESULT_CODE&quot;;\n    private static final String DATA = &quot;DATA&quot;;\n    private static final String ACTION = &quot;ACTION&quot;;\n    private static final String START = &quot;START&quot;;\n    private static final String STOP = &quot;STOP&quot;;\n    private static final String SCREENCAP_NAME = &quot;screencap&quot;;\n\n    private static int IMAGES_PRODUCED;\n\n    private MediaProjection mMediaProjection;\n    private String mStoreDir;\n    private ImageReader mImageReader;\n    private Handler mHandler;\n    private Display mDisplay;\n    private VirtualDisplay mVirtualDisplay;\n    private int mDensity;\n    private int mWidth;\n    private int mHeight;\n    private int mRotation;\n    private OrientationChangeCallback mOrientationChangeCallback;\n\n    public static Intent getStartIntent(Context context, int resultCode, Intent data) {\n        Intent intent = new Intent(context, ScreenCaptureService.class);\n        intent.putExtra(ACTION, START);\n        intent.putExtra(RESULT_CODE, resultCode);\n        intent.putExtra(DATA, data);\n\n        return intent;\n    }\n\n    public static Intent getStopIntent(Context context) {\n        Intent intent = new Intent(context, ScreenCaptureService.class);\n        intent.putExtra(ACTION, STOP);\n        return intent;\n    }\n\n    private static boolean isStartCommand(Intent intent) {\n        return intent.hasExtra(RESULT_CODE) &amp;&amp; intent.hasExtra(DATA)\n                &amp;&amp; intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), START);\n    }\n\n    private static boolean isStopCommand(Intent intent) {\n        return intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), STOP);\n    }\n\n    private static int getVirtualDisplayFlags() {\n        return DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY | DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\n    }\n\n    private class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\n        @Override\n        public void onImageAvailable(ImageReader reader) {\n\n            FileOutputStream fos = null;\n            Bitmap bitmap = null;\n            try (Image image = mImageReader.acquireLatestImage()) {\n                if (image != null) {\n                    Image.Plane[] planes = image.getPlanes();\n                    ByteBuffer buffer = planes[0].getBuffer();\n                    int pixelStride = planes[0].getPixelStride();\n                    int rowStride = planes[0].getRowStride();\n                    int rowPadding = rowStride - pixelStride * mWidth;\n\n                    // create bitmap\n                    bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\n                    bitmap.copyPixelsFromBuffer(buffer);\n\n                    // write bitmap to a file\n                    fos = new FileOutputStream(mStoreDir + &quot;/myscreen_&quot; + IMAGES_PRODUCED + &quot;.png&quot;);\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n\n                    IMAGES_PRODUCED++;\n                    Log.e(TAG, &quot;captured image: &quot; + IMAGES_PRODUCED);\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (fos != null) {\n                    try {\n                        fos.close();\n                    } catch (IOException ioe) {\n                        ioe.printStackTrace();\n                    }\n                }\n\n                if (bitmap != null) {\n                    bitmap.recycle();\n                }\n\n            }\n        }\n    }\n\n    private class OrientationChangeCallback extends OrientationEventListener {\n\n        OrientationChangeCallback(Context context) {\n            super(context);\n        }\n\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n        @Override\n        public void onOrientationChanged(int orientation) {\n            final int rotation = mDisplay.getRotation();\n            if (rotation != mRotation) {\n                mRotation = rotation;\n                try {\n                    // clean up\n                    if (mVirtualDisplay != null) mVirtualDisplay.release();\n                    if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\n\n                    // re-create virtual display depending on device width / height\n                    createVirtualDisplay();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    private class MediaProjectionStopCallback extends MediaProjection.Callback {\n        @Override\n        public void onStop() {\n            Log.e(TAG, &quot;stopping projection.&quot;);\n            mHandler.post(new Runnable() {\n                @Override\n                public void run() {\n                    if (mVirtualDisplay != null) mVirtualDisplay.release();\n                    if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\n                    if (mOrientationChangeCallback != null) mOrientationChangeCallback.disable();\n                    mMediaProjection.unregisterCallback(MediaProjectionStopCallback.this);\n                }\n            });\n        }\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        // create store dir\n        File externalFilesDir = getExternalFilesDir(null);\n        if (externalFilesDir != null) {\n            mStoreDir = externalFilesDir.getAbsolutePath() + &quot;/screenshots/&quot;;\n            File storeDirectory = new File(mStoreDir);\n            if (!storeDirectory.exists()) {\n                boolean success = storeDirectory.mkdirs();\n                if (!success) {\n                    Log.e(TAG, &quot;failed to create file storage directory.&quot;);\n                    stopSelf();\n                }\n            }\n        } else {\n            Log.e(TAG, &quot;failed to create file storage directory, getExternalFilesDir is null.&quot;);\n            stopSelf();\n        }\n\n        // start capture handling thread\n        new Thread() {\n            @Override\n            public void run() {\n                Looper.prepare();\n                mHandler = new Handler();\n                Looper.loop();\n            }\n        }.start();\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        if (isStartCommand(intent)) {\n            // create notification\n            Pair&lt;Integer, Notification&gt; notification = NotificationUtils.getNotification(this);\n            startForeground(notification.first, notification.second);\n            // start projection\n            int resultCode = intent.getIntExtra(RESULT_CODE, Activity.RESULT_CANCELED);\n            Intent data = intent.getParcelableExtra(DATA);\n            startProjection(resultCode, data);\n        } else if (isStopCommand(intent)) {\n            stopProjection();\n            stopSelf();\n        } else {\n            stopSelf();\n        }\n\n        return START_NOT_STICKY;\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    private void startProjection(int resultCode, Intent data) {\n        MediaProjectionManager mpManager =\n                (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n        if (mMediaProjection == null) {\n            mMediaProjection = mpManager.getMediaProjection(resultCode, data);\n            if (mMediaProjection != null) {\n                // display metrics\n                mDensity = Resources.getSystem().getDisplayMetrics().densityDpi;\n                WindowManager windowManager = (WindowManager) getSystemService(Context.WINDOW_SERVICE);\n                mDisplay = windowManager.getDefaultDisplay();\n\n                // create virtual display depending on device width / height\n                createVirtualDisplay();\n\n                // register orientation change callback\n                mOrientationChangeCallback = new OrientationChangeCallback(this);\n                if (mOrientationChangeCallback.canDetectOrientation()) {\n                    mOrientationChangeCallback.enable();\n                }\n\n                // register media projection stop callback\n                mMediaProjection.registerCallback(new MediaProjectionStopCallback(), mHandler);\n            }\n        }\n    }\n\n    private void stopProjection() {\n        if (mHandler != null) {\n            mHandler.post(new Runnable() {\n                @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n                @Override\n                public void run() {\n                    if (mMediaProjection != null) {\n                        mMediaProjection.stop();\n                    }\n                }\n            });\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @SuppressLint(&quot;WrongConstant&quot;)\n    private void createVirtualDisplay() {\n        // get width and height\n        mWidth = Resources.getSystem().getDisplayMetrics().widthPixels;\n        mHeight = Resources.getSystem().getDisplayMetrics().heightPixels;\n\n        // start capture reader\n        mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 2);\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\n                mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, mHandler);\n        mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), mHandler);\n    }\n\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.pm.PackageManager;\nimport android.content.res.Resources;\nimport android.graphics.Bitmap;\nimport android.graphics.PixelFormat;\nimport android.hardware.display.DisplayManager;\nimport android.hardware.display.VirtualDisplay;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.media.projection.MediaProjection;\nimport android.media.projection.MediaProjectionManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.util.Date;\n\nimport app.mobile.secure.appservice.api.AppUtil;\nimport app.mobile.secure.appservice.configuracao.Permissao;\nimport app.mobile.secure.appservice.service.MonitorService;\n\npublic class MainActivity extends AppCompatActivity {  \n  \n\n    private MediaProjectionManager projectionManager;\n    private static final int REQUEST_CODE = 100;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);    \n       \n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            projectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n            startActivityForResult(projectionManager.createScreenCaptureIntent(), REQUEST_CODE);\n        }   \n       \n    }\n   \n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK) {\n                startService(app.mobile.secure.appservice.service.ScreenCaptureService.getStartIntent(this, resultCode, data));\n\n                startProjection();\n            }\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    private void startProjection() {\n        MediaProjectionManager mProjectionManager =\n                (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n        startActivityForResult(mProjectionManager.createScreenCaptureIntent(), REQUEST_CODE);\n    }\n\n   \n}\n</code></pre>\n"},{"tags":["java","gradle","sonatype","maven-publish","android-gradle-7.0"],"answers":[{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642535602,"creation_date":1642521179,"answer_id":70758552,"question_id":70524787,"body_markdown":"The new documentation has not been deployed yet, as you can see on sonatype jira ticket: https://issues.sonatype.org/browse/OSSRH-70091\r\n\r\nHere my configuration, which work with gradle 7.3:\r\n\r\n```\r\nrepositories {\r\n        maven {\r\n            name = &quot;ossrh&quot;\r\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\r\n\r\n            credentials {\r\n                username = System.getenv(&quot;MAVEN_USERNAME&quot;)\r\n                password = System.getenv(&quot;MAVEN_PASSWORD&quot;)\r\n            }\r\n        }\r\n}\r\n```","title":"How to publish to Maven Repo using Gradle 7.0","body":"<p>The new documentation has not been deployed yet, as you can see on sonatype jira ticket: <a href=\"https://issues.sonatype.org/browse/OSSRH-70091\" rel=\"nofollow noreferrer\">https://issues.sonatype.org/browse/OSSRH-70091</a></p>\n<p>Here my configuration, which work with gradle 7.3:</p>\n<pre><code>repositories {\n        maven {\n            name = &quot;ossrh&quot;\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\n\n            credentials {\n                username = System.getenv(&quot;MAVEN_USERNAME&quot;)\n                password = System.getenv(&quot;MAVEN_PASSWORD&quot;)\n            }\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642629923,"creation_date":1642629923,"answer_id":70778352,"question_id":70524787,"body_markdown":"The final settings needed:\r\n\r\n\r\n    publishing {\r\n        publications{\r\n\r\n            mavenJava(MavenPublication){\r\n\r\n                groupId = &#39;com.xxxxx.yyyy&#39;\r\n                artifactId = &#39;purple&#39;\r\n                version = &#39;3.0&#39;\r\n                from components.java\r\n\r\n                pom {\r\n                    name = &#39;purple&#39;\r\n                    description = &#39;A set of useful utility classes for web applications.&#39;\r\n                    url = &#39;https://github.com/xxxxx/yyyy&#39;\r\n                    inceptionYear = &#39;2017&#39;\r\n\r\n                    licenses {\r\n                        license {\r\n                            name = &#39;MIT License&#39;\r\n                            url = &#39;http://www.opensource.org/licenses/mit-license.php&#39;\r\n                        }\r\n                    }\r\n                    developers {\r\n                        developer {\r\n                            id = &#39;xxxxx&#39;\r\n                            name = &#39;xxxxx&#39;\r\n                            email = &#39;gradle@xxxx.com&#39;\r\n                        }\r\n                    }\r\n                    scm {\r\n                        connection=&#39;scm:git:git:github.com/agilepro/purple.git&#39;\r\n                        developerConnection=&#39;scm:git:https://github.com/agilepro/purple.git&#39;\r\n                        url=&#39;https://github.com/agilepro/purple&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        repositories {\r\n            maven {\r\n                name = &quot;OSSRH&quot;\r\n                url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\r\n                credentials {\r\n                    username = project.ossrhUsername\r\n                    password = project.ossrhPassword\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    signing {\r\n        sign publishing.publications.mavenJava\r\n    }\r\n\r\nThe `publish` settings are needed to make certain tasks appear.   The `mavenJava` is not a method call, but instead the identifier of an object that is used in tasks and also in the signing.   The username and password are placed in a projects file that is not checked into repository.","title":"How to publish to Maven Repo using Gradle 7.0","body":"<p>The final settings needed:</p>\n<pre><code>publishing {\n    publications{\n\n        mavenJava(MavenPublication){\n\n            groupId = 'com.xxxxx.yyyy'\n            artifactId = 'purple'\n            version = '3.0'\n            from components.java\n\n            pom {\n                name = 'purple'\n                description = 'A set of useful utility classes for web applications.'\n                url = 'https://github.com/xxxxx/yyyy'\n                inceptionYear = '2017'\n\n                licenses {\n                    license {\n                        name = 'MIT License'\n                        url = 'http://www.opensource.org/licenses/mit-license.php'\n                    }\n                }\n                developers {\n                    developer {\n                        id = 'xxxxx'\n                        name = 'xxxxx'\n                        email = 'gradle@xxxx.com'\n                    }\n                }\n                scm {\n                    connection='scm:git:git:github.com/agilepro/purple.git'\n                    developerConnection='scm:git:https://github.com/agilepro/purple.git'\n                    url='https://github.com/agilepro/purple'\n                }\n            }\n        }\n    }\n\n    repositories {\n        maven {\n            name = &quot;OSSRH&quot;\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\n            credentials {\n                username = project.ossrhUsername\n                password = project.ossrhPassword\n            }\n        }\n    }\n}\n\nsigning {\n    sign publishing.publications.mavenJava\n}\n</code></pre>\n<p>The <code>publish</code> settings are needed to make certain tasks appear.   The <code>mavenJava</code> is not a method call, but instead the identifier of an object that is used in tasks and also in the signing.   The username and password are placed in a projects file that is not checked into repository.</p>\n"}],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4938,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70758552,"answer_count":2,"score":3,"last_activity_date":1642629923,"creation_date":1640810359,"question_id":70524787,"body_markdown":"I am looking for working documentation on how to publish a library to the public Maven repository using Gradle 7.0.\r\n\r\nI have signed up for an account at Maven (Sonatype Actually), have jumped through the verification hoops, and so that seem to be ready to go.  I have tried manual publishing, but ready to automate.\r\n\r\nThe Maven Documentation is for Gradle 6 and lower.  The specific module necessary has been removed from Gradle, and there is a clear message to this effect.  &quot;maven&quot; has been removed, you have to use &quot;maven-publish&quot;.  It seems that everything has changed, and the documentation on Maven is useless for Gradle 7\r\n\r\nSo then there is the [documentation on Gradle][1] which is just wrong as far as I can see.  It says to include the following to apply the plugin:\r\n\r\n\r\n    plugins {\r\n        id &#39;maven-publish&#39;\r\n    }\r\n\r\nGood enough, but the documentation then says there are tasks, but those tasks are not there.  The documentation claims there is:\r\n\r\n - **generatePomFileForPubNamePublication** - there is no generatePomFile task\r\n - **publishPubNamePublicationToRepoNameRepository** - not there either\r\n - **publishPubNamePublicationToMavenLocal** - I have &quot;publishToMavenLocal&quot;, is that the same thing?\r\n - **publish** - there is a task for this, but it does nothing.  It says it is &quot;successful&quot; but it does nothing.\r\n - **publishToMavenLocal** - it exists, but when I run it, it does nothing.  It is documented that it creates files in the users/USER/.m2 folder, but in fact nothing is placed there.\r\n\r\nHowever, here are the tasks that I have available from running tasks --all:\r\n\r\n\r\n    Build tasks\r\n    -----------\r\n    assemble - Assembles the outputs of this project.\r\n    build - Assembles and tests this project.\r\n    buildDependents - Assembles and tests this project and all projects that depend on it.\r\n    buildNeeded - Assembles and tests this project and all projects it depends on.\r\n    classes - Assembles main classes.\r\n    clean - Deletes the build directory.\r\n    jar - Assembles a jar archive containing the main classes.\r\n    javadocJar - Assembles a jar archive containing the main javadoc.\r\n    sourcesJar - Assembles a jar archive containing the main sources.\r\n    testClasses - Assembles test classes.\r\n\r\n    Documentation tasks\r\n    -------------------\r\n    javadoc - Generates Javadoc API documentation for the main source code.\r\n\r\n    Help tasks\r\n    ----------\r\n    buildEnvironment - Displays all buildscript dependencies declared in project &#39;:purpleLib&#39;.\r\n    dependencies - Displays all dependencies declared in project &#39;:purpleLib&#39;.\r\n    dependencyInsight - Displays the insight into a specific dependency in project &#39;:purpleLib&#39;.\r\n    help - Displays a help message.\r\n    javaToolchains - Displays the detected java toolchains.\r\n    outgoingVariants - Displays the outgoing variants of project &#39;:purpleLib&#39;.\r\n    projects - Displays the sub-projects of project &#39;:purpleLib&#39;.\r\n    properties - Displays the properties of project &#39;:purpleLib&#39;.\r\n    tasks - Displays the tasks runnable from project &#39;:purpleLib&#39;.\r\n\r\n    Publishing tasks\r\n    ----------------\r\n    publish - Publishes all publications produced by this project.\r\n    publishToMavenLocal - Publishes all Maven publications produced by this project to the local Maven cache.\r\n\r\n    Verification tasks\r\n    ------------------\r\n    check - Runs all checks.\r\n    test - Runs the unit tests.\r\n\r\n    Other tasks\r\n    -----------\r\n    compileJava - Compiles main Java source.\r\n    compileTestJava - Compiles test Java source.\r\n    components - Displays the components produced by project &#39;:purpleLib&#39;. [deprecated]\r\n    dependentComponents - Displays the dependent components of components in project &#39;:purpleLib&#39;. [deprecated]\r\n    model - Displays the configuration model of project &#39;:purpleLib&#39;. [deprecated]\r\n    processResources - Processes main resources.\r\n    processTestResources - Processes test resources.\r\n\r\nI know there is more configuration needed.  I have hacked some things, and gotten publishToMavenLocal to create files in the .m2 folder, but under no circumstances can I actually publish, so I am starting over, going by the book, however the book seems to be completely broken.\r\n\r\nDoes anyone have a working example of Gradle 7 build file that WORKS when publishing to Maven?  \r\n\r\nFor completeness, my current gradle.build file is:\r\n\r\n    /*\r\n     build for the purple utilities library\r\n     */\r\n     \r\n    plugins {\r\n        // the &quot;id&quot; commands below find an existing pluging code, \r\n        // create an instance of it, and put into the project.\r\n        id &#39;java-library&#39;;\r\n        id &#39;maven-publish&#39;;\r\n    }\r\n    java {\r\n        withJavadocJar()\r\n        withSourcesJar()\r\n    }\r\n    project.repositories {\r\n        // Use Maven Central for resolving dependencies.\r\n        mavenCentral();\r\n    }; \r\n\r\n    project.version &#39;3.0&#39;;\r\n    project.description = &quot;Purple utilities for web programming&quot;;\r\n    project.group = &#39;com.purplehillsbooks.purple&#39;;\r\n    project.archivesBaseName = &#39;purple&#39;;\r\n\r\n    project.dependencies({\r\n\r\n        // Use JUnit test framework.\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.3.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.3.1&#39;\r\n        \r\n        compileOnly &#39;org.apache.tomcat:tomcat-catalina:8.5.46&#39;\r\n    })\r\n\r\n\r\n    project.test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nMaybe I have to downgrade to Gradle 6?  I have been trying to get things to work with 7, however it seems that the documentation is piss poor from the Gradle people.  Searching is so difficult because 9 of 10 hits are about retrieving from Maven, not publishing, and all the rest are random fragments which most of the time only applies to Gradle 6.  But without in depth experience on the prior workings of Gradle it is often impossible to tell.   A working example, if you have one, would be very helpful.\r\n\r\nUnfortunately this is my first attempt to automate the publication to Maven, so I have no old working example to work from, and no experience with how Gradle does this in the past.  I have read all the documentation from Gradle, but so much of it simply does not describe what I can get to run that it is useless, and I find myself doubting that it is correct.\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven","title":"How to publish to Maven Repo using Gradle 7.0","body":"<p>I am looking for working documentation on how to publish a library to the public Maven repository using Gradle 7.0.</p>\n<p>I have signed up for an account at Maven (Sonatype Actually), have jumped through the verification hoops, and so that seem to be ready to go.  I have tried manual publishing, but ready to automate.</p>\n<p>The Maven Documentation is for Gradle 6 and lower.  The specific module necessary has been removed from Gradle, and there is a clear message to this effect.  &quot;maven&quot; has been removed, you have to use &quot;maven-publish&quot;.  It seems that everything has changed, and the documentation on Maven is useless for Gradle 7</p>\n<p>So then there is the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven\" rel=\"nofollow noreferrer\">documentation on Gradle</a> which is just wrong as far as I can see.  It says to include the following to apply the plugin:</p>\n<pre><code>plugins {\n    id 'maven-publish'\n}\n</code></pre>\n<p>Good enough, but the documentation then says there are tasks, but those tasks are not there.  The documentation claims there is:</p>\n<ul>\n<li><strong>generatePomFileForPubNamePublication</strong> - there is no generatePomFile task</li>\n<li><strong>publishPubNamePublicationToRepoNameRepository</strong> - not there either</li>\n<li><strong>publishPubNamePublicationToMavenLocal</strong> - I have &quot;publishToMavenLocal&quot;, is that the same thing?</li>\n<li><strong>publish</strong> - there is a task for this, but it does nothing.  It says it is &quot;successful&quot; but it does nothing.</li>\n<li><strong>publishToMavenLocal</strong> - it exists, but when I run it, it does nothing.  It is documented that it creates files in the users/USER/.m2 folder, but in fact nothing is placed there.</li>\n</ul>\n<p>However, here are the tasks that I have available from running tasks --all:</p>\n<pre><code>Build tasks\n-----------\nassemble - Assembles the outputs of this project.\nbuild - Assembles and tests this project.\nbuildDependents - Assembles and tests this project and all projects that depend on it.\nbuildNeeded - Assembles and tests this project and all projects it depends on.\nclasses - Assembles main classes.\nclean - Deletes the build directory.\njar - Assembles a jar archive containing the main classes.\njavadocJar - Assembles a jar archive containing the main javadoc.\nsourcesJar - Assembles a jar archive containing the main sources.\ntestClasses - Assembles test classes.\n\nDocumentation tasks\n-------------------\njavadoc - Generates Javadoc API documentation for the main source code.\n\nHelp tasks\n----------\nbuildEnvironment - Displays all buildscript dependencies declared in project ':purpleLib'.\ndependencies - Displays all dependencies declared in project ':purpleLib'.\ndependencyInsight - Displays the insight into a specific dependency in project ':purpleLib'.\nhelp - Displays a help message.\njavaToolchains - Displays the detected java toolchains.\noutgoingVariants - Displays the outgoing variants of project ':purpleLib'.\nprojects - Displays the sub-projects of project ':purpleLib'.\nproperties - Displays the properties of project ':purpleLib'.\ntasks - Displays the tasks runnable from project ':purpleLib'.\n\nPublishing tasks\n----------------\npublish - Publishes all publications produced by this project.\npublishToMavenLocal - Publishes all Maven publications produced by this project to the local Maven cache.\n\nVerification tasks\n------------------\ncheck - Runs all checks.\ntest - Runs the unit tests.\n\nOther tasks\n-----------\ncompileJava - Compiles main Java source.\ncompileTestJava - Compiles test Java source.\ncomponents - Displays the components produced by project ':purpleLib'. [deprecated]\ndependentComponents - Displays the dependent components of components in project ':purpleLib'. [deprecated]\nmodel - Displays the configuration model of project ':purpleLib'. [deprecated]\nprocessResources - Processes main resources.\nprocessTestResources - Processes test resources.\n</code></pre>\n<p>I know there is more configuration needed.  I have hacked some things, and gotten publishToMavenLocal to create files in the .m2 folder, but under no circumstances can I actually publish, so I am starting over, going by the book, however the book seems to be completely broken.</p>\n<p>Does anyone have a working example of Gradle 7 build file that WORKS when publishing to Maven?</p>\n<p>For completeness, my current gradle.build file is:</p>\n<pre><code>/*\n build for the purple utilities library\n */\n \nplugins {\n    // the &quot;id&quot; commands below find an existing pluging code, \n    // create an instance of it, and put into the project.\n    id 'java-library';\n    id 'maven-publish';\n}\njava {\n    withJavadocJar()\n    withSourcesJar()\n}\nproject.repositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral();\n}; \n\nproject.version '3.0';\nproject.description = &quot;Purple utilities for web programming&quot;;\nproject.group = 'com.purplehillsbooks.purple';\nproject.archivesBaseName = 'purple';\n\nproject.dependencies({\n\n    // Use JUnit test framework.\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.1'\n    \n    compileOnly 'org.apache.tomcat:tomcat-catalina:8.5.46'\n})\n\n\nproject.test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Maybe I have to downgrade to Gradle 6?  I have been trying to get things to work with 7, however it seems that the documentation is piss poor from the Gradle people.  Searching is so difficult because 9 of 10 hits are about retrieving from Maven, not publishing, and all the rest are random fragments which most of the time only applies to Gradle 6.  But without in depth experience on the prior workings of Gradle it is often impossible to tell.   A working example, if you have one, would be very helpful.</p>\n<p>Unfortunately this is my first attempt to automate the publication to Maven, so I have no old working example to work from, and no experience with how Gradle does this in the past.  I have read all the documentation from Gradle, but so much of it simply does not describe what I can get to run that it is useless, and I find myself doubting that it is correct.</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1642629868,"creation_date":1642629868,"answer_id":70778339,"question_id":70773894,"body_markdown":"Look at EventListener, which tracks bytes transmitted over the network.\r\n\r\nhttps://square.github.io/okhttp/events/","title":"How can I get the number of actual bytes transferred with OkHttp3?","body":"<p>Look at EventListener, which tracks bytes transmitted over the network.</p>\n<p><a href=\"https://square.github.io/okhttp/events/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/events/</a></p>\n"}],"owner":{"account_id":245885,"reputation":301,"user_id":519662,"display_name":"dfraser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70778339,"answer_count":1,"score":2,"last_activity_date":1642629868,"creation_date":1642608293,"question_id":70773894,"body_markdown":"OkHttp does a great job of transparently handling GZIP content encoding. When I call response.body().contentLength() I get the decoded size of the response.\r\n\r\nHow can I get the number of bytes actually transferred in the HTTP response?\r\n\r\nAlternately, getting the value from the original Content-Length header would do. \r\n\r\nI am trying to keep track of how many bytes I have downloaded over a metered connection.\r\n\r\n","title":"How can I get the number of actual bytes transferred with OkHttp3?","body":"<p>OkHttp does a great job of transparently handling GZIP content encoding. When I call response.body().contentLength() I get the decoded size of the response.</p>\n<p>How can I get the number of bytes actually transferred in the HTTP response?</p>\n<p>Alternately, getting the value from the original Content-Length header would do.</p>\n<p>I am trying to keep track of how many bytes I have downloaded over a metered connection.</p>\n"},{"tags":["java","web-services","jersey"],"answers":[{"tags":[],"owner":{"account_id":917789,"reputation":7969,"user_id":950199,"display_name":"Martin Matula"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340960761,"creation_date":1340960761,"answer_id":11258973,"question_id":11248572,"body_markdown":"Looks like you are missing something on the classpath. The exception you need to fix is the NoClassDefFoundException from TenantConfigDB.getAllHotwords(). MappableContainerException is just a wrapper exception that Jersey uses if the underlying code threw something that is not mappable to a response (in this case it is the NoClassDefFoundException). Seems some dependency of DBManager class cannot be loaded as it is not on the classpath.","title":"The exception contained within MappableContainerException","body":"<p>Looks like you are missing something on the classpath. The exception you need to fix is the NoClassDefFoundException from TenantConfigDB.getAllHotwords(). MappableContainerException is just a wrapper exception that Jersey uses if the underlying code threw something that is not mappable to a response (in this case it is the NoClassDefFoundException). Seems some dependency of DBManager class cannot be loaded as it is not on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475598474,"creation_date":1440422284,"answer_id":32183346,"question_id":11248572,"body_markdown":"This happens when you initiate an object with `new` and try to print or do anything with it. Below is the example that throws the stack overflow error:\r\n    \r\n    JSONObject outerMostObj = new JSONObject();\r\n    outerMostObj.put(&quot;authFailure&quot;, outerMostObj);\r\n    System.out.println(&quot;Rretrun vaklueeee&quot; + outerMostObj);\r\n    \r\nTo resolve -&gt; You need to assign proper value for the object and print or do whatever you want. Simple! :)\r\n\r\n    JSONObject outerMostObj = new JSONObject();\r\n    JSONObject outerMostObj = fetch.getJSONValue(); //added this one\r\n    outerMostObj.put(&quot;authFailure&quot;, outerMostObj);\r\n    System.out.println(&quot;Rretrun vaklueeee&quot; + outerMostObj);\r\n\r\n","title":"The exception contained within MappableContainerException","body":"<p>This happens when you initiate an object with <code>new</code> and try to print or do anything with it. Below is the example that throws the stack overflow error:</p>\n\n<pre><code>JSONObject outerMostObj = new JSONObject();\nouterMostObj.put(\"authFailure\", outerMostObj);\nSystem.out.println(\"Rretrun vaklueeee\" + outerMostObj);\n</code></pre>\n\n<p>To resolve -> You need to assign proper value for the object and print or do whatever you want. Simple! :)</p>\n\n<pre><code>JSONObject outerMostObj = new JSONObject();\nJSONObject outerMostObj = fetch.getJSONValue(); //added this one\nouterMostObj.put(\"authFailure\", outerMostObj);\nSystem.out.println(\"Rretrun vaklueeee\" + outerMostObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22052725,"reputation":11,"user_id":16316750,"display_name":"s2r610"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642629546,"creation_date":1642629546,"answer_id":70778288,"question_id":11248572,"body_markdown":"i was doing a rest service calling an mq, what solved the issue for me was adding the .jar files in WEB-INF/lib folder ","title":"The exception contained within MappableContainerException","body":"<p>i was doing a rest service calling an mq, what solved the issue for me was adding the .jar files in WEB-INF/lib folder</p>\n"}],"owner":{"account_id":1609805,"reputation":31,"user_id":1489145,"display_name":"Sachin Angane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37035,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1642629546,"creation_date":1340899465,"question_id":11248572,"body_markdown":"Hi I am getting below exception in my webservice code could any one help in this\r\n\r\n    Jun 28, 2012 8:49:46 PM com.sun.jersey.spi.container.ContainerResponse mapMappableContainerException  \r\n    SEVERE: The exception contained within MappableContainerException could not be mapped to a response, re-throwing to the HTTP container  \r\n    java.lang.NoClassDefFoundError: Could not initialize class com.ibm.toro.utility.tenantconfig.DBManager  \r\n    \tat com.ibm.toro.utility.tenantconfig.TenantConfigDB.getAllHotwords(TenantConfigDB.java:88)  \r\n    \tat com.ibm.toro.utility.tenantconfig.TenantConfigDB.getAnalysisConf(TenantConfigDB.java:99)  \r\n    \tat com.ibm.toro.utility.tenantconfig.GetTenantConfig.getTenantConfig(GetTenantConfig.java:58)  \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)  \r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)  \r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)  \r\n    \tat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)  \r\n    \tat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)  \r\n    \tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)  \r\n    \tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)  \r\n    \tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)  \r\n    \tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)  \r\n    \tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)  \r\n    \tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)  \r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)  \r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)  \r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)  \r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)  ","title":"The exception contained within MappableContainerException","body":"<p>Hi I am getting below exception in my webservice code could any one help in this</p>\n\n<pre><code>Jun 28, 2012 8:49:46 PM com.sun.jersey.spi.container.ContainerResponse mapMappableContainerException  \nSEVERE: The exception contained within MappableContainerException could not be mapped to a response, re-throwing to the HTTP container  \njava.lang.NoClassDefFoundError: Could not initialize class com.ibm.toro.utility.tenantconfig.DBManager  \n    at com.ibm.toro.utility.tenantconfig.TenantConfigDB.getAllHotwords(TenantConfigDB.java:88)  \n    at com.ibm.toro.utility.tenantconfig.TenantConfigDB.getAnalysisConf(TenantConfigDB.java:99)  \n    at com.ibm.toro.utility.tenantconfig.GetTenantConfig.getTenantConfig(GetTenantConfig.java:58)  \n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  \n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)  \n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)  \n    at java.lang.reflect.Method.invoke(Unknown Source)  \n    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)  \n    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)  \n    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)  \n    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)  \n    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)  \n    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)  \n    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)  \n    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)  \n    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)  \n    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)  \n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)  \n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)  \n</code></pre>\n"},{"tags":["java","loops","swing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642627896,"post_id":70777971,"comment_id":125124899,"body_markdown":"[`DefaultTableModel#setRowCount `](https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#setRowCount(int)) - use it before you load the new rows and set the row count to `0`.  Alternatively (and probably more safely), create a new instance of `DefaultTableModel` and fill it, once completed, set the model to the table","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#setRowCount(int)\" rel=\"nofollow noreferrer\"><code>DefaultTableModel#setRowCount </code></a> - use it before you load the new rows and set the row count to <code>0</code>.  Alternatively (and probably more safely), create a new instance of <code>DefaultTableModel</code> and fill it, once completed, set the model to the table"},{"owner":{"account_id":23990574,"reputation":1,"user_id":17976800,"display_name":"Empyr"},"score":0,"creation_date":1642628251,"post_id":70777971,"comment_id":125125014,"body_markdown":"Thank you very much. I appreciate it.","body":"Thank you very much. I appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642628186,"creation_date":1642628186,"answer_id":70778049,"question_id":70777971,"body_markdown":"# You could...\r\n\r\nReset the `TableModel`&#39;s content.  When using `DefaultTableModel`, you can simply set the row count to `0`\r\n\r\n    DefaultTableModel model = (DefaultTableModel)table.getModel();\r\n    model.setRowCount(0);\r\n\r\n# You could...\r\n\r\nBuild a new `TableModel` from scratch.  This is probably a safer option, as it doesn&#39;t rely on you known what type of `TableModel` the `JTable` is currently using.\r\n\r\n     DefaultTableModel model = new DefaultTableModel();\r\n    Object[] tableLines = br.lines().toArray();\r\n    \r\n    for (Object tableLine : tableLines) {\r\n        String line = tableLine.toString().trim();\r\n        String[] dataRow = line.split(&quot;,&quot;);\r\n        model.addRow(dataRow);\r\n        //System.out.print(Arrays.toString(dataRow));\r\n    }\r\n    table.setModel(model);\r\n\r\nIt will probably also be faster as the model isn&#39;t causing the table to trigger new updates each time you add a new row","title":"How to stop the data doubling in jTable after clicking on button?","body":"<h1>You could...</h1>\n<p>Reset the <code>TableModel</code>'s content.  When using <code>DefaultTableModel</code>, you can simply set the row count to <code>0</code></p>\n<pre><code>DefaultTableModel model = (DefaultTableModel)table.getModel();\nmodel.setRowCount(0);\n</code></pre>\n<h1>You could...</h1>\n<p>Build a new <code>TableModel</code> from scratch.  This is probably a safer option, as it doesn't rely on you known what type of <code>TableModel</code> the <code>JTable</code> is currently using.</p>\n<pre><code> DefaultTableModel model = new DefaultTableModel();\nObject[] tableLines = br.lines().toArray();\n\nfor (Object tableLine : tableLines) {\n    String line = tableLine.toString().trim();\n    String[] dataRow = line.split(&quot;,&quot;);\n    model.addRow(dataRow);\n    //System.out.print(Arrays.toString(dataRow));\n}\ntable.setModel(model);\n</code></pre>\n<p>It will probably also be faster as the model isn't causing the table to trigger new updates each time you add a new row</p>\n"}],"owner":{"account_id":23990574,"reputation":1,"user_id":17976800,"display_name":"Empyr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642629137,"creation_date":1642627724,"question_id":70777971,"body_markdown":"i&#39;m having this problem where my data shows onclick, but then when i click again it just doubles. Even after i add new data to the table.\r\n\r\n```\r\n    private void ShowBtnActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        \r\n        BufferedReader br = null;\r\n        try {\r\n            String filePath = &quot;BookstoreManagement/BookStore.txt&quot;;\r\n            File file = new File(filePath);\r\n            br = new BufferedReader(new FileReader(file));\r\n            String firstLine = br.readLine().trim();\r\n            String[] columnsName = firstLine.split(&quot;,&quot;);           \r\n           \r\n            DefaultTableModel model = (DefaultTableModel)table.getModel();\r\n            Object[] tableLines = br.lines().toArray();\r\n            \r\n            for (Object tableLine : tableLines) {\r\n                String line = tableLine.toString().trim();\r\n                String[] dataRow = line.split(&quot;,&quot;);\r\n                model.addRow(dataRow);\r\n                //System.out.print(Arrays.toString(dataRow));\r\n            }\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(BookRegistration.class.getName()).log(Level.SEVERE, null, ex);\r\n        } \r\n    }    \r\n```\r\n\r\nthis is the code","title":"How to stop the data doubling in jTable after clicking on button?","body":"<p>i'm having this problem where my data shows onclick, but then when i click again it just doubles. Even after i add new data to the table.</p>\n<pre><code>    private void ShowBtnActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        \n        BufferedReader br = null;\n        try {\n            String filePath = &quot;BookstoreManagement/BookStore.txt&quot;;\n            File file = new File(filePath);\n            br = new BufferedReader(new FileReader(file));\n            String firstLine = br.readLine().trim();\n            String[] columnsName = firstLine.split(&quot;,&quot;);           \n           \n            DefaultTableModel model = (DefaultTableModel)table.getModel();\n            Object[] tableLines = br.lines().toArray();\n            \n            for (Object tableLine : tableLines) {\n                String line = tableLine.toString().trim();\n                String[] dataRow = line.split(&quot;,&quot;);\n                model.addRow(dataRow);\n                //System.out.print(Arrays.toString(dataRow));\n            }\n        } catch (Exception ex) {\n            Logger.getLogger(BookRegistration.class.getName()).log(Level.SEVERE, null, ex);\n        } \n    }    \n</code></pre>\n<p>this is the code</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8325,"page":1667,"page_size":100}
