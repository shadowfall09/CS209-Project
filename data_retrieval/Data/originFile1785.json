{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":4250421,"reputation":13500,"user_id":4453262,"accept_rate":75,"display_name":"karthik manchala"},"score":0,"creation_date":1426421269,"post_id":29060364,"comment_id":46357052,"body_markdown":"you have all the data to perform what you what.. have you even tried anything?","body":"you have all the data to perform what you what.. have you even tried anything?"},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":1,"creation_date":1426421643,"post_id":29060364,"comment_id":46357150,"body_markdown":"Eh, I see you expect that `FileWriter` should replace `&quot;dd/MM/yy....&quot;` with the date, this won&#39;t work.","body":"Eh, I see you expect that <code>FileWriter</code> should replace <code>&quot;dd&#47;MM&#47;yy....&quot;</code> with the date, this won&#39;t work."},{"owner":{"account_id":5911328,"reputation":37,"user_id":4651493,"accept_rate":80,"display_name":"Lewis"},"score":0,"creation_date":1426421656,"post_id":29060364,"comment_id":46357152,"body_markdown":"Yer i have tried it and it seems not to be working, the file isn&#39;t getting saved int he project folder unlike when just name serverlog.txt","body":"Yer i have tried it and it seems not to be working, the file isn&#39;t getting saved int he project folder unlike when just name serverlog.txt"}],"answers":[{"tags":[],"owner":{"account_id":2776979,"reputation":6304,"user_id":3657198,"accept_rate":100,"display_name":"Galya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638861817,"creation_date":1426421323,"answer_id":29060412,"question_id":29060364,"body_markdown":"Check how you can convert Date to String: &lt;http://kodejava.org/how-do-i-convert-date-to-string/&gt;\r\n\r\nIn your case the code should be:\r\n\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy HH:mm:ss&quot;);\r\n        Date today = Calendar.getInstance().getTime();\r\n        String logDate = dateFormat.format(today);\r\n        logWriter = new BufferedWriter (new FileWriter(logDate + &quot;serverLog.txt&quot;, true));","title":"Java how to save a file with current date and time","body":"<p>Check how you can convert Date to String: <a href=\"http://kodejava.org/how-do-i-convert-date-to-string/\" rel=\"nofollow noreferrer\">http://kodejava.org/how-do-i-convert-date-to-string/</a></p>\n<p>In your case the code should be:</p>\n<pre><code>    DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy HH:mm:ss&quot;);\n    Date today = Calendar.getInstance().getTime();\n    String logDate = dateFormat.format(today);\n    logWriter = new BufferedWriter (new FileWriter(logDate + &quot;serverLog.txt&quot;, true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3665959,"reputation":261,"user_id":3054396,"accept_rate":75,"display_name":"condorcraft110 II"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1426424254,"creation_date":1426421325,"answer_id":29060414,"question_id":29060364,"body_markdown":"Use SimpleDateFormat.\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yy HH-mm-ss&quot;);\r\n    Date date = new Date();\r\n    logWriter = new BufferedWriter(new FileWriter(dateFormat.format(date) + &quot; serverLog.log&quot;, true));\r\n\r\nThe way you have written it, you try to save the file as &#39; HH:mm:ss serverLog.txt&#39; in a directory called &#39;yy&#39;, in a directory called &#39;MM&#39;, in a directory called &#39;dd&#39;; it won&#39;t work because colons (`:`) are forbidden in filenames (at least on Windows)  because they mark drive letters.","title":"Java how to save a file with current date and time","body":"<p>Use SimpleDateFormat.</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yy HH-mm-ss\");\nDate date = new Date();\nlogWriter = new BufferedWriter(new FileWriter(dateFormat.format(date) + \" serverLog.log\", true));\n</code></pre>\n\n<p>The way you have written it, you try to save the file as ' HH:mm:ss serverLog.txt' in a directory called 'yy', in a directory called 'MM', in a directory called 'dd'; it won't work because colons (<code>:</code>) are forbidden in filenames (at least on Windows)  because they mark drive letters.</p>\n"},{"tags":[],"owner":{"account_id":4250421,"reputation":13500,"user_id":4453262,"accept_rate":75,"display_name":"karthik manchala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426421470,"creation_date":1426421470,"answer_id":29060442,"question_id":29060364,"body_markdown":"    DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy/ HH:mm:ss&quot;);\r\n    Date today = Calendar.getInstance().getTime();        \r\n    String date= dateFormat .format(today);\r\n\r\n    logWriter = new BufferedWriter (new FileWriter  (date+&quot; serverLog.txt&quot;, true ));\r\n\r\nThere you go!","title":"Java how to save a file with current date and time","body":"<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yy/ HH:mm:ss\");\nDate today = Calendar.getInstance().getTime();        \nString date= dateFormat .format(today);\n\nlogWriter = new BufferedWriter (new FileWriter  (date+\" serverLog.txt\", true ));\n</code></pre>\n\n<p>There you go!</p>\n"}],"owner":{"account_id":5911328,"reputation":37,"user_id":4651493,"accept_rate":80,"display_name":"Lewis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":29060414,"answer_count":3,"score":0,"last_activity_date":1638861817,"creation_date":1426420941,"question_id":29060364,"body_markdown":"I am trying to save the file in the project folder with the current date and time in the name.\r\n\r\n\r\nMy current code\r\n        \r\n         DateFormat dateFormat = new SimpleDateFormat(&quot;\\n dd/MM/yy/ HH:mm:ss&quot;);\r\n         Date date = new Date();\r\n         logWriter = new BufferedWriter (new FileWriter  (&quot;dd/MM/yy/ HH:mm:ss       serverLog.txt&#39;&quot;, true));\r\n\r\n\r\nBelow does the job and saves in the write place without date and time\r\n\r\n\r\n         logWriter = new BufferedWriter (new FileWriter  (&quot;serverLog.txt&quot;, true ));","title":"Java how to save a file with current date and time","body":"<p>I am trying to save the file in the project folder with the current date and time in the name.</p>\n\n<p>My current code</p>\n\n<pre><code>     DateFormat dateFormat = new SimpleDateFormat(\"\\n dd/MM/yy/ HH:mm:ss\");\n     Date date = new Date();\n     logWriter = new BufferedWriter (new FileWriter  (\"dd/MM/yy/ HH:mm:ss       serverLog.txt'\", true));\n</code></pre>\n\n<p>Below does the job and saves in the write place without date and time</p>\n\n<pre><code>     logWriter = new BufferedWriter (new FileWriter  (\"serverLog.txt\", true ));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1638862336,"post_id":70256081,"comment_id":124193859,"body_markdown":"check this,https://stackoverflow.com/questions/37977839/android-compare-2-images-and-highlight-difference","body":"check this,<a href=\"https://stackoverflow.com/questions/37977839/android-compare-2-images-and-highlight-difference\" title=\"android compare 2 images and highlight difference\">stackoverflow.com/questions/37977839/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638861004,"creation_date":1638861004,"answer_id":70256139,"question_id":70256081,"body_markdown":"make some `CustomView extends View` and override [`onTouchEvent`](https://developer.android.com/reference/android/view/View#onTouchEvent(android.view.MotionEvent)) method. or handle all touch events in `Activity` by overriding [`dispatchTouchEvent`](https://developer.android.com/reference/android/app/Activity#dispatchTouchEvent(android.view.MotionEvent)). you can obtain precise point of touch/action with `getX()` and `getY()` methods of `MotionEvent` (which is an object passed to both methods mentioned above), now its your turn to do some math and calculate which item has been touched (by default `Activity` is dispatching touch events to its layout e.g. inflated from XML)","title":"Android find difference between two ImageView","body":"<p>make some <code>CustomView extends View</code> and override <a href=\"https://developer.android.com/reference/android/view/View#onTouchEvent(android.view.MotionEvent)\" rel=\"nofollow noreferrer\"><code>onTouchEvent</code></a> method. or handle all touch events in <code>Activity</code> by overriding <a href=\"https://developer.android.com/reference/android/app/Activity#dispatchTouchEvent(android.view.MotionEvent)\" rel=\"nofollow noreferrer\"><code>dispatchTouchEvent</code></a>. you can obtain precise point of touch/action with <code>getX()</code> and <code>getY()</code> methods of <code>MotionEvent</code> (which is an object passed to both methods mentioned above), now its your turn to do some math and calculate which item has been touched (by default <code>Activity</code> is dispatching touch events to its layout e.g. inflated from XML)</p>\n"}],"owner":{"account_id":22432578,"reputation":16,"user_id":16638237,"display_name":"Harnis Testing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638861004,"creation_date":1638860649,"question_id":70256081,"body_markdown":"I am developing a puzzle game like find differences on images in Android (Java).\r\nSo how can i know, where user touched on image, and is it right place where user touched.","title":"Android find difference between two ImageView","body":"<p>I am developing a puzzle game like find differences on images in Android (Java).\nSo how can i know, where user touched on image, and is it right place where user touched.</p>\n"},{"tags":["java","itext7","html2pdf"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1638861005,"post_id":70037767,"comment_id":124193439,"body_markdown":"`HtmlConverter` is a class from iText 7 so I edited your question (you mentioned iText 5 initially).","body":"<code>HtmlConverter</code> is a class from iText 7 so I edited your question (you mentioned iText 5 initially)."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1638861018,"post_id":70037767,"comment_id":124193447,"body_markdown":"Have you installed [pdfCalligraph](https://itextpdf.com/en/products/itext-7/pdfcalligraph)?","body":"Have you installed <a href=\"https://itextpdf.com/en/products/itext-7/pdfcalligraph\" rel=\"nofollow noreferrer\">pdfCalligraph</a>?"}],"owner":{"account_id":13266759,"reputation":71,"user_id":9579278,"display_name":"Simo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638860964,"creation_date":1637338255,"question_id":70037767,"body_markdown":"I have tried to set Arabic font but the RTL is not working even though I set the direction from Right To Left in my HTML file.\r\nI have used FontProvider but still Arabic isn&#39;t working properly.\r\n\r\n// this is the result I got\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\t\r\n//that is the code I have used\r\n\r\n\r\n\tpublic static final String[] FONTS = { &quot;src/main/resources/fonts/noto/NotoNaskhArabic-Regular.ttf&quot;,\r\n\t\t\t&quot;src/main/resources/fonts/noto/arial.ttf&quot; };\r\n\r\n\r\n    String htmlString = null;\r\n    \t\ttry {\r\n    \t\t\thtmlString = FileUtils.readFileToString(htmlTemplateFile);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \r\n    \t\tConverterProperties properties = new ConverterProperties();\r\n    \t\t\r\n    \t\tFontProvider fontProvider = new DefaultFontProvider(false, false, false);\r\n    \t\tfor (String font : FONTS) {\r\n    \t\t\tFontProgram fontProgram = FontProgramFactory.createFont(font);\r\n    \t\t\tfontProvider.addFont(fontProgram);\r\n    \t\t}\r\n    \t\tproperties.setFontProvider(fontProvider);\r\n    \t\tproperties.setCharset(&quot;UTF-8&quot;);\r\n    \r\n    \t\tHtmlConverter.convertToPdf(htmlString, baos, properties);\r\n\r\n\r\n// that is a part of my html file\r\n\r\n\t&lt;table&gt;\r\n\t\t\t\t\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;قرأت\r\n\t\t\t\t\t\t\t\t\t\t\tجميع بنود المدونة خلف هذا العقد المكتوبة بالفرنسية و قبلت بها\r\n\t\t\t\t\t\t\t\t\t\t\tو أتحمل مسؤولية السيارة خلال مدة هذا العقد&lt;/td&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td&gt;J&#39;ai lu et j&#39;accepte les formes mentionn&#233;es au recto\r\n\t\t\t\t\t\t\t\t\t\t\tet verso de pr&#233;sent contrat et du carnet de bord&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\tشركة %currentUserName% لها كامل الصلاحية في إسترجاع سيارتها في أي\r\n\t\t\t\t\t\t\t\t\t\t\tوقت وذلك وبدون أي تعويض&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td&gt;La St&#233; %currentUserName% se r&#233;serve le plein droit de\r\n\t\t\t\t\t\t\t\t\t\t\tr&#233;cup&#233;rer la voiture &#224; tous moment sans justif ni indermnit&#233;&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t\t\t\t\t&lt;/table&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mturR.png","title":"Arabic letter in iText 7","body":"<p>I have tried to set Arabic font but the RTL is not working even though I set the direction from Right To Left in my HTML file.\nI have used FontProvider but still Arabic isn't working properly.</p>\n<p>// this is the result I got</p>\n<p><a href=\"https://i.stack.imgur.com/mturR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mturR.png\" alt=\"enter image description here\" /></a></p>\n<p>//that is the code I have used</p>\n<pre><code>public static final String[] FONTS = { &quot;src/main/resources/fonts/noto/NotoNaskhArabic-Regular.ttf&quot;,\n        &quot;src/main/resources/fonts/noto/arial.ttf&quot; };\n\n\nString htmlString = null;\n        try {\n            htmlString = FileUtils.readFileToString(htmlTemplateFile);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        ConverterProperties properties = new ConverterProperties();\n        \n        FontProvider fontProvider = new DefaultFontProvider(false, false, false);\n        for (String font : FONTS) {\n            FontProgram fontProgram = FontProgramFactory.createFont(font);\n            fontProvider.addFont(fontProgram);\n        }\n        properties.setFontProvider(fontProvider);\n        properties.setCharset(&quot;UTF-8&quot;);\n\n        HtmlConverter.convertToPdf(htmlString, baos, properties);\n</code></pre>\n<p>// that is a part of my html file</p>\n<pre><code>&lt;table&gt;\n                            &lt;tbody&gt;\n                                &lt;tr&gt;\n                                    &lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;قرأت\n                                        جميع بنود المدونة خلف هذا العقد المكتوبة بالفرنسية و قبلت بها\n                                        و أتحمل مسؤولية السيارة خلال مدة هذا العقد&lt;/td&gt;\n\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td&gt;J'ai lu et j'accepte les formes mentionnées au recto\n                                        et verso de présent contrat et du carnet de bord&lt;/td&gt;\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td dir=&quot;rtl&quot; style=&quot;font-family: Noto Naskh Arabic&quot;&gt;\n                                        شركة %currentUserName% لها كامل الصلاحية في إسترجاع سيارتها في أي\n                                        وقت وذلك وبدون أي تعويض&lt;/td&gt;\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td&gt;La Sté %currentUserName% se réserve le plein droit de\n                                        récupérer la voiture à tous moment sans justif ni indermnité&lt;/td&gt;\n                                &lt;/tr&gt;\n\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n</code></pre>\n"},{"tags":["java","android","selenium","browser-automation"],"comments":[{"owner":{"account_id":1634908,"reputation":11162,"user_id":1508671,"accept_rate":62,"display_name":"KOTIOS"},"score":0,"creation_date":1407608630,"post_id":25221701,"comment_id":39285082,"body_markdown":"did u added jar in build path?","body":"did u added jar in build path?"},{"owner":{"account_id":1360949,"reputation":1740,"user_id":1298342,"accept_rate":74,"display_name":"kk1076"},"score":0,"creation_date":1407609405,"post_id":25221701,"comment_id":39285277,"body_markdown":"yes. added selenium-server-standalone-2.42.2.jar file as external jar file","body":"yes. added selenium-server-standalone-2.42.2.jar file as external jar file"},{"owner":{"account_id":1634908,"reputation":11162,"user_id":1508671,"accept_rate":62,"display_name":"KOTIOS"},"score":0,"creation_date":1407610348,"post_id":25221701,"comment_id":39285526,"body_markdown":"can u post screenshot or like so?","body":"can u post screenshot or like so?"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1422533091,"post_id":25221701,"comment_id":44792127,"body_markdown":"I think you should use selendroid.","body":"I think you should use selendroid."}],"answers":[{"tags":[],"owner":{"account_id":2508667,"reputation":362,"user_id":2181636,"accept_rate":22,"display_name":"SahilPatel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422532728,"creation_date":1422532728,"answer_id":28214229,"question_id":25221701,"body_markdown":"I think so android driver is belongs to java-client library so giving an error that android driver cannot resolve as type. please add java-client library and then import android driver that can solve problem.\r\nthis link can help you with java-client :-http://mvnrepository.com/artifact/io.appium/java-client\r\nand then user import statement in eclipse :-\r\nimport io.appium.java_client.android.AndroidDriver;\r\nTry this it may help you","title":"AndroidDriver cannot be resolved to a type","body":"<p>I think so android driver is belongs to java-client library so giving an error that android driver cannot resolve as type. please add java-client library and then import android driver that can solve problem.\nthis link can help you with java-client :-<a href=\"http://mvnrepository.com/artifact/io.appium/java-client\" rel=\"nofollow\">http://mvnrepository.com/artifact/io.appium/java-client</a>\nand then user import statement in eclipse :-\nimport io.appium.java_client.android.AndroidDriver;\nTry this it may help you</p>\n"},{"tags":[],"owner":{"account_id":11664156,"reputation":31,"user_id":8541371,"display_name":"Nandini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504531416,"creation_date":1504531072,"answer_id":46037962,"question_id":25221701,"body_markdown":"I had faced same problem in Windows 7 64-bit.\r\n\r\nDoing below steps my error got solved:-\r\n\r\n - Downloaded Java-client jar from\r\n   https://mvnrepository.com/artifact/io.appium/java-client/2.1.0.\r\n  \r\n - Add the Jar to Build Path of my project. [Right click &gt;&gt;&gt; Build Path &gt;&gt;&gt; \r\n   Configure build path &gt;&gt;&gt; Libraries tab &gt;&gt;&gt; Add external jars &gt;&gt;&gt; Now select your downloaded java-client].\r\n   \r\n - Now in your class add import as :import \r\n   io.appium.java_client.android.AndroidDriver;\r\n\r\n - Save the class.\r\n\r\nAfter following above steps i am successfully able to access Android drivers.\r\n\r\n","title":"AndroidDriver cannot be resolved to a type","body":"<p>I had faced same problem in Windows 7 64-bit.</p>\n\n<p>Doing below steps my error got solved:-</p>\n\n<ul>\n<li><p>Downloaded Java-client jar from\n<a href=\"https://mvnrepository.com/artifact/io.appium/java-client/2.1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.appium/java-client/2.1.0</a>.</p></li>\n<li><p>Add the Jar to Build Path of my project. [Right click >>> Build Path >>> \nConfigure build path >>> Libraries tab >>> Add external jars >>> Now select your downloaded java-client].</p></li>\n<li><p>Now in your class add import as :import \nio.appium.java_client.android.AndroidDriver;</p></li>\n<li><p>Save the class.</p></li>\n</ul>\n\n<p>After following above steps i am successfully able to access Android drivers.</p>\n"},{"tags":[],"owner":{"display_name":"user7123229"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504894663,"creation_date":1504894663,"answer_id":46122421,"question_id":25221701,"body_markdown":"In case you are running a maven java project, add the following dependency to your POM and that should add the java-client jars to your project automatically. Once added, the error should go away.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"AndroidDriver cannot be resolved to a type","body":"<p>In case you are running a maven java project, add the following dependency to your POM and that should add the java-client jars to your project automatically. Once added, the error should go away.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;5.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18475505,"reputation":21,"user_id":13459169,"display_name":"Somayyeh Mehrabadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638860366,"creation_date":1638855897,"answer_id":70255441,"question_id":25221701,"body_markdown":"    import io.appium.java_client.android.AndroidDriver;\r\n\r\nin your Code:\r\n\r\n    driver= new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), cap);","title":"AndroidDriver cannot be resolved to a type","body":"<pre><code>import io.appium.java_client.android.AndroidDriver;\n</code></pre>\n<p>in your Code:</p>\n<pre><code>driver= new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), cap);\n</code></pre>\n"}],"owner":{"account_id":1360949,"reputation":1740,"user_id":1298342,"accept_rate":74,"display_name":"kk1076"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1638860366,"creation_date":1407608587,"question_id":25221701,"body_markdown":"I am new to java. I am trying to create a sample mobile automation testing application using Selenium web driver for android. &lt;br/&gt;\r\nI have installed the Android SDK and started the Android emulator based on the guidelines from the below links. &lt;br/&gt;\r\nhttp://www.abodeqa.com/2013/05/08/configuring-android-webdriver-in-eclipse/ &lt;br/&gt;\r\nhttp://selenium.polteq.com/en/running-tests-on-an-android-simulator/ &lt;br/&gt;\r\nhttps://code.google.com/p/selenium/wiki/AndroidDriver\r\n\r\nI added the external jar files for selenium (`selenium-server-standalone-2.42.2`) and started the emulator using apk (`android-server-2.38.0.apk`) and added the code from the links.\r\n\r\nI get reference errors for android driver as (`The import.org.selenium.android cannot be resolved`)\r\n\r\n    import org.openqa.selenium.android.AndroidDriver;\r\n\r\n and in the below code as (*Android driver cannot be resolved to a type*)\r\n\r\n    AndroidDriver driver = new AndroidDriver();\r\n\r\nHow to solve these reference errors for android ?. &lt;br/&gt;\r\nAny suggestions will be greatly helpful.\r\nThanks in advance.\r\n\r\nEDIT : Added Screenshot\r\n![Screenshot android reference error][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/TOTM2.png","title":"AndroidDriver cannot be resolved to a type","body":"<p>I am new to java. I am trying to create a sample mobile automation testing application using Selenium web driver for android. <br/>\nI have installed the Android SDK and started the Android emulator based on the guidelines from the below links. <br/>\n<a href=\"http://www.abodeqa.com/2013/05/08/configuring-android-webdriver-in-eclipse/\" rel=\"nofollow noreferrer\">http://www.abodeqa.com/2013/05/08/configuring-android-webdriver-in-eclipse/</a> <br/>\n<a href=\"http://selenium.polteq.com/en/running-tests-on-an-android-simulator/\" rel=\"nofollow noreferrer\">http://selenium.polteq.com/en/running-tests-on-an-android-simulator/</a> <br/>\n<a href=\"https://code.google.com/p/selenium/wiki/AndroidDriver\" rel=\"nofollow noreferrer\">https://code.google.com/p/selenium/wiki/AndroidDriver</a></p>\n\n<p>I added the external jar files for selenium (<code>selenium-server-standalone-2.42.2</code>) and started the emulator using apk (<code>android-server-2.38.0.apk</code>) and added the code from the links.</p>\n\n<p>I get reference errors for android driver as (<code>The import.org.selenium.android cannot be resolved</code>)</p>\n\n<pre><code>import org.openqa.selenium.android.AndroidDriver;\n</code></pre>\n\n<p>and in the below code as (<em>Android driver cannot be resolved to a type</em>)</p>\n\n<pre><code>AndroidDriver driver = new AndroidDriver();\n</code></pre>\n\n<p>How to solve these reference errors for android ?. <br/>\nAny suggestions will be greatly helpful.\nThanks in advance.</p>\n\n<p>EDIT : Added Screenshot\n<img src=\"https://i.stack.imgur.com/TOTM2.png\" alt=\"Screenshot android reference error\"></p>\n"},{"tags":["java","http","webserver"],"comments":[{"owner":{"account_id":12655916,"reputation":852,"user_id":10673107,"display_name":"A. Vreeswijk"},"score":0,"creation_date":1638840365,"post_id":70253505,"comment_id":124189770,"body_markdown":"You should avoid `while(true)` loops.... Always make it stop able by putting in a boolean. It can also be used easily for debugging","body":"You should avoid <code>while(true)</code> loops.... Always make it stop able by putting in a boolean. It can also be used easily for debugging"}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638859318,"creation_date":1638838882,"answer_id":70253755,"question_id":70253505,"body_markdown":"[Content-Length][1] is needed, browser cannot know the content length of your message, and naturally it cannot parse out the complete message.\r\n\r\nAnd as mentioned in this answer: https://stackoverflow.com/a/2773415/9690075:\r\n\r\n&gt; If both Content-Length and Transfer-Encoding headers are missing, then at the end of the response the connection must be closed.\r\n\r\n\r\n\r\nTry:\r\n\r\n```\r\n    private static String HTTP_RESPONSE_TEMPLATE =\r\n            &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n                    &quot;Content-Length: %d\\r\\n&quot; +\r\n                    &quot;Content-Type: text/html\\r\\n&quot; +\r\n                    &quot;\\r\\n&quot; +\r\n                    &quot;%s&quot;;\r\n\r\n    byte[] buildSuccessfulResponse(String content) {\r\n        return String.format(HTTP_RESPONSE_TEMPLATE, content.length(), content).getBytes(StandardCharsets.UTF_8);\r\n    }\r\n    \r\n    private void writeToKey(SelectionKey key) throws IOException {\r\n        // get previously stored response for this client\r\n        String response = ((ClientConnectionState) key.attachment()).pendingResponse;\r\n        ByteBuffer buf = ByteBuffer.wrap(buildSuccessfulResponse(response));\r\n        System.out.println(clientSkt.write(buf));\r\n        //..\r\n    }\r\n\r\n    private void readFromKey(SelectionKey key) throws IOException {\r\n        //..\r\n        String response = &quot;hello&quot;;\r\n        key.interestOps(SelectionKey.OP_WRITE);\r\n        ((ClientConnectionState) key.attachment()).pendingResponse = response;\r\n        //..\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html","title":"Java - Sending HTTP response but the browser keeps loading","body":"<p><a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html\" rel=\"nofollow noreferrer\">Content-Length</a> is needed, browser cannot know the content length of your message, and naturally it cannot parse out the complete message.</p>\n<p>And as mentioned in this answer: <a href=\"https://stackoverflow.com/a/2773415/9690075\">https://stackoverflow.com/a/2773415/9690075</a>:</p>\n<blockquote>\n<p>If both Content-Length and Transfer-Encoding headers are missing, then at the end of the response the connection must be closed.</p>\n</blockquote>\n<p>Try:</p>\n<pre><code>    private static String HTTP_RESPONSE_TEMPLATE =\n            &quot;HTTP/1.1 200 OK\\r\\n&quot; +\n                    &quot;Content-Length: %d\\r\\n&quot; +\n                    &quot;Content-Type: text/html\\r\\n&quot; +\n                    &quot;\\r\\n&quot; +\n                    &quot;%s&quot;;\n\n    byte[] buildSuccessfulResponse(String content) {\n        return String.format(HTTP_RESPONSE_TEMPLATE, content.length(), content).getBytes(StandardCharsets.UTF_8);\n    }\n    \n    private void writeToKey(SelectionKey key) throws IOException {\n        // get previously stored response for this client\n        String response = ((ClientConnectionState) key.attachment()).pendingResponse;\n        ByteBuffer buf = ByteBuffer.wrap(buildSuccessfulResponse(response));\n        System.out.println(clientSkt.write(buf));\n        //..\n    }\n\n    private void readFromKey(SelectionKey key) throws IOException {\n        //..\n        String response = &quot;hello&quot;;\n        key.interestOps(SelectionKey.OP_WRITE);\n        ((ClientConnectionState) key.attachment()).pendingResponse = response;\n        //..\n    }\n</code></pre>\n"}],"owner":{"account_id":16879198,"reputation":509,"user_id":12424975,"display_name":"Samuele B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638859318,"creation_date":1638836157,"question_id":70253505,"body_markdown":"I&#39;m using the following program to simulate a webserver.\r\n\r\n```\r\npublic void runServer() {\r\n        try {\r\n            ServerSocketChannel srvSktChan = ServerSocketChannel.open();\r\n            ServerSocket skt = srvSktChan.socket();\r\n            Selector selector = Selector.open();\r\n\r\n            skt.bind(new InetSocketAddress(8000));\r\n            srvSktChan.configureBlocking(false);\r\n            srvSktChan.register(selector, SelectionKey.OP_ACCEPT);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n\r\n        while (true) {\r\n            try {\r\n                System.out.println(&quot;ready to accept...&quot;);\r\n                this.selector.select();\r\n                System.out.println(&quot;accepted...&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n\r\n            Iterator&lt;SelectionKey&gt; rdyKeys = selector.selectedKeys().iterator();\r\n            while (rdyKeys.hasNext()) {\r\n                SelectionKey currKey = rdyKeys.next();\r\n                rdyKeys.remove();\r\n                try {\r\n                    if (currKey.isAcceptable()) {\r\n                        this.acceptKey(currKey);\r\n                        System.out.println(&quot;A client connected&quot;);\r\n                    } else if (currKey.isReadable()) {\r\n                        this.readFromKey(currKey);\r\n                    } else if (currKey.isWritable()) {\r\n                        this.writeToKey(currKey);\r\n                    }\r\n                } catch (IOException e) {\r\n                    currKey.cancel();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void acceptKey(SelectionKey key) throws IOException {\r\n        ServerSocketChannel channel = (ServerSocketChannel) key.channel();\r\n        SocketChannel clientSkt = channel.accept();\r\n\r\n        clientSkt.configureBlocking(false);\r\n        SelectionKey clientKey = clientSkt.register(this.selector, SelectionKey.OP_READ);\r\n        clientKey.attach(new ClientConnectionState());\r\n    }\r\n\r\n    private void writeToKey(SelectionKey key) throws IOException {\r\n        SocketChannel clientSkt = (SocketChannel) key.channel();\r\n\r\n        // get previously stored response for this client\r\n        Srtring response = ((ClientState) key.attachment()).pendingResponse;\r\n\r\n        ByteBuffer buf = ByteBuffer.wrap(response.getBytes(&quot;UTF-8&quot;));\r\n        clientSkt.write(buf);\r\n\r\n        key.interestOps(SelectionKey.OP_READ);\r\n    }\r\n\r\n    private void readFromKey(SelectionKey key) throws IOException {\r\n        SocketChannel clientSkt = (SocketChannel) key.channel();\r\n        ByteBuffer buf = ByteBuffer.allocate(this.BUF_CAPACITY);\r\n        \r\n        clientSkt.read(buf);\r\n        buf.flip();\r\n\r\n        String response = &quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\n\\r\\n; // see note below\r\n\r\n        key.interestOps(SelectionKey.OP_WRITE);\r\n        ((ClientState) key.attachment()).pendingResponse = response;\r\n    }\r\n```\r\nThis code works fine for the most part: when I open a browser and type `127.0.0.1:8000`, the Java program does log an HTTP GET request and writes back the response.\r\n\r\nHowever, the browser tab keeps loading forever, until the connection times out. In the browser network tab, the request is marked as pending and never completes. The response does seem to get written correctly, as I&#39;ve tried sending a body and it is in fact received by the browser, but is only rendered when I kill the java app (which causes the browser to stop loading). I have a feeling that it&#39;s a matter of how I&#39;m terminating the resposne I&#39;m writing, but I&#39;ve tried numerous other alternatives, such as writing these responses:\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\n&quot;\r\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\r\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\\r\\n\\r\\n&quot;\r\n```\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\n&quot;\r\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\r\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\r\n```\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST\\r\\n\\r\\n&quot;\r\n```\r\n\r\n```\r\n&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST&quot;\r\n```\r\n\r\nand so on. All of them cause the same behavior in the browser. I&#39;m starting to think there might be something about the way I&#39;m instantiating and using the buffer or the socket to write my response that causes the browser to think I&#39;m not done sending my response.\r\n\r\nI also tried other tools such as cURL and I always get the same issue, so it&#39;s not just the browser.\r\n\r\nWhat am I doing wrong?","title":"Java - Sending HTTP response but the browser keeps loading","body":"<p>I'm using the following program to simulate a webserver.</p>\n<pre><code>public void runServer() {\n        try {\n            ServerSocketChannel srvSktChan = ServerSocketChannel.open();\n            ServerSocket skt = srvSktChan.socket();\n            Selector selector = Selector.open();\n\n            skt.bind(new InetSocketAddress(8000));\n            srvSktChan.configureBlocking(false);\n            srvSktChan.register(selector, SelectionKey.OP_ACCEPT);\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        while (true) {\n            try {\n                System.out.println(&quot;ready to accept...&quot;);\n                this.selector.select();\n                System.out.println(&quot;accepted...&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n                System.exit(1);\n            }\n\n            Iterator&lt;SelectionKey&gt; rdyKeys = selector.selectedKeys().iterator();\n            while (rdyKeys.hasNext()) {\n                SelectionKey currKey = rdyKeys.next();\n                rdyKeys.remove();\n                try {\n                    if (currKey.isAcceptable()) {\n                        this.acceptKey(currKey);\n                        System.out.println(&quot;A client connected&quot;);\n                    } else if (currKey.isReadable()) {\n                        this.readFromKey(currKey);\n                    } else if (currKey.isWritable()) {\n                        this.writeToKey(currKey);\n                    }\n                } catch (IOException e) {\n                    currKey.cancel();\n                }\n            }\n        }\n    }\n\n    private void acceptKey(SelectionKey key) throws IOException {\n        ServerSocketChannel channel = (ServerSocketChannel) key.channel();\n        SocketChannel clientSkt = channel.accept();\n\n        clientSkt.configureBlocking(false);\n        SelectionKey clientKey = clientSkt.register(this.selector, SelectionKey.OP_READ);\n        clientKey.attach(new ClientConnectionState());\n    }\n\n    private void writeToKey(SelectionKey key) throws IOException {\n        SocketChannel clientSkt = (SocketChannel) key.channel();\n\n        // get previously stored response for this client\n        Srtring response = ((ClientState) key.attachment()).pendingResponse;\n\n        ByteBuffer buf = ByteBuffer.wrap(response.getBytes(&quot;UTF-8&quot;));\n        clientSkt.write(buf);\n\n        key.interestOps(SelectionKey.OP_READ);\n    }\n\n    private void readFromKey(SelectionKey key) throws IOException {\n        SocketChannel clientSkt = (SocketChannel) key.channel();\n        ByteBuffer buf = ByteBuffer.allocate(this.BUF_CAPACITY);\n        \n        clientSkt.read(buf);\n        buf.flip();\n\n        String response = &quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\n\\r\\n; // see note below\n\n        key.interestOps(SelectionKey.OP_WRITE);\n        ((ClientState) key.attachment()).pendingResponse = response;\n    }\n</code></pre>\n<p>This code works fine for the most part: when I open a browser and type <code>127.0.0.1:8000</code>, the Java program does log an HTTP GET request and writes back the response.</p>\n<p>However, the browser tab keeps loading forever, until the connection times out. In the browser network tab, the request is marked as pending and never completes. The response does seem to get written correctly, as I've tried sending a body and it is in fact received by the browser, but is only rendered when I kill the java app (which causes the browser to stop loading). I have a feeling that it's a matter of how I'm terminating the resposne I'm writing, but I've tried numerous other alternatives, such as writing these responses:</p>\n<pre><code>&quot;HTTP/1.1 200 OK\\n&quot;\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\\r\\n\\r\\n&quot;\n</code></pre>\n<pre><code>&quot;HTTP/1.1 200 OK\\n&quot;\n                + &quot;Content-type: text/html; charset=UTF-8\\n&quot;\n                + &quot;&lt;html&gt;&lt;body&gt;OK&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST\\r\\n\\r\\n&quot;\n</code></pre>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n\\r\\n\\r\\nTEST&quot;\n</code></pre>\n<p>and so on. All of them cause the same behavior in the browser. I'm starting to think there might be something about the way I'm instantiating and using the buffer or the socket to write my response that causes the browser to think I'm not done sending my response.</p>\n<p>I also tried other tools such as cURL and I always get the same issue, so it's not just the browser.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4959604,"reputation":8469,"user_id":3991211,"display_name":"Garr Godfrey"},"score":0,"creation_date":1638834434,"post_id":70253284,"comment_id":124188807,"body_markdown":"you can only get the value of static fields from a class. You can pass `null` into `get` for static members","body":"you can only get the value of static fields from a class. You can pass <code>null</code> into <code>get</code> for static members"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1638891709,"post_id":70253284,"comment_id":124205415,"body_markdown":"You can&#39;t change the constants class? Because it sounds like you really want it to be an `enum`.","body":"You can&#39;t change the constants class? Because it sounds like you really want it to be an <code>enum</code>."},{"owner":{"account_id":19748473,"reputation":23,"user_id":14460314,"display_name":"Ron"},"score":0,"creation_date":1638978027,"post_id":70253284,"comment_id":124231692,"body_markdown":"@JohnBayko no I can&#39;t change it, it is imported from other people&#39;s package","body":"@JohnBayko no I can&#39;t change it, it is imported from other people&#39;s package"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638858862,"creation_date":1638834371,"answer_id":70253321,"question_id":70253284,"body_markdown":"You can do it like this:\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\n\r\nimport static java.lang.reflect.Modifier.STATIC;\r\n\r\npublic class Example {\r\n    public static class colorConstants {\r\n        public static final String BLUE = &quot;blue&quot;;\r\n        public static final String RED = &quot;red&quot;;\r\n        public static final String YELLOW = &quot;yellow&quot;;\r\n        public String blah;\r\n\r\n        public colorConstants() {}\r\n    }\r\n\r\n    public static void main(String[] args) throws IllegalAccessException {\r\n        Field[] fields = colorConstants.class.getFields();\r\n        for (Field field : fields) {\r\n\r\n            if ((field.getModifiers() &amp; STATIC) != 0) {\r\n                String value = (String) field.get(null);\r\n                System.out.println(value);\r\n            } else {\r\n                System.out.println(&quot;Ignoring non-static field &quot; + field.getName());\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nI&#39;ve improved the style by changing `colorConstants` to `ColorConstants`, as class names should start with upper case letters, and changing `Field` to `field`.","title":"Java - how to extract the value of fields from another class","body":"<p>You can do it like this:</p>\n<pre><code>import java.lang.reflect.Field;\n\nimport static java.lang.reflect.Modifier.STATIC;\n\npublic class Example {\n    public static class colorConstants {\n        public static final String BLUE = &quot;blue&quot;;\n        public static final String RED = &quot;red&quot;;\n        public static final String YELLOW = &quot;yellow&quot;;\n        public String blah;\n\n        public colorConstants() {}\n    }\n\n    public static void main(String[] args) throws IllegalAccessException {\n        Field[] fields = colorConstants.class.getFields();\n        for (Field field : fields) {\n\n            if ((field.getModifiers() &amp; STATIC) != 0) {\n                String value = (String) field.get(null);\n                System.out.println(value);\n            } else {\n                System.out.println(&quot;Ignoring non-static field &quot; + field.getName());\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I've improved the style by changing <code>colorConstants</code> to <code>ColorConstants</code>, as class names should start with upper case letters, and changing <code>Field</code> to <code>field</code>.</p>\n"}],"owner":{"account_id":19748473,"reputation":23,"user_id":14460314,"display_name":"Ron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638858998,"creation_date":1638833977,"question_id":70253284,"body_markdown":"I am trying to get all the fields and values from another read-only class, and write them into a file, how to get the values of fields?\r\n\r\nThe class is read-only, and don&#39;t have getters:\r\n```java\r\n  public class colorConstants {\r\n    public static final String BLUE = &quot;blue&quot;;\r\n    public static final String RED = &quot;red&quot;;\r\n    public static final String YELLOW = &quot;yellow&quot;;\r\n    ...\r\n    \r\n    public colorConstants() {}\r\n  }\r\n```\r\n\r\nIn another class:\r\n```java\r\nField[] fields = colorConstants.class.getFields();\r\nfor(Field : fields) {\r\n  String fieldName = fieldName;\r\n  \r\n  //how to get the value of each field\r\n  String value = fieldName.get()?\r\n}\r\n```","title":"Java - how to extract the value of fields from another class","body":"<p>I am trying to get all the fields and values from another read-only class, and write them into a file, how to get the values of fields?</p>\n<p>The class is read-only, and don't have getters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class colorConstants {\n    public static final String BLUE = &quot;blue&quot;;\n    public static final String RED = &quot;red&quot;;\n    public static final String YELLOW = &quot;yellow&quot;;\n    ...\n    \n    public colorConstants() {}\n  }\n</code></pre>\n<p>In another class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field[] fields = colorConstants.class.getFields();\nfor(Field : fields) {\n  String fieldName = fieldName;\n  \n  //how to get the value of each field\n  String value = fieldName.get()?\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","awss3transfermanager","s3transfermanager"],"comments":[{"owner":{"account_id":297281,"reputation":459,"user_id":602713,"display_name":"Norman"},"score":0,"creation_date":1638859260,"post_id":70255807,"comment_id":124193003,"body_markdown":"Does the user linked to the access credentials have access to the S3 location as well as having permission to perform the PutObject action?","body":"Does the user linked to the access credentials have access to the S3 location as well as having permission to perform the PutObject action?"},{"owner":{"account_id":20044970,"reputation":1,"user_id":14694869,"display_name":"Balaji Karthick"},"score":0,"creation_date":1638859678,"post_id":70255807,"comment_id":124193099,"body_markdown":"for unit test, have mocked the S3CLIENTCONFIGURATION class which builts the user credentials for the bucket. This is the line, s3ClientConfiguration =mock(S3ClientConfiguration.class);\n\n   s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();","body":"for unit test, have mocked the S3CLIENTCONFIGURATION class which builts the user credentials for the bucket. This is the line, s3ClientConfiguration =mock(S3ClientConfiguration.class);     s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientCo&zwnj;&#8203;nfiguration).build()&zwnj;&#8203;;"}],"owner":{"account_id":20044970,"reputation":1,"user_id":14694869,"display_name":"Balaji Karthick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638858845,"creation_date":1638858845,"question_id":70255807,"body_markdown":"am trying to use S3TransferManager to upload file to s3. but my unit test fails due to the below error,\r\n\r\njava.util.concurrent.CompletionException: software.amazon.awssdk.services.s3.model.S3Exception: Invalid response status from request\r\n\r\nhere&#39;s my code,\r\n\r\n    public class AwsTransferService {\r\n\r\n\tprivate final S3TransferManager s3TransferManager;\r\n\tprivate final AwsS3Config s3Config;\r\n\r\n\tpublic AwsTransferService(AwsS3Config s3Config, AwsConfig awsConfig) {\r\n\t\tthis.s3Config = s3Config;\r\n\r\n\t\tAwsBasicCredentials awsCredentials = create(awsConfig.getAccessKey(), awsConfig.getSecretKey());\r\n\t\tthis.s3TransferManager = S3TransferManager.builder()\r\n\t\t\t\t.s3ClientConfiguration(builder -&gt; builder.credentialsProvider(create(awsCredentials))\r\n\t\t\t\t\t\t.region(s3Config.getRegion())\r\n\t\t\t\t\t\t.minimumPartSizeInBytes(10 * MB)\r\n\t\t\t\t\t\t.targetThroughputInGbps(20.0))\r\n\t\t\t\t.build();\r\n\r\n\t}\r\n\r\n\tpublic AwsTransferService(S3TransferManager s3TransferManager, AwsS3Config s3Config) {\r\n\t\tthis.s3TransferManager = s3TransferManager;\r\n\t\tthis.s3Config = s3Config;\r\n\t}\r\n\r\n\r\n\tpublic void transferObject(@NonNull String bucketName, @NonNull String transferKey, @NonNull File file) {\r\n\t\tvalidateS3Key(transferKey);\r\n\t\tvalidatePath(file.toPath());\r\n\t\tlog.info(&quot;Transfering s3 object from :{} to :{}&quot;, file.getPath(), transferKey);\r\n\t\ttry {\r\n\t\t\tUpload upload =\r\n\t\t\t\t\ts3TransferManager.upload(b -&gt; b.putObjectRequest(r -&gt; r.bucket(bucketName).key(transferKey))\r\n\t\t\t\t\t\t\t.source(file.toPath()));\r\n\t\t\tCompletedUpload completedUpload = upload.completionFuture().join();\r\n\r\n\t\t\tlog.info(&quot;PutObjectResponse: &quot; + completedUpload.response());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\t}\r\nand here is my unit test for the above code,\r\n\r\n    \t@RegisterExtension\r\n\tpublic static final S3MockExtension S3_MOCK = builder()\r\n\t\t\t.silent()\r\n\t\t\t.withSecureConnection(false)\r\n\t\t\t.build();\r\n\r\n\tprivate S3ClientConfiguration s3ClientConfiguration;\r\n\r\n\tprivate AwsTransferService service;\r\n\r\n\tprivate AwsS3Service awsS3Service;\r\n\r\n\tprivate S3TransferManager s3TransferManager;\r\n\r\n\tprivate static S3Client s3Client;\r\n\r\n\t@BeforeAll\r\n\tpublic static void beforeAll() {\r\n\t\ts3Client = S3_MOCK.createS3ClientV2();\r\n\t}\r\n\r\n\t@BeforeEach\r\n\tpublic void beforeEach() throws IOException {\r\n\r\n       s3ClientConfiguration =mock(S3ClientConfiguration.class);\r\n\r\n       s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();\r\n\r\n\t\tAwsS3Config s3Config = AwsS3Config.builder()\r\n\t\t\t\t.region(Region.AP_SOUTHEAST_2)\r\n\t\t\t\t.s3BucketName(S3Factory.VALID_S3_BUCKET)\r\n\t\t\t\t.build();\r\n\r\n\t\tawsS3Service = new AwsS3Service(s3Config, s3Client);\r\n\r\n\t\tawsS3Service.createBucket(VALID_S3_BUCKET);\r\n\r\n\t\tservice = new AwsTransferService(s3TransferManager, s3Config);\r\n\r\n\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void transferObject_singleFile_ShouldUploadFiletoS3() throws IOException {\r\n\r\n\t\tString transferKey = TRANSFER_KEY_UPLOAD;\r\n\t\tString fileName = FILE_PATH + TRANSFER_FILE_NAME;\r\n\t\twriteFile(fileName);\r\n\t\tFile transferFile = new File(fileName);\r\n\t\tservice.transferObject(VALID_S3_BUCKET, transferKey + TRANSFER_FILE_NAME, transferFile);\r\n\t\tint expectedObjectsSize = 1;\r\n\t\tLog.initLoggingToFile(Log.LogLevel.Error, &quot;log.txt&quot;);\r\n\t\tList&lt;S3Object&gt; matchedObjects = awsS3Service.listObjectsWithPrefix(transferKey + TRANSFER_FILE_NAME);\r\n\t\tassertEquals(expectedObjectsSize, matchedObjects.size());\r\n\t\tassertEquals(transferKey + TRANSFER_FILE_NAME, matchedObjects.get(0).key());\r\n\t}\r\n\r\n\r\nplease let me know why the unit test fails with the above mentioned error?\r\n\r\nalso please let me know is there any other way to mock &quot;s3ClientConfiguration&quot;? in aws java sdk v2","title":"software.amazon.awssdk.services.s3.model.S3Exception: Invalid response status from request while using aws java sdk v2 &quot;S3TRANSFERMANAGER&quot;","body":"<p>am trying to use S3TransferManager to upload file to s3. but my unit test fails due to the below error,</p>\n<p>java.util.concurrent.CompletionException: software.amazon.awssdk.services.s3.model.S3Exception: Invalid response status from request</p>\n<p>here's my code,</p>\n<pre><code>public class AwsTransferService {\n\nprivate final S3TransferManager s3TransferManager;\nprivate final AwsS3Config s3Config;\n\npublic AwsTransferService(AwsS3Config s3Config, AwsConfig awsConfig) {\n    this.s3Config = s3Config;\n\n    AwsBasicCredentials awsCredentials = create(awsConfig.getAccessKey(), awsConfig.getSecretKey());\n    this.s3TransferManager = S3TransferManager.builder()\n            .s3ClientConfiguration(builder -&gt; builder.credentialsProvider(create(awsCredentials))\n                    .region(s3Config.getRegion())\n                    .minimumPartSizeInBytes(10 * MB)\n                    .targetThroughputInGbps(20.0))\n            .build();\n\n}\n\npublic AwsTransferService(S3TransferManager s3TransferManager, AwsS3Config s3Config) {\n    this.s3TransferManager = s3TransferManager;\n    this.s3Config = s3Config;\n}\n\n\npublic void transferObject(@NonNull String bucketName, @NonNull String transferKey, @NonNull File file) {\n    validateS3Key(transferKey);\n    validatePath(file.toPath());\n    log.info(&quot;Transfering s3 object from :{} to :{}&quot;, file.getPath(), transferKey);\n    try {\n        Upload upload =\n                s3TransferManager.upload(b -&gt; b.putObjectRequest(r -&gt; r.bucket(bucketName).key(transferKey))\n                        .source(file.toPath()));\n        CompletedUpload completedUpload = upload.completionFuture().join();\n\n        log.info(&quot;PutObjectResponse: &quot; + completedUpload.response());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n<p>and here is my unit test for the above code,</p>\n<pre><code>    @RegisterExtension\npublic static final S3MockExtension S3_MOCK = builder()\n        .silent()\n        .withSecureConnection(false)\n        .build();\n\nprivate S3ClientConfiguration s3ClientConfiguration;\n\nprivate AwsTransferService service;\n\nprivate AwsS3Service awsS3Service;\n\nprivate S3TransferManager s3TransferManager;\n\nprivate static S3Client s3Client;\n\n@BeforeAll\npublic static void beforeAll() {\n    s3Client = S3_MOCK.createS3ClientV2();\n}\n\n@BeforeEach\npublic void beforeEach() throws IOException {\n\n   s3ClientConfiguration =mock(S3ClientConfiguration.class);\n\n   s3TransferManager = S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();\n\n    AwsS3Config s3Config = AwsS3Config.builder()\n            .region(Region.AP_SOUTHEAST_2)\n            .s3BucketName(S3Factory.VALID_S3_BUCKET)\n            .build();\n\n    awsS3Service = new AwsS3Service(s3Config, s3Client);\n\n    awsS3Service.createBucket(VALID_S3_BUCKET);\n\n    service = new AwsTransferService(s3TransferManager, s3Config);\n\n\n}\n\n@Test\npublic void transferObject_singleFile_ShouldUploadFiletoS3() throws IOException {\n\n    String transferKey = TRANSFER_KEY_UPLOAD;\n    String fileName = FILE_PATH + TRANSFER_FILE_NAME;\n    writeFile(fileName);\n    File transferFile = new File(fileName);\n    service.transferObject(VALID_S3_BUCKET, transferKey + TRANSFER_FILE_NAME, transferFile);\n    int expectedObjectsSize = 1;\n    Log.initLoggingToFile(Log.LogLevel.Error, &quot;log.txt&quot;);\n    List&lt;S3Object&gt; matchedObjects = awsS3Service.listObjectsWithPrefix(transferKey + TRANSFER_FILE_NAME);\n    assertEquals(expectedObjectsSize, matchedObjects.size());\n    assertEquals(transferKey + TRANSFER_FILE_NAME, matchedObjects.get(0).key());\n}\n</code></pre>\n<p>please let me know why the unit test fails with the above mentioned error?</p>\n<p>also please let me know is there any other way to mock &quot;s3ClientConfiguration&quot;? in aws java sdk v2</p>\n"},{"tags":["java","keycloak","kerberos","keycloak-services","spnego"],"answers":[{"tags":[],"owner":{"account_id":22100829,"reputation":1647,"user_id":16357334,"display_name":"sventorben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638653434,"creation_date":1638653434,"answer_id":70229640,"question_id":70195558,"body_markdown":"You will have to use a custom ID and replace the authenticator in the authentication flow. ","title":"override default authenticator provider in keycloak.x","body":"<p>You will have to use a custom ID and replace the authenticator in the authentication flow.</p>\n"}],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638858370,"creation_date":1638430195,"question_id":70195558,"body_markdown":"I need to change the behavior of the default kerberos authenticator (because of the issue declared here: [KEYCLOAK-19865][1]).&lt;br/&gt;\r\n\r\n\r\nI was hopping I could just create a new factory and use the existing ID:\r\n\r\n\tpublic class CustomSpnegoAuthenticatorFactory implements AuthenticatorFactory, DisplayTypeAuthenticatorFactory {\r\n\t\tpublic static final String PROVIDER_ID = &quot;auth-spnego&quot;; // ID of the default provider SpnegoAuthenticatorFactory\r\n\r\nAnd add the following line in my custom provider: *META-INF/services/org.keycloak.authentication.AuthenticatorFactory*\r\n\r\n    org.keycloak.authentication.authenticators.browser.CustomSpnegoAuthenticatorFactory\r\n\r\nBut the still the default provider is used. How can I override the default provider in keycloak.x?\r\n\r\nEDIT: We have a lot of installations with existing auth-flows and kerberos configurations. What I&#39;m looking for is to override the default provider, without modifying productive configurations / auth-flows.\r\n\r\n  [1]: https://issues.redhat.com/browse/KEYCLOAK-19865","title":"override default authenticator provider in keycloak.x","body":"<p>I need to change the behavior of the default kerberos authenticator (because of the issue declared here: <a href=\"https://issues.redhat.com/browse/KEYCLOAK-19865\" rel=\"nofollow noreferrer\">KEYCLOAK-19865</a>).<br/></p>\n<p>I was hopping I could just create a new factory and use the existing ID:</p>\n<pre><code>public class CustomSpnegoAuthenticatorFactory implements AuthenticatorFactory, DisplayTypeAuthenticatorFactory {\n    public static final String PROVIDER_ID = &quot;auth-spnego&quot;; // ID of the default provider SpnegoAuthenticatorFactory\n</code></pre>\n<p>And add the following line in my custom provider: <em>META-INF/services/org.keycloak.authentication.AuthenticatorFactory</em></p>\n<pre><code>org.keycloak.authentication.authenticators.browser.CustomSpnegoAuthenticatorFactory\n</code></pre>\n<p>But the still the default provider is used. How can I override the default provider in keycloak.x?</p>\n<p>EDIT: We have a lot of installations with existing auth-flows and kerberos configurations. What I'm looking for is to override the default provider, without modifying productive configurations / auth-flows.</p>\n"},{"tags":["java","javafx","installation","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638858300,"creation_date":1638857697,"answer_id":70255652,"question_id":70255482,"body_markdown":"The [*Scene Builder* product page][1] seems pretty clear:\r\n\r\n&gt; Scene Builder 17.0.0 was released on Sep 29, 2021.\r\n&gt;\r\n&gt;You can use this Scene Builder version together with Java 11 and higher.\r\n\r\n… and:\r\n\r\n&gt; Scene Builder 8.5.0 is for users who are still on Java 8. It was released on Jun 5, 2018.\r\n\r\nJava 8, 11, and 17 are the [LTS][2] versions of Java. \r\n\r\n| | Java 8 | Java 11+ |\r\n|--:| :---: | :---: |\r\n| Scene Builder version: | 8.5.0 | 17.0.0 |\r\n\r\n\r\n\r\n  [1]: https://gluonhq.com/products/scene-builder/\r\n  [2]: https://en.wikipedia.org/wiki/Long-term_support","title":"Is javafx Scene Builder 8.5.0 support for java jdk 17?","body":"<p>The <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\"><em>Scene Builder</em> product page</a> seems pretty clear:</p>\n<blockquote>\n<p>Scene Builder 17.0.0 was released on Sep 29, 2021.</p>\n<p>You can use this Scene Builder version together with Java 11 and higher.</p>\n</blockquote>\n<p>… and:</p>\n<blockquote>\n<p>Scene Builder 8.5.0 is for users who are still on Java 8. It was released on Jun 5, 2018.</p>\n</blockquote>\n<p>Java 8, 11, and 17 are the <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">LTS</a> versions of Java.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\"></th>\n<th style=\"text-align: center;\">Java 8</th>\n<th style=\"text-align: center;\">Java 11+</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">Scene Builder version:</td>\n<td style=\"text-align: center;\">8.5.0</td>\n<td style=\"text-align: center;\">17.0.0</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":20856617,"reputation":75,"user_id":15319781,"display_name":"Jack Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":1,"score":-7,"last_activity_date":1638858300,"creation_date":1638856222,"question_id":70255482,"body_markdown":"I just want to know, is Scene Builder 8.5.0 support for both java jdk 17 and java jdk 8.","title":"Is javafx Scene Builder 8.5.0 support for java jdk 17?","body":"<p>I just want to know, is Scene Builder 8.5.0 support for both java jdk 17 and java jdk 8.</p>\n"},{"tags":["java","image","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638868346,"post_id":70255704,"comment_id":124195831,"body_markdown":"What `apache poi` version are you using?","body":"What <code>apache poi</code> version are you using?"},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638872475,"post_id":70255704,"comment_id":124197323,"body_markdown":"I am using 4.1.1.","body":"I am using 4.1.1."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638873477,"post_id":70255704,"comment_id":124197719,"body_markdown":"Cannot reproducing that issue. Exactly your code works for me using `apache poi 4.1.1`. Result is a document having a big picture on first page and a small picture in default header.","body":"Cannot reproducing that issue. Exactly your code works for me using <code>apache poi 4.1.1</code>. Result is a document having a big picture on first page and a small picture in default header."},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638874091,"post_id":70255704,"comment_id":124197983,"body_markdown":"Not sure, but this is not working for me anyhow. Can you please share the document you have created anywhere? Are you using the similar code?","body":"Not sure, but this is not working for me anyhow. Can you please share the document you have created anywhere? Are you using the similar code?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1638877931,"post_id":70255704,"comment_id":124199391,"body_markdown":"Used exactly your code. Of course I have used different image files. It creates https://docs.google.com/document/d/1Dic_hD-F4XzXhkJu2qRXK0TZhsA9TjfmL1mSR36uHmQ/edit?usp=sharing","body":"Used exactly your code. Of course I have used different image files. It creates <a href=\"https://docs.google.com/document/d/1Dic_hD-F4XzXhkJu2qRXK0TZhsA9TjfmL1mSR36uHmQ/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638879067,"post_id":70255704,"comment_id":124199832,"body_markdown":"It&#39;s really working at your end. What version of java you are using? I am using java 8. I am not sure if it is the issue.","body":"It&#39;s really working at your end. What version of java you are using? I am using java 8. I am not sure if it is the issue."},{"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"score":0,"creation_date":1638880412,"post_id":70255704,"comment_id":124200320,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/239908/discussion-between-kiran-gavhane-and-axel-richter).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/239908/discussion-between-kiran-gavhane-and-axel-richter\">continue this discussion in chat</a>."}],"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638858121,"creation_date":1638858121,"question_id":70255704,"body_markdown":"Here I am trying to insert image in the title page in apache poi but with the header image, it is not displaying the image on the title page. If I remove the addPicture from the header part, then, title page correctly displays the proper image. I am not sure what&#39;s the issue. I have added the code here.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.xwpf.usermodel.*;\r\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr;\r\nimport org.apache.poi.util.Units;\r\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\r\n\r\npublic class Check {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tXWPFDocument document = new XWPFDocument();\r\n\r\n\t\tXWPFParagraph paragraph = document.createParagraph();\r\n\t\tXWPFRun run = paragraph.createRun();\r\n\r\n\t\tCTSectPr sectPr = document.getDocument().getBody().addNewSectPr();\r\n\t\tsectPr.addNewTitlePg();\r\n\r\n\t\tFile image = new File(&quot;D:\\\\Img.png&quot;);\r\n\t\tFileInputStream imageData = new FileInputStream(image);\r\n\r\n\t\trun = paragraph.createRun();\r\n\t\tint imageType = XWPFDocument.PICTURE_TYPE_PNG;\r\n\t\tString imageFileName = image.getName();\r\n\r\n\t\tint width = 612;\r\n\t\tint height = 550;\r\n\r\n\t\trun.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\r\n\t\tparagraph = document.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.setText(&quot;The Body... first page&quot;);\r\n\r\n\t\tparagraph = document.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.addBreak(BreakType.PAGE);\r\n\t\trun.setText(&quot;The Body... second page&quot;);\r\n\r\n\t\tXWPFHeader header = document.createHeader(HeaderFooterType.FIRST);\r\n\t\tparagraph = header.createParagraph();\r\n\t\tparagraph.setAlignment(ParagraphAlignment.CENTER);\r\n\t\trun = paragraph.createRun();\r\n\t\trun.setText(&quot;First page footer...&quot;);\r\n\t\t\r\n\t\t\r\n\t\t// adding header here\r\n\t\theader = document.createHeader(HeaderFooterType.DEFAULT);\r\n\r\n\t\tparagraph = header.getParagraphArray(0);\r\n\t\tif (paragraph == null)\r\n\t\t\tparagraph = header.createParagraph();\r\n\t\tparagraph.setAlignment(ParagraphAlignment.RIGHT);\r\n\t\timage = new File(&quot;D:\\\\Picture.png&quot;);\r\n\t\timageData = new FileInputStream(image);\r\n\r\n\t\trun = paragraph.createRun();\r\n\t\timageType = XWPFDocument.PICTURE_TYPE_PNG;\r\n\t\timageFileName = image.getName();\r\n\r\n\t\twidth = 100;\r\n\t\theight = 50;\r\n\t\t// adding image here.\r\n\t\trun.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\r\n\r\n\t\t// header image part completed\r\n\t\tFileOutputStream out = new FileOutputStream(&quot;D:\\\\CreateWordFooters.docx&quot;);\r\n\t\tdocument.write(out);\r\n\t\tout.close();\r\n\t\tdocument.close();\r\n\r\n\t}\r\n}","title":"How to add title page image in apache poi with header image in it. Currently, whenever I add image in header, title page image disappears","body":"<p>Here I am trying to insert image in the title page in apache poi but with the header image, it is not displaying the image on the title page. If I remove the addPicture from the header part, then, title page correctly displays the proper image. I am not sure what's the issue. I have added the code here.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class Check {\n\n    public static void main(String[] args) throws Exception {\n\n        XWPFDocument document = new XWPFDocument();\n\n        XWPFParagraph paragraph = document.createParagraph();\n        XWPFRun run = paragraph.createRun();\n\n        CTSectPr sectPr = document.getDocument().getBody().addNewSectPr();\n        sectPr.addNewTitlePg();\n\n        File image = new File(&quot;D:\\\\Img.png&quot;);\n        FileInputStream imageData = new FileInputStream(image);\n\n        run = paragraph.createRun();\n        int imageType = XWPFDocument.PICTURE_TYPE_PNG;\n        String imageFileName = image.getName();\n\n        int width = 612;\n        int height = 550;\n\n        run.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\n        paragraph = document.createParagraph();\n        run = paragraph.createRun();\n        run.setText(&quot;The Body... first page&quot;);\n\n        paragraph = document.createParagraph();\n        run = paragraph.createRun();\n        run.addBreak(BreakType.PAGE);\n        run.setText(&quot;The Body... second page&quot;);\n\n        XWPFHeader header = document.createHeader(HeaderFooterType.FIRST);\n        paragraph = header.createParagraph();\n        paragraph.setAlignment(ParagraphAlignment.CENTER);\n        run = paragraph.createRun();\n        run.setText(&quot;First page footer...&quot;);\n        \n        \n        // adding header here\n        header = document.createHeader(HeaderFooterType.DEFAULT);\n\n        paragraph = header.getParagraphArray(0);\n        if (paragraph == null)\n            paragraph = header.createParagraph();\n        paragraph.setAlignment(ParagraphAlignment.RIGHT);\n        image = new File(&quot;D:\\\\Picture.png&quot;);\n        imageData = new FileInputStream(image);\n\n        run = paragraph.createRun();\n        imageType = XWPFDocument.PICTURE_TYPE_PNG;\n        imageFileName = image.getName();\n\n        width = 100;\n        height = 50;\n        // adding image here.\n        run.addPicture(imageData, imageType, imageFileName, Units.toEMU(width), Units.toEMU(height));\n\n        // header image part completed\n        FileOutputStream out = new FileOutputStream(&quot;D:\\\\CreateWordFooters.docx&quot;);\n        document.write(out);\n        out.close();\n        document.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1378395182,"post_id":18640437,"comment_id":27444303,"body_markdown":"Did you go through any regex tutorial? `.` is a meta-character which matches anything except a newline. Inside a character class, it isn&#39;t a meta-character.","body":"Did you go through any regex tutorial? <code>.</code> is a meta-character which matches anything except a newline. Inside a character class, it isn&#39;t a meta-character."},{"owner":{"account_id":2884250,"reputation":1641,"user_id":2474498,"accept_rate":71,"display_name":"GDanger"},"score":0,"creation_date":1378395279,"post_id":18640437,"comment_id":27444359,"body_markdown":"Yes, I have been looking at the oracle tutorials. `[abc]` is a character class that matches a, b, or c. So why doesn&#39;t `[.]` act the same as `.`?","body":"Yes, I have been looking at the oracle tutorials. <code>[abc]</code> is a character class that matches a, b, or c. So why doesn&#39;t <code>[.]</code> act the same as <code>.</code>?"},{"owner":{"account_id":2884250,"reputation":1641,"user_id":2474498,"accept_rate":71,"display_name":"GDanger"},"score":1,"creation_date":1378395333,"post_id":18640437,"comment_id":27444387,"body_markdown":"ahh, I didn&#39;t understand that inside it&#39;s own character class it&#39;s no longer a meta-character. Thank you.","body":"ahh, I didn&#39;t understand that inside it&#39;s own character class it&#39;s no longer a meta-character. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":176857,"reputation":360143,"user_id":2225682,"display_name":"falsetru"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1380303707,"creation_date":1378395189,"answer_id":18640460,"question_id":18640437,"body_markdown":"`[.]` matches a dot (`.`) literally, while `.` matches any character except newline (`\\n`) (unless you use [`DOTALL`][1] mode).\r\n\r\nYou can also use `\\.` (`&quot;\\\\.&quot;` if you use java string literal) to literally match dot.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p><code>[.]</code> matches a dot (<code>.</code>) literally, while <code>.</code> matches any character except newline (<code>\\n</code>) (unless you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"noreferrer\"><code>DOTALL</code></a> mode).</p>\n\n<p>You can also use <code>\\.</code> (<code>\"\\\\.\"</code> if you use java string literal) to literally match dot.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378396275,"creation_date":1378395470,"answer_id":18640543,"question_id":18640437,"body_markdown":"The `[` and `]` are *metacharacters* that let you define a [*character class*][1]. Anything enclosed in square brackets is interpreted literally. You can include multiple characters as well:\r\n\r\n    [.=*&amp;^$] // Matches any single character from the list &#39;.&#39;,&#39;=&#39;,&#39;*&#39;,&#39;&amp;&#39;,&#39;^&#39;,&#39;$&#39;\r\n\r\nThere are two specific things you need to know about the `[...]` syntax:\r\n\r\n - The `^` symbol at the beginning of the group has a special meaning: it inverts what&#39;s matched by the group. For example, `[^.]` matches any character except a dot `.`\r\n - Dash `-` in between two characters means any code point between the two. For example, `[A-Z]` matches any single uppercase letter. You can use dash multiple times - for example, `[A-Za-z0-9]` means &quot;any single upper- or lower-case letter or a digit&quot;.\r\n\r\nThe two constructs above (`^` and `-`) are common to nearly all regex engines; some engines  (such as Java&#39;s) define [additional syntax][2] specific only to these engines.\r\n\r\n  [1]: http://www.regular-expressions.info/charclass.html\r\n  [2]: https://stackoverflow.com/q/3201689/335858","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p>The <code>[</code> and <code>]</code> are <em>metacharacters</em> that let you define a <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\"><em>character class</em></a>. Anything enclosed in square brackets is interpreted literally. You can include multiple characters as well:</p>\n\n<pre><code>[.=*&amp;^$] // Matches any single character from the list '.','=','*','&amp;','^','$'\n</code></pre>\n\n<p>There are two specific things you need to know about the <code>[...]</code> syntax:</p>\n\n<ul>\n<li>The <code>^</code> symbol at the beginning of the group has a special meaning: it inverts what's matched by the group. For example, <code>[^.]</code> matches any character except a dot <code>.</code></li>\n<li>Dash <code>-</code> in between two characters means any code point between the two. For example, <code>[A-Z]</code> matches any single uppercase letter. You can use dash multiple times - for example, <code>[A-Za-z0-9]</code> means \"any single upper- or lower-case letter or a digit\".</li>\n</ul>\n\n<p>The two constructs above (<code>^</code> and <code>-</code>) are common to nearly all regex engines; some engines  (such as Java's) define <a href=\"https://stackoverflow.com/q/3201689/335858\">additional syntax</a> specific only to these engines.</p>\n"},{"tags":[],"owner":{"account_id":22278874,"reputation":11,"user_id":16507527,"display_name":"Harshit Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638857869,"creation_date":1638857869,"answer_id":70255671,"question_id":18640437,"body_markdown":"[regular-expression constructs][1]\r\n\r\n \r\n\r\n&gt; . =&gt;  *Any character (may or may not match line terminators)*\r\n\r\n\r\n----------\r\n\r\n\r\nand to match the dot  .  use the following\r\n\r\n    [.] =&gt; it will matches a dot\r\n    \\\\. =&gt; it will matches a dot\r\n\r\n**NOTE:** The character classes in Java regular expression is defined using the square brackets &quot;[ ]&quot;, this subexpression matches a single character from the specified or, set of possible characters.\r\n\r\n&gt;**Example :** In string address replaces every &quot;.&quot; with &quot;[.]&quot; \r\n\r\n    public static void main(String[] args) {\r\n        String address = &quot;1.1.1.1&quot;;\r\n        System.out.println(address.replaceAll(&quot;[.]&quot;,&quot;[.]&quot;));\r\n    }\r\n\r\nif anything is missed please add :)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regular-expression constructs</a></p>\n<blockquote>\n<p>. =&gt;  <em>Any character (may or may not match line terminators)</em></p>\n</blockquote>\n<hr />\n<p>and to match the dot  .  use the following</p>\n<pre><code>[.] =&gt; it will matches a dot\n\\\\. =&gt; it will matches a dot\n</code></pre>\n<p><strong>NOTE:</strong> The character classes in Java regular expression is defined using the square brackets &quot;[ ]&quot;, this subexpression matches a single character from the specified or, set of possible characters.</p>\n<blockquote>\n<p><strong>Example :</strong> In string address replaces every &quot;.&quot; with &quot;[.]&quot;</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n    String address = &quot;1.1.1.1&quot;;\n    System.out.println(address.replaceAll(&quot;[.]&quot;,&quot;[.]&quot;));\n}\n</code></pre>\n<p>if anything is missed please add :)</p>\n"}],"owner":{"account_id":2884250,"reputation":1641,"user_id":2474498,"accept_rate":71,"display_name":"GDanger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18640460,"answer_count":3,"score":9,"last_activity_date":1638857869,"creation_date":1378395138,"question_id":18640437,"body_markdown":"I&#39;m trying to use some regex in Java and I came across this when debugging my code.\r\n\r\nWhat&#39;s the difference between `[.]` and `.`?\r\n\r\nI was surprised that `.at` would match &quot;cat&quot; but `[.]at` wouldn&#39;t.","title":"Java regex &quot;[.]&quot; vs &quot;.&quot;","body":"<p>I'm trying to use some regex in Java and I came across this when debugging my code.</p>\n\n<p>What's the difference between <code>[.]</code> and <code>.</code>?</p>\n\n<p>I was surprised that <code>.at</code> would match \"cat\" but <code>[.]at</code> wouldn't.</p>\n"},{"tags":["java","weblogic","java-heap"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1638860787,"post_id":70255644,"comment_id":124193383,"body_markdown":"You claim to not store any data in the loop.  However, you are adding CensusData object to your list, thus storing data in memory.","body":"You claim to not store any data in the loop.  However, you are adding CensusData object to your list, thus storing data in memory."},{"owner":{"account_id":15912336,"reputation":27,"user_id":11481951,"display_name":"reza"},"score":0,"creation_date":1638861492,"post_id":70255644,"comment_id":124193589,"body_markdown":"i mean i&#39;m not creating new instance of list inside the loop. just adding to the existed one. besides i have no choice. what can i do?","body":"i mean i&#39;m not creating new instance of list inside the loop. just adding to the existed one. besides i have no choice. what can i do?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1638885180,"post_id":70255644,"comment_id":124202394,"body_markdown":"Store it in database?","body":"Store it in database?"},{"owner":{"account_id":15912336,"reputation":27,"user_id":11481951,"display_name":"reza"},"score":0,"creation_date":1638940943,"post_id":70255644,"comment_id":124218786,"body_markdown":"no. i need to create an instance of `CensusData` out of each line of the text file. that&#39;s why i add to the list in each iteration","body":"no. i need to create an instance of <code>CensusData</code> out of each line of the text file. that&#39;s why i add to the list in each iteration"}],"owner":{"account_id":15912336,"reputation":27,"user_id":11481951,"display_name":"reza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638857620,"creation_date":1638857620,"question_id":70255644,"body_markdown":"i&#39;m using weblogic and java ee. when i try to read a text file (about 100mb) and create an array out of it, java heap size exceeds and weblogic goes down. \r\ni use `scanner` to avoid reading file in memory and also try not to create any new variable inside the loop to prevent java heap error. but unfortunately i get that error and get `weblogic exit on panic` message in the console and it breaks down.\r\n\r\n    public static CensusData[] load(String path) throws Exception {\r\n            List&lt;CensusData&gt; list = new ArrayList&lt;&gt;(43);\r\n            String s;\r\n            try (FileInputStream inputStream = new FileInputStream(path); Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;)) {\r\n                while (sc.hasNextLine()) {\r\n                     s=sc.nextLine();\r\n                    list.add(new CensusData(Integer.parseInt(s.split(&quot;,&quot;)[0].trim()),\r\n                            s.split(&quot;,&quot;)[1].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[2].trim()),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[3].trim()),\r\n                            s.split(&quot;,&quot;)[4].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[5].trim()),\r\n                            s.split(&quot;,&quot;)[6].trim(),\r\n                            s.split(&quot;,&quot;)[7].trim(),\r\n                            s.split(&quot;,&quot;)[8].trim(),\r\n                            s.split(&quot;,&quot;)[9].trim(),\r\n                            s.split(&quot;,&quot;)[10].trim(),\r\n                            s.split(&quot;,&quot;)[11].trim(),\r\n                            s.split(&quot;,&quot;)[12].trim(),\r\n                            s.split(&quot;,&quot;)[13].trim(),\r\n                            s.split(&quot;,&quot;)[14].trim(),\r\n                            s.split(&quot;,&quot;)[15].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[16].trim()),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[17].trim()),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[18].trim()),\r\n                            s.split(&quot;,&quot;)[19].trim(),\r\n                            s.split(&quot;,&quot;)[20].trim(),\r\n                            s.split(&quot;,&quot;)[21].trim(),\r\n                            s.split(&quot;,&quot;)[22].trim(),\r\n                            s.split(&quot;,&quot;)[24].trim(),\r\n                            s.split(&quot;,&quot;)[25].trim(),\r\n                            s.split(&quot;,&quot;)[26].trim(),\r\n                            s.split(&quot;,&quot;)[27].trim(),\r\n                            s.split(&quot;,&quot;)[28].trim(),\r\n                            s.split(&quot;,&quot;)[29].trim(),\r\n                            s.split(&quot;,&quot;)[30].trim(),\r\n                            s.split(&quot;,&quot;)[31].trim(),\r\n                            s.split(&quot;,&quot;)[32].trim(),\r\n                            s.split(&quot;,&quot;)[33].trim(),\r\n                            s.split(&quot;,&quot;)[34].trim(),\r\n                            s.split(&quot;,&quot;)[35].trim(),\r\n                            s.split(&quot;,&quot;)[36].trim(),\r\n                            s.split(&quot;,&quot;)[37].trim(),\r\n                            s.split(&quot;,&quot;)[38].trim(),\r\n                            Integer.parseInt(s.split(&quot;,&quot;)[39].trim()),\r\n                            s.split(&quot;,&quot;)[40].trim()));\r\n                }\r\n                // note that Scanner suppresses exceptions\r\n                if (sc.ioException() != null) {\r\n                    throw sc.ioException();\r\n                }\r\n            } catch (Exception e) {\r\n               e.printStackTrace();\r\n            }\r\n\r\n \r\ni know increasing Xmx size will help (which in my case will not), i&#39;m looking for a real solution. why heap size is exceeded while i&#39;m not storing any new instance inside the loop?\r\n\r\nalso consider the case. i need to get an array of ```CensusData``` out of the file.\r\ntherefore i iterate each line of the text file and split it to get necessary data for creating that array.","title":"java heap error while reading a file line by line inside a while loop","body":"<p>i'm using weblogic and java ee. when i try to read a text file (about 100mb) and create an array out of it, java heap size exceeds and weblogic goes down.\ni use <code>scanner</code> to avoid reading file in memory and also try not to create any new variable inside the loop to prevent java heap error. but unfortunately i get that error and get <code>weblogic exit on panic</code> message in the console and it breaks down.</p>\n<pre><code>public static CensusData[] load(String path) throws Exception {\n        List&lt;CensusData&gt; list = new ArrayList&lt;&gt;(43);\n        String s;\n        try (FileInputStream inputStream = new FileInputStream(path); Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;)) {\n            while (sc.hasNextLine()) {\n                 s=sc.nextLine();\n                list.add(new CensusData(Integer.parseInt(s.split(&quot;,&quot;)[0].trim()),\n                        s.split(&quot;,&quot;)[1].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[2].trim()),\n                        Integer.parseInt(s.split(&quot;,&quot;)[3].trim()),\n                        s.split(&quot;,&quot;)[4].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[5].trim()),\n                        s.split(&quot;,&quot;)[6].trim(),\n                        s.split(&quot;,&quot;)[7].trim(),\n                        s.split(&quot;,&quot;)[8].trim(),\n                        s.split(&quot;,&quot;)[9].trim(),\n                        s.split(&quot;,&quot;)[10].trim(),\n                        s.split(&quot;,&quot;)[11].trim(),\n                        s.split(&quot;,&quot;)[12].trim(),\n                        s.split(&quot;,&quot;)[13].trim(),\n                        s.split(&quot;,&quot;)[14].trim(),\n                        s.split(&quot;,&quot;)[15].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[16].trim()),\n                        Integer.parseInt(s.split(&quot;,&quot;)[17].trim()),\n                        Integer.parseInt(s.split(&quot;,&quot;)[18].trim()),\n                        s.split(&quot;,&quot;)[19].trim(),\n                        s.split(&quot;,&quot;)[20].trim(),\n                        s.split(&quot;,&quot;)[21].trim(),\n                        s.split(&quot;,&quot;)[22].trim(),\n                        s.split(&quot;,&quot;)[24].trim(),\n                        s.split(&quot;,&quot;)[25].trim(),\n                        s.split(&quot;,&quot;)[26].trim(),\n                        s.split(&quot;,&quot;)[27].trim(),\n                        s.split(&quot;,&quot;)[28].trim(),\n                        s.split(&quot;,&quot;)[29].trim(),\n                        s.split(&quot;,&quot;)[30].trim(),\n                        s.split(&quot;,&quot;)[31].trim(),\n                        s.split(&quot;,&quot;)[32].trim(),\n                        s.split(&quot;,&quot;)[33].trim(),\n                        s.split(&quot;,&quot;)[34].trim(),\n                        s.split(&quot;,&quot;)[35].trim(),\n                        s.split(&quot;,&quot;)[36].trim(),\n                        s.split(&quot;,&quot;)[37].trim(),\n                        s.split(&quot;,&quot;)[38].trim(),\n                        Integer.parseInt(s.split(&quot;,&quot;)[39].trim()),\n                        s.split(&quot;,&quot;)[40].trim()));\n            }\n            // note that Scanner suppresses exceptions\n            if (sc.ioException() != null) {\n                throw sc.ioException();\n            }\n        } catch (Exception e) {\n           e.printStackTrace();\n        }\n</code></pre>\n<p>i know increasing Xmx size will help (which in my case will not), i'm looking for a real solution. why heap size is exceeded while i'm not storing any new instance inside the loop?</p>\n<p>also consider the case. i need to get an array of <code>CensusData</code> out of the file.\ntherefore i iterate each line of the text file and split it to get necessary data for creating that array.</p>\n"},{"tags":["java","android","arrays"],"answers":[{"tags":[],"owner":{"account_id":48759,"reputation":16097,"user_id":144969,"display_name":"Dimitar Dimitrov"},"down_vote_count":0,"up_vote_count":231,"is_accepted":true,"score":231,"last_activity_date":1427287088,"creation_date":1268740786,"answer_id":2454084,"question_id":2453989,"body_markdown":"You can&#39;t initialize your `testArray` field this way, because the application resources still aren&#39;t ready.\r\n\r\nJust change the code to:\r\n\r\n    package com.xtensivearts.episode.seven;\r\n    \r\n    import android.app.ListActivity;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n   \r\n    public class Episode7 extends ListActivity {\r\n        String[] mTestArray;\r\n    \r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        \r\n            // Create an ArrayAdapter that will contain all list items\r\n            ArrayAdapter&lt;String&gt; adapter;\r\n    \r\n            mTestArray = getResources().getStringArray(R.array.testArray);    \r\n\r\n            /* Assign the name array to that adapter and \r\n            also choose a simple layout for the list items */ \r\n            adapter = new ArrayAdapter&lt;String&gt;(\r\n                this,\r\n                android.R.layout.simple_list_item_1,\r\n                mTestArray);\r\n    \r\n            // Assign the adapter to this ListActivity\r\n            setListAdapter(adapter);\r\n        }\r\n    }\r\n\r\n","title":"How to get String Array from arrays.xml file","body":"<p>You can't initialize your <code>testArray</code> field this way, because the application resources still aren't ready.</p>\n\n<p>Just change the code to:</p>\n\n<pre><code>package com.xtensivearts.episode.seven;\n\nimport android.app.ListActivity;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\n\npublic class Episode7 extends ListActivity {\n    String[] mTestArray;\n\n    /** Called when the activity is first created. */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Create an ArrayAdapter that will contain all list items\n        ArrayAdapter&lt;String&gt; adapter;\n\n        mTestArray = getResources().getStringArray(R.array.testArray);    \n\n        /* Assign the name array to that adapter and \n        also choose a simple layout for the list items */ \n        adapter = new ArrayAdapter&lt;String&gt;(\n            this,\n            android.R.layout.simple_list_item_1,\n            mTestArray);\n\n        // Assign the adapter to this ListActivity\n        setListAdapter(adapter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209242,"reputation":2440,"user_id":460156,"accept_rate":64,"display_name":"HaMMeReD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292626675,"creation_date":1292626675,"answer_id":4475484,"question_id":2453989,"body_markdown":"Your XML is not entirely clear, but arrays XML can cause force closes if you make them numbers, and/or put white space in their definition.\r\n\r\nMake sure they are defined like &lt;this&gt;No Leading or Trailing Whitespace&lt;/this&gt;","title":"How to get String Array from arrays.xml file","body":"<p>Your XML is not entirely clear, but arrays XML can cause force closes if you make them numbers, and/or put white space in their definition.</p>\n\n<p>Make sure they are defined like No Leading or Trailing Whitespace</p>\n"},{"tags":[],"owner":{"account_id":1663845,"reputation":20579,"user_id":1531657,"accept_rate":55,"display_name":"Muhammad Aamir Ali"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1354001067,"creation_date":1354001067,"answer_id":13579275,"question_id":2453989,"body_markdown":"Your array.xml is not right. change it to like this\r\n\r\nHere is array.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\n    &lt;resources&gt;  \r\n        &lt;string-array name=&quot;testArray&quot;&gt;  \r\n            &lt;item&gt;first&lt;/item&gt;  \r\n            &lt;item&gt;second&lt;/item&gt;  \r\n            &lt;item&gt;third&lt;/item&gt;  \r\n            &lt;item&gt;fourth&lt;/item&gt;  \r\n            &lt;item&gt;fifth&lt;/item&gt;  \r\n       &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n","title":"How to get String Array from arrays.xml file","body":"<p>Your array.xml is not right. change it to like this</p>\n\n<p>Here is array.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n&lt;resources&gt;  \n    &lt;string-array name=\"testArray\"&gt;  \n        &lt;item&gt;first&lt;/item&gt;  \n        &lt;item&gt;second&lt;/item&gt;  \n        &lt;item&gt;third&lt;/item&gt;  \n        &lt;item&gt;fourth&lt;/item&gt;  \n        &lt;item&gt;fifth&lt;/item&gt;  \n   &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21159740,"reputation":83,"user_id":15558237,"display_name":"rama-void"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638857418,"creation_date":1638857418,"answer_id":70255622,"question_id":2453989,"body_markdown":"You can also get the string array from xml as ArrayList&lt;String&gt; by the following code\r\n\r\nxml array: \r\n\r\n        &lt;string-array name=&quot;testArray&quot;&gt;  \r\n            &lt;item&gt;first&lt;/item&gt;  \r\n            &lt;item&gt;second&lt;/item&gt;  \r\n            &lt;item&gt;third&lt;/item&gt;  \r\n            &lt;item&gt;fourth&lt;/item&gt;  \r\n            &lt;item&gt;fifth&lt;/item&gt;  \r\n       &lt;/string-array&gt;\r\n\r\nkotlin code:\r\n\r\n    val stringArray: ArrayList&lt;String&gt; =  resources.getStringArray(R.array.testArray).toList() as ArrayList&lt;String&gt;","title":"How to get String Array from arrays.xml file","body":"<p>You can also get the string array from xml as ArrayList by the following code</p>\n<p>xml array:</p>\n<pre><code>    &lt;string-array name=&quot;testArray&quot;&gt;  \n        &lt;item&gt;first&lt;/item&gt;  \n        &lt;item&gt;second&lt;/item&gt;  \n        &lt;item&gt;third&lt;/item&gt;  \n        &lt;item&gt;fourth&lt;/item&gt;  \n        &lt;item&gt;fifth&lt;/item&gt;  \n   &lt;/string-array&gt;\n</code></pre>\n<p>kotlin code:</p>\n<pre><code>val stringArray: ArrayList&lt;String&gt; =  resources.getStringArray(R.array.testArray).toList() as ArrayList&lt;String&gt;\n</code></pre>\n"}],"owner":{"account_id":111588,"reputation":1747,"user_id":294703,"accept_rate":50,"display_name":"Soren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239195,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":2454084,"answer_count":4,"score":126,"last_activity_date":1638857418,"creation_date":1268739922,"question_id":2453989,"body_markdown":"I am just trying to display a list from an array that I have in my `arrays.xml`. When I try to run it in the emulator, I get a force close message. \r\n\r\nIf I define the array in the java file \r\n\r\n    String[] testArray = new String[] {&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;etc&quot;};\r\n\r\nit works, but when I use \r\n\r\n    String[] testArray = getResources().getStringArray(R.array.testArray);\r\n\r\nit doesnt work.\r\n\r\nHere is my Java file:\r\n\r\n    package com.xtensivearts.episode.seven;\r\n    \r\n    import android.app.ListActivity;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n    \r\n    public class Episode7 extends ListActivity {\r\n     String[] testArray = getResources().getStringArray(R.array.testArray);\r\n     \r\n     /** Called when the activity is first created. */\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n      super.onCreate(savedInstanceState);\r\n    \r\n      // Create an ArrayAdapter that will contain all list items\r\n      ArrayAdapter&lt;String&gt; adapter;\r\n      \r\n      /* Assign the name array to that adapter and \r\n         also choose a simple layout for the list items */ \r\n      adapter = new ArrayAdapter&lt;String&gt;(\r\n        this,\r\n        android.R.layout.simple_list_item_1,\r\n        testArray);\r\n      \r\n      // Assign the adapter to this ListActivity\r\n      setListAdapter(adapter);\r\n     }\r\n    \r\n     \r\n    }\r\n\r\nHere is my `arrays.xml` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\n    &lt;resources&gt;  \r\n      &lt;array name=&quot;testArray&quot;&gt;  \r\n        &lt;item&gt;first&lt;/item&gt;  \r\n        &lt;item&gt;second&lt;/item&gt;  \r\n        &lt;item&gt;third&lt;/item&gt;  \r\n        &lt;item&gt;fourth&lt;/item&gt;  \r\n        &lt;item&gt;fifth&lt;/item&gt;  \r\n      &lt;/array&gt;\r\n    &lt;/resources&gt;\r\n","title":"How to get String Array from arrays.xml file","body":"<p>I am just trying to display a list from an array that I have in my <code>arrays.xml</code>. When I try to run it in the emulator, I get a force close message. </p>\n\n<p>If I define the array in the java file </p>\n\n<pre><code>String[] testArray = new String[] {\"one\",\"two\",\"three\",\"etc\"};\n</code></pre>\n\n<p>it works, but when I use </p>\n\n<pre><code>String[] testArray = getResources().getStringArray(R.array.testArray);\n</code></pre>\n\n<p>it doesnt work.</p>\n\n<p>Here is my Java file:</p>\n\n<pre><code>package com.xtensivearts.episode.seven;\n\nimport android.app.ListActivity;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\n\npublic class Episode7 extends ListActivity {\n String[] testArray = getResources().getStringArray(R.array.testArray);\n\n /** Called when the activity is first created. */\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n\n  super.onCreate(savedInstanceState);\n\n  // Create an ArrayAdapter that will contain all list items\n  ArrayAdapter&lt;String&gt; adapter;\n\n  /* Assign the name array to that adapter and \n     also choose a simple layout for the list items */ \n  adapter = new ArrayAdapter&lt;String&gt;(\n    this,\n    android.R.layout.simple_list_item_1,\n    testArray);\n\n  // Assign the adapter to this ListActivity\n  setListAdapter(adapter);\n }\n\n\n}\n</code></pre>\n\n<p>Here is my <code>arrays.xml</code> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n&lt;resources&gt;  \n  &lt;array name=\"testArray\"&gt;  \n    &lt;item&gt;first&lt;/item&gt;  \n    &lt;item&gt;second&lt;/item&gt;  \n    &lt;item&gt;third&lt;/item&gt;  \n    &lt;item&gt;fourth&lt;/item&gt;  \n    &lt;item&gt;fifth&lt;/item&gt;  \n  &lt;/array&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":1,"creation_date":1638859754,"post_id":70255611,"comment_id":124193122,"body_markdown":"please check this answer,https://stackoverflow.com/questions/66641751/couldnt-attach-file-send-email-android-11","body":"please check this answer,<a href=\"https://stackoverflow.com/questions/66641751/couldnt-attach-file-send-email-android-11\" title=\"couldnt attach file send email android 11\">stackoverflow.com/questions/66641751/&hellip;</a>"}],"owner":{"account_id":18480076,"reputation":11,"user_id":13462467,"display_name":"Alam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638857306,"creation_date":1638857306,"question_id":70255611,"body_markdown":"  Intent intentShareFile = new \r\n  Intent(Intent.ACTION_SEND);\r\n \r\n \r\n intentShareFile.putExtra(Intent.EXTRA_EMAIL, new String[] {mailTo});\r\n    File fileWithinMyDir = new File(path);\r\n    \r\n    if(fileWithinMyDir.exists()) {\r\n        intentShareFile.setType(&quot;application/pdf&quot;);\r\n        intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myfile));\r\n\t\t\r\n    \r\n        intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\r\n    \t\t\t\t\t\t&quot;SUBJECT&quot;);\r\n        intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;MESSAGE&quot;);\r\n\t\tintentShareFile.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\t\tintentShareFile.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n    \r\n        startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\r\n    }\r\n\r\n - List item","title":"How can i attach pdf file from my internel storage to gmail app programatically","body":"<p>Intent intentShareFile = new\nIntent(Intent.ACTION_SEND);</p>\n<p>intentShareFile.putExtra(Intent.EXTRA_EMAIL, new String[] {mailTo});\nFile fileWithinMyDir = new File(path);</p>\n<pre><code>if(fileWithinMyDir.exists()) {\n    intentShareFile.setType(&quot;application/pdf&quot;);\n    intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myfile));\n    \n\n    intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\n                        &quot;SUBJECT&quot;);\n    intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;MESSAGE&quot;);\n    intentShareFile.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    intentShareFile.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n\n    startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\n}\n</code></pre>\n<ul>\n<li>List item</li>\n</ul>\n"},{"tags":["java","enums","getter-setter","pojo"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1638854697,"post_id":70255274,"comment_id":124192085,"body_markdown":"You have already done that successfully. When your enum class first loads, each of the named objects will be instantiated. As part of that instantiation a new subject that presumably is a subclass of `EventType` will be stored on the member field named `eventType`. (By the way, you might want to make that field `private`.) And you have a getter method to retrieve that `EventType` object.  `EventType et = EventTypeName.CUSTOMER_EVENT.getEventType() ;`  So what is your question?","body":"You have already done that successfully. When your enum class first loads, each of the named objects will be instantiated. As part of that instantiation a new subject that presumably is a subclass of <code>EventType</code> will be stored on the member field named <code>eventType</code>. (By the way, you might want to make that field <code>private</code>.) And you have a getter method to retrieve that <code>EventType</code> object.  <code>EventType et = EventTypeName.CUSTOMER_EVENT.getEventType() ;</code>  So what is your question?"},{"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"score":0,"creation_date":1638855562,"post_id":70255274,"comment_id":124192236,"body_markdown":"It should not be this way                                                                  \n    MAIN_EVENT(new MainEvent()),\n    MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),\n    CUSTOMER_EVENT(new CustomerEvent()),                                                                         These should be created automatically when we call from others and the object should get assigned @BasilBourque","body":"It should not be this way                                                                       MAIN_EVENT(new MainEvent()),     MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),     CUSTOMER_EVENT(new CustomerEvent()),                                                                         These should be created automatically when we call from others and the object should get assigned @BasilBourque"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1638855645,"post_id":70255274,"comment_id":124192249,"body_markdown":"You can&#39;t dynamically create `enum` instances. enum can only be used if it is known at compile time what instances / values there are.","body":"You can&#39;t dynamically create <code>enum</code> instances. enum can only be used if it is known at compile time what instances / values there are."},{"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"score":0,"creation_date":1638855831,"post_id":70255274,"comment_id":124192288,"body_markdown":"Can we make it done in any other way to make it create dynamically. My requirement is to make it create dynamically","body":"Can we make it done in any other way to make it create dynamically. My requirement is to make it create dynamically"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638855860,"post_id":70255274,"comment_id":124192299,"body_markdown":"Do you mean that you want each call to the `getEventType` method should return a new instance of one of the three subclasses? If so, that is possible,  but is likely a poor use of an enum.","body":"Do you mean that you want each call to the <code>getEventType</code> method should return a new instance of one of the three subclasses? If so, that is possible,  but is likely a poor use of an enum."},{"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"score":0,"creation_date":1638856146,"post_id":70255274,"comment_id":124192345,"body_markdown":"Yes my requirement is that way for now.. let me know incase any possibilities @BasilBourque","body":"Yes my requirement is that way for now.. let me know incase any possibilities @BasilBourque"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638857296,"creation_date":1638856196,"answer_id":70255479,"question_id":70255274,"body_markdown":"Apparently you want to instante a new subclass of `EventType` for each of the various enum objects, when the `getEventType` method is called. \r\n\r\nIn this situation, do not name your method with `get` prefix. In commonly used JavaBeans conventions, such a prefix indicates an accessory method to retrieve a property of the object. Given your intentions, a prefix of `new` or `make` may be more appropriate.\r\n\r\n\r\n```java\r\n\r\npublic enum EventTypeName\r\n{\r\n    MAIN_EVENT , MAIN_ADJUSTMENT_EVENT , CUSTOMER_EVENT ;\r\n\r\n    // Assumes MainEvent, MainAdjustmentEvent, and CustomerEvent are all subclasses of EventType. \r\n    public EventType makeEventType()\r\n    {\r\n        if ( this.equals( MAIN_EVENT ) ) { return new MainEvent() ; }\r\n        if ( this.equals( MAIN_ADJUSTMENT_EVENT ) ) { return new MainAdjustmentEvent() ; }\r\n        if ( this.equals( CUSTOMER_EVENT ) ) { return new CustomerEvent() ; }\r\n    }\r\n}\r\n```\r\n\r\nUsage.\r\n\r\n    EventType eventType = EventTypeName.MAIN_ADJUSTMENT_EVENT.makeEventType() ;\r\n\r\n\r\n----------\r\n\r\n\r\nI get an unsettled feeling from looking at your code, suspecting a poor or flawed design. Likely from a misunderstanding of enums in Java. An enum should not be considered as a collection. You cannot define additional enum objects at runtime; they are defined at compile-time.","title":"How to create getters and setters for enum","body":"<p>Apparently you want to instante a new subclass of <code>EventType</code> for each of the various enum objects, when the <code>getEventType</code> method is called.</p>\n<p>In this situation, do not name your method with <code>get</code> prefix. In commonly used JavaBeans conventions, such a prefix indicates an accessory method to retrieve a property of the object. Given your intentions, a prefix of <code>new</code> or <code>make</code> may be more appropriate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic enum EventTypeName\n{\n    MAIN_EVENT , MAIN_ADJUSTMENT_EVENT , CUSTOMER_EVENT ;\n\n    // Assumes MainEvent, MainAdjustmentEvent, and CustomerEvent are all subclasses of EventType. \n    public EventType makeEventType()\n    {\n        if ( this.equals( MAIN_EVENT ) ) { return new MainEvent() ; }\n        if ( this.equals( MAIN_ADJUSTMENT_EVENT ) ) { return new MainAdjustmentEvent() ; }\n        if ( this.equals( CUSTOMER_EVENT ) ) { return new CustomerEvent() ; }\n    }\n}\n</code></pre>\n<p>Usage.</p>\n<pre><code>EventType eventType = EventTypeName.MAIN_ADJUSTMENT_EVENT.makeEventType() ;\n</code></pre>\n<hr />\n<p>I get an unsettled feeling from looking at your code, suspecting a poor or flawed design. Likely from a misunderstanding of enums in Java. An enum should not be considered as a collection. You cannot define additional enum objects at runtime; they are defined at compile-time.</p>\n"}],"owner":{"account_id":22636179,"reputation":11,"user_id":16812957,"display_name":"Fahd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1638857296,"creation_date":1638854302,"question_id":70255274,"body_markdown":"    public enum EventTypeName\r\n    {\r\n        MAIN_EVENT(new MainEvent()),\r\n        MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),\r\n        CUSTOMER_EVENT(new CustomerEvent()),\r\n         EventType eventType;\r\n    \r\n        private EventTypeName(EventType eventType)\r\n        {\r\n            this.eventType = eventType;\r\n        }\r\n    \r\n        public EventType getEventType()\r\n        {\r\n            return eventType;\r\n        }\r\n    }\r\n\r\n\r\nI need to make getters and getters and setters for all new events to be declared in enum.\r\n\r\n","title":"How to create getters and setters for enum","body":"<pre><code>public enum EventTypeName\n{\n    MAIN_EVENT(new MainEvent()),\n    MAIN_ADJUSTMENT_EVENT(new MainAdjustmentEvent()),\n    CUSTOMER_EVENT(new CustomerEvent()),\n     EventType eventType;\n\n    private EventTypeName(EventType eventType)\n    {\n        this.eventType = eventType;\n    }\n\n    public EventType getEventType()\n    {\n        return eventType;\n    }\n}\n</code></pre>\n<p>I need to make getters and getters and setters for all new events to be declared in enum.</p>\n"},{"tags":["java","war"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1638857047,"post_id":70255541,"comment_id":124192527,"body_markdown":"A war file has a specific format; you cannot add arbitrary subdirectories. A JavaEE application server looks in certain places for certain things. https://en.m.wikipedia.org/wiki/WAR_(file_format). The file you have is not a war file.","body":"A war file has a specific format; you cannot add arbitrary subdirectories. A JavaEE application server looks in certain places for certain things. <a href=\"https://en.m.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/WAR_(file_format)</a>. The file you have is not a war file."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1638859725,"post_id":70255541,"comment_id":124193111,"body_markdown":"In short ... they messed up.  Bounce this back to the people who sent you that &quot;not really a WAR&quot; file.","body":"In short ... they messed up.  Bounce this back to the people who sent you that &quot;not really a WAR&quot; file."}],"owner":{"account_id":21737564,"reputation":49,"user_id":16045350,"display_name":"Chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638856742,"creation_date":1638856742,"question_id":70255541,"body_markdown":"I have been asked to update an existing system before it is redeployed. Unfortunately, I don&#39;t have access to the source for the update - someone else has to get the full package, extract the bit I&#39;ll use (a .war file), and then send just that bit to me. My job is to modify the makefile to use the new version, and make any code changes needed to address compatibility issues.\r\n\r\nIn the last four versions I received the contents of the .war were all standard, but the latest file has everything contained in an extra folder in the root. The difference between the two is like this:\r\n\r\n[![Two directory trees, one of which contains an extra folder between the root and the first branches][1]][1]\r\n\r\nI assumed what I&#39;d been sent was good and I was just messing up the makefile, but I&#39;m starting to wonder if that&#39;s not the case. The big thing I&#39;m noticing is that in version 2.1, the paths referenced in the web.xml file don&#39;t seem to acknowledge the additional folder. For instance, there&#39;s a reference to a config file, but it&#39;s pointing at `/WEB-INF/unit4.properties` instead of `/software/WEB-INF/unit4.properties`\r\n\r\nIs the file I&#39;ve received likely fine, or is this something unusual? And if I do need to alter what I received, is there anything I&#39;ll need to do when modifying the .war beyond just extracting it to a folder, changing the directory, then zipping it back up and renaming it as a .war file?\r\n\r\n  [1]: https://i.stack.imgur.com/rbXrz.png","title":"Does this nonstandard .war file require modification?","body":"<p>I have been asked to update an existing system before it is redeployed. Unfortunately, I don't have access to the source for the update - someone else has to get the full package, extract the bit I'll use (a .war file), and then send just that bit to me. My job is to modify the makefile to use the new version, and make any code changes needed to address compatibility issues.</p>\n<p>In the last four versions I received the contents of the .war were all standard, but the latest file has everything contained in an extra folder in the root. The difference between the two is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/rbXrz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rbXrz.png\" alt=\"Two directory trees, one of which contains an extra folder between the root and the first branches\" /></a></p>\n<p>I assumed what I'd been sent was good and I was just messing up the makefile, but I'm starting to wonder if that's not the case. The big thing I'm noticing is that in version 2.1, the paths referenced in the web.xml file don't seem to acknowledge the additional folder. For instance, there's a reference to a config file, but it's pointing at <code>/WEB-INF/unit4.properties</code> instead of <code>/software/WEB-INF/unit4.properties</code></p>\n<p>Is the file I've received likely fine, or is this something unusual? And if I do need to alter what I received, is there anything I'll need to do when modifying the .war beyond just extracting it to a folder, changing the directory, then zipping it back up and renaming it as a .war file?</p>\n"},{"tags":["java","dictionary","java-8","stream","option-type"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1638856438,"post_id":70255486,"comment_id":124192408,"body_markdown":"Don’t use raw types. `List&lt;A&gt;` has a raw type as `A` is generic. Raw types and type inference don’t play nice!","body":"Don’t use raw types. <code>List&lt;A&gt;</code> has a raw type as <code>A</code> is generic. Raw types and type inference don’t play nice!"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1638856659,"post_id":70255486,"comment_id":124192451,"body_markdown":"The raw type `A` in `List&lt;A&gt;` causes you to lose all generic information, including the return type on `getOp()`, even if it&#39;s unrelated to `T`. Also, `Optional&lt;Integer&gt; getOp()` *smells* when the enclosing type is `A&lt;T&gt;`. Shouldn&#39;t it be having something to do with `Optional&lt;T&gt;`?","body":"The raw type <code>A</code> in <code>List&lt;A&gt;</code> causes you to lose all generic information, including the return type on <code>getOp()</code>, even if it&#39;s unrelated to <code>T</code>. Also, <code>Optional&lt;Integer&gt; getOp()</code> <i>smells</i> when the enclosing type is <code>A&lt;T&gt;</code>. Shouldn&#39;t it be having something to do with <code>Optional&lt;T&gt;</code>?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638857099,"post_id":70255486,"comment_id":124192539,"body_markdown":"What about using `List&lt;A&lt;?&gt;&gt;` instead of `List&lt;A&gt;`?","body":"What about using <code>List&lt;A&lt;?&gt;&gt;</code> instead of <code>List&lt;A&gt;</code>?"},{"owner":{"account_id":4094869,"reputation":126,"user_id":3361953,"display_name":"petyanca"},"score":0,"creation_date":1638857128,"post_id":70255486,"comment_id":124192547,"body_markdown":"It&#39;s just an example when a generic has a method not dependent on generic type parameter. Real example looks like `class A implements Iterable&lt;B&gt;` where `B` is a generic interface. So `A` declaration uses &quot;raw interface&quot; as type parameter. I&#39;ll read up on this. Thanks!","body":"It&#39;s just an example when a generic has a method not dependent on generic type parameter. Real example looks like <code>class A implements Iterable&lt;B&gt;</code> where <code>B</code> is a generic interface. So <code>A</code> declaration uses &quot;raw interface&quot; as type parameter. I&#39;ll read up on this. Thanks!"},{"owner":{"account_id":4094869,"reputation":126,"user_id":3361953,"display_name":"petyanca"},"score":0,"creation_date":1638857358,"post_id":70255486,"comment_id":124192601,"body_markdown":"@dan1st it works)","body":"@dan1st it works)"},{"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"score":0,"creation_date":1638868840,"post_id":70255486,"comment_id":124196012,"body_markdown":"@dan1st `List&lt;A&gt;` and `List&lt;A&lt;?&gt;&gt;` are the same. You might want to use `List&lt;A&lt;T&gt;&gt;` instead. It is not clear to me what you need the `T` for, though.","body":"@dan1st <code>List&lt;A&gt;</code> and <code>List&lt;A&lt;?&gt;&gt;</code> are the same. You might want to use <code>List&lt;A&lt;T&gt;&gt;</code> instead. It is not clear to me what you need the <code>T</code> for, though."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":3,"creation_date":1638873210,"post_id":70255486,"comment_id":124197604,"body_markdown":"It is not the same. `A` is a raw type and `A&lt;?&gt;` is a wildcard generic type. It seems that the raw type was the problem.","body":"It is not the same. <code>A</code> is a raw type and <code>A&lt;?&gt;</code> is a wildcard generic type. It seems that the raw type was the problem."}],"owner":{"account_id":4094869,"reputation":126,"user_id":3361953,"display_name":"petyanca"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638856240,"creation_date":1638856240,"question_id":70255486,"body_markdown":"I had a compiler problem which I was able to reduce to this example. This code\r\n```\r\nclass A&lt;T&gt; {\r\n    Optional&lt;Integer&gt; op;\r\n\r\n    public Optional&lt;Integer&gt; getOp() {\r\n        return op;\r\n    }\r\n}\r\nList&lt;A&gt; l = null;\r\nl.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\r\n```\r\ndoesn&#39;t compile with\r\n\r\n```\r\nerror: incompatible types: inference variable T has incompatible bounds\r\n    [javac]         l.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\r\n    [javac]                                                                             ^\r\n```\r\n\r\nIf I remove generic parameter `&lt;T&gt;` (which is not used in the class at all) then this snippet compiles. What is going on here? I&#39;m using Java 8.","title":"Map on stream of Optionals type","body":"<p>I had a compiler problem which I was able to reduce to this example. This code</p>\n<pre><code>class A&lt;T&gt; {\n    Optional&lt;Integer&gt; op;\n\n    public Optional&lt;Integer&gt; getOp() {\n        return op;\n    }\n}\nList&lt;A&gt; l = null;\nl.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\n</code></pre>\n<p>doesn't compile with</p>\n<pre><code>error: incompatible types: inference variable T has incompatible bounds\n    [javac]         l.stream().map(x -&gt; x.getOp().orElse(0)).max(Comparator.naturalOrder());\n    [javac]                                                                             ^\n</code></pre>\n<p>If I remove generic parameter <code>&lt;T&gt;</code> (which is not used in the class at all) then this snippet compiles. What is going on here? I'm using Java 8.</p>\n"},{"tags":["java","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1638839698,"post_id":70253688,"comment_id":124189644,"body_markdown":"You can google ```bst delete node```","body":"You can google <code>bst delete node</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638847419,"post_id":70253688,"comment_id":124190891,"body_markdown":"Please learn that you’re supposed to search before posting a question here, and in your question account for what you found and in what way it was insufficient for answering your question. As @zysaaa seems to indicate, in this case you would likely have found your answer easily. There’s no need waiting around for hours for us to find it for you.","body":"Please learn that you’re supposed to search before posting a question here, and in your question account for what you found and in what way it was insufficient for answering your question. As @zysaaa seems to indicate, in this case you would likely have found your answer easily. There’s no need waiting around for hours for us to find it for you."}],"owner":{"account_id":22862852,"reputation":1,"user_id":17006642,"display_name":"JokerFever"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638847525,"answer_count":0,"score":0,"last_activity_date":1638855984,"creation_date":1638838165,"question_id":70253688,"body_markdown":"So, I recently got to know what binary search trees are, but I have one question. How do you delete a root of a binary search tree if it already has a right and a left? And those right and left, have their own respective right and left sides? I&#39;m still not sure how to do this, can someone help me","title":"Binary Search Tree Question about root deletion","body":"<p>So, I recently got to know what binary search trees are, but I have one question. How do you delete a root of a binary search tree if it already has a right and a left? And those right and left, have their own respective right and left sides? I'm still not sure how to do this, can someone help me</p>\n"},{"tags":["java","scala","shell","apache-spark","unix"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":1,"creation_date":1638901076,"post_id":70255440,"comment_id":124209193,"body_markdown":"Where are your different elements? Scripts? Cluster? Data? Remember: all needs to be accessible from everywhere.","body":"Where are your different elements? Scripts? Cluster? Data? Remember: all needs to be accessible from everywhere."}],"owner":{"account_id":9299080,"reputation":59,"user_id":6905168,"display_name":"mukesh dewangan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638855896,"creation_date":1638855896,"question_id":70255440,"body_markdown":"I have a Unix shell script that creates some files based on business logic. I have another project which is java spark based and we run it in cluster mode. By any chance can we call the shell script successfully without making any code changes in the shell script. Currently, it only works when I run the job in client mode.","title":"Run shell script using Spark cluster mode in the node where the spark submit is issued","body":"<p>I have a Unix shell script that creates some files based on business logic. I have another project which is java spark based and we run it in cluster mode. By any chance can we call the shell script successfully without making any code changes in the shell script. Currently, it only works when I run the job in client mode.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":12885724,"reputation":121,"user_id":9319290,"display_name":"Tobias Alt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638804128,"creation_date":1638803388,"answer_id":70247624,"question_id":70246611,"body_markdown":"For just showing Web-Content from an existing URL, I would recommend to implement an Android WebView.\r\n\r\nYour current popup-View is defined as Android TextView:\r\n\r\n    ((TextView) popupView.findViewById(R.id.contentView)).setText(content);\r\n\r\nChange this to a WebView (in the xml &quot;Design-/Layout-View&quot; Tool)\r\n\r\nFor an example look at Android Developer Docs https://developer.android.com/guide/webapps/webview\r\n\r\nIt is straigt forward to use, you can invoke JS if necessary.\r\n\r\nDont forget to change your manifest-file for permissions.\r\n\r\n    &lt;manifest ... &gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        ...\r\n    &lt;/manifest&gt;","title":"How can I change the Type GUI Element from TextView to HTMLView","body":"<p>For just showing Web-Content from an existing URL, I would recommend to implement an Android WebView.</p>\n<p>Your current popup-View is defined as Android TextView:</p>\n<pre><code>((TextView) popupView.findViewById(R.id.contentView)).setText(content);\n</code></pre>\n<p>Change this to a WebView (in the xml &quot;Design-/Layout-View&quot; Tool)</p>\n<p>For an example look at Android Developer Docs <a href=\"https://developer.android.com/guide/webapps/webview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/webapps/webview</a></p>\n<p>It is straigt forward to use, you can invoke JS if necessary.</p>\n<p>Dont forget to change your manifest-file for permissions.</p>\n<pre><code>&lt;manifest ... &gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":23518836,"reputation":11,"user_id":17566307,"display_name":"Irina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638854801,"creation_date":1638798942,"question_id":70246611,"body_markdown":"I have a code, that is a website and I need to write an App, that shows just this page.\r\nBut the problem is that my code didn&#39;t see the Hyperlinks because I need to change from TextView to HTMLView. \r\nthis is the code:\r\n\r\n        public class BlackBoardClient {\r\n        private static final String BLACK_BOARD_URL = &quot;https://zpa.cs.hm.edu/public/notice_board/&quot;;\r\n        private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n    \r\n        public static List&lt;BlackBoardEntry&gt; getBlackBoardEntries() throws IOException  {\r\n            List&lt;BlackBoardEntry&gt; entries = new ArrayList&lt;&gt;();\r\n            Document doc = Jsoup.connect(BLACK_BOARD_URL).get();\r\n            Element newsTable = doc.getElementById(&quot;content&quot;).selectFirst(&quot;table&quot;);\r\n            Iterable&lt;Element&gt; rows = newsTable.selectFirst(&quot;tbody&quot;).children();\r\n    \r\n            for (Element row : rows) {\r\n                Iterator&lt;Element&gt; columns = row.children().iterator();\r\n                String author = columns.next().text();\r\n                String title = columns.next().text();\r\n                String content = columns.next().text();\r\n                LocalDate validFrom = LocalDate.parse(columns.next().text(), FORMATTER);\r\n                LocalDate validUntil = LocalDate.parse(columns.next().text(), FORMATTER);\r\n                BlackBoardEntry entry = new BlackBoardEntry(author, title, content, validFrom, validUntil);\r\n                entries.add(entry);\r\n            }\r\n    \r\n            return entries;\r\n        }\r\n    }\r\n\r\nIt shows like this: [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IGask.png\r\n\r\n   \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ListView dataList = findViewById(R.id.dataList);\r\n    \r\n            dataList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    BlackBoardEntry entry = (BlackBoardEntry) parent.getItemAtPosition(position);\r\n                    String content = entry.getContent();\r\n                    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                    View popupView = inflater.inflate(R.layout.content_popup, null, false);\r\n                    ((TextView) popupView.findViewById(R.id.contentView)).setText(content);\r\n    \r\n                    PopupWindow popup = new PopupWindow(popupView, 500, 1000, true);\r\n                    popup.showAtLocation(parent, Gravity.CENTER, 0, 0);\r\n    \r\n    \r\n                    }\r\n            });\r\n    \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        List&lt;BlackBoardEntry&gt; entries = BlackBoardClient.getBlackBoardEntries();\r\n                        BlackBoardAdapter adapter = new BlackBoardAdapter(entries, getApplicationContext());\r\n                        dataList.post(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                dataList.setAdapter(adapter);\r\n                            }\r\n                        });\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n","title":"How can I change the Type GUI Element from TextView to HTMLView","body":"<p>I have a code, that is a website and I need to write an App, that shows just this page.\nBut the problem is that my code didn't see the Hyperlinks because I need to change from TextView to HTMLView.\nthis is the code:</p>\n<pre><code>    public class BlackBoardClient {\n    private static final String BLACK_BOARD_URL = &quot;https://zpa.cs.hm.edu/public/notice_board/&quot;;\n    private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    public static List&lt;BlackBoardEntry&gt; getBlackBoardEntries() throws IOException  {\n        List&lt;BlackBoardEntry&gt; entries = new ArrayList&lt;&gt;();\n        Document doc = Jsoup.connect(BLACK_BOARD_URL).get();\n        Element newsTable = doc.getElementById(&quot;content&quot;).selectFirst(&quot;table&quot;);\n        Iterable&lt;Element&gt; rows = newsTable.selectFirst(&quot;tbody&quot;).children();\n\n        for (Element row : rows) {\n            Iterator&lt;Element&gt; columns = row.children().iterator();\n            String author = columns.next().text();\n            String title = columns.next().text();\n            String content = columns.next().text();\n            LocalDate validFrom = LocalDate.parse(columns.next().text(), FORMATTER);\n            LocalDate validUntil = LocalDate.parse(columns.next().text(), FORMATTER);\n            BlackBoardEntry entry = new BlackBoardEntry(author, title, content, validFrom, validUntil);\n            entries.add(entry);\n        }\n\n        return entries;\n    }\n}\n</code></pre>\n<p>It shows like this: <a href=\"https://i.stack.imgur.com/IGask.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ListView dataList = findViewById(R.id.dataList);\n\n        dataList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                BlackBoardEntry entry = (BlackBoardEntry) parent.getItemAtPosition(position);\n                String content = entry.getContent();\n                LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n                View popupView = inflater.inflate(R.layout.content_popup, null, false);\n                ((TextView) popupView.findViewById(R.id.contentView)).setText(content);\n\n                PopupWindow popup = new PopupWindow(popupView, 500, 1000, true);\n                popup.showAtLocation(parent, Gravity.CENTER, 0, 0);\n\n\n                }\n        });\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    List&lt;BlackBoardEntry&gt; entries = BlackBoardClient.getBlackBoardEntries();\n                    BlackBoardAdapter adapter = new BlackBoardAdapter(entries, getApplicationContext());\n                    dataList.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            dataList.setAdapter(adapter);\n                        }\n                    });\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n"},{"tags":["java","google-speech-to-text-api"],"comments":[{"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"score":0,"creation_date":1638805012,"post_id":70242025,"comment_id":124179116,"body_markdown":"Just curious, doesn&#39;t GCS use URL starting with `gs://`?","body":"Just curious, doesn&#39;t GCS use URL starting with <code>gs:&#47;&#47;</code>?"},{"owner":{"account_id":22958905,"reputation":3,"user_id":17089095,"display_name":"Отправитель Скрыт"},"score":0,"creation_date":1638806048,"post_id":70242025,"comment_id":124179545,"body_markdown":"me curious too) but in many examples path specify as gs://","body":"me curious too) but in many examples path specify as gs://"},{"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"score":0,"creation_date":1638807985,"post_id":70242025,"comment_id":124180359,"body_markdown":"Can you specify `gs://summaryapp/record1638730255219.wav` instead of `gc://summaryapp/record1638730255219.wav` and try it?","body":"Can you specify <code>gs:&#47;&#47;summaryapp&#47;record1638730255219.wav</code> instead of <code>gc:&#47;&#47;summaryapp&#47;record1638730255219.wav</code> and try it?"},{"owner":{"account_id":22958905,"reputation":3,"user_id":17089095,"display_name":"Отправитель Скрыт"},"score":0,"creation_date":1638816592,"post_id":70242025,"comment_id":124183516,"body_markdown":"thanks! now i am do not have any messages about invalid path, but now i still not get any recognize result - see UPD above.","body":"thanks! now i am do not have any messages about invalid path, but now i still not get any recognize result - see UPD above."}],"owner":{"account_id":22958905,"reputation":3,"user_id":17089095,"display_name":"Отправитель Скрыт"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638854783,"creation_date":1638775354,"question_id":70242025,"body_markdown":"Help me please if you can)\r\nI am trying to use google speech to text API. I have uploaded an audio file ( record1638730550724.wav) on google storage bucket with the name &quot;summaryapp&quot;. But when i try to make longrecognize request i get this error\r\n\r\n&gt; 2021-12-05 18:56:20 INFO  RecordController:60 -\r\n&gt; com.google.api.gax.rpc.InvalidArgumentException:\r\n&gt; io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Audio URI\r\n&gt; `gc://summaryapp/record1638730255219.wav` is an invalid GCS path.\r\n\r\nRecognizeRequestHandler class:\r\n\r\n        public class RecognizeRequestHandler {\r\n    \r\n    \r\n        private static CallsInfo callsInfo;\r\n        @Autowired\r\n        private static CallsInfoDaoImpl callsInfoDao;\r\n    \r\n        public static void asyncRecognizeGcs(String gcsUri, int oid) throws Exception {\r\n            // Configure polling algorithm\r\n            SpeechSettings.Builder speechSettings = SpeechSettings.newBuilder();\r\n            TimedRetryAlgorithm timedRetryAlgorithm =\r\n                    OperationTimedPollAlgorithm.create(\r\n                            RetrySettings.newBuilder()\r\n                                    .setInitialRetryDelay(Duration.ofMillis(500L))\r\n                                    .setRetryDelayMultiplier(1.5)\r\n                                    .setMaxRetryDelay(Duration.ofMillis(5000L))\r\n                                    .setInitialRpcTimeout(Duration.ZERO) // ignored\r\n                                    .setRpcTimeoutMultiplier(1.0) // ignored\r\n                                    .setMaxRpcTimeout(Duration.ZERO) // ignored\r\n                                    .setTotalTimeout(Duration.ofHours(24L)) // set polling timeout to 24 hours\r\n                                    .build());\r\n            speechSettings.longRunningRecognizeOperationSettings().setPollingAlgorithm(timedRetryAlgorithm);\r\n    \r\n            // Instantiates a client with GOOGLE_APPLICATION_CREDENTIALS\r\n            try (SpeechClient speech = SpeechClient.create(speechSettings.build())) {\r\n    \r\n                // Configure remote file request for FLAC\r\n                RecognitionConfig config =\r\n                        RecognitionConfig.newBuilder()\r\n                                .setEncoding(AudioEncoding.LINEAR16)\r\n                                .setLanguageCode(&quot;ru-RU&quot;)\r\n                                .setSampleRateHertz(16000)\r\n                                .build();\r\n                RecognitionAudio audio = RecognitionAudio.newBuilder().setUri(gcsUri).build();\r\n    \r\n                // Use non-blocking call for getting file transcription\r\n                OperationFuture&lt;LongRunningRecognizeResponse, LongRunningRecognizeMetadata&gt; response =\r\n                        speech.longRunningRecognizeAsync(config, audio);\r\n                while (!response.isDone()) {\r\n                    System.out.println(&quot;Waiting for response...&quot;);\r\n                    Thread.sleep(10000);\r\n                }\r\n    \r\n                List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\r\n    \r\n                for (SpeechRecognitionResult result : results) {\r\n                    // There can be several alternative transcripts for a given chunk of speech. Just use the\r\n                    // first (most likely) one here.\r\n                    SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\r\n                    System.out.printf(&quot;Transcription: %s\\n&quot;, alternative.getTranscript());\r\n    \r\n                    //Trying to write response to database\r\n                    Date date = new Date(System.currentTimeMillis());\r\n                    String text = alternative.getTranscript();\r\n                    callsInfo = new CallsInfo(oid, date, text);\r\n                    callsInfoDao.create(callsInfo);\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is RecordController class, which call Recognize class with GCS URL\r\n\r\n    public class RecordController {\r\n    \r\n        public static Logger logger = LoggerFactory.getLogger(RecordController.class);\r\n    \r\n        @Autowired\r\n        AuthToken authToken;\r\n    \r\n        @Autowired\r\n        AuthTokenDaoImpl authTokenDao;\r\n    \r\n        @Autowired\r\n        AudioRecord audioRecord;\r\n    \r\n        @Autowired\r\n        RecordDaoImpl recordDao;\r\n    \r\n        Thread t;\r\n    \r\n        private String RESULT = &quot;NO MATCHING&quot;;\r\n        private String GCS_URL = &quot;gc://summaryapp/&quot;;\r\n        private String RECORD_FILE_NAME = &quot;&quot;;\r\n    \r\n        @PostMapping(value = &quot;/newAudioRecord&quot;, consumes = &quot;application/json&quot;,\r\n                produces = &quot;text/plain;charset=UTF-8&quot;)\r\n        public String postNewRecord(@RequestParam(value = &quot;token&quot;, required = true) String token,\r\n                                    @RequestBody AudioRecord audioRecord) throws JsonProcessingException {\r\n            System.out.println(audioRecord.getOid() + &quot; &quot; + audioRecord.getRecordFileName());\r\n            authToken = authTokenDao.readByToken(token);\r\n            if (authToken != null) {\r\n                RECORD_FILE_NAME = audioRecord.getRecordFileName();\r\n                audioRecord.setOid(authToken.getOid());\r\n                recordDao.create(audioRecord);\r\n                AudioRecord resultAudioRecord = recordDao.readByName(audioRecord.getOid(),\r\n                        audioRecord.getRecordFileName());\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                RESULT = mapper.writeValueAsString(resultAudioRecord);\r\n    \r\n                      try {\r\n                          RecognizeRequestHandler.asyncRecognizeGcs(GCS_URL+RECORD_FILE_NAME, audioRecord.getOid());\r\n                      } catch (Exception e) {\r\n                          logger.info(e.getMessage());\r\n                      }\r\n            }\r\n            return RESULT;\r\n        }\r\n    }\r\n\r\n**UPD:** After changing gc:// to gs:// in path i am do not get any messages about &quot;invalid path&quot;. But now process ends with following lines in logs:\r\n\r\n&gt; 2021-12-06 18:37:34 INFO  RecognizeRequestHandler:108 - --------&gt;\r\n&gt; Result list size: 0 2021-12-06 18:37:34 DEBUG NettyClientHandler:214 -\r\n&gt; [id: 0xa576e0da, L:/172.18.0.2:49394 -\r\n&gt; R:speech.googleapis.com/64.233.164.95:443] OUTBOUND GO_AWAY:\r\n&gt; lastStreamId=0 errorCode=0 length=0 bytes= 2021-12-06 18:37:35 DEBUG\r\n&gt; PoolThreadCache:229 - Freed 24 thread-local buffer(s) from thread:\r\n&gt; grpc-default-worker-ELG-1-4\r\n\r\nAs seen from &quot;sout debug&quot; - line of code\r\n\r\n    List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\r\n\r\nreturns a result list size: 0 \r\n&lt;br /&gt;\r\n--------&gt; Result list size: 0\r\n\r\n**UPD:** Audio recorded with next settings:\r\n\r\n    int mic = MediaRecorder.AudioSource.MIC;\r\n            recorder.setAudioSource(mic);\r\n            recorder.setOutputFormat(output_formats[currentFormat]); //MediaRecorder.OutputFormat.AAC_ADTS\r\n            recorder.setAudioEncoder(encoder); //MediaRecorder.AudioEncoder.AAC;\r\n            recorder.setAudioSamplingRate(sampleRate); //16000\r\n            recorder.setOutputFile(CurrentAudioFilePath);\r\n            recorder.setOnErrorListener(errorListener);\r\n            recorder.setOnInfoListener(infoListener);","title":"Audio URI `gc://...` is an invalid GCS path","body":"<p>Help me please if you can)\nI am trying to use google speech to text API. I have uploaded an audio file ( record1638730550724.wav) on google storage bucket with the name &quot;summaryapp&quot;. But when i try to make longrecognize request i get this error</p>\n<blockquote>\n<p>2021-12-05 18:56:20 INFO  RecordController:60 -\ncom.google.api.gax.rpc.InvalidArgumentException:\nio.grpc.StatusRuntimeException: INVALID_ARGUMENT: Audio URI\n<code>gc://summaryapp/record1638730255219.wav</code> is an invalid GCS path.</p>\n</blockquote>\n<p>RecognizeRequestHandler class:</p>\n<pre><code>    public class RecognizeRequestHandler {\n\n\n    private static CallsInfo callsInfo;\n    @Autowired\n    private static CallsInfoDaoImpl callsInfoDao;\n\n    public static void asyncRecognizeGcs(String gcsUri, int oid) throws Exception {\n        // Configure polling algorithm\n        SpeechSettings.Builder speechSettings = SpeechSettings.newBuilder();\n        TimedRetryAlgorithm timedRetryAlgorithm =\n                OperationTimedPollAlgorithm.create(\n                        RetrySettings.newBuilder()\n                                .setInitialRetryDelay(Duration.ofMillis(500L))\n                                .setRetryDelayMultiplier(1.5)\n                                .setMaxRetryDelay(Duration.ofMillis(5000L))\n                                .setInitialRpcTimeout(Duration.ZERO) // ignored\n                                .setRpcTimeoutMultiplier(1.0) // ignored\n                                .setMaxRpcTimeout(Duration.ZERO) // ignored\n                                .setTotalTimeout(Duration.ofHours(24L)) // set polling timeout to 24 hours\n                                .build());\n        speechSettings.longRunningRecognizeOperationSettings().setPollingAlgorithm(timedRetryAlgorithm);\n\n        // Instantiates a client with GOOGLE_APPLICATION_CREDENTIALS\n        try (SpeechClient speech = SpeechClient.create(speechSettings.build())) {\n\n            // Configure remote file request for FLAC\n            RecognitionConfig config =\n                    RecognitionConfig.newBuilder()\n                            .setEncoding(AudioEncoding.LINEAR16)\n                            .setLanguageCode(&quot;ru-RU&quot;)\n                            .setSampleRateHertz(16000)\n                            .build();\n            RecognitionAudio audio = RecognitionAudio.newBuilder().setUri(gcsUri).build();\n\n            // Use non-blocking call for getting file transcription\n            OperationFuture&lt;LongRunningRecognizeResponse, LongRunningRecognizeMetadata&gt; response =\n                    speech.longRunningRecognizeAsync(config, audio);\n            while (!response.isDone()) {\n                System.out.println(&quot;Waiting for response...&quot;);\n                Thread.sleep(10000);\n            }\n\n            List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\n\n            for (SpeechRecognitionResult result : results) {\n                // There can be several alternative transcripts for a given chunk of speech. Just use the\n                // first (most likely) one here.\n                SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\n                System.out.printf(&quot;Transcription: %s\\n&quot;, alternative.getTranscript());\n\n                //Trying to write response to database\n                Date date = new Date(System.currentTimeMillis());\n                String text = alternative.getTranscript();\n                callsInfo = new CallsInfo(oid, date, text);\n                callsInfoDao.create(callsInfo);\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>And this is RecordController class, which call Recognize class with GCS URL</p>\n<pre><code>public class RecordController {\n\n    public static Logger logger = LoggerFactory.getLogger(RecordController.class);\n\n    @Autowired\n    AuthToken authToken;\n\n    @Autowired\n    AuthTokenDaoImpl authTokenDao;\n\n    @Autowired\n    AudioRecord audioRecord;\n\n    @Autowired\n    RecordDaoImpl recordDao;\n\n    Thread t;\n\n    private String RESULT = &quot;NO MATCHING&quot;;\n    private String GCS_URL = &quot;gc://summaryapp/&quot;;\n    private String RECORD_FILE_NAME = &quot;&quot;;\n\n    @PostMapping(value = &quot;/newAudioRecord&quot;, consumes = &quot;application/json&quot;,\n            produces = &quot;text/plain;charset=UTF-8&quot;)\n    public String postNewRecord(@RequestParam(value = &quot;token&quot;, required = true) String token,\n                                @RequestBody AudioRecord audioRecord) throws JsonProcessingException {\n        System.out.println(audioRecord.getOid() + &quot; &quot; + audioRecord.getRecordFileName());\n        authToken = authTokenDao.readByToken(token);\n        if (authToken != null) {\n            RECORD_FILE_NAME = audioRecord.getRecordFileName();\n            audioRecord.setOid(authToken.getOid());\n            recordDao.create(audioRecord);\n            AudioRecord resultAudioRecord = recordDao.readByName(audioRecord.getOid(),\n                    audioRecord.getRecordFileName());\n            ObjectMapper mapper = new ObjectMapper();\n            RESULT = mapper.writeValueAsString(resultAudioRecord);\n\n                  try {\n                      RecognizeRequestHandler.asyncRecognizeGcs(GCS_URL+RECORD_FILE_NAME, audioRecord.getOid());\n                  } catch (Exception e) {\n                      logger.info(e.getMessage());\n                  }\n        }\n        return RESULT;\n    }\n}\n</code></pre>\n<p><strong>UPD:</strong> After changing gc:// to gs:// in path i am do not get any messages about &quot;invalid path&quot;. But now process ends with following lines in logs:</p>\n<blockquote>\n<p>2021-12-06 18:37:34 INFO  RecognizeRequestHandler:108 - --------&gt;\nResult list size: 0 2021-12-06 18:37:34 DEBUG NettyClientHandler:214 -\n[id: 0xa576e0da, L:/172.18.0.2:49394 -\nR:speech.googleapis.com/64.233.164.95:443] OUTBOUND GO_AWAY:\nlastStreamId=0 errorCode=0 length=0 bytes= 2021-12-06 18:37:35 DEBUG\nPoolThreadCache:229 - Freed 24 thread-local buffer(s) from thread:\ngrpc-default-worker-ELG-1-4</p>\n</blockquote>\n<p>As seen from &quot;sout debug&quot; - line of code</p>\n<pre><code>List&lt;SpeechRecognitionResult&gt; results = response.get().getResultsList();\n</code></pre>\n<p>returns a result list size: 0\n<br />\n--------&gt; Result list size: 0</p>\n<p><strong>UPD:</strong> Audio recorded with next settings:</p>\n<pre><code>int mic = MediaRecorder.AudioSource.MIC;\n        recorder.setAudioSource(mic);\n        recorder.setOutputFormat(output_formats[currentFormat]); //MediaRecorder.OutputFormat.AAC_ADTS\n        recorder.setAudioEncoder(encoder); //MediaRecorder.AudioEncoder.AAC;\n        recorder.setAudioSamplingRate(sampleRate); //16000\n        recorder.setOutputFile(CurrentAudioFilePath);\n        recorder.setOnErrorListener(errorListener);\n        recorder.setOnInfoListener(infoListener);\n</code></pre>\n"},{"tags":["java","android","android-studio","crash","android-edittext"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1638817891,"post_id":70250496,"comment_id":124183959,"body_markdown":"You read the text within the `onCreate()` method. That means that your `EditText` controls probably are still empty (the user had no time yet to enter anything) and `Float.parseFloat()` fails because what should the numerical value of an empty string be? To fix it you must move the reading of the `EditText` contents and the parsing into the `onCheckedChanged()` handler.","body":"You read the text within the <code>onCreate()</code> method. That means that your <code>EditText</code> controls probably are still empty (the user had no time yet to enter anything) and <code>Float.parseFloat()</code> fails because what should the numerical value of an empty string be? To fix it you must move the reading of the <code>EditText</code> contents and the parsing into the <code>onCheckedChanged()</code> handler."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638826662,"post_id":70250496,"comment_id":124186828,"body_markdown":"You logged the error in your code, but didn&#39;t add that to your question. If you ever have an issue again it&#39;s recommended that you include the error message.","body":"You logged the error in your code, but didn&#39;t add that to your question. If you ever have an issue again it&#39;s recommended that you include the error message."},{"owner":{"account_id":20529400,"reputation":55,"user_id":15067071,"display_name":"Fardeen Khan"},"score":0,"creation_date":1639116710,"post_id":70250496,"comment_id":124271571,"body_markdown":"Thanks @ThomasKl&#228;ger for Explaining this issue","body":"Thanks @ThomasKl&#228;ger for Explaining this issue"},{"owner":{"account_id":20529400,"reputation":55,"user_id":15067071,"display_name":"Fardeen Khan"},"score":0,"creation_date":1639116836,"post_id":70250496,"comment_id":124271598,"body_markdown":"Does the same happens when some one assign audio to Media player in `onCreate()` function","body":"Does the same happens when some one assign audio to Media player in <code>onCreate()</code> function"}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638854003,"creation_date":1638853135,"answer_id":70255133,"question_id":70250496,"body_markdown":"**here you go**\r\n\r\nyou should get value from edittext at runtime when action perform,not at creating activity.\r\n\r\n    \r\n\r\n    package com.example.calculator;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        RadioGroup radioGroup;\r\n        float ans;\r\n        EditText editText1,editText2;\r\n        TextView textView;\r\n        float num1, num2;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            //make sure that you entered value contains float,not other data type\r\n\r\n            editText1 = findViewById(R.id.first_number); \r\n            editText2 = findViewById(R.id.second_number);\r\n            \r\n            textView = findViewById(R.id.answer);\r\n            radioGroup = (RadioGroup) findViewById(R.id.radio_group);\r\n            radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                    try{\r\n                        num1 = Float.parseFloat(editText1.getText().toString()); //i&#39;m getting value here\r\n                    }catch(Exception e){\r\n                        Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\r\n                    }\r\n                    try{\r\n                        num2 = Float.parseFloat(editText2.getText().toString());//i&#39;m getting value here\r\n                    }catch(Exception e){\r\n                        Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\r\n                    }\r\n    \r\n                    caluclate(num1, num2);\r\n                    if(num2 == 0 &amp;&amp; checkedId == R.id.div){\r\n                        textView.setText(&quot;N.A.&quot;);\r\n                    }else{\r\n                        textView.setText(String.valueOf(ans));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        float addition(float n1, float n2){\r\n            return n1 + n2;\r\n        }\r\n        float subtraction(float n1, float n2){\r\n            return n1 - n2;\r\n        }\r\n        float multiplication(float n1, float n2){\r\n            return n1 * n2;\r\n        }\r\n        float division(float n1, float n2){\r\n            return n1/n2;\r\n        }\r\n    \r\n        void caluclate(float n1, float n2){\r\n            switch(radioGroup.getCheckedRadioButtonId()){\r\n                case R.id.add:\r\n                    ans = addition (n1, n2);\r\n                    break;\r\n                case R.id.sub:\r\n                    ans = subtraction(n1, n2);\r\n                    break;\r\n                case R.id.mul:\r\n                    ans = multiplication(n1, n2);\r\n                    break;\r\n                case R.id.div:\r\n                    ans = division(n1, n2);\r\n                    break;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why my app crashes when I parse string (from EditText) to Float","body":"<p><strong>here you go</strong></p>\n<p>you should get value from edittext at runtime when action perform,not at creating activity.</p>\n<pre><code>package com.example.calculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.EditText;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    RadioGroup radioGroup;\n    float ans;\n    EditText editText1,editText2;\n    TextView textView;\n    float num1, num2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //make sure that you entered value contains float,not other data type\n\n        editText1 = findViewById(R.id.first_number); \n        editText2 = findViewById(R.id.second_number);\n        \n        textView = findViewById(R.id.answer);\n        radioGroup = (RadioGroup) findViewById(R.id.radio_group);\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                try{\n                    num1 = Float.parseFloat(editText1.getText().toString()); //i'm getting value here\n                }catch(Exception e){\n                    Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\n                }\n                try{\n                    num2 = Float.parseFloat(editText2.getText().toString());//i'm getting value here\n                }catch(Exception e){\n                    Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\n                }\n\n                caluclate(num1, num2);\n                if(num2 == 0 &amp;&amp; checkedId == R.id.div){\n                    textView.setText(&quot;N.A.&quot;);\n                }else{\n                    textView.setText(String.valueOf(ans));\n                }\n            }\n        });\n    }\n\n\n    float addition(float n1, float n2){\n        return n1 + n2;\n    }\n    float subtraction(float n1, float n2){\n        return n1 - n2;\n    }\n    float multiplication(float n1, float n2){\n        return n1 * n2;\n    }\n    float division(float n1, float n2){\n        return n1/n2;\n    }\n\n    void caluclate(float n1, float n2){\n        switch(radioGroup.getCheckedRadioButtonId()){\n            case R.id.add:\n                ans = addition (n1, n2);\n                break;\n            case R.id.sub:\n                ans = subtraction(n1, n2);\n                break;\n            case R.id.mul:\n                ans = multiplication(n1, n2);\n                break;\n            case R.id.div:\n                ans = division(n1, n2);\n                break;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20529400,"reputation":55,"user_id":15067071,"display_name":"Fardeen Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70255133,"answer_count":1,"score":0,"last_activity_date":1638854003,"creation_date":1638817001,"question_id":70250496,"body_markdown":"**Why Am I not able to convert String (taken from EditText) to Float.**\r\n\r\nI was building a simple app to calculate (addition, subtraction, division, multiplication) of two numbers as per the radio group selection.\r\nBut, As I extract string using\r\n\r\n    String temp =  editText.getText().toString();\r\n\r\nand then try to convert it back into Float in order to perform operation on it\r\n\r\n    num1 = Float.parseFloat(temp);\r\n\r\nThis very line of code causes some error which crashes my app.\r\nI tried to surround it with try-catch which prevented crashing of my app but String was still not parsing into Float.\r\n\r\n**Complete Java Code for Calculator App**\r\n\r\n    package com.example.calculator;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        RadioGroup radioGroup;\r\n        float ans;\r\n        EditText editText;\r\n        TextView textView;\r\n        float num1, num2;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            editText = findViewById(R.id.first_number);\r\n            String temp =  editText.getText().toString();\r\n            try{\r\n                num1 = Float.parseFloat(temp);\r\n            }catch(Exception e){\r\n                Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\r\n            }\r\n            editText = findViewById(R.id.second_number);\r\n            try{\r\n                num2 = Float.parseFloat(editText.getText().toString());\r\n            }catch(Exception e){\r\n                Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\r\n            }\r\n            textView = findViewById(R.id.answer);\r\n            radioGroup = (RadioGroup) findViewById(R.id.radio_group);\r\n            radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n    \r\n                    caluclate(num1, num2);\r\n                    if(num2 == 0 &amp;&amp; checkedId == R.id.div){\r\n                        textView.setText(&quot;N.A.&quot;);\r\n                    }else{\r\n                        textView.setText(String.valueOf(ans));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        float addition(float n1, float n2){\r\n            return n1 + n2;\r\n        }\r\n        float subtraction(float n1, float n2){\r\n            return n1 - n2;\r\n        }\r\n        float multiplication(float n1, float n2){\r\n            return n1 * n2;\r\n        }\r\n        float division(float n1, float n2){\r\n            return n1/n2;\r\n        }\r\n    \r\n        void caluclate(float n1, float n2){\r\n            switch(radioGroup.getCheckedRadioButtonId()){\r\n                case R.id.add:\r\n                    ans = addition (n1, n2);\r\n                    break;\r\n                case R.id.sub:\r\n                    ans = subtraction(n1, n2);\r\n                    break;\r\n                case R.id.mul:\r\n                    ans = multiplication(n1, n2);\r\n                    break;\r\n                case R.id.div:\r\n                    ans = division(n1, n2);\r\n                    break;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**XML Code**\r\n\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#DFDFDF&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;First Number&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/first_number&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:hint=&quot;Enter Here&quot;\r\n            android:inputType=&quot;numberDecimal|numberSigned&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;Second Number&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/second_number&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:hint=&quot;Enter Here&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:inputType=&quot;numberDecimal|numberSigned&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;Choose Operation&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/radio_group&quot;\r\n            android:paddingLeft=&quot;16dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/add&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Addition&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/sub&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Subtraction&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/mul&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Multiplication&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/div&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;8dp&quot;\r\n                android:text=&quot;Division&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:text=&quot;Answer&quot;\r\n            android:textColor=&quot;#2196F3&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/answer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;16dp&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n*My app was crashing until I comment out that line which assigns String to float\r\nthen I tried using try-catch block but this just prevented my app from crashing* ","title":"Why my app crashes when I parse string (from EditText) to Float","body":"<p><strong>Why Am I not able to convert String (taken from EditText) to Float.</strong></p>\n<p>I was building a simple app to calculate (addition, subtraction, division, multiplication) of two numbers as per the radio group selection.\nBut, As I extract string using</p>\n<pre><code>String temp =  editText.getText().toString();\n</code></pre>\n<p>and then try to convert it back into Float in order to perform operation on it</p>\n<pre><code>num1 = Float.parseFloat(temp);\n</code></pre>\n<p>This very line of code causes some error which crashes my app.\nI tried to surround it with try-catch which prevented crashing of my app but String was still not parsing into Float.</p>\n<p><strong>Complete Java Code for Calculator App</strong></p>\n<pre><code>package com.example.calculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.EditText;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    RadioGroup radioGroup;\n    float ans;\n    EditText editText;\n    TextView textView;\n    float num1, num2;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        editText = findViewById(R.id.first_number);\n        String temp =  editText.getText().toString();\n        try{\n            num1 = Float.parseFloat(temp);\n        }catch(Exception e){\n            Log.e(&quot;MainActivity&quot;, &quot;onCreate: Still Not Working&quot;, e);\n        }\n        editText = findViewById(R.id.second_number);\n        try{\n            num2 = Float.parseFloat(editText.getText().toString());\n        }catch(Exception e){\n            Log.e(&quot;MainActivity&quot;, &quot;onCreate: String unable to Assign.&quot;, e);\n        }\n        textView = findViewById(R.id.answer);\n        radioGroup = (RadioGroup) findViewById(R.id.radio_group);\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n\n                caluclate(num1, num2);\n                if(num2 == 0 &amp;&amp; checkedId == R.id.div){\n                    textView.setText(&quot;N.A.&quot;);\n                }else{\n                    textView.setText(String.valueOf(ans));\n                }\n            }\n        });\n    }\n\n\n    float addition(float n1, float n2){\n        return n1 + n2;\n    }\n    float subtraction(float n1, float n2){\n        return n1 - n2;\n    }\n    float multiplication(float n1, float n2){\n        return n1 * n2;\n    }\n    float division(float n1, float n2){\n        return n1/n2;\n    }\n\n    void caluclate(float n1, float n2){\n        switch(radioGroup.getCheckedRadioButtonId()){\n            case R.id.add:\n                ans = addition (n1, n2);\n                break;\n            case R.id.sub:\n                ans = subtraction(n1, n2);\n                break;\n            case R.id.mul:\n                ans = multiplication(n1, n2);\n                break;\n            case R.id.div:\n                ans = division(n1, n2);\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>XML Code</strong></p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#DFDFDF&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;First Number&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/first_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:hint=&quot;Enter Here&quot;\n        android:inputType=&quot;numberDecimal|numberSigned&quot;\n        android:padding=&quot;8dp&quot;\n        android:background=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;Second Number&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/second_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:hint=&quot;Enter Here&quot;\n        android:padding=&quot;8dp&quot;\n        android:inputType=&quot;numberDecimal|numberSigned&quot;\n        android:background=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;Choose Operation&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:paddingLeft=&quot;16dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/add&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Addition&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/sub&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Subtraction&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/mul&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Multiplication&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/div&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:text=&quot;Division&quot; /&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;TextView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:text=&quot;Answer&quot;\n        android:textColor=&quot;#2196F3&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/answer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:textSize=&quot;20dp&quot;\n        android:padding=&quot;8dp&quot;\n        android:inputType=&quot;number&quot;\n        android:background=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><em>My app was crashing until I comment out that line which assigns String to float\nthen I tried using try-catch block but this just prevented my app from crashing</em></p>\n"},{"tags":["java","kotlin","google-bigquery","nan"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1599233373,"post_id":63743781,"comment_id":112720647,"body_markdown":"How do you usually pass values to bigquery? You pass primitive values and/or objects with the values. So pass a [`Double.NaN`](https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#NaN) value.","body":"How do you usually pass values to bigquery? You pass primitive values and/or objects with the values. So pass a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#NaN\" rel=\"nofollow noreferrer\"><code>Double.NaN</code></a> value."},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1638538490,"post_id":63743781,"comment_id":124121930,"body_markdown":"I&#39;m currently fighting with the same problem. @BAE, did you find a solution?","body":"I&#39;m currently fighting with the same problem. @BAE, did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":6782076,"reputation":168058,"user_id":5221944,"accept_rate":86,"display_name":"Mikhail Berlyant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599233000,"creation_date":1599233000,"answer_id":63743962,"question_id":63743781,"body_markdown":"Below is for BigQuery Standard SQL and gives you few ways of generating Nan, I just wrapped it with IS_NaN to check that result is actually NaN and not just string &#39;NaN&#39;  \r\n\r\n    SELECT\r\n      test1,\r\n      IS_NAN(test1),\r\n      test2,\r\n      IS_NAN(test2)\r\n    FROM (  \r\n    SELECT \r\n      IEEE_DIVIDE(0, 0) test1, \r\n      CAST(&#39;NaN&#39; AS FLOAT64) test2\r\n    )  \r\n\r\n\r\nwith result    \r\n\r\n    Row\ttest1\tf0_\t    test2\tf1_\t \r\n    1\tNaN\t    true\tNaN\t    true\t ","title":"How to write NaN to biqquery in Java?","body":"<p>Below is for BigQuery Standard SQL and gives you few ways of generating Nan, I just wrapped it with IS_NaN to check that result is actually NaN and not just string 'NaN'</p>\n<pre><code>SELECT\n  test1,\n  IS_NAN(test1),\n  test2,\n  IS_NAN(test2)\nFROM (  \nSELECT \n  IEEE_DIVIDE(0, 0) test1, \n  CAST('NaN' AS FLOAT64) test2\n)  \n</code></pre>\n<p>with result</p>\n<pre><code>Row test1   f0_     test2   f1_  \n1   NaN     true    NaN     true     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638833880,"creation_date":1638833880,"answer_id":70253269,"question_id":63743781,"body_markdown":"`Float.NaN` or `Double.NaN` will not work.\r\n\r\nUnder the hood the Java BigQuery API uses the [Google HTTP Client Library for Java](https://github.com/googleapis/google-http-java-client).\r\n\r\nNeither `NaN` nor infinity are supported JSON symbols. Probably for that reason, when serializing the provided data, [`JsonGenerator`](https://github.com/googleapis/google-http-java-client/blob/main/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java) [explicitly forbids it](https://github.com/googleapis/google-http-java-client/blob/ea0f6c0f58e8abffae1362feb344a9309d6d814e/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java#L133-L135):\r\n\r\n```java\r\ndouble doubleValue = ((Number) value).doubleValue();\r\nPreconditions.checkArgument(!Double.isInfinite(doubleValue) &amp;&amp; !Double.isNaN(doubleValue));\r\nwriteNumber(doubleValue);\r\n```\r\n\r\n_As a side note, in contrast, the library allows parsing this values. Please, see the [relevant commit](https://github.com/googleapis/google-http-java-client/commit/926e04d07b8aee3b849922f67cea462eadc656b0)._\r\n\r\nIn addition two the aforementioned cases, in Java you cannot provide the `NaN` value by [other mean](https://stackoverflow.com/questions/28065158/java-bigdecimal-and-double-nan/28065194).\r\n\r\nIn my opinion, `NaN` is not conceived to be passed as a function argument, rather they should be considered a computational error or the result of some kind of overflow like the one that could be caused in `IEEE_DIVIDE`, and that is the [reason for the existence](https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#floating_point_semantics) of the data type in BigQuery:\r\n\r\n&gt; Function calls and operators return an overflow error if the input is \r\n&gt; finite but the output would be non-finite. If the input contains non-finite \r\n&gt; values, the output can be non-finite. In general functions do not introduce \r\n&gt; `NaN`s or `+/-inf`. However, specific functions like `IEEE_DIVIDE` can \r\n&gt; return non-finite values on finite input. All such cases are noted \r\n&gt; explicitly in Mathematical functions.\r\n\r\nInstead of using `NaN`, please treat then as `null` values: that is the approach followed in other languages. \r\n","title":"How to write NaN to biqquery in Java?","body":"<p><code>Float.NaN</code> or <code>Double.NaN</code> will not work.</p>\n<p>Under the hood the Java BigQuery API uses the <a href=\"https://github.com/googleapis/google-http-java-client\" rel=\"nofollow noreferrer\">Google HTTP Client Library for Java</a>.</p>\n<p>Neither <code>NaN</code> nor infinity are supported JSON symbols. Probably for that reason, when serializing the provided data, <a href=\"https://github.com/googleapis/google-http-java-client/blob/main/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java\" rel=\"nofollow noreferrer\"><code>JsonGenerator</code></a> <a href=\"https://github.com/googleapis/google-http-java-client/blob/ea0f6c0f58e8abffae1362feb344a9309d6d814e/google-http-client/src/main/java/com/google/api/client/json/JsonGenerator.java#L133-L135\" rel=\"nofollow noreferrer\">explicitly forbids it</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double doubleValue = ((Number) value).doubleValue();\nPreconditions.checkArgument(!Double.isInfinite(doubleValue) &amp;&amp; !Double.isNaN(doubleValue));\nwriteNumber(doubleValue);\n</code></pre>\n<p><em>As a side note, in contrast, the library allows parsing this values. Please, see the <a href=\"https://github.com/googleapis/google-http-java-client/commit/926e04d07b8aee3b849922f67cea462eadc656b0\" rel=\"nofollow noreferrer\">relevant commit</a>.</em></p>\n<p>In addition two the aforementioned cases, in Java you cannot provide the <code>NaN</code> value by <a href=\"https://stackoverflow.com/questions/28065158/java-bigdecimal-and-double-nan/28065194\">other mean</a>.</p>\n<p>In my opinion, <code>NaN</code> is not conceived to be passed as a function argument, rather they should be considered a computational error or the result of some kind of overflow like the one that could be caused in <code>IEEE_DIVIDE</code>, and that is the <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#floating_point_semantics\" rel=\"nofollow noreferrer\">reason for the existence</a> of the data type in BigQuery:</p>\n<blockquote>\n<p>Function calls and operators return an overflow error if the input is\nfinite but the output would be non-finite. If the input contains non-finite\nvalues, the output can be non-finite. In general functions do not introduce\n<code>NaN</code>s or <code>+/-inf</code>. However, specific functions like <code>IEEE_DIVIDE</code> can\nreturn non-finite values on finite input. All such cases are noted\nexplicitly in Mathematical functions.</p>\n</blockquote>\n<p>Instead of using <code>NaN</code>, please treat then as <code>null</code> values: that is the approach followed in other languages.</p>\n"}],"owner":{"account_id":4746587,"reputation":8612,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638853015,"creation_date":1599232247,"question_id":63743781,"body_markdown":"In biqquery table, we can use `isNaN()` to check [NaN][1] value.\r\n\r\nBut how to write NaN to bigquery table in java (JVM languages)?\r\n\r\nWrite string &quot;NaN&quot;?\r\n\r\nAny comments are welcome. Thanks\r\n\r\nUPDATE:\r\n-------\r\n\r\nwe were trying to send `Double.NaN`, but the big query does not accept it and throwing exceptions. No idea why.\r\n\r\n    Error sending insert request, table: xxxx\r\n    com.google.cloud.bigquery.BigQueryException: java.lang.IllegalArgumentException\r\n    at com.google.cloud.bigquery.BigQueryException.translateAndThrow(BigQueryException.java:100)\r\n    at com.google.cloud.bigquery.BigQueryImpl.insertAll(BigQueryImpl.java:979)\r\n    ...\r\n    Caused by: java.lang.IllegalArgumentException\r\n     \tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:128)\r\n     \tat com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:35) \t\r\n        at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:134)\r\n    \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:146)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\r\n     \tat com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:105)\r\n\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types","title":"How to write NaN to biqquery in Java?","body":"<p>In biqquery table, we can use <code>isNaN()</code> to check <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types\" rel=\"nofollow noreferrer\">NaN</a> value.</p>\n<p>But how to write NaN to bigquery table in java (JVM languages)?</p>\n<p>Write string &quot;NaN&quot;?</p>\n<p>Any comments are welcome. Thanks</p>\n<h2>UPDATE:</h2>\n<p>we were trying to send <code>Double.NaN</code>, but the big query does not accept it and throwing exceptions. No idea why.</p>\n<pre><code>Error sending insert request, table: xxxx\ncom.google.cloud.bigquery.BigQueryException: java.lang.IllegalArgumentException\nat com.google.cloud.bigquery.BigQueryException.translateAndThrow(BigQueryException.java:100)\nat com.google.cloud.bigquery.BigQueryImpl.insertAll(BigQueryImpl.java:979)\n...\nCaused by: java.lang.IllegalArgumentException\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:128)\n    at com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:35)    \n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:134)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:146)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:173)\n    at com.google.api.client.json.JsonGenerator.serialize(JsonGenerator.java:105)\n</code></pre>\n"},{"tags":["java","arrays","function","geometry","boolean"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639354407,"post_id":70252906,"comment_id":124320832,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638853006,"creation_date":1638843137,"answer_id":70254148,"question_id":70252906,"body_markdown":"Possible approach:\r\n\r\nMake four 2d integer arrays of the same size or one 2d array of arrays[0..3].\r\n\r\nWalk through all diagonals in four directions, incrementing corresponding entries of auxiliary arrays if neighbors are similar. For example, walking from top &quot;F&quot; in bottom-right direction, put 0, 1 and 2 into `UPLEFT[1][2], UPLEFT[2][3]` and `UPLEFT[3][4]` correspondingly. Instead of diagonal walking, you can traverse line-by line twice - from the top, and from the bottom, checking needed upper neighbors during forward scan, and bottom neighbors during bottom-up scan.\r\n\r\nNow scan array again. When you have index pair `[k][m]` with `UPRIGHT[k][m]&gt;0` and `DOWNRIGHT[k][m]&gt;0`, choose minimal value \r\n\r\n    Wdt = min(UPRIGHT[k][m], DOWNRIGHT[k][m])\r\nand check `UPLEFT[k][r]` and `DOWNLEFT[k][r]` for values `r = m + 2*Wdt downto m+2` to reveal **the largest rhombus with left corner** in `[k][m]` pair.\r\n\r\n","title":"How to find rhombus of the same char in 2D Char Array?","body":"<p>Possible approach:</p>\n<p>Make four 2d integer arrays of the same size or one 2d array of arrays[0..3].</p>\n<p>Walk through all diagonals in four directions, incrementing corresponding entries of auxiliary arrays if neighbors are similar. For example, walking from top &quot;F&quot; in bottom-right direction, put 0, 1 and 2 into <code>UPLEFT[1][2], UPLEFT[2][3]</code> and <code>UPLEFT[3][4]</code> correspondingly. Instead of diagonal walking, you can traverse line-by line twice - from the top, and from the bottom, checking needed upper neighbors during forward scan, and bottom neighbors during bottom-up scan.</p>\n<p>Now scan array again. When you have index pair <code>[k][m]</code> with <code>UPRIGHT[k][m]&gt;0</code> and <code>DOWNRIGHT[k][m]&gt;0</code>, choose minimal value</p>\n<pre><code>Wdt = min(UPRIGHT[k][m], DOWNRIGHT[k][m])\n</code></pre>\n<p>and check <code>UPLEFT[k][r]</code> and <code>DOWNLEFT[k][r]</code> for values <code>r = m + 2*Wdt downto m+2</code> to reveal <strong>the largest rhombus with left corner</strong> in <code>[k][m]</code> pair.</p>\n"}],"owner":{"account_id":23423927,"reputation":3,"user_id":17483660,"display_name":"Swanky_Dwarf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638853006,"creation_date":1638830862,"question_id":70252906,"body_markdown":"let&#39;s say that I have a code that has a 2d char  array (max of 12*12),\r\nand I want to find in the array sequence of chars that make rhombus, how can I do it? I thought about making a boolean function that checks each place if it has the same values as his neighbors and other functions that use it to find rhombus but I don&#39;t really know how to use it.\r\n\r\nAt the end of this, I want to print the rhombus center values and the char that makes the rhombus.\r\n\r\nthk\r\n\r\nanother thing, I cant use recursion.\r\n[Example of rhombus in 2d array][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qpXsf.png","title":"How to find rhombus of the same char in 2D Char Array?","body":"<p>let's say that I have a code that has a 2d char  array (max of 12*12),\nand I want to find in the array sequence of chars that make rhombus, how can I do it? I thought about making a boolean function that checks each place if it has the same values as his neighbors and other functions that use it to find rhombus but I don't really know how to use it.</p>\n<p>At the end of this, I want to print the rhombus center values and the char that makes the rhombus.</p>\n<p>thk</p>\n<p>another thing, I cant use recursion.\n<a href=\"https://i.stack.imgur.com/qpXsf.png\" rel=\"nofollow noreferrer\">Example of rhombus in 2d array</a></p>\n"},{"tags":["java","android","android-service","intentservice","activity-recognition"],"comments":[{"owner":{"account_id":10851412,"reputation":147,"user_id":7979054,"display_name":"Deepak"},"score":0,"creation_date":1639059114,"post_id":70177573,"comment_id":124255523,"body_markdown":"you can make a work manager run your activity recognization in a fixed interval by defining some constraints. \nSince ActivityRecognition is deprecated you can use ActivityRecognitionClient for recognization","body":"you can make a work manager run your activity recognization in a fixed interval by defining some constraints.  Since ActivityRecognition is deprecated you can use ActivityRecognitionClient for recognization"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1639084789,"post_id":70177573,"comment_id":124265654,"body_markdown":"@Deepak i need to run in background service which can regularly detect user activity even when app is not visible to user. Any Idea?","body":"@Deepak i need to run in background service which can regularly detect user activity even when app is not visible to user. Any Idea?"},{"owner":{"account_id":10851412,"reputation":147,"user_id":7979054,"display_name":"Deepak"},"score":0,"creation_date":1639555559,"post_id":70177573,"comment_id":124375766,"body_markdown":"yes you can do using work manager schedule task where you can define time interval for starting the task","body":"yes you can do using work manager schedule task where you can define time interval for starting the task"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1666345211,"post_id":70177573,"comment_id":130920048,"body_markdown":"@Deepak `WorkManager` minimum interval is 15 min. If OP needs to run less than 15 minutes then `WorkManager` is not the option","body":"@Deepak <code>WorkManager</code> minimum interval is 15 min. If OP needs to run less than 15 minutes then <code>WorkManager</code> is not the option"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638852972,"creation_date":1638316750,"question_id":70177573,"body_markdown":"I am using `IntentService` before to make my `ActivityRecognition` work in the background for location updates but since `Android 9+` `IntentService` deprecated and it&#39;s no longer working in recent Android versions. So I tried to use `WorkManager` but I am a bit confused about how I can migrate from `IntentService` to `WorkManager` because `WorkManager` doesn&#39;t have any return method like service.\r\n\r\nStart Of IntentService Like this (ActivityRecognition)\r\n\r\n    Intent ActivityRec_intent = new Intent(this, Activity_Recognized_Service.class);\r\n                PendingIntent pendingIntent = PendingIntent.getService(this, 0, ActivityRec_intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                activityRecognitionClient.requestActivityUpdates(timeInLong,pendingIntent);\r\n\r\n\r\n\r\n`IntentService`\r\n---------------\r\n\r\n\r\n\r\n    public class Activity_Recognized_Service extends IntentService  {\r\n        /**\r\n         * Creates an IntentService.  Invoked by your subcl ass&#39;s constructor.\r\n         *\r\n         * @param name Used to name the worker thread, important only for debugging.\r\n         */\r\n        public static final String TAG = &quot;###RECOGNISED SRVCE###&quot;;\r\n        Timer timer;\r\n        LocationRequest mLocationRequest;\r\n        static int detectedActivity;\r\n    \r\n    \r\n        public Activity_Recognized_Service() {\r\n            super(&quot;Activity_Recognized_Service&quot;);\r\n        }\r\n    \r\n        public Activity_Recognized_Service(String name) {\r\n            super(name);\r\n        }\r\n    \r\n        @Override\r\n        protected void onHandleIntent(@Nullable Intent intent) {\r\n            Log.d(TAG, &quot;On Handle Intent&quot;);\r\n            if (ActivityRecognitionResult.hasResult(intent)) {\r\n                Log.d(TAG, &quot;ActivityRecognition Has Result&quot;);\r\n                ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\r\n                Log.d(TAG,&quot;BackGround Service Starting&quot;);\r\n                handleDetectedActivities(result.getProbableActivities(),this);\r\n    \r\n            }\r\n        }\r\n        private void handleDetectedActivities(List&lt;DetectedActivity&gt; probableActivities, Context mContext) {\r\n            Intent notificationIntent=new Intent(&quot;Notification&quot;);\r\n    \r\n            for (DetectedActivity activity : probableActivities) {\r\n                switch (activity.getType()) {\r\n                    case DetectedActivity.IN_VEHICLE:\r\n                        Log.d(TAG, &quot;In Vehicle &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;In Vehicle &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;In Vehicle&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                             // 10 min   5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            setTimer(10);\r\n                            detectedActivity=activity.getType();\r\n                            //userSate = &quot;In Vehicle &quot;;\r\n    \r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.ON_BICYCLE:\r\n                        Log.d(TAG, &quot;On Bicycle &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Bicycle &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n    \r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;On Bicycle&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Bicycle&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                             //7 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            setTimer(5);\r\n                            //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            //userSate = &quot;On Bicycle &quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.ON_FOOT:\r\n                        Log.d(TAG, &quot;On Foot &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Foot &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;On Foot&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            //builder.setLights(Color.WHITE,3000,3000);\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Foot&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                            Log.d(TAG,&quot;Enter On Foot &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            //userSate = &quot;On Foot&quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.RUNNING:\r\n                        Log.d(TAG, &quot;On Running &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Running &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity ) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Running &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Running&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Running&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                            setTimer(2);\r\n                            //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            // userSate = &quot;Running &quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.STILL:\r\n                        Log.d(TAG, &quot;On Still &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Still &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Still &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n    \r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Still&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            // NOTIFICATION BY LOCAL BROADCAST MANAGER\r\n                            setTimer(60*5);\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Still&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                             //5 hrs 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            // requestLocatonSetting(3*60*1000,2*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            //userSate = &quot;Still &quot;;\r\n                            App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; CASE Detection &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.TILTING:\r\n                        Log.d(TAG, &quot;On Tilting &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Tilting &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 95 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Tilting &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Tilting&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Tilting&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                            //5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            //requestLocatonSetting(3*60*60*1000,2*60*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\r\n                            detectedActivity=activity.getType();\r\n                            // userSate = &quot;Tilting  &quot;;\r\n                        }\r\n                        break;\r\n                    case DetectedActivity.WALKING:\r\n                        Log.d(TAG, &quot;On Walking &quot; + activity.getConfidence());\r\n                        Log.d(TAG, &quot;On Walking &quot; + detectedActivity);\r\n                        Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\r\n                        if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\r\n                            //Send Notification To User\r\n                            Log.d(TAG,&quot;Enter In Walking &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\r\n                            NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\r\n                            builder.setContentText(&quot;Let&#39;s Walk&quot;);\r\n                            builder.setSmallIcon(R.drawable.demo_x);\r\n                            builder.setContentTitle(&quot;demo&quot;);\r\n                            // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\r\n                            NotificationManagerCompat.from(mContext).notify(0, builder.build());\r\n                            /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Let&#39;s Walk&quot;);\r\n                            LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\r\n                             //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\r\n                            setTimer(2);\r\n                            detectedActivity=activity.getType();\r\n                            // userSate = &quot;Let&#39;s Walk   &quot;;\r\n    \r\n                        }\r\n                        break;\r\n                    case DetectedActivity.UNKNOWN:\r\n                        Log.d(TAG, &quot;UnKnown &quot; + activity.getConfidence());\r\n                        break;\r\n                }\r\n    \r\n            }\r\n        }\r\n        public void setTimer(int Minutes) {\r\n            Log.d(TAG, &quot;==================================================&quot;);\r\n            Log.d(TAG, &quot;Set Timer Starts It will Run Every &quot; + Minutes);\r\n            int MilliSeconds = 60000 * Minutes;\r\n            final Handler handler = new Handler(Looper.getMainLooper());\r\n            timer = new Timer();\r\n    \r\n            TimerTask doAsynchronousTask = new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    handler.post(new Runnable() {\r\n                        public void run() {\r\n                            try {\r\n                                //CODE THAT YOU WANT TO EXECUTE AT GIVEN INTERVAL\r\n                                Log.d(TAG, &quot;AsyncTask Start Here For Location Update&quot;);\r\n                               // App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; ************* &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\r\n                                new GetLocation(Activity_Recognized_Service.this,2);\r\n                            } catch (Exception e) {\r\n                                // TODO Auto-generated catch block\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            timer.schedule(doAsynchronousTask, 0, MilliSeconds);\r\n            Log.d(TAG, &quot;==================================================&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nHow can i make my code work for background task and make it run even when app is closed.","title":"ActivityRecognition with workmanager for background task","body":"<p>I am using <code>IntentService</code> before to make my <code>ActivityRecognition</code> work in the background for location updates but since <code>Android 9+</code> <code>IntentService</code> deprecated and it's no longer working in recent Android versions. So I tried to use <code>WorkManager</code> but I am a bit confused about how I can migrate from <code>IntentService</code> to <code>WorkManager</code> because <code>WorkManager</code> doesn't have any return method like service.</p>\n<p>Start Of IntentService Like this (ActivityRecognition)</p>\n<pre><code>Intent ActivityRec_intent = new Intent(this, Activity_Recognized_Service.class);\n            PendingIntent pendingIntent = PendingIntent.getService(this, 0, ActivityRec_intent, PendingIntent.FLAG_UPDATE_CURRENT);\n            activityRecognitionClient.requestActivityUpdates(timeInLong,pendingIntent);\n</code></pre>\n<h2><code>IntentService</code></h2>\n<pre><code>public class Activity_Recognized_Service extends IntentService  {\n    /**\n     * Creates an IntentService.  Invoked by your subcl ass's constructor.\n     *\n     * @param name Used to name the worker thread, important only for debugging.\n     */\n    public static final String TAG = &quot;###RECOGNISED SRVCE###&quot;;\n    Timer timer;\n    LocationRequest mLocationRequest;\n    static int detectedActivity;\n\n\n    public Activity_Recognized_Service() {\n        super(&quot;Activity_Recognized_Service&quot;);\n    }\n\n    public Activity_Recognized_Service(String name) {\n        super(name);\n    }\n\n    @Override\n    protected void onHandleIntent(@Nullable Intent intent) {\n        Log.d(TAG, &quot;On Handle Intent&quot;);\n        if (ActivityRecognitionResult.hasResult(intent)) {\n            Log.d(TAG, &quot;ActivityRecognition Has Result&quot;);\n            ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\n            Log.d(TAG,&quot;BackGround Service Starting&quot;);\n            handleDetectedActivities(result.getProbableActivities(),this);\n\n        }\n    }\n    private void handleDetectedActivities(List&lt;DetectedActivity&gt; probableActivities, Context mContext) {\n        Intent notificationIntent=new Intent(&quot;Notification&quot;);\n\n        for (DetectedActivity activity : probableActivities) {\n            switch (activity.getType()) {\n                case DetectedActivity.IN_VEHICLE:\n                    Log.d(TAG, &quot;In Vehicle &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;In Vehicle &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;In Vehicle&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                         // 10 min   5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        setTimer(10);\n                        detectedActivity=activity.getType();\n                        //userSate = &quot;In Vehicle &quot;;\n\n\n                    }\n                    break;\n                case DetectedActivity.ON_BICYCLE:\n                    Log.d(TAG, &quot;On Bicycle &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Bicycle &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;On Bicycle&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Bicycle&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                         //7 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        setTimer(5);\n                        //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        //userSate = &quot;On Bicycle &quot;;\n\n                    }\n                    break;\n                case DetectedActivity.ON_FOOT:\n                    Log.d(TAG, &quot;On Foot &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Foot &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;On Foot&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        //builder.setLights(Color.WHITE,3000,3000);\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;On Foot&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                        Log.d(TAG,&quot;Enter On Foot &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        //userSate = &quot;On Foot&quot;;\n\n                    }\n                    break;\n                case DetectedActivity.RUNNING:\n                    Log.d(TAG, &quot;On Running &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Running &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity ) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Running &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Running&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Running&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                        setTimer(2);\n                        //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        //requestLocatonSetting(6*60*1000,6*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        // userSate = &quot;Running &quot;;\n\n                    }\n                    break;\n                case DetectedActivity.STILL:\n                    Log.d(TAG, &quot;On Still &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Still &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Still &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Still&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        // NOTIFICATION BY LOCAL BROADCAST MANAGER\n                        setTimer(60*5);\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Still&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                         //5 hrs 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        // requestLocatonSetting(3*60*1000,2*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        //userSate = &quot;Still &quot;;\n                        App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; CASE Detection &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\n\n                    }\n                    break;\n                case DetectedActivity.TILTING:\n                    Log.d(TAG, &quot;On Tilting &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Tilting &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 95 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Tilting &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Tilting&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Tilting&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                        //5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        //requestLocatonSetting(3*60*60*1000,2*60*60*1000,LocationRequest.PRIORITY_HIGH_ACCURACY); //TEST\n                        detectedActivity=activity.getType();\n                        // userSate = &quot;Tilting  &quot;;\n                    }\n                    break;\n                case DetectedActivity.WALKING:\n                    Log.d(TAG, &quot;On Walking &quot; + activity.getConfidence());\n                    Log.d(TAG, &quot;On Walking &quot; + detectedActivity);\n                    Log.d(TAG,&quot;Location Resquest Value &quot;+mLocationRequest);\n                    if (activity.getConfidence() &gt;= 75 &amp;&amp; activity.getType()!=detectedActivity) {\n                        //Send Notification To User\n                        Log.d(TAG,&quot;Enter In Walking &quot;+&quot;DetectedActivity &quot;+&quot; &quot;+detectedActivity);\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(mContext);\n                        builder.setContentText(&quot;Let's Walk&quot;);\n                        builder.setSmallIcon(R.drawable.demo_x);\n                        builder.setContentTitle(&quot;demo&quot;);\n                        // builder.setVibrate(new long[] {1000,1000,1000,1000,1000,1000} );\n                        NotificationManagerCompat.from(mContext).notify(0, builder.build());\n                        /*notificationIntent.putExtra(&quot;Activity&quot;,&quot;Let's Walk&quot;);\n                        LocalBroadcastManager.getInstance(mContext).sendBroadcast(notificationIntent);*/\n                         //3 min 5 hours= hours * 60 min*60 sec* 1000 milliseconds\n                        setTimer(2);\n                        detectedActivity=activity.getType();\n                        // userSate = &quot;Let's Walk   &quot;;\n\n                    }\n                    break;\n                case DetectedActivity.UNKNOWN:\n                    Log.d(TAG, &quot;UnKnown &quot; + activity.getConfidence());\n                    break;\n            }\n\n        }\n    }\n    public void setTimer(int Minutes) {\n        Log.d(TAG, &quot;==================================================&quot;);\n        Log.d(TAG, &quot;Set Timer Starts It will Run Every &quot; + Minutes);\n        int MilliSeconds = 60000 * Minutes;\n        final Handler handler = new Handler(Looper.getMainLooper());\n        timer = new Timer();\n\n        TimerTask doAsynchronousTask = new TimerTask() {\n            @Override\n            public void run() {\n                handler.post(new Runnable() {\n                    public void run() {\n                        try {\n                            //CODE THAT YOU WANT TO EXECUTE AT GIVEN INTERVAL\n                            Log.d(TAG, &quot;AsyncTask Start Here For Location Update&quot;);\n                           // App_Functions.writeToFile(App_Functions.MyCurrentTime_Date()+&quot; == &quot;+detectedActivity +&quot; ************* &quot;+System.getProperty (&quot;line.separator&quot;),&quot;Tracking&quot;,&quot;UserMove.txt&quot;,MyApplication.getmContext());\n                            new GetLocation(Activity_Recognized_Service.this,2);\n                        } catch (Exception e) {\n                            // TODO Auto-generated catch block\n                        }\n                    }\n                });\n            }\n        };\n        timer.schedule(doAsynchronousTask, 0, MilliSeconds);\n        Log.d(TAG, &quot;==================================================&quot;);\n    }\n\n}\n</code></pre>\n<p>How can i make my code work for background task and make it run even when app is closed.</p>\n"},{"tags":["java","multithreading","web-crawler","atomic"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":3,"creation_date":1638718651,"post_id":70235778,"comment_id":124157027,"body_markdown":"You shouldn&#39;t be creating a new Random object ever time you want  a new random number.  Try using a ThreadLocal to hold the a Random instance for each thread.  https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html","body":"You shouldn&#39;t be creating a new Random object ever time you want  a new random number.  Try using a ThreadLocal to hold the a Random instance for each thread.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":23553288,"reputation":19,"user_id":17595677,"display_name":"Andrea Zasa"},"score":0,"creation_date":1638721407,"post_id":70235778,"comment_id":124157715,"body_markdown":"Thank you for the feedback, I have updated the code with your suggestions. Still the problem persist.","body":"Thank you for the feedback, I have updated the code with your suggestions. Still the problem persist."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638724002,"creation_date":1638719309,"answer_id":70235933,"question_id":70235778,"body_markdown":"In the next method this code is a problem:\r\n\r\n        while (toVisit.size() == 0) {\r\n            try {\r\n                Thread.sleep(200);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThe lock isn&#39;t held for this part, so size can be stale. Instead of this, try something like\r\n\r\n    while (toVisit.size() == 0) \r\n        wait();\r\n\r\nDo this in a synchronized block so  you have the lock held while checking the collection size. Code that adds to the collection should notify in order to wake up the waiting threads. \r\n\r\n","title":"How to make a block of code execute without interruption Java?","body":"<p>In the next method this code is a problem:</p>\n<pre><code>    while (toVisit.size() == 0) {\n        try {\n            Thread.sleep(200);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The lock isn't held for this part, so size can be stale. Instead of this, try something like</p>\n<pre><code>while (toVisit.size() == 0) \n    wait();\n</code></pre>\n<p>Do this in a synchronized block so  you have the lock held while checking the collection size. Code that adds to the collection should notify in order to wake up the waiting threads.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638762205,"creation_date":1638762205,"answer_id":70240636,"question_id":70235778,"body_markdown":"This piece of code is problematic:\r\n```\r\n        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\r\n            webCrawler.add(new Runnable() {\r\n                // ...\r\n            });\r\n        }\r\n```\r\nThe ```urlHandler.getToVisit().size()``` is always changing during the traversal, and there is uncertainty (because the size will be changed asynchronously).\r\n\r\nChange to:\r\n```\r\n        int size = urlHandler.getToVisit().size();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            webCrawler.add(new Runnable() {\r\n                // ...\r\n            });\r\n        }\r\n```\r\n\r\n","title":"How to make a block of code execute without interruption Java?","body":"<p>This piece of code is problematic:</p>\n<pre><code>        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\n            webCrawler.add(new Runnable() {\n                // ...\n            });\n        }\n</code></pre>\n<p>The <code>urlHandler.getToVisit().size()</code> is always changing during the traversal, and there is uncertainty (because the size will be changed asynchronously).</p>\n<p>Change to:</p>\n<pre><code>        int size = urlHandler.getToVisit().size();\n        for (int i = 0; i &lt; size; i++) {\n            webCrawler.add(new Runnable() {\n                // ...\n            });\n        }\n</code></pre>\n"}],"owner":{"account_id":23553288,"reputation":19,"user_id":17595677,"display_name":"Andrea Zasa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638852352,"creation_date":1638718172,"question_id":70235778,"body_markdown":"I&#39;m trying to create a web crawler.\r\nI&#39;ve created a class to handle all URLs visited and to visit.\r\nThis class has to be accessed by multiple threads for retrieving and updating those lists.\r\nThe problem I&#39;m facing, or at least I think, is in **nextRandom()** and probably also in **next()**. I think what is happening is the threads are interfering with each other since the function is somewhat synchronized but not atomic. Is there a way to make so this block of code is executed without any interruption by other threads?\r\n\r\n\r\nThe URL handler\r\n---------------\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class UrlHandler {\r\n    private volatile Set&lt;String&gt; visited = new HashSet&lt;String&gt;();\r\n    private volatile List&lt;String&gt; toVisit = new ArrayList&lt;String&gt;();\r\n\r\n    public void addToVisit(String url) {\r\n        synchronized (this){\r\n            if (!visited.contains(url)) toVisit.add(url);\r\n        }\r\n    }\r\n\r\n    public void addToVisit(Collection&lt;String&gt; urls) {\r\n        synchronized (this){\r\n            for (String url : urls)\r\n                if (!visited.contains(url)) toVisit.add(url);\r\n        }\r\n    }\r\n\r\n    public void addVisited(String url){\r\n        synchronized (this){\r\n            visited.add(url);\r\n        }\r\n    }\r\n    public void addVisited(Collection&lt;String&gt; urls){\r\n        synchronized (this){\r\n            visited.addAll(urls);\r\n        }\r\n    }\r\n\r\n    public String next() {\r\n\r\n        while (toVisit.size() == 0) {\r\n            try {\r\n                Thread.sleep(200);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        synchronized (this){\r\n            String url = toVisit.get(0);\r\n            toVisit.remove(0);\r\n            return url;\r\n\r\n        }\r\n    }\r\n\r\n    public String nextRandom() {\r\n        synchronized (this){\r\n            int n = 0;\r\n            if (toVisit.size() &gt; 1){\r\n                n = ThreadLocalRandom.current().nextInt(toVisit.size());\r\n            }\r\n\r\n            String url = toVisit.get(n);\r\n            toVisit.remove(n);\r\n            return url;\r\n        }\r\n    }\r\n\r\n    public List&lt;String&gt; getToVisit() {\r\n        synchronized (this){\r\n            return toVisit;\r\n        }\r\n    }\r\n\r\n    public Set&lt;String&gt; getVisited() {\r\n        synchronized (this){\r\n            return visited;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWeb Crawler\r\n-----------\r\n\r\n```\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WebCrawler {\r\n    private final ExecutorService executor;\r\n\r\n    public WebCrawler(int nOfThreads) {\r\n        this.executor = Executors.newFixedThreadPool(nOfThreads);\r\n    }\r\n\r\n    public void add(Runnable runnable) {\r\n        this.executor.execute(runnable);\r\n    }\r\n\r\n    //Used to shut down safely and wait also 5 of seconds for not finished tasks\r\n    public void shutdown() {\r\n        this.executor.shutdown();\r\n        try {\r\n            this.executor.awaitTermination(5, TimeUnit.SECONDS);\r\n            if (!this.executor.isTerminated()) {\r\n                System.err.println(&quot;Timed out waiting for executor to terminate cleanly. Shutting down.&quot;);\r\n                this.executor.shutdownNow();\r\n            }\r\n        } catch (final InterruptedException e) {\r\n            System.err.println(&quot;Interrupted while waiting for executor shutdown.&quot;);\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFailing test example\r\n--------------------\r\n\r\n```\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class UrlHandlerTest {\r\n\r\n    List&lt;String&gt; testList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;, &quot;test3&quot;));\r\n    List&lt;String&gt; uniqueTestList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;));\r\n    UrlHandler urlHandler = new UrlHandler();\r\n\r\n    @Test\r\n    public void concurrentAccess(){\r\n        urlHandler.addToVisit(testList);\r\n\r\n        WebCrawler webCrawler = new WebCrawler(10);\r\n        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\r\n            webCrawler.add(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    String url = urlHandler.nextRandom();\r\n                    urlHandler.addVisited(url);\r\n                    System.out.println(&quot;Here thread &quot; + Thread.currentThread().getId() + &quot; working on: &quot; + url);\r\n                }\r\n            });\r\n        }\r\n\r\n        webCrawler.shutdown();\r\n\r\n        System.out.println(urlHandler.getVisited());\r\n        assertEquals(true, urlHandler.getVisited().containsAll(uniqueTestList));\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to make a block of code execute without interruption Java?","body":"<p>I'm trying to create a web crawler.\nI've created a class to handle all URLs visited and to visit.\nThis class has to be accessed by multiple threads for retrieving and updating those lists.\nThe problem I'm facing, or at least I think, is in <strong>nextRandom()</strong> and probably also in <strong>next()</strong>. I think what is happening is the threads are interfering with each other since the function is somewhat synchronized but not atomic. Is there a way to make so this block of code is executed without any interruption by other threads?</p>\n<h2>The URL handler</h2>\n<pre><code>import java.util.*;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class UrlHandler {\n    private volatile Set&lt;String&gt; visited = new HashSet&lt;String&gt;();\n    private volatile List&lt;String&gt; toVisit = new ArrayList&lt;String&gt;();\n\n    public void addToVisit(String url) {\n        synchronized (this){\n            if (!visited.contains(url)) toVisit.add(url);\n        }\n    }\n\n    public void addToVisit(Collection&lt;String&gt; urls) {\n        synchronized (this){\n            for (String url : urls)\n                if (!visited.contains(url)) toVisit.add(url);\n        }\n    }\n\n    public void addVisited(String url){\n        synchronized (this){\n            visited.add(url);\n        }\n    }\n    public void addVisited(Collection&lt;String&gt; urls){\n        synchronized (this){\n            visited.addAll(urls);\n        }\n    }\n\n    public String next() {\n\n        while (toVisit.size() == 0) {\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        synchronized (this){\n            String url = toVisit.get(0);\n            toVisit.remove(0);\n            return url;\n\n        }\n    }\n\n    public String nextRandom() {\n        synchronized (this){\n            int n = 0;\n            if (toVisit.size() &gt; 1){\n                n = ThreadLocalRandom.current().nextInt(toVisit.size());\n            }\n\n            String url = toVisit.get(n);\n            toVisit.remove(n);\n            return url;\n        }\n    }\n\n    public List&lt;String&gt; getToVisit() {\n        synchronized (this){\n            return toVisit;\n        }\n    }\n\n    public Set&lt;String&gt; getVisited() {\n        synchronized (this){\n            return visited;\n        }\n    }\n}\n</code></pre>\n<h2>Web Crawler</h2>\n<pre><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class WebCrawler {\n    private final ExecutorService executor;\n\n    public WebCrawler(int nOfThreads) {\n        this.executor = Executors.newFixedThreadPool(nOfThreads);\n    }\n\n    public void add(Runnable runnable) {\n        this.executor.execute(runnable);\n    }\n\n    //Used to shut down safely and wait also 5 of seconds for not finished tasks\n    public void shutdown() {\n        this.executor.shutdown();\n        try {\n            this.executor.awaitTermination(5, TimeUnit.SECONDS);\n            if (!this.executor.isTerminated()) {\n                System.err.println(&quot;Timed out waiting for executor to terminate cleanly. Shutting down.&quot;);\n                this.executor.shutdownNow();\n            }\n        } catch (final InterruptedException e) {\n            System.err.println(&quot;Interrupted while waiting for executor shutdown.&quot;);\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<h2>Failing test example</h2>\n<pre><code>\nimport org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class UrlHandlerTest {\n\n    List&lt;String&gt; testList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;, &quot;test3&quot;));\n    List&lt;String&gt; uniqueTestList = new ArrayList&lt;&gt;(List.of(&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;));\n    UrlHandler urlHandler = new UrlHandler();\n\n    @Test\n    public void concurrentAccess(){\n        urlHandler.addToVisit(testList);\n\n        WebCrawler webCrawler = new WebCrawler(10);\n        for (int i = 0; i &lt; urlHandler.getToVisit().size(); i++) {\n            webCrawler.add(new Runnable() {\n                @Override\n                public void run() {\n                    String url = urlHandler.nextRandom();\n                    urlHandler.addVisited(url);\n                    System.out.println(&quot;Here thread &quot; + Thread.currentThread().getId() + &quot; working on: &quot; + url);\n                }\n            });\n        }\n\n        webCrawler.shutdown();\n\n        System.out.println(urlHandler.getVisited());\n        assertEquals(true, urlHandler.getVisited().containsAll(uniqueTestList));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","android-service","lockscreen"],"answers":[{"tags":[],"owner":{"account_id":14395980,"reputation":97,"user_id":10399281,"display_name":"ssb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583845088,"creation_date":1583845088,"answer_id":60618148,"question_id":60551860,"body_markdown":"    I am new too, but I guess **android activity cycle** has an answer:\r\n    + The user opens an activity.\r\n           - onCreated() is called\r\n           - onStart() is called\r\n           - onResume() is called  \r\n    + The user LOCKS the device \r\n           - onPause() is called\r\n           - onDestroy() is called\r\n           - onCreate() is called\r\n           - onStart() is called\r\n           - onResume() is called \r\n           - onPause() is called   \r\n    + The user UNLOCKS the device\r\n           - onResume() is called\r\n           - onDestroy() is called\r\n           - onCreate() is called\r\n           - onStart() is called\r\n           - onResume() is called.\r\n    \r\n    Hope this helps","title":"Android activity opens twice when starting from lock screen","body":"<pre><code>I am new too, but I guess **android activity cycle** has an answer:\n+ The user opens an activity.\n       - onCreated() is called\n       - onStart() is called\n       - onResume() is called  \n+ The user LOCKS the device \n       - onPause() is called\n       - onDestroy() is called\n       - onCreate() is called\n       - onStart() is called\n       - onResume() is called \n       - onPause() is called   \n+ The user UNLOCKS the device\n       - onResume() is called\n       - onDestroy() is called\n       - onCreate() is called\n       - onStart() is called\n       - onResume() is called.\n\nHope this helps\n</code></pre>\n"}],"owner":{"account_id":17912684,"reputation":23,"user_id":13014422,"display_name":"sendHelpImAskingqq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638851880,"creation_date":1583432765,"question_id":60551860,"body_markdown":"guys last week I have tried myself with some android development and I&#39;m currently stuck on the following error: I&#39;m running a timer with a service in the background. When the time is up an activity shall open, even when the phone is locked. With the following code, while not locked everything is fine. But when opening from a locked screen it will always open up twice.. :/\r\n\r\n\r\nI have added this in the onCreate to make it open from the lock screen.\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //allow window to be popped up while in lock screen\r\n        Window window = this.getWindow();\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD);\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\r\n        setContentView(R.layout.activity_entry);\r\n\r\nAnd I am opening the activity from the service via an intent.\r\n\r\n        callEntryActivityIntent = new Intent(this, EntryActivity.class);\r\n        callEntryActivityIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n        pendingIntent = PendingIntent.getActivity(this, 0, callEntryActivityIntent, 0);\r\nand when timer is finished -&gt; startActivity(callEntryActivityIntent);\r\n\r\nmaybe someone has an idea. I&#39;m really really new to android development, started this two weeks ago. \r\n\r\n\r\n","title":"Android activity opens twice when starting from lock screen","body":"<p>guys last week I have tried myself with some android development and I'm currently stuck on the following error: I'm running a timer with a service in the background. When the time is up an activity shall open, even when the phone is locked. With the following code, while not locked everything is fine. But when opening from a locked screen it will always open up twice.. :/</p>\n<p>I have added this in the onCreate to make it open from the lock screen.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //allow window to be popped up while in lock screen\n    Window window = this.getWindow();\n    window.addFlags(WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD);\n    window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\n    window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n    setContentView(R.layout.activity_entry);\n</code></pre>\n<p>And I am opening the activity from the service via an intent.</p>\n<pre><code>    callEntryActivityIntent = new Intent(this, EntryActivity.class);\n    callEntryActivityIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n    pendingIntent = PendingIntent.getActivity(this, 0, callEntryActivityIntent, 0);\n</code></pre>\n<p>and when timer is finished -&gt; startActivity(callEntryActivityIntent);</p>\n<p>maybe someone has an idea. I'm really really new to android development, started this two weeks ago.</p>\n"},{"tags":["java","android","android-studio","android-intent","android-service"],"answers":[{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1584676957,"creation_date":1584666618,"answer_id":60767250,"question_id":60767216,"body_markdown":"As of Android 10 (API level 29), [you cannot start activities from the background anymore][1].\r\n\r\nThere are a number of [exceptions][2] to this rule that may or may not apply to your given scenario.\r\n\r\nIf none of the exceptions apply, you might want to consider displaying a [high-priority notification][3], possibly with a [full-screen Intent][4].\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/background-starts\r\n  [2]: https://developer.android.com/guide/components/activities/background-starts#exceptions\r\n  [3]: https://developer.android.com/training/notify-user/time-sensitive#create-high-priority-notification\r\n  [4]: https://developer.android.com/reference/android/app/Notification.Builder#setFullScreenIntent(android.app.PendingIntent,%20boolean)","title":"How to trigger a launch Activity intent when my app is closed on Android 10/Q?","body":"<p>As of Android 10 (API level 29), <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"noreferrer\">you cannot start activities from the background anymore</a>.</p>\n\n<p>There are a number of <a href=\"https://developer.android.com/guide/components/activities/background-starts#exceptions\" rel=\"noreferrer\">exceptions</a> to this rule that may or may not apply to your given scenario.</p>\n\n<p>If none of the exceptions apply, you might want to consider displaying a <a href=\"https://developer.android.com/training/notify-user/time-sensitive#create-high-priority-notification\" rel=\"noreferrer\">high-priority notification</a>, possibly with a <a href=\"https://developer.android.com/reference/android/app/Notification.Builder#setFullScreenIntent(android.app.PendingIntent,%20boolean)\" rel=\"noreferrer\">full-screen Intent</a>.</p>\n"}],"owner":{"account_id":18004394,"reputation":48,"user_id":13085535,"display_name":"CSG01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60767250,"answer_count":1,"score":2,"last_activity_date":1638851850,"creation_date":1584666317,"question_id":60767216,"body_markdown":"I am trying to create an app that will open another app at a specified time. To do this, I used an AlarmManager that starts a service. It works just fine if my app is open when the alarm is triggered. I get a notification that the service started, and the other app opens. However, if my app is in the background (after pressing the home button), and the alarm triggers, I get a notification that the service started, but the other app does not launch. What am I doing wrong? I am testing this on a Pixel 3 emulator running API level 29 (Android 10/Q).\r\n\r\nMainActivity.java\r\n-----------------\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public static final int REQUEST_CODE=101;\r\n    public static int aHour;\r\n    public static int aMinute;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void setAlarm() {\r\n        AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n        Intent intent = new Intent(this, amReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, aHour);\r\n        calendar.set(Calendar.MINUTE, aMinute);\r\n        am.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n    }\r\n\r\n    //Some code that sets aHour and aMinute\r\n\r\n    //Some code that triggers setAlarm()\r\n\r\n}\r\n```\r\n\r\namReciever.java\r\n---------------\r\n\r\n```\r\npublic class amReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent i = new Intent(context, launcherService.class);\r\n        ContextCompat.startForegroundService(getApplicationContext(), i);\r\n    }\r\n}\r\n```\r\n\r\nlauncherService.java\r\n--------------------\r\n\r\n```\r\npublic class launcherService extends Service {\r\n    public static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        createNotificationChannel();\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\r\n                0, notificationIntent, 0);\r\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setContentTitle(&quot;Foreground Service&quot;)\r\n                .setContentText(&quot;App is launching.&quot;)\r\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n        startForeground(1, notification);\r\n\r\n        Intent launcher = getApplicationContext().getPackageManager().getLaunchIntentForPackage(&quot;com.example.app&quot;);\r\n        if (launcher != null) {\r\n            startActivity(launcher);\r\n        }\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel serviceChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    &quot;Foreground Service Channel&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT\r\n            );\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(serviceChannel);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n-------------------\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n\r\n       &lt;service android:name=&quot;.launcherService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n```","title":"How to trigger a launch Activity intent when my app is closed on Android 10/Q?","body":"<p>I am trying to create an app that will open another app at a specified time. To do this, I used an AlarmManager that starts a service. It works just fine if my app is open when the alarm is triggered. I get a notification that the service started, and the other app opens. However, if my app is in the background (after pressing the home button), and the alarm triggers, I get a notification that the service started, but the other app does not launch. What am I doing wrong? I am testing this on a Pixel 3 emulator running API level 29 (Android 10/Q).</p>\n<h2>MainActivity.java</h2>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static final int REQUEST_CODE=101;\n    public static int aHour;\n    public static int aMinute;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void setAlarm() {\n        AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);\n        Intent intent = new Intent(this, amReceiver.class);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, aHour);\n        calendar.set(Calendar.MINUTE, aMinute);\n        am.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    }\n\n    //Some code that sets aHour and aMinute\n\n    //Some code that triggers setAlarm()\n\n}\n</code></pre>\n<h2>amReciever.java</h2>\n<pre><code>public class amReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent i = new Intent(context, launcherService.class);\n        ContextCompat.startForegroundService(getApplicationContext(), i);\n    }\n}\n</code></pre>\n<h2>launcherService.java</h2>\n<pre><code>public class launcherService extends Service {\n    public static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        createNotificationChannel();\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\n                0, notificationIntent, 0);\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(&quot;Foreground Service&quot;)\n                .setContentText(&quot;App is launching.&quot;)\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\n                .setContentIntent(pendingIntent)\n                .build();\n        startForeground(1, notification);\n\n        Intent launcher = getApplicationContext().getPackageManager().getLaunchIntentForPackage(&quot;com.example.app&quot;);\n        if (launcher != null) {\n            startActivity(launcher);\n        }\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel serviceChannel = new NotificationChannel(\n                    CHANNEL_ID,\n                    &quot;Foreground Service Channel&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT\n            );\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(serviceChannel);\n        }\n    }\n}\n</code></pre>\n<h2>AndroidManifest.xml</h2>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n\n       &lt;service android:name=&quot;.launcherService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot; /&gt;\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1515343395,"post_id":48138846,"comment_id":83256139,"body_markdown":"`imgViewer` != `imgView`","body":"<code>imgViewer</code> != <code>imgView</code>"},{"owner":{"account_id":9881129,"reputation":68,"user_id":7969320,"display_name":"Muiz Uvais"},"score":0,"creation_date":1515343985,"post_id":48138846,"comment_id":83256340,"body_markdown":"imgViewer is only the fxid","body":"imgViewer is only the fxid"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1515344194,"post_id":48138846,"comment_id":83256428,"body_markdown":"You want a element to be injected to a controller field? Then the `fx:id` and the field&#39;s name need to match. There is no other element in the fxml with a `fx:id` of `imgView`...","body":"You want a element to be injected to a controller field? Then the <code>fx:id</code> and the field&#39;s name need to match. There is no other element in the fxml with a <code>fx:id</code> of <code>imgView</code>..."}],"answers":[{"tags":[],"owner":{"account_id":12295592,"reputation":81,"user_id":8971326,"display_name":"Black"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515411832,"creation_date":1515411832,"answer_id":48149610,"question_id":48138846,"body_markdown":"The `fx:id=imageViewer` should be changed to `fx:id=imgView` as the field name in the class it is also same for all the `fx:id` in the fxml they should match with the field names in the class.","title":"Javafx: changing the image in an Imageview when a button is clicked","body":"<p>The <code>fx:id=imageViewer</code> should be changed to <code>fx:id=imgView</code> as the field name in the class it is also same for all the <code>fx:id</code> in the fxml they should match with the field names in the class.</p>\n"},{"tags":[],"owner":{"account_id":22867341,"reputation":35,"user_id":17010945,"display_name":"Sahil Goyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638851647,"creation_date":1638851647,"answer_id":70254981,"question_id":48138846,"body_markdown":"you have put wrong id for ImageView in the fxml file. It should be either Imgview or Imgviewer in both the fxml and the java file","title":"Javafx: changing the image in an Imageview when a button is clicked","body":"<p>you have put wrong id for ImageView in the fxml file. It should be either Imgview or Imgviewer in both the fxml and the java file</p>\n"}],"owner":{"account_id":9881129,"reputation":68,"user_id":7969320,"display_name":"Muiz Uvais"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4370,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1638851647,"creation_date":1515340297,"question_id":48138846,"body_markdown":"Controller class:\r\n\r\n    import com.jfoenix.controls.JFXButton;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    \r\n    public class ControllerBuildingPlans {\r\n        @FXML public ImageView imgView;\r\n        @FXML public JFXButton bldingBtn1;\r\n        @FXML public JFXButton bldingBtn2;\r\n        \r\n        @FXML public void bldingBtnClick1() {\r\n            imgView.setImage(new Image(&quot;com/application/Menu/viewBuildingPlans/building1 plan.jpg&quot;));\r\n        }\r\n\r\n        @FXML\r\n        public void bldingBtnClick2() {\r\n            imgView.setImage(new Image(&quot;com/application/Menu/viewBuildingPlans/building2 plan.jpg&quot;));\r\n        }\r\n    }\r\n\r\n fxml class:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Hyperlink?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;?import javafx.scene.text.TextFlow?&gt;\r\n    \r\n    &lt;AnchorPane prefHeight=&quot;502.0&quot; prefWidth=&quot;682.0&quot; style=&quot;-fx-background-color: #2D3447;&quot; xmlns=&quot;http://javafx.com/javafx/8.0.141&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.application.Menu.viewBuildingPlans.ControllerBuildingPlans&quot;&gt;\r\n        &lt;children&gt;\r\n          &lt;HBox alignment=&quot;CENTER_RIGHT&quot; layoutX=&quot;-1.0&quot; layoutY=&quot;4.0&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;135.0&quot; prefWidth=&quot;682.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;AnchorPane prefHeight=&quot;135.0&quot; prefWidth=&quot;551.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;TextFlow fx:id=&quot;Logout&quot; layoutX=&quot;7.0&quot; layoutY=&quot;7.0&quot; prefHeight=&quot;120.0&quot; prefWidth=&quot;165.0&quot;&gt;\r\n                         &lt;children&gt;\r\n                            &lt;Hyperlink fx:id=&quot;lgout&quot; prefHeight=&quot;36.0&quot; prefWidth=&quot;67.0&quot; text=&quot;Logout&quot;&gt;\r\n                               &lt;font&gt;\r\n                                  &lt;Font size=&quot;16.0&quot; /&gt;\r\n                               &lt;/font&gt;\r\n                            &lt;/Hyperlink&gt;\r\n                         &lt;/children&gt;\r\n                         &lt;padding&gt;\r\n                            &lt;Insets left=&quot;-5.0&quot; /&gt;\r\n                         &lt;/padding&gt;\r\n                      &lt;/TextFlow&gt;\r\n                      &lt;Label layoutX=&quot;265.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;57.0&quot; prefWidth=&quot;211.0&quot; text=&quot;UGNiP Staff System&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\r\n                         &lt;font&gt;\r\n                            &lt;Font size=&quot;24.0&quot; /&gt;\r\n                         &lt;/font&gt;\r\n                      &lt;/Label&gt;\r\n                      &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;301.0&quot; layoutY=&quot;90.0&quot; prefHeight=&quot;57.0&quot; prefWidth=&quot;139.0&quot; text=&quot;Building Plans&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n                         &lt;font&gt;\r\n                            &lt;Font size=&quot;21.0&quot; /&gt;\r\n                         &lt;/font&gt;\r\n                      &lt;/Label&gt;\r\n                   &lt;/children&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;310.0&quot; right=&quot;-233.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                &lt;/AnchorPane&gt;\r\n                &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                        &lt;ImageView fitHeight=&quot;120.0&quot; fitWidth=&quot;211.0&quot; layoutX=&quot;-23.0&quot; layoutY=&quot;8.0&quot; nodeOrientation=&quot;INHERIT&quot; opacity=&quot;0.8&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                            &lt;image&gt;\r\n                                &lt;Image url=&quot;file:/C:/Users/muizu/Documents/codes/cwk3/src/Icons/image.jpeg&quot; /&gt;\r\n                            &lt;/image&gt;\r\n                        &lt;/ImageView&gt;\r\n                   &lt;/children&gt;\r\n                &lt;/AnchorPane&gt;\r\n             &lt;/children&gt;\r\n          &lt;/HBox&gt;\r\n            &lt;JFXButton fx:id=&quot;bldingBtn1&quot; layoutX=&quot;610.0&quot; layoutY=&quot;185.0&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;118.0&quot; style=&quot;-fx-background-color: #3C5BFA;&quot; text=&quot;Building 1&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n                &lt;font&gt;\r\n                    &lt;Font size=&quot;18.0&quot; /&gt;\r\n                &lt;/font&gt;\r\n            &lt;/JFXButton&gt;\r\n          &lt;JFXButton fx:id=&quot;bldingBtn2&quot; layoutX=&quot;610.0&quot; layoutY=&quot;310.0&quot; onAction=&quot;#bldingBtnClick2&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;118.0&quot; style=&quot;-fx-background-color: #3C5BFA;&quot; text=&quot;Building 2&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;18.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/JFXButton&gt;\r\n          &lt;JFXButton fx:id=&quot;Back&quot; layoutY=&quot;404.0&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;86.0&quot; style=&quot;-fx-background-color: #3C5BFA;&quot; text=&quot;Back&quot; textFill=&quot;#f5f5f5&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;18.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/JFXButton&gt;\r\n          &lt;ImageView fx:id=&quot;imgViewer&quot; fitHeight=&quot;313.0&quot; fitWidth=&quot;483.0&quot; layoutX=&quot;118.0&quot; layoutY=&quot;150.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nError message:\r\n\r\n&gt; Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException:\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774) \tat\r\n&gt; javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49) \tat\r\n&gt; javafx.event.Event.fireEvent(Event.java:198) \tat\r\n&gt; javafx.scene.Node.fireEvent(Node.java:8413) \tat\r\n&gt; javafx.scene.control.Button.fire(Button.java:185) \tat\r\n&gt; com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n&gt; \tat\r\n&gt; com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n&gt; \tat\r\n&gt; com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n&gt; \tat\r\n&gt; com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n&gt; \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54) \tat\r\n&gt; javafx.event.Event.fireEvent(Event.java:198) \tat\r\n&gt; javafx.scene.Scene$MouseHandler.process(Scene.java:3757) \tat\r\n&gt; javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485) \tat\r\n&gt; javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762) \tat\r\n&gt; javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494) \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\r\n&gt; \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n&gt; \tat java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\r\n&gt; \tat\r\n&gt; com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n&gt; \tat\r\n&gt; com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\r\n&gt; \tat com.sun.glass.ui.View.handleMouseEvent(View.java:555) \tat\r\n&gt; com.sun.glass.ui.View.notifyMouse(View.java:937) \tat\r\n&gt; com.sun.glass.ui.win.WinApplication._runLoop(Native Method) \tat\r\n&gt; com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748) Caused by:\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71) \tat\r\n&gt; sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275) \tat\r\n&gt; javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771) \t...\r\n&gt; 48 more Caused by: java.lang.NullPointerException \tat\r\n&gt; com.application.Menu.viewBuildingPlans.ControllerBuildingPlans.bldingBtnClick2(ControllerBuildingPlans.java:16)\r\n&gt; \t... 58 more\r\n\r\nI want to be able to change the image when the each of those buttons are clicked.","title":"Javafx: changing the image in an Imageview when a button is clicked","body":"<p>Controller class:</p>\n\n<pre><code>import com.jfoenix.controls.JFXButton;\nimport javafx.fxml.FXML;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\npublic class ControllerBuildingPlans {\n    @FXML public ImageView imgView;\n    @FXML public JFXButton bldingBtn1;\n    @FXML public JFXButton bldingBtn2;\n\n    @FXML public void bldingBtnClick1() {\n        imgView.setImage(new Image(\"com/application/Menu/viewBuildingPlans/building1 plan.jpg\"));\n    }\n\n    @FXML\n    public void bldingBtnClick2() {\n        imgView.setImage(new Image(\"com/application/Menu/viewBuildingPlans/building2 plan.jpg\"));\n    }\n}\n</code></pre>\n\n<p>fxml class:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Hyperlink?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.TextFlow?&gt;\n\n&lt;AnchorPane prefHeight=\"502.0\" prefWidth=\"682.0\" style=\"-fx-background-color: #2D3447;\" xmlns=\"http://javafx.com/javafx/8.0.141\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"com.application.Menu.viewBuildingPlans.ControllerBuildingPlans\"&gt;\n    &lt;children&gt;\n      &lt;HBox alignment=\"CENTER_RIGHT\" layoutX=\"-1.0\" layoutY=\"4.0\" nodeOrientation=\"LEFT_TO_RIGHT\" prefHeight=\"135.0\" prefWidth=\"682.0\"&gt;\n         &lt;children&gt;\n            &lt;AnchorPane prefHeight=\"135.0\" prefWidth=\"551.0\"&gt;\n               &lt;children&gt;\n                  &lt;TextFlow fx:id=\"Logout\" layoutX=\"7.0\" layoutY=\"7.0\" prefHeight=\"120.0\" prefWidth=\"165.0\"&gt;\n                     &lt;children&gt;\n                        &lt;Hyperlink fx:id=\"lgout\" prefHeight=\"36.0\" prefWidth=\"67.0\" text=\"Logout\"&gt;\n                           &lt;font&gt;\n                              &lt;Font size=\"16.0\" /&gt;\n                           &lt;/font&gt;\n                        &lt;/Hyperlink&gt;\n                     &lt;/children&gt;\n                     &lt;padding&gt;\n                        &lt;Insets left=\"-5.0\" /&gt;\n                     &lt;/padding&gt;\n                  &lt;/TextFlow&gt;\n                  &lt;Label layoutX=\"265.0\" layoutY=\"14.0\" prefHeight=\"57.0\" prefWidth=\"211.0\" text=\"UGNiP Staff System\" textAlignment=\"CENTER\" textFill=\"WHITE\"&gt;\n                     &lt;font&gt;\n                        &lt;Font size=\"24.0\" /&gt;\n                     &lt;/font&gt;\n                  &lt;/Label&gt;\n                  &lt;Label alignment=\"CENTER\" contentDisplay=\"CENTER\" layoutX=\"301.0\" layoutY=\"90.0\" prefHeight=\"57.0\" prefWidth=\"139.0\" text=\"Building Plans\" textFill=\"#f5f5f5\"&gt;\n                     &lt;font&gt;\n                        &lt;Font size=\"21.0\" /&gt;\n                     &lt;/font&gt;\n                  &lt;/Label&gt;\n               &lt;/children&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=\"310.0\" right=\"-233.0\" /&gt;\n               &lt;/padding&gt;\n            &lt;/AnchorPane&gt;\n            &lt;AnchorPane prefHeight=\"200.0\" prefWidth=\"200.0\"&gt;\n               &lt;children&gt;\n                    &lt;ImageView fitHeight=\"120.0\" fitWidth=\"211.0\" layoutX=\"-23.0\" layoutY=\"8.0\" nodeOrientation=\"INHERIT\" opacity=\"0.8\" pickOnBounds=\"true\" preserveRatio=\"true\"&gt;\n                        &lt;image&gt;\n                            &lt;Image url=\"file:/C:/Users/muizu/Documents/codes/cwk3/src/Icons/image.jpeg\" /&gt;\n                        &lt;/image&gt;\n                    &lt;/ImageView&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n        &lt;JFXButton fx:id=\"bldingBtn1\" layoutX=\"610.0\" layoutY=\"185.0\" prefHeight=\"47.0\" prefWidth=\"118.0\" style=\"-fx-background-color: #3C5BFA;\" text=\"Building 1\" textFill=\"#f5f5f5\"&gt;\n            &lt;font&gt;\n                &lt;Font size=\"18.0\" /&gt;\n            &lt;/font&gt;\n        &lt;/JFXButton&gt;\n      &lt;JFXButton fx:id=\"bldingBtn2\" layoutX=\"610.0\" layoutY=\"310.0\" onAction=\"#bldingBtnClick2\" prefHeight=\"47.0\" prefWidth=\"118.0\" style=\"-fx-background-color: #3C5BFA;\" text=\"Building 2\" textFill=\"#f5f5f5\"&gt;\n         &lt;font&gt;\n            &lt;Font size=\"18.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/JFXButton&gt;\n      &lt;JFXButton fx:id=\"Back\" layoutY=\"404.0\" prefHeight=\"47.0\" prefWidth=\"86.0\" style=\"-fx-background-color: #3C5BFA;\" text=\"Back\" textFill=\"#f5f5f5\"&gt;\n         &lt;font&gt;\n            &lt;Font size=\"18.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/JFXButton&gt;\n      &lt;ImageView fx:id=\"imgViewer\" fitHeight=\"313.0\" fitWidth=\"483.0\" layoutX=\"118.0\" layoutY=\"150.0\" pickOnBounds=\"true\" preserveRatio=\"true\" /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>Exception in thread \"JavaFX Application Thread\" java.lang.RuntimeException:\n  java.lang.reflect.InvocationTargetException   at\n  javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774)     at\n  javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\n    at\n  com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at\n  com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)  at\n  javafx.event.Event.fireEvent(Event.java:198)  at\n  javafx.scene.Node.fireEvent(Node.java:8413)   at\n  javafx.scene.control.Button.fire(Button.java:185)     at\n  com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\n    at\n  com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\n    at\n  com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\n    at\n  com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at\n  com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at\n  com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at\n  com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at\n  com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at\n  com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)  at\n  javafx.event.Event.fireEvent(Event.java:198)  at\n  javafx.scene.Scene$MouseHandler.process(Scene.java:3757)  at\n  javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)  at\n  javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)    at\n  javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)  at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\n    at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)   at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\n    at\n  com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\n    at\n  com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:555)    at\n  com.sun.glass.ui.View.notifyMouse(View.java:937)  at\n  com.sun.glass.ui.win.WinApplication._runLoop(Native Method)   at\n  com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)\n    at java.lang.Thread.run(Thread.java:748) Caused by:\n  java.lang.reflect.InvocationTargetException   at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)    at\n  sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)   at\n  javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771)     ...\n  48 more Caused by: java.lang.NullPointerException     at\n  com.application.Menu.viewBuildingPlans.ControllerBuildingPlans.bldingBtnClick2(ControllerBuildingPlans.java:16)\n    ... 58 more</p>\n</blockquote>\n\n<p>I want to be able to change the image when the each of those buttons are clicked.</p>\n"},{"tags":["java","firebase","firebase-realtime-database","null","classpath"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638851013,"creation_date":1638851013,"answer_id":70254912,"question_id":70254612,"body_markdown":"The error comes from this method:\r\n\r\n    public String recuperarId(){\r\n        DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        referencia.child(&quot;usuarios&quot;)\r\n                .child(getId()).get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    idSalvo = String.valueOf(task.getResult().getValue());\r\n                }\r\n            }\r\n        });\r\n\r\n        return idSalvo;\r\n    }\r\n\r\nSince there&#39;s only one call to `child()` where pass a variable, it&#39;s clear that `getId()` is returning `null`, which is not allowed. You&#39;ll want to investigate why `id` is null.\r\n\r\n---\r\n\r\nSeparate from that: this method is gonna return the old value of `idSalvo`, since by the time `return idSalvo` runs the `onComplete` hasn&#39;t been called yet. Run your code in a debugger, or add some logging lines, to most easily see this.\r\n\r\nFor more on this, read:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n* https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\r\n","title":"Getting the error Can&#39;t pass null for argument &#39;pathString&#39; in child()","body":"<p>The error comes from this method:</p>\n<pre><code>public String recuperarId(){\n    DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\n    referencia.child(&quot;usuarios&quot;)\n            .child(getId()).get()\n            .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if(task.isSuccessful()){\n                idSalvo = String.valueOf(task.getResult().getValue());\n            }\n        }\n    });\n\n    return idSalvo;\n}\n</code></pre>\n<p>Since there's only one call to <code>child()</code> where pass a variable, it's clear that <code>getId()</code> is returning <code>null</code>, which is not allowed. You'll want to investigate why <code>id</code> is null.</p>\n<hr />\n<p>Separate from that: this method is gonna return the old value of <code>idSalvo</code>, since by the time <code>return idSalvo</code> runs the <code>onComplete</code> hasn't been called yet. Run your code in a debugger, or add some logging lines, to most easily see this.</p>\n<p>For more on this, read:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></li>\n</ul>\n"}],"owner":{"account_id":23569188,"reputation":5,"user_id":17609544,"display_name":"X MrZaq X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70254912,"answer_count":1,"score":0,"last_activity_date":1638851013,"creation_date":1638847922,"question_id":70254612,"body_markdown":"I&#39;m getting the following error (below), and i have tried a lot of things like change the local to call the method localizacao.setId(usuario.recuperarId()), later tried to instanciety the class usuario alone and not this not solved, this is giving me a hard work to solve, if someone can help i&#39;ll be grateful\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nThe error\r\n---------\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.znovations.citty, PID: 4666\r\n    java.lang.NullPointerException: Can&#39;t pass null for argument &#39;pathString&#39; in child()\r\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\r\n        at com.znovations.citty.model.Usuario.recuperarId(Usuario.java:34)\r\n        at com.znovations.citty.activitys.MapsActivity.onMapReady(MapsActivity.java:84)\r\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.0.0:1)\r\n        at com.google.android.gms.maps.internal.zzaq.zza(com.google.android.gms:play-services-maps@@18.0.0:5)\r\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.0.0:3)\r\n        at android.os.Binder.transact(Binder.java:1043)\r\n        at dy.aZ(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):2)\r\n        at com.google.maps.api.android.lib6.impl.bk.run(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):1)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n```\r\n\r\nMapsActivity\r\n------------\r\n\r\n```\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private ActivityMapaBinding binding;\r\n    private FirebaseAuth autenticacao;\r\n    private Toolbar toolbar;\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n    private LatLng localizacaoAtual;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMapaBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        toolbar = findViewById(R.id.toolbar);\r\n\r\n        //Configuracoes inciais\r\n        autenticacao = FirebaseAuth.getInstance();\r\n        configurarToolbar();\r\n\r\n\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    /**\r\n     * Manipulates the map once available.\r\n     * This callback is triggered when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n     * we just add a marker near Sydney, Australia.\r\n     * If Google Play services is not installed on the device, the user will be prompted to install\r\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n     * installed Google Play services and returned to the app.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        //Recuperar localiza&#231;&#227;o do usu&#225;rio\r\n        recuperarLocalizacaoUsuario();\r\n\r\n        localizacao.setId(usuario.recuperarId());\r\n        localizacao.salvarLocalizacao();\r\n\r\n    }\r\n\r\n    public void clicarMapa(){\r\n        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n            @Override\r\n            public void onMapClick(@NonNull LatLng latLng) {\r\n                mMap.addMarker(\r\n                        new MarkerOptions()\r\n                        .position(latLng)\r\n                        .title(&quot;Local de experiencia&quot;)\r\n                        .icon(BitmapDescriptorFactory.fromResource(R.drawable.cranio))\r\n\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    Usuario usuario = new Usuario();\r\n    UsuarioLocalizacao localizacao = new UsuarioLocalizacao();\r\n\r\n    private void recuperarLocalizacaoUsuario() {\r\n\r\n        locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\r\n\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(@NonNull Location location) {\r\n\r\n                double latitude = location.getLatitude();\r\n                double longitude = location.getLongitude();\r\n               localizacaoAtual = new LatLng(latitude, longitude);\r\n\r\n                localizacao.setLatitude(String.valueOf(localizacaoAtual.latitude));\r\n                localizacao.setLongitude(String.valueOf(localizacaoAtual.longitude));\r\n\r\n                clicarMapa();\r\n                mMap.clear();\r\n                mMap.addMarker(\r\n                        new MarkerOptions()\r\n                                .position(localizacaoAtual)\r\n                                .title(&quot;Meu local&quot;)\r\n                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.usuario))\r\n                );\r\n\r\n                mMap.moveCamera(\r\n                        CameraUpdateFactory.newLatLngZoom(localizacaoAtual, 15)\r\n                );\r\n            }\r\n\r\n        };\r\n\r\n\r\n\r\n        //Solicitar atualiza&#231;&#245;es de localiza&#231;&#227;o\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            locationManager.requestLocationUpdates(\r\n                    LocationManager.GPS_PROVIDER,\r\n                    10000,\r\n                    10,\r\n                    locationListener\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    public void configurarToolbar(){\r\n        toolbar.setTitle(&quot;Encontrar&quot;);\r\n        toolbar.inflateMenu(R.menu.menu_main);\r\n        Menu menu = toolbar.getMenu();\r\n        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\r\n            @Override\r\n            public boolean onMenuItemClick(MenuItem item) {\r\n\r\n                switch (item.getItemId()){\r\n\r\n                    case R.id.menuSair:\r\n                        autenticacao.signOut();\r\n                        finish();\r\n                        break;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    public void deslogarUsuario(){\r\n        autenticacao.signOut();\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()){\r\n\r\n            case R.id.menuSair:\r\n                autenticacao.signOut();\r\n                finish();\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n\r\n```\r\n\r\nUsuarioLocalizacao class\r\n------------------------\r\n\r\n```\r\npublic class UsuarioLocalizacao {\r\n\r\n    private String id;\r\n    private String latitude;\r\n    private String longitude;\r\n\r\n    public UsuarioLocalizacao() {\r\n\r\n    }\r\n\r\n    public void salvarLocalizacao(){\r\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        DatabaseReference user = firebaseRef.child(String.valueOf(&quot;Localizacao&quot;)).child(getId());\r\n\r\n        user.setValue(this);\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLatitude() {\r\n        return latitude;\r\n    }\r\n\r\n    public void setLatitude(String latitude) {\r\n        this.latitude = latitude;\r\n    }\r\n\r\n    public String getLongitude() {\r\n        return longitude;\r\n    }\r\n\r\n    public void setLongitude(String longitude) {\r\n        this.longitude = longitude;\r\n    }\r\n}\r\n\r\n```\r\n\r\nUsuario class\r\n-------------\r\n\r\n```\r\npublic class Usuario {\r\n\r\n    private String id;\r\n    private String nome;\r\n    private String Email;\r\n    private String senha;\r\n    private String idSalvo;\r\n\r\n    public Usuario() {\r\n    }\r\n\r\n    public void salvar(){\r\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        DatabaseReference user = firebaseRef.child(&quot;usuarios&quot;).child( getId());\r\n\r\n        user.setValue(this);\r\n    }\r\n\r\n    public String recuperarId(){\r\n        DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        referencia.child(&quot;usuarios&quot;)\r\n                .child(getId()).get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    idSalvo = String.valueOf(task.getResult().getValue());\r\n                }\r\n            }\r\n        });\r\n\r\n        return idSalvo;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return Email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        Email = email;\r\n    }\r\n\r\n    @Exclude\r\n    public String getSenha() {\r\n        return senha;\r\n    }\r\n\r\n    public void setSenha(String senha) {\r\n        this.senha = senha;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Getting the error Can&#39;t pass null for argument &#39;pathString&#39; in child()","body":"<p>I'm getting the following error (below), and i have tried a lot of things like change the local to call the method localizacao.setId(usuario.recuperarId()), later tried to instanciety the class usuario alone and not this not solved, this is giving me a hard work to solve, if someone can help i'll be grateful</p>\n<p>//////////////////////////////////////////////////////////////////////////////////////////////////</p>\n<h2>The error</h2>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.znovations.citty, PID: 4666\n    java.lang.NullPointerException: Can't pass null for argument 'pathString' in child()\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\n        at com.znovations.citty.model.Usuario.recuperarId(Usuario.java:34)\n        at com.znovations.citty.activitys.MapsActivity.onMapReady(MapsActivity.java:84)\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.0.0:1)\n        at com.google.android.gms.maps.internal.zzaq.zza(com.google.android.gms:play-services-maps@@18.0.0:5)\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.0.0:3)\n        at android.os.Binder.transact(Binder.java:1043)\n        at dy.aZ(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):2)\n        at com.google.maps.api.android.lib6.impl.bk.run(:com.google.android.gms.dynamite_mapsdynamite@214515084@21.45.15 (150700-0):1)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n\n</code></pre>\n<h2>MapsActivity</h2>\n<pre><code>public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private ActivityMapaBinding binding;\n    private FirebaseAuth autenticacao;\n    private Toolbar toolbar;\n    private LocationManager locationManager;\n    private LocationListener locationListener;\n    private LatLng localizacaoAtual;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMapaBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        toolbar = findViewById(R.id.toolbar);\n\n        //Configuracoes inciais\n        autenticacao = FirebaseAuth.getInstance();\n        configurarToolbar();\n\n\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        //Recuperar localização do usuário\n        recuperarLocalizacaoUsuario();\n\n        localizacao.setId(usuario.recuperarId());\n        localizacao.salvarLocalizacao();\n\n    }\n\n    public void clicarMapa(){\n        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n            @Override\n            public void onMapClick(@NonNull LatLng latLng) {\n                mMap.addMarker(\n                        new MarkerOptions()\n                        .position(latLng)\n                        .title(&quot;Local de experiencia&quot;)\n                        .icon(BitmapDescriptorFactory.fromResource(R.drawable.cranio))\n\n                );\n            }\n        });\n    }\n\n    Usuario usuario = new Usuario();\n    UsuarioLocalizacao localizacao = new UsuarioLocalizacao();\n\n    private void recuperarLocalizacaoUsuario() {\n\n        locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\n\n        locationListener = new LocationListener() {\n            @Override\n            public void onLocationChanged(@NonNull Location location) {\n\n                double latitude = location.getLatitude();\n                double longitude = location.getLongitude();\n               localizacaoAtual = new LatLng(latitude, longitude);\n\n                localizacao.setLatitude(String.valueOf(localizacaoAtual.latitude));\n                localizacao.setLongitude(String.valueOf(localizacaoAtual.longitude));\n\n                clicarMapa();\n                mMap.clear();\n                mMap.addMarker(\n                        new MarkerOptions()\n                                .position(localizacaoAtual)\n                                .title(&quot;Meu local&quot;)\n                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.usuario))\n                );\n\n                mMap.moveCamera(\n                        CameraUpdateFactory.newLatLngZoom(localizacaoAtual, 15)\n                );\n            }\n\n        };\n\n\n\n        //Solicitar atualizações de localização\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            locationManager.requestLocationUpdates(\n                    LocationManager.GPS_PROVIDER,\n                    10000,\n                    10,\n                    locationListener\n            );\n        }\n\n    }\n\n    public void configurarToolbar(){\n        toolbar.setTitle(&quot;Encontrar&quot;);\n        toolbar.inflateMenu(R.menu.menu_main);\n        Menu menu = toolbar.getMenu();\n        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n            @Override\n            public boolean onMenuItemClick(MenuItem item) {\n\n                switch (item.getItemId()){\n\n                    case R.id.menuSair:\n                        autenticacao.signOut();\n                        finish();\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n\n    public void deslogarUsuario(){\n        autenticacao.signOut();\n        finish();\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        switch (item.getItemId()){\n\n            case R.id.menuSair:\n                autenticacao.signOut();\n                finish();\n                break;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n\n</code></pre>\n<h2>UsuarioLocalizacao class</h2>\n<pre><code>public class UsuarioLocalizacao {\n\n    private String id;\n    private String latitude;\n    private String longitude;\n\n    public UsuarioLocalizacao() {\n\n    }\n\n    public void salvarLocalizacao(){\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n        DatabaseReference user = firebaseRef.child(String.valueOf(&quot;Localizacao&quot;)).child(getId());\n\n        user.setValue(this);\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n}\n\n</code></pre>\n<h2>Usuario class</h2>\n<pre><code>public class Usuario {\n\n    private String id;\n    private String nome;\n    private String Email;\n    private String senha;\n    private String idSalvo;\n\n    public Usuario() {\n    }\n\n    public void salvar(){\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n        DatabaseReference user = firebaseRef.child(&quot;usuarios&quot;).child( getId());\n\n        user.setValue(this);\n    }\n\n    public String recuperarId(){\n        DatabaseReference referencia = ConfiguracaoFirebase.getFirebaseDatabase();\n        referencia.child(&quot;usuarios&quot;)\n                .child(getId()).get()\n                .addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                if(task.isSuccessful()){\n                    idSalvo = String.valueOf(task.getResult().getValue());\n                }\n            }\n        });\n\n        return idSalvo;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getEmail() {\n        return Email;\n    }\n\n    public void setEmail(String email) {\n        Email = email;\n    }\n\n    @Exclude\n    public String getSenha() {\n        return senha;\n    }\n\n    public void setSenha(String senha) {\n        this.senha = senha;\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","android","android-intent","nullpointerexception","bundle"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638471928,"creation_date":1638471928,"answer_id":70205148,"question_id":70205086,"body_markdown":"Generally speaking, do not call `Activity` methods from a field initializer. Move your `getIntent()` and `getExtras()` calls to be inside of `onCreate()`, after the call to `super.onCreate()`.","title":"Problem receiving data through Intent on Android","body":"<p>Generally speaking, do not call <code>Activity</code> methods from a field initializer. Move your <code>getIntent()</code> and <code>getExtras()</code> calls to be inside of <code>onCreate()</code>, after the call to <code>super.onCreate()</code>.</p>\n"}],"owner":{"account_id":22774881,"reputation":53,"user_id":16931734,"display_name":"Jack Stuart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70205148,"answer_count":1,"score":0,"last_activity_date":1638850725,"creation_date":1638471610,"question_id":70205086,"body_markdown":"It&#39;s better to post pictures to show what exactly is going on, okay?\r\nThe first image shows an object of the Intent class called senderIntent, which will send it to a class called &quot;Resultado&quot;.\r\nThe senderIntent (which is an object of the Intent class) sends the value of the variable email, to another variable also called email:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the next image, it shows that I created an object of the Intent class called receiverIntent:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I created an object of the Bundle class that receives the receiverIntent&#39;s getextras() method.\r\nThe problem is that the NullPointer Exception error is happening in the line of code:\r\nBundle receiverBundle = receiverIntent.getExtras();\r\n\r\nPlease what to do to fix it?\r\n----------------------------\r\n\r\n  [1]: https://i.stack.imgur.com/ik0e0.png\r\n  [2]: https://i.stack.imgur.com/Kin4y.png","title":"Problem receiving data through Intent on Android","body":"<p>It's better to post pictures to show what exactly is going on, okay?\nThe first image shows an object of the Intent class called senderIntent, which will send it to a class called &quot;Resultado&quot;.\nThe senderIntent (which is an object of the Intent class) sends the value of the variable email, to another variable also called email:</p>\n<p><a href=\"https://i.stack.imgur.com/ik0e0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ik0e0.png\" alt=\"enter image description here\" /></a></p>\n<p>In the next image, it shows that I created an object of the Intent class called receiverIntent:</p>\n<p><a href=\"https://i.stack.imgur.com/Kin4y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kin4y.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I created an object of the Bundle class that receives the receiverIntent's getextras() method.\nThe problem is that the NullPointer Exception error is happening in the line of code:\nBundle receiverBundle = receiverIntent.getExtras();</p>\n<h2>Please what to do to fix it?</h2>\n"},{"tags":["java","android","monitor","usb-camera"],"answers":[{"tags":[],"owner":{"account_id":22821029,"reputation":96,"user_id":16970888,"display_name":"Jamebes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638850318,"creation_date":1638850318,"answer_id":70254850,"question_id":69194647,"body_markdown":"First: U need start the app when usb camera inserted\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n\r\n                &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;/&gt;\r\n               &lt;/intent-filter&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;\r\n                    android:resource=&quot;@xml/device_filter&quot;/&gt;\r\n\r\n          &lt;/activity&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSecond: keep screen on\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThat work for me!","title":"How to get the screen on when usb attached (android 10)","body":"<p>First: U need start the app when usb camera inserted</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;activity\n            android:name=\".MainActivity\"\n            android:exported=\"true\"\n            android:launchMode=\"singleTask\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n            &lt;action android:name=\"android.hardware.usb.action.USB_DEVICE_ATTACHED\"/&gt;\n           &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=\"android.hardware.usb.action.USB_DEVICE_ATTACHED\"\n                android:resource=\"@xml/device_filter\"/&gt;\n\n      &lt;/activity&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Second: keep screen on</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>That work for me!</p>\n"}],"owner":{"account_id":22760578,"reputation":1,"user_id":16919465,"display_name":"user16919465"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638850318,"creation_date":1631714501,"question_id":69194647,"body_markdown":"I am working on an app and I am trying to find a way to wake the screen when I plug a usb camera to the phone while screen off on a android phone. I tried to monitor my usb connection but it didn&#39;t work, once the screen off, my app can no longer tell if a usb camera is connected.\r\nCan somebody give me some ideas about how to do that? Thanks!","title":"How to get the screen on when usb attached (android 10)","body":"<p>I am working on an app and I am trying to find a way to wake the screen when I plug a usb camera to the phone while screen off on a android phone. I tried to monitor my usb connection but it didn't work, once the screen off, my app can no longer tell if a usb camera is connected.\nCan somebody give me some ideas about how to do that? Thanks!</p>\n"},{"tags":["java","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":13059842,"reputation":89,"user_id":9437421,"display_name":"Khaliq Izrail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638849445,"creation_date":1638849445,"answer_id":70254768,"question_id":70142018,"body_markdown":"I had the same issue while creating new project in Android studio. allProjects was missing from gradle. i had to add\r\n\r\n    flatDir {\r\n      dirs &#39;libs&#39;\r\n    }\r\n\r\nto my project. \r\ni solved this issue by adding it into \r\n\r\n&gt; settings.gradle\r\n\r\n \r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n    \r\n            flatDir {\r\n                dirs &#39;libs&#39;\r\n            }\r\n        }\r\n    }","title":"allprojects missing from build.gradle","body":"<p>I had the same issue while creating new project in Android studio. allProjects was missing from gradle. i had to add</p>\n<pre><code>flatDir {\n  dirs 'libs'\n}\n</code></pre>\n<p>to my project.\ni solved this issue by adding it into</p>\n<blockquote>\n<p>settings.gradle</p>\n</blockquote>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n\n        flatDir {\n            dirs 'libs'\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16130325,"reputation":23,"user_id":11644192,"display_name":"Noivy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638849445,"creation_date":1638090967,"question_id":70142018,"body_markdown":"Whenever I create a new project, build.gradle doesn&#39;t seem to contain allprojects. When I try to add it manually to add a new repository, I get :\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project","title":"allprojects missing from build.gradle","body":"<p>Whenever I create a new project, build.gradle doesn't seem to contain allprojects. When I try to add it manually to add a new repository, I get :</p>\n<ul>\n<li>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project</li>\n</ul>\n"},{"tags":["java","jboss","java-ee-6"],"comments":[{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1490343852,"post_id":42994279,"comment_id":73079574,"body_markdown":"Have you tried it in a Wildfly 8 or EAP 7? Just to get shure it&#39;s not a bug in EAP 6.3.0.\nFound this here: https://access.redhat.com/solutions/291713 but seems to befixed in your version","body":"Have you tried it in a Wildfly 8 or EAP 7? Just to get shure it&#39;s not a bug in EAP 6.3.0. Found this here: <a href=\"https://access.redhat.com/solutions/291713\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/291713</a> but seems to befixed in your version"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1490343897,"post_id":42994279,"comment_id":73079603,"body_markdown":"have you tried this in Jboss 7 AS. i cant see any problem, this should work. but one thing, databse cleanup task should not be done in preDestroy, it is just to do some resource cleanup. but in your example it is just a log.info","body":"have you tried this in Jboss 7 AS. i cant see any problem, this should work. but one thing, databse cleanup task should not be done in preDestroy, it is just to do some resource cleanup. but in your example it is just a log.info"},{"owner":{"account_id":10412239,"reputation":3333,"user_id":7677308,"accept_rate":100,"display_name":"SilverNak"},"score":0,"creation_date":1490346336,"post_id":42994279,"comment_id":73080855,"body_markdown":"There is also no `@PreDestroy` message when I deploy this to a Wildfly 8.\n\n@hunter When PreDestroy is not the right place to do database cleanup, where else can I do it? (If there is a better solution than `@PreDestroy`, I don&#39;t care about why this doesn&#39;t work)","body":"There is also no <code>@PreDestroy</code> message when I deploy this to a Wildfly 8.  @hunter When PreDestroy is not the right place to do database cleanup, where else can I do it? (If there is a better solution than <code>@PreDestroy</code>, I don&#39;t care about why this doesn&#39;t work)"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1490349990,"creation_date":1490349990,"answer_id":42996573,"question_id":42994279,"body_markdown":"This is not the answer for your question, this is the answer for the question you raised in the last comment.\r\nactually i can not think about a right place to do it.someone else might help you to figure it out.\r\nbut anyway @PostContruct and @PreDestory might not be a part of transaction, that&#39;s why it is not good to do DB operations in those methods,\r\n\r\nBut for your help i attach this which i took from a book (Mastering EJB 3.0),\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeCq4.png","title":"@PreDestroy method not called in @Singleton on JBoss EAP 6.3.0","body":"<p>This is not the answer for your question, this is the answer for the question you raised in the last comment.\nactually i can not think about a right place to do it.someone else might help you to figure it out.\nbut anyway @PostContruct and @PreDestory might not be a part of transaction, that's why it is not good to do DB operations in those methods,</p>\n\n<p>But for your help i attach this which i took from a book (Mastering EJB 3.0),</p>\n\n<p><a href=\"https://i.stack.imgur.com/BeCq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BeCq4.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":10412239,"reputation":3333,"user_id":7677308,"accept_rate":100,"display_name":"SilverNak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42996573,"answer_count":1,"score":2,"last_activity_date":1638849356,"creation_date":1490342512,"question_id":42994279,"body_markdown":"In my JavaEE application, I have a `@Singleton` class containing some `@Scheduled` methods. Furthermore there are methods with `@PostConstruct` and `@PreDestroy` to set up and clean up the database. (For the sake of simplicity, I just have logging in the example, since that reproduces the problem.) The application has to run on a JBoss EAP 6.3.0.GA server.\r\n\r\nWhile the `@PostConstruct` method works fine, `@PreDestroy` is not called when I shutdown the server (neither when pressing the *stop the server* button in eclipse nor when using a `shutdown` command from jboss-cli). Here is some code, which reproduces the problem:\r\n\r\n\timport javax.annotation.PostConstruct;\r\n\timport javax.annotation.PreDestroy;\r\n\timport javax.ejb.Singleton;\r\n\timport javax.ejb.Startup;\r\n\t\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\t\r\n\t@Singleton\r\n\t@Startup\r\n\tpublic class TimerBean {\r\n\t\r\n\t\tprivate static final Logger log = LoggerFactory.getLogger(TimerBean.class);\r\n\r\n\t\t@PostConstruct\r\n\t\tprivate void postConstruct() {\r\n\t\t\tlog.info(&quot;PostConstruct called&quot;);\r\n\t\t}\r\n\t\r\n\t\t@PreDestroy\r\n\t\tprivate void preDestroy() {\r\n\t\t\tlog.info(&quot;PreDestroy called&quot;);\r\n\t\t}\r\n    }\r\n\r\nDuring startup of the server, the `@PostConstruct` message appears in the log. But when shutting down the server, no log message appears.\r\n\r\nHow can I make the server call the `@PreDestroy` method?\r\n\r\n**EDIT**: Since the `@PreDestroy` method is not the appropriate location to clean up the database, this question is obsolete.","title":"@PreDestroy method not called in @Singleton on JBoss EAP 6.3.0","body":"<p>In my JavaEE application, I have a <code>@Singleton</code> class containing some <code>@Scheduled</code> methods. Furthermore there are methods with <code>@PostConstruct</code> and <code>@PreDestroy</code> to set up and clean up the database. (For the sake of simplicity, I just have logging in the example, since that reproduces the problem.) The application has to run on a JBoss EAP 6.3.0.GA server.</p>\n\n<p>While the <code>@PostConstruct</code> method works fine, <code>@PreDestroy</code> is not called when I shutdown the server (neither when pressing the <em>stop the server</em> button in eclipse nor when using a <code>shutdown</code> command from jboss-cli). Here is some code, which reproduces the problem:</p>\n\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport javax.ejb.Singleton;\nimport javax.ejb.Startup;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Singleton\n@Startup\npublic class TimerBean {\n\n    private static final Logger log = LoggerFactory.getLogger(TimerBean.class);\n\n    @PostConstruct\n    private void postConstruct() {\n        log.info(\"PostConstruct called\");\n    }\n\n    @PreDestroy\n    private void preDestroy() {\n        log.info(\"PreDestroy called\");\n    }\n}\n</code></pre>\n\n<p>During startup of the server, the <code>@PostConstruct</code> message appears in the log. But when shutting down the server, no log message appears.</p>\n\n<p>How can I make the server call the <code>@PreDestroy</code> method?</p>\n\n<p><strong>EDIT</strong>: Since the <code>@PreDestroy</code> method is not the appropriate location to clean up the database, this question is obsolete.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638846215,"post_id":70254412,"comment_id":124190705,"body_markdown":"It&#39;s setting `lastRet` and then evaluating it.","body":"It&#39;s setting <code>lastRet</code> and then evaluating it."},{"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"score":1,"creation_date":1638846497,"post_id":70254412,"comment_id":124190754,"body_markdown":"Adding `**` to the code is confusing because it&#39;s no longer valid.  It would be more clear if you removed the `**` and just left the comment in the code.","body":"Adding <code>**</code> to the code is confusing because it&#39;s no longer valid.  It would be more clear if you removed the <code>**</code> and just left the comment in the code."}],"answers":[{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638846185,"creation_date":1638846185,"answer_id":70254449,"question_id":70254412,"body_markdown":"The value of an assignment statement is the value being assigned.\r\n\r\nIn this case the value is just `i` but the statement also has the effect of storing that value in `lastRet`.\r\n\r\n","title":"question about next() in arraylist iterator JAVA","body":"<p>The value of an assignment statement is the value being assigned.</p>\n<p>In this case the value is just <code>i</code> but the statement also has the effect of storing that value in <code>lastRet</code>.</p>\n"}],"owner":{"account_id":2494512,"reputation":693,"user_id":2171299,"accept_rate":71,"display_name":"john_w"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70254449,"answer_count":1,"score":0,"last_activity_date":1638849099,"creation_date":1638845790,"question_id":70254412,"body_markdown":"I am just wondering what does the highlighted part of the code do here?\r\n\r\n    public E next() {\r\n            checkForComodification();\r\n            int i = cursor;\r\n            if (i &gt;= size)\r\n            throw new NoSuchElementException();\r\n        Object[] elementData = ArrayList.this.elementData;\r\n        if (i &gt;= elementData.length)\r\n            throw new ConcurrentModificationException();\r\n        cursor = i + 1;\r\n        return (E) elementData[lastRet = i]; // what exactly does lastRet = i do??\r\n    }\r\n\r\ndoes lastRet = i assigns i to lastRet?  if so, if i = 3, then we have elementData[lastRet = 3]?\r\nbut what does that do? I understand if I have elementData[0] then I am retrieving elementData at the 0 position, and if I have elementData[2] then I am retrieving elementData at the 3rd position. \r\nBut what is elementData[lastRet = i]?  is lastRet = i actually checking if lastRet equals to i? like lastRet == i? but if so, why not write lastRet ==i instead?  so it shouldn&#39;t be checking equality. So what does lastRet = i do? so it assigns i to lastRet? But then I don&#39;t understand what the code: elementData[lastRet = i] do exactly? ","title":"question about next() in arraylist iterator JAVA","body":"<p>I am just wondering what does the highlighted part of the code do here?</p>\n<pre><code>public E next() {\n        checkForComodification();\n        int i = cursor;\n        if (i &gt;= size)\n        throw new NoSuchElementException();\n    Object[] elementData = ArrayList.this.elementData;\n    if (i &gt;= elementData.length)\n        throw new ConcurrentModificationException();\n    cursor = i + 1;\n    return (E) elementData[lastRet = i]; // what exactly does lastRet = i do??\n}\n</code></pre>\n<p>does lastRet = i assigns i to lastRet?  if so, if i = 3, then we have elementData[lastRet = 3]?\nbut what does that do? I understand if I have elementData[0] then I am retrieving elementData at the 0 position, and if I have elementData[2] then I am retrieving elementData at the 3rd position.\nBut what is elementData[lastRet = i]?  is lastRet = i actually checking if lastRet equals to i? like lastRet == i? but if so, why not write lastRet ==i instead?  so it shouldn't be checking equality. So what does lastRet = i do? so it assigns i to lastRet? But then I don't understand what the code: elementData[lastRet = i] do exactly?</p>\n"},{"tags":["java","docker","pid"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1638854031,"post_id":70254712,"comment_id":124191992,"body_markdown":"Why do you think it would be different in Docker?","body":"Why do you think it would be different in Docker?"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1638879418,"post_id":70254712,"comment_id":124199955,"body_markdown":"Depending on your setup, the process ID is probably 1.","body":"Depending on your setup, the process ID is probably 1."},{"owner":{"account_id":11274470,"reputation":1,"user_id":8268885,"display_name":"G.yuan"},"score":1,"creation_date":1638950394,"post_id":70254712,"comment_id":124221030,"body_markdown":"The code `ManagementFactory.getRuntimeMXBean().getName()` is work in docker container. Thanks for your attention.","body":"The code <code>ManagementFactory.getRuntimeMXBean().getName()</code> is work in docker container. Thanks for your attention."}],"owner":{"account_id":11274470,"reputation":1,"user_id":8268885,"display_name":"G.yuan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638848802,"creation_date":1638848802,"question_id":70254712,"body_markdown":"How to get the ID of the Java process running in the docker container?\r\n\r\nJust like using `ManagementFactory.getRuntimeMXBean().getName()` in Windows or Linux.","title":"How can a Java program running in a docker container obtain its own process ID?","body":"<p>How to get the ID of the Java process running in the docker container?</p>\n<p>Just like using <code>ManagementFactory.getRuntimeMXBean().getName()</code> in Windows or Linux.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1638846102,"post_id":70254342,"comment_id":124190686,"body_markdown":"You printed out a bunch of `DataItem`s, not integers. `DataItem` isn&#39;t shown in the snippets above, so I presume it&#39;s a class of your own design","body":"You printed out a bunch of <code>DataItem</code>s, not integers. <code>DataItem</code> isn&#39;t shown in the snippets above, so I presume it&#39;s a class of your own design"}],"answers":[{"tags":[],"owner":{"account_id":19647165,"reputation":386,"user_id":15093679,"display_name":"TheSj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638848726,"creation_date":1638848726,"answer_id":70254701,"question_id":70254342,"body_markdown":"Your `HashArray` is an array of `DataItem`s. When you call\r\n```java\r\nSystem.out.print(this.HashArray[i] + &quot;  &quot;);\r\n```\r\ninside the for loop in the `DisplayHashTable` method, you&#39;re basically calling the `DataItem` at index `i` and printing it. Since that is an object, its address in memory (the &quot;nonsense numbers&quot;) is being printed to the terminal. \r\n\r\nOne way to fix this would be to add a method inside the `DataItem` class:\r\n\r\n```java\r\npublic void toString()\r\n{\r\n    //print whatever you want to output here\r\n}\r\n```\r\nThis should work according to what you want.  ","title":"When i try to use Display method the output just bring nonsense numbers, Why? I ment the output should be int number","body":"<p>Your <code>HashArray</code> is an array of <code>DataItem</code>s. When you call</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(this.HashArray[i] + &quot;  &quot;);\n</code></pre>\n<p>inside the for loop in the <code>DisplayHashTable</code> method, you're basically calling the <code>DataItem</code> at index <code>i</code> and printing it. Since that is an object, its address in memory (the &quot;nonsense numbers&quot;) is being printed to the terminal.</p>\n<p>One way to fix this would be to add a method inside the <code>DataItem</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void toString()\n{\n    //print whatever you want to output here\n}\n</code></pre>\n<p>This should work according to what you want.</p>\n"}],"owner":{"account_id":20035141,"reputation":15,"user_id":14687040,"display_name":"Murtaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70254701,"answer_count":1,"score":0,"last_activity_date":1638848726,"creation_date":1638845226,"question_id":70254342,"body_markdown":"    public class HashTable implements IHashTable{\r\n\r\n\tprivate DataItem[] HashArray;\r\n\tprivate int ArraySize;\r\n\tprivate DataItem NonItem;\r\n\tpublic HashTable(int Size)\r\n\t{\r\n\t\tthis.ArraySize = Size;\r\n\t\tthis.HashArray = new DataItem[this.ArraySize];\r\n\t\tthis.NonItem = new DataItem(-1);\r\n\t}\r\n\t@Override\r\n\tpublic void DisplayHashTable() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tSystem.out.println(&quot;The Table Is :\\n&quot;);\r\n\t\tfor(int i =0 ; i &lt; this.ArraySize; i ++)\r\n\t\t{\r\n\t\t\tif(this.HashArray[i] != null)\r\n\t\t\t\tSystem.out.print(this.HashArray[i] + &quot;  &quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;** &quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int HashFunc(int Key) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\treturn Key % this.ArraySize;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void insert(DataItem item) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint Key = item.GetKey();\r\n\t\tint HashVal = HashFunc(Key);\r\n\t\twhile (this.HashArray[HashVal] != null\r\n\t\t\t\t&amp;&amp;this.HashArray[HashVal].GetKey() != -1)\r\n\t\t{\r\n\t\t\t++HashVal;\r\n\t\t\tHashVal%=this.ArraySize;\r\n\t\t}\r\n\t\tthis.HashArray[HashVal] = item;\r\n\t\t// end .\r\n\t}\r\n\r\n\t@Override\r\n\tpublic DataItem Delete(int Key) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint HashVal = HashFunc(Key);\r\n\t\twhile(this.HashArray[HashVal] != null)\r\n\t\t{\r\n\t\t\tif(this.HashArray[HashVal].GetKey()== Key)\r\n\t\t\t{\r\n\t\t\t\tDataItem Temp = this.HashArray[HashVal];\r\n\t\t\t\tthis.HashArray[HashVal] = this.NonItem;\r\n\t\t\t\treturn Temp;\r\n\t\t\t}\r\n\t\t\t++HashVal;\r\n\t\t\tHashVal %= this.ArraySize;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic DataItem Find(int Key) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint HashVal = HashFunc(Key);\r\n\t\twhile(this.HashArray[HashVal] != null)\r\n\t\t{\r\n\t\t\tif(this.HashArray[HashVal].GetKey() == Key)\r\n\t\t\t\treturn this.HashArray[HashVal];\r\n\t\t\t++HashVal;\r\n\t\t\tHashVal %= this.ArraySize;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}`\r\n\r\n\r\n--------------\r\nimport java.util.*;\r\npublic class HashTableTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint Key ;\r\n\t\tDataItem aDataItem;\r\n\t\tIHashTable HashTable = new HashTable(5);\r\n\t\tMenu();\r\n\t\tint ans =sc.nextInt();\r\n\t\twhile(ans !=5)\r\n\t\t{\r\n\t\t\t\r\n\t\t\tswitch(ans){\r\n\t\t\tcase 1 :\r\n\t\t\t\tHashTable.DisplayHashTable();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2 :\r\n\t\t\t\tKey = sc.nextInt();\r\n\t\t\t\taDataItem = new DataItem(Key);\r\n\t\t\t\tHashTable.insert(aDataItem);\r\n\t\t\t\tSystem.out.println(&quot;The Item Has Inserted&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3 :\r\n\t\t\t\tSystem.out.println(&quot;What Value You want to delete&quot;);\r\n\t\t\t\tKey = sc.nextInt();\r\n\t\t\t\tHashTable.Delete(Key);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4 :\r\n\t\t\t\tSystem.out.println(&quot;What Value You want to Find&quot;);\r\n\t\t\t\tKey = sc.nextInt();\r\n\t\t\t\taDataItem=HashTable.Find(Key);\r\n\t\t\t\tif(aDataItem != null)\r\n\t\t\t\t\tSystem.out.println(&quot;Found Key&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Could not Found&quot; + Key);\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tSystem.out.println(&quot;Wrong Number&quot;);\r\n\t\t\t}\r\n\t\t\tMenu();\r\n\t\t\t ans =sc.nextInt();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic static void Menu()\r\n\t{\r\n\t\tSystem.out.println(&quot;1 - Show The Table \\n 2- Insert New Value \\n&quot;\r\n\t\t\t\t+&quot;3- Delete A Value \\n 4- Find A Value\\n 5- Exit.&quot;);\r\n\t}\r\n\r\n}\r\n---------\r\n// the output\r\n---\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n1\r\nThe Table Is :\r\n\r\n** \r\n** \r\n** \r\n** \r\n** \r\n \r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n2\r\n254\r\nThe Item Has Inserted\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n2\r\n75\r\nThe Item Has Inserted\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n2\r\n5\r\nThe Item Has Inserted\r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n1\r\nThe Table Is :\r\n\r\nDataItem@42d3bd8b  DataItem@26ba2a48  ** \r\n** \r\nDataItem@5f2050f6   \r\n1 - Show The Table \r\n 2- Insert New Value \r\n3- Delete A Value \r\n 4- Find A Value\r\n 5- Exit.\r\n`","title":"When i try to use Display method the output just bring nonsense numbers, Why? I ment the output should be int number","body":"<pre><code>public class HashTable implements IHashTable{\n\nprivate DataItem[] HashArray;\nprivate int ArraySize;\nprivate DataItem NonItem;\npublic HashTable(int Size)\n{\n    this.ArraySize = Size;\n    this.HashArray = new DataItem[this.ArraySize];\n    this.NonItem = new DataItem(-1);\n}\n@Override\npublic void DisplayHashTable() {\n    // TODO Auto-generated method stub\n    \n    System.out.println(&quot;The Table Is :\\n&quot;);\n    for(int i =0 ; i &lt; this.ArraySize; i ++)\n    {\n        if(this.HashArray[i] != null)\n            System.out.print(this.HashArray[i] + &quot;  &quot;);\n        else\n            System.out.println(&quot;** &quot;);\n    }\n    \n    System.out.println(&quot; &quot;);\n    \n}\n\n@Override\npublic int HashFunc(int Key) {\n    // TODO Auto-generated method stub\n    \n    return Key % this.ArraySize;\n}\n\n@Override\npublic void insert(DataItem item) {\n    // TODO Auto-generated method stub\n    int Key = item.GetKey();\n    int HashVal = HashFunc(Key);\n    while (this.HashArray[HashVal] != null\n            &amp;&amp;this.HashArray[HashVal].GetKey() != -1)\n    {\n        ++HashVal;\n        HashVal%=this.ArraySize;\n    }\n    this.HashArray[HashVal] = item;\n    // end .\n}\n\n@Override\npublic DataItem Delete(int Key) {\n    // TODO Auto-generated method stub\n    int HashVal = HashFunc(Key);\n    while(this.HashArray[HashVal] != null)\n    {\n        if(this.HashArray[HashVal].GetKey()== Key)\n        {\n            DataItem Temp = this.HashArray[HashVal];\n            this.HashArray[HashVal] = this.NonItem;\n            return Temp;\n        }\n        ++HashVal;\n        HashVal %= this.ArraySize;\n    }\n    return null;\n}\n\n@Override\npublic DataItem Find(int Key) {\n    // TODO Auto-generated method stub\n    int HashVal = HashFunc(Key);\n    while(this.HashArray[HashVal] != null)\n    {\n        if(this.HashArray[HashVal].GetKey() == Key)\n            return this.HashArray[HashVal];\n        ++HashVal;\n        HashVal %= this.ArraySize;\n    }\n    return null;\n}\n</code></pre>\n<p>}`</p>\n<hr />\n<p>import java.util.*;\npublic class HashTableTest {</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    Scanner sc = new Scanner(System.in);\n    int Key ;\n    DataItem aDataItem;\n    IHashTable HashTable = new HashTable(5);\n    Menu();\n    int ans =sc.nextInt();\n    while(ans !=5)\n    {\n        \n        switch(ans){\n        case 1 :\n            HashTable.DisplayHashTable();\n            break;\n        case 2 :\n            Key = sc.nextInt();\n            aDataItem = new DataItem(Key);\n            HashTable.insert(aDataItem);\n            System.out.println(&quot;The Item Has Inserted&quot;);\n            break;\n        case 3 :\n            System.out.println(&quot;What Value You want to delete&quot;);\n            Key = sc.nextInt();\n            HashTable.Delete(Key);\n            break;\n        case 4 :\n            System.out.println(&quot;What Value You want to Find&quot;);\n            Key = sc.nextInt();\n            aDataItem=HashTable.Find(Key);\n            if(aDataItem != null)\n                System.out.println(&quot;Found Key&quot;);\n            System.out.println(&quot;Could not Found&quot; + Key);\n            break;\n            default :\n                System.out.println(&quot;Wrong Number&quot;);\n        }\n        Menu();\n         ans =sc.nextInt();\n        \n    }\n    \n    \n}\npublic static void Menu()\n{\n    System.out.println(&quot;1 - Show The Table \\n 2- Insert New Value \\n&quot;\n            +&quot;3- Delete A Value \\n 4- Find A Value\\n 5- Exit.&quot;);\n}\n</code></pre>\n<h2>}</h2>\n<h2>// the output</h2>\n<p>1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n1\nThe Table Is :</p>\n<p>**\n**\n**\n**\n**</p>\n<p>1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n2\n254\nThe Item Has Inserted\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n2\n75\nThe Item Has Inserted\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n2\n5\nThe Item Has Inserted\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n1\nThe Table Is :</p>\n<p>DataItem@42d3bd8b  DataItem@26ba2a48  **\n**\nDataItem@5f2050f6<br />\n1 - Show The Table\n2- Insert New Value\n3- Delete A Value\n4- Find A Value\n5- Exit.\n`</p>\n"},{"tags":["java","android","markdown"],"answers":[{"tags":[],"owner":{"account_id":21169863,"reputation":25,"user_id":15566416,"display_name":"cropperteam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638848645,"creation_date":1638848645,"answer_id":70254692,"question_id":70253955,"body_markdown":"I put the link in putExtra at the first activity and it works \r\n\r\n     if (position == 0) {\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n             aTitle = intent.getStringExtra(&quot;title&quot;);\r\n             lessons = intent.getStringExtra(&quot;lessons&quot;);\r\n            actionBar.setTitle(aTitle);\r\n\r\n            if (markdownView != null)\r\n            {\r\n                markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\r\n                WebSettings settings = markdownView.getSettings();\r\n                settings.setBuiltInZoomControls(true);\r\n                settings.setDisplayZoomControls(false);\r\n            }\r\n\r\n        }else if (position == 1){\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n            aTitle = intent.getStringExtra(&quot;title&quot;);\r\n            lessons = intent.getStringExtra(&quot;lessons&quot;);\r\n            actionBar.setTitle(aTitle);\r\n            if (markdownView != null)\r\n            {\r\n                markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\r\n                WebSettings settings = markdownView.getSettings();\r\n                settings.setBuiltInZoomControls(true);\r\n                settings.setDisplayZoomControls(false);\r\n            }\r\n        }","title":"Multi MarkdownView File","body":"<p>I put the link in putExtra at the first activity and it works</p>\n<pre><code> if (position == 0) {\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n         aTitle = intent.getStringExtra(&quot;title&quot;);\n         lessons = intent.getStringExtra(&quot;lessons&quot;);\n        actionBar.setTitle(aTitle);\n\n        if (markdownView != null)\n        {\n            markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\n            WebSettings settings = markdownView.getSettings();\n            settings.setBuiltInZoomControls(true);\n            settings.setDisplayZoomControls(false);\n        }\n\n    }else if (position == 1){\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n        aTitle = intent.getStringExtra(&quot;title&quot;);\n        lessons = intent.getStringExtra(&quot;lessons&quot;);\n        actionBar.setTitle(aTitle);\n        if (markdownView != null)\n        {\n            markdownView.loadMarkdownFile(BASE, lessons, STYLES, SCRIPT);\n            WebSettings settings = markdownView.getSettings();\n            settings.setBuiltInZoomControls(true);\n            settings.setDisplayZoomControls(false);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21169863,"reputation":25,"user_id":15566416,"display_name":"cropperteam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70254692,"answer_count":1,"score":1,"last_activity_date":1638848645,"creation_date":1638840916,"question_id":70253955,"body_markdown":"I have a listview of topics all contents are from MarkDown I&#39;m having a problem changing the \r\nmarkdown every click of the item in the listview \r\n\r\n\r\n\r\n\r\n     if (position == 0) {\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n             aTitle = intent.getStringExtra(&quot;title&quot;);\r\n            actionBar.setTitle(aTitle);\r\n            markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/Objects.md&quot;, STYLES, SCRIPT);\r\n        }else if (position == 1){\r\n            Intent intent = getIntent();\r\n            Bundle bundle = this.getIntent().getExtras();\r\n            aTitle = intent.getStringExtra(&quot;title&quot;);\r\n            actionBar.setTitle(aTitle);\r\n            markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/les2.md&quot;, STYLES, SCRIPT);\r\n        }\r\n","title":"Multi MarkdownView File","body":"<p>I have a listview of topics all contents are from MarkDown I'm having a problem changing the\nmarkdown every click of the item in the listview</p>\n<pre><code> if (position == 0) {\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n         aTitle = intent.getStringExtra(&quot;title&quot;);\n        actionBar.setTitle(aTitle);\n        markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/Objects.md&quot;, STYLES, SCRIPT);\n    }else if (position == 1){\n        Intent intent = getIntent();\n        Bundle bundle = this.getIntent().getExtras();\n        aTitle = intent.getStringExtra(&quot;title&quot;);\n        actionBar.setTitle(aTitle);\n        markdownView.loadMarkdownFile(BASE, &quot;file:///android_asset/les2.md&quot;, STYLES, SCRIPT);\n    }\n</code></pre>\n"},{"tags":["java","android","database","class","oop"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1638848439,"post_id":70250906,"comment_id":124191051,"body_markdown":"Is there more to the error message in the logcat? Sometimes there are multiple errors listed that are important to look for.","body":"Is there more to the error message in the logcat? Sometimes there are multiple errors listed that are important to look for."}],"answers":[{"tags":[],"owner":{"account_id":15867569,"reputation":622,"user_id":11449261,"display_name":"Vanheden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638822950,"creation_date":1638822950,"answer_id":70251635,"question_id":70250906,"body_markdown":"Perhaps this misstake is just from copy pasting your code here, but you seem to have syntax probems in your viewmodel.\r\n\r\nYour class ends before the constructor. This seems to be the complete class:\r\n\r\n    public class MainViewModel extends AndroidViewModel {\r\n        public static MovieDatabase database;\r\n        public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\r\n    }\r\n\r\nJust remove } and perhaps add it to the end of the class, although it looks like it is not needed (but your IDE should have complained about this syntax problem?)\r\n\r\n","title":"Cannot create an instance of class MainViewModel_android","body":"<p>Perhaps this misstake is just from copy pasting your code here, but you seem to have syntax probems in your viewmodel.</p>\n<p>Your class ends before the constructor. This seems to be the complete class:</p>\n<pre><code>public class MainViewModel extends AndroidViewModel {\n    public static MovieDatabase database;\n    public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\n}\n</code></pre>\n<p>Just remove } and perhaps add it to the end of the class, although it looks like it is not needed (but your IDE should have complained about this syntax problem?)</p>\n"}],"owner":{"account_id":23565692,"reputation":11,"user_id":17606452,"display_name":"Oleni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638848174,"creation_date":1638818906,"question_id":70250906,"body_markdown":"I try to create instance of ViewModel, but get an error.\r\n\r\n Process: com.example.popularmovies, PID: 20601\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.popularmovies/com.example.popularmovies.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.example.popularmovies.data.MainViewModel\r\n\r\n**MainActivity:**\r\n\r\n    public class MainActivity extends AppCompatActivity { \r\n        private MainViewModel viewModel;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            viewModel = new ViewModelProvider(this).get(MainViewModel.class);\r\n\r\n**MainViewModel**\r\n\r\n    public class MainViewModel extends AndroidViewModel {\r\n\r\n        public static MovieDatabase database;\r\n        public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\r\n    \r\n        public MainViewModel(@NonNull Application application) {\r\n            super(application);\r\n            database = MovieDatabase.getInstance(getApplication());\r\n            movies = database.movieDao().getAllMovies();\r\n        }\r\n\r\n        public Movie getMovieById(int id) {\r\n            try {\r\n                return new GetMovieTask().execute(id).get();\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        public void deleteAllMovies() {\r\n            new DeleteMoviesTask().execute();\r\n        }\r\n\r\n        public void insertMovie(Movie movie) {\r\n            new InsertTask().execute(movie);\r\n        }\r\n\r\n        public void deleteMovie(Movie movie) {\r\n            new DeleteTask().execute(movie);\r\n        }\r\n\r\n        public LiveData&lt;List&lt;Movie&gt;&gt; getMovies() {\r\n            return movies;\r\n        }\r\n\r\n        public static class DeleteTask extends AsyncTask&lt;Movie, Void, Void&gt; {\r\n            @Override\r\n            protected Void doInBackground(Movie... movies) {\r\n                if (movies != null &amp;&amp; movies.length &gt; 0) {\r\n                   database.movieDao().deleteMovie(movies[0]);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static class InsertTask extends AsyncTask&lt;Movie, Void, Void&gt;  {\r\n            @Override\r\n            protected Void doInBackground(Movie.. movies) {\r\n                if (movies != null &amp;&amp; movies.length &gt; 0) {\r\n                    database.movieDao().insertMovie(movies[0]);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static class DeleteMoviesTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            @Override\r\n            protected Void doInBackground(Void.. integers) {\r\n                database.movieDao().deleteAllMovies();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static class GetMovieTask extends AsyncTask&lt;Integer, Void, Movie&gt; {\r\n            @Override\r\n            protected Movie doInBackground(Integer.. integers) {\r\n                if (integers != null &amp;&amp; integers.length &gt; 0) {\r\n                    return database.movieDao().getMovieById(integers[0]);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n**DataBase:**\r\n\r\n    @Database(entities = {Movie.class}, version = 1, exportSchema = false)\r\n    public abstract class MovieDatabase extends RoomDatabase {\r\n\r\n        private static final String DB_NAME = &quot;movies.db&quot;;\r\n        private static MovieDatabase database;\r\n        private static final Object LOCK = new Object();\r\n\r\n        public static MovieDatabase getInstance(Context context) {\r\n            synchronized (LOCK) {\r\n                if (database == null) {\r\n                    database = Room.databaseBuilder(context, MovieDatabase.class, DB_NAME).build();\r\n                }\r\n            }\r\n            return database;\r\n        }\r\n\r\n        public abstract MovieDao movieDao();\r\n    }\r\n","title":"Cannot create an instance of class MainViewModel_android","body":"<p>I try to create instance of ViewModel, but get an error.</p>\n<p>Process: com.example.popularmovies, PID: 20601\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.popularmovies/com.example.popularmovies.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.example.popularmovies.data.MainViewModel</p>\n<p><strong>MainActivity:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity { \n    private MainViewModel viewModel;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        viewModel = new ViewModelProvider(this).get(MainViewModel.class);\n</code></pre>\n<p><strong>MainViewModel</strong></p>\n<pre><code>public class MainViewModel extends AndroidViewModel {\n\n    public static MovieDatabase database;\n    public final LiveData&lt;List&lt;Movie&gt;&gt; movies;\n\n    public MainViewModel(@NonNull Application application) {\n        super(application);\n        database = MovieDatabase.getInstance(getApplication());\n        movies = database.movieDao().getAllMovies();\n    }\n\n    public Movie getMovieById(int id) {\n        try {\n            return new GetMovieTask().execute(id).get();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public void deleteAllMovies() {\n        new DeleteMoviesTask().execute();\n    }\n\n    public void insertMovie(Movie movie) {\n        new InsertTask().execute(movie);\n    }\n\n    public void deleteMovie(Movie movie) {\n        new DeleteTask().execute(movie);\n    }\n\n    public LiveData&lt;List&lt;Movie&gt;&gt; getMovies() {\n        return movies;\n    }\n\n    public static class DeleteTask extends AsyncTask&lt;Movie, Void, Void&gt; {\n        @Override\n        protected Void doInBackground(Movie... movies) {\n            if (movies != null &amp;&amp; movies.length &gt; 0) {\n               database.movieDao().deleteMovie(movies[0]);\n            }\n            return null;\n        }\n    }\n\n    public static class InsertTask extends AsyncTask&lt;Movie, Void, Void&gt;  {\n        @Override\n        protected Void doInBackground(Movie.. movies) {\n            if (movies != null &amp;&amp; movies.length &gt; 0) {\n                database.movieDao().insertMovie(movies[0]);\n            }\n            return null;\n        }\n    }\n\n    public static class DeleteMoviesTask extends AsyncTask&lt;Void, Void, Void&gt; {\n        @Override\n        protected Void doInBackground(Void.. integers) {\n            database.movieDao().deleteAllMovies();\n            return null;\n        }\n    }\n\n    public static class GetMovieTask extends AsyncTask&lt;Integer, Void, Movie&gt; {\n        @Override\n        protected Movie doInBackground(Integer.. integers) {\n            if (integers != null &amp;&amp; integers.length &gt; 0) {\n                return database.movieDao().getMovieById(integers[0]);\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p><strong>DataBase:</strong></p>\n<pre><code>@Database(entities = {Movie.class}, version = 1, exportSchema = false)\npublic abstract class MovieDatabase extends RoomDatabase {\n\n    private static final String DB_NAME = &quot;movies.db&quot;;\n    private static MovieDatabase database;\n    private static final Object LOCK = new Object();\n\n    public static MovieDatabase getInstance(Context context) {\n        synchronized (LOCK) {\n            if (database == null) {\n                database = Room.databaseBuilder(context, MovieDatabase.class, DB_NAME).build();\n            }\n        }\n        return database;\n    }\n\n    public abstract MovieDao movieDao();\n}\n</code></pre>\n"},{"tags":["java","android","notifications","android-pendingintent","android-broadcast"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1637846682,"post_id":70111869,"comment_id":123938412,"body_markdown":"You need to use explicit `Intent`s for all of them: `new Intent(this, NotificationController.class)`.","body":"You need to use explicit <code>Intent</code>s for all of them: <code>new Intent(this, NotificationController.class)</code>."},{"owner":{"account_id":13629522,"reputation":1682,"user_id":9831902,"display_name":"Nanda Z"},"score":0,"creation_date":1663139434,"post_id":70111869,"comment_id":130165904,"body_markdown":"i got same issue, have u solved?","body":"i got same issue, have u solved?"}],"answers":[{"tags":[],"owner":{"account_id":19961058,"reputation":1,"user_id":14628634,"display_name":"QmanW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637857351,"creation_date":1637846820,"answer_id":70111937,"question_id":70111869,"body_markdown":"Initialize the `Intent`s like this:\r\n\r\n```java\r\nnew Intent(this, NameOfTheClass.class);\r\n```\r\n\r\nIn cases where you are in coroutine for example use \r\n\r\n```\r\napplicationContext\r\n```","title":"Android BroadcastReceiver not working by clicking at notification action","body":"<p>Initialize the <code>Intent</code>s like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Intent(this, NameOfTheClass.class);\n</code></pre>\n<p>In cases where you are in coroutine for example use</p>\n<pre><code>applicationContext\n</code></pre>\n"}],"owner":{"account_id":23451597,"reputation":21,"user_id":17507675,"display_name":"Yashar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638847962,"creation_date":1637846445,"question_id":70111869,"body_markdown":"I&#39;m building a music player app and I have a problem with the notification part I think all of my code about the notification is right but when I tap at notification controller buttons broadcast receiver don&#39;t work.\r\n\r\nAndroidManifest:\r\n----------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;receiver android:name=&quot;.notification.NotificationController&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE&quot;/&gt;\r\n                    &lt;action android:name=&quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT&quot;/&gt;\r\n                    &lt;action android:name=&quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n\r\n            &lt;/receiver&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy Broadcast:\r\n-------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class NotificationController extends BroadcastReceiver {\r\n\r\n        public static String ACTION_NOTIFY_PLAY_PAUSE = &quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE&quot;;\r\n        public static String ACTION_NOTIFY_SKIP_NEXT = &quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT&quot;;\r\n        public static String ACTION_NOTIFY_SKIP_PREVIOUS = &quot;com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS&quot;;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(ACTION_NOTIFY_PLAY_PAUSE)){\r\n                if (Player.player.isPlaying()){\r\n                    Player.player.pause();\r\n                }else {\r\n                    Player.player.start();\r\n                }\r\n            } else if (intent.getAction().equals(ACTION_NOTIFY_SKIP_PREVIOUS)){\r\n                Toast.makeText(context, &quot;previous&quot;, Toast.LENGTH_SHORT).show();\r\n            }else {\r\n                Toast.makeText(context, &quot;next&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd My Service:\r\n---------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    PendingIntent pendingIntent = PendingIntent.getActivity(this,0,new Intent(this, MainActivity.class),0);\r\n            Intent previous = new Intent();\r\n            previous.setAction(ACTION_NOTIFY_SKIP_PREVIOUS);\r\n            Intent play = new Intent();\r\n            play.setAction(ACTION_NOTIFY_PLAY_PAUSE);\r\n            Intent next = new Intent();\r\n            play.setAction(ACTION_NOTIFY_SKIP_NEXT);\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                Notification.Builder notification = new Notification.Builder(this, &quot;playback&quot;)\r\n                        .setSmallIcon(R.drawable.music_icon)\r\n                        .setContentTitle(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE))\r\n                        .setContentText(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ALBUM) + &quot; . &quot; + retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST))\r\n                        .setLargeIcon(songCover)\r\n                        .setVisibility(Notification.VISIBILITY_PUBLIC)\r\n                        .addAction(R.drawable.ic_skip_previous_black_24dp,&quot;previous&quot;,PendingIntent.getBroadcast(this,11,previous,PendingIntent.FLAG_UPDATE_CURRENT))\r\n                        .addAction(R.drawable.ic_pause_black_24dp,&quot;play&quot;,PendingIntent.getBroadcast(this,12,play,PendingIntent.FLAG_UPDATE_CURRENT))\r\n                        .addAction(R.drawable.ic_skip_next_black_24dp,&quot;next&quot;,PendingIntent.getBroadcast(this,13,next,PendingIntent.FLAG_UPDATE_CURRENT))\r\n                        .setContentIntent(pendingIntent);\r\n                Notification.MediaStyle mediaStyle = new Notification.MediaStyle();\r\n                mediaStyle.setBuilder(notification);\r\n                startForeground(1, mediaStyle.build());\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Help, please!**","title":"Android BroadcastReceiver not working by clicking at notification action","body":"<p>I'm building a music player app and I have a problem with the notification part I think all of my code about the notification is right but when I tap at notification controller buttons broadcast receiver don't work.</p>\n<h2>AndroidManifest:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;receiver android:name=\".notification.NotificationController\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE\"/&gt;\n                &lt;action android:name=\"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT\"/&gt;\n                &lt;action android:name=\"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS\"/&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/receiver&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>My Broadcast:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class NotificationController extends BroadcastReceiver {\n\n    public static String ACTION_NOTIFY_PLAY_PAUSE = \"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_PLAY_PAUSE\";\n    public static String ACTION_NOTIFY_SKIP_NEXT = \"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_NEXT\";\n    public static String ACTION_NOTIFY_SKIP_PREVIOUS = \"com.ydp.eight_d_musicplayer.ACTION_NOTIFY_SKIP_PREVIOUS\";\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(ACTION_NOTIFY_PLAY_PAUSE)){\n            if (Player.player.isPlaying()){\n                Player.player.pause();\n            }else {\n                Player.player.start();\n            }\n        } else if (intent.getAction().equals(ACTION_NOTIFY_SKIP_PREVIOUS)){\n            Toast.makeText(context, \"previous\", Toast.LENGTH_SHORT).show();\n        }else {\n            Toast.makeText(context, \"next\", Toast.LENGTH_SHORT).show();\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>And My Service:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>PendingIntent pendingIntent = PendingIntent.getActivity(this,0,new Intent(this, MainActivity.class),0);\n        Intent previous = new Intent();\n        previous.setAction(ACTION_NOTIFY_SKIP_PREVIOUS);\n        Intent play = new Intent();\n        play.setAction(ACTION_NOTIFY_PLAY_PAUSE);\n        Intent next = new Intent();\n        play.setAction(ACTION_NOTIFY_SKIP_NEXT);\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            Notification.Builder notification = new Notification.Builder(this, \"playback\")\n                    .setSmallIcon(R.drawable.music_icon)\n                    .setContentTitle(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE))\n                    .setContentText(retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ALBUM) + \" . \" + retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST))\n                    .setLargeIcon(songCover)\n                    .setVisibility(Notification.VISIBILITY_PUBLIC)\n                    .addAction(R.drawable.ic_skip_previous_black_24dp,\"previous\",PendingIntent.getBroadcast(this,11,previous,PendingIntent.FLAG_UPDATE_CURRENT))\n                    .addAction(R.drawable.ic_pause_black_24dp,\"play\",PendingIntent.getBroadcast(this,12,play,PendingIntent.FLAG_UPDATE_CURRENT))\n                    .addAction(R.drawable.ic_skip_next_black_24dp,\"next\",PendingIntent.getBroadcast(this,13,next,PendingIntent.FLAG_UPDATE_CURRENT))\n                    .setContentIntent(pendingIntent);\n            Notification.MediaStyle mediaStyle = new Notification.MediaStyle();\n            mediaStyle.setBuilder(notification);\n            startForeground(1, mediaStyle.build());\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Help, please!</strong></p>\n"},{"tags":["java","spring","connection-pooling","okhttp","openfeign"],"owner":{"account_id":23558743,"reputation":21,"user_id":17600374,"display_name":"developer-OK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638847010,"creation_date":1638773992,"question_id":70241838,"body_markdown":"My project use spring-cloud-starter-openfeign.(version 2.1.0)  \r\nopen feign is using feign-okhttp as http client and I know it uses ok-http3 internally.\r\n\r\nI want the OkHttp3 connection to be reset or delete from connection-pool when http request gets a 500 error response. \r\n\r\nTo do that I need to detect a 500 error, so I figured I could use a network interceptor.\r\n\r\nHowever, the RealConnection object I get with chain.getConnection() doesn&#39;t seem to have any methods to reset or close the connection.\r\n\r\nHow can I implement what I have in mind? \r\n\r\n``` java\r\n    @Bean\r\n\tpublic OkHttpClient client() {\r\n\t\treturn new OkHttpClient(\r\n\t\t\tnew okhttp3.OkHttpClient.Builder()\r\n\t\t\t\t.addNetworkInterceptor(new ResetConnection())\r\n\t\t\t\t.build());\r\n\t}\r\n\r\n\tpublic static class ResetConnection implements Interceptor {\r\n\r\n\t\t@Override\r\n\t\tpublic Response intercept(Chain chain) throws IOException {\r\n            okhttp3.Request request = chain.request();\r\n\t\t\tResponse response = chain.proceed(request);\r\n\r\n\t\t\tif (response.code() &gt;= 500 &amp;&amp; response.code() &lt; 600) {\r\n\t\t\t\t\t// ???????????\r\n\t\t\t}\r\n\r\n\t\t\treturn response;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n","title":"How can remove or reset OkHttp3 connection from pool","body":"<p>My project use spring-cloud-starter-openfeign.(version 2.1.0)<br />\nopen feign is using feign-okhttp as http client and I know it uses ok-http3 internally.</p>\n<p>I want the OkHttp3 connection to be reset or delete from connection-pool when http request gets a 500 error response.</p>\n<p>To do that I need to detect a 500 error, so I figured I could use a network interceptor.</p>\n<p>However, the RealConnection object I get with chain.getConnection() doesn't seem to have any methods to reset or close the connection.</p>\n<p>How can I implement what I have in mind?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public OkHttpClient client() {\n        return new OkHttpClient(\n            new okhttp3.OkHttpClient.Builder()\n                .addNetworkInterceptor(new ResetConnection())\n                .build());\n    }\n\n    public static class ResetConnection implements Interceptor {\n\n        @Override\n        public Response intercept(Chain chain) throws IOException {\n            okhttp3.Request request = chain.request();\n            Response response = chain.proceed(request);\n\n            if (response.code() &gt;= 500 &amp;&amp; response.code() &lt; 600) {\n                    // ???????????\n            }\n\n            return response;\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-flink","flink-batch"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1638725558,"post_id":70235043,"comment_id":124158934,"body_markdown":"Is the output complete (and the dashboard wrong), or is the dashboard correct and some output is missing?","body":"Is the output complete (and the dashboard wrong), or is the dashboard correct and some output is missing?"},{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1638730730,"post_id":70235043,"comment_id":124160278,"body_markdown":"A few general comments - first, don&#39;t use static members for your functions. These are multi-threaded, and avoiding threading issues (even if you _know_ the class is thread safe) is good practice. Second, Jsonizer should extend RichMapFunction, and create the Gson object (transient) in its open() call. Finally, do you know how many reduced records you expect? If so, that&#39;s what I&#39;d be checking, in the output graphdata.log file(s).","body":"A few general comments - first, don&#39;t use static members for your functions. These are multi-threaded, and avoiding threading issues (even if you <i>know</i> the class is thread safe) is good practice. Second, Jsonizer should extend RichMapFunction, and create the Gson object (transient) in its open() call. Finally, do you know how many reduced records you expect? If so, that&#39;s what I&#39;d be checking, in the output graphdata.log file(s)."},{"owner":{"account_id":5313727,"reputation":1,"user_id":4239224,"display_name":"Ben"},"score":0,"creation_date":1638866027,"post_id":70235043,"comment_id":124195077,"body_markdown":"It seems that the dashboard is right. Output is missing.","body":"It seems that the dashboard is right. Output is missing."},{"owner":{"account_id":5313727,"reputation":1,"user_id":4239224,"display_name":"Ben"},"score":0,"creation_date":1638866272,"post_id":70235043,"comment_id":124195141,"body_markdown":"@kkrugler. Thank you for the tips. Do you mean that the problem may be that I create too many Gson objects? One thing I noticed is that my Outside JVM Memory shows that the task manager used 129mb out of 129mb.","body":"@kkrugler. Thank you for the tips. Do you mean that the problem may be that I create too many Gson objects? One thing I noticed is that my Outside JVM Memory shows that the task manager used 129mb out of 129mb."},{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1638974762,"post_id":70235043,"comment_id":124230197,"body_markdown":"@Ben - no, just that it&#39;s easy to get bit by concurrency issues when you use static members. Flink provides RichXXX versions of all operators so that you can initialize per-task objects in the `open()` method.","body":"@Ben - no, just that it&#39;s easy to get bit by concurrency issues when you use static members. Flink provides RichXXX versions of all operators so that you can initialize per-task objects in the <code>open()</code> method."},{"owner":{"account_id":5313727,"reputation":1,"user_id":4239224,"display_name":"Ben"},"score":0,"creation_date":1639482552,"post_id":70235043,"comment_id":124354507,"body_markdown":"@kkrugler Thank you so much for the help. I changed to the RichMapFunction but still have an issue. The graphdata.log file comes out as a directory with multiple files in it. Is that normal? I saw you mention it could be files and not one file. I am not sure if my job creates all the records as I do not have an idea how many should be output.","body":"@kkrugler Thank you so much for the help. I changed to the RichMapFunction but still have an issue. The graphdata.log file comes out as a directory with multiple files in it. Is that normal? I saw you mention it could be files and not one file. I am not sure if my job creates all the records as I do not have an idea how many should be output."}],"owner":{"account_id":5313727,"reputation":1,"user_id":4239224,"display_name":"Ben"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638846717,"creation_date":1638712701,"question_id":70235043,"body_markdown":"I am running a simple batch job in Flink.\r\n\r\nThe dashboard says the job is finished but it only shows that about `30000` records were processed out of about `220000`.\r\n\r\nOtherwise, there are no errors and the output seems as expected.\r\n\r\nHow to check why the job finished prematurely?\r\n\r\nHere is the source code:\r\n\r\n    package com.otorio.zeeklogprocessor;\r\n    \r\n    import org.apache.flink.api.java.ExecutionEnvironment;\r\n    import org.apache.flink.api.common.functions.FilterFunction;\r\n    import org.apache.flink.api.common.functions.MapFunction;\r\n    import org.apache.flink.api.common.functions.ReduceFunction;\r\n    import org.apache.flink.core.fs.FileSystem.WriteMode;\r\n    import org.apache.flink.api.java.DataSet;\r\n    import com.google.gson.*;\r\n    \r\n    import java.lang.reflect.Type;\r\n    \r\n    import com.otorio.zeeklogprocessor.RegulatedZeekConnRecord;\r\n    \r\n    /**\r\n     * Skeleton for a Flink Batch Job.\r\n     *\r\n     * &lt;p&gt;For a tutorial how to write a Flink batch application, check the\r\n     * tutorials and examples on the &lt;a href=&quot;https://flink.apache.org/docs/stable/&quot;&gt;Flink Website&lt;/a&gt;.\r\n     *\r\n     * &lt;p&gt;To package your application into a JAR file for execution,\r\n     * change the main class in the POM.xml file to this class (simply search for &#39;mainClass&#39;)\r\n     * and run &#39;mvn clean package&#39; on the command line.\r\n     */\r\n    public class BatchJob {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            // set up the batch execution environment\r\n            final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n            DataSet&lt;String&gt; loglines = env.readTextFile(&quot;/Users/ben.reich/software/Flink/zeek/conn.log&quot;);\r\n            DataSet&lt;RegulatedZeekConnRecord&gt; jasonized = loglines.map(new Jsonizer());\r\n            DataSet&lt;String&gt; aggregated = jasonized.groupBy(&quot;key&quot;).reduce(new ReductionLogic()).map(new OutputBuilder());\r\n            aggregated.writeAsText(&quot;/Users/ben.reich/software/Flink/zeek/graphdata.log&quot;, WriteMode.OVERWRITE);\r\n    \r\n    \r\n            // execute program\r\n            env.execute(&quot;Zeek conn.log Processor&quot;);\r\n        }\r\n    \r\n        // DeSerialize the log record\r\n        public static final class Jsonizer implements MapFunction&lt;String, RegulatedZeekConnRecord&gt; {\r\n    \r\n            private static GsonBuilder gb = new GsonBuilder();\r\n            private static Gson gson;\r\n            private static RegulatedZeekConnRecord logObject;\r\n    \r\n            public RegulatedZeekConnRecord map(String record) {\r\n                // Initialize gson with customized deserializer\r\n                if (gson == null) {\r\n                    gb.registerTypeAdapter(RegulatedZeekConnRecord.class, new ConnLogDeserializer());\r\n                    gson = gb.create();\r\n                }\r\n                logObject = gson.fromJson(record, RegulatedZeekConnRecord.class);\r\n                return logObject;\r\n            }\r\n        }\r\n    \r\n        public static class ReductionLogic implements ReduceFunction&lt;RegulatedZeekConnRecord&gt; {\r\n    \r\n            @Override\r\n            public RegulatedZeekConnRecord reduce(RegulatedZeekConnRecord pre, RegulatedZeekConnRecord current) {\r\n                pre.key = current.key;\r\n                pre.ts = current.ts;\r\n                pre.id_orig_h = current.id_orig_h;\r\n                pre.id_orig_p = current.id_orig_p;\r\n                pre.id_resp_h = current.id_resp_h;\r\n                pre.id_resp_p = current.id_resp_p;\r\n                pre.proto = current.proto;\r\n                pre.conn_state = current.conn_state;\r\n                pre.history = current.history;\r\n                pre.service = current.service;\r\n                pre.orig_pkts = current.orig_pkts + pre.orig_pkts;\r\n                pre.orig_ip_bytes = current.orig_ip_bytes + pre.orig_ip_bytes;\r\n                pre.resp_pkts = current.resp_pkts + pre.resp_pkts;\r\n                pre.resp_ip_bytes = current.resp_ip_bytes + pre.resp_ip_bytes;\r\n                pre.missed_bytes = current.missed_bytes + pre.missed_bytes;\r\n                return pre;\r\n            }\r\n        }\r\n    \r\n    \r\n        public static class OutputBuilder implements MapFunction&lt;RegulatedZeekConnRecord, String&gt; {\r\n            private static Gson gson = new Gson();\r\n    \r\n            @Override\r\n            public String map(RegulatedZeekConnRecord record) {\r\n                String jsonTarget = &quot;&quot;;\r\n                jsonTarget = gson.toJson(record);\r\n                return jsonTarget;\r\n            }\r\n        }\r\n    \r\n        public static class ConnLogDeserializer implements JsonDeserializer&lt;RegulatedZeekConnRecord&gt; {\r\n    \r\n            @Override\r\n            public RegulatedZeekConnRecord deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n                JsonObject jsonobj = json.getAsJsonObject();\r\n                RegulatedZeekConnRecord rec = new RegulatedZeekConnRecord(jsonobj);\r\n                return rec;\r\n    \r\n            }\r\n        }\r\n    }","title":"flink batch ends prematurely without a hint why","body":"<p>I am running a simple batch job in Flink.</p>\n<p>The dashboard says the job is finished but it only shows that about <code>30000</code> records were processed out of about <code>220000</code>.</p>\n<p>Otherwise, there are no errors and the output seems as expected.</p>\n<p>How to check why the job finished prematurely?</p>\n<p>Here is the source code:</p>\n<pre><code>package com.otorio.zeeklogprocessor;\n\nimport org.apache.flink.api.java.ExecutionEnvironment;\nimport org.apache.flink.api.common.functions.FilterFunction;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.common.functions.ReduceFunction;\nimport org.apache.flink.core.fs.FileSystem.WriteMode;\nimport org.apache.flink.api.java.DataSet;\nimport com.google.gson.*;\n\nimport java.lang.reflect.Type;\n\nimport com.otorio.zeeklogprocessor.RegulatedZeekConnRecord;\n\n/**\n * Skeleton for a Flink Batch Job.\n *\n * &lt;p&gt;For a tutorial how to write a Flink batch application, check the\n * tutorials and examples on the &lt;a href=&quot;https://flink.apache.org/docs/stable/&quot;&gt;Flink Website&lt;/a&gt;.\n *\n * &lt;p&gt;To package your application into a JAR file for execution,\n * change the main class in the POM.xml file to this class (simply search for 'mainClass')\n * and run 'mvn clean package' on the command line.\n */\npublic class BatchJob {\n\n    public static void main(String[] args) throws Exception {\n\n        // set up the batch execution environment\n        final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\n\n        DataSet&lt;String&gt; loglines = env.readTextFile(&quot;/Users/ben.reich/software/Flink/zeek/conn.log&quot;);\n        DataSet&lt;RegulatedZeekConnRecord&gt; jasonized = loglines.map(new Jsonizer());\n        DataSet&lt;String&gt; aggregated = jasonized.groupBy(&quot;key&quot;).reduce(new ReductionLogic()).map(new OutputBuilder());\n        aggregated.writeAsText(&quot;/Users/ben.reich/software/Flink/zeek/graphdata.log&quot;, WriteMode.OVERWRITE);\n\n\n        // execute program\n        env.execute(&quot;Zeek conn.log Processor&quot;);\n    }\n\n    // DeSerialize the log record\n    public static final class Jsonizer implements MapFunction&lt;String, RegulatedZeekConnRecord&gt; {\n\n        private static GsonBuilder gb = new GsonBuilder();\n        private static Gson gson;\n        private static RegulatedZeekConnRecord logObject;\n\n        public RegulatedZeekConnRecord map(String record) {\n            // Initialize gson with customized deserializer\n            if (gson == null) {\n                gb.registerTypeAdapter(RegulatedZeekConnRecord.class, new ConnLogDeserializer());\n                gson = gb.create();\n            }\n            logObject = gson.fromJson(record, RegulatedZeekConnRecord.class);\n            return logObject;\n        }\n    }\n\n    public static class ReductionLogic implements ReduceFunction&lt;RegulatedZeekConnRecord&gt; {\n\n        @Override\n        public RegulatedZeekConnRecord reduce(RegulatedZeekConnRecord pre, RegulatedZeekConnRecord current) {\n            pre.key = current.key;\n            pre.ts = current.ts;\n            pre.id_orig_h = current.id_orig_h;\n            pre.id_orig_p = current.id_orig_p;\n            pre.id_resp_h = current.id_resp_h;\n            pre.id_resp_p = current.id_resp_p;\n            pre.proto = current.proto;\n            pre.conn_state = current.conn_state;\n            pre.history = current.history;\n            pre.service = current.service;\n            pre.orig_pkts = current.orig_pkts + pre.orig_pkts;\n            pre.orig_ip_bytes = current.orig_ip_bytes + pre.orig_ip_bytes;\n            pre.resp_pkts = current.resp_pkts + pre.resp_pkts;\n            pre.resp_ip_bytes = current.resp_ip_bytes + pre.resp_ip_bytes;\n            pre.missed_bytes = current.missed_bytes + pre.missed_bytes;\n            return pre;\n        }\n    }\n\n\n    public static class OutputBuilder implements MapFunction&lt;RegulatedZeekConnRecord, String&gt; {\n        private static Gson gson = new Gson();\n\n        @Override\n        public String map(RegulatedZeekConnRecord record) {\n            String jsonTarget = &quot;&quot;;\n            jsonTarget = gson.toJson(record);\n            return jsonTarget;\n        }\n    }\n\n    public static class ConnLogDeserializer implements JsonDeserializer&lt;RegulatedZeekConnRecord&gt; {\n\n        @Override\n        public RegulatedZeekConnRecord deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n            JsonObject jsonobj = json.getAsJsonObject();\n            RegulatedZeekConnRecord rec = new RegulatedZeekConnRecord(jsonobj);\n            return rec;\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","htmlunit","cloudflare"],"answers":[{"tags":[],"owner":{"account_id":507999,"reputation":2079,"user_id":1339540,"display_name":"damoncloudflare"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1440613705,"creation_date":1440613705,"answer_id":32234079,"question_id":32232259,"body_markdown":"You should ask the site owner if they can whitelist your IPs. If you&#39;re doing anything like trying to scrape the site, then they may not want you to.","title":"Accessing webpage with Cloudflare protection","body":"<p>You should ask the site owner if they can whitelist your IPs. If you're doing anything like trying to scrape the site, then they may not want you to.</p>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1441284490,"creation_date":1441284490,"answer_id":32376128,"question_id":32232259,"body_markdown":"By default, HtmlUnit throws exception (which is not what real browsers do), and that is on purpose.\r\n\r\nAnyhow, you can use webClient.getOptions().[setThrowExceptionOnFailingStatusCode](http://htmlunit.sourceforge.net/apidocs/com/gargoylesoftware/htmlunit/WebClientOptions.html#setThrowExceptionOnFailingStatusCode(boolean))(false).\r\n\r\nAlso, you need to `wait` enough, below is an example:\r\n\r\n        try (final WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\r\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n            String url = &quot;http://www.osbot.org/&quot;;\r\n            HtmlPage htmlPage = webClient.getPage(url);\r\n            webClient.waitForBackgroundJavaScript(10_000);\r\n            System.out.println(htmlPage.asText());\r\n        }\r\n\r\n\r\n","title":"Accessing webpage with Cloudflare protection","body":"<p>By default, HtmlUnit throws exception (which is not what real browsers do), and that is on purpose.</p>\n\n<p>Anyhow, you can use webClient.getOptions().<a href=\"http://htmlunit.sourceforge.net/apidocs/com/gargoylesoftware/htmlunit/WebClientOptions.html#setThrowExceptionOnFailingStatusCode(boolean)\" rel=\"nofollow\">setThrowExceptionOnFailingStatusCode</a>(false).</p>\n\n<p>Also, you need to <code>wait</code> enough, below is an example:</p>\n\n<pre><code>    try (final WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        String url = \"http://www.osbot.org/\";\n        HtmlPage htmlPage = webClient.getPage(url);\n        webClient.waitForBackgroundJavaScript(10_000);\n        System.out.println(htmlPage.asText());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14242898,"reputation":249,"user_id":10288761,"display_name":"Raghav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549163223,"creation_date":1549156449,"answer_id":54499071,"question_id":32232259,"body_markdown":"I know this question is quite old, but there is no correct answer yet. Here is what works for me:\r\n\r\n\tWebClient client = new WebClient(BrowserVersion.CHROME);\r\n\t\r\n\tclient.getOptions().setCssEnabled(false);\r\n\tclient.getOptions().setJavaScriptEnabled(true);\r\n\tclient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\tclient.getOptions().setRedirectEnabled(true);\r\n\tclient.getCache().setMaxSize(0);\r\n\tclient.waitForBackgroundJavaScript(10000);\r\n\tclient.setJavaScriptTimeout(10000);\r\n\tclient.waitForBackgroundJavaScriptStartingBefore(10000);\r\n\t\r\n\ttry {\r\n\t\t\r\n\t\tString url = &quot;https://www.badlion.net/&quot;;\r\n\t\t\r\n\t\tHtmlPage page = client.getPage(url);\r\n\t\t\r\n\t\tsynchronized(page) {\r\n\t\t\tpage.wait(7000);\r\n\t\t}\r\n\t\t//Print cookies for test purposes. Comment out in production.\r\n        URL _url = new URL(url);\r\n\t\tfor(Cookie c : client.getCookies(_url)) {\r\n\t\t\tSystem.out.println(c.getName() +&quot;=&quot;+c.getValue());\r\n\t\t}\r\n\t\t\r\n\t\t//This prints the content after bypassing Cloudflare.\r\n\t\tSystem.out.println(client.getPage(url).getWebResponse().getContentAsString());\r\n\t} catch (FailingHttpStatusCodeException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (MalformedURLException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t} catch(InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nJust replace `String url = &quot;https://badlion.net/&quot;;` with the URL you are attempting to access.","title":"Accessing webpage with Cloudflare protection","body":"<p>I know this question is quite old, but there is no correct answer yet. Here is what works for me:</p>\n\n<pre><code>WebClient client = new WebClient(BrowserVersion.CHROME);\n\nclient.getOptions().setCssEnabled(false);\nclient.getOptions().setJavaScriptEnabled(true);\nclient.getOptions().setThrowExceptionOnFailingStatusCode(false);\nclient.getOptions().setRedirectEnabled(true);\nclient.getCache().setMaxSize(0);\nclient.waitForBackgroundJavaScript(10000);\nclient.setJavaScriptTimeout(10000);\nclient.waitForBackgroundJavaScriptStartingBefore(10000);\n\ntry {\n\n    String url = \"https://www.badlion.net/\";\n\n    HtmlPage page = client.getPage(url);\n\n    synchronized(page) {\n        page.wait(7000);\n    }\n    //Print cookies for test purposes. Comment out in production.\n    URL _url = new URL(url);\n    for(Cookie c : client.getCookies(_url)) {\n        System.out.println(c.getName() +\"=\"+c.getValue());\n    }\n\n    //This prints the content after bypassing Cloudflare.\n    System.out.println(client.getPage(url).getWebResponse().getContentAsString());\n} catch (FailingHttpStatusCodeException e) {\n    e.printStackTrace();\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n} catch(InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Just replace <code>String url = \"https://badlion.net/\";</code> with the URL you are attempting to access.</p>\n"}],"owner":{"account_id":3384306,"reputation":59,"user_id":2840630,"display_name":"SirRan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10540,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1638846535,"creation_date":1440607649,"question_id":32232259,"body_markdown":"First of I wanted to apologize in case my question may not be provided with enough connect or anything of that matter, I&#39;m typing this up on my phone right now.\r\n\r\nSo I&#39;m working on a project that requires me to automate tasks within a webpage and in order to do that, step one is to access the page in the first place, but I&#39;ve reached an obstacle that I&#39;ve tried searching and figuring out with no avail. \r\n\r\nThe webpage I&#39;m trying to reach had DDoS protection by CloudFlare, meaning before entering the page, your browser is checked for a couple seconds then let through. \r\n\r\nI&#39;m using the external library HtmlUnit which provides me with everything I will need and when accessing the page, I get a `503 error`, saying I cannot access it, in fairly sure this is the protection blocking it. \r\n\r\nNow my question is how should I bypass it. There is a `.jar` I decompiled and looked at which goes to the same site as me but it&#39;s far too illegible for me to make out.\r\n\r\nWould appreciate help on this task so much, thanks.\r\n\r\nFor reference, here is an example of a webpage that uses CloudFare for testing, [www.osbot.org][1] (this isn&#39;t the site BTW).\r\n\r\nIf you need anything else please let me know and again sorry for text only, it&#39;s hard typing this up on my phone and I currently have no PC access.\r\n\r\nEdit: Cannot whitelist my IP or get in contact with site owner\r\n\r\n\r\n  [1]: http://www.osbot.org","title":"Accessing webpage with Cloudflare protection","body":"<p>First of I wanted to apologize in case my question may not be provided with enough connect or anything of that matter, I'm typing this up on my phone right now.</p>\n\n<p>So I'm working on a project that requires me to automate tasks within a webpage and in order to do that, step one is to access the page in the first place, but I've reached an obstacle that I've tried searching and figuring out with no avail. </p>\n\n<p>The webpage I'm trying to reach had DDoS protection by CloudFlare, meaning before entering the page, your browser is checked for a couple seconds then let through. </p>\n\n<p>I'm using the external library HtmlUnit which provides me with everything I will need and when accessing the page, I get a <code>503 error</code>, saying I cannot access it, in fairly sure this is the protection blocking it. </p>\n\n<p>Now my question is how should I bypass it. There is a <code>.jar</code> I decompiled and looked at which goes to the same site as me but it's far too illegible for me to make out.</p>\n\n<p>Would appreciate help on this task so much, thanks.</p>\n\n<p>For reference, here is an example of a webpage that uses CloudFare for testing, <a href=\"http://www.osbot.org\" rel=\"nofollow\">www.osbot.org</a> (this isn't the site BTW).</p>\n\n<p>If you need anything else please let me know and again sorry for text only, it's hard typing this up on my phone and I currently have no PC access.</p>\n\n<p>Edit: Cannot whitelist my IP or get in contact with site owner</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":13163665,"reputation":5127,"user_id":9508635,"display_name":"tromgy"},"score":0,"creation_date":1638846809,"post_id":70254432,"comment_id":124190803,"body_markdown":"If you are on macOS (and maybe Linux too) you can use the following command to find what process is using a port: `lsof -nP -iTCP -sTCP:LISTEN | grep &lt;port-number&gt;`","body":"If you are on macOS (and maybe Linux too) you can use the following command to find what process is using a port: <code>lsof -nP -iTCP -sTCP:LISTEN | grep &lt;port-number&gt;</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638846905,"post_id":70254432,"comment_id":124190816,"body_markdown":"Does restarting solve it? Your question isn&#39;t clear on that point.","body":"Does restarting solve it? Your question isn&#39;t clear on that point."}],"owner":{"account_id":20095087,"reputation":1,"user_id":14734790,"display_name":"lzy513"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638845996,"creation_date":1638845996,"question_id":70254432,"body_markdown":"I try to start a Spring boot project. It worked fine originally, but after I restart my computer for some reason, I keep getting the messages &quot;Port xxxx was already in use&quot;.\r\n\r\nAnd Even if I change the port, I still get this error. I&#39;m pretty sure I have no process in use. \r\nThough it might be solved when I restart my computer, I was still wondering the problem.","title":"no process listening on port 8080 but shows already in use","body":"<p>I try to start a Spring boot project. It worked fine originally, but after I restart my computer for some reason, I keep getting the messages &quot;Port xxxx was already in use&quot;.</p>\n<p>And Even if I change the port, I still get this error. I'm pretty sure I have no process in use.\nThough it might be solved when I restart my computer, I was still wondering the problem.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638845404,"creation_date":1638845404,"answer_id":70254365,"question_id":70254243,"body_markdown":"`PendingIntent` is a flag in API 21+ .So either you can set it like this:\r\n\r\n```kotlin\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) { \r\n  PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT\r\n} \r\nelse {\r\n PendingIntent.FLAG_UPDATE_CURRENT \r\n}\r\n```\r\n**OR**\r\n\r\n\r\nAccording to the docs [here][1] , one should choose `FLAG_IMMUTABLE`. Use `FLAG_MUTABLE` in case if some functionality depends on the `PendingIntent`\r\n\r\n```kotlin\r\nval updatedPendingIntent = PendingIntent.getActivity(\r\n   applicationContext,\r\n   NOTIFICATION_REQUEST_CODE,\r\n   updatedIntent,\r\n   PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag \r\n)\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12#pending-intent-mutability","title":"Main Activity fails to start up due to PendingIntent Flag error","body":"<p><code>PendingIntent</code> is a flag in API 21+ .So either you can set it like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) { \n  PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT\n} \nelse {\n PendingIntent.FLAG_UPDATE_CURRENT \n}\n</code></pre>\n<p><strong>OR</strong></p>\n<p>According to the docs <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#pending-intent-mutability\" rel=\"nofollow noreferrer\">here</a> , one should choose <code>FLAG_IMMUTABLE</code>. Use <code>FLAG_MUTABLE</code> in case if some functionality depends on the <code>PendingIntent</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val updatedPendingIntent = PendingIntent.getActivity(\n   applicationContext,\n   NOTIFICATION_REQUEST_CODE,\n   updatedIntent,\n   PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag \n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1638845862,"creation_date":1638845862,"answer_id":70254418,"question_id":70254243,"body_markdown":"The `androidx.work` in the stack trace is `WorkManager`. As per the [WorkManager 2.7.0-alpha02][1]:\r\n\r\n&gt; Make PendingIntent mutability explicit, to fix a crash when targeting Android 12.\r\n\r\nTherefore you should upgrade to the latest version, [WorkManager 2.7.1][2] by adding an explicit dependency on that latest version to the `dependencies` block of your `build.gradle` file:\r\n\r\n    implementation &quot;androidx.work:work-runtime:2.7.1&quot;\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/work#2.7.0-alpha02\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/work#2.7.1","title":"Main Activity fails to start up due to PendingIntent Flag error","body":"<p>The <code>androidx.work</code> in the stack trace is <code>WorkManager</code>. As per the <a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.7.0-alpha02\" rel=\"nofollow noreferrer\">WorkManager 2.7.0-alpha02</a>:</p>\n<blockquote>\n<p>Make PendingIntent mutability explicit, to fix a crash when targeting Android 12.</p>\n</blockquote>\n<p>Therefore you should upgrade to the latest version, <a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.7.1\" rel=\"nofollow noreferrer\">WorkManager 2.7.1</a> by adding an explicit dependency on that latest version to the <code>dependencies</code> block of your <code>build.gradle</code> file:</p>\n<pre><code>implementation &quot;androidx.work:work-runtime:2.7.1&quot;\n</code></pre>\n"}],"owner":{"account_id":20393051,"reputation":45,"user_id":14960526,"display_name":"j_wash_BL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1462,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70254418,"answer_count":2,"score":4,"last_activity_date":1638845862,"creation_date":1638844215,"question_id":70254243,"body_markdown":"I&#39;m developing a system app, and when I attempt to start it up from the home screen in Android 31, it fails and an `java.lang.IllegalArgumentException` is thrown.  Here&#39;s what the stack trace looks like:\r\n```\r\njava.lang.IllegalArgumentException: tech.[brand].[name]: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\r\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\r\n        at androidx.work.impl.utils.ForceStopRunnable.getPendingIntent(ForceStopRunnable.java:285)\r\n        at androidx.work.impl.utils.ForceStopRunnable.isForceStopped(ForceStopRunnable.java:158)\r\n        at androidx.work.impl.utils.ForceStopRunnable.forceStopRunnable(ForceStopRunnable.java:185)\r\n        at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:103)\r\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:920)\r\n```\r\n\r\nThe stack doesn&#39;t reach any of my source code and far as I know I&#39;m not calling any intent in my code so far, pending or otherwise.  Does anyone know what&#39;s going on?","title":"Main Activity fails to start up due to PendingIntent Flag error","body":"<p>I'm developing a system app, and when I attempt to start it up from the home screen in Android 31, it fails and an <code>java.lang.IllegalArgumentException</code> is thrown.  Here's what the stack trace looks like:</p>\n<pre><code>java.lang.IllegalArgumentException: tech.[brand].[name]: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\n        at androidx.work.impl.utils.ForceStopRunnable.getPendingIntent(ForceStopRunnable.java:285)\n        at androidx.work.impl.utils.ForceStopRunnable.isForceStopped(ForceStopRunnable.java:158)\n        at androidx.work.impl.utils.ForceStopRunnable.forceStopRunnable(ForceStopRunnable.java:185)\n        at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:103)\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:920)\n</code></pre>\n<p>The stack doesn't reach any of my source code and far as I know I'm not calling any intent in my code so far, pending or otherwise.  Does anyone know what's going on?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1638784432,"post_id":70243488,"comment_id":124171485,"body_markdown":"The build path is showing errors - fix those.","body":"The build path is showing errors - fix those."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1638787183,"post_id":70243488,"comment_id":124172361,"body_markdown":"I guess, in the preferences _Java &gt; Installed JREs_ the only item points to a Java version that you have uninstalled. Your Eclipse is pretty outdated and with a current Eclipse with a built-in Java you would have no such a problem. Please check if your software is up to date before asking to not waste also other people&#39;s time.","body":"I guess, in the preferences <i>Java &gt; Installed JREs</i> the only item points to a Java version that you have uninstalled. Your Eclipse is pretty outdated and with a current Eclipse with a built-in Java you would have no such a problem. Please check if your software is up to date before asking to not waste also other people&#39;s time."}],"answers":[{"tags":[],"owner":{"account_id":19044164,"reputation":7735,"user_id":13903626,"display_name":"Vito Liu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1638845843,"creation_date":1638845843,"answer_id":70254417,"question_id":70243488,"body_markdown":"The current test results show that the same version of eclipse and JDK can be used normally in windows machines, but cannot be used in windows virtual machine.\r\n\r\nNote: Try to update eclipse and JDK to the latest version, but get the same error.","title":"The project: test which is referenced by the classpath, does not exist","body":"<p>The current test results show that the same version of eclipse and JDK can be used normally in windows machines, but cannot be used in windows virtual machine.</p>\n<p>Note: Try to update eclipse and JDK to the latest version, but get the same error.</p>\n"}],"owner":{"account_id":19044164,"reputation":7735,"user_id":13903626,"display_name":"Vito Liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70254417,"answer_count":1,"score":-1,"last_activity_date":1638845843,"creation_date":1638783870,"question_id":70243488,"body_markdown":"Create a sample code in the eclipse and run the code.\r\n\r\nReproduce steps:\r\n\r\n1. Create a sample Java project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Check build path and readd lib\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. Then get this error \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tBmi2.png\r\n  [2]: https://i.stack.imgur.com/Jrg5O.png\r\n  [4]: https://i.stack.imgur.com/7bLYz.png","title":"The project: test which is referenced by the classpath, does not exist","body":"<p>Create a sample code in the eclipse and run the code.</p>\n<p>Reproduce steps:</p>\n<ol>\n<li>Create a sample Java project</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/tBmi2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBmi2.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Check build path and readd lib</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Jrg5O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jrg5O.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Then get this error</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/7bLYz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bLYz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638795257,"creation_date":1638795257,"answer_id":70245835,"question_id":70244760,"body_markdown":"after creating new instance of `MediaPlayer` (in your case using `MediaPlayer.create(`) you have to wait when it gets prepared, only then you may call `start()`\r\n\r\nuse [`mediaPlayer.setOnPreparedListener`](https://developer.android.com/reference/android/media/MediaPlayer#setOnPreparedListener(android.media.MediaPlayer.OnPreparedListener)) and start playing when it fires\r\n\r\nbut at first get familiar with [`MediaPlayer` doc and state diagram](https://developer.android.com/reference/android/media/MediaPlayer). may be easier to use some lib, e.g. [`ExoPlayer`](https://github.com/google/ExoPlayer)\r\n\r\nbesides that you should have two methods: for starting and destroying player. currently you are initiating player in `onCreate` in one way (simpler) and another similar piece of code is in `playSong` method. would be better to read `pos` from `Bundle` and call `playSong` straight inside `onCreate`","title":"Android Media Player stops after second song","body":"<p>after creating new instance of <code>MediaPlayer</code> (in your case using <code>MediaPlayer.create(</code>) you have to wait when it gets prepared, only then you may call <code>start()</code></p>\n<p>use <a href=\"https://developer.android.com/reference/android/media/MediaPlayer#setOnPreparedListener(android.media.MediaPlayer.OnPreparedListener)\" rel=\"nofollow noreferrer\"><code>mediaPlayer.setOnPreparedListener</code></a> and start playing when it fires</p>\n<p>but at first get familiar with <a href=\"https://developer.android.com/reference/android/media/MediaPlayer\" rel=\"nofollow noreferrer\"><code>MediaPlayer</code> doc and state diagram</a>. may be easier to use some lib, e.g. <a href=\"https://github.com/google/ExoPlayer\" rel=\"nofollow noreferrer\"><code>ExoPlayer</code></a></p>\n<p>besides that you should have two methods: for starting and destroying player. currently you are initiating player in <code>onCreate</code> in one way (simpler) and another similar piece of code is in <code>playSong</code> method. would be better to read <code>pos</code> from <code>Bundle</code> and call <code>playSong</code> straight inside <code>onCreate</code></p>\n"}],"owner":{"account_id":23561109,"reputation":11,"user_id":17602463,"display_name":"Masaneo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638845452,"creation_date":1638790014,"question_id":70244760,"body_markdown":"I am making a music player app and I have a problem. After playing a song next song starts playing but when the second song is done playing it freezes and does nothing. It used to say on a log that the media player went away with unhandled events but I&#39;ve found another way to handle it with Player.this.runOnUiThread and now it doesn&#39;t say that but still doesn&#39;t work. There is the code:\r\n\r\n    String sname;\r\n    public static final String EXTRA_NAME = &quot;song_name&quot;;\r\n    static MediaPlayer mediaPlayer;\r\n    int position;\r\n    ArrayList&lt;File&gt; mySongs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_player);\r\n\r\n        if(mediaPlayer != null){\r\n            mediaPlayer.stop();\r\n            mediaPlayer.release();\r\n        }\r\n\r\n        Intent i = getIntent();\r\n        Bundle bundle = i.getExtras();\r\n\r\n        mySongs = (ArrayList) bundle.getParcelableArrayList(&quot;songs&quot;);\r\n        String songName = i.getStringExtra(&quot;songName&quot;);\r\n        position = bundle.getInt(&quot;pos&quot;, 0);\r\n        txtsname.setSelected(true);\r\n        Uri uri = Uri.parse(mySongs.get(position).toString());\r\n        sname = mySongs.get(position).getName();\r\n        txtsname.setText(sname);\r\n\r\n        setAlbumCover();\r\n\r\n        mediaPlayer = MediaPlayer.create(getApplicationContext(), uri);\r\n        mediaPlayer.start();\r\n\r\n        Player.this.runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n               if(mediaPlayer != null){\r\n                int currentPosition = mediaPlayer.getCurrentPosition();\r\n                seekMusic.setProgress(currentPosition);\r\n               }\r\n            }\r\n        });\r\n\r\n        seekMusic.setMax(mediaPlayer.getDuration());\r\n\r\n        seekMusic.getProgressDrawable().setColorFilter(getResources().getColor(R.color.colorPrimary), PorterDuff.Mode.MULTIPLY);\r\n        seekMusic.getThumb().setColorFilter(getResources().getColor(R.color.colorPrimary), PorterDuff.Mode.SRC_IN);\r\n\r\n        seekMusic.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener(){\r\n\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                mediaPlayer.seekTo(seekBar.getProgress());\r\n            }\r\n        });\r\n\r\n        String endTime = evalTime(mediaPlayer.getDuration());\r\n        txtsstop.setText(endTime);\r\n\r\n        final Handler handler = new Handler();\r\n        final int delay = 500;\r\n\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                String currTime = evalTime(mediaPlayer.getCurrentPosition());\r\n                seekMusic.setProgress(mediaPlayer.getCurrentPosition());\r\n                txtsstart.setText(currTime);\r\n                handler.postDelayed(this, delay);\r\n            }\r\n        }, delay);\r\n\r\n        playButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(mediaPlayer.isPlaying()){\r\n                    playButton.setImageResource(R.drawable.ic_play);\r\n                    mediaPlayer.pause();\r\n                }\r\n                else{\r\n                    playButton.setImageResource(R.drawable.ic_pause);\r\n                    mediaPlayer.start();\r\n                }\r\n            }\r\n        });\r\n\r\n        nextButton.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(!shuffle){\r\n                    position = ((position + 1) % mySongs.size());\r\n\r\n                    playSong(position);\r\n                }\r\n                else {\r\n                    Random rand = new Random();\r\n\r\n                    position = rand.nextInt(mySongs.size());\r\n\r\n                    playSong(position);\r\n                }\r\n            }\r\n        });\r\n\r\n        previousButton.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                position = ((position - 1 &gt;= 0) ? position - 1 : mySongs.size() - 1);\r\n                playSong(position);\r\n            }\r\n        });\r\n\r\n        shuffleButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(!shuffle) {\r\n                    shuffle = true;\r\n                    loop = false;\r\n\r\n                    loopButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\r\n                    shuffleButton.getDrawable().setColorFilter(getResources().getColor(R.color.activeButton), PorterDuff.Mode.SRC_ATOP);\r\n                }\r\n                else {\r\n                    shuffle = false;\r\n                    loop = false;\r\n\r\n                    shuffleButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\r\n                }\r\n            }\r\n        });\r\n\r\n        loopButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(!loop) {\r\n                    loop = true;\r\n                    shuffle = false;\r\n\r\n                    shuffleButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\r\n                    loopButton.getDrawable().setColorFilter(getResources().getColor(R.color.activeButton), PorterDuff.Mode.SRC_ATOP);\r\n                }\r\n                else {\r\n                    loop = false;\r\n                    shuffle = false;\r\n\r\n                    loopButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\r\n                }\r\n            }\r\n        });\r\n\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                if (loop) {\r\n                    playSong(position);\r\n                    loop = true;\r\n                }\r\n                else nextButton.performClick();\r\n            }\r\n        });\r\n    }\r\n    public String evalTime (int duration){\r\n        String time = &quot;&quot;;\r\n        int min = duration / 1000 / 60;\r\n        int sec = duration / 1000 % 60;\r\n\r\n        time += min + &quot;:&quot;;\r\n        if(sec &lt; 10){\r\n            time += &quot;0&quot;;\r\n        }\r\n        time += sec;\r\n\r\n        return time;\r\n    }\r\n\r\n    public void playSong(int pos){\r\n        mediaPlayer.stop();\r\n        mediaPlayer.reset();\r\n        mediaPlayer.release();\r\n        mediaPlayer = null;\r\n\r\n        Uri u = Uri.parse(mySongs.get(pos).toString());\r\n\r\n        mediaPlayer = MediaPlayer.create(getApplicationContext(), u);\r\n        sname = mySongs.get(pos).getName();\r\n        txtsname.setText(sname);\r\n\r\n        seekMusic.setMax(mediaPlayer.getDuration());\r\n        String endTime = evalTime(mediaPlayer.getDuration());\r\n        txtsstop.setText(endTime);\r\n\r\n        mediaPlayer.start();\r\n\r\n        playButton.setImageResource(R.drawable.ic_pause);\r\n        setAlbumCover();\r\n    }\r\n    }\r\n\r\nHow can I fix it?","title":"Android Media Player stops after second song","body":"<p>I am making a music player app and I have a problem. After playing a song next song starts playing but when the second song is done playing it freezes and does nothing. It used to say on a log that the media player went away with unhandled events but I've found another way to handle it with Player.this.runOnUiThread and now it doesn't say that but still doesn't work. There is the code:</p>\n<pre><code>String sname;\npublic static final String EXTRA_NAME = &quot;song_name&quot;;\nstatic MediaPlayer mediaPlayer;\nint position;\nArrayList&lt;File&gt; mySongs;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_player);\n\n    if(mediaPlayer != null){\n        mediaPlayer.stop();\n        mediaPlayer.release();\n    }\n\n    Intent i = getIntent();\n    Bundle bundle = i.getExtras();\n\n    mySongs = (ArrayList) bundle.getParcelableArrayList(&quot;songs&quot;);\n    String songName = i.getStringExtra(&quot;songName&quot;);\n    position = bundle.getInt(&quot;pos&quot;, 0);\n    txtsname.setSelected(true);\n    Uri uri = Uri.parse(mySongs.get(position).toString());\n    sname = mySongs.get(position).getName();\n    txtsname.setText(sname);\n\n    setAlbumCover();\n\n    mediaPlayer = MediaPlayer.create(getApplicationContext(), uri);\n    mediaPlayer.start();\n\n    Player.this.runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n           if(mediaPlayer != null){\n            int currentPosition = mediaPlayer.getCurrentPosition();\n            seekMusic.setProgress(currentPosition);\n           }\n        }\n    });\n\n    seekMusic.setMax(mediaPlayer.getDuration());\n\n    seekMusic.getProgressDrawable().setColorFilter(getResources().getColor(R.color.colorPrimary), PorterDuff.Mode.MULTIPLY);\n    seekMusic.getThumb().setColorFilter(getResources().getColor(R.color.colorPrimary), PorterDuff.Mode.SRC_IN);\n\n    seekMusic.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener(){\n\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n            mediaPlayer.seekTo(seekBar.getProgress());\n        }\n    });\n\n    String endTime = evalTime(mediaPlayer.getDuration());\n    txtsstop.setText(endTime);\n\n    final Handler handler = new Handler();\n    final int delay = 500;\n\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            String currTime = evalTime(mediaPlayer.getCurrentPosition());\n            seekMusic.setProgress(mediaPlayer.getCurrentPosition());\n            txtsstart.setText(currTime);\n            handler.postDelayed(this, delay);\n        }\n    }, delay);\n\n    playButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if(mediaPlayer.isPlaying()){\n                playButton.setImageResource(R.drawable.ic_play);\n                mediaPlayer.pause();\n            }\n            else{\n                playButton.setImageResource(R.drawable.ic_pause);\n                mediaPlayer.start();\n            }\n        }\n    });\n\n    nextButton.setOnClickListener(new View.OnClickListener(){\n        @Override\n        public void onClick(View v) {\n            if(!shuffle){\n                position = ((position + 1) % mySongs.size());\n\n                playSong(position);\n            }\n            else {\n                Random rand = new Random();\n\n                position = rand.nextInt(mySongs.size());\n\n                playSong(position);\n            }\n        }\n    });\n\n    previousButton.setOnClickListener(new View.OnClickListener(){\n        @Override\n        public void onClick(View v) {\n            position = ((position - 1 &gt;= 0) ? position - 1 : mySongs.size() - 1);\n            playSong(position);\n        }\n    });\n\n    shuffleButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if(!shuffle) {\n                shuffle = true;\n                loop = false;\n\n                loopButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\n                shuffleButton.getDrawable().setColorFilter(getResources().getColor(R.color.activeButton), PorterDuff.Mode.SRC_ATOP);\n            }\n            else {\n                shuffle = false;\n                loop = false;\n\n                shuffleButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\n            }\n        }\n    });\n\n    loopButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if(!loop) {\n                loop = true;\n                shuffle = false;\n\n                shuffleButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\n                loopButton.getDrawable().setColorFilter(getResources().getColor(R.color.activeButton), PorterDuff.Mode.SRC_ATOP);\n            }\n            else {\n                loop = false;\n                shuffle = false;\n\n                loopButton.getDrawable().setColorFilter(getResources().getColor(R.color.button), PorterDuff.Mode.SRC_ATOP);\n            }\n        }\n    });\n\n    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            if (loop) {\n                playSong(position);\n                loop = true;\n            }\n            else nextButton.performClick();\n        }\n    });\n}\npublic String evalTime (int duration){\n    String time = &quot;&quot;;\n    int min = duration / 1000 / 60;\n    int sec = duration / 1000 % 60;\n\n    time += min + &quot;:&quot;;\n    if(sec &lt; 10){\n        time += &quot;0&quot;;\n    }\n    time += sec;\n\n    return time;\n}\n\npublic void playSong(int pos){\n    mediaPlayer.stop();\n    mediaPlayer.reset();\n    mediaPlayer.release();\n    mediaPlayer = null;\n\n    Uri u = Uri.parse(mySongs.get(pos).toString());\n\n    mediaPlayer = MediaPlayer.create(getApplicationContext(), u);\n    sname = mySongs.get(pos).getName();\n    txtsname.setText(sname);\n\n    seekMusic.setMax(mediaPlayer.getDuration());\n    String endTime = evalTime(mediaPlayer.getDuration());\n    txtsstop.setText(endTime);\n\n    mediaPlayer.start();\n\n    playButton.setImageResource(R.drawable.ic_pause);\n    setAlbumCover();\n}\n}\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","jdbc","jdbctemplate","jts"],"answers":[{"tags":[],"owner":{"account_id":232928,"reputation":620,"user_id":498096,"accept_rate":40,"display_name":"ljader"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636732773,"creation_date":1636732773,"answer_id":69945714,"question_id":69112094,"body_markdown":"Assuming you only want to &quot;extract&quot; the Point geometry,  \r\nI think you should check out how Hibernate Spatial does the extraction of JTS Geometry from JDBC ResultSet - your starting point should be `org.hibernate.spatial.dialect.oracle.SDOGeometryValueExtractor`\r\n\r\n(if you also want to &quot;store&quot; the geometry, I don&#39;t have any tip right now for you)\r\n\r\nThe code (adapted from said class) could look something like this:\r\n\r\n```\r\nprivate Geometry loadGeometry(ResultSet rs) throws SQLException {\r\n\tfinal Object geomObj = rs.getObject( &quot;coordinates&quot; );\r\n\tif (rs.wasNull()) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\treturn convertToGeometry(geomObj);\r\n\t}\r\n}\r\n\r\nprivate Geometry convertToGeometry(Object struct) {\r\n\tfinal SDOGeometry sdogeom = SDOGeometry.load( (Struct) struct );\r\n\tfinal var geolateGeom = toGeomerty( sdogeom );\r\n\treturn JTS.to(geolateGeom);\r\n}\r\n\r\nprivate org.geolatte.geom.Geometry toGeomerty(SDOGeometry sdoGeom) {\r\n\treturn Decoders.decode( sdoGeom );\r\n}\r\n```","title":"How convert type Point from MySQL with JdbcTemplate?","body":"<p>Assuming you only want to &quot;extract&quot; the Point geometry,<br />\nI think you should check out how Hibernate Spatial does the extraction of JTS Geometry from JDBC ResultSet - your starting point should be <code>org.hibernate.spatial.dialect.oracle.SDOGeometryValueExtractor</code></p>\n<p>(if you also want to &quot;store&quot; the geometry, I don't have any tip right now for you)</p>\n<p>The code (adapted from said class) could look something like this:</p>\n<pre><code>private Geometry loadGeometry(ResultSet rs) throws SQLException {\n    final Object geomObj = rs.getObject( &quot;coordinates&quot; );\n    if (rs.wasNull()) {\n        return null;\n    } else {\n        return convertToGeometry(geomObj);\n    }\n}\n\nprivate Geometry convertToGeometry(Object struct) {\n    final SDOGeometry sdogeom = SDOGeometry.load( (Struct) struct );\n    final var geolateGeom = toGeomerty( sdogeom );\n    return JTS.to(geolateGeom);\n}\n\nprivate org.geolatte.geom.Geometry toGeomerty(SDOGeometry sdoGeom) {\n    return Decoders.decode( sdoGeom );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17982534,"reputation":58,"user_id":13068500,"display_name":"devalurum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638845203,"creation_date":1638845203,"answer_id":70254341,"question_id":69112094,"body_markdown":"I have already solved this issue for a long time, I will publish how I did it. Maybe there is a better way.\r\n\r\n```NtpJdbcRepository.java```:\r\n\r\n    @Repository\r\n    @AllArgsConstructor\r\n    public class NtpJdbcRepository implements NtpRepository {\r\n\r\n    private final NamedParameterJdbcTemplate namedJdbcTemplate;\r\n    private final PointReader pointReader;\r\n\r\n    @Override\r\n    public List&lt;NtpSource&gt; getNtpSource(List&lt;Integer&gt; ntp_id, Date startDate, Date endDate) {\r\n\r\n        String selectQuery = &quot;SELECT &quot;\r\n                + &quot;u.ntp_id, &quot;\r\n                + &quot;u.ip,&quot;\r\n                + &quot;u.country,&quot;\r\n                + &quot;u.iso_code,&quot;\r\n                + &quot;u.city,&quot;\r\n                + &quot;ST_AsWKB(u.coordinates) as coordinates,&quot; // &lt;- returns a binary result.\r\n                + &quot;SUM(u.counts_requests) as counts_requests &quot;\r\n                + &quot;FROM ntp_source AS u &quot;\r\n                + &quot;WHERE u.ntp_id IN (:ntp_ids) and u.dataDT BETWEEN :startDate AND :endDate &quot;\r\n                + &quot;GROUP BY u.ip, u.ntp_id&quot;;\r\n\r\n        MapSqlParameterSource parameters = new MapSqlParameterSource()\r\n                .addValue(&quot;ntp_ids&quot;, ntp_id)\r\n                .addValue(&quot;startDate&quot;, startDate)\r\n                .addValue(&quot;endDate&quot;, endDate);\r\n\r\n\r\n        return namedJdbcTemplate.query(selectQuery,\r\n                parameters, (rs, rowNum) -&gt; {\r\n                    NtpSource ntpSource = new NtpSource();\r\n                    ntpSource.setNtpId(rs.getInt(&quot;ntp_id&quot;));\r\n                    ntpSource.setIp(rs.getString(&quot;ip&quot;));\r\n                    ntpSource.setCountry(rs.getString(&quot;country&quot;));\r\n                    ntpSource.setIsoCode(rs.getString(&quot;iso_code&quot;));\r\n                    ntpSource.setCity(rs.getString(&quot;city&quot;));\r\n                    ntpSource.setCountsRequests(rs.getLong(&quot;counts_requests&quot;));\r\n                    ntpSource.setCoordinates(pointReader.read(rs.getBytes(&quot;coordinates&quot;))); // &lt;- get byte[]\r\n                    return ntpSource;\r\n                });\r\n        }\r\n    }\r\n\r\n```PointReader.java```: \r\n\r\n    @Component\r\n    @Slf4j\r\n    public class PointReader {\r\n        private static final int SRID = 4326;\r\n        private final WKTReader reader;\r\n        private final WKBReader wkbReader;\r\n        private final GeometryFactory gf;\r\n    \r\n        public PointReader() {\r\n            PrecisionModel pm = new PrecisionModel(PrecisionModel.FLOATING);\r\n            gf = new GeometryFactory(pm, SRID);\r\n            wkbReader = new WKBReader(gf);\r\n            reader = new WKTReader(gf);\r\n        }      \r\n    \r\n        public Point read(@NotNull byte[] bytes) {\r\n            if (bytes == null) {\r\n                return null;\r\n            } else {\r\n                Geometry geometry;\r\n                try {\r\n                    geometry = wkbReader.read(bytes);\r\n                    return convert3Dto2D(geometry);\r\n                } catch (ParseException e) {\r\n                    log.error(&quot;Ошибка при чтении Point в виде байтов.&quot;, e);\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n\r\n        // need the point to have only 2 measurements, but not three\r\n        private Point convert3Dto2D(Geometry g3D) {\r\n            Coordinate geomCoord = g3D.getCoordinate().copy();\r\n            CoordinateSequence seq = new PackedCoordinateSequenceFactory().create(1, 2);\r\n            seq.setOrdinate(0, CoordinateSequence.X, geomCoord.x);\r\n            seq.setOrdinate(0, CoordinateSequence.Y, geomCoord.y);\r\n            return gf.createPoint(seq);\r\n        }\r\n    }\r\n","title":"How convert type Point from MySQL with JdbcTemplate?","body":"<p>I have already solved this issue for a long time, I will publish how I did it. Maybe there is a better way.</p>\n<p><code>NtpJdbcRepository.java</code>:</p>\n<pre><code>@Repository\n@AllArgsConstructor\npublic class NtpJdbcRepository implements NtpRepository {\n\nprivate final NamedParameterJdbcTemplate namedJdbcTemplate;\nprivate final PointReader pointReader;\n\n@Override\npublic List&lt;NtpSource&gt; getNtpSource(List&lt;Integer&gt; ntp_id, Date startDate, Date endDate) {\n\n    String selectQuery = &quot;SELECT &quot;\n            + &quot;u.ntp_id, &quot;\n            + &quot;u.ip,&quot;\n            + &quot;u.country,&quot;\n            + &quot;u.iso_code,&quot;\n            + &quot;u.city,&quot;\n            + &quot;ST_AsWKB(u.coordinates) as coordinates,&quot; // &lt;- returns a binary result.\n            + &quot;SUM(u.counts_requests) as counts_requests &quot;\n            + &quot;FROM ntp_source AS u &quot;\n            + &quot;WHERE u.ntp_id IN (:ntp_ids) and u.dataDT BETWEEN :startDate AND :endDate &quot;\n            + &quot;GROUP BY u.ip, u.ntp_id&quot;;\n\n    MapSqlParameterSource parameters = new MapSqlParameterSource()\n            .addValue(&quot;ntp_ids&quot;, ntp_id)\n            .addValue(&quot;startDate&quot;, startDate)\n            .addValue(&quot;endDate&quot;, endDate);\n\n\n    return namedJdbcTemplate.query(selectQuery,\n            parameters, (rs, rowNum) -&gt; {\n                NtpSource ntpSource = new NtpSource();\n                ntpSource.setNtpId(rs.getInt(&quot;ntp_id&quot;));\n                ntpSource.setIp(rs.getString(&quot;ip&quot;));\n                ntpSource.setCountry(rs.getString(&quot;country&quot;));\n                ntpSource.setIsoCode(rs.getString(&quot;iso_code&quot;));\n                ntpSource.setCity(rs.getString(&quot;city&quot;));\n                ntpSource.setCountsRequests(rs.getLong(&quot;counts_requests&quot;));\n                ntpSource.setCoordinates(pointReader.read(rs.getBytes(&quot;coordinates&quot;))); // &lt;- get byte[]\n                return ntpSource;\n            });\n    }\n}\n</code></pre>\n<p><code>PointReader.java</code>:</p>\n<pre><code>@Component\n@Slf4j\npublic class PointReader {\n    private static final int SRID = 4326;\n    private final WKTReader reader;\n    private final WKBReader wkbReader;\n    private final GeometryFactory gf;\n\n    public PointReader() {\n        PrecisionModel pm = new PrecisionModel(PrecisionModel.FLOATING);\n        gf = new GeometryFactory(pm, SRID);\n        wkbReader = new WKBReader(gf);\n        reader = new WKTReader(gf);\n    }      \n\n    public Point read(@NotNull byte[] bytes) {\n        if (bytes == null) {\n            return null;\n        } else {\n            Geometry geometry;\n            try {\n                geometry = wkbReader.read(bytes);\n                return convert3Dto2D(geometry);\n            } catch (ParseException e) {\n                log.error(&quot;Ошибка при чтении Point в виде байтов.&quot;, e);\n                return null;\n            }\n        }\n    }\n\n    // need the point to have only 2 measurements, but not three\n    private Point convert3Dto2D(Geometry g3D) {\n        Coordinate geomCoord = g3D.getCoordinate().copy();\n        CoordinateSequence seq = new PackedCoordinateSequenceFactory().create(1, 2);\n        seq.setOrdinate(0, CoordinateSequence.X, geomCoord.x);\n        seq.setOrdinate(0, CoordinateSequence.Y, geomCoord.y);\n        return gf.createPoint(seq);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17982534,"reputation":58,"user_id":13068500,"display_name":"devalurum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70254341,"answer_count":2,"score":0,"last_activity_date":1638845203,"creation_date":1631160169,"question_id":69112094,"body_markdown":"Need Help! I am unable to convert a Point from MySQL using JdbcTemplate. However, when using JPA it worked out!\r\n\r\nDon&#39;t suggest an answer with ```SELECT ST_AsWKT() + WKTReader()```, I have already tried and it did not work out very well...\r\n\r\nMaybe you need to specify the **SpatialDialect** for JDBC or write a custom converter???\r\n\r\n*Error:* \r\n\r\n    java.sql.SQLException: Conversion not supported for type org.locationtech.jts.geom.Point\r\n\r\n***Source***\r\n\r\nType in Mysql: ```POINT NULL SRID 4326```\r\n\r\nType in Java: ```org.locationtech.jts.geom.Point``` \r\n\r\nin Gradle: \r\n\t```implementation &#39;org.locationtech.jts:jts-core:1.18.0&#39;```\r\n\r\n\r\n```NtpJdbcRepository.java```: \r\n\r\n    import org.locationtech.jts.geom.Point;\r\n\r\n    @Repository\r\n    @AllArgsConstructor\r\n    public class NtpJdbcRepository implements NtpRepository {\r\n\r\n    private final JdbcTemplate jdbcTemplate;\r\n    \r\n    @Override\r\n    public List&lt;NtpSource&gt; getNtpSourceWithNtpIdandDate(List&lt;Integer&gt; ntp_id, Date startDate, Date endDate) {\r\n\r\n        String selectQuery = &quot;SELECT &quot;\r\n                + &quot;u.idTable,&quot;\r\n                + &quot;u.ntp_id,&quot;\r\n                + &quot;u.dataDT,&quot;\r\n                + &quot;u.ip,&quot;\r\n                + &quot;u.country,&quot;\r\n                + &quot;u.iso_code,&quot;\r\n                + &quot;u.city,&quot;\r\n                + &quot;u.coordinates,&quot;\r\n                + &quot;SUM(u.counts_requests) as counts_requests &quot;\r\n                + &quot;FROM ntp_source AS u &quot;\r\n                + &quot;WHERE u.ntp_id IN (?) and u.dataDT BETWEEN ? AND ? &quot;\r\n                + &quot;GROUP BY u.ip&quot;;\r\n              \r\n        String inSql = ntp_id.stream().map(String::valueOf)\r\n                .collect(Collectors.joining(&quot;,&quot;));\r\n\r\n        return jdbcTemplate.query(selectQuery,\r\n                new Object[]{inSql, startDate, endDate},\r\n                (rs, rowNum) -&gt; {\r\n                    NtpSource ntpSource = new NtpSource();\r\n                    ntpSource.setId(rs.getInt(&quot;idTable&quot;));\r\n                    ntpSource.setNtpId(rs.getInt(&quot;ntp_id&quot;));\r\n                    ntpSource.setDataDT(rs.getDate(&quot;dataDT&quot;));\r\n                    ntpSource.setIp(rs.getString(&quot;ip&quot;));\r\n                    ntpSource.setCountry(rs.getString(&quot;country&quot;));\r\n                    ntpSource.setIsoCode(rs.getString(&quot;iso_code&quot;));\r\n                    ntpSource.setCity(rs.getString(&quot;city&quot;));\r\n                    ntpSource.setCountsRequests(rs.getLong(&quot;counts_requests&quot;));\r\n                    ntpSource.setCoordinates(rs.getObject(&quot;coordinates&quot;, Point.class)); // &lt;-- There error: SQLException: Conversion not supported for type org.locationtech.jts.geom.Point\r\n\r\n                    return ntpSource;\r\n                });\r\n          }\r\n    }\r\n\r\n\r\n```NtpSource.java```: \r\n    \r\n    import org.locationtech.jts.geom.Point;\r\n\r\n    @Entity\r\n    @Table(name = &quot;ntp_source&quot;)\r\n    @ToString\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class NtpSource implements Serializable {\r\n  \r\n    @Id\r\n    @Column(name = &quot;idTable&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;ntp_id&quot;)\r\n    private int ntpId;\r\n\r\n    @Column(name = &quot;dataDT&quot;, columnDefinition=&quot;DATETIME&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date dataDT;\r\n\r\n    private String ip;\r\n\r\n    private String country;\r\n\r\n    @Column(name = &quot;iso_code&quot;)\r\n    private String isoCode;\r\n\r\n    private String city;\r\n\r\n    @Column(name = &quot;coordinates&quot;, nullable = true, columnDefinition = &quot;POINT SRID 4326&quot;)\r\n    public Point coordinates;\r\n\r\n    @Column(name = &quot;counts_requests&quot;)\r\n    private long countsRequests;  \r\n    }\r\n\r\n\r\nAnalogical request with JPA (```NtpJpaRepository.java```):\r\n\r\n    @Repository\r\n    public interface NtpJpaRepository extends JpaRepository&lt;NtpSource, Long&gt; {\r\n \r\n    @Query(nativeQuery = true, value = &quot;SELECT &quot;\r\n            +&quot;u.idTable,&quot;\r\n            +&quot;u.ntp_id, &quot;\r\n            +&quot;u.dataDT, &quot;\r\n            +&quot;u.ip,&quot;\r\n            +&quot;u.country,&quot;\r\n            +&quot;u.iso_code,&quot;\r\n            +&quot;u.city,&quot;\r\n            +&quot;u.coordinates,&quot;\r\n            +&quot;SUM(u.counts_requests) as counts_requests&quot;\r\n            +&quot;FROM ntp_source AS u &quot;\r\n            +&quot;WHERE u.ntp_id IN (:ntp_id) and u.dataDT BETWEEN :startDate AND :endDate &quot;\r\n            +&quot;GROUP BY u.ip&quot;)\r\n    List&lt;NtpSource&gt; getNtpSourceWithNtpIdandDate(\r\n            @Param(&quot;ntp_id&quot;) List&lt;Integer&gt; ntp_id,\r\n            @Param(&quot;startDate&quot;) Date startDate,\r\n            @Param(&quot;endDate&quot;) Date endDate);\r\n\r\n       ...\r\n    }\r\n\r\n\r\n```application.properties```:\r\n\r\n        spring.datasource.url=jdbc:mysql://localhost/ntp\r\n        spring.datasource.username=*****\r\n        spring.datasource.password=*****\r\n        spring.sql.init.encoding=UTF-8\r\n        spring.datasource.connectionProperties=useUnicode=true;\r\n     org.springframework.data.jdbc.repository.config.DialectResolver$JdbcDialectProvider=org.hibernate.spatial.dialect.mysql.MySQL8SpatialDialect #testing\r\n        \r\n        server.servlet.context-path=/ntp_visits\r\n        server.port = 8090\r\n        \r\n        ## Hibernate &amp; JPA Properties\r\n        # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n        spring.jpa.properties.hibernate.dialect = org.hibernate.spatial.dialect.mysql.MySQL8SpatialDialect\r\n        spring.jpa.hibernate.ddl-auto = update\r\n        spring.jpa.show-sql=true\r\n        #spring.jpa.properties.hibernate.jdbc.batch_size=3500\r\n        spring.jpa.open-in-view=false\r\n        spring.jpa.properties.hibernate.format_sql=true\r\n        logging.level.org.springframework.jdbc.core = TRACE\r\n        \r\n        #logging.level.org.hibernate.SQL=DEBUG\r\n        #logging.level.org.hibernate.type=trace\r\n        spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n        spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n        spring.jpa.properties.hibernate.use_sql_comments=false\r\n        \r\n        # THYMELEAF (ThymeleafAutoConfiguration)\r\n        #spring.thymeleaf.prefix=classpath:/templates/\r\n        spring.thymeleaf.suffix=.html\r\n        spring.thymeleaf.mode=HTML5\r\n        spring.thymeleaf.encoding=UTF-8\r\n        spring.web.resources.add-mappings=true\r\n        spring.thymeleaf.cache=true      \r\n\r\n```build.gradle```:\r\n\r\n    plugins {\r\n\t\tid &#39;org.springframework.boot&#39; version &#39;2.5.3&#39;\r\n\t\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\t\tid &#39;java&#39;\r\n\t\tid &#39;war&#39;\r\n\t}\r\n\t\r\n\tgroup = &#39;org.vniiftri&#39;\r\n\tversion = &#39;1.0&#39;\r\n\tsourceCompatibility = &#39;1.8&#39;\r\n\t\r\n\tconfigurations {\r\n\t\tcompileOnly {\r\n\t\t\textendsFrom annotationProcessor\r\n\t\t}\r\n\t}\r\n\tconfigurations.all {\r\n\t\texclude module: &#39;slf4j-log4j12&#39;\r\n\t}\r\n\t\r\n\trepositories {\r\n\t\tmavenCentral()\r\n\t}\r\n\t\r\n\tdependencies {\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\t\r\n\t\timplementation &#39;com.google.code.gson:gson:2.8.7&#39;\r\n\t\timplementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n\t\t//implementation &#39;org.locationtech.jts:jts:1.18.0&#39;\r\n\t\timplementation &#39;org.locationtech.jts:jts-core:1.18.0&#39;\r\n\t\t//implementation &#39;org.n52.jackson:jackson-datatype-jts:1.2.4&#39;\r\n\t\t//implementation group: &#39;com.bedatadriven&#39;, name: &#39;jackson-datatype-jts&#39;, version: &#39;2.4&#39;\r\n\t\timplementation &#39;org.hibernate:hibernate-core:5.5.5.Final&#39;\r\n\t\timplementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version: &#39;5.5.5.Final&#39;\r\n\t\t//implementation group: &#39;com.graphhopper.external&#39;, name: &#39;jackson-datatype-jts&#39;, version: &#39;0.10-2.5-1&#39;\r\n\t\r\n\t\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\t\truntimeOnly &#39;mysql:mysql-connector-java&#39;\r\n\t\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t\tprovidedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n\t\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t}\r\n\t\r\n\ttest {\r\n\t\tuseJUnitPlatform()\r\n\t}","title":"How convert type Point from MySQL with JdbcTemplate?","body":"<p>Need Help! I am unable to convert a Point from MySQL using JdbcTemplate. However, when using JPA it worked out!</p>\n<p>Don't suggest an answer with <code>SELECT ST_AsWKT() + WKTReader()</code>, I have already tried and it did not work out very well...</p>\n<p>Maybe you need to specify the <strong>SpatialDialect</strong> for JDBC or write a custom converter???</p>\n<p><em>Error:</em></p>\n<pre><code>java.sql.SQLException: Conversion not supported for type org.locationtech.jts.geom.Point\n</code></pre>\n<p><em><strong>Source</strong></em></p>\n<p>Type in Mysql: <code>POINT NULL SRID 4326</code></p>\n<p>Type in Java: <code>org.locationtech.jts.geom.Point</code></p>\n<p>in Gradle:\n<code>implementation 'org.locationtech.jts:jts-core:1.18.0'</code></p>\n<p><code>NtpJdbcRepository.java</code>:</p>\n<pre><code>import org.locationtech.jts.geom.Point;\n\n@Repository\n@AllArgsConstructor\npublic class NtpJdbcRepository implements NtpRepository {\n\nprivate final JdbcTemplate jdbcTemplate;\n\n@Override\npublic List&lt;NtpSource&gt; getNtpSourceWithNtpIdandDate(List&lt;Integer&gt; ntp_id, Date startDate, Date endDate) {\n\n    String selectQuery = &quot;SELECT &quot;\n            + &quot;u.idTable,&quot;\n            + &quot;u.ntp_id,&quot;\n            + &quot;u.dataDT,&quot;\n            + &quot;u.ip,&quot;\n            + &quot;u.country,&quot;\n            + &quot;u.iso_code,&quot;\n            + &quot;u.city,&quot;\n            + &quot;u.coordinates,&quot;\n            + &quot;SUM(u.counts_requests) as counts_requests &quot;\n            + &quot;FROM ntp_source AS u &quot;\n            + &quot;WHERE u.ntp_id IN (?) and u.dataDT BETWEEN ? AND ? &quot;\n            + &quot;GROUP BY u.ip&quot;;\n          \n    String inSql = ntp_id.stream().map(String::valueOf)\n            .collect(Collectors.joining(&quot;,&quot;));\n\n    return jdbcTemplate.query(selectQuery,\n            new Object[]{inSql, startDate, endDate},\n            (rs, rowNum) -&gt; {\n                NtpSource ntpSource = new NtpSource();\n                ntpSource.setId(rs.getInt(&quot;idTable&quot;));\n                ntpSource.setNtpId(rs.getInt(&quot;ntp_id&quot;));\n                ntpSource.setDataDT(rs.getDate(&quot;dataDT&quot;));\n                ntpSource.setIp(rs.getString(&quot;ip&quot;));\n                ntpSource.setCountry(rs.getString(&quot;country&quot;));\n                ntpSource.setIsoCode(rs.getString(&quot;iso_code&quot;));\n                ntpSource.setCity(rs.getString(&quot;city&quot;));\n                ntpSource.setCountsRequests(rs.getLong(&quot;counts_requests&quot;));\n                ntpSource.setCoordinates(rs.getObject(&quot;coordinates&quot;, Point.class)); // &lt;-- There error: SQLException: Conversion not supported for type org.locationtech.jts.geom.Point\n\n                return ntpSource;\n            });\n      }\n}\n</code></pre>\n<p><code>NtpSource.java</code>:</p>\n<pre><code>import org.locationtech.jts.geom.Point;\n\n@Entity\n@Table(name = &quot;ntp_source&quot;)\n@ToString\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class NtpSource implements Serializable {\n\n@Id\n@Column(name = &quot;idTable&quot;)\nprivate int id;\n\n@Column(name = &quot;ntp_id&quot;)\nprivate int ntpId;\n\n@Column(name = &quot;dataDT&quot;, columnDefinition=&quot;DATETIME&quot;)\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date dataDT;\n\nprivate String ip;\n\nprivate String country;\n\n@Column(name = &quot;iso_code&quot;)\nprivate String isoCode;\n\nprivate String city;\n\n@Column(name = &quot;coordinates&quot;, nullable = true, columnDefinition = &quot;POINT SRID 4326&quot;)\npublic Point coordinates;\n\n@Column(name = &quot;counts_requests&quot;)\nprivate long countsRequests;  \n}\n</code></pre>\n<p>Analogical request with JPA (<code>NtpJpaRepository.java</code>):</p>\n<pre><code>@Repository\npublic interface NtpJpaRepository extends JpaRepository&lt;NtpSource, Long&gt; {\n\n@Query(nativeQuery = true, value = &quot;SELECT &quot;\n        +&quot;u.idTable,&quot;\n        +&quot;u.ntp_id, &quot;\n        +&quot;u.dataDT, &quot;\n        +&quot;u.ip,&quot;\n        +&quot;u.country,&quot;\n        +&quot;u.iso_code,&quot;\n        +&quot;u.city,&quot;\n        +&quot;u.coordinates,&quot;\n        +&quot;SUM(u.counts_requests) as counts_requests&quot;\n        +&quot;FROM ntp_source AS u &quot;\n        +&quot;WHERE u.ntp_id IN (:ntp_id) and u.dataDT BETWEEN :startDate AND :endDate &quot;\n        +&quot;GROUP BY u.ip&quot;)\nList&lt;NtpSource&gt; getNtpSourceWithNtpIdandDate(\n        @Param(&quot;ntp_id&quot;) List&lt;Integer&gt; ntp_id,\n        @Param(&quot;startDate&quot;) Date startDate,\n        @Param(&quot;endDate&quot;) Date endDate);\n\n   ...\n}\n</code></pre>\n<p><code>application.properties</code>:</p>\n<pre><code>    spring.datasource.url=jdbc:mysql://localhost/ntp\n    spring.datasource.username=*****\n    spring.datasource.password=*****\n    spring.sql.init.encoding=UTF-8\n    spring.datasource.connectionProperties=useUnicode=true;\n org.springframework.data.jdbc.repository.config.DialectResolver$JdbcDialectProvider=org.hibernate.spatial.dialect.mysql.MySQL8SpatialDialect #testing\n    \n    server.servlet.context-path=/ntp_visits\n    server.port = 8090\n    \n    ## Hibernate &amp; JPA Properties\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\n    spring.jpa.properties.hibernate.dialect = org.hibernate.spatial.dialect.mysql.MySQL8SpatialDialect\n    spring.jpa.hibernate.ddl-auto = update\n    spring.jpa.show-sql=true\n    #spring.jpa.properties.hibernate.jdbc.batch_size=3500\n    spring.jpa.open-in-view=false\n    spring.jpa.properties.hibernate.format_sql=true\n    logging.level.org.springframework.jdbc.core = TRACE\n    \n    #logging.level.org.hibernate.SQL=DEBUG\n    #logging.level.org.hibernate.type=trace\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n    spring.jpa.properties.hibernate.use_sql_comments=false\n    \n    # THYMELEAF (ThymeleafAutoConfiguration)\n    #spring.thymeleaf.prefix=classpath:/templates/\n    spring.thymeleaf.suffix=.html\n    spring.thymeleaf.mode=HTML5\n    spring.thymeleaf.encoding=UTF-8\n    spring.web.resources.add-mappings=true\n    spring.thymeleaf.cache=true      \n</code></pre>\n<p><code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'war'\n}\n\ngroup = 'org.vniiftri'\nversion = '1.0'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\nconfigurations.all {\n    exclude module: 'slf4j-log4j12'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    implementation 'com.google.code.gson:gson:2.8.7'\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n    //implementation 'org.locationtech.jts:jts:1.18.0'\n    implementation 'org.locationtech.jts:jts-core:1.18.0'\n    //implementation 'org.n52.jackson:jackson-datatype-jts:1.2.4'\n    //implementation group: 'com.bedatadriven', name: 'jackson-datatype-jts', version: '2.4'\n    implementation 'org.hibernate:hibernate-core:5.5.5.Final'\n    implementation group: 'org.hibernate', name: 'hibernate-spatial', version: '5.5.5.Final'\n    //implementation group: 'com.graphhopper.external', name: 'jackson-datatype-jts', version: '0.10-2.5-1'\n\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'mysql:mysql-connector-java'\n    annotationProcessor 'org.projectlombok:lombok'\n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","json","swing","jpanel","jdialog"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638842083,"post_id":70253793,"comment_id":124190091,"body_markdown":"*some objects from a Json File.* - maybe use a `JTable` to display the objects. Then you simply add/remove a row of data from the TableModel when you want to make a change.","body":"<i>some objects from a Json File.</i> - maybe use a <code>JTable</code> to display the objects. Then you simply add/remove a row of data from the TableModel when you want to make a change."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638844696,"creation_date":1638844696,"answer_id":70254286,"question_id":70253793,"body_markdown":"The basic answer to your question is, your dialog/panel needs some way to get the &quot;next&quot; cocktail.  Then all you need to do is update the details of the new cocktail.\r\n\r\nThe best way to achieve this is to have some kind of &quot;manager&quot;, which managers all the cocktails within your system.  Before deleting the current cocktail, you&#39;d ascertain the current index of the cocktail within the list, remove the cocktail and then present the cocktail which now occupies this position.  You could also do this with some kind of `Iterator`, but where&#39;s the fun in that.\r\n\r\nSince I don&#39;t have access to all you code (and your UI code is a bit of mess), I devised my own example.\r\n\r\nBelow is the &quot;detail&quot; pane, which presents details about a give cocktail and allows the user to remove it.\r\n\r\n    public class CocktailDetailPane extends JPanel {\r\n        \r\n        private JLabel imageLabel;\r\n        private JLabel nameLabel;\r\n        \r\n        private CocktailManager cocktailManager;\r\n        private Cocktail cocktail;\r\n        \r\n        public CocktailDetailPane(Cocktail cocktail, CocktailManager manager) {\r\n            this.cocktailManager = manager;\r\n            setLayout(new BorderLayout());\r\n            \r\n            imageLabel = new JLabel();\r\n            nameLabel = new JLabel();\r\n            \r\n            JPanel contentPane = new JPanel(new GridBagLayout());\r\n            contentPane.setBorder(new EmptyBorder(16, 16, 16, 16));\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n            gbc.gridheight = GridBagConstraints.REMAINDER;\r\n            gbc.anchor = GridBagConstraints.PAGE_START;\r\n            gbc.insets = new Insets(4, 4, 4, 4);\r\n            \r\n            contentPane.add(imageLabel, gbc);\r\n\r\n            gbc = new GridBagConstraints();\r\n            gbc.insets = new Insets(4, 4, 4, 4);\r\n            gbc.gridx = 1;\r\n            gbc.gridy = 0;\r\n            gbc.anchor = GridBagConstraints.LINE_START;\r\n\r\n            contentPane.add(nameLabel, gbc);\r\n            gbc.gridy++;\r\n            contentPane.add(new JLabel(&quot;Drink it fast, drink it often&quot;), gbc);\r\n            \r\n            add(contentPane);\r\n            \r\n            setCocktail(cocktail);\r\n            \r\n            JPanel actionPane = new JPanel(new GridBagLayout());\r\n            JButton deleteButton = new JButton(&quot;Delete&quot;);\r\n            deleteButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    CocktailManager manager = getCocktailManager();\r\n                    List&lt;Cocktail&gt; cocktails = manager.getCocktails();\r\n                    Cocktail cocktail = getCocktail();\r\n                    int index = cocktails.indexOf(cocktail);\r\n                    manager.remove(cocktail);\r\n                    if (cocktails.isEmpty()) {\r\n                        JOptionPane.showMessageDialog(CocktailDetailPane.this, &quot;No more cocktails for you&quot;, &quot;Empty&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        SwingUtilities.windowForComponent(CocktailDetailPane.this).dispose();\r\n                    } else {\r\n                        if (index &gt;= cocktails.size()) {\r\n                            index = 0;\r\n                        }\r\n                        setCocktail(cocktails.get(index));\r\n                    }\r\n                }\r\n            });\r\n            actionPane.add(deleteButton);\r\n            \r\n            add(actionPane, BorderLayout.SOUTH);\r\n        }\r\n        \r\n        protected void setCocktail(Cocktail cocktail) {\r\n            imageLabel.setIcon(new ImageIcon(cocktail.getImage()));\r\n            nameLabel.setText(cocktail.getName());\r\n            this.cocktail = cocktail;\r\n        }\r\n\r\n        public CocktailManager getCocktailManager() {\r\n            return cocktailManager;\r\n        }\r\n\r\n        public Cocktail getCocktail() {\r\n            return cocktail;\r\n        }\r\n        \r\n    }\r\n\r\nYou will note that I&#39;ve passed an instance of `CocktailManager` to the details pane as well as the instance of the `Cocktail` to be initially presented.\r\n\r\nIf the current `Cocktail` is deleted, the next `Cocktail` is presented (made current) and so on until you have no more cocktails left.\r\n\r\nSome of this could have been decoupled through the use of an observer pattern on the `CocktailManager` itself (so when a cocktail was added or removed, interested parties could react to it, but I took that concept as been out of context for the question).\r\n\r\n# Runnable example...\r\n\r\nBecause out of context code can be hard to follow, I&#39;ve provided a runnable example...\r\n\r\nThis example makes use of dependency injection (for [reference](https://www.vogella.com/tutorials/DependencyInjection/article.html), [reference](https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/), [reference](https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae), [reference](https://stackify.com/dependency-injection/)) and &quot;coding to interface&quot; (for [reference](https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3) and [reference](https://www.baeldung.com/cs/program-to-interface))\r\n\r\nThis will allow you to define you own &quot;contract&quot; for the `CocktailManager` and define your own implementations based on your needs, but the core concept should continue to work\r\n\r\nYou may also want to take a look at [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html)\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.AbstractListModel;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    CocktailManager manager = new DefaultCocktailManager();\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new CocktailListPane(manager));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Cocktail {\r\n            public String getId();\r\n            public Image getImage();\r\n            public String getName();\r\n        }\r\n\r\n        public interface CocktailManager {\r\n            public List&lt;Cocktail&gt; getCocktails();\r\n            public void add(Cocktail coctail);\r\n            public void remove(Cocktail coctail);\r\n        }\r\n\r\n        public class CocktailListPane extends JPanel {\r\n\r\n            private JList&lt;Cocktail&gt; list;\r\n            private CocktailManager manager;\r\n\r\n            public CocktailListPane(CocktailManager manager) {\r\n                this.manager = manager;\r\n                list = new JList&lt;&gt;(new CocktailListModel(manager));\r\n                list.setCellRenderer(new CocktailListCellRenderer());\r\n\r\n                list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\r\n                list.setVisibleRowCount(2);\r\n\r\n                setLayout(new BorderLayout());\r\n                add(new JLabel(&quot;My Favorite Cocktails&quot;), BorderLayout.NORTH);\r\n                add(new JScrollPane(list));\r\n\r\n                list.addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (e.getClickCount() != 2) {\r\n                            return;\r\n                        }\r\n                        int index = list.locationToIndex(e.getPoint());\r\n                        if (index &lt; 0) {\r\n                            return;\r\n                        }\r\n                        Cocktail cocktail = list.getModel().getElementAt(index);\r\n                        JDialog dialog = new JDialog(SwingUtilities.windowForComponent(CocktailListPane.this));\r\n                        dialog.setTitle(&quot;All your cocktail belong to us&quot;);\r\n                        dialog.setModal(true);\r\n                        dialog.add(new CocktailDetailPane(cocktail, getCocktailManager()));\r\n                        dialog.pack();\r\n                        dialog.setLocationRelativeTo(CocktailListPane.this);\r\n                        dialog.setVisible(true);\r\n\r\n                        list.setModel(new CocktailListModel(getCocktailManager()));\r\n                    }\r\n                });\r\n            }\r\n\r\n            public CocktailManager getCocktailManager() {\r\n                return manager;\r\n            }\r\n\r\n            protected class CocktailListModel extends AbstractListModel&lt;Cocktail&gt; {\r\n\r\n                private CocktailManager manager;\r\n\r\n                public CocktailListModel(CocktailManager manager) {\r\n                    this.manager = manager;\r\n                }\r\n\r\n                @Override\r\n                public int getSize() {\r\n                    return manager.getCocktails().size();\r\n                }\r\n\r\n                @Override\r\n                public Cocktail getElementAt(int index) {\r\n                    return manager.getCocktails().get(index);\r\n                }\r\n\r\n            }\r\n\r\n            protected class CocktailListCellRenderer extends DefaultListCellRenderer {\r\n\r\n                @Override\r\n                public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                    if (value instanceof Cocktail) {\r\n                        Cocktail cocktail = (Cocktail) value;\r\n                        value = cocktail.getName();\r\n                        super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n                        setIcon(new ImageIcon(cocktail.getImage()));\r\n                        return this;\r\n                    }\r\n                    return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public class CocktailDetailPane extends JPanel {\r\n\r\n            private JLabel imageLabel;\r\n            private JLabel nameLabel;\r\n\r\n            private CocktailManager cocktailManager;\r\n            private Cocktail cocktail;\r\n\r\n            public CocktailDetailPane(Cocktail cocktail, CocktailManager manager) {\r\n                this.cocktailManager = manager;\r\n                setLayout(new BorderLayout());\r\n\r\n                imageLabel = new JLabel();\r\n                nameLabel = new JLabel();\r\n\r\n                JPanel contentPane = new JPanel(new GridBagLayout());\r\n                contentPane.setBorder(new EmptyBorder(16, 16, 16, 16));\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridheight = GridBagConstraints.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.PAGE_START;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                contentPane.add(imageLabel, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.gridx = 1;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n\r\n                contentPane.add(nameLabel, gbc);\r\n                gbc.gridy++;\r\n                contentPane.add(new JLabel(&quot;Drink it fast, drink it often&quot;), gbc);\r\n\r\n                add(contentPane);\r\n\r\n                setCocktail(cocktail);\r\n\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                JButton deleteButton = new JButton(&quot;Delete&quot;);\r\n                deleteButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        CocktailManager manager = getCocktailManager();\r\n                        List&lt;Cocktail&gt; cocktails = manager.getCocktails();\r\n                        Cocktail cocktail = getCocktail();\r\n                        int index = cocktails.indexOf(cocktail);\r\n                        manager.remove(cocktail);\r\n                        if (cocktails.isEmpty()) {\r\n                            JOptionPane.showMessageDialog(CocktailDetailPane.this, &quot;No more cocktails for you&quot;, &quot;Empty&quot;, JOptionPane.ERROR_MESSAGE);\r\n                            SwingUtilities.windowForComponent(CocktailDetailPane.this).dispose();\r\n                        } else {\r\n                            if (index &gt;= cocktails.size()) {\r\n                                index = 0;\r\n                            }\r\n                            setCocktail(cocktails.get(index));\r\n                        }\r\n                    }\r\n                });\r\n                actionPane.add(deleteButton);\r\n\r\n                add(actionPane, BorderLayout.SOUTH);\r\n            }\r\n\r\n            protected void setCocktail(Cocktail cocktail) {\r\n                imageLabel.setIcon(new ImageIcon(cocktail.getImage()));\r\n                nameLabel.setText(cocktail.getName());\r\n                this.cocktail = cocktail;\r\n            }\r\n\r\n            public CocktailManager getCocktailManager() {\r\n                return cocktailManager;\r\n            }\r\n\r\n            public Cocktail getCocktail() {\r\n                return cocktail;\r\n            }\r\n\r\n        }\r\n\r\n        public class DefaultCocktailManager implements CocktailManager {\r\n\r\n            private List&lt;Cocktail&gt; cocktails;\r\n            private List&lt;Cocktail&gt; nonmutableCocktails;\r\n\r\n            public DefaultCocktailManager() {\r\n                cocktails = new ArrayList&lt;&gt;(4);\r\n                nonmutableCocktails = Collections.unmodifiableList(cocktails);\r\n                for (int index = 1; index &lt; 5; index++) {\r\n                    Image image = null;\r\n                    try {\r\n                        image = ImageIO.read(getClass().getResource(&quot;/images/ct0&quot; + index + &quot;.png&quot;)).getScaledInstance(-1, 50, Image.SCALE_SMOOTH);\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                    Cocktail cocktail = new DefaultCocktail(Integer.toString(index), image, &quot;Cocktail &quot; + index);\r\n                    cocktails.add(cocktail);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public List&lt;Cocktail&gt; getCocktails() {\r\n                return nonmutableCocktails;\r\n            }\r\n\r\n            @Override\r\n            public void add(Cocktail cocktail) {\r\n                cocktails.add(cocktail);\r\n            }\r\n\r\n            @Override\r\n            public void remove(Cocktail cocktail) {\r\n                cocktails.remove(cocktail);\r\n            }\r\n\r\n        }\r\n\r\n        public class DefaultCocktail implements Cocktail {\r\n\r\n            private String id;\r\n            private Image image;\r\n            private String name;\r\n\r\n            public DefaultCocktail(String id, Image image, String name) {\r\n                this.id = id;\r\n                this.image = image;\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getId() {\r\n                return id;\r\n            }\r\n\r\n            @Override\r\n            public Image getImage() {\r\n                return image;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n*nb: BYO your own images*\r\n\r\n*nbb: No cocktails were consumed in the creation of this example, although it probably would have improved the quality &#128521;*","title":"Is there any way i can refresh a JDialog and remake it?","body":"<p>The basic answer to your question is, your dialog/panel needs some way to get the &quot;next&quot; cocktail.  Then all you need to do is update the details of the new cocktail.</p>\n<p>The best way to achieve this is to have some kind of &quot;manager&quot;, which managers all the cocktails within your system.  Before deleting the current cocktail, you'd ascertain the current index of the cocktail within the list, remove the cocktail and then present the cocktail which now occupies this position.  You could also do this with some kind of <code>Iterator</code>, but where's the fun in that.</p>\n<p>Since I don't have access to all you code (and your UI code is a bit of mess), I devised my own example.</p>\n<p>Below is the &quot;detail&quot; pane, which presents details about a give cocktail and allows the user to remove it.</p>\n<pre><code>public class CocktailDetailPane extends JPanel {\n    \n    private JLabel imageLabel;\n    private JLabel nameLabel;\n    \n    private CocktailManager cocktailManager;\n    private Cocktail cocktail;\n    \n    public CocktailDetailPane(Cocktail cocktail, CocktailManager manager) {\n        this.cocktailManager = manager;\n        setLayout(new BorderLayout());\n        \n        imageLabel = new JLabel();\n        nameLabel = new JLabel();\n        \n        JPanel contentPane = new JPanel(new GridBagLayout());\n        contentPane.setBorder(new EmptyBorder(16, 16, 16, 16));\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridheight = GridBagConstraints.REMAINDER;\n        gbc.anchor = GridBagConstraints.PAGE_START;\n        gbc.insets = new Insets(4, 4, 4, 4);\n        \n        contentPane.add(imageLabel, gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.insets = new Insets(4, 4, 4, 4);\n        gbc.gridx = 1;\n        gbc.gridy = 0;\n        gbc.anchor = GridBagConstraints.LINE_START;\n\n        contentPane.add(nameLabel, gbc);\n        gbc.gridy++;\n        contentPane.add(new JLabel(&quot;Drink it fast, drink it often&quot;), gbc);\n        \n        add(contentPane);\n        \n        setCocktail(cocktail);\n        \n        JPanel actionPane = new JPanel(new GridBagLayout());\n        JButton deleteButton = new JButton(&quot;Delete&quot;);\n        deleteButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                CocktailManager manager = getCocktailManager();\n                List&lt;Cocktail&gt; cocktails = manager.getCocktails();\n                Cocktail cocktail = getCocktail();\n                int index = cocktails.indexOf(cocktail);\n                manager.remove(cocktail);\n                if (cocktails.isEmpty()) {\n                    JOptionPane.showMessageDialog(CocktailDetailPane.this, &quot;No more cocktails for you&quot;, &quot;Empty&quot;, JOptionPane.ERROR_MESSAGE);\n                    SwingUtilities.windowForComponent(CocktailDetailPane.this).dispose();\n                } else {\n                    if (index &gt;= cocktails.size()) {\n                        index = 0;\n                    }\n                    setCocktail(cocktails.get(index));\n                }\n            }\n        });\n        actionPane.add(deleteButton);\n        \n        add(actionPane, BorderLayout.SOUTH);\n    }\n    \n    protected void setCocktail(Cocktail cocktail) {\n        imageLabel.setIcon(new ImageIcon(cocktail.getImage()));\n        nameLabel.setText(cocktail.getName());\n        this.cocktail = cocktail;\n    }\n\n    public CocktailManager getCocktailManager() {\n        return cocktailManager;\n    }\n\n    public Cocktail getCocktail() {\n        return cocktail;\n    }\n    \n}\n</code></pre>\n<p>You will note that I've passed an instance of <code>CocktailManager</code> to the details pane as well as the instance of the <code>Cocktail</code> to be initially presented.</p>\n<p>If the current <code>Cocktail</code> is deleted, the next <code>Cocktail</code> is presented (made current) and so on until you have no more cocktails left.</p>\n<p>Some of this could have been decoupled through the use of an observer pattern on the <code>CocktailManager</code> itself (so when a cocktail was added or removed, interested parties could react to it, but I took that concept as been out of context for the question).</p>\n<h1>Runnable example...</h1>\n<p>Because out of context code can be hard to follow, I've provided a runnable example...</p>\n<p>This example makes use of dependency injection (for <a href=\"https://www.vogella.com/tutorials/DependencyInjection/article.html\" rel=\"nofollow noreferrer\">reference</a>, <a href=\"https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/\" rel=\"nofollow noreferrer\">reference</a>, <a href=\"https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae\" rel=\"nofollow noreferrer\">reference</a>, <a href=\"https://stackify.com/dependency-injection/\" rel=\"nofollow noreferrer\">reference</a>) and &quot;coding to interface&quot; (for <a href=\"https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3\" rel=\"nofollow noreferrer\">reference</a> and <a href=\"https://www.baeldung.com/cs/program-to-interface\" rel=\"nofollow noreferrer\">reference</a>)</p>\n<p>This will allow you to define you own &quot;contract&quot; for the <code>CocktailManager</code> and define your own implementations based on your needs, but the core concept should continue to work</p>\n<p>You may also want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport javax.imageio.ImageIO;\nimport javax.swing.AbstractListModel;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                CocktailManager manager = new DefaultCocktailManager();\n                JFrame frame = new JFrame();\n                frame.add(new CocktailListPane(manager));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Cocktail {\n        public String getId();\n        public Image getImage();\n        public String getName();\n    }\n\n    public interface CocktailManager {\n        public List&lt;Cocktail&gt; getCocktails();\n        public void add(Cocktail coctail);\n        public void remove(Cocktail coctail);\n    }\n\n    public class CocktailListPane extends JPanel {\n\n        private JList&lt;Cocktail&gt; list;\n        private CocktailManager manager;\n\n        public CocktailListPane(CocktailManager manager) {\n            this.manager = manager;\n            list = new JList&lt;&gt;(new CocktailListModel(manager));\n            list.setCellRenderer(new CocktailListCellRenderer());\n\n            list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\n            list.setVisibleRowCount(2);\n\n            setLayout(new BorderLayout());\n            add(new JLabel(&quot;My Favorite Cocktails&quot;), BorderLayout.NORTH);\n            add(new JScrollPane(list));\n\n            list.addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (e.getClickCount() != 2) {\n                        return;\n                    }\n                    int index = list.locationToIndex(e.getPoint());\n                    if (index &lt; 0) {\n                        return;\n                    }\n                    Cocktail cocktail = list.getModel().getElementAt(index);\n                    JDialog dialog = new JDialog(SwingUtilities.windowForComponent(CocktailListPane.this));\n                    dialog.setTitle(&quot;All your cocktail belong to us&quot;);\n                    dialog.setModal(true);\n                    dialog.add(new CocktailDetailPane(cocktail, getCocktailManager()));\n                    dialog.pack();\n                    dialog.setLocationRelativeTo(CocktailListPane.this);\n                    dialog.setVisible(true);\n\n                    list.setModel(new CocktailListModel(getCocktailManager()));\n                }\n            });\n        }\n\n        public CocktailManager getCocktailManager() {\n            return manager;\n        }\n\n        protected class CocktailListModel extends AbstractListModel&lt;Cocktail&gt; {\n\n            private CocktailManager manager;\n\n            public CocktailListModel(CocktailManager manager) {\n                this.manager = manager;\n            }\n\n            @Override\n            public int getSize() {\n                return manager.getCocktails().size();\n            }\n\n            @Override\n            public Cocktail getElementAt(int index) {\n                return manager.getCocktails().get(index);\n            }\n\n        }\n\n        protected class CocktailListCellRenderer extends DefaultListCellRenderer {\n\n            @Override\n            public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n                if (value instanceof Cocktail) {\n                    Cocktail cocktail = (Cocktail) value;\n                    value = cocktail.getName();\n                    super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n                    setIcon(new ImageIcon(cocktail.getImage()));\n                    return this;\n                }\n                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n            }\n\n        }\n\n    }\n\n    public class CocktailDetailPane extends JPanel {\n\n        private JLabel imageLabel;\n        private JLabel nameLabel;\n\n        private CocktailManager cocktailManager;\n        private Cocktail cocktail;\n\n        public CocktailDetailPane(Cocktail cocktail, CocktailManager manager) {\n            this.cocktailManager = manager;\n            setLayout(new BorderLayout());\n\n            imageLabel = new JLabel();\n            nameLabel = new JLabel();\n\n            JPanel contentPane = new JPanel(new GridBagLayout());\n            contentPane.setBorder(new EmptyBorder(16, 16, 16, 16));\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridheight = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.PAGE_START;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            contentPane.add(imageLabel, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridx = 1;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_START;\n\n            contentPane.add(nameLabel, gbc);\n            gbc.gridy++;\n            contentPane.add(new JLabel(&quot;Drink it fast, drink it often&quot;), gbc);\n\n            add(contentPane);\n\n            setCocktail(cocktail);\n\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            JButton deleteButton = new JButton(&quot;Delete&quot;);\n            deleteButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    CocktailManager manager = getCocktailManager();\n                    List&lt;Cocktail&gt; cocktails = manager.getCocktails();\n                    Cocktail cocktail = getCocktail();\n                    int index = cocktails.indexOf(cocktail);\n                    manager.remove(cocktail);\n                    if (cocktails.isEmpty()) {\n                        JOptionPane.showMessageDialog(CocktailDetailPane.this, &quot;No more cocktails for you&quot;, &quot;Empty&quot;, JOptionPane.ERROR_MESSAGE);\n                        SwingUtilities.windowForComponent(CocktailDetailPane.this).dispose();\n                    } else {\n                        if (index &gt;= cocktails.size()) {\n                            index = 0;\n                        }\n                        setCocktail(cocktails.get(index));\n                    }\n                }\n            });\n            actionPane.add(deleteButton);\n\n            add(actionPane, BorderLayout.SOUTH);\n        }\n\n        protected void setCocktail(Cocktail cocktail) {\n            imageLabel.setIcon(new ImageIcon(cocktail.getImage()));\n            nameLabel.setText(cocktail.getName());\n            this.cocktail = cocktail;\n        }\n\n        public CocktailManager getCocktailManager() {\n            return cocktailManager;\n        }\n\n        public Cocktail getCocktail() {\n            return cocktail;\n        }\n\n    }\n\n    public class DefaultCocktailManager implements CocktailManager {\n\n        private List&lt;Cocktail&gt; cocktails;\n        private List&lt;Cocktail&gt; nonmutableCocktails;\n\n        public DefaultCocktailManager() {\n            cocktails = new ArrayList&lt;&gt;(4);\n            nonmutableCocktails = Collections.unmodifiableList(cocktails);\n            for (int index = 1; index &lt; 5; index++) {\n                Image image = null;\n                try {\n                    image = ImageIO.read(getClass().getResource(&quot;/images/ct0&quot; + index + &quot;.png&quot;)).getScaledInstance(-1, 50, Image.SCALE_SMOOTH);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n                Cocktail cocktail = new DefaultCocktail(Integer.toString(index), image, &quot;Cocktail &quot; + index);\n                cocktails.add(cocktail);\n            }\n        }\n\n        @Override\n        public List&lt;Cocktail&gt; getCocktails() {\n            return nonmutableCocktails;\n        }\n\n        @Override\n        public void add(Cocktail cocktail) {\n            cocktails.add(cocktail);\n        }\n\n        @Override\n        public void remove(Cocktail cocktail) {\n            cocktails.remove(cocktail);\n        }\n\n    }\n\n    public class DefaultCocktail implements Cocktail {\n\n        private String id;\n        private Image image;\n        private String name;\n\n        public DefaultCocktail(String id, Image image, String name) {\n            this.id = id;\n            this.image = image;\n            this.name = name;\n        }\n\n        @Override\n        public String getId() {\n            return id;\n        }\n\n        @Override\n        public Image getImage() {\n            return image;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n\n    }\n\n}\n</code></pre>\n<p><em>nb: BYO your own images</em></p>\n<p><em>nbb: No cocktails were consumed in the creation of this example, although it probably would have improved the quality 😉</em></p>\n"}],"owner":{"account_id":21152283,"reputation":1,"user_id":15552331,"display_name":"Spaliaras4k18cm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638844696,"creation_date":1638839286,"question_id":70253793,"body_markdown":"I have one main JFrame with one button, when i press this button, one JDialog open with some objects from a Json File. For each object i have a delete button. Everything works great but to see all objects except this one i deleted, i have to close the JDialog and open it again. Is there any way i can refresh JDialog? I found one &quot;solution&quot; witch is to dispose the JDialog and make new one and then set the new one visible, but its not really what i need. I need to see the new results immediately after the button press.The JFrame myFrame bellow is the main Frame dont care about it(&quot;i guess&quot;).\r\nthis is my Dialog:\r\n\r\n    public class MyFavoriteCoctails extends JDialog {\r\n\r\n\tpublic MyFavoriteCoctails(JFrame myFrame) {\r\n\t\tthis.myFrame = myFrame;\r\n\t\tsetLocationRelativeTo(myFrame);\r\n\t\tmaker();\r\n\t}\r\n\r\n\tprivate void maker() {\r\n\t\tsetModal(true);\r\n\t\tsetTitle(&quot;My Favortie Cocktails&quot;);\r\n\t\tsetResizable(false);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tJPanel panelOnTop = new JPanel(new BorderLayout());\r\n\t\tJLabel favCocktailLabel = new JLabel(&quot;My Favorite Cocktails&quot;);\r\n\t\tfavCocktailLabel.setFont(new Font(&quot;Sans Serif&quot;, Font.PLAIN, 150));\r\n\t\tfavCocktailLabel.setForeground(Color.red);\r\n\t\tpanelOnTop.setBorder(BorderFactory.createMatteBorder(5, 5, 5, 5, Color.red));\r\n\t\tpanelOnTop.add(favCocktailLabel, BorderLayout.CENTER);\r\n\t\tpanelOnTop.setBackground(Color.white);\r\n\t\tthis.add(panelOnTop, BorderLayout.NORTH);\r\n\t\tJPanel panelForCocktails = new JPanel();\r\n\t\tthis.add(panelForCocktails, BorderLayout.CENTER);\r\n\t\tList&lt;Coctail&gt; list = SingleObject.getfavCoctailList();\r\n\t\tint row;\r\n\t\tif ((list.size() % 5) != 0) {\r\n\t\t\trow = list.size() / 5 + 1;\r\n\t\t} else {\r\n\t\t\trow = list.size() / 5;\r\n\t\t}\r\n\t\tpanelForCocktails.setLayout(new GridLayout(row, 5));\r\n\t\tthis.add(panelForCocktails, BorderLayout.CENTER);\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\t\tpanelForCocktails.add(new CocktailJPanelForFavorites(list.get(i).getId(), list.get(i).getImg(),\r\n\t\t\t\t\t\tlist.get(i).getName(), list.get(i), this, myFrame));\r\n\t\t}\r\n\t\tpack();\r\n\r\n\r\n\t}\r\n\r\n\tJFrame myFrame;\r\n\r\n}\r\nThis is my JPanel witch it has some details from json file in every panel.: \r\n\r\n    public class CocktailJPanelForFavorites extends JPanel {\r\n\tpublic CocktailJPanelForFavorites(String id, String img, String name, Coctail coctail, JDialog dialog, JFrame myFrame) {\r\n\t\tthis.coctail = coctail;\r\n\t\tthis.myFrame=myFrame;\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.img = img;\r\n\t\tthis.dialog=dialog;\r\n\t\tmaker();\r\n\t}\r\n\r\n\t@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n\tpublic void maker() {\r\n\t\tsetLayout(new BorderLayout(1, 1));\r\n\t\tthis.setBackground(Color.white);\r\n\t\tthis.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.black));\r\n\t\tJLabel nameLabel = new JLabel(name, SwingConstants.CENTER);\r\n\t\tnameLabel.setFont(new Font(&quot;Sans Serif&quot;, Font.BOLD, 18));\r\n\t\tthis.add(nameLabel, BorderLayout.NORTH);\r\n\t\tJButton deleteFavorite = new JButton(&quot;X&quot;);\r\n\r\n\t\tJComboBox comboBox = new JComboBox(Favouritetype.values());\r\n\t\tcomboBox.setRenderer(new MyComboBoxRenderer(&quot;ΚΑΤΗΓΟΡΙΑ&quot;));\r\n\t\tcomboBox.setSelectedIndex(-1);\r\n\t\t;\r\n\r\n\t\ttry {\r\n\t\t\tURL url = new URL(img);\r\n\t\t\tBufferedImage c = ImageIO.read(url);\r\n\t\t\tImageIcon imageIcon = new ImageIcon(c); // load the image to a imageIcon\r\n\t\t\tImage image = imageIcon.getImage(); // transform it\r\n\t\t\tImage newimg = image.getScaledInstance(200, 200, java.awt.Image.SCALE_SMOOTH); // scale\r\n\t\t\timageIcon = new ImageIcon(newimg); // transform it back\r\n\t\t\tJLabel jp = new JLabel(imageIcon, JLabel.CENTER);\r\n\t\t\tjp.setBorder(BorderFactory.createMatteBorder(10, 10, 10, 10, Color.white));\r\n\t\t\tjp.addMouseListener(new MouseAdapter(id));\r\n\t\t\tjp.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\t\tadd(jp, BorderLayout.CENTER);\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tJPanel deleteAndCombo = new JPanel(new GridLayout(1, 2));\r\n\t\tdeleteAndCombo.add(deleteFavorite);\r\n\t\tdeleteAndCombo.add(comboBox);\r\n\t\tadd(deleteAndCombo, BorderLayout.SOUTH);\r\n\t\tDeleteFavorite act = new DeleteFavorite(coctail, deleteFavorite, dialog, this, myFrame);\r\n\t\tdeleteFavorite.addActionListener(act);\r\n\r\n\t}\r\n\r\n\tString id, name, img;\r\n\tCoctail coctail;\r\n\tJDialog dialog;\r\n\tJFrame myFrame;\r\n\r\n}\r\n\r\nAnd this is my Action Listener of my Delete Button(is the button with the &quot;X&quot; inside):\r\n\r\n    public class DeleteFavorite implements ActionListener {\r\n\tpublic DeleteFavorite(Coctail coctail, JButton deleteFavorite, JDialog dialog, JPanel cockPane, JFrame myFrame) {\r\n\t\tthis.deleteFavorite = deleteFavorite;\r\n\t\tthis.coctail = coctail;\r\n\t\tthis.myFrame=myFrame;\r\n\t\tthis.dialog=dialog;\r\n\t\tthis.cockPane=cockPane;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tSingleObject obj = SingleObject.getInstance();\r\n\t\tList&lt;Coctail&gt; list = SingleObject.getfavCoctailList();\r\n\r\n\t\tList&lt;Coctail&gt; favcoctailList = list;\r\n\t\tint len = favcoctailList.size();\r\n\t\tif (favcoctailList != null) {\r\n\t\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\t\tif ((favcoctailList.get(i).getId().toString().trim().equals(coctail.getId().toString().trim()))) {\r\n\t\t\t\t\tfavcoctailList.remove(i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(favcoctailList);\r\n\t\tobj.make(favcoctailList);\r\n\t\tdialog.dispose();\r\n\t\t MyFavoriteCoctails dialog1 = new MyFavoriteCoctails(myFrame);\r\n\t\t dialog1.setVisible(true);\r\n\t}\r\n\tJButton deleteFavorite;\r\n\tCoctail coctail;\r\n\tJDialog dialog;\r\n\tJPanel cockPane;\r\n\tJFrame myFrame;\r\n}\r\n\r\n\r\n","title":"Is there any way i can refresh a JDialog and remake it?","body":"<p>I have one main JFrame with one button, when i press this button, one JDialog open with some objects from a Json File. For each object i have a delete button. Everything works great but to see all objects except this one i deleted, i have to close the JDialog and open it again. Is there any way i can refresh JDialog? I found one &quot;solution&quot; witch is to dispose the JDialog and make new one and then set the new one visible, but its not really what i need. I need to see the new results immediately after the button press.The JFrame myFrame bellow is the main Frame dont care about it(&quot;i guess&quot;).\nthis is my Dialog:</p>\n<pre><code>public class MyFavoriteCoctails extends JDialog {\n\npublic MyFavoriteCoctails(JFrame myFrame) {\n    this.myFrame = myFrame;\n    setLocationRelativeTo(myFrame);\n    maker();\n}\n\nprivate void maker() {\n    setModal(true);\n    setTitle(&quot;My Favortie Cocktails&quot;);\n    setResizable(false);\n    setLayout(new BorderLayout());\n    JPanel panelOnTop = new JPanel(new BorderLayout());\n    JLabel favCocktailLabel = new JLabel(&quot;My Favorite Cocktails&quot;);\n    favCocktailLabel.setFont(new Font(&quot;Sans Serif&quot;, Font.PLAIN, 150));\n    favCocktailLabel.setForeground(Color.red);\n    panelOnTop.setBorder(BorderFactory.createMatteBorder(5, 5, 5, 5, Color.red));\n    panelOnTop.add(favCocktailLabel, BorderLayout.CENTER);\n    panelOnTop.setBackground(Color.white);\n    this.add(panelOnTop, BorderLayout.NORTH);\n    JPanel panelForCocktails = new JPanel();\n    this.add(panelForCocktails, BorderLayout.CENTER);\n    List&lt;Coctail&gt; list = SingleObject.getfavCoctailList();\n    int row;\n    if ((list.size() % 5) != 0) {\n        row = list.size() / 5 + 1;\n    } else {\n        row = list.size() / 5;\n    }\n    panelForCocktails.setLayout(new GridLayout(row, 5));\n    this.add(panelForCocktails, BorderLayout.CENTER);\n    for (int i = 0; i &lt; list.size(); i++) {\n            panelForCocktails.add(new CocktailJPanelForFavorites(list.get(i).getId(), list.get(i).getImg(),\n                    list.get(i).getName(), list.get(i), this, myFrame));\n    }\n    pack();\n\n\n}\n\nJFrame myFrame;\n</code></pre>\n<p>}\nThis is my JPanel witch it has some details from json file in every panel.:</p>\n<pre><code>public class CocktailJPanelForFavorites extends JPanel {\npublic CocktailJPanelForFavorites(String id, String img, String name, Coctail coctail, JDialog dialog, JFrame myFrame) {\n    this.coctail = coctail;\n    this.myFrame=myFrame;\n    this.id = id;\n    this.name = name;\n    this.img = img;\n    this.dialog=dialog;\n    maker();\n}\n\n@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\npublic void maker() {\n    setLayout(new BorderLayout(1, 1));\n    this.setBackground(Color.white);\n    this.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.black));\n    JLabel nameLabel = new JLabel(name, SwingConstants.CENTER);\n    nameLabel.setFont(new Font(&quot;Sans Serif&quot;, Font.BOLD, 18));\n    this.add(nameLabel, BorderLayout.NORTH);\n    JButton deleteFavorite = new JButton(&quot;X&quot;);\n\n    JComboBox comboBox = new JComboBox(Favouritetype.values());\n    comboBox.setRenderer(new MyComboBoxRenderer(&quot;ΚΑΤΗΓΟΡΙΑ&quot;));\n    comboBox.setSelectedIndex(-1);\n    ;\n\n    try {\n        URL url = new URL(img);\n        BufferedImage c = ImageIO.read(url);\n        ImageIcon imageIcon = new ImageIcon(c); // load the image to a imageIcon\n        Image image = imageIcon.getImage(); // transform it\n        Image newimg = image.getScaledInstance(200, 200, java.awt.Image.SCALE_SMOOTH); // scale\n        imageIcon = new ImageIcon(newimg); // transform it back\n        JLabel jp = new JLabel(imageIcon, JLabel.CENTER);\n        jp.setBorder(BorderFactory.createMatteBorder(10, 10, 10, 10, Color.white));\n        jp.addMouseListener(new MouseAdapter(id));\n        jp.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        add(jp, BorderLayout.CENTER);\n    } catch (MalformedURLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    JPanel deleteAndCombo = new JPanel(new GridLayout(1, 2));\n    deleteAndCombo.add(deleteFavorite);\n    deleteAndCombo.add(comboBox);\n    add(deleteAndCombo, BorderLayout.SOUTH);\n    DeleteFavorite act = new DeleteFavorite(coctail, deleteFavorite, dialog, this, myFrame);\n    deleteFavorite.addActionListener(act);\n\n}\n\nString id, name, img;\nCoctail coctail;\nJDialog dialog;\nJFrame myFrame;\n</code></pre>\n<p>}</p>\n<p>And this is my Action Listener of my Delete Button(is the button with the &quot;X&quot; inside):</p>\n<pre><code>public class DeleteFavorite implements ActionListener {\npublic DeleteFavorite(Coctail coctail, JButton deleteFavorite, JDialog dialog, JPanel cockPane, JFrame myFrame) {\n    this.deleteFavorite = deleteFavorite;\n    this.coctail = coctail;\n    this.myFrame=myFrame;\n    this.dialog=dialog;\n    this.cockPane=cockPane;\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    SingleObject obj = SingleObject.getInstance();\n    List&lt;Coctail&gt; list = SingleObject.getfavCoctailList();\n\n    List&lt;Coctail&gt; favcoctailList = list;\n    int len = favcoctailList.size();\n    if (favcoctailList != null) {\n        for (int i = 0; i &lt; len; i++) {\n            if ((favcoctailList.get(i).getId().toString().trim().equals(coctail.getId().toString().trim()))) {\n                favcoctailList.remove(i);\n                break;\n            }\n        }\n    }\n    System.out.println(favcoctailList);\n    obj.make(favcoctailList);\n    dialog.dispose();\n     MyFavoriteCoctails dialog1 = new MyFavoriteCoctails(myFrame);\n     dialog1.setVisible(true);\n}\nJButton deleteFavorite;\nCoctail coctail;\nJDialog dialog;\nJPanel cockPane;\nJFrame myFrame;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","javafx","java-8","javafx-8"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1411046320,"post_id":25912455,"comment_id":40562056,"body_markdown":"@Magnilex can&#39;t help much - the value returned by DatePicker is of type LocalDate ;-) To OP: can&#39;t remember whether the week # is already implemented correctly, there&#39;s a field aligned-week-of-year which might not be what you are after","body":"@Magnilex can&#39;t help much - the value returned by DatePicker is of type LocalDate ;-) To OP: can&#39;t remember whether the week # is already implemented correctly, there&#39;s a field aligned-week-of-year which might not be what you are after"},{"owner":{"account_id":3699487,"reputation":523,"user_id":3079727,"accept_rate":62,"display_name":"Hans"},"score":0,"creation_date":1411047763,"post_id":25912455,"comment_id":40563177,"body_markdown":"Ok. Seems to me a convenient implementation in the java time api","body":"Ok. Seems to me a convenient implementation in the java time api"}],"answers":[{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1411050903,"creation_date":1411050903,"answer_id":25915611,"question_id":25912455,"body_markdown":"You can use http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#get-java.time.temporal.TemporalField-\r\n\r\n    LocalDate localDate = LocalDate.of(2014, 9, 18); // assuming we picked 18 September 2014\r\n    int weekNumber = localDate.get(IsoFields.WEEK_OF_WEEK_BASED_YEAR);\r\n\r\nThis will give you the week number based on ISO convention.\r\n\r\nFor a locale based evaluation :\r\n\r\n    LocalDate localDate = LocalDate.of(2014, 9, 18); // assuming we picked 18 September 2014\r\n    WeekFields weekFields = WeekFields.of(Locale.US);\r\n    int weekNumber = localDate.get(weekFields.weekOfWeekBasedYear());\r\n\r\n\r\n","title":"Get the weeknumber from a given date in Java FX","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#get-java.time.temporal.TemporalField-\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#get-java.time.temporal.TemporalField-</a></p>\n\n<pre><code>LocalDate localDate = LocalDate.of(2014, 9, 18); // assuming we picked 18 September 2014\nint weekNumber = localDate.get(IsoFields.WEEK_OF_WEEK_BASED_YEAR);\n</code></pre>\n\n<p>This will give you the week number based on ISO convention.</p>\n\n<p>For a locale based evaluation :</p>\n\n<pre><code>LocalDate localDate = LocalDate.of(2014, 9, 18); // assuming we picked 18 September 2014\nWeekFields weekFields = WeekFields.of(Locale.US);\nint weekNumber = localDate.get(weekFields.weekOfWeekBasedYear());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1411121031,"creation_date":1411050909,"answer_id":25915614,"question_id":25912455,"body_markdown":"The Java-8-solution can take into account the local definition of a week using the value of a [date-picker][1]:\r\n\r\n\r\n    LocalDate date = datePicker.getValue(); // input from your date picker\r\n    Locale locale = Locale.US;\r\n    int weekOfYear = date.get(WeekFields.of(locale).weekOfWeekBasedYear());\r\n\r\nAlso keep in mind that the popular alternative Joda-Time does not support such a localized week-of-year fields. For example: In ISO-8601 (widely used) the week starts with Monday, in US with Sunday. Also the item when the first week of year starts in a given calendar year is dependent on the locale.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/DatePicker.html\r\n","title":"Get the weeknumber from a given date in Java FX","body":"<p>The Java-8-solution can take into account the local definition of a week using the value of a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/DatePicker.html\" rel=\"noreferrer\">date-picker</a>:</p>\n\n<pre><code>LocalDate date = datePicker.getValue(); // input from your date picker\nLocale locale = Locale.US;\nint weekOfYear = date.get(WeekFields.of(locale).weekOfWeekBasedYear());\n</code></pre>\n\n<p>Also keep in mind that the popular alternative Joda-Time does not support such a localized week-of-year fields. For example: In ISO-8601 (widely used) the week starts with Monday, in US with Sunday. Also the item when the first week of year starts in a given calendar year is dependent on the locale.</p>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411141682,"creation_date":1411051027,"answer_id":25915662,"question_id":25912455,"body_markdown":"FX DatePicker is based on the new (to jdk8) Date/Time api - time to learn how-to use it (not entirely sure I found the shortest way, though - corrections welcome :-)\r\n\r\nThe picker&#39;s value is a LocalDate, which can be queried for certain TemporalFields. Locale-aware week-related fields are provided by the WeekFields class, f.i. weekOfYear: \r\n\r\n    DatePicker picker = new DatePicker();\r\n    picker.valueProperty().addListener((p, oldValue, newValue) -&gt; {\r\n        if (newValue == null) return;\r\n        WeekFields fields = WeekFields.of(Locale.getDefault());\r\n\r\n        // # may range from 0 ... 54 without overlapping the boundaries of calendar year\r\n        int week = newValue.get(fields.weekOfYear());\r\n\r\n        // # may range from 1 ... 53 with overlapping \r\n        int weekBased = newValue.get(fields.weekOfWeekBasedYear());\r\n\r\n        LOG.info(&quot;week/Based &quot; + week + &quot;/&quot; + weekBased);\r\n    });\r\n\r\nTo see the difference, choose f.i. January 2012 (in locales that start a week at Monday). Which one to actually use, depends on context - the picker itself uses weekOfYear (if showWeekNumbers is enabled)\r\n\r\n","title":"Get the weeknumber from a given date in Java FX","body":"<p>FX DatePicker is based on the new (to jdk8) Date/Time api - time to learn how-to use it (not entirely sure I found the shortest way, though - corrections welcome :-)</p>\n\n<p>The picker's value is a LocalDate, which can be queried for certain TemporalFields. Locale-aware week-related fields are provided by the WeekFields class, f.i. weekOfYear: </p>\n\n<pre><code>DatePicker picker = new DatePicker();\npicker.valueProperty().addListener((p, oldValue, newValue) -&gt; {\n    if (newValue == null) return;\n    WeekFields fields = WeekFields.of(Locale.getDefault());\n\n    // # may range from 0 ... 54 without overlapping the boundaries of calendar year\n    int week = newValue.get(fields.weekOfYear());\n\n    // # may range from 1 ... 53 with overlapping \n    int weekBased = newValue.get(fields.weekOfWeekBasedYear());\n\n    LOG.info(\"week/Based \" + week + \"/\" + weekBased);\n});\n</code></pre>\n\n<p>To see the difference, choose f.i. January 2012 (in locales that start a week at Monday). Which one to actually use, depends on context - the picker itself uses weekOfYear (if showWeekNumbers is enabled)</p>\n"},{"tags":[],"owner":{"account_id":13977486,"reputation":11,"user_id":10094538,"display_name":"Antonio Panos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531840440,"creation_date":1531840440,"answer_id":51384915,"question_id":25912455,"body_markdown":"You can also use the DateTimeFormatter, looks easier for me :\r\n\r\n \r\n\r\n    LocalDate date = LocalDate.now();\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;w&quot;);\r\n    int week = Integer.parseInt(date.format(dtf));\r\n\r\n \r\n ","title":"Get the weeknumber from a given date in Java FX","body":"<p>You can also use the DateTimeFormatter, looks easier for me :</p>\n\n<pre><code>LocalDate date = LocalDate.now();\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"w\");\nint week = Integer.parseInt(date.format(dtf));\n</code></pre>\n"}],"owner":{"account_id":3699487,"reputation":523,"user_id":3079727,"accept_rate":62,"display_name":"Hans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6175,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":25915614,"answer_count":4,"score":7,"last_activity_date":1638844102,"creation_date":1411042824,"question_id":25912455,"body_markdown":"I have a javafx.scene.control.DatePicker. I want to extract the (Locale) week number from the selected date. Until now i haven&#39;t found a solution and i prefer not to write my own algorithm. I use Java8 and hope it is possible in the new java time library.","title":"Get the weeknumber from a given date in Java FX","body":"<p>I have a javafx.scene.control.DatePicker. I want to extract the (Locale) week number from the selected date. Until now i haven't found a solution and i prefer not to write my own algorithm. I use Java8 and hope it is possible in the new java time library.</p>\n"},{"tags":["email","jakarta-mail","java"],"answers":[{"tags":[],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638842535,"creation_date":1638842535,"answer_id":70254100,"question_id":70252669,"body_markdown":"plz check your version of `javax.mail`, i am using `1.6.2`, there is no problem to run your code.","title":"Error when sending : mail Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/mail/MessagingException at testmail.main(testmail.java:4)","body":"<p>plz check your version of <code>javax.mail</code>, i am using <code>1.6.2</code>, there is no problem to run your code.</p>\n"}],"owner":{"account_id":22110027,"reputation":1,"user_id":16365060,"display_name":"Aryan Malpani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638842535,"creation_date":1638829226,"question_id":70252669,"body_markdown":"Trying to send mail using smtp, used all the necessary jar files(mail.jar and activation.jar) but always shows this error\r\n\r\n [error shown on running testmail file][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bMnCD.png\r\n\r\nI have used two classes, one is to send the email and another one calls the function in that file \r\n\r\nCode for sendmail.java\r\n```import java.util.Properties;    \r\nimport javax.mail.*;    \r\nimport javax.mail.internet.*;    \r\nclass SendMail{  \r\n    public static void send(String from,String password,String to,String sub,String msg){  \r\n          //Get properties object    \r\n          Properties props = new Properties();    \r\n          props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);    \r\n          props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);    \r\n          props.put(&quot;mail.smtp.socketFactory.class&quot;,    \r\n                    &quot;javax.net.ssl.SSLSocketFactory&quot;);    \r\n          props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);    \r\n          props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);    \r\n          //get Session   \r\n          Session session = Session.getDefaultInstance(props,    \r\n           new javax.mail.Authenticator() {    \r\n           protected PasswordAuthentication getPasswordAuthentication() {    \r\n           return new PasswordAuthentication(from,password);  \r\n           }    \r\n          });    \r\n          //compose message    \r\n          try {    \r\n           MimeMessage message = new MimeMessage(session);    \r\n           message.addRecipient(Message.RecipientType.TO,new InternetAddress(to));    \r\n           message.setSubject(sub);    \r\n           message.setText(msg);    \r\n           //send message  \r\n           Transport.send(message);    \r\n           System.out.println(&quot;message sent successfully&quot;);    \r\n          } catch (MessagingException e) {throw new RuntimeException(e);}    \r\n             \r\n    }  \r\n} \r\n ```\r\n\r\nCode for testmail.java\r\n\r\n```\r\npublic class testmail{    \r\n public static void main(String[] args) {    \r\n     //from,password,to,subject,message  \r\n     SendMail.send(&quot;myemail&quot;,&quot;mypassword&quot;,&quot;reciever&quot;,&quot;hello javatpoint&quot;,&quot;How r u?&quot;);\r\n     System.out.println(&quot;message sent successfully&quot;);    \r\n     //change from, password and to  \r\n }    \r\n}   \r\n ```\r\n\r\nboth the files are compiling but when I execute the testmail file the error is shown\r\n\r\nI have used the apache tomcat 9.0 server ","title":"Error when sending : mail Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/mail/MessagingException at testmail.main(testmail.java:4)","body":"<p>Trying to send mail using smtp, used all the necessary jar files(mail.jar and activation.jar) but always shows this error</p>\n<p><a href=\"https://i.stack.imgur.com/bMnCD.png\" rel=\"nofollow noreferrer\">error shown on running testmail file</a></p>\n<p>I have used two classes, one is to send the email and another one calls the function in that file</p>\n<p>Code for sendmail.java</p>\n<pre><code>import javax.mail.*;    \nimport javax.mail.internet.*;    \nclass SendMail{  \n    public static void send(String from,String password,String to,String sub,String msg){  \n          //Get properties object    \n          Properties props = new Properties();    \n          props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);    \n          props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);    \n          props.put(&quot;mail.smtp.socketFactory.class&quot;,    \n                    &quot;javax.net.ssl.SSLSocketFactory&quot;);    \n          props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);    \n          props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);    \n          //get Session   \n          Session session = Session.getDefaultInstance(props,    \n           new javax.mail.Authenticator() {    \n           protected PasswordAuthentication getPasswordAuthentication() {    \n           return new PasswordAuthentication(from,password);  \n           }    \n          });    \n          //compose message    \n          try {    \n           MimeMessage message = new MimeMessage(session);    \n           message.addRecipient(Message.RecipientType.TO,new InternetAddress(to));    \n           message.setSubject(sub);    \n           message.setText(msg);    \n           //send message  \n           Transport.send(message);    \n           System.out.println(&quot;message sent successfully&quot;);    \n          } catch (MessagingException e) {throw new RuntimeException(e);}    \n             \n    }  \n} \n</code></pre>\n<p>Code for testmail.java</p>\n<pre><code>public class testmail{    \n public static void main(String[] args) {    \n     //from,password,to,subject,message  \n     SendMail.send(&quot;myemail&quot;,&quot;mypassword&quot;,&quot;reciever&quot;,&quot;hello javatpoint&quot;,&quot;How r u?&quot;);\n     System.out.println(&quot;message sent successfully&quot;);    \n     //change from, password and to  \n }    \n}   \n</code></pre>\n<p>both the files are compiling but when I execute the testmail file the error is shown</p>\n<p>I have used the apache tomcat 9.0 server</p>\n"},{"tags":["java","javafx","colors"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":1,"creation_date":1582835157,"post_id":60441144,"comment_id":106923706,"body_markdown":"Does this answer your question? [How to get hex web String from JavaFX ColorPicker color?](https://stackoverflow.com/questions/17925318/how-to-get-hex-web-string-from-javafx-colorpicker-color)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17925318/how-to-get-hex-web-string-from-javafx-colorpicker-color\">How to get hex web String from JavaFX ColorPicker color?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3563874,"reputation":162,"user_id":2975988,"display_name":"Airflow46"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582835880,"creation_date":1582835566,"answer_id":60441328,"question_id":60441144,"body_markdown":"Found the answer:\r\n\r\n    \t\t\tcp.setOnAction(e -&gt; {\r\n\t\t\t\tColor c = cp.getValue();\r\n\t\t\t\tbutton.setStyle(&quot;-fx-background-color: &quot; + c.toString().replace(&quot;0x&quot;, &quot;#&quot;));\r\n\t\t\t\tSystem.out.println(c);\r\n\t\t\t});","title":"How to convert color from ColorPicker to String value in javaFX","body":"<p>Found the answer:</p>\n\n<pre><code>            cp.setOnAction(e -&gt; {\n            Color c = cp.getValue();\n            button.setStyle(\"-fx-background-color: \" + c.toString().replace(\"0x\", \"#\"));\n            System.out.println(c);\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1582852317,"creation_date":1582852317,"answer_id":60443958,"question_id":60441144,"body_markdown":"# Converting `Color` to Hex String\r\n\r\nYou can use the following to create a hex string from a `Color`:\r\n\r\n```java\r\nprivate static String toHexString(Color color) {\r\n  int r = ((int) Math.round(color.getRed()     * 255)) &lt;&lt; 24;\r\n  int g = ((int) Math.round(color.getGreen()   * 255)) &lt;&lt; 16;\r\n  int b = ((int) Math.round(color.getBlue()    * 255)) &lt;&lt; 8;\r\n  int a = ((int) Math.round(color.getOpacity() * 255));\r\n  return String.format(&quot;#%08X&quot;, (r + g + b + a));\r\n}\r\n```\r\n\r\nThis will also include the alpha (i.e. opacity) of the color. Note that the [JavaFX CSS Reference Guide][1] does not document any support for 4-digit/8-digit hex values:\r\n\r\n&gt;**RGB Hex:** The format of an RGB value in hexadecimal notation is a ‘#’ immediately followed by either three or six hexadecimal characters. The three-digit RGB notation (#rgb) is converted into six-digit form (#rrggbb) by replicating digits, not by adding zeros. For example, #fb0 expands to #ffbb00. This ensures that white (#ffffff) can be specified with the short notation (#fff) and removes any dependencies on the color depth of the display.\r\n\r\nHowever, the documentation of [`Color#web(String)`][2] says the following format is supported:\r\n\r\n&gt;An HTML long or short format hex string with **an optional hex alpha channel** _[emphasis added]_. Hexadecimal values may be preceded by either `&quot;0x&quot;` or `&quot;#&quot;` and can either be 2 digits in the range `00` to `0xFF` or a single digit in the range `0` to `F`.\r\n\r\nAlso note it says the hexadecimal value may be prefixed with _either_ `0x` or `#`.\r\n\r\nHere&#39;s an example using the above utility method:\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ColorPicker;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    StackPane root = new StackPane();\r\n\r\n    ColorPicker picker = new ColorPicker();\r\n    root.getChildren().add(picker);\r\n    picker.setOnAction(\r\n        event -&gt; {\r\n          event.consume();\r\n\r\n          Color value = picker.getValue();\r\n          if (value == null) {\r\n            root.setStyle(null);\r\n          } else {\r\n            String style = String.format(&quot;-fx-background-color: %s;&quot;, toHexString(value));\r\n            root.setStyle(style);\r\n          }\r\n        });\r\n\r\n    primaryStage.setScene(new Scene(root, 500, 300));\r\n    primaryStage.setTitle(&quot;Color to Hexadecimal Example&quot;);\r\n    primaryStage.show();\r\n  }\r\n\r\n  private static String toHexString(Color color) {\r\n    int r = ((int) Math.round(color.getRed()     * 255)) &lt;&lt; 24;\r\n    int g = ((int) Math.round(color.getGreen()   * 255)) &lt;&lt; 16;\r\n    int b = ((int) Math.round(color.getBlue()    * 255)) &lt;&lt; 8;\r\n    int a = ((int) Math.round(color.getOpacity() * 255));\r\n\r\n    return String.format(&quot;#%08X&quot;, (r + g + b + a));\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n# Background Property\r\n\r\nThere is another way to accomplish what you&#39;re doing. Instead of setting the `style`, which requires converting the `Color` to a `String`, you can set the [`Region#background`][3] property directly. Here&#39;s an example:\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ColorPicker;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.BackgroundFill;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    StackPane root = new StackPane();\r\n\r\n    ColorPicker picker = new ColorPicker();\r\n    root.getChildren().add(picker);\r\n    picker.setOnAction(\r\n        event -&gt; {\r\n          event.consume();\r\n\r\n          Color value = picker.getValue();\r\n          if (value == null) {\r\n            root.setBackground(null);\r\n          } else {\r\n            root.setBackground(new Background(new BackgroundFill(value, null, null)));\r\n          }\r\n        });\r\n\r\n    primaryStage.setScene(new Scene(root, 500, 300));\r\n    primaryStage.setTitle(&quot;Programmatically Set Background Color Example&quot;);\r\n    primaryStage.show();\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/doc-files/cssref.html#typecolor\r\n  [2]: https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/paint/Color.html#web(java.lang.String)\r\n  [3]: https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/layout/Region.html#backgroundProperty","title":"How to convert color from ColorPicker to String value in javaFX","body":"<h1>Converting <code>Color</code> to Hex String</h1>\n\n<p>You can use the following to create a hex string from a <code>Color</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static String toHexString(Color color) {\n  int r = ((int) Math.round(color.getRed()     * 255)) &lt;&lt; 24;\n  int g = ((int) Math.round(color.getGreen()   * 255)) &lt;&lt; 16;\n  int b = ((int) Math.round(color.getBlue()    * 255)) &lt;&lt; 8;\n  int a = ((int) Math.round(color.getOpacity() * 255));\n  return String.format(\"#%08X\", (r + g + b + a));\n}\n</code></pre>\n\n<p>This will also include the alpha (i.e. opacity) of the color. Note that the <a href=\"https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/doc-files/cssref.html#typecolor\" rel=\"noreferrer\">JavaFX CSS Reference Guide</a> does not document any support for 4-digit/8-digit hex values:</p>\n\n<blockquote>\n  <p><strong>RGB Hex:</strong> The format of an RGB value in hexadecimal notation is a ‘#’ immediately followed by either three or six hexadecimal characters. The three-digit RGB notation (#rgb) is converted into six-digit form (#rrggbb) by replicating digits, not by adding zeros. For example, #fb0 expands to #ffbb00. This ensures that white (#ffffff) can be specified with the short notation (#fff) and removes any dependencies on the color depth of the display.</p>\n</blockquote>\n\n<p>However, the documentation of <a href=\"https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/paint/Color.html#web(java.lang.String)\" rel=\"noreferrer\"><code>Color#web(String)</code></a> says the following format is supported:</p>\n\n<blockquote>\n  <p>An HTML long or short format hex string with <strong>an optional hex alpha channel</strong> <em>[emphasis added]</em>. Hexadecimal values may be preceded by either <code>\"0x\"</code> or <code>\"#\"</code> and can either be 2 digits in the range <code>00</code> to <code>0xFF</code> or a single digit in the range <code>0</code> to <code>F</code>.</p>\n</blockquote>\n\n<p>Also note it says the hexadecimal value may be prefixed with <em>either</em> <code>0x</code> or <code>#</code>.</p>\n\n<p>Here's an example using the above utility method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    StackPane root = new StackPane();\n\n    ColorPicker picker = new ColorPicker();\n    root.getChildren().add(picker);\n    picker.setOnAction(\n        event -&gt; {\n          event.consume();\n\n          Color value = picker.getValue();\n          if (value == null) {\n            root.setStyle(null);\n          } else {\n            String style = String.format(\"-fx-background-color: %s;\", toHexString(value));\n            root.setStyle(style);\n          }\n        });\n\n    primaryStage.setScene(new Scene(root, 500, 300));\n    primaryStage.setTitle(\"Color to Hexadecimal Example\");\n    primaryStage.show();\n  }\n\n  private static String toHexString(Color color) {\n    int r = ((int) Math.round(color.getRed()     * 255)) &lt;&lt; 24;\n    int g = ((int) Math.round(color.getGreen()   * 255)) &lt;&lt; 16;\n    int b = ((int) Math.round(color.getBlue()    * 255)) &lt;&lt; 8;\n    int a = ((int) Math.round(color.getOpacity() * 255));\n\n    return String.format(\"#%08X\", (r + g + b + a));\n  }\n}\n</code></pre>\n\n<hr>\n\n<h1>Background Property</h1>\n\n<p>There is another way to accomplish what you're doing. Instead of setting the <code>style</code>, which requires converting the <code>Color</code> to a <code>String</code>, you can set the <a href=\"https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/layout/Region.html#backgroundProperty\" rel=\"noreferrer\"><code>Region#background</code></a> property directly. Here's an example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    StackPane root = new StackPane();\n\n    ColorPicker picker = new ColorPicker();\n    root.getChildren().add(picker);\n    picker.setOnAction(\n        event -&gt; {\n          event.consume();\n\n          Color value = picker.getValue();\n          if (value == null) {\n            root.setBackground(null);\n          } else {\n            root.setBackground(new Background(new BackgroundFill(value, null, null)));\n          }\n        });\n\n    primaryStage.setScene(new Scene(root, 500, 300));\n    primaryStage.setTitle(\"Programmatically Set Background Color Example\");\n    primaryStage.show();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638841813,"creation_date":1638805927,"answer_id":70248189,"question_id":60441144,"body_markdown":"This isn&#39;t actually that complicated when you simply need to take the color value generated from a JavaFX ColorPicker and assign it to a CSS property.\r\n\r\nin the OnAction event of the ColorPicker, add this code to ensure you extract the first three pairs of hex values, then format them back into a CSS friendly format like this:\r\n\r\n    String colorString = String.valueOf(colorPicker.getValue());\r\n    String regex = &quot;([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(colorString);\r\n    StringBuilder cssFormat = new StringBuilder();\r\n    if (m.find()) {\r\n    \tcssFormat.append(&quot;#&quot;).append(m.group(0)).append(&quot;;&quot;);\r\n    }\r\n\r\nIn this example, the String called cssFormat will then be able to be inserted into the style of whatever JavaFX object you need to assign it to. Here is how you would do that using a Button as the OP requested:\r\n\r\n    if (!cssFormat.isEmpty()) {\r\n      button.setStyle(&quot;-fx-background-color: &quot; + cssFormat);\r\n    }\r\n\r\nIt&#39;s literally that easy.\r\n\r\nIf you need to convert that String back into a color, you do it like this:\r\n\r\n    Color color = Color.valueOf(colorString);\r\n\r\n:-)\r\n\r\n","title":"How to convert color from ColorPicker to String value in javaFX","body":"<p>This isn't actually that complicated when you simply need to take the color value generated from a JavaFX ColorPicker and assign it to a CSS property.</p>\n<p>in the OnAction event of the ColorPicker, add this code to ensure you extract the first three pairs of hex values, then format them back into a CSS friendly format like this:</p>\n<pre><code>String colorString = String.valueOf(colorPicker.getValue());\nString regex = &quot;([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})&quot;;\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(colorString);\nStringBuilder cssFormat = new StringBuilder();\nif (m.find()) {\n    cssFormat.append(&quot;#&quot;).append(m.group(0)).append(&quot;;&quot;);\n}\n</code></pre>\n<p>In this example, the String called cssFormat will then be able to be inserted into the style of whatever JavaFX object you need to assign it to. Here is how you would do that using a Button as the OP requested:</p>\n<pre><code>if (!cssFormat.isEmpty()) {\n  button.setStyle(&quot;-fx-background-color: &quot; + cssFormat);\n}\n</code></pre>\n<p>It's literally that easy.</p>\n<p>If you need to convert that String back into a color, you do it like this:</p>\n<pre><code>Color color = Color.valueOf(colorString);\n</code></pre>\n<p>:-)</p>\n"}],"owner":{"account_id":3563874,"reputation":162,"user_id":2975988,"display_name":"Airflow46"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2273,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60443958,"answer_count":3,"score":0,"last_activity_date":1638841813,"creation_date":1582834731,"question_id":60441144,"body_markdown":"I want to make the user choose the color using the ColorPicker, and then use that color to change the color of a button. JavaFX\r\n```java\r\n    ColorPicker cp = new ColorPicker();\r\n\t\t\tcp.setOnAction(e -&gt; {\r\n\t\t\t\tColor c = cp.getValue();\r\n\t\t\t\tSystem.out.println(c);\r\n\t\t\t});\r\n```\r\nIn the println it will give answers like 0xe6e64dff,0xccffccff...\r\n\r\nAnd if i want to color the button in say, blue, i would need to use this:\r\n```java\r\n    Button button = new Button();\r\n    button.setStyle(&quot;-fx-background-color: #ff0000; &quot;);\r\n```\r\nSo i assume i would have to convert the color value to a String before i can use it  ? Or how do i go about this ?\r\nHow do i get the picked color to be usable in the setStyle line?\r\n","title":"How to convert color from ColorPicker to String value in javaFX","body":"<p>I want to make the user choose the color using the ColorPicker, and then use that color to change the color of a button. JavaFX</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    ColorPicker cp = new ColorPicker();\n            cp.setOnAction(e -&gt; {\n                Color c = cp.getValue();\n                System.out.println(c);\n            });\n</code></pre>\n\n<p>In the println it will give answers like 0xe6e64dff,0xccffccff...</p>\n\n<p>And if i want to color the button in say, blue, i would need to use this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    Button button = new Button();\n    button.setStyle(\"-fx-background-color: #ff0000; \");\n</code></pre>\n\n<p>So i assume i would have to convert the color value to a String before i can use it  ? Or how do i go about this ?\nHow do i get the picked color to be usable in the setStyle line?</p>\n"},{"tags":["java","spring","spring-mvc","jsp","h2"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638864069,"post_id":70252649,"comment_id":124194451,"body_markdown":"You mapped your variable to `order` in your for each, then in the code you are again using `orders` which should be `order`.","body":"You mapped your variable to <code>order</code> in your for each, then in the code you are again using <code>orders</code> which should be <code>order</code>."}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638841624,"creation_date":1638839214,"answer_id":70253787,"question_id":70252649,"body_markdown":"You are trying to refer wrong variable in JSP.\r\n\r\nIt&#39;s carpackage not package. So try to use this variable.\r\n\r\n    value=&quot;${orders.carpackage}&quot;\r\n\r\n**The above things will fix your issue but apart from this I would request you to follow proper naming conventions. Class names should be camel case, foreach items should be plural and each item should be singular etc** ","title":"spring boot displaying data in jsp not working","body":"<p>You are trying to refer wrong variable in JSP.</p>\n<p>It's carpackage not package. So try to use this variable.</p>\n<pre><code>value=&quot;${orders.carpackage}&quot;\n</code></pre>\n<p><strong>The above things will fix your issue but apart from this I would request you to follow proper naming conventions. Class names should be camel case, foreach items should be plural and each item should be singular etc</strong></p>\n"}],"owner":{"account_id":21606223,"reputation":3,"user_id":15933623,"display_name":"Virgil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638894104,"accepted_answer_id":70253787,"answer_count":1,"score":0,"last_activity_date":1638841624,"creation_date":1638829086,"question_id":70252649,"body_markdown":"we are working on a school assigment which and we make an online carshop and we want to display all the cars in the database but we get the following error \r\n\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\n/views/order.jsp (line: [74], column: [12]) [${orders.package}] contains invalid expression(s): [javax.el.ELException: Failed to parse the expression [${orders.package}]]\r\norg.apache.jasper.JasperException: /views/order.jsp (line: [74], column: [12]) [${orders.package}] contains invalid expression(s): [javax.el.ELException: Failed to parse the expression [${orders.package}]]\r\n\r\n```\r\n\r\nthe jsp file that displayst the content of the List\r\n\r\n```\r\n&lt;tabel&gt;\r\n    &lt;tr&gt;\r\n        &lt;th&gt;price&lt;/th&gt;\r\n        &lt;th&gt;package&lt;/th&gt;\r\n        &lt;th&gt;category&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n        &lt;c:forEach items=&quot;${order}&quot; var=&quot;orders&quot;&gt;\r\n    &lt;tr&gt;\r\n    \t&lt;td&gt;&lt;c:out value=&quot;${orders.price}&quot;/&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;c:out value=&quot;${orders.package}&quot;/&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;c:out value=&quot;${orders.category}&quot;/&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\t&lt;/c:forEach&gt;\r\n&lt;/table&gt;\r\n\r\n```\r\nthe controller that fetches the data from the database and give it to a model \r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\n\r\npackage com.autoszalon.auto.application.controller;\r\n\r\nimport com.autoszalon.auto.application.domains.User;\r\nimport com.autoszalon.auto.application.service.vehicleservice;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\n\r\n\r\n/**\r\n *\r\n * @author Nagy\r\n */\r\n\r\n\r\n@Controller\r\npublic class vehiclecontroller {\r\n    \r\n    @Autowired\r\n    \r\n    private vehicleservice vehicleservice;\r\n    \r\n   @GetMapping(&quot;order&quot;)\r\n    \r\n    public String listVehicle(Model jarmumodel){\r\n        \r\n        List&lt;vehiclefinddto&gt; carlist = new ArrayList&lt;&gt;();\r\n        \r\n        vehicleservice.findAllVeichle().forEach(h \r\n\t\t\t\t-&gt; carlist.add(new vehiclefinddto(h.getPrice(), h.getCarpackage(), h.getCategory()))\r\n        );\r\n      jarmumodel.addAttribute(&quot;order&quot;, carlist);\r\n     \r\n      return &quot;order&quot;;\r\n      }\r\n    @PostMapping(&quot;orderfilter&quot;)\r\n    public String vehichle(vehichledtotemp vehichledto ){\r\n        vehicleservice.transfertovehichlefinddto(vehichledto);\r\n        \r\n    return &quot;order&quot;;\r\n    }\r\n    \r\n    }\r\n    \r\n\r\n```\r\nthe service of the controller\r\n````\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage com.autoszalon.auto.application.service;\r\n\r\nimport com.autoszalon.auto.application.controller.vehichledtotemp;\r\nimport com.autoszalon.auto.application.controller.vehiclefinddto;\r\nimport com.autoszalon.auto.application.domains.Carpackage;\r\nimport com.autoszalon.auto.application.domains.Veichle;\r\nimport com.autoszalon.auto.application.repositorys.Veichlerepository;\r\nimport java.util.ArrayList;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n/**\r\n *\r\n * @author Nagy\r\n */\r\n@Service\r\npublic class vehicleservice {\r\n    @Autowired\r\n    public Veichlerepository vehiclerepo;\r\n    \r\n    \tpublic Iterable&lt;Veichle&gt; findAllVeichle() {\r\n\t\treturn vehiclerepo.findAll();\r\n\t}\r\n        public Iterable&lt;Veichle&gt; findAllBycarpackage(Carpackage carpackage){\r\n            return (Iterable&lt;Veichle&gt;) vehiclerepo.findAllBycarpackage(carpackage);\r\n        }\r\n        public vehiclefinddto transfertovehichlefinddto(vehichledtotemp vehdtotemp){\r\n            vehiclefinddto vfinddto = new vehiclefinddto(vehdtotemp.getDoors(),vehdtotemp.getCarpackage(), vehdtotemp.getCategory(), vehdtotemp.getColor(), vehdtotemp.isAllwheels(), (int) vehdtotemp.getPrice());\r\n            return vfinddto;\r\n        }\r\n        public Iterable&lt;Veichle&gt; findAlLbycolor(String color) {\r\n            return vehiclerepo.findcarsbycolor(color);\r\n        }\r\n      \r\n            public Iterable&lt;Veichle&gt; findAlLbyall(boolean Allwheel, float price,int doors, String color) {\r\n\t\treturn vehiclerepo.findcarsbyAll(Allwheel, price, doors, color);\r\n\t}\r\n            \r\n        }\r\n\r\n\r\n```\r\nthis is the data transfer object \r\n```\r\n\r\n/**\r\n *\r\n * @author Nagy\r\n */\r\npublic class vehiclefinddto {\r\n    private final float price;\r\n    private final Carpackage carpackage;\r\n   // private final String color;\r\n  //  private final int doors;\r\n    private final Categoryenum category;\r\n   //private final boolean Allwheels;\r\n\r\n    public vehiclefinddto(float price, Carpackage carpackage, Categoryenum category) {\r\n        this.price = price;\r\n        this.carpackage = carpackage;\r\n        this.category = category;\r\n    }\r\n\r\n    public vehiclefinddto(int doors, Carpackage carpackage, Categoryenum category, String color, boolean allwheels, int i) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n\r\n    public float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public Carpackage getCarpackage() {\r\n        return carpackage;\r\n    }\r\n/*\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public int getDoors() {\r\n        return doors;\r\n    }\r\n*/\r\n    public Categoryenum getCategory() {\r\n        return category;\r\n    }\r\n/*\r\n    public boolean isAllwheels() {\r\n        return Allwheels;\r\n    }\r\n    */\r\n    \r\n    \r\n    \r\n}\r\n\r\n\r\n```\r\n\r\n","title":"spring boot displaying data in jsp not working","body":"<p>we are working on a school assigment which and we make an online carshop and we want to display all the cars in the database but we get the following error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\n/views/order.jsp (line: [74], column: [12]) [${orders.package}] contains invalid expression(s): [javax.el.ELException: Failed to parse the expression [${orders.package}]]\norg.apache.jasper.JasperException: /views/order.jsp (line: [74], column: [12]) [${orders.package}] contains invalid expression(s): [javax.el.ELException: Failed to parse the expression [${orders.package}]]\n\n</code></pre>\n<p>the jsp file that displayst the content of the List</p>\n<pre><code>&lt;tabel&gt;\n    &lt;tr&gt;\n        &lt;th&gt;price&lt;/th&gt;\n        &lt;th&gt;package&lt;/th&gt;\n        &lt;th&gt;category&lt;/th&gt;\n    &lt;/tr&gt;\n        &lt;c:forEach items=&quot;${order}&quot; var=&quot;orders&quot;&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;c:out value=&quot;${orders.price}&quot;/&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;c:out value=&quot;${orders.package}&quot;/&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;c:out value=&quot;${orders.category}&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n\n</code></pre>\n<p>the controller that fetches the data from the database and give it to a model</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\n\npackage com.autoszalon.auto.application.controller;\n\nimport com.autoszalon.auto.application.domains.User;\nimport com.autoszalon.auto.application.service.vehicleservice;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n\n\n/**\n *\n * @author Nagy\n */\n\n\n@Controller\npublic class vehiclecontroller {\n    \n    @Autowired\n    \n    private vehicleservice vehicleservice;\n    \n   @GetMapping(&quot;order&quot;)\n    \n    public String listVehicle(Model jarmumodel){\n        \n        List&lt;vehiclefinddto&gt; carlist = new ArrayList&lt;&gt;();\n        \n        vehicleservice.findAllVeichle().forEach(h \n                -&gt; carlist.add(new vehiclefinddto(h.getPrice(), h.getCarpackage(), h.getCategory()))\n        );\n      jarmumodel.addAttribute(&quot;order&quot;, carlist);\n     \n      return &quot;order&quot;;\n      }\n    @PostMapping(&quot;orderfilter&quot;)\n    public String vehichle(vehichledtotemp vehichledto ){\n        vehicleservice.transfertovehichlefinddto(vehichledto);\n        \n    return &quot;order&quot;;\n    }\n    \n    }\n    \n\n</code></pre>\n<p>the service of the controller</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage com.autoszalon.auto.application.service;\n\nimport com.autoszalon.auto.application.controller.vehichledtotemp;\nimport com.autoszalon.auto.application.controller.vehiclefinddto;\nimport com.autoszalon.auto.application.domains.Carpackage;\nimport com.autoszalon.auto.application.domains.Veichle;\nimport com.autoszalon.auto.application.repositorys.Veichlerepository;\nimport java.util.ArrayList;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n/**\n *\n * @author Nagy\n */\n@Service\npublic class vehicleservice {\n    @Autowired\n    public Veichlerepository vehiclerepo;\n    \n        public Iterable&lt;Veichle&gt; findAllVeichle() {\n        return vehiclerepo.findAll();\n    }\n        public Iterable&lt;Veichle&gt; findAllBycarpackage(Carpackage carpackage){\n            return (Iterable&lt;Veichle&gt;) vehiclerepo.findAllBycarpackage(carpackage);\n        }\n        public vehiclefinddto transfertovehichlefinddto(vehichledtotemp vehdtotemp){\n            vehiclefinddto vfinddto = new vehiclefinddto(vehdtotemp.getDoors(),vehdtotemp.getCarpackage(), vehdtotemp.getCategory(), vehdtotemp.getColor(), vehdtotemp.isAllwheels(), (int) vehdtotemp.getPrice());\n            return vfinddto;\n        }\n        public Iterable&lt;Veichle&gt; findAlLbycolor(String color) {\n            return vehiclerepo.findcarsbycolor(color);\n        }\n      \n            public Iterable&lt;Veichle&gt; findAlLbyall(boolean Allwheel, float price,int doors, String color) {\n        return vehiclerepo.findcarsbyAll(Allwheel, price, doors, color);\n    }\n            \n        }\n\n\n```\nthis is the data transfer object \n```\n\n/**\n *\n * @author Nagy\n */\npublic class vehiclefinddto {\n    private final float price;\n    private final Carpackage carpackage;\n   // private final String color;\n  //  private final int doors;\n    private final Categoryenum category;\n   //private final boolean Allwheels;\n\n    public vehiclefinddto(float price, Carpackage carpackage, Categoryenum category) {\n        this.price = price;\n        this.carpackage = carpackage;\n        this.category = category;\n    }\n\n    public vehiclefinddto(int doors, Carpackage carpackage, Categoryenum category, String color, boolean allwheels, int i) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n\n    public float getPrice() {\n        return price;\n    }\n\n    public Carpackage getCarpackage() {\n        return carpackage;\n    }\n/*\n    public String getColor() {\n        return color;\n    }\n\n    public int getDoors() {\n        return doors;\n    }\n*/\n    public Categoryenum getCategory() {\n        return category;\n    }\n/*\n    public boolean isAllwheels() {\n        return Allwheels;\n    }\n    */\n    \n    \n    \n}\n\n\n```\n\n</code></pre>\n"},{"tags":["java","maven","javafx","module","jlink"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1638818205,"post_id":70250564,"comment_id":124184074,"body_markdown":"Why do you make your life so hard? https://github.com/dlemmermann/JPackageScriptFX","body":"Why do you make your life so hard? <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">github.com/dlemmermann/JPackageScriptFX</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638841592,"creation_date":1638819777,"answer_id":70251055,"question_id":70250564,"body_markdown":"Specifically to answer your question:\r\n\r\n&gt; How to specify the module-path used?\r\n\r\nYou could run jlink from the command-line instead of via Maven.\r\n\r\nThat way you can specify any module path you wish.\r\n\r\nFrom the [man page for jlink][1]:\r\n\r\n&gt;     jlink [options] --module-path modulepath --add-modules module [, module...]\r\n&gt;\r\n&gt; *modulepath*\r\n&gt;\r\n&gt; The path where the jlink tool discovers observable modules. These modules can be modular JAR files, JMOD files, or exploded modules.\r\n&gt; \r\n&gt; *module*\r\n&gt;\r\n&gt; The names of the modules to add to the runtime image. The jlink tool adds these modules and their transitive dependencies.\r\n\r\nIf you wish to continue using the openjfx maven plugin jlink command, you can do that.\r\n\r\nThe code which configures the module path passed to jlink by the maven plugin is [in git](https://github.com/openjfx/javafx-maven-plugin/blob/998450434eb7a63ad2ecef0e4bafb6245ac154e9/src/main/java/org/openjfx/JavaFXJLinkMojo.java#L293).\r\n\r\n    if (modulepathElements != null &amp;&amp; !modulepathElements.isEmpty()) {\r\n        commandArguments.add(&quot; --module-path&quot;);\r\n        String modulePath = StringUtils.join(modulepathElements.iterator(), File.pathSeparator);\r\n        if (jmodsPath != null &amp;&amp; ! jmodsPath.isEmpty()) {\r\n            getLog().debug(&quot;Including jmods from local path: &quot; + jmodsPath);\r\n            modulePath = jmodsPath + File.pathSeparator + modulePath;\r\n        }\r\n        commandArguments.add(modulePath);\r\n\r\n        commandArguments.add(&quot; --add-modules&quot;);\r\n        if (moduleDescriptor != null) {\r\n            commandArguments.add(&quot; &quot; + moduleDescriptor.name());\r\n        } else {\r\n            throw new MojoExecutionException(&quot;jlink requires a module descriptor&quot;);\r\n        }\r\n    }\r\n\r\nThis is based on the [javafx:jlink options](https://github.com/openjfx/javafx-maven-plugin):\r\n\r\n&gt; jmodsPath: When using a local JavaFX SDK, sets the path to the local JavaFX jmods\r\n\r\nSo if you put your module on the path specified by that option, it should be found.\r\n\r\n----\r\n\r\nHere are some other options.\r\n\r\n**Package your app as a non-modular app using jpackage**\r\n\r\nI think mipa&#39;s suggestion of using JPackageScriptFX is probably the best approach:\r\n\r\n * github.com/dlemmermann/JPackageScriptFX \r\n\r\n**Create a new jar from binaries**\r\n\r\n 1. Unjar the JBibTex.jar.\r\n 2. Add in the compiled module-info to unjared directory.\r\n 3. Create a new jar, e.g. JBibTexModule.jar. \r\n 4. Install that to your maven repository via a mvn install command.\r\n 5. Add a maven dependency on JBibTexModule instead of JBibTex.\r\n 6. Add any needed statements to your main app module-info file to use the library. \r\n\r\nThen, I believe you are done, and it would build, link, and run ok.\r\n\r\n**Create a new jar from source**\r\n\r\nThe jbibtex library is also in [github][2], so you could create an issue or pull-request on the project to ask it to be modularized. \r\n\r\nAlso, you could:\r\n\r\n 1. Clone the repository.\r\n 2. Add the module-info.java.\r\n 3. Build the jar file.\r\n 4. Install it locally in your local maven repository.\r\n 5. Then depend on the local version you have created. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\r\n  [2]: https://github.com/jbibtex/jbibtex","title":"Maven javafx:jlink. How to specifiy the module-path used?","body":"<p>Specifically to answer your question:</p>\n<blockquote>\n<p>How to specify the module-path used?</p>\n</blockquote>\n<p>You could run jlink from the command-line instead of via Maven.</p>\n<p>That way you can specify any module path you wish.</p>\n<p>From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\">man page for jlink</a>:</p>\n<blockquote>\n<pre><code>jlink [options] --module-path modulepath --add-modules module [, module...]\n</code></pre>\n<p><em>modulepath</em></p>\n<p>The path where the jlink tool discovers observable modules. These modules can be modular JAR files, JMOD files, or exploded modules.</p>\n<p><em>module</em></p>\n<p>The names of the modules to add to the runtime image. The jlink tool adds these modules and their transitive dependencies.</p>\n</blockquote>\n<p>If you wish to continue using the openjfx maven plugin jlink command, you can do that.</p>\n<p>The code which configures the module path passed to jlink by the maven plugin is <a href=\"https://github.com/openjfx/javafx-maven-plugin/blob/998450434eb7a63ad2ecef0e4bafb6245ac154e9/src/main/java/org/openjfx/JavaFXJLinkMojo.java#L293\" rel=\"nofollow noreferrer\">in git</a>.</p>\n<pre><code>if (modulepathElements != null &amp;&amp; !modulepathElements.isEmpty()) {\n    commandArguments.add(&quot; --module-path&quot;);\n    String modulePath = StringUtils.join(modulepathElements.iterator(), File.pathSeparator);\n    if (jmodsPath != null &amp;&amp; ! jmodsPath.isEmpty()) {\n        getLog().debug(&quot;Including jmods from local path: &quot; + jmodsPath);\n        modulePath = jmodsPath + File.pathSeparator + modulePath;\n    }\n    commandArguments.add(modulePath);\n\n    commandArguments.add(&quot; --add-modules&quot;);\n    if (moduleDescriptor != null) {\n        commandArguments.add(&quot; &quot; + moduleDescriptor.name());\n    } else {\n        throw new MojoExecutionException(&quot;jlink requires a module descriptor&quot;);\n    }\n}\n</code></pre>\n<p>This is based on the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">javafx:jlink options</a>:</p>\n<blockquote>\n<p>jmodsPath: When using a local JavaFX SDK, sets the path to the local JavaFX jmods</p>\n</blockquote>\n<p>So if you put your module on the path specified by that option, it should be found.</p>\n<hr />\n<p>Here are some other options.</p>\n<p><strong>Package your app as a non-modular app using jpackage</strong></p>\n<p>I think mipa's suggestion of using JPackageScriptFX is probably the best approach:</p>\n<ul>\n<li>github.com/dlemmermann/JPackageScriptFX</li>\n</ul>\n<p><strong>Create a new jar from binaries</strong></p>\n<ol>\n<li>Unjar the JBibTex.jar.</li>\n<li>Add in the compiled module-info to unjared directory.</li>\n<li>Create a new jar, e.g. JBibTexModule.jar.</li>\n<li>Install that to your maven repository via a mvn install command.</li>\n<li>Add a maven dependency on JBibTexModule instead of JBibTex.</li>\n<li>Add any needed statements to your main app module-info file to use the library.</li>\n</ol>\n<p>Then, I believe you are done, and it would build, link, and run ok.</p>\n<p><strong>Create a new jar from source</strong></p>\n<p>The jbibtex library is also in <a href=\"https://github.com/jbibtex/jbibtex\" rel=\"nofollow noreferrer\">github</a>, so you could create an issue or pull-request on the project to ask it to be modularized.</p>\n<p>Also, you could:</p>\n<ol>\n<li>Clone the repository.</li>\n<li>Add the module-info.java.</li>\n<li>Build the jar file.</li>\n<li>Install it locally in your local maven repository.</li>\n<li>Then depend on the local version you have created.</li>\n</ol>\n"}],"owner":{"account_id":11095458,"reputation":491,"user_id":8145784,"accept_rate":86,"display_name":"Tom Clabault"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1572,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70251055,"answer_count":1,"score":2,"last_activity_date":1638841592,"creation_date":1638817339,"question_id":70250564,"body_markdown":"I&#39;m currently working on a modular JavaFX application and I&#39;m using maven to compile/deploy it.\r\n\r\nOne of the dependencies of my application is JBibTex which doesn&#39;t have a `module-info` file so it&#39;s used as an automodule. In order for my `javafx:jlink` to work (because `javafx:jlink` cannot work on automodules), I had to convert JBibTex to an explicit module. I used the maven&#39;s [ModiTect][1] plugin for that.\r\n\r\nI used ModiTect to generate the `module-info` file for the JBibTex library and I added it to the JBibTex&#39;s jar file (I used `moditect:add-module-infos` for that). \r\n\r\nNow the problem is that `javafx:jlink` uses the JBibTex.jar file that is located in my &quot;.m2&quot; folder (where maven automatically downloads all your projects&#39; dependencies). The JBibTex.jar file located in my .m2 folder is not the file to which I added the module-info file.\r\n\r\nSo I still get the error:\r\n\r\n&gt; Error: automatic module cannot be used with jlink: jbibtex\r\n\r\nThe explicit JBibtex module that I have generated through the use of ModiTect is automatically put in `target/modules` by my ModiTect plugin configuration.\r\n\r\nHow can I get `javafx:jlink` to use the `target/modules/JBibTex.jar` file that contains the module-info.class file and not the JBibTex.jar of my .m2 folder?\r\n\r\nHere is my pom.xml just in case:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;xxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;BRM&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;BRM&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    \t\t\r\n    \t\t&lt;mainClass&gt;xxx.App&lt;/mainClass&gt;\r\n    \t\t&lt;moduleName&gt;xxx.brm&lt;/moduleName&gt;\r\n    \t\t\r\n        \t&lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n        \t&lt;javafx.maven.plugin.version&gt;0.0.8&lt;/javafx.maven.plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- javafx dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      \t\t  &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      \t\t  &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    \t\t&lt;dependency&gt;\r\n       \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n        \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.jbibtex/jbibtex --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jbibtex&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jbibtex&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t &lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;configs&lt;/directory&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n                   \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                \r\n                &lt;plugin&gt;\r\n    \t\t\t    &lt;groupId&gt;org.moditect&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t    &lt;plugins&gt;\r\n    \t\t        &lt;plugin&gt;\r\n    \t\t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t            &lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t            &lt;configuration&gt;\r\n    \t\t                &lt;source&gt;15&lt;/source&gt;\r\n    \t\t                &lt;target&gt;15&lt;/target&gt;\r\n    \t\t            &lt;/configuration&gt;\r\n    \t\t        &lt;/plugin&gt;\r\n    \r\n    \t\t\t\t&lt;plugin&gt;\r\n          \t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          \t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n         \t\t\t\t&lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\r\n    \t       \t\t\t&lt;configuration&gt;\r\n    \t         \t\t\t\t&lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n    \t         \t\t\t\t&lt;launcher&gt;launcher&lt;/launcher&gt;\r\n    \t         \t\t\t\t&lt;jlinkImageName&gt;BRM&lt;/jlinkImageName&gt;\r\n    \t       \t\t\t&lt;/configuration&gt;\r\n    \t   \t\t\t&lt;/plugin&gt;\r\n    \t   \t\t\t\r\n    \t   \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t    &lt;groupId&gt;org.moditect&lt;/groupId&gt;\r\n    \t\t\t\t    &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t    &lt;version&gt;1.0.0.RC2&lt;/version&gt;\r\n    \t\t\t\t    &lt;executions&gt;\r\n    \t\t\t\t    \t&lt;execution&gt;\r\n    \t\t\t\t            &lt;id&gt;add-module-infos&lt;/id&gt;\r\n    \t\t\t\t            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n    \t\t\t\t            &lt;goals&gt;\r\n    \t\t\t\t                &lt;goal&gt;add-module-info&lt;/goal&gt;\r\n    \t\t\t\t            &lt;/goals&gt;\r\n    \t\t\t\t            &lt;configuration&gt;\r\n    \t\t\t\t            \t&lt;overwriteExistingFiles&gt;true&lt;/overwriteExistingFiles&gt;\r\n    \t\t\t\t                &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n    \t\t\t\t                &lt;modules&gt;\r\n    \t\t\t\t                    &lt;module&gt;\r\n    \t\t\t\t                        &lt;artifact&gt;\r\n    \t\t\t\t                            &lt;groupId&gt;org.jbibtex&lt;/groupId&gt;\r\n    \t\t\t\t                            &lt;artifactId&gt;jbibtex&lt;/artifactId&gt;\r\n    \t\t\t\t                            &lt;version&gt;1.0.17&lt;/version&gt;\r\n    \t\t\t\t                        &lt;/artifact&gt;\r\n    \t\t\t\t                        &lt;moduleInfoSource&gt;\r\n    \t\t\t\t                            module jbibtex \r\n    \t\t\t\t                            {\r\n    \t\t\t\t                                exports org.jbibtex;\r\n    \t\t\t\t                            }\r\n    \t\t\t\t                        &lt;/moduleInfoSource&gt;\r\n    \t\t\t\t                    &lt;/module&gt;\r\n    \t\t\t\t                &lt;/modules&gt;\r\n    \t\t\t\t            &lt;/configuration&gt;\r\n    \t\t\t\t        &lt;/execution&gt;\r\n    \t\t\t\t    &lt;/executions&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n      \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://github.com/moditect/moditect","title":"Maven javafx:jlink. How to specifiy the module-path used?","body":"<p>I'm currently working on a modular JavaFX application and I'm using maven to compile/deploy it.</p>\n<p>One of the dependencies of my application is JBibTex which doesn't have a <code>module-info</code> file so it's used as an automodule. In order for my <code>javafx:jlink</code> to work (because <code>javafx:jlink</code> cannot work on automodules), I had to convert JBibTex to an explicit module. I used the maven's <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">ModiTect</a> plugin for that.</p>\n<p>I used ModiTect to generate the <code>module-info</code> file for the JBibTex library and I added it to the JBibTex's jar file (I used <code>moditect:add-module-infos</code> for that).</p>\n<p>Now the problem is that <code>javafx:jlink</code> uses the JBibTex.jar file that is located in my &quot;.m2&quot; folder (where maven automatically downloads all your projects' dependencies). The JBibTex.jar file located in my .m2 folder is not the file to which I added the module-info file.</p>\n<p>So I still get the error:</p>\n<blockquote>\n<p>Error: automatic module cannot be used with jlink: jbibtex</p>\n</blockquote>\n<p>The explicit JBibtex module that I have generated through the use of ModiTect is automatically put in <code>target/modules</code> by my ModiTect plugin configuration.</p>\n<p>How can I get <code>javafx:jlink</code> to use the <code>target/modules/JBibTex.jar</code> file that contains the module-info.class file and not the JBibTex.jar of my .m2 folder?</p>\n<p>Here is my pom.xml just in case:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xxx&lt;/groupId&gt;\n    &lt;artifactId&gt;BRM&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;BRM&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n        \n        &lt;mainClass&gt;xxx.App&lt;/mainClass&gt;\n        &lt;moduleName&gt;xxx.brm&lt;/moduleName&gt;\n        \n        &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n        &lt;javafx.maven.plugin.version&gt;0.0.8&lt;/javafx.maven.plugin.version&gt;\n    &lt;/properties&gt;\n    \n\n    &lt;dependencies&gt;\n        &lt;!-- javafx dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n          &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n          &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.jbibtex/jbibtex --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jbibtex&lt;/groupId&gt;\n            &lt;artifactId&gt;jbibtex&lt;/artifactId&gt;\n            &lt;version&gt;1.0.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n         &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;configs&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.moditect&lt;/groupId&gt;\n                &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;15&lt;/source&gt;\n                        &lt;target&gt;15&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                            &lt;launcher&gt;launcher&lt;/launcher&gt;\n                            &lt;jlinkImageName&gt;BRM&lt;/jlinkImageName&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.moditect&lt;/groupId&gt;\n                    &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0.RC2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;add-module-infos&lt;/id&gt;\n                            &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;add-module-info&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;overwriteExistingFiles&gt;true&lt;/overwriteExistingFiles&gt;\n                                &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                                &lt;modules&gt;\n                                    &lt;module&gt;\n                                        &lt;artifact&gt;\n                                            &lt;groupId&gt;org.jbibtex&lt;/groupId&gt;\n                                            &lt;artifactId&gt;jbibtex&lt;/artifactId&gt;\n                                            &lt;version&gt;1.0.17&lt;/version&gt;\n                                        &lt;/artifact&gt;\n                                        &lt;moduleInfoSource&gt;\n                                            module jbibtex \n                                            {\n                                                exports org.jbibtex;\n                                            }\n                                        &lt;/moduleInfoSource&gt;\n                                    &lt;/module&gt;\n                                &lt;/modules&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638838487,"post_id":70253705,"comment_id":124189445,"body_markdown":"So what&#39;s wrong with using something like `String.format(&quot;$%.2f&quot;, 2.50)`?  You can also use something like `DecimalFormat.getCurrencyInstance().format(2.123456789)`","body":"So what&#39;s wrong with using something like <code>String.format(&quot;$%.2f&quot;, 2.50)</code>?  You can also use something like <code>DecimalFormat.getCurrencyInstance().format(2.123456789)</code>"},{"owner":{"account_id":23567903,"reputation":1,"user_id":17608411,"display_name":"user17608411"},"score":0,"creation_date":1638838813,"post_id":70253705,"comment_id":124189505,"body_markdown":"It&#39;s didn&#39;t give me the right output. Also I tried to use DecimalFormat.getCurrencyInstance().format(2.123456789) , I got an error message.","body":"It&#39;s didn&#39;t give me the right output. Also I tried to use DecimalFormat.getCurrencyInstance().format(2.123456789) , I got an error message."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638838919,"post_id":70253705,"comment_id":124189520,"body_markdown":"Did you remember to add `import java.text.DecimalFormat`.  Also use `String.format(&quot;$%.02f&quot;, 4.40)` instead","body":"Did you remember to add <code>import java.text.DecimalFormat</code>.  Also use <code>String.format(&quot;$%.02f&quot;, 4.40)</code> instead"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638857489,"post_id":70253705,"comment_id":124192629,"body_markdown":"Always search Stack Overflow thoroughly before posting.","body":"Always search Stack Overflow thoroughly before posting."}],"answers":[{"tags":[],"owner":{"account_id":10262224,"reputation":95,"user_id":7573179,"display_name":"Femke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638841317,"creation_date":1638840919,"answer_id":70253956,"question_id":70253705,"body_markdown":"The easiest way to deal with money in Java is to use the BigDecimal class.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\r\n\r\n\r\nIt will make your code a lot cleaner. \r\n\r\nYou will declare your price variables like this:\r\n\r\n```\r\nBigDecimal dessertPrice = new BigDecimal(2.00);\r\n\r\n```\r\nYou will also get the correct accuracy you need using this class, whereas with float or double you will have to worry about that. This class was made for monetary calculations. ","title":"How do I display a price up to two decimals (cents) in Java?","body":"<p>The easiest way to deal with money in Java is to use the BigDecimal class.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html</a></p>\n<p>It will make your code a lot cleaner.</p>\n<p>You will declare your price variables like this:</p>\n<pre><code>BigDecimal dessertPrice = new BigDecimal(2.00);\n\n</code></pre>\n<p>You will also get the correct accuracy you need using this class, whereas with float or double you will have to worry about that. This class was made for monetary calculations.</p>\n"}],"owner":{"account_id":23567903,"reputation":1,"user_id":17608411,"display_name":"user17608411"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1638857464,"answer_count":1,"score":-2,"last_activity_date":1638841317,"creation_date":1638838293,"question_id":70253705,"body_markdown":"How do I display a price up to two decimals (cents) in Java? I have tried different methods but can&#39;t seem to get it right.\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\n\r\npublic class Menu {\r\n\r\n        public static void main(String[] args){\r\n                String apptName = &quot;&quot;;\r\n                String entreeName = &quot;&quot;;\r\n                String dessertName = &quot;&quot;;\r\n\r\n                double apptPrice = 0.00;\r\n                double entreePrice = 0.00;\r\n                double dessertPrice = 0.00;\r\n                        \r\n                \r\n                try {\r\n                        Scanner sc = new Scanner(new File(&quot;menu.txt&quot;));\r\n                        while (sc.hasNextLine()) {\r\n                                String line = sc.nextLine();\r\n                                String[] item = line.split(&quot;, &quot;);\r\n                                int type = Integer.parseInt(item[2]);\r\n                                String name = item[0];\r\n                                double price = Double.parseDouble(item[1].substring(1));\r\n                                String s = String.format(&quot;$%.2f&quot;, 2.50);\r\n\r\n                                if (type == 1) {\r\n                                        if (price &gt; apptPrice) {\r\n                                                apptName = name;\r\n                                                apptPrice = price;\r\n                                        }\r\n                                } else if (type == 2) {\r\n                                        if (price &gt; entreePrice) {\r\n                                                entreeName = name;\r\n                                                entreePrice = price;\r\n                                        }\r\n                                } else {\r\n                                        if (price &gt; dessertPrice) {\r\n                                                dessertName = name;\r\n                                                dessertPrice = price;\r\n                                        }\r\n                                }\r\n                        }\r\n\r\n                        double total = apptPrice + entreePrice + dessertPrice;\r\n\r\n                        System.out.println(&quot;Please enter the filename you wish to process: Most Expensive Meal&quot;);\r\n                        System.out.println(&quot;-------------------&quot;);\r\n                        System.out.println(&quot;Appetizer  : &quot;+apptName);\r\n                        System.out.println(&quot;Entree     : &quot;+entreeName);\r\n                        System.out.println(&quot;Dessert    : &quot;+dessertName);\r\n                        System.out.printf(&quot;Total Price: $&quot;+total);\r\n                       \r\n                        \r\n                } catch (FileNotFoundException fe) {\r\n                        System.out.println(&quot;Sorry, input file: was not found.&quot;);\r\n                }\r\n        }\r\n}\r\n\r\n\r\n https://i.stack.imgur.com/L3Ai8.png","title":"How do I display a price up to two decimals (cents) in Java?","body":"<p>How do I display a price up to two decimals (cents) in Java? I have tried different methods but can't seem to get it right.</p>\n<p>import java.io.<em>;\nimport java.util.</em>;</p>\n<p>public class Menu {</p>\n<pre><code>    public static void main(String[] args){\n            String apptName = &quot;&quot;;\n            String entreeName = &quot;&quot;;\n            String dessertName = &quot;&quot;;\n\n            double apptPrice = 0.00;\n            double entreePrice = 0.00;\n            double dessertPrice = 0.00;\n                    \n            \n            try {\n                    Scanner sc = new Scanner(new File(&quot;menu.txt&quot;));\n                    while (sc.hasNextLine()) {\n                            String line = sc.nextLine();\n                            String[] item = line.split(&quot;, &quot;);\n                            int type = Integer.parseInt(item[2]);\n                            String name = item[0];\n                            double price = Double.parseDouble(item[1].substring(1));\n                            String s = String.format(&quot;$%.2f&quot;, 2.50);\n\n                            if (type == 1) {\n                                    if (price &gt; apptPrice) {\n                                            apptName = name;\n                                            apptPrice = price;\n                                    }\n                            } else if (type == 2) {\n                                    if (price &gt; entreePrice) {\n                                            entreeName = name;\n                                            entreePrice = price;\n                                    }\n                            } else {\n                                    if (price &gt; dessertPrice) {\n                                            dessertName = name;\n                                            dessertPrice = price;\n                                    }\n                            }\n                    }\n\n                    double total = apptPrice + entreePrice + dessertPrice;\n\n                    System.out.println(&quot;Please enter the filename you wish to process: Most Expensive Meal&quot;);\n                    System.out.println(&quot;-------------------&quot;);\n                    System.out.println(&quot;Appetizer  : &quot;+apptName);\n                    System.out.println(&quot;Entree     : &quot;+entreeName);\n                    System.out.println(&quot;Dessert    : &quot;+dessertName);\n                    System.out.printf(&quot;Total Price: $&quot;+total);\n                   \n                    \n            } catch (FileNotFoundException fe) {\n                    System.out.println(&quot;Sorry, input file: was not found.&quot;);\n            }\n    }\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/L3Ai8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/L3Ai8.png</a></p>\n"},{"tags":["java","passwords"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638840994,"post_id":70253945,"comment_id":124189873,"body_markdown":"`new String(password).equals(password1)`","body":"<code>new String(password).equals(password1)</code>"},{"owner":{"account_id":23361285,"reputation":9,"user_id":17433463,"display_name":"FingerLessB"},"score":0,"creation_date":1638843890,"post_id":70253945,"comment_id":124190357,"body_markdown":"i have the string initializes right about it. the &quot;password&quot; your iniitializing is the user input which is the ``char[] password = passwordInput.getPassword(); ``","body":"i have the string initializes right about it. the &quot;password&quot; your iniitializing is the user input which is the <code>char[] password = passwordInput.getPassword(); </code>"}],"owner":{"account_id":23361285,"reputation":9,"user_id":17433463,"display_name":"FingerLessB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638840802,"creation_date":1638840802,"question_id":70253945,"body_markdown":"So, I am writing code for a username password to be input when prompted. I am struggling with pulling the password from the user input and comparing it to what the username/password should be. I have this for when the submit button is pushed:\r\n\r\n```java\r\nchar[] password = passwordInput.getPassword();\r\n\t\t\t\tString username = usernameInput.getText();\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (username.equals(user1) &amp;&amp; password.equals(password1)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Success&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\r\n\r\n\t\t\t\t\t}\r\n```\r\n\r\nand I also initialized the correct username and pasword in the begining of the script with\r\n ```String user1 = &quot;uccs&quot;, password1 = &quot;1234&quot;; ``` \r\n\r\nim not sure if I need to convert the passwordInput to a String? I tried ```char password = 1234;``` but that didn&#39;t work either. ","title":"Unlikely argument type for equals(): String seems to be unrelated to char[]","body":"<p>So, I am writing code for a username password to be input when prompted. I am struggling with pulling the password from the user input and comparing it to what the username/password should be. I have this for when the submit button is pushed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] password = passwordInput.getPassword();\n                String username = usernameInput.getText();\n\n                try {\n                    if (username.equals(user1) &amp;&amp; password.equals(password1)) {\n                        \n                        JOptionPane.showMessageDialog(null, &quot;Success&quot;);\n                    }\n\n                    else {\n                        JOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\n\n                    }\n</code></pre>\n<p>and I also initialized the correct username and pasword in the begining of the script with\n<code>String user1 = &quot;uccs&quot;, password1 = &quot;1234&quot;; </code></p>\n<p>im not sure if I need to convert the passwordInput to a String? I tried <code>char password = 1234;</code> but that didn't work either.</p>\n"},{"tags":["java","spring","spring-boot","caching","redis"],"comments":[{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1638852152,"post_id":70251022,"comment_id":124191644,"body_markdown":"You would also need to implement a circuit breaker, because otherwise you would still wait for a timeout in every operation. Even with a circuit breaker you might run out of resources, if the cache is not working. Not sure whether this will prove helpful. It will probably be counter productive since its masking random errors that need to be fixed.","body":"You would also need to implement a circuit breaker, because otherwise you would still wait for a timeout in every operation. Even with a circuit breaker you might run out of resources, if the cache is not working. Not sure whether this will prove helpful. It will probably be counter productive since its masking random errors that need to be fixed."},{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1638852556,"post_id":70251022,"comment_id":124191710,"body_markdown":"With respect to transactions: If your cache server gets offline and comes back and you just skip the updates, in case the cache is offline, your cache will be out of sync with the application. You either need to clear the cache or replay the missed updates before it is used again.","body":"With respect to transactions: If your cache server gets offline and comes back and you just skip the updates, in case the cache is offline, your cache will be out of sync with the application. You either need to clear the cache or replay the missed updates before it is used again."}],"owner":{"account_id":7706874,"reputation":23,"user_id":5837557,"display_name":"bobanman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638840765,"creation_date":1638819562,"question_id":70251022,"body_markdown":"I&#39;ve enabled Caching in my Spring Boot app and I use Redis to serve the purpose. \r\n\r\nMy Spring Configuration is: \r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @ConditionalOnProperty(\r\n\tvalue = &quot;spring.cache.enabled&quot;,\r\n\tmatchIfMissing = true)\r\n    public class CacheConfiguration {\r\n\r\n\t@Bean\r\n\tpublic CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n\t\treturn RedisCacheManager.builder(redisConnectionFactory)\r\n\t\t\t.cacheDefaults(buildDefault())\r\n\t\t\t.withInitialCacheConfigurations(buildFromSettings())\r\n\t\t\t.transactionAware()\r\n\t\t\t.build();\r\n\t}\r\n\r\n\tprivate Map&lt;String, RedisCacheConfiguration&gt; buildFromSettings() {\r\n\t\treturn Arrays.stream(CacheSettings.values()).collect(Collectors.toMap(CacheSettings::getCacheName, this::buildFromSettings));\r\n\t}\r\n\r\n\tprivate RedisCacheConfiguration buildDefault() {\r\n\t\treturn RedisCacheConfiguration.defaultCacheConfig()\r\n\t\t\t.prefixCacheNameWith(CacheSettings.DEFAULTS.getCacheName())\r\n\t\t\t.entryTtl(Duration.ofSeconds(CacheSettings.DEFAULTS.getTtl()));\r\n\t}\r\n\r\n\tprivate RedisCacheConfiguration buildFromSettings(CacheSettings cacheSettings) {\r\n\t\treturn RedisCacheConfiguration.defaultCacheConfig()\r\n\t\t\t.entryTtl(Duration.ofSeconds(cacheSettings.getTtl()));\r\n\t}\r\n\r\n    }\r\n\r\n\r\nHowever, whenever any problems with Redis server happens, for example timeout exception occurs, the app stops working whereas I think it had better skip the Caching and go on with normal execution flow.\r\n\r\nSo, does anyone have any idea on how to do it in Spring Boot?\r\n\r\nHere is the exception I got\r\n\r\n    org.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException\r\n\r\nI know, that I can simply extend `CachingConfigurerSupport` and only override the `errorHandler()` method, returning a custom `CacheErrorHandler` how to mentioned in this answer https://stackoverflow.com/a/68072419/1527469\r\n\r\nBut it works only if setting `RedisCacheManager transactionAware` to `false` \r\nas mentioned in this answer https://stackoverflow.com/a/66010262/5837557\r\n\r\nSo, my question is how to skip the Caching in Spring Boot with configuration settings `RedisCacheManager transactionAware` to `true`?","title":"Spring Boot Cache with Redis - How to skip Caching in case of Timeout exception","body":"<p>I've enabled Caching in my Spring Boot app and I use Redis to serve the purpose.</p>\n<p>My Spring Configuration is:</p>\n<pre><code>@Configuration\n@EnableCaching\n@ConditionalOnProperty(\nvalue = &quot;spring.cache.enabled&quot;,\nmatchIfMissing = true)\npublic class CacheConfiguration {\n\n@Bean\npublic CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\n    return RedisCacheManager.builder(redisConnectionFactory)\n        .cacheDefaults(buildDefault())\n        .withInitialCacheConfigurations(buildFromSettings())\n        .transactionAware()\n        .build();\n}\n\nprivate Map&lt;String, RedisCacheConfiguration&gt; buildFromSettings() {\n    return Arrays.stream(CacheSettings.values()).collect(Collectors.toMap(CacheSettings::getCacheName, this::buildFromSettings));\n}\n\nprivate RedisCacheConfiguration buildDefault() {\n    return RedisCacheConfiguration.defaultCacheConfig()\n        .prefixCacheNameWith(CacheSettings.DEFAULTS.getCacheName())\n        .entryTtl(Duration.ofSeconds(CacheSettings.DEFAULTS.getTtl()));\n}\n\nprivate RedisCacheConfiguration buildFromSettings(CacheSettings cacheSettings) {\n    return RedisCacheConfiguration.defaultCacheConfig()\n        .entryTtl(Duration.ofSeconds(cacheSettings.getTtl()));\n}\n\n}\n</code></pre>\n<p>However, whenever any problems with Redis server happens, for example timeout exception occurs, the app stops working whereas I think it had better skip the Caching and go on with normal execution flow.</p>\n<p>So, does anyone have any idea on how to do it in Spring Boot?</p>\n<p>Here is the exception I got</p>\n<pre><code>org.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException\n</code></pre>\n<p>I know, that I can simply extend <code>CachingConfigurerSupport</code> and only override the <code>errorHandler()</code> method, returning a custom <code>CacheErrorHandler</code> how to mentioned in this answer <a href=\"https://stackoverflow.com/a/68072419/1527469\">https://stackoverflow.com/a/68072419/1527469</a></p>\n<p>But it works only if setting <code>RedisCacheManager transactionAware</code> to <code>false</code>\nas mentioned in this answer <a href=\"https://stackoverflow.com/a/66010262/5837557\">https://stackoverflow.com/a/66010262/5837557</a></p>\n<p>So, my question is how to skip the Caching in Spring Boot with configuration settings <code>RedisCacheManager transactionAware</code> to <code>true</code>?</p>\n"},{"tags":["java","spring-boot","http","http-status-codes"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1638831266,"post_id":70252825,"comment_id":124188135,"body_markdown":"Take a look at [this](https://stackoverflow.com/questions/46470897/custom-http-status-code-in-spring).","body":"Take a look at <a href=\"https://stackoverflow.com/questions/46470897/custom-http-status-code-in-spring\">this</a>."},{"owner":{"account_id":299782,"reputation":1334,"user_id":1546453,"accept_rate":100,"display_name":"triplem"},"score":0,"creation_date":1638831550,"post_id":70252825,"comment_id":124188207,"body_markdown":"Guess that the status is stored as an object in the a Response Entity and you could use the rawStatus Method, which just takes an int. Would not do it, because you are breaking the contract and this could have strange side effects. Probably you could use a usual status code and return your custom code inside the body? Seems to be a better approach.","body":"Guess that the status is stored as an object in the a Response Entity and you could use the rawStatus Method, which just takes an int. Would not do it, because you are breaking the contract and this could have strange side effects. Probably you could use a usual status code and return your custom code inside the body? Seems to be a better approach."},{"owner":{"account_id":20560027,"reputation":31,"user_id":15090741,"display_name":"ab AL"},"score":0,"creation_date":1638870101,"post_id":70252825,"comment_id":124196443,"body_markdown":"@AndrewS The link you shared throw an exception and I am not looking for it","body":"@AndrewS The link you shared throw an exception and I am not looking for it"},{"owner":{"account_id":20560027,"reputation":31,"user_id":15090741,"display_name":"ab AL"},"score":0,"creation_date":1638870149,"post_id":70252825,"comment_id":124196462,"body_markdown":"@triplem can you write it down please how to achieve this.","body":"@triplem can you write it down please how to achieve this."},{"owner":{"account_id":299782,"reputation":1334,"user_id":1546453,"accept_rate":100,"display_name":"triplem"},"score":0,"creation_date":1638910173,"post_id":70252825,"comment_id":124212510,"body_markdown":"You could try\n\n    return new ResponseEntity&lt;Test&gt;(test, null, 4711);\n\nBut, like already stated, you will definitly break the contract and it could also mean, that Spring will not return this correctly (haven&#39;t tested).\nBetter would be something like an own Response-Object, which contains the Test-Object as well as your custom code, like already stated by frank in one of the above answers. This will not break any contract and gives you the freedom to do anything you like.","body":"You could try      return new ResponseEntity&lt;Test&gt;(test, null, 4711);  But, like already stated, you will definitly break the contract and it could also mean, that Spring will not return this correctly (haven&#39;t tested). Better would be something like an own Response-Object, which contains the Test-Object as well as your custom code, like already stated by frank in one of the above answers. This will not break any contract and gives you the freedom to do anything you like."}],"answers":[{"tags":[],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638840210,"creation_date":1638840210,"answer_id":70253891,"question_id":70252825,"body_markdown":"you could take a look at the link provided by Andrew S in the comment.\r\n\r\nanother option is encapsulate the response into a custom java bean via `@RestControllerAdvice`, this custom java bean looks like\r\n```\r\npublic class ResultVO&lt;T&gt; implements Serializable{\r\n\r\n    private int code;\r\n    private String msg;\r\n    private T data;\r\n```\r\nthen you could set any custom code in it.","title":"Create and Return a custom Http response code in Java Spring Boot","body":"<p>you could take a look at the link provided by Andrew S in the comment.</p>\n<p>another option is encapsulate the response into a custom java bean via <code>@RestControllerAdvice</code>, this custom java bean looks like</p>\n<pre><code>public class ResultVO&lt;T&gt; implements Serializable{\n\n    private int code;\n    private String msg;\n    private T data;\n</code></pre>\n<p>then you could set any custom code in it.</p>\n"},{"tags":[],"owner":{"account_id":12655916,"reputation":852,"user_id":10673107,"display_name":"A. Vreeswijk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638840690,"creation_date":1638840690,"answer_id":70253931,"question_id":70252825,"body_markdown":"You could write your custom exception like this:\r\n```\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\n@ResponseStatus(HttpStatus.NOT_FOUND)\r\npublic class AccountNotFoundException extends RuntimeException {\r\n    public AccountNotFoundException(Exception ex, int id) {\r\n        super(&quot;Account with id=&quot; + id + &quot; not found&quot;, ex);\r\n    }\r\n}\r\n```\r\n\r\nThen throw the exception wherever you want.\r\nWith @ResponseStatus you can give your exception it&#39;s own return code","title":"Create and Return a custom Http response code in Java Spring Boot","body":"<p>You could write your custom exception like this:</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class AccountNotFoundException extends RuntimeException {\n    public AccountNotFoundException(Exception ex, int id) {\n        super(&quot;Account with id=&quot; + id + &quot; not found&quot;, ex);\n    }\n}\n</code></pre>\n<p>Then throw the exception wherever you want.\nWith @ResponseStatus you can give your exception it's own return code</p>\n"}],"owner":{"account_id":20560027,"reputation":31,"user_id":15090741,"display_name":"ab AL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70253891,"answer_count":2,"score":0,"last_activity_date":1638840690,"creation_date":1638830278,"question_id":70252825,"body_markdown":"I want to create a custom http status code and want to return it with the response for specific use cases. I can not use the status codes like `OK`, `ACCEPTED` etc.\r\n\r\n```java\r\n@RequestMapping(value = &quot;/status/test&quot;, method = RequestMethod.PUT, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic ResponseEntity&lt;Test&gt; testStatus(@RequestBody Test test)\r\n    throws Exception {\r\n    // the below code is for status code 200\r\n\r\n    HttpStatus httpStatus = HttpStatus.OK;\r\n\r\n    // the above declaration declares the httpStatus with code 200 but I want to create\r\n    // a custom code like 234\r\n    \r\n    return new ResponseEntity&lt;Test&gt;(test,httpStatus);\r\n\r\n}\r\n```","title":"Create and Return a custom Http response code in Java Spring Boot","body":"<p>I want to create a custom http status code and want to return it with the response for specific use cases. I can not use the status codes like <code>OK</code>, <code>ACCEPTED</code> etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/status/test&quot;, method = RequestMethod.PUT, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Test&gt; testStatus(@RequestBody Test test)\n    throws Exception {\n    // the below code is for status code 200\n\n    HttpStatus httpStatus = HttpStatus.OK;\n\n    // the above declaration declares the httpStatus with code 200 but I want to create\n    // a custom code like 234\n    \n    return new ResponseEntity&lt;Test&gt;(test,httpStatus);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1638840225,"post_id":70253814,"comment_id":124189744,"body_markdown":"What if you had 26 more entity types to deal with? (In short, can you think of a solution that uses just 1 external entity id column?)","body":"What if you had 26 more entity types to deal with? (In short, can you think of a solution that uses just 1 external entity id column?)"},{"owner":{"account_id":20127010,"reputation":1,"user_id":14760227,"display_name":"FranciscoJ"},"score":0,"creation_date":1638841058,"post_id":70253814,"comment_id":124189885,"body_markdown":"All the tables in the diagram are local. The tables on the right have a column for their external entity id. The problem is not on the tables on the right, it&#39;s on the table on the left. Because if I had 26 more entity types, I&#39;d have 26 more columns in it (as foreign keys) creating a massive and somewhat disorganized table.","body":"All the tables in the diagram are local. The tables on the right have a column for their external entity id. The problem is not on the tables on the right, it&#39;s on the table on the left. Because if I had 26 more entity types, I&#39;d have 26 more columns in it (as foreign keys) creating a massive and somewhat disorganized table."}],"owner":{"account_id":20127010,"reputation":1,"user_id":14760227,"display_name":"FranciscoJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638839545,"creation_date":1638839545,"question_id":70253814,"body_markdown":"I&#39;m storing other APIs&#39; entities in my database, and using a central local entity related to them as a way to organize them (I need them to have a local ID but also be able to cache some of their information and request any extra information to their respective API if needed).\r\n\r\nI was thinking about using the following design but my boss says this wouldn&#39;t be good because the central table would have a lot of information (overloaded).\r\n\r\n[Class Diagram][1]\r\n\r\nThe resulting table for my central entity would be:\r\n\r\n[Central Table Fields][2]\r\n\r\nOnly one FK would have a value for every row, and the remaining would be null. \r\nI don&#39;t know if I could use some design pattern or any other alternative to do this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0WiBm.png\r\n  [2]: https://i.stack.imgur.com/NbMY0.png","title":"Alternative to an entity related to many other entities but only to one at the same time","body":"<p>I'm storing other APIs' entities in my database, and using a central local entity related to them as a way to organize them (I need them to have a local ID but also be able to cache some of their information and request any extra information to their respective API if needed).</p>\n<p>I was thinking about using the following design but my boss says this wouldn't be good because the central table would have a lot of information (overloaded).</p>\n<p><a href=\"https://i.stack.imgur.com/0WiBm.png\" rel=\"nofollow noreferrer\">Class Diagram</a></p>\n<p>The resulting table for my central entity would be:</p>\n<p><a href=\"https://i.stack.imgur.com/NbMY0.png\" rel=\"nofollow noreferrer\">Central Table Fields</a></p>\n<p>Only one FK would have a value for every row, and the remaining would be null.\nI don't know if I could use some design pattern or any other alternative to do this.</p>\n"},{"tags":["java","maven","jar","dropwizard"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1582036300,"post_id":60282934,"comment_id":106632627,"body_markdown":"The error is telling you a class io.dropwizard.Application is required but is not found, that sounds like a missing extra jar which needs to be available on the application runtime classpath. Does the manifest have a class-path line?","body":"The error is telling you a class io.dropwizard.Application is required but is not found, that sounds like a missing extra jar which needs to be available on the application runtime classpath. Does the manifest have a class-path line?"},{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1582040836,"post_id":60282934,"comment_id":106635424,"body_markdown":"@Gimby there is no class-path line in manifest","body":"@Gimby there is no class-path line in manifest"},{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1582133544,"post_id":60282934,"comment_id":106675454,"body_markdown":"@Gimby can you tell me how to add a class-path line in manifest","body":"@Gimby can you tell me how to add a class-path line in manifest"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1582188822,"post_id":60282934,"comment_id":106693555,"body_markdown":"Maven should do that for you if the plugins are configured correctly. It is quite well documented. You may want to create a fat jar by using the Maven Shade plugin though, then you have only one (big) jar to worry about.","body":"Maven should do that for you if the plugins are configured correctly. It is quite well documented. You may want to create a fat jar by using the Maven Shade plugin though, then you have only one (big) jar to worry about."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1582690006,"post_id":60282934,"comment_id":106860344,"body_markdown":"Follow [the documentation](https://www.dropwizard.io/en/latest/getting-started.html) to a T, including the pom.xml.","body":"Follow <a href=\"https://www.dropwizard.io/en/latest/getting-started.html\" rel=\"nofollow noreferrer\">the documentation</a> to a T, including the pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":1634880,"reputation":760,"user_id":1508646,"accept_rate":100,"display_name":"Nishant Mendiratta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638839486,"creation_date":1638839486,"answer_id":70253807,"question_id":60282934,"body_markdown":"I was able to fix this issue by following the [documentation][1].\r\n\r\nHere is the sample `pom.xml` for reference \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard/dropwizard-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard/dropwizard-db --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-db&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard/dropwizard-hibernate --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-hibernate&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;com.example.helloworld.HelloWorldApplication&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://www.dropwizard.io/en/latest/getting-started.html#building-fat-jars","title":"Error: Could not find or load main class while executing a .jar file","body":"<p>I was able to fix this issue by following the <a href=\"https://www.dropwizard.io/en/latest/getting-started.html#building-fat-jars\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>Here is the sample <code>pom.xml</code> for reference</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;example&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.dropwizard/dropwizard-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n        &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.dropwizard/dropwizard-db --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n        &lt;artifactId&gt;dropwizard-db&lt;/artifactId&gt;\n        &lt;version&gt;2.0.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.dropwizard/dropwizard-hibernate --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n        &lt;artifactId&gt;dropwizard-hibernate&lt;/artifactId&gt;\n        &lt;version&gt;2.0.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;com.example.helloworld.HelloWorldApplication&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638839486,"creation_date":1582035424,"question_id":60282934,"body_markdown":"I have created a Dropwizard application using Intellij.\r\n(Here `com.indore.GalaxyApp` is name of my `MainClass)`\r\n\r\nThis is the [pom.xml][1] of my application.\r\n\r\nAfter building the project using `mvn clean package`, in my `target` directory a `jar` file is created.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNow, I am trying to run the application with the jar file through terminal, I get the following response :\r\n\r\n[![enter image description here][4]][4]\r\n\r\n \r\n   \r\n[![enter image description here][5]][5]\r\n**MANIFEST.MF**\r\n\r\n[![enter image description here][6]][6]\r\n\r\nIn order to make the `jar` executable \r\n\r\n1. I have configured the Maven Archiver and added the following plugin in `pom.xml` acc to this [SO answer][7]\r\n\r\n   [![enter image description here][8]][8]\r\n\r\n2. I even run the application by:\r\n\r\n    java -cp target/galaxy-1.0-SNAPSHOT.jar com.indore.GalaxyApp\r\n\r\nbut still getting the same error.\r\n\r\n\r\n\r\n\r\nI have referred to these post :\r\n\r\n[setup-main-class-in-manifest][9], [Cant execute jar file][7]\r\n\r\nCan anyone tell me a way to fix this issue?? \r\n\r\n\r\n  [1]: https://github.com/bhavya121999/ServerCode/blob/master/pom.xml\r\n  [2]: https://i.stack.imgur.com/dNNVs.png\r\n  [3]: https://i.stack.imgur.com/ZzDIa.png\r\n  [4]: https://i.stack.imgur.com/JPPRu.png\r\n  [5]: https://i.stack.imgur.com/HYtD2.png\r\n  [6]: https://i.stack.imgur.com/JwFvc.png\r\n  [7]: https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\r\n  [8]: https://i.stack.imgur.com/UrGQl.png\r\n  [9]: https://stackoverflow.com/questions/2848642/how-to-setup-main-class-in-manifest-file-in-jar-produced-by-netbeans-project","title":"Error: Could not find or load main class while executing a .jar file","body":"<p>I have created a Dropwizard application using Intellij.\n(Here <code>com.indore.GalaxyApp</code> is name of my <code>MainClass)</code></p>\n\n<p>This is the <a href=\"https://github.com/bhavya121999/ServerCode/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a> of my application.</p>\n\n<p>After building the project using <code>mvn clean package</code>, in my <code>target</code> directory a <code>jar</code> file is created.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dNNVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNNVs.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZzDIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZzDIa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, I am trying to run the application with the jar file through terminal, I get the following response :</p>\n\n<p><a href=\"https://i.stack.imgur.com/JPPRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JPPRu.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/HYtD2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HYtD2.png\" alt=\"enter image description here\"></a>\n<strong>MANIFEST.MF</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/JwFvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JwFvc.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to make the <code>jar</code> executable </p>\n\n<ol>\n<li><p>I have configured the Maven Archiver and added the following plugin in <code>pom.xml</code> acc to this <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">SO answer</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/UrGQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UrGQl.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>I even run the application by:</p>\n\n<p>java -cp target/galaxy-1.0-SNAPSHOT.jar com.indore.GalaxyApp</p></li>\n</ol>\n\n<p>but still getting the same error.</p>\n\n<p>I have referred to these post :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2848642/how-to-setup-main-class-in-manifest-file-in-jar-produced-by-netbeans-project\">setup-main-class-in-manifest</a>, <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">Cant execute jar file</a></p>\n\n<p>Can anyone tell me a way to fix this issue?? </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638839006,"post_id":70253728,"comment_id":124189537,"body_markdown":"So you want to load an HTML file into a webview or actual websites?","body":"So you want to load an HTML file into a webview or actual websites?"},{"owner":{"account_id":23568054,"reputation":11,"user_id":17608543,"display_name":"Jane R. Sandoval"},"score":0,"creation_date":1638839538,"post_id":70253728,"comment_id":124189622,"body_markdown":"on html page links go to actual websites but i need to show button inside the app when user click to link start with example.com but if the user click on link start with anther url don&#39;t show the button","body":"on html page links go to actual websites but i need to show button inside the app when user click to link start with example.com but if the user click on link start with anther url don&#39;t show the button"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638839777,"post_id":70253728,"comment_id":124189657,"body_markdown":"You can add `&lt;button&gt;` tags inside the HTML. Otherwise, you need to write a bit more code to detect when then WebView navigates away/to any certain page; you won&#39;t be able to capture HTML link click events","body":"You can add <code>&lt;button&gt;</code> tags inside the HTML. Otherwise, you need to write a bit more code to detect when then WebView navigates away/to any certain page; you won&#39;t be able to capture HTML link click events"}],"owner":{"account_id":23568054,"reputation":11,"user_id":17608543,"display_name":"Jane R. Sandoval"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638839177,"creation_date":1638838555,"question_id":70253728,"body_markdown":"I Have java application using web view the app load links from assets folder in this assets folder index page have more than links\r\n\r\n    for example these links are\r\n    https://google.com\r\n    https://stackoverflow.com\r\n    https://youtube.com\r\n    ..etc\r\n\r\nI Just need to display button with id (@+id/button) when user click on any link start with stack over flow \r\nfor example user click on one off these links\r\n\r\n    https://example.com/post/70253485/\r\n    https://example.com/post/89655365/\r\n    https://example.com/post/82683422/\r\n    ....more links like this\r\n\r\njava\r\n\r\n    webView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n\r\n\r\nactivity_main\r\n    &lt;Button\r\n        android:id=&quot;@+id/mode&quot;/&gt;\r\n\r\n","title":"Java webview specific link","body":"<p>I Have java application using web view the app load links from assets folder in this assets folder index page have more than links</p>\n<pre><code>for example these links are\nhttps://google.com\nhttps://stackoverflow.com\nhttps://youtube.com\n..etc\n</code></pre>\n<p>I Just need to display button with id (@+id/button) when user click on any link start with stack over flow\nfor example user click on one off these links</p>\n<pre><code>https://example.com/post/70253485/\nhttps://example.com/post/89655365/\nhttps://example.com/post/82683422/\n....more links like this\n</code></pre>\n<p>java</p>\n<pre><code>webView.loadUrl(&quot;file:///android_asset/index.html&quot;);\n</code></pre>\n<p>activity_main\n</p>\n"},{"tags":["java","intellij-idea","javafx","module","openjfx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638838427,"creation_date":1638835093,"answer_id":70253393,"question_id":70252648,"body_markdown":"I’m sure this is a duplicate, but rather than writing lots of comments and digging to find duplicates, I’ll just add an answer.  Then I can at least update it and link back to it for future similar questions.\r\n\r\nThese errors are usually environmental, so fixes usually rely on fixing your environment.\r\n\r\nRead and follow documentation at openjfx.io.  If you do so correctly, you will not have this issue.\r\n\r\nSome suggestions.\r\n\r\n 1. If you have a module-info, you don&#39;t need to add-modules as a command line option, the module info already tells the system what modules are needed.\r\n\r\n 2. For the module path, rather than using the JavaFX SDK, I recommend using a build tool like gradle or maven, which will automatically place the dependencies on the module path.\r\n\r\n 3. As you are using intellij, I recommend you create a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html), check that that works, and if it does, then copy your code into the new project.\r\n\r\n 4. Your module-info should export the package with your application and open the packages which use `@FXML` to `javafx.fxml`.  \r\n\r\n    * See [openjfx.io doc, Idea, modular from IDE 3. Add the module-info class](https://openjfx.io/openjfx-docs/#IDE-Intellij).\r\n\r\n    * Adjust the example for your module and package names:   \r\n\r\n          module com.example.packagefx {\r\n              requires javafx.controls;\r\n              requires javafx.fxml;\r\n      \r\n              opens com.example.packagefx to javafx.fxml;\r\n              exports com.example.packagefx;\r\n          }\r\n\r\n5. If you are just unable to solve issues with the module system, either:\r\n\r\n   * Use a JavaFX distribution that includes JavaFX (e.g. Bellsoft [liberica](https://bell-sw.com/pages/downloads/#/java-17-lts%20/%20current)) OR \r\n   * Perform the [launcher hack](https://stackoverflow.com/a/67668560/1155209) to run JavaFX off the classpath (unsupported configuration, but will likely work fine with little hassle other than some warning messages).\r\n\r\n 6. Double-check that you really have [added VM arguments](https://stackoverflow.com/questions/50938383/how-to-set-jvm-arguments-in-intellij-idea) and not program arguments (recent iterations of the Idea UI are confusing in this regard).\r\n\r\n","title":"Popular problem &quot;Error occurred during initialization of boot layer&quot;","body":"<p>I’m sure this is a duplicate, but rather than writing lots of comments and digging to find duplicates, I’ll just add an answer.  Then I can at least update it and link back to it for future similar questions.</p>\n<p>These errors are usually environmental, so fixes usually rely on fixing your environment.</p>\n<p>Read and follow documentation at openjfx.io.  If you do so correctly, you will not have this issue.</p>\n<p>Some suggestions.</p>\n<ol>\n<li><p>If you have a module-info, you don't need to add-modules as a command line option, the module info already tells the system what modules are needed.</p>\n</li>\n<li><p>For the module path, rather than using the JavaFX SDK, I recommend using a build tool like gradle or maven, which will automatically place the dependencies on the module path.</p>\n</li>\n<li><p>As you are using intellij, I recommend you create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a>, check that that works, and if it does, then copy your code into the new project.</p>\n</li>\n<li><p>Your module-info should export the package with your application and open the packages which use <code>@FXML</code> to <code>javafx.fxml</code>.</p>\n<ul>\n<li><p>See <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">openjfx.io doc, Idea, modular from IDE 3. Add the module-info class</a>.</p>\n</li>\n<li><p>Adjust the example for your module and package names:</p>\n<pre><code>module com.example.packagefx {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens com.example.packagefx to javafx.fxml;\n    exports com.example.packagefx;\n}\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>If you are just unable to solve issues with the module system, either:</p>\n<ul>\n<li>Use a JavaFX distribution that includes JavaFX (e.g. Bellsoft <a href=\"https://bell-sw.com/pages/downloads/#/java-17-lts%20/%20current\" rel=\"nofollow noreferrer\">liberica</a>) OR</li>\n<li>Perform the <a href=\"https://stackoverflow.com/a/67668560/1155209\">launcher hack</a> to run JavaFX off the classpath (unsupported configuration, but will likely work fine with little hassle other than some warning messages).</li>\n</ul>\n</li>\n<li><p>Double-check that you really have <a href=\"https://stackoverflow.com/questions/50938383/how-to-set-jvm-arguments-in-intellij-idea\">added VM arguments</a> and not program arguments (recent iterations of the Idea UI are confusing in this regard).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18163575,"reputation":37,"user_id":13214576,"display_name":"markiewicz36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638838427,"creation_date":1638829085,"question_id":70252648,"body_markdown":"I know the topic has come up a few times, but no solution helps.... I&#39;m getting this error:\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module sample not found\r\n\r\nI added VM options:\r\n\r\n    --module-path &quot;C:\\Users\\xxx\\Downloads\\openjfx-17.0.1_windows-x64_bin-sdk\\javafx-sdk-17.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml\r\n\r\nI created module-info file:\r\n\r\n    module sample {\r\n        requires javafx.controls;\r\n        requires javafx.graphics;\r\n        requires javafx.fxml;\r\n        requires java.desktop;\r\n    \r\n        opens sample;\r\n    }\r\n\r\nAnd nothing... The program won&#39;t start. I&#39;m out of ideas. Can someone give me a hint? :) ","title":"Popular problem &quot;Error occurred during initialization of boot layer&quot;","body":"<p>I know the topic has come up a few times, but no solution helps.... I'm getting this error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module sample not found\n</code></pre>\n<p>I added VM options:</p>\n<pre><code>--module-path &quot;C:\\Users\\xxx\\Downloads\\openjfx-17.0.1_windows-x64_bin-sdk\\javafx-sdk-17.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n<p>I created module-info file:</p>\n<pre><code>module sample {\n    requires javafx.controls;\n    requires javafx.graphics;\n    requires javafx.fxml;\n    requires java.desktop;\n\n    opens sample;\n}\n</code></pre>\n<p>And nothing... The program won't start. I'm out of ideas. Can someone give me a hint? :)</p>\n"},{"tags":["java","python","image","matlab","image-processing"],"answers":[{"tags":[],"owner":{"account_id":3473749,"reputation":12533,"user_id":2907532,"display_name":"lennon310"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1388260718,"creation_date":1388260718,"answer_id":20818761,"question_id":20818230,"body_markdown":"Temporal characterization occurs when you have a series of images taken at different time. Correlations between the images are often used to monitor the dynamic changes of the object. \r\n\r\nSpatial characterization applies when you are analyzing one image. It includes but not limited to the coordinates, intensity, gradient, resolution, to name only a few. \r\n\r\nCheck this paper on [blood vessel analysis][1] to get more details among the two.\r\n\r\n\r\n  [1]: http://www.siue.edu/~sumbaug/RetinalProjectPapers/Spatio-temporal%20characterization%20of%20vessel%20segments%20applied%20to%20retinal%20angiographic%20images.pdf","title":"what&#39;s the difference between spatial and temporal characterization in terms of image processing?","body":"<p>Temporal characterization occurs when you have a series of images taken at different time. Correlations between the images are often used to monitor the dynamic changes of the object. </p>\n\n<p>Spatial characterization applies when you are analyzing one image. It includes but not limited to the coordinates, intensity, gradient, resolution, to name only a few. </p>\n\n<p>Check this paper on <a href=\"http://www.siue.edu/~sumbaug/RetinalProjectPapers/Spatio-temporal%20characterization%20of%20vessel%20segments%20applied%20to%20retinal%20angiographic%20images.pdf\" rel=\"noreferrer\">blood vessel analysis</a> to get more details among the two.</p>\n"},{"tags":[],"owner":{"account_id":5809508,"reputation":53,"user_id":4581079,"accept_rate":33,"display_name":"Buvaneswari Sekar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446042323,"creation_date":1446042323,"answer_id":33393680,"question_id":20818230,"body_markdown":"Spatial = Space\r\nExample, Image consist of pixel values which needs memory space to store. Spatial information = Pixel values stored into Memory  \r\nTemporal = Time\r\nExample, Video consists of image frame sequence. With respect to time the frames are changed in video. This is called Temporal Information.","title":"what&#39;s the difference between spatial and temporal characterization in terms of image processing?","body":"<p>Spatial = Space\nExample, Image consist of pixel values which needs memory space to store. Spatial information = Pixel values stored into Memory<br>\nTemporal = Time\nExample, Video consists of image frame sequence. With respect to time the frames are changed in video. This is called Temporal Information.</p>\n"},{"tags":[],"owner":{"account_id":5650723,"reputation":1,"user_id":4471447,"display_name":"V K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638838265,"creation_date":1638838265,"answer_id":70253700,"question_id":20818230,"body_markdown":"Example of Spatial analysis application: Inspecting an image e.g. pose estimation on an image.\r\n\r\nExample of Temporal analysis application: Inspecting a video e.g. vehicle monitoring or pedestrian path prediction","title":"what&#39;s the difference between spatial and temporal characterization in terms of image processing?","body":"<p>Example of Spatial analysis application: Inspecting an image e.g. pose estimation on an image.</p>\n<p>Example of Temporal analysis application: Inspecting a video e.g. vehicle monitoring or pedestrian path prediction</p>\n"}],"owner":{"account_id":3783955,"reputation":133,"user_id":3142542,"display_name":"a077456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74301,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":20818761,"answer_count":3,"score":13,"last_activity_date":1638838265,"creation_date":1388257355,"question_id":20818230,"body_markdown":"I am a beginner in learning image processing and I am a bit confused with the concept of spatial and temporal characterization.  So, for Spatial characterization, is it like a 2D map which contains some statistical information about the map?  And in terms of the temporal characterization, is the value with respect to time?  What does it mean and why do we care?  Thanks!","title":"what&#39;s the difference between spatial and temporal characterization in terms of image processing?","body":"<p>I am a beginner in learning image processing and I am a bit confused with the concept of spatial and temporal characterization.  So, for Spatial characterization, is it like a 2D map which contains some statistical information about the map?  And in terms of the temporal characterization, is the value with respect to time?  What does it mean and why do we care?  Thanks!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1638512248,"post_id":70209870,"comment_id":124113161,"body_markdown":"What&#39;s the relationship between `Liquor[] invLiquor = new Liquor[sizeLiquor];` and `Liquor[] inv = new Liquor[sizeInv];` ?","body":"What&#39;s the relationship between <code>Liquor[] invLiquor = new Liquor[sizeLiquor];</code> and <code>Liquor[] inv = new Liquor[sizeInv];</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":1500413,"reputation":320,"user_id":1405280,"accept_rate":80,"display_name":"Tanbir Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638512700,"creation_date":1638512700,"answer_id":70210286,"question_id":70209870,"body_markdown":"The main issue here is your `invLiquor` array. My guess is you want to use `invLiquor` to store all the `inv`s. In it&#39;s current form `invLiquor` does not have any association with `inv`s. You might want to use a `2D array` of `Liquor`, where the `row` will be the `liquor` categories. Here is a `pseudo` code that might be helpful.\r\n\r\n    // m = category count; n = item in each category;\r\n    \r\n    Liquor[][] invLiquor = new Liquor[m][n]; \r\n     \r\n    for(int i=0;i&lt;invLiquor.length();i++){\r\n        System.out.println(&quot;\\nWhich liquor are we counting?&quot;);\r\n        String type = keyboard.next();\r\n        \r\n        for(int j=0;j&lt;invLiquor[i].length();j++){\r\n             invLiquor[i][j].setLiquorType(type);\r\n             invLiquor[i][j] = new Liquor();\r\n             System.out.println(&quot;What is the product name?: &quot;);\r\n             invLiquor[i][j].setLiquorName(keyboard.next());\r\n             System.out.println(&quot;What is the count?: &quot;);\r\n             invLiquor[i][j].setLiquorCount(keyboard.nextDouble());\r\n             System.out.println(&quot;What is the cost?: &quot;);\r\n             invLiquor[i][j].setLiquorCost(keyboard.nextDouble());\r\n        }\r\n    \r\n    }\r\n    double thisLiquorTotal = GetCostTotal(invLiquor);\r\n    System.out.println(&quot;\\nThe total cost of the liquor inventory is: $&quot; + thisLiquorTotal);\r\n\r\n    // the GetCostTotal method\r\n    double GetCostTotal(Liquor[][] invLiquor){\r\n        double totalCost = 0;\r\n        for(int i=0;i&lt;invLiquor.length();i++){\r\n           double sum = 0;\r\n           for(int j=0;j&lt;invLiquor[i].length();j++){\r\n              sum+=invLiquor[i][j];\r\n           }\r\n           System.out.println(&quot;\\nThe total cost of the &quot; + invLiquor[i][0].getLiquorType() + \r\n                &quot; inventory is: $&quot; + sum);\r\n           totalCost+=sum;\r\n    \r\n        }\r\n       return totalCost;\r\n    }\r\n\r\nThis is a simple demo with a fixed number of `Liquor` in each category. If you want to have a different number of `Liquor` in different categories you might use an `Array` of `Collections` like `LinkedList`or `ArrayList`.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to add totals of array list object data after populating the array using a separate method","body":"<p>The main issue here is your <code>invLiquor</code> array. My guess is you want to use <code>invLiquor</code> to store all the <code>inv</code>s. In it's current form <code>invLiquor</code> does not have any association with <code>inv</code>s. You might want to use a <code>2D array</code> of <code>Liquor</code>, where the <code>row</code> will be the <code>liquor</code> categories. Here is a <code>pseudo</code> code that might be helpful.</p>\n<pre><code>// m = category count; n = item in each category;\n\nLiquor[][] invLiquor = new Liquor[m][n]; \n \nfor(int i=0;i&lt;invLiquor.length();i++){\n    System.out.println(&quot;\\nWhich liquor are we counting?&quot;);\n    String type = keyboard.next();\n    \n    for(int j=0;j&lt;invLiquor[i].length();j++){\n         invLiquor[i][j].setLiquorType(type);\n         invLiquor[i][j] = new Liquor();\n         System.out.println(&quot;What is the product name?: &quot;);\n         invLiquor[i][j].setLiquorName(keyboard.next());\n         System.out.println(&quot;What is the count?: &quot;);\n         invLiquor[i][j].setLiquorCount(keyboard.nextDouble());\n         System.out.println(&quot;What is the cost?: &quot;);\n         invLiquor[i][j].setLiquorCost(keyboard.nextDouble());\n    }\n\n}\ndouble thisLiquorTotal = GetCostTotal(invLiquor);\nSystem.out.println(&quot;\\nThe total cost of the liquor inventory is: $&quot; + thisLiquorTotal);\n\n// the GetCostTotal method\ndouble GetCostTotal(Liquor[][] invLiquor){\n    double totalCost = 0;\n    for(int i=0;i&lt;invLiquor.length();i++){\n       double sum = 0;\n       for(int j=0;j&lt;invLiquor[i].length();j++){\n          sum+=invLiquor[i][j];\n       }\n       System.out.println(&quot;\\nThe total cost of the &quot; + invLiquor[i][0].getLiquorType() + \n            &quot; inventory is: $&quot; + sum);\n       totalCost+=sum;\n\n    }\n   return totalCost;\n}\n</code></pre>\n<p>This is a simple demo with a fixed number of <code>Liquor</code> in each category. If you want to have a different number of <code>Liquor</code> in different categories you might use an <code>Array</code> of <code>Collections</code> like <code>LinkedList</code>or <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user17400890"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638837721,"creation_date":1638837721,"answer_id":70253639,"question_id":70209870,"body_markdown":"Just had the setLiquorType(type) part in the wrong spot. Answer below. Thanks all!\r\n        \r\n        System.out.println(&quot;\\nLet&#39;s start with liquor.&quot;);\r\n                System.out.println(&quot;How many different liquors are we counting today?: &quot;);\r\n                final int LIQUORINV = keyboard.nextInt();\r\n                System.out.println(&quot;How man of each liquor?: &quot;);\r\n                final int EACHCOUNT = keyboard.nextInt();\r\n                Liquor[][] invLiquor = new Liquor[LIQUORINV][EACHCOUNT];\r\n                for( int i=0; i &lt; invLiquor.length; i++){    \r\n                    System.out.println(&quot;\\nWhich liquor are we counting?&quot;);\r\n                    String type = keyboard.next();\r\n                    for( int j=0; j &lt; invLiquor[i].length; j++){\r\n                        invLiquor[i][j] = new Liquor();\r\n                        invLiquor[i][j].setLiquorType(type);\r\n                        System.out.println(&quot;What is the product name?: &quot;);\r\n                        invLiquor[i][j].setLiquorName(keyboard.next());\r\n                        System.out.println(&quot;What is the count?: &quot;);\r\n                        invLiquor[i][j].setLiquorCount(keyboard.nextDouble());\r\n                        System.out.println(&quot;What is the cost?: &quot;);\r\n                        invLiquor[i][j].setLiquorCost(keyboard.nextDouble());\r\n                    }\r\n    \r\n    double liquorCost = GetLiquorCostTotal(invLiquor);\r\n            System.out.println(&quot;\\nThe total cost of the liquor inventory is: $&quot; + liquorCost);\r\n    \r\n    public static double GetLiquorCostTotal(Liquor[][] inv){\r\n            double totalCost = 0;\r\n            for( int i=0; i &lt; inv.length; i++){\r\n                double sum = 0;\r\n                for( int j=0; j &lt; inv[i].length; j++){\r\n                    sum += (inv[i][j].getLiquorCost() * inv[i][j].getLiquorCount());\r\n                }\r\n                totalCost+=sum;\r\n            }\r\n            return totalCost;\r\n        }","title":"How to add totals of array list object data after populating the array using a separate method","body":"<p>Just had the setLiquorType(type) part in the wrong spot. Answer below. Thanks all!</p>\n<pre><code>    System.out.println(&quot;\\nLet's start with liquor.&quot;);\n            System.out.println(&quot;How many different liquors are we counting today?: &quot;);\n            final int LIQUORINV = keyboard.nextInt();\n            System.out.println(&quot;How man of each liquor?: &quot;);\n            final int EACHCOUNT = keyboard.nextInt();\n            Liquor[][] invLiquor = new Liquor[LIQUORINV][EACHCOUNT];\n            for( int i=0; i &lt; invLiquor.length; i++){    \n                System.out.println(&quot;\\nWhich liquor are we counting?&quot;);\n                String type = keyboard.next();\n                for( int j=0; j &lt; invLiquor[i].length; j++){\n                    invLiquor[i][j] = new Liquor();\n                    invLiquor[i][j].setLiquorType(type);\n                    System.out.println(&quot;What is the product name?: &quot;);\n                    invLiquor[i][j].setLiquorName(keyboard.next());\n                    System.out.println(&quot;What is the count?: &quot;);\n                    invLiquor[i][j].setLiquorCount(keyboard.nextDouble());\n                    System.out.println(&quot;What is the cost?: &quot;);\n                    invLiquor[i][j].setLiquorCost(keyboard.nextDouble());\n                }\n\ndouble liquorCost = GetLiquorCostTotal(invLiquor);\n        System.out.println(&quot;\\nThe total cost of the liquor inventory is: $&quot; + liquorCost);\n\npublic static double GetLiquorCostTotal(Liquor[][] inv){\n        double totalCost = 0;\n        for( int i=0; i &lt; inv.length; i++){\n            double sum = 0;\n            for( int j=0; j &lt; inv[i].length; j++){\n                sum += (inv[i][j].getLiquorCost() * inv[i][j].getLiquorCount());\n            }\n            totalCost+=sum;\n        }\n        return totalCost;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user17400890"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70210286,"answer_count":2,"score":0,"last_activity_date":1638837721,"creation_date":1638508976,"question_id":70209870,"body_markdown":"initialized the second array dimension but still getting a null pointer exception.\r\n    \r\n    \r\n    \r\n        final int LIQUORINV = 8;\r\n        final int EACHCOUNT = 10;\r\n        Liquor[][] invLiquor = new Liquor[LIQUORINV][EACHCOUNT];\r\n        for( int i=0; i &lt;= invLiquor.length; i++){\r\n            System.out.println(&quot;\\nWhich liquor are we counting?&quot;);\r\n            String type = keyboard.next();\r\n            for( int j=0; j &lt; invLiquor[i].length; j++){\r\n                invLiquor[i][j].setLiquorType(type);\r\n                invLiquor[i][j] = new Liquor();\r\n                System.out.println(&quot;What is the product name?: &quot;);\r\n                invLiquor[i][j].setLiquorName(keyboard.next());\r\n                System.out.println(&quot;What is the count?: &quot;);\r\n                invLiquor[i][j].setLiquorCount(keyboard.nextDouble());\r\n                System.out.println(&quot;What is the cost?: &quot;);\r\n                invLiquor[i][j].setLiquorCost(keyboard.nextDouble());\r\n            }\r\n        }\r\n    \r\nI think I did fix this next part however. so that&#39;s solved at least.\r\n    \r\n    \r\n    public static double GetLiquorCostTotal(Liquor[][] inv){\r\n        double totalCost = 0;\r\n        for( int i=0; i &lt; inv.length; i++){\r\n            double sum = 0;\r\n            for( int j=0; j &lt; inv[i].length; j++){\r\n                sum += (inv[i][j].getLiquorCost() * inv[i][j].getLiquorCount());\r\n            }\r\n            System.out.println(&quot;\\nThe total cost of the &quot; + inv[i][0].getLiquorType() + \r\n                &quot; inventory is: $&quot; + sum);\r\n            totalCost+=sum;\r\n        }\r\n        return totalCost;\r\n    }\r\n\r\n","title":"How to add totals of array list object data after populating the array using a separate method","body":"<p>initialized the second array dimension but still getting a null pointer exception.</p>\n<pre><code>    final int LIQUORINV = 8;\n    final int EACHCOUNT = 10;\n    Liquor[][] invLiquor = new Liquor[LIQUORINV][EACHCOUNT];\n    for( int i=0; i &lt;= invLiquor.length; i++){\n        System.out.println(&quot;\\nWhich liquor are we counting?&quot;);\n        String type = keyboard.next();\n        for( int j=0; j &lt; invLiquor[i].length; j++){\n            invLiquor[i][j].setLiquorType(type);\n            invLiquor[i][j] = new Liquor();\n            System.out.println(&quot;What is the product name?: &quot;);\n            invLiquor[i][j].setLiquorName(keyboard.next());\n            System.out.println(&quot;What is the count?: &quot;);\n            invLiquor[i][j].setLiquorCount(keyboard.nextDouble());\n            System.out.println(&quot;What is the cost?: &quot;);\n            invLiquor[i][j].setLiquorCost(keyboard.nextDouble());\n        }\n    }\n</code></pre>\n<p>I think I did fix this next part however. so that's solved at least.</p>\n<pre><code>public static double GetLiquorCostTotal(Liquor[][] inv){\n    double totalCost = 0;\n    for( int i=0; i &lt; inv.length; i++){\n        double sum = 0;\n        for( int j=0; j &lt; inv[i].length; j++){\n            sum += (inv[i][j].getLiquorCost() * inv[i][j].getLiquorCount());\n        }\n        System.out.println(&quot;\\nThe total cost of the &quot; + inv[i][0].getLiquorType() + \n            &quot; inventory is: $&quot; + sum);\n        totalCost+=sum;\n    }\n    return totalCost;\n}\n</code></pre>\n"},{"tags":["java","scenebuilder"],"comments":[{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1638821783,"post_id":70250541,"comment_id":124185296,"body_markdown":"Does this help? https://stackoverflow.com/questions/57422568/cant-understand-the-language-of-scene-builder-user-interface","body":"Does this help? <a href=\"https://stackoverflow.com/questions/57422568/cant-understand-the-language-of-scene-builder-user-interface\" title=\"cant understand the language of scene builder user interface\">stackoverflow.com/questions/57422568/&hellip;</a>"},{"owner":{"account_id":22457861,"reputation":97,"user_id":16660290,"display_name":"notrly"},"score":0,"creation_date":1638826802,"post_id":70250541,"comment_id":124186873,"body_markdown":"Unfortunately, no :(","body":"Unfortunately, no :("},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1638836593,"post_id":70250541,"comment_id":124189153,"body_markdown":"It does not seem like problem is with Scene Builder (of course it is not). I saw this kind of &quot;weird&quot; symbols when i tried to run my jar application on some Mac (do not know model or version), are you using mac? Maybe try different JDK/JRE in your system.","body":"It does not seem like problem is with Scene Builder (of course it is not). I saw this kind of &quot;weird&quot; symbols when i tried to run my jar application on some Mac (do not know model or version), are you using mac? Maybe try different JDK/JRE in your system."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1638836875,"post_id":70250541,"comment_id":124189181,"body_markdown":"Does this answer your question? [Scene Builder Editor displaying weird characters](https://stackoverflow.com/questions/65150438/scene-builder-editor-displaying-weird-characters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65150438/scene-builder-editor-displaying-weird-characters\">Scene Builder Editor displaying weird characters</a>"}],"answers":[{"tags":[],"owner":{"account_id":22457861,"reputation":97,"user_id":16660290,"display_name":"notrly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638837067,"creation_date":1638836611,"answer_id":70253550,"question_id":70250541,"body_markdown":"add the second line below right after you declare the Parent\r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n    root.setStyle(&quot;-fx-font-family: &#39;Times New Roman&#39;;&quot;);","title":"Java Scene Builder not In English","body":"<p>add the second line below right after you declare the Parent</p>\n<pre><code>Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\nroot.setStyle(&quot;-fx-font-family: 'Times New Roman';&quot;);\n</code></pre>\n"}],"owner":{"account_id":22457861,"reputation":97,"user_id":16660290,"display_name":"notrly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1638837020,"answer_count":1,"score":1,"last_activity_date":1638837067,"creation_date":1638817237,"question_id":70250541,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VYD0B.png\r\n\r\nHow do I switch Scene Builder to English? Did I download the wrong version of Java or is this something I can change in settings?","title":"Java Scene Builder not In English","body":"<p><a href=\"https://i.stack.imgur.com/VYD0B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYD0B.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I switch Scene Builder to English? Did I download the wrong version of Java or is this something I can change in settings?</p>\n"},{"tags":["java","spring-data-jpa","projection","converters","nativequery"],"comments":[{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":1,"creation_date":1586946586,"post_id":58417190,"comment_id":108313743,"body_markdown":"I have the same issue, but this solution doesn&#39;t work. The custom converter is added to the shared conversionService at the context creation, but still not found while resolving the converters in ProxyProjectionFactory. \nWhat version of spring-data are you using ?","body":"I have the same issue, but this solution doesn&#39;t work. The custom converter is added to the shared conversionService at the context creation, but still not found while resolving the converters in ProxyProjectionFactory.  What version of spring-data are you using ?"},{"owner":{"account_id":16907533,"reputation":123,"user_id":12227513,"display_name":"jprzystupa"},"score":0,"creation_date":1587039949,"post_id":58417190,"comment_id":108355686,"body_markdown":"spring boot 2.2.1.RELEASE.\n\ndid you check if DefaultConversionService contains your converter at the time of conversion? \n\nI noticed that MyCustomTypeConverter is not an AttributeConverter&lt;MyCustomType, String&gt; but a org.springframework.core.convert.converter.Converter&lt;String, MyCustomType&gt;.\nMaybe that is the problem. I will update my question.","body":"spring boot 2.2.1.RELEASE.  did you check if DefaultConversionService contains your converter at the time of conversion?   I noticed that MyCustomTypeConverter is not an AttributeConverter&lt;MyCustomType, String&gt; but a org.springframework.core.convert.converter.Converter&lt;String, MyCustomType&gt;. Maybe that is the problem. I will update my question."},{"owner":{"account_id":16907533,"reputation":123,"user_id":12227513,"display_name":"jprzystupa"},"score":0,"creation_date":1587040326,"post_id":58417190,"comment_id":108355910,"body_markdown":"Another thing to check is if source type for converter is as you expect.\nFor example, in one case I had to create converter with source type Character instead of String.\nI would debug it and check what types exactly it tries to convert","body":"Another thing to check is if source type for converter is as you expect. For example, in one case I had to create converter with source type Character instead of String. I would debug it and check what types exactly it tries to convert"},{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":1,"creation_date":1587042565,"post_id":58417190,"comment_id":108357226,"body_markdown":"I have the issue in a 2.0.4 spring boot, so I guess this is a fixed issue. I have try to debug this opaque system and the shared instance of the conversion service was not used at all in the dynamic proxies build for my repositories.  Thanks a lot for your feedback ! the commit that did the change: https://github.com/spring-projects/spring-data-commons/commit/ea8cf8c629bd0c50991801811e1334589c1a4aff#diff-c80238b8ee9becc1b1dc7abaf85a2c4f","body":"I have the issue in a 2.0.4 spring boot, so I guess this is a fixed issue. I have try to debug this opaque system and the shared instance of the conversion service was not used at all in the dynamic proxies build for my repositories.  Thanks a lot for your feedback ! the commit that did the change: <a href=\"https://github.com/spring-projects/spring-data-commons/commit/ea8cf8c629bd0c50991801811e1334589c1a4aff#diff-c80238b8ee9becc1b1dc7abaf85a2c4f\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-commons/commit/&hellip;</a>"},{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":0,"creation_date":1587130303,"post_id":58417190,"comment_id":108395233,"body_markdown":"the fix for the issue has been introduced in spring-boot 2.0.9","body":"the fix for the issue has been introduced in spring-boot 2.0.9"},{"owner":{"account_id":16046926,"reputation":155,"user_id":11581816,"display_name":"RukaDo"},"score":0,"creation_date":1593641401,"post_id":58417190,"comment_id":110855761,"body_markdown":"Hi, I get error cannot type cast org.springframework.core.convert.converter.Converter to AttributeConverter. Im using spring 2.0.2. Any idea how to fix it?","body":"Hi, I get error cannot type cast org.springframework.core.convert.converter.Converter to AttributeConverter. Im using spring 2.0.2. Any idea how to fix it?"},{"owner":{"account_id":16907533,"reputation":123,"user_id":12227513,"display_name":"jprzystupa"},"score":0,"creation_date":1594022663,"post_id":58417190,"comment_id":110969648,"body_markdown":"I guess that it&#39;s version problem as I&#39;m using 2.2.x.\nMaybe just try to use AttributeConverter instead of Converter?","body":"I guess that it&#39;s version problem as I&#39;m using 2.2.x. Maybe just try to use AttributeConverter instead of Converter?"},{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":0,"creation_date":1638835736,"post_id":58417190,"comment_id":124189013,"body_markdown":"This is broken again in spring boot, a suggested workaround is to specify a converter in an `@Value` annotation; see https://github.com/spring-projects/spring-data-commons/issues/2260#issuecomment-774029777","body":"This is broken again in spring boot, a suggested workaround is to specify a converter in an <code>@Value</code> annotation; see <a href=\"https://github.com/spring-projects/spring-data-commons/issues/2260#issuecomment-774029777\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-commons/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571300998,"creation_date":1571300998,"answer_id":58428172,"question_id":58417190,"body_markdown":"The `ConversionService` used is `DefaultConversionService.getSharedInstance()`. \r\n\r\nSo you should be able to access that and add your converter. \r\n","title":"spring data jpa - Custom type conversion in interface-based projection","body":"<p>The <code>ConversionService</code> used is <code>DefaultConversionService.getSharedInstance()</code>. </p>\n\n<p>So you should be able to access that and add your converter. </p>\n"},{"tags":[],"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638836569,"creation_date":1638836569,"answer_id":70253539,"question_id":58417190,"body_markdown":"This broke again in Spring Data Jpa 2.4.0 (see [this closed GitHub issue][1]).\r\n\r\nOne workaround, as suggested by user ajobra76 ([link][2]), is to specify the converter to use like so:\r\n\r\n```\r\npublic interface TestClass {\r\n    @Value(&quot;#{@myCustomTypeConverter.convert(target.customType)}&quot;)\r\n    MyCustomType getCustomType();\r\n}\r\n```\r\n\r\nWhere `myCustomTypeConverter` would be a bean in the `ApplicationContext`. Of course there are other ways of specifying a method using SpEL, including creating a `new` object, and calling a static method. But this is just to show that it can be done.\r\n\r\n`target` is an identifier that will be bound to the &quot;aggregate root backing the projection&quot; (Spring Data Jpa docs, section [&quot;An Open Projection&quot;](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections)).\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/issues/2260\r\n  [2]: https://github.com/spring-projects/spring-data-commons/issues/2260#issuecomment-774029777","title":"spring data jpa - Custom type conversion in interface-based projection","body":"<p>This broke again in Spring Data Jpa 2.4.0 (see <a href=\"https://github.com/spring-projects/spring-data-commons/issues/2260\" rel=\"nofollow noreferrer\">this closed GitHub issue</a>).</p>\n<p>One workaround, as suggested by user ajobra76 (<a href=\"https://github.com/spring-projects/spring-data-commons/issues/2260#issuecomment-774029777\" rel=\"nofollow noreferrer\">link</a>), is to specify the converter to use like so:</p>\n<pre><code>public interface TestClass {\n    @Value(&quot;#{@myCustomTypeConverter.convert(target.customType)}&quot;)\n    MyCustomType getCustomType();\n}\n</code></pre>\n<p>Where <code>myCustomTypeConverter</code> would be a bean in the <code>ApplicationContext</code>. Of course there are other ways of specifying a method using SpEL, including creating a <code>new</code> object, and calling a static method. But this is just to show that it can be done.</p>\n<p><code>target</code> is an identifier that will be bound to the &quot;aggregate root backing the projection&quot; (Spring Data Jpa docs, section <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">&quot;An Open Projection&quot;</a>).</p>\n"}],"owner":{"account_id":16907533,"reputation":123,"user_id":12227513,"display_name":"jprzystupa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6324,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58428172,"answer_count":2,"score":12,"last_activity_date":1638836569,"creation_date":1571240821,"question_id":58417190,"body_markdown":"I&#39;m trying to implement [Interface-based Projection](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces) but I cannot make it work with my custom type column.\r\n\r\nBelow example of what I&#39;m trying to do:\r\n\r\nRepository:\r\n\r\n    @Query(value = &quot;SELECT customType from TABLE&quot;, nativeQuery = true)\r\n    List&lt;TestClass&gt; getResults();\r\n\r\nInterface projection:\r\n\r\n    public interface TestClass {\r\n      @Convert(converter = MyCustomTypeConverter.class)\r\n      MyCustomType getCustomType();\r\n    }\r\n\r\nConverter:\r\n\r\n    @Converter\r\n    public class MyCustomTypeConverter implements Converter&lt;String, MyCustomType&gt; {\r\n    \r\n          @Override\r\n          public MyCustomType convert(String source) {\r\n            // whatever\r\n          }\r\n    }\r\n\r\n\r\nWhen I call getResults() on repository I receive list of results as expected, but when I try to call getCustomType() on one of results I get exception:\r\n\r\n    java.lang.IllegalArgumentException: Projection type must be an interface!\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:118)\r\n\tat org.springframework.data.projection.ProxyProjectionFactory.createProjection(ProxyProjectionFactory.java:100)\r\n\tat org.springframework.data.projection.SpelAwareProxyProjectionFactory.createProjection(SpelAwareProxyProjectionFactory.java:45)\r\n\tat org.springframework.data.projection.ProjectingMethodInterceptor.getProjection(ProjectingMethodInterceptor.java:131)\r\n\tat org.springframework.data.projection.ProjectingMethodInterceptor.invoke(ProjectingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.ProxyProjectionFactory$TargetAwareMethodInterceptor.invoke(ProxyProjectionFactory.java:245)\r\n\r\n\r\n\r\n\r\nI found that problem lies in  \r\n\r\n    org.springframework.data.projection.ProxyProjectionFactory\r\n\r\nwhich uses \r\n\r\n    org.springframework.core.convert.support.DefaultConversionService\r\n\r\nwhich obviously doesn&#39;t have my custom type converter registered.\r\n\r\nIf I stop on breakpoint in ConversionService and manually add my converter in runtime, projection will work without any problem.\r\n\r\n**So question is: can I somehow register my custom converter to ConversionService used by spring jpa during interface-based projection?**\r\n\r\nEDIT:\r\n\r\nI added my converter to DefaultConversionService&#39;s sharedInstance in InitializingBean like below and it worked.\r\n\r\n    @Component\r\n    public class DefaultConversionServiceInitializer implements InitializingBean {\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            DefaultConversionService conversionService = (DefaultConversionService) DefaultConversionService.getSharedInstance();\r\n            conversionService.addConverter(new MyCustomTypeConverter());\r\n        }\r\n    }","title":"spring data jpa - Custom type conversion in interface-based projection","body":"<p>I'm trying to implement <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces\" rel=\"noreferrer\">Interface-based Projection</a> but I cannot make it work with my custom type column.</p>\n\n<p>Below example of what I'm trying to do:</p>\n\n<p>Repository:</p>\n\n<pre><code>@Query(value = \"SELECT customType from TABLE\", nativeQuery = true)\nList&lt;TestClass&gt; getResults();\n</code></pre>\n\n<p>Interface projection:</p>\n\n<pre><code>public interface TestClass {\n  @Convert(converter = MyCustomTypeConverter.class)\n  MyCustomType getCustomType();\n}\n</code></pre>\n\n<p>Converter:</p>\n\n<pre><code>@Converter\npublic class MyCustomTypeConverter implements Converter&lt;String, MyCustomType&gt; {\n\n      @Override\n      public MyCustomType convert(String source) {\n        // whatever\n      }\n}\n</code></pre>\n\n<p>When I call getResults() on repository I receive list of results as expected, but when I try to call getCustomType() on one of results I get exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Projection type must be an interface!\nat org.springframework.util.Assert.isTrue(Assert.java:118)\nat org.springframework.data.projection.ProxyProjectionFactory.createProjection(ProxyProjectionFactory.java:100)\nat org.springframework.data.projection.SpelAwareProxyProjectionFactory.createProjection(SpelAwareProxyProjectionFactory.java:45)\nat org.springframework.data.projection.ProjectingMethodInterceptor.getProjection(ProjectingMethodInterceptor.java:131)\nat org.springframework.data.projection.ProjectingMethodInterceptor.invoke(ProjectingMethodInterceptor.java:80)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.projection.ProxyProjectionFactory$TargetAwareMethodInterceptor.invoke(ProxyProjectionFactory.java:245)\n</code></pre>\n\n<p>I found that problem lies in  </p>\n\n<pre><code>org.springframework.data.projection.ProxyProjectionFactory\n</code></pre>\n\n<p>which uses </p>\n\n<pre><code>org.springframework.core.convert.support.DefaultConversionService\n</code></pre>\n\n<p>which obviously doesn't have my custom type converter registered.</p>\n\n<p>If I stop on breakpoint in ConversionService and manually add my converter in runtime, projection will work without any problem.</p>\n\n<p><strong>So question is: can I somehow register my custom converter to ConversionService used by spring jpa during interface-based projection?</strong></p>\n\n<p>EDIT:</p>\n\n<p>I added my converter to DefaultConversionService's sharedInstance in InitializingBean like below and it worked.</p>\n\n<pre><code>@Component\npublic class DefaultConversionServiceInitializer implements InitializingBean {\n\n    @Override\n    public void afterPropertiesSet() {\n        DefaultConversionService conversionService = (DefaultConversionService) DefaultConversionService.getSharedInstance();\n        conversionService.addConverter(new MyCustomTypeConverter());\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1638834053,"post_id":70253112,"comment_id":124188731,"body_markdown":"Is it important that each iteration runs asynchronously? If so, please edit the question to explain why.","body":"Is it important that each iteration runs asynchronously? If so, please edit the question to explain why."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638837247,"post_id":70253112,"comment_id":124189243,"body_markdown":"Call `Future.cancel()` or `ExecutorService.shutdown()`.","body":"Call <code>Future.cancel()</code> or <code>ExecutorService.shutdown()</code>."},{"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"score":0,"creation_date":1638860622,"post_id":70253112,"comment_id":124193343,"body_markdown":"@TimMoore no, each iteration doesn&#39;t have to run asynchronously, just all iterations in separate thread","body":"@TimMoore no, each iteration doesn&#39;t have to run asynchronously, just all iterations in separate thread"}],"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638832529,"creation_date":1638832529,"question_id":70253112,"body_markdown":"I need to implement a task which would run asynhronously some maximum amount of times but stop earlier if some condition is met. As a simple example there&#39;s task generating a random number from 1 to 100 and it runs 4 times with some interval and return ther last generated number, but if one of generated numbers is &gt; 50 then it must stop iterations and return that number. I was thinking about ```ScheduledExecutorService``` with ```scheduleAtFixedRate``` but not sure how to stop it properly when the condition is met.","title":"Asynchronous task with condition","body":"<p>I need to implement a task which would run asynhronously some maximum amount of times but stop earlier if some condition is met. As a simple example there's task generating a random number from 1 to 100 and it runs 4 times with some interval and return ther last generated number, but if one of generated numbers is &gt; 50 then it must stop iterations and return that number. I was thinking about <code>ScheduledExecutorService</code> with <code>scheduleAtFixedRate</code> but not sure how to stop it properly when the condition is met.</p>\n"},{"tags":["java","c#","asp.net",".net"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638530713,"post_id":70212884,"comment_id":124118993,"body_markdown":"Ideally yes, in the real world no.","body":"Ideally yes, in the real world no."},{"owner":{"account_id":21739961,"reputation":1106,"user_id":16047487,"display_name":"Maik Hasler"},"score":0,"creation_date":1638532129,"post_id":70212884,"comment_id":124119472,"body_markdown":"@Thorbj&#248;rnRavnAndersen Can you please describe why so I can follow along? Do you have any example or refer for me?","body":"@Thorbj&#248;rnRavnAndersen Can you please describe why so I can follow along? Do you have any example or refer for me?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638533207,"post_id":70212884,"comment_id":124119906,"body_markdown":"The question title was changed.  You cannot do this easily.  Look into ikvm project","body":"The question title was changed.  You cannot do this easily.  Look into ikvm project"}],"answers":[{"tags":[],"owner":{"account_id":14007344,"reputation":21,"user_id":10117041,"display_name":"Ercan Tırman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638530503,"creation_date":1638530503,"answer_id":70213528,"question_id":70212884,"body_markdown":"As far as I know jni4net is not compatible with .NET Core. It&#39;s for .NET Framework.\r\n\r\n*This is absolutely necessary due the non-existing interoperability of .NET and Java.*\r\nI don&#39;t know the circumstances but it shouldn&#39;t be a necessity. Just build a service that exposes API to C# code. Voila you have a bridge. Or you can use CORBA however it&#39;s so complex it doesn&#39;t worth at all imo.","title":"How to use Java in ASP.NET Core 3.1?","body":"<p>As far as I know jni4net is not compatible with .NET Core. It's for .NET Framework.</p>\n<p><em>This is absolutely necessary due the non-existing interoperability of .NET and Java.</em>\nI don't know the circumstances but it shouldn't be a necessity. Just build a service that exposes API to C# code. Voila you have a bridge. Or you can use CORBA however it's so complex it doesn't worth at all imo.</p>\n"},{"tags":[],"owner":{"account_id":8982994,"reputation":316,"user_id":6697536,"display_name":"Emre Utku Solak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638832036,"creation_date":1638832036,"answer_id":70253044,"question_id":70212884,"body_markdown":"An API is a medium that recieves requests from client, processes those requests inside and responds back to the client.\r\n\r\nYou can probably do what you want to do by creating an API on .NET Core and consume that API in your Java project.\r\n\r\nIn the simplest way, you can create an API endpoint in your .NET project&#39;s controller and send a request to that api on your Java application using the target URL of your API endpoint.\r\nThe response from your API is going to be in JSON format.\r\n\r\n**Please note that you can consume an API regardless of the language since the communication between your application and your API is going to be via HTTP requests and JSON responses.**\r\n\r\n    \r\n\r\nSome useful video links to start with:\r\n\r\n- How to build a restful API in .NET Core 3.1 https://www.youtube.com/watch?v=fmvcAzHpsk8&amp;t=11447s&amp;ab_channel=LesJackson\r\n- How to consume an API in Java application https://www.youtube.com/watch?v=Fry7waUIJiY&amp;ab_channel=PrakashShindalkar\r\n\r\nI also would like to clarify that HTTP is just a a protocol. You can probably achieve what you want with other communication protocols as well but this one is fairly more popular and suitable for your needs.","title":"How to use Java in ASP.NET Core 3.1?","body":"<p>An API is a medium that recieves requests from client, processes those requests inside and responds back to the client.</p>\n<p>You can probably do what you want to do by creating an API on .NET Core and consume that API in your Java project.</p>\n<p>In the simplest way, you can create an API endpoint in your .NET project's controller and send a request to that api on your Java application using the target URL of your API endpoint.\nThe response from your API is going to be in JSON format.</p>\n<p><strong>Please note that you can consume an API regardless of the language since the communication between your application and your API is going to be via HTTP requests and JSON responses.</strong></p>\n<p>Some useful video links to start with:</p>\n<ul>\n<li>How to build a restful API in .NET Core 3.1 <a href=\"https://www.youtube.com/watch?v=fmvcAzHpsk8&amp;t=11447s&amp;ab_channel=LesJackson\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=fmvcAzHpsk8&amp;t=11447s&amp;ab_channel=LesJackson</a></li>\n<li>How to consume an API in Java application <a href=\"https://www.youtube.com/watch?v=Fry7waUIJiY&amp;ab_channel=PrakashShindalkar\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Fry7waUIJiY&amp;ab_channel=PrakashShindalkar</a></li>\n</ul>\n<p>I also would like to clarify that HTTP is just a a protocol. You can probably achieve what you want with other communication protocols as well but this one is fairly more popular and suitable for your needs.</p>\n"}],"owner":{"account_id":21739961,"reputation":1106,"user_id":16047487,"display_name":"Maik Hasler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70253044,"answer_count":2,"score":-1,"last_activity_date":1638832036,"creation_date":1638527510,"question_id":70212884,"body_markdown":"I&#39;m building a REST API with ASP.NET, which should ideally be able to use Java code. I&#39;ve already managed to create a bridge between .NET and Java by using [jni4net](https://github.com/jni4net/jni4net) in a simple console application. This is absolutely necessary due the **non-existing interoperability** of .NET and Java.\r\n\r\nNevertheless I can&#39;t create a bridge in my ASP.NET project by using jni4net. Apparently this is a common error due the fact that .NET core 2.1 or later versions do not support the methods shown below. I am refering to this question: &quot;[Error in the webapp while connecting with JVM using jni4net from C#](https://stackoverflow.com/questions/57866038/error-in-the-webapp-while-connecting-with-jvm-using-jni4net-from-c-sharp)&quot;.\r\n\r\n&gt; MissingMethodException: Method not found: &#39;System.Reflection.Emit.AssemblyBuilder System.AppDomain.DefineDynamicAssembly(System.Reflection.AssemblyName, System.Reflection.Emit.AssemblyBuilderAccess)&#39;.\r\n\r\nNote that I&#39;m using **.NET core 3.1** for my ASP.NET project and **jni4net 0.8.8.0**. Anyways I&#39;m would change my .NET version if needed. My current implementation in **Program.cs** looks like this:\r\n\r\n```csharp\r\nusing net.sf.jni4net;\r\n\r\npublic class Program\r\n{\r\n    public static void Main(string[] args)\r\n    {\r\n        var setup = new BridgeSetup();\r\n        setup.Verbose = true;\r\n        Bridge.CreateJVM(setup); // Error is thrown here\r\n    }\r\n}\r\n```\r\n\r\nDoes anybody know if there is a way to bypass this error OR how to use Java code in an ASP.NET project? I highly appreciate any help or suggestion, sheers!","title":"How to use Java in ASP.NET Core 3.1?","body":"<p>I'm building a REST API with ASP.NET, which should ideally be able to use Java code. I've already managed to create a bridge between .NET and Java by using <a href=\"https://github.com/jni4net/jni4net\" rel=\"nofollow noreferrer\">jni4net</a> in a simple console application. This is absolutely necessary due the <strong>non-existing interoperability</strong> of .NET and Java.</p>\n<p>Nevertheless I can't create a bridge in my ASP.NET project by using jni4net. Apparently this is a common error due the fact that .NET core 2.1 or later versions do not support the methods shown below. I am refering to this question: &quot;<a href=\"https://stackoverflow.com/questions/57866038/error-in-the-webapp-while-connecting-with-jvm-using-jni4net-from-c-sharp\">Error in the webapp while connecting with JVM using jni4net from C#</a>&quot;.</p>\n<blockquote>\n<p>MissingMethodException: Method not found: 'System.Reflection.Emit.AssemblyBuilder System.AppDomain.DefineDynamicAssembly(System.Reflection.AssemblyName, System.Reflection.Emit.AssemblyBuilderAccess)'.</p>\n</blockquote>\n<p>Note that I'm using <strong>.NET core 3.1</strong> for my ASP.NET project and <strong>jni4net 0.8.8.0</strong>. Anyways I'm would change my .NET version if needed. My current implementation in <strong>Program.cs</strong> looks like this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using net.sf.jni4net;\n\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        var setup = new BridgeSetup();\n        setup.Verbose = true;\n        Bridge.CreateJVM(setup); // Error is thrown here\n    }\n}\n</code></pre>\n<p>Does anybody know if there is a way to bypass this error OR how to use Java code in an ASP.NET project? I highly appreciate any help or suggestion, sheers!</p>\n"},{"tags":["java","spring-boot","api","jwt"],"comments":[{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1638795235,"post_id":70245480,"comment_id":124175092,"body_markdown":"Is it the user or the userService that is null ? It&#39;s the first thing you need to look at when debugging NPEs","body":"Is it the user or the userService that is null ? It&#39;s the first thing you need to look at when debugging NPEs"},{"owner":{"account_id":16528065,"reputation":39,"user_id":14878166,"display_name":"wael "},"score":0,"creation_date":1638797866,"post_id":70245480,"comment_id":124176100,"body_markdown":"getName() returns a null pointer  even though it returns a name when I run it from the controller, it&#39;s what&#39;s confusing me. Am i not allowed to use services in the filter ?","body":"getName() returns a null pointer  even though it returns a name when I run it from the controller, it&#39;s what&#39;s confusing me. Am i not allowed to use services in the filter ?"},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1638804151,"post_id":70245480,"comment_id":124178769,"body_markdown":"Sorry didn&#39;t get it yet. So it&#39;s userService.getName(..) that returns null (and a NPE is thrown later in the execution of your program) or the userService is null and a NPE is thrown when you call userService.getName(..)? Can you show all the code of the filter?","body":"Sorry didn&#39;t get it yet. So it&#39;s userService.getName(..) that returns null (and a NPE is thrown later in the execution of your program) or the userService is null and a NPE is thrown when you call userService.getName(..)? Can you show all the code of the filter?"},{"owner":{"account_id":16528065,"reputation":39,"user_id":14878166,"display_name":"wael "},"score":0,"creation_date":1638831582,"post_id":70245480,"comment_id":124188214,"body_markdown":"it&#39;s the userService.getName() that returns the null and the npe is thrown entire filter is edited above","body":"it&#39;s the userService.getName() that returns the null and the npe is thrown entire filter is edited above"}],"owner":{"account_id":16528065,"reputation":39,"user_id":14878166,"display_name":"wael "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638831794,"creation_date":1638793482,"question_id":70245480,"body_markdown":"I want to send more than just the username and roles using the authentication filter in springboot,\r\nI&#39;m using the user type inherited from userDetails from springboot security  whenever I try to manually get the name and add it as a claim I get a null exception. even though the method I use are tested and work outside of the filter.\r\n\r\ncode: \r\n\r\n    public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    \r\n    @Autowired\r\n    UserService userService;\r\n    \r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n    \r\n    public CustomAuthenticationFilter(AuthenticationManager authenticationManager){\r\n    \r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n    String name;\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request,HttpServletResponse response ) throws AuthenticationException{\r\n    \r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n    \r\n    \r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username,password);\r\n        return authenticationManager.authenticate(authenticationToken);\r\n    }\r\n\r\n    @Override \r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException,ServletException{\r\n    \r\n    User user = (User) authentication.getPrincipal();\r\n    String name=userService.getName(user.getUsername()); //this method is tested and works but never here\r\n    Algorithm algorithm = Algorithm.HMAC256(&quot;key&quot;.getBytes());\r\n    String access_token = JWT.create()\r\n    .withSubject(user.getUsername())\r\n    .withExpiresAt(new Date(System.currentTimeMillis()+ 6 * 60*60*1000))\r\n    .withIssuer(request.getRequestURI().toString())\r\n    .withClaim(&quot;name&quot;, name)\r\n    .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n    .sign(algorithm);\r\n    \r\n    String refresh_token = JWT.create()\r\n    .withSubject(user.getUsername())\r\n    .withExpiresAt(new Date(System.currentTimeMillis()+ 8 * 60*60*1000))\r\n    .withIssuer(request.getRequestURI().toString())\r\n    .sign(algorithm);\r\n    \r\n\r\n    Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\r\n    tokens.put(&quot;access_token&quot;, access_token);\r\n    tokens.put(&quot;refresh_token&quot;, refresh_token);\r\n    response.setContentType(APPLICATION_JSON_VALUE);\r\n    new ObjectMapper().writeValue(response.getOutputStream(), tokens);\r\n        }\r\n    }\r\n\r\n","title":"how to add more claims to a jwt token in a custom authentication filter","body":"<p>I want to send more than just the username and roles using the authentication filter in springboot,\nI'm using the user type inherited from userDetails from springboot security  whenever I try to manually get the name and add it as a claim I get a null exception. even though the method I use are tested and work outside of the filter.</p>\n<p>code:</p>\n<pre><code>public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n@Autowired\nUserService userService;\n\n@Autowired\nAuthenticationManager authenticationManager;\n\npublic CustomAuthenticationFilter(AuthenticationManager authenticationManager){\n\n    this.authenticationManager = authenticationManager;\n}\nString name;\n@Override\npublic Authentication attemptAuthentication(HttpServletRequest request,HttpServletResponse response ) throws AuthenticationException{\n\n    String username = request.getParameter(&quot;username&quot;);\n    String password = request.getParameter(&quot;password&quot;);\n\n\n    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username,password);\n    return authenticationManager.authenticate(authenticationToken);\n}\n\n@Override \nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException,ServletException{\n\nUser user = (User) authentication.getPrincipal();\nString name=userService.getName(user.getUsername()); //this method is tested and works but never here\nAlgorithm algorithm = Algorithm.HMAC256(&quot;key&quot;.getBytes());\nString access_token = JWT.create()\n.withSubject(user.getUsername())\n.withExpiresAt(new Date(System.currentTimeMillis()+ 6 * 60*60*1000))\n.withIssuer(request.getRequestURI().toString())\n.withClaim(&quot;name&quot;, name)\n.withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n.sign(algorithm);\n\nString refresh_token = JWT.create()\n.withSubject(user.getUsername())\n.withExpiresAt(new Date(System.currentTimeMillis()+ 8 * 60*60*1000))\n.withIssuer(request.getRequestURI().toString())\n.sign(algorithm);\n\n\nMap&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\ntokens.put(&quot;access_token&quot;, access_token);\ntokens.put(&quot;refresh_token&quot;, refresh_token);\nresponse.setContentType(APPLICATION_JSON_VALUE);\nnew ObjectMapper().writeValue(response.getOutputStream(), tokens);\n    }\n}\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":181974,"reputation":4916,"user_id":416352,"accept_rate":71,"display_name":"ipavlic"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1361458497,"creation_date":1361458497,"answer_id":15005293,"question_id":15005185,"body_markdown":"You can use `JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES` with Jackson to allow unquoted field names:\r\n\r\n    JsonFactory factory = new JsonFactory();\r\n    factory.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n    JsonParser jp = factory.createJsonParser(new FileInputStream(&quot;content.json&quot;));","title":"how to parse unquoted JSON string","body":"<p>You can use <code>JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES</code> with Jackson to allow unquoted field names:</p>\n\n<pre><code>JsonFactory factory = new JsonFactory();\nfactory.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\nJsonParser jp = factory.createJsonParser(new FileInputStream(\"content.json\"));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2426985"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452788269,"creation_date":1452788269,"answer_id":34794445,"question_id":15005185,"body_markdown":"Not sure if you got around to writing you own parser or not, but I did.\r\n\r\nhttps://github.com/ischumacher/rsjp\r\n\r\nHere is example usage with your example JSON:\r\n\r\n    String str = &quot;{basic:{0:{index:0, license:t, nameSID:n, image:\\&quot;img_left\\&quot;, descriptionSID:t, category:r}}&quot;;\r\n    Map&lt;String, Object&gt; jso = Json.parseJSON(str);\r\n    System.out.println(jso);\r\n    System.out.println(Json.get(jso, &quot;basic&quot;, &quot;0&quot;, &quot;image&quot;));\r\n\r\n\r\nHere is the output:\r\n\r\n    {\r\n       basic: \r\n       {\r\n          0: \r\n          {\r\n             index: 0, \r\n             license: t, \r\n             nameSID: n, \r\n             image: img_left, \r\n             descriptionSID: t, \r\n             category: r\r\n          }\r\n       }\r\n    }\r\n\r\n    img_left","title":"how to parse unquoted JSON string","body":"<p>Not sure if you got around to writing you own parser or not, but I did.</p>\n\n<p><a href=\"https://github.com/ischumacher/rsjp\" rel=\"nofollow\">https://github.com/ischumacher/rsjp</a></p>\n\n<p>Here is example usage with your example JSON:</p>\n\n<pre><code>String str = \"{basic:{0:{index:0, license:t, nameSID:n, image:\\\"img_left\\\", descriptionSID:t, category:r}}\";\nMap&lt;String, Object&gt; jso = Json.parseJSON(str);\nSystem.out.println(jso);\nSystem.out.println(Json.get(jso, \"basic\", \"0\", \"image\"));\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>{\n   basic: \n   {\n      0: \n      {\n         index: 0, \n         license: t, \n         nameSID: n, \n         image: img_left, \n         descriptionSID: t, \n         category: r\n      }\n   }\n}\n\nimg_left\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35035,"reputation":1266,"user_id":99107,"accept_rate":62,"display_name":"ShabbyDoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461255223,"creation_date":1461255223,"answer_id":36775197,"question_id":15005185,"body_markdown":"I looked into how one might go about customizing Jackson to deal with non-quoted field values (vs. field names). Even though I ended-up writing a hack instead, I&#39;m posting my breadcrumb trail here for others. My code spelunking was done in Jackson 2.7.2.\r\n\r\nJackson Core comes with two concrete implementations of the JsonParser interface:\r\n\r\n - ReaderBasedJsonParser, a parser for character streams (encoding\r\n   independent)\r\n - UTF8StreamJsonParser, a parser optimized for UTF-8 byte\r\n   streams\r\n\r\nThe code in these two classes is quite redundant, likely out of necessity. Each class has a method which is called by nextToken() when an unexpected character is encountered.  ReaderBasedJsonParser&#39;s is named _handleOddValue() and UTF8StreamJsonParser&#39;s is _handleUnexpectedValue(). Stuff like accepting &quot;NaN&quot; as a numeric value and allowing single-quoted string values happens in here.\r\n\r\nMy plan (before I came to my senses and realized an awful hack would suffice for my short-term needs) was to subclass one/both of these parsers and override the methods above to handle unquoted string values. Because this method is called when the input stream is in the context of a field value (just after recognizing the colon), it should be possible to read forward until a comma or right curly brace is encountered and count everything read up to that point as a string value. This code is tricky to write as it requires an understanding of Jackson&#39;s buffering strategy, the parser&#39;s architecture (the current pointer into the current buffer is an instance variable), etc.\r\n\r\nTo make an ObjectMapper use this custom parser, one must subclass JsonFactory and override the _createParser() method with one which instantiates it.  More work might be required to make both the regular and UTF-8 parser work correctly, although it&#39;s sufficient to force the use of the regular parser if performance isn&#39;t a concern. Then, an instance of this custom JsonFactory may be passed into ObjectMapper&#39;s constructor.\r\n\r\nHope this helps someone.\r\n\r\n","title":"how to parse unquoted JSON string","body":"<p>I looked into how one might go about customizing Jackson to deal with non-quoted field values (vs. field names). Even though I ended-up writing a hack instead, I'm posting my breadcrumb trail here for others. My code spelunking was done in Jackson 2.7.2.</p>\n\n<p>Jackson Core comes with two concrete implementations of the JsonParser interface:</p>\n\n<ul>\n<li>ReaderBasedJsonParser, a parser for character streams (encoding\nindependent)</li>\n<li>UTF8StreamJsonParser, a parser optimized for UTF-8 byte\nstreams</li>\n</ul>\n\n<p>The code in these two classes is quite redundant, likely out of necessity. Each class has a method which is called by nextToken() when an unexpected character is encountered.  ReaderBasedJsonParser's is named _handleOddValue() and UTF8StreamJsonParser's is _handleUnexpectedValue(). Stuff like accepting \"NaN\" as a numeric value and allowing single-quoted string values happens in here.</p>\n\n<p>My plan (before I came to my senses and realized an awful hack would suffice for my short-term needs) was to subclass one/both of these parsers and override the methods above to handle unquoted string values. Because this method is called when the input stream is in the context of a field value (just after recognizing the colon), it should be possible to read forward until a comma or right curly brace is encountered and count everything read up to that point as a string value. This code is tricky to write as it requires an understanding of Jackson's buffering strategy, the parser's architecture (the current pointer into the current buffer is an instance variable), etc.</p>\n\n<p>To make an ObjectMapper use this custom parser, one must subclass JsonFactory and override the _createParser() method with one which instantiates it.  More work might be required to make both the regular and UTF-8 parser work correctly, although it's sufficient to force the use of the regular parser if performance isn't a concern. Then, an instance of this custom JsonFactory may be passed into ObjectMapper's constructor.</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":22680694,"reputation":31,"user_id":16851084,"display_name":"xp44mm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638831699,"creation_date":1638831699,"answer_id":70253000,"question_id":15005185,"body_markdown":"You can use the nuget package `unquotedJson`, after installed, execute the following F# code, will get more severe quoted json format:\r\n\r\n```F#\r\nlet x = &quot;&quot;&quot;{\r\n    0:{index:0, license:t, nameSID:n, image:&quot;img:left&quot;, descriptionSID:t, category:r}\r\n    }&quot;&quot;&quot;\r\nlet y = \r\n    x\r\n    |&gt; JSON.parse\r\n    |&gt; JSON.stringifyNormalJson\r\n```\r\nthe `y` is:\r\n```json\r\n{&quot;0&quot;:{&quot;index&quot;:0,&quot;license&quot;:&quot;t&quot;,&quot;nameSID&quot;:&quot;n&quot;,&quot;image&quot;:&quot;img:left&quot;,&quot;descriptionSID&quot;:&quot;t&quot;,&quot;category&quot;:&quot;r&quot;}}\r\n```","title":"how to parse unquoted JSON string","body":"<p>You can use the nuget package <code>unquotedJson</code>, after installed, execute the following F# code, will get more severe quoted json format:</p>\n<pre><code>let x = &quot;&quot;&quot;{\n    0:{index:0, license:t, nameSID:n, image:&quot;img:left&quot;, descriptionSID:t, category:r}\n    }&quot;&quot;&quot;\nlet y = \n    x\n    |&gt; JSON.parse\n    |&gt; JSON.stringifyNormalJson\n</code></pre>\n<p>the <code>y</code> is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;0&quot;:{&quot;index&quot;:0,&quot;license&quot;:&quot;t&quot;,&quot;nameSID&quot;:&quot;n&quot;,&quot;image&quot;:&quot;img:left&quot;,&quot;descriptionSID&quot;:&quot;t&quot;,&quot;category&quot;:&quot;r&quot;}}\n</code></pre>\n"}],"owner":{"account_id":345215,"reputation":7492,"user_id":677987,"accept_rate":56,"display_name":"Jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9835,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1638831699,"creation_date":1361458137,"question_id":15005185,"body_markdown":"I have a JSON string where neither the keys nor the values are quoted and I would like to transform it to a correctly formatted JSON.\r\n\r\n    {basic:{0:{index:0, license:t, nameSID:n, image:&quot;img_left&quot;, descriptionSID:t, category:r}}\r\n\r\n\r\nIs there a Java library that could handle it? I tried [Jackson][1] but it does not work.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome","title":"how to parse unquoted JSON string","body":"<p>I have a JSON string where neither the keys nor the values are quoted and I would like to transform it to a correctly formatted JSON.</p>\n<pre><code>{basic:{0:{index:0, license:t, nameSID:n, image:&quot;img_left&quot;, descriptionSID:t, category:r}}\n</code></pre>\n<p>Is there a Java library that could handle it? I tried <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"nofollow noreferrer\">Jackson</a> but it does not work.</p>\n"},{"tags":["java","svn","jar","ant","build.xml"],"answers":[{"tags":[],"owner":{"account_id":14110670,"reputation":43,"user_id":10193612,"display_name":"Madison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638830809,"creation_date":1638830809,"answer_id":70252901,"question_id":70251638,"body_markdown":"Figured it out. \r\n\r\nThe ```-do-jar-copylibs``` function relies on the ```libs.CopyLibs.classpath``` property being set, if it is set correctly, the ```condition property=&quot;do.mkdist&quot;``` will result in true, which triggers the ```-do-jar-copylibs``` funciton. If the ```condition property=&quot;do.mkdist&quot;``` is false, then the ```-do-jar-jar``` will run instead.\r\n\r\nThis classpath being set has to do with the ```nbproject/private.properties``` file. If I added the private directory to my svn export, the build packaged correctly. Another workaround is to define the classpath in your project.properties file. ","title":"Ant execution different depending on svn export","body":"<p>Figured it out.</p>\n<p>The <code>-do-jar-copylibs</code> function relies on the <code>libs.CopyLibs.classpath</code> property being set, if it is set correctly, the <code>condition property=&quot;do.mkdist&quot;</code> will result in true, which triggers the <code>-do-jar-copylibs</code> funciton. If the <code>condition property=&quot;do.mkdist&quot;</code> is false, then the <code>-do-jar-jar</code> will run instead.</p>\n<p>This classpath being set has to do with the <code>nbproject/private.properties</code> file. If I added the private directory to my svn export, the build packaged correctly. Another workaround is to define the classpath in your project.properties file.</p>\n"}],"owner":{"account_id":14110670,"reputation":43,"user_id":10193612,"display_name":"Madison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70252901,"answer_count":1,"score":1,"last_activity_date":1638830809,"creation_date":1638822965,"question_id":70251638,"body_markdown":"I have an ``` ant build.xml ``` script. In order to run my application, it requires external libraries.  \r\n\r\nI am able to successfully run ``` ant clean jar```  in the command prompt, and in the ``` -do-jar-copylibs```  function the libraries are copied, the jar is built, and the jar can be ran by ```java -jar jarfile.jar``` This is ran on code that I have extracted manually from svn.\r\n\r\nThe issue comes when I use a script to ```svn export``` the code and build file from svn to the C:/temp directory and then run ``` ant clean jar```  the build of the application happens in ``` -do-jar-jar```  instead of the ``` -do-jar-copylibs``` . It doesn&#39;t copy all the libraries into the dist folder, it just builds the jar and tells me that the jar can be ran using ```java -jar &quot;lots/of/libraries.jar&quot; jarfile.jar mainclass``` \r\n\r\nDoes this have to do with permissions? I cannot find any answers to how to fix this. Maybe there is a way to set permissions of ```svn export```\r\n\r\nAny help is appreciated\r\n\r\nThanks. ","title":"Ant execution different depending on svn export","body":"<p>I have an <code>ant build.xml</code> script. In order to run my application, it requires external libraries.</p>\n<p>I am able to successfully run <code> ant clean jar</code>  in the command prompt, and in the <code> -do-jar-copylibs</code>  function the libraries are copied, the jar is built, and the jar can be ran by <code>java -jar jarfile.jar</code> This is ran on code that I have extracted manually from svn.</p>\n<p>The issue comes when I use a script to <code>svn export</code> the code and build file from svn to the C:/temp directory and then run <code> ant clean jar</code>  the build of the application happens in <code> -do-jar-jar</code>  instead of the <code> -do-jar-copylibs</code> . It doesn't copy all the libraries into the dist folder, it just builds the jar and tells me that the jar can be ran using <code>java -jar &quot;lots/of/libraries.jar&quot; jarfile.jar mainclass</code></p>\n<p>Does this have to do with permissions? I cannot find any answers to how to fix this. Maybe there is a way to set permissions of <code>svn export</code></p>\n<p>Any help is appreciated</p>\n<p>Thanks.</p>\n"},{"tags":["java","hadoop","hdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1608067800,"post_id":65248443,"comment_id":115468688,"body_markdown":"`HADOOP_HOME` is a local filesystem path. The default HDFS write path is `/user/$(whoami)`, and I&#39;m not sure there is a way to overwrite that without specificying an absolute path","body":"<code>HADOOP_HOME</code> is a local filesystem path. The default HDFS write path is <code>&#47;user&#47;$(whoami)</code>, and I&#39;m not sure there is a way to overwrite that without specificying an absolute path"}],"answers":[{"tags":[],"owner":{"account_id":19163208,"reputation":133,"user_id":13998537,"display_name":"Ayush Saxena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609306319,"creation_date":1609306319,"answer_id":65502476,"question_id":65248443,"body_markdown":"The HADOOP_HOME is the path where your Hadoop installation is there, it has nothing to do with hdfs path.\r\nBy default HDFS will store a directory in its /user/nameOfUser directory.\r\nThe /user part is configurable by the config **dfs.user.home.dir.prefix** The default value of which is /user\r\nYou can change this in your hdfs client configurations, to use some other prefix rather than /user","title":"How to configure hdfs default path with Hadoop Java API?","body":"<p>The HADOOP_HOME is the path where your Hadoop installation is there, it has nothing to do with hdfs path.\nBy default HDFS will store a directory in its /user/nameOfUser directory.\nThe /user part is configurable by the config <strong>dfs.user.home.dir.prefix</strong> The default value of which is /user\nYou can change this in your hdfs client configurations, to use some other prefix rather than /user</p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65502476,"answer_count":1,"score":1,"last_activity_date":1638830310,"creation_date":1607677546,"question_id":65248443,"body_markdown":"I use Hadoop file system 3.3.0 with Hadoop Java client API on Windows 10. Below are the Hadoop configuration files.\r\n\r\n**core-site.xml**\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;fs.default.name&lt;/name&gt;\r\n    \t\t&lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n         &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\n**hdfs-site.xml**\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;dfs.replication&lt;/name&gt;\r\n              &lt;value&gt;1&lt;/value&gt;\r\n         &lt;/property&gt;\r\n         &lt;property&gt;\r\n    \t\t&lt;name&gt;dfs.http.address&lt;/name&gt;\r\n              &lt;value&gt;localhost:50070&lt;/value&gt;\r\n         &lt;/property&gt;        \r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;dfs.name.dir&lt;/name&gt;\r\n         \t&lt;value&gt;file:///C:/hadoop-3.3.0/data/hdfs/namenode&lt;/value&gt;\r\n         &lt;/property&gt;\r\n         &lt;property&gt;\r\n              &lt;name&gt;dfs.data.dir&lt;/name&gt;\r\n              &lt;value&gt;file:///C:/hadoop-3.3.0/data/hdfs/datanode&lt;/value&gt;\r\n         &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnd I try to save some files into Hadoop file system with Java API.\r\n\r\n\r\n    Configuration conf = new Configuration();\r\n    conf.addResource(new Path(&quot;file:///C:/hadoop-3.3.0/etc/hadoop/core-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;file:///C:/hadoop-3.3.0/etc/hadoop/hdfs-site.xml&quot;));\r\n    FileSystem hadoopFs = FileSystem.get(conf);\r\n    \r\n    Path hadoopPath = new Path(filename);\r\n    \t\t\r\n    FSDataOutputStream hadoopOutStream = null;\r\n    BufferedWriter bw = null;\r\n    \t\t\r\n    if(hadoopFs.exists(hadoopPath)) {\r\n    \thadoopOutStream =hadoopFs.append(hadoopPath);\r\n    } else {\r\n    \thadoopOutStream = hadoopFs.create(hadoopPath, true); \r\n    }\r\n    \t\t\r\n    bw = new BufferedWriter(new OutputStreamWriter(hadoopOutStream,StandardCharsets.UTF_8));\r\n    bw.write(&quot;data....&quot;);\r\n    bw.close();\r\n    hadoopOutStream.close();\r\n\r\n\r\nFile writing is successful and throws no exception. But the problem is the path of saved files is not Hadoop home folder which I describe on configuration files.\r\n\r\nWhen I execute Hadoop command interface, the output is like below,\r\n\r\n    &gt;hdfs dfs -ls /user/joseph\r\n    Found 1 items\r\n    -rw-r--r--   1 joseph supergroup     172120 2020-12-11 17:34 /user/joseph/saved_data.csv\r\n\r\nThe default folder of the saved file is not included on hadoop_home, but the Windows user folder. How can I modify the default save folder?\r\n","title":"How to configure hdfs default path with Hadoop Java API?","body":"<p>I use Hadoop file system 3.3.0 with Hadoop Java client API on Windows 10. Below are the Hadoop configuration files.</p>\n<p><strong>core-site.xml</strong></p>\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;fs.default.name&lt;/name&gt;\n        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n     &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>hdfs-site.xml</strong></p>\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.replication&lt;/name&gt;\n          &lt;value&gt;1&lt;/value&gt;\n     &lt;/property&gt;\n     &lt;property&gt;\n        &lt;name&gt;dfs.http.address&lt;/name&gt;\n          &lt;value&gt;localhost:50070&lt;/value&gt;\n     &lt;/property&gt;        \n    &lt;property&gt;\n        &lt;name&gt;dfs.name.dir&lt;/name&gt;\n        &lt;value&gt;file:///C:/hadoop-3.3.0/data/hdfs/namenode&lt;/value&gt;\n     &lt;/property&gt;\n     &lt;property&gt;\n          &lt;name&gt;dfs.data.dir&lt;/name&gt;\n          &lt;value&gt;file:///C:/hadoop-3.3.0/data/hdfs/datanode&lt;/value&gt;\n     &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And I try to save some files into Hadoop file system with Java API.</p>\n<pre><code>Configuration conf = new Configuration();\nconf.addResource(new Path(&quot;file:///C:/hadoop-3.3.0/etc/hadoop/core-site.xml&quot;));\nconf.addResource(new Path(&quot;file:///C:/hadoop-3.3.0/etc/hadoop/hdfs-site.xml&quot;));\nFileSystem hadoopFs = FileSystem.get(conf);\n\nPath hadoopPath = new Path(filename);\n        \nFSDataOutputStream hadoopOutStream = null;\nBufferedWriter bw = null;\n        \nif(hadoopFs.exists(hadoopPath)) {\n    hadoopOutStream =hadoopFs.append(hadoopPath);\n} else {\n    hadoopOutStream = hadoopFs.create(hadoopPath, true); \n}\n        \nbw = new BufferedWriter(new OutputStreamWriter(hadoopOutStream,StandardCharsets.UTF_8));\nbw.write(&quot;data....&quot;);\nbw.close();\nhadoopOutStream.close();\n</code></pre>\n<p>File writing is successful and throws no exception. But the problem is the path of saved files is not Hadoop home folder which I describe on configuration files.</p>\n<p>When I execute Hadoop command interface, the output is like below,</p>\n<pre><code>&gt;hdfs dfs -ls /user/joseph\nFound 1 items\n-rw-r--r--   1 joseph supergroup     172120 2020-12-11 17:34 /user/joseph/saved_data.csv\n</code></pre>\n<p>The default folder of the saved file is not included on hadoop_home, but the Windows user folder. How can I modify the default save folder?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-structured-streaming"],"comments":[{"owner":{"account_id":15261381,"reputation":41392,"user_id":14165730,"display_name":"mck"},"score":1,"creation_date":1612600385,"post_id":66074841,"comment_id":116821576,"body_markdown":"use `from_csv`, not `from_json`","body":"use <code>from_csv</code>, not <code>from_json</code>"}],"answers":[{"tags":[],"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612601707,"creation_date":1612601707,"answer_id":66075119,"question_id":66074841,"body_markdown":"The strings you have in the `value` column aren&#39;t valid JSON, so `from_json` won&#39;t work here.\r\n\r\nFor Spark 3+, you can use [`from_csv`][1] as pointed out in the comments by @mck : \r\n\r\n    Dataset&lt;Row&gt; dfs = df.select(from_csv(col(&quot;value&quot;), EntityMongoDB.getStructType())\r\n            .as(&quot;entityMongoDB&quot;))\r\n            .selectExpr(&quot;entityMongoDB.*&quot;).toDF(); \r\n\r\nFor Spark versions prior to 3, you can `split` the values by comma then transfrom the resulting array into multiple columns: \r\n\r\n    Dataset&lt;Row&gt; dfs = df.select(split(col(&quot;value&quot;), &quot;,&quot;).as(&quot;values&quot;))\r\n            .select(IntStream.range(0, 7).map(i -&gt; col(&quot;values&quot;).getItem(i)).toArray())\r\n            .toDF(&quot;date&quot;, &quot;value&quot;, &quot;id&quot;, &quot;title&quot;, &quot;state&quot;, &quot;frequency_short&quot;, &quot;units_short&quot;, &quot;seasonal_adjustment_short&quot;); \r\n\r\nAlso, it seems you have column names in the values, you can filter out that line. \r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/sql/#from_csv","title":"How to transform CSV type string to dataframe in Spark SQL Java?","body":"<p>The strings you have in the <code>value</code> column aren't valid JSON, so <code>from_json</code> won't work here.</p>\n<p>For Spark 3+, you can use <a href=\"https://spark.apache.org/docs/latest/api/sql/#from_csv\" rel=\"nofollow noreferrer\"><code>from_csv</code></a> as pointed out in the comments by @mck :</p>\n<pre><code>Dataset&lt;Row&gt; dfs = df.select(from_csv(col(&quot;value&quot;), EntityMongoDB.getStructType())\n        .as(&quot;entityMongoDB&quot;))\n        .selectExpr(&quot;entityMongoDB.*&quot;).toDF(); \n</code></pre>\n<p>For Spark versions prior to 3, you can <code>split</code> the values by comma then transfrom the resulting array into multiple columns:</p>\n<pre><code>Dataset&lt;Row&gt; dfs = df.select(split(col(&quot;value&quot;), &quot;,&quot;).as(&quot;values&quot;))\n        .select(IntStream.range(0, 7).map(i -&gt; col(&quot;values&quot;).getItem(i)).toArray())\n        .toDF(&quot;date&quot;, &quot;value&quot;, &quot;id&quot;, &quot;title&quot;, &quot;state&quot;, &quot;frequency_short&quot;, &quot;units_short&quot;, &quot;seasonal_adjustment_short&quot;); \n</code></pre>\n<p>Also, it seems you have column names in the values, you can filter out that line.</p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66075119,"answer_count":1,"score":0,"last_activity_date":1638830216,"creation_date":1612599313,"question_id":66074841,"body_markdown":"I make Spark Java client codes with Spark structured streaming API. These code extract CSV type string from Kafka\r\n\r\n    SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;KafkaMongoStream&quot;).getOrCreate();\r\n    \t\t\r\n    Dataset&lt;Row&gt; df = spark.read().format(&quot;kafka&quot;).option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;))\r\n        \t\t.option(&quot;subscribe&quot;, &quot;topicForMongoDB&quot;)\r\n        \t\t.option(&quot;startingOffsets&quot;, &quot;earliest&quot;)\r\n        \t\t.load()\r\n        \t\t.selectExpr(&quot;CAST(value AS STRING)&quot;);\r\n        \t\t\r\n    df.show();\r\n\r\nThe returned results are successful. Those codes print the CSV type string.\r\n\r\n    +--------------------+\r\n    |               value|\r\n    +--------------------+\r\n    |realtime_start,re...|\r\n    |2021-01-27,2021-0...|\r\n    |2021-01-27,2021-0...|\r\n    |2021-01-27,2021-0...|\r\n    |2021-01-27,2021-0...|\r\n    |2021-01-27,2021-0...|\r\n\r\nThen I try to transform these strings to Spark dataframe in Spark SQL. First, below codes are the Java POJO class\r\n\r\n    public class EntityMongoDB implements Serializable {\r\n    \r\n    \tprivate Date date;\r\n    \tprivate float value;\r\n    \tprivate String id;\r\n    \tprivate String title;\r\n    \tprivate String state;\r\n    \tprivate String frequency_short;\r\n    \tprivate String units_short;\r\n    \tprivate String seasonal_adjustment_short;\r\n    \t\r\n    \tprivate static StructType structType = DataTypes.createStructType(new StructField[] {\r\n    \t\t\t  \r\n    \t\t\t  DataTypes.createStructField(&quot;date&quot;, DataTypes.DateType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;value&quot;, DataTypes.FloatType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;id&quot;, DataTypes.StringType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;title&quot;, DataTypes.StringType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;state&quot;, DataTypes.StringType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;frequency_short&quot;, DataTypes.StringType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;units_short&quot;, DataTypes.StringType, false),\r\n    \t\t\t  DataTypes.createStructField(&quot;seasonal_adjustment_short&quot;, DataTypes.StringType, false)\r\n    \t});\r\n    \t\r\n    \tpublic static StructType getStructType() {\r\n    \t\treturn structType;\r\n    \t}\r\n    }\r\n\r\nAnd I make codes to transform those CSV type string to dataframe\r\n\r\n    Dataset&lt;Row&gt; dfs = df.select(from_json(col(&quot;value&quot;), EntityMongoDB.getStructType())\r\n    \t\t.as(&quot;entityMongoDB&quot;))\r\n    \t\t.selectExpr(&quot;entityMongoDB.date&quot;, &quot;entityMongoDB.value&quot;, &quot;entityMongoDB.id&quot;, \r\n    \t\t\t\t&quot;entityMongoDB.title&quot;, &quot;entityMongoDB.state&quot;, &quot;entityMongoDB.frequency_short&quot;, \r\n    \t\t\t\t&quot;entityMongoDB.units_short&quot;, &quot;entityMongoDB.seasonal_adjustment_short&quot;).toDF();\r\n    \r\n    dfs.show();\r\n    dfs.printSchema();\r\n\r\nThe printed schema is correct.\r\n\r\n     |-- date: date (nullable = true)\r\n     |-- value: float (nullable = true)\r\n     |-- id: string (nullable = true)\r\n     |-- title: string (nullable = true)\r\n     |-- state: string (nullable = true)\r\n     |-- frequency_short: string (nullable = true)\r\n     |-- units_short: string (nullable = true)\r\n     |-- seasonal_adjustment_short: string (nullable = true)\r\n\r\nBut the generated columns are full with null values:\r\n\r\n    +----+-----+----+-----+-----+---------------+-----------+-------------------------+\r\n    |date|value|  id|title|state|frequency_short|units_short|seasonal_adjustment_short|\r\n    +----+-----+----+-----+-----+---------------+-----------+-------------------------+\r\n    |null| null|null| null| null|           null|       null|                     null|\r\n    |null| null|null| null| null|           null|       null|                     null|\r\n    |null| null|null| null| null|           null|       null|                     null|\r\n    |null| null|null| null| null|           null|       null|                     null|\r\n    |null| null|null| null| null|           null|       null|                     null|\r\n\r\nI think the schema of dataframe is generated correctly but extracting data parts have some problems.\r\n","title":"How to transform CSV type string to dataframe in Spark SQL Java?","body":"<p>I make Spark Java client codes with Spark structured streaming API. These code extract CSV type string from Kafka</p>\n<pre><code>SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;KafkaMongoStream&quot;).getOrCreate();\n        \nDataset&lt;Row&gt; df = spark.read().format(&quot;kafka&quot;).option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;))\n            .option(&quot;subscribe&quot;, &quot;topicForMongoDB&quot;)\n            .option(&quot;startingOffsets&quot;, &quot;earliest&quot;)\n            .load()\n            .selectExpr(&quot;CAST(value AS STRING)&quot;);\n            \ndf.show();\n</code></pre>\n<p>The returned results are successful. Those codes print the CSV type string.</p>\n<pre><code>+--------------------+\n|               value|\n+--------------------+\n|realtime_start,re...|\n|2021-01-27,2021-0...|\n|2021-01-27,2021-0...|\n|2021-01-27,2021-0...|\n|2021-01-27,2021-0...|\n|2021-01-27,2021-0...|\n</code></pre>\n<p>Then I try to transform these strings to Spark dataframe in Spark SQL. First, below codes are the Java POJO class</p>\n<pre><code>public class EntityMongoDB implements Serializable {\n\n    private Date date;\n    private float value;\n    private String id;\n    private String title;\n    private String state;\n    private String frequency_short;\n    private String units_short;\n    private String seasonal_adjustment_short;\n    \n    private static StructType structType = DataTypes.createStructType(new StructField[] {\n              \n              DataTypes.createStructField(&quot;date&quot;, DataTypes.DateType, false),\n              DataTypes.createStructField(&quot;value&quot;, DataTypes.FloatType, false),\n              DataTypes.createStructField(&quot;id&quot;, DataTypes.StringType, false),\n              DataTypes.createStructField(&quot;title&quot;, DataTypes.StringType, false),\n              DataTypes.createStructField(&quot;state&quot;, DataTypes.StringType, false),\n              DataTypes.createStructField(&quot;frequency_short&quot;, DataTypes.StringType, false),\n              DataTypes.createStructField(&quot;units_short&quot;, DataTypes.StringType, false),\n              DataTypes.createStructField(&quot;seasonal_adjustment_short&quot;, DataTypes.StringType, false)\n    });\n    \n    public static StructType getStructType() {\n        return structType;\n    }\n}\n</code></pre>\n<p>And I make codes to transform those CSV type string to dataframe</p>\n<pre><code>Dataset&lt;Row&gt; dfs = df.select(from_json(col(&quot;value&quot;), EntityMongoDB.getStructType())\n        .as(&quot;entityMongoDB&quot;))\n        .selectExpr(&quot;entityMongoDB.date&quot;, &quot;entityMongoDB.value&quot;, &quot;entityMongoDB.id&quot;, \n                &quot;entityMongoDB.title&quot;, &quot;entityMongoDB.state&quot;, &quot;entityMongoDB.frequency_short&quot;, \n                &quot;entityMongoDB.units_short&quot;, &quot;entityMongoDB.seasonal_adjustment_short&quot;).toDF();\n\ndfs.show();\ndfs.printSchema();\n</code></pre>\n<p>The printed schema is correct.</p>\n<pre><code> |-- date: date (nullable = true)\n |-- value: float (nullable = true)\n |-- id: string (nullable = true)\n |-- title: string (nullable = true)\n |-- state: string (nullable = true)\n |-- frequency_short: string (nullable = true)\n |-- units_short: string (nullable = true)\n |-- seasonal_adjustment_short: string (nullable = true)\n</code></pre>\n<p>But the generated columns are full with null values:</p>\n<pre><code>+----+-----+----+-----+-----+---------------+-----------+-------------------------+\n|date|value|  id|title|state|frequency_short|units_short|seasonal_adjustment_short|\n+----+-----+----+-----+-----+---------------+-----------+-------------------------+\n|null| null|null| null| null|           null|       null|                     null|\n|null| null|null| null| null|           null|       null|                     null|\n|null| null|null| null| null|           null|       null|                     null|\n|null| null|null| null| null|           null|       null|                     null|\n|null| null|null| null| null|           null|       null|                     null|\n</code></pre>\n<p>I think the schema of dataframe is generated correctly but extracting data parts have some problems.</p>\n"},{"tags":["java","ajax","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1638829431,"post_id":70252608,"comment_id":124187647,"body_markdown":"The method signature should probably be something like: `public String ProgramsController(@RequestParam(&quot;oper&quot;) int oper, @RequestParam(&quot;page&quot;) int page)`.  See @RequestParam for more details.","body":"The method signature should probably be something like: <code>public String ProgramsController(@RequestParam(&quot;oper&quot;) int oper, @RequestParam(&quot;page&quot;) int page)</code>.  See @RequestParam for more details."},{"owner":{"account_id":5655500,"reputation":21,"user_id":4474826,"display_name":"Mikhail Grebenev"},"score":0,"creation_date":1638908087,"post_id":70252608,"comment_id":124211736,"body_markdown":"Thanks, work!!!","body":"Thanks, work!!!"}],"owner":{"account_id":5655500,"reputation":21,"user_id":4474826,"display_name":"Mikhail Grebenev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638830074,"creation_date":1638828789,"question_id":70252608,"body_markdown":"how can I pass parameters to the controller?\r\nhtml js:\r\n\r\n    window.open(&quot;/programs?oper=0&amp;page=1&quot;, &quot;_self&quot;);\r\n\r\nJava SpringBoot conntroller:\r\n\r\n    @RequestMapping(value = { &quot;/programs&quot; }, method = RequestMethod.GET)\r\n    public String ProgramsController(Model model) throws ClassNotFoundException {\r\n        programs cl=new programs();\r\n        int oper=Integer.parseInt(model.getAttribute(&quot;oper&quot;).toString());\r\n        switch (oper){\r\n            case 0://переход на страницу выбора программ\r\n                int page=Integer.parseInt(model.getAttribute(&quot;page&quot;).toString());\r\n                int all_pages=0;\r\n                //определяем сколько всего страниц\r\n                all_pages = cl.getSizePages();\r\n                struct_programs mas_result1=null;\r\n                //if(all_pages&gt;0)mas_result1=cl.getPrograms(lang, page);\r\n                break;\r\n        }\r\n        return &quot;programs&quot;;\r\n    }\r\n\r\nI am now getting the error:\r\njava.lang.NullPointerException: null\r\n\tat com.soft.soft.controllers.Controllers.ProgramsController(Controllers.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]","title":"How can I pass parameters to the controller?","body":"<p>how can I pass parameters to the controller?\nhtml js:</p>\n<pre><code>window.open(&quot;/programs?oper=0&amp;page=1&quot;, &quot;_self&quot;);\n</code></pre>\n<p>Java SpringBoot conntroller:</p>\n<pre><code>@RequestMapping(value = { &quot;/programs&quot; }, method = RequestMethod.GET)\npublic String ProgramsController(Model model) throws ClassNotFoundException {\n    programs cl=new programs();\n    int oper=Integer.parseInt(model.getAttribute(&quot;oper&quot;).toString());\n    switch (oper){\n        case 0://переход на страницу выбора программ\n            int page=Integer.parseInt(model.getAttribute(&quot;page&quot;).toString());\n            int all_pages=0;\n            //определяем сколько всего страниц\n            all_pages = cl.getSizePages();\n            struct_programs mas_result1=null;\n            //if(all_pages&gt;0)mas_result1=cl.getPrograms(lang, page);\n            break;\n    }\n    return &quot;programs&quot;;\n}\n</code></pre>\n<p>I am now getting the error:\njava.lang.NullPointerException: null\nat com.soft.soft.controllers.Controllers.ProgramsController(Controllers.java:20) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]</p>\n"},{"tags":["java","android-studio","arraylist"],"comments":[{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1638590548,"post_id":70222913,"comment_id":124135516,"body_markdown":"You could not possibly call either items.remove(1) or items.remove(&quot;test&quot;) with this code, so you&#39;re not providing accurate information","body":"You could not possibly call either items.remove(1) or items.remove(&quot;test&quot;) with this code, so you&#39;re not providing accurate information"}],"answers":[{"tags":[],"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638829788,"creation_date":1638590519,"answer_id":70222937,"question_id":70222913,"body_markdown":"The &quot;remove&quot; methods implemented in the various interfaces that make up ArrayList take different arguments and do very different things.\r\n\r\n\r\nIf you look at the &lt;b&gt;&quot;List interface&quot;&lt;/b&gt; there are two methods\r\n\r\n    public interface List&lt;E&gt; extends Collection&lt;E&gt; {\r\n        ...\r\n\r\n        // It removes from the position in the list so it&#39;s \r\n        // going to work if the list has more than &quot;index&quot; \r\n        // items. So when you call it with an integer this \r\n        // gets used and works.\r\n\r\n        public E remove(int index) \r\n\r\n        ...\r\n        // There is a second remove method in the interface\r\n\r\n        // This Removes an object from the list if the object \r\n        // equals an object in the list. So when you pass it a \r\n        // string ie &quot;test&quot; this cannot work because &quot;test&quot; is \r\n        // not a ToDoItem so the equals comparison fails.\r\n\r\n        boolean remove(Object o);\r\n        ...\r\n    }\r\n\r\n\r\nIf you want to use the &lt;b&gt;boolean remove(Object o);&lt;/b&gt; method ie remove an Object you need to make sure the &quot;equals&quot; method is going to work in &quot;ToDoItem&quot;. So what does your equals method look like in ToDoItem?\r\n","title":"Remove object from Arraylist Java, only working in specific scenarios","body":"<p>The &quot;remove&quot; methods implemented in the various interfaces that make up ArrayList take different arguments and do very different things.</p>\n<p>If you look at the <b>&quot;List interface&quot;</b> there are two methods</p>\n<pre><code>public interface List&lt;E&gt; extends Collection&lt;E&gt; {\n    ...\n\n    // It removes from the position in the list so it's \n    // going to work if the list has more than &quot;index&quot; \n    // items. So when you call it with an integer this \n    // gets used and works.\n\n    public E remove(int index) \n\n    ...\n    // There is a second remove method in the interface\n\n    // This Removes an object from the list if the object \n    // equals an object in the list. So when you pass it a \n    // string ie &quot;test&quot; this cannot work because &quot;test&quot; is \n    // not a ToDoItem so the equals comparison fails.\n\n    boolean remove(Object o);\n    ...\n}\n</code></pre>\n<p>If you want to use the <b>boolean remove(Object o);</b> method ie remove an Object you need to make sure the &quot;equals&quot; method is going to work in &quot;ToDoItem&quot;. So what does your equals method look like in ToDoItem?</p>\n"},{"tags":[],"owner":{"account_id":10404394,"reputation":193,"user_id":7706073,"display_name":"Gaurav Kukade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638606440,"creation_date":1638606440,"answer_id":70224113,"question_id":70222913,"body_markdown":"Your `items` only accepts the `ToDoItem` objects.\r\n\r\nSo, `items.remove(&quot;test&quot;)` will not work. Here `&quot;test&quot;` is a String object.\r\n\r\nBut `items.remove(1)` will work because here you are passing an `index` value as a parameter to `remove()` method. So the object from `items` at the specified index will be removed.\r\n\r\nTo remove the specified object from `items` list, you need to pass the `ToDoItem` object as a parameter.\r\n\r\nRead more: [How To Remove An Element From An ArrayList?](https://coderolls.com/remove-element-from-arraylist/)\r\n\r\nNote: If you want to compare two `ToDoItem` objects by its data members values, [override the equals](https://www.geeksforgeeks.org/override-equalsobject-hashcode-method/) method in `ToDoItem`.","title":"Remove object from Arraylist Java, only working in specific scenarios","body":"<p>Your <code>items</code> only accepts the <code>ToDoItem</code> objects.</p>\n<p>So, <code>items.remove(&quot;test&quot;)</code> will not work. Here <code>&quot;test&quot;</code> is a String object.</p>\n<p>But <code>items.remove(1)</code> will work because here you are passing an <code>index</code> value as a parameter to <code>remove()</code> method. So the object from <code>items</code> at the specified index will be removed.</p>\n<p>To remove the specified object from <code>items</code> list, you need to pass the <code>ToDoItem</code> object as a parameter.</p>\n<p>Read more: <a href=\"https://coderolls.com/remove-element-from-arraylist/\" rel=\"nofollow noreferrer\">How To Remove An Element From An ArrayList?</a></p>\n<p>Note: If you want to compare two <code>ToDoItem</code> objects by its data members values, <a href=\"https://www.geeksforgeeks.org/override-equalsobject-hashcode-method/\" rel=\"nofollow noreferrer\">override the equals</a> method in <code>ToDoItem</code>.</p>\n"}],"owner":{"account_id":22612649,"reputation":31,"user_id":16792571,"display_name":"Hypo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638829788,"creation_date":1638590170,"question_id":70222913,"body_markdown":"I&#39;m trying to remove an object from an arraylist in java using android studio.\r\n\r\n```\r\npublic class ToDoListManager {\r\n\r\n    private List&lt;ToDoItem&gt; items;\r\n\r\n    public ToDoListManager() {\r\n        items = new ArrayList&lt;ToDoItem&gt;();\r\n\r\n        items.add(new ToDoItem(&quot;Get Milk&quot;, false));\r\n        items.add(new ToDoItem(&quot;Walk the dog&quot;, true));\r\n        items.add(new ToDoItem(&quot;Go to the gym&quot;, false));\r\n    }\r\n\r\n    public List&lt;ToDoItem&gt; getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void addItem(ToDoItem item) {\r\n        items.add(item);\r\n    }\r\n\r\n    public void removeItem(ToDoItem item) {\r\n       items.remove(item);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been calling the removeItem function from a keypress\r\n\r\nWhen I add, let&#39;s say &quot;test&quot; to the array, it successfully adds it using  items.add(item), however when I try items.remove(item) given the same string, it won&#39;t work.\r\nIt works if I do `items.remove(1)`, but not if I do `items.remove(&quot;test&quot;)`\r\n\r\nHow could I fix this? I&#39;ve tried many different ways. Thanks.","title":"Remove object from Arraylist Java, only working in specific scenarios","body":"<p>I'm trying to remove an object from an arraylist in java using android studio.</p>\n<pre><code>public class ToDoListManager {\n\n    private List&lt;ToDoItem&gt; items;\n\n    public ToDoListManager() {\n        items = new ArrayList&lt;ToDoItem&gt;();\n\n        items.add(new ToDoItem(&quot;Get Milk&quot;, false));\n        items.add(new ToDoItem(&quot;Walk the dog&quot;, true));\n        items.add(new ToDoItem(&quot;Go to the gym&quot;, false));\n    }\n\n    public List&lt;ToDoItem&gt; getItems() {\n        return items;\n    }\n\n    public void addItem(ToDoItem item) {\n        items.add(item);\n    }\n\n    public void removeItem(ToDoItem item) {\n       items.remove(item);\n    }\n}\n</code></pre>\n<p>I've been calling the removeItem function from a keypress</p>\n<p>When I add, let's say &quot;test&quot; to the array, it successfully adds it using  items.add(item), however when I try items.remove(item) given the same string, it won't work.\nIt works if I do <code>items.remove(1)</code>, but not if I do <code>items.remove(&quot;test&quot;)</code></p>\n<p>How could I fix this? I've tried many different ways. Thanks.</p>\n"},{"tags":["java","list","sorting","arraylist"],"comments":[{"owner":{"account_id":7796351,"reputation":71,"user_id":5897282,"display_name":"Muhammad Gulfam"},"score":0,"creation_date":1638822726,"post_id":70251556,"comment_id":124185614,"body_markdown":"Won&#39;t it work if you treat it as string which it is? 2011/12/31 will be earlier than 2012/12/31.","body":"Won&#39;t it work if you treat it as string which it is? 2011/12/31 will be earlier than 2012/12/31."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638822831,"post_id":70251556,"comment_id":124185659,"body_markdown":"`someObjectList.sort(Comparator.comparing(someobject::getCreateDate));`","body":"<code>someObjectList.sort(Comparator.comparing(someobject::getCrea&zwnj;&#8203;teDate));</code>"},{"owner":{"account_id":11699410,"reputation":11,"user_id":11254714,"display_name":"Marshall Munoz"},"score":0,"creation_date":1638823252,"post_id":70251556,"comment_id":124185801,"body_markdown":"@MuhammadGulfam Currently it is a string, this is legacy code, but I need to sort this list based on that date. I&#39;m sure theres a stream where I could convert it to a datetime then sort based on that.","body":"@MuhammadGulfam Currently it is a string, this is legacy code, but I need to sort this list based on that date. I&#39;m sure theres a stream where I could convert it to a datetime then sort based on that."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638837012,"post_id":70251556,"comment_id":124189209,"body_markdown":"Best solution is to store that value as a `LocalDate` rather than String.","body":"Best solution is to store that value as a <code>LocalDate</code> rather than String."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638823946,"creation_date":1638823620,"answer_id":70251765,"question_id":70251556,"body_markdown":"For getting the correct comparing result you have to convert String value from the field &quot;creationDate&quot; to Date or LocalDate than you have to make Comparator for instance like that:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY/MM/DD&quot;);\r\n    someObjectList.sort(Comparator.comparingLong(ob -&gt; formatter.parse(ob.createDate).get(ChronoField.EPOCH_DAY)));\r\n\r\nor\r\n\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY/MM/DD&quot;);\r\n\tsomeObjectList.sort(Comparator.comparingLong(ob -&gt; LocalDate.parse(ob.createDate, formatter).atStartOfDay(ZoneId.systemDefault()).toEpochSecond()));","title":"how to sort on a string date on a collection of objects","body":"<p>For getting the correct comparing result you have to convert String value from the field &quot;creationDate&quot; to Date or LocalDate than you have to make Comparator for instance like that:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY/MM/DD&quot;);\nsomeObjectList.sort(Comparator.comparingLong(ob -&gt; formatter.parse(ob.createDate).get(ChronoField.EPOCH_DAY)));\n</code></pre>\n<p>or</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY/MM/DD&quot;);\nsomeObjectList.sort(Comparator.comparingLong(ob -&gt; LocalDate.parse(ob.createDate, formatter).atStartOfDay(ZoneId.systemDefault()).toEpochSecond()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638829460,"creation_date":1638829460,"answer_id":70252702,"question_id":70251556,"body_markdown":"Dates in the format `YYYY/MM/DD` may be correctly sorted as strings, ie lexicographically, so:\r\n\r\n    someObjectList.sort(Comparator.comparing(someobject::getCreateDate));\r\n\r\nor, if you don&#39;t have a getter method for `createDate`:\r\n\r\n    someObjectList.sort(Comparator.comparing(o -&gt; o.createDate));\r\n","title":"how to sort on a string date on a collection of objects","body":"<p>Dates in the format <code>YYYY/MM/DD</code> may be correctly sorted as strings, ie lexicographically, so:</p>\n<pre><code>someObjectList.sort(Comparator.comparing(someobject::getCreateDate));\n</code></pre>\n<p>or, if you don't have a getter method for <code>createDate</code>:</p>\n<pre><code>someObjectList.sort(Comparator.comparing(o -&gt; o.createDate));\n</code></pre>\n"}],"owner":{"account_id":11699410,"reputation":11,"user_id":11254714,"display_name":"Marshall Munoz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638829460,"creation_date":1638822555,"question_id":70251556,"body_markdown":"So I&#39;m having trouble remembering the syntax. I have an List of objects I&#39;m trying to sort based on the value of date. The object looks like this.\r\n\r\n    Public class someobject{\r\n        private String author;\r\n\t    private String createDate;\r\n\t    private String subject;\r\n\t    private String body;\r\n\t    private String claimNumber;\r\n\t    private String authoringDate;\r\n    }\r\n\r\nI&#39;m trying to sort on the createDate value. Something like \r\n\r\n    List&lt;someObject&gt; someObjectList = new ArrayList&lt;&gt;();\r\n\r\n    someObjectList.sort()\r\n    \r\n\r\ncurrently the way the strings are arriving for the createDate object is YYYY/MM/DD.","title":"how to sort on a string date on a collection of objects","body":"<p>So I'm having trouble remembering the syntax. I have an List of objects I'm trying to sort based on the value of date. The object looks like this.</p>\n<pre><code>Public class someobject{\n    private String author;\n    private String createDate;\n    private String subject;\n    private String body;\n    private String claimNumber;\n    private String authoringDate;\n}\n</code></pre>\n<p>I'm trying to sort on the createDate value. Something like</p>\n<pre><code>List&lt;someObject&gt; someObjectList = new ArrayList&lt;&gt;();\n\nsomeObjectList.sort()\n</code></pre>\n<p>currently the way the strings are arriving for the createDate object is YYYY/MM/DD.</p>\n"},{"tags":["java","android","export-to-csv","wear-os","android-sensors"],"answers":[{"tags":[],"owner":{"account_id":259908,"reputation":4688,"user_id":543136,"display_name":"TofferJ"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1638828970,"creation_date":1638828970,"answer_id":70252631,"question_id":70250275,"body_markdown":"I just want to start by saying that there are many ways to do this, and what&#39;s considered the &quot;best&quot; approach is highly dependent on the specifics to your use case (and sometimes personal preferences).\r\n\r\nThe most important thing to remember is that the watch has very limited resources (battery, memory, CPU) compared to a typical phone.\r\n\r\nHere are a few things to keep in mind no matter what your exact solution will look like:\r\n\r\n1) Writing to a file is an expensive operation. Doing this for every data point you receive from a sensor is not ideal. Consider saving your data to a database [using Room][1] instead. An easier alternative, as long as you are OK potentially losing some data if the app crashes or the device reboots unexpectedly, is to keep it in memory. This can be done using a basic array or some sort of Map (timestamp and value) depending on exactly what data you need. You can also use a hybrid of the two approaches and save data in batches.\r\n\r\n2) Sending data between the watch and the phone is also expensive. I highly suggest storing things on the watch itself and transfer it to the phone only when needed. This can be a manual trigger, daily at a certain time, when the watch is charging, or some other clever strategy to minimize the impact on the watch&#39;s battery life.\r\n\r\n3) You can send your data to the phone using the [Wearable Data Layer API][2]. You will have to set up either a `MessageClient` or a `ChannelClient` depending on how much data you need to transfer. If you stick to data structures that are supported by Android (as opposed to creating your own one), sending them over should be fairly straight forward.\r\n\r\n4) If you need to process or format your data in order for it to be easily analyzed in MATLAB, consider doing this on the phone rather than the watch. Simpler operations on reasonably sized data sets can of course be performed directly on the watch.\r\n\r\nExactly how you decide to get the file to your computer is outside of the scope of what I&#39;m trying to answer here. There are plenty of well-documented ways to do this. The easiest being to manually [transfer it via adb][3]. This can be done directly from the watch too, so you don&#39;t even have to send data to the phone.\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/room\r\n  [2]: https://developer.android.com/training/wearables/data/data-layer\r\n  [3]: https://developer.android.com/studio/command-line/adb#copyfiles","title":"What is the best way to save and transfer smartwatch sensor data on Android Wear OS (i.e. as CSV)?","body":"<p>I just want to start by saying that there are many ways to do this, and what's considered the &quot;best&quot; approach is highly dependent on the specifics to your use case (and sometimes personal preferences).</p>\n<p>The most important thing to remember is that the watch has very limited resources (battery, memory, CPU) compared to a typical phone.</p>\n<p>Here are a few things to keep in mind no matter what your exact solution will look like:</p>\n<ol>\n<li><p>Writing to a file is an expensive operation. Doing this for every data point you receive from a sensor is not ideal. Consider saving your data to a database <a href=\"https://developer.android.com/training/data-storage/room\" rel=\"noreferrer\">using Room</a> instead. An easier alternative, as long as you are OK potentially losing some data if the app crashes or the device reboots unexpectedly, is to keep it in memory. This can be done using a basic array or some sort of Map (timestamp and value) depending on exactly what data you need. You can also use a hybrid of the two approaches and save data in batches.</p>\n</li>\n<li><p>Sending data between the watch and the phone is also expensive. I highly suggest storing things on the watch itself and transfer it to the phone only when needed. This can be a manual trigger, daily at a certain time, when the watch is charging, or some other clever strategy to minimize the impact on the watch's battery life.</p>\n</li>\n<li><p>You can send your data to the phone using the <a href=\"https://developer.android.com/training/wearables/data/data-layer\" rel=\"noreferrer\">Wearable Data Layer API</a>. You will have to set up either a <code>MessageClient</code> or a <code>ChannelClient</code> depending on how much data you need to transfer. If you stick to data structures that are supported by Android (as opposed to creating your own one), sending them over should be fairly straight forward.</p>\n</li>\n<li><p>If you need to process or format your data in order for it to be easily analyzed in MATLAB, consider doing this on the phone rather than the watch. Simpler operations on reasonably sized data sets can of course be performed directly on the watch.</p>\n</li>\n</ol>\n<p>Exactly how you decide to get the file to your computer is outside of the scope of what I'm trying to answer here. There are plenty of well-documented ways to do this. The easiest being to manually <a href=\"https://developer.android.com/studio/command-line/adb#copyfiles\" rel=\"noreferrer\">transfer it via adb</a>. This can be done directly from the watch too, so you don't even have to send data to the phone.</p>\n"}],"owner":{"account_id":23565194,"reputation":75,"user_id":17606026,"display_name":"casella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70252631,"answer_count":1,"score":3,"last_activity_date":1638828970,"creation_date":1638815774,"question_id":70250275,"body_markdown":"I have written a Wear application for the Fossil Gen 6 smartwatch which extracts photoplethysmogram (PPG) data from an onboard sensor and updates the value on the screen continuously. Here is my ```onSensorChanged``` method, which recognizes events from the PPG sensor and updates the ```TextView``` object accordingly. I also attempt to write each datum to a CSV file using a ```FileWriter``` object.\r\n```\r\n@Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n\r\n        // On event from PPG sensor, update text on screen and\r\n        // write to CSV file.\r\n        if (event.sensor.getType() == 65572) {\r\n            sensorData = event.values[0];\r\n            String dataString = Float.toString(sensorData);\r\n            textView.setText(dataString);\r\n            try {\r\n                writer.write(dataString);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\nThe file writer is declared at the top of the ```MainActivity```:\r\n```\r\n    private FileWriter writer;\r\n```\r\nAnd is defined in the ```onResume``` method:\r\n```\r\nprotected void onResume() {\r\n        super.onResume();\r\n        try {\r\n            writer = new FileWriter(&quot;data.csv&quot;,true);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nWhat I am not sure how to do is actually *have* this file available to write to, whether it should be stored on the watch or on the paired phone somehow, and how I can ultimately retrieve the CSV data on my PC for analysis in MATLAB, etc. (Is there a better way to be doing this?) Thanks!","title":"What is the best way to save and transfer smartwatch sensor data on Android Wear OS (i.e. as CSV)?","body":"<p>I have written a Wear application for the Fossil Gen 6 smartwatch which extracts photoplethysmogram (PPG) data from an onboard sensor and updates the value on the screen continuously. Here is my <code>onSensorChanged</code> method, which recognizes events from the PPG sensor and updates the <code>TextView</code> object accordingly. I also attempt to write each datum to a CSV file using a <code>FileWriter</code> object.</p>\n<pre><code>@Override\n    public void onSensorChanged(SensorEvent event) {\n\n        // On event from PPG sensor, update text on screen and\n        // write to CSV file.\n        if (event.sensor.getType() == 65572) {\n            sensorData = event.values[0];\n            String dataString = Float.toString(sensorData);\n            textView.setText(dataString);\n            try {\n                writer.write(dataString);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>The file writer is declared at the top of the <code>MainActivity</code>:</p>\n<pre><code>    private FileWriter writer;\n</code></pre>\n<p>And is defined in the <code>onResume</code> method:</p>\n<pre><code>protected void onResume() {\n        super.onResume();\n        try {\n            writer = new FileWriter(&quot;data.csv&quot;,true);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>What I am not sure how to do is actually <em>have</em> this file available to write to, whether it should be stored on the watch or on the paired phone somehow, and how I can ultimately retrieve the CSV data on my PC for analysis in MATLAB, etc. (Is there a better way to be doing this?) Thanks!</p>\n"},{"tags":["java","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638827842,"creation_date":1638824170,"answer_id":70251851,"question_id":70250552,"body_markdown":"`function.definition` should be under `spring.cloud` not `spring.cloud.stream`.\r\n\r\nhttps://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#_overview\r\n\r\n__EDIT__\r\n\r\nI just copied your YAML into a new Boot application and it works fine for me.\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So70250552Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So70250552Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@Configuration\r\nclass XDRemoteDeliveryProcessor {\r\n\r\n\t@Bean\r\n\tpublic Consumer&lt;Message&lt;?&gt;&gt; directXDDeliveryInput() {\r\n\t\treturn System.out::println;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAre you sure that `@Configuration` class is picked up by Boot - is it in the right package?\r\n\r\n  [1]: https://i.stack.imgur.com/DgEWv.png\r\n","title":"Spring Cloud Stream can&#39;t create queue and binding","body":"<p><code>function.definition</code> should be under <code>spring.cloud</code> not <code>spring.cloud.stream</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#_overview\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#_overview</a></p>\n<p><strong>EDIT</strong></p>\n<p>I just copied your YAML into a new Boot application and it works fine for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So70250552Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So70250552Application.class, args);\n    }\n\n}\n\n@Configuration\nclass XDRemoteDeliveryProcessor {\n\n    @Bean\n    public Consumer&lt;Message&lt;?&gt;&gt; directXDDeliveryInput() {\n        return System.out::println;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DgEWv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DgEWv.png\" alt=\"enter image description here\" /></a></p>\n<p>Are you sure that <code>@Configuration</code> class is picked up by Boot - is it in the right package?</p>\n"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638828269,"creation_date":1638817270,"question_id":70250552,"body_markdown":"First - I&#39;m new to Spring Cloud Stream. I have a problem to crate one queue and binding between exchange and that queue using Cloud Spring Stream (3.2.1) and RabbitMQ\r\n\r\nApplication properties looks like (for not working part):\r\n\r\n```\r\nspring: \r\n  cloud:\r\n    function:\r\n      definition: directSmtpGatewayMessageInput;directStaProcessorInput;directStaPostProcessInput;directSmtpRemoteDeliveryInput;directXDDeliveryInput\r\n\r\n    stream: \r\n      source: direct-smtp-gateway-message;direct-smtp-remote-delivery;direct-sta-processor;direct-sta-post-process;direct-sta-last-mile;direct-xd-delivery\r\n    \r\n      bindings: \r\n\r\n        direct-xd-delivery-out-0: \r\n          destination: direct-xd-delivery-process          \r\n          \r\n        directXDDeliveryInput-in-0: \r\n          destination: direct-xd-delivery-process  \r\n          group: direct-xd-delivery-process-group\r\n          consumer:\r\n            concurrency: 10\r\n            maxAttempts: 5\r\n            backOffInitialInterval: 360000\r\n            backOffMaxInterval: 92160000\r\n            backOffMultiplier: 4\r\n```\r\n\r\nStream Bridge:\r\n```\r\n@Component\r\npublic class XDRemoteDeliverySource\r\n{\r\n\tprotected static final String OUT_BINDING_NAME = &quot;direct-xd-delivery-out-0&quot;;\r\n\t\r\n\t@Autowired\r\n\tprivate StreamBridge streamBridge;\r\n\t\r\n\tpublic &lt;T&gt; void xdRemoteDelivery(SMTPMailMessage msg) \r\n\t{\r\n\t\tstreamBridge.send(OUT_BINDING_NAME, SMTPMailMessageConverter.toStreamMessage(msg));\r\n\t}\r\n}\r\n```\r\n\r\nConsumer (as a stream processor):\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class XDRemoteDeliveryProcessor implements XDDeliveryCallback\r\n{\r\n\t@Autowired\r\n\tprotected XDDeliveryCore deliveryCore;\r\n\t\r\n\t@Autowired\r\n\tprotected SmtpGatewayMessageSource smtpMessageSource;\r\n\t\r\n\t@Autowired\r\n\tprotected DSNCreator dsnCreator;\r\n\t\r\n\t@Bean\r\n\tpublic Consumer&lt;Message&lt;?&gt;&gt; directXDDeliveryInput()\r\n\t{\r\n\t\treturn streamMsg -&gt; \r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t   final SMTPMailMessage smtpMessage = SMTPMailMessageConverter.fromStreamMessage(streamMsg);\r\n\r\n\t\t\t   deliveryCore.processAndDeliverXDMessage(smtpMessage);\r\n\t\t\t}\r\n\t\t\tcatch (MessagingException e)\r\n\t\t\t{\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI see message going to the `direct-xd-delivery-process` exchange and then, if I will create queue manually and bind it to the exchange as `direct-xd-delivery-process.direct-xd-delivery-process-group`, I will see message in the queue but for consumer still will not pick it up.\r\n\r\nSo my question is why defined consumer will not create queue and assigned binding as well will not pick up message from there if queue was created manually. \r\n\r\nPS.\r\nRabbitMQ:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ddPt0.png\r\n  [2]: https://i.stack.imgur.com/tiZ7J.png","title":"Spring Cloud Stream can&#39;t create queue and binding","body":"<p>First - I'm new to Spring Cloud Stream. I have a problem to crate one queue and binding between exchange and that queue using Cloud Spring Stream (3.2.1) and RabbitMQ</p>\n<p>Application properties looks like (for not working part):</p>\n<pre><code>spring: \n  cloud:\n    function:\n      definition: directSmtpGatewayMessageInput;directStaProcessorInput;directStaPostProcessInput;directSmtpRemoteDeliveryInput;directXDDeliveryInput\n\n    stream: \n      source: direct-smtp-gateway-message;direct-smtp-remote-delivery;direct-sta-processor;direct-sta-post-process;direct-sta-last-mile;direct-xd-delivery\n    \n      bindings: \n\n        direct-xd-delivery-out-0: \n          destination: direct-xd-delivery-process          \n          \n        directXDDeliveryInput-in-0: \n          destination: direct-xd-delivery-process  \n          group: direct-xd-delivery-process-group\n          consumer:\n            concurrency: 10\n            maxAttempts: 5\n            backOffInitialInterval: 360000\n            backOffMaxInterval: 92160000\n            backOffMultiplier: 4\n</code></pre>\n<p>Stream Bridge:</p>\n<pre><code>@Component\npublic class XDRemoteDeliverySource\n{\n    protected static final String OUT_BINDING_NAME = &quot;direct-xd-delivery-out-0&quot;;\n    \n    @Autowired\n    private StreamBridge streamBridge;\n    \n    public &lt;T&gt; void xdRemoteDelivery(SMTPMailMessage msg) \n    {\n        streamBridge.send(OUT_BINDING_NAME, SMTPMailMessageConverter.toStreamMessage(msg));\n    }\n}\n</code></pre>\n<p>Consumer (as a stream processor):</p>\n<pre><code>@Configuration\n@Slf4j\npublic class XDRemoteDeliveryProcessor implements XDDeliveryCallback\n{\n    @Autowired\n    protected XDDeliveryCore deliveryCore;\n    \n    @Autowired\n    protected SmtpGatewayMessageSource smtpMessageSource;\n    \n    @Autowired\n    protected DSNCreator dsnCreator;\n    \n    @Bean\n    public Consumer&lt;Message&lt;?&gt;&gt; directXDDeliveryInput()\n    {\n        return streamMsg -&gt; \n        {\n            try\n            {\n               final SMTPMailMessage smtpMessage = SMTPMailMessageConverter.fromStreamMessage(streamMsg);\n\n               deliveryCore.processAndDeliverXDMessage(smtpMessage);\n            }\n            catch (MessagingException e)\n            {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>I see message going to the <code>direct-xd-delivery-process</code> exchange and then, if I will create queue manually and bind it to the exchange as <code>direct-xd-delivery-process.direct-xd-delivery-process-group</code>, I will see message in the queue but for consumer still will not pick it up.</p>\n<p>So my question is why defined consumer will not create queue and assigned binding as well will not pick up message from there if queue was created manually.</p>\n<p>PS.\nRabbitMQ:</p>\n<p><a href=\"https://i.stack.imgur.com/ddPt0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddPt0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/tiZ7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tiZ7J.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","qt","qandroidjniobject"],"answers":[{"tags":[],"owner":{"account_id":9403276,"reputation":1111,"user_id":8422138,"display_name":"Eddie Lopez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638827758,"creation_date":1638823670,"answer_id":70251778,"question_id":70251313,"body_markdown":"You have to take the following steps:\r\n\r\n1. Call your Java object&#39;s function using name and `signature`:\r\n```\r\nQAndroidJniObject result = activity.callObjectMethod(&quot;myJavaTestMethodWithParam&quot;, &quot;(Ljava/lang/String;)B&quot;, myJString);\r\n```\r\n\r\nWhere `activity` is just what `QtAndroid::androidActivity()` returns, `myJavaTestMethodWithParam` your activity function and  `&quot;(Ljava/lang/String;)B&quot;` is its signature.\r\n\r\n\r\n2. Turn your QString into a jstring:\r\n```\r\nQString helloString(&quot;Hello&quot;);\r\n\r\nQAndroidJniObject string = QAndroidJniObject::fromString(helloString);\r\njstring myJString = string.object&lt;jstring&gt;();\r\n```\r\n\r\nTo understand the `signature` part, check: https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html#wp16432\r\n\r\nMore on calling Android/Java methods here: https://doc.qt.io/qt-5/qandroidjniobject.html#callObjectMethod-1","title":"How to pass parameters into Java method using QAndroidJniObject","body":"<p>You have to take the following steps:</p>\n<ol>\n<li>Call your Java object's function using name and <code>signature</code>:</li>\n</ol>\n<pre><code>QAndroidJniObject result = activity.callObjectMethod(&quot;myJavaTestMethodWithParam&quot;, &quot;(Ljava/lang/String;)B&quot;, myJString);\n</code></pre>\n<p>Where <code>activity</code> is just what <code>QtAndroid::androidActivity()</code> returns, <code>myJavaTestMethodWithParam</code> your activity function and  <code>&quot;(Ljava/lang/String;)B&quot;</code> is its signature.</p>\n<ol start=\"2\">\n<li>Turn your QString into a jstring:</li>\n</ol>\n<pre><code>QString helloString(&quot;Hello&quot;);\n\nQAndroidJniObject string = QAndroidJniObject::fromString(helloString);\njstring myJString = string.object&lt;jstring&gt;();\n</code></pre>\n<p>To understand the <code>signature</code> part, check: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html#wp16432\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html#wp16432</a></p>\n<p>More on calling Android/Java methods here: <a href=\"https://doc.qt.io/qt-5/qandroidjniobject.html#callObjectMethod-1\" rel=\"nofollow noreferrer\">https://doc.qt.io/qt-5/qandroidjniobject.html#callObjectMethod-1</a></p>\n"}],"owner":{"account_id":8873550,"reputation":7297,"user_id":6626554,"accept_rate":82,"display_name":"TheWaterProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638827758,"creation_date":1638821258,"question_id":70251313,"body_markdown":"In my Qt app, if I have a method written in Java inside my MainActivity class like below,\r\n\r\n\r\n\tpublic Boolean myJavaTestMethod() {\r\n        return true;\r\n    }\r\n\r\n\r\nI know that I can invoke the method in the following way:\r\n\r\n\r\n\tQAndroidJniObject method_retval = QtAndroid::androidActivity().callObjectMethod&lt;jboolean&gt;(&quot;myJavaTestMethod&quot;);\r\n\r\n**Question:**  \r\nAbove is great and it works. But, how do I pass a string from Qt C++ side into `myJavaTestMethod`?\r\n\r\nLets say I want to call the below method which takes an input parameter `String` into it\r\n\r\n\r\n\tpublic Boolean myJavaTestMethodWithParam(String str) {\r\n        return true;\r\n    }\r\n\r\n**Environment:**  \r\nI am using Qt 5.15.1 commercial version.","title":"How to pass parameters into Java method using QAndroidJniObject","body":"<p>In my Qt app, if I have a method written in Java inside my MainActivity class like below,</p>\n<pre><code>public Boolean myJavaTestMethod() {\n    return true;\n}\n</code></pre>\n<p>I know that I can invoke the method in the following way:</p>\n<pre><code>QAndroidJniObject method_retval = QtAndroid::androidActivity().callObjectMethod&lt;jboolean&gt;(&quot;myJavaTestMethod&quot;);\n</code></pre>\n<p><strong>Question:</strong><br />\nAbove is great and it works. But, how do I pass a string from Qt C++ side into <code>myJavaTestMethod</code>?</p>\n<p>Lets say I want to call the below method which takes an input parameter <code>String</code> into it</p>\n<pre><code>public Boolean myJavaTestMethodWithParam(String str) {\n    return true;\n}\n</code></pre>\n<p><strong>Environment:</strong><br />\nI am using Qt 5.15.1 commercial version.</p>\n"},{"tags":["java","search","binary"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1638744579,"post_id":70239222,"comment_id":124163637,"body_markdown":"extract `array.compToValue(mid, value)` into a variable, use this variable in the `if`-clauses instead of calculating the value twice.","body":"extract <code>array.compToValue(mid, value)</code> into a variable, use this variable in the <code>if</code>-clauses instead of calculating the value twice."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638744847,"post_id":70239222,"comment_id":124163693,"body_markdown":"A remark on the code: while possible, we should never skip the curly brackets (`{` and `}`) around a one-line `if`-, `else`-, `for`-. ... body. This can lead to nasty bugs.","body":"A remark on the code: while possible, we should never skip the curly brackets (<code>{</code> and <code>}</code>) around a one-line <code>if</code>-, <code>else</code>-, <code>for</code>-. ... body. This can lead to nasty bugs."},{"owner":{"account_id":20333982,"reputation":11,"user_id":14915208,"display_name":"raphaelpap"},"score":0,"creation_date":1638745019,"post_id":70239222,"comment_id":124163738,"body_markdown":"Thanks for your answers, it worked! I will take note about the brackets too.","body":"Thanks for your answers, it worked! I will take note about the brackets too."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1638826815,"post_id":70239222,"comment_id":124186876,"body_markdown":"what&#39;s a `MyArray`?","body":"what&#39;s a <code>MyArray</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638827153,"creation_date":1638825354,"answer_id":70252049,"question_id":70239222,"body_markdown":"Your code says nothing about whether the array is ordered. If the array is not ordered, you can do only linear search, and a search operation in O(log n) is impossible.\r\n\r\nIf the array is ordered, as [Turing85&#39;s comment](https://stackoverflow.com/questions/70239222/how-can-i-make-this-binary-search-code-more-efficient#comment124163637_70239222) says:\r\n\r\n&gt; extract `array.compToValue(mid, value)` into a variable, use this variable in the `if`-clauses instead of calculating the value twice.\r\n\r\nAlso useful advice is to always use curly brackets. Java allows to drop it if the code block is only a single line, but doing that is a bad practice.\r\n","title":"How can I make this binary search code more efficient?","body":"<p>Your code says nothing about whether the array is ordered. If the array is not ordered, you can do only linear search, and a search operation in O(log n) is impossible.</p>\n<p>If the array is ordered, as <a href=\"https://stackoverflow.com/questions/70239222/how-can-i-make-this-binary-search-code-more-efficient#comment124163637_70239222\">Turing85's comment</a> says:</p>\n<blockquote>\n<p>extract <code>array.compToValue(mid, value)</code> into a variable, use this variable in the <code>if</code>-clauses instead of calculating the value twice.</p>\n</blockquote>\n<p>Also useful advice is to always use curly brackets. Java allows to drop it if the code block is only a single line, but doing that is a bad practice.</p>\n"}],"owner":{"account_id":20333982,"reputation":11,"user_id":14915208,"display_name":"raphaelpap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638827153,"creation_date":1638744361,"question_id":70239222,"body_markdown":"    public class MySearch {\r\n    \r\n        public static int search(MyArray array, int value) {\r\n    \r\n            int index = -1;\r\n    \r\n            int start = 0, end = array.length - 1;\r\n    \r\n            while(start &lt;= end) {\r\n    \r\n                int mid = (start + end) / 2;\r\n    \r\n                if(array.compToValue(mid, value) == 1) end = mid - 1;\r\n                else if(array.compToValue(mid, value) == -1) start = mid + 1;\r\n                else return mid;\r\n            }\r\n    \r\n            return index;\r\n    \r\n        }\r\n    }\r\n\r\n![Error displayed][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DiOir.png\r\n\r\nIn some cases the number of comparisons is exceeded as you can see in the screenshot. I&#39;m not allowed to use read operations (get). The number of comparisons I&#39;m allowed to make is O(logn).","title":"How can I make this binary search code more efficient?","body":"<pre><code>public class MySearch {\n\n    public static int search(MyArray array, int value) {\n\n        int index = -1;\n\n        int start = 0, end = array.length - 1;\n\n        while(start &lt;= end) {\n\n            int mid = (start + end) / 2;\n\n            if(array.compToValue(mid, value) == 1) end = mid - 1;\n            else if(array.compToValue(mid, value) == -1) start = mid + 1;\n            else return mid;\n        }\n\n        return index;\n\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/DiOir.png\" alt=\"Error displayed\" /></p>\n<p>In some cases the number of comparisons is exceeded as you can see in the screenshot. I'm not allowed to use read operations (get). The number of comparisons I'm allowed to make is O(logn).</p>\n"},{"tags":["java","android","android-camera2"],"comments":[{"owner":{"account_id":23566964,"reputation":11,"user_id":17607569,"display_name":"lbusellato"},"score":0,"creation_date":1639678489,"post_id":70252351,"comment_id":124416705,"body_markdown":"To anyone trying this, I gave up on previewing the cameras simultaneously because I couldn&#39;t find anyway to do it. I settled for having a single camera open at any given time, and for alternatively closing it and reopening to a different physical camera, in order to snap pictures from both rear cameras. This was my goal and I&#39;m fine with it for the use I have in mind, but the ability to preview in real time both cameras would be a very nice addition.","body":"To anyone trying this, I gave up on previewing the cameras simultaneously because I couldn&#39;t find anyway to do it. I settled for having a single camera open at any given time, and for alternatively closing it and reopening to a different physical camera, in order to snap pictures from both rear cameras. This was my goal and I&#39;m fine with it for the use I have in mind, but the ability to preview in real time both cameras would be a very nice addition."}],"owner":{"account_id":23566964,"reputation":11,"user_id":17607569,"display_name":"lbusellato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638827108,"creation_date":1638827108,"question_id":70252351,"body_markdown":"As title says, I am trying to preview the two rear cameras on my phone on two separate textureviews. What I *can* do is preview the front camera and any of the rear cameras, but when I try to preview both rear cameras I get an &quot;ERROR_MAX_CAMERAS_IN_USE&quot; from the onError state callback method for the last-opened camera. By searching on the Internet and on here I couldn&#39;t really find any pointers on what I&#39;m doing wrong.\r\n\r\nFor completeness here&#39;s the code of my main activity java class, in which I setup the cameras and obtain the previews:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private final TextureView[] textureViews = new TextureView[2];\r\n    protected CameraDevice[] cameraDevices = new CameraDevice[2];\r\n    protected CameraCaptureSession[] cameraCaptureSessions = new CameraCaptureSession[2];\r\n    protected CaptureRequest.Builder[] captureRequestBuilders = new CaptureRequest.Builder[2];\r\n    private Size imageDimension;\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private final Handler[] mBackgroundHandlers = new Handler[2];\r\n    private final HandlerThread[] mBackgroundThreads = new HandlerThread[2];\r\n    private final int[] cameraIDs = {0, 2};\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textureViews[0] = findViewById(R.id.left);\r\n        textureViews[1] = findViewById(R.id.right);\r\n        assert textureViews[0] != null;\r\n        assert textureViews[1] != null;\r\n        textureViews[0].setSurfaceTextureListener(textureListener0);\r\n        textureViews[1].setSurfaceTextureListener(textureListener1);\r\n    }\r\n\r\n    TextureView.SurfaceTextureListener textureListener0 = new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n            openCamera(0);\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) { }\r\n\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) { }\r\n    };\r\n\r\n    TextureView.SurfaceTextureListener textureListener1 = new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n            openCamera(1);\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) { }\r\n\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) { }\r\n    };\r\n\r\n    private final CameraDevice.StateCallback stateCallback0 = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(CameraDevice camera) {\r\n            if(Debug.LOG) {\r\n                Log.e(Debug.TAG, camera.getId()+ &quot; onOpened.&quot;);\r\n            }\r\n            cameraDevices[0] = camera;\r\n            createCameraPreview(0);\r\n        }\r\n\r\n        @Override\r\n        public void onDisconnected(CameraDevice camera) {\r\n            cameraDevices[0].close();\r\n        }\r\n\r\n        @Override\r\n        public void onError(CameraDevice camera, int error) {\r\n            cameraDevices[0].close();\r\n            cameraDevices[0] = null;\r\n        }\r\n    };\r\n\r\n    private final CameraDevice.StateCallback stateCallback1 = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(CameraDevice camera) {\r\n            if(Debug.LOG) {\r\n                Log.e(Debug.TAG, camera.getId() + &quot; onOpened.&quot;);\r\n            }\r\n            cameraDevices[1] = camera;\r\n            createCameraPreview(1);\r\n        }\r\n\r\n        @Override\r\n        public void onDisconnected(CameraDevice camera) {\r\n            cameraDevices[1].close();\r\n        }\r\n\r\n        @Override\r\n        public void onError(CameraDevice camera, int error) {\r\n            cameraDevices[1].close();\r\n            cameraDevices[1] = null;\r\n        }\r\n    };\r\n\r\n    protected void startBackgroundThreads() {\r\n        mBackgroundThreads[0] = new HandlerThread(&quot;Left camera Background&quot;);\r\n        mBackgroundThreads[0].start();\r\n        mBackgroundHandlers[0] = new Handler(mBackgroundThreads[0].getLooper());\r\n        mBackgroundThreads[1] = new HandlerThread(&quot;Right camera Background&quot;);\r\n        mBackgroundThreads[1].start();\r\n        mBackgroundHandlers[1] = new Handler(mBackgroundThreads[1].getLooper());\r\n    }\r\n\r\n    protected void stopBackgroundThreads() {\r\n        mBackgroundThreads[0].quitSafely();\r\n        mBackgroundThreads[1].quitSafely();\r\n        try {\r\n            mBackgroundThreads[0].join();\r\n            mBackgroundThreads[0] = null;\r\n            mBackgroundHandlers[0] = null;\r\n            mBackgroundThreads[1].join();\r\n            mBackgroundThreads[1] = null;\r\n            mBackgroundHandlers[1] = null;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected void createCameraPreview(int cameraID) {\r\n        try {\r\n            SurfaceTexture texture = textureViews[cameraID].getSurfaceTexture();\r\n            assert texture != null;\r\n            texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\r\n            Surface surface = new Surface(texture);\r\n            captureRequestBuilders[cameraID] = cameraDevices[cameraID].createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilders[cameraID].addTarget(surface);\r\n            cameraDevices[cameraID].createCaptureSession(Collections.singletonList(surface), new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    if (null == cameraDevices[cameraID]) {\r\n                        return;\r\n                    }\r\n                    cameraCaptureSessions[cameraID] = cameraCaptureSession;\r\n                    updatePreview(cameraID);\r\n                }\r\n\r\n                @Override\r\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    Toast.makeText(MainActivity.this, &quot;Configuration change&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void openCamera(int cameraID) {\r\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        if(Debug.LOG) {\r\n            Log.e(Debug.TAG, &quot;openCamera &quot; + cameraIDs[cameraID]);\r\n        }\r\n        try {\r\n            String cameraId = manager.getCameraIdList()[cameraIDs[cameraID]];\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\r\n            StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n            assert map != null;\r\n            imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\r\n            // Add permission for camera and let user grant the permission\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\r\n                return;\r\n            }\r\n            manager.openCamera(cameraId, (cameraID == 0) ? stateCallback0 : stateCallback1, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if(Debug.LOG) {\r\n            Log.e(Debug.TAG, &quot;openCamera exited&quot;);\r\n        }\r\n    }\r\n\r\n    protected void updatePreview(int cameraID) {\r\n        if (null == cameraDevices[cameraID]) {\r\n            if(Debug.LOG) {\r\n                Log.e(Debug.TAG, &quot;updatePreview error, return&quot;);\r\n            }\r\n        }\r\n        captureRequestBuilders[cameraID].set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n        try {\r\n            cameraCaptureSessions[cameraID].setRepeatingRequest(captureRequestBuilders[cameraID].build(), null, mBackgroundHandlers[cameraID]);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void closeCamera(int cameraID) {\r\n        if (null != cameraDevices[cameraID]) {\r\n            cameraDevices[cameraID].close();\r\n            cameraDevices[cameraID] = null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        startBackgroundThreads();\r\n        if(textureViews[0].isAvailable()) {\r\n            openCamera(0);\r\n        } else {\r\n            textureViews[0].setSurfaceTextureListener(textureListener0);\r\n        }\r\n        if(textureViews[1].isAvailable()) {\r\n            openCamera(1);\r\n        } else {\r\n            textureViews[1].setSurfaceTextureListener(textureListener1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        closeCamera(0);\r\n        closeCamera(1);\r\n        stopBackgroundThreads();\r\n        super.onPause();\r\n    }\r\n","title":"Previewing simultaneously two rear cameras with Android Camera2","body":"<p>As title says, I am trying to preview the two rear cameras on my phone on two separate textureviews. What I <em>can</em> do is preview the front camera and any of the rear cameras, but when I try to preview both rear cameras I get an &quot;ERROR_MAX_CAMERAS_IN_USE&quot; from the onError state callback method for the last-opened camera. By searching on the Internet and on here I couldn't really find any pointers on what I'm doing wrong.</p>\n<p>For completeness here's the code of my main activity java class, in which I setup the cameras and obtain the previews:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate final TextureView[] textureViews = new TextureView[2];\nprotected CameraDevice[] cameraDevices = new CameraDevice[2];\nprotected CameraCaptureSession[] cameraCaptureSessions = new CameraCaptureSession[2];\nprotected CaptureRequest.Builder[] captureRequestBuilders = new CaptureRequest.Builder[2];\nprivate Size imageDimension;\nprivate static final int REQUEST_CAMERA_PERMISSION = 200;\nprivate final Handler[] mBackgroundHandlers = new Handler[2];\nprivate final HandlerThread[] mBackgroundThreads = new HandlerThread[2];\nprivate final int[] cameraIDs = {0, 2};\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    textureViews[0] = findViewById(R.id.left);\n    textureViews[1] = findViewById(R.id.right);\n    assert textureViews[0] != null;\n    assert textureViews[1] != null;\n    textureViews[0].setSurfaceTextureListener(textureListener0);\n    textureViews[1].setSurfaceTextureListener(textureListener1);\n}\n\nTextureView.SurfaceTextureListener textureListener0 = new TextureView.SurfaceTextureListener() {\n    @Override\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n        openCamera(0);\n    }\n\n    @Override\n    public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) { }\n\n    @Override\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n        return false;\n    }\n\n    @Override\n    public void onSurfaceTextureUpdated(SurfaceTexture surface) { }\n};\n\nTextureView.SurfaceTextureListener textureListener1 = new TextureView.SurfaceTextureListener() {\n    @Override\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n        openCamera(1);\n    }\n\n    @Override\n    public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) { }\n\n    @Override\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n        return false;\n    }\n\n    @Override\n    public void onSurfaceTextureUpdated(SurfaceTexture surface) { }\n};\n\nprivate final CameraDevice.StateCallback stateCallback0 = new CameraDevice.StateCallback() {\n    @Override\n    public void onOpened(CameraDevice camera) {\n        if(Debug.LOG) {\n            Log.e(Debug.TAG, camera.getId()+ &quot; onOpened.&quot;);\n        }\n        cameraDevices[0] = camera;\n        createCameraPreview(0);\n    }\n\n    @Override\n    public void onDisconnected(CameraDevice camera) {\n        cameraDevices[0].close();\n    }\n\n    @Override\n    public void onError(CameraDevice camera, int error) {\n        cameraDevices[0].close();\n        cameraDevices[0] = null;\n    }\n};\n\nprivate final CameraDevice.StateCallback stateCallback1 = new CameraDevice.StateCallback() {\n    @Override\n    public void onOpened(CameraDevice camera) {\n        if(Debug.LOG) {\n            Log.e(Debug.TAG, camera.getId() + &quot; onOpened.&quot;);\n        }\n        cameraDevices[1] = camera;\n        createCameraPreview(1);\n    }\n\n    @Override\n    public void onDisconnected(CameraDevice camera) {\n        cameraDevices[1].close();\n    }\n\n    @Override\n    public void onError(CameraDevice camera, int error) {\n        cameraDevices[1].close();\n        cameraDevices[1] = null;\n    }\n};\n\nprotected void startBackgroundThreads() {\n    mBackgroundThreads[0] = new HandlerThread(&quot;Left camera Background&quot;);\n    mBackgroundThreads[0].start();\n    mBackgroundHandlers[0] = new Handler(mBackgroundThreads[0].getLooper());\n    mBackgroundThreads[1] = new HandlerThread(&quot;Right camera Background&quot;);\n    mBackgroundThreads[1].start();\n    mBackgroundHandlers[1] = new Handler(mBackgroundThreads[1].getLooper());\n}\n\nprotected void stopBackgroundThreads() {\n    mBackgroundThreads[0].quitSafely();\n    mBackgroundThreads[1].quitSafely();\n    try {\n        mBackgroundThreads[0].join();\n        mBackgroundThreads[0] = null;\n        mBackgroundHandlers[0] = null;\n        mBackgroundThreads[1].join();\n        mBackgroundThreads[1] = null;\n        mBackgroundHandlers[1] = null;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprotected void createCameraPreview(int cameraID) {\n    try {\n        SurfaceTexture texture = textureViews[cameraID].getSurfaceTexture();\n        assert texture != null;\n        texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\n        Surface surface = new Surface(texture);\n        captureRequestBuilders[cameraID] = cameraDevices[cameraID].createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n        captureRequestBuilders[cameraID].addTarget(surface);\n        cameraDevices[cameraID].createCaptureSession(Collections.singletonList(surface), new CameraCaptureSession.StateCallback() {\n            @Override\n            public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                if (null == cameraDevices[cameraID]) {\n                    return;\n                }\n                cameraCaptureSessions[cameraID] = cameraCaptureSession;\n                updatePreview(cameraID);\n            }\n\n            @Override\n            public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n                Toast.makeText(MainActivity.this, &quot;Configuration change&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }, null);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void openCamera(int cameraID) {\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    if(Debug.LOG) {\n        Log.e(Debug.TAG, &quot;openCamera &quot; + cameraIDs[cameraID]);\n    }\n    try {\n        String cameraId = manager.getCameraIdList()[cameraIDs[cameraID]];\n        CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n        StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n        assert map != null;\n        imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\n        // Add permission for camera and let user grant the permission\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\n            return;\n        }\n        manager.openCamera(cameraId, (cameraID == 0) ? stateCallback0 : stateCallback1, null);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n\n    if(Debug.LOG) {\n        Log.e(Debug.TAG, &quot;openCamera exited&quot;);\n    }\n}\n\nprotected void updatePreview(int cameraID) {\n    if (null == cameraDevices[cameraID]) {\n        if(Debug.LOG) {\n            Log.e(Debug.TAG, &quot;updatePreview error, return&quot;);\n        }\n    }\n    captureRequestBuilders[cameraID].set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n    try {\n        cameraCaptureSessions[cameraID].setRepeatingRequest(captureRequestBuilders[cameraID].build(), null, mBackgroundHandlers[cameraID]);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void closeCamera(int cameraID) {\n    if (null != cameraDevices[cameraID]) {\n        cameraDevices[cameraID].close();\n        cameraDevices[cameraID] = null;\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == REQUEST_CAMERA_PERMISSION) {\n        if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n            finish();\n        }\n    }\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    startBackgroundThreads();\n    if(textureViews[0].isAvailable()) {\n        openCamera(0);\n    } else {\n        textureViews[0].setSurfaceTextureListener(textureListener0);\n    }\n    if(textureViews[1].isAvailable()) {\n        openCamera(1);\n    } else {\n        textureViews[1].setSurfaceTextureListener(textureListener1);\n    }\n}\n\n@Override\nprotected void onPause() {\n    closeCamera(0);\n    closeCamera(1);\n    stopBackgroundThreads();\n    super.onPause();\n}\n</code></pre>\n"},{"tags":["java","junit5","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638827094,"creation_date":1638823325,"answer_id":70251707,"question_id":70251376,"body_markdown":"The response is of type Array:\r\n\r\n    [{&quot;id&quot;:null,&quot;city&quot;:&quot;espoo&quot;,&quot;country&quot;:null,&quot;description&quot;:null,&quot;currentTemp&quot;:0.0,&quot;feelsLike&quot;:3.3,&quot;minTemp&quot;:2.2,&quot;maxTemp&quot;:5.5,&quot;tempLimit&quot;:3.0,&quot;frequency&quot;:5,&quot;frequencyUnit&quot;:&quot;SECOND&quot;,&quot;uri&quot;:&quot;https://api.openweathermap.org/data/2.5/weather?q=espoo&amp;units=metric&amp;APPID=5536a9b0c84d081997982254c24fc53a&quot;}]\r\n\r\nTherefore you will need to choose the index first, then attribute `$[0].city`\r\n\r\n\r\n     .andExpect(jsonPath(&quot;$[0].city&quot;, is(espoo)))\r\n\r\n=== Edited ===\r\n\r\nPlease try:\r\n\r\n      .andExpect(jsonPath(&quot;$[0].city&quot;).value(&quot;espoo&quot;));\r\n\r\n\r\n\r\n\r\n","title":"Junit test with jsonPath doesn&#39;t find the matching content","body":"<p>The response is of type Array:</p>\n<pre><code>[{&quot;id&quot;:null,&quot;city&quot;:&quot;espoo&quot;,&quot;country&quot;:null,&quot;description&quot;:null,&quot;currentTemp&quot;:0.0,&quot;feelsLike&quot;:3.3,&quot;minTemp&quot;:2.2,&quot;maxTemp&quot;:5.5,&quot;tempLimit&quot;:3.0,&quot;frequency&quot;:5,&quot;frequencyUnit&quot;:&quot;SECOND&quot;,&quot;uri&quot;:&quot;https://api.openweathermap.org/data/2.5/weather?q=espoo&amp;units=metric&amp;APPID=5536a9b0c84d081997982254c24fc53a&quot;}]\n</code></pre>\n<p>Therefore you will need to choose the index first, then attribute <code>$[0].city</code></p>\n<pre><code> .andExpect(jsonPath(&quot;$[0].city&quot;, is(espoo)))\n</code></pre>\n<p>=== Edited ===</p>\n<p>Please try:</p>\n<pre><code>  .andExpect(jsonPath(&quot;$[0].city&quot;).value(&quot;espoo&quot;));\n</code></pre>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70251707,"answer_count":1,"score":0,"last_activity_date":1638827094,"creation_date":1638821581,"question_id":70251376,"body_markdown":"I have this simple unit test:-\r\n\r\n    @Test\r\n    void getCityName() throws Exception {\r\n        when(weatherService.getWeatherByCity(capitalize(TestData.getWeather().getCity())))\r\n                .thenReturn(TestData.getWeatherList());\r\n\r\n     mockMvc.perform(get(WeatherController.WEATHER+WeatherController.GET_WEATHER_BY_CITY+&quot;/espoo&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_VALUE))\r\n        /*  it doesn&#39;t work if uncommented.  \r\n                .andExpect(jsonPath(&quot;$.city&quot;)\r\n                        .value(&quot;espoo&quot;))\r\n       */\r\n                .andDo(MockMvcResultHandlers.print());\r\n\r\n    }\r\n\r\n`.andDo(MockMvcResultHandlers.print());` prints out this:-\r\n\r\n        MockHttpServletResponse:\r\n            Status = 200\r\n        Error message = null\r\n            Headers = [Content-Type:&quot;application/json&quot;]\r\n        Content type = application/json\r\n                Body = [{&quot;id&quot;:null,&quot;city&quot;:&quot;espoo&quot;,&quot;country&quot;:null,&quot;description&quot;:null,&quot;currentTemp&quot;:0.0,&quot;feelsLike&quot;:3.3,&quot;minTemp&quot;:2.2,&quot;maxTemp&quot;:5.5,&quot;tempLimit&quot;:3.0,&quot;frequency&quot;:5,&quot;frequencyUnit&quot;:&quot;SECOND&quot;,&quot;uri&quot;:&quot;https://api.openweathermap.org/data/2.5/weather?q=espoo&amp;units=metric&amp;APPID=5536a9b0c84d081997982254c24fc53a&quot;}]\r\n        Forwarded URL = null\r\n    Redirected URL = null\r\n            Cookies = []\r\n\r\nI can see there is `&quot;city&quot;:&quot;espoo&quot;`. How do I match this. I tired:-\r\n\r\n     .andExpect(jsonPath(&quot;$.city&quot;)\r\n     .value(&quot;espoo&quot;))\r\n\r\nIt give error:-\r\n\r\nDEBUG org.springframework.test.web.servlet.TestDispatcherServlet - Completed 200 OK\r\nDEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $.size()\r\nDEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $[&#39;city&#39;]\r\n\r\njava.lang.AssertionError: No value at JSON path &quot;$.city&quot;\r\n\r\n","title":"Junit test with jsonPath doesn&#39;t find the matching content","body":"<p>I have this simple unit test:-</p>\n<pre><code>@Test\nvoid getCityName() throws Exception {\n    when(weatherService.getWeatherByCity(capitalize(TestData.getWeather().getCity())))\n            .thenReturn(TestData.getWeatherList());\n\n mockMvc.perform(get(WeatherController.WEATHER+WeatherController.GET_WEATHER_BY_CITY+&quot;/espoo&quot;))\n            .andExpect(status().isOk())\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON_VALUE))\n    /*  it doesn't work if uncommented.  \n            .andExpect(jsonPath(&quot;$.city&quot;)\n                    .value(&quot;espoo&quot;))\n   */\n            .andDo(MockMvcResultHandlers.print());\n\n}\n</code></pre>\n<p><code>.andDo(MockMvcResultHandlers.print());</code> prints out this:-</p>\n<pre><code>    MockHttpServletResponse:\n        Status = 200\n    Error message = null\n        Headers = [Content-Type:&quot;application/json&quot;]\n    Content type = application/json\n            Body = [{&quot;id&quot;:null,&quot;city&quot;:&quot;espoo&quot;,&quot;country&quot;:null,&quot;description&quot;:null,&quot;currentTemp&quot;:0.0,&quot;feelsLike&quot;:3.3,&quot;minTemp&quot;:2.2,&quot;maxTemp&quot;:5.5,&quot;tempLimit&quot;:3.0,&quot;frequency&quot;:5,&quot;frequencyUnit&quot;:&quot;SECOND&quot;,&quot;uri&quot;:&quot;https://api.openweathermap.org/data/2.5/weather?q=espoo&amp;units=metric&amp;APPID=5536a9b0c84d081997982254c24fc53a&quot;}]\n    Forwarded URL = null\nRedirected URL = null\n        Cookies = []\n</code></pre>\n<p>I can see there is <code>&quot;city&quot;:&quot;espoo&quot;</code>. How do I match this. I tired:-</p>\n<pre><code> .andExpect(jsonPath(&quot;$.city&quot;)\n .value(&quot;espoo&quot;))\n</code></pre>\n<p>It give error:-</p>\n<p>DEBUG org.springframework.test.web.servlet.TestDispatcherServlet - Completed 200 OK\nDEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $.size()\nDEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $['city']</p>\n<p>java.lang.AssertionError: No value at JSON path &quot;$.city&quot;</p>\n"},{"tags":["java","exception","interface"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638826849,"creation_date":1638826849,"answer_id":70252305,"question_id":70252236,"body_markdown":"You can&#39;t edit the type of a _message_, but you can certainly add a field of any type you like to a custom `Exception` type.\r\n\r\n    class ToolXException extends Exception {\r\n      private final Map&lt;Key, Value&gt; map;\r\n      public Map&lt;Key, Value&gt; getMap() { return map; }\r\n      public ToolXException(Map&lt;Key, Value&gt; map) {\r\n        this.map = map;\r\n      }\r\n    } \r\n\r\n...and then you can get it out and display it however you like when you catch it:\r\n\r\n    try {\r\n      ...\r\n    } catch (ToolXException e) {\r\n      doSomethingWith(e.getMap());\r\n    }","title":"Can you change the Type of Java Exception&#39;s error message?","body":"<p>You can't edit the type of a <em>message</em>, but you can certainly add a field of any type you like to a custom <code>Exception</code> type.</p>\n<pre><code>class ToolXException extends Exception {\n  private final Map&lt;Key, Value&gt; map;\n  public Map&lt;Key, Value&gt; getMap() { return map; }\n  public ToolXException(Map&lt;Key, Value&gt; map) {\n    this.map = map;\n  }\n} \n</code></pre>\n<p>...and then you can get it out and display it however you like when you catch it:</p>\n<pre><code>try {\n  ...\n} catch (ToolXException e) {\n  doSomethingWith(e.getMap());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638826929,"creation_date":1638826929,"answer_id":70252319,"question_id":70252236,"body_markdown":"This is absolutely possible. They way to do it is to create a sub class of one of the throwable subclasses: `Exception`, `RuntimeException`, or `Error`. The other thing you need to think about is whether you want to chain your custom Exception to a caught Exception, or whether it should be independent of a &quot;root cause&quot;","title":"Can you change the Type of Java Exception&#39;s error message?","body":"<p>This is absolutely possible. They way to do it is to create a sub class of one of the throwable subclasses: <code>Exception</code>, <code>RuntimeException</code>, or <code>Error</code>. The other thing you need to think about is whether you want to chain your custom Exception to a caught Exception, or whether it should be independent of a &quot;root cause&quot;</p>\n"}],"owner":{"account_id":20208476,"reputation":41,"user_id":16362860,"display_name":"Nicholas Sabadicci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70252305,"answer_count":2,"score":1,"last_activity_date":1638826929,"creation_date":1638826377,"question_id":70252236,"body_markdown":"I&#39;m writing an Internal-Facing tool with a very slow runtime. Because of this runtime I&#39;m trying to validate the input for errors and send a JSON object with a detailed list of every missing or failing element to the client before actually running the tool. \r\n\r\nI was wondering if there was a way to modify java Exception&#39;s error message return type so that I can throw this HashMap within an error. \r\n\r\nThe hashmap containing the errors would look something like this: \r\n\r\n```\r\nError: {\r\n   Message: &quot;Your X is configured improperly, please fill out the required fields before running this tool&quot;, \r\n   formXErrors: {\r\n     Message: &quot;The following fields are missing from formX&quot;, \r\n     Error: {\r\n       field1Name: &quot;field 1&quot;, \r\n       field2Name: &quot;field 2&quot;,\r\n       ... \r\n    },\r\n    formYErrors: {\r\n     Message: &quot;The following fields are missing from formY&quot;, \r\n     Error: {\r\n       field1Name: &quot;field 1&quot;, \r\n       field2Name: &quot;field 2&quot;,\r\n       ... \r\n     }\r\n  } \r\n}\r\n```\r\n\r\nAnd then if an error was found I would like to throw it like this (passing a HashMap into the message field instead of a string): \r\n\r\n```\r\nif (errorHashMap != null) {\r\n  throw new ToolXException(errorHashMap);\r\n}\r\n```\r\n\r\nJava is slightly new to me so I was wondering if anyone could point me towards finding a way to achieve this behavior. Is it even possible? Or is the only way to return this HashMap instead of throwing, and send it to the client? \r\n\r\nThanks in advance!","title":"Can you change the Type of Java Exception&#39;s error message?","body":"<p>I'm writing an Internal-Facing tool with a very slow runtime. Because of this runtime I'm trying to validate the input for errors and send a JSON object with a detailed list of every missing or failing element to the client before actually running the tool.</p>\n<p>I was wondering if there was a way to modify java Exception's error message return type so that I can throw this HashMap within an error.</p>\n<p>The hashmap containing the errors would look something like this:</p>\n<pre><code>Error: {\n   Message: &quot;Your X is configured improperly, please fill out the required fields before running this tool&quot;, \n   formXErrors: {\n     Message: &quot;The following fields are missing from formX&quot;, \n     Error: {\n       field1Name: &quot;field 1&quot;, \n       field2Name: &quot;field 2&quot;,\n       ... \n    },\n    formYErrors: {\n     Message: &quot;The following fields are missing from formY&quot;, \n     Error: {\n       field1Name: &quot;field 1&quot;, \n       field2Name: &quot;field 2&quot;,\n       ... \n     }\n  } \n}\n</code></pre>\n<p>And then if an error was found I would like to throw it like this (passing a HashMap into the message field instead of a string):</p>\n<pre><code>if (errorHashMap != null) {\n  throw new ToolXException(errorHashMap);\n}\n</code></pre>\n<p>Java is slightly new to me so I was wondering if anyone could point me towards finding a way to achieve this behavior. Is it even possible? Or is the only way to return this HashMap instead of throwing, and send it to the client?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","algorithm","a-star","maze"],"comments":[{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638836879,"post_id":70252308,"comment_id":124189183,"body_markdown":"It looks like you&#39;ve implemented A* search, but the algorithm you&#39;re trying to implement doesn&#39;t sound like it&#39;s A* search at all. Are you just trying to write a greedy, best-first-search function that uses a heuristic to guide the next move? It doesn&#39;t sound to me like there is any backtracking in your algorithm, so no need for a queue or guarantee that you&#39;re going to explore the most optimal path at every step: just the best one available from the current node, walking straight forward along only one path. That&#39;s not really A*, is it?","body":"It looks like you&#39;ve implemented A* search, but the algorithm you&#39;re trying to implement doesn&#39;t sound like it&#39;s A* search at all. Are you just trying to write a greedy, best-first-search function that uses a heuristic to guide the next move? It doesn&#39;t sound to me like there is any backtracking in your algorithm, so no need for a queue or guarantee that you&#39;re going to explore the most optimal path at every step: just the best one available from the current node, walking straight forward along only one path. That&#39;s not really A*, is it?"},{"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"score":0,"creation_date":1638844705,"post_id":70252308,"comment_id":124190484,"body_markdown":"@inordirection you might be right! in that case how would I go about implementing that? that almost sounds like it would be closer to a depth first search with conditions.","body":"@inordirection you might be right! in that case how would I go about implementing that? that almost sounds like it would be closer to a depth first search with conditions."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638846075,"post_id":70252308,"comment_id":124190682,"body_markdown":"Yeah, A* but only using information from the current node would be like DFS where you choose the best option according to your heuristic rather than recursing deeper in arbitrary order. However, with this approach by itself I think it would be possible that you could potentially get into a cycle if you end up walking into a dead-end and you can&#39;t keep a visited set or backtrack easily to the last un-explored path like you do in regular DFS.","body":"Yeah, A* but only using information from the current node would be like DFS where you choose the best option according to your heuristic rather than recursing deeper in arbitrary order. However, with this approach by itself I think it would be possible that you could potentially get into a cycle if you end up walking into a dead-end and you can&#39;t keep a visited set or backtrack easily to the last un-explored path like you do in regular DFS."},{"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"score":0,"creation_date":1638846414,"post_id":70252308,"comment_id":124190739,"body_markdown":"I looked at your other post... If you can&#39;t store any information about the path you&#39;ve traveled or the nodes you&#39;ve explored so far, like if the robot walking this maze has no internal state and can only look at it&#39;s current position and neighbors positions and apply manhattan heuristic but it has no memory at all, then I don&#39;t really see how you do better than a random walk with a slight bias introduced towards minimizing the heuristic. I&#39;m not saying for sure that you can&#39;t do better than that, but I don&#39;t see how.","body":"I looked at your other post... If you can&#39;t store any information about the path you&#39;ve traveled or the nodes you&#39;ve explored so far, like if the robot walking this maze has no internal state and can only look at it&#39;s current position and neighbors positions and apply manhattan heuristic but it has no memory at all, then I don&#39;t really see how you do better than a random walk with a slight bias introduced towards minimizing the heuristic. I&#39;m not saying for sure that you can&#39;t do better than that, but I don&#39;t see how."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638853458,"post_id":70252308,"comment_id":124191891,"body_markdown":"What is the problem with getting the neighbors from `s` ? Alternatively modify the node to hold the list of neighbors. For more help post [MRE]","body":"What is the problem with getting the neighbors from <code>s</code> ? Alternatively modify the node to hold the list of neighbors. For more help post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":11287736,"reputation":11,"user_id":8277977,"display_name":"Kevin Weng Jr."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638826854,"creation_date":1638826854,"question_id":70252308,"body_markdown":"Trying to implement A* search in Java, except I can only see the neighboring nodes of my current location, which means I can&#39;t iterate over the neighbors of any stored node, only the node I&#39;m standing on.\r\n\r\nI have a pretty concrete implementation down already, with one MAJOR problem...\r\n\r\n        final Map&lt;Long, AStarPrimeNode&gt; nodesData= new HashMap&lt;&gt;();\r\n        final FibonacciHeap&lt;AStarPrimeNode&gt; openList= new FibonacciHeap&lt;&gt;();\r\n        final Map&lt;AStarPrimeNode, FibonacciHeap.Entry&lt;AStarPrimeNode&gt;&gt; entries= new HashMap&lt;&gt;();\r\n        AStarPrimeNode startNodeData= new AStarPrimeNode(s.currentLocation(), s.distanceToRing());\r\n        startNodeData.setG(0);\r\n        int f= startNodeData.getF();\r\n        nodesData.put(s.currentLocation(), startNodeData);\r\n        entries.put(startNodeData, openList.enqueue(startNodeData, f));\r\n\r\n        final Map&lt;Long, Long&gt; resPath= new HashMap&lt;&gt;();\r\n        final Set&lt;AStarPrimeNode&gt; closedList= new HashSet&lt;&gt;();\r\n\r\n        while (!openList.isEmpty()) {\r\n            final AStarPrimeNode data= openList.dequeueMin().getValue();\r\n            if (data.getH() == 0) { return buildPath(resPath); }\r\n\r\n            closedList.add(data);\r\n\r\n            for (NodeStatus neighbor : data.neighbors()) { \r\n                AStarPrimeNode neighborData;\r\n                if (nodesData.containsKey(neighbor.getId()))\r\n                    neighborData= nodesData.get(neighbor.getId());\r\n                else {\r\n                    neighborData= new AStarPrimeNode(neighbor);\r\n                    nodesData.put(neighborData.getID(), neighborData);\r\n                }\r\n\r\n                if (closedList.contains(neighborData)) continue;\r\n\r\n                int newG= data.getG() + 1;\r\n\r\n                if (newG &lt; neighborData.getG()) {\r\n                    neighborData.setG(newG);\r\n                    f= neighborData.getF();\r\n\r\n                    resPath.put(neighborData.getID(), data.getID());\r\n                    if (!entries.containsKey(neighborData))\r\n                        entries.put(neighborData, openList.enqueue(neighborData, f));\r\n                    else openList.decreaseKey(entries.get(neighborData), f);\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n\r\nthe call ```data.neighbors()``` is impossible. I cannot retrieve the neighbors of `data`. The only neighbors I can retrieve are the ones of my current position, stored in the game state s.\r\n\r\nWhat to do?","title":"Implementing A* Search...but as a graph walk","body":"<p>Trying to implement A* search in Java, except I can only see the neighboring nodes of my current location, which means I can't iterate over the neighbors of any stored node, only the node I'm standing on.</p>\n<p>I have a pretty concrete implementation down already, with one MAJOR problem...</p>\n<pre><code>    final Map&lt;Long, AStarPrimeNode&gt; nodesData= new HashMap&lt;&gt;();\n    final FibonacciHeap&lt;AStarPrimeNode&gt; openList= new FibonacciHeap&lt;&gt;();\n    final Map&lt;AStarPrimeNode, FibonacciHeap.Entry&lt;AStarPrimeNode&gt;&gt; entries= new HashMap&lt;&gt;();\n    AStarPrimeNode startNodeData= new AStarPrimeNode(s.currentLocation(), s.distanceToRing());\n    startNodeData.setG(0);\n    int f= startNodeData.getF();\n    nodesData.put(s.currentLocation(), startNodeData);\n    entries.put(startNodeData, openList.enqueue(startNodeData, f));\n\n    final Map&lt;Long, Long&gt; resPath= new HashMap&lt;&gt;();\n    final Set&lt;AStarPrimeNode&gt; closedList= new HashSet&lt;&gt;();\n\n    while (!openList.isEmpty()) {\n        final AStarPrimeNode data= openList.dequeueMin().getValue();\n        if (data.getH() == 0) { return buildPath(resPath); }\n\n        closedList.add(data);\n\n        for (NodeStatus neighbor : data.neighbors()) { \n            AStarPrimeNode neighborData;\n            if (nodesData.containsKey(neighbor.getId()))\n                neighborData= nodesData.get(neighbor.getId());\n            else {\n                neighborData= new AStarPrimeNode(neighbor);\n                nodesData.put(neighborData.getID(), neighborData);\n            }\n\n            if (closedList.contains(neighborData)) continue;\n\n            int newG= data.getG() + 1;\n\n            if (newG &lt; neighborData.getG()) {\n                neighborData.setG(newG);\n                f= neighborData.getF();\n\n                resPath.put(neighborData.getID(), data.getID());\n                if (!entries.containsKey(neighborData))\n                    entries.put(neighborData, openList.enqueue(neighborData, f));\n                else openList.decreaseKey(entries.get(neighborData), f);\n            }\n        }\n    }\n    return null;\n</code></pre>\n<p>the call <code>data.neighbors()</code> is impossible. I cannot retrieve the neighbors of <code>data</code>. The only neighbors I can retrieve are the ones of my current position, stored in the game state s.</p>\n<p>What to do?</p>\n"},{"tags":["c#","java","certificate","asn.1"],"comments":[{"owner":{"account_id":906446,"reputation":47553,"user_id":941240,"display_name":"Wiktor Zychla"},"score":1,"creation_date":1358980700,"post_id":14490135,"comment_id":20194018,"body_markdown":"How about using the Bouncy Castle? It is interoperable, works is net and java.","body":"How about using the Bouncy Castle? It is interoperable, works is net and java."}],"answers":[{"tags":[],"owner":{"account_id":199330,"reputation":14946,"user_id":444578,"accept_rate":70,"display_name":"David Lozzi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1359042582,"creation_date":1359042582,"answer_id":14505306,"question_id":14490135,"body_markdown":"A solution has been found, and looks like some of the other examples I&#39;ve been seeing, but for some reason this works better: (method named after the guy who solved it for me ;)\r\n\r\n                private static byte[] Rays(byte[] sigBytes)\r\n                {\r\n                    bool highMsbR = (sigBytes[0] &amp; 0x80) != 0;\r\n                    bool highMsbS = (sigBytes[20] &amp; 0x80) != 0;  \r\n                    \r\n                    MemoryStream stream = new MemoryStream();\r\n                    using (BinaryWriter writer = new BinaryWriter(stream))\r\n                    {\r\n                        writer.Write((byte)0x30);\r\n                        int len = 44 + (highMsbR ? 1 : 0) + (highMsbS ? 1 : 0);\r\n                        writer.Write((byte)len);\r\n    \r\n                        // r\r\n                        writer.Write((byte)0x02);\r\n                        writer.Write((byte)(highMsbR ? 21 : 20));\r\n                        if (highMsbR)\r\n                            writer.Write((byte)0); \r\n                        for (int i = 0; i &lt; 20; i++)\r\n                            writer.Write(sigBytes[i]); \r\n    \r\n                        // s\r\n                        writer.Write((byte)0x02);\r\n                        writer.Write((byte)(highMsbS ? 21 : 20));\r\n                        if (highMsbS)\r\n                            writer.Write((byte)0);\r\n                        for (int i = 20; i &lt; 40; i++)\r\n                            writer.Write(sigBytes[i]);\r\n                    }\r\n                    \r\n                    byte[] bytes = stream.ToArray();\r\n                    return bytes;\r\n                }","title":"Creating ASN1 encoded signature in C# to send to Java","body":"<p>A solution has been found, and looks like some of the other examples I've been seeing, but for some reason this works better: (method named after the guy who solved it for me ;)</p>\n\n<pre><code>            private static byte[] Rays(byte[] sigBytes)\n            {\n                bool highMsbR = (sigBytes[0] &amp; 0x80) != 0;\n                bool highMsbS = (sigBytes[20] &amp; 0x80) != 0;  \n\n                MemoryStream stream = new MemoryStream();\n                using (BinaryWriter writer = new BinaryWriter(stream))\n                {\n                    writer.Write((byte)0x30);\n                    int len = 44 + (highMsbR ? 1 : 0) + (highMsbS ? 1 : 0);\n                    writer.Write((byte)len);\n\n                    // r\n                    writer.Write((byte)0x02);\n                    writer.Write((byte)(highMsbR ? 21 : 20));\n                    if (highMsbR)\n                        writer.Write((byte)0); \n                    for (int i = 0; i &lt; 20; i++)\n                        writer.Write(sigBytes[i]); \n\n                    // s\n                    writer.Write((byte)0x02);\n                    writer.Write((byte)(highMsbS ? 21 : 20));\n                    if (highMsbS)\n                        writer.Write((byte)0);\n                    for (int i = 20; i &lt; 40; i++)\n                        writer.Write(sigBytes[i]);\n                }\n\n                byte[] bytes = stream.ToArray();\n                return bytes;\n            }\n</code></pre>\n"}],"owner":{"account_id":199330,"reputation":14946,"user_id":444578,"accept_rate":70,"display_name":"David Lozzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14505306,"answer_count":1,"score":3,"last_activity_date":1638826689,"creation_date":1358978111,"question_id":14490135,"body_markdown":"I have a private/public secure cert. My Java counterparts have the public key. I have the need to take a string, sign it, and send it along to Java to then verify the data and signature.\r\n\r\nThere appears to be a well known issue with how Microsoft and the rest of the world encodes/signs data, something about the way bytes are handled. It&#39;s so well known, that I can&#39;t find a solution. If they take my string and the private key, they can obviously sign it correctly, and verify it. If I take my string, I can sign and verify it within .Net fine. I have seen a slew of methods for converting from ASN1 to Microsoft&#39;s format (I think P1363), but not converting from Microsoft, C#, to ASN1 for Java. I don&#39;t what is going on well enough to understand how to reverse engineer.\r\n\r\nI&#39;ve explored http://www.codeproject.com/Articles/25487/Cryptographic-Interoperability-Keys but the final result wasn&#39;t what the java side needed. I can sign a string, and I get a signature, but Java guys are telling me it needs to start with MC, first bytes are indicators. I am not seeing this.\r\n\r\nThanks!","title":"Creating ASN1 encoded signature in C# to send to Java","body":"<p>I have a private/public secure cert. My Java counterparts have the public key. I have the need to take a string, sign it, and send it along to Java to then verify the data and signature.</p>\n\n<p>There appears to be a well known issue with how Microsoft and the rest of the world encodes/signs data, something about the way bytes are handled. It's so well known, that I can't find a solution. If they take my string and the private key, they can obviously sign it correctly, and verify it. If I take my string, I can sign and verify it within .Net fine. I have seen a slew of methods for converting from ASN1 to Microsoft's format (I think P1363), but not converting from Microsoft, C#, to ASN1 for Java. I don't what is going on well enough to understand how to reverse engineer.</p>\n\n<p>I've explored <a href=\"http://www.codeproject.com/Articles/25487/Cryptographic-Interoperability-Keys\" rel=\"nofollow\">http://www.codeproject.com/Articles/25487/Cryptographic-Interoperability-Keys</a> but the final result wasn't what the java side needed. I can sign a string, and I get a signature, but Java guys are telling me it needs to start with MC, first bytes are indicators. I am not seeing this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","kotlin","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":20093737,"reputation":6918,"user_id":14733669,"display_name":"Ricco D"},"score":0,"creation_date":1638855096,"post_id":70252185,"comment_id":124192150,"body_markdown":"Can you clarify where or how did you see the states of the subscription? Can you share a working code for your use case? Just so it could be reproduced and easily understood by the community.","body":"Can you clarify where or how did you see the states of the subscription? Can you share a working code for your use case? Just so it could be reproduced and easily understood by the community."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":2,"creation_date":1638870280,"post_id":70252185,"comment_id":124196500,"body_markdown":"PubSub subscription haven&#39;t states on GCP. However, it&#39;s possible that the client has states in the Java library. Anyway, if your subscription fail, the status should no longer be RUNNING, but FAILED, and you should get that state and not rely on the previous one, RUNNING before the credential issue. It&#39;s a pure Kotlin and coroutines issue and sharing a piece of code to reproduce the issue on our side could be great!","body":"PubSub subscription haven&#39;t states on GCP. However, it&#39;s possible that the client has states in the Java library. Anyway, if your subscription fail, the status should no longer be RUNNING, but FAILED, and you should get that state and not rely on the previous one, RUNNING before the credential issue. It&#39;s a pure Kotlin and coroutines issue and sharing a piece of code to reproduce the issue on our side could be great!"},{"owner":{"account_id":2458036,"reputation":3222,"user_id":2142728,"accept_rate":56,"display_name":"caeus"},"score":0,"creation_date":1638889968,"post_id":70252185,"comment_id":124204603,"body_markdown":"It&#39;s actually not a kotlin issue. I want to initialize the subscription and wait for the running event to happen to consider initialization completed. However, barely after it started &quot;running&quot; it enters into &quot;failed&quot; state given the fact that I&#39;m providing wrong credentials. That makes the whole app start like initialization went well. Healthchecks in the app actually report a failure and that&#39;s good. But I still think that error shouldn&#39;t go in the Healthchecks, but happen during initialization","body":"It&#39;s actually not a kotlin issue. I want to initialize the subscription and wait for the running event to happen to consider initialization completed. However, barely after it started &quot;running&quot; it enters into &quot;failed&quot; state given the fact that I&#39;m providing wrong credentials. That makes the whole app start like initialization went well. Healthchecks in the app actually report a failure and that&#39;s good. But I still think that error shouldn&#39;t go in the Healthchecks, but happen during initialization"},{"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"score":0,"creation_date":1638942971,"post_id":70252185,"comment_id":124219184,"body_markdown":"@AlejandroNavas as what Ricco and Guillaume mentioned, please provide a piece of  working code to reproduce the issue. We cannot help as it&#39;s difficult to guess what your code looks like.","body":"@AlejandroNavas as what Ricco and Guillaume mentioned, please provide a piece of  working code to reproduce the issue. We cannot help as it&#39;s difficult to guess what your code looks like."}],"owner":{"account_id":2458036,"reputation":3222,"user_id":2142728,"accept_rate":56,"display_name":"caeus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638826069,"creation_date":1638826069,"question_id":70252185,"body_markdown":"So a pubsub subscription can be in one of the following states: `NEW`, `STARTING`, `RUNNING`, `STOPPING`, `FAILED` and `TERMINATED`.\r\n\r\nWhen I create such subscription, I want to wait for it to enter the RUNNING state before returning. I&#39;m using kotlin coroutines in order to avoid blocking threads.\r\n\r\nHowever the Subscription enters the Running state before failing for bad credentials, giving the false impression that the Subscription started running correctly when it actually didn&#39;t. Why is it that? And how can I circumvent that?\r\n\r\nIs there a way to try the credentials before starting the Subscription?","title":"GCP pubsub (java) authentication error happens after entering the running state. Why?","body":"<p>So a pubsub subscription can be in one of the following states: <code>NEW</code>, <code>STARTING</code>, <code>RUNNING</code>, <code>STOPPING</code>, <code>FAILED</code> and <code>TERMINATED</code>.</p>\n<p>When I create such subscription, I want to wait for it to enter the RUNNING state before returning. I'm using kotlin coroutines in order to avoid blocking threads.</p>\n<p>However the Subscription enters the Running state before failing for bad credentials, giving the false impression that the Subscription started running correctly when it actually didn't. Why is it that? And how can I circumvent that?</p>\n<p>Is there a way to try the credentials before starting the Subscription?</p>\n"},{"tags":["java","android","bitmap","android-bitmap"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1544655140,"post_id":53752398,"comment_id":94358030,"body_markdown":"So you want to add a padding. In your example, right and left padding. When the original image is wider than it is tall, you&#39;d add top and bottom padding.","body":"So you want to add a padding. In your example, right and left padding. When the original image is wider than it is tall, you&#39;d add top and bottom padding."},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1544655266,"post_id":53752398,"comment_id":94358084,"body_markdown":"@J.A.P obviously Mahir is talking about pixel aspect ratio, not image aspect ratio.","body":"@J.A.P obviously Mahir is talking about pixel aspect ratio, not image aspect ratio."},{"owner":{"display_name":"user8652379"},"score":0,"creation_date":1544655475,"post_id":53752398,"comment_id":94358142,"body_markdown":"I&#39;m want to fit my original image to 512x512 empty bitmap as centered and without any crop simply you can understand from images that I add to questions guys. Thanks again.","body":"I&#39;m want to fit my original image to 512x512 empty bitmap as centered and without any crop simply you can understand from images that I add to questions guys. Thanks again."},{"owner":{"display_name":"user8652379"},"score":0,"creation_date":1544656211,"post_id":53752398,"comment_id":94358378,"body_markdown":"No it&#39;s not possible tecnichly. 1 pixel line on center :)","body":"No it&#39;s not possible tecnichly. 1 pixel line on center :)"},{"owner":{"account_id":7815114,"reputation":141,"user_id":5910082,"display_name":"Ph1llip2"},"score":0,"creation_date":1544656449,"post_id":53752398,"comment_id":94358459,"body_markdown":"What you need is a padding. The minimum of scaleWidth and scaleHeight is your streching factor and calculate how much space is left and use it for your padding to center you bitmap into another one. See here\nhttps://adilatwork.blogspot.com/2012/10/android-how-to-add-padding-or-border-to.html","body":"What you need is a padding. The minimum of scaleWidth and scaleHeight is your streching factor and calculate how much space is left and use it for your padding to center you bitmap into another one. See here <a href=\"https://adilatwork.blogspot.com/2012/10/android-how-to-add-padding-or-border-to.html\" rel=\"nofollow noreferrer\">adilatwork.blogspot.com/2012/10/&hellip;</a>"},{"owner":{"display_name":"user8652379"},"score":0,"creation_date":1544657017,"post_id":53752398,"comment_id":94358621,"body_markdown":"Thanks guys for all comments. @Poohl &#39;s answer solved my question. You can find the perfect output on comment.","body":"Thanks guys for all comments. @Poohl &#39;s answer solved my question. You can find the perfect output on comment."}],"answers":[{"tags":[],"owner":{"account_id":9633390,"reputation":1922,"user_id":7150408,"display_name":"Poohl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1544657909,"creation_date":1544656106,"answer_id":53752771,"question_id":53752398,"body_markdown":"Ok, so you&#39;re really close. I can&#39;t test this right now, but basically what needs to be changed is\r\n\r\n\r\n1) You need to apply the same scale to both X and Y, so you need to pick the smaller one (try the bigger one if that doesn&#39;t work).\r\n\r\n    matrix.postScale(Math.min(scaleWidth, scaleHeight), Math.min(scaleWidth, scaleHeight));\r\n\r\n2) The result will be a bitmap  where at least one side is 512px large, the other one will be smaller. So you need to add the padding to fit that side to 512px (equally left and right/top and bottom for centering). In order to do so, you need to create an new bitmap of the desired size:\r\n\r\n\r\n    Bitmap outputimage = Bitmap.createBitmap(512,512, Bitmap.Config.ARGB_8888);\r\n\r\n3) and lastly depending on what side of the `resizedBitmap`  is 512px you need to draw `resizedBitmap` to the correct position in `outputImage`\r\n\r\n\r\n    Canvas can = new Canvas(outputimage);\r\n    can.drawBitmap(resizedBitmap, (512 - resizedBitmap.getWidth()) / 2, (512 - resizedBitmap.getHeight()) / 2, null);\r\n\r\nNote here, that `512 - resizedBitmap.getWidth()` results in `0` and therefor no padding at the side with correct size.\r\n\r\n4) Now return `outputImage`","title":"Resize Bitmap to 512x512 Without changing original aspect ratio","body":"<p>Ok, so you're really close. I can't test this right now, but basically what needs to be changed is</p>\n\n<p>1) You need to apply the same scale to both X and Y, so you need to pick the smaller one (try the bigger one if that doesn't work).</p>\n\n<pre><code>matrix.postScale(Math.min(scaleWidth, scaleHeight), Math.min(scaleWidth, scaleHeight));\n</code></pre>\n\n<p>2) The result will be a bitmap  where at least one side is 512px large, the other one will be smaller. So you need to add the padding to fit that side to 512px (equally left and right/top and bottom for centering). In order to do so, you need to create an new bitmap of the desired size:</p>\n\n<pre><code>Bitmap outputimage = Bitmap.createBitmap(512,512, Bitmap.Config.ARGB_8888);\n</code></pre>\n\n<p>3) and lastly depending on what side of the <code>resizedBitmap</code>  is 512px you need to draw <code>resizedBitmap</code> to the correct position in <code>outputImage</code></p>\n\n<pre><code>Canvas can = new Canvas(outputimage);\ncan.drawBitmap(resizedBitmap, (512 - resizedBitmap.getWidth()) / 2, (512 - resizedBitmap.getHeight()) / 2, null);\n</code></pre>\n\n<p>Note here, that <code>512 - resizedBitmap.getWidth()</code> results in <code>0</code> and therefor no padding at the side with correct size.</p>\n\n<p>4) Now return <code>outputImage</code></p>\n"},{"tags":[],"owner":{"account_id":985797,"reputation":2120,"user_id":1004331,"accept_rate":60,"display_name":"Andrew Stromme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638825922,"creation_date":1638825922,"answer_id":70252153,"question_id":53752398,"body_markdown":"Here&#39;s a simplification in Kotlin that does both the scale and the translation with the matrix, skipping the intermediate bitmap.\r\n\r\nNote that it also sets the background color to white for new pixels, which I needed for my image pipeline. Feel free to remove that if you don&#39;t need it.\r\n\r\n    fun resizedBitmapWithPadding(bitmap: Bitmap, newWidth: Int, newHeight: Int) : Bitmap {\r\n        val scale = min(newWidth.toFloat() / bitmap.width, newHeight.toFloat() / bitmap.height)\r\n        val scaledWidth = scale * bitmap.width\r\n        val scaledHeight = scale * bitmap.height\r\n    \r\n        val matrix = Matrix()\r\n        matrix.postScale(scale, scale)\r\n        matrix.postTranslate(\r\n            (newWidth - scaledWidth) / 2f,\r\n            (newHeight - scaledHeight) / 2f\r\n        )\r\n    \r\n        val outputBitmap = Bitmap.createBitmap(newWidth, newHeight, bitmap.config)\r\n        outputBitmap.eraseColor(Color.WHITE)\r\n        \r\n        Canvas(outputBitmap).drawBitmap(\r\n            bitmap,\r\n            matrix,\r\n            null\r\n        )\r\n    \r\n        return outputBitmap\r\n    }\r\n\r\n","title":"Resize Bitmap to 512x512 Without changing original aspect ratio","body":"<p>Here's a simplification in Kotlin that does both the scale and the translation with the matrix, skipping the intermediate bitmap.</p>\n<p>Note that it also sets the background color to white for new pixels, which I needed for my image pipeline. Feel free to remove that if you don't need it.</p>\n<pre><code>fun resizedBitmapWithPadding(bitmap: Bitmap, newWidth: Int, newHeight: Int) : Bitmap {\n    val scale = min(newWidth.toFloat() / bitmap.width, newHeight.toFloat() / bitmap.height)\n    val scaledWidth = scale * bitmap.width\n    val scaledHeight = scale * bitmap.height\n\n    val matrix = Matrix()\n    matrix.postScale(scale, scale)\n    matrix.postTranslate(\n        (newWidth - scaledWidth) / 2f,\n        (newHeight - scaledHeight) / 2f\n    )\n\n    val outputBitmap = Bitmap.createBitmap(newWidth, newHeight, bitmap.config)\n    outputBitmap.eraseColor(Color.WHITE)\n    \n    Canvas(outputBitmap).drawBitmap(\n        bitmap,\n        matrix,\n        null\n    )\n\n    return outputBitmap\n}\n</code></pre>\n"}],"owner":{"display_name":"user8652379"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":53752771,"answer_count":2,"score":3,"last_activity_date":1638825922,"creation_date":1544653947,"question_id":53752398,"body_markdown":"I have a created bitmaps. Sizes are not specific.  Sometimes 120x60 , 129x800 , 851x784. Its not have a specific value... I want to make these bitmaps resizing to 512x512 always but without changing original images aspect ratio. And without cropping. New image must have canvas 512x512 and original image must be center without any cropping.\r\n\r\nI was resizing my bitmaps with this function but it makes images really bad because image fitting X and Y . I don&#39;t want image to fit x and y on same time fits one of it and keeps its aspect ratio.\r\n\r\n     public Bitmap getResizedBitmap(Bitmap bm, int newWidth, int newHeight) {\r\n            int width = bm.getWidth();\r\n            int height = bm.getHeight();\r\n            float scaleWidth = ((float) newWidth) / width;\r\n            float scaleHeight = ((float) newHeight) / height;\r\n            // CREATE A MATRIX FOR THE MANIPULATION\r\n            Matrix matrix = new Matrix();\r\n            // RESIZE THE BIT MAP\r\n            matrix.postScale(scaleWidth, scaleHeight);\r\n    \r\n            // &quot;RECREATE&quot; THE NEW BITMAP\r\n            Bitmap resizedBitmap = Bitmap.createBitmap(\r\n                    bm, 0, 0, width, height, matrix, false);\r\n            bm.recycle();\r\n            return resizedBitmap;\r\n        }\r\n\r\n\r\nWhat I have;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat I want;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zaCLS.png\r\n  [2]: https://i.stack.imgur.com/x3yfj.png","title":"Resize Bitmap to 512x512 Without changing original aspect ratio","body":"<p>I have a created bitmaps. Sizes are not specific.  Sometimes 120x60 , 129x800 , 851x784. Its not have a specific value... I want to make these bitmaps resizing to 512x512 always but without changing original images aspect ratio. And without cropping. New image must have canvas 512x512 and original image must be center without any cropping.</p>\n\n<p>I was resizing my bitmaps with this function but it makes images really bad because image fitting X and Y . I don't want image to fit x and y on same time fits one of it and keeps its aspect ratio.</p>\n\n<pre><code> public Bitmap getResizedBitmap(Bitmap bm, int newWidth, int newHeight) {\n        int width = bm.getWidth();\n        int height = bm.getHeight();\n        float scaleWidth = ((float) newWidth) / width;\n        float scaleHeight = ((float) newHeight) / height;\n        // CREATE A MATRIX FOR THE MANIPULATION\n        Matrix matrix = new Matrix();\n        // RESIZE THE BIT MAP\n        matrix.postScale(scaleWidth, scaleHeight);\n\n        // \"RECREATE\" THE NEW BITMAP\n        Bitmap resizedBitmap = Bitmap.createBitmap(\n                bm, 0, 0, width, height, matrix, false);\n        bm.recycle();\n        return resizedBitmap;\n    }\n</code></pre>\n\n<p>What I have;</p>\n\n<p><a href=\"https://i.stack.imgur.com/zaCLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zaCLS.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want;</p>\n\n<p><a href=\"https://i.stack.imgur.com/x3yfj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3yfj.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","collision-detection"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1638822199,"post_id":70251451,"comment_id":124185424,"body_markdown":"Can  you talk a little about what you tried, including showing the code you wrote? Because the standard rectangle intersection checks should work perfectly fine here. You know your corner points, so you know your center point and you know your width/height, which means you you have all the information necessary to implement axis-aligned bounding box (AABB) intersection checks.","body":"Can  you talk a little about what you tried, including showing the code you wrote? Because the standard rectangle intersection checks should work perfectly fine here. You know your corner points, so you know your center point and you know your width/height, which means you you have all the information necessary to implement axis-aligned bounding box (AABB) intersection checks."},{"owner":{"account_id":23226603,"reputation":43,"user_id":17318061,"display_name":"Jan Herzog"},"score":0,"creation_date":1638822645,"post_id":70251451,"comment_id":124185579,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Thanks for your comment. I&#39;ve added some Information. What you say makes sense to me, but I just can&#39;t imagine it in Java, could you help me out there a little bit?","body":"@Mike&#39;Pomax&#39;Kamermans Thanks for your comment. I&#39;ve added some Information. What you say makes sense to me, but I just can&#39;t imagine it in Java, could you help me out there a little bit?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1638822679,"post_id":70251451,"comment_id":124185601,"body_markdown":"You might want to include getWidth() and getHeight() methods in your region class.  It will make probable future computations easier.","body":"You might want to include getWidth() and getHeight() methods in your region class.  It will make probable future computations easier."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1638822972,"post_id":70251451,"comment_id":124185709,"body_markdown":"You&#39;re calculating your width and height incorrectly.  It should be `Rectangle thisRectangle = new Rectangle((int) aX, (int) aY,(int)Math.abs(aX - bX),(int)Math.abs(aY-bY));` where `aX` and `aY` are the upper left corners of the Rectangle.","body":"You&#39;re calculating your width and height incorrectly.  It should be <code>Rectangle thisRectangle = new Rectangle((int) aX, (int) aY,(int)Math.abs(aX - bX),(int)Math.abs(aY-bY));</code> where <code>aX</code> and <code>aY</code> are the upper left corners of the Rectangle."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1638823229,"post_id":70251451,"comment_id":124185793,"body_markdown":"Why all the casting? If you&#39;re working with int-constrained regions, it&#39;s a good idea to make sure aX/aY/etc are already ints. Or, use the `Double` version of rectangle so you don&#39;t need int casting, if your coordinates _need_ to be fractional. With that said, if you have points (aX,aY) and (bX,bY), that maps to rectangle(aX, aY, bX-aX, bY-aY), after which the intersection check is already [baked into Java](https://docs.oracle.com/javase/7/docs/api/java/awt/Rectangle.html#intersects(java.awt.Rectangle)). You just return `rect1.intersects(rect2)`, you don&#39;t need to calculate anything.","body":"Why all the casting? If you&#39;re working with int-constrained regions, it&#39;s a good idea to make sure aX/aY/etc are already ints. Or, use the <code>Double</code> version of rectangle so you don&#39;t need int casting, if your coordinates <i>need</i> to be fractional. With that said, if you have points (aX,aY) and (bX,bY), that maps to rectangle(aX, aY, bX-aX, bY-aY), after which the intersection check is already <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Rectangle.html#intersects(java.awt.Rectangle)\" rel=\"nofollow noreferrer\">baked into Java</a>. You just return <code>rect1.intersects(rect2)</code>, you don&#39;t need to calculate anything."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1638823475,"post_id":70251451,"comment_id":124185874,"body_markdown":"note: only _if_ your points and b are the upper left and lower point points. If that is _not_ the case, then you&#39;re going to need a bunch of preprocessing to first turn the two coordinates you have into &quot;the top-left and bottom-right&quot; coordinates.","body":"note: only <i>if</i> your points and b are the upper left and lower point points. If that is <i>not</i> the case, then you&#39;re going to need a bunch of preprocessing to first turn the two coordinates you have into &quot;the top-left and bottom-right&quot; coordinates."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638823748,"creation_date":1638823193,"answer_id":70251685,"question_id":70251451,"body_markdown":"Okay, some things to point out. First, if you have double values you can use [Rectangle2D.Double](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/geom/Rectangle2D.Double.html). Second, it handles negative numbers fine.\r\n\r\nI would suggest creating a method to convert a region to a Rectangle2D.\r\n\r\n    public Rectangle2D getBounds(Region r){\r\n        double x, w;\r\n        if(r.aX &lt; r.bX ){\r\n          x = r.aX;\r\n          w = r.bX - r.aX;\r\n        } else{\r\n          x = r.bX;\r\n          w = r.aX - r.bX;\r\n        }\r\n        double y, h;\r\n        if(r.aY &lt; r.bY){\r\n          y = r.aY;\r\n          h = r.bY - r.aY;\r\n        } else{\r\n          y = r.bY;\r\n          h = r.aY - r.bY;\r\n        } \r\n        return new Rectangle2D.Double(x, y, w, h);\r\n    }\r\n\r\nWhat this is doing, checking to make sure aX, aY and bX, bY are in the correct order, so that x,y is the top left corner of the rectangle and the width and height are positive (or zero) values. I&#39;ve written it as a method on a region, but you can make it as a method of Region. Such that:\r\n\r\n    public boolean intersects(Region other){\r\n        return getBounds().intersects(other.getBounds());\r\n    }","title":"How to check if two rectangles collide over the axis","body":"<p>Okay, some things to point out. First, if you have double values you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/geom/Rectangle2D.Double.html\" rel=\"nofollow noreferrer\">Rectangle2D.Double</a>. Second, it handles negative numbers fine.</p>\n<p>I would suggest creating a method to convert a region to a Rectangle2D.</p>\n<pre><code>public Rectangle2D getBounds(Region r){\n    double x, w;\n    if(r.aX &lt; r.bX ){\n      x = r.aX;\n      w = r.bX - r.aX;\n    } else{\n      x = r.bX;\n      w = r.aX - r.bX;\n    }\n    double y, h;\n    if(r.aY &lt; r.bY){\n      y = r.aY;\n      h = r.bY - r.aY;\n    } else{\n      y = r.bY;\n      h = r.aY - r.bY;\n    } \n    return new Rectangle2D.Double(x, y, w, h);\n}\n</code></pre>\n<p>What this is doing, checking to make sure aX, aY and bX, bY are in the correct order, so that x,y is the top left corner of the rectangle and the width and height are positive (or zero) values. I've written it as a method on a region, but you can make it as a method of Region. Such that:</p>\n<pre><code>public boolean intersects(Region other){\n    return getBounds().intersects(other.getBounds());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638825102,"creation_date":1638823834,"answer_id":70251801,"question_id":70251451,"body_markdown":"Here is one way to approach it.  I am using records which are simply immutable classes.  The same approach would be used for the `Rectangle2D` class in the Java API.  Note that this presumes that the first coordinate in the constructor is the upper left, and the other is the lower right.  You might consider `specifying your region as a bounded area with the upper left coordinates specified along with the width and height`.  It will then be trival to return the other coordinates as required.\r\n```\r\nimport java.awt.Rectangle;\r\npublic class RectangleIntersections {\r\n\t\r\n\trecord Region(int aX, int aY, int bX, int bY) {\r\n\t\tpublic int getWidth() {\r\n\t\t\treturn bX-aX;\r\n\t\t}\r\n\t\tpublic int getHeight() {\r\n\t\t\treturn bY-aY;\r\n\t\t}\r\n\t\tpublic boolean intersects(Region other) {\r\n\t\t\treturn new Rectangle(aX, aY, getWidth(), getHeight()).intersects(\r\n\t\t\t\t\tnew Rectangle(other.aX, other.aY, other.getWidth(), other.getHeight()));\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tnew RectangleIntersections().start();\r\n\t\t\r\n\t}\r\n\tpublic void start() {\r\n\t\tRegion r1 = new Region(0,0, 100,100);\r\n\t\tRegion r2 = new Region(50,50, 150,150);\r\n\t\tSystem.out.println(r1.intersects(r2));\r\n\t\tRegion r3 = new Region(101, 101, 110,120);\r\n\t\tSystem.out.println(r1.intersects(r3));\r\n\t}\r\n\t\r\n}\r\n```\r\nprints\r\n```\r\ntrue\r\nfalse","title":"How to check if two rectangles collide over the axis","body":"<p>Here is one way to approach it.  I am using records which are simply immutable classes.  The same approach would be used for the <code>Rectangle2D</code> class in the Java API.  Note that this presumes that the first coordinate in the constructor is the upper left, and the other is the lower right.  You might consider <code>specifying your region as a bounded area with the upper left coordinates specified along with the width and height</code>.  It will then be trival to return the other coordinates as required.</p>\n<pre><code>import java.awt.Rectangle;\npublic class RectangleIntersections {\n    \n    record Region(int aX, int aY, int bX, int bY) {\n        public int getWidth() {\n            return bX-aX;\n        }\n        public int getHeight() {\n            return bY-aY;\n        }\n        public boolean intersects(Region other) {\n            return new Rectangle(aX, aY, getWidth(), getHeight()).intersects(\n                    new Rectangle(other.aX, other.aY, other.getWidth(), other.getHeight()));\n        }\n    }\n    public static void main(String[] args) {\n        new RectangleIntersections().start();\n        \n    }\n    public void start() {\n        Region r1 = new Region(0,0, 100,100);\n        Region r2 = new Region(50,50, 150,150);\n        System.out.println(r1.intersects(r2));\n        Region r3 = new Region(101, 101, 110,120);\n        System.out.println(r1.intersects(r3));\n    }\n    \n}\n</code></pre>\n<p>prints</p>\n<pre><code>true\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17383012,"reputation":555,"user_id":12594882,"display_name":"med benzekri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638825844,"creation_date":1638825844,"answer_id":70252142,"question_id":70251451,"body_markdown":"i think you can do something like this :\r\n```java\r\nif(Math.abs(thisRectangle.getMaxX()-otherRectangle.getMaxX())&lt;otherRectangle.getWidth()&amp;&amp; Math.abs(thisRectangle.getMaxY()-otherRectangle.getMinY())&lt;otherRectangle.getHeight())\r\n```","title":"How to check if two rectangles collide over the axis","body":"<p>i think you can do something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(Math.abs(thisRectangle.getMaxX()-otherRectangle.getMaxX())&lt;otherRectangle.getWidth()&amp;&amp; Math.abs(thisRectangle.getMaxY()-otherRectangle.getMinY())&lt;otherRectangle.getHeight())\n</code></pre>\n"}],"owner":{"account_id":23226603,"reputation":43,"user_id":17318061,"display_name":"Jan Herzog"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70251685,"answer_count":3,"score":1,"last_activity_date":1638825844,"creation_date":1638822009,"question_id":70251451,"body_markdown":"I think I&#39;ve got some kind of duplicate question, but I just can&#39;t figure it out.\r\n\r\nSo I got a `Region` class. This class contains four attributes. `aX`, `aY` and `bX`, `bY`.\r\nNow I want to produce a method `doesCollide(Region other)`. I&#39;ve tried many things, but can&#39;t get it to work. I think it is, because the regions refer to a region on a minecraft world, where the to points `a` and `b` can be negative. Can someone help me out?\r\n\r\nFor better understanding I did a little drawing of a scenario:\r\n![](https://i.stack.imgur.com/yEd5U.png)\r\n\r\nWhat I&#39;ve tried:\r\n\r\nDue to a hint of a user I tried it using the `java.awt.Rectangle` class:\r\n\r\n```java\r\n        Rectangle thisRectangle = new Rectangle((int) aX, (int) aY, Math.abs((int) bX) - Math.abs((int) aX), Math.abs((int) bY) - Math.abs((int) aY));\r\n        Rectangle otherRectangle = new Rectangle((int) other.aX, (int) other.aY, Math.abs((int) other.bX) - Math.abs((int) other.aX), Math.abs((int) other.bY) - Math.abs((int) other.aY));\r\n        return thisRectangle.intersects(otherRectangle);\r\n```\r\n(I absolutely don&#39;t know if I&#39;ve done it right)\r\n\r\nI tried something that I would say is the &quot;standard&quot; thing used here:\r\n```java\r\nreturn aX &lt; other.bX &amp;&amp; bX &gt; other.aX &amp; aY &lt; other.bY &amp;&amp; bY &gt; other.aY\r\n```\r\n\r\nWell, didn&#39;t work either.\r\n\r\n","title":"How to check if two rectangles collide over the axis","body":"<p>I think I've got some kind of duplicate question, but I just can't figure it out.</p>\n<p>So I got a <code>Region</code> class. This class contains four attributes. <code>aX</code>, <code>aY</code> and <code>bX</code>, <code>bY</code>.\nNow I want to produce a method <code>doesCollide(Region other)</code>. I've tried many things, but can't get it to work. I think it is, because the regions refer to a region on a minecraft world, where the to points <code>a</code> and <code>b</code> can be negative. Can someone help me out?</p>\n<p>For better understanding I did a little drawing of a scenario:\n<img src=\"https://i.stack.imgur.com/yEd5U.png\" alt=\"\" /></p>\n<p>What I've tried:</p>\n<p>Due to a hint of a user I tried it using the <code>java.awt.Rectangle</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Rectangle thisRectangle = new Rectangle((int) aX, (int) aY, Math.abs((int) bX) - Math.abs((int) aX), Math.abs((int) bY) - Math.abs((int) aY));\n        Rectangle otherRectangle = new Rectangle((int) other.aX, (int) other.aY, Math.abs((int) other.bX) - Math.abs((int) other.aX), Math.abs((int) other.bY) - Math.abs((int) other.aY));\n        return thisRectangle.intersects(otherRectangle);\n</code></pre>\n<p>(I absolutely don't know if I've done it right)</p>\n<p>I tried something that I would say is the &quot;standard&quot; thing used here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return aX &lt; other.bX &amp;&amp; bX &gt; other.aX &amp; aY &lt; other.bY &amp;&amp; bY &gt; other.aY\n</code></pre>\n<p>Well, didn't work either.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638825571,"creation_date":1638810886,"answer_id":70249284,"question_id":70245333,"body_markdown":"You are getting this result because you are printing the elements of ArrayList instead of the `int[]` arrays contained within that ArrayList. It should be something like this:\r\n\r\n**Replace this code (only):**\r\n\r\n    ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\r\n    \r\n    System.out.println(Arrays.toString(list.toArray()));\r\n\r\n**With this code:**\r\n\r\n    ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\r\n    for (int[] intArray : list) {\r\n        System.out.println(Arrays.toString(intArray));\r\n    }","title":"Reading and print 2D matrix (array) to console from created File | Java","body":"<p>You are getting this result because you are printing the elements of ArrayList instead of the <code>int[]</code> arrays contained within that ArrayList. It should be something like this:</p>\n<p><strong>Replace this code (only):</strong></p>\n<pre><code>ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\n\nSystem.out.println(Arrays.toString(list.toArray()));\n</code></pre>\n<p><strong>With this code:</strong></p>\n<pre><code>ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\nfor (int[] intArray : list) {\n    System.out.println(Arrays.toString(intArray));\n}\n</code></pre>\n"}],"owner":{"account_id":10507467,"reputation":3,"user_id":7744510,"display_name":"ecotalisman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70249284,"answer_count":1,"score":0,"last_activity_date":1638825571,"creation_date":1638792804,"question_id":70245333,"body_markdown":"Necessary create a 2D matrix (array) sizes m*b:\r\n\r\n 1. Filled in by manually, found Null, print results\r\n 2. Filled in by automatically:\r\n - create a File -&gt; record File.txt\r\n - read in created File.txt\r\n - found Null\r\n - print results\r\n\r\n```\r\n\r\n    package labs1;\r\n    \r\n    import java.io.*;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.*;\r\n    \r\n    public class labs2 {\r\n        public static void main(String[] args) throws Exception {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n            System.out.println(&quot;Add size matrix m*n \\nnumber of row m =&quot;);\r\n            int m = Integer.parseInt(reader.readLine());\r\n    \r\n            System.out.println(&quot;number of columns n =&quot;);\r\n            int n = Integer.parseInt(reader.readLine());\r\n    \r\n            int[][] matrix = new int[m][n];\r\n    \r\n            System.out.println(&quot;Choose to method assignments matrix \\n0-manually \\n1-automatically&quot;);\r\n            int k = Integer.parseInt(reader.readLine());\r\n    \r\n            while (true) {\r\n                if (k == 0) {\r\n    \r\n                    //\r\n                    for (int i = 0; i &lt; m; i++) {\r\n                        for (int j = 0; j &lt; n; j++) {\r\n                            matrix[i][j] = Integer.parseInt(reader.readLine());\r\n                        }\r\n                    }\r\n                    // print matrix\r\n                    for (int i = 0; i &lt; m; i++) {\r\n                        for (int j = 0; j &lt; n; j++) {\r\n                            System.out.print(matrix[i][j] + &quot; &quot;);\r\n                        }\r\n                        System.out.println(&quot;&quot;);\r\n                    }\r\n    \r\n                    //count of null in matrix\r\n                    int count = 0;\r\n    \r\n                    for (int i = 0; i &lt; matrix.length; i++) {\r\n                        for (int j = 0; j &lt; matrix[i].length; j++)\r\n                            if (matrix[i][j] == 0) {\r\n                                count++;\r\n                            }\r\n                    }\r\n                    System.out.println(&quot;Quantity of Null in matrix: &quot; + count);\r\n    \r\n                }\r\n                //Assignment matrix automatically - Random\r\n                if (k == 1) {\r\n                    for (int i = 0; i &lt; matrix.length; i++) {\r\n                        // do the for in the row according to the column size\r\n                        for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                            // multiple the random by 10 and then cast to in\r\n                            matrix[i][j] = ((int) (Math.random() * 10));\r\n                        }\r\n                    }\r\n    \r\n                    // print matrix\r\n                    for (int i = 0; i &lt; m; i++) {\r\n                        for (int j = 0; j &lt; n; j++) {\r\n                            System.out.print(matrix[i][j] + &quot; &quot;);\r\n                        }\r\n                        System.out.println(&quot;&quot;);\r\n                    }\r\n    \r\n                    //count of null in matrix\r\n                    int count = 0;\r\n    \r\n                    for (int i = 0; i &lt; matrix.length; i++) {\r\n                        for (int j = 0; j &lt; matrix[i].length; j++)\r\n                            if (matrix[i][j] == 0) {\r\n                                count++;\r\n                            }\r\n                    }\r\n                    System.out.println(&quot;Quantity of Null in matrix: &quot; + count);\r\n    \r\n    \r\n                    //Create a File .txt\r\n    \r\n                    // String Builder to create the table structure before writing it to the file.\r\n                    StringBuilder sb = new StringBuilder();\r\n    \r\n                    for (int[] int1 : matrix) {\r\n                        for (int j = 0; j &lt; int1.length; j++) {\r\n                            sb.append(int1[j]).append(&quot;\\t&quot;);                    // Add tab to delimite the elements\r\n                        }\r\n                        sb.append(&quot;\\n&quot;);                                      // Add new line character\r\n                    }\r\n    \r\n                    System.out.println(&quot;\\nMatrix record in file\\n&quot; + sb);\r\n    \r\n                    // The path to your file\r\n                    Path path = Paths.get(&quot;D:\\\\labs1.txt&quot;);\r\n    \r\n                    // Writes to that path the bytes in the string from the stringBuilder object.\r\n                    Files.write(path, sb.toString().getBytes());\r\n    \r\n    \r\n                    ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\r\n    \r\n    \r\n                    System.out.println(Arrays.toString(list.toArray()));\r\n                }\r\n                if (k != 0 | k != 1) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        //Reading in File\r\n    \r\n        public static ArrayList&lt;int[]&gt; readMaze(String fileName) {\r\n    \r\n            // Number of ints per line:\r\n            int width = 2;\r\n    \r\n            // This will be the output - a list of rows, each with &#39;width&#39; entries:\r\n            ArrayList&lt;int[]&gt; results = new ArrayList&lt;int[]&gt;();\r\n    \r\n            String line = null;\r\n    \r\n            try {\r\n                FileReader fileReader = new FileReader(fileName);\r\n    \r\n                BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n    \r\n                Scanner mazeRunner = new Scanner(bufferedReader);\r\n    \r\n                // While we&#39;ve got another line..\r\n                while (mazeRunner.hasNextLine()) {\r\n    \r\n                    // Setup current row:\r\n                    int[] row = new int[width];\r\n    \r\n                    // For each number..\r\n                    for (int i = 0; i &lt; width; i++) {\r\n    \r\n                        // Read the number and add it to the current row:\r\n                        row[i] = mazeRunner.nextInt();\r\n    \r\n                    }\r\n    \r\n                    // Add the row to the results:\r\n                    results.add(row);\r\n    \r\n                    // Go to the next line (optional, but helps deal with erroneous input files):\r\n                    if (mazeRunner.hasNextLine()) {\r\n    \r\n                        // Go to the next line:\r\n                        mazeRunner.nextLine();\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                mazeRunner.close();\r\n    \r\n            } catch (FileNotFoundException ex) {\r\n                System.out.println(&quot;Unable to open file: &quot; + fileName);\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error reading file: &quot; + fileName);\r\n            }\r\n    \r\n            return results;\r\n        }\r\n    }\r\n\r\n```\r\nI used public static readMaze from here - `https://stackoverflow.com/questions/41632526/reading-a-text-file-into-a-2d-array`\r\n\r\nPrint to the console: \r\n```\r\nAdd size matrix m*n \r\nnumber of row m =\r\n4\r\nnumber of columns n =\r\n2\r\nChoose to method assignments matrix \r\n0-manually \r\n1-automatically\r\n1\r\n1 0 \r\n9 3 \r\n6 3 \r\n0 2 \r\nQuantity of Null in matrix: 2\r\n\r\nMatrix record in file\r\n1\t0\t\r\n9\t3\t\r\n6\t3\t\r\n0\t2\t\r\n\r\n[[I@5e9f23b4, [I@4783da3f, [I@378fd1ac, [I@49097b5d]\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nBut this code incorrect reading and printing 2D matrix(array)\r\n`[[I@5e9f23b4, [I@4783da3f, [I@378fd1ac, [I@49097b5d]`\r\n\r\nI doubt about this code:\r\n\r\n`ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\r\nSystem.out.println(Arrays.toString(list.toArray()));`\r\n\r\nPlease Help me, this&#39;s need me to finish task in the University","title":"Reading and print 2D matrix (array) to console from created File | Java","body":"<p>Necessary create a 2D matrix (array) sizes m*b:</p>\n<ol>\n<li>Filled in by manually, found Null, print results</li>\n<li>Filled in by automatically:</li>\n</ol>\n<ul>\n<li>create a File -&gt; record File.txt</li>\n<li>read in created File.txt</li>\n<li>found Null</li>\n<li>print results</li>\n</ul>\n<pre><code>\n    package labs1;\n    \n    import java.io.*;\n    import java.io.IOException;\n    import java.nio.file.Files;\n    import java.nio.file.Path;\n    import java.nio.file.Paths;\n    import java.util.*;\n    \n    public class labs2 {\n        public static void main(String[] args) throws Exception {\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    \n            System.out.println(&quot;Add size matrix m*n \\nnumber of row m =&quot;);\n            int m = Integer.parseInt(reader.readLine());\n    \n            System.out.println(&quot;number of columns n =&quot;);\n            int n = Integer.parseInt(reader.readLine());\n    \n            int[][] matrix = new int[m][n];\n    \n            System.out.println(&quot;Choose to method assignments matrix \\n0-manually \\n1-automatically&quot;);\n            int k = Integer.parseInt(reader.readLine());\n    \n            while (true) {\n                if (k == 0) {\n    \n                    //\n                    for (int i = 0; i &lt; m; i++) {\n                        for (int j = 0; j &lt; n; j++) {\n                            matrix[i][j] = Integer.parseInt(reader.readLine());\n                        }\n                    }\n                    // print matrix\n                    for (int i = 0; i &lt; m; i++) {\n                        for (int j = 0; j &lt; n; j++) {\n                            System.out.print(matrix[i][j] + &quot; &quot;);\n                        }\n                        System.out.println(&quot;&quot;);\n                    }\n    \n                    //count of null in matrix\n                    int count = 0;\n    \n                    for (int i = 0; i &lt; matrix.length; i++) {\n                        for (int j = 0; j &lt; matrix[i].length; j++)\n                            if (matrix[i][j] == 0) {\n                                count++;\n                            }\n                    }\n                    System.out.println(&quot;Quantity of Null in matrix: &quot; + count);\n    \n                }\n                //Assignment matrix automatically - Random\n                if (k == 1) {\n                    for (int i = 0; i &lt; matrix.length; i++) {\n                        // do the for in the row according to the column size\n                        for (int j = 0; j &lt; matrix[i].length; j++) {\n                            // multiple the random by 10 and then cast to in\n                            matrix[i][j] = ((int) (Math.random() * 10));\n                        }\n                    }\n    \n                    // print matrix\n                    for (int i = 0; i &lt; m; i++) {\n                        for (int j = 0; j &lt; n; j++) {\n                            System.out.print(matrix[i][j] + &quot; &quot;);\n                        }\n                        System.out.println(&quot;&quot;);\n                    }\n    \n                    //count of null in matrix\n                    int count = 0;\n    \n                    for (int i = 0; i &lt; matrix.length; i++) {\n                        for (int j = 0; j &lt; matrix[i].length; j++)\n                            if (matrix[i][j] == 0) {\n                                count++;\n                            }\n                    }\n                    System.out.println(&quot;Quantity of Null in matrix: &quot; + count);\n    \n    \n                    //Create a File .txt\n    \n                    // String Builder to create the table structure before writing it to the file.\n                    StringBuilder sb = new StringBuilder();\n    \n                    for (int[] int1 : matrix) {\n                        for (int j = 0; j &lt; int1.length; j++) {\n                            sb.append(int1[j]).append(&quot;\\t&quot;);                    // Add tab to delimite the elements\n                        }\n                        sb.append(&quot;\\n&quot;);                                      // Add new line character\n                    }\n    \n                    System.out.println(&quot;\\nMatrix record in file\\n&quot; + sb);\n    \n                    // The path to your file\n                    Path path = Paths.get(&quot;D:\\\\labs1.txt&quot;);\n    \n                    // Writes to that path the bytes in the string from the stringBuilder object.\n                    Files.write(path, sb.toString().getBytes());\n    \n    \n                    ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;);\n    \n    \n                    System.out.println(Arrays.toString(list.toArray()));\n                }\n                if (k != 0 | k != 1) {\n                    break;\n                }\n            }\n        }\n    \n        //Reading in File\n    \n        public static ArrayList&lt;int[]&gt; readMaze(String fileName) {\n    \n            // Number of ints per line:\n            int width = 2;\n    \n            // This will be the output - a list of rows, each with 'width' entries:\n            ArrayList&lt;int[]&gt; results = new ArrayList&lt;int[]&gt;();\n    \n            String line = null;\n    \n            try {\n                FileReader fileReader = new FileReader(fileName);\n    \n                BufferedReader bufferedReader = new BufferedReader(fileReader);\n    \n                Scanner mazeRunner = new Scanner(bufferedReader);\n    \n                // While we've got another line..\n                while (mazeRunner.hasNextLine()) {\n    \n                    // Setup current row:\n                    int[] row = new int[width];\n    \n                    // For each number..\n                    for (int i = 0; i &lt; width; i++) {\n    \n                        // Read the number and add it to the current row:\n                        row[i] = mazeRunner.nextInt();\n    \n                    }\n    \n                    // Add the row to the results:\n                    results.add(row);\n    \n                    // Go to the next line (optional, but helps deal with erroneous input files):\n                    if (mazeRunner.hasNextLine()) {\n    \n                        // Go to the next line:\n                        mazeRunner.nextLine();\n    \n                    }\n    \n                }\n    \n                mazeRunner.close();\n    \n            } catch (FileNotFoundException ex) {\n                System.out.println(&quot;Unable to open file: &quot; + fileName);\n            } catch (IOException ex) {\n                System.out.println(&quot;Error reading file: &quot; + fileName);\n            }\n    \n            return results;\n        }\n    }\n\n</code></pre>\n<p>I used public static readMaze from here - <code>https://stackoverflow.com/questions/41632526/reading-a-text-file-into-a-2d-array</code></p>\n<p>Print to the console:</p>\n<pre><code>Add size matrix m*n \nnumber of row m =\n4\nnumber of columns n =\n2\nChoose to method assignments matrix \n0-manually \n1-automatically\n1\n1 0 \n9 3 \n6 3 \n0 2 \nQuantity of Null in matrix: 2\n\nMatrix record in file\n1   0   \n9   3   \n6   3   \n0   2   \n\n[[I@5e9f23b4, [I@4783da3f, [I@378fd1ac, [I@49097b5d]\n\nProcess finished with exit code 0\n</code></pre>\n<p>But this code incorrect reading and printing 2D matrix(array)\n<code>[[I@5e9f23b4, [I@4783da3f, [I@378fd1ac, [I@49097b5d]</code></p>\n<p>I doubt about this code:</p>\n<p><code>ArrayList&lt;int[]&gt; list = readMaze(&quot;D:\\\\labs1.txt&quot;); System.out.println(Arrays.toString(list.toArray()));</code></p>\n<p>Please Help me, this's need me to finish task in the University</p>\n"},{"tags":["python","java","string","generator"],"comments":[{"owner":{"account_id":8250859,"reputation":302,"user_id":6205564,"display_name":"eran halperin"},"score":0,"creation_date":1638822934,"post_id":70251584,"comment_id":124185699,"body_markdown":"could you share with us the generators you found?","body":"could you share with us the generators you found?"}],"answers":[{"tags":[],"owner":{"account_id":23566595,"reputation":1,"user_id":17607251,"display_name":"Coffeybean19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638823648,"creation_date":1638823648,"answer_id":70251772,"question_id":70251584,"body_markdown":"What about this? You can adjust the input for random.randiant to limit your character pool.\r\n\r\n\r\n    `strings = [&quot;&quot;,&quot;&quot;,&quot;&quot;]\r\n\r\n    #generate 3 random characters\r\n    for str in strings:\r\n        random_integer = random.randint(0, MAX_LIMIT)\r\n        # append random character to string\r\n        str += (chr(random_integer))\r\n\r\n    #Write string with .format\r\n    print(&quot;({m[0]}){m[1]}{m[1]}-{m[2]}{m[2]}-{m[1]}{m[1]}&quot;.format(m=strings)`","title":"How do i find/write a String/code generator with prefix char and order (preferably in Python or Java)","body":"<p>What about this? You can adjust the input for random.randiant to limit your character pool.</p>\n<pre><code>`strings = [&quot;&quot;,&quot;&quot;,&quot;&quot;]\n\n#generate 3 random characters\nfor str in strings:\n    random_integer = random.randint(0, MAX_LIMIT)\n    # append random character to string\n    str += (chr(random_integer))\n\n#Write string with .format\nprint(&quot;({m[0]}){m[1]}{m[1]}-{m[2]}{m[2]}-{m[1]}{m[1]}&quot;.format(m=strings)`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3855581,"reputation":1401,"user_id":3194618,"display_name":"Glauco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638825103,"creation_date":1638825103,"answer_id":70252006,"question_id":70251584,"body_markdown":"This create all combinations.\r\nThe idea is to create all combinations of uppercase for the XX\r\nand using digits for the 000 parts\r\n\r\n\r\n\r\n    from string import ascii_uppercase, digits \r\n    from itertools import product\r\n    \r\n    for a,b,c in product(product(ascii_uppercase,repeat=2), product(digits ,repeat=3), product(ascii_uppercase,repeat=2)):\r\n       print(f&quot;(A){&#39;&#39;.join(a)}-{&#39;&#39;.join(b)}-{&#39;&#39;.join(c)}&quot;)\r\n\r\n    # sample: (A)AA-282-KV\r\n\r\n\r\n## hint\r\nAll combinations are: 26^4*10^3 = 456976000\r\n\r\n","title":"How do i find/write a String/code generator with prefix char and order (preferably in Python or Java)","body":"<p>This create all combinations.\nThe idea is to create all combinations of uppercase for the XX\nand using digits for the 000 parts</p>\n<pre><code>from string import ascii_uppercase, digits \nfrom itertools import product\n\nfor a,b,c in product(product(ascii_uppercase,repeat=2), product(digits ,repeat=3), product(ascii_uppercase,repeat=2)):\n   print(f&quot;(A){''.join(a)}-{''.join(b)}-{''.join(c)}&quot;)\n\n# sample: (A)AA-282-KV\n</code></pre>\n<h2>hint</h2>\n<p>All combinations are: 26^4*10^3 = 456976000</p>\n"}],"owner":{"account_id":20367024,"reputation":1,"user_id":14940125,"display_name":"Manolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1638825103,"creation_date":1638822694,"question_id":70251584,"body_markdown":"I am trying to figure out how i can get all possible combinations of an 8 characters long code/string. But this code/string must meet the following two requirements:\r\n\r\n1. the first character is always the same.\r\n2. and the order of characters is also always the same.\r\n\r\nTo make it clear I will give an example.\r\n\r\n(A)XX-000-XX\r\n\r\nSo (A) is static, the two consecutive capital letters are variable. The three numbers are also variable and the last two capital letters are also variable.\r\n\r\nI have since found generators that can fix the (A). But I haven&#39;t been able to find the other requirement of the prefix order yet.\r\n\r\nSo I thought maybe I should write it myself. Can someone point me in the right direction? Thank you very much!\r\n\r\nKind regards,\r\nManolo\r\n\r\n","title":"How do i find/write a String/code generator with prefix char and order (preferably in Python or Java)","body":"<p>I am trying to figure out how i can get all possible combinations of an 8 characters long code/string. But this code/string must meet the following two requirements:</p>\n<ol>\n<li>the first character is always the same.</li>\n<li>and the order of characters is also always the same.</li>\n</ol>\n<p>To make it clear I will give an example.</p>\n<p>(A)XX-000-XX</p>\n<p>So (A) is static, the two consecutive capital letters are variable. The three numbers are also variable and the last two capital letters are also variable.</p>\n<p>I have since found generators that can fix the (A). But I haven't been able to find the other requirement of the prefix order yet.</p>\n<p>So I thought maybe I should write it myself. Can someone point me in the right direction? Thank you very much!</p>\n<p>Kind regards,\nManolo</p>\n"},{"tags":["java","json","spring-boot","jackson","resttemplate"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1638824430,"post_id":70251158,"comment_id":124186139,"body_markdown":"What do you mean by _field id_?  Field **name**, field **value**, or something else?  Please provide the expected json for a couple enviornments.","body":"What do you mean by <i>field id</i>?  Field <b>name</b>, field <b>value</b>, or something else?  Please provide the expected json for a couple enviornments."}],"answers":[{"tags":[],"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638824959,"creation_date":1638823659,"answer_id":70251775,"question_id":70251158,"body_markdown":"You could create a config class where you keep track of the actual id according to your environment and map them using jackson&#39;s [@JsonAnyGetter][1].\r\n\r\n So for example if you have the following `application.properties` (I&#39;m using [multi-document props][2] here, but you could also have `application.properties` per profile):\r\n\r\n    spring.profiles.active=dev\r\n    #---\r\n    spring.config.activate.on-profile=dev\r\n    application.requestClass.nameId=123\r\n    #---\r\n    spring.config.activate.on-profile=test\r\n    application.requestClass.nameId=456\r\n\r\nThen, you&#39;d create your config class (I&#39;m using Lombok&#39;s `@Data` for getter/setters):\r\n\r\n    @Configuration\r\n    @Data\r\n    public class RequestClassConfig {\r\n    \r\n        @Value(&quot;${application.requestClass.nameId}&quot;)\r\n        private String nameId;\r\n    \r\n        @PostConstruct\r\n        public void postConstruct() {\r\n            RequestClass.config = this;\r\n        }\r\n    }\r\n\r\nand finally your DTO with `@JsonAnyGetter`:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class RequestClass {\r\n    \r\n        public static RequestClassConfig config;\r\n    \r\n        @JsonIgnore\r\n        private String name;\r\n    \r\n        @JsonAnyGetter\r\n        public Map&lt;String, Object&gt; any() {\r\n            final var map = new HashMap&lt;String, Object&gt;();\r\n    \r\n            map.put(config.getNameId(), this.name);\r\n            return map;\r\n        }\r\n    \r\n    }\r\n\r\nNote that you can do the same for the remaining props, I&#39;ve just omitted those for brevity.\r\n\r\nNow for a quick test run:\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n    \r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            SpringApplication.run(App.class, args);\r\n            final var mapper = new ObjectMapper();\r\n            final var req = new RequestClass();\r\n            req.setName(&quot;test&quot;);\r\n    \r\n            System.out.println(mapper.writeValueAsString(req));\r\n        }\r\n    \r\n    }\r\n\r\nThis will print \r\n`{&quot;123&quot;:&quot;test&quot;}` to the console if the `dev` profile is active\r\nand \r\n`{&quot;456&quot;:&quot;test&quot;}` if the `test` profile is active.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonAnyGetter.html\r\n  [2]: https://www.baeldung.com/spring-profiles#3-multi-document-files\r\n","title":"How to have different @JsonProperty based on environment in spring boot","body":"<p>You could create a config class where you keep track of the actual id according to your environment and map them using jackson's <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonAnyGetter.html\" rel=\"nofollow noreferrer\">@JsonAnyGetter</a>.</p>\n<p>So for example if you have the following <code>application.properties</code> (I'm using <a href=\"https://www.baeldung.com/spring-profiles#3-multi-document-files\" rel=\"nofollow noreferrer\">multi-document props</a> here, but you could also have <code>application.properties</code> per profile):</p>\n<pre><code>spring.profiles.active=dev\n#---\nspring.config.activate.on-profile=dev\napplication.requestClass.nameId=123\n#---\nspring.config.activate.on-profile=test\napplication.requestClass.nameId=456\n</code></pre>\n<p>Then, you'd create your config class (I'm using Lombok's <code>@Data</code> for getter/setters):</p>\n<pre><code>@Configuration\n@Data\npublic class RequestClassConfig {\n\n    @Value(&quot;${application.requestClass.nameId}&quot;)\n    private String nameId;\n\n    @PostConstruct\n    public void postConstruct() {\n        RequestClass.config = this;\n    }\n}\n</code></pre>\n<p>and finally your DTO with <code>@JsonAnyGetter</code>:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RequestClass {\n\n    public static RequestClassConfig config;\n\n    @JsonIgnore\n    private String name;\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; any() {\n        final var map = new HashMap&lt;String, Object&gt;();\n\n        map.put(config.getNameId(), this.name);\n        return map;\n    }\n\n}\n</code></pre>\n<p>Note that you can do the same for the remaining props, I've just omitted those for brevity.</p>\n<p>Now for a quick test run:</p>\n<pre><code>@SpringBootApplication\npublic class App {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        SpringApplication.run(App.class, args);\n        final var mapper = new ObjectMapper();\n        final var req = new RequestClass();\n        req.setName(&quot;test&quot;);\n\n        System.out.println(mapper.writeValueAsString(req));\n    }\n\n}\n</code></pre>\n<p>This will print\n<code>{&quot;123&quot;:&quot;test&quot;}</code> to the console if the <code>dev</code> profile is active\nand\n<code>{&quot;456&quot;:&quot;test&quot;}</code> if the <code>test</code> profile is active.</p>\n"}],"owner":{"account_id":13411174,"reputation":63,"user_id":9677571,"display_name":"smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70251775,"answer_count":1,"score":2,"last_activity_date":1638824959,"creation_date":1638820354,"question_id":70251158,"body_markdown":"I have a class which is used as a request to hit another service.\r\n\r\nIt has few fields like below.\r\n\r\n```\r\npublic class RequestClass {\r\n\r\n  @JsonProperty(&quot;123&quot;)\r\n  private String name;\r\n\r\n  @JsonProperty(&quot;124&quot;)\r\n  private String email;\r\n\r\n  @JsonProperty(&quot;129&quot;)\r\n  private String mobile;\r\n\r\n}\r\n```\r\n\r\nThe upstream service requires the request with field id like 123, 124, 129,etc.\r\n\r\nThese field id will be different for test and production environment.\r\n\r\nIs there any better way to do it other than having different RequestClass?","title":"How to have different @JsonProperty based on environment in spring boot","body":"<p>I have a class which is used as a request to hit another service.</p>\n<p>It has few fields like below.</p>\n<pre><code>public class RequestClass {\n\n  @JsonProperty(&quot;123&quot;)\n  private String name;\n\n  @JsonProperty(&quot;124&quot;)\n  private String email;\n\n  @JsonProperty(&quot;129&quot;)\n  private String mobile;\n\n}\n</code></pre>\n<p>The upstream service requires the request with field id like 123, 124, 129,etc.</p>\n<p>These field id will be different for test and production environment.</p>\n<p>Is there any better way to do it other than having different RequestClass?</p>\n"},{"tags":["java","android","textview","android-date"],"answers":[{"tags":[],"owner":{"account_id":2225254,"reputation":3722,"user_id":1964191,"accept_rate":38,"display_name":"okarakose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477678555,"creation_date":1477677871,"answer_id":40310815,"question_id":40310773,"body_markdown":"you can use **SimpleDateFormat**\r\n\r\n    TextView textView = (TextView)findViewById(R.id.datumprikaz);\r\n    SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;, Locale.getDefault());\r\n    textView.setText(dateFormatter.format(trenutniDatum));\r\n","title":"Android studio - Textview show date","body":"<p>you can use <strong>SimpleDateFormat</strong></p>\n\n<pre><code>TextView textView = (TextView)findViewById(R.id.datumprikaz);\nSimpleDateFormat dateFormatter = new SimpleDateFormat(\"dd.MM.yyyy\", Locale.getDefault());\ntextView.setText(dateFormatter.format(trenutniDatum));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4806728"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477679330,"creation_date":1477679330,"answer_id":40311139,"question_id":40310773,"body_markdown":"Try this\r\n\r\n    public void setDate (TextView view) {\r\n    String str = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;, Locale.getDefault()).format(new Date());\r\n    view.setText(str); }","title":"Android studio - Textview show date","body":"<p>Try this</p>\n\n<pre><code>public void setDate (TextView view) {\nString str = new SimpleDateFormat(\"dd.MM.yyyy\", Locale.getDefault()).format(new Date());\nview.setText(str); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8195956,"reputation":490,"user_id":6168802,"display_name":"Real73"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1477679493,"creation_date":1477679493,"answer_id":40311188,"question_id":40310773,"body_markdown":"what you need is just customizing you date.Here is simple solution for your setDate method.\r\n\r\n    public void setDate (TextView view){\r\n\r\n        Date today = Calendar.getInstance().getTime();//getting date\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);//formating according to my need\r\n        String date = formatter.format(today);\r\n        view.setText(date);\r\n    }\r\nyou can format a date in many, many different ways. Here are some of the most common custom date formats.\r\n\r\n&gt; yyyy-MM-dd                 results in    2009-09-06\r\n&gt; \r\n&gt; yyyyMMdd                   results in    20090906\r\n&gt; \r\n&gt; EEE MMM dd hh:mm:ss yyyy   results in    Sun Sep 06 08:32:51 2009\r\n\r\nHope this will help.\r\n","title":"Android studio - Textview show date","body":"<p>what you need is just customizing you date.Here is simple solution for your setDate method.</p>\n\n<pre><code>public void setDate (TextView view){\n\n    Date today = Calendar.getInstance().getTime();//getting date\n    SimpleDateFormat formatter = new SimpleDateFormat(\"dd.MM.yyyy\");//formating according to my need\n    String date = formatter.format(today);\n    view.setText(date);\n}\n</code></pre>\n\n<p>you can format a date in many, many different ways. Here are some of the most common custom date formats.</p>\n\n<blockquote>\n  <p>yyyy-MM-dd                 results in    2009-09-06</p>\n  \n  <p>yyyyMMdd                   results in    20090906</p>\n  \n  <p>EEE MMM dd hh:mm:ss yyyy   results in    Sun Sep 06 08:32:51 2009</p>\n</blockquote>\n\n<p>Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":2249398,"reputation":1885,"user_id":1981978,"accept_rate":68,"display_name":"Casey Perkins"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572443610,"creation_date":1572443610,"answer_id":58626947,"question_id":40310773,"body_markdown":"The built-in TextClock is very convenient for displaying formatted date/time information, without any need to attend to constantly updating the content of the TextView.\r\n\r\n    &lt;android.widget.TextClock\r\n    \tandroid:id=&quot;@+id/datumprikaz&quot;\r\n    \tandroid:layout_width=&quot;wrap_content&quot;\r\n    \tandroid:layout_height=&quot;wrap_content&quot;\r\n    \tandroid:format12Hour=&quot;dd.MM.yyyy&quot;\r\n    \tandroid:format24Hour=&quot;@null&quot;\r\n    \t/&gt;\r\n","title":"Android studio - Textview show date","body":"<p>The built-in TextClock is very convenient for displaying formatted date/time information, without any need to attend to constantly updating the content of the TextView.</p>\n\n<pre><code>&lt;android.widget.TextClock\n    android:id=\"@+id/datumprikaz\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:format12Hour=\"dd.MM.yyyy\"\n    android:format24Hour=\"@null\"\n    /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13935685,"reputation":133,"user_id":10116266,"display_name":"Abolfazl Zohoorian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638824677,"creation_date":1638824677,"answer_id":70251940,"question_id":40310773,"body_markdown":"**SimpleDateFormat** is a concrete class for formatting and parsing dates in a locale-sensitive manner. It allows for formatting (date → text), parsing (text → date), and normalization. \r\n\r\n**Example:**\r\n\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    import java.util.Calendar;\r\n    \r\n    ///\r\n    \r\n    Calendar calendar;\r\n    \r\n    calendar = Calendar.getInstance();\r\n    \r\n    /////\r\n    \r\n    SimpleDateFormat simpleDateFormat;\r\n    \r\n    simpleDateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss aaa z&quot;);\r\n    \r\n    // For your case : simpleDateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n    \r\n    ////\r\n    \r\n    String dateTime;\r\n    \r\n    dateTime = simpleDateFormat.format(calendar.getTime()).toString();\r\n        \r\n       \r\n\r\n  ","title":"Android studio - Textview show date","body":"<p><strong>SimpleDateFormat</strong> is a concrete class for formatting and parsing dates in a locale-sensitive manner. It allows for formatting (date → text), parsing (text → date), and normalization.</p>\n<p><strong>Example:</strong></p>\n<pre><code>import java.text.SimpleDateFormat;\n\nimport java.util.Calendar;\n\n///\n\nCalendar calendar;\n\ncalendar = Calendar.getInstance();\n\n/////\n\nSimpleDateFormat simpleDateFormat;\n\nsimpleDateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss aaa z&quot;);\n\n// For your case : simpleDateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\n\n////\n\nString dateTime;\n\ndateTime = simpleDateFormat.format(calendar.getTime()).toString();\n    \n   \n</code></pre>\n"}],"owner":{"account_id":6626659,"reputation":826,"user_id":5116661,"accept_rate":28,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19440,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40311188,"answer_count":5,"score":3,"last_activity_date":1638824677,"creation_date":1477677705,"question_id":40310773,"body_markdown":"I&#39;ve read a lot of posts about this, but I cannot get it to work.\r\nI need a textView (id - datumprikaz ) to show the current date like this: 28.11.2016.\r\n\r\nI&#39;ve managed to add the date using this method in my java:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextView dateView = (TextView)findViewById(R.id.datumprikaz);\r\n        setDate(dateView);\r\n\r\n    }\r\n\r\n    public void setDate (TextView view){\r\n        String str = String.format(&quot;%tc&quot;, new Date());\r\n        view.setText(str);\r\n    }\r\nThe problem is I get as a result: Fri Oct 28 19:57:37 GMT\r\n\r\nAnd I just need it to show the current date like 28.11.2016.\r\n\r\nHow do I do this ? \r\n\r\nI&#39;ve tried another method with \r\n\r\n        String trenutniDatum = DateFormat.getDateTimeInstance().format(new Date());\r\n        datumprikaz textView = (datumprikaz) findViewById(R.id.datumprikaz);\r\n        datumprikaz.setText(trenutniDatum);\r\nBut the setText is red and won&#39;t work.\r\n\r\nHow do I get this ? 28.11.2016 in a textView with the id datumprikaz","title":"Android studio - Textview show date","body":"<p>I've read a lot of posts about this, but I cannot get it to work.\nI need a textView (id - datumprikaz ) to show the current date like this: 28.11.2016.</p>\n\n<p>I've managed to add the date using this method in my java:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    TextView dateView = (TextView)findViewById(R.id.datumprikaz);\n    setDate(dateView);\n\n}\n\npublic void setDate (TextView view){\n    String str = String.format(\"%tc\", new Date());\n    view.setText(str);\n}\n</code></pre>\n\n<p>The problem is I get as a result: Fri Oct 28 19:57:37 GMT</p>\n\n<p>And I just need it to show the current date like 28.11.2016.</p>\n\n<p>How do I do this ? </p>\n\n<p>I've tried another method with </p>\n\n<pre><code>    String trenutniDatum = DateFormat.getDateTimeInstance().format(new Date());\n    datumprikaz textView = (datumprikaz) findViewById(R.id.datumprikaz);\n    datumprikaz.setText(trenutniDatum);\n</code></pre>\n\n<p>But the setText is red and won't work.</p>\n\n<p>How do I get this ? 28.11.2016 in a textView with the id datumprikaz</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1638823772,"post_id":70251373,"comment_id":124185960,"body_markdown":"hmm not sure if there is a way, I would suggest you add a counter to consume only N amount of messages, then use your (pause functionality) afterwards.  You could also see https://stackoverflow.com/questions/38983405/kafka-console-consumer-how-to-get-only-the-last-n-messages-from-a-topic-instead as You can figure out how many messages are in your partition, and seek to read only specific ones by using offset.","body":"hmm not sure if there is a way, I would suggest you add a counter to consume only N amount of messages, then use your (pause functionality) afterwards.  You could also see <a href=\"https://stackoverflow.com/questions/38983405/kafka-console-consumer-how-to-get-only-the-last-n-messages-from-a-topic-instead\" title=\"kafka console consumer how to get only the last n messages from a topic instead\">stackoverflow.com/questions/38983405/&hellip;</a> as You can figure out how many messages are in your partition, and seek to read only specific ones by using offset."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638824444,"creation_date":1638824444,"answer_id":70251902,"question_id":70251373,"body_markdown":"The latest version (2.8) allows you to fetch individual (or a group) of messages using the `KafkaTemplate` instead of a message-driven approach.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-template-receive","title":"How to temporarily resume Spring Kafka listener","body":"<p>The latest version (2.8) allows you to fetch individual (or a group) of messages using the <code>KafkaTemplate</code> instead of a message-driven approach.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-template-receive\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-template-receive</a></p>\n"}],"owner":{"account_id":2656069,"reputation":610,"user_id":2898925,"accept_rate":33,"display_name":"mstaal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638824444,"creation_date":1638821573,"question_id":70251373,"body_markdown":"I am maintaining a Spring Boot application that uses Spring Kafka for a variety of asynchronous flows. I have implemented functionality that allows for me to dynamically pause and resume any Kafka Listener / consumer of my choosing. However, I would like to be able to resume a listener / consumer in a way such that it only temporarily polls a specified fixed number of Kafka messages (e.g. 1 or 5) such that I can safely test the business logic of the listener before opening / resuming it completely. What would be a natural way of doing this?","title":"How to temporarily resume Spring Kafka listener","body":"<p>I am maintaining a Spring Boot application that uses Spring Kafka for a variety of asynchronous flows. I have implemented functionality that allows for me to dynamically pause and resume any Kafka Listener / consumer of my choosing. However, I would like to be able to resume a listener / consumer in a way such that it only temporarily polls a specified fixed number of Kafka messages (e.g. 1 or 5) such that I can safely test the business logic of the listener before opening / resuming it completely. What would be a natural way of doing this?</p>\n"},{"tags":["java","arrays","algorithm","greedy"],"comments":[{"owner":{"account_id":9937191,"reputation":827,"user_id":7355135,"display_name":"Alex"},"score":0,"creation_date":1638818469,"post_id":70250747,"comment_id":124184162,"body_markdown":"Was it specified that you must use a greedy algorithm?","body":"Was it specified that you must use a greedy algorithm?"},{"owner":{"account_id":20164858,"reputation":604,"user_id":14789065,"display_name":"wLui155"},"score":0,"creation_date":1638818837,"post_id":70250747,"comment_id":124184298,"body_markdown":"As you determined, a greedy approach won&#39;t always give a correct answer. However, a recursive/dynamic-programming based approach might. Given your array of scores `A`, define `best(A, i)` to be the best score you can get starting at index `i`. You need to solve `best(A, 0)`, and because it&#39;s possible to step 1-6 steps, `best(A, 0) = A[0] + max(best(A, k))` for `1 &lt;= k &lt;= 5`. From here, you can define the general recurrence for any arbitrary index of `A`.","body":"As you determined, a greedy approach won&#39;t always give a correct answer. However, a recursive/dynamic-programming based approach might. Given your array of scores <code>A</code>, define <code>best(A, i)</code> to be the best score you can get starting at index <code>i</code>. You need to solve <code>best(A, 0)</code>, and because it&#39;s possible to step 1-6 steps, <code>best(A, 0) = A[0] + max(best(A, k))</code> for <code>1 &lt;= k &lt;= 5</code>. From here, you can define the general recurrence for any arbitrary index of <code>A</code>."},{"owner":{"account_id":6965660,"reputation":6723,"user_id":5343790,"accept_rate":92,"display_name":"Shridhar R Kulkarni"},"score":0,"creation_date":1638820104,"post_id":70250747,"comment_id":124184745,"body_markdown":"Updated my answer to include a greedy solution.","body":"Updated my answer to include a greedy solution."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1638820245,"post_id":70250747,"comment_id":124184788,"body_markdown":"Maybe keep a history of the number of steps and best score of each item in the array as we iterate it. So for each new item in the array, we find the best score from adding on steps to any one of the last six spaces. This at most uses an int and a long per array size, but you could delete any results older than six spaces if you were really trying to minimize memory use.","body":"Maybe keep a history of the number of steps and best score of each item in the array as we iterate it. So for each new item in the array, we find the best score from adding on steps to any one of the last six spaces. This at most uses an int and a long per array size, but you could delete any results older than six spaces if you were really trying to minimize memory use."},{"owner":{"account_id":23565184,"reputation":31,"user_id":17606018,"display_name":"FilthyProgrammer96"},"score":0,"creation_date":1638825428,"post_id":70250747,"comment_id":124186448,"body_markdown":"No I don&#39;t need to use a greedy algorithm, it&#39;s just my approach to this problem. @Alex","body":"No I don&#39;t need to use a greedy algorithm, it&#39;s just my approach to this problem. @Alex"}],"answers":[{"tags":[],"owner":{"account_id":6965660,"reputation":6723,"user_id":5343790,"accept_rate":92,"display_name":"Shridhar R Kulkarni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638824385,"creation_date":1638818565,"answer_id":70250837,"question_id":70250747,"body_markdown":"Oh, wait! Greedy is possible here using a maximum heap.\r\n\r\n**Idea:**\r\n\r\nMax heap is a data structure which maintains the maximum element at the top of the structure. If we keep 6 values that could come up after the dice roll in maximum heap, we can get the maximum possible value that dice can roll.\r\n\r\nLet us consider your example array {1, -40, -40, -40, -40, -1, -38, -40, -40, -40, -40, -40, 1}.\r\n\r\nPush first six values that dice can roll in the max heap. So, max heap contains the elements {&lt;1, 0&gt;, &lt;-40, 1&gt;, &lt;-40, 2&gt;, &lt;-40, 3&gt;, &lt;-40, 4&gt;, &lt;-1, 5&gt;} (not in max heap order).\r\n\r\nHere `&lt;top of the max heap&gt;.value` = 1 and `&lt;top of the max heap&gt;.index` = 0.\r\n\r\nNow, max_score = 1.\r\n\r\nAfter popping the max heap and adding the next element from the array, max heap would contain following elements {&lt;-40, 1&gt;, &lt;-40, 2&gt;, &lt;-40, 3&gt;, &lt;-40, 4&gt;, &lt;-1, 5&gt;, &lt;-38, 6&gt;} (not in max heap order).\r\n\r\nSimilarly, you can work out for remaining elements in the input array using the below algorithm.\r\n\r\n**Algorithm:**\r\n\r\n    max_score, curr_index, steps = 0\r\n    Push input_array[0..max(5, size_of_input_array - 1)] values in a max heap in the form &lt;value, index in the array&gt;\r\n    i = 6\r\n\r\n    while(max heap is not empty):\r\n        while(max heap is not empty and &lt;top of the max heap&gt;.index &lt; curr_index):\r\n            pop the max heap\r\n        if(max heap is not empty):\r\n            max_score += &lt;top of the max heap&gt;.value\r\n            curr_index = &lt;top of the max heap&gt;.index\r\n            steps++\r\n            pop the max heap\r\n        if(i &lt; size_of_input_array):\r\n            push the &lt;input_array[i], i&gt; into the max heap\r\n            i++\r\n    return max_score, steps\r\n\r\n    Time complexity: O(size_of_input_array * log(6)) =&gt; O(size_of_input_array)\r\n    Space complexity: O(6) =&gt; Constant\r\n\r\nNot giving out the full working code as it is your assignment but the above algorithm is not less than code. \r\n\r\n\r\n\r\nYou can try with [Depth First Search][1], [Dynamic Programming][2] as well. But the above greedy solution is asymptotically the most efficient approach.\r\n\r\nHope that helped you. I loved solving it. Thanks!\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Depth-first_search\r\n  [2]: https://en.wikipedia.org/wiki/Dynamic_programming","title":"How do I change this greedy algorithm to predict the most overall score?","body":"<p>Oh, wait! Greedy is possible here using a maximum heap.</p>\n<p><strong>Idea:</strong></p>\n<p>Max heap is a data structure which maintains the maximum element at the top of the structure. If we keep 6 values that could come up after the dice roll in maximum heap, we can get the maximum possible value that dice can roll.</p>\n<p>Let us consider your example array {1, -40, -40, -40, -40, -1, -38, -40, -40, -40, -40, -40, 1}.</p>\n<p>Push first six values that dice can roll in the max heap. So, max heap contains the elements {&lt;1, 0&gt;, &lt;-40, 1&gt;, &lt;-40, 2&gt;, &lt;-40, 3&gt;, &lt;-40, 4&gt;, &lt;-1, 5&gt;} (not in max heap order).</p>\n<p>Here <code>&lt;top of the max heap&gt;.value</code> = 1 and <code>&lt;top of the max heap&gt;.index</code> = 0.</p>\n<p>Now, max_score = 1.</p>\n<p>After popping the max heap and adding the next element from the array, max heap would contain following elements {&lt;-40, 1&gt;, &lt;-40, 2&gt;, &lt;-40, 3&gt;, &lt;-40, 4&gt;, &lt;-1, 5&gt;, &lt;-38, 6&gt;} (not in max heap order).</p>\n<p>Similarly, you can work out for remaining elements in the input array using the below algorithm.</p>\n<p><strong>Algorithm:</strong></p>\n<pre><code>max_score, curr_index, steps = 0\nPush input_array[0..max(5, size_of_input_array - 1)] values in a max heap in the form &lt;value, index in the array&gt;\ni = 6\n\nwhile(max heap is not empty):\n    while(max heap is not empty and &lt;top of the max heap&gt;.index &lt; curr_index):\n        pop the max heap\n    if(max heap is not empty):\n        max_score += &lt;top of the max heap&gt;.value\n        curr_index = &lt;top of the max heap&gt;.index\n        steps++\n        pop the max heap\n    if(i &lt; size_of_input_array):\n        push the &lt;input_array[i], i&gt; into the max heap\n        i++\nreturn max_score, steps\n\nTime complexity: O(size_of_input_array * log(6)) =&gt; O(size_of_input_array)\nSpace complexity: O(6) =&gt; Constant\n</code></pre>\n<p>Not giving out the full working code as it is your assignment but the above algorithm is not less than code.</p>\n<p>You can try with <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\">Depth First Search</a>, <a href=\"https://en.wikipedia.org/wiki/Dynamic_programming\" rel=\"nofollow noreferrer\">Dynamic Programming</a> as well. But the above greedy solution is asymptotically the most efficient approach.</p>\n<p>Hope that helped you. I loved solving it. Thanks!</p>\n"}],"owner":{"account_id":23565184,"reputation":31,"user_id":17606018,"display_name":"FilthyProgrammer96"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638824385,"creation_date":1638818127,"question_id":70250747,"body_markdown":"**Hello, everyone, this is my first post here.**\r\n\r\nSo today during my university class, our professor gave us a task to write an algorithm:\r\n\r\nWrite a function that returns the count for the amount of steps you need to make in order to get the most score in a board game:\r\n\r\nRules of the game:\r\n------------------\r\n\r\n - you throw a dice and move accordingly (1-6 steps).\r\n - the amount of tiles on the board can range anywhere between 2 - 99 999.\r\n - when you step on a tile you receive or lose points (the points on each tile vary from -99 999, to 99 999).\r\n - if you are at the end of the board and your dice throw gets you out of it&#39;s boundaries, you don&#39;t move.\r\n\r\n## My approach ##\r\n\r\nIt&#39;s sort of a greedy algorithm:\r\n - count for each step if it&#39;s above or equal to 0, \r\n - if it&#39;s negative, check for the next 6 tiles and move to the one with the highest score, to lose the least amount of points.\r\n\r\n I realized that my approach is wrong, after I imagined this example: \r\n\r\n[![flaw in my approach][1]][1]\r\n\r\nSo imagine an array of {1, -40, -40, -40, -40, -1, -38, -40, -40, -40, -40, -40, 1}\r\n\r\nMy greedy algorithm starts at 1 and sees four -40&#39;s, one -38 and one -1. It chooses -1 because it&#39;s the best option, but now we will end up with a result of: 1 + (-1) + (-38) + 1 = -37, however if we choose -38 instead of -1, we would end up with: 1 + (-38) + 1 = -36. \r\n\r\nThis is just a simple example of what the problems could be, I imagine I&#39;d have to check for every path possible, because greedy algorithms don&#39;t check for the best path out there, only the best applicable for some particular moment.\r\n\r\nI was wondering if a graph with all the possibilities could be an option here, but if we had an array of only negative numbers, then we would end up with a graph with maximum size of something around (99999^6?), which would result in taking up too much memory.\r\n\r\nI&#39;m a newbie and I&#39;ve ran out of ideas. Could anyone point me towards the right direction?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xpDir.png","title":"How do I change this greedy algorithm to predict the most overall score?","body":"<p><strong>Hello, everyone, this is my first post here.</strong></p>\n<p>So today during my university class, our professor gave us a task to write an algorithm:</p>\n<p>Write a function that returns the count for the amount of steps you need to make in order to get the most score in a board game:</p>\n<h2>Rules of the game:</h2>\n<ul>\n<li>you throw a dice and move accordingly (1-6 steps).</li>\n<li>the amount of tiles on the board can range anywhere between 2 - 99 999.</li>\n<li>when you step on a tile you receive or lose points (the points on each tile vary from -99 999, to 99 999).</li>\n<li>if you are at the end of the board and your dice throw gets you out of it's boundaries, you don't move.</li>\n</ul>\n<h2>My approach</h2>\n<p>It's sort of a greedy algorithm:</p>\n<ul>\n<li>count for each step if it's above or equal to 0,</li>\n<li>if it's negative, check for the next 6 tiles and move to the one with the highest score, to lose the least amount of points.</li>\n</ul>\n<p>I realized that my approach is wrong, after I imagined this example:</p>\n<p><a href=\"https://i.stack.imgur.com/xpDir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xpDir.png\" alt=\"flaw in my approach\" /></a></p>\n<p>So imagine an array of {1, -40, -40, -40, -40, -1, -38, -40, -40, -40, -40, -40, 1}</p>\n<p>My greedy algorithm starts at 1 and sees four -40's, one -38 and one -1. It chooses -1 because it's the best option, but now we will end up with a result of: 1 + (-1) + (-38) + 1 = -37, however if we choose -38 instead of -1, we would end up with: 1 + (-38) + 1 = -36.</p>\n<p>This is just a simple example of what the problems could be, I imagine I'd have to check for every path possible, because greedy algorithms don't check for the best path out there, only the best applicable for some particular moment.</p>\n<p>I was wondering if a graph with all the possibilities could be an option here, but if we had an array of only negative numbers, then we would end up with a graph with maximum size of something around (99999^6?), which would result in taking up too much memory.</p>\n<p>I'm a newbie and I've ran out of ideas. Could anyone point me towards the right direction?</p>\n"},{"tags":["java","java-stream","benchmarking","completable-future"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1575434666,"post_id":59166034,"comment_id":104561317,"body_markdown":"I have just tried plain old `org.junit` - both 4 seconds.","body":"I have just tried plain old <code>org.junit</code> - both 4 seconds."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1579894234,"post_id":59166034,"comment_id":105932336,"body_markdown":"@Eugene based off the answer, I just wanted to warn people that you have different results because your CPU has more cores than mine. Can you confirm you have &gt;4 cores?","body":"@Eugene based off the answer, I just wanted to warn people that you have different results because your CPU has more cores than mine. Can you confirm you have &gt;4 cores?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1579894529,"post_id":59166034,"comment_id":105932452,"body_markdown":"I don&#39;t have more than 4 cores, I have _exactly_ 4.","body":"I don&#39;t have more than 4 cores, I have <i>exactly</i> 4."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1579899234,"post_id":59166034,"comment_id":105934081,"body_markdown":"Interesting. Would you mind commenting on what you think of the accepted answer? I&#39;m puzzled.","body":"Interesting. Would you mind commenting on what you think of the accepted answer? I&#39;m puzzled."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1579904241,"post_id":59166034,"comment_id":105935654,"body_markdown":"I am wondering if this has to do with the java-version that I was using. Can you try 13 for example and see what you get? If you get 4 seconds, I can point you where I think this was fixed...","body":"I am wondering if this has to do with the java-version that I was using. Can you try 13 for example and see what you get? If you get 4 seconds, I can point you where I think this was fixed..."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1580003521,"post_id":59166034,"comment_id":105954732,"body_markdown":"Fixed? I don&#39;t see it as being a bug: the accepted answer seems right on point. I just tried with JUnit4 (aka `org.junit`) and I get the same results (on my 6-cores laptop, for which I increased appropriately the amount of &quot;APIs&quot; that get called to test the accepted answer). However, I&#39;m on JDK11: can&#39;t really bother with getting JDK13.","body":"Fixed? I don&#39;t see it as being a bug: the accepted answer seems right on point. I just tried with JUnit4 (aka <code>org.junit</code>) and I get the same results (on my 6-cores laptop, for which I increased appropriately the amount of &quot;APIs&quot; that get called to test the accepted answer). However, I&#39;m on JDK11: can&#39;t really bother with getting JDK13."}],"answers":[{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1575442104,"creation_date":1575442104,"answer_id":59170371,"question_id":59166034,"body_markdown":"`CompletableFuture.supplyAsync()` will end up using a `ForkJoinPool` initialized with parralelism of `Runtime.getRuntime().availableProcessors() - 1` ([JDK 11 source](https://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/java/util/concurrent/ForkJoinPool.java#l2358))\r\n\r\nSo looks like you have an 8 processor machine.  Therefore there are 7 threads in the pool.\r\n\r\nThere are 8 API calls, so only 7 can run at a time on the common pool.  And for the completable futures test, there will be 8 tasks running with your main thread blocking until they all complete.  7 will be able to execute at once meaning one has to wait for 4 seconds.\r\n\r\n`parallelStream()` also uses this same thread pool, however the difference is that the first task will be executed on main thread that is executing the stream&#39;s terminal operation, leaving 7 to be distributed to the common pool.  So there are just enough threads to run everything in parallel in this scenario.  Try increasing the number of tasks to 9 and you will get the 8 second run-time for your test.\r\n\r\n","title":"Why is `parallelStream` faster than the `CompletableFuture` implementation?","body":"<p><code>CompletableFuture.supplyAsync()</code> will end up using a <code>ForkJoinPool</code> initialized with parralelism of <code>Runtime.getRuntime().availableProcessors() - 1</code> (<a href=\"https://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/java/util/concurrent/ForkJoinPool.java#l2358\" rel=\"noreferrer\">JDK 11 source</a>)</p>\n\n<p>So looks like you have an 8 processor machine.  Therefore there are 7 threads in the pool.</p>\n\n<p>There are 8 API calls, so only 7 can run at a time on the common pool.  And for the completable futures test, there will be 8 tasks running with your main thread blocking until they all complete.  7 will be able to execute at once meaning one has to wait for 4 seconds.</p>\n\n<p><code>parallelStream()</code> also uses this same thread pool, however the difference is that the first task will be executed on main thread that is executing the stream's terminal operation, leaving 7 to be distributed to the common pool.  So there are just enough threads to run everything in parallel in this scenario.  Try increasing the number of tasks to 9 and you will get the 8 second run-time for your test.</p>\n"}],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2866,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":59170371,"answer_count":1,"score":9,"last_activity_date":1638823903,"creation_date":1575410489,"question_id":59166034,"body_markdown":"I wanted to increase the performance of my backend REST API on a certain operation that polled multiple different external APIs sequentially and collected their responses and flattened them all into a single list of responses.\r\n\r\nHaving just recently learned about `CompletableFuture`s, I decided to give it a go, and compare that solution with the one that involved simply changing my `stream` for a `parallelStream`.\r\n\r\nHere is the code used for the benchmark-test:\r\n\r\n```java\r\npackage com.foo;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.Collectors;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\n\r\npublic class ConcurrentTest {\r\n\r\n    static final List&lt;String&gt; REST_APIS =\r\n            Arrays.asList(&quot;api1&quot;, &quot;api2&quot;, &quot;api3&quot;, &quot;api4&quot;, &quot;api5&quot;, &quot;api6&quot;, &quot;api7&quot;, &quot;api8&quot;);\r\n    MyTestUtil myTest = new MyTestUtil();\r\n    long millisBefore; // used to benchmark\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        millisBefore = System.currentTimeMillis();\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        System.out.printf(&quot;time taken : %.4fs\\n&quot;,\r\n                (System.currentTimeMillis() - millisBefore) / 1000d);\r\n    }\r\n\r\n    @Test\r\n    void parallelSolution() { // 4s\r\n        var parallel = REST_APIS.parallelStream()\r\n                .map(api -&gt; myTest.collectOneRestCall())\r\n                .flatMap(List::stream)\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(&quot;List of responses: &quot; + parallel.toString());\r\n    }\r\n\r\n    @Test\r\n    void futureSolution() throws Exception { // 8s\r\n        var futures = myTest.collectAllResponsesAsync(REST_APIS);\r\n\r\n        System.out.println(&quot;List of responses: &quot; + futures.get()); // only blocks here\r\n    }\r\n\r\n    @Test\r\n    void originalProblem() { // 32s\r\n        var sequential = REST_APIS.stream()\r\n                .map(api -&gt; myTest.collectOneRestCall())\r\n                .flatMap(List::stream)\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(&quot;List of responses: &quot; + sequential.toString());\r\n    }\r\n}\r\n\r\n\r\nclass MyTestUtil {\r\n\r\n    public static final List&lt;String&gt; RESULTS = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;);\r\n\r\n    List&lt;String&gt; collectOneRestCall() {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(4); // simulating the await of the response\r\n        } catch (Exception io) {\r\n            throw new RuntimeException(io);\r\n        } finally {\r\n            return MyTestUtil.RESULTS; // always return something, for this demonstration\r\n        }\r\n    }\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; collectAllResponsesAsync(List&lt;String&gt; restApiUrlList) {\r\n\r\n        /* Collecting the list of all the async requests that build a List&lt;String&gt;. */\r\n        List&lt;CompletableFuture&lt;List&lt;String&gt;&gt;&gt; completableFutures = restApiUrlList.stream()\r\n                .map(api -&gt; nonBlockingRestCall())\r\n                .collect(Collectors.toList());\r\n\r\n        /* Creating a single Future that contains all the Futures we just created (&quot;flatmap&quot;). */\r\n        CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(completableFutures\r\n                .toArray(new CompletableFuture[restApiUrlList.size()]));\r\n\r\n        /* When all the Futures have completed, we join them to create merged List&lt;String&gt;. */\r\n        CompletableFuture&lt;List&lt;String&gt;&gt; allCompletableFutures = allFutures\r\n                .thenApply(future -&gt; completableFutures.stream()\r\n                        .filter(Objects::nonNull) // we filter out the failed calls\r\n                        .map(CompletableFuture::join)\r\n                        .flatMap(List::stream) // creating a List&lt;String&gt; from List&lt;List&lt;String&gt;&gt;\r\n                        .collect(Collectors.toList())\r\n                );\r\n\r\n        return allCompletableFutures;\r\n    }\r\n\r\n    private CompletableFuture&lt;List&lt;String&gt;&gt; nonBlockingRestCall() {\r\n        /* Manage the Exceptions here to ensure the wrapping Future returns the other calls. */\r\n        return CompletableFuture.supplyAsync(() -&gt; collectOneRestCall())\r\n                .exceptionally(ex -&gt; {\r\n                    return null; // gets managed in the wrapping Future\r\n                });\r\n    }\r\n\r\n}\r\n```\r\n\r\nThere is a list of 8 (fake) APIs. Each response takes 4 seconds to execute and returns a list of 4 entities (Strings, in our case, for the sake of simplicity).\r\n\r\nThe results:\r\n\r\n 1. `stream` : 32 seconds\r\n 2. `parallelStream` : 4 seconds\r\n 3. `CompletableFuture` : 8 seconds\r\n\r\nI&#39;m quite surprised and expected the last two to be almost identical. What exactly is causing that difference? As far as I know, they are both using the `ForkJoinPool.commonPool()`.\r\n\r\nMy naive interpretation would be that `parallelStream`, since it is a blocking operation, uses the actual `MainThread` for its workload and thus has an extra active thread to work with, compared to the `CompletableFuture` which is asynchronous and thus cannot use that `MainThread`.","title":"Why is `parallelStream` faster than the `CompletableFuture` implementation?","body":"<p>I wanted to increase the performance of my backend REST API on a certain operation that polled multiple different external APIs sequentially and collected their responses and flattened them all into a single list of responses.</p>\n<p>Having just recently learned about <code>CompletableFuture</code>s, I decided to give it a go, and compare that solution with the one that involved simply changing my <code>stream</code> for a <code>parallelStream</code>.</p>\n<p>Here is the code used for the benchmark-test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.foo;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\n\npublic class ConcurrentTest {\n\n    static final List&lt;String&gt; REST_APIS =\n            Arrays.asList(&quot;api1&quot;, &quot;api2&quot;, &quot;api3&quot;, &quot;api4&quot;, &quot;api5&quot;, &quot;api6&quot;, &quot;api7&quot;, &quot;api8&quot;);\n    MyTestUtil myTest = new MyTestUtil();\n    long millisBefore; // used to benchmark\n\n    @BeforeEach\n    void setUp() {\n        millisBefore = System.currentTimeMillis();\n    }\n\n    @AfterEach\n    void tearDown() {\n        System.out.printf(&quot;time taken : %.4fs\\n&quot;,\n                (System.currentTimeMillis() - millisBefore) / 1000d);\n    }\n\n    @Test\n    void parallelSolution() { // 4s\n        var parallel = REST_APIS.parallelStream()\n                .map(api -&gt; myTest.collectOneRestCall())\n                .flatMap(List::stream)\n                .collect(Collectors.toList());\n\n        System.out.println(&quot;List of responses: &quot; + parallel.toString());\n    }\n\n    @Test\n    void futureSolution() throws Exception { // 8s\n        var futures = myTest.collectAllResponsesAsync(REST_APIS);\n\n        System.out.println(&quot;List of responses: &quot; + futures.get()); // only blocks here\n    }\n\n    @Test\n    void originalProblem() { // 32s\n        var sequential = REST_APIS.stream()\n                .map(api -&gt; myTest.collectOneRestCall())\n                .flatMap(List::stream)\n                .collect(Collectors.toList());\n\n        System.out.println(&quot;List of responses: &quot; + sequential.toString());\n    }\n}\n\n\nclass MyTestUtil {\n\n    public static final List&lt;String&gt; RESULTS = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;);\n\n    List&lt;String&gt; collectOneRestCall() {\n        try {\n            TimeUnit.SECONDS.sleep(4); // simulating the await of the response\n        } catch (Exception io) {\n            throw new RuntimeException(io);\n        } finally {\n            return MyTestUtil.RESULTS; // always return something, for this demonstration\n        }\n    }\n\n    CompletableFuture&lt;List&lt;String&gt;&gt; collectAllResponsesAsync(List&lt;String&gt; restApiUrlList) {\n\n        /* Collecting the list of all the async requests that build a List&lt;String&gt;. */\n        List&lt;CompletableFuture&lt;List&lt;String&gt;&gt;&gt; completableFutures = restApiUrlList.stream()\n                .map(api -&gt; nonBlockingRestCall())\n                .collect(Collectors.toList());\n\n        /* Creating a single Future that contains all the Futures we just created (&quot;flatmap&quot;). */\n        CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(completableFutures\n                .toArray(new CompletableFuture[restApiUrlList.size()]));\n\n        /* When all the Futures have completed, we join them to create merged List&lt;String&gt;. */\n        CompletableFuture&lt;List&lt;String&gt;&gt; allCompletableFutures = allFutures\n                .thenApply(future -&gt; completableFutures.stream()\n                        .filter(Objects::nonNull) // we filter out the failed calls\n                        .map(CompletableFuture::join)\n                        .flatMap(List::stream) // creating a List&lt;String&gt; from List&lt;List&lt;String&gt;&gt;\n                        .collect(Collectors.toList())\n                );\n\n        return allCompletableFutures;\n    }\n\n    private CompletableFuture&lt;List&lt;String&gt;&gt; nonBlockingRestCall() {\n        /* Manage the Exceptions here to ensure the wrapping Future returns the other calls. */\n        return CompletableFuture.supplyAsync(() -&gt; collectOneRestCall())\n                .exceptionally(ex -&gt; {\n                    return null; // gets managed in the wrapping Future\n                });\n    }\n\n}\n</code></pre>\n<p>There is a list of 8 (fake) APIs. Each response takes 4 seconds to execute and returns a list of 4 entities (Strings, in our case, for the sake of simplicity).</p>\n<p>The results:</p>\n<ol>\n<li><code>stream</code> : 32 seconds</li>\n<li><code>parallelStream</code> : 4 seconds</li>\n<li><code>CompletableFuture</code> : 8 seconds</li>\n</ol>\n<p>I'm quite surprised and expected the last two to be almost identical. What exactly is causing that difference? As far as I know, they are both using the <code>ForkJoinPool.commonPool()</code>.</p>\n<p>My naive interpretation would be that <code>parallelStream</code>, since it is a blocking operation, uses the actual <code>MainThread</code> for its workload and thus has an extra active thread to work with, compared to the <code>CompletableFuture</code> which is asynchronous and thus cannot use that <code>MainThread</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1523819600,"post_id":49845793,"comment_id":86706467,"body_markdown":"well, you only compare the last sentence.","body":"well, you only compare the last sentence."},{"owner":{"account_id":8978808,"reputation":1239,"user_id":6694684,"accept_rate":67,"display_name":"Benjamin J."},"score":0,"creation_date":1523819697,"post_id":49845793,"comment_id":86706500,"body_markdown":"In your `while` loops the variables `first` and `second` are always getting overwriten. So finally both variables are storing the last line of the two files.","body":"In your <code>while</code> loops the variables <code>first</code> and <code>second</code> are always getting overwriten. So finally both variables are storing the last line of the two files."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1523819764,"creation_date":1523819764,"answer_id":49845831,"question_id":49845793,"body_markdown":"Your code should be\r\n\r\n    Scanner input1 = new Scanner(new File(firstName));//read first file\r\n    Scanner input2 = new Scanner(new File(secondName));//read second file\r\n\r\n    while(input1.hasNextLine() &amp;&amp; input2.hasNextLine()){\r\n        first = input1.nextLine();   \r\n        second = input2.nextLine(); \r\n\r\n        if(!first.equals(second)){\r\n            System.out.println(&quot;Differences found: &quot;+&quot;\\n&quot;+first+&#39;\\n&#39;+second);\r\n        }\r\n    }\r\n\r\n    // optionally handle any remaining lines if the line count differs\r\n\r\nPreviously you only compared one time, the very last line. But you need to compare after each line you read.","title":"compare two files and print differences in Java","body":"<p>Your code should be</p>\n\n<pre><code>Scanner input1 = new Scanner(new File(firstName));//read first file\nScanner input2 = new Scanner(new File(secondName));//read second file\n\nwhile(input1.hasNextLine() &amp;&amp; input2.hasNextLine()){\n    first = input1.nextLine();   \n    second = input2.nextLine(); \n\n    if(!first.equals(second)){\n        System.out.println(\"Differences found: \"+\"\\n\"+first+'\\n'+second);\n    }\n}\n\n// optionally handle any remaining lines if the line count differs\n</code></pre>\n\n<p>Previously you only compared one time, the very last line. But you need to compare after each line you read.</p>\n"}],"owner":{"account_id":13371718,"reputation":13,"user_id":9649937,"display_name":"New User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49845831,"answer_count":1,"score":1,"last_activity_date":1638823577,"creation_date":1523819466,"question_id":49845793,"body_markdown":"I tried to compare two files and print out the differences between them. However, my code only print the last sentence which is where the second difference in each file.\r\n\r\n    /*\r\n    -------------------------------\r\n    data1:\r\n    This file has a great deal of\r\n    text in it which needs to \r\n    \r\n    be processed.\r\n    -------------------------------\r\n    data2:\r\n    This file has a grate deal of \r\n    text in it which needs to \r\n    \r\n    bee procesed.\r\n    -------------------------------\r\n    */\r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class CompareTwoFiles {\r\n        public static void main(String[] args) throws FileNotFoundException {\r\n    \r\n            String first = &quot;&quot;, second = &quot;&quot;;\r\n            String firstName = &quot;&quot;, secondName = &quot;&quot;;\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a first file name: &quot;);\r\n            firstName = input.nextLine();\r\n            System.out.print(&quot;Enter a second file name: &quot;);\r\n            secondName = input.nextLine();\r\n    \r\n            Scanner input1 = new Scanner(new File(firstName));//read first file\r\n            while (input1.hasNextLine()) {\r\n                first = input1.nextLine();\r\n            }\r\n    \r\n            Scanner input2 = new Scanner(new File(secondName));//read second file\r\n            while (input2.hasNextLine()) {\r\n                second = input2.nextLine();\r\n            }\r\n    \r\n            if (!first.equals(second)) {\r\n                System.out.println(&quot;Differences found: &quot; + &quot;\\n&quot; + first + &#39;\\n&#39; + second);\r\n            }\r\n        }\r\n    }\r\n    \r\n    /*\r\n    output:\r\n    Enter a first file name: data1.txt\r\n    Enter a second file name: data2.txt\r\n    Differences found: \r\n    be processed.\r\n    bee procesed.\r\n    */\r\n\r\n   \r\n","title":"compare two files and print differences in Java","body":"<p>I tried to compare two files and print out the differences between them. However, my code only print the last sentence which is where the second difference in each file.</p>\n\n<pre><code>/*\n-------------------------------\ndata1:\nThis file has a great deal of\ntext in it which needs to \n\nbe processed.\n-------------------------------\ndata2:\nThis file has a grate deal of \ntext in it which needs to \n\nbee procesed.\n-------------------------------\n*/\n\nimport java.io.*;\nimport java.util.*;\n\npublic class CompareTwoFiles {\n    public static void main(String[] args) throws FileNotFoundException {\n\n        String first = \"\", second = \"\";\n        String firstName = \"\", secondName = \"\";\n\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter a first file name: \");\n        firstName = input.nextLine();\n        System.out.print(\"Enter a second file name: \");\n        secondName = input.nextLine();\n\n        Scanner input1 = new Scanner(new File(firstName));//read first file\n        while (input1.hasNextLine()) {\n            first = input1.nextLine();\n        }\n\n        Scanner input2 = new Scanner(new File(secondName));//read second file\n        while (input2.hasNextLine()) {\n            second = input2.nextLine();\n        }\n\n        if (!first.equals(second)) {\n            System.out.println(\"Differences found: \" + \"\\n\" + first + '\\n' + second);\n        }\n    }\n}\n\n/*\noutput:\nEnter a first file name: data1.txt\nEnter a second file name: data2.txt\nDifferences found: \nbe processed.\nbee procesed.\n*/\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":3,"creation_date":1638821570,"post_id":70251341,"comment_id":124185229,"body_markdown":"You need to provide us some more details. What OS (and version) you are using? What IDE / compiler? How and where do you see this path? It looks like a normal path, nothing to with Python in particular. What error are you getting when compiling?","body":"You need to provide us some more details. What OS (and version) you are using? What IDE / compiler? How and where do you see this path? It looks like a normal path, nothing to with Python in particular. What error are you getting when compiling?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1638821573,"post_id":70251341,"comment_id":124185233,"body_markdown":"You are going to have to provide more details than that.","body":"You are going to have to provide more details than that."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638821706,"post_id":70251341,"comment_id":124185271,"body_markdown":"This looks like your regular OS `PATH` variable, and shouldn&#39;t affect Java or Python execution. For Java in particular, you should be ideally be looking at `JAVA_HOME`","body":"This looks like your regular OS <code>PATH</code> variable, and shouldn&#39;t affect Java or Python execution. For Java in particular, you should be ideally be looking at <code>JAVA_HOME</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1638821970,"post_id":70251341,"comment_id":124185351,"body_markdown":"how did you install java? It&#39;s possible there is an executable `/usr/bin/java` The fact you have a python added to your path is a completely separate issue.","body":"how did you install java? It&#39;s possible there is an executable <code>&#47;usr&#47;bin&#47;java</code> The fact you have a python added to your path is a completely separate issue."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1638823982,"post_id":70251341,"comment_id":124186020,"body_markdown":"Okay, this problem has nothing to do with your path. Can you include your complete program including your import statements. Yes a LinkedList is a Queue. Although the code you&#39;ve written has syntax errors. `Queue&lt;?&gt; q = new LinkedList&lt;&gt;();` Notice that Queue is only written once. I&#39;ve also included the `&lt;&gt;` for generics because you shouldn&#39;t use raw types.","body":"Okay, this problem has nothing to do with your path. Can you include your complete program including your import statements. Yes a LinkedList is a Queue. Although the code you&#39;ve written has syntax errors. <code>Queue&lt;?&gt; q = new LinkedList&lt;&gt;();</code> Notice that Queue is only written once. I&#39;ve also included the <code>&lt;&gt;</code> for generics because you shouldn&#39;t use raw types."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638824071,"post_id":70251341,"comment_id":124186044,"body_markdown":"A path error would mean, you couldn&#39;t run java. So your error would be along the lines of &quot;java is not a known program...&quot; etc.","body":"A path error would mean, you couldn&#39;t run java. So your error would be along the lines of &quot;java is not a known program...&quot; etc."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1638825055,"post_id":70251341,"comment_id":124186335,"body_markdown":"Have you written your own class named `LinkedList` or `Queue`? Please show your entire code including imports.","body":"Have you written your own class named <code>LinkedList</code> or <code>Queue</code>? Please show your entire code including imports."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638825106,"post_id":70251341,"comment_id":124186350,"body_markdown":"@matt I think the first `Queue` is part of the error message.","body":"@matt I think the first <code>Queue</code> is part of the error message."}],"owner":{"account_id":23566273,"reputation":1,"user_id":17606973,"display_name":"Anna"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638823560,"creation_date":1638821410,"question_id":70251341,"body_markdown":"When I am running a java program I am getting this path connecting it to python. I am trying to compile my program on sublime and I am getting this error\r\n\r\nerror: incompatible types: LinkedList&lt;Integer&gt; cannot be converted to Queue&lt;Integer&gt;\r\n      Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\r\n\r\nI shouldn&#39;t be getting this issue according to java type rules I think. Is the python path what is causing this error? If not what could cause this. The path I am getting is listed below.\r\n\r\n`[path: /Library/Frameworks/Python.framework/Versions/3.8/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin]`\r\n\r\nThanks!","title":"Java Path being set to python instead of java","body":"<p>When I am running a java program I am getting this path connecting it to python. I am trying to compile my program on sublime and I am getting this error</p>\n<p>error: incompatible types: LinkedList cannot be converted to Queue\nQueue q = new LinkedList();</p>\n<p>I shouldn't be getting this issue according to java type rules I think. Is the python path what is causing this error? If not what could cause this. The path I am getting is listed below.</p>\n<p><code>[path: /Library/Frameworks/Python.framework/Versions/3.8/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin]</code></p>\n<p>Thanks!</p>\n"},{"tags":["java","string","methods"],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638737670,"creation_date":1638737670,"answer_id":70238470,"question_id":70238312,"body_markdown":"**Main method has to be static**! It is entry to your program and its signature has to be like that.\r\n\r\nIn order to call non static method inside it you need to instantiate an object and call it on that object. In your case something like\r\n\r\n    public static void main(String[] args) {\r\n       Program p =  new Program();\r\n       p.domainCharLimit();\r\n    }","title":"How can I use a user input String from one method in another?","body":"<p><strong>Main method has to be static</strong>! It is entry to your program and its signature has to be like that.</p>\n<p>In order to call non static method inside it you need to instantiate an object and call it on that object. In your case something like</p>\n<pre><code>public static void main(String[] args) {\n   Program p =  new Program();\n   p.domainCharLimit();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4313340,"reputation":36,"user_id":3523896,"display_name":"Daoud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638823450,"creation_date":1638758573,"answer_id":70240364,"question_id":70238312,"body_markdown":"**First:** Main Method should be always ***static***.\r\n\r\n**Second:** Because you are calling `domainChatLimit()` from `Main(static)` than it should be also static\r\n\r\n**Third:** Because you used `firstName`, `lastName` attributes in a static method `domainChatLimit()` then they should be also static\r\n\r\n**Fourth:** `Scanner` should be also static because you are using it to get `firstName`, `lastName` and they are both static.\r\n\r\n\r\n**NOTE:** There is no need to define a new instance of this class to call an internal method\r\n\r\n***Solution should be like below (tested successfully):***\r\n\r\n\r\n   \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Program{\r\n    \r\n    \t\t// variables below should be defined as static because they are used in static method\r\n    \t   static Scanner read = new Scanner(System.in);\r\n    \t   static String firstName = read.nextLine();\r\n    \t   static String lastName = read.nextLine();\r\n    \t    \r\n    \t   // Main method is static\r\n    \t    public static void main(String[] args) {\r\n                //There is no need to define a new instance of this class to call an internal method\r\n    \t        domainCharLimit();\r\n    \t    }\r\n    \t    \r\n    \t    // calling from main static method so it should be static\r\n    \t    public static void domainCharLimit() {\r\n    \t        String firstNameNew = firstName.replace(&quot;&#39;&quot;, &quot;&quot;);\r\n    \t        String lastNameNew = lastName.replace(&quot;&#39;&quot;, &quot;&quot;);\r\n    \t        String domainUsername = firstNameNew + &quot;.&quot; + lastNameNew;\r\n    \t        if (domainUsername.length()&gt;20) {\r\n    \t                String cutName = domainUsername.substring(0, 20);\r\n    \t                domainUsername = cutName;\r\n    \t            }\r\n    \t        System.out.print(domainUsername);\r\n    \t    }   \r\n    }\r\n\r\n\r\n**if you want to create a Generic Util for that functionality you can do below logic:**\r\n\r\n    PogramUtil.java\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ProgramUtil {\r\n    \r\n    \tScanner read = new Scanner(System.in);\r\n    \tString firstName = read.nextLine();\r\n    \tString lastName = read.nextLine();\r\n    \t\r\n    \t\r\n        public void domainCharLimit() {\r\n            String firstNameNew = firstName.replace(&quot;&#39;&quot;, &quot;&quot;);\r\n            String lastNameNew = lastName.replace(&quot;&#39;&quot;, &quot;&quot;);\r\n            String domainUsername = firstNameNew + &quot;.&quot; + lastNameNew;\r\n            if (domainUsername.length()&gt;20) {\r\n                    String cutName = domainUsername.substring(0, 20);\r\n                    domainUsername = cutName;\r\n                }\r\n            System.out.print(domainUsername);\r\n        }  \r\n    }\r\n\r\n**now you can call this way :**\r\n\r\n    Program.java\r\n\r\n    public class Program{\r\n    \r\n           // Main method is static\r\n            public static void main(String[] args) {\r\n            \tProgramUtil programUtil = new ProgramUtil();\r\n            \tprogramUtil.domainCharLimit();\r\n            }\r\n     \r\n    }","title":"How can I use a user input String from one method in another?","body":"<p><strong>First:</strong> Main Method should be always <em><strong>static</strong></em>.</p>\n<p><strong>Second:</strong> Because you are calling <code>domainChatLimit()</code> from <code>Main(static)</code> than it should be also static</p>\n<p><strong>Third:</strong> Because you used <code>firstName</code>, <code>lastName</code> attributes in a static method <code>domainChatLimit()</code> then they should be also static</p>\n<p><strong>Fourth:</strong> <code>Scanner</code> should be also static because you are using it to get <code>firstName</code>, <code>lastName</code> and they are both static.</p>\n<p><strong>NOTE:</strong> There is no need to define a new instance of this class to call an internal method</p>\n<p><em><strong>Solution should be like below (tested successfully):</strong></em></p>\n<pre><code>import java.util.Scanner;\n\npublic class Program{\n\n        // variables below should be defined as static because they are used in static method\n       static Scanner read = new Scanner(System.in);\n       static String firstName = read.nextLine();\n       static String lastName = read.nextLine();\n        \n       // Main method is static\n        public static void main(String[] args) {\n            //There is no need to define a new instance of this class to call an internal method\n            domainCharLimit();\n        }\n        \n        // calling from main static method so it should be static\n        public static void domainCharLimit() {\n            String firstNameNew = firstName.replace(&quot;'&quot;, &quot;&quot;);\n            String lastNameNew = lastName.replace(&quot;'&quot;, &quot;&quot;);\n            String domainUsername = firstNameNew + &quot;.&quot; + lastNameNew;\n            if (domainUsername.length()&gt;20) {\n                    String cutName = domainUsername.substring(0, 20);\n                    domainUsername = cutName;\n                }\n            System.out.print(domainUsername);\n        }   \n}\n</code></pre>\n<p><strong>if you want to create a Generic Util for that functionality you can do below logic:</strong></p>\n<pre><code>PogramUtil.java\n\nimport java.util.Scanner;\n\npublic class ProgramUtil {\n\n    Scanner read = new Scanner(System.in);\n    String firstName = read.nextLine();\n    String lastName = read.nextLine();\n    \n    \n    public void domainCharLimit() {\n        String firstNameNew = firstName.replace(&quot;'&quot;, &quot;&quot;);\n        String lastNameNew = lastName.replace(&quot;'&quot;, &quot;&quot;);\n        String domainUsername = firstNameNew + &quot;.&quot; + lastNameNew;\n        if (domainUsername.length()&gt;20) {\n                String cutName = domainUsername.substring(0, 20);\n                domainUsername = cutName;\n            }\n        System.out.print(domainUsername);\n    }  \n}\n</code></pre>\n<p><strong>now you can call this way :</strong></p>\n<pre><code>Program.java\n\npublic class Program{\n\n       // Main method is static\n        public static void main(String[] args) {\n            ProgramUtil programUtil = new ProgramUtil();\n            programUtil.domainCharLimit();\n        }\n \n}\n</code></pre>\n"}],"owner":{"account_id":23544456,"reputation":45,"user_id":17588122,"display_name":"Nick Tagliamonte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70240364,"answer_count":2,"score":3,"last_activity_date":1638823450,"creation_date":1638736385,"question_id":70238312,"body_markdown":"This point of this program is to limit the character length of a username to 20 characters. It is one part of a larger program which currently only contains a Main method.  In the interest of cleaning and clarifying my code, I would like to separate the various functions into distinct methods. \r\n\r\nCurrently, I&#39;m trying to set class variables so that they can be used in multiple methods. This is what I have so far: \r\n\r\n```import java.util.Scanner;\r\n\r\npublic class Program\r\n{\r\n    Scanner read = new Scanner(System.in);\r\n    String firstName = read.nextLine();\r\n    String lastName = read.nextLine();\r\n\t\r\n    public void main(String[] args) {\r\n        domainCharLimit();\r\n\t}\r\n    \r\n    public void domainCharLimit() {\r\n        String firstNameNew = firstName.replace(&quot;&#39;&quot;, &quot;&quot;);\r\n        String lastNameNew = lastName.replace(&quot;&#39;&quot;, &quot;&quot;);\r\n        String domainUsername = firstNameNew + &quot;.&quot; + lastNameNew;\r\n        if (domainUsername.length()&gt;20) {\r\n                String cutName = domainUsername.substring(0, 20);\r\n                domainUsername = cutName;\r\n            }\r\n        System.out.print(domainUsername);\r\n    }    \r\n}\r\n```\r\nI have tried setting one or both methods to static, which did not resolve the issue. In this state, when run, the program will not return an errors but rather give &quot;no output&quot;","title":"How can I use a user input String from one method in another?","body":"<p>This point of this program is to limit the character length of a username to 20 characters. It is one part of a larger program which currently only contains a Main method.  In the interest of cleaning and clarifying my code, I would like to separate the various functions into distinct methods.</p>\n<p>Currently, I'm trying to set class variables so that they can be used in multiple methods. This is what I have so far:</p>\n<pre><code>\npublic class Program\n{\n    Scanner read = new Scanner(System.in);\n    String firstName = read.nextLine();\n    String lastName = read.nextLine();\n    \n    public void main(String[] args) {\n        domainCharLimit();\n    }\n    \n    public void domainCharLimit() {\n        String firstNameNew = firstName.replace(&quot;'&quot;, &quot;&quot;);\n        String lastNameNew = lastName.replace(&quot;'&quot;, &quot;&quot;);\n        String domainUsername = firstNameNew + &quot;.&quot; + lastNameNew;\n        if (domainUsername.length()&gt;20) {\n                String cutName = domainUsername.substring(0, 20);\n                domainUsername = cutName;\n            }\n        System.out.print(domainUsername);\n    }    \n}\n</code></pre>\n<p>I have tried setting one or both methods to static, which did not resolve the issue. In this state, when run, the program will not return an errors but rather give &quot;no output&quot;</p>\n"},{"tags":["java","arrays","performance","text-files"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1478745415,"post_id":40519130,"comment_id":68279864,"body_markdown":"check the values of `a` and `b`","body":"check the values of <code>a</code> and <code>b</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1478745447,"post_id":40519130,"comment_id":68279872,"body_markdown":"why is question tagged with `out-of-memory`?","body":"why is question tagged with <code>out-of-memory</code>?"},{"owner":{"account_id":9616517,"reputation":43,"user_id":7139116,"accept_rate":29,"display_name":"jay"},"score":0,"creation_date":1478746157,"post_id":40519130,"comment_id":68280004,"body_markdown":"I have removed out of-memory tag from this question","body":"I have removed out of-memory tag from this question"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1478746309,"post_id":40519130,"comment_id":68280038,"body_markdown":"Either put in some debug statements or use a debugger, and the code seems to be correct. Probably the data?","body":"Either put in some debug statements or use a debugger, and the code seems to be correct. Probably the data?"},{"owner":{"account_id":9616517,"reputation":43,"user_id":7139116,"accept_rate":29,"display_name":"jay"},"score":0,"creation_date":1478746565,"post_id":40519130,"comment_id":68280084,"body_markdown":"I have even tried with only 2 records files, it is not working correctly. I think I am missing something very small.","body":"I have even tried with only 2 records files, it is not working correctly. I think I am missing something very small."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1478748122,"post_id":40519130,"comment_id":68280374,"body_markdown":"Hm what if String a is `lala` and string b is `LAla` you should have that in mind.If you expect them to be the same use `toLowerCase();` on both or something similar.","body":"Hm what if String a is <code>lala</code> and string b is <code>LAla</code> you should have that in mind.If you expect them to be the same use <code>toLowerCase();</code> on both or something similar."},{"owner":{"account_id":9616517,"reputation":43,"user_id":7139116,"accept_rate":29,"display_name":"jay"},"score":0,"creation_date":1478749329,"post_id":40519130,"comment_id":68280644,"body_markdown":"I am able to figure out issue but I am not able to fix it. The issue is in `boolean result = a.contains(b);  \n                   if(result == false){  \n                      System.out.println(a);   \n                   }`","body":"I am able to figure out issue but I am not able to fix it. The issue is in <code>boolean result = a.contains(b);                      if(result == false){                         System.out.println(a);                       }</code>"},{"owner":{"account_id":9616517,"reputation":43,"user_id":7139116,"accept_rate":29,"display_name":"jay"},"score":0,"creation_date":1478749718,"post_id":40519130,"comment_id":68280729,"body_markdown":"I am able to figure out the issue but I am not able to fix it. The issue is in `boolean result = a.contains(b);  \n                   if(result == false){  \n                      System.out.println(a); ` since arrays are not sorted it is printing every record in a file once. Please assist","body":"I am able to figure out the issue but I am not able to fix it. The issue is in <code>boolean result = a.contains(b);                      if(result == false){                         System.out.println(a); </code> since arrays are not sorted it is printing every record in a file once. Please assist"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1478758807,"post_id":40519130,"comment_id":68283023,"body_markdown":"&quot;whether this approach is performance efficient&quot;: no, it&#39;s not. You read both files twice (time waste) and if the files are really huge you will also have problems to store both in memory in full.","body":"&quot;whether this approach is performance efficient&quot;: no, it&#39;s not. You read both files twice (time waste) and if the files are really huge you will also have problems to store both in memory in full."}],"answers":[{"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478752917,"creation_date":1478752917,"answer_id":40520081,"question_id":40519130,"body_markdown":"For the performance wise, you should try to match the size of the files. If the sizes(in bytes) are exactly the same, you might not need to compare them.","title":"Java - Comparing two huge text files","body":"<p>For the performance wise, you should try to match the size of the files. If the sizes(in bytes) are exactly the same, you might not need to compare them.</p>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478755958,"creation_date":1478755958,"answer_id":40520557,"question_id":40519130,"body_markdown":"Based upon your explanation you do not need embedded loops\r\n\r\nconsider\r\n\r\n    public static void displayRecords() { \r\n\r\n        for (int i = 0 ; i &lt; arrayLines1.length &amp;&amp; i &lt; arrayLines2.length; i++) \r\n        {    \r\n            String a = arrayLines1[i];  \r\n            String b = arrayLines2[i];  \r\n\r\n            if(!a.contains(b){  \r\n                   System.out.println(a);  \r\n            }  \r\n        }\r\n","title":"Java - Comparing two huge text files","body":"<p>Based upon your explanation you do not need embedded loops</p>\n\n<p>consider</p>\n\n<pre><code>public static void displayRecords() { \n\n    for (int i = 0 ; i &lt; arrayLines1.length &amp;&amp; i &lt; arrayLines2.length; i++) \n    {    \n        String a = arrayLines1[i];  \n        String b = arrayLines2[i];  \n\n        if(!a.contains(b){  \n               System.out.println(a);  \n        }  \n    }\n</code></pre>\n"}],"owner":{"account_id":9616517,"reputation":43,"user_id":7139116,"accept_rate":29,"display_name":"jay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40520557,"answer_count":2,"score":1,"last_activity_date":1638822860,"creation_date":1478745284,"question_id":40519130,"body_markdown":"I am trying to develop a basic java program to compare two huge text files and print non matching records .i.e. similar to minus function in SQL. but I am not getting the expected results because all the records are getting printed even though both files are same. Also suggest me whether this approach is performance efficient for comparing two huge text files.\r\n\r\n    import java.io.*;\r\n    \r\n    public class CompareTwoFiles {\r\n    \tstatic int count1 = 0 ;\r\n        static int count2 = 0 ;\r\n    \r\n        static String arrayLines1[] = new String[countLines(&quot;\\\\Files_Comparison\\\\File1.txt&quot;)];\r\n        static String arrayLines2[] = new String[countLines(&quot;\\\\Files_Comparison\\\\File2.txt&quot;)];\r\n        \r\n        public static void main(String args[]){  \r\n            findDifference(&quot;\\\\Files_Comparison\\\\File1.txt&quot;,&quot;\\\\Files_Comparison\\\\File2.txt&quot;);\r\n            displayRecords();\r\n        }\r\n         \r\n        public static int countLines(String File){\r\n             \r\n            int lineCount = 0;\r\n            try {\r\n               BufferedReader br = new BufferedReader(new FileReader(File));\r\n               while ((br.readLine()) != null) {\r\n                   lineCount++;\r\n               }\r\n                \r\n           } catch (FileNotFoundException e) {\r\n               e.printStackTrace();\r\n           } catch (IOException e) {\r\n               e.printStackTrace();\r\n           }\r\n               return lineCount;\r\n        }\r\n         \r\n        public static void findDifference(String File1, String File2){\r\n            String contents1 = null;  \r\n            String contents2 = null; \r\n            try  \r\n            {  \r\n                FileReader file1 = new FileReader(File1);  \r\n                FileReader file2 = new FileReader(File2);\r\n                BufferedReader buf1 = new BufferedReader(file1); \r\n                BufferedReader buf2 = new BufferedReader(file2);\r\n               \r\n               while ((contents1 = buf1.readLine()) != null)  \r\n                {  \r\n                   arrayLines1[count1] = contents1 ;\r\n                   count1++;\r\n                }  \r\n              \r\n               while ((contents2 = buf2.readLine()) != null)  \r\n                {  \r\n                   arrayLines2[count2] = contents2 ;\r\n                   count2++;\r\n                }\r\n           }catch (Exception e){\r\n               e.printStackTrace();\r\n           }\r\n    }\r\n         \r\n     \r\n                                    \r\n        public static void displayRecords() {      \r\n            for (int i = 0 ; i &lt; arrayLines1.length ; i++) {    \r\n                String a = arrayLines1[i];  \r\n                for (int j = 0; j &lt; arrayLines2.length; j++){  \r\n                    String b = arrayLines2[j];  \r\n                    boolean result = a.contains(b);  \r\n                       if(result == false){  \r\n                           System.out.println(a);  \r\n                       }  \r\n                }\r\n         \r\n            }\r\n        }\r\n    }\r\n\r\n \r\n\r\n","title":"Java - Comparing two huge text files","body":"<p>I am trying to develop a basic java program to compare two huge text files and print non matching records .i.e. similar to minus function in SQL. but I am not getting the expected results because all the records are getting printed even though both files are same. Also suggest me whether this approach is performance efficient for comparing two huge text files.</p>\n\n<pre><code>import java.io.*;\n\npublic class CompareTwoFiles {\n    static int count1 = 0 ;\n    static int count2 = 0 ;\n\n    static String arrayLines1[] = new String[countLines(\"\\\\Files_Comparison\\\\File1.txt\")];\n    static String arrayLines2[] = new String[countLines(\"\\\\Files_Comparison\\\\File2.txt\")];\n\n    public static void main(String args[]){  \n        findDifference(\"\\\\Files_Comparison\\\\File1.txt\",\"\\\\Files_Comparison\\\\File2.txt\");\n        displayRecords();\n    }\n\n    public static int countLines(String File){\n\n        int lineCount = 0;\n        try {\n           BufferedReader br = new BufferedReader(new FileReader(File));\n           while ((br.readLine()) != null) {\n               lineCount++;\n           }\n\n       } catch (FileNotFoundException e) {\n           e.printStackTrace();\n       } catch (IOException e) {\n           e.printStackTrace();\n       }\n           return lineCount;\n    }\n\n    public static void findDifference(String File1, String File2){\n        String contents1 = null;  \n        String contents2 = null; \n        try  \n        {  \n            FileReader file1 = new FileReader(File1);  \n            FileReader file2 = new FileReader(File2);\n            BufferedReader buf1 = new BufferedReader(file1); \n            BufferedReader buf2 = new BufferedReader(file2);\n\n           while ((contents1 = buf1.readLine()) != null)  \n            {  \n               arrayLines1[count1] = contents1 ;\n               count1++;\n            }  \n\n           while ((contents2 = buf2.readLine()) != null)  \n            {  \n               arrayLines2[count2] = contents2 ;\n               count2++;\n            }\n       }catch (Exception e){\n           e.printStackTrace();\n       }\n}\n\n\n\n    public static void displayRecords() {      \n        for (int i = 0 ; i &lt; arrayLines1.length ; i++) {    \n            String a = arrayLines1[i];  \n            for (int j = 0; j &lt; arrayLines2.length; j++){  \n                String b = arrayLines2[j];  \n                boolean result = a.contains(b);  \n                   if(result == false){  \n                       System.out.println(a);  \n                   }  \n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-contentprovider","nsfilemanager"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1535214350,"post_id":52019112,"comment_id":90988610,"body_markdown":"Android doesn&#39;t have a &quot;files app&quot;. Your Samsung phone might, and that app will do what whatever Samsung wants it to do. With respect to your `DocumentsProvider`, from a scrap app, start an `ACTION_CREATE_DOCUMENT` `Intent` and see if your provider shows up in the Storage Access Framework UI. If it does, then Samsung simply does not support arbitrary document providers. If it does not, then perhaps there is a problem with your `DocumentsProvider` implementation.","body":"Android doesn&#39;t have a &quot;files app&quot;. Your Samsung phone might, and that app will do what whatever Samsung wants it to do. With respect to your <code>DocumentsProvider</code>, from a scrap app, start an <code>ACTION_CREATE_DOCUMENT</code> <code>Intent</code> and see if your provider shows up in the Storage Access Framework UI. If it does, then Samsung simply does not support arbitrary document providers. If it does not, then perhaps there is a problem with your <code>DocumentsProvider</code> implementation."},{"owner":{"account_id":12493705,"reputation":29,"user_id":9094444,"display_name":"DirtyJoe"},"score":0,"creation_date":1535214632,"post_id":52019112,"comment_id":90988685,"body_markdown":"my app does appear in ACTION_CREATE_DOCUMENT, just not int the files app","body":"my app does appear in ACTION_CREATE_DOCUMENT, just not int the files app"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1535215063,"post_id":52019112,"comment_id":90988796,"body_markdown":"Then that&#39;s a limitation of Samsung&#39;s app, I guess. Perhaps they hardcoded support for a few cloud options.","body":"Then that&#39;s a limitation of Samsung&#39;s app, I guess. Perhaps they hardcoded support for a few cloud options."}],"answers":[{"tags":[],"owner":{"account_id":1000743,"reputation":1529,"user_id":1015642,"accept_rate":40,"display_name":"halxinate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638822725,"creation_date":1638822725,"answer_id":70251590,"question_id":52019112,"body_markdown":"I had the same question. My document provider is available in the stock Google &quot;Files&quot; file manager, and all non Samsung apps showing the system file picker but not in &quot;My Files&quot; on Samsung Galaxy phones.\r\n\r\nThe easiest way to check if your Document Manager working is to attach a file to Gmail (surely on an Android device with your provider installed).\r\n\r\nSo, hey Samsung! We need you adhering to the Android SAF too a.s.a.p.!","title":"Android NSFileProviderExtension - like extension","body":"<p>I had the same question. My document provider is available in the stock Google &quot;Files&quot; file manager, and all non Samsung apps showing the system file picker but not in &quot;My Files&quot; on Samsung Galaxy phones.</p>\n<p>The easiest way to check if your Document Manager working is to attach a file to Gmail (surely on an Android device with your provider installed).</p>\n<p>So, hey Samsung! We need you adhering to the Android SAF too a.s.a.p.!</p>\n"}],"owner":{"account_id":12493705,"reputation":29,"user_id":9094444,"display_name":"DirtyJoe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638822725,"creation_date":1535213835,"question_id":52019112,"body_markdown":"I have to build an app for both android and ios. Among other things, the app provides cloud storage. Now, for ios I have implemented NSFileProviderExtension without providing a ui (basically letting the system handle it), and I can access and manage the cloud by entering the files app, selecting my app and then doing whatever needs to be done. \r\n\r\nNow, I searched far and wide for an equivalent for this on android. I have a samsung phone, and when I enter the files app, under the cloud section I can see samsung cloud drive, google drive etc. , and I can manage files there just like I can in my app. But I have no idea what kind of provider I need to implement to achieve this. I have implemented DocumentsProvider, as it seemed to be the most likely candidate, but that doesn&#39;t appear in the files app. \r\n\r\n","title":"Android NSFileProviderExtension - like extension","body":"<p>I have to build an app for both android and ios. Among other things, the app provides cloud storage. Now, for ios I have implemented NSFileProviderExtension without providing a ui (basically letting the system handle it), and I can access and manage the cloud by entering the files app, selecting my app and then doing whatever needs to be done. </p>\n\n<p>Now, I searched far and wide for an equivalent for this on android. I have a samsung phone, and when I enter the files app, under the cloud section I can see samsung cloud drive, google drive etc. , and I can manage files there just like I can in my app. But I have no idea what kind of provider I need to implement to achieve this. I have implemented DocumentsProvider, as it seemed to be the most likely candidate, but that doesn't appear in the files app. </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8207,"page":1785,"page_size":100}
