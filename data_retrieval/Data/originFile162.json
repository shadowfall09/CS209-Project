{"items":[{"tags":["java","selenium-webdriver","selenium-chromedriver","google-datalayer"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1695839331,"post_id":77175908,"comment_id":136078975,"body_markdown":"seems like that type-cast is confusing the driver. (??) I&#39;d remove that and see if it helps.  This seems like a bug in either Chrome or Chromedriver, though.","body":"seems like that type-cast is confusing the driver. (??) I&#39;d remove that and see if it helps.  This seems like a bug in either Chrome or Chromedriver, though."},{"owner":{"account_id":19689942,"reputation":11,"user_id":14415129,"display_name":"Prince"},"score":0,"creation_date":1695972262,"post_id":77175908,"comment_id":136097020,"body_markdown":"Unfortunately it&#39;s neither, i have tried removing casting and switched to an older version of chrome &amp; chrome driver but it still spits the same error. \nFor more information: I used the above code for some lower environment testing and it worked but when i tried it against prod env it spits that error out.","body":"Unfortunately it&#39;s neither, i have tried removing casting and switched to an older version of chrome &amp; chrome driver but it still spits the same error.  For more information: I used the above code for some lower environment testing and it worked but when i tried it against prod env it spits that error out."}],"owner":{"account_id":19689942,"reputation":11,"user_id":14415129,"display_name":"Prince"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695679270,"creation_date":1695678895,"question_id":77175908,"body_markdown":"I&#39;m trying to find a way to extract the datalayer object from a website via java, using selenium webdriver.\r\nI am using the jsExecutor.executeScript to pass the &quot;windows.dataLayer&quot; command to the Chrome Console Tab and parse the data to ArrayList. However whenever I run my code it consistently fails and spits out following:\r\n\r\n&gt;WebDriverException: unknown error: backendNodeId is missing in a node\r\n\r\nThings I have tried: \r\n\r\n- various substitutes for javascript command:\r\n\r\n  - &quot;return dataLayer;&quot; \r\n\r\n  - &quot;return JSON.stringify(window.dataLayer);&quot; \r\n\r\n  - &quot;return console.log(&#39;dataLayer&#39;)&quot;;\r\n\r\n- Restarting the Computer\r\n\r\n- Killing all instance of ChromeDriver from cmd through Taskkill /F /IM chromedriver.exe /T\r\n\r\nSelenium v4.8.3\r\nChromeDriver v116 \r\n\r\n**My Code:**\r\n\r\n```\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport java.util.ArrayList;\r\nimport java.time.Duration;\r\n\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n        WebDriver driver = new ChromeDriver();\r\n    \r\n        // Get the website.\r\n        driver.get(&quot;https://mvnrepository.com/&quot;);\r\n    \r\n        // Create a WebDriverWait object.\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    \r\n        // Wait for the page to finish loading.\r\n        wait.until(ExpectedConditions.jsReturnsValue(&quot;return document.readyState === &#39;complete&#39;;&quot;));\r\n    \r\n        // Wait for the dataLayer object to become present.\r\n        wait.until(ExpectedConditions.jsReturnsValue(&quot;return (typeof dataLayer !== &#39;undefined&#39;);&quot;));\r\n    \r\n        // Wait for the dataLayer object to be an object.\r\n        wait.until(ExpectedConditions.jsReturnsValue(&quot;return (typeof dataLayer === &#39;object&#39;);&quot;));\r\n    \r\n        // Get the JavascriptExecutor object.\r\n        JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n    \r\n        // Try to retrieve the dataLayer object.\r\n        try {\r\n            ArrayList&lt;String&gt; dataLayer = (ArrayList&lt;String&gt;) jsExecutor.executeScript(&quot;return window.dataLayer;&quot;);\r\n        } catch (Exception e) {\r\n            // Handle the exception.\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        // Print the dataLayer object.\r\n        System.out.println(dataLayer);\r\n    \r\n        // Quit the driver.\r\n        driver.quit();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Error:**\r\n```\r\norg.openqa.selenium.WebDriverException: unkown error: backendNodeId is missing in a node \r\n    at Example.Main (Example.java: 19) --\\&gt;  ArrayList\\&lt;String\\&gt; dataLayer = (ArrayList\\&lt;String\\&gt;) jsExecutor.executeScript(&quot;return dataLayer;&quot;);\r\n```","title":"How to retrieve dataLayer Object using Selenium?","body":"<p>I'm trying to find a way to extract the datalayer object from a website via java, using selenium webdriver.\nI am using the jsExecutor.executeScript to pass the &quot;windows.dataLayer&quot; command to the Chrome Console Tab and parse the data to ArrayList. However whenever I run my code it consistently fails and spits out following:</p>\n<blockquote>\n<p>WebDriverException: unknown error: backendNodeId is missing in a node</p>\n</blockquote>\n<p>Things I have tried:</p>\n<ul>\n<li><p>various substitutes for javascript command:</p>\n<ul>\n<li><p>&quot;return dataLayer;&quot;</p>\n</li>\n<li><p>&quot;return JSON.stringify(window.dataLayer);&quot;</p>\n</li>\n<li><p>&quot;return console.log('dataLayer')&quot;;</p>\n</li>\n</ul>\n</li>\n<li><p>Restarting the Computer</p>\n</li>\n<li><p>Killing all instance of ChromeDriver from cmd through Taskkill /F /IM chromedriver.exe /T</p>\n</li>\n</ul>\n<p>Selenium v4.8.3\nChromeDriver v116</p>\n<p><strong>My Code:</strong></p>\n<pre><code>import org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.util.ArrayList;\nimport java.time.Duration;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        WebDriver driver = new ChromeDriver();\n    \n        // Get the website.\n        driver.get(&quot;https://mvnrepository.com/&quot;);\n    \n        // Create a WebDriverWait object.\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n    \n        // Wait for the page to finish loading.\n        wait.until(ExpectedConditions.jsReturnsValue(&quot;return document.readyState === 'complete';&quot;));\n    \n        // Wait for the dataLayer object to become present.\n        wait.until(ExpectedConditions.jsReturnsValue(&quot;return (typeof dataLayer !== 'undefined');&quot;));\n    \n        // Wait for the dataLayer object to be an object.\n        wait.until(ExpectedConditions.jsReturnsValue(&quot;return (typeof dataLayer === 'object');&quot;));\n    \n        // Get the JavascriptExecutor object.\n        JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\n    \n        // Try to retrieve the dataLayer object.\n        try {\n            ArrayList&lt;String&gt; dataLayer = (ArrayList&lt;String&gt;) jsExecutor.executeScript(&quot;return window.dataLayer;&quot;);\n        } catch (Exception e) {\n            // Handle the exception.\n            e.printStackTrace();\n        }\n    \n        // Print the dataLayer object.\n        System.out.println(dataLayer);\n    \n        // Quit the driver.\n        driver.quit();\n    }\n\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>org.openqa.selenium.WebDriverException: unkown error: backendNodeId is missing in a node \n    at Example.Main (Example.java: 19) --\\&gt;  ArrayList\\&lt;String\\&gt; dataLayer = (ArrayList\\&lt;String\\&gt;) jsExecutor.executeScript(&quot;return dataLayer;&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","exception","error-handling","graphql"],"owner":{"account_id":27544377,"reputation":13,"user_id":21020595,"display_name":"cdelrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695678897,"creation_date":1695678897,"question_id":77175909,"body_markdown":"I&#39;m trying to create a custom exception when GraphQL throws its owns. The default GraphQL exception response I got is (except for the fillings):\r\n\r\n```\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;message&quot;: &quot;Validation error of type WrongType: argument &#39;inputLocals.localId&#39; with value &#39;IntValue{value=7777800}&#39; is not a valid &#39;Int&#39; - Expected value to be in the Integer range but it was &#39;7777800&#39; @ &#39;getLocals&#39;&quot;,\r\n            &quot;locations&quot;: [\r\n                {\r\n                    &quot;line&quot;: 1,\r\n                    &quot;column&quot;: 25\r\n                }\r\n            ],\r\n            &quot;extensions&quot;: {\r\n                &quot;classification&quot;: &quot;ValidationError&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;data&quot;: null\r\n}\r\n```\r\n\r\nSo this is an error I got when I surpass the int limit, and I want this to be like this:\r\n\r\n```\r\n{\r\n    &quot;code&quot;: &quot;400&quot;,\r\n    &quot;reason&quot;: &quot;BAD_REQUEST&quot;,\r\n    &quot;message&quot;: &quot;/localId 7777800 is not less or equal to 99999&quot;,\r\n    &quot;status&quot;: &quot;&quot;,\r\n    &quot;referenceError&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\nI am using the Kickstart GraphQL library, I have checked for some GraphQL Error Handler but it ain&#39;t as expected (same format). I want the exception to appear when I use this query in my resolver:\r\n\r\n```\r\n  @Override\r\n    public OutputLocals getLocals(InputLocals inputLocals) throws CustomGraphQLError {\r\n    \tint localId = inputLocals.localId();\r\n    \tif (localId &gt; 99999) {\r\n            throw new CustomGraphQLError(&quot;fields matching the JSON above&quot;);\r\n        }\r\n     // Rest of code\r\n```\r\n","title":"Custom GraphQL exceptions","body":"<p>I'm trying to create a custom exception when GraphQL throws its owns. The default GraphQL exception response I got is (except for the fillings):</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;message&quot;: &quot;Validation error of type WrongType: argument 'inputLocals.localId' with value 'IntValue{value=7777800}' is not a valid 'Int' - Expected value to be in the Integer range but it was '7777800' @ 'getLocals'&quot;,\n            &quot;locations&quot;: [\n                {\n                    &quot;line&quot;: 1,\n                    &quot;column&quot;: 25\n                }\n            ],\n            &quot;extensions&quot;: {\n                &quot;classification&quot;: &quot;ValidationError&quot;\n            }\n        }\n    ],\n    &quot;data&quot;: null\n}\n</code></pre>\n<p>So this is an error I got when I surpass the int limit, and I want this to be like this:</p>\n<pre><code>{\n    &quot;code&quot;: &quot;400&quot;,\n    &quot;reason&quot;: &quot;BAD_REQUEST&quot;,\n    &quot;message&quot;: &quot;/localId 7777800 is not less or equal to 99999&quot;,\n    &quot;status&quot;: &quot;&quot;,\n    &quot;referenceError&quot;: &quot;&quot;\n}\n</code></pre>\n<p>I am using the Kickstart GraphQL library, I have checked for some GraphQL Error Handler but it ain't as expected (same format). I want the exception to appear when I use this query in my resolver:</p>\n<pre><code>  @Override\n    public OutputLocals getLocals(InputLocals inputLocals) throws CustomGraphQLError {\n        int localId = inputLocals.localId();\n        if (localId &gt; 99999) {\n            throw new CustomGraphQLError(&quot;fields matching the JSON above&quot;);\n        }\n     // Rest of code\n</code></pre>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695230499,"post_id":77144394,"comment_id":135997950,"body_markdown":"What is `wsBuilder`? Where is the client code that reads from the web socket?","body":"What is <code>wsBuilder</code>? Where is the client code that reads from the web socket?"},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695230932,"post_id":77144394,"comment_id":135998032,"body_markdown":"@aled  I added definition of wsBuilder. Reading works fine. Problem is in sending.","body":"@aled  I added definition of wsBuilder. Reading works fine. Problem is in sending."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695231337,"post_id":77144394,"comment_id":135998114,"body_markdown":"Does this answer your question? [How to increase output buffer for spring sockjs websocket server implementation](https://stackoverflow.com/questions/21730566/how-to-increase-output-buffer-for-spring-sockjs-websocket-server-implementation) - That said, if you&#39;re sending _that_ much data, consider paginating/chunking the data itself and have the receiver do the aggregation. Those are some *huge* messages you&#39;re sending, sending that in smaller, numerated chunks would be an excellent idea.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21730566/how-to-increase-output-buffer-for-spring-sockjs-websocket-server-implementation\">How to increase output buffer for spring sockjs websocket server implementation</a> - That said, if you&#39;re sending <i>that</i> much data, consider paginating/chunking the data itself and have the receiver do the aggregation. Those are some <i>huge</i> messages you&#39;re sending, sending that in smaller, numerated chunks would be an excellent idea."},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695232025,"post_id":77144394,"comment_id":135998242,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans This is not Spring application. Code uses Java 11 java.net.http.WebSocket. It is legacy application which is hosted on web and WebSocket support was added. It is out of the question to change protocol. In house C++ implemented Windows native library works. We want to add Mac client support.","body":"@Mike&#39;Pomax&#39;Kamermans This is not Spring application. Code uses Java 11 java.net.http.WebSocket. It is legacy application which is hosted on web and WebSocket support was added. It is out of the question to change protocol. In house C++ implemented Windows native library works. We want to add Mac client support."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695232858,"post_id":77144394,"comment_id":135998415,"body_markdown":"Why is the boolean parameter to `sendBinary()` set to false?","body":"Why is the boolean parameter to <code>sendBinary()</code> set to false?"},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695233331,"post_id":77144394,"comment_id":135998503,"body_markdown":"@aled when sending first part it is false, when sending last part, it is true. Please check official documentation.\n`last - true if this invocation completes the message, false otherwise`","body":"@aled when sending first part it is false, when sending last part, it is true. Please check official documentation. <code>last - true if this invocation completes the message, false otherwise</code>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1695233703,"post_id":77144394,"comment_id":135998582,"body_markdown":"Then why you are not showing the full code related to the sending? You are not providing the details related to your question. You should provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Then why you are not showing the full code related to the sending? You are not providing the details related to your question. You should provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695234902,"post_id":77144394,"comment_id":135998811,"body_markdown":"Does this answer your question? [Java WebSocket message limit](https://stackoverflow.com/questions/61577378/java-websocket-message-limit)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61577378/java-websocket-message-limit\">Java WebSocket message limit</a>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695235468,"post_id":77144394,"comment_id":135998909,"body_markdown":"@zdenko.s not sure what you think I&#39;m telling you to do, but keep using websockets, just organize your data in paged sets, bump up the API version for that so your old clients don&#39;t break since they already don&#39;t work for the usecase you now have (you _are_ using versioning, hopefully) and update your client to accumulate data until they have the full dataset. But also, as aled pointed out: please show [mcve] code (and of course, _test_ that MCVE before putting it in your post, because running through the MCVE exercise is primarily for _your_ benefit, as a debugging process)","body":"@zdenko.s not sure what you think I&#39;m telling you to do, but keep using websockets, just organize your data in paged sets, bump up the API version for that so your old clients don&#39;t break since they already don&#39;t work for the usecase you now have (you <i>are</i> using versioning, hopefully) and update your client to accumulate data until they have the full dataset. But also, as aled pointed out: please show <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code (and of course, <i>test</i> that MCVE before putting it in your post, because running through the MCVE exercise is primarily for <i>your</i> benefit, as a debugging process)"},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695237769,"post_id":77144394,"comment_id":135999312,"body_markdown":"@aled  &#39;Java WebSocket message limit&#39; sends one big message and last parameter is true. I split message in segments. When sending segments I specify last=false for every segment except last segment, then I specify last=true.","body":"@aled  &#39;Java WebSocket message limit&#39; sends one big message and last parameter is true. I split message in segments. When sending segments I specify last=false for every segment except last segment, then I specify last=true."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695240271,"post_id":77144394,"comment_id":135999713,"body_markdown":"@zdenko.s have actually tried the solution? The error seems to suggest that the buffer size applies to the entire message, not to each partial segment.","body":"@zdenko.s have actually tried the solution? The error seems to suggest that the buffer size applies to the entire message, not to each partial segment."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695260885,"post_id":77144394,"comment_id":136001833,"body_markdown":"This does not seem to be a problem with Java&#39;s `WebSocket` implementation. You&#39;re getting a &quot;message too big&quot; error **from the server**. Your server is apparently configured to accept messages of up to 16,384 bytes (16 KiB) in length. Any larger and the server closes the connection with a `1009` status code. Note a message is all data sent _until_ you pass `true` for `last`. You may have two calls to `sendBinary` in your example, but those two calls make up _a single message_.","body":"This does not seem to be a problem with Java&#39;s <code>WebSocket</code> implementation. You&#39;re getting a &quot;message too big&quot; error <b>from the server</b>. Your server is apparently configured to accept messages of up to 16,384 bytes (16 KiB) in length. Any larger and the server closes the connection with a <code>1009</code> status code. Note a message is all data sent <i>until</i> you pass <code>true</code> for <code>last</code>. You may have two calls to <code>sendBinary</code> in your example, but those two calls make up <i>a single message</i>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695261311,"post_id":77144394,"comment_id":136001865,"body_markdown":"What I believe @Mike&#39;Pomax&#39;Kamermans is suggesting you to do is split up your message into multiple distinct messages. You may think you&#39;re already doing that, but you&#39;re not (as explained previously). The server would then need to (re)combine these distinct messages as appropriate.","body":"What I believe @Mike&#39;Pomax&#39;Kamermans is suggesting you to do is split up your message into multiple distinct messages. You may think you&#39;re already doing that, but you&#39;re not (as explained previously). The server would then need to (re)combine these distinct messages as appropriate."},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695268475,"post_id":77144394,"comment_id":136002466,"body_markdown":"@Slaw WebSocket is supposed to send fragment with flag MORE=true. It is exactly what Tomcat implementation is doing. When sending last segment more is false. Purpose of parameter last, in methos sendBinary is splitting messages. WebSocket should send out message and set correct buffer. Other side would check flag MORE. Please read my update to question","body":"@Slaw WebSocket is supposed to send fragment with flag MORE=true. It is exactly what Tomcat implementation is doing. When sending last segment more is false. Purpose of parameter last, in methos sendBinary is splitting messages. WebSocket should send out message and set correct buffer. Other side would check flag MORE. Please read my update to question"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695320915,"post_id":77144394,"comment_id":136012357,"body_markdown":"Inspecting the network traffic with Wireshark between Java&#39;s `WebSocket` (on Java 11) and a tiny local web socket server (implemented with ktor 2.3.4), Java&#39;s `WebSocket` is sending the message fragmented as expected. The first `sendBinary` call sends a binary packet with `fin` set to &quot;false&quot;, then the second `sendBinary` call sends a continuation packet with `fin` set to &quot;true&quot;.","body":"Inspecting the network traffic with Wireshark between Java&#39;s <code>WebSocket</code> (on Java 11) and a tiny local web socket server (implemented with ktor 2.3.4), Java&#39;s <code>WebSocket</code> is sending the message fragmented as expected. The first <code>sendBinary</code> call sends a binary packet with <code>fin</code> set to &quot;false&quot;, then the second <code>sendBinary</code> call sends a continuation packet with <code>fin</code> set to &quot;true&quot;."},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695322581,"post_id":77144394,"comment_id":136012666,"body_markdown":"@Slaw Can you post your code?","body":"@Slaw Can you post your code?"},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695322907,"post_id":77144394,"comment_id":136012729,"body_markdown":"@Slaw please try to send two packages which sum of size is more then 16k. My Java 11 test app works if sum of sizes of packages is 16k or less.","body":"@Slaw please try to send two packages which sum of size is more then 16k. My Java 11 test app works if sum of sizes of packages is 16k or less."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695333980,"post_id":77144394,"comment_id":136014384,"body_markdown":"Looking into this a little more, there seems to be two limits involved here: Max **frame** size and max **message** size. Kotlin&#39;s Ktor library has a somewhat confusingly named `maxFrameSize` property. When using `webSocket`, which apparently collects fragmented messages into a single frame for ease of processing, that property is functionally the max frame size _and_ the max _message_ size. However, when using `webSocketRaw`, you get each individual frame. Now that property is only the max frame size, and the message may be larger. But it&#39;s more work for the developer to combine the fragments","body":"Looking into this a little more, there seems to be two limits involved here: Max <b>frame</b> size and max <b>message</b> size. Kotlin&#39;s Ktor library has a somewhat confusingly named <code>maxFrameSize</code> property. When using <code>webSocket</code>, which apparently collects fragmented messages into a single frame for ease of processing, that property is functionally the max frame size <i>and</i> the max <i>message</i> size. However, when using <code>webSocketRaw</code>, you get each individual frame. Now that property is only the max frame size, and the message may be larger. But it&#39;s more work for the developer to combine the fragments"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695334226,"post_id":77144394,"comment_id":136014416,"body_markdown":"Python&#39;s FastAPI library (with WebSockets) appears to do something similar (i.e., it collects fragmented messages into a single &quot;frame&quot; for ease of processing). But its max size is controlled by `--ws-max-size` argument, at least when using Uvicorn. That is the max _message_ size. Couldn&#39;t figure out how to set the max _frame_ size there, nor how to access each frame individually.","body":"Python&#39;s FastAPI library (with WebSockets) appears to do something similar (i.e., it collects fragmented messages into a single &quot;frame&quot; for ease of processing). But its max size is controlled by <code>--ws-max-size</code> argument, at least when using Uvicorn. That is the max <i>message</i> size. Couldn&#39;t figure out how to set the max <i>frame</i> size there, nor how to access each frame individually."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695334863,"post_id":77144394,"comment_id":136014496,"body_markdown":"Anyway, my point is I believe you&#39;re running into a **message** size limit (_imposed by the server_), not a **frame** size limit. Fragmentation only helps with the latter, not the former. And note a single message consists of one _or more_ frames. Your code is sending two frames, but only one message.","body":"Anyway, my point is I believe you&#39;re running into a <b>message</b> size limit (<i>imposed by the server</i>), not a <b>frame</b> size limit. Fragmentation only helps with the latter, not the former. And note a single message consists of one <i>or more</i> frames. Your code is sending two frames, but only one message."},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695347883,"post_id":77144394,"comment_id":136015628,"body_markdown":"@Slaw I was thinking about same. the server side problem. First. WebSocket on server side combines fragments and ONLY when whole message is recived, delivers to server. WebSocket layer implementation is doing it.\nI made test using Java 8 javax.websocket package and tyrus implementation. javax websocket method implementation will split internally. sendBinary method accepts only one parameter ByteBuffer. Implementation will do fragmentation. In my server case, server closes connection when dummy data is received. In case of Java 11, exception was thrown by client. Did you make test I assked?","body":"@Slaw I was thinking about same. the server side problem. First. WebSocket on server side combines fragments and ONLY when whole message is recived, delivers to server. WebSocket layer implementation is doing it. I made test using Java 8 javax.websocket package and tyrus implementation. javax websocket method implementation will split internally. sendBinary method accepts only one parameter ByteBuffer. Implementation will do fragmentation. In my server case, server closes connection when dummy data is received. In case of Java 11, exception was thrown by client. Did you make test I assked?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695423123,"post_id":77144394,"comment_id":136027430,"body_markdown":"This is the code I was using: https://gitlab.com/-/snippets/3602052. It&#39;s in Kotlin, because Ktor is a Kotlin library, but it&#39;s still using the Java `java.net.http.WebClient` API for the client. You can inspect the network traffic over the loopback interface with Wireshark yourself if you feel you need to. I will probably delete the snippet some time in the next few days.","body":"This is the code I was using: <a href=\"https://gitlab.com/-/snippets/3602052\" rel=\"nofollow noreferrer\">gitlab.com/-/snippets/3602052</a>. It&#39;s in Kotlin, because Ktor is a Kotlin library, but it&#39;s still using the Java <code>java.net.http.WebClient</code> API for the client. You can inspect the network traffic over the loopback interface with Wireshark yourself if you feel you need to. I will probably delete the snippet some time in the next few days."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695423331,"post_id":77144394,"comment_id":136027452,"body_markdown":"&quot;_In case of Java 11, exception was thrown by client_&quot; – Assuming my code is representative of your problem, that is not exactly what happened. Your client may have thrown an exception, but only in response to an error code returned by the server. The server closes the connection with a `1009` &quot;Message Too Big&quot; error. Your client reports that as a &quot;severe&quot; event in the logs. That does not mean that `WebSocket` is not sending multiple frames. It is. But your server is imposing a total message size limit and closes the connection when that limit is broken.","body":"&quot;<i>In case of Java 11, exception was thrown by client</i>&quot; – Assuming my code is representative of your problem, that is not exactly what happened. Your client may have thrown an exception, but only in response to an error code returned by the server. The server closes the connection with a <code>1009</code> &quot;Message Too Big&quot; error. Your client reports that as a &quot;severe&quot; event in the logs. That does not mean that <code>WebSocket</code> is not sending multiple frames. It is. But your server is imposing a total message size limit and closes the connection when that limit is broken."},{"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"score":0,"creation_date":1695677978,"post_id":77144394,"comment_id":136053924,"body_markdown":"@Slaw Problem fixed. I will explain in answer","body":"@Slaw Problem fixed. I will explain in answer"}],"answers":[{"tags":[],"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695678416,"creation_date":1695678416,"answer_id":77175874,"question_id":77144394,"body_markdown":"Application was creating data larger then 16k. Custom protocol was developed to split messages into chunks max size 16k. Each chunk is sent by Java WebSocket send method and parameter **last** was set to true. This way, Java WS did not try to combine data and sent one &quot;app specific segment&quot; as soon as send method was invoked. I could split &quot;app specific segment&quot; to smaller parts and send them one by one and specify last=false and when I filled 16k buffer specify last=true.  \r\nJava WS does not support sending messages when sum of message size till last=true, is bigger then 16k.","title":"java.net.http.WebSocket sending message segments of message greater than 16k fails","body":"<p>Application was creating data larger then 16k. Custom protocol was developed to split messages into chunks max size 16k. Each chunk is sent by Java WebSocket send method and parameter <strong>last</strong> was set to true. This way, Java WS did not try to combine data and sent one &quot;app specific segment&quot; as soon as send method was invoked. I could split &quot;app specific segment&quot; to smaller parts and send them one by one and specify last=false and when I filled 16k buffer specify last=true.<br />\nJava WS does not support sending messages when sum of message size till last=true, is bigger then 16k.</p>\n"}],"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695678416,"creation_date":1695227545,"question_id":77144394,"body_markdown":"My Java client application sends data to server over WebSocket. In some rare cases data is more than 16k. Code splits data in segments and sends one by one segment using method  \r\n`ws.sendBinary(segmentMessageData, false).join();`.  \r\nWhen sending last segment, second argument is true. First 16k segment is sent. When second (last) segment is sent, I get error: \r\n```\r\nSEVERE: WebSocketClientPeer#onClose statusCode [1009], reason [No async message support and buffer too small. Buffer size: [16,384], Message size: [1,656]]\r\n```\r\nAs you see, buffer is fairly bigger then data.\r\nWebSocket is opened using builder\r\n```\r\nimport java.net.http.WebSocket;\r\n\r\n// ...\r\n\r\nWebSocket.Builder wsBuilder = HttpClient.newHttpClient().newWebSocketBuilder();\r\nws = wsBuilder.buildAsync(URI.create(&quot;wss://myserver.dummy.com/wsweb&quot;), this).join();\r\n```\r\nClient code uses Java 11 websocket. Server side uses Tomcat WebSocket. Server nicely sends data larger then 16k and java client gets them (and combines into single pacakge).  \r\nThis is legacy application where server resides in cloud and WebSocket is used. There is implementation which uses Windows C++ native client and it works fine. We want platform independent client.  \r\nHow to send more then 16k of data using Java 11 WebSocket?  \r\nPlease note: Sending works fine if data is less then 16k and no fragmentation.\r\n\r\nFigured out strange thing:  \r\nIf sum of two segments i smaller or equal to 16k, send works. If sum exceeds 16k by only one byte, second send fails.  \r\nIt looks like some internal buffer is not rewind and second send tries to append data to same buffer.\r\n\r\nPlease note. This is not Spring Boot. This is Java11 java.net.http.WebSocket class.  \r\n[Official documentation of send method][1]\r\n\r\nEdit:  \r\nCreated simple test to send dummy data\r\n```\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.WebSocket;\r\nimport java.nio.ByteBuffer;\r\n\r\nWebSocket.Builder wsBuilder = HttpClient.newHttpClient().newWebSocketBuilder();\r\nWebSocket ws = wsBuilder.buildAsync(URI.create(&quot;ws://127.0.0.1/wsendpoint&quot;), this).join();\r\n// Wait for handshake to complete, then send data\r\nByteBuffer bbuf1 = ByteBuffer.wrap(new byte[15 * 1024]);\r\nByteBuffer bbuf2 = ByteBuffer.wrap(new byte[1024]);\r\nws.sendBinary(bbuf1, false).join();\r\nws.sendBinary(bbuf2, true).join();\r\n```\r\nThis works if second buffer is 1024. When I increase second buffer by 1, send fails.  \r\nI concluded that sending would fail if sum of sizes of two messages is more than 16k. \r\nFragmentation is must since server combines fragments and processes whole message.\r\n\r\nEdit2: According to IETF, WebSocket must support fragmentation. Here is official documentation [Data Framing - Fragmentation][2]  \r\nRelevant part of the document:  \r\nThe primary purpose of fragmentation is to allow sending a message\r\n   that is of unknown size when the message is started without having to\r\n   buffer that message.  If messages couldn&#39;t be fragmented, then an\r\n   endpoint would have to buffer the entire message so its length could\r\n   be counted before the first byte is sent.  With fragmentation, a\r\n   server or intermediary may choose a reasonable size buffer and, when\r\n   the buffer is full, write a fragment to the network.\r\n\r\nJava 11 is doing exactly oposite. It is buffering segments till flag last of method sendBinary is true, then sends whole buffer. Pay attention to error mesage:\r\n```\r\nbuffer too small. Buffer size: [16,384], Message size: [1,656]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/WebSocket.html#sendBinary(java.nio.ByteBuffer,boolean)\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc6455#section-5.4","title":"java.net.http.WebSocket sending message segments of message greater than 16k fails","body":"<p>My Java client application sends data to server over WebSocket. In some rare cases data is more than 16k. Code splits data in segments and sends one by one segment using method<br />\n<code>ws.sendBinary(segmentMessageData, false).join();</code>.<br />\nWhen sending last segment, second argument is true. First 16k segment is sent. When second (last) segment is sent, I get error:</p>\n<pre><code>SEVERE: WebSocketClientPeer#onClose statusCode [1009], reason [No async message support and buffer too small. Buffer size: [16,384], Message size: [1,656]]\n</code></pre>\n<p>As you see, buffer is fairly bigger then data.\nWebSocket is opened using builder</p>\n<pre><code>import java.net.http.WebSocket;\n\n// ...\n\nWebSocket.Builder wsBuilder = HttpClient.newHttpClient().newWebSocketBuilder();\nws = wsBuilder.buildAsync(URI.create(&quot;wss://myserver.dummy.com/wsweb&quot;), this).join();\n</code></pre>\n<p>Client code uses Java 11 websocket. Server side uses Tomcat WebSocket. Server nicely sends data larger then 16k and java client gets them (and combines into single pacakge).<br />\nThis is legacy application where server resides in cloud and WebSocket is used. There is implementation which uses Windows C++ native client and it works fine. We want platform independent client.<br />\nHow to send more then 16k of data using Java 11 WebSocket?<br />\nPlease note: Sending works fine if data is less then 16k and no fragmentation.</p>\n<p>Figured out strange thing:<br />\nIf sum of two segments i smaller or equal to 16k, send works. If sum exceeds 16k by only one byte, second send fails.<br />\nIt looks like some internal buffer is not rewind and second send tries to append data to same buffer.</p>\n<p>Please note. This is not Spring Boot. This is Java11 java.net.http.WebSocket class.<br />\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/WebSocket.html#sendBinary(java.nio.ByteBuffer,boolean)\" rel=\"nofollow noreferrer\">Official documentation of send method</a></p>\n<p>Edit:<br />\nCreated simple test to send dummy data</p>\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.WebSocket;\nimport java.nio.ByteBuffer;\n\nWebSocket.Builder wsBuilder = HttpClient.newHttpClient().newWebSocketBuilder();\nWebSocket ws = wsBuilder.buildAsync(URI.create(&quot;ws://127.0.0.1/wsendpoint&quot;), this).join();\n// Wait for handshake to complete, then send data\nByteBuffer bbuf1 = ByteBuffer.wrap(new byte[15 * 1024]);\nByteBuffer bbuf2 = ByteBuffer.wrap(new byte[1024]);\nws.sendBinary(bbuf1, false).join();\nws.sendBinary(bbuf2, true).join();\n</code></pre>\n<p>This works if second buffer is 1024. When I increase second buffer by 1, send fails.<br />\nI concluded that sending would fail if sum of sizes of two messages is more than 16k.\nFragmentation is must since server combines fragments and processes whole message.</p>\n<p>Edit2: According to IETF, WebSocket must support fragmentation. Here is official documentation <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-5.4\" rel=\"nofollow noreferrer\">Data Framing - Fragmentation</a><br />\nRelevant part of the document:<br />\nThe primary purpose of fragmentation is to allow sending a message\nthat is of unknown size when the message is started without having to\nbuffer that message.  If messages couldn't be fragmented, then an\nendpoint would have to buffer the entire message so its length could\nbe counted before the first byte is sent.  With fragmentation, a\nserver or intermediary may choose a reasonable size buffer and, when\nthe buffer is full, write a fragment to the network.</p>\n<p>Java 11 is doing exactly oposite. It is buffering segments till flag last of method sendBinary is true, then sends whole buffer. Pay attention to error mesage:</p>\n<pre><code>buffer too small. Buffer size: [16,384], Message size: [1,656]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695673020,"post_id":77175455,"comment_id":136053311,"body_markdown":"If you will add empty constructor to entity class, will it help ? Also one constructor with all the fields, getters and setters for fields","body":"If you will add empty constructor to entity class, will it help ? Also one constructor with all the fields, getters and setters for fields"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695673058,"post_id":77175455,"comment_id":136053316,"body_markdown":"@EnableJpaRepositories probably needs to include the entities package.","body":"@EnableJpaRepositories probably needs to include the entities package."},{"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"score":0,"creation_date":1695674140,"post_id":77175455,"comment_id":136053478,"body_markdown":"@AndrewS, I added &quot;@EnableJpaRepositories({&quot;com.example.entities&quot;, &quot;com.example.repositories&quot;})&quot; still it is throwing same error.","body":"@AndrewS, I added &quot;@EnableJpaRepositories({&quot;com.example.entities&quot;, &quot;com.example.repositories&quot;})&quot; still it is throwing same error."},{"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"score":0,"creation_date":1695674474,"post_id":77175455,"comment_id":136053536,"body_markdown":"@AndreiLisa, I added an empty constructor but getting the same error. I am not sure how the constructor would help in this case.","body":"@AndreiLisa, I added an empty constructor but getting the same error. I am not sure how the constructor would help in this case."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695674580,"post_id":77175455,"comment_id":136053556,"body_markdown":"Package name typo?  Try putting all the classes in the same package.","body":"Package name typo?  Try putting all the classes in the same package."},{"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"score":0,"creation_date":1695679078,"post_id":77175455,"comment_id":136054028,"body_markdown":"typo is not possible, please see my edits. However, if all the classes are in same package then it is working properly.","body":"typo is not possible, please see my edits. However, if all the classes are in same package then it is working properly."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695706287,"post_id":77175455,"comment_id":136056317,"body_markdown":"Place your `@SpringBootApplication` in the `com.example` package. Remove all annotations except `@SpringBootApplication`. The `@Repository` on the Spring Data JPA repository is useless, it will only hurt your eyes, remove it. Assuming you are using Spring Boot 3.x make sure you have `jakarta.persistence` as the package imports and not `javax.persistence`.","body":"Place your <code>@SpringBootApplication</code> in the <code>com.example</code> package. Remove all annotations except <code>@SpringBootApplication</code>. The <code>@Repository</code> on the Spring Data JPA repository is useless, it will only hurt your eyes, remove it. Assuming you are using Spring Boot 3.x make sure you have <code>jakarta.persistence</code> as the package imports and not <code>javax.persistence</code>."}],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695678196,"creation_date":1695672628,"question_id":77175455,"body_markdown":"I created a very simple spring boot rest api and it is throwing error while autowiring the interface which is extending the CrudRepository. There are many question related to this and I tried the solutions provided still it is not able to resolve the issue. Here is the code of application\r\n\r\n***Entry Point:***\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages={&quot;com.example.controllers&quot;, &quot;com.example.entities&quot;, &quot;com.example.repositories&quot;, &quot;com.example.services&quot;})\r\n    @EnableJpaRepositories(&quot;com.example.repositories&quot;)\r\n    public class DemoApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n***Entity***\r\n\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;first_name&quot;, nullable = false)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;, nullable = false)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;dob&quot;, nullable = false)\r\n        private Date dateOfBirth;\r\n    }\r\n\r\n***Controller***\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;app&quot;)\r\n    public class EmployeeController {\r\n    \r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n    \r\n        @GetMapping(value = &quot;/count&quot;, produces = &quot;application/json&quot;)\r\n        public Long getCount() {\r\n            return employeeService.getCount();\r\n        }\r\n    }\r\n\r\n***Service***\r\n\r\n    @Service\r\n    public class EmployeeService {\r\n        @Autowired\r\n        private EmployeeRepo employeeRepo;\r\n    \r\n        public Long getCount(){\r\n            return employeeRepo.count();\r\n        }\r\n    }\r\n\r\n***Repository***\r\n\r\n    @Repository\r\n    public interface EmployeeRepo extends CrudRepository&lt;Employee, Long&gt; {\r\n    }\r\n\r\n\r\nIn my opinion it should work, however it is giving me following error:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;employeeController&#39;: Unsatisfied\r\n&gt; dependency expressed through field &#39;employeeService&#39;: Error creating\r\n&gt; bean with name &#39;employeeService&#39;: Unsatisfied dependency expressed\r\n&gt; through field &#39;employeeRepo&#39;: Error creating bean with name\r\n&gt; &#39;employeeRepo&#39; defined in com.example.repositories.EmployeeRepo\r\n&gt; defined in @EnableJpaRepositories declared on DemoApplication: Not a\r\n&gt; managed type: class com.example.entities.Employee\r\n\r\n***EDIT***\r\nThere is no chance of misspelling the packg names as IntelliJ checks that. If it can not find the pckg then it highlights it in red.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4UGxC.png","title":"Autowire CrudRepository - Error creating bean with Unsatisfied dependency","body":"<p>I created a very simple spring boot rest api and it is throwing error while autowiring the interface which is extending the CrudRepository. There are many question related to this and I tried the solutions provided still it is not able to resolve the issue. Here is the code of application</p>\n<p><em><strong>Entry Point:</strong></em></p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.example.controllers&quot;, &quot;com.example.entities&quot;, &quot;com.example.repositories&quot;, &quot;com.example.services&quot;})\n@EnableJpaRepositories(&quot;com.example.repositories&quot;)\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p><em><strong>Entity</strong></em></p>\n<pre><code>@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, nullable = false)\n    private String lastName;\n\n    @Column(name = &quot;dob&quot;, nullable = false)\n    private Date dateOfBirth;\n}\n</code></pre>\n<p><em><strong>Controller</strong></em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;app&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @GetMapping(value = &quot;/count&quot;, produces = &quot;application/json&quot;)\n    public Long getCount() {\n        return employeeService.getCount();\n    }\n}\n</code></pre>\n<p><em><strong>Service</strong></em></p>\n<pre><code>@Service\npublic class EmployeeService {\n    @Autowired\n    private EmployeeRepo employeeRepo;\n\n    public Long getCount(){\n        return employeeRepo.count();\n    }\n}\n</code></pre>\n<p><em><strong>Repository</strong></em></p>\n<pre><code>@Repository\npublic interface EmployeeRepo extends CrudRepository&lt;Employee, Long&gt; {\n}\n</code></pre>\n<p>In my opinion it should work, however it is giving me following error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'employeeController': Unsatisfied\ndependency expressed through field 'employeeService': Error creating\nbean with name 'employeeService': Unsatisfied dependency expressed\nthrough field 'employeeRepo': Error creating bean with name\n'employeeRepo' defined in com.example.repositories.EmployeeRepo\ndefined in @EnableJpaRepositories declared on DemoApplication: Not a\nmanaged type: class com.example.entities.Employee</p>\n</blockquote>\n<p><em><strong>EDIT</strong></em>\nThere is no chance of misspelling the packg names as IntelliJ checks that. If it can not find the pckg then it highlights it in red.\n<a href=\"https://i.stack.imgur.com/4UGxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4UGxC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","sql-server"],"answers":[{"tags":[],"owner":{"account_id":1906666,"reputation":761,"user_id":1721406,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692304057,"creation_date":1692304057,"answer_id":76924911,"question_id":76924153,"body_markdown":"Have you tried: \r\n\r\n    Select * into new_table  from  old_table \r\n\r\nSee:\r\nhttps://stackoverflow.com/questions/16683758/how-to-create-a-table-from-select-query-result-in-sql-server-2008","title":"Transfer images from one SQL Server DB to another SQL server DB","body":"<p>Have you tried:</p>\n<pre><code>Select * into new_table  from  old_table \n</code></pre>\n<p>See:\n<a href=\"https://stackoverflow.com/questions/16683758/how-to-create-a-table-from-select-query-result-in-sql-server-2008\">How to create a table from select query result in SQL Server 2008</a></p>\n"},{"tags":[],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695677914,"creation_date":1693495102,"answer_id":77017188,"question_id":76924153,"body_markdown":"The problem I had with this issue is I had access to the first database and not to the second one. Once I got the credentials, I was able to import that data into the first database using SSMS.\r\n\r\n1) GOTO the database that you&#39;d like to import the data into\r\n2) Right click --&gt; tasks --&gt; import data\r\n3) choose the data source (the DB you&#39;d like the data exported from) --&gt; SQL Server Native Client 11.0\r\n4) Choose a destination data source \r\n5) Follow the import instructions...\r\n\r\nUse Caution: If your data has images then do not try and download the data into a flat file or a CSV, as the maximum size of the data that can be uploaded through that method is 8,000 bytes. ","title":"Transfer images from one SQL Server DB to another SQL server DB","body":"<p>The problem I had with this issue is I had access to the first database and not to the second one. Once I got the credentials, I was able to import that data into the first database using SSMS.</p>\n<ol>\n<li>GOTO the database that you'd like to import the data into</li>\n<li>Right click --&gt; tasks --&gt; import data</li>\n<li>choose the data source (the DB you'd like the data exported from) --&gt; SQL Server Native Client 11.0</li>\n<li>Choose a destination data source</li>\n<li>Follow the import instructions...</li>\n</ol>\n<p>Use Caution: If your data has images then do not try and download the data into a flat file or a CSV, as the maximum size of the data that can be uploaded through that method is 8,000 bytes.</p>\n"}],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695677914,"creation_date":1692296118,"question_id":76924153,"body_markdown":"I have a issue with transferring images from one SQL server to another SQL server database.\r\n\r\nHere is the scenario:\r\nMove the data(images) from `server1.database1.images-table` to `server2.database2.images-table`.\r\n\r\nI have server1.database1.imagestable. I do not have login privileges to this database. We do not have the sa password to add me as a user. The images table have a few fields that contain images. The OS is Microsoft Windows NT 6.3 (9600). I am trying to move the data into another server.\r\n\r\nThe script to create images table in server1 indicates that the primary key ID has autoincrement on it (IDENTITY(1,1)). So while creating images table in server 2, I removed the autoincrement on the ID primary key as I cannot keep the old key values.\r\n\r\nI tried downloading the data into a flat file and .csv but both failed as the size of the images exceeded the 8000 char limit.\r\n\r\nI tried to do a data transfer through SSMS (tasks --&gt; import data) from server1 to server2 from table 1 to table 2. The import worked. It created and extra column (no name with an auto increment ranging from 1 onwards), then followed by the ID column (key value copied from `server2.images` table. When I run a SQL query with column names (`select ID, IDBatch from images`) it does not seem to recognize the field names. However when I run query for all fields (`select * from images`) it returns a result set. \r\n\r\nDid I make a mistake with the script?\r\nThanks\r\n\r\nPS. When I tried to do a data transfer through SSMS (tasks --&gt; import data) from server1 to server2 from table 1 to table 2 with just the fields that I needed, I am getting a parse error:\r\n\r\n&gt; The statement could not be parsed. Invalid object name database2.dbo.images","title":"Transfer images from one SQL Server DB to another SQL server DB","body":"<p>I have a issue with transferring images from one SQL server to another SQL server database.</p>\n<p>Here is the scenario:\nMove the data(images) from <code>server1.database1.images-table</code> to <code>server2.database2.images-table</code>.</p>\n<p>I have server1.database1.imagestable. I do not have login privileges to this database. We do not have the sa password to add me as a user. The images table have a few fields that contain images. The OS is Microsoft Windows NT 6.3 (9600). I am trying to move the data into another server.</p>\n<p>The script to create images table in server1 indicates that the primary key ID has autoincrement on it (IDENTITY(1,1)). So while creating images table in server 2, I removed the autoincrement on the ID primary key as I cannot keep the old key values.</p>\n<p>I tried downloading the data into a flat file and .csv but both failed as the size of the images exceeded the 8000 char limit.</p>\n<p>I tried to do a data transfer through SSMS (tasks --&gt; import data) from server1 to server2 from table 1 to table 2. The import worked. It created and extra column (no name with an auto increment ranging from 1 onwards), then followed by the ID column (key value copied from <code>server2.images</code> table. When I run a SQL query with column names (<code>select ID, IDBatch from images</code>) it does not seem to recognize the field names. However when I run query for all fields (<code>select * from images</code>) it returns a result set.</p>\n<p>Did I make a mistake with the script?\nThanks</p>\n<p>PS. When I tried to do a data transfer through SSMS (tasks --&gt; import data) from server1 to server2 from table 1 to table 2 with just the fields that I needed, I am getting a parse error:</p>\n<blockquote>\n<p>The statement could not be parsed. Invalid object name database2.dbo.images</p>\n</blockquote>\n"},{"tags":["java","awt","bufferstrategy"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695678941,"post_id":77175812,"comment_id":136054011,"body_markdown":"There&#39;s lots of reasons why a `BufferStrategy` may not render.  Just because you&#39;ve called `setVisible` on the window doesn&#39;t mean that by the time you try and present the `BufferStrategy`, the window is in a state which would allow it to be painted.  `BufferStrategy` is also considered to be volatile, this means that between requesting a page (ie `getDrawGraphics`) and calling `show`, the page may have become invalid and can no longer be drawn to the screen.  The short answer is to you question is, you can&#39;t, but you don&#39;t need a loop which runs for ever.","body":"There&#39;s lots of reasons why a <code>BufferStrategy</code> may not render.  Just because you&#39;ve called <code>setVisible</code> on the window doesn&#39;t mean that by the time you try and present the <code>BufferStrategy</code>, the window is in a state which would allow it to be painted.  <code>BufferStrategy</code> is also considered to be volatile, this means that between requesting a page (ie <code>getDrawGraphics</code>) and calling <code>show</code>, the page may have become invalid and can no longer be drawn to the screen.  The short answer is to you question is, you can&#39;t, but you don&#39;t need a loop which runs for ever."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695679032,"post_id":77175812,"comment_id":136054022,"body_markdown":"See the [`BufferStrategy` JavaDocs](https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferStrategy.html) for a runnable example of how you should be using it.  The next question though is, why?  The main reasons for using `BufferStrategy` is to control the rendering workflow and get &quot;as close to the metal&quot; rendering, which is usually used for high demand graphics and animation - which would suggest a requirement for a &quot;render loop&quot;","body":"See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferStrategy.html\" rel=\"nofollow noreferrer\"><code>BufferStrategy</code> JavaDocs</a> for a runnable example of how you should be using it.  The next question though is, why?  The main reasons for using <code>BufferStrategy</code> is to control the rendering workflow and get &quot;as close to the metal&quot; rendering, which is usually used for high demand graphics and animation - which would suggest a requirement for a &quot;render loop&quot;"},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1695679340,"post_id":77175812,"comment_id":136054057,"body_markdown":"I&#39;ve read it before posting but one thing was bothering me - there could be a scenario as such: between two successive calls to strategy.show() in the loop, long enough time might&#39;ve elapsed so that the drawing buffer was lost and so the screen might flicker between frames, how could such a situation be resolved?","body":"I&#39;ve read it before posting but one thing was bothering me - there could be a scenario as such: between two successive calls to strategy.show() in the loop, long enough time might&#39;ve elapsed so that the drawing buffer was lost and so the screen might flicker between frames, how could such a situation be resolved?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695679628,"post_id":77175812,"comment_id":136054075,"body_markdown":"I doubt, very highly, you&#39;d get &quot;flickering&quot; using `BufferStrategy` as it&#39;s, well double buffered, so the &quot;last&quot; frame will remain until you switch to the new frame - this is, also, another reason for using it - although, Swing, if used properly, is also double buffered by default","body":"I doubt, very highly, you&#39;d get &quot;flickering&quot; using <code>BufferStrategy</code> as it&#39;s, well double buffered, so the &quot;last&quot; frame will remain until you switch to the new frame - this is, also, another reason for using it - although, Swing, if used properly, is also double buffered by default"},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1695680041,"post_id":77175812,"comment_id":136054125,"body_markdown":"Even so, there is no guarantee the last frame will remain on the current buffer ( or any frame will remain on the other buffers in case of two or more buffering ) by the time I reach &#39;show()&#39; again ( or &#39;contentsRestored()&#39; ) to switch to the new frame; so I could still get a flicker, theoretically.","body":"Even so, there is no guarantee the last frame will remain on the current buffer ( or any frame will remain on the other buffers in case of two or more buffering ) by the time I reach &#39;show()&#39; again ( or &#39;contentsRestored()&#39; ) to switch to the new frame; so I could still get a flicker, theoretically."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695680443,"post_id":77175812,"comment_id":136054170,"body_markdown":"*&quot;Even so, there is no guarantee the last frame will remain on the current buffer&quot;* - why do you say that?  Until you &quot;switch&quot; pages, the last frame will remain on the &quot;surface&quot; - think of it like a slide show, until you switch slides, the last slide will always be visible. &quot;If&quot; you&#39;ve had flicker in the past, then I would argue that you&#39;re doing it wrong","body":"<i>&quot;Even so, there is no guarantee the last frame will remain on the current buffer&quot;</i> - why do you say that?  Until you &quot;switch&quot; pages, the last frame will remain on the &quot;surface&quot; - think of it like a slide show, until you switch slides, the last slide will always be visible. &quot;If&quot; you&#39;ve had flicker in the past, then I would argue that you&#39;re doing it wrong"},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1695681066,"post_id":77175812,"comment_id":136054226,"body_markdown":"Ok thanks for the help, I&#39;ll have to think about it more.","body":"Ok thanks for the help, I&#39;ll have to think about it more."}],"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695677435,"creation_date":1695677435,"question_id":77175812,"body_markdown":"The following code will flush/clear the current buffer of the canvas ( a black screen will be displayed for a split second maybe and after that nothing will be displayed - which is not what I expected because I haven&#39;t stated for the buffer to be flushed )\r\n\r\n    public class Main {\r\n        static int width = 200;\r\n        static int height = 200 ;\r\n    \r\n        public static void main(String[] args){\r\n            JFrame jframe = new JFrame();\r\n            Canvas canvas = new Canvas();\r\n            BufferStrategy bs;\r\n            Dimension dim = new Dimension(width,height);\r\n    \r\n            canvas.setPreferredSize(dim);\r\n            jframe.setResizable(false);\r\n            jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            jframe.add(canvas);\r\n            jframe.pack();\r\n            jframe.setLocationRelativeTo(null);\r\n            jframe.setVisible(true);\r\n            canvas.requestFocus();\r\n    \r\n            bs = canvas.getBufferStrategy();\r\n            if(bs == null){\r\n                canvas.createBufferStrategy(3);\r\n                bs = canvas.getBufferStrategy();\r\n            }\r\n            Graphics g = bs.getDrawGraphics();\r\n            g.setColor(Color.black);\r\n            g.fillRect(0,0,canvas.getWidth(),canvas.getHeight());\r\n            g.dispose();\r\n            bs.show();\r\n        }\r\n    }\r\n\r\nHowever, if the line of code `bs.show()` is changed into the following:\r\n\r\n    while(true){\r\n        bs.show();\r\n    }\r\n\r\nThen the screen will be filled with black color as wanted.\r\n\r\nOr even if we write ( I didn&#39;t add try-catch around `Thread.sleep()` for simplicity):\r\n\r\n    while(true){\r\n        Thread.sleep(1000);\r\n        bs.show();\r\n    }\r\n\r\nThen the window is filled with black as wanted.\r\n\r\nMy questions: \r\n1. In the first code, why the window is flushed and the black filling of the window is not seen? does `show()` clear the current buffer? ( even though I haven&#39;t told it so) and if so, then what is the time it takes for the buffer to be cleared? \r\nif `show()` indeed clears the buffer after some time then why in the third piece of code the black filling is seen no matter how much time our thread sleeps?\r\n2. How do I make Bufferstrategy in the first code to continue and `show()` the black filled rectangle without putting it in a loop?\r\n\r\nThanks!","title":"Why Bufferstrategy flushes / won&#39;t show() when outside of rendering loop?","body":"<p>The following code will flush/clear the current buffer of the canvas ( a black screen will be displayed for a split second maybe and after that nothing will be displayed - which is not what I expected because I haven't stated for the buffer to be flushed )</p>\n<pre><code>public class Main {\n    static int width = 200;\n    static int height = 200 ;\n\n    public static void main(String[] args){\n        JFrame jframe = new JFrame();\n        Canvas canvas = new Canvas();\n        BufferStrategy bs;\n        Dimension dim = new Dimension(width,height);\n\n        canvas.setPreferredSize(dim);\n        jframe.setResizable(false);\n        jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jframe.add(canvas);\n        jframe.pack();\n        jframe.setLocationRelativeTo(null);\n        jframe.setVisible(true);\n        canvas.requestFocus();\n\n        bs = canvas.getBufferStrategy();\n        if(bs == null){\n            canvas.createBufferStrategy(3);\n            bs = canvas.getBufferStrategy();\n        }\n        Graphics g = bs.getDrawGraphics();\n        g.setColor(Color.black);\n        g.fillRect(0,0,canvas.getWidth(),canvas.getHeight());\n        g.dispose();\n        bs.show();\n    }\n}\n</code></pre>\n<p>However, if the line of code <code>bs.show()</code> is changed into the following:</p>\n<pre><code>while(true){\n    bs.show();\n}\n</code></pre>\n<p>Then the screen will be filled with black color as wanted.</p>\n<p>Or even if we write ( I didn't add try-catch around <code>Thread.sleep()</code> for simplicity):</p>\n<pre><code>while(true){\n    Thread.sleep(1000);\n    bs.show();\n}\n</code></pre>\n<p>Then the window is filled with black as wanted.</p>\n<p>My questions:</p>\n<ol>\n<li>In the first code, why the window is flushed and the black filling of the window is not seen? does <code>show()</code> clear the current buffer? ( even though I haven't told it so) and if so, then what is the time it takes for the buffer to be cleared?\nif <code>show()</code> indeed clears the buffer after some time then why in the third piece of code the black filling is seen no matter how much time our thread sleeps?</li>\n<li>How do I make Bufferstrategy in the first code to continue and <code>show()</code> the black filled rectangle without putting it in a loop?</li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1693844836,"post_id":77039316,"comment_id":135810626,"body_markdown":"I&#39;d be inclined to POST to an endpoint like: `/teacher/{teacherId}/discipline` - with the body containing the necessary attributes (and the URL providing the relationship back to the teacher) - side note, I also prefer to use singular for URLs (i.e. `/teacher` instead of `/teachers` - dunno if it&#39;s a best practice but I&#39;ve seen it more often than not)","body":"I&#39;d be inclined to POST to an endpoint like: <code>&#47;teacher&#47;{teacherId}&#47;discipline</code> - with the body containing the necessary attributes (and the URL providing the relationship back to the teacher) - side note, I also prefer to use singular for URLs (i.e. <code>&#47;teacher</code> instead of <code>&#47;teachers</code> - dunno if it&#39;s a best practice but I&#39;ve seen it more often than not)"},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":1,"creation_date":1693845434,"post_id":77039316,"comment_id":135810734,"body_markdown":"@blurfus make sense, thanks for your opinion,\nmaybe duplicate your comment in answers section? so others would see that question has some answers","body":"@blurfus make sense, thanks for your opinion, maybe duplicate your comment in answers section? so others would see that question has some answers"}],"answers":[{"tags":[],"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693849058,"creation_date":1693847441,"answer_id":77039564,"question_id":77039316,"body_markdown":"I would do this way:\r\n\r\nIf you want to add an existing discipline to a teacher then create a POST endpoint like &quot;/teachers/{teacherId}/disciplines/{disciplineId}&quot;.\r\n\r\nOtherwise if you want to create and link a discipline to a teacher then create a POST endpoint like &quot;/teachers/{teacherId}/disciplines&quot; with a body containing all the necessary data.","title":"Best way to update entity collection field in API","body":"<p>I would do this way:</p>\n<p>If you want to add an existing discipline to a teacher then create a POST endpoint like &quot;/teachers/{teacherId}/disciplines/{disciplineId}&quot;.</p>\n<p>Otherwise if you want to create and link a discipline to a teacher then create a POST endpoint like &quot;/teachers/{teacherId}/disciplines&quot; with a body containing all the necessary data.</p>\n"},{"tags":[],"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693855894,"creation_date":1693855894,"answer_id":77040194,"question_id":77039316,"body_markdown":"I&#39;d be inclined to `POST` to an endpoint like: `/teacher/{teacherId}/discipline`\r\n\r\nwith the body containing the necessary attributes (and the URL providing the relationship back to the teacher)\r\n\r\nSide note, I also prefer to use singular for URLs (i.e. `/teacher` instead of `/teachers` - dunno if it&#39;s a best practice but I&#39;ve seen it more often than not)","title":"Best way to update entity collection field in API","body":"<p>I'd be inclined to <code>POST</code> to an endpoint like: <code>/teacher/{teacherId}/discipline</code></p>\n<p>with the body containing the necessary attributes (and the URL providing the relationship back to the teacher)</p>\n<p>Side note, I also prefer to use singular for URLs (i.e. <code>/teacher</code> instead of <code>/teachers</code> - dunno if it's a best practice but I've seen it more often than not)</p>\n"}],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695677333,"creation_date":1693844403,"question_id":77039316,"body_markdown":"I have an entity called Teacher in my database, and this entity has a Many-to-Many relationship with the Discipline entity. It also has other relationships. And I am trying to design a CRUD web API for a service that handles teachers, in a RESTful way, of course.\r\n\r\nI faced the problem that a simple implementation of PUT or PATCH method would be insufficient and just weird when it used for updating `disciplines` collection field. I mean, if I simply want to add one discipline, I would, using PATCH, need to pass the full collection, including the new one, and on the back-end side check, which is the new one, and add it. I understand that I can define an endpoint like `.../tearchers/{teacher_id}/addDiscipline` with PATCH method or similar to remove, but as REST says, it is better to avoid verbs in API...\r\n\r\nSo I am looking for advices/best practices on how to design Update operation for entity collection field in API in a RESTful way.","title":"Best way to update entity collection field in API","body":"<p>I have an entity called Teacher in my database, and this entity has a Many-to-Many relationship with the Discipline entity. It also has other relationships. And I am trying to design a CRUD web API for a service that handles teachers, in a RESTful way, of course.</p>\n<p>I faced the problem that a simple implementation of PUT or PATCH method would be insufficient and just weird when it used for updating <code>disciplines</code> collection field. I mean, if I simply want to add one discipline, I would, using PATCH, need to pass the full collection, including the new one, and on the back-end side check, which is the new one, and add it. I understand that I can define an endpoint like <code>.../tearchers/{teacher_id}/addDiscipline</code> with PATCH method or similar to remove, but as REST says, it is better to avoid verbs in API...</p>\n<p>So I am looking for advices/best practices on how to design Update operation for entity collection field in API in a RESTful way.</p>\n"},{"tags":["javascript","java","spring","spring-boot"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1695581454,"post_id":77168381,"comment_id":136040235,"body_markdown":"Could be related to csrf as you don&#39;t pass the token anywhere, try setting logging to trace for `org.springframework.web`, also see similar: https://stackoverflow.com/questions/74421330/crnk-spring-security-only-get-request-work","body":"Could be related to csrf as you don&#39;t pass the token anywhere, try setting logging to trace for <code>org.springframework.web</code>, also see similar: <a href=\"https://stackoverflow.com/questions/74421330/crnk-spring-security-only-get-request-work\" title=\"crnk spring security only get request work\">stackoverflow.com/questions/74421330/&hellip;</a>"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695582440,"post_id":77168381,"comment_id":136040347,"body_markdown":"What is the path of the Controller?","body":"What is the path of the Controller?"}],"answers":[{"tags":[],"owner":{"account_id":7271607,"reputation":383,"user_id":5544456,"accept_rate":60,"display_name":"uhexos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695676461,"creation_date":1695676461,"answer_id":77175749,"question_id":77168381,"body_markdown":"There has been a change in spring security, /error route is no longer exempt from auth. When there is an error spring tries to visit the route and redirects to the login page hence the issue adding below fixed the login error for me. Still had to fix the underlying issue though &#128517;\r\n\r\n    .requestMatchers(&quot;/error&quot;).permitAll()","title":"Springboot endpoint submitted with fetch redirects to login page","body":"<p>There has been a change in spring security, /error route is no longer exempt from auth. When there is an error spring tries to visit the route and redirects to the login page hence the issue adding below fixed the login error for me. Still had to fix the underlying issue though 😅</p>\n<pre><code>.requestMatchers(&quot;/error&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":7271607,"reputation":383,"user_id":5544456,"accept_rate":60,"display_name":"uhexos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695676461,"creation_date":1695579290,"question_id":77168381,"body_markdown":"Trying to submit a form to the /policy-holder page using fetch in js but the endpoint redirect to the login page, users are not expected to login only admins. What might be causing this issue and how can I fix it. I have tried adding permitted all to the security config for the endpoint and no luck. Also basic auth doesn&#39;t work at  the same time as cookie auth, how can I fix this \r\n\r\n      @PostMapping(&quot;/policy-holder&quot;)\r\n        public ResponseEntity&lt;PolicyHolder&gt; createPolicyAndBeneficiaries(@RequestBody @Validated PolicyHolderRequestDto policyHolderDto) {\r\n            return policyHolderService.createPolicyAndBeneficiaries(policyHolderDto);\r\n        }\r\n\r\n\r\nService. \r\n\r\n     @Transactional\r\n        public ResponseEntity&lt;PolicyHolder&gt; createPolicyAndBeneficiaries(PolicyHolderRequestDto policyHolderDto) {\r\n            paymentGateway.verifyAccount(policyHolderDto.accountNumber(), &quot;050&quot;);\r\n    \r\n            PolicyHolder ph =  PolicyHolder.builder()\r\n                    .accountNumber(policyHolderDto.accountNumber())\r\n                    .phoneNumber(policyHolderDto.phoneNumber())\r\n                    .lastName(policyHolderDto.lastName())\r\n                    .firstName(policyHolderDto.firstName())\r\n                    .email(policyHolderDto.email())\r\n                    .build();\r\n    \r\n            PolicyHolder savedPolicyHolder = policyHolderRepository.save(ph);\r\n\r\nSecurity \r\n\r\n    @Bean\r\n    \tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t    http\r\n    \t            .authorizeHttpRequests((authorize) -&gt;\r\n    \t                    authorize.requestMatchers(&quot;/register/**&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;, &quot;/images/**&quot;).permitAll()\r\n                            .requestMatchers(&quot;/&quot;).permitAll()\r\n                            .requestMatchers(&quot;/index&quot;).permitAll()\r\n                            .requestMatchers(&quot;/policy-holder&quot;).permitAll()\r\n    \t                            .requestMatchers(&quot;/users&quot;,&quot;/send&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \t\t\t\t\t\t\t\t.anyRequest().authenticated()\r\n    \r\n    \t            ).formLogin(\r\n    \t                    form -&gt; form\r\n    \t                            .loginPage(&quot;/login&quot;)\r\n    \t                            .loginProcessingUrl(&quot;/login&quot;)\r\n    \t                            .defaultSuccessUrl(&quot;/users&quot;)\r\n    \t                            .permitAll()\r\n    \t            ).logout(\r\n    \t                    logout -&gt; logout\r\n    \t                            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n    \t                            .permitAll()\r\n    \t            );\r\n    \r\n    \t\treturn http.build();\r\n    \t}\r\n\r\njs\r\n\r\n \r\n\r\n    fetch(&#39;/policy-holder&#39;, {\r\n            method: &#39;POST&#39;,\r\n            credentials: &#39;include&#39;,\r\n            headers: {\r\n                &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n            },\r\n            body: JSON.stringify(extractedData),\r\n        })\r\n            .then(response =&gt; response.json())\r\n            .then(data =&gt; {\r\n                console.log(&#39;POST request response:&#39;, data);\r\n                // Handle the response data as needed\r\n            })\r\n            .catch(error =&gt; {\r\n                console.error(&#39;Error making POST request:&#39;, error);\r\n                // Handle the error\r\n            });","title":"Springboot endpoint submitted with fetch redirects to login page","body":"<p>Trying to submit a form to the /policy-holder page using fetch in js but the endpoint redirect to the login page, users are not expected to login only admins. What might be causing this issue and how can I fix it. I have tried adding permitted all to the security config for the endpoint and no luck. Also basic auth doesn't work at  the same time as cookie auth, how can I fix this</p>\n<pre><code>  @PostMapping(&quot;/policy-holder&quot;)\n    public ResponseEntity&lt;PolicyHolder&gt; createPolicyAndBeneficiaries(@RequestBody @Validated PolicyHolderRequestDto policyHolderDto) {\n        return policyHolderService.createPolicyAndBeneficiaries(policyHolderDto);\n    }\n</code></pre>\n<p>Service.</p>\n<pre><code> @Transactional\n    public ResponseEntity&lt;PolicyHolder&gt; createPolicyAndBeneficiaries(PolicyHolderRequestDto policyHolderDto) {\n        paymentGateway.verifyAccount(policyHolderDto.accountNumber(), &quot;050&quot;);\n\n        PolicyHolder ph =  PolicyHolder.builder()\n                .accountNumber(policyHolderDto.accountNumber())\n                .phoneNumber(policyHolderDto.phoneNumber())\n                .lastName(policyHolderDto.lastName())\n                .firstName(policyHolderDto.firstName())\n                .email(policyHolderDto.email())\n                .build();\n\n        PolicyHolder savedPolicyHolder = policyHolderRepository.save(ph);\n</code></pre>\n<p>Security</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt;\n                        authorize.requestMatchers(&quot;/register/**&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;, &quot;/images/**&quot;).permitAll()\n                        .requestMatchers(&quot;/&quot;).permitAll()\n                        .requestMatchers(&quot;/index&quot;).permitAll()\n                        .requestMatchers(&quot;/policy-holder&quot;).permitAll()\n                                .requestMatchers(&quot;/users&quot;,&quot;/send&quot;).hasRole(&quot;ADMIN&quot;)\n                                .anyRequest().authenticated()\n\n                ).formLogin(\n                        form -&gt; form\n                                .loginPage(&quot;/login&quot;)\n                                .loginProcessingUrl(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/users&quot;)\n                                .permitAll()\n                ).logout(\n                        logout -&gt; logout\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                                .permitAll()\n                );\n\n        return http.build();\n    }\n</code></pre>\n<p>js</p>\n<pre><code>fetch('/policy-holder', {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(extractedData),\n    })\n        .then(response =&gt; response.json())\n        .then(data =&gt; {\n            console.log('POST request response:', data);\n            // Handle the response data as needed\n        })\n        .catch(error =&gt; {\n            console.error('Error making POST request:', error);\n            // Handle the error\n        });\n</code></pre>\n"},{"tags":["java","svg","html-to-pdf","openhtmltopdf"],"answers":[{"tags":[],"owner":{"account_id":6177253,"reputation":3087,"user_id":4813777,"display_name":"Taras Melnyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1533554790,"creation_date":1533554790,"answer_id":51706548,"question_id":51595511,"body_markdown":"I&#39;ve fixed the issue after upgrading openhtmltopdf library to the latest version: **0.0.1-RC15** and adding namespace attribute to the `svg` element: `xmlns=&quot;http://www.w3.org/2000/svg&quot;` : \r\n\r\n`&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; ...&gt; ... &lt;/svg&gt;&quot;`\r\n\r\nFor detailed information refer to https://github.com/danfickle/openhtmltopdf/wiki/Plugins:-SVG-Images or https://github.com/danfickle/openhtmltopdf/issues/258#issuecomment-410269938","title":"Svg image is not displayed on PDF file","body":"<p>I've fixed the issue after upgrading openhtmltopdf library to the latest version: <strong>0.0.1-RC15</strong> and adding namespace attribute to the <code>svg</code> element: <code>xmlns=\"http://www.w3.org/2000/svg\"</code> : </p>\n\n<p><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" ...&gt; ... &lt;/svg&gt;\"</code></p>\n\n<p>For detailed information refer to <a href=\"https://github.com/danfickle/openhtmltopdf/wiki/Plugins:-SVG-Images\" rel=\"nofollow noreferrer\">https://github.com/danfickle/openhtmltopdf/wiki/Plugins:-SVG-Images</a> or <a href=\"https://github.com/danfickle/openhtmltopdf/issues/258#issuecomment-410269938\" rel=\"nofollow noreferrer\">https://github.com/danfickle/openhtmltopdf/issues/258#issuecomment-410269938</a></p>\n"},{"tags":[],"owner":{"account_id":27190077,"reputation":1,"user_id":20723988,"display_name":"Kiran Duba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695675506,"creation_date":1695463584,"answer_id":77162530,"question_id":51595511,"body_markdown":"Im using openhtmlpdf-svg-support 1.0.7 version, Im not able to add SVG in PDF. \r\n\r\nMy code is something like this :\r\n\r\n```html\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt; \r\n            &lt;image x=&quot;20&quot; y=&quot;20&quot; width=&quot;300&quot; height=&quot;80&quot; xlink:href=&quot;https://upload.wikimedia.org/wikipedia/commons/1/11/Test-Logo.svg&quot;/&gt;\r\n        &lt;/svg&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n```java\r\nfinal PdfRendererBuilder builder = new PdfRendererBuilder();\r\n\r\nbuilder.withHtmlContent(content, null);\r\nbuilder.useSVGDrawer(new BatikSVGDrawer());\r\n\r\ntry {\r\n    builder.toStream(\r\n            new FileOutputStream(&quot;C:\\\\Codebase\\\\spring\\\\pdf\\\\src\\\\main\\\\java\\\\pdfbox\\\\FinalSVG.pdf&quot;));\r\n    builder.run();\r\n} catch (final Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```` ","title":"Svg image is not displayed on PDF file","body":"<p>Im using openhtmlpdf-svg-support 1.0.7 version, Im not able to add SVG in PDF.</p>\n<p>My code is something like this :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt; \n            &lt;image x=&quot;20&quot; y=&quot;20&quot; width=&quot;300&quot; height=&quot;80&quot; xlink:href=&quot;https://upload.wikimedia.org/wikipedia/commons/1/11/Test-Logo.svg&quot;/&gt;\n        &lt;/svg&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>final PdfRendererBuilder builder = new PdfRendererBuilder();\n\nbuilder.withHtmlContent(content, null);\nbuilder.useSVGDrawer(new BatikSVGDrawer());\n\ntry {\n    builder.toStream(\n            new FileOutputStream(&quot;C:\\\\Codebase\\\\spring\\\\pdf\\\\src\\\\main\\\\java\\\\pdfbox\\\\FinalSVG.pdf&quot;));\n    builder.run();\n} catch (final Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":6177253,"reputation":3087,"user_id":4813777,"display_name":"Taras Melnyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51706548,"answer_count":2,"score":1,"last_activity_date":1695675506,"creation_date":1532958598,"question_id":51595511,"body_markdown":"I&#39;m using 0.0.1-RC14 openhtmltopdf version for generating PDF files from html. I have svg image on my html template. This is a snippet of my code:\r\n\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.defaultTextDirection(BaseRendererBuilder.TextDirection.LTR); \r\n    builder.useSVGDrawer(new BatikSVGDrawer()); builder.useMathMLDrawer(new \r\n    MathMLDrawer()); builder.addDOMMutator(LaTeXDOMMutator.INSTANCE); \r\n    builder.useDefaultPageSize(210, 297, BaseRendererBuilder.PageSizeUnits.MM); \r\n    builder.withHtmlContent(html, &quot;&quot;);\r\n    builder.toStream(os); \r\n    builder.run();\r\n\r\nWhat I&#39;m doing wrong or what I&#39;m missing? ","title":"Svg image is not displayed on PDF file","body":"<p>I'm using 0.0.1-RC14 openhtmltopdf version for generating PDF files from html. I have svg image on my html template. This is a snippet of my code:</p>\n\n<pre><code>PdfRendererBuilder builder = new PdfRendererBuilder();\nbuilder.defaultTextDirection(BaseRendererBuilder.TextDirection.LTR); \nbuilder.useSVGDrawer(new BatikSVGDrawer()); builder.useMathMLDrawer(new \nMathMLDrawer()); builder.addDOMMutator(LaTeXDOMMutator.INSTANCE); \nbuilder.useDefaultPageSize(210, 297, BaseRendererBuilder.PageSizeUnits.MM); \nbuilder.withHtmlContent(html, \"\");\nbuilder.toStream(os); \nbuilder.run();\n</code></pre>\n\n<p>What I'm doing wrong or what I'm missing? </p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1695575352,"post_id":77168101,"comment_id":136039618,"body_markdown":"I think `break` should work, the problem is that your outer loop is wrong.  We&#39;d need complete code to be sure, but you appear to be checking characters, not words, so you also need a loop that handles the words.  Please add some sample input and complete runnable code so we can see what is actually going on.","body":"I think <code>break</code> should work, the problem is that your outer loop is wrong.  We&#39;d need complete code to be sure, but you appear to be checking characters, not words, so you also need a loop that handles the words.  Please add some sample input and complete runnable code so we can see what is actually going on."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695575368,"post_id":77168101,"comment_id":136039621,"body_markdown":"Look into the difference between `if` and `if...else`","body":"Look into the difference between <code>if</code> and <code>if...else</code>"},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":1,"creation_date":1695575451,"post_id":77168101,"comment_id":136039636,"body_markdown":"It would be best to show a minimal reproducible example (see https://stackoverflow.com/help/minimal-reproducible-example). You don&#39;t seem to have anything that suggests you&#39;re dealing with words.  Really, if you had a sequence of words, a `filter` would let you get rid of those you didn&#39;t want.","body":"It would be best to show a minimal reproducible example (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>). You don&#39;t seem to have anything that suggests you&#39;re dealing with words.  Really, if you had a sequence of words, a <code>filter</code> would let you get rid of those you didn&#39;t want."},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695575806,"post_id":77168101,"comment_id":136039669,"body_markdown":"@markspace no problem, I added sample inputs &#128521; this code is quite huge though. I know it looks strange, but I want to test Iterator in this case. I faced this problem a lot so I need to learn how to get out such if/else conditions","body":"@markspace no problem, I added sample inputs 😉 this code is quite huge though. I know it looks strange, but I want to test Iterator in this case. I faced this problem a lot so I need to learn how to get out such if/else conditions"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695575978,"post_id":77168101,"comment_id":136039682,"body_markdown":"Yes. If you&#39;re bailing on the iteration of an entire word, then that approach is inefficient. The character could appear anywhere, including the end","body":"Yes. If you&#39;re bailing on the iteration of an entire word, then that approach is inefficient. The character could appear anywhere, including the end"},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695576184,"post_id":77168101,"comment_id":136039702,"body_markdown":"@g00se yep, I know that it&#39;s kind of inefficient. I&#39;m trying to discover Iterator and its opportunities. I tried simple for/if code. It worked. I think that Iterator may work in this case as well.","body":"@g00se yep, I know that it&#39;s kind of inefficient. I&#39;m trying to discover Iterator and its opportunities. I tried simple for/if code. It worked. I think that Iterator may work in this case as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695577775,"post_id":77168101,"comment_id":136039882,"body_markdown":"Also, you&#39;re going to get errors with doubled (or more) letters","body":"Also, you&#39;re going to get errors with doubled (or more) letters"},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695578087,"post_id":77168101,"comment_id":136039917,"body_markdown":"@g00se In this answer Mohammad added &quot;else if&quot; -  https://stackoverflow.com/a/77168156/22625707. It works, but &quot;continue&quot; is still unnecessary. Actually, never got an error. I used characters &#39;g&#39; and &#39;d&#39; 2 and more times in a word.","body":"@g00se In this answer Mohammad added &quot;else if&quot; -  <a href=\"https://stackoverflow.com/a/77168156/22625707\">stackoverflow.com/a/77168156/22625707</a>. It works, but &quot;continue&quot; is still unnecessary. Actually, never got an error. I used characters &#39;g&#39; and &#39;d&#39; 2 and more times in a word."},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695578469,"post_id":77168101,"comment_id":136039951,"body_markdown":"@g00se oh, I just tried to use word &quot;dgdter&quot; and it was doubled by adding in an array (hg.add(k1)). So, yep, it still ain&#39;t work correctly.","body":"@g00se oh, I just tried to use word &quot;dgdter&quot; and it was doubled by adding in an array (hg.add(k1)). So, yep, it still ain&#39;t work correctly."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1695579298,"post_id":77168101,"comment_id":136040043,"body_markdown":"I don&#39;t understand this question in the slightest. what does &quot;get out of the condition&quot; mean? do you have an example of the result you&#39;re trying to achieve, with a given input?","body":"I don&#39;t understand this question in the slightest. what does &quot;get out of the condition&quot; mean? do you have an example of the result you&#39;re trying to achieve, with a given input?"},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695581173,"post_id":77168101,"comment_id":136040214,"body_markdown":"@user85421 I mean that we check an array of words. If a word contains &#39;g&#39; it should be doubled. If a word contains &#39;d&#39; it should be deleted. If a word contains &#39;g&#39; and &#39;d&#39; it should be ignored. In my case any word containing &#39;d&#39; or &#39;g&#39; 2 or more times will be doubled or deleted or added. I guess the problem is the third &quot;if&quot;, where we search both &#39;d&#39; and &#39;g&#39; in a word.","body":"@user85421 I mean that we check an array of words. If a word contains &#39;g&#39; it should be doubled. If a word contains &#39;d&#39; it should be deleted. If a word contains &#39;g&#39; and &#39;d&#39; it should be ignored. In my case any word containing &#39;d&#39; or &#39;g&#39; 2 or more times will be doubled or deleted or added. I guess the problem is the third &quot;if&quot;, where we search both &#39;d&#39; and &#39;g&#39; in a word."},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695581239,"post_id":77168101,"comment_id":136040218,"body_markdown":"@njzk2 I answered user85421 in more detail about the question.","body":"@njzk2 I answered user85421 in more detail about the question."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1695584738,"post_id":77168101,"comment_id":136040573,"body_markdown":"@SecurityAlert this should be edited in the question directly, please","body":"@SecurityAlert this should be edited in the question directly, please"},{"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"score":0,"creation_date":1695590850,"post_id":77168101,"comment_id":136041176,"body_markdown":"@njzk2 updated &#129309;","body":"@njzk2 updated 🤝"}],"answers":[{"tags":[],"owner":{"account_id":16920878,"reputation":73,"user_id":12237736,"display_name":"Mohammad Abdorrahmani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695675499,"creation_date":1695575890,"answer_id":77168156,"question_id":77168101,"body_markdown":"You should use `else if`, then you can apply the `continue` command:\r\n```\r\nIterator&lt;Character&gt; sdf = d.iterator();\r\nwhile (sdf.hasNext()) {\r\n    Character r = sdf.next();\r\n    if (r.equals(&#39;л&#39;)) {\r\n        hg.add(k1);\r\n    } else if (r.equals(&#39;р&#39;)) {\r\n        hg.remove(k1);\r\n    } else if (r.equals(&#39;g&#39;) || r.equals(&#39;d&#39;)) {\r\n       continue;\r\n    }\r\n   \r\n}\r\n\r\n```\r\n\r\n","title":"In what ways do we get out of if/else condition? java","body":"<p>You should use <code>else if</code>, then you can apply the <code>continue</code> command:</p>\n<pre><code>Iterator&lt;Character&gt; sdf = d.iterator();\nwhile (sdf.hasNext()) {\n    Character r = sdf.next();\n    if (r.equals('л')) {\n        hg.add(k1);\n    } else if (r.equals('р')) {\n        hg.remove(k1);\n    } else if (r.equals('g') || r.equals('d')) {\n       continue;\n    }\n   \n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695579150,"creation_date":1695578442,"answer_id":77168321,"question_id":77168101,"body_markdown":"&gt; _&quot;... The main idea is to ignore words containing letters &#39;g&#39; and &#39;d&#39;. ...&quot;_\r\n\r\nQualify _r_ by asserting it is not _g_ or _d_, then delegate its value.\r\n\r\n```java\r\nif (!r.equals(&#39;g&#39;) &amp;&amp; !r.equals(&#39;d&#39;)) {\r\n    if (r.equals(&#39;л&#39;)){\r\n        hg.add(k1);\r\n    }\r\n    if (r.equals(&#39;р&#39;)){\r\n        hg.remove(k1);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s typically a good idea to use a _switch statement_, when you have similar _if-statements_.\r\n\r\nFor example.\r\n\r\n```java\r\nif (!r.equals(&#39;g&#39;) &amp;&amp; !r.equals(&#39;d&#39;)) {\r\n    switch (r) {\r\n        case &#39;л&#39; -&gt; hg.add(k1);\r\n        case &#39;р&#39; -&gt; hg.remove(k1);\r\n    }\r\n}\r\n```\r\n\r\nAlternately, you could add a _case_ for both _g_ and _d_, with an empty _code-block_.\r\n\r\n```java\r\nswitch (r) {\r\n    case &#39;g&#39;, &#39;d&#39; -&gt; { }\r\n    case &#39;л&#39; -&gt; hg.add(k1);\r\n    case &#39;р&#39; -&gt; hg.remove(k1);\r\n}\r\n```\r\n\r\nThis topic is referred to as _&quot;control-flow&quot;_.\\\r\nHere are some relevant links.\r\n\r\n- _[Wikipedia &amp;ndash; Control flow](https://en.wikipedia.org/wiki/Control_flow)_\r\n- _[Control Flow Statements (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html)_\r\n\r\nAs a recommendation, the _for-loop_ on _k1_ can be simplified to a _stream_.\r\n\r\n```java\r\nd = k1.chars().mapToObj(x -&gt; (char) x).toList()\r\n```\r\n\r\nOr, just use a _char[]_ rather than a _String_.\r\n\r\n```java\r\nchar[] k1 = hg.get(0).toCharArray();\r\nfor (char r : k1) {\r\n    switch (r) {\r\n        case &#39;g&#39;, &#39;d&#39; -&gt; { }\r\n        case &#39;л&#39; -&gt; hg.add(new String(k1));\r\n        case &#39;р&#39; -&gt; hg.remove(new String(k1));\r\n    }\r\n}\r\n```","title":"In what ways do we get out of if/else condition? java","body":"<blockquote>\n<p><em>&quot;... The main idea is to ignore words containing letters 'g' and 'd'. ...&quot;</em></p>\n</blockquote>\n<p>Qualify <em>r</em> by asserting it is not <em>g</em> or <em>d</em>, then delegate its value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!r.equals('g') &amp;&amp; !r.equals('d')) {\n    if (r.equals('л')){\n        hg.add(k1);\n    }\n    if (r.equals('р')){\n        hg.remove(k1);\n    }\n}\n</code></pre>\n<p>It's typically a good idea to use a <em>switch statement</em>, when you have similar <em>if-statements</em>.</p>\n<p>For example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!r.equals('g') &amp;&amp; !r.equals('d')) {\n    switch (r) {\n        case 'л' -&gt; hg.add(k1);\n        case 'р' -&gt; hg.remove(k1);\n    }\n}\n</code></pre>\n<p>Alternately, you could add a <em>case</em> for both <em>g</em> and <em>d</em>, with an empty <em>code-block</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (r) {\n    case 'g', 'd' -&gt; { }\n    case 'л' -&gt; hg.add(k1);\n    case 'р' -&gt; hg.remove(k1);\n}\n</code></pre>\n<p>This topic is referred to as <em>&quot;control-flow&quot;</em>.<br />\nHere are some relevant links.</p>\n<ul>\n<li><em><a href=\"https://en.wikipedia.org/wiki/Control_flow\" rel=\"nofollow noreferrer\">Wikipedia – Control flow</a></em></li>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html\" rel=\"nofollow noreferrer\">Control Flow Statements (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n</ul>\n<p>As a recommendation, the <em>for-loop</em> on <em>k1</em> can be simplified to a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>d = k1.chars().mapToObj(x -&gt; (char) x).toList()\n</code></pre>\n<p>Or, just use a <em>char[]</em> rather than a <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] k1 = hg.get(0).toCharArray();\nfor (char r : k1) {\n    switch (r) {\n        case 'g', 'd' -&gt; { }\n        case 'л' -&gt; hg.add(new String(k1));\n        case 'р' -&gt; hg.remove(new String(k1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695579329,"creation_date":1695579329,"answer_id":77168383,"question_id":77168101,"body_markdown":"No need to use 2nd loop at all. You could use `String.indexOf()` instead.\r\n\r\nUsing functional programming\r\n```java\r\npublic static List&lt;String&gt; filter(List&lt;String&gt; words) {\r\n    return words.stream()\r\n                .filter(word -&gt; {\r\n                    word = word.toLowerCase();\r\n                    return !(word.indexOf(&#39;g&#39;) &gt;= 0 &amp;&amp; word.indexOf(&#39;d&#39;) &gt;= 0);\r\n                })\r\n                .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nNot using functional programming\r\n```java\r\npublic static List&lt;String&gt; filter(List&lt;String&gt; words) {\r\n    List&lt;String&gt; res = new ArrayList&lt;&gt;(words.size());\r\n\r\n    for (String word : words) {\r\n        word = word.toLowerCase();\r\n        \r\n        if (!(word.indexOf(&#39;g&#39;) &gt;= 0 &amp;&amp; word.indexOf(&#39;d&#39;) &gt;= 0))\r\n            res.add(word);\r\n    }\r\n\r\n    return res;\r\n}\r\n```","title":"In what ways do we get out of if/else condition? java","body":"<p>No need to use 2nd loop at all. You could use <code>String.indexOf()</code> instead.</p>\n<p>Using functional programming</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; filter(List&lt;String&gt; words) {\n    return words.stream()\n                .filter(word -&gt; {\n                    word = word.toLowerCase();\n                    return !(word.indexOf('g') &gt;= 0 &amp;&amp; word.indexOf('d') &gt;= 0);\n                })\n                .collect(Collectors.toList());\n}\n</code></pre>\n<p>Not using functional programming</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; filter(List&lt;String&gt; words) {\n    List&lt;String&gt; res = new ArrayList&lt;&gt;(words.size());\n\n    for (String word : words) {\n        word = word.toLowerCase();\n        \n        if (!(word.indexOf('g') &gt;= 0 &amp;&amp; word.indexOf('d') &gt;= 0))\n            res.add(word);\n    }\n\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":29523501,"reputation":3,"user_id":22625707,"display_name":"SecurityAlert"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1695630335,"accepted_answer_id":77168321,"answer_count":3,"score":-1,"last_activity_date":1695675499,"creation_date":1695575001,"question_id":77168101,"body_markdown":"I did this code:\r\n\r\n```\r\nprivate static void fix (List&lt;String&gt; hg){\r\n\r\n        String k1 = hg.get(0);\r\n        String k2 = hg.get(1);\r\n        String k3 = hg.get(2);\r\n        String k4 = hg.get(3);\r\n        String k5 = hg.get(4);\r\n\r\n        List &lt;Character&gt; d = new ArrayList&lt;&gt;();\r\n\r\n            for (int j = 0; j &lt; k1.length(); j++) {\r\n                d.add(j, k1.charAt(j));\r\n            }\r\n\r\nIterator &lt;Character&gt; sdf = d.iterator();\r\nwhile (sdf.hasNext()){\r\n  Character r = sdf.next();\r\n  if (r.equals(&#39;g&#39;)){\r\n    hg.add(k1);\r\n  }\r\n  if (r.equals(&#39;d&#39;)){\r\n    hg.remove(k1);\r\n  }\r\n  if (r.equals(&#39;g&#39;) || r.equals(&#39;d&#39;)){ }// how to get out of this &quot;if&quot; beyond what I did?\r\n\r\n}\r\n```\r\n\r\nupd: we check an array of words. If a word contains &#39;g&#39; it should be doubled. If a word contains &#39;d&#39; it should be deleted. If a word contains &#39;g&#39; and &#39;d&#39; it should be ignored. In my case any word containing &#39;d&#39; or &#39;g&#39; 2 or more times will be doubled or deleted or added. I guess the problem of this code is the third &quot;if&quot;, where we search both &#39;d&#39; and &#39;g&#39; in a word.\r\n\r\nThe main idea is to ignore words containing letters &#39;g&#39; and &#39;d&#39;. \r\n\r\nI know that we can use such methods like:\r\n\r\n1) `if (r.equals(&#39;g&#39;) || r.equals(&#39;d&#39;)){ continue; }`\r\n2) `if (r.equals(&#39;g&#39;) || r.equals(&#39;d&#39;)){ break; }`\r\n3) `if (r.equals(&#39;g&#39;) || r.equals(&#39;d&#39;)){ System.out.println(); }`\r\n\r\n3 of them are useless, cause idea tells that operator `continue` is unnecessary as the last statement in a loop. Operator `break` is not appropriate, cause it literally breaks the code and it won&#39;t work correctly. \r\n`System.out.println()` fits well, but it makes a huge space in the console.","title":"In what ways do we get out of if/else condition? java","body":"<p>I did this code:</p>\n<pre><code>private static void fix (List&lt;String&gt; hg){\n\n        String k1 = hg.get(0);\n        String k2 = hg.get(1);\n        String k3 = hg.get(2);\n        String k4 = hg.get(3);\n        String k5 = hg.get(4);\n\n        List &lt;Character&gt; d = new ArrayList&lt;&gt;();\n\n            for (int j = 0; j &lt; k1.length(); j++) {\n                d.add(j, k1.charAt(j));\n            }\n\nIterator &lt;Character&gt; sdf = d.iterator();\nwhile (sdf.hasNext()){\n  Character r = sdf.next();\n  if (r.equals('g')){\n    hg.add(k1);\n  }\n  if (r.equals('d')){\n    hg.remove(k1);\n  }\n  if (r.equals('g') || r.equals('d')){ }// how to get out of this &quot;if&quot; beyond what I did?\n\n}\n</code></pre>\n<p>upd: we check an array of words. If a word contains 'g' it should be doubled. If a word contains 'd' it should be deleted. If a word contains 'g' and 'd' it should be ignored. In my case any word containing 'd' or 'g' 2 or more times will be doubled or deleted or added. I guess the problem of this code is the third &quot;if&quot;, where we search both 'd' and 'g' in a word.</p>\n<p>The main idea is to ignore words containing letters 'g' and 'd'.</p>\n<p>I know that we can use such methods like:</p>\n<ol>\n<li><code>if (r.equals('g') || r.equals('d')){ continue; }</code></li>\n<li><code>if (r.equals('g') || r.equals('d')){ break; }</code></li>\n<li><code>if (r.equals('g') || r.equals('d')){ System.out.println(); }</code></li>\n</ol>\n<p>3 of them are useless, cause idea tells that operator <code>continue</code> is unnecessary as the last statement in a loop. Operator <code>break</code> is not appropriate, cause it literally breaks the code and it won't work correctly.\n<code>System.out.println()</code> fits well, but it makes a huge space in the console.</p>\n"},{"tags":["java","rabbitmq","spring-integration","amqp","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574954483,"creation_date":1574954483,"answer_id":59091957,"question_id":59089800,"body_markdown":"The channel `sendTimeout` only applies if the channel itself can block, e.g. a `QueueChannel` with a bounded queue that is currently full; the caller will block until either space becomes available in the queue, or the timeout occurs.\r\n\r\nIn this case, the block is downstream of the channel so the sendTimeout is irrelevant (in any case, it&#39;s a DirectChannel which can&#39;t block anyway, the subscribed handler is called directly on the calling thread).\r\n\r\nThe actual blocking you are seeing is most likely in the `socket.write()` in the rabbitmq client, which does not have a timeout and is not interruptible; there is nothing that can be done by the calling thread to &quot;time out&quot; the write.\r\n\r\nThe only possible solution I am aware of is to force close the rabbit connection by calling `resetConnection()` on the connection factory.","title":"How to specify timeout for sending message to RabbitMQ using Spring Cloud Stream?","body":"<p>The channel <code>sendTimeout</code> only applies if the channel itself can block, e.g. a <code>QueueChannel</code> with a bounded queue that is currently full; the caller will block until either space becomes available in the queue, or the timeout occurs.</p>\n\n<p>In this case, the block is downstream of the channel so the sendTimeout is irrelevant (in any case, it's a DirectChannel which can't block anyway, the subscribed handler is called directly on the calling thread).</p>\n\n<p>The actual blocking you are seeing is most likely in the <code>socket.write()</code> in the rabbitmq client, which does not have a timeout and is not interruptible; there is nothing that can be done by the calling thread to \"time out\" the write.</p>\n\n<p>The only possible solution I am aware of is to force close the rabbit connection by calling <code>resetConnection()</code> on the connection factory.</p>\n"},{"tags":[],"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695674866,"creation_date":1695674866,"answer_id":77175619,"question_id":59089800,"body_markdown":"One way to protect the code sending the message to RabbitMQ from getting blocked is to wrap the code inside a thread and give it an execution timeout. E.g. the [`ExecutorService`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-long-java.util.concurrent.TimeUnit-) class provides a way to specify timeout on invoking the callables","title":"How to specify timeout for sending message to RabbitMQ using Spring Cloud Stream?","body":"<p>One way to protect the code sending the message to RabbitMQ from getting blocked is to wrap the code inside a thread and give it an execution timeout. E.g. the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> class provides a way to specify timeout on invoking the callables</p>\n"}],"owner":{"account_id":10353383,"reputation":21,"user_id":7636166,"display_name":"AlOb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1564,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695674866,"creation_date":1574947100,"question_id":59089800,"body_markdown":"We had an network issue in the middle of sending a message and this was causing all the threads to be in Blocked state. We&#39;re using `org.springframework.cloud:spring-cloud-stream:2.0.1.RELEASE`  and `org.springframework:spring-messaging:5.0.8.RELEASE` for sending message to RabbitMQ broker. Binding interface:\r\n```java\r\ninterface MessagingSource {\r\n    @Output(&quot;bindingTargetName&quot;)\r\n    fun messageChannelOutput(): MessageChannel\r\n}\r\n```\r\nUsage:\r\n```java\r\n val isSent = messageSource.messageChannelOutput().send(message)\r\n```\r\n\r\n **MessageChannel#send(Message&lt;?&gt;, long)** method also has the timeout in milliseconds as the second parameter, but it further ignored in **org.springframework.integration.channel.AbstractSubscribableChannel#doSend** method:\r\n```java\r\n@Override\r\nprotected boolean doSend(Message&lt;?&gt; message, long timeout) { // timeout is ignored in this method\r\n\ttry {\r\n\t\treturn getRequiredDispatcher().dispatch(message);\r\n\t}\r\n\tcatch (MessageDispatchingException e) {\r\n\t\tString description = e.getMessage() + &quot; for channel &#39;&quot; + this.getFullChannelName() + &quot;&#39;.&quot;;\r\n\t\tthrow new MessageDeliveryException(message, description, e);\r\n\t}\r\n}\r\n```\r\nCan you explain why the timeout parameter is ignored and how i can configure it to avoid long blocking state?\r\n \r\nThanks!","title":"How to specify timeout for sending message to RabbitMQ using Spring Cloud Stream?","body":"<p>We had an network issue in the middle of sending a message and this was causing all the threads to be in Blocked state. We're using <code>org.springframework.cloud:spring-cloud-stream:2.0.1.RELEASE</code>  and <code>org.springframework:spring-messaging:5.0.8.RELEASE</code> for sending message to RabbitMQ broker. Binding interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface MessagingSource {\n    @Output(\"bindingTargetName\")\n    fun messageChannelOutput(): MessageChannel\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> val isSent = messageSource.messageChannelOutput().send(message)\n</code></pre>\n\n<p><strong>MessageChannel#send(Message, long)</strong> method also has the timeout in milliseconds as the second parameter, but it further ignored in <strong>org.springframework.integration.channel.AbstractSubscribableChannel#doSend</strong> method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected boolean doSend(Message&lt;?&gt; message, long timeout) { // timeout is ignored in this method\n    try {\n        return getRequiredDispatcher().dispatch(message);\n    }\n    catch (MessageDispatchingException e) {\n        String description = e.getMessage() + \" for channel '\" + this.getFullChannelName() + \"'.\";\n        throw new MessageDeliveryException(message, description, e);\n    }\n}\n</code></pre>\n\n<p>Can you explain why the timeout parameter is ignored and how i can configure it to avoid long blocking state?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","cassandra","spring-webflux","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695674312,"creation_date":1695652108,"answer_id":77173529,"question_id":77167886,"body_markdown":"## Paging and Reactive\r\n\r\nSpring Boot Data Cassandra does not provide any paging feature in reactive.\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/package-summary.html\r\n\r\n- In synchronous you are waiting to load a page and get back as a result set.\r\n- In Asynchronous you have a callback per page when the page is loaded.\r\n\r\nIn both cases you triggerload and next page fetching when you exhaust the result set.\r\n\r\nIn Reactive you get a callback/event for every single record as a stream/flux of records, as such there is no start nor end, and the notion of page has no sense.\r\n\r\n## Possible Solution\r\n\r\nNow to get a subset of items in a table let&#39;s say items from 15 to 25 in 100 elements there is a trick call `limit()` but you will have to work with the `Flux&lt;&gt;`. You may have to access `CassandraOperations`\r\n\r\n\r\n```java\r\nint offset=15;\r\nint pageSize=10;\r\nReactiveResultSet rs = cqlSession.executeReactive(bound);\r\nFlux&lt;ReactiveRow&gt; myPage = Flux.from(rs).skip(offset).take(pageSize);\r\n```\r\n\r\n## More advice\r\n\r\n- Never ever, ever, do a `findAll()` in Cassandra table. Cassandra is meant to store billions of records. You are doing a full scan of the table (VERY SLOW) and you will probably never be able to process that in memory.\r\n\r\n- In Cassandra, the design of the table is based on the query/request pattern and there is always a where clause. The where clause will determine how you partitioned your table. \r\n","title":"Is there any way to use reactive cassandra repository with Pageable in Spring Boot?","body":"<h2>Paging and Reactive</h2>\n<p>Spring Boot Data Cassandra does not provide any paging feature in reactive.\n<a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/package-summary.html</a></p>\n<ul>\n<li>In synchronous you are waiting to load a page and get back as a result set.</li>\n<li>In Asynchronous you have a callback per page when the page is loaded.</li>\n</ul>\n<p>In both cases you triggerload and next page fetching when you exhaust the result set.</p>\n<p>In Reactive you get a callback/event for every single record as a stream/flux of records, as such there is no start nor end, and the notion of page has no sense.</p>\n<h2>Possible Solution</h2>\n<p>Now to get a subset of items in a table let's say items from 15 to 25 in 100 elements there is a trick call <code>limit()</code> but you will have to work with the <code>Flux&lt;&gt;</code>. You may have to access <code>CassandraOperations</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>int offset=15;\nint pageSize=10;\nReactiveResultSet rs = cqlSession.executeReactive(bound);\nFlux&lt;ReactiveRow&gt; myPage = Flux.from(rs).skip(offset).take(pageSize);\n</code></pre>\n<h2>More advice</h2>\n<ul>\n<li><p>Never ever, ever, do a <code>findAll()</code> in Cassandra table. Cassandra is meant to store billions of records. You are doing a full scan of the table (VERY SLOW) and you will probably never be able to process that in memory.</p>\n</li>\n<li><p>In Cassandra, the design of the table is based on the query/request pattern and there is always a where clause. The where clause will determine how you partitioned your table.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1786038,"reputation":146,"user_id":1627493,"accept_rate":60,"display_name":"karakale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695674312,"creation_date":1695571435,"question_id":77167886,"body_markdown":"I am trying to use `ReactiveCassandraRepository` interface for my repository. When I tried to add `findAll` method like this:\r\n\r\n```\r\npublic interface MatchRepository extends ReactiveCassandraRepository&lt;Match, UUID&gt; {\r\n    Flux&lt;Match&gt; findAll(Pageable pageable);\r\n}\r\n```\r\n\r\nI got this error message:\r\n\r\n```ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: \r\n\r\nError creating bean with name &#39;matchRepository&#39; defined in MatchRepository defined in \r\n@EnableReactiveCassandraRepositories declared on CassandraReactiveRepositoriesRegistrar.EnableReactiveCassandraRepositoriesConfiguration: \r\n\r\nCould not create query for public abstract reactor.core.publisher.Flux \r\nMatchRepository.findAll(org.springframework.data.domain.Pageable); \r\nReason: No property &#39;findAll&#39; found for type &#39;Match&#39;\r\n```\r\n\r\nHow can I implement reactive cassandra repository with Pageable in Spring Boot? Is there any documentation for this?\r\n","title":"Is there any way to use reactive cassandra repository with Pageable in Spring Boot?","body":"<p>I am trying to use <code>ReactiveCassandraRepository</code> interface for my repository. When I tried to add <code>findAll</code> method like this:</p>\n<pre><code>public interface MatchRepository extends ReactiveCassandraRepository&lt;Match, UUID&gt; {\n    Flux&lt;Match&gt; findAll(Pageable pageable);\n}\n</code></pre>\n<p>I got this error message:</p>\n<pre><code>\nError creating bean with name 'matchRepository' defined in MatchRepository defined in \n@EnableReactiveCassandraRepositories declared on CassandraReactiveRepositoriesRegistrar.EnableReactiveCassandraRepositoriesConfiguration: \n\nCould not create query for public abstract reactor.core.publisher.Flux \nMatchRepository.findAll(org.springframework.data.domain.Pageable); \nReason: No property 'findAll' found for type 'Match'\n</code></pre>\n<p>How can I implement reactive cassandra repository with Pageable in Spring Boot? Is there any documentation for this?</p>\n"},{"tags":["java","tomcat","tomcat7","nio"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1695218161,"post_id":77142460,"comment_id":135995116,"body_markdown":"Tomcat 7 has [long reached its end of life](https://tomcat.apache.org/tomcat-70-eol.html), 2.5 years ago at the time of you asking this question. Why bother about its performance?","body":"Tomcat 7 has <a href=\"https://tomcat.apache.org/tomcat-70-eol.html\" rel=\"nofollow noreferrer\">long reached its end of life</a>, 2.5 years ago at the time of you asking this question. Why bother about its performance?"},{"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"score":0,"creation_date":1695221594,"post_id":77142460,"comment_id":135995992,"body_markdown":"Unfortunately we have hundreds of application still running on Tomcat 7 which came shipped with RHEL. We cannot migrate all of these applications right away due to the challenge that RedHat has stopped shipping packaged Tomcat as part of their RHEL support so when we do migrate we need to migrate to JBOSS that now come shipped with newer RHEL (along with RedHat support). At this time we are stuck with Tomcat 7 for sometime.","body":"Unfortunately we have hundreds of application still running on Tomcat 7 which came shipped with RHEL. We cannot migrate all of these applications right away due to the challenge that RedHat has stopped shipping packaged Tomcat as part of their RHEL support so when we do migrate we need to migrate to JBOSS that now come shipped with newer RHEL (along with RedHat support). At this time we are stuck with Tomcat 7 for sometime."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1695222092,"post_id":77142460,"comment_id":135996127,"body_markdown":"I don&#39;t understand... you need to go with something supported, thus you&#39;re stuck with something outdated and unsupported? I&#39;d still not invest a lot into outdated infrastructure and rather invest the time more wisely.","body":"I don&#39;t understand... you need to go with something supported, thus you&#39;re stuck with something outdated and unsupported? I&#39;d still not invest a lot into outdated infrastructure and rather invest the time more wisely."},{"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"score":0,"creation_date":1695632120,"post_id":77142460,"comment_id":136045273,"body_markdown":"I agree, the best approach is to go with something supported which requires purchasing new RHEL OS, migrate hundreds of applications that we have to newer OS and hopefully newer Java version. But this is a mammoth effort and  is going to take atleast an year or two. In the interest of time I would like to improve what we have right now and In order to improve I would like to find out how to measure the advantage of NIO connector vs BIO connector.","body":"I agree, the best approach is to go with something supported which requires purchasing new RHEL OS, migrate hundreds of applications that we have to newer OS and hopefully newer Java version. But this is a mammoth effort and  is going to take atleast an year or two. In the interest of time I would like to improve what we have right now and In order to improve I would like to find out how to measure the advantage of NIO connector vs BIO connector."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695642539,"post_id":77142460,"comment_id":136047329,"body_markdown":"Why don&#39;t you test the tomcat 7 vs tomcat 8 performance? It will give you a better idea.","body":"Why don&#39;t you test the tomcat 7 vs tomcat 8 performance? It will give you a better idea."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695674091,"creation_date":1695674091,"answer_id":77175567,"question_id":77142460,"body_markdown":"I don&#39;t believe it is possible to give a correct answer the way the question is currently written. Probably doing stress tests NIO will behave better before breaking than BIO. But as always tests need to be done to confirm. \r\n\r\nMy recommendation would be to not try to test NIO vs BIO in an abstract use case. Test your real life applications with both in real life conditions. That will give a better idea of which configuration is better for your each type of your existing applications.","title":"Test performance between Tomcat BIO and NIO connectors","body":"<p>I don't believe it is possible to give a correct answer the way the question is currently written. Probably doing stress tests NIO will behave better before breaking than BIO. But as always tests need to be done to confirm.</p>\n<p>My recommendation would be to not try to test NIO vs BIO in an abstract use case. Test your real life applications with both in real life conditions. That will give a better idea of which configuration is better for your each type of your existing applications.</p>\n"}],"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695674091,"creation_date":1695213014,"question_id":77142460,"body_markdown":"I would like to observe the performance improvement of using NIO connector vs BIO connector on Apache Tomcat. The differences between BIO and NIO is, (quoting from [DZONE][1]), \r\n\r\n&gt; The BIO connector (blocking I/O) is blocking – it uses a thread pool\r\n&gt; where each thread receives a request, handles it, responds, and is\r\n&gt; returned to the pool. \r\n&gt; \r\n&gt; The NIO connector (non-blocking I/O) uses the java NIO library and\r\n&gt; multiplexes between requests. It has two thread pools – one holds the\r\n&gt; the poller threads, which handle all incoming requests and push these\r\n&gt; requests to be handled by worker threads, held in another pool.\r\n\r\nI learnt from documentation that Apache Tomcat 7 defaults to BIO but is configurable to be used with NIO conenctor. Starting from Apache Tomcat 8.5 BIO connector is [removed completely][2] and NIO is the default considering that NIO is non blocking. \r\n\r\nInorder to visualize/compare the performance of BIO and NIO connector I have setup a test application that has REST API that serves response after waiting a random period of time between 1-30 seconds, and this test application is deployed on Apache Tomcat 7. I have set maxThread=300, minSpareThreads=10 under &#39;Executor&#39; section of server.xml file. \r\n\r\nI varied the tests between setting connector protocol between BIO and NIO (in settings.xml) and ran the test with a load of 5000 requests dispersed over 60 second window via Jmeter and observed the thread and cpu consumption on Jconsole, I varied the test duration with few other parameters and I expected to see NIO to consume less number of threads compared to BIO connector but I end up getting similiar results for either of the cases (NIO or BIO). \r\n\r\nI would like to figure out the specific testcase scenario that I need to follow such that I get to observe that NIO performs better than BIO connector on Apache Tomcat 7. Much appreciated if anyone can point me in the right direction. \r\n\r\n\r\n  [1]: https://dzone.com/articles/tomcats-default-connectors\r\n  [2]: https://tomcat.apache.org/migration-85.html#BIO_connector_removed","title":"Test performance between Tomcat BIO and NIO connectors","body":"<p>I would like to observe the performance improvement of using NIO connector vs BIO connector on Apache Tomcat. The differences between BIO and NIO is, (quoting from <a href=\"https://dzone.com/articles/tomcats-default-connectors\" rel=\"nofollow noreferrer\">DZONE</a>),</p>\n<blockquote>\n<p>The BIO connector (blocking I/O) is blocking – it uses a thread pool\nwhere each thread receives a request, handles it, responds, and is\nreturned to the pool.</p>\n<p>The NIO connector (non-blocking I/O) uses the java NIO library and\nmultiplexes between requests. It has two thread pools – one holds the\nthe poller threads, which handle all incoming requests and push these\nrequests to be handled by worker threads, held in another pool.</p>\n</blockquote>\n<p>I learnt from documentation that Apache Tomcat 7 defaults to BIO but is configurable to be used with NIO conenctor. Starting from Apache Tomcat 8.5 BIO connector is <a href=\"https://tomcat.apache.org/migration-85.html#BIO_connector_removed\" rel=\"nofollow noreferrer\">removed completely</a> and NIO is the default considering that NIO is non blocking.</p>\n<p>Inorder to visualize/compare the performance of BIO and NIO connector I have setup a test application that has REST API that serves response after waiting a random period of time between 1-30 seconds, and this test application is deployed on Apache Tomcat 7. I have set maxThread=300, minSpareThreads=10 under 'Executor' section of server.xml file.</p>\n<p>I varied the tests between setting connector protocol between BIO and NIO (in settings.xml) and ran the test with a load of 5000 requests dispersed over 60 second window via Jmeter and observed the thread and cpu consumption on Jconsole, I varied the test duration with few other parameters and I expected to see NIO to consume less number of threads compared to BIO connector but I end up getting similiar results for either of the cases (NIO or BIO).</p>\n<p>I would like to figure out the specific testcase scenario that I need to follow such that I get to observe that NIO performs better than BIO connector on Apache Tomcat 7. Much appreciated if anyone can point me in the right direction.</p>\n"},{"tags":["java","boolean","talend"],"comments":[{"owner":{"account_id":6286943,"reputation":121,"user_id":12678986,"display_name":"OGmaps"},"score":1,"creation_date":1663734640,"post_id":73787463,"comment_id":130306516,"body_markdown":"Comparing a constant string to each row should be done like: &quot;constant&quot;.equals(rowname.columnname). However, I suspect 1 of 2 things is happening here:1) the row feeding your tMap is not actually called &#39;inputrow&#39; or 2) you are getting null pointer from a different call somewhere else in the tMap.","body":"Comparing a constant string to each row should be done like: &quot;constant&quot;.equals(rowname.columnname). However, I suspect 1 of 2 things is happening here:1) the row feeding your tMap is not actually called &#39;inputrow&#39; or 2) you are getting null pointer from a different call somewhere else in the tMap."},{"owner":{"account_id":6286943,"reputation":121,"user_id":12678986,"display_name":"OGmaps"},"score":0,"creation_date":1663734819,"post_id":73787463,"comment_id":130306547,"body_markdown":"Also, it appears your input values have varied case - you can use equalsIgnoreCase instead of equals for case insensitive comparison.","body":"Also, it appears your input values have varied case - you can use equalsIgnoreCase instead of equals for case insensitive comparison."},{"owner":{"account_id":21585160,"reputation":189,"user_id":15915737,"display_name":"user15915737"},"score":0,"creation_date":1663751967,"post_id":73787463,"comment_id":130311149,"body_markdown":"@OGmaps you were right, the problem was comming from an other row.","body":"@OGmaps you were right, the problem was comming from an other row."}],"owner":{"account_id":21585160,"reputation":189,"user_id":15915737,"display_name":"user15915737"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695673161,"creation_date":1663680247,"question_id":73787463,"body_markdown":"I have an Excel containing categories of company. In my dataset I want to add a boolean column telling if the categories is a start up or not. \r\n\r\n\r\n### Expected result mapping\r\nColumns and data types:\r\n\r\n* `Categorie` of type `String` \r\n* `IsStartUp` of type `Boolean`\r\n\r\n\r\nThe result I&#39;m trying to obtain:\r\n\r\n| Categorie| IsStartUp|\r\n| -------- | -------|\r\n| Bank     | false|\r\n| Manifacturing   |false| \r\n| |false|\r\n|Start Up|true|\r\n| |false|\r\n|Start UP|true|\r\n\r\n### Code I tried\r\nI tried this formula in my [tMap][1]: \r\n`inputrow.Categorie != &quot;Start Up&quot; ? false : true`\r\n\r\nBut I got this error : `java.lang.NullPointerException`\r\n[![ https://i.stack.imgur.com/AdMGW.png][2]][2]\r\n\r\n\r\nWhat am I doing wrong ? \r\n\r\n\r\n  [1]: https://community.talend.com/s/article/tMap-expression-syntax-TCiHW?language=en_US\r\n  [2]: https://i.stack.imgur.com/AdMGW.png","title":"Talend: condiitonally map String to boolean in tMap","body":"<p>I have an Excel containing categories of company. In my dataset I want to add a boolean column telling if the categories is a start up or not.</p>\n<h3>Expected result mapping</h3>\n<p>Columns and data types:</p>\n<ul>\n<li><code>Categorie</code> of type <code>String</code></li>\n<li><code>IsStartUp</code> of type <code>Boolean</code></li>\n</ul>\n<p>The result I'm trying to obtain:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Categorie</th>\n<th>IsStartUp</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Bank</td>\n<td>false</td>\n</tr>\n<tr>\n<td>Manifacturing</td>\n<td>false</td>\n</tr>\n<tr>\n<td></td>\n<td>false</td>\n</tr>\n<tr>\n<td>Start Up</td>\n<td>true</td>\n</tr>\n<tr>\n<td></td>\n<td>false</td>\n</tr>\n<tr>\n<td>Start UP</td>\n<td>true</td>\n</tr>\n</tbody>\n</table>\n</div><h3>Code I tried</h3>\n<p>I tried this formula in my <a href=\"https://community.talend.com/s/article/tMap-expression-syntax-TCiHW?language=en_US\" rel=\"nofollow noreferrer\">tMap</a>:\n<code>inputrow.Categorie != &quot;Start Up&quot; ? false : true</code></p>\n<p>But I got this error : <code>java.lang.NullPointerException</code>\n<a href=\"https://i.stack.imgur.com/AdMGW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AdMGW.png\" alt=\" https://i.stack.imgur.com/AdMGW.png\" /></a></p>\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","http","okhttp","pocketbase"],"comments":[{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1695623808,"post_id":77168564,"comment_id":136043833,"body_markdown":"If it works with Postman and not with your implementation I suggest you intercept the http traffic and take a look at the difference. A tool like httptoolkit, Wireshark or wiremock could help you out","body":"If it works with Postman and not with your implementation I suggest you intercept the http traffic and take a look at the difference. A tool like httptoolkit, Wireshark or wiremock could help you out"}],"answers":[{"tags":[],"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695672624,"creation_date":1695672624,"answer_id":77175454,"question_id":77168564,"body_markdown":"Okay, I figured it out (thanks to Thomas W&#39;s comment). Courtesy of Wireshark, I found out that OkHttp was sending an `application/json` content type instead of `multipart/form-data`. \r\n\r\nTo fix this, I used `MultipartBody.Builder` instead of `FormBody.Builder` and specified the type like this:\r\n```java\r\nRequestBody body = new MultipartBody.Builder()\r\n        .setType(MultipartBody.FORM)\r\n        .addFormDataPart(&quot;guild_id&quot;, String.valueOf(serverId))\r\n        .build();\r\n```\r\n\r\n----------\r\n\r\n*If you&#39;re curious...*\r\n\r\nHere is OkHttp&#39;s old request:\r\n[![Image showing OkHttp&#39;s request as application/json][1]][1]\r\n\r\nvs Postman&#39;s:\r\n[![Image showing Postman&#39;s request as multipart/form-data][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cpUhd.png\r\n  [2]: https://i.stack.imgur.com/WUFoE.png","title":"OkHttp POST sending invalid format to Pocketbase","body":"<p>Okay, I figured it out (thanks to Thomas W's comment). Courtesy of Wireshark, I found out that OkHttp was sending an <code>application/json</code> content type instead of <code>multipart/form-data</code>.</p>\n<p>To fix this, I used <code>MultipartBody.Builder</code> instead of <code>FormBody.Builder</code> and specified the type like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestBody body = new MultipartBody.Builder()\n        .setType(MultipartBody.FORM)\n        .addFormDataPart(&quot;guild_id&quot;, String.valueOf(serverId))\n        .build();\n</code></pre>\n<hr />\n<p><em>If you're curious...</em></p>\n<p>Here is OkHttp's old request:\n<a href=\"https://i.stack.imgur.com/cpUhd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cpUhd.png\" alt=\"Image showing OkHttp's request as application/json\" /></a></p>\n<p>vs Postman's:\n<a href=\"https://i.stack.imgur.com/WUFoE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUFoE.png\" alt=\"Image showing Postman's request as multipart/form-data\" /></a></p>\n"}],"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77175454,"answer_count":1,"score":0,"last_activity_date":1695672624,"creation_date":1695582658,"question_id":77168564,"body_markdown":"I&#39;m trying to send a `POST` request via OkHttp to my local Pocketbase server, but it&#39;s not working.\r\n\r\nIn Pocketbase, I have a collection called `servers`. I have a field called `guild_id` which is set to the `Number` type. For now, the access is admin-only. I&#39;m using OkHttp with Java to try to add a new record. Here is the code:\r\n\r\n```java\r\nOkHttpClient client = new OkHttpClient();\r\nfinal String url = &quot;http://localhost:8090/api/collections/servers/records&quot;;\r\nfinal long serverId = 123L;\r\nfinal String token = System.getenv(&quot;token&quot;);\r\n\r\nRequestBody body = new FormBody.Builder()\r\n        .add(&quot;guild_id&quot;, String.valueOf(serverId))\r\n        .build();\r\n\r\nRequest r = new Request.Builder()\r\n        .url(url)\r\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n        .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n        .post(body)\r\n        .build();\r\n\r\ntry (Response resp = client.newCall(r).execute()) {\r\n    if (!resp.isSuccessful()) {\r\n        System.err.println(&quot;Error posting to pocketbase: &quot; + resp.body().string());\r\n    } else {\r\n        System.out.println(&quot;Request successful. Response: &quot; + resp.body().string());\r\n    }\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nWhen I run this code, it always gives the same error:\r\n```\r\nError posting to pocketbase: {&quot;code&quot;:400,&quot;message&quot;:&quot;Failed to load the submitted data due to invalid formatting.&quot;,&quot;data&quot;:{}}\r\n```\r\n\r\nI tried to send the same request via Postman, and *__it worked__*. I&#39;m really not sure what&#39;s up, I suspect it might be the way Java and/or OkHttp handles requests? Anyway, does anyone know how I might fix this?\r\n\r\n","title":"OkHttp POST sending invalid format to Pocketbase","body":"<p>I'm trying to send a <code>POST</code> request via OkHttp to my local Pocketbase server, but it's not working.</p>\n<p>In Pocketbase, I have a collection called <code>servers</code>. I have a field called <code>guild_id</code> which is set to the <code>Number</code> type. For now, the access is admin-only. I'm using OkHttp with Java to try to add a new record. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient client = new OkHttpClient();\nfinal String url = &quot;http://localhost:8090/api/collections/servers/records&quot;;\nfinal long serverId = 123L;\nfinal String token = System.getenv(&quot;token&quot;);\n\nRequestBody body = new FormBody.Builder()\n        .add(&quot;guild_id&quot;, String.valueOf(serverId))\n        .build();\n\nRequest r = new Request.Builder()\n        .url(url)\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n        .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n        .post(body)\n        .build();\n\ntry (Response resp = client.newCall(r).execute()) {\n    if (!resp.isSuccessful()) {\n        System.err.println(&quot;Error posting to pocketbase: &quot; + resp.body().string());\n    } else {\n        System.out.println(&quot;Request successful. Response: &quot; + resp.body().string());\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>When I run this code, it always gives the same error:</p>\n<pre><code>Error posting to pocketbase: {&quot;code&quot;:400,&quot;message&quot;:&quot;Failed to load the submitted data due to invalid formatting.&quot;,&quot;data&quot;:{}}\n</code></pre>\n<p>I tried to send the same request via Postman, and <em><strong>it worked</strong></em>. I'm really not sure what's up, I suspect it might be the way Java and/or OkHttp handles requests? Anyway, does anyone know how I might fix this?</p>\n"},{"tags":["java","generics","stream"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695671884,"post_id":77175348,"comment_id":136053129,"body_markdown":"I think we need to see more of your code","body":"I think we need to see more of your code"},{"owner":{"account_id":7980951,"reputation":2003,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1695672083,"post_id":77175348,"comment_id":136053168,"body_markdown":"@ControlAltDel I updated AnnouncementDeletedAppEvent  class... I don&#39;t see anything else to show you... One method written in 2 ways","body":"@ControlAltDel I updated AnnouncementDeletedAppEvent  class... I don&#39;t see anything else to show you... One method written in 2 ways"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1695673485,"post_id":77175348,"comment_id":136053378,"body_markdown":"BTW: I&#39;ve never seen a useful application of `Optional` in a collection like `List`. As a rule, it&#39;s quite natural to omit an element entirely rather than adding an empty element.","body":"BTW: I&#39;ve never seen a useful application of <code>Optional</code> in a collection like <code>List</code>. As a rule, it&#39;s quite natural to omit an element entirely rather than adding an empty element."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695672275,"creation_date":1695672275,"answer_id":77175435,"question_id":77175348,"body_markdown":"This is because [Generics are invariant in Java](https://stackoverflow.com/q/2745265/10871900).\r\n\r\nLet&#39;s look at the expression you are returning:\r\n```java\r\nIntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\r\n        .mapToObj(forwardId -&gt; Optional.of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\r\n        .toList();\r\n```\r\nSpecifically, the `mapToObj` method will give you a `Stream&lt;AnnouncementDeletedAppEvent&gt;` and not a `Stream&lt;Event&gt;` because `javac` sees that it will always be an `Optional&lt;AnnouncementDeletedAppEvent&gt;` (instead of an `Optional&lt;Event&gt;`) and it tries to find the most general type and it does not propagate type information backwards through methods.\r\n\r\nThen, `toList()` converts the result to a `List&lt;Optional&lt;AnnouncementDeletedAppEvent&gt;&gt;`. Since generics are invariant, a `List&lt;Optional&lt;AnnouncementDeletedAppEvent&gt;&gt;` is _not_ a `List&lt;Optional&lt;Event&gt;&gt;`.\r\n\r\nYou can fix this issue by telling Java you just want events using an additional type paramer (you can explicitely the type used in `Optional.of`) by adding `&lt;Event&gt;` before the `of` (`Optional.&lt;Event&gt;of(...)`):\r\n```java\r\nreturn IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\r\n        .mapToObj(forwardId -&gt; Optional.&lt;Event&gt;of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\r\n        .toList();\r\n```\r\n\r\nAlternatively, you can cast the `AnnouncementDeletedAppEvent` to an `Event` before calling `Optional.of`:\r\n```java\r\nreturn IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\r\n        .mapToObj(forwardId -&gt; Optional.of((Event) new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\r\n        .toList();\r\n```","title":"Why Java Stream that returns list of generics doesn&#39;t work","body":"<p>This is because <a href=\"https://stackoverflow.com/q/2745265/10871900\">Generics are invariant in Java</a>.</p>\n<p>Let's look at the expression you are returning:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\n        .mapToObj(forwardId -&gt; Optional.of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\n        .toList();\n</code></pre>\n<p>Specifically, the <code>mapToObj</code> method will give you a <code>Stream&lt;AnnouncementDeletedAppEvent&gt;</code> and not a <code>Stream&lt;Event&gt;</code> because <code>javac</code> sees that it will always be an <code>Optional&lt;AnnouncementDeletedAppEvent&gt;</code> (instead of an <code>Optional&lt;Event&gt;</code>) and it tries to find the most general type and it does not propagate type information backwards through methods.</p>\n<p>Then, <code>toList()</code> converts the result to a <code>List&lt;Optional&lt;AnnouncementDeletedAppEvent&gt;&gt;</code>. Since generics are invariant, a <code>List&lt;Optional&lt;AnnouncementDeletedAppEvent&gt;&gt;</code> is <em>not</em> a <code>List&lt;Optional&lt;Event&gt;&gt;</code>.</p>\n<p>You can fix this issue by telling Java you just want events using an additional type paramer (you can explicitely the type used in <code>Optional.of</code>) by adding <code>&lt;Event&gt;</code> before the <code>of</code> (<code>Optional.&lt;Event&gt;of(...)</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>return IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\n        .mapToObj(forwardId -&gt; Optional.&lt;Event&gt;of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\n        .toList();\n</code></pre>\n<p>Alternatively, you can cast the <code>AnnouncementDeletedAppEvent</code> to an <code>Event</code> before calling <code>Optional.of</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\n        .mapToObj(forwardId -&gt; Optional.of((Event) new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\n        .toList();\n</code></pre>\n"}],"owner":{"account_id":7980951,"reputation":2003,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77175435,"answer_count":1,"score":2,"last_activity_date":1695672275,"creation_date":1695671092,"question_id":77175348,"body_markdown":"Why:\r\nthis works:\r\n\r\n```\r\n  private List&lt;Optional&lt;Event&gt;&gt; createEventsStartingWith(List&lt;Long&gt; forwardIds, int startAt, final AnnouncementUpdatedEventPayload beforeChanges) {\r\n        List&lt;Optional&lt;Event&gt;&gt; announcementDeletedAppEvents = new ArrayList&lt;&gt;();\r\n        for (Long forwardId : forwardIds.subList(startAt, forwardIds.size())) {\r\n            announcementDeletedAppEvents.add(Optional.of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))));\r\n        }\r\n        return announcementDeletedAppEvents;\r\n    }\r\n```\r\n\r\nbut this **doesn&#39;t work** (\r\n```\r\ncompilation error:\r\nRequired type: List&lt;Optional&lt;Event&gt;&gt;\r\n\r\nProvided: List&lt;Optional&lt;AnnouncementDeletedAppEvent&gt;&gt;\r\n```\r\n\r\n\r\n```\r\nprivate List&lt;Optional&lt;Event&gt;&gt; createEventsStartingWith(List&lt;Long&gt; forwardIds, int startAt, final AnnouncementUpdatedEventPayload beforeChanges) {\r\nreturn IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\r\n                .mapToObj(forwardId -&gt; Optional.of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\r\n                .toList();\r\n}\r\n```\r\n\r\n\r\nwhere:\r\n\r\n```\r\npublic class AnnouncementDeletedAppEvent extends Event{\r\n    long Id;\r\n    AnnouncementPayload payload;\r\n}\r\n```","title":"Why Java Stream that returns list of generics doesn&#39;t work","body":"<p>Why:\nthis works:</p>\n<pre><code>  private List&lt;Optional&lt;Event&gt;&gt; createEventsStartingWith(List&lt;Long&gt; forwardIds, int startAt, final AnnouncementUpdatedEventPayload beforeChanges) {\n        List&lt;Optional&lt;Event&gt;&gt; announcementDeletedAppEvents = new ArrayList&lt;&gt;();\n        for (Long forwardId : forwardIds.subList(startAt, forwardIds.size())) {\n            announcementDeletedAppEvents.add(Optional.of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))));\n        }\n        return announcementDeletedAppEvents;\n    }\n</code></pre>\n<p>but this <strong>doesn't work</strong> (</p>\n<pre><code>compilation error:\nRequired type: List&lt;Optional&lt;Event&gt;&gt;\n\nProvided: List&lt;Optional&lt;AnnouncementDeletedAppEvent&gt;&gt;\n</code></pre>\n<pre><code>private List&lt;Optional&lt;Event&gt;&gt; createEventsStartingWith(List&lt;Long&gt; forwardIds, int startAt, final AnnouncementUpdatedEventPayload beforeChanges) {\nreturn IntStream.range(forwardIds.indexOf(startAt), forwardIds.size())\n                .mapToObj(forwardId -&gt; Optional.of(new AnnouncementDeletedAppEvent(forwardId, eventMapper.mapToNotificationPayload(beforeChanges))))\n                .toList();\n}\n</code></pre>\n<p>where:</p>\n<pre><code>public class AnnouncementDeletedAppEvent extends Event{\n    long Id;\n    AnnouncementPayload payload;\n}\n</code></pre>\n"},{"tags":["java","dynamic-programming","readfile","traveling-salesman"],"owner":{"account_id":29249365,"reputation":1,"user_id":22409052,"display_name":"Akshat Newal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695672079,"creation_date":1695671854,"question_id":77175406,"body_markdown":"I have managed to implement a dynamic TSP algorithm and the code works and runs but it produces the wrong output for larger data sets\r\n\r\nThis is my code\r\n\r\n        //TSP Dynamic Application\r\n        public static int tspDynamic(int[][] costMatrix) \r\n        {\r\n        int numCities = costMatrix.length;\r\n        int numSets = 1 &lt;&lt; numCities;\r\n        int[][] dp = new int[numSets][numCities];\r\n    \r\n        // Initialize dp array with max values\r\n        for (int[] row : dp) {\r\n            Arrays.fill(row, Integer.MAX_VALUE / 2); // Divide by 2 to avoid integer overflow\r\n        }\r\n        \r\n        dp[1][0] = 0; // Starting from city 0\r\n        \r\n        for (int set = 1; set &lt; numSets; set += 2) {\r\n            for (int u = 1; u &lt; numCities; u++) {\r\n                if ((set &amp; (1 &lt;&lt; u)) != 0) {\r\n                    for (int v = 0; v &lt; numCities; v++) {\r\n                        if ((set &amp; (1 &lt;&lt; v)) != 0 &amp;&amp; u != v) {\r\n                            dp[set][u] = Math.min(dp[set][u], dp[set ^ (1 &lt;&lt; u)][v] + costMatrix[v][u]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        int finalSet = (1 &lt;&lt; numCities) - 1;\r\n        int minCost = Integer.MAX_VALUE;\r\n        for (int u = 1; u &lt; numCities; u++) {\r\n            minCost = Math.min(minCost, dp[finalSet][u] + costMatrix[u][0]);\r\n        }\r\n        \r\n        return minCost;\r\n    }\r\n\r\nA tried the problem on a 17x17 matrix and it gave the right output but when i tried it on a 33x33 matrix or anything higher. It always gives the wrong output. You can find the atsp files here : https://drive.google.com/drive/folders/1IsmLCUlo9-LHKkXFICYDVyhdNHWjYxd_?usp=sharing\r\nThe 17x17 matrix is testFile.atsp\r\n\r\nThe answers for the output is available here http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/ATSP.html\r\n\r\nThis is my readfile method\r\n\r\n         public static int [][] ReadTSPFile(String file, String delimiter)\r\n         {\r\n         //declaration\r\n         int [][] costMatrix = null;\r\n         int numOfCities;\r\n         int numCol = -1;\r\n\r\n         try\r\n         {\r\n             BufferedReader br = new BufferedReader(new FileReader(file));\r\n             \r\n             //reads the first line to get #no of cities\r\n             String line = br.readLine();\r\n             numOfCities = Integer.parseInt(line);\r\n             int no = 0;\r\n             \r\n             //skips the empty line\r\n             br.readLine();\r\n             \r\n             //2D Array that stores cost matrix\r\n             costMatrix = new int[numOfCities][numOfCities];\r\n             \r\n             //counter for rows\r\n             int rows = 0;\r\n             int columns  = 0;\r\n             \r\n             //reads remaining lines and populates the cost matrix\r\n              while ((line = br.readLine()) != null &amp;&amp; rows &lt; numOfCities) \r\n              {\r\n                no++;\r\n                //splits by commas\r\n                String[] values = line.trim().split(delimiter);\r\n                \r\n                if(numCol == -1)\r\n                {\r\n                    numCol = values.length;\r\n                }\r\n                \r\n                    for (String value : values) \r\n                    {\r\n                        costMatrix[rows][columns] = Integer.parseInt(value);\r\n                        columns++;\r\n    \r\n                    if (columns &gt;= numOfCities) \r\n                    {\r\n                        columns = 0;\r\n                        rows++;\r\n    \r\n                        if (rows &gt;= numOfCities) \r\n                        {\r\n                            break; // Stop reading if you&#39;ve filled the entire matrix\r\n                        }\r\n                    }\r\n                }\r\n    \r\n              }\r\n             //closes the file reader\r\n             br.close();\r\n         }\r\n         catch(IOException e )\r\n         {\r\n             e.printStackTrace();\r\n         }\r\n    \r\n         return costMatrix;","title":"Traveling Salesman Problem (Dynamic Solution)","body":"<p>I have managed to implement a dynamic TSP algorithm and the code works and runs but it produces the wrong output for larger data sets</p>\n<p>This is my code</p>\n<pre><code>    //TSP Dynamic Application\n    public static int tspDynamic(int[][] costMatrix) \n    {\n    int numCities = costMatrix.length;\n    int numSets = 1 &lt;&lt; numCities;\n    int[][] dp = new int[numSets][numCities];\n\n    // Initialize dp array with max values\n    for (int[] row : dp) {\n        Arrays.fill(row, Integer.MAX_VALUE / 2); // Divide by 2 to avoid integer overflow\n    }\n    \n    dp[1][0] = 0; // Starting from city 0\n    \n    for (int set = 1; set &lt; numSets; set += 2) {\n        for (int u = 1; u &lt; numCities; u++) {\n            if ((set &amp; (1 &lt;&lt; u)) != 0) {\n                for (int v = 0; v &lt; numCities; v++) {\n                    if ((set &amp; (1 &lt;&lt; v)) != 0 &amp;&amp; u != v) {\n                        dp[set][u] = Math.min(dp[set][u], dp[set ^ (1 &lt;&lt; u)][v] + costMatrix[v][u]);\n                    }\n                }\n            }\n        }\n    }\n    \n    int finalSet = (1 &lt;&lt; numCities) - 1;\n    int minCost = Integer.MAX_VALUE;\n    for (int u = 1; u &lt; numCities; u++) {\n        minCost = Math.min(minCost, dp[finalSet][u] + costMatrix[u][0]);\n    }\n    \n    return minCost;\n}\n</code></pre>\n<p>A tried the problem on a 17x17 matrix and it gave the right output but when i tried it on a 33x33 matrix or anything higher. It always gives the wrong output. You can find the atsp files here : <a href=\"https://drive.google.com/drive/folders/1IsmLCUlo9-LHKkXFICYDVyhdNHWjYxd_?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1IsmLCUlo9-LHKkXFICYDVyhdNHWjYxd_?usp=sharing</a>\nThe 17x17 matrix is testFile.atsp</p>\n<p>The answers for the output is available here <a href=\"http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/ATSP.html\" rel=\"nofollow noreferrer\">http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/ATSP.html</a></p>\n<p>This is my readfile method</p>\n<pre><code>     public static int [][] ReadTSPFile(String file, String delimiter)\n     {\n     //declaration\n     int [][] costMatrix = null;\n     int numOfCities;\n     int numCol = -1;\n\n     try\n     {\n         BufferedReader br = new BufferedReader(new FileReader(file));\n         \n         //reads the first line to get #no of cities\n         String line = br.readLine();\n         numOfCities = Integer.parseInt(line);\n         int no = 0;\n         \n         //skips the empty line\n         br.readLine();\n         \n         //2D Array that stores cost matrix\n         costMatrix = new int[numOfCities][numOfCities];\n         \n         //counter for rows\n         int rows = 0;\n         int columns  = 0;\n         \n         //reads remaining lines and populates the cost matrix\n          while ((line = br.readLine()) != null &amp;&amp; rows &lt; numOfCities) \n          {\n            no++;\n            //splits by commas\n            String[] values = line.trim().split(delimiter);\n            \n            if(numCol == -1)\n            {\n                numCol = values.length;\n            }\n            \n                for (String value : values) \n                {\n                    costMatrix[rows][columns] = Integer.parseInt(value);\n                    columns++;\n\n                if (columns &gt;= numOfCities) \n                {\n                    columns = 0;\n                    rows++;\n\n                    if (rows &gt;= numOfCities) \n                    {\n                        break; // Stop reading if you've filled the entire matrix\n                    }\n                }\n            }\n\n          }\n         //closes the file reader\n         br.close();\n     }\n     catch(IOException e )\n     {\n         e.printStackTrace();\n     }\n\n     return costMatrix;\n</code></pre>\n"},{"tags":["java","tomcat","browser","netbeans","ide"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676614212,"post_id":75480182,"comment_id":133176353,"body_markdown":"[1] On your final point (_&quot;I tried to edit blank field...&quot;_) my experience is that if you enter invalid values in the **Web Browsers Manager** screen (e.g. Specify an invalid path in the _Process_ field) and click **OK** then NetBeans will accept your invalid data without complaint, but if when you reopen that **Web Browsers Manager** screen you&#39;ll see that the invalid changes were discarded, and the previous values were preserved. [2] I can&#39;t reproduce your problem, though I am on Windows, not Linux...","body":"[1] On your final point (<i>&quot;I tried to edit blank field...&quot;</i>) my experience is that if you enter invalid values in the <b>Web Browsers Manager</b> screen (e.g. Specify an invalid path in the <i>Process</i> field) and click <b>OK</b> then NetBeans will accept your invalid data without complaint, but if when you reopen that <b>Web Browsers Manager</b> screen you&#39;ll see that the invalid changes were discarded, and the previous values were preserved. [2] I can&#39;t reproduce your problem, though I am on Windows, not Linux..."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676614481,"post_id":75480182,"comment_id":133176397,"body_markdown":"... [3] I have _Embedded WebKit Browser_ as one of my browser options, but you don&#39;t. Perhaps there is an installation or environment issue? [4] Check that there are no relevant errors or messages in the NetBeans log (**View &gt; IDE Log**).","body":"... [3] I have <i>Embedded WebKit Browser</i> as one of my browser options, but you don&#39;t. Perhaps there is an installation or environment issue? [4] Check that there are no relevant errors or messages in the NetBeans log (<b>View &gt; IDE Log</b>)."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676676753,"post_id":75480182,"comment_id":133192515,"body_markdown":"May be I get a relevant message on IDE Netbeans start-up:                                WARNING: package com.apple.eio not in java.desktop\nWARNING: A terminally deprecated method in java.lang.System has been called\nWARNING: System::setSecurityManager has been called by org.netbeans.TopSecurityManager (file:/usr/lib/apache-netbeans/platform/lib/boot.jar)\nWARNING: Please consider reporting this to the maintainers of org.netbeans.TopSecurityManager\nWARNING: System::setSecurityManager will be removed in a future release","body":"May be I get a relevant message on IDE Netbeans start-up:                                WARNING: package com.apple.eio not in java.desktop WARNING: A terminally deprecated method in java.lang.System has been called WARNING: System::setSecurityManager has been called by org.netbeans.TopSecurityManager (file:/usr/lib/apache-netbeans/platform/lib/boot.jar) WARNING: Please consider reporting this to the maintainers of org.netbeans.TopSecurityManager WARNING: System::setSecurityManager will be removed in a future release"},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676678170,"post_id":75480182,"comment_id":133192689,"body_markdown":"I reply to &quot;skorisa&quot;: In Netbeans you get a entry &quot;Default IDE Browser&quot; after installation; I didn&#39;t set it by myself, I found it alredy configured. You also find in configuration another entry called &quot;Argument&quot;. I erased these two values for mistake and if I try to re-edit those I click Ok button but when I re-open same window value entered by me before aren&#39;t there. Today I lhave lost the original data. and more important: &quot;value entries stay blank.","body":"I reply to &quot;skorisa&quot;: In Netbeans you get a entry &quot;Default IDE Browser&quot; after installation; I didn&#39;t set it by myself, I found it alredy configured. You also find in configuration another entry called &quot;Argument&quot;. I erased these two values for mistake and if I try to re-edit those I click Ok button but when I re-open same window value entered by me before aren&#39;t there. Today I lhave lost the original data. and more important: &quot;value entries stay blank."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676679706,"post_id":75480182,"comment_id":133192878,"body_markdown":"OK. My environment is Win10/NB16/Java 20(Early access)/Tomcat 10.1.5, and I can&#39;t see/replicate any of your issues. I don&#39;t get your _&quot;System::setSecurityManager has been called by org.netbeans.TopSecurityManager...&quot;_ message, but someone else who raised a [bug report with NetBeans](https://github.com/apache/netbeans/issues/5146) was getting that error. Rather than trying to further diagnose your individual issues, I think it might be easier just to reinstall NetBeans 16, using the most recent _officially supported_ version of Java (i.e. JDK 17, not JDK 19) if that is possible for you.","body":"OK. My environment is Win10/NB16/Java 20(Early access)/Tomcat 10.1.5, and I can&#39;t see/replicate any of your issues. I don&#39;t get your <i>&quot;System::setSecurityManager has been called by org.netbeans.TopSecurityManager...&quot;</i> message, but someone else who raised a <a href=\"https://github.com/apache/netbeans/issues/5146\" rel=\"nofollow noreferrer\">bug report with NetBeans</a> was getting that error. Rather than trying to further diagnose your individual issues, I think it might be easier just to reinstall NetBeans 16, using the most recent <i>officially supported</i> version of Java (i.e. JDK 17, not JDK 19) if that is possible for you."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676679923,"post_id":75480182,"comment_id":133192903,"body_markdown":"Also, FYI, to direct a comment to another user, just include their user ID, prefixed with an @ symbol, so to send me a comment include &quot;@skomisa&quot;.","body":"Also, FYI, to direct a comment to another user, just include their user ID, prefixed with an @ symbol, so to send me a comment include &quot;@skomisa&quot;."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676837618,"post_id":75480182,"comment_id":133213267,"body_markdown":"Downgrade IDE  Netbeans to 12.6 solve this issue. Incredible, but Default IDE Browser configuration shows every field blanks!","body":"Downgrade IDE  Netbeans to 12.6 solve this issue. Incredible, but Default IDE Browser configuration shows every field blanks!"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676838825,"post_id":75480182,"comment_id":133213508,"body_markdown":"Interesting, and strange.  I can&#39;t replicate your problem on Windows, but since you and the bug report I linked to (which reported that _&quot;System::setSecurityManager...&quot;_ message) are both running Debian, perhaps it is related to the O/S? Anyway, since you have found a workaround, please consider posting an answer to your own question, and accepting it. That is more helpful to the community than having the resolution buried in the comments. Also consider [posting a bug report on this issue with NetBeans](https://github.com/apache/netbeans/issues) because as things stand you are stuck on 12.6.","body":"Interesting, and strange.  I can&#39;t replicate your problem on Windows, but since you and the bug report I linked to (which reported that <i>&quot;System::setSecurityManager...&quot;</i> message) are both running Debian, perhaps it is related to the O/S? Anyway, since you have found a workaround, please consider posting an answer to your own question, and accepting it. That is more helpful to the community than having the resolution buried in the comments. Also consider <a href=\"https://github.com/apache/netbeans/issues\" rel=\"nofollow noreferrer\">posting a bug report on this issue with NetBeans</a> because as things stand you are stuck on 12.6."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676931394,"post_id":75480182,"comment_id":133233025,"body_markdown":"@skomisa Ok, I post a solution, but I&#39;am a newbie, review it please and tell me if it good or not.","body":"@skomisa Ok, I post a solution, but I&#39;am a newbie, review it please and tell me if it good or not."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676932025,"post_id":75480182,"comment_id":133233154,"body_markdown":"@skomisa I have notice a mistake right now on my question. My Debian distribution is 10, not 11. Sorry, could you solvi this mistake in some way?","body":"@skomisa I have notice a mistake right now on my question. My Debian distribution is 10, not 11. Sorry, could you solvi this mistake in some way?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1677023307,"post_id":75480182,"comment_id":133254815,"body_markdown":"Regarding the Debian distribution, you can edit and update your question yourself. Just click &quot;Edit&quot; at the bottom of your question.","body":"Regarding the Debian distribution, you can edit and update your question yourself. Just click &quot;Edit&quot; at the bottom of your question."}],"answers":[{"tags":[],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677285101,"creation_date":1676931401,"answer_id":75514667,"question_id":75480182,"body_markdown":"This problem currently does not have a definitive solution. Maybe it&#39;s related to OS Debian 10. I solved this issue with a downgrade of Netbeans IDE (12.6 version, may be a downgrade to 13 is better). My problem is even linked to Ubuntu Studio with KDE on Github at this link: [bug report with NetBeans][1]. \r\n\r\nIn my case I also have GNOME 3 installed including many graphic tools. Furthermore, Ubuntu Studio is a Distro for graphics.  Maybe that is just a coincidence and nothing more but that could be it.\r\n\r\n\r\n  [1]: https://github.com/apache/netbeans/issues/5146","title":"Netbeans default browser doesn&#39;t start in Netbeans?","body":"<p>This problem currently does not have a definitive solution. Maybe it's related to OS Debian 10. I solved this issue with a downgrade of Netbeans IDE (12.6 version, may be a downgrade to 13 is better). My problem is even linked to Ubuntu Studio with KDE on Github at this link: <a href=\"https://github.com/apache/netbeans/issues/5146\" rel=\"nofollow noreferrer\">bug report with NetBeans</a>.</p>\n<p>In my case I also have GNOME 3 installed including many graphic tools. Furthermore, Ubuntu Studio is a Distro for graphics.  Maybe that is just a coincidence and nothing more but that could be it.</p>\n"},{"tags":[],"owner":{"account_id":6625065,"reputation":396,"user_id":5115565,"accept_rate":100,"display_name":"Joseph Poirier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695671949,"creation_date":1695671949,"answer_id":77175416,"question_id":75480182,"body_markdown":"Goto [Tools]-[Options]\r\nMost likely, the [Default System Browser] is not setup in the app correctly, so pick an installed browser, click [Apply] &amp; check a link.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oFZbi.png","title":"Netbeans default browser doesn&#39;t start in Netbeans?","body":"<p>Goto [Tools]-[Options]\nMost likely, the [Default System Browser] is not setup in the app correctly, so pick an installed browser, click [Apply] &amp; check a link.</p>\n<p><a href=\"https://i.stack.imgur.com/oFZbi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFZbi.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695671949,"creation_date":1676607289,"question_id":75480182,"body_markdown":"Scenario:\r\n\r\nOS: Linux Debian 11\r\nKernel: 5.1.21\r\nBrowser: Mozilla Firefox 102.8.0esr\r\nIDE: Netbeans 16\r\nJDK: JAVA SE 19\r\nTomcat 10 (configured in netbeans)\r\n\r\nIn this scenario servlets run fine on tomcat writing URL on address bar. Trying to open the same URL with Browser in Netbeans fails because Browser doesn&#39;t come-up.\r\n\r\n\r\n\r\nI perform following steps:\r\n1) Single click on left button upon tomcat icon, then a Drop list come down with my Servlets\r\n2) Right click Button on a Servlet (or tomcat main page), a second drop-list come down\r\n3) Selecting &quot;open in a Browser&quot;\r\n4) Browser doesn&#39;t start\r\n5) Message info come-uo &quot;Browser cannot Run): This message appears below in IDE netbeans and after few second vanished\r\n\r\nI have also tried to compile index.html and as usual browser is expected to run, but in my case no! compiling process return no message error. \r\n\r\nLooking for IDE Browser Configuration (TOOL&gt;OPTION&gt;GENERAL&gt;EDIT) give me this set-up:\r\n[External Browser](https://i.stack.imgur.com/Gm1Tk.png)\r\n\r\nOthers browsers showed in the image above doesn&#39;t work. More-over next image shows IDE DEFAULT BROWSER without configuration. I tried to edit blank field but data were not saved after OK button click:\r\n[IDE DEFAULT BROWSER](https://i.stack.imgur.com/5uEoH.png)\r\nI tried to edit blank field but data were not saved after OK button click. I have to admit that this last trouble is my fault because I blanked them and now re-edit it again is impossible.\r\n\r\n\r\n","title":"Netbeans default browser doesn&#39;t start in Netbeans?","body":"<p>Scenario:</p>\n<p>OS: Linux Debian 11\nKernel: 5.1.21\nBrowser: Mozilla Firefox 102.8.0esr\nIDE: Netbeans 16\nJDK: JAVA SE 19\nTomcat 10 (configured in netbeans)</p>\n<p>In this scenario servlets run fine on tomcat writing URL on address bar. Trying to open the same URL with Browser in Netbeans fails because Browser doesn't come-up.</p>\n<p>I perform following steps:</p>\n<ol>\n<li>Single click on left button upon tomcat icon, then a Drop list come down with my Servlets</li>\n<li>Right click Button on a Servlet (or tomcat main page), a second drop-list come down</li>\n<li>Selecting &quot;open in a Browser&quot;</li>\n<li>Browser doesn't start</li>\n<li>Message info come-uo &quot;Browser cannot Run): This message appears below in IDE netbeans and after few second vanished</li>\n</ol>\n<p>I have also tried to compile index.html and as usual browser is expected to run, but in my case no! compiling process return no message error.</p>\n<p>Looking for IDE Browser Configuration (TOOL&gt;OPTION&gt;GENERAL&gt;EDIT) give me this set-up:\n<a href=\"https://i.stack.imgur.com/Gm1Tk.png\" rel=\"nofollow noreferrer\">External Browser</a></p>\n<p>Others browsers showed in the image above doesn't work. More-over next image shows IDE DEFAULT BROWSER without configuration. I tried to edit blank field but data were not saved after OK button click:\n<a href=\"https://i.stack.imgur.com/5uEoH.png\" rel=\"nofollow noreferrer\">IDE DEFAULT BROWSER</a>\nI tried to edit blank field but data were not saved after OK button click. I have to admit that this last trouble is my fault because I blanked them and now re-edit it again is impossible.</p>\n"},{"tags":["java","spring","multithreading","asynchronous","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695671936,"creation_date":1695671936,"answer_id":77175415,"question_id":77175332,"body_markdown":"A gateway can only receive one reply per request; hence the warning log; your async flow is also returning a reply.\r\n\r\nSend the `output-channel` of the async flow (chain) to `nullChannel`.\r\n\r\nOr, make the final component (`asyncStoreStateBean`) a `service-activator` that has a `void` return - that will also prevent a reply going back to the gateway. A transformer **must** return something.","title":"Spring Integration - get warning logs for inbound-gateway response then continue with asynchronous processing in background","body":"<p>A gateway can only receive one reply per request; hence the warning log; your async flow is also returning a reply.</p>\n<p>Send the <code>output-channel</code> of the async flow (chain) to <code>nullChannel</code>.</p>\n<p>Or, make the final component (<code>asyncStoreStateBean</code>) a <code>service-activator</code> that has a <code>void</code> return - that will also prevent a reply going back to the gateway. A transformer <strong>must</strong> return something.</p>\n"}],"owner":{"account_id":18704861,"reputation":3,"user_id":13636256,"display_name":"ste"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77175415,"answer_count":1,"score":0,"last_activity_date":1695671936,"creation_date":1695670847,"question_id":77175332,"body_markdown":"**Description:**\r\n\r\nWe have a Spring Integration flow where we want to have an endpoint configured, split the payload, perform some transformation in parallel and then after some validation one part return to the consumer i.e. with a http code 202 and the other items must continue to be processed asynchronous.\r\n\r\n**Explanation of the configuration:**\r\n\r\nWe have a `&lt;int-http:inbound-gateway&gt;`. We split `&lt;int:splitter&gt;` the incoming payload to perform some transformation in parallel `&lt;int:dispatcher task-executor=&quot;taskExecutor&quot;/&gt;` and then aggregate `&lt;int:aggregator&gt;` it to analyze the state.\r\n\r\nIf error we return error state if not we split again.\r\n\r\nIn the `&lt;int:header-value-router` with input channel: `mainItemRouter-channel`\r\nThe `MAIN` message will answer to the receiver thread so that the consumer of the API get a 202.\r\nThe `ITEM` messages needs to be processed asynchronously even the consumer already received a 202.\r\n\r\nAs far as we can tell the configuration works, but we have for every asynchronous message we process, a warning log: `&quot;level&quot;:&quot;WARN&quot;,&quot;loggerName&quot;:&quot;org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel&quot;,&quot;message&quot;:&quot;Reply message received but the receiving thread has already received a reply: ... &quot;`:\r\n\r\n\r\nWhy do we have this warning?\r\n\r\nIs the configuration wrong?\r\n\r\nDid we miss something on the configuration?\r\n\r\nThis is the configuration:\r\n\r\n```\r\n&lt;beans&gt;\r\n  \r\n    &lt;int:channel id=&quot;postInboundReply-channel&quot;/&gt;\r\n    &lt;int:channel id=&quot;postAggregate-channel&quot;/&gt;\r\n\t\r\n    &lt;int:channel id=&quot;postFinish-channel&quot;&gt;\r\n    &lt;int:header-enricher input-channel=&quot;postFinish-channel&quot; output-channel=&quot;postInboundReply-channel&quot;&gt;\r\n        &lt;int:header name=&quot;myHeader&quot; overwrite=&quot;true&quot;\r\n                    expression=&quot;setMyHeader&quot;/&gt;\r\n    &lt;/int:header-enricher&gt;\r\n\r\n\r\n    &lt;!-- Endpoint --&gt;\r\n    &lt;int-http:inbound-gateway id=&quot;postBulkInbound-gateway&quot;\r\n                              request-channel=&quot;postInboundRequest-channel&quot;\r\n                              reply-channel=&quot;postInboundReply-channel&quot;\r\n                              supported-methods=&quot;POST&quot;\r\n                              path=&quot;/api/tests&quot;\r\n                              request-payload-type=&quot;java.lang.String&quot;\r\n                              mapped-request-headers=&quot;content-type,Authorization&quot;\r\n                              mapped-response-headers=&quot;Content-Type,Location,myHeader&quot;\r\n                              reply-timeout=&quot;100000&quot;&gt;\r\n        &lt;int-http:request-mapping consumes=&quot;application/json&quot; produces=&quot;application/json&quot;/&gt;\r\n    &lt;/int-http:inbound-gateway&gt;\r\n\r\n    &lt;!-- split payload --&gt;\r\n    &lt;int:splitter id=&#39;splitter&#39; ref=&#39;splitterObject&#39; method=&#39;split&#39;\r\n                  input-channel=&#39;postInboundRequest-channel&#39; output-channel=&#39;mainRouter-channel&#39;/&gt;\r\n\r\n    &lt;!-- MAIN goes directly to aggregator, ERROR goes to the end --&gt;\r\n    &lt;int:header-value-router input-channel=&quot;mainRouter-channel&quot;  default-output-channel=&quot;executor-channel&quot; header-name=&quot;myType&quot;&gt;\r\n        &lt;int:mapping value=&quot;MAIN&quot; channel=&quot;postAggregate-channel&quot;/&gt;\r\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;executor-channel&quot;/&gt;\r\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;postFinish-channel&quot;/&gt;\r\n    &lt;/int:header-value-router&gt;\r\n\r\n    &lt;!-- execute items in parallel --&gt;\r\n    &lt;task:executor id=&quot;taskExecutor&quot; pool-size=&quot;10&quot; rejection-policy=&quot;DISCARD&quot;/&gt;\r\n    &lt;int:channel id=&quot;executor-channel&quot;&gt;\r\n        &lt;int:dispatcher task-executor=&quot;taskExecutor&quot;/&gt;\r\n    &lt;/int:channel&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;executor-channel&quot;\r\n                     output-channel=&quot;postAggregate-channel&quot;\r\n                     ref=&quot;aTransformationBean&quot;/&gt;\r\n\r\n    &lt;!-- Checkpoint: items could be transformed --&gt;\r\n    &lt;int:aggregator\r\n      input-channel=&quot;postAggregate-channel&quot;\r\n      ref=&quot;transformationAggregator&quot;\r\n      method=&quot;aggregate&quot;\r\n      output-channel=&quot;afterAggregation-channel&quot;\r\n      release-lock-before-send=&quot;true&quot;\r\n    /&gt;\r\n\r\n    &lt;!-- before we need to check if one has transform error if yes return 400 else continue --&gt;\r\n    &lt;int:header-value-router resolution-required=&quot;false&quot; input-channel=&quot;afterAggregation-channel&quot; default-output-channel=&quot;afterAggregationNonError-channel&quot; header-name=&quot;myType&quot;&gt;\r\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;afterAggregationWithError-channel&quot;/&gt;\r\n    &lt;/int:header-value-router&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;afterAggregationWithError-channel&quot;\r\n                output-channel=&quot;postFinish-channel&quot;\r\n                ref=&quot;errorTransformer&quot;/&gt;\r\n\r\n    &lt;!-- split for further processing --&gt;\r\n    &lt;int:splitter input-channel=&#39;afterAggregationNonError-channel&#39; ref=&#39;processingSplitter&#39; output-channel=&#39;mainItemRouter-channel&#39;/&gt;\r\n\r\n    &lt;!-- MAIN goes back to the inbound caller thread, ITEM processing asynchronouns --&gt;\r\n    &lt;int:header-value-router input-channel=&quot;mainItemRouter-channel&quot;  header-name=&quot;myType&quot;&gt;\r\n        &lt;int:mapping value=&quot;MAIN&quot; channel=&quot;mainReply-channel&quot;/&gt;\r\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;asyncProcessingGatewayChain-channel&quot;/&gt;\r\n    &lt;/int:header-value-router&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;mainReply-channel&quot;\r\n                     output-channel=&quot;postFinish-channel&quot;\r\n                     ref=&quot;responderBean&quot;/&gt;\r\n\r\n    &lt;!-- execute parallel --&gt;\r\n    &lt;task:executor id=&quot;processingExecutor&quot; pool-size=&quot;10&quot; rejection-policy=&quot;DISCARD&quot; /&gt;\r\n    &lt;int:channel id=&quot;asyncProcessingGatewayChain-channel&quot;&gt;\r\n        &lt;int:dispatcher task-executor=&quot;processingExecutor&quot;/&gt;\r\n    &lt;/int:channel&gt;\r\n\r\n    &lt;!-- wrap the whole async  process in a chain in order to catch exceptions in the error-channel --&gt;\r\n    &lt;int:chain input-channel=&quot;asyncProcessingGatewayChain-channel&quot;&gt;\r\n      &lt;int:gateway id=&quot;asyncProcessingGateway&quot; request-channel=&quot;asyncProcessing-channel&quot; error-channel=&quot;asyncProcessingError-channel&quot;/&gt;\r\n    &lt;/int:chain&gt;\r\n\r\n    &lt;int:chain input-channel=&quot;asyncProcessing-channel&quot;&gt;\r\n        &lt;int:transformer ref=&quot;asyncTransformerBean&quot;/&gt;\r\n        &lt;int:transformer ref=&quot;asyncSendJmsMessageBean&quot;/&gt;\r\n        &lt;int:transformer ref=&quot;asyncStoreStateBean&quot;/&gt;\r\n    &lt;/int:chain&gt;\r\n\t\r\n\t&lt;int:transformer input-channel=&quot;asyncProcessingError-channel&quot;\r\n                     ref=&quot;asyncProcessingExceptionHandler&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n ","title":"Spring Integration - get warning logs for inbound-gateway response then continue with asynchronous processing in background","body":"<p><strong>Description:</strong></p>\n<p>We have a Spring Integration flow where we want to have an endpoint configured, split the payload, perform some transformation in parallel and then after some validation one part return to the consumer i.e. with a http code 202 and the other items must continue to be processed asynchronous.</p>\n<p><strong>Explanation of the configuration:</strong></p>\n<p>We have a <code>&lt;int-http:inbound-gateway&gt;</code>. We split <code>&lt;int:splitter&gt;</code> the incoming payload to perform some transformation in parallel <code>&lt;int:dispatcher task-executor=&quot;taskExecutor&quot;/&gt;</code> and then aggregate <code>&lt;int:aggregator&gt;</code> it to analyze the state.</p>\n<p>If error we return error state if not we split again.</p>\n<p>In the <code>&lt;int:header-value-router</code> with input channel: <code>mainItemRouter-channel</code>\nThe <code>MAIN</code> message will answer to the receiver thread so that the consumer of the API get a 202.\nThe <code>ITEM</code> messages needs to be processed asynchronously even the consumer already received a 202.</p>\n<p>As far as we can tell the configuration works, but we have for every asynchronous message we process, a warning log: <code>&quot;level&quot;:&quot;WARN&quot;,&quot;loggerName&quot;:&quot;org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel&quot;,&quot;message&quot;:&quot;Reply message received but the receiving thread has already received a reply: ... &quot;</code>:</p>\n<p>Why do we have this warning?</p>\n<p>Is the configuration wrong?</p>\n<p>Did we miss something on the configuration?</p>\n<p>This is the configuration:</p>\n<pre><code>&lt;beans&gt;\n  \n    &lt;int:channel id=&quot;postInboundReply-channel&quot;/&gt;\n    &lt;int:channel id=&quot;postAggregate-channel&quot;/&gt;\n    \n    &lt;int:channel id=&quot;postFinish-channel&quot;&gt;\n    &lt;int:header-enricher input-channel=&quot;postFinish-channel&quot; output-channel=&quot;postInboundReply-channel&quot;&gt;\n        &lt;int:header name=&quot;myHeader&quot; overwrite=&quot;true&quot;\n                    expression=&quot;setMyHeader&quot;/&gt;\n    &lt;/int:header-enricher&gt;\n\n\n    &lt;!-- Endpoint --&gt;\n    &lt;int-http:inbound-gateway id=&quot;postBulkInbound-gateway&quot;\n                              request-channel=&quot;postInboundRequest-channel&quot;\n                              reply-channel=&quot;postInboundReply-channel&quot;\n                              supported-methods=&quot;POST&quot;\n                              path=&quot;/api/tests&quot;\n                              request-payload-type=&quot;java.lang.String&quot;\n                              mapped-request-headers=&quot;content-type,Authorization&quot;\n                              mapped-response-headers=&quot;Content-Type,Location,myHeader&quot;\n                              reply-timeout=&quot;100000&quot;&gt;\n        &lt;int-http:request-mapping consumes=&quot;application/json&quot; produces=&quot;application/json&quot;/&gt;\n    &lt;/int-http:inbound-gateway&gt;\n\n    &lt;!-- split payload --&gt;\n    &lt;int:splitter id='splitter' ref='splitterObject' method='split'\n                  input-channel='postInboundRequest-channel' output-channel='mainRouter-channel'/&gt;\n\n    &lt;!-- MAIN goes directly to aggregator, ERROR goes to the end --&gt;\n    &lt;int:header-value-router input-channel=&quot;mainRouter-channel&quot;  default-output-channel=&quot;executor-channel&quot; header-name=&quot;myType&quot;&gt;\n        &lt;int:mapping value=&quot;MAIN&quot; channel=&quot;postAggregate-channel&quot;/&gt;\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;executor-channel&quot;/&gt;\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;postFinish-channel&quot;/&gt;\n    &lt;/int:header-value-router&gt;\n\n    &lt;!-- execute items in parallel --&gt;\n    &lt;task:executor id=&quot;taskExecutor&quot; pool-size=&quot;10&quot; rejection-policy=&quot;DISCARD&quot;/&gt;\n    &lt;int:channel id=&quot;executor-channel&quot;&gt;\n        &lt;int:dispatcher task-executor=&quot;taskExecutor&quot;/&gt;\n    &lt;/int:channel&gt;\n\n    &lt;int:transformer input-channel=&quot;executor-channel&quot;\n                     output-channel=&quot;postAggregate-channel&quot;\n                     ref=&quot;aTransformationBean&quot;/&gt;\n\n    &lt;!-- Checkpoint: items could be transformed --&gt;\n    &lt;int:aggregator\n      input-channel=&quot;postAggregate-channel&quot;\n      ref=&quot;transformationAggregator&quot;\n      method=&quot;aggregate&quot;\n      output-channel=&quot;afterAggregation-channel&quot;\n      release-lock-before-send=&quot;true&quot;\n    /&gt;\n\n    &lt;!-- before we need to check if one has transform error if yes return 400 else continue --&gt;\n    &lt;int:header-value-router resolution-required=&quot;false&quot; input-channel=&quot;afterAggregation-channel&quot; default-output-channel=&quot;afterAggregationNonError-channel&quot; header-name=&quot;myType&quot;&gt;\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;afterAggregationWithError-channel&quot;/&gt;\n    &lt;/int:header-value-router&gt;\n\n    &lt;int:transformer input-channel=&quot;afterAggregationWithError-channel&quot;\n                output-channel=&quot;postFinish-channel&quot;\n                ref=&quot;errorTransformer&quot;/&gt;\n\n    &lt;!-- split for further processing --&gt;\n    &lt;int:splitter input-channel='afterAggregationNonError-channel' ref='processingSplitter' output-channel='mainItemRouter-channel'/&gt;\n\n    &lt;!-- MAIN goes back to the inbound caller thread, ITEM processing asynchronouns --&gt;\n    &lt;int:header-value-router input-channel=&quot;mainItemRouter-channel&quot;  header-name=&quot;myType&quot;&gt;\n        &lt;int:mapping value=&quot;MAIN&quot; channel=&quot;mainReply-channel&quot;/&gt;\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;asyncProcessingGatewayChain-channel&quot;/&gt;\n    &lt;/int:header-value-router&gt;\n\n    &lt;int:transformer input-channel=&quot;mainReply-channel&quot;\n                     output-channel=&quot;postFinish-channel&quot;\n                     ref=&quot;responderBean&quot;/&gt;\n\n    &lt;!-- execute parallel --&gt;\n    &lt;task:executor id=&quot;processingExecutor&quot; pool-size=&quot;10&quot; rejection-policy=&quot;DISCARD&quot; /&gt;\n    &lt;int:channel id=&quot;asyncProcessingGatewayChain-channel&quot;&gt;\n        &lt;int:dispatcher task-executor=&quot;processingExecutor&quot;/&gt;\n    &lt;/int:channel&gt;\n\n    &lt;!-- wrap the whole async  process in a chain in order to catch exceptions in the error-channel --&gt;\n    &lt;int:chain input-channel=&quot;asyncProcessingGatewayChain-channel&quot;&gt;\n      &lt;int:gateway id=&quot;asyncProcessingGateway&quot; request-channel=&quot;asyncProcessing-channel&quot; error-channel=&quot;asyncProcessingError-channel&quot;/&gt;\n    &lt;/int:chain&gt;\n\n    &lt;int:chain input-channel=&quot;asyncProcessing-channel&quot;&gt;\n        &lt;int:transformer ref=&quot;asyncTransformerBean&quot;/&gt;\n        &lt;int:transformer ref=&quot;asyncSendJmsMessageBean&quot;/&gt;\n        &lt;int:transformer ref=&quot;asyncStoreStateBean&quot;/&gt;\n    &lt;/int:chain&gt;\n    \n    &lt;int:transformer input-channel=&quot;asyncProcessingError-channel&quot;\n                     ref=&quot;asyncProcessingExceptionHandler&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","json","rest-assured","pojo","jsonschema2pojo"],"answers":[{"tags":[],"owner":{"account_id":146539,"reputation":1246,"user_id":357033,"accept_rate":40,"display_name":"Deian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695671357,"creation_date":1626815247,"answer_id":68461346,"question_id":68460657,"body_markdown":"It looks like you need to manually change the type of those variables.\r\n\r\nIn general there is a bit discrepancy in the types between Java and Javascript. Javascript has only &quot;number&quot; for both int and float values. Where Java has separate types. \r\n\r\nI believe the generator uses Double since it is technically more correct but in your context you should go ahead and change the types to int or Integer manually. ","title":"JsonSchema2Pojo, Date of Birth is generating with Type Number, I am trying to pass the value in Integer","body":"<p>It looks like you need to manually change the type of those variables.</p>\n<p>In general there is a bit discrepancy in the types between Java and Javascript. Javascript has only &quot;number&quot; for both int and float values. Where Java has separate types.</p>\n<p>I believe the generator uses Double since it is technically more correct but in your context you should go ahead and change the types to int or Integer manually.</p>\n"},{"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626840112,"creation_date":1626840112,"answer_id":68463819,"question_id":68460657,"body_markdown":"If you can edit these field types to &quot;integer&quot; instead of &quot;number&quot; in your schema and use JsonSchema2Pojo then it will generate them as integer. \r\n\r\nAlternatively, you could edit them manually if you don&#39;t want to change schema.","title":"JsonSchema2Pojo, Date of Birth is generating with Type Number, I am trying to pass the value in Integer","body":"<p>If you can edit these field types to &quot;integer&quot; instead of &quot;number&quot; in your schema and use JsonSchema2Pojo then it will generate them as integer.</p>\n<p>Alternatively, you could edit them manually if you don't want to change schema.</p>\n"}],"owner":{"account_id":22258787,"reputation":1,"user_id":16490554,"display_name":"Manoj K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695671357,"creation_date":1626811009,"question_id":68460657,"body_markdown":"I am currently Generating Pojo class using JsonSchema2Pojo, My json schema has couple of class related to Date of birth, Start Date and End date which is defined with type number, when i generate the Pojo class, its of type Double and I am unable to pass int value, \r\n\r\nE.g if I am trying to set date of birth as 1/1/2020, it says Required Double and Passed int.\r\n\r\nI have tried to use &lt;BigDecimal&gt;true&lt;/BigDecimal&gt; which has not worked, also I don&#39;t find any supporting tags to convert number to int in jsonschema2pojo properties\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CSwDO.png","title":"JsonSchema2Pojo, Date of Birth is generating with Type Number, I am trying to pass the value in Integer","body":"<p>I am currently Generating Pojo class using JsonSchema2Pojo, My json schema has couple of class related to Date of birth, Start Date and End date which is defined with type number, when i generate the Pojo class, its of type Double and I am unable to pass int value,</p>\n<p>E.g if I am trying to set date of birth as 1/1/2020, it says Required Double and Passed int.</p>\n<p>I have tried to use true which has not worked, also I don't find any supporting tags to convert number to int in jsonschema2pojo properties</p>\n<p><img src=\"https://i.stack.imgur.com/CSwDO.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":19455899,"reputation":4325,"user_id":14231239,"display_name":"dm_tr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609581803,"creation_date":1609581803,"answer_id":65537902,"question_id":65537476,"body_markdown":"In addition of sharing the same `basePackages` for components (`@ComponentScan`), you must also enable the same JpaRepository `basePackages` like this \r\n\r\n    @EnableJpaRepositories(basePackages = {&quot;com.example.demo.portal.*&quot;})","title":"@Autowired Issue on spring boot multi module project","body":"<p>In addition of sharing the same <code>basePackages</code> for components (<code>@ComponentScan</code>), you must also enable the same JpaRepository <code>basePackages</code> like this</p>\n<pre><code>@EnableJpaRepositories(basePackages = {&quot;com.example.demo.portal.*&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4399397,"reputation":788,"user_id":3585536,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695671000,"creation_date":1695671000,"answer_id":77175341,"question_id":65537476,"body_markdown":"I ran across something similar and wanted to add a potential fix as this worked for me. If you&#39;re using Spring Data JPA with something like Postgres and a ReactiveCRUDRepository, you can also use @EnableR2dbcRepositories if you&#39;re using r2dbc, which will solve the DI for @Repository annotated interfaces.","title":"@Autowired Issue on spring boot multi module project","body":"<p>I ran across something similar and wanted to add a potential fix as this worked for me. If you're using Spring Data JPA with something like Postgres and a ReactiveCRUDRepository, you can also use @EnableR2dbcRepositories if you're using r2dbc, which will solve the DI for @Repository annotated interfaces.</p>\n"}],"owner":{"account_id":11032251,"reputation":1348,"user_id":8103314,"display_name":"Sarath Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695671000,"creation_date":1609578367,"question_id":65537476,"body_markdown":"I am trying to create a multi-module with spring boot, I have created a parent module and 2 child module.\r\n\r\nThis is the pom.xml file of the parent module\r\n\r\n    \r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;portalAPI&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;portalAPICore&lt;/module&gt;\r\n\t\t&lt;module&gt;portalAPIPersistanceLayer&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.2-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;!-- &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt; --&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;!-- &lt;configuration&gt; &lt;skip&gt;true&lt;/skip&gt; &lt;/configuration&gt; --&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nI have 2 child module &#39;portalAPICore&#39; ,&#39;portalAPIPersistanceLayer&#39;\r\n\r\nI need to autowire the repository class on portalAPIPersistanceLayer to my service class in portalAPICore\r\n\r\nBut am getting this issue\r\n\r\n&gt; Field testCouchRepo in\r\n&gt; com.example.demo.portal.portalAPICore.Service.ServiceClassTest\r\n&gt; required a bean of type\r\n&gt; &#39;com.example.demo.portal.portalAPIPersistanceLayer.repo.TestCouchRepo&#39;\r\n&gt; that could not be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.example.demo.portal.portalAPIPersistanceLayer.repo.TestCouchRepo&#39;\r\n&gt; in your configuration.\r\n\r\nThis is the TestCouchRepo class on portalAPIPersistanceLayer module\r\n\r\n        @Repository\r\n    public interface TestCouchRepo extends ReactiveCrudRepository&lt;Test, String&gt;{\r\n    \t\r\n    \tString designDocument = &quot;pandalytics&quot;, viewName = &quot;view_allTests&quot;;\r\n    \tString DESIGN_DOCUMENT=&quot;view_allTESTs&quot;;\r\n    \t\r\n    \r\n    \t@View(designDocument = TestCouchRepo.designDocument, viewName = TestCouchRepo.viewName)\r\n    \tFlux&lt;Test&gt; findAll();\r\n    \t\r\n    }\r\n\r\nThis the service class were I getting the issue\r\n\r\n    import com.knowesis.sift.portal.portalAPIPersistanceLayer.repo.TestCouchRepo;\r\n    \r\n    @Component\r\n    public class ServiceClassTest {\r\n    \t\r\n    \t@Autowired\r\n    \tTestCouchRepo testCouchRepo;\r\n\r\n\r\nThis is the pom.xml file of the portalAPIPersistanceLayer module\r\n\r\n  \r\n\r\n      &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\r\n        &lt;artifactId&gt;portalAPI&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;artifactId&gt;portalAPIPersistanceLayer&lt;/artifactId&gt;\r\n      \r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is the pom file of portalAPICore module in which I have added the dependency of portalAPIPersistanceLayer module\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;portalAPI&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;artifactId&gt;portalAPICore&lt;/artifactId&gt;\r\n    \t\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                \t\t&lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\r\n                \t\t&lt;artifactId&gt;portalAPIPersistanceLayer&lt;/artifactId&gt;\r\n                \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            \t&lt;/dependency&gt;\r\n            \r\n             \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-couchbase&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.9.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.couchbase.client&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            \r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is the main class\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.example.demo.portal.*&quot; })\r\n    public class PortalAPICore {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(PortalAPICore.class);\r\n    \r\n    \t}\r\n    }\r\n\r\nI didn&#39;t found any wrong here with the flow, can anyone help me to sort out this issue","title":"@Autowired Issue on spring boot multi module project","body":"<p>I am trying to create a multi-module with spring boot, I have created a parent module and 2 child module.</p>\n<p>This is the pom.xml file of the parent module</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\n&lt;artifactId&gt;portalAPI&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n    &lt;module&gt;portalAPICore&lt;/module&gt;\n    &lt;module&gt;portalAPIPersistanceLayer&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;!-- &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt; --&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- &lt;configuration&gt; &lt;skip&gt;true&lt;/skip&gt; &lt;/configuration&gt; --&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I have 2 child module 'portalAPICore' ,'portalAPIPersistanceLayer'</p>\n<p>I need to autowire the repository class on portalAPIPersistanceLayer to my service class in portalAPICore</p>\n<p>But am getting this issue</p>\n<blockquote>\n<p>Field testCouchRepo in\ncom.example.demo.portal.portalAPICore.Service.ServiceClassTest\nrequired a bean of type\n'com.example.demo.portal.portalAPIPersistanceLayer.repo.TestCouchRepo'\nthat could not be found.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.example.demo.portal.portalAPIPersistanceLayer.repo.TestCouchRepo'\nin your configuration.</p>\n</blockquote>\n<p>This is the TestCouchRepo class on portalAPIPersistanceLayer module</p>\n<pre><code>    @Repository\npublic interface TestCouchRepo extends ReactiveCrudRepository&lt;Test, String&gt;{\n    \n    String designDocument = &quot;pandalytics&quot;, viewName = &quot;view_allTests&quot;;\n    String DESIGN_DOCUMENT=&quot;view_allTESTs&quot;;\n    \n\n    @View(designDocument = TestCouchRepo.designDocument, viewName = TestCouchRepo.viewName)\n    Flux&lt;Test&gt; findAll();\n    \n}\n</code></pre>\n<p>This the service class were I getting the issue</p>\n<pre><code>import com.knowesis.sift.portal.portalAPIPersistanceLayer.repo.TestCouchRepo;\n\n@Component\npublic class ServiceClassTest {\n    \n    @Autowired\n    TestCouchRepo testCouchRepo;\n</code></pre>\n<p>This is the pom.xml file of the portalAPIPersistanceLayer module</p>\n<pre><code>  &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\n    &lt;artifactId&gt;portalAPI&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;artifactId&gt;portalAPIPersistanceLayer&lt;/artifactId&gt;\n  \n  &lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom file of portalAPICore module in which I have added the dependency of portalAPIPersistanceLayer module</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\n        &lt;artifactId&gt;portalAPI&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;portalAPICore&lt;/artifactId&gt;\n    \n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n                    &lt;groupId&gt;com.example.demo.portal&lt;/groupId&gt;\n                    &lt;artifactId&gt;portalAPIPersistanceLayer&lt;/artifactId&gt;\n                    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-couchbase&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.couchbase.client&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt; --&gt;\n        \n        \n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the main class</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = { &quot;com.example.demo.portal.*&quot; })\npublic class PortalAPICore {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PortalAPICore.class);\n\n    }\n}\n</code></pre>\n<p>I didn't found any wrong here with the flow, can anyone help me to sort out this issue</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1695317657,"post_id":77152369,"comment_id":136011758,"body_markdown":"This is not clear. Can explain more?","body":"This is not clear. Can explain more?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695318157,"post_id":77152369,"comment_id":136011838,"body_markdown":"@BasilBourque He probably wants something like if answer = a, then instantiate `new A()`, if answer = b, then `new B()` etc.","body":"@BasilBourque He probably wants something like if answer = a, then instantiate <code>new A()</code>, if answer = b, then <code>new B()</code> etc."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695318214,"post_id":77152369,"comment_id":136011850,"body_markdown":"@Dominic Do those classes have something in common, like implementing the same interface, or extending the same class?","body":"@Dominic Do those classes have something in common, like implementing the same interface, or extending the same class?"},{"owner":{"account_id":26126126,"reputation":17,"user_id":19817523,"display_name":"Dominic Miller"},"score":0,"creation_date":1695325178,"post_id":77152369,"comment_id":136013084,"body_markdown":"@Chaosfire they&#39;re both going to be managing files, just the format of the file will be different.","body":"@Chaosfire they&#39;re both going to be managing files, just the format of the file will be different."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1695670767,"creation_date":1695318231,"answer_id":77152512,"question_id":77152369,"body_markdown":"The way to do this is to use the Factory pattern\r\n\r\n    interface Factory&lt;T&gt; {\r\n      T createInstance(String param);\r\n    }\r\n    \r\n    public class FactoryManager {\r\n      private Map&lt;String,Factory&gt; factories;\r\n      public void registerFactory(String type, Factory f) ... // add the key/pair to the factories map\r\n      public Object createInstance(String s) ... // match the string to a Factory in the factories Map and call createInstance on it\r\n    }\r\n\r\nLet me know if you have any questions about this\r\n\r\n-- Edit --\r\n\r\nExample:\r\n\r\n    public class Car {\r\n      private make = null;\r\n      public Car() {};\r\n      public Car(String make) {\r\n        this.Car();\r\n        this.make = make;\r\n      }\r\n    }\r\n    \r\n    public class CarFactory implements Factory&lt;Car&gt; {\r\n      public Car createInstance(String s) {\r\n        return new Car(s);\r\n      }\r\n    }\r\n    \r\n    public class Bus {\r\n      private make = null;\r\n      public Bus() {};\r\n      public Bus(String make) {\r\n        this.Bus();\r\n        this.make = make;\r\n      }\r\n    }\r\n    \r\n    public class BusFactory implements Factory&lt;Bus&gt; {\r\n      public Car createInstance(String s) {\r\n        return new Bus(s);\r\n      }\r\n    }\r\n    \r\n    public class MyFactoryManager extends FactoryManager {\r\n      public MyFactoryManager() {\r\n    //All this actually should be in the base class FactoryManager so it doesn&#39;t need to be implemented in each FactoryManager.\r\n        factories = new HashMap&lt;String, Factory&gt;(); \r\n        public Object createInstance(String s) { // This could be expanded with another parameter to be passed to the factory for object initialization.\r\n          return factories.get(s).createInstance();\r\n        }\r\n      }\r\n    }\r\n    \r\n    FactoryManager fm = new MyFactoryManager();\r\n    fm.reqisterFactory(&quot;car&quot;, new CarFactory());\r\n    fm.reqisterFactory(&quot;bar&quot;, new BusFactory());\r\n    Object car = fm.createInstance(&quot;car&quot;);\r\n    Object bus = fm.createInstance(&quot;bus&quot;);\r\n    System.out.println(&quot;Car is a &quot; + car.getClass());\r\n    System.out.println(&quot;Bus is a &quot; + bus.getClass());\r\n\r\n","title":"How do I initialize a class in Java, while the class I want to initialize will vary based on a variable?","body":"<p>The way to do this is to use the Factory pattern</p>\n<pre><code>interface Factory&lt;T&gt; {\n  T createInstance(String param);\n}\n\npublic class FactoryManager {\n  private Map&lt;String,Factory&gt; factories;\n  public void registerFactory(String type, Factory f) ... // add the key/pair to the factories map\n  public Object createInstance(String s) ... // match the string to a Factory in the factories Map and call createInstance on it\n}\n</code></pre>\n<p>Let me know if you have any questions about this</p>\n<p>-- Edit --</p>\n<p>Example:</p>\n<pre><code>public class Car {\n  private make = null;\n  public Car() {};\n  public Car(String make) {\n    this.Car();\n    this.make = make;\n  }\n}\n\npublic class CarFactory implements Factory&lt;Car&gt; {\n  public Car createInstance(String s) {\n    return new Car(s);\n  }\n}\n\npublic class Bus {\n  private make = null;\n  public Bus() {};\n  public Bus(String make) {\n    this.Bus();\n    this.make = make;\n  }\n}\n\npublic class BusFactory implements Factory&lt;Bus&gt; {\n  public Car createInstance(String s) {\n    return new Bus(s);\n  }\n}\n\npublic class MyFactoryManager extends FactoryManager {\n  public MyFactoryManager() {\n//All this actually should be in the base class FactoryManager so it doesn't need to be implemented in each FactoryManager.\n    factories = new HashMap&lt;String, Factory&gt;(); \n    public Object createInstance(String s) { // This could be expanded with another parameter to be passed to the factory for object initialization.\n      return factories.get(s).createInstance();\n    }\n  }\n}\n\nFactoryManager fm = new MyFactoryManager();\nfm.reqisterFactory(&quot;car&quot;, new CarFactory());\nfm.reqisterFactory(&quot;bar&quot;, new BusFactory());\nObject car = fm.createInstance(&quot;car&quot;);\nObject bus = fm.createInstance(&quot;bus&quot;);\nSystem.out.println(&quot;Car is a &quot; + car.getClass());\nSystem.out.println(&quot;Bus is a &quot; + bus.getClass());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3334122,"reputation":69,"user_id":2802249,"display_name":"Fabian Witte"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695318600,"creation_date":1695318600,"answer_id":77152559,"question_id":77152369,"body_markdown":"You can use the following code to create an instance of a class from a string using its no-args constructor (and crash if no such constructor exists):\r\n\r\n```\r\npackage plugins;\r\n\r\npublic class ClassName {\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Works as expected!&quot;;\r\n    }\r\n}\r\n\r\n\r\npublic class ClassByNameTest {\r\n    @Test\r\n    void createInstance() throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n        String className = &quot;plugins.ClassName&quot;;\r\n        Object instance = Class.forName(className).getConstructor().newInstance();\r\n\r\n        assert a.getClass().getName().equals(className);\r\n        System.out.println(instance.toString());\r\n    }\r\n}\r\n```\r\n\r\nFollowing some kind of convention, for example implementing a common interface, you could call an entrypoint method to run arbitrary behaviour dynamically.\r\n\r\nEDIT:\r\nDespite the fact that this is technically no problem, ControlAltDels idea to use the factory pattern is the better way to solve this, especially because it decouples the user input from your actual class name.","title":"How do I initialize a class in Java, while the class I want to initialize will vary based on a variable?","body":"<p>You can use the following code to create an instance of a class from a string using its no-args constructor (and crash if no such constructor exists):</p>\n<pre><code>package plugins;\n\npublic class ClassName {\n    @Override\n    public String toString() {\n        return &quot;Works as expected!&quot;;\n    }\n}\n\n\npublic class ClassByNameTest {\n    @Test\n    void createInstance() throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n        String className = &quot;plugins.ClassName&quot;;\n        Object instance = Class.forName(className).getConstructor().newInstance();\n\n        assert a.getClass().getName().equals(className);\n        System.out.println(instance.toString());\n    }\n}\n</code></pre>\n<p>Following some kind of convention, for example implementing a common interface, you could call an entrypoint method to run arbitrary behaviour dynamically.</p>\n<p>EDIT:\nDespite the fact that this is technically no problem, ControlAltDels idea to use the factory pattern is the better way to solve this, especially because it decouples the user input from your actual class name.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695360194,"creation_date":1695340420,"answer_id":77154207,"question_id":77152369,"body_markdown":"&gt; _&quot;... Is there a way that I can initialize a specific class using a String variable without cluttering up my program with `if` statements? ...&quot;_\r\n\r\nYou can use the _[reflection framework](https://docs.oracle.com/javase/tutorial/reflect/index.html)_ to instantiate a class via a _String_ value.\r\n\r\nYou&#39;ll need to provide the fully-qualified name.\r\n\r\n```java\r\nClass&lt;?&gt; c = Class.forName(&quot;java.lang.String&quot;);\r\nObject instance = c.getDeclaredConstructor().newInstance();\r\n```","title":"How do I initialize a class in Java, while the class I want to initialize will vary based on a variable?","body":"<blockquote>\n<p><em>&quot;... Is there a way that I can initialize a specific class using a String variable without cluttering up my program with <code>if</code> statements? ...&quot;</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">reflection framework</a></em> to instantiate a class via a <em>String</em> value.</p>\n<p>You'll need to provide the fully-qualified name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; c = Class.forName(&quot;java.lang.String&quot;);\nObject instance = c.getDeclaredConstructor().newInstance();\n</code></pre>\n"}],"owner":{"account_id":26126126,"reputation":17,"user_id":19817523,"display_name":"Dominic Miller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77152512,"answer_count":3,"score":0,"last_activity_date":1695670767,"creation_date":1695316722,"question_id":77152369,"body_markdown":"I&#39;m trying to make a terminal program that will initialize a class based on input from the user. Is there a way that I can initialize a specific class using a String variable without cluttering up my program with `if` statements? Here&#39;s an example of what I&#39;m trying to do:\r\n\r\nTerminal:\r\n```\r\nWhich program would you like to run? Please type in lower case.\r\n - Room designer\r\n - Etc.\r\n\r\n&gt;\r\n```\r\n\r\nCode:\r\n```\r\nString answer = input.nextLine();\r\n[answer] programToRun = new [answer]();\r\n```\r\nIs there a way to do this? I know that there is a way in Python using the `Globals` dictionary, so I&#39;m confident there is a way, and that I just haven&#39;t been able to find it.","title":"How do I initialize a class in Java, while the class I want to initialize will vary based on a variable?","body":"<p>I'm trying to make a terminal program that will initialize a class based on input from the user. Is there a way that I can initialize a specific class using a String variable without cluttering up my program with <code>if</code> statements? Here's an example of what I'm trying to do:</p>\n<p>Terminal:</p>\n<pre><code>Which program would you like to run? Please type in lower case.\n - Room designer\n - Etc.\n\n&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>String answer = input.nextLine();\n[answer] programToRun = new [answer]();\n</code></pre>\n<p>Is there a way to do this? I know that there is a way in Python using the <code>Globals</code> dictionary, so I'm confident there is a way, and that I just haven't been able to find it.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667550678,"creation_date":1667549731,"answer_id":74313967,"question_id":74313923,"body_markdown":"Your code works fine, You just cannot use `==` operator to compare Strings. Use `equals()` or `equalsIgnoreCase()` method instead.\r\n\r\n       public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n    \r\n            do {\r\n                s1 = in.next();\r\n            } while (!&quot;quit&quot;.equals(s1)); // use equals\r\n    \r\n            System.out.println(s1);\r\n        }\r\n\r\nIf You are comparing by == You are checking if both sides reference to same object. When You are using equals(), You are comparing the String values. So even if You have multiple objects with value &quot;quit&quot;, `==` will return `false`, but `equals()` will return `true`.\r\n\r\nYou can read more [here][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/","title":"how do I make while loop run until a certain input is placed?","body":"<p>Your code works fine, You just cannot use <code>==</code> operator to compare Strings. Use <code>equals()</code> or <code>equalsIgnoreCase()</code> method instead.</p>\n<pre><code>   public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        do {\n            s1 = in.next();\n        } while (!&quot;quit&quot;.equals(s1)); // use equals\n\n        System.out.println(s1);\n    }\n</code></pre>\n<p>If You are comparing by == You are checking if both sides reference to same object. When You are using equals(), You are comparing the String values. So even if You have multiple objects with value &quot;quit&quot;, <code>==</code> will return <code>false</code>, but <code>equals()</code> will return <code>true</code>.</p>\n<p>You can read more <a href=\"https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":19317033,"reputation":13,"user_id":14121580,"display_name":"Charleeoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695670577,"creation_date":1667550167,"answer_id":74314055,"question_id":74313923,"body_markdown":"To compare strings you have to use the `.equals()` or `.equalsIgnoreCase()` method. This should work","title":"how do I make while loop run until a certain input is placed?","body":"<p>To compare strings you have to use the <code>.equals()</code> or <code>.equalsIgnoreCase()</code> method. This should work</p>\n"},{"tags":[],"owner":{"account_id":26826909,"reputation":1,"user_id":20415425,"display_name":"aruite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667550370,"creation_date":1667550370,"answer_id":74314088,"question_id":74313923,"body_markdown":"you can try this:\r\n!s1.equals(&quot;quit&quot;)","title":"how do I make while loop run until a certain input is placed?","body":"<p>you can try this:\n!s1.equals(&quot;quit&quot;)</p>\n"}],"owner":{"account_id":26826854,"reputation":1,"user_id":20415373,"display_name":"Sophia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74313967,"answer_count":3,"score":-1,"last_activity_date":1695670577,"creation_date":1667549511,"question_id":74313923,"body_markdown":"the idea is basically the loop takes in input and it runs until I type &quot;quit&quot; but it doesn&#39;t work the way I want to and I can&#39;t figure out why :( (p.s. im a beginner that came from python pls be kind)\r\n\r\n    import java.util.Scanner;\r\n    class HelloWorld {\r\n        static String s1;\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            \r\n            do {\r\n                s1 = in.next();\r\n            } while (s1 != &quot;quit&quot;);\r\n    \r\n            System.out.println(s1);\r\n        }\r\n    }\r\n\r\nI also tried adding a temporary variable so that the while loop could check the condition before continuing but it doesn&#39;t work that way too...\r\n\r\n    import java.util.Scanner;\r\n    class HelloWorld {\r\n        static String s1;\r\n        static String s2;\r\n        static int s3;\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            do {\r\n                s1=in.next();\r\n                if (s1==&quot;quit&quot;){\r\n                    break;\r\n                }\r\n                s2=in.next();\r\n                s3=in.nextInt();\r\n            \r\n            } while (s1!=&quot;quit&quot;);\r\n            System.out.println(&quot;Terminate&quot;);\r\n            \r\n        }\r\n    }","title":"how do I make while loop run until a certain input is placed?","body":"<p>the idea is basically the loop takes in input and it runs until I type &quot;quit&quot; but it doesn't work the way I want to and I can't figure out why :( (p.s. im a beginner that came from python pls be kind)</p>\n<pre><code>import java.util.Scanner;\nclass HelloWorld {\n    static String s1;\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        \n        do {\n            s1 = in.next();\n        } while (s1 != &quot;quit&quot;);\n\n        System.out.println(s1);\n    }\n}\n</code></pre>\n<p>I also tried adding a temporary variable so that the while loop could check the condition before continuing but it doesn't work that way too...</p>\n<pre><code>import java.util.Scanner;\nclass HelloWorld {\n    static String s1;\n    static String s2;\n    static int s3;\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        do {\n            s1=in.next();\n            if (s1==&quot;quit&quot;){\n                break;\n            }\n            s2=in.next();\n            s3=in.nextInt();\n        \n        } while (s1!=&quot;quit&quot;);\n        System.out.println(&quot;Terminate&quot;);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695669792,"creation_date":1695669792,"answer_id":77175247,"question_id":77175094,"body_markdown":"It worked fine (it didn&#39;t persist twice) when I first saved the statusChange separately and then just assigned it to two of those objects so:\r\n```java\r\nOrderStatusChange persistedStatusChange = orderStatusChangeRepository.save(statusChange);\r\n\r\norder.getStatusChanges().add(persistedStatusChange);\r\norderRepository.saveAndFlush(order);\r\n\r\nrejection.setStatusChange(persistedStatusChange);\r\nrejectionService.save(rejection);\r\n```\r\nanyway I would be grateful for the explanation why that happens and if it&#39;s possible to avoid that and rely on my first version somehow?","title":"Cascade behavior for bidirectional relationship","body":"<p>It worked fine (it didn't persist twice) when I first saved the statusChange separately and then just assigned it to two of those objects so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OrderStatusChange persistedStatusChange = orderStatusChangeRepository.save(statusChange);\n\norder.getStatusChanges().add(persistedStatusChange);\norderRepository.saveAndFlush(order);\n\nrejection.setStatusChange(persistedStatusChange);\nrejectionService.save(rejection);\n</code></pre>\n<p>anyway I would be grateful for the explanation why that happens and if it's possible to avoid that and rely on my first version somehow?</p>\n"}],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695669792,"creation_date":1695667911,"question_id":77175094,"body_markdown":"I have a problem with my bidirectional relationship.\r\nI have entities:\r\n```java\r\npublic class Order {\r\n\r\n @OneToMany(\r\n      mappedBy = &quot;order&quot;,\r\n      cascade = CascadeType.ALL,\r\n      orphanRemoval = true)\r\n  @Getter\r\n  @Setter\r\n  private List&lt;OrderStatusChanges&gt; statusChanges = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nI have Rejection entity:\r\n```java\r\npublic class Rejection {\r\n  @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  OrderStatusChange statusChange;\r\n}\r\n```\r\nwhen in my service method I call:\r\n```java\r\nRejection rejection = new Rejection(...)\r\nOrder order = findOrder(id);\r\nOrderStatusChange statusChange = new OrderStatusChange(...);\r\norder.getStatusChanges().add(statusChange);\r\norderRepository.saveAndFlush(order);\r\n\r\nrejection.setStatusChange(statusChange);\r\nrejectionService.save(rejection);\r\n```\r\nmy `statusChange` gets persisted twice.\r\nI assumed that when I use `saveAndFlush` the `id` will be generated when calling `orderRepository.saveAndFlush()` and so that when calling `rejection.setStatusChange(statusChange)`, the `statusChange` will already contain the id, but it is `null`, so it treats them as two separate objects.\r\n\r\nIs there any way to set the same status change without having to fetch the `statusChange` before setting it to the `rejection`?\r\n\r\n","title":"Cascade behavior for bidirectional relationship","body":"<p>I have a problem with my bidirectional relationship.\nI have entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Order {\n\n @OneToMany(\n      mappedBy = &quot;order&quot;,\n      cascade = CascadeType.ALL,\n      orphanRemoval = true)\n  @Getter\n  @Setter\n  private List&lt;OrderStatusChanges&gt; statusChanges = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>I have Rejection entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Rejection {\n  @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  OrderStatusChange statusChange;\n}\n</code></pre>\n<p>when in my service method I call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Rejection rejection = new Rejection(...)\nOrder order = findOrder(id);\nOrderStatusChange statusChange = new OrderStatusChange(...);\norder.getStatusChanges().add(statusChange);\norderRepository.saveAndFlush(order);\n\nrejection.setStatusChange(statusChange);\nrejectionService.save(rejection);\n</code></pre>\n<p>my <code>statusChange</code> gets persisted twice.\nI assumed that when I use <code>saveAndFlush</code> the <code>id</code> will be generated when calling <code>orderRepository.saveAndFlush()</code> and so that when calling <code>rejection.setStatusChange(statusChange)</code>, the <code>statusChange</code> will already contain the id, but it is <code>null</code>, so it treats them as two separate objects.</p>\n<p>Is there any way to set the same status change without having to fetch the <code>statusChange</code> before setting it to the <code>rejection</code>?</p>\n"},{"tags":["java","unit-testing","junit","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695669307,"creation_date":1695669307,"answer_id":77175211,"question_id":77173002,"body_markdown":"&gt; Couldn&#39;t get rid of the error after many trial n error. \r\nCan someone point at whats wrong here and how I can fix the unit test code?\r\n\r\n\r\nYou have this compilation error because you try to use `thenReturn` with a generic type `ResponseEntity&lt;LinkedHashMap&gt;`. Mockito expects you to use `thenReturn` with a specific instance, but not just a generic type.\r\n\r\nYou can fix this error by using the `ResponseEntity` class with the specific generic type which matches your method&#39;s return value type:\r\n\r\n```\r\n.\r\n..\r\n...\r\n\r\nLinkedHashMap&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\nmap.put(&quot;name&quot;, &quot;foo&quot;);\r\nResponseEntity&lt;LinkedHashMap&lt;String, String&gt;&gt; entity = new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\r\n\r\nMockito.when(restTemplate.postForEntity(Mockito.anyString(), Mockito.isNull(), Mockito.eq(LinkedHashMap.class)))\r\n               .thenReturn(entity);\r\n\r\n...\r\n..\r\n.\r\n```\r\n\r\n","title":"How to return ResponseEntity when mocking RestTemplate","body":"<blockquote>\n<p>Couldn't get rid of the error after many trial n error.\nCan someone point at whats wrong here and how I can fix the unit test code?</p>\n</blockquote>\n<p>You have this compilation error because you try to use <code>thenReturn</code> with a generic type <code>ResponseEntity&lt;LinkedHashMap&gt;</code>. Mockito expects you to use <code>thenReturn</code> with a specific instance, but not just a generic type.</p>\n<p>You can fix this error by using the <code>ResponseEntity</code> class with the specific generic type which matches your method's return value type:</p>\n<pre><code>.\n..\n...\n\nLinkedHashMap&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\nmap.put(&quot;name&quot;, &quot;foo&quot;);\nResponseEntity&lt;LinkedHashMap&lt;String, String&gt;&gt; entity = new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\n\nMockito.when(restTemplate.postForEntity(Mockito.anyString(), Mockito.isNull(), Mockito.eq(LinkedHashMap.class)))\n               .thenReturn(entity);\n\n...\n..\n.\n</code></pre>\n"}],"owner":{"account_id":20237879,"reputation":47,"user_id":14842499,"display_name":"sachin p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77175211,"answer_count":1,"score":1,"last_activity_date":1695669307,"creation_date":1695647922,"question_id":77173002,"body_markdown":"&lt;br/&gt;\r\nfollowing is my method which I am trying to unit test &lt;br/&gt;\r\n\r\n    public class Emp {\r\n      public String getName() {\r\n        ResponseEntity&lt;LinkedHashMap&gt; res = restTemplate.postForEntity(url, null, LinkedHashMap.class);\r\n        return res.getBody().get(&quot;name&quot;);\r\n      }\r\n    }\r\nMy unit test code is as follows &lt;br/&gt;\r\n\r\n            LinkedHashMap&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n            map.put(&quot;name&quot;, &quot;foo&quot;);\r\n            ResponseEntity&lt;LinkedHashMap&gt; entity = new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\r\n\r\n            Mockito.when(restTemplate.postForEntity(Mockito.any(), Mockito.any(), Mockito.any())).thenReturn(entity);\r\n\r\nBut I am getting compilation error as \r\n\r\n&gt; java: no suitable method found for thenReturn(org.springframework.http.ResponseEntity&lt;java.util.LinkedHashMap&gt;)\r\n\r\nCouldn&#39;t get rid of the error after many trial n error. &lt;br/&gt;\r\nCan someone point at whats wrong here and how I can fix the unit test code?\r\n\r\nthanks","title":"How to return ResponseEntity when mocking RestTemplate","body":"<br/>\nfollowing is my method which I am trying to unit test <br/>\n<pre><code>public class Emp {\n  public String getName() {\n    ResponseEntity&lt;LinkedHashMap&gt; res = restTemplate.postForEntity(url, null, LinkedHashMap.class);\n    return res.getBody().get(&quot;name&quot;);\n  }\n}\n</code></pre>\n<p>My unit test code is as follows <br/></p>\n<pre><code>        LinkedHashMap&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;name&quot;, &quot;foo&quot;);\n        ResponseEntity&lt;LinkedHashMap&gt; entity = new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\n\n        Mockito.when(restTemplate.postForEntity(Mockito.any(), Mockito.any(), Mockito.any())).thenReturn(entity);\n</code></pre>\n<p>But I am getting compilation error as</p>\n<blockquote>\n<p>java: no suitable method found for thenReturn(org.springframework.http.ResponseEntity&lt;java.util.LinkedHashMap&gt;)</p>\n</blockquote>\n<p>Couldn't get rid of the error after many trial n error. <br/>\nCan someone point at whats wrong here and how I can fix the unit test code?</p>\n<p>thanks</p>\n"},{"tags":["java","spring","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1705684,"reputation":7431,"user_id":1564766,"accept_rate":15,"display_name":"abishkar bhattarai"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1364981398,"creation_date":1364978134,"answer_id":15782468,"question_id":15781322,"body_markdown":"    @Around(&quot;execution(* com.mumz.test.spring.aop.BookShelf.addBook(..))&quot;)\r\n\r\nIt means before calling `com.mumz.test.spring.aop.BookShelf.addBook` method  `aroundAddAdvice`  method is called.\r\nAfter \r\n`System.out.println(&quot;Book being added is : &quot; + object);` operation is completed . it will call your actual method `addBook()`. `pjp.proceed()` will call `addBook()` method.","title":"Joinpoint VS ProceedingJoinPoint in AOP using aspectJ?","body":"<pre><code>@Around(\"execution(* com.mumz.test.spring.aop.BookShelf.addBook(..))\")\n</code></pre>\n\n<p>It means before calling <code>com.mumz.test.spring.aop.BookShelf.addBook</code> method  <code>aroundAddAdvice</code>  method is called.\nAfter \n<code>System.out.println(\"Book being added is : \" + object);</code> operation is completed . it will call your actual method <code>addBook()</code>. <code>pjp.proceed()</code> will call <code>addBook()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1364981958,"creation_date":1364981958,"answer_id":15783850,"question_id":15781322,"body_markdown":"An around advice is a special advice that can control when and if a method (or other join point) is executed. This is true for around advices only, so they require an argument of type `ProceedingJoinPoint`, whereas other advices just use a plain `JoinPoint`. A sample use case is to cache return values:\r\n\r\n\r\n    private SomeCache cache;\r\n    \r\n    @Around(&quot;some.signature.pattern.*(*)&quot;)\r\n    public Object cacheMethodReturn(ProceedingJoinPoint pjp){\r\n        Object cached = cache.get(pjp.getArgs());\r\n        if(cached != null) return cached; // method is never executed at all\r\n        else{\r\n            Object result = pjp.proceed();\r\n            cache.put(pjp.getArgs(), result);\r\n            return result;\r\n        }\r\n    }\r\n\r\nIn this code (using a non-existent cache technology to illustrate a point) the actual method is only called if the cache doesn&#39;t return a result. This is the exact way the [Spring EHCache Annotations][1] project works, for example.\r\n\r\nAnother specialty of around advices is that they must have a return value, whereas other advice types must not have one.\r\n\r\n\r\n  [1]: https://code.google.com/p/ehcache-spring-annotations/","title":"Joinpoint VS ProceedingJoinPoint in AOP using aspectJ?","body":"<p>An around advice is a special advice that can control when and if a method (or other join point) is executed. This is true for around advices only, so they require an argument of type <code>ProceedingJoinPoint</code>, whereas other advices just use a plain <code>JoinPoint</code>. A sample use case is to cache return values:</p>\n\n<pre><code>private SomeCache cache;\n\n@Around(\"some.signature.pattern.*(*)\")\npublic Object cacheMethodReturn(ProceedingJoinPoint pjp){\n    Object cached = cache.get(pjp.getArgs());\n    if(cached != null) return cached; // method is never executed at all\n    else{\n        Object result = pjp.proceed();\n        cache.put(pjp.getArgs(), result);\n        return result;\n    }\n}\n</code></pre>\n\n<p>In this code (using a non-existent cache technology to illustrate a point) the actual method is only called if the cache doesn't return a result. This is the exact way the <a href=\"https://code.google.com/p/ehcache-spring-annotations/\" rel=\"noreferrer\">Spring EHCache Annotations</a> project works, for example.</p>\n\n<p>Another specialty of around advices is that they must have a return value, whereas other advice types must not have one.</p>\n"},{"tags":[],"owner":{"account_id":5001436,"reputation":905,"user_id":4020329,"display_name":"Ali Yeganeh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596630961,"creation_date":1596630961,"answer_id":63265352,"question_id":15781322,"body_markdown":"Use **JoinPoint** with following advice types: &lt;br&gt;\r\n\r\n     @Before, @After, @AfterReturning, @AfterThrowing\r\n\r\n Use **ProceedingJoinPoint** with following advice type:\r\n\r\n    @Around","title":"Joinpoint VS ProceedingJoinPoint in AOP using aspectJ?","body":"<p>Use <strong>JoinPoint</strong> with following advice types: <br></p>\n<pre><code> @Before, @After, @AfterReturning, @AfterThrowing\n</code></pre>\n<p>Use <strong>ProceedingJoinPoint</strong> with following advice type:</p>\n<pre><code>@Around\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7259287,"reputation":2214,"user_id":5536695,"accept_rate":40,"display_name":"YogendraR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695669148,"creation_date":1661757725,"answer_id":73525354,"question_id":15781322,"body_markdown":"`ProceedingJoinPoint` is a `JoinPoint` with additional features.\r\n\r\n\r\n`ProceedingJoinPoint` is used with `@Around` advice. `@Around` is very powerful advice that combines the features of rest of the Advice.\r\n\r\n`ProceedingJoinPoint::proceed` is basically used to execute the original method.\r\n\r\nConsider following example:\r\n\r\n    @Around(&quot;@annotation(com.annotations.ExecutionLoggerAround)&quot;)\r\n    public void executeLogger(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n        System.out.println(&quot;Method execution starts at :: &quot; + System.currentTimeMillis());\r\n        proceedingJoinPoint.proceed();\r\n        System.out.println(&quot;Method execution completes at :: &quot; + System.currentTimeMillis());\r\n    }\r\n\r\n    @ExecutionLoggerAround\r\n    public void generateReport() {\r\n        System.out.println(&quot;Generating XLS report !!&quot;);\r\n    }\r\n\r\n    public @interface ExecutionLogger {\r\n    }\r\n\r\n\r\n\r\nNow when you will call `generateReport`, `Around` advice will be executed. If you skip line `proceedingJoinPoint.proceed()`, the actual method will not be executed. You will see only those two `println` in the console.\r\n\r\n\r\nPS: To understand better you need to know how AOP works. Spring creates proxy objects either using JDK proxy or CGLIB proxy. So its actually the proxied object that executes at runtime which use our method behind the scene.\r\n\r\nI have written more about this [here][1]\r\n\r\n\r\n  [1]: https://medium.com/@yogendra.209/custom-redis-cache-using-spring-aop-d04b49756a8f","title":"Joinpoint VS ProceedingJoinPoint in AOP using aspectJ?","body":"<p><code>ProceedingJoinPoint</code> is a <code>JoinPoint</code> with additional features.</p>\n<p><code>ProceedingJoinPoint</code> is used with <code>@Around</code> advice. <code>@Around</code> is very powerful advice that combines the features of rest of the Advice.</p>\n<p><code>ProceedingJoinPoint::proceed</code> is basically used to execute the original method.</p>\n<p>Consider following example:</p>\n<pre><code>@Around(&quot;@annotation(com.annotations.ExecutionLoggerAround)&quot;)\npublic void executeLogger(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n    System.out.println(&quot;Method execution starts at :: &quot; + System.currentTimeMillis());\n    proceedingJoinPoint.proceed();\n    System.out.println(&quot;Method execution completes at :: &quot; + System.currentTimeMillis());\n}\n\n@ExecutionLoggerAround\npublic void generateReport() {\n    System.out.println(&quot;Generating XLS report !!&quot;);\n}\n\npublic @interface ExecutionLogger {\n}\n</code></pre>\n<p>Now when you will call <code>generateReport</code>, <code>Around</code> advice will be executed. If you skip line <code>proceedingJoinPoint.proceed()</code>, the actual method will not be executed. You will see only those two <code>println</code> in the console.</p>\n<p>PS: To understand better you need to know how AOP works. Spring creates proxy objects either using JDK proxy or CGLIB proxy. So its actually the proxied object that executes at runtime which use our method behind the scene.</p>\n<p>I have written more about this <a href=\"https://medium.com/@yogendra.209/custom-redis-cache-using-spring-aop-d04b49756a8f\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2057943,"reputation":8309,"user_id":1835198,"accept_rate":58,"display_name":"Human Being"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42532,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":15782468,"answer_count":4,"score":24,"last_activity_date":1695669148,"creation_date":1364974106,"question_id":15781322,"body_markdown":"Can any one tell me what is the difference between `Joinpoint` and  `Proceedingjoinpoint`?\r\n\r\nWhen to use `Joinpoint` and `Proceedingjoinpoint` in the method of aspect class?\r\n\r\nI used the `JoinPoint` in my AspectJ class like:\r\n\r\n\t@Pointcut(&quot;execution(* com.pointel.aop.test1.AopTest.beforeAspect(..))&quot;)  \r\n\tpublic void adviceChild(){}  \r\n\r\n\t@Before(&quot;adviceChild()&quot;)  \r\n\tpublic void beforeAdvicing(JoinPoint joinPoint /*,ProceedingJoinPoint pjp - used refer book marks of AOP*/){ \r\n\r\n\t\t//Used to get the parameters of the method !\r\n\t\tObject[] arguments = joinPoint.getArgs();\r\n\t\tfor (Object object : arguments) {\r\n\t\t\tSystem.out.println(&quot;List of parameters : &quot; + object);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Method name : &quot; + joinPoint.getSignature().getName());\r\n\t\tlog.info(&quot;beforeAdvicing...........****************...........&quot;);\r\n\t\tlog.info(&quot;Method name : &quot; + joinPoint.getSignature().getName());\r\n\t\tSystem.out.println(&quot;************************&quot;); \r\n\t}\r\n\r\nBut what I see in other resources is: \r\n\r\n\t@Around(&quot;execution(* com.mumz.test.spring.aop.BookShelf.addBook(..))&quot;)\r\n\tpublic void aroundAddAdvice(ProceedingJoinPoint pjp){\r\n\t\tObject[] arguments = pjp.getArgs();\r\n\t\tfor (Object object : arguments) {\r\n\t\t    System.out.println(&quot;Book being added is : &quot; + object);\r\n\t\t}\r\n\t\ttry {\r\n\t\t    pjp.proceed();\r\n\t\t} catch (Throwable e) {\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t} \r\n\r\nHere what will `ProceedingJoinPoint` do differently compare to &#39;JointPoint`? Also what will `pjp.proceed()` do for us?","title":"Joinpoint VS ProceedingJoinPoint in AOP using aspectJ?","body":"<p>Can any one tell me what is the difference between <code>Joinpoint</code> and  <code>Proceedingjoinpoint</code>?</p>\n\n<p>When to use <code>Joinpoint</code> and <code>Proceedingjoinpoint</code> in the method of aspect class?</p>\n\n<p>I used the <code>JoinPoint</code> in my AspectJ class like:</p>\n\n<pre><code>@Pointcut(\"execution(* com.pointel.aop.test1.AopTest.beforeAspect(..))\")  \npublic void adviceChild(){}  \n\n@Before(\"adviceChild()\")  \npublic void beforeAdvicing(JoinPoint joinPoint /*,ProceedingJoinPoint pjp - used refer book marks of AOP*/){ \n\n    //Used to get the parameters of the method !\n    Object[] arguments = joinPoint.getArgs();\n    for (Object object : arguments) {\n        System.out.println(\"List of parameters : \" + object);\n    }\n\n    System.out.println(\"Method name : \" + joinPoint.getSignature().getName());\n    log.info(\"beforeAdvicing...........****************...........\");\n    log.info(\"Method name : \" + joinPoint.getSignature().getName());\n    System.out.println(\"************************\"); \n}\n</code></pre>\n\n<p>But what I see in other resources is: </p>\n\n<pre><code>@Around(\"execution(* com.mumz.test.spring.aop.BookShelf.addBook(..))\")\npublic void aroundAddAdvice(ProceedingJoinPoint pjp){\n    Object[] arguments = pjp.getArgs();\n    for (Object object : arguments) {\n        System.out.println(\"Book being added is : \" + object);\n    }\n    try {\n        pjp.proceed();\n    } catch (Throwable e) {\n        e.printStackTrace();\n    }\n} \n</code></pre>\n\n<p>Here what will <code>ProceedingJoinPoint</code> do differently compare to 'JointPoint<code>? Also what will</code>pjp.proceed()` do for us?</p>\n"},{"tags":["java","selenium","selenium-webdriver","import","webdriver"],"comments":[{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1534760412,"post_id":51928488,"comment_id":90806792,"body_markdown":"hard to say. do you have the latest versions of the needed jars? [here](https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java) and [here](https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-firefox-driver)","body":"hard to say. do you have the latest versions of the needed jars? <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-firefox-driver\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":931382,"reputation":4561,"user_id":961215,"accept_rate":71,"display_name":"Abhishek_Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534762483,"creation_date":1534762483,"answer_id":51929201,"question_id":51928488,"body_markdown":"Add **selenium jars** and other required jars to **build path of your project** in Eclipse and **Rebuild the project**.","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>Add <strong>selenium jars</strong> and other required jars to <strong>build path of your project</strong> in Eclipse and <strong>Rebuild the project</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534769463,"creation_date":1534769463,"answer_id":51931163,"question_id":51928488,"body_markdown":"Add jars like this\r\n\r\n&gt; Right click on project  --&gt; Configure BuildPath --&gt; Java Build Path\r\n&gt; Libraries --&gt; \r\n&gt; \r\n&gt; Double click on JRE SYSTEM LIBRARY --&gt; Then select alternate JRE\r\n\r\nFrom C:\\Program Files (x86)\\Java\\jre7\\lib your path where you store JRE\r\n\r\nRefer this [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16918959/import-xxx-cannot-be-resolved-for-java-se-standard-classes","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>Add jars like this</p>\n\n<blockquote>\n  <p>Right click on project  --> Configure BuildPath --> Java Build Path\n  Libraries --> </p>\n  \n  <p>Double click on JRE SYSTEM LIBRARY --> Then select alternate JRE</p>\n</blockquote>\n\n<p>From C:\\Program Files (x86)\\Java\\jre7\\lib your path where you store JRE</p>\n\n<p>Refer this <a href=\"https://stackoverflow.com/questions/16918959/import-xxx-cannot-be-resolved-for-java-se-standard-classes\">answer</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534847827,"creation_date":1534847827,"answer_id":51946801,"question_id":51928488,"body_markdown":"This error message...\r\n\r\n\tThe import org cannot be resolved\r\n\r\n...implies that your program was unable to resolve the following **imports**:\r\n\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\nYour main issue for the **imports** not getting reslved is **circular-dependency**.\r\n\r\nThough you have added all the **selenium jars** and **relative jars** but you have named the program _Module_ / _Package_ as **selenium** as follows:\r\n\r\n\tpackage selenium;\r\n\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\t\r\nThis is causing a **circular-dependency** hence the imports are not getting resolved through the _selenium_ related jars.\r\n\r\nSolution\r\n--------\r\nChanging/Modifying the _Module_ / _Package_ name from `selenium` to something else, e.g. **`myProgram`** will solve the issue.","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>This error message...</p>\n\n<pre><code>The import org cannot be resolved\n</code></pre>\n\n<p>...implies that your program was unable to resolve the following <strong>imports</strong>:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n</code></pre>\n\n<p>Your main issue for the <strong>imports</strong> not getting reslved is <strong>circular-dependency</strong>.</p>\n\n<p>Though you have added all the <strong>selenium jars</strong> and <strong>relative jars</strong> but you have named the program <em>Module</em> / <em>Package</em> as <strong>selenium</strong> as follows:</p>\n\n<pre><code>package selenium;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n</code></pre>\n\n<p>This is causing a <strong>circular-dependency</strong> hence the imports are not getting resolved through the <em>selenium</em> related jars.</p>\n\n<h2>Solution</h2>\n\n<p>Changing/Modifying the <em>Module</em> / <em>Package</em> name from <code>selenium</code> to something else, e.g. <strong><code>myProgram</code></strong> will solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1547739199,"creation_date":1542831316,"answer_id":53419839,"question_id":51928488,"body_markdown":"delete module-info.java file or any other module file that was created at the time of creating the project. That will resolve the issue.\r\n\r\n[![module-info.java][1]][1]\r\n\r\n[![error resolved][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sF1DX.png\r\n  [2]: https://i.stack.imgur.com/FXz4z.png","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>delete module-info.java file or any other module file that was created at the time of creating the project. That will resolve the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sF1DX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sF1DX.png\" alt=\"module-info.java\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FXz4z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXz4z.png\" alt=\"error resolved\"></a></p>\n"},{"tags":[],"owner":{"account_id":5388310,"reputation":64,"user_id":4291594,"display_name":"Ramesh Korla"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1574352446,"creation_date":1574352446,"answer_id":58979126,"question_id":51928488,"body_markdown":"You have to remove the module-info.java class from project it will works.\r\nModule info is not required for selenium project. So you can remove it :)","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>You have to remove the module-info.java class from project it will works.\nModule info is not required for selenium project. So you can remove it :)</p>\n"},{"tags":[],"owner":{"account_id":18722473,"reputation":111,"user_id":13650007,"display_name":"Rahul Khatoliya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695668754,"creation_date":1695668754,"answer_id":77175163,"question_id":51928488,"body_markdown":"For me, the jar files responsible for spring framework were not their in the JRE, so i downloaded the respective jars and added in the build path.\r\n\r\nbelow is the link which i followed and it worked for me.\r\n\r\nRemember to see the section : &quot;2) Add spring jar files&quot; from the below link:\r\n\r\n[refer this link][1]\r\n\r\n\r\n  [1]: https://www.javatpoint.com/example-of-spring-application-in-eclipse","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>For me, the jar files responsible for spring framework were not their in the JRE, so i downloaded the respective jars and added in the build path.</p>\n<p>below is the link which i followed and it worked for me.</p>\n<p>Remember to see the section : &quot;2) Add spring jar files&quot; from the below link:</p>\n<p><a href=\"https://www.javatpoint.com/example-of-spring-application-in-eclipse\" rel=\"nofollow noreferrer\">refer this link</a></p>\n"}],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10069,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53419839,"answer_count":6,"score":4,"last_activity_date":1695668754,"creation_date":1534759865,"question_id":51928488,"body_markdown":"I&#39;m creating a basic selenium Webdriver program by adding the selenium jars and relative jars, below is my code. but when i try to resolve firefordriver and webdriver for importing them. im getting &quot;The import org cannot be resolved&quot; error. \r\n\r\nEnvironment details: \r\n\r\n&gt; JavaSe-10.\r\n&gt; \r\n&gt; Eclipse Version  Photon Release (4.8.0) Build id: 20180619-1200\r\n&gt; \r\n&gt; Selenium StandAlone server 3.9.1\r\n\r\nCode: \r\n\r\n    package selenium;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class WebDriverBasics {\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n            //1. Firefox browser. \r\n            //geckodriver.\r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;d:\\\\installations\\\\eclipse\\\\jars\\\\geckodriver.exe&quot;);\r\n            WebDriver driver = new FirefoxDriver();\r\n        }\r\n    }","title":"&quot;The import org cannot be resolved&quot; error with the imports in Eclipse Photon with selenium Standalone server 3.9.1","body":"<p>I'm creating a basic selenium Webdriver program by adding the selenium jars and relative jars, below is my code. but when i try to resolve firefordriver and webdriver for importing them. im getting \"The import org cannot be resolved\" error. </p>\n\n<p>Environment details: </p>\n\n<blockquote>\n  <p>JavaSe-10.</p>\n  \n  <p>Eclipse Version  Photon Release (4.8.0) Build id: 20180619-1200</p>\n  \n  <p>Selenium StandAlone server 3.9.1</p>\n</blockquote>\n\n<p>Code: </p>\n\n<pre><code>package selenium;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class WebDriverBasics {\n\n    public static void main(String[] args) {\n\n        //1. Firefox browser. \n        //geckodriver.\n        System.setProperty(\"webdriver.gecko.driver\",\"d:\\\\installations\\\\eclipse\\\\jars\\\\geckodriver.exe\");\n        WebDriver driver = new FirefoxDriver();\n    }\n}\n</code></pre>\n"},{"tags":["java","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":13871965,"reputation":249,"user_id":10014806,"display_name":"Jared Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695667997,"creation_date":1695667997,"answer_id":77175099,"question_id":77174432,"body_markdown":"Moving to a new version of Liberty does not require you to change to use a new version of Java / Jakarta EE.  Since you did though, I assume you updated your server.xml to have Jakarta EE 9 or 10 features.  There is some discrepancy in your question though.  The title says 23 and the question states 22.0.0.1.  I would suggest that you run on a release of Liberty that ends with 3, 6, 9, and 12 since those are the releases that give you the longest support for interim fixes.  \r\n\r\nIn your question you did not give any information about any errors you saw when running your server.  If there are errors in the logs including FFDC logs those should be looked at to see if they provide any insight as to what the problem is.  Adding additional details to the question or in a comment that provides the server.xml content and any errors you see in the logs will help provide additional insight into this problem.  Also please provide some clarification on which version you are actually trying to run on.","title":"Openliberty 23 embedded server does not run servlets after upgrading from openliberty 20","body":"<p>Moving to a new version of Liberty does not require you to change to use a new version of Java / Jakarta EE.  Since you did though, I assume you updated your server.xml to have Jakarta EE 9 or 10 features.  There is some discrepancy in your question though.  The title says 23 and the question states 22.0.0.1.  I would suggest that you run on a release of Liberty that ends with 3, 6, 9, and 12 since those are the releases that give you the longest support for interim fixes.</p>\n<p>In your question you did not give any information about any errors you saw when running your server.  If there are errors in the logs including FFDC logs those should be looked at to see if they provide any insight as to what the problem is.  Adding additional details to the question or in a comment that provides the server.xml content and any errors you see in the logs will help provide additional insight into this problem.  Also please provide some clarification on which version you are actually trying to run on.</p>\n"}],"owner":{"account_id":29511581,"reputation":1,"user_id":22616497,"display_name":"Nayeem Kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695667997,"creation_date":1695660500,"question_id":77174432,"body_markdown":"After upgrading from openliberty version 21.0.0.3 to version 22.0.0.1 , my test suites are no longer able to properly load servlets that are placed into the `dropins/` directory. I am receiving the error `Error 404: java.io.FileNotFoundException: SRVE0190E: File not found: /success`. The servlet is defined using the `@WebServlet` annotation and is being loaded properly when used with openliberty 21.0.0.3 . \r\n\r\nI have made the conversions from javax to jakarta to resolve any issues with dependency conflicts and have run the server with debug logging to monitor for any error output. The server seems to properly be able to detect my server directory and load it, but fails to load the servlets when making requests: `CWWKZ0135I: The testapp application is using the expanded directory at the *...*/openliberty-jars/wlp/usr/servers/defaultServer/dropins/war/testapp location.`\r\n\r\nAlthough my servlets are properly compiled and stored in the directory that is being used, the servlets continue to fail to be loaded properly.","title":"Openliberty 23 embedded server does not run servlets after upgrading from openliberty 20","body":"<p>After upgrading from openliberty version 21.0.0.3 to version 22.0.0.1 , my test suites are no longer able to properly load servlets that are placed into the <code>dropins/</code> directory. I am receiving the error <code>Error 404: java.io.FileNotFoundException: SRVE0190E: File not found: /success</code>. The servlet is defined using the <code>@WebServlet</code> annotation and is being loaded properly when used with openliberty 21.0.0.3 .</p>\n<p>I have made the conversions from javax to jakarta to resolve any issues with dependency conflicts and have run the server with debug logging to monitor for any error output. The server seems to properly be able to detect my server directory and load it, but fails to load the servlets when making requests: <code>CWWKZ0135I: The testapp application is using the expanded directory at the *...*/openliberty-jars/wlp/usr/servers/defaultServer/dropins/war/testapp location.</code></p>\n<p>Although my servlets are properly compiled and stored in the directory that is being used, the servlets continue to fail to be loaded properly.</p>\n"},{"tags":["java","string","http","download"],"answers":[{"tags":[],"owner":{"account_id":12264087,"reputation":717,"user_id":8951071,"display_name":"Ahmed Abdelazim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536434255,"creation_date":1536434255,"answer_id":52238606,"question_id":52238528,"body_markdown":"you can easily use OkHttp\r\nDon NOT forget to import first\r\n\r\n&gt; sample code:\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    \r\n    String run(String url) throws IOException {\r\n      Request request = new Request.Builder()\r\n          .url(url)\r\n          .build();\r\n    \r\n      Response response = client.newCall(request).execute();\r\n      return response.body().string();\r\n    }\r\nMore info: \r\nhttp://square.github.io/okhttp/","title":"Java: Download String HTTP GET","body":"<p>you can easily use OkHttp\nDon NOT forget to import first</p>\n\n<blockquote>\n  <p>sample code:</p>\n</blockquote>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\n\nString run(String url) throws IOException {\n  Request request = new Request.Builder()\n      .url(url)\n      .build();\n\n  Response response = client.newCall(request).execute();\n  return response.body().string();\n}\n</code></pre>\n\n<p>More info: \n<a href=\"http://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">http://square.github.io/okhttp/</a></p>\n"},{"tags":[],"owner":{"account_id":9549012,"reputation":505,"user_id":7093791,"display_name":"Ali K. Nouri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536907579,"creation_date":1536436782,"answer_id":52238955,"question_id":52238528,"body_markdown":"Using `org.apache.commons.http` has been always robust, light-weighted and user-friendly to me. By adding a header to `request` you&#39;d be able to set `User-Agent` representing the client&#39;s OS and Browser information. Also, if server is sensitive to content-type, you could add another header for `Content-type` as, for example, `application/json`.\r\nIn case of using any authentication library such as `jwt`, token could be located here as well.\r\n\r\n    public class Client {\r\n\r\n    private static HttpClient CLIENT = HttpClientBuilder.create().build();\r\n    private static final String URL = &quot;http://127.0.0.1/page.php?var=a&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Client client = new Client();\r\n        System.out.println(client.requestBuilder(URL));\r\n    }\r\n\r\n    private String requestBuilder(String url) throws IOException {\r\n        HttpGet request = new HttpGet(url);\r\n        // Add headers: OS, Browser, Content-Type\r\n        request.addHeader(&quot;User-Agent&quot;, &quot;Linux&quot;);\r\n        request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        HttpResponse response = CLIENT.execute(request);\r\n        BufferedReader reader = new BufferedReader(new \r\n        InputStreamReader(response.getEntity().getContent()));\r\n        StringBuilder result = new StringBuilder();\r\n        String line;\r\n        while (Objects.nonNull(line = reader.readLine()))\r\n            result.append(line);\r\n        return result.toString();\r\n    }\r\n\r\nHope that helps. Please don&#39;t hesitate to ping me if anything remained unclear.","title":"Java: Download String HTTP GET","body":"<p>Using <code>org.apache.commons.http</code> has been always robust, light-weighted and user-friendly to me. By adding a header to <code>request</code> you'd be able to set <code>User-Agent</code> representing the client's OS and Browser information. Also, if server is sensitive to content-type, you could add another header for <code>Content-type</code> as, for example, <code>application/json</code>.\nIn case of using any authentication library such as <code>jwt</code>, token could be located here as well.</p>\n\n<pre><code>public class Client {\n\nprivate static HttpClient CLIENT = HttpClientBuilder.create().build();\nprivate static final String URL = \"http://127.0.0.1/page.php?var=a\";\n\npublic static void main(String[] args) throws IOException {\n    Client client = new Client();\n    System.out.println(client.requestBuilder(URL));\n}\n\nprivate String requestBuilder(String url) throws IOException {\n    HttpGet request = new HttpGet(url);\n    // Add headers: OS, Browser, Content-Type\n    request.addHeader(\"User-Agent\", \"Linux\");\n    request.addHeader(\"Content-Type\", \"application/json\");\n    HttpResponse response = CLIENT.execute(request);\n    BufferedReader reader = new BufferedReader(new \n    InputStreamReader(response.getEntity().getContent()));\n    StringBuilder result = new StringBuilder();\n    String line;\n    while (Objects.nonNull(line = reader.readLine()))\n        result.append(line);\n    return result.toString();\n}\n</code></pre>\n\n<p>Hope that helps. Please don't hesitate to ping me if anything remained unclear.</p>\n"},{"tags":[],"owner":{"account_id":4845031,"reputation":3448,"user_id":4307644,"accept_rate":80,"display_name":"MeetTitan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536437281,"creation_date":1536437281,"answer_id":52239003,"question_id":52238528,"body_markdown":"You can do this in one line of hackey Java with no additional libraries.\r\nLike so:\r\n\r\n    String out = new Scanner(new URL(...).openStream(), &quot;UTF-8&quot;).useDelimiter(&quot;\\\\A&quot;).next();","title":"Java: Download String HTTP GET","body":"<p>You can do this in one line of hackey Java with no additional libraries.\nLike so:</p>\n\n<pre><code>String out = new Scanner(new URL(...).openStream(), \"UTF-8\").useDelimiter(\"\\\\A\").next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23989993,"reputation":69,"user_id":17976292,"display_name":"lwei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695667322,"creation_date":1695667322,"answer_id":77175049,"question_id":52238528,"body_markdown":"    try (\r\n      InputStream in = uri.openStream();\r\n      FileOutputStream out = new FileOutputStream(outFile);\r\n    ) {\r\n      HttpURLConnection uriConn = (HttpURLConnection) uri.openConnection();\r\n      int contentLength = uriConn.getHeaderFieldInt(&quot;Content-Length&quot;, -1);\r\n\r\n      out.getChannel().transferFrom(Channels.newChannel(in),\r\n                                    outFile.length(),\r\n                                    contentLength);\r\n    } catch (IOException ex) {\r\n      ex.printStackTrace();\r\n    }","title":"Java: Download String HTTP GET","body":"<pre><code>try (\n  InputStream in = uri.openStream();\n  FileOutputStream out = new FileOutputStream(outFile);\n) {\n  HttpURLConnection uriConn = (HttpURLConnection) uri.openConnection();\n  int contentLength = uriConn.getHeaderFieldInt(&quot;Content-Length&quot;, -1);\n\n  out.getChannel().transferFrom(Channels.newChannel(in),\n                                outFile.length(),\n                                contentLength);\n} catch (IOException ex) {\n  ex.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":14265842,"reputation":19,"user_id":10305028,"display_name":"Romero Melo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1695667322,"creation_date":1536433664,"question_id":52238528,"body_markdown":"Good afternoon;\r\nI need code that will download a small server string,\r\nI have server that receives parameter and returns value via PHP\r\n\r\nURL: http://127.0.0.1/page.php?var=a\r\n\r\nThe url can return with value &quot;YES&quot; or &quot;NO&quot;\r\n\r\nI want to code variable and return the values","title":"Java: Download String HTTP GET","body":"<p>Good afternoon;\nI need code that will download a small server string,\nI have server that receives parameter and returns value via PHP</p>\n\n<p>URL: <a href=\"http://127.0.0.1/page.php?var=a\" rel=\"nofollow noreferrer\">http://127.0.0.1/page.php?var=a</a></p>\n\n<p>The url can return with value \"YES\" or \"NO\"</p>\n\n<p>I want to code variable and return the values</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"score":0,"creation_date":1695653208,"post_id":77173582,"comment_id":136049741,"body_markdown":"did you check the output type of your data in output schema ? did you set it up as boolean ?","body":"did you check the output type of your data in output schema ? did you set it up as boolean ?"},{"owner":{"account_id":19674576,"reputation":3,"user_id":14403056,"display_name":"dev_code"},"score":0,"creation_date":1695655144,"post_id":77173582,"comment_id":136050195,"body_markdown":"no , its string","body":"no , its string"},{"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"score":0,"creation_date":1695738032,"post_id":77173582,"comment_id":136062690,"body_markdown":"did you try to set as string instead ? it should work if i understood correctly","body":"did you try to set as string instead ? it should work if i understood correctly"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695667319,"creation_date":1695667319,"answer_id":77175048,"question_id":77173582,"body_markdown":"&gt; _&quot;... When using it as a user-defined function it is giving error that boolean cannot be converted to string. While passing in Talend tmap, I am giving `CheckDelimiter.checkDelimiter(columname,&quot;|&quot;)`.\\\r\n&gt;\\\r\n&gt; What am I doing wrong here?&quot;_\r\n\r\nThe provided code functions correctly.\r\n\r\nThe error you&#39;re describing happens when assigning a _boolean_ value to a _String_ resolve.\r\n\r\nFor example.\r\n\r\n```java\r\nString s = true;\r\n```\r\n\r\n```none\r\njava: incompatible types: boolean cannot be converted to java.lang.String\r\n```\r\n\r\nConsidering your _checkDelimiter_ method returns a _boolean_ value, I imagine you&#39;re applying it incorrectly somewhere else.\r\n\r\nThere are a few things you can do to fix this.\r\n\r\nWrap the return value within a _[String#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(boolean))_ or _[Boolean#toString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Boolean.html#toString(boolean))_ call.\r\n\r\n```java\r\nString s = String.valueOf(CheckDelimiter.checkDelimiter(columname,&quot;|&quot;));\r\n```\r\n\r\n```java\r\nString s = Boolean.toString(CheckDelimiter.checkDelimiter(columname,&quot;|&quot;));\r\n```\r\n\r\nAlternately, utilize the _[Boolean](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Boolean.html)_ class as the return type, which provides a _toString_ method.\r\n\r\n```java\r\npublic static Boolean checkDelimiter(String inputData,String delimiter)\r\n```\r\n\r\n```java\r\nString s = CheckDelimiter.checkDelimiter(columname,&quot;|&quot;).toString();\r\n```\r\n\r\nOr finally, adjust the returning value of _checkDelimiter_ to a _String_.\r\n\r\n```java\r\npublic static String checkDelimiter(String inputData,String delimiter) {\r\n    if (inputData.contains(delimiter)) {\r\n        return String.valueOf(false);\r\n    } else {\r\n        return String.valueOf(true);\r\n    }\r\n}\r\n```\r\n\r\nOn a final note, you can reduce the conditional statement to a single return.\r\n\r\n```java\r\npublic static boolean checkDelimiter(String inputData,String delimiter) {\r\n    return !inputData.contains(delimiter);\r\n}\r\n```","title":"Routine to check delimiter in column","body":"<blockquote>\n<p><em>&quot;... When using it as a user-defined function it is giving error that boolean cannot be converted to string. While passing in Talend tmap, I am giving <code>CheckDelimiter.checkDelimiter(columname,&quot;|&quot;)</code>.<br />\n<br />\nWhat am I doing wrong here?&quot;</em></p>\n</blockquote>\n<p>The provided code functions correctly.</p>\n<p>The error you're describing happens when assigning a <em>boolean</em> value to a <em>String</em> resolve.</p>\n<p>For example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = true;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>java: incompatible types: boolean cannot be converted to java.lang.String\n</code></pre>\n<p>Considering your <em>checkDelimiter</em> method returns a <em>boolean</em> value, I imagine you're applying it incorrectly somewhere else.</p>\n<p>There are a few things you can do to fix this.</p>\n<p>Wrap the return value within a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(boolean)\" rel=\"nofollow noreferrer\">String#valueOf</a></em> or <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Boolean.html#toString(boolean)\" rel=\"nofollow noreferrer\">Boolean#toString</a></em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = String.valueOf(CheckDelimiter.checkDelimiter(columname,&quot;|&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = Boolean.toString(CheckDelimiter.checkDelimiter(columname,&quot;|&quot;));\n</code></pre>\n<p>Alternately, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Boolean.html\" rel=\"nofollow noreferrer\">Boolean</a></em> class as the return type, which provides a <em>toString</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Boolean checkDelimiter(String inputData,String delimiter)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = CheckDelimiter.checkDelimiter(columname,&quot;|&quot;).toString();\n</code></pre>\n<p>Or finally, adjust the returning value of <em>checkDelimiter</em> to a <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String checkDelimiter(String inputData,String delimiter) {\n    if (inputData.contains(delimiter)) {\n        return String.valueOf(false);\n    } else {\n        return String.valueOf(true);\n    }\n}\n</code></pre>\n<p>On a final note, you can reduce the conditional statement to a single return.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean checkDelimiter(String inputData,String delimiter) {\n    return !inputData.contains(delimiter);\n}\n</code></pre>\n"}],"owner":{"account_id":19674576,"reputation":3,"user_id":14403056,"display_name":"dev_code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695667319,"creation_date":1695652533,"question_id":77173582,"body_markdown":"I am getting my hands dirty with Java and writing a bit of code in Java for a Talend routine. The routine is to be used as a user-defined function in checking if the column data has a delimiter, if yes then reject that row, if not then pass that row.\r\n\r\n```\r\npublic class CheckDelimiter {\r\n   \r\n    public static boolean checkDelimiter(String inputData,String delimiter) {\r\n\t    if (inputData.contains(delimiter)) {\r\n\t        return false;\r\n\t    } else {\r\n    \t    return true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen using it as a user-defined function it is giving error that boolean cannot be converted to string. While passing in Talend tmap, I am giving `CheckDelimiter.checkDelimiter(columname,&quot;|&quot;)`.\r\n\r\nWhat am I doing wrong here?\r\n","title":"Routine to check delimiter in column","body":"<p>I am getting my hands dirty with Java and writing a bit of code in Java for a Talend routine. The routine is to be used as a user-defined function in checking if the column data has a delimiter, if yes then reject that row, if not then pass that row.</p>\n<pre><code>public class CheckDelimiter {\n   \n    public static boolean checkDelimiter(String inputData,String delimiter) {\n        if (inputData.contains(delimiter)) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\n</code></pre>\n<p>When using it as a user-defined function it is giving error that boolean cannot be converted to string. While passing in Talend tmap, I am giving <code>CheckDelimiter.checkDelimiter(columname,&quot;|&quot;)</code>.</p>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695667304,"creation_date":1695667304,"answer_id":77175047,"question_id":77173814,"body_markdown":"Well, think that you can use `spring.rabbitmq.addresses` to do it :\r\n\r\n``` properties\r\nspring.rabbitmq.addresses=amqp://user:password@host:port\r\n```\r\n\r\nIt is documented at [here][1] :\r\n\r\n&gt; Alternatively, you could configure the same connection using the addresses attribute:\r\n&gt; \r\n&gt;   *spring.rabbitmq.addresses=amqp://admin:secret@localhost*\r\n&gt; \r\n&gt; When specifying addresses that way, the host and port properties are\r\n&gt; ignored. If the address uses the amqps protocol, SSL support is\r\n&gt; enabled automatically.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#messaging.amqp.rabbitmq","title":"Use a connection string for RabbitMQ configuration in Spring Boot","body":"<p>Well, think that you can use <code>spring.rabbitmq.addresses</code> to do it :</p>\n<pre><code>spring.rabbitmq.addresses=amqp://user:password@host:port\n</code></pre>\n<p>It is documented at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#messaging.amqp.rabbitmq\" rel=\"nofollow noreferrer\">here</a> :</p>\n<blockquote>\n<p>Alternatively, you could configure the same connection using the addresses attribute:</p>\n<p><em>spring.rabbitmq.addresses=amqp://admin:secret@localhost</em></p>\n<p>When specifying addresses that way, the host and port properties are\nignored. If the address uses the amqps protocol, SSL support is\nenabled automatically.</p>\n</blockquote>\n"}],"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695667304,"creation_date":1695654196,"question_id":77173814,"body_markdown":"When configuring RabbitMQ in a Spring Boot API, usually go to `application.properties` file and add\r\n\r\n```\r\n# RabbitMQ\r\nspring.rabbitmq.host=host\r\nspring.rabbitmq.port=port\r\nspring.rabbitmq.username=user\r\nspring.rabbitmq.password=password\r\n```\r\n\r\nwondering if it&#39;s possible, without having to create a custom property, to have a connection string like\r\n\r\n```\r\namqp://user:password@host:port/\r\n```\r\n\r\n?","title":"Use a connection string for RabbitMQ configuration in Spring Boot","body":"<p>When configuring RabbitMQ in a Spring Boot API, usually go to <code>application.properties</code> file and add</p>\n<pre><code># RabbitMQ\nspring.rabbitmq.host=host\nspring.rabbitmq.port=port\nspring.rabbitmq.username=user\nspring.rabbitmq.password=password\n</code></pre>\n<p>wondering if it's possible, without having to create a custom property, to have a connection string like</p>\n<pre><code>amqp://user:password@host:port/\n</code></pre>\n<p>?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1695666243,"post_id":77174939,"comment_id":136052190,"body_markdown":"Can you also provide the content of `application.properties` file?","body":"Can you also provide the content of <code>application.properties</code> file?"},{"owner":{"account_id":26010489,"reputation":1,"user_id":19719631,"display_name":"himan01"},"score":0,"creation_date":1695666462,"post_id":77174939,"comment_id":136052234,"body_markdown":"Sure, it looks like this:\noverall.score=80\nname.score=91\naddress.score=30","body":"Sure, it looks like this: overall.score=80 name.score=91 address.score=30"},{"owner":{"account_id":26010489,"reputation":1,"user_id":19719631,"display_name":"himan01"},"score":0,"creation_date":1695666700,"post_id":77174939,"comment_id":136052284,"body_markdown":"Added to post. There&#39;s nothing else in it but a list of scores like score=91, score=80, etc with a different prefix for each","body":"Added to post. There&#39;s nothing else in it but a list of scores like score=91, score=80, etc with a different prefix for each"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695666949,"post_id":77174939,"comment_id":136052340,"body_markdown":"Adding the `PropertySourcesPlaceholderConfigurer` doesn&#39;t make any sense in a Spring Boot application. Not does the exposing of the value as a bean for that matter.  Simply put an `@Value` cannot be `null` your application wouldn&#39;t even start if that would be the case, hence the only conclusion is you aren&#39;t using Spring to manage the actual instance you are using.","body":"Adding the <code>PropertySourcesPlaceholderConfigurer</code> doesn&#39;t make any sense in a Spring Boot application. Not does the exposing of the value as a bean for that matter.  Simply put an <code>@Value</code> cannot be <code>null</code> your application wouldn&#39;t even start if that would be the case, hence the only conclusion is you aren&#39;t using Spring to manage the actual instance you are using."},{"owner":{"account_id":26010489,"reputation":1,"user_id":19719631,"display_name":"himan01"},"score":0,"creation_date":1695667273,"post_id":77174939,"comment_id":136052407,"body_markdown":"So how you properly use Spring to pull a resources file and assign the values to a variable?  I followed the sixth answer here: https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot","body":"So how you properly use Spring to pull a resources file and assign the values to a variable?  I followed the sixth answer here: <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\" title=\"how to access a value defined in the application properties file in spring boot\">stackoverflow.com/questions/30528255/&hellip;</a>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695668158,"post_id":77174939,"comment_id":136052567,"body_markdown":"Just speculating, but It might be related to the spring bean lifecycle where `MatchThresholds`&#39;s @Bean is executed before @Value is executed, so the result of `overallScore()` is null.  Consider using constructor injection, and add breakpoints and see which one is inovked first.","body":"Just speculating, but It might be related to the spring bean lifecycle where <code>MatchThresholds</code>&#39;s @Bean is executed before @Value is executed, so the result of <code>overallScore()</code> is null.  Consider using constructor injection, and add breakpoints and see which one is inovked first."}],"owner":{"account_id":26010489,"reputation":1,"user_id":19719631,"display_name":"himan01"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695666641,"creation_date":1695666112,"question_id":77174939,"body_markdown":"I have a `@Configuration` class where I am grabbing a properties file from my `src/main/resources` directory. The contents of the properties file is like this ...\r\n\r\n     overall.score=80\r\n     name.score=91\r\n     address.score=30\r\n\r\nConfig class:\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class PropertiesConfiguration {\r\n\r\n      @Value(&quot;${overall.score}&quot;)\r\n      private String overallScore;\r\n  \r\n      @Bean\r\n      public String overallScore() {\r\n       return overallScore;\r\n      }\r\n\r\n      @Bean\r\n      public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n       return new PropertySourcesPlaceholderConfigurer();\r\n      }\r\n    }\r\n\r\nI am not totally sure what this does or if I even need it - `PropertySourcesPlaceholderConfigurer()`.\r\n\r\nThen I have a `@Component` class\r\n\r\n    @Component\r\n    public class MatchThresholds {\r\n  \r\n      @Autowired\r\n      private String overallScore;\r\n  \r\n    }\r\n\r\nI am getting `NoSuchBeanDefinitionException` and I am unsure why.\r\n\r\nI followed one of the answers here. \r\n\r\nhttps://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\r\n\r\nI&#39;ve also tried just adding this to my `@Component` class directly with the `@Value` annotations and the `overallScore` variable is returning as `null`. Like so.\r\n\r\n    @Component\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class MatchThresholds {\r\n  \r\n      @Value(&quot;${overall.score}&quot;)\r\n      private String overallScore;\r\n  \r\n      @Bean\r\n      public String overallScore() {\r\n       return overallScore;\r\n      }\r\n    }","title":"Unable to create bean from @Value in Spring Boot","body":"<p>I have a <code>@Configuration</code> class where I am grabbing a properties file from my <code>src/main/resources</code> directory. The contents of the properties file is like this ...</p>\n<pre><code> overall.score=80\n name.score=91\n address.score=30\n</code></pre>\n<p>Config class:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class PropertiesConfiguration {\n\n  @Value(&quot;${overall.score}&quot;)\n  private String overallScore;\n\n  @Bean\n  public String overallScore() {\n   return overallScore;\n  }\n\n  @Bean\n  public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n   return new PropertySourcesPlaceholderConfigurer();\n  }\n}\n</code></pre>\n<p>I am not totally sure what this does or if I even need it - <code>PropertySourcesPlaceholderConfigurer()</code>.</p>\n<p>Then I have a <code>@Component</code> class</p>\n<pre><code>@Component\npublic class MatchThresholds {\n\n  @Autowired\n  private String overallScore;\n\n}\n</code></pre>\n<p>I am getting <code>NoSuchBeanDefinitionException</code> and I am unsure why.</p>\n<p>I followed one of the answers here.</p>\n<p><a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\">How to access a value defined in the application.properties file in Spring Boot</a></p>\n<p>I've also tried just adding this to my <code>@Component</code> class directly with the <code>@Value</code> annotations and the <code>overallScore</code> variable is returning as <code>null</code>. Like so.</p>\n<pre><code>@Component\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class MatchThresholds {\n\n  @Value(&quot;${overall.score}&quot;)\n  private String overallScore;\n\n  @Bean\n  public String overallScore() {\n   return overallScore;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695666477,"creation_date":1695666477,"answer_id":77174979,"question_id":77171989,"body_markdown":"At the very high level, you can think that spring will create a AOP proxy around the actual bean instance and will inject this proxy into the controller. Any method invocation on the proxy instance will be intercepted by spring such that it will create or get the actual bean instance to invoke the actual method. \r\n\r\nEvery scope in spring besides singleton and prototype will be backed by a [`Scope`][1] implementation. In term of request scope , it is `RequestScope`. To better understand from codes, you can think that whenever you invoke any methods on that request scoped proxy , it will somehow get the actual bean instance by calling [`RequestScope#get(beanName,objectFactory)`][2] which in turn get the bean from the `RequestAttributes` . The `RequestAttributes` will be stored in the `ThreadLocal` such that each thread will have its own instance.  If no beans can be retrieved , it will instantiate a new one and store it to the `RequestAttributes`. \r\n\r\nNormally the implementation of `RequestAttributes` is `ServletRequestAttributes`. If you look at its [source codes][3] , you can then find that the request scoped bean instance is actually  stored as an attribute in the `HttpServletRequest`.\r\n\r\n\r\n&gt; What if we have 5 concurrent requests on the same controller - what\r\n&gt; RequestContext will be injected in this case?\r\n\r\nServlet container will handle these requests in separate threads. Each thread will has its own `ThreadLocal` to store its own `HttpServletRequest` which in turn store its own `RequestContext` in its attribute. So it is the `RequestContext` in the `ThreadLocal` of the thread that is used to process the HTTP request will be injected into the controller. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/Scope.html\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/7aae97bcd469105ac2f2aa76ce93f38df455e3b9/spring-web/src/main/java/org/springframework/web/context/request/AbstractRequestAttributesScope.java#L42\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/225c9062a1b062564aab9439bbda54d0b1e471d9/spring-web/src/main/java/org/springframework/web/context/request/ServletRequestAttributes.java#L179","title":"How request-scoped bean injection works in Spring","body":"<p>At the very high level, you can think that spring will create a AOP proxy around the actual bean instance and will inject this proxy into the controller. Any method invocation on the proxy instance will be intercepted by spring such that it will create or get the actual bean instance to invoke the actual method.</p>\n<p>Every scope in spring besides singleton and prototype will be backed by a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/Scope.html\" rel=\"nofollow noreferrer\"><code>Scope</code></a> implementation. In term of request scope , it is <code>RequestScope</code>. To better understand from codes, you can think that whenever you invoke any methods on that request scoped proxy , it will somehow get the actual bean instance by calling <a href=\"https://github.com/spring-projects/spring-framework/blob/7aae97bcd469105ac2f2aa76ce93f38df455e3b9/spring-web/src/main/java/org/springframework/web/context/request/AbstractRequestAttributesScope.java#L42\" rel=\"nofollow noreferrer\"><code>RequestScope#get(beanName,objectFactory)</code></a> which in turn get the bean from the <code>RequestAttributes</code> . The <code>RequestAttributes</code> will be stored in the <code>ThreadLocal</code> such that each thread will have its own instance.  If no beans can be retrieved , it will instantiate a new one and store it to the <code>RequestAttributes</code>.</p>\n<p>Normally the implementation of <code>RequestAttributes</code> is <code>ServletRequestAttributes</code>. If you look at its <a href=\"https://github.com/spring-projects/spring-framework/blob/225c9062a1b062564aab9439bbda54d0b1e471d9/spring-web/src/main/java/org/springframework/web/context/request/ServletRequestAttributes.java#L179\" rel=\"nofollow noreferrer\">source codes</a> , you can then find that the request scoped bean instance is actually  stored as an attribute in the <code>HttpServletRequest</code>.</p>\n<blockquote>\n<p>What if we have 5 concurrent requests on the same controller - what\nRequestContext will be injected in this case?</p>\n</blockquote>\n<p>Servlet container will handle these requests in separate threads. Each thread will has its own <code>ThreadLocal</code> to store its own <code>HttpServletRequest</code> which in turn store its own <code>RequestContext</code> in its attribute. So it is the <code>RequestContext</code> in the <code>ThreadLocal</code> of the thread that is used to process the HTTP request will be injected into the controller.</p>\n"}],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77174979,"answer_count":1,"score":0,"last_activity_date":1695666511,"creation_date":1695638763,"question_id":77171989,"body_markdown":"I am aware that there are some similar questions on SO already, but please read on.\r\n\r\nI am reading [this Stackoverflow question](https://stackoverflow.com/questions/43502332/how-to-get-the-requestbody-in-an-exceptionhandler-spring-rest), and in the accepted answer the author proposes the request-scoped bean injection into a singleton `@RestController` bean with a simple `@Autowired`. But how can it possibly work? I mean there is only one  `@RestController` bean in the Spring IoC context. And request-scoped bean is [by definition](https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html) bean that is produced per http request basis. Therefore, each and every request that is handled by a controller, possibly concurrently, will have its own `RequestContext`.\r\n\r\nBut again `PersonController` is a single bean in IoC context, what exactly `RequestContext` would be injected? What if we have 5 concurrent requests on the same controller - what `RequestContext` will be injected in this case?\r\n\r\nAny help will be highly appreciated, thanks in advance.","title":"How request-scoped bean injection works in Spring","body":"<p>I am aware that there are some similar questions on SO already, but please read on.</p>\n<p>I am reading <a href=\"https://stackoverflow.com/questions/43502332/how-to-get-the-requestbody-in-an-exceptionhandler-spring-rest\">this Stackoverflow question</a>, and in the accepted answer the author proposes the request-scoped bean injection into a singleton <code>@RestController</code> bean with a simple <code>@Autowired</code>. But how can it possibly work? I mean there is only one  <code>@RestController</code> bean in the Spring IoC context. And request-scoped bean is <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html\" rel=\"nofollow noreferrer\">by definition</a> bean that is produced per http request basis. Therefore, each and every request that is handled by a controller, possibly concurrently, will have its own <code>RequestContext</code>.</p>\n<p>But again <code>PersonController</code> is a single bean in IoC context, what exactly <code>RequestContext</code> would be injected? What if we have 5 concurrent requests on the same controller - what <code>RequestContext</code> will be injected in this case?</p>\n<p>Any help will be highly appreciated, thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1695667589,"post_id":77174951,"comment_id":136052469,"body_markdown":"After checking a condition, no need to test the opposite condition, that&#39;s absolutly useless","body":"After checking a condition, no need to test the opposite condition, that&#39;s absolutly useless"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695671910,"post_id":77174951,"comment_id":136053133,"body_markdown":"*`how to check if map1 contains all of map2 without using containsAll...`* You&#39;re using containsAll so be specific on the actual constraints.  First, just compare sizes to make certain `map2` is not larger than `map1`   And just compare entries in `entrySets`. No need to check keys and values independently.","body":"<i><code>how to check if map1 contains all of map2 without using containsAll...</code></i> You&#39;re using containsAll so be specific on the actual constraints.  First, just compare sizes to make certain <code>map2</code> is not larger than <code>map1</code>   And just compare entries in <code>entrySets</code>. No need to check keys and values independently."}],"owner":{"account_id":29532407,"reputation":1,"user_id":22632749,"display_name":"user22632749"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695667401,"answer_count":0,"score":0,"last_activity_date":1695666201,"creation_date":1695666201,"question_id":77174951,"body_markdown":"Basically, you are given two maps, map1 and map2. You need to check if map1 contains all the keys that map2 has, and if those keys map to the same value in both maps. If that is the case return true\r\n\r\nHeres what I tried:\r\n\r\n```\r\nboolean mapContainsOther(Map&lt;String, Integer&gt; map1, Map&lt;String, Integer&gt; map2) {\r\n  assert map1 != null;\r\n  assert map2 != null;\r\n  if (!map1.keySet().containsAll(map2.keySet())) {\r\n    return false;\r\n  } else if (map1.keySet().containsAll(map2.keySet())) {\r\n    for (String s : map2.keySet()) {\r\n      if (map1.get(s) != map2.get(s)) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n} \r\n```\r\n","title":"how to check if map1 contains all of map2 without using containsAll (so use loops and conditionals)","body":"<p>Basically, you are given two maps, map1 and map2. You need to check if map1 contains all the keys that map2 has, and if those keys map to the same value in both maps. If that is the case return true</p>\n<p>Heres what I tried:</p>\n<pre><code>boolean mapContainsOther(Map&lt;String, Integer&gt; map1, Map&lt;String, Integer&gt; map2) {\n  assert map1 != null;\n  assert map2 != null;\n  if (!map1.keySet().containsAll(map2.keySet())) {\n    return false;\n  } else if (map1.keySet().containsAll(map2.keySet())) {\n    for (String s : map2.keySet()) {\n      if (map1.get(s) != map2.get(s)) {\n        return false;\n      }\n    }\n  }\n  return true;\n} \n</code></pre>\n"},{"tags":["java","spring-boot","properties","scheduled-tasks"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695647475,"post_id":77172810,"comment_id":136048361,"body_markdown":"_because the number of crons is dynamic, and is depending on the amount of properties files..._  Since property files are being added, how is it dynamic?  Can you expand the code example with more details?","body":"<i>because the number of crons is dynamic, and is depending on the amount of properties files...</i>  Since property files are being added, how is it dynamic?  Can you expand the code example with more details?"},{"owner":{"account_id":27546759,"reputation":1,"user_id":21022570,"display_name":"Etienne Plt"},"score":0,"creation_date":1695648690,"post_id":77172810,"comment_id":136048647,"body_markdown":"I tried to expand the code in the question, updated it so it&#39;s more detailed. Hope it helps. thanks for your time :)","body":"I tried to expand the code in the question, updated it so it&#39;s more detailed. Hope it helps. thanks for your time :)"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695652335,"post_id":77172810,"comment_id":136049514,"body_markdown":"Instead of multiple property files, consider defining of list of objects within a single property file.  Each object would have the cron and the data needed for `MyService`.  The schedule would need to be programmatically set, and pass the config to myService.","body":"Instead of multiple property files, consider defining of list of objects within a single property file.  Each object would have the cron and the data needed for <code>MyService</code>.  The schedule would need to be programmatically set, and pass the config to myService."},{"owner":{"account_id":27546759,"reputation":1,"user_id":21022570,"display_name":"Etienne Plt"},"score":0,"creation_date":1695652874,"post_id":77172810,"comment_id":136049659,"body_markdown":"Let say i use a single property file. Now i want to add an object to the list, it means i have to rewrite my app to take it into account and to schedule it. \nThere is no way to schedule it without rewriting any code, just by changing the application.properties ? \nThanks","body":"Let say i use a single property file. Now i want to add an object to the list, it means i have to rewrite my app to take it into account and to schedule it.  There is no way to schedule it without rewriting any code, just by changing the application.properties ?  Thanks"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695653066,"post_id":77172810,"comment_id":136049697,"body_markdown":"No - the object is the configuration used to schedule `MyService` and whatever properties it needs to execute.","body":"No - the object is the configuration used to schedule <code>MyService</code> and whatever properties it needs to execute."}],"answers":[{"tags":[],"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695665817,"creation_date":1695665386,"answer_id":77174880,"question_id":77172810,"body_markdown":"I would probably create endpoints from which I can view/create/add/remove jobs, and persist a list of running jobs instead of doing it with files which the server directly reads. If you really want to do it with files in `/foo/bar`, one way would be to make the files in the form of:\r\n\r\n    // job0.txt\r\n    app.job.id=0\r\n    app.cron.rule=0 * * * * *\r\n    app.data.location=/location/number/1\r\n    app.data.type=type1\r\n\r\n    // job1.txt\r\n    app.job.id=1\r\n    app.cron.rule=0 1 * * * *\r\n    app.data.location=/location/whatever/number/1\r\n    app.data.type=foo\r\n    ...\r\nKeep a local cache of already running jobs using the `app.job.id` property of every file. Start a job, which runs let&#39;s say every minute, in your application that reads all files from `/foo/bar` and checks if the jobs with the ids in your cache still exist, if not we will need to cancel them, and if there are any jobs with a new id we will create a new job for it. We can use [TaskScheduler][1] for this purpose, for usage examples see https://www.baeldung.com/spring-task-scheduler. After we have a `taskScheduler` a sketch of a simple implementation might be:\r\n\r\n      private TaskScheduler taskScheduler;\r\n      \r\n      private List&lt;RunningTask&gt; runningTasks = new ArrayList(); \r\n      \r\n      private void handleFiles() {\r\n      \t// get all actions based on the files and \r\n        // currently present RunningTask instances in runningTasks\r\n      \tList&lt;Action&gt; actionList = getActions();  \r\n      \t\r\n      \tfor (Action action : actionList) {\r\n      \t\tif (action.type == EAction.START) {\r\n      \t\t\trunningTasks.add(\r\n      \t\t\t\tnew RunningTask(\r\n      \t\t\t\t\t// taskHandle to enable cancelling tasks\r\n      \t\t\t\t\ttaskScheduler.schedule(taskWorker(action.getData()), action.getCron()),\r\n      \t\t\t\t\t// taskId so we are able to identify which tasks are removed\r\n      \t\t\t\t\taction.getTaskId()\r\n      \t\t\t\t)\r\n      \t\t\t);\r\n      \t\t}\r\n      \t\telse if (action.type == EAction.STOP) {\r\n      \t\t\tcancelTask(action.getTaskId());\r\n      \t\t}\r\n      \t\t...\r\n      \t\t// handle other possible action types like update...\r\n      \t}\r\n      }\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html","title":"How to schedule multiple jobs from multiple properties files in Java Spring?","body":"<p>I would probably create endpoints from which I can view/create/add/remove jobs, and persist a list of running jobs instead of doing it with files which the server directly reads. If you really want to do it with files in <code>/foo/bar</code>, one way would be to make the files in the form of:</p>\n<pre><code>// job0.txt\napp.job.id=0\napp.cron.rule=0 * * * * *\napp.data.location=/location/number/1\napp.data.type=type1\n\n// job1.txt\napp.job.id=1\napp.cron.rule=0 1 * * * *\napp.data.location=/location/whatever/number/1\napp.data.type=foo\n...\n</code></pre>\n<p>Keep a local cache of already running jobs using the <code>app.job.id</code> property of every file. Start a job, which runs let's say every minute, in your application that reads all files from <code>/foo/bar</code> and checks if the jobs with the ids in your cache still exist, if not we will need to cancel them, and if there are any jobs with a new id we will create a new job for it. We can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html\" rel=\"nofollow noreferrer\">TaskScheduler</a> for this purpose, for usage examples see <a href=\"https://www.baeldung.com/spring-task-scheduler\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-task-scheduler</a>. After we have a <code>taskScheduler</code> a sketch of a simple implementation might be:</p>\n<pre><code>  private TaskScheduler taskScheduler;\n  \n  private List&lt;RunningTask&gt; runningTasks = new ArrayList(); \n  \n  private void handleFiles() {\n    // get all actions based on the files and \n    // currently present RunningTask instances in runningTasks\n    List&lt;Action&gt; actionList = getActions();  \n    \n    for (Action action : actionList) {\n        if (action.type == EAction.START) {\n            runningTasks.add(\n                new RunningTask(\n                    // taskHandle to enable cancelling tasks\n                    taskScheduler.schedule(taskWorker(action.getData()), action.getCron()),\n                    // taskId so we are able to identify which tasks are removed\n                    action.getTaskId()\n                )\n            );\n        }\n        else if (action.type == EAction.STOP) {\n            cancelTask(action.getTaskId());\n        }\n        ...\n        // handle other possible action types like update...\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":27546759,"reputation":1,"user_id":21022570,"display_name":"Etienne Plt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695665817,"creation_date":1695646281,"question_id":77172810,"body_markdown":"I have a folder with multiple properties files each file corresponding to a data type, like \r\nexample1.properties\r\nexample2.properties\r\nexample3.properties\r\nI would like to iterate over this folder and schedule some jobs.\r\n\r\nSo far, i have managed to schedule a single instance for one data type (example1). \r\nI use a single property file `application.properties` in which i have `app.cron.rule=0 * * * * *` with some other properties specific to `example1`\r\n\r\n\r\n```\r\n    @Scheduled(cron =&quot;${app.cron.rule}&quot;)\r\n    public void doSomething() {\r\n        doSomething(&quot;example1&quot;); // uses properties values in example1.properties to process some data\r\n    }\r\n```\r\n\r\nI would like to loop over the files of the folder and create a cron for every file. \r\nI cannot define N cron in my application because the number of crons is dynamic, and is depending on the amount of properties files. \r\n\r\nIf you have another way to achieve that than using multiple properties file, or if you a clue to make this work i would be glad to hear it out. \r\n\r\nI hope this is not a duplicate, but i haven&#39;t found any. \r\n\r\n**Update**\r\n\r\nHere is some more details of my code : \r\n\r\nI have a class : \r\n\r\n```\r\n@Service\r\n@PropertySource(&quot;classpath:observation.properties&quot;)\r\npublic class MyService {\r\n    \r\n    @Value(&quot;${app.data.location}&quot;)\r\n    private String dataLocation;\r\n\r\n    @Value(&quot;${app.data.type}&quot;)\r\n    private String dataType;\r\n\r\n    // other attributes loaded from application.properties\r\n\r\n    public void doSomething() {\r\n        // use dataLocation and data type to process some data. \r\n    }\r\n}\r\n```\r\n\r\n\r\nI have another class : \r\n\r\n```\r\npublic class MyScheduler {\r\n\r\n    @Autowired\r\n    MyService myService;\r\n\r\n    @Scheduled(cron =&quot;${app.cron.rule}&quot;)\r\n    public void doSomething() {\r\n        myService.doSomething();\r\n    }\r\n}\r\n```\r\n\r\nCurrently i only have a properties file : \r\n*application.properties*\r\n```\r\napp.cron.rule=0 * * * * *\r\napp.data.location=/location/number/1\r\napp.data.type=type1\r\n```\r\n\r\nI would like to have multiple properties file containing different values for `app.cron.rule`, `app.data.location`, `app.data.type` (type1.properties, type2.properties, etc...) and to schedule a job for every file, ie : \r\n\r\n```\r\npublic class MyScheduler {\r\n\r\n    @Autowired\r\n    MyService myService;\r\n\r\n    for(file in folder) {\r\n        @Scheduled(cron =&quot;${app.cron.rule}&quot;)\r\n        public void doSomething() {\r\n            myService.doSomething(); // the attributes in myService should change acording \r\n        }\r\n    }\r\n}\r\n```\r\nI cannot do it that way, but it represents what i&#39;m trying to do. ","title":"How to schedule multiple jobs from multiple properties files in Java Spring?","body":"<p>I have a folder with multiple properties files each file corresponding to a data type, like\nexample1.properties\nexample2.properties\nexample3.properties\nI would like to iterate over this folder and schedule some jobs.</p>\n<p>So far, i have managed to schedule a single instance for one data type (example1).\nI use a single property file <code>application.properties</code> in which i have <code>app.cron.rule=0 * * * * *</code> with some other properties specific to <code>example1</code></p>\n<pre><code>    @Scheduled(cron =&quot;${app.cron.rule}&quot;)\n    public void doSomething() {\n        doSomething(&quot;example1&quot;); // uses properties values in example1.properties to process some data\n    }\n</code></pre>\n<p>I would like to loop over the files of the folder and create a cron for every file.\nI cannot define N cron in my application because the number of crons is dynamic, and is depending on the amount of properties files.</p>\n<p>If you have another way to achieve that than using multiple properties file, or if you a clue to make this work i would be glad to hear it out.</p>\n<p>I hope this is not a duplicate, but i haven't found any.</p>\n<p><strong>Update</strong></p>\n<p>Here is some more details of my code :</p>\n<p>I have a class :</p>\n<pre><code>@Service\n@PropertySource(&quot;classpath:observation.properties&quot;)\npublic class MyService {\n    \n    @Value(&quot;${app.data.location}&quot;)\n    private String dataLocation;\n\n    @Value(&quot;${app.data.type}&quot;)\n    private String dataType;\n\n    // other attributes loaded from application.properties\n\n    public void doSomething() {\n        // use dataLocation and data type to process some data. \n    }\n}\n</code></pre>\n<p>I have another class :</p>\n<pre><code>public class MyScheduler {\n\n    @Autowired\n    MyService myService;\n\n    @Scheduled(cron =&quot;${app.cron.rule}&quot;)\n    public void doSomething() {\n        myService.doSomething();\n    }\n}\n</code></pre>\n<p>Currently i only have a properties file :\n<em>application.properties</em></p>\n<pre><code>app.cron.rule=0 * * * * *\napp.data.location=/location/number/1\napp.data.type=type1\n</code></pre>\n<p>I would like to have multiple properties file containing different values for <code>app.cron.rule</code>, <code>app.data.location</code>, <code>app.data.type</code> (type1.properties, type2.properties, etc...) and to schedule a job for every file, ie :</p>\n<pre><code>public class MyScheduler {\n\n    @Autowired\n    MyService myService;\n\n    for(file in folder) {\n        @Scheduled(cron =&quot;${app.cron.rule}&quot;)\n        public void doSomething() {\n            myService.doSomething(); // the attributes in myService should change acording \n        }\n    }\n}\n</code></pre>\n<p>I cannot do it that way, but it represents what i'm trying to do.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1533893329,"post_id":51783053,"comment_id":90523817,"body_markdown":"is your properties file deployed in your classpath correctly?","body":"is your properties file deployed in your classpath correctly?"},{"owner":{"account_id":14129050,"reputation":31,"user_id":10207486,"display_name":"Olivier Dimper"},"score":0,"creation_date":1533894123,"post_id":51783053,"comment_id":90524271,"body_markdown":"Yes, my properties file is in the same directory.","body":"Yes, my properties file is in the same directory."},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1533895165,"post_id":51783053,"comment_id":90524881,"body_markdown":"show us your `@ComponentScan` declaration please","body":"show us your <code>@ComponentScan</code> declaration please"},{"owner":{"account_id":14129050,"reputation":31,"user_id":10207486,"display_name":"Olivier Dimper"},"score":0,"creation_date":1533902122,"post_id":51783053,"comment_id":90528891,"body_markdown":"Do you mean this? (the base-package is the good one)\n    &lt;!-- Auto scan the components --&gt;\n    &lt;context:component-scan base-package=&quot;fr.****&quot; /&gt;\n\n(I am new in java development)","body":"Do you mean this? (the base-package is the good one)     &lt;!-- Auto scan the components --&gt;     &lt;context:component-scan base-package=&quot;fr.****&quot; /&gt;  (I am new in java development)"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1533925955,"post_id":51783053,"comment_id":90541898,"body_markdown":"Post the full stack-trace. This is likely to be a Spring issue, not Tomcat.","body":"Post the full stack-trace. This is likely to be a Spring issue, not Tomcat."},{"owner":{"account_id":14129050,"reputation":31,"user_id":10207486,"display_name":"Olivier Dimper"},"score":0,"creation_date":1534148082,"post_id":51783053,"comment_id":90589748,"body_markdown":"I have edited my post to show the full stack-trace.","body":"I have edited my post to show the full stack-trace."}],"answers":[{"tags":[],"owner":{"account_id":14129050,"reputation":31,"user_id":10207486,"display_name":"Olivier Dimper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1534237809,"creation_date":1534237809,"answer_id":51837755,"question_id":51783053,"body_markdown":"I have found the solution! The problem was because of the file ****.properties who had a bad encoding. The encoding was in UTF-8-BOM instead of UTF-8. After changing the encoding, the deployment works very well as expected. Anyway, thanks for your answers.\r\n\r\nThe issue is closed for me.","title":"Error on Tomcat Server : Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;","body":"<p>I have found the solution! The problem was because of the file ****.properties who had a bad encoding. The encoding was in UTF-8-BOM instead of UTF-8. After changing the encoding, the deployment works very well as expected. Anyway, thanks for your answers.</p>\n\n<p>The issue is closed for me.</p>\n"}],"owner":{"account_id":14129050,"reputation":31,"user_id":10207486,"display_name":"Olivier Dimper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51837755,"answer_count":1,"score":1,"last_activity_date":1695665746,"creation_date":1533892651,"question_id":51783053,"body_markdown":"I have a problem when passing on Tomcat Server. The code works on localhost but throws an exception on Tomcat Server. Here is the exception :\r\n\r\n    WARNING: Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name &#39;dataSource&#39; defined in URL [file:/opt/****/WEB-INF/classes/context.xml]: Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;\r\n\r\nAnd here is a part of my context.xml :\r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n        &lt;property name=&quot;location&quot;&gt;\r\n            &lt;value&gt;classpath:****.properties&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Database Configuration --&gt;\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd my file ****.properties\r\n\r\n    jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\r\n\r\nDo you have any idea of what doesn&#39;t work and how to solve this problem? \r\n\r\nNote : I have masked some path or file name by &quot;****&quot; due to confidentiality issue.\r\n\r\nEDIT : Here is the complete stack trace :\r\n\r\n    WARNING: Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name &#39;dataSource&#39; defined in URL [file:/opt/pdsa/liferay-portal-6.2-ce-ga4/tomcat-7.0.42/webapps/pdsa-portlet/WEB-INF/classes/pdsaContext.xml]: Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;\r\n            at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:211)\r\n            at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:223)\r\n            at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:86)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:162)\r\n            at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)\r\n            at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n            at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:976)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1653)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;\r\n            at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)\r\n            at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)\r\n            at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer$PlaceholderResolvingStringValueResolver.resolveStringValue(PropertyPlaceholderConfigurer.java:259)\r\n            at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)\r\n            at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)\r\n            at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)\r\n            at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)\r\n            at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:208)\r\n            ... 22 more","title":"Error on Tomcat Server : Could not resolve placeholder &#39;jdbc.driverClassName&#39; in string value &quot;${jdbc.driverClassName}&quot;","body":"<p>I have a problem when passing on Tomcat Server. The code works on localhost but throws an exception on Tomcat Server. Here is the exception :</p>\n\n<pre><code>WARNING: Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in URL [file:/opt/****/WEB-INF/classes/context.xml]: Could not resolve placeholder 'jdbc.driverClassName' in string value \"${jdbc.driverClassName}\"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driverClassName' in string value \"${jdbc.driverClassName}\"\n</code></pre>\n\n<p>And here is a part of my context.xml :</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\"&gt;\n        &lt;value&gt;classpath:****.properties&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n    &lt;!-- Database Configuration --&gt;\n&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClass\" value=\"${jdbc.driverClassName}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And my file ****.properties</p>\n\n<pre><code>jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p>Do you have any idea of what doesn't work and how to solve this problem? </p>\n\n<p>Note : I have masked some path or file name by \"****\" due to confidentiality issue.</p>\n\n<p>EDIT : Here is the complete stack trace :</p>\n\n<pre><code>WARNING: Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in URL [file:/opt/pdsa/liferay-portal-6.2-ce-ga4/tomcat-7.0.42/webapps/pdsa-portlet/WEB-INF/classes/pdsaContext.xml]: Could not resolve placeholder 'jdbc.driverClassName' in string value \"${jdbc.driverClassName}\"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driverClassName' in string value \"${jdbc.driverClassName}\"\n        at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:211)\n        at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:223)\n        at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:86)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:162)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:976)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1653)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driverClassName' in string value \"${jdbc.driverClassName}\"\n        at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)\n        at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)\n        at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer$PlaceholderResolvingStringValueResolver.resolveStringValue(PropertyPlaceholderConfigurer.java:259)\n        at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)\n        at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)\n        at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)\n        at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)\n        at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:208)\n        ... 22 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1695652866,"post_id":77173597,"comment_id":136049657,"body_markdown":"How large is the file?","body":"How large is the file?"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1695653595,"post_id":77173597,"comment_id":136049842,"body_markdown":"I don&#39;t know since `getNewData` is retrieving new data  from an external service every time it&#39;s called","body":"I don&#39;t know since <code>getNewData</code> is retrieving new data  from an external service every time it&#39;s called"},{"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"score":0,"creation_date":1695653731,"post_id":77173597,"comment_id":136049879,"body_markdown":"You re-assign `data` after the loop. So unless `getNewData` returns the same object each time it is called, the reason is probably that the input is too large given the JVM heap settings used when the program is run.","body":"You re-assign <code>data</code> after the loop. So unless <code>getNewData</code> returns the same object each time it is called, the reason is probably that the input is too large given the JVM heap settings used when the program is run."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1695653928,"post_id":77173597,"comment_id":136049931,"body_markdown":"but `getNewData` returns a dataset of the exact same size and it gives memory error after some iterations","body":"but <code>getNewData</code> returns a dataset of the exact same size and it gives memory error after some iterations"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695656184,"post_id":77173597,"comment_id":136050413,"body_markdown":"It might be useful to post `::getNewData` too","body":"It might be useful to post <code>::getNewData</code> too"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1695653972,"creation_date":1695653972,"answer_id":77173780,"question_id":77173597,"body_markdown":"The garbage collector will clean up the old `ByteArrayOutputStream` once `data` has been reassigned. But this reassignment takes place only when `getNewData()` returns. While `getNewData()` is running you will have the old `ByteArrayOutputStream` (referenced by `data`) and a new `ByteArrayOutputStream` (presumably created within `getNewData()`) in memory.\r\n\r\nYou can de-reference the old `ByteArrayOutputStream` early:\r\n\r\n    ByteArrayOutputStream data = getNewData();\r\n\r\n    while (data.size() &gt; 0) {\r\n        try (OutputStream outputStream = new FileOutputStream(&quot;data.txt&quot;, true)) {\r\n            data.writeTo(outputStream);\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n\r\n        data = null;    \r\n        data = getNewData();\r\n    }","title":"Reassigning ByteArrayOutputStream behaviour","body":"<p>The garbage collector will clean up the old <code>ByteArrayOutputStream</code> once <code>data</code> has been reassigned. But this reassignment takes place only when <code>getNewData()</code> returns. While <code>getNewData()</code> is running you will have the old <code>ByteArrayOutputStream</code> (referenced by <code>data</code>) and a new <code>ByteArrayOutputStream</code> (presumably created within <code>getNewData()</code>) in memory.</p>\n<p>You can de-reference the old <code>ByteArrayOutputStream</code> early:</p>\n<pre><code>ByteArrayOutputStream data = getNewData();\n\nwhile (data.size() &gt; 0) {\n    try (OutputStream outputStream = new FileOutputStream(&quot;data.txt&quot;, true)) {\n        data.writeTo(outputStream);\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n    }\n\n    data = null;    \n    data = getNewData();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695665662,"creation_date":1695665662,"answer_id":77174900,"question_id":77173597,"body_markdown":"&gt; _&quot;... I&#39;m facing a memory error while using a `ByteArrayOutputStream` to write a file. ...&quot;_\r\n\r\nTry utilizing a _byte array_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nByteArrayInputStream is = getNewData();\r\ntry (FileOutputStream os = new FileOutputStream(&quot;data.txt&quot;, true)) {\r\n    int n;\r\n    byte[] b = new byte[1000];\r\n    while ((n = is.read(b)) != -1) os.write(b, 0, n);\r\n}\r\n```\r\n\r\n&gt; _&quot;... I&#39;m suspecting that reassigning the variable `data` does not clear the old value somehow, but I do not know how to prove that since theoretically the Garbage Collector should remove the older value. ...&quot;_\r\n\r\nVariable assignment will discard any previous value, as per the _Java_ syntax.","title":"Reassigning ByteArrayOutputStream behaviour","body":"<blockquote>\n<p><em>&quot;... I'm facing a memory error while using a <code>ByteArrayOutputStream</code> to write a file. ...&quot;</em></p>\n</blockquote>\n<p>Try utilizing a <em>byte array</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayInputStream is = getNewData();\ntry (FileOutputStream os = new FileOutputStream(&quot;data.txt&quot;, true)) {\n    int n;\n    byte[] b = new byte[1000];\n    while ((n = is.read(b)) != -1) os.write(b, 0, n);\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I'm suspecting that reassigning the variable <code>data</code> does not clear the old value somehow, but I do not know how to prove that since theoretically the Garbage Collector should remove the older value. ...&quot;</em></p>\n</blockquote>\n<p>Variable assignment will discard any previous value, as per the <em>Java</em> syntax.</p>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695665662,"creation_date":1695652632,"question_id":77173597,"body_markdown":"I&#39;m facing a memory error while using a `ByteArrayOutputStream` to write a file. The code is the following:\r\n\r\n```\r\nByteArrayOutputStream data = getNewData();\r\n\r\nwhile (data.size() &gt; 0) {\r\n    try (OutputStream outputStream = new FileOutputStream(&quot;data.txt&quot;, true)) {\r\n        data.writeTo(outputStream);\r\n    } catch (IOException ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n\r\n    data = getNewData();\r\n}\r\n```\r\n\r\nI&#39;m suspecting that reassigning the variable `data` does not clear the old value somehow, but I do not know how to prove that since theoretically the Garbage Collector should remove the older value. I guess I&#39;m missing something...","title":"Reassigning ByteArrayOutputStream behaviour","body":"<p>I'm facing a memory error while using a <code>ByteArrayOutputStream</code> to write a file. The code is the following:</p>\n<pre><code>ByteArrayOutputStream data = getNewData();\n\nwhile (data.size() &gt; 0) {\n    try (OutputStream outputStream = new FileOutputStream(&quot;data.txt&quot;, true)) {\n        data.writeTo(outputStream);\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n    }\n\n    data = getNewData();\n}\n</code></pre>\n<p>I'm suspecting that reassigning the variable <code>data</code> does not clear the old value somehow, but I do not know how to prove that since theoretically the Garbage Collector should remove the older value. I guess I'm missing something...</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-retry"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1695648625,"post_id":77172874,"comment_id":136048631,"body_markdown":"I guess it might be related that with the fact that you placed the `@Retryable` annotation on the method implementation and not on the interface. Who knows what happens when the call goes via the fancy Spring proxies :)\nTry to move the `@Retryable` annotation to your interface. I assume you have an interface as I see `@Override`. Let me know if it helps - I will then convert the comment into a proper answer.","body":"I guess it might be related that with the fact that you placed the <code>@Retryable</code> annotation on the method implementation and not on the interface. Who knows what happens when the call goes via the fancy Spring proxies :) Try to move the <code>@Retryable</code> annotation to your interface. I assume you have an interface as I see <code>@Override</code>. Let me know if it helps - I will then convert the comment into a proper answer."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1695648715,"post_id":77172874,"comment_id":136048651,"body_markdown":"`@EnableRetry` already adds `RetryConfiguration`, so remove the bean definition.","body":"<code>@EnableRetry</code> already adds <code>RetryConfiguration</code>, so remove the bean definition."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1695649450,"post_id":77172874,"comment_id":136048819,"body_markdown":"You may experiment with it more if you leave the annotation on the implementation and add something like `this.getClass().getName()` to the `log` output. You might be surprised to see different names than just your implementing class. Spring has always some nasty proxy surprises for us :)","body":"You may experiment with it more if you leave the annotation on the implementation and add something like <code>this.getClass().getName()</code> to the <code>log</code> output. You might be surprised to see different names than just your implementing class. Spring has always some nasty proxy surprises for us :)"},{"owner":{"account_id":11191908,"reputation":81,"user_id":10303551,"display_name":"akalanka"},"score":0,"creation_date":1695650552,"post_id":77172874,"comment_id":136049085,"body_markdown":"@HonzaZidek it&#39;s not working same results.","body":"@HonzaZidek it&#39;s not working same results."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1695660003,"post_id":77172874,"comment_id":136051146,"body_markdown":"@M.Deinum Can you explain the OP&#39;s solution? I am lost... why did it retry 9 times when there was both `@EnableRetry` and `@RetryConfiguration`?","body":"@M.Deinum Can you explain the OP&#39;s solution? I am lost... why did it retry 9 times when there was both <code>@EnableRetry</code> and <code>@RetryConfiguration</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11191908,"reputation":81,"user_id":10303551,"display_name":"akalanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695650644,"creation_date":1695650644,"answer_id":77173345,"question_id":77172874,"body_markdown":"Working fine after this change. \r\n```\r\n@Configuration\r\npublic class RetryConfig {\r\n    @Bean\r\n    public RetryConfiguration retryConfiguration() {\r\n        return new RetryConfiguration();\r\n    }\r\n}\r\n```","title":"Spring Retry maxAttempts does not behave and calling more than configured","body":"<p>Working fine after this change.</p>\n<pre><code>@Configuration\npublic class RetryConfig {\n    @Bean\n    public RetryConfiguration retryConfiguration() {\n        return new RetryConfiguration();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695665644,"creation_date":1695665644,"answer_id":77174898,"question_id":77172874,"body_markdown":"Remove the `@Bean` for the `RetryConfiguration`, the same configuration class is already automatically imported when you add [`@EnableRetry`][1]. Hence doubling the configuration. \r\n\r\n```java\r\n@Configuration\r\n@EnableRetry\r\npublic class RetryConfig { }\r\n```\r\n\r\nWhen you have both the annotation and the `@Bean` method you get a double proxy/interceptor for the retry logic. Each interceptor will do the configured number of retries, however the inner one will do the configured number of retries each time it gets called. \r\n\r\nSo when the retry count is 2, the outer interceptor will call the inner interceptor twice, which will fail only after executing each call twice as well. Now when increasing the number to 3 it the outer will, eventually, call the inner interceptor 3 times, which on each call will execute 3 retries as well. \r\n\r\n[1]: https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/EnableRetry.html","title":"Spring Retry maxAttempts does not behave and calling more than configured","body":"<p>Remove the <code>@Bean</code> for the <code>RetryConfiguration</code>, the same configuration class is already automatically imported when you add <a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/EnableRetry.html\" rel=\"nofollow noreferrer\"><code>@EnableRetry</code></a>. Hence doubling the configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableRetry\npublic class RetryConfig { }\n</code></pre>\n<p>When you have both the annotation and the <code>@Bean</code> method you get a double proxy/interceptor for the retry logic. Each interceptor will do the configured number of retries, however the inner one will do the configured number of retries each time it gets called.</p>\n<p>So when the retry count is 2, the outer interceptor will call the inner interceptor twice, which will fail only after executing each call twice as well. Now when increasing the number to 3 it the outer will, eventually, call the inner interceptor 3 times, which on each call will execute 3 retries as well.</p>\n"}],"owner":{"account_id":11191908,"reputation":81,"user_id":10303551,"display_name":"akalanka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695665644,"creation_date":1695646772,"question_id":77172874,"body_markdown":"Trying to configure spring boot retry for simple method. When set maxAttempts = 3 xecuted 9 times. When maxAttempts = 2 executed 4 times. Below is my controller class.\r\n```\r\n    @GetMapping(&quot;/getPendingTrailRenewals&quot;)\r\n    public void saveUserSubscription() {\r\n        userSubscriptionService.checkMethod();\r\n    }\r\n```\r\n\r\nThis is my service class which retry is configured \r\n\r\n```\r\n    @Override\r\n    @Retryable(retryFor = DatabaseOperationException.class, maxAttempts = 3, backoff = @Backoff(delay = 100))\r\n    public void checkMethod(){\r\n        log.info(&quot;checkMethod executed&quot;);\r\n        throw new DatabaseOperationException(&quot;Testing&quot;);\r\n    }\r\n\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableRetry\r\npublic class RetryConfig {\r\n    @Bean\r\n    public RetryConfiguration retryConfiguration() {\r\n        return new RetryConfiguration();\r\n    }\r\n}\r\n```\r\n\r\nMore than expected count method executed as per the logs.\r\n```\r\n2023-09-25T18:15:42.260+05:30  INFO 21340 --- [nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-09-25T18:15:42.260+05:30  INFO 21340 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-09-25T18:15:42.261+05:30  INFO 21340 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-09-25T18:15:42.297+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\r\n2023-09-25T18:15:42.297+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\r\n2023-09-25T18:15:42.298+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:43.298+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\r\n2023-09-25T18:15:43.299+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\r\n2023-09-25T18:15:43.299+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:44.303+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\r\n2023-09-25T18:15:44.305+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\r\n2023-09-25T18:15:44.305+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:44.305+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\r\n2023-09-25T18:15:44.306+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\r\n2023-09-25T18:15:45.308+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\r\n2023-09-25T18:15:45.308+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\r\n2023-09-25T18:15:45.309+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\r\n2023-09-25T18:15:45.309+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:46.311+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\r\n2023-09-25T18:15:46.311+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\r\n2023-09-25T18:15:46.311+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:47.312+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\r\n2023-09-25T18:15:47.312+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\r\n2023-09-25T18:15:47.312+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:47.313+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\r\n2023-09-25T18:15:47.313+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\r\n2023-09-25T18:15:48.314+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\r\n2023-09-25T18:15:48.314+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\r\n2023-09-25T18:15:48.314+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\r\n2023-09-25T18:15:48.314+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:49.315+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\r\n2023-09-25T18:15:49.315+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\r\n2023-09-25T18:15:49.315+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:50.317+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\r\n2023-09-25T18:15:50.317+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\r\n2023-09-25T18:15:50.317+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\r\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\r\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\r\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\r\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\r\n2023-09-25T18:15:50.323+05:30 ERROR 21340 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed: com.arimac.asec.adminusermgtservice.exception.DatabaseOperationException: Testing] with root cause\r\n\r\n```\r\n","title":"Spring Retry maxAttempts does not behave and calling more than configured","body":"<p>Trying to configure spring boot retry for simple method. When set maxAttempts = 3 xecuted 9 times. When maxAttempts = 2 executed 4 times. Below is my controller class.</p>\n<pre><code>    @GetMapping(&quot;/getPendingTrailRenewals&quot;)\n    public void saveUserSubscription() {\n        userSubscriptionService.checkMethod();\n    }\n</code></pre>\n<p>This is my service class which retry is configured</p>\n<pre><code>    @Override\n    @Retryable(retryFor = DatabaseOperationException.class, maxAttempts = 3, backoff = @Backoff(delay = 100))\n    public void checkMethod(){\n        log.info(&quot;checkMethod executed&quot;);\n        throw new DatabaseOperationException(&quot;Testing&quot;);\n    }\n\n</code></pre>\n<pre><code>@Configuration\n@EnableRetry\npublic class RetryConfig {\n    @Bean\n    public RetryConfiguration retryConfiguration() {\n        return new RetryConfiguration();\n    }\n}\n</code></pre>\n<p>More than expected count method executed as per the logs.</p>\n<pre><code>2023-09-25T18:15:42.260+05:30  INFO 21340 --- [nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-09-25T18:15:42.260+05:30  INFO 21340 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-09-25T18:15:42.261+05:30  INFO 21340 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-09-25T18:15:42.297+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\n2023-09-25T18:15:42.297+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\n2023-09-25T18:15:42.298+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:43.298+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\n2023-09-25T18:15:43.299+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\n2023-09-25T18:15:43.299+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:44.303+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\n2023-09-25T18:15:44.305+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\n2023-09-25T18:15:44.305+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:44.305+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\n2023-09-25T18:15:44.306+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\n2023-09-25T18:15:45.308+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\n2023-09-25T18:15:45.308+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\n2023-09-25T18:15:45.309+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\n2023-09-25T18:15:45.309+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:46.311+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\n2023-09-25T18:15:46.311+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\n2023-09-25T18:15:46.311+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:47.312+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\n2023-09-25T18:15:47.312+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\n2023-09-25T18:15:47.312+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:47.313+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\n2023-09-25T18:15:47.313+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\n2023-09-25T18:15:48.314+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\n2023-09-25T18:15:48.314+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\n2023-09-25T18:15:48.314+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=0\n2023-09-25T18:15:48.314+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:49.315+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=1\n2023-09-25T18:15:49.315+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=1\n2023-09-25T18:15:49.315+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:50.317+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=2\n2023-09-25T18:15:50.317+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry: count=2\n2023-09-25T18:15:50.317+05:30  INFO 21340 --- [nio-8081-exec-1] c.a.a.a.s.i.UserSubscriptionServiceImpl  : checkMethod executed\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Checking for rethrow: count=3\n2023-09-25T18:15:50.318+05:30 DEBUG 21340 --- [nio-8081-exec-1] o.s.retry.support.RetryTemplate          : Retry failed last attempt: count=3\n2023-09-25T18:15:50.323+05:30 ERROR 21340 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed: com.arimac.asec.adminusermgtservice.exception.DatabaseOperationException: Testing] with root cause\n\n</code></pre>\n"},{"tags":["java","sql","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1691662637,"post_id":76874602,"comment_id":135523022,"body_markdown":"might be a clue. go to https://www.postgresql.org/docs/current/errcodes-appendix.html find out match error name for 42602. that is &quot;invalid_name&quot;. search source code for invalid_name.  error code is ERRCODE_INVALID_NAME. it&#39;s in function {regrolein,regnamespacein,stringToQualifiedNameList, textToQualifiedNameList) it means, some of your objects name does not ok.","body":"might be a clue. go to <a href=\"https://www.postgresql.org/docs/current/errcodes-appendix.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/errcodes-appendix.html</a> find out match error name for 42602. that is &quot;invalid_name&quot;. search source code for invalid_name.  error code is ERRCODE_INVALID_NAME. it&#39;s in function {regrolein,regnamespacein,stringToQualifiedNameList, textToQualifiedNameList) it means, some of your objects name does not ok."},{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1691664895,"post_id":76874602,"comment_id":135523416,"body_markdown":"Show us the problem SQL too.","body":"Show us the problem SQL too."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1691675471,"post_id":76874602,"comment_id":135525751,"body_markdown":"hi @jarlh, my bad for making this clear in the question. We are using hibernate `.save` function, hence this is not a native query nor any SQL query to show.","body":"hi @jarlh, my bad for making this clear in the question. We are using hibernate <code>.save</code> function, hence this is not a native query nor any SQL query to show."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1691675619,"post_id":76874602,"comment_id":135525780,"body_markdown":"Hi @jian, there&#39;s no lead to this honestly. Like I describe, when running it locally OR at fresh deployment, there&#39;s no such issue. Sometime later, it started this issue (without code changes / new deployment / changes in DB)","body":"Hi @jian, there&#39;s no lead to this honestly. Like I describe, when running it locally OR at fresh deployment, there&#39;s no such issue. Sometime later, it started this issue (without code changes / new deployment / changes in DB)"},{"owner":{"account_id":9146887,"reputation":151,"user_id":6802723,"display_name":"EdmarSM"},"score":0,"creation_date":1691715694,"post_id":76874602,"comment_id":135532644,"body_markdown":"@TommyLeong, one suggestion would be turning on the hibernate SQL logger to write down the statements like jarlh has suggested in a previous comment. Even if you have not implemented a query, Hibernate has to do it to communicate with Postgres.\nAlso, when you tried running it locally, have you tried to build the docker image that runs on Kubernetes locally and start that docker image, or did you run it from your IDE? If you are on the second way, you are probably falling into an encoding mismatch into your docker image. Besides it is very curious that the behavior shows up after a while.","body":"@TommyLeong, one suggestion would be turning on the hibernate SQL logger to write down the statements like jarlh has suggested in a previous comment. Even if you have not implemented a query, Hibernate has to do it to communicate with Postgres. Also, when you tried running it locally, have you tried to build the docker image that runs on Kubernetes locally and start that docker image, or did you run it from your IDE? If you are on the second way, you are probably falling into an encoding mismatch into your docker image. Besides it is very curious that the behavior shows up after a while."}],"answers":[{"tags":[],"owner":{"account_id":19543669,"reputation":1,"user_id":14300967,"display_name":"Felipe Rosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695665642,"creation_date":1695435217,"answer_id":77161423,"question_id":76874602,"body_markdown":"We had the same scenario here and the solution was updating the parameter `spring.jpa.database-platform` from \r\n`org.hibernate.dialect.PostgreSQLDialect`\r\nto\r\n`org.hibernate.dialect.PostgreSQL95Dialect`","title":"o.h.engine.jdbc.spi.SqlExceptionHelper : ERROR: invalid name syntax Position: 16","body":"<p>We had the same scenario here and the solution was updating the parameter <code>spring.jpa.database-platform</code> from\n<code>org.hibernate.dialect.PostgreSQLDialect</code>\nto\n<code>org.hibernate.dialect.PostgreSQL95Dialect</code></p>\n"}],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695665642,"creation_date":1691661264,"question_id":76874602,"body_markdown":"### Update\r\n14 Aug - Passive position. We couldn&#39;t replicate the issue, the root cause or pattern is failed to be recognized. Hence we&#39;ll keep this under monitoring stage and revisit once it comes back again. Thanks for all who&#39;s commented for idea!\r\n\r\n---\r\n### Original Question\r\n\r\nThis issue comes when we are trying to insert a new row of data into a particular table, however the issue is not persistent, we are unable to replicate. Any idea?\r\n\r\nError\r\n```\r\n2023-08-10 03:29:25.792  WARN 1 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42602\r\n2023-08-10 03:29:25.793 ERROR 1 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: invalid name syntax\r\n  Position: 16\r\n2023-08-10 03:29:25.794 ERROR 1 --- [nio-8080-exec-5] c.z.e.service.maskedImpl  : could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n```\r\n\r\nLet me explain,\r\n1. We deploy our code using Kubernetes, with 1 pod.\r\n2. A fresh deployment will not see this issue, however after some time (still the same pod) .. the same code will break by throwing this error.\r\n3. We notice a hacky solution to &quot;resolve&quot; this issue, which is deleting the pod and let it respawn. Immediately, it works fine again.\r\n\r\nThe entity is define as below in our code\r\n```\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Entity\r\n@Table(name=&quot;\\&quot;maskedTableName\\&quot;&quot;)\r\npublic class maskedTableName {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;\\&quot;Id\\&quot;&quot;)\r\n    private Long id;\r\n\r\n    @Column(name=&quot;\\&quot;maskedColumnA\\&quot;&quot;)\r\n    private String maskedColumnA;\r\n\r\n    @Column(name=&quot;\\&quot;maskedColumnB\\&quot;&quot;)\r\n    private String maskedColumnB;\r\n```\r\n\r\n### Additional info(s)\r\n1. We tried running the same code within local host environment, we do not face issue like we described. So we safely assume all the logics work fine.\r\n\r\n2. While this issue happen, we truncated the table and re-fire the API, hoping it it will create a new data row. It does not work as expected anyway.\r\n\r\n3. Within the database itself, this `Id` column is the Primary key with default of `nextval(&#39;maskedSchema.&quot;maskedTable_Id_seq&quot;&#39;::regclass)`","title":"o.h.engine.jdbc.spi.SqlExceptionHelper : ERROR: invalid name syntax Position: 16","body":"<h3>Update</h3>\n<p>14 Aug - Passive position. We couldn't replicate the issue, the root cause or pattern is failed to be recognized. Hence we'll keep this under monitoring stage and revisit once it comes back again. Thanks for all who's commented for idea!</p>\n<hr />\n<h3>Original Question</h3>\n<p>This issue comes when we are trying to insert a new row of data into a particular table, however the issue is not persistent, we are unable to replicate. Any idea?</p>\n<p>Error</p>\n<pre><code>2023-08-10 03:29:25.792  WARN 1 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42602\n2023-08-10 03:29:25.793 ERROR 1 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: invalid name syntax\n  Position: 16\n2023-08-10 03:29:25.794 ERROR 1 --- [nio-8080-exec-5] c.z.e.service.maskedImpl  : could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n<p>Let me explain,</p>\n<ol>\n<li>We deploy our code using Kubernetes, with 1 pod.</li>\n<li>A fresh deployment will not see this issue, however after some time (still the same pod) .. the same code will break by throwing this error.</li>\n<li>We notice a hacky solution to &quot;resolve&quot; this issue, which is deleting the pod and let it respawn. Immediately, it works fine again.</li>\n</ol>\n<p>The entity is define as below in our code</p>\n<pre><code>@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Entity\n@Table(name=&quot;\\&quot;maskedTableName\\&quot;&quot;)\npublic class maskedTableName {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;\\&quot;Id\\&quot;&quot;)\n    private Long id;\n\n    @Column(name=&quot;\\&quot;maskedColumnA\\&quot;&quot;)\n    private String maskedColumnA;\n\n    @Column(name=&quot;\\&quot;maskedColumnB\\&quot;&quot;)\n    private String maskedColumnB;\n</code></pre>\n<h3>Additional info(s)</h3>\n<ol>\n<li><p>We tried running the same code within local host environment, we do not face issue like we described. So we safely assume all the logics work fine.</p>\n</li>\n<li><p>While this issue happen, we truncated the table and re-fire the API, hoping it it will create a new data row. It does not work as expected anyway.</p>\n</li>\n<li><p>Within the database itself, this <code>Id</code> column is the Primary key with default of <code>nextval('maskedSchema.&quot;maskedTable_Id_seq&quot;'::regclass)</code></p>\n</li>\n</ol>\n"},{"tags":["java","multithreading","executorservice"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695626931,"creation_date":1695626931,"answer_id":77170609,"question_id":77170541,"body_markdown":"If a job submitted to an executor service fails, it doesn&#39;t affect other jobs.\r\n\r\nSo you only have to wait until jobs finished. The most straightforward way is to get Futures results:\r\n\r\n        ExecutorService ex = Executors.newFixedThreadPool(3);\r\n        List&lt;Callable&lt;Void&gt;&gt; job = new ArrayList&lt;&gt;();\r\n        List&lt;Future&lt;Void&gt;&gt; futures = ex.invokeAll(job);\r\n\r\n        for (Future&lt;Void&gt; future : futures) {\r\n            try {\r\n                future.get();\r\n                // job succeed\r\n            } catch (ExecutionException e) {\r\n                // job failed\r\n            }\r\n        }","title":"I want resume other thread if one thread fails in execution","body":"<p>If a job submitted to an executor service fails, it doesn't affect other jobs.</p>\n<p>So you only have to wait until jobs finished. The most straightforward way is to get Futures results:</p>\n<pre><code>    ExecutorService ex = Executors.newFixedThreadPool(3);\n    List&lt;Callable&lt;Void&gt;&gt; job = new ArrayList&lt;&gt;();\n    List&lt;Future&lt;Void&gt;&gt; futures = ex.invokeAll(job);\n\n    for (Future&lt;Void&gt; future : futures) {\n        try {\n            future.get();\n            // job succeed\n        } catch (ExecutionException e) {\n            // job failed\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398941,"reputation":143,"user_id":2851729,"display_name":"user2851729"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695640391,"creation_date":1695640391,"answer_id":77172156,"question_id":77170541,"body_markdown":"\r\n\r\nYou could use [CompletableFuture][1] to submit async task to default or specified executor. The benefit of this approach is: then you could use advance compose and exception handling operation per CompletableFuture.\r\n\r\nExample with waiting on all with usage of custom executor:\r\n\r\n        ExecutorService ex = newFixedThreadPool(3);\r\n        List&lt;Callable&lt;Void&gt;&gt; jobs = new ArrayList&lt;&gt;();\r\n        jobs.add(() -&gt; {\r\n            System.out.println(&quot;Callable 1&quot;);\r\n            return null;\r\n        });\r\n        jobs.add(() -&gt; {\r\n            Thread.sleep(1000);\r\n            System.out.println(&quot;Callable 2&quot;);\r\n            return null;\r\n        });\r\n        jobs.add(() -&gt; {\r\n            System.out.println(&quot;Callable 3&quot;);\r\n            return null;\r\n        });\r\n\r\n        List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = new ArrayList&lt;&gt;();\r\n        for (Callable&lt;Void&gt; job: jobs) {\r\n            CompletableFuture&lt;Void&gt; cp = CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    job.call();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                return null;\r\n            }, ex);\r\n            completableFutures.add(cp);\r\n        }\r\n\r\n        completableFutures.forEach(CompletableFuture::join);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html","title":"I want resume other thread if one thread fails in execution","body":"<p>You could use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a> to submit async task to default or specified executor. The benefit of this approach is: then you could use advance compose and exception handling operation per CompletableFuture.</p>\n<p>Example with waiting on all with usage of custom executor:</p>\n<pre><code>    ExecutorService ex = newFixedThreadPool(3);\n    List&lt;Callable&lt;Void&gt;&gt; jobs = new ArrayList&lt;&gt;();\n    jobs.add(() -&gt; {\n        System.out.println(&quot;Callable 1&quot;);\n        return null;\n    });\n    jobs.add(() -&gt; {\n        Thread.sleep(1000);\n        System.out.println(&quot;Callable 2&quot;);\n        return null;\n    });\n    jobs.add(() -&gt; {\n        System.out.println(&quot;Callable 3&quot;);\n        return null;\n    });\n\n    List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = new ArrayList&lt;&gt;();\n    for (Callable&lt;Void&gt; job: jobs) {\n        CompletableFuture&lt;Void&gt; cp = CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                job.call();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n            return null;\n        }, ex);\n        completableFutures.add(cp);\n    }\n\n    completableFutures.forEach(CompletableFuture::join);\n</code></pre>\n"}],"owner":{"account_id":29145919,"reputation":11,"user_id":22327836,"display_name":"Anjini Nitikka S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695665597,"creation_date":1695626209,"question_id":77170541,"body_markdown":"My sample code is as below:\r\n\r\n    ExecutorService ex = Executors.newFixedThreadPool(3);\r\n    List&lt;Callable&lt;Void&gt;&gt; job = new ArrayList&lt;&gt;();\r\n    ex.invokeAll(job);\r\n\r\nI have 3 jobs running in parallel and one job fails it should not revert other jobs. I want it to wait for all jobs to finish ( success or fail) and then update status. Need help in handling this use case\r\n\r\n\r\nTried using `afterExecute` ","title":"I want resume other thread if one thread fails in execution","body":"<p>My sample code is as below:</p>\n<pre><code>ExecutorService ex = Executors.newFixedThreadPool(3);\nList&lt;Callable&lt;Void&gt;&gt; job = new ArrayList&lt;&gt;();\nex.invokeAll(job);\n</code></pre>\n<p>I have 3 jobs running in parallel and one job fails it should not revert other jobs. I want it to wait for all jobs to finish ( success or fail) and then update status. Need help in handling this use case</p>\n<p>Tried using <code>afterExecute</code></p>\n"},{"tags":["java","freemarker","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695664926,"creation_date":1695664926,"answer_id":77174837,"question_id":77158917,"body_markdown":"Depends on the concrete needs, but generally it&#39;s somewhat deep water. \r\n\r\nThe basic stance of FreeMarker is that `null` and missing are these same for templates, because in practice those who provide the model (the template context, the variables) often aren&#39;t consistent in this regard, especially over time. Like, maybe `user.fullName` is was once `null` for some `User` objects, but in the next version there&#39;s a class like `SystemUser` that doesn&#39;t have `getFullName` at all. Or, same with `Map`-s, where once the controller had `map.put(&#39;jiraIssue&#39;, tracking.jiraIssue)`, and sometimes `tracking.jiraIssue` was `null`, but in the next version `map.put` is just not called at all in that case. So to keep templates robust, for the template language missing and `null` are the same.\r\n\r\nWhat you can do is addressing this on the `ObjectWrapper` level. Instead of the default `ObjectWrapper` instance, you can set your own with `Configuration.setObjectWrapper(ObjectWrapper)`.\r\nYou can create a `DefaultObectWrapper` instance with its `strict` property set to `true`, and that will throw `InvalidPropertyException` if you refer to an non-existent Java bean property. That you can&#39;t handle in template, so the template will fail, and you can catch the exception and report the issue. Or, you can create a custom `ObjectWrapper` implementation that just returns `null`, but adds the variable name to the set of wrong variable names, which you report after template processing.\r\n\r\nAs of just treating `null` as empty string, yet again the template language is quite opinioned, and wants you to put a `!` after the variable name to explicitly handle the situation. But you can address this on the `ObjectWrapper` level yet again, by returning `&quot;&quot;` with your custom `ObjectWrapper` in those cases. You can also use a `TemplateExceptionHandler`, but that can&#39;t provide a default value, it can just replace the whole failing `${...}` in the output.","title":"Handle Null or Missing Values in FreeMarker","body":"<p>Depends on the concrete needs, but generally it's somewhat deep water.</p>\n<p>The basic stance of FreeMarker is that <code>null</code> and missing are these same for templates, because in practice those who provide the model (the template context, the variables) often aren't consistent in this regard, especially over time. Like, maybe <code>user.fullName</code> is was once <code>null</code> for some <code>User</code> objects, but in the next version there's a class like <code>SystemUser</code> that doesn't have <code>getFullName</code> at all. Or, same with <code>Map</code>-s, where once the controller had <code>map.put('jiraIssue', tracking.jiraIssue)</code>, and sometimes <code>tracking.jiraIssue</code> was <code>null</code>, but in the next version <code>map.put</code> is just not called at all in that case. So to keep templates robust, for the template language missing and <code>null</code> are the same.</p>\n<p>What you can do is addressing this on the <code>ObjectWrapper</code> level. Instead of the default <code>ObjectWrapper</code> instance, you can set your own with <code>Configuration.setObjectWrapper(ObjectWrapper)</code>.\nYou can create a <code>DefaultObectWrapper</code> instance with its <code>strict</code> property set to <code>true</code>, and that will throw <code>InvalidPropertyException</code> if you refer to an non-existent Java bean property. That you can't handle in template, so the template will fail, and you can catch the exception and report the issue. Or, you can create a custom <code>ObjectWrapper</code> implementation that just returns <code>null</code>, but adds the variable name to the set of wrong variable names, which you report after template processing.</p>\n<p>As of just treating <code>null</code> as empty string, yet again the template language is quite opinioned, and wants you to put a <code>!</code> after the variable name to explicitly handle the situation. But you can address this on the <code>ObjectWrapper</code> level yet again, by returning <code>&quot;&quot;</code> with your custom <code>ObjectWrapper</code> in those cases. You can also use a <code>TemplateExceptionHandler</code>, but that can't provide a default value, it can just replace the whole failing <code>${...}</code> in the output.</p>\n"}],"owner":{"account_id":15866486,"reputation":101,"user_id":11448450,"display_name":"abdellah elazzam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695664926,"creation_date":1695396128,"question_id":77158917,"body_markdown":"\r\nHow to distinguish the `null` values from the missing one. I&#39;m getting the following Java error:\r\n```\r\nfreemarker.core.InvalidReferenceException: The following has evaluated to null or missing\r\n``` \r\n\r\nObjective: I&#39;m using `TemplateExceptionHandler` to write the missing variables in red and want to generate empty text for `null` values. The exception is raised for both missing and `null` values as they are equivalent. Is there any solution to this issue?","title":"Handle Null or Missing Values in FreeMarker","body":"<p>How to distinguish the <code>null</code> values from the missing one. I'm getting the following Java error:</p>\n<pre><code>freemarker.core.InvalidReferenceException: The following has evaluated to null or missing\n</code></pre>\n<p>Objective: I'm using <code>TemplateExceptionHandler</code> to write the missing variables in red and want to generate empty text for <code>null</code> values. The exception is raised for both missing and <code>null</code> values as they are equivalent. Is there any solution to this issue?</p>\n"},{"tags":["java","jaxb"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695664290,"creation_date":1695664290,"answer_id":77174778,"question_id":77174579,"body_markdown":"Your `Processor` is expecting a list of elements, but your xml provide a `&lt;cats&gt;` tag. In my oppinion the best solution is to **deal with `&lt;cats&gt;` as an *Object***.\r\n\r\nFirst, create the object that represents `&lt;cats&gt;`:\r\n```java\r\n@XmlRootElement(name = &quot;cats&quot;)\r\npublic class CatList {\r\n\r\n\t@XmlElement(name = &quot;cat&quot;)\r\n\tprivate List&lt;CatXML&gt; cats;\r\n\r\n\tpublic List&lt;CatXML&gt; getCats() {\r\n\t\treturn cats;\r\n\t}\r\n}\r\n```\r\n\r\nThen, change your `Processor` to deal with an *Object* instead of a `List`:\r\n```java\r\npublic class Processor {\r\n\tpublic &lt;T&gt; T xmlToObject(String xml, Class&lt;T&gt; clazz) throws JAXBException {\r\n\t\tJAXBContext context = JAXBContext.newInstance(clazz);\r\n\t\tUnmarshaller unmarshaller = context.createUnmarshaller();\r\n\t\tStringReader reader = new StringReader(xml);\r\n\t\treturn (T) unmarshaller.unmarshal(reader);\r\n\t}\r\n}\r\n```\r\n\r\nFinally, change your main method:\r\n```java\r\nString xml = &quot;&lt;cats&gt;&lt;cat&gt;&lt;name&gt;Ms. Piggy&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;cat&gt;&lt;name&gt;Ms. Jerry&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;/cats&gt;&quot;;\r\nProcessor pr = new Processor();\r\n\r\n// Use CatList.class instead of CatXML.class\r\nList&lt;CatXML&gt; cats = pr.xmlToObject(xml, CatList.class).getCats();\r\n```\r\n\r\nNow if you run:\r\n```java\r\ncats.forEach(cat -&gt; System.out.printf(&quot;Name: %s - City: %s\\n&quot;, cat.getName(), cat.getCity()));\r\n```\r\n\r\nYou get:\r\n```\r\nName: Ms. Piggy - City: Londen\r\nName: Ms. Jerry - City: Londen\r\n```","title":"How to unmarshal list of XML elements using Generics","body":"<p>Your <code>Processor</code> is expecting a list of elements, but your xml provide a <code>&lt;cats&gt;</code> tag. In my oppinion the best solution is to <strong>deal with <code>&lt;cats&gt;</code> as an <em>Object</em></strong>.</p>\n<p>First, create the object that represents <code>&lt;cats&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;cats&quot;)\npublic class CatList {\n\n    @XmlElement(name = &quot;cat&quot;)\n    private List&lt;CatXML&gt; cats;\n\n    public List&lt;CatXML&gt; getCats() {\n        return cats;\n    }\n}\n</code></pre>\n<p>Then, change your <code>Processor</code> to deal with an <em>Object</em> instead of a <code>List</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Processor {\n    public &lt;T&gt; T xmlToObject(String xml, Class&lt;T&gt; clazz) throws JAXBException {\n        JAXBContext context = JAXBContext.newInstance(clazz);\n        Unmarshaller unmarshaller = context.createUnmarshaller();\n        StringReader reader = new StringReader(xml);\n        return (T) unmarshaller.unmarshal(reader);\n    }\n}\n</code></pre>\n<p>Finally, change your main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xml = &quot;&lt;cats&gt;&lt;cat&gt;&lt;name&gt;Ms. Piggy&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;cat&gt;&lt;name&gt;Ms. Jerry&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;/cats&gt;&quot;;\nProcessor pr = new Processor();\n\n// Use CatList.class instead of CatXML.class\nList&lt;CatXML&gt; cats = pr.xmlToObject(xml, CatList.class).getCats();\n</code></pre>\n<p>Now if you run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>cats.forEach(cat -&gt; System.out.printf(&quot;Name: %s - City: %s\\n&quot;, cat.getName(), cat.getCity()));\n</code></pre>\n<p>You get:</p>\n<pre><code>Name: Ms. Piggy - City: Londen\nName: Ms. Jerry - City: Londen\n</code></pre>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77174778,"answer_count":1,"score":1,"last_activity_date":1695664290,"creation_date":1695661956,"question_id":77174579,"body_markdown":"Does anyone know how to unmarshal a list of XML elements using Generics? This doesn&#39;t seem to work ...\r\n\r\n    xml = &quot;&lt;cats&gt;&lt;cat&gt;&lt;name&gt;Ms. Piggy&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;cat&gt;&lt;name&gt;Ms. Jerry&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;/cats&gt;&quot;;\r\n\r\n    Processor pr = new Processor();\r\n    List&lt;CatXML&gt; cats = pr.xmlToObjectList( xml, CatXML.class);\r\n\r\n\r\n Processor class:\r\n\r\n\r\n    public class Processor {\r\n        public &lt;T&gt; List&lt;T&gt; xmlToObjectList(String xmlContainsObject, Class&lt;T&gt; objectType) {\r\n\r\n            try {\r\n                JAXBContext context = JAXBContext.newInstance(objectType);\r\n                Unmarshaller unmarshaller = context.createUnmarshaller();\r\n                StringReader reader = new StringReader(xmlContainsObject);\r\n                return (List&lt;T&gt;) unmarshaller.unmarshal(reader);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nCat class:\r\n\r\n    @XmlRootElement(name = &quot;cat&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class CatXML implements Serializable {\r\n\r\n        private String name = &quot;&quot;;\r\n        private String city = &quot;&quot;;\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(String city) {\r\n        this.city = city;\r\n    }\r\n    }\r\n\r\nI got an error:\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: jakarta.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;cats&quot;). Expected elements are &lt;{}cat&gt;\r\n\tat org.example.Processor.xmlToObjectList(Processor.java:90)\r\n\tat org.example.Main.main(Main.java:36)\r\nCaused by: jakarta.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;cats&quot;). Expected elements are &lt;{}cat&gt;\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\r\n","title":"How to unmarshal list of XML elements using Generics","body":"<p>Does anyone know how to unmarshal a list of XML elements using Generics? This doesn't seem to work ...</p>\n<pre><code>xml = &quot;&lt;cats&gt;&lt;cat&gt;&lt;name&gt;Ms. Piggy&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;cat&gt;&lt;name&gt;Ms. Jerry&lt;/name&gt;&lt;city&gt;Londen&lt;/city&gt;&lt;/cat&gt;&lt;/cats&gt;&quot;;\n\nProcessor pr = new Processor();\nList&lt;CatXML&gt; cats = pr.xmlToObjectList( xml, CatXML.class);\n</code></pre>\n<p>Processor class:</p>\n<pre><code>public class Processor {\n    public &lt;T&gt; List&lt;T&gt; xmlToObjectList(String xmlContainsObject, Class&lt;T&gt; objectType) {\n\n        try {\n            JAXBContext context = JAXBContext.newInstance(objectType);\n            Unmarshaller unmarshaller = context.createUnmarshaller();\n            StringReader reader = new StringReader(xmlContainsObject);\n            return (List&lt;T&gt;) unmarshaller.unmarshal(reader);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>Cat class:</p>\n<pre><code>@XmlRootElement(name = &quot;cat&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class CatXML implements Serializable {\n\n    private String name = &quot;&quot;;\n    private String city = &quot;&quot;;\n\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getCity() {\n    return city;\n}\n\npublic void setCity(String city) {\n    this.city = city;\n}\n}\n</code></pre>\n<p>I got an error:</p>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: jakarta.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;cats&quot;). Expected elements are &lt;{}cat&gt;\nat org.example.Processor.xmlToObjectList(Processor.java:90)\nat org.example.Main.main(Main.java:36)\nCaused by: jakarta.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;cats&quot;). Expected elements are &lt;{}cat&gt;\nat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)</p>\n"},{"tags":["java","generator","openapi"],"answers":[{"tags":[],"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614861641,"creation_date":1614861641,"answer_id":66475243,"question_id":66470627,"body_markdown":"Try out with below demo yaml.\r\n\r\nEnums should be defined as enum: [en, de].\r\n\r\n\r\n    openapi: 3.0.2\r\n    info: {title: Demo Info., description: Demo Description., version: 1.0.0}\r\n    servers:\r\n    - {url: &#39;https://something.com&#39;, description: Demo Description.}\r\n    paths:\r\n      /something:\r\n        post:\r\n          tags: [Something]\r\n          requestBody:\r\n            required: true\r\n            content:\r\n              application/json:\r\n                schema: {$ref: &#39;#/components/schemas/SomethingRequest&#39;}\r\n          parameters:\r\n          - {$ref: &#39;#/components/parameters/language&#39;}\r\n          responses:\r\n            200:\r\n              description: OK\r\n              content:\r\n                application/json:\r\n                  schema: {$ref: &#39;#/components/schemas/SomethingResponse&#39;}\r\n    components:\r\n      parameters:\r\n        language:\r\n          name: language\r\n          schema:\r\n            type: string\r\n            enum: [en, de]\r\n            default: en\r\n          in: query\r\n      schemas:\r\n        SomethingRequest:\r\n          properties:\r\n            demo: {type: string}\r\n        SomethingResponse:\r\n          properties:\r\n            demo: {type: string}","title":"Openapi generator cannot generate query param with enum","body":"<p>Try out with below demo yaml.</p>\n<p>Enums should be defined as enum: [en, de].</p>\n<pre><code>openapi: 3.0.2\ninfo: {title: Demo Info., description: Demo Description., version: 1.0.0}\nservers:\n- {url: 'https://something.com', description: Demo Description.}\npaths:\n  /something:\n    post:\n      tags: [Something]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema: {$ref: '#/components/schemas/SomethingRequest'}\n      parameters:\n      - {$ref: '#/components/parameters/language'}\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema: {$ref: '#/components/schemas/SomethingResponse'}\ncomponents:\n  parameters:\n    language:\n      name: language\n      schema:\n        type: string\n        enum: [en, de]\n        default: en\n      in: query\n  schemas:\n    SomethingRequest:\n      properties:\n        demo: {type: string}\n    SomethingResponse:\n      properties:\n        demo: {type: string}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2312621,"reputation":177,"user_id":2030411,"display_name":"johnlon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643771460,"creation_date":1643771460,"answer_id":70950117,"question_id":66470627,"body_markdown":"Multiple long standing enum bugs exist in the generators (for all languages as far as I can tell).\r\n\r\nFor example https://github.com/OpenAPITools/openapi-generator/issues/4300\r\n\r\nBut also .. https://github.com/OpenAPITools/openapi-generator/issues/2645\r\n","title":"Openapi generator cannot generate query param with enum","body":"<p>Multiple long standing enum bugs exist in the generators (for all languages as far as I can tell).</p>\n<p>For example <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/4300\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/4300</a></p>\n<p>But also .. <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/2645\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/2645</a></p>\n"},{"tags":[],"owner":{"account_id":11584010,"reputation":465,"user_id":8486854,"display_name":"SinunHenkka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655376661,"creation_date":1655375326,"answer_id":72644390,"question_id":66470627,"body_markdown":"It depends what generator you are using but jaxrs-resteasy-eap is broken when using enums in query parameters.\r\n\r\nI think [this][1] commit is causing the problem.\r\n\r\nAs a temporary fix in my project I edited the queryParams.mustache template file to as this:\r\n\r\n    {{#isQueryParam}}{{#useBeanValidation}}{{&gt;beanValidationQueryParams}}{{/useBeanValidation}}{{^isContainer}}{{#allowableValues}}@ApiParam(value = &quot;{{{description}}}&quot;{{#required}},required=true{{/required}}, {{&gt; allowableValues }}){{/allowableValues}}{{#defaultValue}} @DefaultValue(&quot;{{{.}}}&quot;){{/defaultValue}}{{/isContainer}} @QueryParam(&quot;{{baseName}}&quot;) {{{dataType}}} {{paramName}}{{/isQueryParam}}\r\n\r\nJust noticed that there are also [github issue][2] of this. The recommendation of removing the allowableValues from queryParams.mustache might be the correct way to go:\r\n\r\n    {{#isQueryParam}}{{#useBeanValidation}}{{&gt;beanValidationQueryParams}}{{/useBeanValidation}}{{^isContainer}}{{#defaultValue}} @DefaultValue(&quot;{{{.}}}&quot;){{/defaultValue}}{{/isContainer}} @QueryParam(&quot;{{baseName}}&quot;) {{{dataType}}} {{paramName}}{{/isQueryParam}}\r\n\r\nIt depends how you are using the generator how to use own templates.\r\n\r\nI am using it from npm @openapitools/openapi-generator-cli\r\nThere you can apply your own templates by adding -t/--template-dir &lt;template folder&gt; option into your generate command. Here is mine as example:\r\n\r\n    npx @openapitools/openapi-generator-cli generate -t=templates/jaxrs -i openapi.yaml -o generated/jaxrs -g jaxrs-resteasy-eap -c config-jaxrs.yaml\r\n\r\nI just copied my modified queryParams.mustache to root of templates/jaxrs and the generated api functions did not have double comma syntax problems anymore:\r\n\r\n    public Response getPets( @ApiParam(value = &quot;My param description&quot;, allowableValues=&quot;AA, BB, CC&quot;) @QueryParam(&quot;petType&quot;) PetType petType,@Context SecurityContext securityContext);\r\n\r\nI haven&#39;t used these files yet, so I don&#39;t know if everything is correct, but atleast the syntax is correct now.\r\n\r\nMore info here: [templating documentation][3]\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/commit/5e92ec1b4c3743026ade9a55bf9345f894877f15#diff-1b2fac13dd3086346026a61b6c76dbe6af49c8f70de616c7cbe92bfe7a83289e\r\n  [2]: https://github.com/OpenAPITools/openapi-generator/issues/4376\r\n  [3]: https://openapi-generator.tech/docs/templating","title":"Openapi generator cannot generate query param with enum","body":"<p>It depends what generator you are using but jaxrs-resteasy-eap is broken when using enums in query parameters.</p>\n<p>I think <a href=\"https://github.com/OpenAPITools/openapi-generator/commit/5e92ec1b4c3743026ade9a55bf9345f894877f15#diff-1b2fac13dd3086346026a61b6c76dbe6af49c8f70de616c7cbe92bfe7a83289e\" rel=\"nofollow noreferrer\">this</a> commit is causing the problem.</p>\n<p>As a temporary fix in my project I edited the queryParams.mustache template file to as this:</p>\n<pre><code>{{#isQueryParam}}{{#useBeanValidation}}{{&gt;beanValidationQueryParams}}{{/useBeanValidation}}{{^isContainer}}{{#allowableValues}}@ApiParam(value = &quot;{{{description}}}&quot;{{#required}},required=true{{/required}}, {{&gt; allowableValues }}){{/allowableValues}}{{#defaultValue}} @DefaultValue(&quot;{{{.}}}&quot;){{/defaultValue}}{{/isContainer}} @QueryParam(&quot;{{baseName}}&quot;) {{{dataType}}} {{paramName}}{{/isQueryParam}}\n</code></pre>\n<p>Just noticed that there are also <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/4376\" rel=\"nofollow noreferrer\">github issue</a> of this. The recommendation of removing the allowableValues from queryParams.mustache might be the correct way to go:</p>\n<pre><code>{{#isQueryParam}}{{#useBeanValidation}}{{&gt;beanValidationQueryParams}}{{/useBeanValidation}}{{^isContainer}}{{#defaultValue}} @DefaultValue(&quot;{{{.}}}&quot;){{/defaultValue}}{{/isContainer}} @QueryParam(&quot;{{baseName}}&quot;) {{{dataType}}} {{paramName}}{{/isQueryParam}}\n</code></pre>\n<p>It depends how you are using the generator how to use own templates.</p>\n<p>I am using it from npm @openapitools/openapi-generator-cli\nThere you can apply your own templates by adding -t/--template-dir  option into your generate command. Here is mine as example:</p>\n<pre><code>npx @openapitools/openapi-generator-cli generate -t=templates/jaxrs -i openapi.yaml -o generated/jaxrs -g jaxrs-resteasy-eap -c config-jaxrs.yaml\n</code></pre>\n<p>I just copied my modified queryParams.mustache to root of templates/jaxrs and the generated api functions did not have double comma syntax problems anymore:</p>\n<pre><code>public Response getPets( @ApiParam(value = &quot;My param description&quot;, allowableValues=&quot;AA, BB, CC&quot;) @QueryParam(&quot;petType&quot;) PetType petType,@Context SecurityContext securityContext);\n</code></pre>\n<p>I haven't used these files yet, so I don't know if everything is correct, but atleast the syntax is correct now.</p>\n<p>More info here: <a href=\"https://openapi-generator.tech/docs/templating\" rel=\"nofollow noreferrer\">templating documentation</a></p>\n"},{"tags":[],"owner":{"account_id":8734251,"reputation":106,"user_id":6533388,"display_name":"Thorsten Hilker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695664187,"creation_date":1695664187,"answer_id":77174766,"question_id":66470627,"body_markdown":"This works for me:\r\n```\r\n...\r\npaths:\r\n...\r\n        - name: semesterType\r\n          in: query\r\n          required: true\r\n          schema:\r\n            $ref: &#39;#/components/schemas/SemesterType&#39;\r\n...\r\ncomponents:\r\n  schemas:\r\n    SemesterType:\r\n      type: string\r\n      enum:\r\n        - SOMMERSEMESTER\r\n        - WINTERSEMESTER\r\n```","title":"Openapi generator cannot generate query param with enum","body":"<p>This works for me:</p>\n<pre><code>...\npaths:\n...\n        - name: semesterType\n          in: query\n          required: true\n          schema:\n            $ref: '#/components/schemas/SemesterType'\n...\ncomponents:\n  schemas:\n    SemesterType:\n      type: string\n      enum:\n        - SOMMERSEMESTER\n        - WINTERSEMESTER\n</code></pre>\n"}],"owner":{"account_id":10507668,"reputation":367,"user_id":7744348,"accept_rate":86,"display_name":"StopTheRain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9568,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1695664187,"creation_date":1614844098,"question_id":66470627,"body_markdown":"I&#39;m trying to generate a service that has enum as query parameter, but it keeps generating it wrong.\r\nHere&#39;s the part of yaml:\r\n```    language:\r\n      name: language\r\n      in: query\r\n      description: language\r\n      schema:\r\n        type: string\r\n        enum:\r\n        - en\r\n        - de\r\n```\r\n\r\nand I&#39;m using it in parameters:\r\n```      parameters:\r\n        - $ref: &#39;#/components/parameters/language&#39;\r\n```\r\n\r\nThe error that I get is:\r\n```\r\n[ERROR] .../api/TestApi.java:[110,65] illegal start of type\r\n[ERROR] .../api/TestApi.java:[110,66] &#39;)&#39; expected\r\n[ERROR] .../api/TestApi.java:[110,82] &#39;;&#39; expected\r\n```\r\n\r\nHere&#39;s what the code looks like:\r\n\r\n```\r\npublic Response getByLanguage( @PathParam(&quot;id&quot;) Long id, , allowableValues=&quot;en, de&quot; @QueryParam(&quot;language&quot;) String language\r\n```\r\n\r\nAnd here&#39;s my plugin:\r\n```\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.0.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;inputSpec&gt;${basedir}/src/main/resources/openapi.yaml&lt;/inputSpec&gt;\r\n                        &lt;output&gt;${project.build.directory}/generated-sources/java&lt;/output&gt;\r\n                        &lt;generatorName&gt;jaxrs-resteasy-eap&lt;/generatorName&gt;\r\n                        &lt;modelPackage&gt;com.openapi.example.model&lt;/modelPackage&gt;\r\n                        &lt;apiPackage&gt;com.openapi.example.api&lt;/apiPackage&gt;\r\n                        &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n                        &lt;configOptions&gt;\r\n                            &lt;sourceFolder&gt;openapi&lt;/sourceFolder&gt;\r\n                            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                            &lt;java8&gt;true&lt;/java8&gt;\r\n                            &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                            &lt;useTags&gt;true&lt;/useTags&gt;\r\n                            &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                        &lt;/configOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                            &lt;id&gt;generate&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n```\r\n\r\nThe only way I&#39;ve managed to get it to work is to make it as an array of enum values, but that&#39;s not what I need here.\r\n\r\nEDIT:\r\ndependencies I have defined in the project:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-analyzer&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.8&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.5&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Openapi generator cannot generate query param with enum","body":"<p>I'm trying to generate a service that has enum as query parameter, but it keeps generating it wrong.\nHere's the part of yaml:</p>\n<pre><code>      name: language\n      in: query\n      description: language\n      schema:\n        type: string\n        enum:\n        - en\n        - de\n</code></pre>\n<p>and I'm using it in parameters:</p>\n<pre><code>        - $ref: '#/components/parameters/language'\n</code></pre>\n<p>The error that I get is:</p>\n<pre><code>[ERROR] .../api/TestApi.java:[110,65] illegal start of type\n[ERROR] .../api/TestApi.java:[110,66] ')' expected\n[ERROR] .../api/TestApi.java:[110,82] ';' expected\n</code></pre>\n<p>Here's what the code looks like:</p>\n<pre><code>public Response getByLanguage( @PathParam(&quot;id&quot;) Long id, , allowableValues=&quot;en, de&quot; @QueryParam(&quot;language&quot;) String language\n</code></pre>\n<p>And here's my plugin:</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;5.0.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;inputSpec&gt;${basedir}/src/main/resources/openapi.yaml&lt;/inputSpec&gt;\n                        &lt;output&gt;${project.build.directory}/generated-sources/java&lt;/output&gt;\n                        &lt;generatorName&gt;jaxrs-resteasy-eap&lt;/generatorName&gt;\n                        &lt;modelPackage&gt;com.openapi.example.model&lt;/modelPackage&gt;\n                        &lt;apiPackage&gt;com.openapi.example.api&lt;/apiPackage&gt;\n                        &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                        &lt;configOptions&gt;\n                            &lt;sourceFolder&gt;openapi&lt;/sourceFolder&gt;\n                            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                            &lt;java8&gt;true&lt;/java8&gt;\n                            &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                            &lt;useTags&gt;true&lt;/useTags&gt;\n                            &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;id&gt;generate&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>The only way I've managed to get it to work is to make it as an array of enum values, but that's not what I need here.</p>\n<p>EDIT:\ndependencies I have defined in the project:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-analyzer&lt;/artifactId&gt;\n            &lt;version&gt;1.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;1.5.8&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.1.5&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1695662894,"post_id":77174615,"comment_id":136051639,"body_markdown":"**Yes, indeed**","body":"<b>Yes, indeed</b>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695663158,"post_id":77174615,"comment_id":136051672,"body_markdown":"What do you mean? Provide an example.","body":"What do you mean? Provide an example."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695663888,"post_id":77174615,"comment_id":136051801,"body_markdown":"Not sure it&#39;s relevant, but keep in mind a decent logger will not evaluate the String interpolation if the logging level is not enabled.  But, a concatenated String will likely always be evaluated (unless it&#39;s like your example with a constant compile time value).","body":"Not sure it&#39;s relevant, but keep in mind a decent logger will not evaluate the String interpolation if the logging level is not enabled.  But, a concatenated String will likely always be evaluated (unless it&#39;s like your example with a constant compile time value)."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695663436,"creation_date":1695663436,"answer_id":77174704,"question_id":77174615,"body_markdown":"Yes, you have a _constant expression_, according to the [JLS, Section 15.29][1].\r\n\r\n&gt; Constant expressions of type `String` are always &quot;interned&quot; so as to share unique instances, using the method `String.intern`. \r\n\r\nYour expression is made of string literals and the `+` operator, which are in the list of things allowed in constant expressions.\r\n\r\n&gt; A constant expression is an expression denoting a value of primitive type or a String that does not complete abruptly and is composed using only the following:\r\n&gt; - Literals of primitive type (&#167;3.10.1, &#167;3.10.2, &#167;3.10.3, &#167;3.10.4), string literals (&#167;3.10.5), and text blocks (&#167;3.10.6)\r\n\r\n_(snip)_\r\n\r\n&gt; - The additive operators `+` and `-` (&#167;15.18) \r\n\r\nThere is no mention of any limitations based on context as to whether it&#39;s a constant expression, so even it&#39;s being passed to a method, it&#39;s still a constant expression, and it&#39;s still stored in the interned string pool.\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29","title":"Are string literal concatenation using + in log parameter store in compiler constant pool?","body":"<p>Yes, you have a <em>constant expression</em>, according to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">JLS, Section 15.29</a>.</p>\n<blockquote>\n<p>Constant expressions of type <code>String</code> are always &quot;interned&quot; so as to share unique instances, using the method <code>String.intern</code>.</p>\n</blockquote>\n<p>Your expression is made of string literals and the <code>+</code> operator, which are in the list of things allowed in constant expressions.</p>\n<blockquote>\n<p>A constant expression is an expression denoting a value of primitive type or a String that does not complete abruptly and is composed using only the following:</p>\n<ul>\n<li>Literals of primitive type (§3.10.1, §3.10.2, §3.10.3, §3.10.4), string literals (§3.10.5), and text blocks (§3.10.6)</li>\n</ul>\n</blockquote>\n<p><em>(snip)</em></p>\n<blockquote>\n<ul>\n<li>The additive operators <code>+</code> and <code>-</code> (§15.18)</li>\n</ul>\n</blockquote>\n<p>There is no mention of any limitations based on context as to whether it's a constant expression, so even it's being passed to a method, it's still a constant expression, and it's still stored in the interned string pool.</p>\n"}],"owner":{"account_id":24939850,"reputation":253,"user_id":18805881,"display_name":"olaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77174704,"answer_count":1,"score":0,"last_activity_date":1695663436,"creation_date":1695662394,"question_id":77174615,"body_markdown":"Consider the following\r\n\r\n\r\n    log.info(&quot;very long string  {}, &quot; + &quot; another string {}&quot;, a, b)\r\n\r\nvs \r\n\r\n    log.info(&quot;very long string {}, another string {}&quot;, a, b)\r\n\r\n\r\nIn java specification https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\r\n\r\n\r\nString literals are stored in compiler constant and create in compile time\r\n\r\n\r\n    String x = &quot;very long string &quot; + &quot;another string&quot;\r\n\r\nis equal to \r\n\r\n    String y = &quot;very long string another string&quot;\r\n\r\nBoth `x` and `y` share the same reference because they are literals that are evaluated at compile time.\r\n\r\nBut is that true if the string are part of perameter calls?\r\n\r\n\r\n","title":"Are string literal concatenation using + in log parameter store in compiler constant pool?","body":"<p>Consider the following</p>\n<pre><code>log.info(&quot;very long string  {}, &quot; + &quot; another string {}&quot;, a, b)\n</code></pre>\n<p>vs</p>\n<pre><code>log.info(&quot;very long string {}, another string {}&quot;, a, b)\n</code></pre>\n<p>In java specification <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5</a></p>\n<p>String literals are stored in compiler constant and create in compile time</p>\n<pre><code>String x = &quot;very long string &quot; + &quot;another string&quot;\n</code></pre>\n<p>is equal to</p>\n<pre><code>String y = &quot;very long string another string&quot;\n</code></pre>\n<p>Both <code>x</code> and <code>y</code> share the same reference because they are literals that are evaluated at compile time.</p>\n<p>But is that true if the string are part of perameter calls?</p>\n"},{"tags":["java","minecraft","mysql-connector","forge"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1695329897,"post_id":77152907,"comment_id":136013797,"body_markdown":"What&#39;s the error you receive?","body":"What&#39;s the error you receive?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1695364142,"post_id":77152907,"comment_id":136016963,"body_markdown":"Did you run the &quot;shadowJar&quot; command?","body":"Did you run the &quot;shadowJar&quot; command?"}],"owner":{"account_id":20873572,"reputation":13,"user_id":15332940,"display_name":"Louis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695662780,"creation_date":1695322082,"question_id":77152907,"body_markdown":"I&#39;ve been trying for 2 weeks to add a dependency to my Forge mod which connects my client to my SQL server, in the IDE it finds the server but not in the client with the built mod.\r\n\r\nTherefore, I would be happy if some of you could help me as a last hope.\r\n\r\nHere is my Total gradle.build: https://pastebin.com/7QTGFdDT\r\n\r\nI already tried adding **com.github.johnrengelman.shadow** to load the packages in the mod as well, but failed or did something wrong.\r\n\r\n```java\r\ntry {\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;, &quot;User&quot;, &quot;Password&quot;);\r\n            String sql = &quot;INSERT INTO chat_messages (Test) VALUES (?)&quot;;\r\n            PreparedStatement statement = connection.prepareStatement(sql);\r\n            statement.setString(1, Test);\r\n statement.executeUpdate();\r\n            statement.close();\r\n } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nThat is what i tried so far, it would be nice of someone could help me.\r\n\r\n---\r\n\r\n\r\nWhat&#39;s the error you receive?\r\nhttps://pastebin.com/HT5uPrrx\r\n\r\nDid you run the &quot;shadowJar&quot; command?\r\nYes quite a lot of Times, with Different Options","title":"Forge java Modding adding mysql-connector-java to a Mod","body":"<p>I've been trying for 2 weeks to add a dependency to my Forge mod which connects my client to my SQL server, in the IDE it finds the server but not in the client with the built mod.</p>\n<p>Therefore, I would be happy if some of you could help me as a last hope.</p>\n<p>Here is my Total gradle.build: <a href=\"https://pastebin.com/7QTGFdDT\" rel=\"nofollow noreferrer\">https://pastebin.com/7QTGFdDT</a></p>\n<p>I already tried adding <strong>com.github.johnrengelman.shadow</strong> to load the packages in the mod as well, but failed or did something wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;, &quot;User&quot;, &quot;Password&quot;);\n            String sql = &quot;INSERT INTO chat_messages (Test) VALUES (?)&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            statement.setString(1, Test);\n statement.executeUpdate();\n            statement.close();\n } catch (SQLException e) {\n            System.out.println(e.getMessage());\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>That is what i tried so far, it would be nice of someone could help me.</p>\n<hr />\n<p>What's the error you receive?\n<a href=\"https://pastebin.com/HT5uPrrx\" rel=\"nofollow noreferrer\">https://pastebin.com/HT5uPrrx</a></p>\n<p>Did you run the &quot;shadowJar&quot; command?\nYes quite a lot of Times, with Different Options</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695662668,"creation_date":1695662668,"answer_id":77174642,"question_id":77170478,"body_markdown":"Your code is already looping through all of the property names and looking for a property named `_AMQ_LARGE_SIZE`. All you need to do is change the code so it gets the property value and does something with it, e.g.:\r\n```java\r\nboolean isLarge = false;\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nEnumeration propertyNames = messages.get(0).getPropertyNames();\r\nwhile (propertyNames.hasMoreElements()) {\r\n    String propertyName = propertyNames.nextElement();\r\n    System.out.println(&quot;Property name: &quot; + propertyName + &quot;; property value: &quot; + messages.get(0).getObjectProperty(propertyName));\r\n    if (propertyName.equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\r\n        isLarge = true;\r\n    }\r\n}\r\n```","title":"How to get message properties in ActiveMQ Artemis broker queue via JMS?","body":"<p>Your code is already looping through all of the property names and looking for a property named <code>_AMQ_LARGE_SIZE</code>. All you need to do is change the code so it gets the property value and does something with it, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isLarge = false;\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nEnumeration propertyNames = messages.get(0).getPropertyNames();\nwhile (propertyNames.hasMoreElements()) {\n    String propertyName = propertyNames.nextElement();\n    System.out.println(&quot;Property name: &quot; + propertyName + &quot;; property value: &quot; + messages.get(0).getObjectProperty(propertyName));\n    if (propertyName.equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\n        isLarge = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29527172,"reputation":1,"user_id":22628508,"display_name":"Limbarunda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695662668,"creation_date":1695625621,"question_id":77170478,"body_markdown":"I have a code that gets the property name `_AMQ_LARGE_SIZE`, but I don&#39;t understand how I can get all the headers.\r\n```java\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nEnumeration propertyNames = messages.get(0).getPropertyNames();\r\nwhile (propertyNames.hasMoreElements()) {\r\n    if (propertyNames.nextElement().equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\r\n        isLarge = true;\r\n        break;\r\n    }\r\n}\r\n```","title":"How to get message properties in ActiveMQ Artemis broker queue via JMS?","body":"<p>I have a code that gets the property name <code>_AMQ_LARGE_SIZE</code>, but I don't understand how I can get all the headers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nEnumeration propertyNames = messages.get(0).getPropertyNames();\nwhile (propertyNames.hasMoreElements()) {\n    if (propertyNames.nextElement().equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\n        isLarge = true;\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","exe","screenshot","graalvm-native-image"],"comments":[{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695680791,"post_id":77174620,"comment_id":136054201,"body_markdown":"I figured, it is related to Windows-Settings-System-Display-Scale being %150. Now have to figure out, how to make java detect scale percent?","body":"I figured, it is related to Windows-Settings-System-Display-Scale being %150. Now have to figure out, how to make java detect scale percent?"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695682258,"post_id":77174620,"comment_id":136054330,"body_markdown":"I figured that, graalvm native exe cannot detect scaling factor. using this java function-&gt;  static float scaleFactor() {return Toolkit.getDefaultToolkit().getScreenResolution() / 96f;}","body":"I figured that, graalvm native exe cannot detect scaling factor. using this java function-&gt;  static float scaleFactor() {return Toolkit.getDefaultToolkit().getScreenResolution() / 96f;}"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695662445,"creation_date":1695662445,"question_id":77174620,"body_markdown":"For the java [project][1] below that screencaptures to a jpg file, why&lt;br&gt;\r\n- jar version creates proper jpg file, \r\n- graalvm exe version creates magnified jpg file\r\n- even though they both detects screen size correctly\r\n- Is there any temporary fix?\r\n~~~\r\npublic static void main(String... s) {\r\n\tvar size = size();\r\n\tlog.ci(&quot;main&quot;, &quot;size&quot;, size);\r\n\tvar img = shotPicture(size);\r\n\tif (img == null) {\r\n\t\treturn;\r\n\t}\r\n\tvar jpg = Path.of(&quot;D:\\\\git\\\\tst\\\\com.tugalsan.tst.input\\\\out.jpg&quot;);\r\n\ttoJpg(img, jpg);\r\n}\r\n\r\nstatic void toJpg(BufferedImage input, Path output) {\r\n\ttry {\r\n\t\tImageIO.write(input, &quot;jpg&quot;, output.toFile());\r\n\t} catch (IOException ex) {\r\n\t\tex.printStackTrace();\r\n\t}\r\n}\r\n\r\nstatic Rectangle size() {\r\n\tvar localGrapicsEnv = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\tvar screensDevices = localGrapicsEnv.getScreenDevices();\r\n\tvar allScreenBounds = new java.awt.Rectangle();\r\n\tfor (var screen : screensDevices) {\r\n\t\tvar screenBounds = screen.getDefaultConfiguration().getBounds();\r\n\t\tallScreenBounds.width += screenBounds.width;\r\n\t\tallScreenBounds.height = Math.max(allScreenBounds.height, screenBounds.height);\r\n\t}\r\n\treturn allScreenBounds;\r\n}\r\n\r\nstatic BufferedImage shotPicture(Rectangle size) {\r\n\ttry {\r\n\t\treturn new Robot().createScreenCapture(size);\r\n\t} catch (AWTException ex) {\r\n\t\tex.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nstatic class log {\r\n\r\n\tpublic static void ci(String funcName, Object... oAll) {\r\n\t\tout.print(funcName);\r\n\t\tArrays.stream(oAll).forEachOrdered(oi -&gt; {\r\n\t\t\tout.print(&quot; &quot;);\r\n\t\t\tout.print(oi);\r\n\t\t});\r\n\t\tout.println();\r\n\t}\r\n}\r\n~~~\r\n \r\n\r\n  [1]: https://github.com/tugalsan/com.tugalsan.tst.input","title":"graalvm 21 new Robot().createScreenCapture(size) returns magnified","body":"<p>For the java <a href=\"https://github.com/tugalsan/com.tugalsan.tst.input\" rel=\"nofollow noreferrer\">project</a> below that screencaptures to a jpg file, why<br></p>\n<ul>\n<li>jar version creates proper jpg file,</li>\n<li>graalvm exe version creates magnified jpg file</li>\n<li>even though they both detects screen size correctly</li>\n<li>Is there any temporary fix?</li>\n</ul>\n<pre><code>public static void main(String... s) {\n    var size = size();\n    log.ci(&quot;main&quot;, &quot;size&quot;, size);\n    var img = shotPicture(size);\n    if (img == null) {\n        return;\n    }\n    var jpg = Path.of(&quot;D:\\\\git\\\\tst\\\\com.tugalsan.tst.input\\\\out.jpg&quot;);\n    toJpg(img, jpg);\n}\n\nstatic void toJpg(BufferedImage input, Path output) {\n    try {\n        ImageIO.write(input, &quot;jpg&quot;, output.toFile());\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n\nstatic Rectangle size() {\n    var localGrapicsEnv = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    var screensDevices = localGrapicsEnv.getScreenDevices();\n    var allScreenBounds = new java.awt.Rectangle();\n    for (var screen : screensDevices) {\n        var screenBounds = screen.getDefaultConfiguration().getBounds();\n        allScreenBounds.width += screenBounds.width;\n        allScreenBounds.height = Math.max(allScreenBounds.height, screenBounds.height);\n    }\n    return allScreenBounds;\n}\n\nstatic BufferedImage shotPicture(Rectangle size) {\n    try {\n        return new Robot().createScreenCapture(size);\n    } catch (AWTException ex) {\n        ex.printStackTrace();\n        return null;\n    }\n}\n\nstatic class log {\n\n    public static void ci(String funcName, Object... oAll) {\n        out.print(funcName);\n        Arrays.stream(oAll).forEachOrdered(oi -&gt; {\n            out.print(&quot; &quot;);\n            out.print(oi);\n        });\n        out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1552483947,"post_id":55143045,"comment_id":97026498,"body_markdown":"Is the `calc` function specialized for `Order` instances? Or is it a general method that does nothing have to do with such orders?","body":"Is the <code>calc</code> function specialized for <code>Order</code> instances? Or is it a general method that does nothing have to do with such orders?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1552483975,"post_id":55143045,"comment_id":97026526,"body_markdown":"those logics(z,y,...) could be part of the Order object, or another intermediate Class (as, for example, a list strings storing those logics, if they can be from 0 to n), so you could easily pass just the reference to the class. This way, &quot;calc&quot;&#39;s signature never changes, even if more params are in game","body":"those logics(z,y,...) could be part of the Order object, or another intermediate Class (as, for example, a list strings storing those logics, if they can be from 0 to n), so you could easily pass just the reference to the class. This way, &quot;calc&quot;&#39;s signature never changes, even if more params are in game"}],"answers":[{"tags":[],"owner":{"account_id":6223505,"reputation":1464,"user_id":4842504,"accept_rate":83,"display_name":"Sirmyself"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695662055,"creation_date":1552484694,"answer_id":55143382,"question_id":55143045,"body_markdown":"Answer to your question is yes, especially in Java where the only way to provide a parameter by reference is by using an object and calling its methods.\r\n\r\nParameter by reference means the function may change the value of the variable outside the scope of the called function. If you&#39;re not using an object, those parameters are always sent by value, meaning that only a copy of the value is sent to the function/method and the variable used in the function call will not change.\r\n\r\n[![enter image description here][1]][1] [image source][2]\r\n\r\nBoth are important in programming, it just depends on what your function is supposed to do.\r\n\r\nMoreover, using an object as an argument in a function call encapsulates the data that is related together anyways.\r\n\r\n----\r\n\r\nThat said, a good class design will avoid grouping objects too deeply (the **screw** in the **piston** of the **engine** that is in the **car** in a **warehouse** might not be relevant to a car seller&#39;s inventory application). Prefer the bare minimum, but don&#39;t be afraid to make an object hold an other one either. Perfect balance does not exist, but imbalance does&#173;. This is not a problem in your case, just something to keep in mind. The final goal being to write as little *readable* code as possible\r\n\r\nA problem I see in your design though is that you are breaking the object to manipulate the data outside it. Hold the urge to break an object inside an other object and prefer declaring a method inside the first object to call it from the second.\r\n\r\nIn your example, it would be preferable to call `calc` directly from the `order` object and add parameters as needed.\r\n\r\n    Class ABC{\r\n       private test(Order o){\r\n         String z = //some logic to evaluate z\r\n         String y = // some logic to evaluate y\r\n         int p = o.calc(z, y)\r\n       }\r\n    }\r\n\r\n\r\n    Class Order {\r\n      public int calc(String a, String b){\r\n        \t//Product, User and your code are already stored in this object anyways\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fhgaS.gif\r\n  [2]: https://www.mathwarehouse.com/programming/passing-by-value-vs-by-reference-visual-explanation.php","title":"Is it a good practice to pass object as a paramater than separate variables to a function?","body":"<p>Answer to your question is yes, especially in Java where the only way to provide a parameter by reference is by using an object and calling its methods.</p>\n<p>Parameter by reference means the function may change the value of the variable outside the scope of the called function. If you're not using an object, those parameters are always sent by value, meaning that only a copy of the value is sent to the function/method and the variable used in the function call will not change.</p>\n<p><a href=\"https://i.stack.imgur.com/fhgaS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fhgaS.gif\" alt=\"enter image description here\" /></a> <a href=\"https://www.mathwarehouse.com/programming/passing-by-value-vs-by-reference-visual-explanation.php\" rel=\"nofollow noreferrer\">image source</a></p>\n<p>Both are important in programming, it just depends on what your function is supposed to do.</p>\n<p>Moreover, using an object as an argument in a function call encapsulates the data that is related together anyways.</p>\n<hr />\n<p>That said, a good class design will avoid grouping objects too deeply (the <strong>screw</strong> in the <strong>piston</strong> of the <strong>engine</strong> that is in the <strong>car</strong> in a <strong>warehouse</strong> might not be relevant to a car seller's inventory application). Prefer the bare minimum, but don't be afraid to make an object hold an other one either. Perfect balance does not exist, but imbalance does­. This is not a problem in your case, just something to keep in mind. The final goal being to write as little <em>readable</em> code as possible</p>\n<p>A problem I see in your design though is that you are breaking the object to manipulate the data outside it. Hold the urge to break an object inside an other object and prefer declaring a method inside the first object to call it from the second.</p>\n<p>In your example, it would be preferable to call <code>calc</code> directly from the <code>order</code> object and add parameters as needed.</p>\n<pre><code>Class ABC{\n   private test(Order o){\n     String z = //some logic to evaluate z\n     String y = // some logic to evaluate y\n     int p = o.calc(z, y)\n   }\n}\n\n\nClass Order {\n  public int calc(String a, String b){\n        //Product, User and your code are already stored in this object anyways\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552485083,"creation_date":1552485083,"answer_id":55143533,"question_id":55143045,"body_markdown":"Depends, if you would only call your function like this: `calc(z, y, o.getProduct(), o.getUser(), o.getCode())`, then there is no point having 5 paramters and you should just use 3 parameters and pass the entire `o` object.\r\n\r\nOn the other hand, if you would want to pass different arguments as well, for example `calc(z, y, o.getProduct(), o.getUser(), &quot;anotherString&quot;)`, the best practice is to have methods like this:\r\n\r\n    public int calc(String a, String b, ABC c) {\r\n        return this.calc(a, b, c.getProduct(), c.getUser(), c.getCode());\r\n    }\r\n    \r\n    public int calc(String a, String b, Product a, User b, String d) {\r\n         //do the calculation here\r\n    }\r\n\r\nThe first function offers the convinience of passing only 1 parameter, while the second function offers the flexibility of passing different parameters.","title":"Is it a good practice to pass object as a paramater than separate variables to a function?","body":"<p>Depends, if you would only call your function like this: <code>calc(z, y, o.getProduct(), o.getUser(), o.getCode())</code>, then there is no point having 5 paramters and you should just use 3 parameters and pass the entire <code>o</code> object.</p>\n\n<p>On the other hand, if you would want to pass different arguments as well, for example <code>calc(z, y, o.getProduct(), o.getUser(), \"anotherString\")</code>, the best practice is to have methods like this:</p>\n\n<pre><code>public int calc(String a, String b, ABC c) {\n    return this.calc(a, b, c.getProduct(), c.getUser(), c.getCode());\n}\n\npublic int calc(String a, String b, Product a, User b, String d) {\n     //do the calculation here\n}\n</code></pre>\n\n<p>The first function offers the convinience of passing only 1 parameter, while the second function offers the flexibility of passing different parameters.</p>\n"}],"owner":{"account_id":14784642,"reputation":69,"user_id":10677223,"display_name":"user10677223"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2816,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1695662055,"creation_date":1552483709,"question_id":55143045,"body_markdown":"Is it a good practice to pass object as a paramater than separate variable. I have a class below. Instead of passing separate paramaters to **calc** function, is it a good practice to create an object say **CalcFields** and store z,l,y, product,user and code in it and pass that object to calc function. My concern is this list of paramters may grow in future, say 5 more fields need to be passed\r\n\r\n    Class ABC{\r\n       private test(Order o){\r\n         String z = //some logic to evaluate z\r\n         String y = // some logic to evaluate y\r\n         int p = calc(z, y, o.getProduct(), o.getUser(), o.getCode())\r\n       }\r\n    }\r\n    \r\n    \r\n    Class Calculate{\r\n      public int calc(String a, String b, Product a, User b, String d){\r\n         ..........\r\n        }\r\n    }","title":"Is it a good practice to pass object as a paramater than separate variables to a function?","body":"<p>Is it a good practice to pass object as a paramater than separate variable. I have a class below. Instead of passing separate paramaters to <strong>calc</strong> function, is it a good practice to create an object say <strong>CalcFields</strong> and store z,l,y, product,user and code in it and pass that object to calc function. My concern is this list of paramters may grow in future, say 5 more fields need to be passed</p>\n\n<pre><code>Class ABC{\n   private test(Order o){\n     String z = //some logic to evaluate z\n     String y = // some logic to evaluate y\n     int p = calc(z, y, o.getProduct(), o.getUser(), o.getCode())\n   }\n}\n\n\nClass Calculate{\n  public int calc(String a, String b, Product a, User b, String d){\n     ..........\n    }\n}\n</code></pre>\n"},{"tags":["java","image","printing","thermal-printer"],"comments":[{"owner":{"account_id":2000530,"reputation":2026,"user_id":1791696,"accept_rate":80,"display_name":"joeking"},"score":0,"creation_date":1412829431,"post_id":26269019,"comment_id":41214918,"body_markdown":"image.getWidth() &gt;&gt; 16 --- should be &quot;&gt;&gt; 8&quot;. 8-bits per byte.","body":"image.getWidth() &gt;&gt; 16 --- should be &quot;&gt;&gt; 8&quot;. 8-bits per byte."},{"owner":{"account_id":430115,"reputation":1407,"user_id":813353,"accept_rate":54,"display_name":"Diego Fernando Murillo Valenci"},"score":0,"creation_date":1412860270,"post_id":26269019,"comment_id":41230589,"body_markdown":"hey joeking publish your comment as an answers, this solved my problem :D","body":"hey joeking publish your comment as an answers, this solved my problem :D"},{"owner":{"account_id":2666377,"reputation":3503,"user_id":2304737,"accept_rate":50,"display_name":"mr5"},"score":0,"creation_date":1531242162,"post_id":26269019,"comment_id":89519533,"body_markdown":"Hi. I just want to thank you for posting your code. It works better than my previous code :)","body":"Hi. I just want to thank you for posting your code. It works better than my previous code :)"}],"answers":[{"tags":[],"owner":{"account_id":2000530,"reputation":2026,"user_id":1791696,"accept_rate":80,"display_name":"joeking"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1412896714,"creation_date":1412896714,"answer_id":26289485,"question_id":26269019,"body_markdown":"In the code above, \r\n\r\nimage.getWidth() &gt;&gt; 16 --- should be &quot;&gt;&gt; 8&quot;. 8-bits per byte.\r\n","title":"Print bitmap full page width in thermal dot printer using ESC/POS in java","body":"<p>In the code above, </p>\n\n<p>image.getWidth() >> 16 --- should be \">> 8\". 8-bits per byte.</p>\n"}],"owner":{"account_id":430115,"reputation":1407,"user_id":813353,"accept_rate":54,"display_name":"Diego Fernando Murillo Valenci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16930,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":26289485,"answer_count":1,"score":15,"last_activity_date":1695662007,"creation_date":1412818782,"question_id":26269019,"body_markdown":"I&#39;m trying to print an image of 576 pixels width in a thermal printer that supports ESC commands, the problem is that the command &quot;ESC *&quot; for printing image bits only let me print images of 255 pixels width (if i use a 576 pixels image some parts are printed and the rest are random symbols), in the documentacion saids that the commands accepts a max of 255 bytes like this:\r\n\r\n    ESC * m nL nH d1&#214;dk\r\n    Name Specify bit image mode \r\n    Code ASCII ESC * m nL nHd1...dk \r\n     Hex. 1B 2A m nL nHd1...dk \r\n     Decimal 27 42 m nL nHd1...dk \r\n    Defined Region m = 0,1,32,33 \r\n     0 ≤ nL ≤ 255 \r\n     0 ≤ nH ≤ 3 \r\n     0 ≤ d ≤ 255 \r\n\r\nSo i don&#39;t know how to print a image that is the max of width of the printer page (576 px), i have this code that prints the image:\r\n\r\n    public class ESCPOSApi {\r\n    \r\n        private final byte[] INITIALIZE_PRINTER = new byte[]{0x1B,0x40};\r\n        \r\n        private final byte[] PRINT_AND_FEED_PAPER = new byte[]{0x0A};\r\n        \r\n        private final byte[] SELECT_BIT_IMAGE_MODE = new byte[]{(byte)0x1B, (byte)0x2A};\r\n        private final byte[] SET_LINE_SPACING = new byte[]{0x1B, 0x33};\r\n    \r\n        private FileOutputStream printOutput;\r\n        \r\n        public int maxBitsWidth = 255;\r\n    \r\n        public ESCPOSApi(String device) {\r\n            try {\r\n                printOutput = new FileOutputStream(device);\r\n            } catch (FileNotFoundException ex) {\r\n                Logger.getLogger(ESCPOSApi.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    \r\n        private byte[] buildPOSCommand(byte[] command, byte... args) {\r\n            byte[] posCommand = new byte[command.length + args.length];\r\n    \r\n            System.arraycopy(command, 0, posCommand, 0, command.length);\r\n            System.arraycopy(args, 0, posCommand, command.length, args.length);\r\n    \r\n            return posCommand;\r\n        }\r\n    \r\n        private BitSet getBitsImageData(BufferedImage image) {\r\n            int threshold = 127;\r\n            int index = 0;\r\n            int dimenssions = image.getWidth() * image.getHeight();\r\n            BitSet imageBitsData = new BitSet(dimenssions);\r\n            \r\n            for (int y = 0; y &lt; image.getHeight(); y++)\r\n            {\r\n                for (int x = 0; x &lt; image.getWidth(); x++)\r\n                {\r\n                    int color = image.getRGB(x, y);\r\n                    int  red = (color &amp; 0x00ff0000) &gt;&gt; 16;\r\n                    int  green = (color &amp; 0x0000ff00) &gt;&gt; 8;\r\n                    int  blue = color &amp; 0x000000ff;\r\n                    int luminance = (int)(red * 0.3 + green * 0.59 + blue * 0.11);\r\n                    //dots[index] = (luminance &lt; threshold);\r\n                    imageBitsData.set(index, (luminance &lt; threshold));\r\n                    index++;\r\n                }\r\n            }\r\n            \r\n            return imageBitsData;\r\n        }\r\n    \r\n        public void printImage(BufferedImage image) {\r\n            try {\r\n                BitSet imageBits = getBitsImageData(image);\r\n                \r\n                byte widthLSB = (byte)(image.getWidth() &amp; 0xFF);\r\n                byte widthMSB = (byte)((image.getWidth() &gt;&gt; 16) &amp; 0xFF);\r\n                \r\n                // COMMANDS\r\n                byte[] selectBitImageModeCommand = buildPOSCommand(SELECT_BIT_IMAGE_MODE, (byte) 33, widthLSB, widthMSB);\r\n                byte[] setLineSpacing24Dots = buildPOSCommand(SET_LINE_SPACING, (byte) 24);\r\n                byte[] setLineSpacing30Dots = buildPOSCommand(SET_LINE_SPACING, (byte) 30);\r\n                \r\n                \r\n                printOutput.write(INITIALIZE_PRINTER);\r\n                printOutput.write(setLineSpacing24Dots);\r\n    \r\n                int offset = 0;\r\n                while (offset &lt; image.getHeight()) {\r\n                    printOutput.write(selectBitImageModeCommand);\r\n                    \r\n                    int imageDataLineIndex = 0;\r\n                    byte[] imageDataLine = new byte[3 * image.getWidth()];\r\n                    \r\n                    for (int x = 0; x &lt; image.getWidth(); ++x) {\r\n                        \r\n                        // Remember, 24 dots = 24 bits = 3 bytes.\r\n                        // The &#39;k&#39; variable keeps track of which of those\r\n                        // three bytes that we&#39;re currently scribbling into.\r\n                        for (int k = 0; k &lt; 3; ++k) {\r\n                            byte slice = 0;\r\n    \r\n                            // A byte is 8 bits. The &#39;b&#39; variable keeps track\r\n                            // of which bit in the byte we&#39;re recording.\r\n                            for (int b = 0; b &lt; 8; ++b) {\r\n                                // Calculate the y position that we&#39;re currently\r\n                                // trying to draw. We take our offset, divide it\r\n                                // by 8 so we&#39;re talking about the y offset in\r\n                                // terms of bytes, add our current &#39;k&#39; byte\r\n                                // offset to that, multiple by 8 to get it in terms\r\n                                // of bits again, and add our bit offset to it.\r\n                                int y = (((offset / 8) + k) * 8) + b;\r\n    \r\n                                // Calculate the location of the pixel we want in the bit array.\r\n                                // It&#39;ll be at (y * width) + x.\r\n                                int i = (y * image.getWidth()) + x;\r\n    \r\n                                // If the image (or this stripe of the image)\r\n                                // is shorter than 24 dots, pad with zero.\r\n                                boolean v = false;\r\n                                if (i &lt; imageBits.length()) {\r\n                                    v = imageBits.get(i);\r\n                                }\r\n                                // Finally, store our bit in the byte that we&#39;re currently\r\n                                // scribbling to. Our current &#39;b&#39; is actually the exact\r\n                                // opposite of where we want it to be in the byte, so\r\n                                // subtract it from 7, shift our bit into place in a temp\r\n                                // byte, and OR it with the target byte to get it into there.\r\n                                slice |= (byte) ((v ? 1 : 0) &lt;&lt; (7 - b));\r\n                            }\r\n                            \r\n                            imageDataLine[imageDataLineIndex + k] = slice;\r\n                            \r\n                            // Phew! Write the damn byte to the buffer\r\n                            //printOutput.write(slice);\r\n                        }\r\n                        \r\n                        imageDataLineIndex += 3;\r\n                    }\r\n                    \r\n                    printOutput.write(imageDataLine);\r\n                    offset += 24;\r\n                    printOutput.write(PRINT_AND_FEED_PAPER);\r\n                }\r\n                \r\n                \r\n                printOutput.write(setLineSpacing30Dots);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(ESCPOSApi.class\r\n                        .getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI want to use 24-dots double-density but for now i&#39;m using 24-dots sigle-density with images of 255 pixels (this let me print images in full page width but i need double density)","title":"Print bitmap full page width in thermal dot printer using ESC/POS in java","body":"<p>I'm trying to print an image of 576 pixels width in a thermal printer that supports ESC commands, the problem is that the command \"ESC *\" for printing image bits only let me print images of 255 pixels width (if i use a 576 pixels image some parts are printed and the rest are random symbols), in the documentacion saids that the commands accepts a max of 255 bytes like this:</p>\n\n<pre><code>ESC * m nL nH d1Ödk\nName Specify bit image mode \nCode ASCII ESC * m nL nHd1...dk \n Hex. 1B 2A m nL nHd1...dk \n Decimal 27 42 m nL nHd1...dk \nDefined Region m = 0,1,32,33 \n 0 ≤ nL ≤ 255 \n 0 ≤ nH ≤ 3 \n 0 ≤ d ≤ 255 \n</code></pre>\n\n<p>So i don't know how to print a image that is the max of width of the printer page (576 px), i have this code that prints the image:</p>\n\n<pre><code>public class ESCPOSApi {\n\n    private final byte[] INITIALIZE_PRINTER = new byte[]{0x1B,0x40};\n\n    private final byte[] PRINT_AND_FEED_PAPER = new byte[]{0x0A};\n\n    private final byte[] SELECT_BIT_IMAGE_MODE = new byte[]{(byte)0x1B, (byte)0x2A};\n    private final byte[] SET_LINE_SPACING = new byte[]{0x1B, 0x33};\n\n    private FileOutputStream printOutput;\n\n    public int maxBitsWidth = 255;\n\n    public ESCPOSApi(String device) {\n        try {\n            printOutput = new FileOutputStream(device);\n        } catch (FileNotFoundException ex) {\n            Logger.getLogger(ESCPOSApi.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    private byte[] buildPOSCommand(byte[] command, byte... args) {\n        byte[] posCommand = new byte[command.length + args.length];\n\n        System.arraycopy(command, 0, posCommand, 0, command.length);\n        System.arraycopy(args, 0, posCommand, command.length, args.length);\n\n        return posCommand;\n    }\n\n    private BitSet getBitsImageData(BufferedImage image) {\n        int threshold = 127;\n        int index = 0;\n        int dimenssions = image.getWidth() * image.getHeight();\n        BitSet imageBitsData = new BitSet(dimenssions);\n\n        for (int y = 0; y &lt; image.getHeight(); y++)\n        {\n            for (int x = 0; x &lt; image.getWidth(); x++)\n            {\n                int color = image.getRGB(x, y);\n                int  red = (color &amp; 0x00ff0000) &gt;&gt; 16;\n                int  green = (color &amp; 0x0000ff00) &gt;&gt; 8;\n                int  blue = color &amp; 0x000000ff;\n                int luminance = (int)(red * 0.3 + green * 0.59 + blue * 0.11);\n                //dots[index] = (luminance &lt; threshold);\n                imageBitsData.set(index, (luminance &lt; threshold));\n                index++;\n            }\n        }\n\n        return imageBitsData;\n    }\n\n    public void printImage(BufferedImage image) {\n        try {\n            BitSet imageBits = getBitsImageData(image);\n\n            byte widthLSB = (byte)(image.getWidth() &amp; 0xFF);\n            byte widthMSB = (byte)((image.getWidth() &gt;&gt; 16) &amp; 0xFF);\n\n            // COMMANDS\n            byte[] selectBitImageModeCommand = buildPOSCommand(SELECT_BIT_IMAGE_MODE, (byte) 33, widthLSB, widthMSB);\n            byte[] setLineSpacing24Dots = buildPOSCommand(SET_LINE_SPACING, (byte) 24);\n            byte[] setLineSpacing30Dots = buildPOSCommand(SET_LINE_SPACING, (byte) 30);\n\n\n            printOutput.write(INITIALIZE_PRINTER);\n            printOutput.write(setLineSpacing24Dots);\n\n            int offset = 0;\n            while (offset &lt; image.getHeight()) {\n                printOutput.write(selectBitImageModeCommand);\n\n                int imageDataLineIndex = 0;\n                byte[] imageDataLine = new byte[3 * image.getWidth()];\n\n                for (int x = 0; x &lt; image.getWidth(); ++x) {\n\n                    // Remember, 24 dots = 24 bits = 3 bytes.\n                    // The 'k' variable keeps track of which of those\n                    // three bytes that we're currently scribbling into.\n                    for (int k = 0; k &lt; 3; ++k) {\n                        byte slice = 0;\n\n                        // A byte is 8 bits. The 'b' variable keeps track\n                        // of which bit in the byte we're recording.\n                        for (int b = 0; b &lt; 8; ++b) {\n                            // Calculate the y position that we're currently\n                            // trying to draw. We take our offset, divide it\n                            // by 8 so we're talking about the y offset in\n                            // terms of bytes, add our current 'k' byte\n                            // offset to that, multiple by 8 to get it in terms\n                            // of bits again, and add our bit offset to it.\n                            int y = (((offset / 8) + k) * 8) + b;\n\n                            // Calculate the location of the pixel we want in the bit array.\n                            // It'll be at (y * width) + x.\n                            int i = (y * image.getWidth()) + x;\n\n                            // If the image (or this stripe of the image)\n                            // is shorter than 24 dots, pad with zero.\n                            boolean v = false;\n                            if (i &lt; imageBits.length()) {\n                                v = imageBits.get(i);\n                            }\n                            // Finally, store our bit in the byte that we're currently\n                            // scribbling to. Our current 'b' is actually the exact\n                            // opposite of where we want it to be in the byte, so\n                            // subtract it from 7, shift our bit into place in a temp\n                            // byte, and OR it with the target byte to get it into there.\n                            slice |= (byte) ((v ? 1 : 0) &lt;&lt; (7 - b));\n                        }\n\n                        imageDataLine[imageDataLineIndex + k] = slice;\n\n                        // Phew! Write the damn byte to the buffer\n                        //printOutput.write(slice);\n                    }\n\n                    imageDataLineIndex += 3;\n                }\n\n                printOutput.write(imageDataLine);\n                offset += 24;\n                printOutput.write(PRINT_AND_FEED_PAPER);\n            }\n\n\n            printOutput.write(setLineSpacing30Dots);\n        } catch (IOException ex) {\n            Logger.getLogger(ESCPOSApi.class\n                    .getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n\n<p>I want to use 24-dots double-density but for now i'm using 24-dots sigle-density with images of 255 pixels (this let me print images in full page width but i need double density)</p>\n"},{"tags":["java","string","pdf","hyperlink","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695665603,"post_id":77174576,"comment_id":136052085,"body_markdown":"remove &quot;/FXX0 Do&quot; from the page content stream. Look at the file with PDFDebugger.","body":"remove &quot;/FXX0 Do&quot; from the page content stream. Look at the file with PDFDebugger."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1695674889,"post_id":77174576,"comment_id":136053595,"body_markdown":"The call of that form XObject even is tagged as Watermark Pagination Artifact. You might want to remove all marked content sections marked like that.","body":"The call of that form XObject even is tagged as Watermark Pagination Artifact. You might want to remove all marked content sections marked like that."}],"owner":{"account_id":3464949,"reputation":227,"user_id":2900798,"accept_rate":50,"display_name":"Arunas Jaspelkis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695661921,"creation_date":1695661921,"question_id":77174576,"body_markdown":"I&#39;m trying to clean a some of PDF documents from hyperlinks and unwanted, not original text\r\n\r\nI&#39;m using this function, to clean all hyperlinks and some unwanted text from PDF\r\n\r\n    private int processText(PDPage page) throws IOException {\r\n            int counter = 0;\r\n            boolean found = false;\r\n            List&lt;Object&gt; filteredTokens = new ArrayList&lt;&gt;();\r\n    \r\n            PDFStreamParser parser = new PDFStreamParser(page);\r\n            Object token = parser.parseNextToken();\r\n            while (token != null) {\r\n                boolean filtered = true;\r\n                if (token instanceof Operator) {\r\n                    String name = ((Operator) token).getName();\r\n                    if (&quot;Tj&quot;.equals(name)) {\r\n                        COSString stringToken = (COSString) filteredTokens.get(filteredTokens.size() - 1);\r\n    \r\n                        if (stringToken.getString().contains(&quot;http://&quot;) || stringToken.getString().contains(&quot;https://&quot;) || stringToken.getString().contains(&quot;Dr-Bios.com&quot;)\r\n                                || stringToken.getString().contains(&quot;www.kythuatvitinh.com&quot;)) {\r\n                            print(stringToken.getString());\r\n                            filteredTokens.remove(filteredTokens.size() - 1);\r\n                            filtered = false;\r\n                            found = true;\r\n                            counter++;\r\n                        }\r\n                    }\r\n                }\r\n                if (filtered)\r\n                    filteredTokens.add(token);\r\n                token = parser.parseNextToken();\r\n            }\r\n    \r\n            if (found) {\r\n                PDStream newContents = new PDStream(_document);\r\n                try (OutputStream out = newContents.createOutputStream()) {\r\n                    ContentStreamWriter writer = new ContentStreamWriter(out);\r\n                    writer.writeTokens(filteredTokens);\r\n                }\r\n                page.setContents(newContents);\r\n            }\r\n    \r\n            return counter;\r\n        }\r\n\r\nThis function works great with hyperlinks, but it doesn&#39;t find texts like, &quot;Dr-Bios.com&quot;, I think they using some tricks. Can help me someone figure it out? They are adding the same text on all pages (Just text, not hyperlinks).\r\n\r\nImage with example bellow:\r\n\r\n[![pdf file example][1]][1]\r\n\r\nPDF file example here: [ACER 4253 ZQE ZQG.pdf][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5FgtF.png\r\n  [2]: https://easyupload.io/q0dv0f","title":"Using PDFBox v2 remove some unwanted text from PDF files","body":"<p>I'm trying to clean a some of PDF documents from hyperlinks and unwanted, not original text</p>\n<p>I'm using this function, to clean all hyperlinks and some unwanted text from PDF</p>\n<pre><code>private int processText(PDPage page) throws IOException {\n        int counter = 0;\n        boolean found = false;\n        List&lt;Object&gt; filteredTokens = new ArrayList&lt;&gt;();\n\n        PDFStreamParser parser = new PDFStreamParser(page);\n        Object token = parser.parseNextToken();\n        while (token != null) {\n            boolean filtered = true;\n            if (token instanceof Operator) {\n                String name = ((Operator) token).getName();\n                if (&quot;Tj&quot;.equals(name)) {\n                    COSString stringToken = (COSString) filteredTokens.get(filteredTokens.size() - 1);\n\n                    if (stringToken.getString().contains(&quot;http://&quot;) || stringToken.getString().contains(&quot;https://&quot;) || stringToken.getString().contains(&quot;Dr-Bios.com&quot;)\n                            || stringToken.getString().contains(&quot;www.kythuatvitinh.com&quot;)) {\n                        print(stringToken.getString());\n                        filteredTokens.remove(filteredTokens.size() - 1);\n                        filtered = false;\n                        found = true;\n                        counter++;\n                    }\n                }\n            }\n            if (filtered)\n                filteredTokens.add(token);\n            token = parser.parseNextToken();\n        }\n\n        if (found) {\n            PDStream newContents = new PDStream(_document);\n            try (OutputStream out = newContents.createOutputStream()) {\n                ContentStreamWriter writer = new ContentStreamWriter(out);\n                writer.writeTokens(filteredTokens);\n            }\n            page.setContents(newContents);\n        }\n\n        return counter;\n    }\n</code></pre>\n<p>This function works great with hyperlinks, but it doesn't find texts like, &quot;Dr-Bios.com&quot;, I think they using some tricks. Can help me someone figure it out? They are adding the same text on all pages (Just text, not hyperlinks).</p>\n<p>Image with example bellow:</p>\n<p><a href=\"https://i.stack.imgur.com/5FgtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5FgtF.png\" alt=\"pdf file example\" /></a></p>\n<p>PDF file example here: <a href=\"https://easyupload.io/q0dv0f\" rel=\"nofollow noreferrer\">ACER 4253 ZQE ZQG.pdf</a></p>\n"},{"tags":["java","apache-axis"],"comments":[{"owner":{"account_id":1060224,"reputation":4167,"user_id":1062015,"accept_rate":81,"display_name":"Jaco Van Niekerk"},"score":1,"creation_date":1358230843,"post_id":14331959,"comment_id":19918975,"body_markdown":"Have you tried intercepting the XML as it is being sent between the components? Wireshark works well with this.","body":"Have you tried intercepting the XML as it is being sent between the components? Wireshark works well with this."},{"owner":{"account_id":140150,"reputation":1081,"user_id":346247,"display_name":"Jim Bethancourt"},"score":0,"creation_date":1369838293,"post_id":14331959,"comment_id":24914121,"body_markdown":"I&#39;ve run into the same problem, and apparently there are a number of others who have as well, but I&#39;m not finding any silver bullets. The only possible hint I&#39;ve found [here](http://mail-archives.apache.org/mod_mbox/axis-java-user/201006.mbox/%3CBLU142-W370CC9EC14CCF880F84E6AED20@phx.gbl%3E) indicates that &quot;wstx expects the character to be a valid IsoControl character&quot;.","body":"I&#39;ve run into the same problem, and apparently there are a number of others who have as well, but I&#39;m not finding any silver bullets. The only possible hint I&#39;ve found <a href=\"http://mail-archives.apache.org/mod_mbox/axis-java-user/201006.mbox/%3CBLU142-W370CC9EC14CCF880F84E6AED20@phx.gbl%3E\" rel=\"nofollow noreferrer\">here</a> indicates that &quot;wstx expects the character to be a valid IsoControl character&quot;."},{"owner":{"account_id":1090698,"reputation":1009,"user_id":1085396,"accept_rate":65,"display_name":"RizN81"},"score":0,"creation_date":1395306447,"post_id":14331959,"comment_id":34280849,"body_markdown":"Have you got the solution for this issue ?","body":"Have you got the solution for this issue ?"}],"answers":[{"tags":[],"owner":{"account_id":448785,"reputation":79,"user_id":843200,"display_name":"dosakiller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358231245,"creation_date":1358231245,"answer_id":14332235,"question_id":14331959,"body_markdown":"Check for the address and port in the endpoint in the wsdl.\r\n\r\n    &lt;wsdl:port binding=&quot;&quot; name=&quot;&quot;&gt;\r\n      &lt;soap:address location=&quot;&quot;/&gt;\r\n    &lt;/wsdl:port&gt;\r\n\r\nGenerate the client again and try calling the web service.","title":"apache axis2 com.ctc.wstx.exc.WstxUnexpectedCharException error","body":"<p>Check for the address and port in the endpoint in the wsdl.</p>\n\n<pre><code>&lt;wsdl:port binding=\"\" name=\"\"&gt;\n  &lt;soap:address location=\"\"/&gt;\n&lt;/wsdl:port&gt;\n</code></pre>\n\n<p>Generate the client again and try calling the web service.</p>\n"},{"tags":[],"owner":{"account_id":2293919,"reputation":2910,"user_id":2015911,"accept_rate":89,"display_name":"BlueMoon93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453377225,"creation_date":1453377225,"answer_id":34923113,"question_id":14331959,"body_markdown":"Which encoding are you using and what encoding is on your received text? `wstx expects the character to be a valid IsoControl character` suggests you&#39;re using ISO in your system and maybe receiving UTF-8 or some other incompatible encoding. Make sure encodings match and there should be no problem.","title":"apache axis2 com.ctc.wstx.exc.WstxUnexpectedCharException error","body":"<p>Which encoding are you using and what encoding is on your received text? <code>wstx expects the character to be a valid IsoControl character</code> suggests you're using ISO in your system and maybe receiving UTF-8 or some other incompatible encoding. Make sure encodings match and there should be no problem.</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695661382,"creation_date":1695652957,"answer_id":77173638,"question_id":14331959,"body_markdown":"Sometimes I get this error when the application with WSDL file (the service that you are trying to reach) is not deployed properly.","title":"apache axis2 com.ctc.wstx.exc.WstxUnexpectedCharException error","body":"<p>Sometimes I get this error when the application with WSDL file (the service that you are trying to reach) is not deployed properly.</p>\n"}],"owner":{"account_id":356125,"reputation":481,"user_id":695455,"accept_rate":50,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17187,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1695661382,"creation_date":1358229780,"question_id":14331959,"body_markdown":"I working on a web service using apache `axis2`, I have generated client stub code from `wsdl` file how when I call the web service I&#39;m getting this error:\r\n\r\n    org.apache.axis2.AxisFault: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\r\n     at [row,col {unknown-source}]: [1,50]\r\n    \tat org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:123)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:67)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:354)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:421)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\r\n    \tat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\r\n    \tat org.csapi.www.wsdl.parlayx.sms.notification_manager.v2_3.service.SmsNotificationManagerServiceStub.startSmsNotification(SmsNotificationManagerServiceStub.java:618)\r\n    \tat org.csapi.www.wsdl.parlayx.sms.notification_manager.v2_3.service.Notification.startNotification(Notification.java:118)\r\n    \tat org.csapi.www.wsdl.parlayx.sms.notification_manager.v2_3.service.Notification.main(Notification.java:39)\r\n    Caused by: org.apache.axiom.om.OMException: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\r\n     at [row,col {unknown-source}]: [1,50]\r\n    \tat org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:296)\r\n    \tat org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelope(StAXSOAPModelBuilder.java:198)\r\n    \tat org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:154)\r\n    \tat org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:140)\r\n    \tat org.apache.axis2.builder.BuilderUtil.getSOAPBuilder(BuilderUtil.java:686)\r\n    \tat org.apache.axis2.transport.TransportUtils.createDocumentElement(TransportUtils.java:197)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:145)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:108)\r\n    \t... 8 more\r\n    Caused by: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\r\n     at [row,col {unknown-source}]: [1,50]I working on a web service using apache axis2, i have generated client stub code from wsdl file how when i call the web service i&#39;m getting this error:\r\n    \tat com.ctc.wstx.sr.StreamScanner.throwUnexpectedChar(StreamScanner.java:648)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.startDTD(BasicStreamReader.java:2482)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.nextFromPrologBang(BasicStreamReader.java:2398)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.nextFromProlog(BasicStreamReader.java:2058)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1069)\r\n    \tat org.apache.axiom.util.stax.wrapper.XMLStreamReaderWrapper.next(XMLStreamReaderWrapper.java:225)\r\n    \tat org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:668)\r\n    \tat org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)\r\n    \t... 15 more\r\n\r\nAny idea on what could wrong with my code?","title":"apache axis2 com.ctc.wstx.exc.WstxUnexpectedCharException error","body":"<p>I working on a web service using apache <code>axis2</code>, I have generated client stub code from <code>wsdl</code> file how when I call the web service I'm getting this error:</p>\n\n<pre><code>org.apache.axis2.AxisFault: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '\"' (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\n at [row,col {unknown-source}]: [1,50]\n    at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:123)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:67)\n    at org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:354)\n    at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:421)\n    at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\n    at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\n    at org.csapi.www.wsdl.parlayx.sms.notification_manager.v2_3.service.SmsNotificationManagerServiceStub.startSmsNotification(SmsNotificationManagerServiceStub.java:618)\n    at org.csapi.www.wsdl.parlayx.sms.notification_manager.v2_3.service.Notification.startNotification(Notification.java:118)\n    at org.csapi.www.wsdl.parlayx.sms.notification_manager.v2_3.service.Notification.main(Notification.java:39)\nCaused by: org.apache.axiom.om.OMException: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '\"' (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\n at [row,col {unknown-source}]: [1,50]\n    at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:296)\n    at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelope(StAXSOAPModelBuilder.java:198)\n    at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:154)\n    at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:140)\n    at org.apache.axis2.builder.BuilderUtil.getSOAPBuilder(BuilderUtil.java:686)\n    at org.apache.axis2.transport.TransportUtils.createDocumentElement(TransportUtils.java:197)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:145)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:108)\n    ... 8 more\nCaused by: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '\"' (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\n at [row,col {unknown-source}]: [1,50]I working on a web service using apache axis2, i have generated client stub code from wsdl file how when i call the web service i'm getting this error:\n    at com.ctc.wstx.sr.StreamScanner.throwUnexpectedChar(StreamScanner.java:648)\n    at com.ctc.wstx.sr.BasicStreamReader.startDTD(BasicStreamReader.java:2482)\n    at com.ctc.wstx.sr.BasicStreamReader.nextFromPrologBang(BasicStreamReader.java:2398)\n    at com.ctc.wstx.sr.BasicStreamReader.nextFromProlog(BasicStreamReader.java:2058)\n    at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1069)\n    at org.apache.axiom.util.stax.wrapper.XMLStreamReaderWrapper.next(XMLStreamReaderWrapper.java:225)\n    at org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:668)\n    at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)\n    ... 15 more\n</code></pre>\n\n<p>Any idea on what could wrong with my code?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":3,"creation_date":1582638924,"post_id":60396228,"comment_id":106840689,"body_markdown":"`id` is Long but you are passing `user` which is not a long.","body":"<code>id</code> is Long but you are passing <code>user</code> which is not a long."},{"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"score":0,"creation_date":1582639049,"post_id":60396228,"comment_id":106840768,"body_markdown":"I edit my code, a user is a super path request","body":"I edit my code, a user is a super path request"}],"answers":[{"tags":[],"owner":{"account_id":9304187,"reputation":1405,"user_id":6908551,"display_name":"Alexandru Somai"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1582641737,"creation_date":1582639738,"answer_id":60396527,"question_id":60396228,"body_markdown":"You are mixing up `PathParam` with `PathVariable`.\r\n\r\nIn your example, I think what you need is the [`PathVariable`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/PathVariable.html). Moreover, you can remove the `name` field, since the parameter&#39;s name is the same: `id`. \r\n\r\nHere&#39;s the updated code:\r\n\r\n```Java\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic ResponseData getUser(@PathVariable Long id) {\r\n   ...\r\n}\r\n```\r\n\r\nAlso, what you are looking for to define your `user` mappings under the same controller, is the [`RequestMapping`](https://www.baeldung.com/spring-requestmapping) annotation:\r\n\r\n```Java\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserRestController {\r\n    ...\r\n}\r\n```","title":"@GetMapping and @GetMapping(&quot;/{id}&quot;) always return @GetMapping(&quot;/{id}&quot;)","body":"<p>You are mixing up <code>PathParam</code> with <code>PathVariable</code>.</p>\n\n<p>In your example, I think what you need is the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/PathVariable.html\" rel=\"noreferrer\"><code>PathVariable</code></a>. Moreover, you can remove the <code>name</code> field, since the parameter's name is the same: <code>id</code>. </p>\n\n<p>Here's the updated code:</p>\n\n<pre><code>@GetMapping(\"/{id}\")\npublic ResponseData getUser(@PathVariable Long id) {\n   ...\n}\n</code></pre>\n\n<p>Also, what you are looking for to define your <code>user</code> mappings under the same controller, is the <a href=\"https://www.baeldung.com/spring-requestmapping\" rel=\"noreferrer\"><code>RequestMapping</code></a> annotation:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/user\")\npublic class UserRestController {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19748211,"reputation":519,"user_id":14460109,"display_name":"Yasiru Padmasiri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695660640,"creation_date":1622395989,"answer_id":67764048,"question_id":60396228,"body_markdown":"you can use this method\r\n\r\n```\r\n@GetMapping(&quot;/&quot;)\r\npublic ResponseData getUser(@RequestParam Long id)\r\n{\r\n  ResponseData responseData = new ResponseData();\r\n\r\n  //.......\r\n\r\n  return responseData;\r\n}\r\n```","title":"@GetMapping and @GetMapping(&quot;/{id}&quot;) always return @GetMapping(&quot;/{id}&quot;)","body":"<p>you can use this method</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic ResponseData getUser(@RequestParam Long id)\n{\n  ResponseData responseData = new ResponseData();\n\n  //.......\n\n  return responseData;\n}\n</code></pre>\n"}],"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12165,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60396527,"answer_count":2,"score":3,"last_activity_date":1695660640,"creation_date":1582638763,"question_id":60396228,"body_markdown":"I have two methods @GetMapping and @GetMapping(&quot;/{id}&quot;)\r\n\r\n    @RestController(&quot;/user&quot;){\r\n    public class UserRestController {\r\n\r\n\t@GetMapping\r\n\tpublic ResponseData get() {\r\n          ...........\r\n\t\treturn responseData;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\tpublic ResponseData getUser(@PathParam(&quot;id&quot;) Long id) {\r\n\t\tResponseData responseData = new ResponseData();\r\n          ...........\r\n\t\treturn responseData;\r\n\t}\r\n\r\nWhen I hit a URL *`http://localhost:8080/user`* I took I @GetMapping(&quot;/{id}&quot;) method \r\nbecause it takes `id` null, how can I solve this issue?\r\n","title":"@GetMapping and @GetMapping(&quot;/{id}&quot;) always return @GetMapping(&quot;/{id}&quot;)","body":"<p>I have two methods @GetMapping and @GetMapping(\"/{id}\")</p>\n\n<pre><code>@RestController(\"/user\"){\npublic class UserRestController {\n\n@GetMapping\npublic ResponseData get() {\n      ...........\n    return responseData;\n}\n\n@GetMapping(\"/{id}\")\npublic ResponseData getUser(@PathParam(\"id\") Long id) {\n    ResponseData responseData = new ResponseData();\n      ...........\n    return responseData;\n}\n</code></pre>\n\n<p>When I hit a URL <em><code>http://localhost:8080/user</code></em> I took I @GetMapping(\"/{id}\") method \nbecause it takes <code>id</code> null, how can I solve this issue?</p>\n"},{"tags":["java","maven","pom.xml","solrj","solr-9.3.0"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1695660670,"post_id":77174360,"comment_id":136051265,"body_markdown":"What happens if you create an empty project with SolrJ only? Or with your lib only?","body":"What happens if you create an empty project with SolrJ only? Or with your lib only?"}],"owner":{"account_id":12813879,"reputation":35,"user_id":9271107,"display_name":"Beqa Naveriani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695659617,"creation_date":1695659617,"question_id":77174360,"body_markdown":"I&#39;m trying to upgrade current projects to SolrJ 9.3.0. To give you context we have a general indexing library that has dependency on SolrJ and concrete implementation of this lib to support indexing of different documents. \r\n\r\nWhen I upgraded SolrJ from 8.11.2 to 9.3.0, different issues occurred. Mainly, tests are failing because of transitive dependency classes aren&#39;t found, then in the concrete implementation project, it picks up 8.11.2 again instead of 9.3.0. I&#39;ve cleaned up .m2 repository but it again fetched 8.11.2. Then we tried to another machine but same behaviour happened there. I&#39;ll list all dependencies, dependency tree and issues that occurred. \r\n\r\nThanks\r\n\r\n**Indexing Lib dependencies:**\r\n\r\n[pom.xml URL for indexing lib](https://pastebin.com/F2SL0v37)\r\n\r\n**Indexing Lib Dependency Tree:**\r\n\r\n\r\n```\r\n[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ search-solr-indexing-lib ---\r\n[INFO] com.xxx.search:search-solr-indexing-lib:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.7.15:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.15:compile\r\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.29:compile\r\n[INFO] |  |     +- org.springframework:spring-beans:jar:5.3.29:compile\r\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.3.29:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.15:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.15:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.12:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.12:compile\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:5.3.29:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.29:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-redis:jar:2.7.15:compile\r\n[INFO] |  +- org.springframework.data:spring-data-redis:jar:2.7.15:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-keyvalue:jar:2.7.15:compile\r\n[INFO] |  |  |  \\- org.springframework.data:spring-data-commons:jar:2.7.15:compile\r\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.29:compile\r\n[INFO] |  |  +- org.springframework:spring-oxm:jar:5.3.29:compile\r\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.3.29:compile\r\n[INFO] |  |  \\- org.springframework:spring-context-support:jar:5.3.29:compile\r\n[INFO] |  \\- io.lettuce:lettuce-core:jar:6.1.10.RELEASE:compile\r\n[INFO] |     +- io.netty:netty-common:jar:4.1.97.Final:compile\r\n[INFO] |     +- io.netty:netty-handler:jar:4.1.97.Final:compile\r\n[INFO] |     |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\r\n[INFO] |     |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\r\n[INFO] |     +- io.netty:netty-transport:jar:4.1.97.Final:compile\r\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.4.32:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.15:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.15:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.15:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.11:test\r\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.11:test\r\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.3:test\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:test\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:test\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-test:jar:5.3.29:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] +- com.google.code.gson:gson:jar:2.10.1:compile\r\n[INFO] +- io.github.resilience4j:resilience4j-retry:jar:1.7.1:compile\r\n[INFO] |  +- io.vavr:vavr:jar:0.10.2:compile\r\n[INFO] |  |  \\- io.vavr:vavr-match:jar:0.10.2:compile\r\n[INFO] |  +- io.github.resilience4j:resilience4j-core:jar:1.7.1:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] +- org.apache.solr:solr-solrj:jar:9.3.0:compile\r\n[INFO] |  +- org.eclipse.jetty.http2:http2-client:jar:9.4.51.v20230217:compile\r\n[INFO] |  |  +- org.eclipse.jetty.http2:http2-common:jar:9.4.51.v20230217:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty.http2:http2-hpack:jar:9.4.51.v20230217:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-alpn-client:jar:9.4.51.v20230217:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\r\n[INFO] |  +- org.eclipse.jetty.http2:http2-http-client-transport:jar:9.4.51.v20230217:runtime\r\n[INFO] |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-client:jar:9.4.51.v20230217:runtime\r\n[INFO] |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\r\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-alpn-java-client:jar:9.4.51.v20230217:runtime\r\n[INFO] |  +- org.apache.solr:solr-solrj-streaming:jar:9.3.0:runtime\r\n[INFO] |  |  \\- org.apache.commons:commons-math3:jar:3.6.1:runtime\r\n[INFO] |  \\- org.apache.solr:solr-solrj-zookeeper:jar:9.3.0:runtime\r\n[INFO] |     +- org.apache.zookeeper:zookeeper:jar:3.8.1:runtime\r\n[INFO] |     |  \\- io.netty:netty-transport-native-epoll:jar:4.1.97.Final:runtime\r\n[INFO] |     \\- org.apache.zookeeper:zookeeper-jute:jar:3.8.1:runtime\r\n[INFO] +- software.amazon.awssdk:s3:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-xml-protocol:jar:2.15.0:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:aws-query-protocol:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:arns:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:profiles:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.15.0:compile\r\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.15.0:compile\r\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.15.0:runtime\r\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.15.0:runtime\r\n[INFO] |     +- io.netty:netty-codec-http:jar:4.1.97.Final:runtime\r\n[INFO] |     +- io.netty:netty-codec-http2:jar:4.1.97.Final:runtime\r\n[INFO] |     +- io.netty:netty-codec:jar:4.1.97.Final:compile\r\n[INFO] |     +- io.netty:netty-buffer:jar:4.1.97.Final:compile\r\n[INFO] |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:runtime\r\n[INFO] |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:runtime\r\n[INFO] |     \\- com.typesafe.netty:netty-reactive-streams-http:jar:2.0.4:runtime\r\n[INFO] |        \\- com.typesafe.netty:netty-reactive-streams:jar:2.0.4:runtime\r\n[INFO] +- software.amazon.awssdk:auth:jar:2.15.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\r\n[INFO] |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO] +- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO] +- redis.clients:jedis:jar:3.9.0:compile\r\n[INFO] |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n[INFO] +- com.joyent.util:fast-md5:jar:2.7.1:compile\r\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\r\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.15.2:compile\r\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.5.1:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\r\n[INFO] +- org.apache.commons:commons-lang3:jar:3.13.0:compile\r\n[INFO] +- commons-io:commons-io:jar:2.13.0:compile\r\n[INFO] +- com.google.api-client:google-api-client:jar:2.0.0:compile\r\n[INFO] |  +- com.google.oauth-client:google-oauth-client:jar:1.34.1:compile\r\n[INFO] |  +- com.google.http-client:google-http-client-gson:jar:1.42.1:compile\r\n[INFO] |  +- com.google.guava:guava:jar:31.1-jre:compile\r\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.11.0:compile\r\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n[INFO] |  +- com.google.http-client:google-http-client-apache-v2:jar:1.42.1:compile\r\n[INFO] |  \\- com.google.http-client:google-http-client:jar:1.42.1:compile\r\n[INFO] |     +- io.opencensus:opencensus-api:jar:0.31.1:compile\r\n[INFO] |     |  \\- io.grpc:grpc-context:jar:1.27.2:compile\r\n[INFO] |     \\- io.opencensus:opencensus-contrib-http-util:jar:0.31.1:compile\r\n[INFO] +- com.google.oauth-client:google-oauth-client-jetty:jar:1.34.1:compile\r\n[INFO] |  \\- com.google.oauth-client:google-oauth-client-java6:jar:1.34.1:compile\r\n[INFO] +- com.google.apis:google-api-services-sheets:jar:v4-rev20220927-2.0.0:compile\r\n[INFO] +- com.google.auth:google-auth-library-oauth2-http:jar:1.19.0:compile\r\n[INFO] |  +- com.google.auto.value:auto-value-annotations:jar:1.10.1:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  \\- com.google.auth:google-auth-library-credentials:jar:1.19.0:compile\r\n[INFO] +- com.oracle.database.jdbc:ojdbc10:jar:19.20.0.0:compile\r\n[INFO] +- org.postgresql:postgresql:jar:42.6.0:compile\r\n[INFO] |  \\- org.checkerframework:checker-qual:jar:3.31.0:compile\r\n[INFO] +- org.testcontainers:postgresql:jar:1.18.0:test\r\n[INFO] |  \\- org.testcontainers:jdbc:jar:1.18.0:test\r\n[INFO] |     \\- org.testcontainers:database-commons:jar:1.18.0:test\r\n[INFO] |        \\- org.testcontainers:testcontainers:jar:1.18.0:test\r\n[INFO] |           +- junit:junit:jar:4.13.2:test\r\n[INFO] |           |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n[INFO] |           +- org.apache.commons:commons-compress:jar:1.22:test\r\n[INFO] |           +- org.rnorth.duct-tape:duct-tape:jar:1.0.8:test\r\n[INFO] |           |  \\- org.jetbrains:annotations:jar:17.0.0:test\r\n[INFO] |           +- com.github.docker-java:docker-java-api:jar:3.3.0:test\r\n[INFO] |           \\- com.github.docker-java:docker-java-transport-zerodep:jar:3.3.0:test\r\n[INFO] |              +- com.github.docker-java:docker-java-transport:jar:3.3.0:test\r\n[INFO] |              \\- net.java.dev.jna:jna:jar:5.12.1:test\r\n[INFO] \\- org.testcontainers:oracle-xe:jar:1.19.0:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.643 s\r\n[INFO] Finished at: 2023-09-25T20:01:50+04:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\n\r\n\r\n**Indexing Lib Issues while running &quot;mvn clean install&quot;**\r\n\r\n\r\n```\r\nUnderlying exception : java.lang.IllegalArgumentException: Could not create type\r\n\tat com.XXX.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\r\nCaused by: java.lang.IllegalArgumentException: Could not create type\r\n\tat com.XXX.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\r\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpFields$Mutable\r\n\tat com.XXX.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.http.HttpFields$Mutable\r\n\tat com.xxx.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\r\n[ERROR] test_canRetryAddDocumentsIfStatusIsNonZero  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class org.apache.solr.client.solrj.impl.Http2SolrClient.\r\nMockito can only mock non-private &amp; non-final classes.\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\nJava               : 17\r\nJVM vendor name    : Amazon.com Inc.\r\nJVM vendor version : 17.0.8.1+8-LTS\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 17.0.8.1+8-LTS\r\nJVM info           : mixed mode, sharing\r\nOS name            : Windows 11\r\nOS version         : 10.0\r\n\r\n```\r\n\r\nNow let&#39;s say that I&#39;m not running the tests and able to build the project to check it&#39;s usage in concrete implementation of indexing job.\r\n\r\n**Concrete indexing job pom**\r\n[POM Link](https://pastebin.com/s7CB6K8K)\r\n\r\n\r\nIt&#39;s dependency tree says that the lib uses 8.11.2 when I have put 9.3.0 in pom and even lib recognizes 9.3.0 :) .m2 repo was cleaned and I&#39;ve build lib with 0.0.2-SNAPSHOT version that is even not in artifactory.. Here is dependency tree:\r\n\r\n\r\n```\r\n[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ search-solr-indexing-rq ---\r\n[INFO] com.xxx.search:search-solr-indexing-rq:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.7.15:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.15:compile\r\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.29:compile\r\n[INFO] |  |     +- org.springframework:spring-aop:jar:5.3.29:compile\r\n[INFO] |  |     +- org.springframework:spring-beans:jar:5.3.29:compile\r\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.3.29:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.15:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.15:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.12:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.12:compile\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:5.3.29:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.29:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.15:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.15:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.15:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.11:test\r\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.11:test\r\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.3:test\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:test\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:test\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-test:jar:5.3.29:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] \\- com.xxx.search:search-solr-indexing-lib:jar:0.0.2-SNAPSHOT:compile\r\n[INFO]    +- org.springframework.boot:spring-boot-starter-data-redis:jar:2.7.15:compile\r\n[INFO]    |  +- org.springframework.data:spring-data-redis:jar:2.7.15:compile\r\n[INFO]    |  |  +- org.springframework.data:spring-data-keyvalue:jar:2.7.15:compile\r\n[INFO]    |  |  |  \\- org.springframework.data:spring-data-commons:jar:2.7.15:compile\r\n[INFO]    |  |  +- org.springframework:spring-tx:jar:5.3.29:compile\r\n[INFO]    |  |  +- org.springframework:spring-oxm:jar:5.3.29:compile\r\n[INFO]    |  |  \\- org.springframework:spring-context-support:jar:5.3.29:compile\r\n[INFO]    |  \\- io.lettuce:lettuce-core:jar:6.1.10.RELEASE:compile\r\n[INFO]    |     \\- io.projectreactor:reactor-core:jar:3.4.32:compile\r\n[INFO]    +- com.google.code.gson:gson:jar:2.9.1:compile\r\n[INFO]    +- io.github.resilience4j:resilience4j-retry:jar:1.7.1:compile\r\n[INFO]    |  +- io.vavr:vavr:jar:0.10.2:compile\r\n[INFO]    |  |  \\- io.vavr:vavr-match:jar:0.10.2:compile\r\n[INFO]    |  \\- io.github.resilience4j:resilience4j-core:jar:1.7.1:compile\r\n[INFO]    +- org.apache.solr:solr-solrj:jar:8.11.2:compile\r\n[INFO]    |  +- com.fasterxml.woodstox:woodstox-core:jar:6.2.4:compile\r\n[INFO]    |  +- commons-lang:commons-lang:jar:2.6:compile\r\n[INFO]    |  +- io.netty:netty-buffer:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-codec:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-common:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-handler:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-transport:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-transport-native-epoll:jar:4.1.97.Final:compile\r\n[INFO]    |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:compile\r\n[INFO]    |  +- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\r\n[INFO]    |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n[INFO]    |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\r\n[INFO]    |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO]    |  +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\r\n[INFO]    |  +- org.apache.zookeeper:zookeeper:jar:3.6.2:compile\r\n[INFO]    |  +- org.apache.zookeeper:zookeeper-jute:jar:3.6.2:compile\r\n[INFO]    |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO]    |  +- org.eclipse.jetty:jetty-alpn-client:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty:jetty-alpn-java-client:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty:jetty-client:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty.http2:http2-client:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty.http2:http2-common:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty.http2:http2-hpack:jar:9.4.51.v20230217:compile\r\n[INFO]    |  +- org.eclipse.jetty.http2:http2-http-client-transport:jar:9.4.51.v20230217:compile\r\n[INFO]    |  \\- org.xerial.snappy:snappy-java:jar:1.1.7.6:compile\r\n[INFO]    +- software.amazon.awssdk:s3:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:aws-xml-protocol:jar:2.15.0:compile\r\n[INFO]    |  |  \\- software.amazon.awssdk:aws-query-protocol:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:protocol-core:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:arns:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:profiles:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:sdk-core:jar:2.15.0:compile\r\n[INFO]    |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO]    |  +- software.amazon.awssdk:http-client-spi:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:regions:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:annotations:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:utils:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:aws-core:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:metrics-spi:jar:2.15.0:compile\r\n[INFO]    |  +- software.amazon.awssdk:apache-client:jar:2.15.0:runtime\r\n[INFO]    |  \\- software.amazon.awssdk:netty-nio-client:jar:2.15.0:runtime\r\n[INFO]    |     +- io.netty:netty-codec-http:jar:4.1.97.Final:runtime\r\n[INFO]    |     +- io.netty:netty-codec-http2:jar:4.1.97.Final:runtime\r\n[INFO]    |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:runtime\r\n[INFO]    |     \\- com.typesafe.netty:netty-reactive-streams-http:jar:2.0.4:runtime\r\n[INFO]    |        \\- com.typesafe.netty:netty-reactive-streams:jar:2.0.4:runtime\r\n[INFO]    +- software.amazon.awssdk:auth:jar:2.15.0:compile\r\n[INFO]    |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\r\n[INFO]    |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO]    +- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO]    +- redis.clients:jedis:jar:3.8.0:compile\r\n[INFO]    |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n[INFO]    +- com.joyent.util:fast-md5:jar:2.7.1:compile\r\n[INFO]    +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.5:compile\r\n[INFO]    |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\r\n[INFO]    +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.5:compile\r\n[INFO]    +- com.fasterxml.jackson.core:jackson-core:jar:2.13.5:compile\r\n[INFO]    +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO]    +- commons-io:commons-io:jar:2.13.0:compile\r\n[INFO]    +- com.google.api-client:google-api-client:jar:2.0.0:compile\r\n[INFO]    |  +- com.google.oauth-client:google-oauth-client:jar:1.34.1:compile\r\n[INFO]    |  +- com.google.http-client:google-http-client-gson:jar:1.42.1:compile\r\n[INFO]    |  +- com.google.guava:guava:jar:31.1-jre:compile\r\n[INFO]    |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO]    |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO]    |  |  +- com.google.errorprone:error_prone_annotations:jar:2.11.0:compile\r\n[INFO]    |  |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n[INFO]    |  +- com.google.http-client:google-http-client-apache-v2:jar:1.42.1:compile\r\n[INFO]    |  \\- com.google.http-client:google-http-client:jar:1.42.1:compile\r\n[INFO]    |     +- io.opencensus:opencensus-api:jar:0.31.1:compile\r\n[INFO]    |     |  \\- io.grpc:grpc-context:jar:1.27.2:compile\r\n[INFO]    |     \\- io.opencensus:opencensus-contrib-http-util:jar:0.31.1:compile\r\n[INFO]    +- com.google.oauth-client:google-oauth-client-jetty:jar:1.34.1:compile\r\n[INFO]    |  \\- com.google.oauth-client:google-oauth-client-java6:jar:1.34.1:compile\r\n[INFO]    +- com.google.apis:google-api-services-sheets:jar:v4-rev20220927-2.0.0:compile\r\n[INFO]    +- com.google.auth:google-auth-library-oauth2-http:jar:1.19.0:compile\r\n[INFO]    |  +- com.google.auto.value:auto-value-annotations:jar:1.10.1:compile\r\n[INFO]    |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO]    |  \\- com.google.auth:google-auth-library-credentials:jar:1.19.0:compile\r\n[INFO]    +- com.oracle.database.jdbc:ojdbc10:jar:19.20.0.0:compile\r\n[INFO]    \\- org.postgresql:postgresql:jar:42.3.8:compile\r\n[INFO]       \\- org.checkerframework:checker-qual:jar:3.5.0:compile\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.501 s\r\n[INFO] Finished at: 2023-09-25T20:12:06+04:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\n\r\n**And then on runtime we get this error**\r\n\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;org.apache.solr.client.solrj.impl.Http2SolrClient$Builder org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.withResponseParser(org.apache.solr.client.solrj.ResponseParser)&#39;\r\n\tat com.xxx.search.service.impl.SolrServiceImpl.initSolrClient(SolrServiceImpl.java:144) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\r\n\tat com.xxx.search.service.impl.SolrServiceImpl.&lt;init&gt;(SolrServiceImpl.java:38) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\r\n\tat com.xxx.search.util.SolrServiceFactory.lambda$getSolrServices$0(SolrServiceFactory.java:26) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n\tat com.xxx.search.util.SolrServiceFactory.lambda$getSolrServices$1(SolrServiceFactory.java:26) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1134) ~[na:na]\r\n\tat com.xxx.search.util.SolrServiceFactory.getSolrServices(SolrServiceFactory.java:26) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to add transitive dependencies manually but issue is still there.\r\n\r\n\r\n```\r\n[Transitive dependency list](https://pastebin.com/47zJatcm)\r\n```\r\n","title":"SolrJ 9.3.0 Upgrade issues","body":"<p>I'm trying to upgrade current projects to SolrJ 9.3.0. To give you context we have a general indexing library that has dependency on SolrJ and concrete implementation of this lib to support indexing of different documents.</p>\n<p>When I upgraded SolrJ from 8.11.2 to 9.3.0, different issues occurred. Mainly, tests are failing because of transitive dependency classes aren't found, then in the concrete implementation project, it picks up 8.11.2 again instead of 9.3.0. I've cleaned up .m2 repository but it again fetched 8.11.2. Then we tried to another machine but same behaviour happened there. I'll list all dependencies, dependency tree and issues that occurred.</p>\n<p>Thanks</p>\n<p><strong>Indexing Lib dependencies:</strong></p>\n<p><a href=\"https://pastebin.com/F2SL0v37\" rel=\"nofollow noreferrer\">pom.xml URL for indexing lib</a></p>\n<p><strong>Indexing Lib Dependency Tree:</strong></p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ search-solr-indexing-lib ---\n[INFO] com.xxx.search:search-solr-indexing-lib:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.7.15:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.15:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.29:compile\n[INFO] |  |     +- org.springframework:spring-beans:jar:5.3.29:compile\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.3.29:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.15:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.15:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.12:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.12:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  +- org.springframework:spring-core:jar:5.3.29:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.29:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-redis:jar:2.7.15:compile\n[INFO] |  +- org.springframework.data:spring-data-redis:jar:2.7.15:compile\n[INFO] |  |  +- org.springframework.data:spring-data-keyvalue:jar:2.7.15:compile\n[INFO] |  |  |  \\- org.springframework.data:spring-data-commons:jar:2.7.15:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.29:compile\n[INFO] |  |  +- org.springframework:spring-oxm:jar:5.3.29:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.3.29:compile\n[INFO] |  |  \\- org.springframework:spring-context-support:jar:5.3.29:compile\n[INFO] |  \\- io.lettuce:lettuce-core:jar:6.1.10.RELEASE:compile\n[INFO] |     +- io.netty:netty-common:jar:4.1.97.Final:compile\n[INFO] |     +- io.netty:netty-handler:jar:4.1.97.Final:compile\n[INFO] |     |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\n[INFO] |     |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\n[INFO] |     +- io.netty:netty-transport:jar:4.1.97.Final:compile\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.4.32:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.15:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.15:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.15:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.11:test\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.11:test\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.3:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:test\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:test\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:5.3.29:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- com.google.code.gson:gson:jar:2.10.1:compile\n[INFO] +- io.github.resilience4j:resilience4j-retry:jar:1.7.1:compile\n[INFO] |  +- io.vavr:vavr:jar:0.10.2:compile\n[INFO] |  |  \\- io.vavr:vavr-match:jar:0.10.2:compile\n[INFO] |  +- io.github.resilience4j:resilience4j-core:jar:1.7.1:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] +- org.apache.solr:solr-solrj:jar:9.3.0:compile\n[INFO] |  +- org.eclipse.jetty.http2:http2-client:jar:9.4.51.v20230217:compile\n[INFO] |  |  +- org.eclipse.jetty.http2:http2-common:jar:9.4.51.v20230217:compile\n[INFO] |  |  |  \\- org.eclipse.jetty.http2:http2-hpack:jar:9.4.51.v20230217:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-alpn-client:jar:9.4.51.v20230217:compile\n[INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\n[INFO] |  +- org.eclipse.jetty.http2:http2-http-client-transport:jar:9.4.51.v20230217:runtime\n[INFO] |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:compile\n[INFO] |  +- org.eclipse.jetty:jetty-client:jar:9.4.51.v20230217:runtime\n[INFO] |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:compile\n[INFO] |  +- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] |  +- org.eclipse.jetty:jetty-alpn-java-client:jar:9.4.51.v20230217:runtime\n[INFO] |  +- org.apache.solr:solr-solrj-streaming:jar:9.3.0:runtime\n[INFO] |  |  \\- org.apache.commons:commons-math3:jar:3.6.1:runtime\n[INFO] |  \\- org.apache.solr:solr-solrj-zookeeper:jar:9.3.0:runtime\n[INFO] |     +- org.apache.zookeeper:zookeeper:jar:3.8.1:runtime\n[INFO] |     |  \\- io.netty:netty-transport-native-epoll:jar:4.1.97.Final:runtime\n[INFO] |     \\- org.apache.zookeeper:zookeeper-jute:jar:3.8.1:runtime\n[INFO] +- software.amazon.awssdk:s3:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:aws-xml-protocol:jar:2.15.0:compile\n[INFO] |  |  \\- software.amazon.awssdk:aws-query-protocol:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:arns:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:profiles:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.15.0:compile\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.15.0:compile\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.15.0:runtime\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.15.0:runtime\n[INFO] |     +- io.netty:netty-codec-http:jar:4.1.97.Final:runtime\n[INFO] |     +- io.netty:netty-codec-http2:jar:4.1.97.Final:runtime\n[INFO] |     +- io.netty:netty-codec:jar:4.1.97.Final:compile\n[INFO] |     +- io.netty:netty-buffer:jar:4.1.97.Final:compile\n[INFO] |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:runtime\n[INFO] |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:runtime\n[INFO] |     \\- com.typesafe.netty:netty-reactive-streams-http:jar:2.0.4:runtime\n[INFO] |        \\- com.typesafe.netty:netty-reactive-streams:jar:2.0.4:runtime\n[INFO] +- software.amazon.awssdk:auth:jar:2.15.0:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\n[INFO] |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] +- redis.clients:jedis:jar:3.9.0:compile\n[INFO] |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\n[INFO] +- com.joyent.util:fast-md5:jar:2.7.1:compile\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.15.2:compile\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.5.1:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\n[INFO] +- org.apache.commons:commons-lang3:jar:3.13.0:compile\n[INFO] +- commons-io:commons-io:jar:2.13.0:compile\n[INFO] +- com.google.api-client:google-api-client:jar:2.0.0:compile\n[INFO] |  +- com.google.oauth-client:google-oauth-client:jar:1.34.1:compile\n[INFO] |  +- com.google.http-client:google-http-client-gson:jar:1.42.1:compile\n[INFO] |  +- com.google.guava:guava:jar:31.1-jre:compile\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.11.0:compile\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n[INFO] |  +- com.google.http-client:google-http-client-apache-v2:jar:1.42.1:compile\n[INFO] |  \\- com.google.http-client:google-http-client:jar:1.42.1:compile\n[INFO] |     +- io.opencensus:opencensus-api:jar:0.31.1:compile\n[INFO] |     |  \\- io.grpc:grpc-context:jar:1.27.2:compile\n[INFO] |     \\- io.opencensus:opencensus-contrib-http-util:jar:0.31.1:compile\n[INFO] +- com.google.oauth-client:google-oauth-client-jetty:jar:1.34.1:compile\n[INFO] |  \\- com.google.oauth-client:google-oauth-client-java6:jar:1.34.1:compile\n[INFO] +- com.google.apis:google-api-services-sheets:jar:v4-rev20220927-2.0.0:compile\n[INFO] +- com.google.auth:google-auth-library-oauth2-http:jar:1.19.0:compile\n[INFO] |  +- com.google.auto.value:auto-value-annotations:jar:1.10.1:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  \\- com.google.auth:google-auth-library-credentials:jar:1.19.0:compile\n[INFO] +- com.oracle.database.jdbc:ojdbc10:jar:19.20.0.0:compile\n[INFO] +- org.postgresql:postgresql:jar:42.6.0:compile\n[INFO] |  \\- org.checkerframework:checker-qual:jar:3.31.0:compile\n[INFO] +- org.testcontainers:postgresql:jar:1.18.0:test\n[INFO] |  \\- org.testcontainers:jdbc:jar:1.18.0:test\n[INFO] |     \\- org.testcontainers:database-commons:jar:1.18.0:test\n[INFO] |        \\- org.testcontainers:testcontainers:jar:1.18.0:test\n[INFO] |           +- junit:junit:jar:4.13.2:test\n[INFO] |           |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] |           +- org.apache.commons:commons-compress:jar:1.22:test\n[INFO] |           +- org.rnorth.duct-tape:duct-tape:jar:1.0.8:test\n[INFO] |           |  \\- org.jetbrains:annotations:jar:17.0.0:test\n[INFO] |           +- com.github.docker-java:docker-java-api:jar:3.3.0:test\n[INFO] |           \\- com.github.docker-java:docker-java-transport-zerodep:jar:3.3.0:test\n[INFO] |              +- com.github.docker-java:docker-java-transport:jar:3.3.0:test\n[INFO] |              \\- net.java.dev.jna:jna:jar:5.12.1:test\n[INFO] \\- org.testcontainers:oracle-xe:jar:1.19.0:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.643 s\n[INFO] Finished at: 2023-09-25T20:01:50+04:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p><strong>Indexing Lib Issues while running &quot;mvn clean install&quot;</strong></p>\n<pre><code>Underlying exception : java.lang.IllegalArgumentException: Could not create type\n    at com.XXX.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\nCaused by: java.lang.IllegalArgumentException: Could not create type\n    at com.XXX.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpFields$Mutable\n    at com.XXX.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.http.HttpFields$Mutable\n    at com.xxx.search.service.SolrServiceImplTest.init(SolrServiceImplTest.java:41)\n[ERROR] test_canRetryAddDocumentsIfStatusIsNonZero  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class org.apache.solr.client.solrj.impl.Http2SolrClient.\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\nJava               : 17\nJVM vendor name    : Amazon.com Inc.\nJVM vendor version : 17.0.8.1+8-LTS\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 17.0.8.1+8-LTS\nJVM info           : mixed mode, sharing\nOS name            : Windows 11\nOS version         : 10.0\n\n</code></pre>\n<p>Now let's say that I'm not running the tests and able to build the project to check it's usage in concrete implementation of indexing job.</p>\n<p><strong>Concrete indexing job pom</strong>\n<a href=\"https://pastebin.com/s7CB6K8K\" rel=\"nofollow noreferrer\">POM Link</a></p>\n<p>It's dependency tree says that the lib uses 8.11.2 when I have put 9.3.0 in pom and even lib recognizes 9.3.0 :) .m2 repo was cleaned and I've build lib with 0.0.2-SNAPSHOT version that is even not in artifactory.. Here is dependency tree:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ search-solr-indexing-rq ---\n[INFO] com.xxx.search:search-solr-indexing-rq:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.7.15:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.15:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.29:compile\n[INFO] |  |     +- org.springframework:spring-aop:jar:5.3.29:compile\n[INFO] |  |     +- org.springframework:spring-beans:jar:5.3.29:compile\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.3.29:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.15:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.15:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.12:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.12:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  +- org.springframework:spring-core:jar:5.3.29:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.29:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.15:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.15:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.15:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.11:test\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.11:test\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.3:test\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:test\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:test\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:5.3.29:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] \\- com.xxx.search:search-solr-indexing-lib:jar:0.0.2-SNAPSHOT:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter-data-redis:jar:2.7.15:compile\n[INFO]    |  +- org.springframework.data:spring-data-redis:jar:2.7.15:compile\n[INFO]    |  |  +- org.springframework.data:spring-data-keyvalue:jar:2.7.15:compile\n[INFO]    |  |  |  \\- org.springframework.data:spring-data-commons:jar:2.7.15:compile\n[INFO]    |  |  +- org.springframework:spring-tx:jar:5.3.29:compile\n[INFO]    |  |  +- org.springframework:spring-oxm:jar:5.3.29:compile\n[INFO]    |  |  \\- org.springframework:spring-context-support:jar:5.3.29:compile\n[INFO]    |  \\- io.lettuce:lettuce-core:jar:6.1.10.RELEASE:compile\n[INFO]    |     \\- io.projectreactor:reactor-core:jar:3.4.32:compile\n[INFO]    +- com.google.code.gson:gson:jar:2.9.1:compile\n[INFO]    +- io.github.resilience4j:resilience4j-retry:jar:1.7.1:compile\n[INFO]    |  +- io.vavr:vavr:jar:0.10.2:compile\n[INFO]    |  |  \\- io.vavr:vavr-match:jar:0.10.2:compile\n[INFO]    |  \\- io.github.resilience4j:resilience4j-core:jar:1.7.1:compile\n[INFO]    +- org.apache.solr:solr-solrj:jar:8.11.2:compile\n[INFO]    |  +- com.fasterxml.woodstox:woodstox-core:jar:6.2.4:compile\n[INFO]    |  +- commons-lang:commons-lang:jar:2.6:compile\n[INFO]    |  +- io.netty:netty-buffer:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-codec:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-common:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-handler:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-transport:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-transport-native-epoll:jar:4.1.97.Final:compile\n[INFO]    |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:compile\n[INFO]    |  +- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\n[INFO]    |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO]    |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\n[INFO]    |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO]    |  +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\n[INFO]    |  +- org.apache.zookeeper:zookeeper:jar:3.6.2:compile\n[INFO]    |  +- org.apache.zookeeper:zookeeper-jute:jar:3.6.2:compile\n[INFO]    |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO]    |  +- org.eclipse.jetty:jetty-alpn-client:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty:jetty-alpn-java-client:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty:jetty-client:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty.http2:http2-client:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty.http2:http2-common:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty.http2:http2-hpack:jar:9.4.51.v20230217:compile\n[INFO]    |  +- org.eclipse.jetty.http2:http2-http-client-transport:jar:9.4.51.v20230217:compile\n[INFO]    |  \\- org.xerial.snappy:snappy-java:jar:1.1.7.6:compile\n[INFO]    +- software.amazon.awssdk:s3:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:aws-xml-protocol:jar:2.15.0:compile\n[INFO]    |  |  \\- software.amazon.awssdk:aws-query-protocol:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:protocol-core:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:arns:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:profiles:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:sdk-core:jar:2.15.0:compile\n[INFO]    |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO]    |  +- software.amazon.awssdk:http-client-spi:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:regions:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:annotations:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:utils:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:aws-core:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:metrics-spi:jar:2.15.0:compile\n[INFO]    |  +- software.amazon.awssdk:apache-client:jar:2.15.0:runtime\n[INFO]    |  \\- software.amazon.awssdk:netty-nio-client:jar:2.15.0:runtime\n[INFO]    |     +- io.netty:netty-codec-http:jar:4.1.97.Final:runtime\n[INFO]    |     +- io.netty:netty-codec-http2:jar:4.1.97.Final:runtime\n[INFO]    |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:runtime\n[INFO]    |     \\- com.typesafe.netty:netty-reactive-streams-http:jar:2.0.4:runtime\n[INFO]    |        \\- com.typesafe.netty:netty-reactive-streams:jar:2.0.4:runtime\n[INFO]    +- software.amazon.awssdk:auth:jar:2.15.0:compile\n[INFO]    |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\n[INFO]    |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO]    +- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO]    +- redis.clients:jedis:jar:3.8.0:compile\n[INFO]    |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\n[INFO]    +- com.joyent.util:fast-md5:jar:2.7.1:compile\n[INFO]    +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.5:compile\n[INFO]    |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\n[INFO]    +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.5:compile\n[INFO]    +- com.fasterxml.jackson.core:jackson-core:jar:2.13.5:compile\n[INFO]    +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO]    +- commons-io:commons-io:jar:2.13.0:compile\n[INFO]    +- com.google.api-client:google-api-client:jar:2.0.0:compile\n[INFO]    |  +- com.google.oauth-client:google-oauth-client:jar:1.34.1:compile\n[INFO]    |  +- com.google.http-client:google-http-client-gson:jar:1.42.1:compile\n[INFO]    |  +- com.google.guava:guava:jar:31.1-jre:compile\n[INFO]    |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO]    |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO]    |  |  +- com.google.errorprone:error_prone_annotations:jar:2.11.0:compile\n[INFO]    |  |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n[INFO]    |  +- com.google.http-client:google-http-client-apache-v2:jar:1.42.1:compile\n[INFO]    |  \\- com.google.http-client:google-http-client:jar:1.42.1:compile\n[INFO]    |     +- io.opencensus:opencensus-api:jar:0.31.1:compile\n[INFO]    |     |  \\- io.grpc:grpc-context:jar:1.27.2:compile\n[INFO]    |     \\- io.opencensus:opencensus-contrib-http-util:jar:0.31.1:compile\n[INFO]    +- com.google.oauth-client:google-oauth-client-jetty:jar:1.34.1:compile\n[INFO]    |  \\- com.google.oauth-client:google-oauth-client-java6:jar:1.34.1:compile\n[INFO]    +- com.google.apis:google-api-services-sheets:jar:v4-rev20220927-2.0.0:compile\n[INFO]    +- com.google.auth:google-auth-library-oauth2-http:jar:1.19.0:compile\n[INFO]    |  +- com.google.auto.value:auto-value-annotations:jar:1.10.1:compile\n[INFO]    |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO]    |  \\- com.google.auth:google-auth-library-credentials:jar:1.19.0:compile\n[INFO]    +- com.oracle.database.jdbc:ojdbc10:jar:19.20.0.0:compile\n[INFO]    \\- org.postgresql:postgresql:jar:42.3.8:compile\n[INFO]       \\- org.checkerframework:checker-qual:jar:3.5.0:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.501 s\n[INFO] Finished at: 2023-09-25T20:12:06+04:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p><strong>And then on runtime we get this error</strong></p>\n<pre><code>java.lang.NoSuchMethodError: 'org.apache.solr.client.solrj.impl.Http2SolrClient$Builder org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.withResponseParser(org.apache.solr.client.solrj.ResponseParser)'\n    at com.xxx.search.service.impl.SolrServiceImpl.initSolrClient(SolrServiceImpl.java:144) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\n    at com.xxx.search.service.impl.SolrServiceImpl.&lt;init&gt;(SolrServiceImpl.java:38) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\n    at com.xxx.search.util.SolrServiceFactory.lambda$getSolrServices$0(SolrServiceFactory.java:26) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at com.xxx.search.util.SolrServiceFactory.lambda$getSolrServices$1(SolrServiceFactory.java:26) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1134) ~[na:na]\n    at com.xxx.search.util.SolrServiceFactory.getSolrServices(SolrServiceFactory.java:26) ~[search-solr-indexing-lib-0.0.2-SNAPSHOT.jar:0.0.2-SNAPSHOT]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n</code></pre>\n<p>I've tried to add transitive dependencies manually but issue is still there.</p>\n<pre><code>[Transitive dependency list](https://pastebin.com/47zJatcm)\n</code></pre>\n"},{"tags":["java","string","match"],"answers":[{"tags":[],"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1270950361,"creation_date":1270950361,"answer_id":2615753,"question_id":2615749,"body_markdown":"    text.indexOf(match);\r\n\r\nSee the [String javadoc][1]\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#indexOf(java.lang.String)","title":"Java: method to get position of a match in a String?","body":"<pre><code>text.indexOf(match);\n</code></pre>\n\n<p>See the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#indexOf(java.lang.String)\" rel=\"noreferrer\">String javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":281,"is_accepted":true,"score":281,"last_activity_date":1500519186,"creation_date":1270952494,"answer_id":2615834,"question_id":2615749,"body_markdown":"The family of methods that does this are:\r\n\r\n* [`int indexOf(String str)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#indexOf(java.lang.String))\r\n  * [`indexOf(String str, int fromIndex)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#indexOf(java.lang.String,%20int))\r\n* [`int lastIndexOf(String str)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#lastIndexOf(java.lang.String))\r\n  * [`lastIndexOf(String str, int fromIndex)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#lastIndexOf(java.lang.String,%20int))\r\n\r\n&gt; Returns the index within this string of the first (_or last_) occurrence of the specified substring [searching forward (_or backward_) starting at the specified index].\r\n\r\n---\r\n\r\n\tString text = &quot;0123hello9012hello8901hello7890&quot;;\r\n\tString word = &quot;hello&quot;;\r\n\r\n\tSystem.out.println(text.indexOf(word)); // prints &quot;4&quot;\r\n\tSystem.out.println(text.lastIndexOf(word)); // prints &quot;22&quot;\r\n\r\n\t// find all occurrences forward\r\n\tfor (int i = -1; (i = text.indexOf(word, i + 1)) != -1; i++) {\r\n\t\tSystem.out.println(i);\r\n\t} // prints &quot;4&quot;, &quot;13&quot;, &quot;22&quot;\r\n\r\n\t// find all occurrences backward\r\n\tfor (int i = text.length(); (i = text.lastIndexOf(word, i - 1)) != -1; i++) {\r\n\t\tSystem.out.println(i);\r\n\t} // prints &quot;22&quot;, &quot;13&quot;, &quot;4&quot;\r\n","title":"Java: method to get position of a match in a String?","body":"<p>The family of methods that does this are:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#indexOf(java.lang.String)\" rel=\"noreferrer\"><code>int indexOf(String str)</code></a>\n\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#indexOf(java.lang.String,%20int)\" rel=\"noreferrer\"><code>indexOf(String str, int fromIndex)</code></a></li>\n</ul></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#lastIndexOf(java.lang.String)\" rel=\"noreferrer\"><code>int lastIndexOf(String str)</code></a>\n\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#lastIndexOf(java.lang.String,%20int)\" rel=\"noreferrer\"><code>lastIndexOf(String str, int fromIndex)</code></a></li>\n</ul></li>\n</ul>\n\n<blockquote>\n  <p>Returns the index within this string of the first (<em>or last</em>) occurrence of the specified substring [searching forward (<em>or backward</em>) starting at the specified index].</p>\n</blockquote>\n\n<hr>\n\n<pre><code>String text = \"0123hello9012hello8901hello7890\";\nString word = \"hello\";\n\nSystem.out.println(text.indexOf(word)); // prints \"4\"\nSystem.out.println(text.lastIndexOf(word)); // prints \"22\"\n\n// find all occurrences forward\nfor (int i = -1; (i = text.indexOf(word, i + 1)) != -1; i++) {\n    System.out.println(i);\n} // prints \"4\", \"13\", \"22\"\n\n// find all occurrences backward\nfor (int i = text.length(); (i = text.lastIndexOf(word, i - 1)) != -1; i++) {\n    System.out.println(i);\n} // prints \"22\", \"13\", \"4\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54832,"reputation":51238,"user_id":164148,"accept_rate":82,"display_name":"hhh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270952507,"creation_date":1270952507,"answer_id":2615837,"question_id":2615749,"body_markdown":"You can get all matches in a file simply by assigning inside while-loop, cool:\r\n\r\n    $ javac MatchTest.java \r\n    $ java MatchTest \r\n    1\r\n    16\r\n    31\r\n    46\r\n    $ cat MatchTest.java \r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class MatchTest {\r\n    \tpublic static void main(String[] args){\r\n    \t\tString match = &quot;hello&quot;;\r\n    \t\tString text = &quot;hello0123456789hello0123456789hello1234567890hello3423243423232&quot;;\r\n    \t\tint i =0;\r\n    \t\twhile((i=(text.indexOf(match,i)+1))&gt;0)\r\n    \t\t\tSystem.out.println(i);\r\n    \t}\r\n    }\r\n\r\n","title":"Java: method to get position of a match in a String?","body":"<p>You can get all matches in a file simply by assigning inside while-loop, cool:</p>\n\n<pre><code>$ javac MatchTest.java \n$ java MatchTest \n1\n16\n31\n46\n$ cat MatchTest.java \nimport java.util.*;\nimport java.io.*;\n\npublic class MatchTest {\n    public static void main(String[] args){\n        String match = \"hello\";\n        String text = \"hello0123456789hello0123456789hello1234567890hello3423243423232\";\n        int i =0;\n        while((i=(text.indexOf(match,i)+1))&gt;0)\n            System.out.println(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3991944,"reputation":1372,"user_id":3290584,"display_name":"Noorus Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391979267,"creation_date":1391978099,"answer_id":21664676,"question_id":2615749,"body_markdown":"    import java.util.StringTokenizer;\r\n\r\n    public class Occourence {\r\n\r\n      public static void main(String[] args) {\r\n\t\tString key=null,str =&quot;my name noorus my name noorus&quot;;\t\t \r\n\t\tint i=0,tot=0;\r\n\r\n\t\tStringTokenizer st=new StringTokenizer(str,&quot; &quot;);\r\n\t\twhile(st.hasMoreTokens())\r\n\t\t{   \r\n\t\t\ttot=tot+1;\r\n\t\t\tkey = st.nextToken();\r\n\t\t\twhile((i=(str.indexOf(key,i)+1))&gt;0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;position of &quot;+key+&quot; &quot;+&quot;is &quot;+(i-1));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;total words present in string &quot;+tot);\r\n\t  }\r\n    }\r\n\r\n","title":"Java: method to get position of a match in a String?","body":"<pre><code>import java.util.StringTokenizer;\n\npublic class Occourence {\n\n  public static void main(String[] args) {\n    String key=null,str =\"my name noorus my name noorus\";        \n    int i=0,tot=0;\n\n    StringTokenizer st=new StringTokenizer(str,\" \");\n    while(st.hasMoreTokens())\n    {   \n        tot=tot+1;\n        key = st.nextToken();\n        while((i=(str.indexOf(key,i)+1))&gt;0)\n        {\n            System.out.println(\"position of \"+key+\" \"+\"is \"+(i-1));\n        }\n    }\n\n    System.out.println(\"total words present in string \"+tot);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4111864,"reputation":21,"user_id":3374457,"display_name":"Sayed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393843628,"creation_date":1393842281,"answer_id":22144166,"question_id":2615749,"body_markdown":"    int match_position=text.indexOf(match);","title":"Java: method to get position of a match in a String?","body":"<pre><code>int match_position=text.indexOf(match);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491507,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1517934705,"creation_date":1434500924,"answer_id":30880424,"question_id":2615749,"body_markdown":"#Finding a single index\r\n\r\nAs others have said, use `text.indexOf(match)` to find a single match.\r\n\r\n    String text = &quot;0123456789hello0123456789&quot;;\r\n    String match = &quot;hello&quot;;\r\n    int position = text.indexOf(match); // position = 10\r\n\r\n#Finding multiple indexes\r\n\r\nBecause of [@StephenC&#39;s comment][1] about code maintainability and my own difficulty in understanding [@polygenelubricants&#39; answer][2], I wanted to find another way to get all the indexes of a match in a text string. The following code (which is modified from [this answer][3]) does so:\r\n\r\n    String text = &quot;0123hello9012hello8901hello7890&quot;;\r\n    String match = &quot;hello&quot;;\r\n    \r\n    int index = text.indexOf(match);\r\n    int matchLength = match.length();\r\n    while (index &gt;= 0) {  // indexOf returns -1 if no match found\r\n        System.out.println(index);\r\n        index = text.indexOf(match, index + matchLength);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2615749/java-method-to-get-position-of-a-match-in-a-string/30204724#comment2627574_2615834\r\n  [2]: https://stackoverflow.com/a/2615834/3681880\r\n  [3]: https://stackoverflow.com/a/5034592/3681880","title":"Java: method to get position of a match in a String?","body":"<h1>Finding a single index</h1>\n\n<p>As others have said, use <code>text.indexOf(match)</code> to find a single match.</p>\n\n<pre><code>String text = \"0123456789hello0123456789\";\nString match = \"hello\";\nint position = text.indexOf(match); // position = 10\n</code></pre>\n\n<h1>Finding multiple indexes</h1>\n\n<p>Because of <a href=\"https://stackoverflow.com/questions/2615749/java-method-to-get-position-of-a-match-in-a-string/30204724#comment2627574_2615834\">@StephenC's comment</a> about code maintainability and my own difficulty in understanding <a href=\"https://stackoverflow.com/a/2615834/3681880\">@polygenelubricants' answer</a>, I wanted to find another way to get all the indexes of a match in a text string. The following code (which is modified from <a href=\"https://stackoverflow.com/a/5034592/3681880\">this answer</a>) does so:</p>\n\n<pre><code>String text = \"0123hello9012hello8901hello7890\";\nString match = \"hello\";\n\nint index = text.indexOf(match);\nint matchLength = match.length();\nwhile (index &gt;= 0) {  // indexOf returns -1 if no match found\n    System.out.println(index);\n    index = text.indexOf(match, index + matchLength);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003109,"reputation":113,"user_id":1793659,"display_name":"JPeraita"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1434983215,"creation_date":1434983215,"answer_id":30982491,"question_id":2615749,"body_markdown":"If you&#39;re going to scan for &#39;n&#39; matches of the search string, I&#39;d recommend using *[regular expressions][1]*.\r\nThey have a steep learning curve, but they&#39;ll save you hours when it comes to complex searches.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"Java: method to get position of a match in a String?","body":"<p>If you're going to scan for 'n' matches of the search string, I'd recommend using <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow\">regular expressions</a></em>.\nThey have a steep learning curve, but they'll save you hours when it comes to complex searches.</p>\n"},{"tags":[],"owner":{"account_id":6591737,"reputation":15,"user_id":5092665,"display_name":"Nitika Goswami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436342319,"creation_date":1436342319,"answer_id":31286745,"question_id":2615749,"body_markdown":"I have some big code but working nicely....\r\n\r\n\r\n\r\n       class strDemo\r\n       { \r\n           public static void main(String args[])\r\n           {\r\n\t       String s1=new String(&quot;The Ghost of The Arabean Sea&quot;);\r\n               String s2=new String (&quot;The&quot;);\r\n               String s6=new String (&quot;ehT&quot;);\r\n               StringBuffer s3;\r\n               StringBuffer s4=new StringBuffer(s1);\r\n               StringBuffer s5=new StringBuffer(s2);\r\n               char c1[]=new char[30];\r\n               char c2[]=new char[5];\r\n               char c3[]=new char[5];\r\n               s1.getChars(0,28,c1,0);\r\n               s2.getChars(0,3,c2,0);\r\n               s6.getChars(0,3,c3,0); s3=s4.reverse();      \r\n               int pf=0,pl=0;\r\n               char c5[]=new char[30];\r\n               s3.getChars(0,28,c5,0);\r\n               for(int i=0;i&lt;(s1.length()-s2.length());i++)\r\n               {\r\n                   int j=0;\r\n                   if(pf&lt;=1)\r\n                   {\r\n                      while (c1[i+j]==c2[j] &amp;&amp; j&lt;=s2.length())\r\n                      {           \r\n                        j++;\r\n                        System.out.println(s2.length()+&quot; &quot;+j);\r\n                        if(j&gt;=s2.length())\r\n                        {\r\n                           System.out.println(&quot;first match of(The) :-&gt;&quot;+i);\r\n                       \r\n                         }\r\n                         pf=pf+1;         \r\n                      }   \r\n                 }                \r\n           }       \r\n             for(int i=0;i&lt;(s3.length()-s6.length()+1);i++)\r\n            {\r\n                int j=0;\r\n                if(pl&lt;=1)\r\n                {\r\n                 while (c5[i+j]==c3[j] &amp;&amp; j&lt;=s6.length())\r\n                 {\r\n                     j++;\r\n                     System.out.println(s6.length()+&quot; &quot;+j);\r\n                     if(j&gt;=s6.length())\r\n                     {\r\n                             System.out.println((s3.length()-i-3));\r\n                             pl=pl+1;\r\n                      \r\n                     }   \r\n                    }                 \r\n                  }  \r\n               }  \r\n             }\r\n           }","title":"Java: method to get position of a match in a String?","body":"<p>I have some big code but working nicely....</p>\n\n<pre><code>   class strDemo\n   { \n       public static void main(String args[])\n       {\n       String s1=new String(\"The Ghost of The Arabean Sea\");\n           String s2=new String (\"The\");\n           String s6=new String (\"ehT\");\n           StringBuffer s3;\n           StringBuffer s4=new StringBuffer(s1);\n           StringBuffer s5=new StringBuffer(s2);\n           char c1[]=new char[30];\n           char c2[]=new char[5];\n           char c3[]=new char[5];\n           s1.getChars(0,28,c1,0);\n           s2.getChars(0,3,c2,0);\n           s6.getChars(0,3,c3,0); s3=s4.reverse();      \n           int pf=0,pl=0;\n           char c5[]=new char[30];\n           s3.getChars(0,28,c5,0);\n           for(int i=0;i&lt;(s1.length()-s2.length());i++)\n           {\n               int j=0;\n               if(pf&lt;=1)\n               {\n                  while (c1[i+j]==c2[j] &amp;&amp; j&lt;=s2.length())\n                  {           \n                    j++;\n                    System.out.println(s2.length()+\" \"+j);\n                    if(j&gt;=s2.length())\n                    {\n                       System.out.println(\"first match of(The) :-&gt;\"+i);\n\n                     }\n                     pf=pf+1;         \n                  }   \n             }                \n       }       \n         for(int i=0;i&lt;(s3.length()-s6.length()+1);i++)\n        {\n            int j=0;\n            if(pl&lt;=1)\n            {\n             while (c5[i+j]==c3[j] &amp;&amp; j&lt;=s6.length())\n             {\n                 j++;\n                 System.out.println(s6.length()+\" \"+j);\n                 if(j&gt;=s6.length())\n                 {\n                         System.out.println((s3.length()-i-3));\n                         pl=pl+1;\n\n                 }   \n                }                 \n              }  \n           }  \n         }\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6880518,"reputation":11,"user_id":5287374,"display_name":"shravan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441091936,"creation_date":1441091936,"answer_id":32325749,"question_id":2615749,"body_markdown":"    //finding a particular word any where inthe string and printing its index and occurence  \r\n    class IndOc\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tString s=&quot;this is hyderabad city and this is&quot;;\r\n    \t\tSystem.out.println(&quot;the given string is &quot;);\r\n    \t\tSystem.out.println(&quot;----------&quot;+s);\r\n    \t\tchar ch[]=s.toCharArray();\r\n    \t\tSystem.out.println(&quot; ----word is found at &quot;);\r\n    \t\tint j=0,noc=0;\r\n    \t\tfor(int i=0;i&lt;ch.length;i++)\r\n    \t\t{\r\n    \t\t\tj=i;\r\n    \t\t\t\r\n    \t\t\tif(ch[i]==&#39;i&#39; &amp;&amp; ch[j+1]==&#39;s&#39;)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot; index &quot;+i);\r\n    \t\t\tnoc++;\t\r\n    \t\t\t}\r\n              \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;----- no of occurences are &quot;+noc);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Java: method to get position of a match in a String?","body":"<pre><code>//finding a particular word any where inthe string and printing its index and occurence  \nclass IndOc\n{\n    public static void main(String[] args) \n    {\n        String s=\"this is hyderabad city and this is\";\n        System.out.println(\"the given string is \");\n        System.out.println(\"----------\"+s);\n        char ch[]=s.toCharArray();\n        System.out.println(\" ----word is found at \");\n        int j=0,noc=0;\n        for(int i=0;i&lt;ch.length;i++)\n        {\n            j=i;\n\n            if(ch[i]=='i' &amp;&amp; ch[j+1]=='s')\n            {\n                System.out.println(\" index \"+i);\n            noc++;  \n            }\n\n        }\n        System.out.println(\"----- no of occurences are \"+noc);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7259602,"reputation":501,"user_id":5536904,"display_name":"Aldwane Viegan"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1517935178,"creation_date":1446904849,"answer_id":33583575,"question_id":2615749,"body_markdown":"\t\t\r\nThis works using regex.\r\n\r\n    String text = &quot;I love you so much&quot;;\r\n\tString wordToFind = &quot;love&quot;;\r\n\tPattern word = Pattern.compile(wordToFind);\r\n\tMatcher match = word.matcher(text);\r\n\r\n\twhile (match.find()) {\r\n\t\t System.out.println(&quot;Found love at index &quot;+ match.start() +&quot; - &quot;+ (match.end()-1));\r\n\t}\r\n\r\n__Output :__\r\n\r\n&gt; Found &#39;love&#39; at index 2 - 5\r\n\r\n__General Rule :__\r\n\r\n* Regex search left to right, and once the match characters has been used, it cannot be reused.","title":"Java: method to get position of a match in a String?","body":"<p>This works using regex.</p>\n\n<pre><code>String text = \"I love you so much\";\nString wordToFind = \"love\";\nPattern word = Pattern.compile(wordToFind);\nMatcher match = word.matcher(text);\n\nwhile (match.find()) {\n     System.out.println(\"Found love at index \"+ match.start() +\" - \"+ (match.end()-1));\n}\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<blockquote>\n  <p>Found 'love' at index 2 - 5</p>\n</blockquote>\n\n<p><strong>General Rule :</strong></p>\n\n<ul>\n<li>Regex search left to right, and once the match characters has been used, it cannot be reused.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12612920,"reputation":1,"user_id":9171360,"display_name":"Sarthak Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515047662,"creation_date":1515047441,"answer_id":48089844,"question_id":2615749,"body_markdown":"for multiple occurrence and the character found in string??yes or no\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class SubStringtest {\r\n    \r\n    \tpublic static void main(String[] args)throws Exception {\r\n    \tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n    \t System.out.println(&quot;enter the string&quot;);\r\n    \tString str=br.readLine();\r\n    \tSystem.out.println(&quot;enter the character which you want&quot;);\r\n    \tCharSequence ch=br.readLine();   \r\n    \tboolean bool=str.contains(ch);\r\n    \tSystem.out.println(&quot;the character found is &quot; +bool);\r\n    \tint position=str.indexOf(ch.toString());\r\n    \t\r\n    \twhile(position&gt;=0){\r\n    \t\tSystem.out.println(&quot;the index no of character is &quot; +position); \r\n    \t\tposition=str.indexOf(ch.toString(),position+1);\r\n    \t}\r\n    \t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java: method to get position of a match in a String?","body":"<p>for multiple occurrence and the character found in string??yes or no</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class SubStringtest {\n\n    public static void main(String[] args)throws Exception {\n    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n     System.out.println(\"enter the string\");\n    String str=br.readLine();\n    System.out.println(\"enter the character which you want\");\n    CharSequence ch=br.readLine();   \n    boolean bool=str.contains(ch);\n    System.out.println(\"the character found is \" +bool);\n    int position=str.indexOf(ch.toString());\n\n    while(position&gt;=0){\n        System.out.println(\"the index no of character is \" +position); \n        position=str.indexOf(ch.toString(),position+1);\n    }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13011427,"reputation":11,"user_id":9404308,"display_name":"Shukhrat Aliyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523637129,"creation_date":1523637129,"answer_id":49821532,"question_id":2615749,"body_markdown":"\t\tString match = &quot;hello&quot;;\r\n\t\tString text = &quot;0123456789hello0123456789hello&quot;;\r\n\r\n\t\tint j = 0;\r\n\t\tString indxOfmatch = &quot;&quot;;\r\n\t\t\t\t\r\n\t\tfor (int i = -1; i &lt; text.length()+1; i++) {\r\n\t\t\tj =  text.indexOf(&quot;hello&quot;, i);\r\n\t\t\tif (i&gt;=j &amp;&amp; j &gt; -1) {\r\n\t\t\t\tindxOfmatch += text.indexOf(&quot;hello&quot;, i)+&quot; &quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(indxOfmatch);\r\n","title":"Java: method to get position of a match in a String?","body":"<pre><code>    String match = \"hello\";\n    String text = \"0123456789hello0123456789hello\";\n\n    int j = 0;\n    String indxOfmatch = \"\";\n\n    for (int i = -1; i &lt; text.length()+1; i++) {\n        j =  text.indexOf(\"hello\", i);\n        if (i&gt;=j &amp;&amp; j &gt; -1) {\n            indxOfmatch += text.indexOf(\"hello\", i)+\" \";\n        }\n    }\n    System.out.println(indxOfmatch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8420204,"reputation":151,"user_id":6319209,"display_name":"yacine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590740969,"creation_date":1590740969,"answer_id":62081768,"question_id":2615749,"body_markdown":"    public int NumberWordsInText(String FullText_, String WordToFind_, int[] positions_)\r\n       {\r\n        int iii1=0;\r\n        int iii2=0;\r\n        int iii3=0;\r\n        while((iii1=(FullText_.indexOf(WordToFind_,iii1)+1))&gt;0){iii2=iii2+1;}\r\n        // iii2 is the number of the occurences\r\n        if(iii2&gt;0) {\r\n            positions_ = new int[iii2];\r\n            while ((iii1 = (FullText_.indexOf(WordToFind_, iii1) + 1)) &gt; 0) {\r\n                positions_[iii3] = iii1-1;\r\n                iii3 = iii3 + 1;\r\n                System.out.println(&quot;position=&quot; + positions_[iii3 - 1]);\r\n            }\r\n        }\r\n        return iii2;\r\n    }","title":"Java: method to get position of a match in a String?","body":"<pre><code>public int NumberWordsInText(String FullText_, String WordToFind_, int[] positions_)\n   {\n    int iii1=0;\n    int iii2=0;\n    int iii3=0;\n    while((iii1=(FullText_.indexOf(WordToFind_,iii1)+1))&gt;0){iii2=iii2+1;}\n    // iii2 is the number of the occurences\n    if(iii2&gt;0) {\n        positions_ = new int[iii2];\n        while ((iii1 = (FullText_.indexOf(WordToFind_, iii1) + 1)) &gt; 0) {\n            positions_[iii3] = iii1-1;\n            iii3 = iii3 + 1;\n            System.out.println(\"position=\" + positions_[iii3 - 1]);\n        }\n    }\n    return iii2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26017021,"reputation":1,"user_id":19725211,"display_name":"LOGOUT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663426781,"creation_date":1663426781,"answer_id":73755942,"question_id":2615749,"body_markdown":"\r\n\r\n         class Main{\r\n         public static int string(String str, String str1){\r\n         for (int i = 0; i &lt;= str.length() - str1.length(); i++){ \r\n            int j;\r\n            for (j = 0; j &lt; str1.length(); j++) {\r\n                if (str1.charAt(j) != str.charAt(i + j)) {\r\n                    break;\r\n                }\r\n                }\r\n               if (j == str1.length()) {\r\n\t\t\t   return i;\r\n               }}\r\n               return -1;\r\n                 }\r\n        public static void main(String[] args)\r\n        {\r\n    \tScanner sc=new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Enter the string&quot;);\r\n    \tString str=sc.nextLine();\r\n    \tSystem.out.println(&quot;Enter the Substring&quot;);\r\n    \tString str1=sc.nextLine();\r\n        System.out.println(&quot;The position of the Substring is &quot;+string(str, str1));\r\n        }\r\n        }","title":"Java: method to get position of a match in a String?","body":"<pre><code>     class Main{\n     public static int string(String str, String str1){\n     for (int i = 0; i &lt;= str.length() - str1.length(); i++){ \n        int j;\n        for (j = 0; j &lt; str1.length(); j++) {\n            if (str1.charAt(j) != str.charAt(i + j)) {\n                break;\n            }\n            }\n           if (j == str1.length()) {\n           return i;\n           }}\n           return -1;\n             }\n    public static void main(String[] args)\n    {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter the string&quot;);\n    String str=sc.nextLine();\n    System.out.println(&quot;Enter the Substring&quot;);\n    String str1=sc.nextLine();\n    System.out.println(&quot;The position of the Substring is &quot;+string(str, str1));\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29497936,"reputation":11,"user_id":22605570,"display_name":"yash pal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695659343,"creation_date":1695280803,"answer_id":77147993,"question_id":2615749,"body_markdown":"I have created a function which is very easy to understand for find word&#39;s location in a string, check it :-\r\n\r\n```java\r\npublic static void indexOfWordByYash() {\r\n\tString str = &quot;01yash898989yashyashyashgggggg&quot;;\r\n\tString find = &quot;yash&quot;;\r\n\tint sizeOfFind = find.length();\r\n\tSystem.out.println(&quot;length of string =&quot;+str.length());\r\n\tSystem.out.println(&quot;size of find =&quot;+sizeOfFind);\r\n\t\t\r\n\t//In here we are checking if find_word available from index 0, becouse \r\n    //in loop we are not checking from 0 index.\r\n\tint index = str.indexOf(&quot;yash&quot;, 0);\r\n\tfor(int loop=0; loop &lt; str.length(); loop++) {\r\n\t\t\t\r\n\t    //Only if index greater then 0 will print the index.\r\n\t    if(index &gt;= 0) {\r\n\t\t    System.out.println(&quot;Index of yash =&quot;+index);\r\n\t\t    index = str.indexOf(&quot;yash&quot;, index+sizeOfFind);\r\n\t\t}\r\n\t\t\t\r\n\t\t//Break the loop if no any more find_word in string.\r\n\t\tif(index == -1) {\r\n\t\t    System.out.println(&quot;index =&quot;+index);\r\n\t\t    break;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Java: method to get position of a match in a String?","body":"<p>I have created a function which is very easy to understand for find word's location in a string, check it :-</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void indexOfWordByYash() {\n    String str = &quot;01yash898989yashyashyashgggggg&quot;;\n    String find = &quot;yash&quot;;\n    int sizeOfFind = find.length();\n    System.out.println(&quot;length of string =&quot;+str.length());\n    System.out.println(&quot;size of find =&quot;+sizeOfFind);\n        \n    //In here we are checking if find_word available from index 0, becouse \n    //in loop we are not checking from 0 index.\n    int index = str.indexOf(&quot;yash&quot;, 0);\n    for(int loop=0; loop &lt; str.length(); loop++) {\n            \n        //Only if index greater then 0 will print the index.\n        if(index &gt;= 0) {\n            System.out.println(&quot;Index of yash =&quot;+index);\n            index = str.indexOf(&quot;yash&quot;, index+sizeOfFind);\n        }\n            \n        //Break the loop if no any more find_word in string.\n        if(index == -1) {\n            System.out.println(&quot;index =&quot;+index);\n            break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":54832,"reputation":51238,"user_id":164148,"accept_rate":82,"display_name":"hhh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508643,"favorite_count":0,"down_vote_count":2,"up_vote_count":152,"accepted_answer_id":2615834,"answer_count":15,"score":150,"last_activity_date":1695659343,"creation_date":1270950255,"question_id":2615749,"body_markdown":"    String match = &quot;hello&quot;;\r\n    String text = &quot;0123456789hello0123456789&quot;;\r\n    \r\n    int position = getPosition(match, text); // should be 10, is there such a method?","title":"Java: method to get position of a match in a String?","body":"<pre><code>String match = \"hello\";\nString text = \"0123456789hello0123456789\";\n\nint position = getPosition(match, text); // should be 10, is there such a method?\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","pom.xml","protoc"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1695725688,"post_id":77172897,"comment_id":136059973,"body_markdown":"So, you already have &quot;Shorten command line&quot; option enabled, correct?\nCan you run mvn -X clean install and post the output here?\nEDIT: That actually looks like a PROTOBUF error. Which version of the plugin are you using?","body":"So, you already have &quot;Shorten command line&quot; option enabled, correct? Can you run mvn -X clean install and post the output here? EDIT: That actually looks like a PROTOBUF error. Which version of the plugin are you using?"},{"owner":{"account_id":12511956,"reputation":197,"user_id":9106699,"accept_rate":100,"display_name":"syd"},"score":0,"creation_date":1700334595,"post_id":77172897,"comment_id":136642886,"body_markdown":"Apparently if you are trying to compile all the files in your project you get this error. After trying to compile just one .proto file i started getting a different error: &quot;&#39;protoc&#39; is not recognized as an internal or external command&quot;. its like the compiler is not even there","body":"Apparently if you are trying to compile all the files in your project you get this error. After trying to compile just one .proto file i started getting a different error: &quot;&#39;protoc&#39; is not recognized as an internal or external command&quot;. its like the compiler is not even there"}],"owner":{"account_id":29529903,"reputation":11,"user_id":22630731,"display_name":"KshitijS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695658516,"creation_date":1695646994,"question_id":77172897,"body_markdown":"I am trying to build a maven project but when I am doing &quot;mvn clean install&quot; I am getting this error [ERROR] PROTOC FAILED: [0:0]:  The command line is too long. I am using Windows 11\r\n\r\nI have already tried the solutions provided on \r\nhttps://stackoverflow.com/questions/6381213/idea-10-5-command-line-is-too-long\r\nhttps://stackoverflow.com/questions/8181098/the-command-line-is-too-long-in-java-project-with-maven\r\nbut it is not working","title":"Windows 11: Intellij IDEA [ERROR] PROTOC FAILED: The command line is too long","body":"<p>I am trying to build a maven project but when I am doing &quot;mvn clean install&quot; I am getting this error [ERROR] PROTOC FAILED: [0:0]:  The command line is too long. I am using Windows 11</p>\n<p>I have already tried the solutions provided on\n<a href=\"https://stackoverflow.com/questions/6381213/idea-10-5-command-line-is-too-long\">IDEA 10.5 Command line is too long</a>\n<a href=\"https://stackoverflow.com/questions/8181098/the-command-line-is-too-long-in-java-project-with-maven\">The command line is too long. in java project with maven</a>\nbut it is not working</p>\n"},{"tags":["java","xpath","saxon","xslt-3.0"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1695646060,"post_id":77172499,"comment_id":136048030,"body_markdown":"If you have found that `/array/object[number[@name=&#39;DATA&#39;]=&#39;1&#39;]` fixes the problem then what is your question about? As you mention it is Saxon EE, is the XSLT 2 or 3 schema-aware? Which error message do you get when the code that worked with Saxon 8 fails with Saxon 10?","body":"If you have found that <code>&#47;array&#47;object[number[@name=&#39;DATA&#39;]=&#39;1&#39;]</code> fixes the problem then what is your question about? As you mention it is Saxon EE, is the XSLT 2 or 3 schema-aware? Which error message do you get when the code that worked with Saxon 8 fails with Saxon 10?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1695647198,"post_id":77172499,"comment_id":136048283,"body_markdown":"It would also help if you tell us which Saxon 8 version exactly you used as version before 8.9 (I hope to remember that correctly) were basically whatever XSLT 2 draft existed at the time of development/publication so any difference for such old versions might be due to changes before XSLT 2.0 was finalized (and 8.9 published); but of course with such big differences in version (some 8.x to 10) you might just find that some detail changed due to a bug fix. We basically would need to know more details of the XML input and the XSLT to tell.","body":"It would also help if you tell us which Saxon 8 version exactly you used as version before 8.9 (I hope to remember that correctly) were basically whatever XSLT 2 draft existed at the time of development/publication so any difference for such old versions might be due to changes before XSLT 2.0 was finalized (and 8.9 published); but of course with such big differences in version (some 8.x to 10) you might just find that some detail changed due to a bug fix. We basically would need to know more details of the XML input and the XSLT to tell."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695648027,"post_id":77172499,"comment_id":136048500,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695658319,"creation_date":1695658319,"answer_id":77174228,"question_id":77172499,"body_markdown":"It&#39;s hard to provide concrete advice on this. Saxon 8 was a long time ago; in fact it was not one release but a series of major releases from Saxon 8.0 in 2004 through to 8.9 in 2007. During that time the XSLT 2.0 specification was under development in W3C, and Saxon implemented new features of that specification as the spec evolved; XSLT 2.0 was finalised only in 2007, so during the lifetime of Saxon 8.x, the spec was constantly changing. One of the areas of change was the exact rules for comparing values of different types, like strings and integers (as in your example). \r\n\r\nIn addition, new optimizations were constantly being introduced in Saxon; the construct you have highlighted is likely to be significantly faster if supported by indexing, and indexing is notoriously difficult if your expression involves mixed types.\r\n\r\nSo the conclusion is that it&#39;s not at all surprising that Saxon today should should have evolved both in functionality and in its performance profile from the product released 16-19 years ago.","title":"XSLT transformation is stuck after migrating from saxon 8 to 10.6 EE","body":"<p>It's hard to provide concrete advice on this. Saxon 8 was a long time ago; in fact it was not one release but a series of major releases from Saxon 8.0 in 2004 through to 8.9 in 2007. During that time the XSLT 2.0 specification was under development in W3C, and Saxon implemented new features of that specification as the spec evolved; XSLT 2.0 was finalised only in 2007, so during the lifetime of Saxon 8.x, the spec was constantly changing. One of the areas of change was the exact rules for comparing values of different types, like strings and integers (as in your example).</p>\n<p>In addition, new optimizations were constantly being introduced in Saxon; the construct you have highlighted is likely to be significantly faster if supported by indexing, and indexing is notoriously difficult if your expression involves mixed types.</p>\n<p>So the conclusion is that it's not at all surprising that Saxon today should should have evolved both in functionality and in its performance profile from the product released 16-19 years ago.</p>\n"}],"owner":{"account_id":29498965,"reputation":1,"user_id":22606401,"display_name":"Rajarshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695658319,"creation_date":1695643606,"question_id":77172499,"body_markdown":"My customer has an input xml file of size 28 MB (~7L+ lines of code) to be transformed using Saxon.\r\nTransformation was working while in Saxon 8. After migrating to Saxon 10.6 EE, the transformation gets stuck and does not complete processing.\r\n\r\n\r\nAdditional observations- \r\nThe culprit could be in the XSLT Stylesheet having an Xpath as below: \r\n**/array/object[number[@name=&#39;DATA&#39;]=1]**\r\n\r\nchanging it to either\r\n**/array/object[number[@name=&#39;DATA&#39;]=&#39;1&#39;]**\r\nor\r\n**/array/object[number(number[@name=&#39;DATA&#39;])=1]**\r\nseems to work and provides results in ~1.5 seconds.\r\n\r\n\r\nPlease support.","title":"XSLT transformation is stuck after migrating from saxon 8 to 10.6 EE","body":"<p>My customer has an input xml file of size 28 MB (~7L+ lines of code) to be transformed using Saxon.\nTransformation was working while in Saxon 8. After migrating to Saxon 10.6 EE, the transformation gets stuck and does not complete processing.</p>\n<p>Additional observations-\nThe culprit could be in the XSLT Stylesheet having an Xpath as below:\n<strong>/array/object[number[@name='DATA']=1]</strong></p>\n<p>changing it to either\n<strong>/array/object[number[@name='DATA']='1']</strong>\nor\n<strong>/array/object[number(number[@name='DATA'])=1]</strong>\nseems to work and provides results in ~1.5 seconds.</p>\n<p>Please support.</p>\n"},{"tags":["java","android","machine-learning","speech-recognition","tensorflow-lite"],"owner":{"account_id":25427920,"reputation":1,"user_id":19232844,"display_name":"Selina Arokiaswamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695658105,"creation_date":1695658105,"question_id":77174209,"body_markdown":"I am getting the following error while loading the input and output audio buffers to tensorflow-lite interpreter for inferencing. I am using the TensorAudio and TensorAudioFormat packages from the tflite-support.audio package. The tflite-lite model I am using is trained for audio samples with a 16kHz sample rate and mono channel. Please take a look at the code below.\r\n\r\n```\r\nfloat audioData [] = wavObj.ReadingAudioFile(getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).getPath()+ &quot;/final_record.wav&quot;);\r\nfloat [] outputBuffer;\r\nTensorAudioFormat.Builder audioFormat = TensorAudioFormat.builder();\r\naudioFormat.setChannels(1);\r\naudioFormat.setSampleRate(16000);\r\nTensorAudio tensorAudio = TensorAudio.create(audioFormat.build(), audioFormat.build().getSampleRate());\r\ntensorAudio.load(audioData);\r\ntflite.run(tensorAudio.getTensorBuffer().getBuffer(), outputBuffer);\r\n```\r\n\r\n\r\nHere, **wavObj.ReadingAudioFile** is returning the audio buffer for the saved audio file. I am using TensorAudioFormat to explicitly set the channel type and sample rate to match the trained model. I have load the tflite-trained model into tflite Interpreter using the below code.\r\n\r\n\r\n```\r\nAssetFileDescriptor fileDescriptor = this.getAssets().openFd(modelPath); \r\nFileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor()); \r\nFileChannel fileChannel = inputStream.getChannel(); \r\nlong startOffset = fileDescriptor.getStartOffset(); \r\nlong declaredLength = fileDescriptor.getDeclaredLength(); \r\nByteBuffer model = fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength); \r\nInterpreter.Options options = new Interpreter.Options(); \r\ntflite = new Interpreter(model, options);\r\n```\r\n\r\nPlease suggest a solution to this problem.\r\n\r\nThe TFlite model Interpreter should accept the audioBuffer for wav file and return the label id for the output classification.","title":"Getting &quot;Cannot copy to a TensorFlowLite tensor with 63984 bytes from a Java Buffer with 64000 bytes&quot; error passing I/O TensorAudio to TFLite model","body":"<p>I am getting the following error while loading the input and output audio buffers to tensorflow-lite interpreter for inferencing. I am using the TensorAudio and TensorAudioFormat packages from the tflite-support.audio package. The tflite-lite model I am using is trained for audio samples with a 16kHz sample rate and mono channel. Please take a look at the code below.</p>\n<pre><code>float audioData [] = wavObj.ReadingAudioFile(getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).getPath()+ &quot;/final_record.wav&quot;);\nfloat [] outputBuffer;\nTensorAudioFormat.Builder audioFormat = TensorAudioFormat.builder();\naudioFormat.setChannels(1);\naudioFormat.setSampleRate(16000);\nTensorAudio tensorAudio = TensorAudio.create(audioFormat.build(), audioFormat.build().getSampleRate());\ntensorAudio.load(audioData);\ntflite.run(tensorAudio.getTensorBuffer().getBuffer(), outputBuffer);\n</code></pre>\n<p>Here, <strong>wavObj.ReadingAudioFile</strong> is returning the audio buffer for the saved audio file. I am using TensorAudioFormat to explicitly set the channel type and sample rate to match the trained model. I have load the tflite-trained model into tflite Interpreter using the below code.</p>\n<pre><code>AssetFileDescriptor fileDescriptor = this.getAssets().openFd(modelPath); \nFileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor()); \nFileChannel fileChannel = inputStream.getChannel(); \nlong startOffset = fileDescriptor.getStartOffset(); \nlong declaredLength = fileDescriptor.getDeclaredLength(); \nByteBuffer model = fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength); \nInterpreter.Options options = new Interpreter.Options(); \ntflite = new Interpreter(model, options);\n</code></pre>\n<p>Please suggest a solution to this problem.</p>\n<p>The TFlite model Interpreter should accept the audioBuffer for wav file and return the label id for the output classification.</p>\n"},{"tags":["java","android","maui"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695658032,"creation_date":1695658032,"answer_id":77174198,"question_id":77174130,"body_markdown":"If you&#39;re trying to launch your activity at startup-  you can&#39;t.  A broadcast receiver of a bakgrounded app cannot launch a foreground activity on modern android.  \r\n\r\nIf this is because you&#39;re writing a kiosk app, consider writing a launcher app to replace the home screen.  If this is any other app, the best you can do is put up a notification.","title":"How do I programmatically &quot;restart&quot; an Android app in.Net maui?","body":"<p>If you're trying to launch your activity at startup-  you can't.  A broadcast receiver of a bakgrounded app cannot launch a foreground activity on modern android.</p>\n<p>If this is because you're writing a kiosk app, consider writing a launcher app to replace the home screen.  If this is any other app, the best you can do is put up a notification.</p>\n"}],"owner":{"account_id":26757607,"reputation":1,"user_id":20355998,"display_name":"SAN SHEVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695658032,"creation_date":1695657214,"question_id":77174130,"body_markdown":"How do I programmatically &quot;restart&quot; an Android app in.Net maui?\r\n\r\n \r\n\r\nI have been trying to restart the application when the system reboot in .net maui app\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&lt;application android:allowBackup=&quot;true&quot; android:icon=&quot;@mipmap/appicon&quot; android:roundIcon=&quot;@mipmap/appicon_round&quot; android:supportsRtl=&quot;true&quot;&gt;\r\n&lt;receiver android:enabled=&quot;true&quot; android:name=&quot;com.companyname.mauiapp3.BootBroadcastReceiver&quot; android:exported=&quot;true&quot;&gt;\r\n&lt;intent-filter&gt;\r\n&lt;action android:name=&quot;android.intent.action.ACTION_BOOT_COMPLETED&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n&lt;/application&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n \r\n\r\n \r\n\r\nBootBroadcastReceiver.cs\r\n\r\n \r\n```\r\nusing global::Android.App;\r\nusing global::Android.Content; \r\n\r\n[BroadcastReceiver(Enabled = true, DirectBootAware = true,Exported = true)]\r\n[IntentFilter(new[] { Intent.ActionBootCompleted })]\r\n  public class BootBroadcastReceiver : BroadcastReceiver\r\n{\r\n   public override void OnReceive(Context context, Intent intent)\r\n   {\r\n      Intent i = new Intent(context, typeof(MainActivity));\r\n      i.AddFlags(ActivityFlags.NewTask);\r\n      context.StartActivity(i);\r\n    }\r\n}\r\n\r\n```\r\n\r\nMainActivity.cs\r\n\r\n \r\n```\r\n[Activity(Theme = &quot;@style/Maui.SplashTheme&quot;, MainLauncher = true, ConfigurationChanges = ConfigChanges.ScreenSize | ConfigChanges.Orientation | ConfigChanges.UiMode | ConfigChanges.ScreenLayout | ConfigChanges.SmallestScreenSize | ConfigChanges.Density)]\r\npublic class MainActivity : MauiAppCompatActivity\r\n{\r\n    BootBroadcastReceiver receiver;\r\n    protected override void OnCreate(Bundle savedInstanceState)\r\n    {\r\n        base.OnCreate(savedInstanceState);\r\n        receiver = new BootBroadcastReceiver();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI already tried all answers related to this in stackoverflow it is not working.\r\n\r\n \r\n\r\nEnvironment: visual studio 2022 .NET MAUI version: MAUI 7.0","title":"How do I programmatically &quot;restart&quot; an Android app in.Net maui?","body":"<p>How do I programmatically &quot;restart&quot; an Android app in.Net maui?</p>\n<p>I have been trying to restart the application when the system reboot in .net maui app</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;application android:allowBackup=&quot;true&quot; android:icon=&quot;@mipmap/appicon&quot; android:roundIcon=&quot;@mipmap/appicon_round&quot; android:supportsRtl=&quot;true&quot;&gt;\n&lt;receiver android:enabled=&quot;true&quot; android:name=&quot;com.companyname.mauiapp3.BootBroadcastReceiver&quot; android:exported=&quot;true&quot;&gt;\n&lt;intent-filter&gt;\n&lt;action android:name=&quot;android.intent.action.ACTION_BOOT_COMPLETED&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;/receiver&gt;\n&lt;/application&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>BootBroadcastReceiver.cs</p>\n<pre><code>using global::Android.App;\nusing global::Android.Content; \n\n[BroadcastReceiver(Enabled = true, DirectBootAware = true,Exported = true)]\n[IntentFilter(new[] { Intent.ActionBootCompleted })]\n  public class BootBroadcastReceiver : BroadcastReceiver\n{\n   public override void OnReceive(Context context, Intent intent)\n   {\n      Intent i = new Intent(context, typeof(MainActivity));\n      i.AddFlags(ActivityFlags.NewTask);\n      context.StartActivity(i);\n    }\n}\n\n</code></pre>\n<p>MainActivity.cs</p>\n<pre><code>[Activity(Theme = &quot;@style/Maui.SplashTheme&quot;, MainLauncher = true, ConfigurationChanges = ConfigChanges.ScreenSize | ConfigChanges.Orientation | ConfigChanges.UiMode | ConfigChanges.ScreenLayout | ConfigChanges.SmallestScreenSize | ConfigChanges.Density)]\npublic class MainActivity : MauiAppCompatActivity\n{\n    BootBroadcastReceiver receiver;\n    protected override void OnCreate(Bundle savedInstanceState)\n    {\n        base.OnCreate(savedInstanceState);\n        receiver = new BootBroadcastReceiver();\n    }\n}\n</code></pre>\n<p>I already tried all answers related to this in stackoverflow it is not working.</p>\n<p>Environment: visual studio 2022 .NET MAUI version: MAUI 7.0</p>\n"},{"tags":["java","arangodb"],"comments":[{"owner":{"account_id":3912201,"reputation":6002,"user_id":3237176,"accept_rate":75,"display_name":"dothebart"},"score":0,"creation_date":1457455172,"post_id":35868466,"comment_id":59409783,"body_markdown":"Can you locate the stack trace where in the source this occured?","body":"Can you locate the stack trace where in the source this occured?"},{"owner":{"account_id":6890625,"reputation":607,"user_id":5294283,"accept_rate":69,"display_name":"Haseb Ansari"},"score":0,"creation_date":1457522830,"post_id":35868466,"comment_id":59441409,"body_markdown":"`CursorResult&lt;BaseDocument&gt; rs = driver.executeAqlQuery(query, null, null, BaseDocument.class);`  -- here","body":"<code>CursorResult&lt;BaseDocument&gt; rs = driver.executeAqlQuery(query, null, null, BaseDocument.class);</code>  -- here"},{"owner":{"account_id":3912201,"reputation":6002,"user_id":3237176,"accept_rate":75,"display_name":"dothebart"},"score":0,"creation_date":1457523650,"post_id":35868466,"comment_id":59442096,"body_markdown":"you did see that the example you pasted uses `executeAqlQueryRaw` and not `executeAqlQuery`?","body":"you did see that the example you pasted uses <code>executeAqlQueryRaw</code> and not <code>executeAqlQuery</code>?"},{"owner":{"account_id":6890625,"reputation":607,"user_id":5294283,"accept_rate":69,"display_name":"Haseb Ansari"},"score":0,"creation_date":1457548433,"post_id":35868466,"comment_id":59460021,"body_markdown":"whats the difference ?","body":"whats the difference ?"},{"owner":{"account_id":6890625,"reputation":607,"user_id":5294283,"accept_rate":69,"display_name":"Haseb Ansari"},"score":0,"creation_date":1457553613,"post_id":35868466,"comment_id":59463262,"body_markdown":"And also I have tried both ways","body":"And also I have tried both ways"}],"answers":[{"tags":[],"owner":{"account_id":6825774,"reputation":211,"user_id":5251539,"display_name":"Achim Brandt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1460115594,"creation_date":1460115594,"answer_id":36498659,"question_id":35868466,"body_markdown":"Normally you have to use *driver.executeDocumentQuery(...)* for document queries.\r\n\r\nTo illustrate the differences between *driver.executeDocumentQuery(...)* and *driver.executeAqlQuery(...)* I added an [example](https://gist.github.com/bd68b523647548e5fb36d27c29561cfe).\r\n\r\nDownload the ArangoDB java driver on github and compile it with maven:\r\n\r\n    mvn clean install -DskipTests=true -Dgpg.skip=true -Dmaven.javadoc.skip=true -B\r\n\r\nMaven creates the standalone driver JAR file (arangodb-java-driver-X.X.X-SNAPSHOT-standalone.jar) containing all dependencies in the target directory.\r\n\r\nFetch the example code:\r\n\r\n     wget https://gist.githubusercontent.com/anonymous/bd68b523647548e5fb36d27c29561cfe/raw/f2922d431b9f1e5a3f3239e9024cf342536f55f7/AqlExample.java\r\n\r\nCompile the example code:\r\n\r\n     javac -classpath arangodb-java-driver-X.X.X-SNAPSHOT-standalone.jar AqlExample.java\r\n\r\nStart the ArangoDB without authentication on the default port and run the example code:\r\n\r\n     java -classpath arangodb-java-driver-X.X.X-SNAPSHOT-standalone.jar:. AqlExample\r\n\r\n","title":"How to execute an AQL query with Java API?","body":"<p>Normally you have to use <em>driver.executeDocumentQuery(...)</em> for document queries.</p>\n\n<p>To illustrate the differences between <em>driver.executeDocumentQuery(...)</em> and <em>driver.executeAqlQuery(...)</em> I added an <a href=\"https://gist.github.com/bd68b523647548e5fb36d27c29561cfe\" rel=\"noreferrer\">example</a>.</p>\n\n<p>Download the ArangoDB java driver on github and compile it with maven:</p>\n\n<pre><code>mvn clean install -DskipTests=true -Dgpg.skip=true -Dmaven.javadoc.skip=true -B\n</code></pre>\n\n<p>Maven creates the standalone driver JAR file (arangodb-java-driver-X.X.X-SNAPSHOT-standalone.jar) containing all dependencies in the target directory.</p>\n\n<p>Fetch the example code:</p>\n\n<pre><code> wget https://gist.githubusercontent.com/anonymous/bd68b523647548e5fb36d27c29561cfe/raw/f2922d431b9f1e5a3f3239e9024cf342536f55f7/AqlExample.java\n</code></pre>\n\n<p>Compile the example code:</p>\n\n<pre><code> javac -classpath arangodb-java-driver-X.X.X-SNAPSHOT-standalone.jar AqlExample.java\n</code></pre>\n\n<p>Start the ArangoDB without authentication on the default port and run the example code:</p>\n\n<pre><code> java -classpath arangodb-java-driver-X.X.X-SNAPSHOT-standalone.jar:. AqlExample\n</code></pre>\n"}],"owner":{"account_id":6890625,"reputation":607,"user_id":5294283,"accept_rate":69,"display_name":"Haseb Ansari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36498659,"answer_count":1,"score":3,"last_activity_date":1695657226,"creation_date":1457442990,"question_id":35868466,"body_markdown":"I have a collection named `docCollection` and I want to perform a normal AQL query on for example:\r\n\r\n    FOR id IN docCollection FILTER id.center == &quot;Germany&quot; RETURN id\r\n\r\nI have tried to use the example as stated here:\r\n\r\nhttps://github.com/arangodb/docs/blob/2f0a96c23630719e09f1b7af6aaf106c44332555/drivers/java-examples-xml-data.md\r\n\r\nBut it didn&#39;t worked for me and it showed me \r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException","title":"How to execute an AQL query with Java API?","body":"<p>I have a collection named <code>docCollection</code> and I want to perform a normal AQL query on for example:</p>\n<pre><code>FOR id IN docCollection FILTER id.center == &quot;Germany&quot; RETURN id\n</code></pre>\n<p>I have tried to use the example as stated here:</p>\n<p><a href=\"https://github.com/arangodb/docs/blob/2f0a96c23630719e09f1b7af6aaf106c44332555/drivers/java-examples-xml-data.md\" rel=\"nofollow noreferrer\">https://github.com/arangodb/docs/blob/2f0a96c23630719e09f1b7af6aaf106c44332555/drivers/java-examples-xml-data.md</a></p>\n<p>But it didn't worked for me and it showed me</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException</p>\n</blockquote>\n"},{"tags":["java","maven","alfresco"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640511226,"post_id":70485211,"comment_id":124596616,"body_markdown":"Please check your filter: `org.alfresco.maven.archetype` see the docs you have linked...  see https://search.maven.org/search?q=org.alfresco.maven.archetype","body":"Please check your filter: <code>org.alfresco.maven.archetype</code> see the docs you have linked...  see <a href=\"https://search.maven.org/search?q=org.alfresco.maven.archetype\" rel=\"nofollow noreferrer\">search.maven.org/search?q=org.alfresco.maven.archetype</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640514666,"post_id":70485211,"comment_id":124597115,"body_markdown":"Also use a more recent version of Maven...","body":"Also use a more recent version of Maven..."},{"owner":{"account_id":13146926,"reputation":1,"user_id":9496699,"display_name":"Mohamde amine Karek"},"score":0,"creation_date":1640523434,"post_id":70485211,"comment_id":124598619,"body_markdown":"@khmarbaise I did try it with Apache Maven 3.8.4 and I got the same message!","body":"@khmarbaise I did try it with Apache Maven 3.8.4 and I got the same message!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640524274,"post_id":70485211,"comment_id":124598769,"body_markdown":"The issue not really the Maven version it&#39;s more important that you are using the wrong filter value...","body":"The issue not really the Maven version it&#39;s more important that you are using the wrong filter value..."},{"owner":{"account_id":13146926,"reputation":1,"user_id":9496699,"display_name":"Mohamde amine Karek"},"score":0,"creation_date":1640526653,"post_id":70485211,"comment_id":124599202,"body_markdown":"@khmarbaise I followed the tutorial step by step, I don&#39;t where I&#39;m wrong PS: I&#39;m new to Alfresco","body":"@khmarbaise I followed the tutorial step by step, I don&#39;t where I&#39;m wrong PS: I&#39;m new to Alfresco"},{"owner":{"account_id":8344973,"reputation":106,"user_id":6269054,"display_name":"AHT"},"score":0,"creation_date":1700002177,"post_id":70485211,"comment_id":136600968,"body_markdown":"Try with quotes in the Dfilter like this: mvn archetype:generate &quot;-Dfilter=org.alfresco:&quot;","body":"Try with quotes in the Dfilter like this: mvn archetype:generate &quot;-Dfilter=org.alfresco:&quot;"}],"answers":[{"tags":[],"owner":{"account_id":306132,"reputation":414,"user_id":616703,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695657001,"creation_date":1695657001,"answer_id":77174109,"question_id":70485211,"body_markdown":"Maven: 3.9.2\r\n\r\nJava: Oracle 17.0.2\r\n\r\nRun with `-DinteractiveMode=true`\r\n\r\nThis will allow you to select from the list\r\n\r\n`mvn archetype:generate -DinteractiveMode=true`","title":"No archetype found in remote catalog, Alfresco Maven SDK","body":"<p>Maven: 3.9.2</p>\n<p>Java: Oracle 17.0.2</p>\n<p>Run with <code>-DinteractiveMode=true</code></p>\n<p>This will allow you to select from the list</p>\n<p><code>mvn archetype:generate -DinteractiveMode=true</code></p>\n"}],"owner":{"account_id":13146926,"reputation":1,"user_id":9496699,"display_name":"Mohamde amine Karek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695657001,"creation_date":1640508288,"question_id":70485211,"body_markdown":"I&#39;m following this tutorial: https://docs.alfresco.com/content-services/latest/develop/sdk/#gettingstarted\r\n```\r\njava -version\r\njava version &quot;11.0.13&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.13+10-LTS-370)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.13+10-LTS-370, mixed mode)\r\n\r\nmvn -v\r\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T17:41:47+01:00)\r\nMaven home: C:\\apache-maven-3.3.9\\bin\\..\r\nJava version: 11.0.13, vendor: Oracle Corporation\r\nJava home: C:\\Program Files\\Java\\jdk-11.0.13\r\nDefault locale: fr_FR, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;dos&quot;\r\n\r\ndocker -v\r\nDocker version 20.10.11, build dea9396\r\n```\r\nJAVA_HOME = C:\\Program Files\\Java\\jdk-11.0.13.\r\n\r\nthen when I try to generate a new alfresco project I get the following message:\r\n\r\n``` \r\nmvn archetype:generate -Dfilter=org.alfresco:\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO]\r\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.2.0:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\r\n[INFO]\r\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.2.0:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\r\n[INFO]\r\n[INFO] --- maven-archetype-plugin:3.2.0:generate (default-cli) @ standalone-pom ---\r\n[INFO] Generating project in Interactive mode\r\n[WARNING] No archetype found in remote catalog. Defaulting to internal catalog\r\n[INFO] Your filter doesn&#39;t match any archetype, so try again with another value.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 47.903 s\r\n[INFO] Finished at: 2021-12-26T09:34:02+01:00\r\n[INFO] Final Memory: 14M/60M\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\nWhat could be the problem?\r\n\r\nThanks\r\n\r\n\r\n","title":"No archetype found in remote catalog, Alfresco Maven SDK","body":"<p>I'm following this tutorial: <a href=\"https://docs.alfresco.com/content-services/latest/develop/sdk/#gettingstarted\" rel=\"nofollow noreferrer\">https://docs.alfresco.com/content-services/latest/develop/sdk/#gettingstarted</a></p>\n<pre><code>java -version\njava version &quot;11.0.13&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.13+10-LTS-370)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.13+10-LTS-370, mixed mode)\n\nmvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T17:41:47+01:00)\nMaven home: C:\\apache-maven-3.3.9\\bin\\..\nJava version: 11.0.13, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk-11.0.13\nDefault locale: fr_FR, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;dos&quot;\n\ndocker -v\nDocker version 20.10.11, build dea9396\n</code></pre>\n<p>JAVA_HOME = C:\\Program Files\\Java\\jdk-11.0.13.</p>\n<p>then when I try to generate a new alfresco project I get the following message:</p>\n<pre><code>mvn archetype:generate -Dfilter=org.alfresco:\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.2.0:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\n[INFO]\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.2.0:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\n[INFO]\n[INFO] --- maven-archetype-plugin:3.2.0:generate (default-cli) @ standalone-pom ---\n[INFO] Generating project in Interactive mode\n[WARNING] No archetype found in remote catalog. Defaulting to internal catalog\n[INFO] Your filter doesn't match any archetype, so try again with another value.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 47.903 s\n[INFO] Finished at: 2021-12-26T09:34:02+01:00\n[INFO] Final Memory: 14M/60M\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>What could be the problem?</p>\n<p>Thanks</p>\n"},{"tags":["java","tomcat","out-of-memory","redisson"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695147140,"post_id":77136932,"comment_id":135984137,"body_markdown":"Use a profiler to see what&#39;s taking so much memory, or take a heap dump and analyze that.","body":"Use a profiler to see what&#39;s taking so much memory, or take a heap dump and analyze that."},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1695147530,"post_id":77136932,"comment_id":135984191,"body_markdown":"Actually the app uses normally uses a lot of memory, but It didn&#39;t crash until I made this change","body":"Actually the app uses normally uses a lot of memory, but It didn&#39;t crash until I made this change"},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1695148112,"post_id":77136932,"comment_id":135984279,"body_markdown":"That&#39;s not a very nice or useful answer, are you suggesting that I should never make changes on my app?","body":"That&#39;s not a very nice or useful answer, are you suggesting that I should never make changes on my app?"},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1695149692,"post_id":77136932,"comment_id":135984512,"body_markdown":"Actually it is an interesting detail, the same app is replicated in other servers without using redisson (the only change so far) and in those servers is working fine. So mostly it is a problem with that last change. I&#39;m trying to understand if it is memory leak problem or something else. Thanks anyway","body":"Actually it is an interesting detail, the same app is replicated in other servers without using redisson (the only change so far) and in those servers is working fine. So mostly it is a problem with that last change. I&#39;m trying to understand if it is memory leak problem or something else. Thanks anyway"}],"answers":[{"tags":[],"owner":{"account_id":24877985,"reputation":11,"user_id":18751556,"display_name":"Jeffery K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695147707,"creation_date":1695147707,"answer_id":77137055,"question_id":77136932,"body_markdown":"I had a similar problem 4 years ago doing the same user session management in Redis, and I think the client library, specifically Netty, was using non-heap memory. \r\n\r\nAlso, when stuff starts to use non-heap memory, you may want to lower the allocation of tomcat, so it doesn&#39;t trigger that OOM-killer thread you saw the OS invoke to protect the kernel. The fix for oom-killer issues is opposite what you might think, and you need to reduce JVM allocation, to allow more memory for the OS/kernel. ","title":"Tomcat 8.5 Java 8 Out of Memory Error After Introducing Redis for Session Management","body":"<p>I had a similar problem 4 years ago doing the same user session management in Redis, and I think the client library, specifically Netty, was using non-heap memory.</p>\n<p>Also, when stuff starts to use non-heap memory, you may want to lower the allocation of tomcat, so it doesn't trigger that OOM-killer thread you saw the OS invoke to protect the kernel. The fix for oom-killer issues is opposite what you might think, and you need to reduce JVM allocation, to allow more memory for the OS/kernel.</p>\n"}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695655806,"creation_date":1695146475,"question_id":77136932,"body_markdown":"I have a Java 8 application deployed on Tomcat 8.5, which has been running smoothly until recently when Tomcat abruptly stopped. After examining the logs, I identified an &quot;out of memory&quot; error:\r\n\r\n    java invoked oom-killer: gfp_mask=0x100dca(GFP_HIGHUSER_MOVABLE|__GFP_ZERO), order=0, oom_score_adj=0\r\n\r\n\r\nThe application had been functioning correctly until now, and the only major change was the introduction of Redis for user session management, utilizing the Redisson library. Redis is installed on the same physical server where the Tomcat application resides. The application is allocated the majority of the available memory, leaving approximately 2 GB for everything else.\r\n\r\nOn the first day of the crash, I noticed that the garbage collector was releasing memory, but the jvm crashed anyway.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOn the second day, this was the state of Old Gen heap usage:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd this was the GC activity:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIt appears that there were no major garbage collections despite memory approaching its limit.\r\n\r\nI&#39;m trying to understand if this is a problem related to sharing the server resources between Tomcat and Redis or if it&#39;s potentially a memory leak within the application. Any insights or suggestions on how to diagnose and resolve this issue would be greatly appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/bIGMp.png\r\n  [2]: https://i.stack.imgur.com/xEkMM.png\r\n  [3]: https://i.stack.imgur.com/jws87.png\r\n  [4]: https://i.stack.imgur.com/ihQIY.png","title":"Tomcat 8.5 Java 8 Out of Memory Error After Introducing Redis for Session Management","body":"<p>I have a Java 8 application deployed on Tomcat 8.5, which has been running smoothly until recently when Tomcat abruptly stopped. After examining the logs, I identified an &quot;out of memory&quot; error:</p>\n<pre><code>java invoked oom-killer: gfp_mask=0x100dca(GFP_HIGHUSER_MOVABLE|__GFP_ZERO), order=0, oom_score_adj=0\n</code></pre>\n<p>The application had been functioning correctly until now, and the only major change was the introduction of Redis for user session management, utilizing the Redisson library. Redis is installed on the same physical server where the Tomcat application resides. The application is allocated the majority of the available memory, leaving approximately 2 GB for everything else.</p>\n<p>On the first day of the crash, I noticed that the garbage collector was releasing memory, but the jvm crashed anyway.\n<a href=\"https://i.stack.imgur.com/bIGMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bIGMp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xEkMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xEkMM.png\" alt=\"enter image description here\" /></a></p>\n<p>On the second day, this was the state of Old Gen heap usage:</p>\n<p><a href=\"https://i.stack.imgur.com/jws87.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jws87.png\" alt=\"enter image description here\" /></a></p>\n<p>And this was the GC activity:</p>\n<p><a href=\"https://i.stack.imgur.com/ihQIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihQIY.png\" alt=\"enter image description here\" /></a></p>\n<p>It appears that there were no major garbage collections despite memory approaching its limit.</p>\n<p>I'm trying to understand if this is a problem related to sharing the server resources between Tomcat and Redis or if it's potentially a memory leak within the application. Any insights or suggestions on how to diagnose and resolve this issue would be greatly appreciated.</p>\n"},{"tags":["java","windows","selenium-webdriver","selenium-chromedriver","portability"],"owner":{"account_id":15843819,"reputation":1,"user_id":11431598,"display_name":"Alex Blade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695655283,"creation_date":1695655283,"question_id":77173940,"body_markdown":"I have fresh new win 10 pro PC. w/o any google apps. and w/o any bluetooth card/devices.\r\nI have installed last Intelij IDEA + chromedriver + chromeportable from portableapps.com\r\n\r\nand when I run my code (as admin)\r\n```\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;drivers/chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setBinary(&quot;D:\\\\Program Files\\\\ChromePortable\\\\ChromePortable.exe&quot;);\r\n        options.addArguments(&quot;--user-data-dir=d:\\\\Documents\\\\Temp\\\\&quot;); // If I comment this I get sandbox error\r\n//        options.addArguments(&quot;--disable-features=WebBluetooth&quot;);\r\n//        options.addArguments(&quot;--headless&quot;); // Run Chrome in headless mode\r\n//        options.addArguments(&quot;--no-sandbox&quot;);\r\n&#160;\r\n        // Create a WebDriver instance with the specified options.\r\n        WebDriver driver = new ChromeDriver(options);\r\n&#160;\r\n        // Navigate to Google.\r\n        driver.get(&quot;https://www.gmail.com/&quot;);\r\n```\r\n\r\nI get error \r\n```\r\nDevTools listening on ws://127.0.0.1:51790/devtools/browser/43cdaac2-0bcb-4785-ad8f-b6a8717d0657\r\n[3884:10284:0922/175934.295:ERROR:device_event_log_impl.cc(215)] [17:59:34.295] Bluetooth: bluetooth_adapter_winrt.cc:1074 Getting Default Adapter failed.\r\n```\r\n\r\nwhen I run w/o admin rights I get error\r\n\r\n```\r\nFailed to grant sandbox access to network context data directory D:\\Program Files\\ChromePortable\\Data\\profile\\Default\\Network: Access is denied. (0x5)\r\n```\r\n\r\n\r\nPS: When I have the same config on win 7 I could easily ran chromedriver\r\n\r\nrun with and without administrator.\r\nrun with and without argument options","title":"Is it possible to run chromedriver on win 10 using portable chrome?","body":"<p>I have fresh new win 10 pro PC. w/o any google apps. and w/o any bluetooth card/devices.\nI have installed last Intelij IDEA + chromedriver + chromeportable from portableapps.com</p>\n<p>and when I run my code (as admin)</p>\n<pre><code>        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;drivers/chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();\n        options.setBinary(&quot;D:\\\\Program Files\\\\ChromePortable\\\\ChromePortable.exe&quot;);\n        options.addArguments(&quot;--user-data-dir=d:\\\\Documents\\\\Temp\\\\&quot;); // If I comment this I get sandbox error\n//        options.addArguments(&quot;--disable-features=WebBluetooth&quot;);\n//        options.addArguments(&quot;--headless&quot;); // Run Chrome in headless mode\n//        options.addArguments(&quot;--no-sandbox&quot;);\n \n        // Create a WebDriver instance with the specified options.\n        WebDriver driver = new ChromeDriver(options);\n \n        // Navigate to Google.\n        driver.get(&quot;https://www.gmail.com/&quot;);\n</code></pre>\n<p>I get error</p>\n<pre><code>DevTools listening on ws://127.0.0.1:51790/devtools/browser/43cdaac2-0bcb-4785-ad8f-b6a8717d0657\n[3884:10284:0922/175934.295:ERROR:device_event_log_impl.cc(215)] [17:59:34.295] Bluetooth: bluetooth_adapter_winrt.cc:1074 Getting Default Adapter failed.\n</code></pre>\n<p>when I run w/o admin rights I get error</p>\n<pre><code>Failed to grant sandbox access to network context data directory D:\\Program Files\\ChromePortable\\Data\\profile\\Default\\Network: Access is denied. (0x5)\n</code></pre>\n<p>PS: When I have the same config on win 7 I could easily ran chromedriver</p>\n<p>run with and without administrator.\nrun with and without argument options</p>\n"},{"tags":["java","mysql","spring","spring-boot","jdbctemplate"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1505297620,"post_id":46194762,"comment_id":79351786,"body_markdown":"can show us the `sqlString` please?","body":"can show us the <code>sqlString</code> please?"},{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1505297656,"post_id":46194762,"comment_id":79351810,"body_markdown":"What kind of exception do you get? Can you run this `SELECT INTO` manually?","body":"What kind of exception do you get? Can you run this <code>SELECT INTO</code> manually?"},{"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"score":0,"creation_date":1505297694,"post_id":46194762,"comment_id":79351839,"body_markdown":"@YCF_L: sqlString is the SQLs I have given in question...","body":"@YCF_L: sqlString is the SQLs I have given in question..."},{"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"score":0,"creation_date":1505297793,"post_id":46194762,"comment_id":79351918,"body_markdown":"@Tamas Rev: I am not getting any exception. Just data is not getting inserted. Select statement when run manually on its own does return data...","body":"@Tamas Rev: I am not getting any exception. Just data is not getting inserted. Select statement when run manually on its own does return data..."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":1,"creation_date":1505298223,"post_id":46194762,"comment_id":79352277,"body_markdown":"Run the select statement in a DB client program (SqlSquirrel, DB Visualizer etc) and see if it returns any rows.","body":"Run the select statement in a DB client program (SqlSquirrel, DB Visualizer etc) and see if it returns any rows."},{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1505298274,"post_id":46194762,"comment_id":79352313,"body_markdown":"So, what happens when you run this SQL manually? Maybe that doesn&#39;t return data either. In that case, your template works perfectly.","body":"So, what happens when you run this SQL manually? Maybe that doesn&#39;t return data either. In that case, your template works perfectly."},{"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"score":0,"creation_date":1505298462,"post_id":46194762,"comment_id":79352436,"body_markdown":"@dsp_user: :) yes off course I have done that! Please read comment reply I have given to Tamas Rev on top of your comment!","body":"@dsp_user: :) yes off course I have done that! Please read comment reply I have given to Tamas Rev on top of your comment!"},{"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"score":0,"creation_date":1505298509,"post_id":46194762,"comment_id":79352465,"body_markdown":"@Tamas Rev: I mentioned to you in my comment above - &quot;Select statement when run manually on its own does return data&quot;","body":"@Tamas Rev: I mentioned to you in my comment above - &quot;Select statement when run manually on its own does return data&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505300745,"creation_date":1505300745,"answer_id":46195877,"question_id":46194762,"body_markdown":"I had to resort to plain JDBC and it worked:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mySchema?autoReconnect=true&amp;useSSL=false&amp;rewriteBatchedStatements=true&quot;,\r\n        &quot;root&quot;, &quot;root&quot;);\r\n    Statement stmt = conn.createStatement();\r\n    int flag = stmt.executeUpdate(sqlString);\r\n    LOGGER.info(&quot;Flag = {}&quot;, flag);\r\n\r\nNot sure why Spring JdbcTemplate can not handle such thing!","title":"Spring JdbcTemplate &quot;insert into.. select from..&quot; not working","body":"<p>I had to resort to plain JDBC and it worked:</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\");\nConnection conn = DriverManager.getConnection(\"jdbc:mysql://localhost/mySchema?autoReconnect=true&amp;useSSL=false&amp;rewriteBatchedStatements=true\",\n    \"root\", \"root\");\nStatement stmt = conn.createStatement();\nint flag = stmt.executeUpdate(sqlString);\nLOGGER.info(\"Flag = {}\", flag);\n</code></pre>\n\n<p>Not sure why Spring JdbcTemplate can not handle such thing!</p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600425181,"creation_date":1600425181,"answer_id":63954059,"question_id":46194762,"body_markdown":"You can use the `execute` method. Like:\r\n\r\n    jdbcTemplate.execute(&quot;INSERT INTO table1 (some_id, some_key, some_text) &quot; +\r\n          &quot;SELECT id, key, text from table2 t2 &quot; +\r\n          &quot;LIMIT ?&quot;, (PreparedStatementCallback&lt;Boolean&gt;) ps -&gt; {\r\n                          ps.setInt(1, 400);\r\n                          return ps.execute();\r\n                      });","title":"Spring JdbcTemplate &quot;insert into.. select from..&quot; not working","body":"<p>You can use the <code>execute</code> method. Like:</p>\n<pre><code>jdbcTemplate.execute(&quot;INSERT INTO table1 (some_id, some_key, some_text) &quot; +\n      &quot;SELECT id, key, text from table2 t2 &quot; +\n      &quot;LIMIT ?&quot;, (PreparedStatementCallback&lt;Boolean&gt;) ps -&gt; {\n                      ps.setInt(1, 400);\n                      return ps.execute();\n                  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16106192,"reputation":11,"user_id":11625650,"display_name":"mrNormal Kolos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695654481,"creation_date":1695654481,"answer_id":77173853,"question_id":46194762,"body_markdown":"If you run it in IDEA, check temporally files if you open DB from resource file.\r\nI store my DB file exampleDB.db in src/main/resorces/db folder, so i found my temporally db file in build/resources/main/db/exampleDB.db. Try to open it temporally file to check it contain. ","title":"Spring JdbcTemplate &quot;insert into.. select from..&quot; not working","body":"<p>If you run it in IDEA, check temporally files if you open DB from resource file.\nI store my DB file exampleDB.db in src/main/resorces/db folder, so i found my temporally db file in build/resources/main/db/exampleDB.db. Try to open it temporally file to check it contain.</p>\n"}],"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46195877,"answer_count":3,"score":2,"last_activity_date":1695654481,"creation_date":1505297498,"question_id":46194762,"body_markdown":"I am trying to execute following SQL with Spring JdbcTemplate:\r\n\r\n    INSERT INTO japan_wht.PIVOT_20427002(doc_header_text, value_date, total_amt, is_refund)\t\t\t\t\t   \r\n     (SELECT \r\n        doc_header_text, DATE(value_date), SUM(LOCAL_CCY_AMT), is_refund\r\n     FROM\r\n        (SELECT \r\n            *\r\n        FROM\r\n            japan_wht.DATA_20427002\r\n    \tWHERE IS_REFUND in (&#39;N&#39;)\r\n        ) t \r\n    GROUP BY DATE(value_date) , doc_header_text, is_refund)\r\n\r\nHowever, it does not insert anything into database table and no error is thrown.\r\n\r\nWhen I tried to execute following SQL with JdbcTemplate, it works and inserts data in DB table:\r\n\r\n    INSERT INTO japan_wht.PIVOT_20427002(id, doc_header_text, value_date, total_amt, is_refund)\tvalues(&#39;1&#39;, &#39;1&#39;, &#39;2017-12-31&#39;, 3000, &#39;Y&#39;);\r\n\r\nBelow is my call to execute above SQLs:\r\n\r\n    jdbcTemplate.update(sqlString);\r\n\r\nNot sure what is going wrong here.\r\n","title":"Spring JdbcTemplate &quot;insert into.. select from..&quot; not working","body":"<p>I am trying to execute following SQL with Spring JdbcTemplate:</p>\n\n<pre><code>INSERT INTO japan_wht.PIVOT_20427002(doc_header_text, value_date, total_amt, is_refund)                    \n (SELECT \n    doc_header_text, DATE(value_date), SUM(LOCAL_CCY_AMT), is_refund\n FROM\n    (SELECT \n        *\n    FROM\n        japan_wht.DATA_20427002\n    WHERE IS_REFUND in ('N')\n    ) t \nGROUP BY DATE(value_date) , doc_header_text, is_refund)\n</code></pre>\n\n<p>However, it does not insert anything into database table and no error is thrown.</p>\n\n<p>When I tried to execute following SQL with JdbcTemplate, it works and inserts data in DB table:</p>\n\n<pre><code>INSERT INTO japan_wht.PIVOT_20427002(id, doc_header_text, value_date, total_amt, is_refund) values('1', '1', '2017-12-31', 3000, 'Y');\n</code></pre>\n\n<p>Below is my call to execute above SQLs:</p>\n\n<pre><code>jdbcTemplate.update(sqlString);\n</code></pre>\n\n<p>Not sure what is going wrong here.</p>\n"},{"tags":["java","rest","postman"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1693975271,"post_id":77049015,"comment_id":135828802,"body_markdown":"You’re looking for the [Accept](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept) header","body":"You’re looking for the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept\" rel=\"nofollow noreferrer\">Accept</a> header"},{"owner":{"account_id":9469211,"reputation":131,"user_id":7040519,"accept_rate":38,"display_name":"ASP"},"score":0,"creation_date":1693995627,"post_id":77049015,"comment_id":135832106,"body_markdown":"Yes, How can I add it from java application and not from postman request header","body":"Yes, How can I add it from java application and not from postman request header"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693997814,"post_id":77049015,"comment_id":135832517,"body_markdown":"The Accept header needs to appear in the request. If you want your application to _only_ produce JSON, remove “application/xml” from the Produces annotation.","body":"The Accept header needs to appear in the request. If you want your application to <i>only</i> produce JSON, remove “application/xml” from the Produces annotation."},{"owner":{"account_id":9469211,"reputation":131,"user_id":7040519,"accept_rate":38,"display_name":"ASP"},"score":0,"creation_date":1694001540,"post_id":77049015,"comment_id":135833177,"body_markdown":"Actually response is dynamic that&#39;s why I have added  @Produces({&quot;application/xml&quot;, &quot;application/json&quot;}) . If response is json then I want application/json in response header and wise a versa","body":"Actually response is dynamic that&#39;s why I have added  @Produces({&quot;application/xml&quot;, &quot;application/json&quot;}) . If response is json then I want application/json in response header and wise a versa"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694002331,"post_id":77049015,"comment_id":135833345,"body_markdown":"Does this answer your question? [@Produces annotation in JAX-RS](https://stackoverflow.com/questions/24257314/produces-annotation-in-jax-rs)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24257314/produces-annotation-in-jax-rs\">@Produces annotation in JAX-RS</a>"}],"owner":{"account_id":9469211,"reputation":131,"user_id":7040519,"accept_rate":38,"display_name":"ASP"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695654351,"creation_date":1693974382,"question_id":77049015,"body_markdown":"I am using postman to call REST API providing Content-Type as application/json and response is in JSON format only, but when I check for response header in postman it is showing as application/xml how can I change this according to my request Content-Type.\r\n\r\nRequest\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nResponse Header :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried proving `@Produces({&quot;application/xml&quot;, &quot;application/json&quot;})` annotation in my Java action class. Also tried to override header in `HttpServletResponse (response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);` but still it is not working. \r\n\r\n  [1]: https://i.stack.imgur.com/uBprW.png\r\n  [2]: https://i.stack.imgur.com/ZdUt1.png","title":"Unable to change postman Content-Type while running rest API","body":"<p>I am using postman to call REST API providing Content-Type as application/json and response is in JSON format only, but when I check for response header in postman it is showing as application/xml how can I change this according to my request Content-Type.</p>\n<p>Request</p>\n<p><a href=\"https://i.stack.imgur.com/uBprW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBprW.png\" alt=\"enter image description here\" /></a></p>\n<p>Response Header :</p>\n<p><a href=\"https://i.stack.imgur.com/ZdUt1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZdUt1.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried proving <code>@Produces({&quot;application/xml&quot;, &quot;application/json&quot;})</code> annotation in my Java action class. Also tried to override header in <code>HttpServletResponse (response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);</code> but still it is not working.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1464617549,"post_id":37527038,"comment_id":62546649,"body_markdown":"Not enough information : Java version, actual test, OSGI, etc. ? I don&#39;t have any problem mocking the afore mentioned code. To me this seems to be a classloading issue that may be caused by the environment setup.","body":"Not enough information : Java version, actual test, OSGI, etc. ? I don&#39;t have any problem mocking the afore mentioned code. To me this seems to be a classloading issue that may be caused by the environment setup."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1464618136,"post_id":37527038,"comment_id":62546964,"body_markdown":"However with a second look at the stacktrace this may looke like a problem a classloading issue caused by the Android environment setup. This could be something that bytebuddy can deal with however.","body":"However with a second look at the stacktrace this may looke like a problem a classloading issue caused by the Android environment setup. This could be something that bytebuddy can deal with however."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1464618459,"post_id":37527038,"comment_id":62547163,"body_markdown":"OK, @Brice, I added a specific commit for you to check out and specific test code.","body":"OK, @Brice, I added a specific commit for you to check out and specific test code."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1464618480,"post_id":37527038,"comment_id":62547183,"body_markdown":"I am not using Android for this project.","body":"I am not using Android for this project."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1464620862,"post_id":37527038,"comment_id":62548508,"body_markdown":"Oups context switch on some code about the Android comment. Anyway I agree with Rafael, you may want to upgrade Java. Also does the same problem appears o the command line (with Eclipse **not** started, I&#39;ve seen the Eclipse compiler interfere with maven compilation and in a bad way)","body":"Oups context switch on some code about the Android comment. Anyway I agree with Rafael, you may want to upgrade Java. Also does the same problem appears o the command line (with Eclipse <b>not</b> started, I&#39;ve seen the Eclipse compiler interfere with maven compilation and in a bad way)"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1464619627,"creation_date":1464619627,"answer_id":37528479,"question_id":37527038,"body_markdown":"Your Java runtime version is from March 2014; plenty of bugs have been fixed in the VM ever since and you should really upgrade. I am 99% sure that this problem is related to type annotations (`@NonNull`) which were introduced in this version for the first time in this exact release. I am sure that your problem will go away if you upgrade your VM.\r\n\r\nI can successfully execute your proposed test with a recent build of the HotSpot VM.","title":"Mockito object is not an instance of declaring class","body":"<p>Your Java runtime version is from March 2014; plenty of bugs have been fixed in the VM ever since and you should really upgrade. I am 99% sure that this problem is related to type annotations (<code>@NonNull</code>) which were introduced in this version for the first time in this exact release. I am sure that your problem will go away if you upgrade your VM.</p>\n\n<p>I can successfully execute your proposed test with a recent build of the HotSpot VM.</p>\n"},{"tags":[],"owner":{"account_id":7140279,"reputation":141,"user_id":5458232,"display_name":"dqromney"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533766550,"creation_date":1533766550,"answer_id":51756407,"question_id":37527038,"body_markdown":"Had the same issue with my project and used the Rincl project above to confirm I was having the same issue. Using JDK 1.8.0_11 on Mac the reported errors were the same as Garret. Updating to version JDK 1.8.0_181 I ran the Rincl test with NO errors. Apparently Mockito is using the latest of the JDK 1.8.0. ","title":"Mockito object is not an instance of declaring class","body":"<p>Had the same issue with my project and used the Rincl project above to confirm I was having the same issue. Using JDK 1.8.0_11 on Mac the reported errors were the same as Garret. Updating to version JDK 1.8.0_181 I ran the Rincl test with NO errors. Apparently Mockito is using the latest of the JDK 1.8.0. </p>\n"},{"tags":[],"owner":{"account_id":2819789,"reputation":455,"user_id":2423793,"accept_rate":40,"display_name":"Divas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566737645,"creation_date":1566737645,"answer_id":57646194,"question_id":37527038,"body_markdown":"If this is helpful to anyone, I got the same above issue and tried all other options like upgrading the JVM etc, but what solved my issue is :\r\nhttps://github.com/mockito/mockito/issues/1606\r\n\r\nBy and large reverting my mockito version to 2.23.+ solved the issue for me.","title":"Mockito object is not an instance of declaring class","body":"<p>If this is helpful to anyone, I got the same above issue and tried all other options like upgrading the JVM etc, but what solved my issue is :\n<a href=\"https://github.com/mockito/mockito/issues/1606\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/1606</a></p>\n\n<p>By and large reverting my mockito version to 2.23.+ solved the issue for me.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22358,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":37528479,"answer_count":3,"score":16,"last_activity_date":1695654257,"creation_date":1464615293,"question_id":37527038,"body_markdown":"I haven&#39;t touched Mockito for a while, and I have never used it extensively. But today in some new code I wanted to use best practices so I pulled out mockito-core 2.0.54-beta using the following Java version:\r\n\r\n    java version &quot;1.8.0&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0-b132)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)\r\n\r\nI needed an instance of this interface for testing:\r\n\r\nhttps://bitbucket.org/globalmentor/rincl/src/bf0e8875a1bae16247dd904e0b8bc067c9f8abc9/src/main/java/io/rincl/ResourceI18nConcern.java\r\n\r\n\tpublic interface ResourceI18nConcern extends Concern {\r\n\r\n\t\tpublic Locale getLocale(@Nonnull Locale.Category category);\r\n\r\n\t\tpublic void setLocale(@Nonnull Locale.Category category, @Nonnull Locale locale);\r\n\r\n\t\tpublic default void setLocale(@Nonnull Locale locale) {...}\r\n\r\n\t\tpublic Resources getResources(@Nonnull final Class&lt;?&gt; contextClass) throws ResourceConfigurationException;\r\n\r\n\t}\r\n\r\nThat interface extends this one (just an empty marker interface):\r\n\r\nhttps://bitbucket.org/globalmentor/csar/src/125b837e9936ddb8d6340fa99b6b5da872d1e6e5/src/main/java/io/csar/Concern.java\r\n\r\nIn my test I tried to do this simple thing:\r\n\r\n    final ResourceI18nConcern defaultConcern=mock(ResourceI18nConcern.class);\r\n\r\nI get the following stack trace:\r\n\r\n\torg.mockito.exceptions.base.MockitoException:\r\n\tMockito cannot mock this class: interface io.rincl.ResourceI18nConcern\r\n\r\n\tMockito can only mock visible &amp; non-final classes.\r\n\tIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\tUnderlying exception : java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\t    at io.rincl.RinclTest.defaultConcernRinclGetLocaleIsConcernLocale(RinclTest.java:91)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.lang.reflect.Method.invoke(Method.java:483)\r\n\t    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\t    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\t    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\t    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\t    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\t    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\t    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\t    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\t    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\t    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\t    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\t    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\t    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\t    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\t    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\t    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\t    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\t    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n\t    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n\t    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n\t    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\tCaused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.lang.reflect.Method.invoke(Method.java:483)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3875)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$Chained.resolve(TypeDescription.java:3501)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3834)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3477)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:4771)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:676)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:659)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType.accept(TypeDescription.java:4679)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:687)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:659)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:5021)\r\n\t    at net.bytebuddy.description.type.TypeDescription$Generic$LazyProjection.accept(TypeDescription.java:5794)\r\n\t    at net.bytebuddy.description.method.ParameterDescription$TypeSubstituting.getType(ParameterDescription.java:866)\r\n\t    at net.bytebuddy.description.method.ParameterList$AbstractBase.asTypeList(ParameterList.java:85)\r\n\t    at net.bytebuddy.description.method.MethodDescription$AbstractBase.asTypeToken(MethodDescription.java:635)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Harmonized.of(MethodGraph.java:862)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Store.registerTopLevel(MethodGraph.java:1059)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:569)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyze(MethodGraph.java:529)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:565)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.compile(MethodGraph.java:502)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$AbstractBase.compile(MethodGraph.java:423)\r\n\t    at net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:489)\r\n\t    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:153)\r\n\t    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2564)\r\n\t    at org.mockito.internal.creation.bytebuddy.MockBytecodeGenerator.generateMockClass(MockBytecodeGenerator.java:60)\r\n\t    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator$CachedBytecodeGenerator.generate(CachingMockBytecodeGenerator.java:72)\r\n\t    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(CachingMockBytecodeGenerator.java:64)\r\n\t    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator.get(CachingMockBytecodeGenerator.java:27)\r\n\t    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createProxyClass(ByteBuddyMockMaker.java:54)\r\n\t    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:27)\r\n\t    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:32)\r\n\t    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:54)\r\n\t    at org.mockito.Mockito.mock(Mockito.java:1443)\r\n\t    at org.mockito.Mockito.mock(Mockito.java:1356)\r\n\t    ... 26 more\r\n\r\nAm I doing something wrong? This seemed to me as if it should be straightforward.\r\n\r\nTo reproduce this problem, clone https://bitbucket.org/globalmentor/rincl.git and check out commit 2f88d7c5e5ac17b6d316ed54c12cb7b447b7d6ac. Then try to run the following test:\r\n\r\n\timport static org.junit.Assert.*;\r\n\timport static org.hamcrest.Matchers.*;\r\n\timport static org.mockito.Mockito.*;\r\n\timport java.util.Locale;\r\n\timport java.util.Locale.Category;\r\n\timport org.junit.*;\r\n\t\r\n\tpublic class RinclTest {\r\n\t\t@Test\r\n\t\tpublic void defaultConcernRinclGetLocaleIsConcernLocale() {\r\n\t\t\tfinal ResourceI18nConcern defaultConcern=mock(ResourceI18nConcern.class);\r\n\t\t}\r\n\t}","title":"Mockito object is not an instance of declaring class","body":"<p>I haven't touched Mockito for a while, and I have never used it extensively. But today in some new code I wanted to use best practices so I pulled out mockito-core 2.0.54-beta using the following Java version:</p>\n\n<pre><code>java version \"1.8.0\"\nJava(TM) SE Runtime Environment (build 1.8.0-b132)\nJava HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)\n</code></pre>\n\n<p>I needed an instance of this interface for testing:</p>\n\n<p><a href=\"https://bitbucket.org/globalmentor/rincl/src/bf0e8875a1bae16247dd904e0b8bc067c9f8abc9/src/main/java/io/rincl/ResourceI18nConcern.java\" rel=\"noreferrer\">https://bitbucket.org/globalmentor/rincl/src/bf0e8875a1bae16247dd904e0b8bc067c9f8abc9/src/main/java/io/rincl/ResourceI18nConcern.java</a></p>\n\n<pre><code>public interface ResourceI18nConcern extends Concern {\n\n    public Locale getLocale(@Nonnull Locale.Category category);\n\n    public void setLocale(@Nonnull Locale.Category category, @Nonnull Locale locale);\n\n    public default void setLocale(@Nonnull Locale locale) {...}\n\n    public Resources getResources(@Nonnull final Class&lt;?&gt; contextClass) throws ResourceConfigurationException;\n\n}\n</code></pre>\n\n<p>That interface extends this one (just an empty marker interface):</p>\n\n<p><a href=\"https://bitbucket.org/globalmentor/csar/src/125b837e9936ddb8d6340fa99b6b5da872d1e6e5/src/main/java/io/csar/Concern.java\" rel=\"noreferrer\">https://bitbucket.org/globalmentor/csar/src/125b837e9936ddb8d6340fa99b6b5da872d1e6e5/src/main/java/io/csar/Concern.java</a></p>\n\n<p>In my test I tried to do this simple thing:</p>\n\n<pre><code>final ResourceI18nConcern defaultConcern=mock(ResourceI18nConcern.class);\n</code></pre>\n\n<p>I get the following stack trace:</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException:\nMockito cannot mock this class: interface io.rincl.ResourceI18nConcern\n\nMockito can only mock visible &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\nUnderlying exception : java.lang.IllegalArgumentException: object is not an instance of declaring class\n    at io.rincl.RinclTest.defaultConcernRinclGetLocaleIsConcernLocale(RinclTest.java:91)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3875)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$Chained.resolve(TypeDescription.java:3501)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3834)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3477)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:4771)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:676)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:659)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType.accept(TypeDescription.java:4679)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:687)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:659)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:5021)\n    at net.bytebuddy.description.type.TypeDescription$Generic$LazyProjection.accept(TypeDescription.java:5794)\n    at net.bytebuddy.description.method.ParameterDescription$TypeSubstituting.getType(ParameterDescription.java:866)\n    at net.bytebuddy.description.method.ParameterList$AbstractBase.asTypeList(ParameterList.java:85)\n    at net.bytebuddy.description.method.MethodDescription$AbstractBase.asTypeToken(MethodDescription.java:635)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Harmonized.of(MethodGraph.java:862)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Store.registerTopLevel(MethodGraph.java:1059)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:569)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyze(MethodGraph.java:529)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:565)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.compile(MethodGraph.java:502)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$AbstractBase.compile(MethodGraph.java:423)\n    at net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:489)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:153)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2564)\n    at org.mockito.internal.creation.bytebuddy.MockBytecodeGenerator.generateMockClass(MockBytecodeGenerator.java:60)\n    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator$CachedBytecodeGenerator.generate(CachingMockBytecodeGenerator.java:72)\n    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(CachingMockBytecodeGenerator.java:64)\n    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator.get(CachingMockBytecodeGenerator.java:27)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createProxyClass(ByteBuddyMockMaker.java:54)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:27)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:32)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:54)\n    at org.mockito.Mockito.mock(Mockito.java:1443)\n    at org.mockito.Mockito.mock(Mockito.java:1356)\n    ... 26 more\n</code></pre>\n\n<p>Am I doing something wrong? This seemed to me as if it should be straightforward.</p>\n\n<p>To reproduce this problem, clone <a href=\"https://bitbucket.org/globalmentor/rincl.git\" rel=\"noreferrer\">https://bitbucket.org/globalmentor/rincl.git</a> and check out commit 2f88d7c5e5ac17b6d316ed54c12cb7b447b7d6ac. Then try to run the following test:</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport static org.hamcrest.Matchers.*;\nimport static org.mockito.Mockito.*;\nimport java.util.Locale;\nimport java.util.Locale.Category;\nimport org.junit.*;\n\npublic class RinclTest {\n    @Test\n    public void defaultConcernRinclGetLocaleIsConcernLocale() {\n        final ResourceI18nConcern defaultConcern=mock(ResourceI18nConcern.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","pdf","itext"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1481777089,"post_id":14213195,"comment_id":69514730,"body_markdown":"I am not sure if this should be closed or not. But such a question would always require an updated answer. Marking it `too broad` for such concern, unless updated.","body":"I am not sure if this should be closed or not. But such a question would always require an updated answer. Marking it <code>too broad</code> for such concern, unless updated."}],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1464184581,"creation_date":1357644037,"answer_id":14213851,"question_id":14213195,"body_markdown":"You need to pay attention to the license for the Java version of iText:\r\n\r\n - iText `2.1.7`: the latest **official** release by iText Group NV, under the `MPL` &amp; `GPL` license, with `com.lowagie` groupId;\r\n - iText `4.2.1`: the latest **unofficial** release by ymasory/InProTopia, under the `MPL` &amp; `GPL` license, with `com.lowagie` groupId;\r\n - iText `5.0.0` and higher: released by iText Group NV, under the `AGPL` license, with `com.itextpdf` groupId. One monolithic jar.\r\n - iText `7.0.0` and higher: released by iText Group NV, under the `AGPL` license, with `com.itextpdf` groupId. Several modular jars.\r\n\r\nHere you can find 2.1.7 and 4.2.x versions on Maven Repository:\r\n\r\nFind before 5.x versions:\r\nhttp://search.maven.org/#search|gav|1|g%3A%22com.lowagie%22%20AND%20a%3A%22itext%22\r\n\r\nFind 5.x versions:\r\nhttp://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.itextpdf%22%20AND%20a%3A%22itextpdf%22\r\n\r\n&lt;strike&gt;You may want to stick with the MPL &amp; GPL versions, unless you are available to follow the AGPL license specification... &lt;/strike&gt;\r\n\r\n\r\nEDIT: \r\nYou should pay attention on which version you are choosing;\r\n\r\nAccording to Bruno Lowagie comment, [versions 2.1.x are deprecated][1] and should not be used due to technical and legal reasons.\r\n\r\n\r\n\r\n  [1]: http://lowagie.com/itext2","title":"iText latest Maven dependency","body":"<p>You need to pay attention to the license for the Java version of iText:</p>\n\n<ul>\n<li>iText <code>2.1.7</code>: the latest <strong>official</strong> release by iText Group NV, under the <code>MPL</code> &amp; <code>GPL</code> license, with <code>com.lowagie</code> groupId;</li>\n<li>iText <code>4.2.1</code>: the latest <strong>unofficial</strong> release by ymasory/InProTopia, under the <code>MPL</code> &amp; <code>GPL</code> license, with <code>com.lowagie</code> groupId;</li>\n<li>iText <code>5.0.0</code> and higher: released by iText Group NV, under the <code>AGPL</code> license, with <code>com.itextpdf</code> groupId. One monolithic jar.</li>\n<li>iText <code>7.0.0</code> and higher: released by iText Group NV, under the <code>AGPL</code> license, with <code>com.itextpdf</code> groupId. Several modular jars.</li>\n</ul>\n\n<p>Here you can find 2.1.7 and 4.2.x versions on Maven Repository:</p>\n\n<p>Find before 5.x versions:\n<a href=\"http://search.maven.org/#search|gav|1|g%3A%22com.lowagie%22%20AND%20a%3A%22itext%22\" rel=\"noreferrer\">http://search.maven.org/#search|gav|1|g%3A%22com.lowagie%22%20AND%20a%3A%22itext%22</a></p>\n\n<p>Find 5.x versions:\n<a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.itextpdf%22%20AND%20a%3A%22itextpdf%22\" rel=\"noreferrer\">http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.itextpdf%22%20AND%20a%3A%22itextpdf%22</a></p>\n\n<p><strike>You may want to stick with the MPL &amp; GPL versions, unless you are available to follow the AGPL license specification... </strike></p>\n\n<p>EDIT: \nYou should pay attention on which version you are choosing;</p>\n\n<p>According to Bruno Lowagie comment, <a href=\"http://lowagie.com/itext2\" rel=\"noreferrer\">versions 2.1.x are deprecated</a> and should not be used due to technical and legal reasons.</p>\n"},{"tags":[],"owner":{"account_id":517043,"reputation":171,"user_id":1738380,"display_name":"faskunji"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1357644211,"creation_date":1357644211,"answer_id":14213906,"question_id":14213195,"body_markdown":"looks like 5.3.5 is not in repository yet so 5.3.4 works for me:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"iText latest Maven dependency","body":"<p>looks like 5.3.5 is not in repository yet so 5.3.4 works for me:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064637,"reputation":7437,"user_id":1065525,"display_name":"Alexis Pigeon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531214581,"creation_date":1357645604,"answer_id":14214263,"question_id":14213195,"body_markdown":"As with many (any?) open-source library, their website contains a changelog. iText&#39;s one can be found [here][1].\r\n\r\nAnd as of today, the latest version is &lt;s&gt;[5.5.9][2]&lt;/s&gt; [7.0.0][3].\r\n\r\nThe dependency for version 5.5.9 would be \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://itextpdf.com/posts/changelog\r\n  [2]: https://itextpdf.com/posts/changelog/559\r\n  [3]: https://developers.itextpdf.com/itext-7-java","title":"iText latest Maven dependency","body":"<p>As with many (any?) open-source library, their website contains a changelog. iText's one can be found <a href=\"https://itextpdf.com/posts/changelog\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>And as of today, the latest version is <s><a href=\"https://itextpdf.com/posts/changelog/559\" rel=\"nofollow noreferrer\">5.5.9</a></s> <a href=\"https://developers.itextpdf.com/itext-7-java\" rel=\"nofollow noreferrer\">7.0.0</a>.</p>\n\n<p>The dependency for version 5.5.9 would be </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.5.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8509127,"reputation":3,"user_id":6379659,"display_name":"prasad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464179547,"creation_date":1464179547,"answer_id":37437272,"question_id":14213195,"body_markdown":"    This was the latest release as of today\r\n\r\n    &lt;!-- http://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"iText latest Maven dependency","body":"<pre><code>This was the latest release as of today\n\n&lt;!-- http://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n&lt;version&gt;5.5.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1531214611,"creation_date":1464186537,"answer_id":37440168,"question_id":14213195,"body_markdown":"iText 7 was released in May 2016. iText 7 is no longer one monolithic jar file, like iText 5 used to be. You use only those modules you need.\r\n\r\nPut this in your POM file:\r\n\r\n    &lt;dependencies&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;barcodes&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;!-- barcodes depends on kernel --&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;font-asian&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;forms&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;!-- forms depends on kernel and layout --&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hyph&lt;/artifactId&gt;\r\n          &lt;version&gt;7.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;!-- kernel depends on io --&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;!-- layout depends on kernel --&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;!-- pdfa depends on kernel --&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sign&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;!-- sign depends on kernel, layout and forms --&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n\r\nThis, and more information, can be found on https://developers.itextpdf.com/itext-7-java","title":"iText latest Maven dependency","body":"<p>iText 7 was released in May 2016. iText 7 is no longer one monolithic jar file, like iText 5 used to be. You use only those modules you need.</p>\n\n<p>Put this in your POM file:</p>\n\n<pre><code>&lt;dependencies&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;barcodes&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;!-- barcodes depends on kernel --&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;font-asian&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;forms&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;!-- forms depends on kernel and layout --&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;hyph&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;io&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;!-- kernel depends on io --&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;layout&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;!-- layout depends on kernel --&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;!-- pdfa depends on kernel --&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;sign&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;!-- sign depends on kernel, layout and forms --&gt;\n  &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>This, and more information, can be found on <a href=\"https://developers.itextpdf.com/itext-7-java\" rel=\"nofollow noreferrer\">https://developers.itextpdf.com/itext-7-java</a></p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695654050,"creation_date":1695653085,"answer_id":77173658,"question_id":14213195,"body_markdown":"Last dependency is (for pdf form java code):\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itext-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${itextpdf.version}&lt;/version&gt;  // at post time 8.0.1\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\nSee [itext7 repo pom](https://github.com/itext/itext7/blob/develop/itext7core/pom.xml#L50) and [Maven Central](https://central.sonatype.com/artifact/com.itextpdf/itext-core/versions)\r\n","title":"iText latest Maven dependency","body":"<p>Last dependency is (for pdf form java code):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itext-core&lt;/artifactId&gt;\n            &lt;version&gt;${itextpdf.version}&lt;/version&gt;  // at post time 8.0.1\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>See <a href=\"https://github.com/itext/itext7/blob/develop/itext7core/pom.xml#L50\" rel=\"nofollow noreferrer\">itext7 repo pom</a> and <a href=\"https://central.sonatype.com/artifact/com.itextpdf/itext-core/versions\" rel=\"nofollow noreferrer\">Maven Central</a></p>\n"}],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38825,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":14213851,"answer_count":6,"score":14,"last_activity_date":1695654050,"creation_date":1357641841,"question_id":14213195,"body_markdown":"What is the latest version of iText? And what is the maven dependency for that?","title":"iText latest Maven dependency","body":"<p>What is the latest version of iText? And what is the maven dependency for that?</p>\n"},{"tags":["java","subset","backtracking"],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695653510,"creation_date":1695653510,"answer_id":77173728,"question_id":77173613,"body_markdown":"The main reason for the behaviour discrepancy lies in how Java handles objects and references. When you pass `t` to the recursive function and modify it with `t.add(s[i]);`, you are altering the same `ArrayList` object that other recursive calls use. Java passes object references by value, leading to undesired behaviour and incorrect results, as modifications in one call affect others. In your initial non-working attempt:\r\n```\r\nfindSubsets(s,t,i+1,result);  // Recursive call with original t\r\nt.add(s[i]);  // Modifying t\r\nfindSubsets(s,t,i+1,result);  // Recursive call with modified t\r\n```\r\n\r\nIn this code snippet, when you invoke the `t.add(s[i]);` method, you&#39;re actually altering the same `ArrayList` object called &#39;t&#39;. What happens next is that any subsequent recursive calls and any function calls up the call stack that have a reference to this `ArrayList` object will also perceive this modification. As a result this leads to the generation of incorrect subsets.\r\n\r\nIn your successful second attempt:\r\n```\r\nfindSubsets(s,t,i+1,result);  // Recursive call with the original t\r\nArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t);  // Creating a new ArrayList object with the same content as t\r\ntmp1.add(s[i]);  // Modifying tmp1\r\nfindSubsets(s,tmp1,i+1,result);  // Recursive call with tmp1\r\n```","title":"finding subsets of a Array in java using backtracking/recursion","body":"<p>The main reason for the behaviour discrepancy lies in how Java handles objects and references. When you pass <code>t</code> to the recursive function and modify it with <code>t.add(s[i]);</code>, you are altering the same <code>ArrayList</code> object that other recursive calls use. Java passes object references by value, leading to undesired behaviour and incorrect results, as modifications in one call affect others. In your initial non-working attempt:</p>\n<pre><code>findSubsets(s,t,i+1,result);  // Recursive call with original t\nt.add(s[i]);  // Modifying t\nfindSubsets(s,t,i+1,result);  // Recursive call with modified t\n</code></pre>\n<p>In this code snippet, when you invoke the <code>t.add(s[i]);</code> method, you're actually altering the same <code>ArrayList</code> object called 't'. What happens next is that any subsequent recursive calls and any function calls up the call stack that have a reference to this <code>ArrayList</code> object will also perceive this modification. As a result this leads to the generation of incorrect subsets.</p>\n<p>In your successful second attempt:</p>\n<pre><code>findSubsets(s,t,i+1,result);  // Recursive call with the original t\nArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t);  // Creating a new ArrayList object with the same content as t\ntmp1.add(s[i]);  // Modifying tmp1\nfindSubsets(s,tmp1,i+1,result);  // Recursive call with tmp1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18304023,"reputation":2622,"user_id":13328195,"display_name":"Roshin Raphel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695653626,"creation_date":1695653626,"answer_id":77173749,"question_id":77173613,"body_markdown":"I hope you tried with:\r\n```\r\n        findSubsets(s,t,i+1,result);\r\n        ArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t); \r\n        t.add(s[i]); \r\n        findSubsets(s,tmp1,i+1,result);\r\n```\r\nand not :\r\n````\r\n        findSubsets(s,t,i+1,result);\r\n        t.add(s[i]); \r\n        findSubsets(s,tmp1,i+1,result);\r\n````\r\nIn this case, t is non-zero, but when you call the function again recursively, `findSubsets(s,tmp1,i+1,result)`, for the prototype, `findSubsets(char[] s,ArrayList&lt;Character&gt; t,int i,ArrayList&lt;ArrayList&lt;Character&gt;&gt; result)`, `t` becomes null again, thus the condition `if(t.size()&gt;0)` fails. So `result` is not updated.","title":"finding subsets of a Array in java using backtracking/recursion","body":"<p>I hope you tried with:</p>\n<pre><code>        findSubsets(s,t,i+1,result);\n        ArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t); \n        t.add(s[i]); \n        findSubsets(s,tmp1,i+1,result);\n</code></pre>\n<p>and not :</p>\n<pre><code>        findSubsets(s,t,i+1,result);\n        t.add(s[i]); \n        findSubsets(s,tmp1,i+1,result);\n</code></pre>\n<p>In this case, t is non-zero, but when you call the function again recursively, <code>findSubsets(s,tmp1,i+1,result)</code>, for the prototype, <code>findSubsets(char[] s,ArrayList&lt;Character&gt; t,int i,ArrayList&lt;ArrayList&lt;Character&gt;&gt; result)</code>, <code>t</code> becomes null again, thus the condition <code>if(t.size()&gt;0)</code> fails. So <code>result</code> is not updated.</p>\n"}],"owner":{"account_id":3353784,"reputation":25,"user_id":2817235,"display_name":"user2817235"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77173728,"answer_count":2,"score":0,"last_activity_date":1695653626,"creation_date":1695652712,"question_id":77173613,"body_markdown":"i am trying to find all subsets of a ArrayList&lt;Character&gt; using backtracking/recursion and below are my main meathod and method to findSubsets\r\n\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tchar[] s = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;};\r\n\t\tArrayList&lt;ArrayList&lt;Character&gt;&gt; result= new ArrayList&lt;ArrayList&lt;Character&gt;&gt;();\r\n\t\tArrayList&lt;Character&gt; t= new ArrayList&lt;Character&gt;();\r\n\t\tfindSubsets(s,t,0,result);\r\n\t}\r\n\tstatic void findSubsets(char[] s,ArrayList&lt;Character&gt; t,int i,ArrayList&lt;ArrayList&lt;Character&gt;&gt; result) {\r\n\t\tif(i &gt;= s.length) {\r\n\t\t\tif(t.size()&gt;0) {\r\n\t\t\t\tresult.add(t);\r\n\t\t\t\tprintArrayListOfArrayList(result);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfindSubsets(s,t,i+1,result);\r\n\t\tArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t);  \r\n\t\ttmp1.add(s[i]); \r\n\t\tfindSubsets(s,tmp1,i+1,result);\r\n\t}\r\n```\r\n\r\n\r\ni tried earlier with\r\n\r\n```\r\n\t\tfindSubsets(s,t,i+1,result);\r\n\t\tt.add(s[i]); \r\n\t\tfindSubsets(s,tmp1,i+1,result);\r\n```\r\n\r\nit didnt worked, and below code works perfectly\r\n```\r\n\t\tfindSubsets(s,t,i+1,result);\r\n\t\tArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t);  \r\n\t\ttmp1.add(s[i]); \r\n\t\tfindSubsets(s,tmp1,i+1,result);\r\n```\r\n\r\n\r\nwhy t.add(s[i]) and then calling recursion function wont find subsets?\r\nwhere as new List with same data added tmp1.add(s[i]) will find subsets?","title":"finding subsets of a Array in java using backtracking/recursion","body":"<p>i am trying to find all subsets of a ArrayList using backtracking/recursion and below are my main meathod and method to findSubsets</p>\n<pre><code>    public static void main(String[] args) {\n        char[] s = {'a','b','c','d','e'};\n        ArrayList&lt;ArrayList&lt;Character&gt;&gt; result= new ArrayList&lt;ArrayList&lt;Character&gt;&gt;();\n        ArrayList&lt;Character&gt; t= new ArrayList&lt;Character&gt;();\n        findSubsets(s,t,0,result);\n    }\n    static void findSubsets(char[] s,ArrayList&lt;Character&gt; t,int i,ArrayList&lt;ArrayList&lt;Character&gt;&gt; result) {\n        if(i &gt;= s.length) {\n            if(t.size()&gt;0) {\n                result.add(t);\n                printArrayListOfArrayList(result);\n            }\n            return;\n        }\n        findSubsets(s,t,i+1,result);\n        ArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t);  \n        tmp1.add(s[i]); \n        findSubsets(s,tmp1,i+1,result);\n    }\n</code></pre>\n<p>i tried earlier with</p>\n<pre><code>        findSubsets(s,t,i+1,result);\n        t.add(s[i]); \n        findSubsets(s,tmp1,i+1,result);\n</code></pre>\n<p>it didnt worked, and below code works perfectly</p>\n<pre><code>        findSubsets(s,t,i+1,result);\n        ArrayList&lt;Character&gt; tmp1 = new ArrayList&lt;&gt;(t);  \n        tmp1.add(s[i]); \n        findSubsets(s,tmp1,i+1,result);\n</code></pre>\n<p>why t.add(s[i]) and then calling recursion function wont find subsets?\nwhere as new List with same data added tmp1.add(s[i]) will find subsets?</p>\n"},{"tags":["java","events","messaging","nats.io"],"answers":[{"tags":[],"owner":{"account_id":17954348,"reputation":36,"user_id":13046799,"display_name":"Cory Hagerman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695653220,"creation_date":1583946944,"answer_id":60641313,"question_id":60617016,"body_markdown":"You should change your &quot;replyer&quot; code to publish to the replyTo subject from the original message. \r\n\r\n```Java\r\n@PostConstruct\r\nprivate void init() {\r\n    Dispatcher dispatcher = natsConnector.getConnection().createDispatcher(message -&gt; {});\r\n\r\n    Subscription assetsInfo = dispatcher.subscribe(&quot;assets-info&quot;, message -&gt; {\r\n        JSONObject requestMessage = new JSONObject(\r\n            new String(message.getData(), StandardCharsets.UTF_8)\r\n        );\r\n\r\n        if (requestMessage.getString(&quot;requestType&quot;).equals(&quot;stock-status&quot;)) {\r\n            if (requestMessage.getString(&quot;of&quot;).equals(&quot;all&quot;)) {\r\n                JSONObject response = assetQuery.retrieveYesterdayStockStatus();\r\n                LOG.info(&quot;response ready&quot;);\r\n                //See Change Here\r\n                natsOperation.publish(message.getReplyTo(), response);\r\n                LOG.info(&quot;message sent&quot;);\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThe request reply mechanism is looking for a single response on the generated replyTo subject. \r\n\r\nSee https://docs.nats.io/nats-concepts/reqreply","title":"Nats request/reply in Java","body":"<p>You should change your &quot;replyer&quot; code to publish to the replyTo subject from the original message.</p>\n<pre><code>@PostConstruct\nprivate void init() {\n    Dispatcher dispatcher = natsConnector.getConnection().createDispatcher(message -&gt; {});\n\n    Subscription assetsInfo = dispatcher.subscribe(&quot;assets-info&quot;, message -&gt; {\n        JSONObject requestMessage = new JSONObject(\n            new String(message.getData(), StandardCharsets.UTF_8)\n        );\n\n        if (requestMessage.getString(&quot;requestType&quot;).equals(&quot;stock-status&quot;)) {\n            if (requestMessage.getString(&quot;of&quot;).equals(&quot;all&quot;)) {\n                JSONObject response = assetQuery.retrieveYesterdayStockStatus();\n                LOG.info(&quot;response ready&quot;);\n                //See Change Here\n                natsOperation.publish(message.getReplyTo(), response);\n                LOG.info(&quot;message sent&quot;);\n            }\n        }\n    });\n}\n</code></pre>\n<p>The request reply mechanism is looking for a single response on the generated replyTo subject.</p>\n<p>See <a href=\"https://docs.nats.io/nats-concepts/reqreply\" rel=\"nofollow noreferrer\">https://docs.nats.io/nats-concepts/reqreply</a></p>\n"}],"owner":{"account_id":16609578,"reputation":43,"user_id":12003012,"display_name":"Gabriele Biagini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60641313,"answer_count":1,"score":0,"last_activity_date":1695653220,"creation_date":1583840899,"question_id":60617016,"body_markdown":"I&#39;ve previous Kafka knowledge and I&#39;ve been playing around with Nats.io which seems a really solid choice for messaging.\r\n\r\nIn particular, I&#39;m interested in the well-documented Request/Reply mechanism but I&#39;ve had difficulties correctly implementing it in Java with the Jnats driver.\r\n\r\nThis is my Connector:\r\n\r\n``` Java\r\n // Single server nats connection\r\n    @PostConstruct\r\n    public void connect() throws ExternalServiceUnavailableException {\r\n\r\n        Options options = new Options.Builder()\r\n                .server(connectionString)\r\n                .maxReconnects(20)\r\n                .reconnectWait(Duration.ofSeconds(5))\r\n                .connectionTimeout(Duration.ofSeconds(5))\r\n                .connectionListener((conn, type) -&gt; {\r\n                    if (type == ConnectionListener.Events.CONNECTED) {\r\n                        LOG.info(&quot;Connected to Nats Server&quot;);\r\n                    } else if (type == ConnectionListener.Events.RECONNECTED) {\r\n                        LOG.info(&quot;Reconnected to Nats Server&quot;);\r\n                    } else if (type == ConnectionListener.Events.DISCONNECTED) {\r\n                        LOG.error(&quot;Disconnected to Nats Server, reconnect attempt in seconds&quot;);\r\n                    } else if (type == ConnectionListener.Events.CLOSED) {\r\n                        LOG.info(&quot;Closed connection with Nats Server&quot;);\r\n                    }\r\n                })\r\n                .build();\r\n\r\n\r\n        try {\r\n            connection = Nats.connect(options);\r\n\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Unable to connect to Nats Server&quot;);\r\n            throw new ExternalServiceUnavailableException(ExternalServiceUnavailableException.Service.NATS);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nThis is the request method (with very high await time for testing purposes):\r\n```Java\r\n public Optional&lt;String&gt; asyncRequest(String topic, String message) throws ExternalServiceUnavailableException {\r\n\r\n        Future&lt;Message&gt; reply = natsConnector.getConnection().request(topic, message.getBytes());\r\n        try {\r\n\r\n            Message msg = reply.get(10L, TimeUnit.SECONDS);\r\n\r\n            LOG.info(new String(msg.getData()));\r\n\r\n            return Optional.of(new String(msg.getData(), StandardCharsets.UTF_8));\r\n\r\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n            e.printStackTrace();\r\n            LOG.error(&quot;Unable to retrieve response for the sent request: &quot; + message);\r\n            throw new ExternalServiceUnavailableException(ExternalServiceUnavailableException.Service.NATS);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAnd this is the Response Handler with the reply mechanism:\r\n```Java\r\n @PostConstruct\r\n    private void init() {\r\n        Dispatcher dispatcher = natsConnector.getConnection().createDispatcher(message -&gt; {\r\n        });\r\n\r\n        Subscription assetsInfo = dispatcher.subscribe(&quot;assets-info&quot;, message -&gt; {\r\n        JSONObject requestMessage = new JSONObject(new String(message.getData(), StandardCharsets.UTF_8));\r\n\r\n            if (requestMessage.getString(&quot;requestType&quot;).equals(&quot;stock-status&quot;)) {\r\n\r\n                if (requestMessage.getString(&quot;of&quot;).equals(&quot;all&quot;)) {\r\n\r\n                    JSONObject response = assetQuery.retrieveYesterdayStockStatus();\r\n                    LOG.info(&quot;response ready&quot;);\r\n                    natsOperation.publishEvent(&quot;assets-info&quot;, response);\r\n                    LOG.info(&quot;message sent&quot;);\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nMy two independent Services communicate via a dockerized Nats.io, and I can correctly check via the Nats Go client that messages have been sent by both Services on the same topic.\r\n\r\nUnfortunately, the &quot;Requestor&quot; when invokes the `asyncRequest` function doesn&#39;t quite handle the reply even with very high await in the `reply.get(...)`.\r\n\r\nWhen I try to evaluate the `reply` Object in debug mode, it does not have any data in it and shows a `TimeoutException`.\r\n\r\nAt `msg.getData()` the program crashes.\r\n\r\nDo you guys have any hints for me? \r\nThanks!  ","title":"Nats request/reply in Java","body":"<p>I've previous Kafka knowledge and I've been playing around with Nats.io which seems a really solid choice for messaging.</p>\n\n<p>In particular, I'm interested in the well-documented Request/Reply mechanism but I've had difficulties correctly implementing it in Java with the Jnats driver.</p>\n\n<p>This is my Connector:</p>\n\n<pre><code> // Single server nats connection\n    @PostConstruct\n    public void connect() throws ExternalServiceUnavailableException {\n\n        Options options = new Options.Builder()\n                .server(connectionString)\n                .maxReconnects(20)\n                .reconnectWait(Duration.ofSeconds(5))\n                .connectionTimeout(Duration.ofSeconds(5))\n                .connectionListener((conn, type) -&gt; {\n                    if (type == ConnectionListener.Events.CONNECTED) {\n                        LOG.info(\"Connected to Nats Server\");\n                    } else if (type == ConnectionListener.Events.RECONNECTED) {\n                        LOG.info(\"Reconnected to Nats Server\");\n                    } else if (type == ConnectionListener.Events.DISCONNECTED) {\n                        LOG.error(\"Disconnected to Nats Server, reconnect attempt in seconds\");\n                    } else if (type == ConnectionListener.Events.CLOSED) {\n                        LOG.info(\"Closed connection with Nats Server\");\n                    }\n                })\n                .build();\n\n\n        try {\n            connection = Nats.connect(options);\n\n        } catch (Exception e) {\n            LOG.error(\"Unable to connect to Nats Server\");\n            throw new ExternalServiceUnavailableException(ExternalServiceUnavailableException.Service.NATS);\n        }\n\n    }\n</code></pre>\n\n<p>This is the request method (with very high await time for testing purposes):</p>\n\n<pre><code> public Optional&lt;String&gt; asyncRequest(String topic, String message) throws ExternalServiceUnavailableException {\n\n        Future&lt;Message&gt; reply = natsConnector.getConnection().request(topic, message.getBytes());\n        try {\n\n            Message msg = reply.get(10L, TimeUnit.SECONDS);\n\n            LOG.info(new String(msg.getData()));\n\n            return Optional.of(new String(msg.getData(), StandardCharsets.UTF_8));\n\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\n            e.printStackTrace();\n            LOG.error(\"Unable to retrieve response for the sent request: \" + message);\n            throw new ExternalServiceUnavailableException(ExternalServiceUnavailableException.Service.NATS);\n        }\n\n    }\n</code></pre>\n\n<p>And this is the Response Handler with the reply mechanism:</p>\n\n<pre><code> @PostConstruct\n    private void init() {\n        Dispatcher dispatcher = natsConnector.getConnection().createDispatcher(message -&gt; {\n        });\n\n        Subscription assetsInfo = dispatcher.subscribe(\"assets-info\", message -&gt; {\n        JSONObject requestMessage = new JSONObject(new String(message.getData(), StandardCharsets.UTF_8));\n\n            if (requestMessage.getString(\"requestType\").equals(\"stock-status\")) {\n\n                if (requestMessage.getString(\"of\").equals(\"all\")) {\n\n                    JSONObject response = assetQuery.retrieveYesterdayStockStatus();\n                    LOG.info(\"response ready\");\n                    natsOperation.publishEvent(\"assets-info\", response);\n                    LOG.info(\"message sent\");\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>My two independent Services communicate via a dockerized Nats.io, and I can correctly check via the Nats Go client that messages have been sent by both Services on the same topic.</p>\n\n<p>Unfortunately, the \"Requestor\" when invokes the <code>asyncRequest</code> function doesn't quite handle the reply even with very high await in the <code>reply.get(...)</code>.</p>\n\n<p>When I try to evaluate the <code>reply</code> Object in debug mode, it does not have any data in it and shows a <code>TimeoutException</code>.</p>\n\n<p>At <code>msg.getData()</code> the program crashes.</p>\n\n<p>Do you guys have any hints for me? \nThanks!  </p>\n"},{"tags":["java","split","filereader"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378278648,"creation_date":1378278345,"answer_id":18607445,"question_id":18607418,"body_markdown":"\r\n     String[] splited = read.split(&quot;\\\\s+&quot;);\r\n      for (int i= 0; i&lt;splited.length; i++){\r\n      System.out.println(splited[i]);\r\n      }\r\n\r\nYou should loop the result after you split the string.","title":"How to split the strings in a file and read them?","body":"<pre><code> String[] splited = read.split(\"\\\\s+\");\n  for (int i= 0; i&lt;splited.length; i++){\n  System.out.println(splited[i]);\n  }\n</code></pre>\n\n<p>You should loop the result after you split the string.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1442093647,"creation_date":1378278695,"answer_id":18607545,"question_id":18607418,"body_markdown":"You&#39;re part way there which is great.\r\n\r\nWhen reading a file, the `Reader` will return `null` when it reaches the end of the stream, meaning nothing else is available to be read.  Your current approach means that you want to read at least 100 lines, but no more...this will become problematic in the future if you file size increases...it&#39;s also somewhat wasteful\r\n\r\nInstead, we should use the fact a `null` value indicates the end of the file..\r\n\r\nWhen you split a line, it will contain a number of elements.  You are using the `linenum` variable to print these.  The problem is, you&#39;ve already read and split the line, the `linenum` is irrelevant for this task, as it represents the number of lines you&#39;ve already read, not the part of the string you&#39;ve just split.\r\n\r\nInstead, you need to use a inner loop to display the individual split elements for each line...\r\n\r\nFor example...\r\n\r\n    BufferedReader in = null;\r\n    try {\r\n        in = new BufferedReader(new FileReader(&quot;fileeditor.txt&quot;));\r\n        String read = null;\r\n        while ((read = in.readLine()) != null) {\r\n            String[] splited = read.split(&quot;\\\\s+&quot;);\r\n            for (String part : splited) {\r\n                System.out.println(part);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;There was a problem: &quot; + e);\r\n        e.printStackTrace();\r\n    } finally {\r\n        try {\r\n            in.close();\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\nAlso, don&#39;t forget, if you open it, you musty close it ;)\r\n\r\n\r\nYou might want to take a little more time going through [Basic I/O](http://docs.oracle.com/javase/tutorial/essential/io/) as well ;)","title":"How to split the strings in a file and read them?","body":"<p>You're part way there which is great.</p>\n\n<p>When reading a file, the <code>Reader</code> will return <code>null</code> when it reaches the end of the stream, meaning nothing else is available to be read.  Your current approach means that you want to read at least 100 lines, but no more...this will become problematic in the future if you file size increases...it's also somewhat wasteful</p>\n\n<p>Instead, we should use the fact a <code>null</code> value indicates the end of the file..</p>\n\n<p>When you split a line, it will contain a number of elements.  You are using the <code>linenum</code> variable to print these.  The problem is, you've already read and split the line, the <code>linenum</code> is irrelevant for this task, as it represents the number of lines you've already read, not the part of the string you've just split.</p>\n\n<p>Instead, you need to use a inner loop to display the individual split elements for each line...</p>\n\n<p>For example...</p>\n\n<pre><code>BufferedReader in = null;\ntry {\n    in = new BufferedReader(new FileReader(\"fileeditor.txt\"));\n    String read = null;\n    while ((read = in.readLine()) != null) {\n        String[] splited = read.split(\"\\\\s+\");\n        for (String part : splited) {\n            System.out.println(part);\n        }\n    }\n} catch (IOException e) {\n    System.out.println(\"There was a problem: \" + e);\n    e.printStackTrace();\n} finally {\n    try {\n        in.close();\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n\n<p>Also, don't forget, if you open it, you musty close it ;)</p>\n\n<p>You might want to take a little more time going through <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"noreferrer\">Basic I/O</a> as well ;)</p>\n"},{"tags":[],"owner":{"account_id":398094,"reputation":636,"user_id":762588,"display_name":"Viktor Seifert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378280665,"creation_date":1378280665,"answer_id":18608136,"question_id":18607418,"body_markdown":"You can use a [`StreamTokenizer`][1].  It will split a stream into tokens according to its settings.  From your question I think that you want to treat line endings just as token separators.  The code would look like this:\r\n\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.FileReader;\r\n\timport java.io.IOException;\r\n\timport java.io.StreamTokenizer;\r\n\r\n\tpublic class ReaderSample {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tBufferedReader in = null;\r\n\t\t\ttry {\r\n\t\t\t\tin = new BufferedReader(new FileReader(&quot;fileeditor.txt&quot;));\r\n\t\t\t\tStreamTokenizer st = new StreamTokenizer(in);\r\n\t\t\t\tst.eolIsSignificant(false);\r\n\t\t\t\t// remove comment handling\r\n\t\t\t\tst.slashSlashComments(false);\r\n\t\t\t\tst.slashStarComments(false);\r\n\t\t\t\t\r\n\t\t\t\twhile(st.nextToken() != StreamTokenizer.TT_EOF) {\r\n\t\t\t\t\tif (st.ttype == StreamTokenizer.TT_NUMBER) {\r\n\t\t\t\t\t\t// the default is to treat numbers differently than words\r\n\t\t\t\t\t\t// also the numbers are doubles\r\n\t\t\t\t\t\tSystem.out.println((int)st.nval);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(st.sval);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(IOException ex) {\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\t\t\t\tif (in != null) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tin.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (IOException ex) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nDepending on what you need to do woth the input you may need to set different options, the documentation should help you here.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html","title":"How to split the strings in a file and read them?","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html\" rel=\"nofollow\"><code>StreamTokenizer</code></a>.  It will split a stream into tokens according to its settings.  From your question I think that you want to treat line endings just as token separators.  The code would look like this:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.StreamTokenizer;\n\npublic class ReaderSample {\n\n    public static void main(String[] args) {\n        BufferedReader in = null;\n        try {\n            in = new BufferedReader(new FileReader(\"fileeditor.txt\"));\n            StreamTokenizer st = new StreamTokenizer(in);\n            st.eolIsSignificant(false);\n            // remove comment handling\n            st.slashSlashComments(false);\n            st.slashStarComments(false);\n\n            while(st.nextToken() != StreamTokenizer.TT_EOF) {\n                if (st.ttype == StreamTokenizer.TT_NUMBER) {\n                    // the default is to treat numbers differently than words\n                    // also the numbers are doubles\n                    System.out.println((int)st.nval);\n                }\n                else {\n                    System.out.println(st.sval);\n                }\n            }\n        }\n        catch(IOException ex) {\n            System.err.println(ex.getMessage());\n        }\n        finally {\n            if (in != null) {\n                try {\n                    in.close();\n                }\n                catch (IOException ex) {\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Depending on what you need to do woth the input you may need to set different options, the documentation should help you here.</p>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695652889,"creation_date":1695652889,"answer_id":77173628,"question_id":18607418,"body_markdown":"I have restructured the [answer code provided by @MadProgrammer][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class Post18607545 {\r\n        public static void splitAndReadFile(String fileName) throws IOException {\r\n            BufferedReader in = null;\r\n            try {\r\n                in = new BufferedReader(new FileReader(fileName));\r\n                String read = null;\r\n                while ((read = in.readLine()) != null) {\r\n                    String[] splited = read.split(&quot;\\\\s+&quot;);\r\n                    for (String part : splited) {\r\n                        System.out.println(part);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;There was a problem: &quot; + e);\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    in.close();\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/18607545\r\n\r\n","title":"How to split the strings in a file and read them?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/18607545\">answer code provided by @MadProgrammer</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Post18607545 {\n    public static void splitAndReadFile(String fileName) throws IOException {\n        BufferedReader in = null;\n        try {\n            in = new BufferedReader(new FileReader(fileName));\n            String read = null;\n            while ((read = in.readLine()) != null) {\n                String[] splited = read.split(&quot;\\\\s+&quot;);\n                for (String part : splited) {\n                    System.out.println(part);\n                }\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;There was a problem: &quot; + e);\n            e.printStackTrace();\n        } finally {\n            try {\n                in.close();\n            } catch (Exception e) {\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3259849,"reputation":464,"user_id":2745609,"accept_rate":57,"display_name":"Solijoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51768,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18607545,"answer_count":4,"score":9,"last_activity_date":1695652889,"creation_date":1378278259,"question_id":18607418,"body_markdown":"I have a file with information in it. It looks like:\r\n \r\n        Michael 19 180 Miami\r\n        George 25 176 Washington\r\n        William 43 188 Seattle\r\n\r\nI want to split the lines and strings and read them. I want it to look like:\r\n\r\n        Michael\r\n        19\r\n        180\r\n        Miami\r\n        George\r\n        ...\r\n\r\ni used a code like this:\r\n\r\n        BufferedReader in = null;\r\n\t    String read;\r\n\t    int linenum;\r\n        try{\r\n\t\t    in = new BufferedReader(new FileReader(&quot;fileeditor.txt&quot;)); \r\n\t\t}\r\n\t\tcatch (FileNotFoundException e) {System.out.println(&quot;There was a problem: &quot; + e);}\r\n        try{\r\n\t\t    for (linenum = 0; linenum&lt;100; linenum++){\r\n\t\t        read = in.readLine();\r\n\t\t        if(read == null){} \r\n\t\t        else{\r\n\t\t            String[] splited = read.split(&quot;\\\\s+&quot;);\r\n\t\t            System.out.println(splited[linenum]);\r\n\t\t       }\r\n\t       }\r\n\t    }\r\n\t\tcatch (IOException e) {System.out.println(&quot;There was a problem: &quot; + e);} \r\n\t}\r\nWhat this gave me was \r\n\r\n        Michael\r\n        25\r\n        188\r\n\r\nI think its probably an issue with my for loop but I&#39;m not very advanced in programming and I&#39;ll appreciate help. Thanks.","title":"How to split the strings in a file and read them?","body":"<p>I have a file with information in it. It looks like:</p>\n\n<pre><code>    Michael 19 180 Miami\n    George 25 176 Washington\n    William 43 188 Seattle\n</code></pre>\n\n<p>I want to split the lines and strings and read them. I want it to look like:</p>\n\n<pre><code>    Michael\n    19\n    180\n    Miami\n    George\n    ...\n</code></pre>\n\n<p>i used a code like this:</p>\n\n<pre><code>    BufferedReader in = null;\n    String read;\n    int linenum;\n    try{\n        in = new BufferedReader(new FileReader(\"fileeditor.txt\")); \n    }\n    catch (FileNotFoundException e) {System.out.println(\"There was a problem: \" + e);}\n    try{\n        for (linenum = 0; linenum&lt;100; linenum++){\n            read = in.readLine();\n            if(read == null){} \n            else{\n                String[] splited = read.split(\"\\\\s+\");\n                System.out.println(splited[linenum]);\n           }\n       }\n    }\n    catch (IOException e) {System.out.println(\"There was a problem: \" + e);} \n}\n</code></pre>\n\n<p>What this gave me was </p>\n\n<pre><code>    Michael\n    25\n    188\n</code></pre>\n\n<p>I think its probably an issue with my for loop but I'm not very advanced in programming and I'll appreciate help. Thanks.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647530639,"post_id":71509040,"comment_id":126399068,"body_markdown":"You might try &quot;Select c FROM Company c join c.products p WHERE p IN (:prods)&quot;, but as the validation comes from spring, you might show the repository methods being used as well. The first error mentions phones which you haven&#39;t specified at all in your description, so I suspect your method signature is the problem there.","body":"You might try &quot;Select c FROM Company c join c.products p WHERE p IN (:prods)&quot;, but as the validation comes from spring, you might show the repository methods being used as well. The first error mentions phones which you haven&#39;t specified at all in your description, so I suspect your method signature is the problem there."},{"owner":{"account_id":64566,"reputation":125,"user_id":190548,"display_name":"Horst der Pferd"},"score":0,"creation_date":1647604421,"post_id":71509040,"comment_id":126418235,"body_markdown":"The phones were a copy/paste error. I fixed my post but your suggestion already solved the problem. Thanks a lot.","body":"The phones were a copy/paste error. I fixed my post but your suggestion already solved the problem. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":64566,"reputation":125,"user_id":190548,"display_name":"Horst der Pferd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647604030,"creation_date":1647604030,"answer_id":71526594,"question_id":71509040,"body_markdown":"Thanks Chris. Your suggested query `Select c FROM Company c join c.products p WHERE p IN (:prods)` works. Thanks for looking into it.","title":"Query JPA ElementCollection with List","body":"<p>Thanks Chris. Your suggested query <code>Select c FROM Company c join c.products p WHERE p IN (:prods)</code> works. Thanks for looking into it.</p>\n"},{"tags":[],"owner":{"account_id":25900984,"reputation":1,"user_id":19626867,"display_name":"damianwnukowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695652650,"creation_date":1695652650,"answer_id":77173602,"question_id":71509040,"body_markdown":"In my case I&#39;ve had to do left join:\r\n\r\n    Select c FROM Company c left join c.products p WHERE p IN (:prods)\r\n\r\nJoin by default is an inner join, so you won&#39;t get any results with empty c.products.","title":"Query JPA ElementCollection with List","body":"<p>In my case I've had to do left join:</p>\n<pre><code>Select c FROM Company c left join c.products p WHERE p IN (:prods)\n</code></pre>\n<p>Join by default is an inner join, so you won't get any results with empty c.products.</p>\n"}],"owner":{"account_id":64566,"reputation":125,"user_id":190548,"display_name":"Horst der Pferd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1581,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695652650,"creation_date":1647505138,"question_id":71509040,"body_markdown":"How do I query an `@ElementCollection` containing at least one element of my search criteria?\r\n\r\n\r\nGiven this corresponding database schema\r\n\r\n[![ER diagram][1]][1]\r\n\r\nfor this entity class\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;companies&quot;)\r\npublic class Company {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String name;\r\n\r\n\t@ElementCollection\r\n\t@CollectionTable(\r\n\t\tname=&quot;companies_products&quot;,\r\n\t\tjoinColumns = @JoinColumn(name=&quot;company_id&quot;)\r\n\t)\r\n\t@Column(name=&quot;product&quot;)\r\n\tprivate List&lt;String&gt; products = new ArrayList&lt;&gt;();\r\n\r\n    // ... getters/setters\r\n}\r\n```\r\n\r\nI want to query the database for companies with a list of products. In SQL I can do\r\n\r\n```sql\r\nSELECT DISTINCT\r\n    c.*\r\n    FROM companies c\r\n    LEFT JOIN companies_products cp ON c.id = cp.company_id\r\n    WHERE\r\n        cp.product IN (&#39;food&#39;, &#39;electronics&#39;, &#39;books&#39;)\r\n```\r\n\r\nHow whould an equivalent HQL/JPQL query look like?\r\n\r\nI found [Hibernate&#39;s collection-related expressions][2] and [qualified-path expressions][3] but I was unable to create a working query.\r\n- `FROM Company c WHERE c.products IN (:prods)` using `List.of(&quot;food&quot;, &quot;electronics&quot;, &quot;books&quot;)` as named parameter\r\n\r\n  org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [phones] did not match expected type [java.util.Collection (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [food] did not match expected type [java.util.Collection (n/a)]\r\n\r\n- `FROM Company c WHERE value(c.products) IN (:prods)`\r\n\r\n  Could not create query for public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)! Reason: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!\r\n\r\n- `FROM Company c WHERE elements(c.products) IN (:prods)`\r\n\r\n  Could not create query for public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)! Reason: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Zhaf.png\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#hql-collection-expressions\r\n  [3]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#hql-collection-qualification","title":"Query JPA ElementCollection with List","body":"<p>How do I query an <code>@ElementCollection</code> containing at least one element of my search criteria?</p>\n<p>Given this corresponding database schema</p>\n<p><a href=\"https://i.stack.imgur.com/7Zhaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Zhaf.png\" alt=\"ER diagram\" /></a></p>\n<p>for this entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;companies&quot;)\npublic class Company {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ElementCollection\n    @CollectionTable(\n        name=&quot;companies_products&quot;,\n        joinColumns = @JoinColumn(name=&quot;company_id&quot;)\n    )\n    @Column(name=&quot;product&quot;)\n    private List&lt;String&gt; products = new ArrayList&lt;&gt;();\n\n    // ... getters/setters\n}\n</code></pre>\n<p>I want to query the database for companies with a list of products. In SQL I can do</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT DISTINCT\n    c.*\n    FROM companies c\n    LEFT JOIN companies_products cp ON c.id = cp.company_id\n    WHERE\n        cp.product IN ('food', 'electronics', 'books')\n</code></pre>\n<p>How whould an equivalent HQL/JPQL query look like?</p>\n<p>I found <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#hql-collection-expressions\" rel=\"nofollow noreferrer\">Hibernate's collection-related expressions</a> and <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#hql-collection-qualification\" rel=\"nofollow noreferrer\">qualified-path expressions</a> but I was unable to create a working query.</p>\n<ul>\n<li><p><code>FROM Company c WHERE c.products IN (:prods)</code> using <code>List.of(&quot;food&quot;, &quot;electronics&quot;, &quot;books&quot;)</code> as named parameter</p>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [phones] did not match expected type [java.util.Collection (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [food] did not match expected type [java.util.Collection (n/a)]</p>\n</li>\n<li><p><code>FROM Company c WHERE value(c.products) IN (:prods)</code></p>\n<p>Could not create query for public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)! Reason: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!</p>\n</li>\n<li><p><code>FROM Company c WHERE elements(c.products) IN (:prods)</code></p>\n<p>Could not create query for public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)! Reason: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.example.demo.CompanyRepository.findWithProducts(java.util.List)!</p>\n</li>\n</ul>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695652528,"creation_date":1695652528,"answer_id":77173581,"question_id":77173554,"body_markdown":"You can do it being more specific in the `By.xpath()`:\r\n\r\n```java\r\ndriver.findElement(By.xpath(&quot;//span[contains(@class, &#39;MuiButton-label&#39;) and contains(text(),&#39;Create&#39;)]&quot;)).click();\r\n```","title":"Path for button without id or name in selenium java","body":"<p>You can do it being more specific in the <code>By.xpath()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//span[contains(@class, 'MuiButton-label') and contains(text(),'Create')]&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":29197708,"reputation":47,"user_id":22368447,"display_name":"Rajeesha R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77173581,"answer_count":1,"score":1,"last_activity_date":1695652528,"creation_date":1695652299,"question_id":77173554,"body_markdown":"````\r\n&lt;span class=“MuiButton-label&quot;&gt;\r\n&lt;span class=&quot;MuiButton-startIcon MuiButton-iconSizeMedium”&gt;\r\n&lt;span class=“MuiButton-label&quot;&gt; &lt;span class=&quot;MuiButton-startIcon MuiButton-iconSizeMedium”&gt; &lt;svg class=&quot;MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv&quot; focusable=&quot;false&quot; aria-hidden=&quot;true&quot; viewBox=&quot;0 enter code here0 24 24&quot; data-testid=“SaveIcon&quot;&gt; &lt;path d=&quot;somevalue”&gt; Create\r\n````\r\n\r\n\r\nHow do I create an path for above code?\r\n````\r\ndriver.findElement(By.xpath(&quot;//*[contains(text(),&#39;Create&#39;)]&quot;)).click();\r\n````\r\nI tried like this but didn&#39;t work and not giving any error\r\n\r\n","title":"Path for button without id or name in selenium java","body":"<pre><code>&lt;span class=“MuiButton-label&quot;&gt;\n&lt;span class=&quot;MuiButton-startIcon MuiButton-iconSizeMedium”&gt;\n&lt;span class=“MuiButton-label&quot;&gt; &lt;span class=&quot;MuiButton-startIcon MuiButton-iconSizeMedium”&gt; &lt;svg class=&quot;MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv&quot; focusable=&quot;false&quot; aria-hidden=&quot;true&quot; viewBox=&quot;0 enter code here0 24 24&quot; data-testid=“SaveIcon&quot;&gt; &lt;path d=&quot;somevalue”&gt; Create\n</code></pre>\n<p>How do I create an path for above code?</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[contains(text(),'Create')]&quot;)).click();\n</code></pre>\n<p>I tried like this but didn't work and not giving any error</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695639410,"post_id":77172012,"comment_id":136046725,"body_markdown":"The `@Column` annotation is only used for generating the tables. It is not used for validation","body":"The <code>@Column</code> annotation is only used for generating the tables. It is not used for validation"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695639460,"post_id":77172012,"comment_id":136046731,"body_markdown":"BTW: You should do the validation not on the database layer. Do it in the businesslogic","body":"BTW: You should do the validation not on the database layer. Do it in the businesslogic"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695651250,"post_id":77172012,"comment_id":136049267,"body_markdown":"i think the repository.save() should throw exception immediately now if it fails to insert the user to the DB . what do you want to do actually ?","body":"i think the repository.save() should throw exception immediately now if it fails to insert the user to the DB . what do you want to do actually ?"},{"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"score":0,"creation_date":1695722521,"post_id":77172012,"comment_id":136059361,"body_markdown":"epository.save() throws exception immediately, but @Transactional catches this exception and returns to continue execution of my method but it shouldn&#39;t continue execution.","body":"epository.save() throws exception immediately, but @Transactional catches this exception and returns to continue execution of my method but it shouldn&#39;t continue execution."}],"answers":[{"tags":[],"owner":{"account_id":3388916,"reputation":1080,"user_id":7537885,"display_name":"Hermann Steidel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695652468,"creation_date":1695652468,"answer_id":77173572,"question_id":77172012,"body_markdown":"I would consider a different approach. Getting the database or persistence framework to auto-throw errors that you then catch to control the flow of you code can be improved upon. There are many ways you can do this but I would consider something like the following:\r\n\r\n```\r\n@Transactional \r\npublic void doWork() {\r\n    User user = new User(1);\r\n    if (isUserValid(user)) {\r\n       user = userRepository.save(user);\r\n       doOtherWork(user);\r\n    } else {\r\n     //log.warn(&quot;user is invalid&quot;);\r\n    }\r\n\r\n   \r\n}\r\n\r\nprivate boolean isUserValid(User user) {\r\n   //check user, return false if not valid\r\n   // perhaps logging at debug level what&#39;s wrong is also helpful\r\n}\r\n\r\n```\r\n\r\nThere are a couple of points to this:\r\n\r\n - You explicitly declare what makes a user invalid which can be tested independent of a database or database framework. Additionally, the way your code is now, someone else or you in the future, would not intuitively know what makes a user valid.\r\n - Using exceptions for flow control is usually a bad idea and an anti-pattern. Exceptions should be exceptional, not part of your normal business logic\r\n - Since you mentioned `nullable = false`, you may want to look at the Hibernate Validation project to use annotation based validation. If you are dealing with a Spring Web project, you can enable this easily. However, one thing I would also suggest is that you do not expose your database class / entity `User` at the web or presentation layer that is accepting the form fields. It is better to work with, so called, data transfer objects that handle the validation for you. Once that is valid, you can create database objects from that to save to your DB.\r\n\r\nExample:\r\n```\r\npublic class NewUserForm {\r\n\r\n  @NotNull\r\n  private String username;\r\n\r\n}\r\n\r\n//validation happens by the caller of this service layer method or before transforming here\r\npublic saveUser(NewUserForm userForm) {\r\n    User user = transformToUser(userForm);\r\n    userRepository.save(user);\r\n    \r\n}\r\n```\r\n\r\nFor more info on getting started with validation in Spring, you can Google `Spring Hibernate Validation` and you will find plenty of &quot;getting started&quot; guides on this.\r\n\r\n \r\n\r\n ","title":"@Transactional avoids exception in repository methods","body":"<p>I would consider a different approach. Getting the database or persistence framework to auto-throw errors that you then catch to control the flow of you code can be improved upon. There are many ways you can do this but I would consider something like the following:</p>\n<pre><code>@Transactional \npublic void doWork() {\n    User user = new User(1);\n    if (isUserValid(user)) {\n       user = userRepository.save(user);\n       doOtherWork(user);\n    } else {\n     //log.warn(&quot;user is invalid&quot;);\n    }\n\n   \n}\n\nprivate boolean isUserValid(User user) {\n   //check user, return false if not valid\n   // perhaps logging at debug level what's wrong is also helpful\n}\n\n</code></pre>\n<p>There are a couple of points to this:</p>\n<ul>\n<li>You explicitly declare what makes a user invalid which can be tested independent of a database or database framework. Additionally, the way your code is now, someone else or you in the future, would not intuitively know what makes a user valid.</li>\n<li>Using exceptions for flow control is usually a bad idea and an anti-pattern. Exceptions should be exceptional, not part of your normal business logic</li>\n<li>Since you mentioned <code>nullable = false</code>, you may want to look at the Hibernate Validation project to use annotation based validation. If you are dealing with a Spring Web project, you can enable this easily. However, one thing I would also suggest is that you do not expose your database class / entity <code>User</code> at the web or presentation layer that is accepting the form fields. It is better to work with, so called, data transfer objects that handle the validation for you. Once that is valid, you can create database objects from that to save to your DB.</li>\n</ul>\n<p>Example:</p>\n<pre><code>public class NewUserForm {\n\n  @NotNull\n  private String username;\n\n}\n\n//validation happens by the caller of this service layer method or before transforming here\npublic saveUser(NewUserForm userForm) {\n    User user = transformToUser(userForm);\n    userRepository.save(user);\n    \n}\n</code></pre>\n<p>For more info on getting started with validation in Spring, you can Google <code>Spring Hibernate Validation</code> and you will find plenty of &quot;getting started&quot; guides on this.</p>\n"}],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1695652468,"creation_date":1695638960,"question_id":77172012,"body_markdown":"I am using `@Transactional` for service method\r\n\r\nSuppose we have such methods\r\n\r\n    @Transactional \r\n    public void doWork() {\r\n        User user = new User(1);\r\n        user = userRepository.save(user);\r\n    \r\n        doOtherWorkIfAllIsOk(user);\r\n    }\r\n    \r\n    private void doOtherWorkIfAllIsOk(User user) {\r\n        System.out.println(&quot;Everything is alright&quot;);\r\n        user.setName(&quot;Bob&quot;)\r\n        userRepository.save(user);\r\n    }\r\n\r\nIf, for example, I did not fill in some required field for the User, which has `nullable = false`, the transaction will catch an exception that will throw the repository method and my method will continue execution by calling the method `doOtherWorkIfAllIsOk()`.\r\n\r\n\r\n How to configure transaction behavior so that Spring does not catch exceptions when calling a repository method. I need that if an error occurs in the repository method, then the doWork() method throws this exception and is interrupted and the doOtherWorkIfAllIsOk(User user) method should not be called, because now if there is an error in the repository method, the doOtherWorkIfAllIsOk(User user) method is called.\r\n","title":"@Transactional avoids exception in repository methods","body":"<p>I am using <code>@Transactional</code> for service method</p>\n<p>Suppose we have such methods</p>\n<pre><code>@Transactional \npublic void doWork() {\n    User user = new User(1);\n    user = userRepository.save(user);\n\n    doOtherWorkIfAllIsOk(user);\n}\n\nprivate void doOtherWorkIfAllIsOk(User user) {\n    System.out.println(&quot;Everything is alright&quot;);\n    user.setName(&quot;Bob&quot;)\n    userRepository.save(user);\n}\n</code></pre>\n<p>If, for example, I did not fill in some required field for the User, which has <code>nullable = false</code>, the transaction will catch an exception that will throw the repository method and my method will continue execution by calling the method <code>doOtherWorkIfAllIsOk()</code>.</p>\n<p>How to configure transaction behavior so that Spring does not catch exceptions when calling a repository method. I need that if an error occurs in the repository method, then the doWork() method throws this exception and is interrupted and the doOtherWorkIfAllIsOk(User user) method should not be called, because now if there is an error in the repository method, the doOtherWorkIfAllIsOk(User user) method is called.</p>\n"},{"tags":["java","apache","indexing","lucene","jackrabbit-oak"],"comments":[{"owner":{"account_id":137882,"reputation":1165,"user_id":342409,"display_name":"catholicon"},"score":0,"creation_date":1564736763,"post_id":57284650,"comment_id":101136888,"body_markdown":"isn&#39;t this a duplicate of https://stackoverflow.com/questions/56655489?","body":"isn&#39;t this a duplicate of <a href=\"https://stackoverflow.com/questions/56655489\">stackoverflow.com/questions/56655489</a>?"}],"owner":{"account_id":4188742,"reputation":97,"user_id":3431808,"accept_rate":33,"display_name":"sandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695651070,"creation_date":1564555068,"question_id":57284650,"body_markdown":"Can anyone share an example of initializing RDBMS Oak Repository with Lucene Index?\r\n\r\nI have tried below but getting \r\n\r\n    The index update failed\r\n    org.apache.jackrabbit.oak.api.CommitFailedException: OakAsync0002: Missing index provider detected for type [counter] on index [/oak:index/counter] error\r\n\r\n\r\n```   \r\nLuceneIndexProvider provider = new LuceneIndexProvider();\r\n\r\n\t\t\t\trepository = new Oak(documentNodeStoreService)\r\n            .with(new InitialContent())\r\n\t\t\t\t\t\t.with(new OpenSecurityProvider())\r\n            .with((QueryIndexProvider) provider)\r\n            .with((Observer) provider)\r\n\t\t\t\t\t\t.with(new LucenePropertyInitialiser(&quot;testluceneIndex&quot;, of(&quot;^[^\\\\/]*$&quot;)))\r\n\t\t\t\t\t\t.with(new LuceneIndexEditorProvider())\r\n\t\t\t\t\t\t.with(new NodeCounterEditorProvider())\r\n\t\t\t\t\t\t.withAsyncIndexing(&quot;async&quot;, 5)\r\n            .with(&quot;custom&quot;)\r\n            .createContentRepository();\r\n```","title":"How to create RDBMS oak repository with lucene index","body":"<p>Can anyone share an example of initializing RDBMS Oak Repository with Lucene Index?</p>\n\n<p>I have tried below but getting </p>\n\n<pre><code>The index update failed\norg.apache.jackrabbit.oak.api.CommitFailedException: OakAsync0002: Missing index provider detected for type [counter] on index [/oak:index/counter] error\n</code></pre>\n\n<pre><code>LuceneIndexProvider provider = new LuceneIndexProvider();\n\n                repository = new Oak(documentNodeStoreService)\n            .with(new InitialContent())\n                        .with(new OpenSecurityProvider())\n            .with((QueryIndexProvider) provider)\n            .with((Observer) provider)\n                        .with(new LucenePropertyInitialiser(\"testluceneIndex\", of(\"^[^\\\\/]*$\")))\n                        .with(new LuceneIndexEditorProvider())\n                        .with(new NodeCounterEditorProvider())\n                        .withAsyncIndexing(\"async\", 5)\n            .with(\"custom\")\n            .createContentRepository();\n</code></pre>\n"},{"tags":["java","maven","osgi-bundle","flying-saucer"],"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695650448,"creation_date":1695650448,"question_id":77173326,"body_markdown":"I am creating OSGI bundle for Flying Saucer(https://github.com/flyingsaucerproject/flyingsaucer) module but is failing due to com.apple.mrj -- Cannot be resolved in Imported Packages section.  \r\n\r\nBelow is the dependency I am trying to add,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSince dependency have dependency with others so I am adding below dependencies\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n        &lt;version&gt;9.2.2&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n        &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.7&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.apple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AppleJavaExtensions&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI get below error while activaging this bundle,\r\n\r\n    25.09.2023 19:20:05.329 *ERROR* [qtp1339983583-2215] org.apache.felix.http.jetty Bundles: Cannot start (org.osgi.framework.BundleException: Unable to resolve com.adobe [689](R 689.1): missing requirement [com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj) Unresolved requirements: [[com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj)])\r\n    org.osgi.framework.BundleException: Unable to resolve com.adobe [689](R 689.1): missing requirement [com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj) Unresolved requirements: [[com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj)]\r\n\r\nLooks like it could not import &quot;com.apple.mrj -- Cannot be resolved&quot; and com.lowagie.toolbox -- Cannot be resolved\r\n\r\nBelow in my bnd-maven-plugin. Here I am importing and exporting all packages using *\r\n\r\n    &lt;configuration&gt;\r\n                                &lt;bnd&gt;&lt;![CDATA[\r\n    Bundle-Category: VeevaCoreCommon\r\n    Bundle-SymbolicName: com.adobe\r\n    Import-Package: javax.annotation;version=0.0.0,\\\r\n    \t\t\t\t!sun.*,!*.internal.*,\\\r\n    \t\t\t\t!junit.*,!com.aayushatharva.*,!com.github.*,\\\r\n    \t\t\t\t!com.googl.*,!com.jcraft.*,!com.ning.*,\\\r\n    \t\t\t\t!com.oracle.*,!kotlin,!lzma.*,!net.jpountz.*,\\\r\n    \t\t\t\t!org.apache.avalon.*,!org.apache.log,!org.bouncycastle.*,\\\r\n    \t\t\t\t!org.apache.logging.*,!reactor.*,\\\r\n    \t\t\t\t!org.conscrypt,!org.eclipse.*,!org.jboss.*,!scala.util,\\\r\n    \t\t\t\t!com.google.protobuf.*,*\r\n    Export-Package:  !sun.*,\\\r\n    \t\t\t\t !junit.*,*\r\n    \r\n              ]]&gt;&lt;/bnd&gt;\r\n    &lt;/configuration&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RqpDj.png\r\n\r\nI added the dependency for the package com.lowagie.toolbox &amp; com.apple.mrj. Can anyone tell me how to fix this issue ? Actually I want to import below in my java class\r\n\r\n    import org.xhtmlrenderer.pdf.ITextRenderer;\r\n\r\nSo I am trying to add all dependencies. How do I ensure I am adding all inter dependencies correctly ? is there any way ? Why this import is not resolving even after adding it&#39;s dependency? Any idea/input would be really helpful.","title":"How to fix package Cannot be resolved issue in OSGI?","body":"<p>I am creating OSGI bundle for Flying Saucer(<a href=\"https://github.com/flyingsaucerproject/flyingsaucer\" rel=\"nofollow noreferrer\">https://github.com/flyingsaucerproject/flyingsaucer</a>) module but is failing due to com.apple.mrj -- Cannot be resolved in Imported Packages section.</p>\n<p>Below is the dependency I am trying to add,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n    &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\n    &lt;version&gt;9.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Since dependency have dependency with others so I am adding below dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n    &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n    &lt;version&gt;9.2.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n    &lt;artifactId&gt;itext&lt;/artifactId&gt;\n    &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.apple&lt;/groupId&gt;\n    &lt;artifactId&gt;AppleJavaExtensions&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I get below error while activaging this bundle,</p>\n<pre><code>25.09.2023 19:20:05.329 *ERROR* [qtp1339983583-2215] org.apache.felix.http.jetty Bundles: Cannot start (org.osgi.framework.BundleException: Unable to resolve com.adobe [689](R 689.1): missing requirement [com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj) Unresolved requirements: [[com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj)])\norg.osgi.framework.BundleException: Unable to resolve com.adobe [689](R 689.1): missing requirement [com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj) Unresolved requirements: [[com.adobe [689](R 689.1)] osgi.wiring.package; (osgi.wiring.package=com.apple.mrj)]\n</code></pre>\n<p>Looks like it could not import &quot;com.apple.mrj -- Cannot be resolved&quot; and com.lowagie.toolbox -- Cannot be resolved</p>\n<p>Below in my bnd-maven-plugin. Here I am importing and exporting all packages using *</p>\n<pre><code>&lt;configuration&gt;\n                            &lt;bnd&gt;&lt;![CDATA[\nBundle-Category: VeevaCoreCommon\nBundle-SymbolicName: com.adobe\nImport-Package: javax.annotation;version=0.0.0,\\\n                !sun.*,!*.internal.*,\\\n                !junit.*,!com.aayushatharva.*,!com.github.*,\\\n                !com.googl.*,!com.jcraft.*,!com.ning.*,\\\n                !com.oracle.*,!kotlin,!lzma.*,!net.jpountz.*,\\\n                !org.apache.avalon.*,!org.apache.log,!org.bouncycastle.*,\\\n                !org.apache.logging.*,!reactor.*,\\\n                !org.conscrypt,!org.eclipse.*,!org.jboss.*,!scala.util,\\\n                !com.google.protobuf.*,*\nExport-Package:  !sun.*,\\\n                 !junit.*,*\n\n          ]]&gt;&lt;/bnd&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/RqpDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RqpDj.png\" alt=\"enter image description here\" /></a></p>\n<p>I added the dependency for the package com.lowagie.toolbox &amp; com.apple.mrj. Can anyone tell me how to fix this issue ? Actually I want to import below in my java class</p>\n<pre><code>import org.xhtmlrenderer.pdf.ITextRenderer;\n</code></pre>\n<p>So I am trying to add all dependencies. How do I ensure I am adding all inter dependencies correctly ? is there any way ? Why this import is not resolving even after adding it's dependency? Any idea/input would be really helpful.</p>\n"},{"tags":["java","spring-boot","docker","gradle","docker-compose"],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695650119,"creation_date":1695646145,"question_id":77172796,"body_markdown":"\r\nI&#39;m trying to run Spring Boot application (gradle) via docker compose on VPS and ran into a problem, that it fails on `RUN gradle build -x test --no-daemon` step. Locally it works fine.\r\n\r\n**Error:**\r\n\r\n     &gt; [stay_focused_bot build 4/4] RUN gradle build -x test --no-daemon:                                                                                           \r\n    0.855                                                                                                                                                           \r\n    0.855 Welcome to Gradle 8.3!                                                                                                                                    \r\n    0.855                                                                                                                                                           \r\n    0.855 Here are the highlights of this release:                                                                                                                  \r\n    0.855  - Faster Java compilation\r\n    0.855  - Reduced memory usage\r\n    0.855  - Support for running on Java 20\r\n    0.855 \r\n    0.855 For more details see https://docs.gradle.org/8.3/release-notes.html\r\n    0.855 \r\n    0.953 To honour the JVM settings for this build a single-use Daemon process will be forked. For more on this, please refer to https://docs.gradle.org/8.3/userguide/gradle_daemon.html#sec:disabling_the_daemon in the Gradle documentation.\r\n    2.153 Daemon will be stopped at the end of the build \r\n    52.16 &gt; Task :compileJava\r\n    386.1 &gt; Task :compileJava FAILED\r\n    386.2 \r\n    386.2 FAILURE: Build failed with an exception.\r\n    386.2 \r\n    386.2 * What went wrong:\r\n    386.2 Execution failed for task &#39;:compileJava&#39;.\r\n    386.2 &gt; Could not resolve all dependencies for configuration &#39;:detachedConfiguration1&#39;.\r\n    386.2    &gt; Could not resolve org.springframework.boot:spring-boot-dependencies:3.1.3.\r\n    386.2      Required by:\r\n    386.2          project :\r\n    386.2       &gt; Could not resolve org.springframework.boot:spring-boot-dependencies:3.1.3.\r\n    386.2          &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/3.1.3/spring-boot-dependencies-3.1.3.pom&#39;.\r\n    386.2             &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/3.1.3/spring-boot-dependencies-3.1.3.pom&#39;.\r\n    386.2                &gt; Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.0.215, repo.maven.apache.org/151.101.64.215, repo.maven.apache.org/151.101.128.215, repo.maven.apache.org/151.101.192.215] failed: Read timed out\r\n\r\n\r\n**Dockerfile:**\r\n\r\n    FROM gradle:latest AS build\r\n    COPY --chown=gradle:gradle . /home/gradle/src\r\n    WORKDIR /home/gradle/src\r\n    RUN gradle build -x test --no-daemon\r\n    \r\n    FROM openjdk:17\r\n    \r\n    EXPOSE 8080\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY --from=build /home/gradle/src/build/libs/*.jar /app/bot.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/app/bot.jar&quot;]\r\n\r\n\r\n**docker-compose.yml**\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      stay_focused_db:\r\n        image: postgres:14\r\n        volumes:\r\n          - db-data:/var/lib/postgres/data\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        environment:\r\n          POSTGRES_DB: stay_focused_db\r\n          POSTGRES_USER: stay_focused_user\r\n          POSTGRES_PASSWORD: stay_focused_pass\r\n        restart: unless-stopped\r\n        networks:\r\n          - bot_network\r\n      stay_focused_bot:\r\n        depends_on:\r\n          - stay_focused_db\r\n        image: bot:0.0.1\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        networks:\r\n          - bot_network\r\n    \r\n    volumes:\r\n      db-data:\r\n    \r\n    networks:\r\n      bot_network:\r\n\r\n\r\n\r\n\r\n","title":"Connect to repo.maven.apache.org:443 failed: Read timed out","body":"<p>I'm trying to run Spring Boot application (gradle) via docker compose on VPS and ran into a problem, that it fails on <code>RUN gradle build -x test --no-daemon</code> step. Locally it works fine.</p>\n<p><strong>Error:</strong></p>\n<pre><code> &gt; [stay_focused_bot build 4/4] RUN gradle build -x test --no-daemon:                                                                                           \n0.855                                                                                                                                                           \n0.855 Welcome to Gradle 8.3!                                                                                                                                    \n0.855                                                                                                                                                           \n0.855 Here are the highlights of this release:                                                                                                                  \n0.855  - Faster Java compilation\n0.855  - Reduced memory usage\n0.855  - Support for running on Java 20\n0.855 \n0.855 For more details see https://docs.gradle.org/8.3/release-notes.html\n0.855 \n0.953 To honour the JVM settings for this build a single-use Daemon process will be forked. For more on this, please refer to https://docs.gradle.org/8.3/userguide/gradle_daemon.html#sec:disabling_the_daemon in the Gradle documentation.\n2.153 Daemon will be stopped at the end of the build \n52.16 &gt; Task :compileJava\n386.1 &gt; Task :compileJava FAILED\n386.2 \n386.2 FAILURE: Build failed with an exception.\n386.2 \n386.2 * What went wrong:\n386.2 Execution failed for task ':compileJava'.\n386.2 &gt; Could not resolve all dependencies for configuration ':detachedConfiguration1'.\n386.2    &gt; Could not resolve org.springframework.boot:spring-boot-dependencies:3.1.3.\n386.2      Required by:\n386.2          project :\n386.2       &gt; Could not resolve org.springframework.boot:spring-boot-dependencies:3.1.3.\n386.2          &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/3.1.3/spring-boot-dependencies-3.1.3.pom'.\n386.2             &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/3.1.3/spring-boot-dependencies-3.1.3.pom'.\n386.2                &gt; Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.0.215, repo.maven.apache.org/151.101.64.215, repo.maven.apache.org/151.101.128.215, repo.maven.apache.org/151.101.192.215] failed: Read timed out\n</code></pre>\n<p><strong>Dockerfile:</strong></p>\n<pre><code>FROM gradle:latest AS build\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle build -x test --no-daemon\n\nFROM openjdk:17\n\nEXPOSE 8080\n\nRUN mkdir /app\n\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/bot.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/app/bot.jar&quot;]\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: '3'\nservices:\n  stay_focused_db:\n    image: postgres:14\n    volumes:\n      - db-data:/var/lib/postgres/data\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_DB: stay_focused_db\n      POSTGRES_USER: stay_focused_user\n      POSTGRES_PASSWORD: stay_focused_pass\n    restart: unless-stopped\n    networks:\n      - bot_network\n  stay_focused_bot:\n    depends_on:\n      - stay_focused_db\n    image: bot:0.0.1\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - bot_network\n\nvolumes:\n  db-data:\n\nnetworks:\n  bot_network:\n</code></pre>\n"},{"tags":["java","multithreading","reentrantlock"],"comments":[{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1378222373,"post_id":18596080,"comment_id":27367994,"body_markdown":"This kind of thing happens a lot with file access with read/writing","body":"This kind of thing happens a lot with file access with read/writing"},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1378222507,"post_id":18596080,"comment_id":27368067,"body_markdown":"`http://en.wikipedia.org/wiki/Semaphore_(programming)` There are some good analogies here.","body":"<code>http:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Semaphore_(programming)</code> There are some good analogies here."}],"answers":[{"tags":[],"owner":{"account_id":1503255,"reputation":4458,"user_id":1407222,"accept_rate":75,"display_name":"coder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378222399,"creation_date":1378222399,"answer_id":18596147,"question_id":18596080,"body_markdown":"Suppose in a class you have two methods m1 and m2, both synchronized and m2 is calling m1.\r\nIn that case if thread a has taken a lock on m1 and taking a lock again is not allowed then that thresad will keep on waiting for calling m2 (as it already has a the lock)","title":"java.concurrent.ReentrantLock - why we want to acquire the same lock multiple times","body":"<p>Suppose in a class you have two methods m1 and m2, both synchronized and m2 is calling m1.\nIn that case if thread a has taken a lock on m1 and taking a lock again is not allowed then that thresad will keep on waiting for calling m2 (as it already has a the lock)</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1695649894,"creation_date":1378222705,"answer_id":18596239,"question_id":18596080,"body_markdown":"Consider the following case in which you need a set of operations which isn&#39;t atomic, be atomic.  For example you may want to set a value of an array but return its current value upon setting. (try-finally removed for brevity).\r\n\r\n    final ReentrantLock lock = new ReentrantLock();\r\n    \r\n    final Object[] objects = new Object[10]\r\n    public Object setAndReturnPrevious(int index, Object val){\r\n       lock.lock();\r\n          Object prev = get(index);\r\n          set(index,val);\r\n          return prev;\r\n       lock.unlock();\r\n    }\r\n    public void set(int index, Object val){\r\n        lock.lock();\r\n             objects[index] = val;\r\n        lock.unlock();\r\n    }\r\n    public Object get(index index){...}\r\n\r\nIf ReentrantLock wasn&#39;t reentrant you would deadlock at `set(index)`\r\n","title":"java.concurrent.ReentrantLock - why we want to acquire the same lock multiple times","body":"<p>Consider the following case in which you need a set of operations which isn't atomic, be atomic.  For example you may want to set a value of an array but return its current value upon setting. (try-finally removed for brevity).</p>\n<pre><code>final ReentrantLock lock = new ReentrantLock();\n\nfinal Object[] objects = new Object[10]\npublic Object setAndReturnPrevious(int index, Object val){\n   lock.lock();\n      Object prev = get(index);\n      set(index,val);\n      return prev;\n   lock.unlock();\n}\npublic void set(int index, Object val){\n    lock.lock();\n         objects[index] = val;\n    lock.unlock();\n}\npublic Object get(index index){...}\n</code></pre>\n<p>If ReentrantLock wasn't reentrant you would deadlock at <code>set(index)</code></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378223654,"creation_date":1378223654,"answer_id":18596563,"question_id":18596080,"body_markdown":"Consider this synchronized example. The same applies to lock but with more code.\r\n\r\n\r\n    synchronized int getSum() {\r\n         return getValue() + getOtherValue();\r\n    }\r\n\r\n    synchronized int getValue() {\r\n         return value;\r\n    }\r\n\r\n    synchronized int getOtherValue() {\r\n         return value;\r\n    }\r\n\r\nThe only way to avoid being re-entrant is to create locked and unlocked versions of each method.  However what if you have two instances A and B.  A calls B which calls A.  How does B know not to call a synchronized method in A.\r\n ","title":"java.concurrent.ReentrantLock - why we want to acquire the same lock multiple times","body":"<p>Consider this synchronized example. The same applies to lock but with more code.</p>\n\n<pre><code>synchronized int getSum() {\n     return getValue() + getOtherValue();\n}\n\nsynchronized int getValue() {\n     return value;\n}\n\nsynchronized int getOtherValue() {\n     return value;\n}\n</code></pre>\n\n<p>The only way to avoid being re-entrant is to create locked and unlocked versions of each method.  However what if you have two instances A and B.  A calls B which calls A.  How does B know not to call a synchronized method in A.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378224219,"creation_date":1378224219,"answer_id":18596757,"question_id":18596080,"body_markdown":"Some argue that reentrant locking should be avoided. In a critical section, you should know exactly what is going on. If a local critical section may call a foreign code that may call a local code back, that seems pretty complicated and potentially dangerous. It is better to have just a few well defined critical sections containing only local code.","title":"java.concurrent.ReentrantLock - why we want to acquire the same lock multiple times","body":"<p>Some argue that reentrant locking should be avoided. In a critical section, you should know exactly what is going on. If a local critical section may call a foreign code that may call a local code back, that seems pretty complicated and potentially dangerous. It is better to have just a few well defined critical sections containing only local code.</p>\n"}],"owner":{"account_id":1332320,"reputation":12406,"user_id":1275937,"accept_rate":84,"display_name":"Shengjie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7013,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"closed_date":1378244051,"accepted_answer_id":18596239,"answer_count":4,"score":9,"last_activity_date":1695649894,"creation_date":1378222221,"question_id":18596080,"body_markdown":"I know if using ReentrantLock, it allows the same thread to acquire the same lock more than once. Internally, it has a counter to count the number of the lock acquisition. If you acquired the same lock twice, you would need to release it twice. But my question is that why would someone want to acquire the lock multiple times, should one time acquisition be enough? Can someone give me a common use case?  ","title":"java.concurrent.ReentrantLock - why we want to acquire the same lock multiple times","body":"<p>I know if using ReentrantLock, it allows the same thread to acquire the same lock more than once. Internally, it has a counter to count the number of the lock acquisition. If you acquired the same lock twice, you would need to release it twice. But my question is that why would someone want to acquire the lock multiple times, should one time acquisition be enough? Can someone give me a common use case?  </p>\n"},{"tags":["java","google-speech-api"],"owner":{"account_id":8805558,"reputation":41,"user_id":6580382,"display_name":"Igor Vieira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1695649844,"creation_date":1555884588,"question_id":55787208,"body_markdown":"I&#39;m making an application with Google SpeechClient that has the requirements to set a GOOGLE_APPLICATION_CREDENTIALS environment variable that, once set, you can use the voice to text api.\r\n\r\nMy application is required to run in linux and windows. In linux it runs perfectly, however, on windows, when running the project, it throws an exception com.google.api.gax.rpc.UnavailableException: &quot;io.grpc.StatusRuntimeException: UNAVAILABLE: Credentials failed to obtain metadata&quot; when trying to run this thread \r\n\r\n    package Controller.Runnables;\r\n    \r\n    import Controller.GUI.VoxSpeechGUIController;\r\n    import Model.SpokenTextHistory;\r\n    import com.google.api.gax.rpc.ClientStream;\r\n    import com.google.api.gax.rpc.ResponseObserver;\r\n    import com.google.api.gax.rpc.StreamController;\r\n    import com.google.cloud.speech.v1.*;\r\n    import com.google.protobuf.ByteString;\r\n    \r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.DataLine;\r\n    import javax.sound.sampled.TargetDataLine;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class SpeechRecognizerRunnable implements Runnable{\r\n    \r\n        private VoxSpeechGUIController controller;\r\n    \r\n        public SpeechRecognizerRunnable(VoxSpeechGUIController voxSpeechGUIController) {\r\n            this.controller = voxSpeechGUIController;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            MicrofoneRunnable micrunnable = MicrofoneRunnable.getInstance();\r\n            Thread micThread = new Thread(micrunnable);\r\n            ResponseObserver&lt;StreamingRecognizeResponse&gt; responseObserver = null;\r\n            try (SpeechClient client = SpeechClient.create()) {\r\n                ClientStream&lt;StreamingRecognizeRequest&gt; clientStream;\r\n                responseObserver =\r\n                        new ResponseObserver&lt;StreamingRecognizeResponse&gt;() {\r\n    \r\n                            ArrayList&lt;StreamingRecognizeResponse&gt; responses = new ArrayList&lt;&gt;();\r\n    \r\n                            public void onStart(StreamController controller) {}\r\n    \r\n                            public void onResponse(StreamingRecognizeResponse response) {\r\n    \r\n                                try {\r\n                                    responses.add(response);\r\n                                    StreamingRecognitionResult result = response.getResultsList().get(0);\r\n                                    // There can be several alternative transcripts for a given chunk of speech. Just\r\n                                    // use the first (most likely) one here.\r\n                                    SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\r\n                                    String transcript = alternative.getTranscript();\r\n                                    System.out.printf(&quot;Transcript : %s\\n&quot;, transcript);\r\n                                    String newText = SpokenTextHistory.getInstance().getActualSpeechString() + &quot; &quot; + transcript;\r\n                                    SpokenTextHistory.getInstance().setActualSpeechString(newText);\r\n                                    controller.setLabelText(newText);\r\n                                }\r\n                                catch (Exception ex){\r\n                                    System.out.println(ex.getMessage());\r\n                                    ex.printStackTrace();\r\n                                }\r\n                            }\r\n    \r\n                            public void onComplete() {\r\n                            }\r\n    \r\n                            public void onError(Throwable t) {\r\n                                System.out.println(t);\r\n                            }\r\n                        };\r\n    \r\n                clientStream = client.streamingRecognizeCallable().splitCall(responseObserver);\r\n    \r\n                RecognitionConfig recognitionConfig =\r\n                        RecognitionConfig.newBuilder()\r\n                                .setEncoding(RecognitionConfig.AudioEncoding.LINEAR16)\r\n                                .setLanguageCode(&quot;pt-BR&quot;)\r\n                                .setSampleRateHertz(16000)\r\n                                .build();\r\n                StreamingRecognitionConfig streamingRecognitionConfig =\r\n                        StreamingRecognitionConfig.newBuilder().setConfig(recognitionConfig).build();\r\n    \r\n                StreamingRecognizeRequest request =\r\n                        StreamingRecognizeRequest.newBuilder()\r\n                                .setStreamingConfig(streamingRecognitionConfig)\r\n                                .build(); // The first request in a streaming call has to be a config\r\n    \r\n                clientStream.send(request);\r\n    \r\n                try {\r\n                    // SampleRate:16000Hz, SampleSizeInBits: 16, Number of channels: 1, Signed: true,\r\n                    // bigEndian: false\r\n                    AudioFormat audioFormat = new AudioFormat(16000, 16, 1, true, false);\r\n                    DataLine.Info targetInfo =\r\n                            new DataLine.Info(\r\n                                    TargetDataLine.class,\r\n                                    audioFormat); // Set the system information to read from the microphone audio\r\n                    // stream\r\n    \r\n                    if (!AudioSystem.isLineSupported(targetInfo)) {\r\n                        System.out.println(&quot;Microphone not supported&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    // Target data line captures the audio stream the microphone produces.\r\n                    micrunnable.targetDataLine = (TargetDataLine) AudioSystem.getLine(targetInfo);\r\n                    micrunnable.targetDataLine.open(audioFormat);\r\n                    micThread.start();\r\n    \r\n                    long startTime = System.currentTimeMillis();\r\n    \r\n                    while (!micrunnable.stopFlag) {\r\n    \r\n                        long estimatedTime = System.currentTimeMillis() - startTime;\r\n    \r\n                        if (estimatedTime &gt;= 55000) {\r\n    \r\n                            clientStream.closeSend();\r\n                            clientStream = client.streamingRecognizeCallable().splitCall(responseObserver);\r\n    \r\n                            request =\r\n                                    StreamingRecognizeRequest.newBuilder()\r\n                                            .setStreamingConfig(streamingRecognitionConfig)\r\n                                            .build();\r\n    \r\n                            startTime = System.currentTimeMillis();\r\n    \r\n                        } else {\r\n                            request =\r\n                                    StreamingRecognizeRequest.newBuilder()\r\n                                            .setAudioContent(ByteString.copyFrom(micrunnable.sharedQueue.take()))\r\n                                            .build();\r\n                        }\r\n    \r\n                        clientStream.send(request);\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve been working hard for hours and have not found a solution that solves my problem.\r\nIt is worth mentioning that the environment variable is being set correctly.\r\n\r\nHas anyone ever had this problem with Google? What should I do to fix this? \r\n\r\nThis is my envirounment variable creator:\r\nPS: I`ve already tried use all google alternatives to validate credentials, but all return me errors.\r\n\r\n    package Controller.Autentication;\r\n    \r\n    import java.io.*;\r\n    import java.lang.reflect.Field;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class GoogleAuthentication {\r\n        private static final String GOOGLE_APPLICATION_CREDENTIALS = &quot;GOOGLE_APPLICATION_CREDENTIALS&quot;;\r\n        private static final String VoxSpeechFolder = &quot;.vox&quot;;\r\n        private static final String GoogleAuthenticationJsonFile = &quot;VoxAuthentication.json&quot;;\r\n    \r\n        public static void setupGoogleCredentials() {\r\n            String directory = defaultDirectory();\r\n            directory += File.separator+VoxSpeechFolder;\r\n            File voxPath = new File(directory);\r\n            if (!voxPath.exists()) {\r\n                voxPath.mkdirs();\r\n            }\r\n            ClassLoader classLoader = new GoogleAuthentication().getClass().getClassLoader();\r\n            File srcFile = new File(classLoader.getResource(GoogleAuthenticationJsonFile).getFile());\r\n    \r\n            if(srcFile.exists()){\r\n                try {\r\n                    String voxDestPath = defaultDirectory() + File.separator + VoxSpeechFolder +File.separator+ GoogleAuthenticationJsonFile;\r\n                    File destFile = new File(voxDestPath);\r\n                    copyFile(srcFile,destFile);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            try {\r\n                Map&lt;String,String&gt; googleEnv = new HashMap&lt;&gt;();\r\n                String path = defaultDirectory() +File.separator+ VoxSpeechFolder +File.separator+ GoogleAuthenticationJsonFile;\r\n                googleEnv.put(GOOGLE_APPLICATION_CREDENTIALS, path);\r\n                setGoogleEnv(googleEnv);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        static void copyFile(File sourceFile, File destFile)\r\n                throws IOException {\r\n            InputStream inStream ;\r\n            OutputStream outStream ;\r\n            System.out.println(destFile.getPath());\r\n            if(destFile.createNewFile()){\r\n                inStream = new FileInputStream(sourceFile);\r\n                outStream = new FileOutputStream(destFile);\r\n    \r\n                byte[] buffer = new byte[1024];\r\n    \r\n                int length;\r\n                while ((length = inStream.read(buffer)) &gt; 0){\r\n                    outStream.write(buffer, 0, length);\r\n    \r\n                }\r\n    \r\n                inStream.close();\r\n                outStream.close();\r\n            }\r\n        }\r\n    \r\n        static String defaultDirectory()\r\n        {\r\n            String OS = getOperationSystem();\r\n            if (OS.contains(&quot;WIN&quot;))\r\n                return System.getenv(&quot;APPDATA&quot;);\r\n            else if (OS.contains(&quot;MAC&quot;))\r\n                return System.getProperty(&quot;user.home&quot;) + &quot;/Library/Application &quot;\r\n                        + &quot;Support&quot;;\r\n            else if (OS.contains(&quot;LINUX&quot;)) {\r\n                return System.getProperty(&quot;user.home&quot;);\r\n            }\r\n            return System.getProperty(&quot;user.dir&quot;);\r\n        }\r\n    \r\n        static String getOperationSystem() {\r\n            return System.getProperty(&quot;os.name&quot;).toUpperCase();\r\n        }\r\n        protected static void setGoogleEnv(Map&lt;String, String&gt; newenv) throws Exception {\r\n            try {\r\n                Class&lt;?&gt; processEnvironmentClass = Class.forName(&quot;java.lang.ProcessEnvironment&quot;);\r\n                Field theEnvironmentField = processEnvironmentClass.getDeclaredField(&quot;theEnvironment&quot;);\r\n                theEnvironmentField.setAccessible(true);\r\n                Map&lt;String, String&gt; env = (Map&lt;String, String&gt;) theEnvironmentField.get(null);\r\n                env.putAll(newenv);\r\n                Field theCaseInsensitiveEnvironmentField = processEnvironmentClass.getDeclaredField(&quot;theCaseInsensitiveEnvironment&quot;);\r\n                theCaseInsensitiveEnvironmentField.setAccessible(true);\r\n                Map&lt;String, String&gt; cienv = (Map&lt;String, String&gt;)     theCaseInsensitiveEnvironmentField.get(null);\r\n                cienv.putAll(newenv);\r\n            } catch (NoSuchFieldException e) {\r\n                Class[] classes = Collections.class.getDeclaredClasses();\r\n                Map&lt;String, String&gt; env = System.getenv();\r\n                for(Class cl : classes) {\r\n                    if(&quot;java.util.Collections$UnmodifiableMap&quot;.equals(cl.getName())) {\r\n                        Field field = cl.getDeclaredField(&quot;m&quot;);\r\n                        field.setAccessible(true);\r\n                        Object obj = field.get(env);\r\n                        Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) obj;\r\n                        map.clear();\r\n                        map.putAll(newenv);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            String genv = System.getenv(GOOGLE_APPLICATION_CREDENTIALS);\r\n            System.out.println(genv);\r\n        }\r\n    }\r\n\r\n","title":"Google SpeechClient io.grpc.StatusRuntimeException: UNAVAILABLE: Credentials failed to obtain metadata","body":"<p>I'm making an application with Google SpeechClient that has the requirements to set a GOOGLE_APPLICATION_CREDENTIALS environment variable that, once set, you can use the voice to text api.</p>\n\n<p>My application is required to run in linux and windows. In linux it runs perfectly, however, on windows, when running the project, it throws an exception com.google.api.gax.rpc.UnavailableException: \"io.grpc.StatusRuntimeException: UNAVAILABLE: Credentials failed to obtain metadata\" when trying to run this thread </p>\n\n<pre><code>package Controller.Runnables;\n\nimport Controller.GUI.VoxSpeechGUIController;\nimport Model.SpokenTextHistory;\nimport com.google.api.gax.rpc.ClientStream;\nimport com.google.api.gax.rpc.ResponseObserver;\nimport com.google.api.gax.rpc.StreamController;\nimport com.google.cloud.speech.v1.*;\nimport com.google.protobuf.ByteString;\n\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.TargetDataLine;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\n\npublic class SpeechRecognizerRunnable implements Runnable{\n\n    private VoxSpeechGUIController controller;\n\n    public SpeechRecognizerRunnable(VoxSpeechGUIController voxSpeechGUIController) {\n        this.controller = voxSpeechGUIController;\n    }\n\n    @Override\n    public void run() {\n        MicrofoneRunnable micrunnable = MicrofoneRunnable.getInstance();\n        Thread micThread = new Thread(micrunnable);\n        ResponseObserver&lt;StreamingRecognizeResponse&gt; responseObserver = null;\n        try (SpeechClient client = SpeechClient.create()) {\n            ClientStream&lt;StreamingRecognizeRequest&gt; clientStream;\n            responseObserver =\n                    new ResponseObserver&lt;StreamingRecognizeResponse&gt;() {\n\n                        ArrayList&lt;StreamingRecognizeResponse&gt; responses = new ArrayList&lt;&gt;();\n\n                        public void onStart(StreamController controller) {}\n\n                        public void onResponse(StreamingRecognizeResponse response) {\n\n                            try {\n                                responses.add(response);\n                                StreamingRecognitionResult result = response.getResultsList().get(0);\n                                // There can be several alternative transcripts for a given chunk of speech. Just\n                                // use the first (most likely) one here.\n                                SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\n                                String transcript = alternative.getTranscript();\n                                System.out.printf(\"Transcript : %s\\n\", transcript);\n                                String newText = SpokenTextHistory.getInstance().getActualSpeechString() + \" \" + transcript;\n                                SpokenTextHistory.getInstance().setActualSpeechString(newText);\n                                controller.setLabelText(newText);\n                            }\n                            catch (Exception ex){\n                                System.out.println(ex.getMessage());\n                                ex.printStackTrace();\n                            }\n                        }\n\n                        public void onComplete() {\n                        }\n\n                        public void onError(Throwable t) {\n                            System.out.println(t);\n                        }\n                    };\n\n            clientStream = client.streamingRecognizeCallable().splitCall(responseObserver);\n\n            RecognitionConfig recognitionConfig =\n                    RecognitionConfig.newBuilder()\n                            .setEncoding(RecognitionConfig.AudioEncoding.LINEAR16)\n                            .setLanguageCode(\"pt-BR\")\n                            .setSampleRateHertz(16000)\n                            .build();\n            StreamingRecognitionConfig streamingRecognitionConfig =\n                    StreamingRecognitionConfig.newBuilder().setConfig(recognitionConfig).build();\n\n            StreamingRecognizeRequest request =\n                    StreamingRecognizeRequest.newBuilder()\n                            .setStreamingConfig(streamingRecognitionConfig)\n                            .build(); // The first request in a streaming call has to be a config\n\n            clientStream.send(request);\n\n            try {\n                // SampleRate:16000Hz, SampleSizeInBits: 16, Number of channels: 1, Signed: true,\n                // bigEndian: false\n                AudioFormat audioFormat = new AudioFormat(16000, 16, 1, true, false);\n                DataLine.Info targetInfo =\n                        new DataLine.Info(\n                                TargetDataLine.class,\n                                audioFormat); // Set the system information to read from the microphone audio\n                // stream\n\n                if (!AudioSystem.isLineSupported(targetInfo)) {\n                    System.out.println(\"Microphone not supported\");\n                    System.exit(0);\n                }\n                // Target data line captures the audio stream the microphone produces.\n                micrunnable.targetDataLine = (TargetDataLine) AudioSystem.getLine(targetInfo);\n                micrunnable.targetDataLine.open(audioFormat);\n                micThread.start();\n\n                long startTime = System.currentTimeMillis();\n\n                while (!micrunnable.stopFlag) {\n\n                    long estimatedTime = System.currentTimeMillis() - startTime;\n\n                    if (estimatedTime &gt;= 55000) {\n\n                        clientStream.closeSend();\n                        clientStream = client.streamingRecognizeCallable().splitCall(responseObserver);\n\n                        request =\n                                StreamingRecognizeRequest.newBuilder()\n                                        .setStreamingConfig(streamingRecognitionConfig)\n                                        .build();\n\n                        startTime = System.currentTimeMillis();\n\n                    } else {\n                        request =\n                                StreamingRecognizeRequest.newBuilder()\n                                        .setAudioContent(ByteString.copyFrom(micrunnable.sharedQueue.take()))\n                                        .build();\n                    }\n\n                    clientStream.send(request);\n                }\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>I've been working hard for hours and have not found a solution that solves my problem.\nIt is worth mentioning that the environment variable is being set correctly.</p>\n\n<p>Has anyone ever had this problem with Google? What should I do to fix this? </p>\n\n<p>This is my envirounment variable creator:\nPS: I`ve already tried use all google alternatives to validate credentials, but all return me errors.</p>\n\n<pre><code>package Controller.Autentication;\n\nimport java.io.*;\nimport java.lang.reflect.Field;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class GoogleAuthentication {\n    private static final String GOOGLE_APPLICATION_CREDENTIALS = \"GOOGLE_APPLICATION_CREDENTIALS\";\n    private static final String VoxSpeechFolder = \".vox\";\n    private static final String GoogleAuthenticationJsonFile = \"VoxAuthentication.json\";\n\n    public static void setupGoogleCredentials() {\n        String directory = defaultDirectory();\n        directory += File.separator+VoxSpeechFolder;\n        File voxPath = new File(directory);\n        if (!voxPath.exists()) {\n            voxPath.mkdirs();\n        }\n        ClassLoader classLoader = new GoogleAuthentication().getClass().getClassLoader();\n        File srcFile = new File(classLoader.getResource(GoogleAuthenticationJsonFile).getFile());\n\n        if(srcFile.exists()){\n            try {\n                String voxDestPath = defaultDirectory() + File.separator + VoxSpeechFolder +File.separator+ GoogleAuthenticationJsonFile;\n                File destFile = new File(voxDestPath);\n                copyFile(srcFile,destFile);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        try {\n            Map&lt;String,String&gt; googleEnv = new HashMap&lt;&gt;();\n            String path = defaultDirectory() +File.separator+ VoxSpeechFolder +File.separator+ GoogleAuthenticationJsonFile;\n            googleEnv.put(GOOGLE_APPLICATION_CREDENTIALS, path);\n            setGoogleEnv(googleEnv);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    static void copyFile(File sourceFile, File destFile)\n            throws IOException {\n        InputStream inStream ;\n        OutputStream outStream ;\n        System.out.println(destFile.getPath());\n        if(destFile.createNewFile()){\n            inStream = new FileInputStream(sourceFile);\n            outStream = new FileOutputStream(destFile);\n\n            byte[] buffer = new byte[1024];\n\n            int length;\n            while ((length = inStream.read(buffer)) &gt; 0){\n                outStream.write(buffer, 0, length);\n\n            }\n\n            inStream.close();\n            outStream.close();\n        }\n    }\n\n    static String defaultDirectory()\n    {\n        String OS = getOperationSystem();\n        if (OS.contains(\"WIN\"))\n            return System.getenv(\"APPDATA\");\n        else if (OS.contains(\"MAC\"))\n            return System.getProperty(\"user.home\") + \"/Library/Application \"\n                    + \"Support\";\n        else if (OS.contains(\"LINUX\")) {\n            return System.getProperty(\"user.home\");\n        }\n        return System.getProperty(\"user.dir\");\n    }\n\n    static String getOperationSystem() {\n        return System.getProperty(\"os.name\").toUpperCase();\n    }\n    protected static void setGoogleEnv(Map&lt;String, String&gt; newenv) throws Exception {\n        try {\n            Class&lt;?&gt; processEnvironmentClass = Class.forName(\"java.lang.ProcessEnvironment\");\n            Field theEnvironmentField = processEnvironmentClass.getDeclaredField(\"theEnvironment\");\n            theEnvironmentField.setAccessible(true);\n            Map&lt;String, String&gt; env = (Map&lt;String, String&gt;) theEnvironmentField.get(null);\n            env.putAll(newenv);\n            Field theCaseInsensitiveEnvironmentField = processEnvironmentClass.getDeclaredField(\"theCaseInsensitiveEnvironment\");\n            theCaseInsensitiveEnvironmentField.setAccessible(true);\n            Map&lt;String, String&gt; cienv = (Map&lt;String, String&gt;)     theCaseInsensitiveEnvironmentField.get(null);\n            cienv.putAll(newenv);\n        } catch (NoSuchFieldException e) {\n            Class[] classes = Collections.class.getDeclaredClasses();\n            Map&lt;String, String&gt; env = System.getenv();\n            for(Class cl : classes) {\n                if(\"java.util.Collections$UnmodifiableMap\".equals(cl.getName())) {\n                    Field field = cl.getDeclaredField(\"m\");\n                    field.setAccessible(true);\n                    Object obj = field.get(env);\n                    Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) obj;\n                    map.clear();\n                    map.putAll(newenv);\n                }\n            }\n        }\n\n        String genv = System.getenv(GOOGLE_APPLICATION_CREDENTIALS);\n        System.out.println(genv);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1484972124,"post_id":41775645,"comment_id":70742506,"body_markdown":"Please share the code as text and not image.","body":"Please share the code as text and not image."},{"owner":{"account_id":10077380,"reputation":21,"user_id":7449002,"display_name":"Kah Shing Chee"},"score":0,"creation_date":1484972438,"post_id":41775645,"comment_id":70742559,"body_markdown":"@nullpointer added","body":"@nullpointer added"},{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1484972567,"post_id":41775645,"comment_id":70742580,"body_markdown":"Do you know the test cases you fail? What is the reasonning behind your solution? Maybe you should add it to the solution","body":"Do you know the test cases you fail? What is the reasonning behind your solution? Maybe you should add it to the solution"},{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1484973846,"post_id":41775645,"comment_id":70742830,"body_markdown":"Please add an explanation of what you did. You probably didn&#39;t analyze the problem well enough to take into account all possible scenarios. I have a working solution for you when you will update your question.","body":"Please add an explanation of what you did. You probably didn&#39;t analyze the problem well enough to take into account all possible scenarios. I have a working solution for you when you will update your question."},{"owner":{"account_id":9359411,"reputation":1060,"user_id":6946274,"display_name":"David Choweller"},"score":0,"creation_date":1484975603,"post_id":41775645,"comment_id":70743143,"body_markdown":"A brute force solution would be to first try to divide the cake into n slices of 1 character each.  If they are not all equal (you can find this out very quickly) check if n is divisible by two, and if so, split the cake into slices 2 characters long, and check if they are equal, and so on, until you find a slice-length for which all slices are equal.","body":"A brute force solution would be to first try to divide the cake into n slices of 1 character each.  If they are not all equal (you can find this out very quickly) check if n is divisible by two, and if so, split the cake into slices 2 characters long, and check if they are equal, and so on, until you find a slice-length for which all slices are equal."},{"owner":{"account_id":10077380,"reputation":21,"user_id":7449002,"display_name":"Kah Shing Chee"},"score":0,"creation_date":1484975663,"post_id":41775645,"comment_id":70743156,"body_markdown":"Test cases unknown as google did not show out all, so i expect my solution was just success for the sample test cases example shown as above @JawadLeWywadi","body":"Test cases unknown as google did not show out all, so i expect my solution was just success for the sample test cases example shown as above @JawadLeWywadi"},{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1484975726,"post_id":41775645,"comment_id":70743164,"body_markdown":"I can trade my solution with an entry to your site lol.","body":"I can trade my solution with an entry to your site lol."},{"owner":{"account_id":10077380,"reputation":21,"user_id":7449002,"display_name":"Kah Shing Chee"},"score":0,"creation_date":1484975898,"post_id":41775645,"comment_id":70743198,"body_markdown":"@JawadLeWywadi not really get what you mean lol","body":"@JawadLeWywadi not really get what you mean lol"},{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1484975934,"post_id":41775645,"comment_id":70743205,"body_markdown":"How Can i acces this site I mean the google foobar challenge thing","body":"How Can i acces this site I mean the google foobar challenge thing"},{"owner":{"account_id":10077380,"reputation":21,"user_id":7449002,"display_name":"Kah Shing Chee"},"score":0,"creation_date":1484976011,"post_id":41775645,"comment_id":70743220,"body_markdown":"i think this can be access by anyone now https://foobar.withgoogle.com/","body":"i think this can be access by anyone now <a href=\"https://foobar.withgoogle.com/\" rel=\"nofollow noreferrer\">foobar.withgoogle.com</a>"},{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1484976125,"post_id":41775645,"comment_id":70743245,"body_markdown":"Nah It does not work for me But try my solution it is not optimized but it works. Tell me how many tests you pass with this.","body":"Nah It does not work for me But try my solution it is not optimized but it works. Tell me how many tests you pass with this."},{"owner":{"account_id":1886776,"reputation":2985,"user_id":1705829,"accept_rate":43,"display_name":"Timo"},"score":0,"creation_date":1689172021,"post_id":41775645,"comment_id":135176183,"body_markdown":"[on medium](https://medium.com/swlh/google-python-challenge-1-58c0eb760c92) you have it","body":"<a href=\"https://medium.com/swlh/google-python-challenge-1-58c0eb760c92\" rel=\"nofollow noreferrer\">on medium</a> you have it"}],"answers":[{"tags":[],"owner":{"display_name":"user5156016"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1484976027,"creation_date":1484976027,"answer_id":41776012,"question_id":41775645,"body_markdown":"I think this is a quick working not optimized solution. You basically suppose that you can have n parts. If it works you return, if not you suppose that you can have n-1 part and so one.\r\n\r\n    int result = -1;\r\n\t\tint len = s.length();\r\n\t\tfor(int i = len; i &gt; 0; i--){\t\t\t\r\n\t\t\tint n = len/i;\r\n\t\t\tif( n * i == len){\r\n\t\t\t\tboolean valid = true;\r\n\t\t\t\tString part = s.substring(0,n);\r\n\t\t\t\tfor(int j = 1; j &lt; i; j++){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!s.substring(j*n,j*n+n).equals(part)){\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(valid){\r\n\t\t\t\t\tresult = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t}","title":"Google foobar The Cake is not a lie","body":"<p>I think this is a quick working not optimized solution. You basically suppose that you can have n parts. If it works you return, if not you suppose that you can have n-1 part and so one.</p>\n\n<pre><code>int result = -1;\n    int len = s.length();\n    for(int i = len; i &gt; 0; i--){           \n        int n = len/i;\n        if( n * i == len){\n            boolean valid = true;\n            String part = s.substring(0,n);\n            for(int j = 1; j &lt; i; j++){\n\n                if(!s.substring(j*n,j*n+n).equals(part)){\n                    valid = false;\n                    break;\n                }\n\n            }\n            if(valid){\n                result = i;\n                break;\n            }\n\n        }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14817473,"reputation":629,"user_id":10700946,"display_name":"Atharva Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584282490,"creation_date":1584282490,"answer_id":60693932,"question_id":41775645,"body_markdown":"For a python based solution, this is what I could come up with, I know I could have used regex (findall) to get a better solution, and that the code could be further optimized. But this passed all the tests, and I was a bit lazy to optimize\r\nthe solution further. Please comment if you have any cool suggestions\r\n\r\n    def sample(leng, split_list):\r\n        for i in range(0, leng-1):\r\n    \r\n            if(split_list[i] == split_list[i+1]):\r\n                if(i == leng-2):\r\n                    return leng\r\n                else:\r\n                    continue\r\n            else:\r\n                return 1\r\n    \r\n    \r\n    def solution(s):\r\n        # Your code here\r\n        gem_str = s\r\n        sample_num = 1\r\n        str_length = len(gem_str)  # 12\r\n    \r\n        # gem_split_list = []\r\n    \r\n        for divider_value in range(1, str_length):\r\n            split_list = []\r\n            if(str_length % divider_value == 0):\r\n                for x in range(0, str_length, divider_value):\r\n                    split_list.append(gem_str[x:x+divider_value])\r\n                split_list_length = len(split_list)\r\n    \r\n                sample_num = sample(split_list_length, split_list)\r\n                if(sample_num != 1):\r\n                    return sample_num\r\n        return sample_num\r\n","title":"Google foobar The Cake is not a lie","body":"<p>For a python based solution, this is what I could come up with, I know I could have used regex (findall) to get a better solution, and that the code could be further optimized. But this passed all the tests, and I was a bit lazy to optimize\nthe solution further. Please comment if you have any cool suggestions</p>\n\n<pre><code>def sample(leng, split_list):\n    for i in range(0, leng-1):\n\n        if(split_list[i] == split_list[i+1]):\n            if(i == leng-2):\n                return leng\n            else:\n                continue\n        else:\n            return 1\n\n\ndef solution(s):\n    # Your code here\n    gem_str = s\n    sample_num = 1\n    str_length = len(gem_str)  # 12\n\n    # gem_split_list = []\n\n    for divider_value in range(1, str_length):\n        split_list = []\n        if(str_length % divider_value == 0):\n            for x in range(0, str_length, divider_value):\n                split_list.append(gem_str[x:x+divider_value])\n            split_list_length = len(split_list)\n\n            sample_num = sample(split_list_length, split_list)\n            if(sample_num != 1):\n                return sample_num\n    return sample_num\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16067988,"reputation":1512,"user_id":11597114,"display_name":"Tanishq Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584382358,"creation_date":1584382358,"answer_id":60711166,"question_id":41775645,"body_markdown":"```python\r\ndef solution(s):\r\n\t\r\n\tlength_of_str = len(s)\r\n\r\n\tfor i in range(1,length_of_str):\r\n\r\n\t\tcmp_str = s[:i]\r\n\r\n\t\tcount = s.count(cmp_str)\r\n\r\n\t\tif count*i == length_of_str:\r\n\t\t\treturn count\r\n\r\n\r\n\r\nprint(&quot;Test case 1 : &quot;)\r\nprint(solution(&quot;abccbaabccba&quot;))\r\n\r\nprint(&quot;\\nTest case 2 : &quot;)\r\nprint(solution(&quot;abcabcabcabc&quot;))\r\n```","title":"Google foobar The Cake is not a lie","body":"<pre class=\"lang-py prettyprint-override\"><code>def solution(s):\n\n    length_of_str = len(s)\n\n    for i in range(1,length_of_str):\n\n        cmp_str = s[:i]\n\n        count = s.count(cmp_str)\n\n        if count*i == length_of_str:\n            return count\n\n\n\nprint(\"Test case 1 : \")\nprint(solution(\"abccbaabccba\"))\n\nprint(\"\\nTest case 2 : \")\nprint(solution(\"abcabcabcabc\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15352153,"reputation":1,"user_id":11075575,"display_name":"shubham shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584730921,"creation_date":1584730921,"answer_id":60780178,"question_id":41775645,"body_markdown":"Here is a short and quick solution for python which has cleared all verification test,please comment and suggest if you have any cool idea.\r\n    \r\n    def solution(s):\r\n        length = len(exmp)  \r\n        for x in range(1,length):\r\n            if (length % x == 0):\r\n                lis =[exmp[y:y+x] for y in range(0,length,x) ]   # for x in range(0,length,y): ;  lis.append(exmp[x:x+y])\r\n                lis_len = len(lis)\r\n                for z in range(0,lis_len-1):\r\n                    if (lis[z] == lis[z+1]): \r\n                        if (z==lis_len-2):\r\n                            return lis_len\r\n        return lis_len\r\n\r\n    #s= &quot;abcabcabcabc&quot; \r\n    #s= &quot;jaishreeramjaishreeramjaishreeram&quot;\r\n    #s= &quot;harekrishnaharekrishnaharekrishnaharekrishna&quot;\r\n    solution(s)\r\n","title":"Google foobar The Cake is not a lie","body":"<p>Here is a short and quick solution for python which has cleared all verification test,please comment and suggest if you have any cool idea.</p>\n\n<pre><code>def solution(s):\n    length = len(exmp)  \n    for x in range(1,length):\n        if (length % x == 0):\n            lis =[exmp[y:y+x] for y in range(0,length,x) ]   # for x in range(0,length,y): ;  lis.append(exmp[x:x+y])\n            lis_len = len(lis)\n            for z in range(0,lis_len-1):\n                if (lis[z] == lis[z+1]): \n                    if (z==lis_len-2):\n                        return lis_len\n    return lis_len\n\n#s= \"abcabcabcabc\" \n#s= \"jaishreeramjaishreeramjaishreeram\"\n#s= \"harekrishnaharekrishnaharekrishnaharekrishna\"\nsolution(s)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11247666,"reputation":11,"user_id":8249838,"display_name":"Ming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585215154,"creation_date":1585214584,"answer_id":60864146,"question_id":41775645,"body_markdown":"My sol pass all the test cases and I believe it is O(N) speed.\r\n    \r\n```python\r\ndef solution(s):\r\n    n = len(s)\r\n    if n&lt;1:\r\n        return 0\r\n    # two pointers\r\n    p1 = 0\r\n    p2 = n-1\r\n    seq1, seq2 = &#39;&#39;, &#39;&#39;\r\n    while p1&lt;p2:\r\n        seq1 = seq1+s[p1]\r\n        seq2 = s[p2]+seq2\r\n        if seq1 == seq2 and seq1 == s[p1+1:p1+len(seq1)+1]:\r\n            return n/len(seq1)\r\n        p1+=1\r\n        p2-=1\r\n    return 1\r\n```\r\n\r\nEven though it pass the test cases in foobar, but there is a type of corner case that this sol cannot pass, such as `s=&#39;aabbaaaabbaa&#39;`.\r\n\r\n[solution with a few test cases in notebook.][1]\r\n\r\n\r\n  [1]: https://github.com/songzhm/google-foobar-challenge-2020/blob/master/level_1/level_1_the_cake_is_not_a_lie.ipynb","title":"Google foobar The Cake is not a lie","body":"<p>My sol pass all the test cases and I believe it is O(N) speed.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def solution(s):\n    n = len(s)\n    if n&lt;1:\n        return 0\n    # two pointers\n    p1 = 0\n    p2 = n-1\n    seq1, seq2 = '', ''\n    while p1&lt;p2:\n        seq1 = seq1+s[p1]\n        seq2 = s[p2]+seq2\n        if seq1 == seq2 and seq1 == s[p1+1:p1+len(seq1)+1]:\n            return n/len(seq1)\n        p1+=1\n        p2-=1\n    return 1\n</code></pre>\n\n<p>Even though it pass the test cases in foobar, but there is a type of corner case that this sol cannot pass, such as <code>s='aabbaaaabbaa'</code>.</p>\n\n<p><a href=\"https://github.com/songzhm/google-foobar-challenge-2020/blob/master/level_1/level_1_the_cake_is_not_a_lie.ipynb\" rel=\"nofollow noreferrer\">solution with a few test cases in notebook.</a></p>\n"},{"tags":[],"owner":{"account_id":18678862,"reputation":21,"user_id":13615923,"display_name":"Minimalizer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590441494,"creation_date":1590441494,"answer_id":62010932,"question_id":41775645,"body_markdown":"I am not going to share the code right away since I guess Google uses Plagiarism checks on the codes. But I&#39;ll share the algorithm that I had used.\r\n\r\nAlgorithm:\r\n\r\nloop from 1 to length of the string \r\ncalculate if length/i is a whole number(because that&#39;s one of the possible answers) \r\ntake the sub-string from index 0 to length/i \r\ncount number of occurrences \r\nif number of occurrences equals length/i, \r\ncheck if you have a max value greater than length/i\r\nif yes make it as max\r\n\r\nPseudo-code:\r\n\r\n    max=1\r\n    loop i from (0 to length(string))\r\n    {\r\n    if length(array)%i equals 0\r\n    {\r\n    substring=array[0 TO length(array)/i)\r\n    number=count(substring in string)\r\n    }\r\n    if number==length(array)/i and number&gt;max\r\n    max=number\r\n    }\r\n    return max\r\n\r\n  \r\n  \r\n    \r\n\r\n\r\n\r\nComplexity: O(M*K) where M is the length of string and K is the number of factors of length of the string. \r\n\r\nNote: I don&#39;t exactly know how good/bad this algo is but it took very less time to execute all 10 test-cases.","title":"Google foobar The Cake is not a lie","body":"<p>I am not going to share the code right away since I guess Google uses Plagiarism checks on the codes. But I'll share the algorithm that I had used.</p>\n\n<p>Algorithm:</p>\n\n<p>loop from 1 to length of the string \ncalculate if length/i is a whole number(because that's one of the possible answers) \ntake the sub-string from index 0 to length/i \ncount number of occurrences \nif number of occurrences equals length/i, \ncheck if you have a max value greater than length/i\nif yes make it as max</p>\n\n<p>Pseudo-code:</p>\n\n<pre><code>max=1\nloop i from (0 to length(string))\n{\nif length(array)%i equals 0\n{\nsubstring=array[0 TO length(array)/i)\nnumber=count(substring in string)\n}\nif number==length(array)/i and number&gt;max\nmax=number\n}\nreturn max\n</code></pre>\n\n<p>Complexity: O(M*K) where M is the length of string and K is the number of factors of length of the string. </p>\n\n<p>Note: I don't exactly know how good/bad this algo is but it took very less time to execute all 10 test-cases.</p>\n"},{"tags":[],"owner":{"account_id":11979149,"reputation":11,"user_id":8765467,"display_name":"saps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590593981,"creation_date":1590589429,"answer_id":62045468,"question_id":41775645,"body_markdown":"This is passing all the test cases.\r\n```python\r\ndef solution(s):\r\n\r\n    length_of_str = len(s)\r\n\r\n    for i in range(1,length_of_str+1):\r\n\r\n        cmp_str = s[:i]\r\n\r\n        count = s.count(cmp_str)\r\n\r\n        if count*i == length_of_str:\r\n            return count\r\n\r\nprint(&quot;Test case 1 : &quot;)\r\nprint(solution(&quot;abccbaabccba&quot;))\r\n\r\nprint(&quot;\\nTest case 2 : &quot;)\r\nprint(solution(&quot;abcabcabcabc&quot;))\r\n```","title":"Google foobar The Cake is not a lie","body":"<p>This is passing all the test cases.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def solution(s):\n\n    length_of_str = len(s)\n\n    for i in range(1,length_of_str+1):\n\n        cmp_str = s[:i]\n\n        count = s.count(cmp_str)\n\n        if count*i == length_of_str:\n            return count\n\nprint(\"Test case 1 : \")\nprint(solution(\"abccbaabccba\"))\n\nprint(\"\\nTest case 2 : \")\nprint(solution(\"abcabcabcabc\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11585701,"reputation":456,"user_id":8487956,"display_name":"sem1Colon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594837769,"creation_date":1594837769,"answer_id":62921524,"question_id":41775645,"body_markdown":"This not the optimised one.. but passes all the test cases with O(n^2).\r\n\r\n    public class Solution {\r\n     public static int solution(String s) {\r\n        // Function calls are expensive, so to avoid calling length() multiple times\r\n        int howLong = s.length();\r\n        int count = 0;\r\n\r\n        // Iterating through length of the input string from backwards\r\n        for (int i = howLong; i &gt; 0; i--) {\r\n            int n = howLong / i;\r\n            boolean flag = true;\r\n            // Storing substring\r\n            String subString = s.substring(0, n);\r\n\r\n            // Check for substring repeated no. of times\r\n            for (int j = 1; j &lt; i; j++) {\r\n                if (!s.substring(j * n, j * n + n).equals(subString)) {\r\n                    flag = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (flag) {\r\n                count = i;\r\n                break;\r\n            }\r\n        }\r\n        return count;\r\n      }\r\n    }","title":"Google foobar The Cake is not a lie","body":"<p>This not the optimised one.. but passes all the test cases with O(n^2).</p>\n<pre><code>public class Solution {\n public static int solution(String s) {\n    // Function calls are expensive, so to avoid calling length() multiple times\n    int howLong = s.length();\n    int count = 0;\n\n    // Iterating through length of the input string from backwards\n    for (int i = howLong; i &gt; 0; i--) {\n        int n = howLong / i;\n        boolean flag = true;\n        // Storing substring\n        String subString = s.substring(0, n);\n\n        // Check for substring repeated no. of times\n        for (int j = 1; j &lt; i; j++) {\n            if (!s.substring(j * n, j * n + n).equals(subString)) {\n                flag = false;\n                break;\n            }\n        }\n        if (flag) {\n            count = i;\n            break;\n        }\n    }\n    return count;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13748793,"reputation":290,"user_id":9921564,"display_name":"Chagai Friedlander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636490326,"creation_date":1636490326,"answer_id":69904778,"question_id":41775645,"body_markdown":"Java recursive solution, passes all tests, including the edge case [Ming](https://stackoverflow.com/users/8249838/ming) mentioned. I added [psvm](https://acronyms.thefreedictionary.com/PSVM) so I can test ;)\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(solution(&quot;aabbaaaabbaa&quot;)); // one test case for example\r\n    }\r\n    public static int solution(String x) {\r\n        int i = 1; // the smallest sequence we can have is 1 for example &quot;aaaaaaaaaaa&quot; would have the sequence of 1\r\n        int sizeOfCake = x.length();\r\n        while (i&lt;=sizeOfCake/2){ // no need to go through all amounts of sequences because the smallest amount of pieces of cake is 2\r\n            if(helpMethod(x.substring(i,sizeOfCake), x.substring(0,i))) {\r\n                return sizeOfCake/i;\r\n            }\r\n            i++;\r\n        }\r\n        return 1; // You could argue that the whole cake is one peace so you are &quot;cutting&quot; 1 peace. If so it&#39;s probably going to Commander Lambda.\r\n        // The tests only passed with 1 but I originally was going for: Math.round(Math.random())\r\n    }\r\n    \r\n    static boolean helpMethod(String oneSliceLess, String sliceSequence) {\r\n        int sizeOfSliceSequence = sliceSequence.length();\r\n        int sizeOfOneSliceLess = oneSliceLess.length();\r\n        if(sizeOfOneSliceLess &gt;= sizeOfSliceSequence){\r\n            return oneSliceLess.substring(0,sizeOfSliceSequence).equals(sliceSequence) &amp;&amp;\r\n            helpMethod(oneSliceLess.substring(sizeOfSliceSequence,sizeOfOneSliceLess), sliceSequence);\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Google foobar The Cake is not a lie","body":"<p>Java recursive solution, passes all tests, including the edge case <a href=\"https://stackoverflow.com/users/8249838/ming\">Ming</a> mentioned. I added <a href=\"https://acronyms.thefreedictionary.com/PSVM\" rel=\"nofollow noreferrer\">psvm</a> so I can test ;)</p>\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n        System.out.println(solution(&quot;aabbaaaabbaa&quot;)); // one test case for example\n    }\n    public static int solution(String x) {\n        int i = 1; // the smallest sequence we can have is 1 for example &quot;aaaaaaaaaaa&quot; would have the sequence of 1\n        int sizeOfCake = x.length();\n        while (i&lt;=sizeOfCake/2){ // no need to go through all amounts of sequences because the smallest amount of pieces of cake is 2\n            if(helpMethod(x.substring(i,sizeOfCake), x.substring(0,i))) {\n                return sizeOfCake/i;\n            }\n            i++;\n        }\n        return 1; // You could argue that the whole cake is one peace so you are &quot;cutting&quot; 1 peace. If so it's probably going to Commander Lambda.\n        // The tests only passed with 1 but I originally was going for: Math.round(Math.random())\n    }\n    \n    static boolean helpMethod(String oneSliceLess, String sliceSequence) {\n        int sizeOfSliceSequence = sliceSequence.length();\n        int sizeOfOneSliceLess = oneSliceLess.length();\n        if(sizeOfOneSliceLess &gt;= sizeOfSliceSequence){\n            return oneSliceLess.substring(0,sizeOfSliceSequence).equals(sliceSequence) &amp;&amp;\n            helpMethod(oneSliceLess.substring(sizeOfSliceSequence,sizeOfOneSliceLess), sliceSequence);\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4741803,"reputation":463,"user_id":3834292,"accept_rate":71,"display_name":"loalexzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636557724,"creation_date":1636557724,"answer_id":69915891,"question_id":41775645,"body_markdown":"Try this?\r\n\r\n    public class Solution {\r\n        public static int solution(String x) {\r\n            if((x == null) || (x.length() == 0))\r\n                return 0;\r\n    \r\n            int len = x.length();\r\n            String targetString = x.toLowerCase();\r\n            String pattern = &quot;&quot;;\r\n            for(int i = 0; i &lt; len; i++) {\r\n                String subString = targetString.substring(0, i);\r\n                int len2 = targetString.replaceAll(subString, &quot;&quot;).length();\r\n                if(len2 == 0) {\r\n                    if ((pattern.length() == 0) || (subString.length() &lt;= pattern.length()))\r\n                        pattern = subString;\r\n                }\r\n            }\r\n    \r\n            if (pattern.length() == 0) {\r\n                return 1;\r\n            }\r\n    \r\n            return len / pattern.length();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Google foobar The Cake is not a lie","body":"<p>Try this?</p>\n<pre><code>public class Solution {\n    public static int solution(String x) {\n        if((x == null) || (x.length() == 0))\n            return 0;\n\n        int len = x.length();\n        String targetString = x.toLowerCase();\n        String pattern = &quot;&quot;;\n        for(int i = 0; i &lt; len; i++) {\n            String subString = targetString.substring(0, i);\n            int len2 = targetString.replaceAll(subString, &quot;&quot;).length();\n            if(len2 == 0) {\n                if ((pattern.length() == 0) || (subString.length() &lt;= pattern.length()))\n                    pattern = subString;\n            }\n        }\n\n        if (pattern.length() == 0) {\n            return 1;\n        }\n\n        return len / pattern.length();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17746790,"reputation":11,"user_id":12885905,"display_name":"MoonZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659524445,"creation_date":1659524445,"answer_id":73220591,"question_id":41775645,"body_markdown":"I did this test 3 months ago, wrote this solution in Python that passes every test:\r\n\r\n``` lang-python\r\nimport re\r\n    \r\ndef solution(s):\r\n    seq = re.search(&#39;^(.+?)\\\\1*$&#39;, s).group(1)\r\n    return len(s) / len(seq)\r\n","title":"Google foobar The Cake is not a lie","body":"<p>I did this test 3 months ago, wrote this solution in Python that passes every test:</p>\n<pre class=\"lang-python prettyprint-override\"><code>import re\n    \ndef solution(s):\n    seq = re.search('^(.+?)\\\\1*$', s).group(1)\n    return len(s) / len(seq)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11480313,"reputation":11,"user_id":8414586,"display_name":"Sridhar T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691599411,"creation_date":1691599411,"answer_id":76869750,"question_id":41775645,"body_markdown":"**Solution**\r\n\r\n```\r\ndef solution(s):\r\n    if s:\r\n        n = len(s)\r\n        if n &lt; 200:\r\n            count = 0\r\n            for length in range(1, n//2 + 1):\r\n                if n % length == 0:\r\n                    substring = s[:length]\r\n                    repeats = n // length\r\n                    if substring * repeats == s:\r\n                        # consider only max no. of parts\r\n                        if count &lt; repeats:\r\n                            count = repeats\r\n            if count == 0:\r\n                # if all parts are unique\r\n                if len(s) == len(set(s)):\r\n                    return 1\r\n            return count\r\n```\r\n\r\nStill, I passed 7 out of 10 test cases, failed 3 hidden test cases.\r\n\r\nShare optimized solution","title":"Google foobar The Cake is not a lie","body":"<p><strong>Solution</strong></p>\n<pre><code>def solution(s):\n    if s:\n        n = len(s)\n        if n &lt; 200:\n            count = 0\n            for length in range(1, n//2 + 1):\n                if n % length == 0:\n                    substring = s[:length]\n                    repeats = n // length\n                    if substring * repeats == s:\n                        # consider only max no. of parts\n                        if count &lt; repeats:\n                            count = repeats\n            if count == 0:\n                # if all parts are unique\n                if len(s) == len(set(s)):\n                    return 1\n            return count\n</code></pre>\n<p>Still, I passed 7 out of 10 test cases, failed 3 hidden test cases.</p>\n<p>Share optimized solution</p>\n"}],"owner":{"account_id":10077380,"reputation":21,"user_id":7449002,"display_name":"Kah Shing Chee"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14338,"favorite_count":0,"down_vote_count":14,"up_vote_count":4,"accepted_answer_id":41776012,"answer_count":12,"score":-10,"last_activity_date":1695649388,"creation_date":1484971931,"question_id":41775645,"body_markdown":"The cake is not a lie!\r\n======================\r\n\r\nCommander Lambda has had an incredibly successful week: she completed the first test run of her LAMBCHOP doomsday device, she captured six key members of the Bunny Rebellion, and she beat her personal high score in Tetris. To celebrate, she&#39;s ordered cake for everyone - even the lowliest of minions! But competition among minions is fierce, and if you don&#39;t cut exactly equal slices of cake for everyone, you&#39;ll get in big trouble. \r\n\r\nThe cake is round, and decorated with M&amp;Ms in a circle around the edge. But while the rest of the cake is uniform, the M&amp;Ms are not: there are multiple colors, and every minion must get exactly the same sequence of M&amp;Ms. Commander Lambda hates waste and will not tolerate any leftovers, so you also want to make sure you can serve the entire cake.\r\n\r\nTo help you best cut the cake, you have turned the sequence of colors of the M&amp;Ms on the cake into a string: each possible letter (between a and z) corresponds to a unique color, and the sequence of M&amp;Ms is given clockwise (the decorations form a circle around the outer edge of the cake).\r\n\r\nWrite a function called answer(s) that, given a non-empty string less than 200 characters in length describing the sequence of M&amp;Ms, returns the maximum number of equal parts that can be cut from the cake without leaving any leftovers.\r\n\r\nLanguages\r\n=========\r\n\r\nTo provide a Python solution, edit `solution.py`&lt;br /&gt;\r\nTo provide a Java solution, edit `solution.java`\r\n\r\nTest cases\r\n==========\r\n\r\nInputs:\r\n\r\n    (string) s = &quot;abccbaabccba&quot;\r\n\r\nOutput:\r\n\r\n    (int) 2\r\n\r\nInputs:\r\n\r\n    (string) s = &quot;abcabcabcabc&quot;\r\n\r\nOutput:\r\n\r\n    (int) 4\r\n\r\n**Anyone have idea on solving this?\r\nHere is my answer but failed for 6 test cases.**\r\n\r\n    public class Answer {   \r\n        public static int answer(String s) { \r\n            int split = 1;\r\n            char c = s.charAt(0);\r\n            for (int i = 1; i &lt; s.length() - 1; i++) {\r\n                if (c == s.charAt(i)) {\r\n                    if(s.charAt(i)!=s.charAt(i+1)){\r\n                        split++;\r\n                    }\r\n                }\r\n            }\r\n            return split;\r\n        } \r\n    }\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BEy20.png","title":"Google foobar The Cake is not a lie","body":"<h1>The cake is not a lie!</h1>\n<p>Commander Lambda has had an incredibly successful week: she completed the first test run of her LAMBCHOP doomsday device, she captured six key members of the Bunny Rebellion, and she beat her personal high score in Tetris. To celebrate, she's ordered cake for everyone - even the lowliest of minions! But competition among minions is fierce, and if you don't cut exactly equal slices of cake for everyone, you'll get in big trouble.</p>\n<p>The cake is round, and decorated with M&amp;Ms in a circle around the edge. But while the rest of the cake is uniform, the M&amp;Ms are not: there are multiple colors, and every minion must get exactly the same sequence of M&amp;Ms. Commander Lambda hates waste and will not tolerate any leftovers, so you also want to make sure you can serve the entire cake.</p>\n<p>To help you best cut the cake, you have turned the sequence of colors of the M&amp;Ms on the cake into a string: each possible letter (between a and z) corresponds to a unique color, and the sequence of M&amp;Ms is given clockwise (the decorations form a circle around the outer edge of the cake).</p>\n<p>Write a function called answer(s) that, given a non-empty string less than 200 characters in length describing the sequence of M&amp;Ms, returns the maximum number of equal parts that can be cut from the cake without leaving any leftovers.</p>\n<h1>Languages</h1>\n<p>To provide a Python solution, edit <code>solution.py</code><br />\nTo provide a Java solution, edit <code>solution.java</code></p>\n<h1>Test cases</h1>\n<p>Inputs:</p>\n<pre><code>(string) s = &quot;abccbaabccba&quot;\n</code></pre>\n<p>Output:</p>\n<pre><code>(int) 2\n</code></pre>\n<p>Inputs:</p>\n<pre><code>(string) s = &quot;abcabcabcabc&quot;\n</code></pre>\n<p>Output:</p>\n<pre><code>(int) 4\n</code></pre>\n<p><strong>Anyone have idea on solving this?\nHere is my answer but failed for 6 test cases.</strong></p>\n<pre><code>public class Answer {   \n    public static int answer(String s) { \n        int split = 1;\n        char c = s.charAt(0);\n        for (int i = 1; i &lt; s.length() - 1; i++) {\n            if (c == s.charAt(i)) {\n                if(s.charAt(i)!=s.charAt(i+1)){\n                    split++;\n                }\n            }\n        }\n        return split;\n    } \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BEy20.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BEy20.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695635419,"creation_date":1695635419,"answer_id":77171583,"question_id":77171158,"body_markdown":"You can check the correctness of your xpath by going to \r\n\r\n`Developer Tools in your browser` -&gt; `Elements` -&gt; `Ctrl + F` -&gt; `Paste your xpath into the search bar`\r\n\r\nI`ve tried search on https://www.youtube.com/ by your xpath:\r\n\r\n    //button[@aria-label=&#39;Accept the use of cookies and other data for the purposes described&#39;] \r\n\r\nand there were not any matches. So try to edit your xpath.","title":"Not able to locate an Element using selenium with java","body":"<p>You can check the correctness of your xpath by going to</p>\n<p><code>Developer Tools in your browser</code> -&gt; <code>Elements</code> -&gt; <code>Ctrl + F</code> -&gt; <code>Paste your xpath into the search bar</code></p>\n<p>I`ve tried search on <a href=\"https://www.youtube.com/\" rel=\"nofollow noreferrer\">https://www.youtube.com/</a> by your xpath:</p>\n<pre><code>//button[@aria-label='Accept the use of cookies and other data for the purposes described'] \n</code></pre>\n<p>and there were not any matches. So try to edit your xpath.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695649315,"creation_date":1695636934,"answer_id":77171774,"question_id":77171158,"body_markdown":"Try the below code:\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.youtube.com/&quot;);\r\ndriver.manage().window().maximize();\r\n//Create an object of selenium&#39;s explicit wait\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n        \r\n//Click on Accept All button\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@aria-label=&#39;Accept the use of cookies and other data for the purposes described&#39;]&quot;))).click();\r\n\r\n//Send keys Selenium into search box\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id=&#39;search&#39;]&quot;))).sendKeys(&quot;Selenium&quot;);\r\n````\r\n\r\nImports required:\r\n````\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport java.time.Duration;\r\n````","title":"Not able to locate an Element using selenium with java","body":"<p>Try the below code:</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.youtube.com/&quot;);\ndriver.manage().window().maximize();\n//Create an object of selenium's explicit wait\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\n        \n//Click on Accept All button\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@aria-label='Accept the use of cookies and other data for the purposes described']&quot;))).click();\n\n//Send keys Selenium into search box\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id='search']&quot;))).sendKeys(&quot;Selenium&quot;);\n</code></pre>\n<p>Imports required:</p>\n<pre><code>import org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.time.Duration;\n</code></pre>\n"}],"owner":{"account_id":7827196,"reputation":178,"user_id":5918374,"accept_rate":50,"display_name":"AmeyaG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77171774,"answer_count":2,"score":0,"last_activity_date":1695649315,"creation_date":1695631715,"question_id":77171158,"body_markdown":"I&#39;m new to selenium + java and I&#39;m trying to locate an element (search bar) on the page &quot;https://www.youtube.com/&quot;\r\nWhen I use the xpath on the browser tools, it highlights the correct element.\r\nWhen I run the code, I keep getting an exception **&quot; org.openqa.selenium.NoSuchElementException&quot;**\r\n\r\nThe code that I&#39;m using can be found below \r\n```\r\nWebDriver driver = new ChromeDriver();\r\n\t\t\r\ndriver.get(&quot;https://www.youtube.com/&quot;);\r\ndriver.manage().window().maximize();\r\n\r\ntry {\r\n\t\tThread.sleep(5000);\r\n\t} catch (InterruptedException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n}\r\n\t\t\r\n//To click on the cookie pop pup\r\ndriver.findElement(By.xpath(&quot;//button[@aria-label=&#39;Accept the use of cookies and other data for the purposes described&#39;]&quot;)).click();\r\n\t\t\r\ntry {\r\n\t\tThread.sleep(5000);\r\n\t} catch (InterruptedException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n}\r\n\r\n//To send text to the search field\r\ndriver.findElement(By.xpath(&quot;//input[@class=&#39;ytd-searchbox&#39;]&quot;)).sendKeys(&quot;Selenium&quot;);\r\n```\r\n","title":"Not able to locate an Element using selenium with java","body":"<p>I'm new to selenium + java and I'm trying to locate an element (search bar) on the page &quot;https://www.youtube.com/&quot;\nWhen I use the xpath on the browser tools, it highlights the correct element.\nWhen I run the code, I keep getting an exception <strong>&quot; org.openqa.selenium.NoSuchElementException&quot;</strong></p>\n<p>The code that I'm using can be found below</p>\n<pre><code>WebDriver driver = new ChromeDriver();\n        \ndriver.get(&quot;https://www.youtube.com/&quot;);\ndriver.manage().window().maximize();\n\ntry {\n        Thread.sleep(5000);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n}\n        \n//To click on the cookie pop pup\ndriver.findElement(By.xpath(&quot;//button[@aria-label='Accept the use of cookies and other data for the purposes described']&quot;)).click();\n        \ntry {\n        Thread.sleep(5000);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n}\n\n//To send text to the search field\ndriver.findElement(By.xpath(&quot;//input[@class='ytd-searchbox']&quot;)).sendKeys(&quot;Selenium&quot;);\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb","microservices"],"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1695521863,"post_id":77165486,"comment_id":136035157,"body_markdown":"share your aws config codes.","body":"share your aws config codes."},{"owner":{"account_id":2255480,"reputation":835,"user_id":1986760,"accept_rate":14,"display_name":"nsingla85"},"score":0,"creation_date":1695523428,"post_id":77165486,"comment_id":136035234,"body_markdown":"Shared on the registered email address","body":"Shared on the registered email address"},{"owner":{"account_id":12179143,"reputation":12245,"user_id":8891224,"display_name":"Nadav Har&#39;El"},"score":0,"creation_date":1695544089,"post_id":77165486,"comment_id":136036482,"body_markdown":"If I remember correctly, the message &quot;The security token included in the request is invalid.&quot; doesn&#39;t refer specifically to the &quot;session token&quot; (the third part of the authentication when using temporary sessions) but can also mean that your access key id or secret key are wrong.","body":"If I remember correctly, the message &quot;The security token included in the request is invalid.&quot; doesn&#39;t refer specifically to the &quot;session token&quot; (the third part of the authentication when using temporary sessions) but can also mean that your access key id or secret key are wrong."},{"owner":{"account_id":2255480,"reputation":835,"user_id":1986760,"accept_rate":14,"display_name":"nsingla85"},"score":0,"creation_date":1695565847,"post_id":77165486,"comment_id":136038506,"body_markdown":"@NadavHar&#39;El, Access key id and Secret key are correct, I validated the same.\nWhen I include all three: Accesskey, Secret, and Session in the code, I used &#39;BasicSessionCredentials,&#39; instead of BasicAWSCredentials in Code and it works. However, when I tried with just Accesskey and Secret, I encountered the mentioned exception. My concern is that connecting to AWS DynamoDB requires a security token, and I couldn&#39;t find any sample code that includes a security token. I would like to know how to connect to DynamoDB using just the Accesskey and Secret without needing to pass a security token","body":"@NadavHar&#39;El, Access key id and Secret key are correct, I validated the same. When I include all three: Accesskey, Secret, and Session in the code, I used &#39;BasicSessionCredentials,&#39; instead of BasicAWSCredentials in Code and it works. However, when I tried with just Accesskey and Secret, I encountered the mentioned exception. My concern is that connecting to AWS DynamoDB requires a security token, and I couldn&#39;t find any sample code that includes a security token. I would like to know how to connect to DynamoDB using just the Accesskey and Secret without needing to pass a security token"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1695642826,"post_id":77165486,"comment_id":136047376,"body_markdown":"You are using an SDK version that is considered not best practice.","body":"You are using an SDK version that is considered not best practice."},{"owner":{"account_id":2255480,"reputation":835,"user_id":1986760,"accept_rate":14,"display_name":"nsingla85"},"score":0,"creation_date":1695648092,"post_id":77165486,"comment_id":136048521,"body_markdown":"@smac2020, can you please suggest the correct one ?","body":"@smac2020, can you please suggest the correct one ?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1695648679,"post_id":77165486,"comment_id":136048642,"body_markdown":"See response. A lot of information there.","body":"See response. A lot of information there."},{"owner":{"account_id":2255480,"reputation":835,"user_id":1986760,"accept_rate":14,"display_name":"nsingla85"},"score":0,"creation_date":1695655639,"post_id":77165486,"comment_id":136050306,"body_markdown":"@smac2020, Still getting the similar Issue:\n\nThe security token included in the request is invalid. (Service: DynamoDb, Status Code: 400, Request ID: I843LDSR6O0K011KEI8O0BPQIFVV4KQNSO5AEMVJF66Q9ASUAAJG)\n\nProcess finished with exit code 1","body":"@smac2020, Still getting the similar Issue:  The security token included in the request is invalid. (Service: DynamoDb, Status Code: 400, Request ID: I843LDSR6O0K011KEI8O0BPQIFVV4KQNSO5AEMVJF66Q9ASUAAJG)  Process finished with exit code 1"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1695655750,"post_id":77165486,"comment_id":136050330,"body_markdown":"Try a fresh Java Maven project and pull in the POM file located here - https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb.  I want to make sure you get a basic AWS DynanoDB project working. Also - put your creds under \\.aws\\credentials as discussed in the link in my answer","body":"Try a fresh Java Maven project and pull in the POM file located here - <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>.  I want to make sure you get a basic AWS DynanoDB project working. Also - put your creds under \\.aws\\credentials as discussed in the link in my answer"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1695587575,"creation_date":1695566808,"answer_id":77167576,"question_id":77165486,"body_markdown":"You are using an outdated version of the Java SDK. You should strongly consider moving to [AWS SDK for Java V2][1]. V1 is not best practice. \r\n\r\nThe Amazon DynamoDB V2 Java API lets you perform service operations using your keys. To do so, ensure you configure your keys properly. See [Credential settings retrieval order][2]. \r\n\r\nHere is an example that simply lists your tables. Try this code to make sure it works.\r\n\r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.list_tables.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\r\n    import software.amazon.awssdk.services.dynamodb.model.ListTablesRequest;\r\n    import software.amazon.awssdk.services.dynamodb.model.ListTablesResponse;\r\n    import java.util.List;\r\n    // snippet-end:[dynamodb.java2.list_tables.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    public class ListTables {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Listing your Amazon DynamoDB tables:\\n&quot;);\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            DynamoDbClient ddb = DynamoDbClient.builder()\r\n                   .credentialsProvider(credentialsProvider)\r\n                    .region(region)\r\n                    .build();\r\n            listAllTables(ddb);\r\n            ddb.close();\r\n        }\r\n    \r\n        // snippet-start:[dynamodb.java2.list_tables.main]\r\n        public static void listAllTables(DynamoDbClient ddb){\r\n    \r\n            boolean moreTables = true;\r\n            String lastName = null;\r\n    \r\n            while(moreTables) {\r\n                try {\r\n                    ListTablesResponse response = null;\r\n                    if (lastName == null) {\r\n                        ListTablesRequest request = ListTablesRequest.builder().build();\r\n                        response = ddb.listTables(request);\r\n                    } else {\r\n                        ListTablesRequest request = ListTablesRequest.builder()\r\n                                .exclusiveStartTableName(lastName).build();\r\n                        response = ddb.listTables(request);\r\n                    }\r\n    \r\n                    List&lt;String&gt; tableNames = response.tableNames();\r\n                    if (tableNames.size() &gt; 0) {\r\n                        for (String curName : tableNames) {\r\n                            System.out.format(&quot;* %s\\n&quot;, curName);\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;No tables found!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n    \r\n                    lastName = response.lastEvaluatedTableName();\r\n                    if (lastName == null) {\r\n                        moreTables = false;\r\n                    }\r\n    \r\n                } catch (DynamoDbException e) {\r\n                    System.err.println(e.getMessage());\r\n                    System.exit(1);\r\n                }\r\n            }\r\n            System.out.println(&quot;\\nDone!&quot;);\r\n        }\r\n        // snippet-end:[dynamodb.java2.list_tables.main]\r\n    }\r\n\r\nAfter you get that working, you can try more advanced examples such as: \r\n\r\n*Discusses how to develop a Spring Boot application that queries Amazon DynamoDB data. The Spring Boot application uses the AWS SDK for Java (v2) to invoke AWS services and is used by a React application that displays the data. The React application uses Cloudscape.*\r\n\r\nSee - https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_dynamodb_web_app\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html","title":"Amazon DynamoDB Exception: The security token included in the request is invalid","body":"<p>You are using an outdated version of the Java SDK. You should strongly consider moving to <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2</a>. V1 is not best practice.</p>\n<p>The Amazon DynamoDB V2 Java API lets you perform service operations using your keys. To do so, ensure you configure your keys properly. See <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">Credential settings retrieval order</a>.</p>\n<p>Here is an example that simply lists your tables. Try this code to make sure it works.</p>\n<pre><code>package com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.list_tables.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\nimport software.amazon.awssdk.services.dynamodb.model.ListTablesRequest;\nimport software.amazon.awssdk.services.dynamodb.model.ListTablesResponse;\nimport java.util.List;\n// snippet-end:[dynamodb.java2.list_tables.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\npublic class ListTables {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Listing your Amazon DynamoDB tables:\\n&quot;);\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        DynamoDbClient ddb = DynamoDbClient.builder()\n               .credentialsProvider(credentialsProvider)\n                .region(region)\n                .build();\n        listAllTables(ddb);\n        ddb.close();\n    }\n\n    // snippet-start:[dynamodb.java2.list_tables.main]\n    public static void listAllTables(DynamoDbClient ddb){\n\n        boolean moreTables = true;\n        String lastName = null;\n\n        while(moreTables) {\n            try {\n                ListTablesResponse response = null;\n                if (lastName == null) {\n                    ListTablesRequest request = ListTablesRequest.builder().build();\n                    response = ddb.listTables(request);\n                } else {\n                    ListTablesRequest request = ListTablesRequest.builder()\n                            .exclusiveStartTableName(lastName).build();\n                    response = ddb.listTables(request);\n                }\n\n                List&lt;String&gt; tableNames = response.tableNames();\n                if (tableNames.size() &gt; 0) {\n                    for (String curName : tableNames) {\n                        System.out.format(&quot;* %s\\n&quot;, curName);\n                    }\n                } else {\n                    System.out.println(&quot;No tables found!&quot;);\n                    System.exit(0);\n                }\n\n                lastName = response.lastEvaluatedTableName();\n                if (lastName == null) {\n                    moreTables = false;\n                }\n\n            } catch (DynamoDbException e) {\n                System.err.println(e.getMessage());\n                System.exit(1);\n            }\n        }\n        System.out.println(&quot;\\nDone!&quot;);\n    }\n    // snippet-end:[dynamodb.java2.list_tables.main]\n}\n</code></pre>\n<p>After you get that working, you can try more advanced examples such as:</p>\n<p><em>Discusses how to develop a Spring Boot application that queries Amazon DynamoDB data. The Spring Boot application uses the AWS SDK for Java (v2) to invoke AWS services and is used by a React application that displays the data. The React application uses Cloudscape.</em></p>\n<p>See - <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_dynamodb_web_app\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_dynamodb_web_app</a></p>\n"}],"owner":{"account_id":2255480,"reputation":835,"user_id":1986760,"accept_rate":14,"display_name":"nsingla85"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77167576,"answer_count":1,"score":1,"last_activity_date":1695648736,"creation_date":1695519550,"question_id":77165486,"body_markdown":"I&#39;m encountering an issue while attempting to establish a connection to Amazon DynamoDB through a Spring Boot component using &#39;**aws-java-sdk-dynamodb**&#39;. \r\n\r\nI&#39;m providing the Access Key and Secret Key, but I&#39;m receiving an exception indicating an invalid security token, even though I&#39;m not passing one.\r\n\r\nHere&#39;s the exception I&#39;m encountering:\r\n\r\n       com.amazonaws.services.dynamodbv2.model.AmazonDynamoDBException: The security token included in the request is invalid. (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: UnrecognizedClientException; Request ID: 3JNS4E8K8PR6MG2VLLH6M152R3VV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n        \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1799) ~[aws-java-sdk-core-1.11.725.jar:na]\r\n        \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1383) ~[aws-java-sdk-core-1.11.725.jar:na]\r\n\r\nI&#39;d like to clarify whether a security token is required to connect to AWS DynamoDB from a Spring Boot component in Java. I have gone through with so many sample codes but didn&#39;t find any with Security Token.\r\nI&#39;m following the code reference in the repository at:\r\nhttps://github.com/yogsma/betterjavacode/tree/main/dynamodbdemo\r\n\r\nCould you please provide references on how to establish a successful connection to DynamoDB from a Spring Boot Java component?\r\n\r\n","title":"Amazon DynamoDB Exception: The security token included in the request is invalid","body":"<p>I'm encountering an issue while attempting to establish a connection to Amazon DynamoDB through a Spring Boot component using '<strong>aws-java-sdk-dynamodb</strong>'.</p>\n<p>I'm providing the Access Key and Secret Key, but I'm receiving an exception indicating an invalid security token, even though I'm not passing one.</p>\n<p>Here's the exception I'm encountering:</p>\n<pre><code>   com.amazonaws.services.dynamodbv2.model.AmazonDynamoDBException: The security token included in the request is invalid. (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: UnrecognizedClientException; Request ID: 3JNS4E8K8PR6MG2VLLH6M152R3VV4KQNSO5AEMVJF66Q9ASUAAJG)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1799) ~[aws-java-sdk-core-1.11.725.jar:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1383) ~[aws-java-sdk-core-1.11.725.jar:na]\n</code></pre>\n<p>I'd like to clarify whether a security token is required to connect to AWS DynamoDB from a Spring Boot component in Java. I have gone through with so many sample codes but didn't find any with Security Token.\nI'm following the code reference in the repository at:\n<a href=\"https://github.com/yogsma/betterjavacode/tree/main/dynamodbdemo\" rel=\"nofollow noreferrer\">https://github.com/yogsma/betterjavacode/tree/main/dynamodbdemo</a></p>\n<p>Could you please provide references on how to establish a successful connection to DynamoDB from a Spring Boot Java component?</p>\n"},{"tags":["java","spring-webflux","spring-kafka","project-reactor","reactor-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695648721,"creation_date":1695648721,"answer_id":77173089,"question_id":77162588,"body_markdown":"`.receiveBatch()` was recently added; it is available in 1.3.21.\r\n\r\nhttps://github.com/reactor/reactor-kafka/commit/9597c9388f33b03817c439159a81807ab6300123","title":"How to get a list of messages with reactor-kafka receiver?","body":"<p><code>.receiveBatch()</code> was recently added; it is available in 1.3.21.</p>\n<p><a href=\"https://github.com/reactor/reactor-kafka/commit/9597c9388f33b03817c439159a81807ab6300123\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-kafka/commit/9597c9388f33b03817c439159a81807ab6300123</a></p>\n"}],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77173089,"answer_count":1,"score":0,"last_activity_date":1695648721,"creation_date":1695464557,"question_id":77162588,"body_markdown":"When we deal with synchronous approach we can receive from kafka a list of messages easily:\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; testContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        ConsumerFactory&lt;String, String&gt; consumerFactory = new DefaultKafkaConsumerFactory&lt;&gt;(Map.of(\r\n        ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;,\r\n        ...\r\n        ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 500)),\r\n                new StringDeserializer(),\r\n                new StringDeserializer());\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setBatchListener(true);\r\n        return factory;\r\n    }\r\n\r\n    @KafkaListener(topics = {&quot;topic&quot;}, containerFactory = &quot;testContainerFactory&quot;, groupId = &quot;group-id&quot;)\r\n    public void receiveMessages(List&lt;String&gt; messages) {\r\n        processorService.process(messages); // imagine that processorService  works with lists more efficiently than with multiple calls by one message\r\n    }\r\n\r\nIf I understand correctly it is guaranteed that the list will not exceed 500 messages.\r\n\r\nI need a similar behavior with a reactive solution for my app. I know that we can use `reactor-kafka`:\r\n\r\n    @Bean\r\n    public ApplicationRunner runner() {\r\n        return args -&gt; {\r\n            ReceiverOptions&lt;String, String&gt; ro = ReceiverOptions.&lt;String, String&gt;create(\r\n                    Map.of(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;,\r\n                           ...\r\n                           ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 500))\r\n            .withKeyDeserializer(new StringDeserializer())\r\n            .withValueDeserializer(new StringDeserializer())\r\n            .subscription(Collections.singletonList(&quot;topic&quot;));\r\n            KafkaReceiver.create(ro)\r\n                    .receive()\r\n                    .doOnNext(message -&gt; processorService.process(List.of(message)))\r\n                    .subscribe();\r\n        };\r\n    }\r\n\r\nAs `.receive()` returns a `Flux` I need to wrap it to a list to feed `processorService.process` with a real list (not with only one value). \r\nIs it ok to collect flux to a list like this in terms of kafka efficiency?\r\n\r\n            KafkaReceiver.create(ro)\r\n                    .receive()\r\n                    .collectToList()\r\n                    .doOnNext(processorService::process))\r\n                    .subscribe();\r\n\r\nHow many items will be in the list in such a case? Will it not exceed 500 as we set ConsumerConfig.MAX_POLL_RECORDS_CONFIG=500 in `ReceiverOptions`, right? ","title":"How to get a list of messages with reactor-kafka receiver?","body":"<p>When we deal with synchronous approach we can receive from kafka a list of messages easily:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; testContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    ConsumerFactory&lt;String, String&gt; consumerFactory = new DefaultKafkaConsumerFactory&lt;&gt;(Map.of(\n    ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;,\n    ...\n    ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 500)),\n            new StringDeserializer(),\n            new StringDeserializer());\n    factory.setConsumerFactory(consumerFactory);\n    factory.setBatchListener(true);\n    return factory;\n}\n\n@KafkaListener(topics = {&quot;topic&quot;}, containerFactory = &quot;testContainerFactory&quot;, groupId = &quot;group-id&quot;)\npublic void receiveMessages(List&lt;String&gt; messages) {\n    processorService.process(messages); // imagine that processorService  works with lists more efficiently than with multiple calls by one message\n}\n</code></pre>\n<p>If I understand correctly it is guaranteed that the list will not exceed 500 messages.</p>\n<p>I need a similar behavior with a reactive solution for my app. I know that we can use <code>reactor-kafka</code>:</p>\n<pre><code>@Bean\npublic ApplicationRunner runner() {\n    return args -&gt; {\n        ReceiverOptions&lt;String, String&gt; ro = ReceiverOptions.&lt;String, String&gt;create(\n                Map.of(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;,\n                       ...\n                       ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 500))\n        .withKeyDeserializer(new StringDeserializer())\n        .withValueDeserializer(new StringDeserializer())\n        .subscription(Collections.singletonList(&quot;topic&quot;));\n        KafkaReceiver.create(ro)\n                .receive()\n                .doOnNext(message -&gt; processorService.process(List.of(message)))\n                .subscribe();\n    };\n}\n</code></pre>\n<p>As <code>.receive()</code> returns a <code>Flux</code> I need to wrap it to a list to feed <code>processorService.process</code> with a real list (not with only one value).\nIs it ok to collect flux to a list like this in terms of kafka efficiency?</p>\n<pre><code>        KafkaReceiver.create(ro)\n                .receive()\n                .collectToList()\n                .doOnNext(processorService::process))\n                .subscribe();\n</code></pre>\n<p>How many items will be in the list in such a case? Will it not exceed 500 as we set ConsumerConfig.MAX_POLL_RECORDS_CONFIG=500 in <code>ReceiverOptions</code>, right?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":251784,"reputation":321,"user_id":529398,"accept_rate":40,"display_name":"St&#233;phane Derosiaux"},"score":0,"creation_date":1695507350,"post_id":77163674,"comment_id":136034274,"body_markdown":"How did you setup your consumer concurrency? Also, did you check if these records belong to the same partition? (they should because same key—but maybe there is an issue with the producer?)","body":"How did you setup your consumer concurrency? Also, did you check if these records belong to the same partition? (they should because same key—but maybe there is an issue with the producer?)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695561954,"post_id":77163674,"comment_id":136038139,"body_markdown":"The Javadoc for the rebalance listener explains it gives you more direct control over offset storage, and a final chance to commit, or place to seek, which is especially useful if you do not depend on Kafka for that offset storage. In any case, multiple listeners shouldn&#39;t be assigned the same partition (to process the same key), but multiple threads can be started from a consumer poll batch to process offsets from one partition in parallel. https://github.com/confluentinc/parallel-consumer","body":"The Javadoc for the rebalance listener explains it gives you more direct control over offset storage, and a final chance to commit, or place to seek, which is especially useful if you do not depend on Kafka for that offset storage. In any case, multiple listeners shouldn&#39;t be assigned the same partition (to process the same key), but multiple threads can be started from a consumer poll batch to process offsets from one partition in parallel. <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">github.com/confluentinc/parallel-consumer</a>"},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1695575672,"post_id":77163674,"comment_id":136039652,"body_markdown":"@St&#233;phaneD. i updated the question to answer your questions..","body":"@St&#233;phaneD. i updated the question to answer your questions.."},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1695575693,"post_id":77163674,"comment_id":136039657,"body_markdown":"@OneCricketeer &quot;multiple threads can be started from a consumer poll batch to process offsets from one partition in parallel.&quot;  looking at the screenshot above those look like different listener container threads; do you agree?  what would it look like if they were consumer parallel threads","body":"@OneCricketeer &quot;multiple threads can be started from a consumer poll batch to process offsets from one partition in parallel.&quot;  looking at the screenshot above those look like different listener container threads; do you agree?  what would it look like if they were consumer parallel threads"},{"owner":{"account_id":251784,"reputation":321,"user_id":529398,"accept_rate":40,"display_name":"St&#233;phane Derosiaux"},"score":0,"creation_date":1695594361,"post_id":77163674,"comment_id":136041402,"body_markdown":"a key does not move between partitions (the whole Kafka ecosystem is built on this concept). This can happen only if you&#39;ve added partitions manually (which is very rarely the case). Is that the case? If not, how are produced your records? (language, framework)","body":"a key does not move between partitions (the whole Kafka ecosystem is built on this concept). This can happen only if you&#39;ve added partitions manually (which is very rarely the case). Is that the case? If not, how are produced your records? (language, framework)"},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1695646381,"post_id":77163674,"comment_id":136048109,"body_markdown":"afaik we have not added any partitions manually (we use julie).  we use the eventKafkaTemplate.send(topic, key, event);","body":"afaik we have not added any partitions manually (we use julie).  we use the eventKafkaTemplate.send(topic, key, event);"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695648057,"post_id":77163674,"comment_id":136048510,"body_markdown":"I don&#39;t have experience with spring-kafka, in particular, but assume you polled 100 records, and set concurrency as 4. This may try to distribute 25 records to be processed by each thread... Depending on your records, this may result in bad order or race-conditions. If that&#39;s not what you want, then you may not want to use the concurrent listener, and rather simply run 4 instances of your Spring process, each with one consumer KafkaListener thread","body":"I don&#39;t have experience with spring-kafka, in particular, but assume you polled 100 records, and set concurrency as 4. This may try to distribute 25 records to be processed by each thread... Depending on your records, this may result in bad order or race-conditions. If that&#39;s not what you want, then you may not want to use the concurrent listener, and rather simply run 4 instances of your Spring process, each with one consumer KafkaListener thread"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695648380,"post_id":77163674,"comment_id":136048581,"body_markdown":"Regarding your update, keys cannot move topics unless the producer code was explicitly sending it to each; did you mean partition?","body":"Regarding your update, keys cannot move topics unless the producer code was explicitly sending it to each; did you mean partition?"},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1695649526,"post_id":77163674,"comment_id":136048838,"body_markdown":"ya sorry guys after investigation the number of partitions changed, likely causing the same key to end up in multiple partitions.  today we have deleted and recreated that topic so hopefully that will resolve that","body":"ya sorry guys after investigation the number of partitions changed, likely causing the same key to end up in multiple partitions.  today we have deleted and recreated that topic so hopefully that will resolve that"},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1695747980,"post_id":77163674,"comment_id":136064842,"body_markdown":"thank you all for your comments.  i believe this was caused from a completely  different topic resulting in the same object being updated concurrently.  there was some other issues with keys in the partition, but recreating the topic fixed that.","body":"thank you all for your comments.  i believe this was caused from a completely  different topic resulting in the same object being updated concurrently.  there was some other issues with keys in the partition, but recreating the topic fixed that."}],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695648315,"creation_date":1695482330,"question_id":77163674,"body_markdown":"We are using kafka to deliver events to our micro service.  We populate/utilize the &quot;key&quot; field to ensure events with the same key are put in the same partition and processed sequentially.  We have also configured consumer concurrency giving birth to many listener containers within a single micro service instance.  recently while testing we saw 5 out of the 6 listener containers processing events with the same key.\r\n[![enter image description here][1]][1]\r\n(here we see the listenerContainer- &lt;0,1,2,3,4&gt; all processing an event with the same key.  the breakpointer were conditional on the key)\r\n\r\nI have seen [other post][2] ([or here][3]) recommend creation of a ConsumerRebalanceListener\r\n\r\nIs it really necessary to manually handle partition assignment when using consumer concurrency?\r\n\r\nusing keys to maintain partition assignment seems like default behavior why would it need to be re-written?\r\n\r\n\r\nsome updates and replies to comments...\r\n\r\nHow we set consumer concurrency (in our factory):\r\n\r\n    /**\r\n    \t * {@inheritDoc}\r\n    \t */\r\n    \t@Override\r\n    \tpublic &lt;T&gt; ConcurrentKafkaListenerContainerFactory&lt;String, T&gt; listenerContainerFactory() {\r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, T&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerJsonProperties()));\r\n    \t\tfactory.setConcurrency(kp.getConsumerConcurrency());\r\n    \t\treturn factory;\r\n    \t}\r\n\r\nI did double check the topics for producing issue.\r\nThe key (a uuid) does show up in 2 different partitions (out of 12 total), however one topic only has older events while the other has all the newer events for this key.  So it seems to be working as expected, I just think the key moved topics at some point.\r\n\r\n  [1]: https://i.stack.imgur.com/s2LTD.png\r\n  [2]: https://stackoverflow.com/a/53541369/530933\r\n  [3]: https://stackoverflow.com/a/52284186/530933","title":"Kafka concurrent consumers and partitions assigned","body":"<p>We are using kafka to deliver events to our micro service.  We populate/utilize the &quot;key&quot; field to ensure events with the same key are put in the same partition and processed sequentially.  We have also configured consumer concurrency giving birth to many listener containers within a single micro service instance.  recently while testing we saw 5 out of the 6 listener containers processing events with the same key.\n<a href=\"https://i.stack.imgur.com/s2LTD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2LTD.png\" alt=\"enter image description here\" /></a>\n(here we see the listenerContainer- &lt;0,1,2,3,4&gt; all processing an event with the same key.  the breakpointer were conditional on the key)</p>\n<p>I have seen <a href=\"https://stackoverflow.com/a/53541369/530933\">other post</a> (<a href=\"https://stackoverflow.com/a/52284186/530933\">or here</a>) recommend creation of a ConsumerRebalanceListener</p>\n<p>Is it really necessary to manually handle partition assignment when using consumer concurrency?</p>\n<p>using keys to maintain partition assignment seems like default behavior why would it need to be re-written?</p>\n<p>some updates and replies to comments...</p>\n<p>How we set consumer concurrency (in our factory):</p>\n<pre><code>/**\n     * {@inheritDoc}\n     */\n    @Override\n    public &lt;T&gt; ConcurrentKafkaListenerContainerFactory&lt;String, T&gt; listenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, T&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerJsonProperties()));\n        factory.setConcurrency(kp.getConsumerConcurrency());\n        return factory;\n    }\n</code></pre>\n<p>I did double check the topics for producing issue.\nThe key (a uuid) does show up in 2 different partitions (out of 12 total), however one topic only has older events while the other has all the newer events for this key.  So it seems to be working as expected, I just think the key moved topics at some point.</p>\n"},{"tags":["java","spring-data","spring-annotations"],"owner":{"account_id":3779597,"reputation":73,"user_id":3139461,"display_name":"user3139461"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695648074,"creation_date":1695648074,"question_id":77173027,"body_markdown":"So I have a spring application with many DAOs that need to be pageable.\r\nEvery time I want to use a native query I need to wrap it into a separate count query eg.\r\n\r\n```\r\npublic interface UserDao extends JpaRepository&lt;UserEntity, Long&gt;  {\r\n\tString QUERY = &quot;select user_id,user_name from users&quot;;//a simplified example\r\n\t\r\n\t@Query(\r\n\t\tvalue = QUERY, \r\n\t\tcountQuery = &quot;select count(1) from (&quot;+QUERY+&quot;)&quot;\r\n\t\tnativeQuery = true)\r\n    Page&lt;UserEntity&gt; findUsers(Pageable pageable);\r\n}\r\n\r\n```\r\n\r\nWhat I would like is to go away with repeatable parts eg.\r\n```\r\npublic interface UserDao extends JpaRepository&lt;UserEntity, Long&gt;  {\r\n\t@PageableNativeQuery(value = &quot;select user_id,user_name from users&quot;)\r\n    Page&lt;UserEntity&gt; findUsers(Pageable pageable);\r\n}\r\n\r\n```\r\nSo I made an new annotation using @AliasFor:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n@QueryAnnotation\r\n@Documented\r\n@Query(\r\n\tnativeQuery = true, //this works\r\n\tcountQuery = &quot;select count(1) from (&quot;+value+&quot;)&quot;//this does not work\r\n\t)\r\npublic @interface PageableNativeQuery {\r\n    @AliasFor(annotation = Query.class, attribute = &quot;value&quot;) String value() default &quot;&quot;;\r\n}\r\n\r\n```\r\nI can&#39;t figure out how to wrap up the query value into the count query. Any ideas are appreciated. ","title":"Annotation @AliasFor for derived property values","body":"<p>So I have a spring application with many DAOs that need to be pageable.\nEvery time I want to use a native query I need to wrap it into a separate count query eg.</p>\n<pre><code>public interface UserDao extends JpaRepository&lt;UserEntity, Long&gt;  {\n    String QUERY = &quot;select user_id,user_name from users&quot;;//a simplified example\n    \n    @Query(\n        value = QUERY, \n        countQuery = &quot;select count(1) from (&quot;+QUERY+&quot;)&quot;\n        nativeQuery = true)\n    Page&lt;UserEntity&gt; findUsers(Pageable pageable);\n}\n\n</code></pre>\n<p>What I would like is to go away with repeatable parts eg.</p>\n<pre><code>public interface UserDao extends JpaRepository&lt;UserEntity, Long&gt;  {\n    @PageableNativeQuery(value = &quot;select user_id,user_name from users&quot;)\n    Page&lt;UserEntity&gt; findUsers(Pageable pageable);\n}\n\n</code></pre>\n<p>So I made an new annotation using @AliasFor:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@QueryAnnotation\n@Documented\n@Query(\n    nativeQuery = true, //this works\n    countQuery = &quot;select count(1) from (&quot;+value+&quot;)&quot;//this does not work\n    )\npublic @interface PageableNativeQuery {\n    @AliasFor(annotation = Query.class, attribute = &quot;value&quot;) String value() default &quot;&quot;;\n}\n\n</code></pre>\n<p>I can't figure out how to wrap up the query value into the count query. Any ideas are appreciated.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688126401,"post_id":76588420,"comment_id":135035611,"body_markdown":"Hello, your code looks good for me and should work. Please share the application log during startup and the dependencies (pom.xml or gradle file).","body":"Hello, your code looks good for me and should work. Please share the application log during startup and the dependencies (pom.xml or gradle file)."},{"owner":{"account_id":28924384,"reputation":1,"user_id":22154602,"display_name":"Biljana"},"score":0,"creation_date":1688127884,"post_id":76588420,"comment_id":135035917,"body_markdown":"@Mar-Z in my gradle file I have those dependencies for redis:\n`org.springframework.boot:spring-boot-configuration-processor:2.7.5`\n`org.springframework.data:spring-data-redis:2.7.3`\n`redis.clients:jedis:3.9.0`\n`org.springframework.boot:spring-boot-starter-data-redis`\n\nAlso the redis server is started and there I make good connection with the redis database","body":"@Mar-Z in my gradle file I have those dependencies for redis: <code>org.springframework.boot:spring-boot-configuration-processor&zwnj;&#8203;:2.7.5</code> <code>org.springframework.data:spring-data-redis:2.7.3</code> <code>redis.clients:jedis:3.9.0</code> <code>org.springframework.boot:spring-boot-starter-data-redis</code>  Also the redis server is started and there I make good connection with the redis database"},{"owner":{"account_id":22866981,"reputation":131,"user_id":17010647,"display_name":"Ksu"},"score":0,"creation_date":1688127925,"post_id":76588420,"comment_id":135035933,"body_markdown":"https://stackoverflow.com/questions/60729716/how-can-i-search-a-redis-hash-table-for-entities-that-have-a-particular-values-u","body":"<a href=\"https://stackoverflow.com/questions/60729716/how-can-i-search-a-redis-hash-table-for-entities-that-have-a-particular-values-u\" title=\"how can i search a redis hash table for entities that have a particular values u\">stackoverflow.com/questions/60729716/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688129322,"post_id":76588420,"comment_id":135036245,"body_markdown":"What url you&#39;re using exactly for testing? Can you set a breakpoint in controller to check the parameter?","body":"What url you&#39;re using exactly for testing? Can you set a breakpoint in controller to check the parameter?"},{"owner":{"account_id":28924384,"reputation":1,"user_id":22154602,"display_name":"Biljana"},"score":0,"creation_date":1688129665,"post_id":76588420,"comment_id":135036328,"body_markdown":"@Mar-Z \nlocalhost:8085/filterAppsByAppsTypes?appTypes=${appTypes}","body":"@Mar-Z  localhost:8085/filterAppsByAppsTypes?appTypes=${appTypes}"},{"owner":{"account_id":28924384,"reputation":1,"user_id":22154602,"display_name":"Biljana"},"score":0,"creation_date":1688129811,"post_id":76588420,"comment_id":135036358,"body_markdown":"@Ksu it works, thanks :)","body":"@Ksu it works, thanks :)"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688129835,"post_id":76588420,"comment_id":135036370,"body_markdown":"This is wrong. Should be appType according to controller. And one string only. Not a list, right?","body":"This is wrong. Should be appType according to controller. And one string only. Not a list, right?"},{"owner":{"account_id":28924384,"reputation":1,"user_id":22154602,"display_name":"Biljana"},"score":0,"creation_date":1688131603,"post_id":76588420,"comment_id":135036805,"body_markdown":"@Mar-Z to be exact, I need List of appTypes, but first I did it for one appType, just to make it work","body":"@Mar-Z to be exact, I need List of appTypes, but first I did it for one appType, just to make it work"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1699998466,"post_id":76588420,"comment_id":136600450,"body_markdown":"@Mar-Z did you get this working?","body":"@Mar-Z did you get this working?"}],"answers":[{"tags":[],"owner":{"account_id":19631406,"reputation":11,"user_id":14369649,"display_name":"Abdulaziz Pulatjonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695648041,"creation_date":1695648041,"answer_id":77173021,"question_id":76588420,"body_markdown":"to make this work you should include @Indexed annotation for the field you are searching by when declaring entity:\r\n    \r\n    import org.springframework.data.redis.core.index.Indexed;\r\n\r\n    @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @ToString\r\n        @RedisHash(&quot;Applications&quot;)\r\n        public class Applications implements Serializable {\r\n            private String appName;\r\n            @Indexed\r\n            private String appType;\r\n            @Id\r\n            private String appId;\r\n        }\r\n\r\nmake sure it is imported from as org.springframework.data.redis.core.index.Indexed","title":"Spring Data Redis. JPA Repository findBy is not working","body":"<p>to make this work you should include @Indexed annotation for the field you are searching by when declaring entity:</p>\n<pre><code>import org.springframework.data.redis.core.index.Indexed;\n\n@Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @ToString\n    @RedisHash(&quot;Applications&quot;)\n    public class Applications implements Serializable {\n        private String appName;\n        @Indexed\n        private String appType;\n        @Id\n        private String appId;\n    }\n</code></pre>\n<p>make sure it is imported from as org.springframework.data.redis.core.index.Indexed</p>\n"}],"owner":{"account_id":28924384,"reputation":1,"user_id":22154602,"display_name":"Biljana"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695648041,"creation_date":1688123727,"question_id":76588420,"body_markdown":"I&#39;m using `spring-data-redis` 2.7.5 version. \r\n\r\nObject declaration:\r\n```\r\n   @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @RedisHash(&quot;Applications&quot;)\r\n    public class Applications implements Serializable {\r\n        private String appName;\r\n        private String appType;\r\n        @Id\r\n        private String appId;\r\n    }\r\n```\r\nController method:\r\n```\r\n    @GetMapping(&quot;/filterAppsByAppsTypes&quot;)\r\n        public List&lt;Applications&gt; filterAppsByAppsTypes(@RequestParam String appType) {\r\n            List&lt;Applications&gt; apps = applicationRepository.findByAppType(appType);\r\n        return apps;\r\n    }\r\n```\r\nRepository:\r\n\r\n```\r\n    @Repository\r\n    public interface ApplicationsRepository extends CrudRepository&lt;Applications, String&gt; {\r\n        List&lt;Applications&gt; findByAppType(String appType);\r\n    }\r\n```\r\nI have objects with the value I want to filter, but it is returning an empty array.\r\nI tried adding `@Indexed` annotation but it does not fix it.","title":"Spring Data Redis. JPA Repository findBy is not working","body":"<p>I'm using <code>spring-data-redis</code> 2.7.5 version.</p>\n<p>Object declaration:</p>\n<pre><code>   @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @ToString\n    @RedisHash(&quot;Applications&quot;)\n    public class Applications implements Serializable {\n        private String appName;\n        private String appType;\n        @Id\n        private String appId;\n    }\n</code></pre>\n<p>Controller method:</p>\n<pre><code>    @GetMapping(&quot;/filterAppsByAppsTypes&quot;)\n        public List&lt;Applications&gt; filterAppsByAppsTypes(@RequestParam String appType) {\n            List&lt;Applications&gt; apps = applicationRepository.findByAppType(appType);\n        return apps;\n    }\n</code></pre>\n<p>Repository:</p>\n<pre><code>    @Repository\n    public interface ApplicationsRepository extends CrudRepository&lt;Applications, String&gt; {\n        List&lt;Applications&gt; findByAppType(String appType);\n    }\n</code></pre>\n<p>I have objects with the value I want to filter, but it is returning an empty array.\nI tried adding <code>@Indexed</code> annotation but it does not fix it.</p>\n"},{"tags":["java","multithreading","synchronized","memory-barriers","memory-visibility"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1695643571,"post_id":77172465,"comment_id":136047512,"body_markdown":"Why an empty `synchronized` block?","body":"Why an empty <code>synchronized</code> block?"},{"owner":{"account_id":12947592,"reputation":309,"user_id":9361451,"display_name":"Anonemous"},"score":0,"creation_date":1695643679,"post_id":77172465,"comment_id":136047531,"body_markdown":"@MauricePerry If without the empty synchronized block, the code will always run and never exits.","body":"@MauricePerry If without the empty synchronized block, the code will always run and never exits."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1695643704,"post_id":77172465,"comment_id":136047540,"body_markdown":"It seams your goal is to protect `i`. so I you should put the test inside the `synchronized` block.","body":"It seams your goal is to protect <code>i</code>. so I you should put the test inside the <code>synchronized</code> block."},{"owner":{"account_id":12947592,"reputation":309,"user_id":9361451,"display_name":"Anonemous"},"score":0,"creation_date":1695643761,"post_id":77172465,"comment_id":136047551,"body_markdown":"@MauricePerry I want to know why the empty `synchronized ` make the code exits?","body":"@MauricePerry I want to know why the empty <code>synchronized </code> make the code exits?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1695643981,"post_id":77172465,"comment_id":136047591,"body_markdown":"The `synchronized` block in addition to ensuring mutual exclusions, also ensures that the processor cache is flushed so that changes in the cache are seen by other cores/processors.","body":"The <code>synchronized</code> block in addition to ensuring mutual exclusions, also ensures that the processor cache is flushed so that changes in the cache are seen by other cores/processors."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1695644295,"post_id":77172465,"comment_id":136047665,"body_markdown":"AFAIK it&#39;s a side-effect and not guaranteed. If `i` is not declared `volatile` then there is no guarantee that the observed value of `i` inside the loop ever changes. There are many situations where (with the current OpenJDK implementation) it *will* become visible, but those aren&#39;t guaranteed by the spec.","body":"AFAIK it&#39;s a side-effect and not guaranteed. If <code>i</code> is not declared <code>volatile</code> then there is no guarantee that the observed value of <code>i</code> inside the loop ever changes. There are many situations where (with the current OpenJDK implementation) it <i>will</i> become visible, but those aren&#39;t guaranteed by the spec."},{"owner":{"account_id":12947592,"reputation":309,"user_id":9361451,"display_name":"Anonemous"},"score":0,"creation_date":1695644404,"post_id":77172465,"comment_id":136047689,"body_markdown":"@JoachimSauer That&#39;s also what I thought, but I am not sure, so want to discuss about this.","body":"@JoachimSauer That&#39;s also what I thought, but I am not sure, so want to discuss about this."},{"owner":{"account_id":12947592,"reputation":309,"user_id":9361451,"display_name":"Anonemous"},"score":0,"creation_date":1695647998,"post_id":77172465,"comment_id":136048488,"body_markdown":"I edited the question and added one further case.","body":"I edited the question and added one further case."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695657093,"post_id":77172465,"comment_id":136050614,"body_markdown":"There is nothing specific about the synchronization here that would ensure the text _&quot;END&quot;_ is printed.  You would need to synchronize the _i_ accessors, use an _[AtomicInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html)_ object, or the _[volatile](https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html)_ modifier.","body":"There is nothing specific about the synchronization here that would ensure the text <i>&quot;END&quot;</i> is printed.  You would need to synchronize the <i>i</i> accessors, use an <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a></i> object, or the <i><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"nofollow noreferrer\">volatile</a></i> modifier."},{"owner":{"account_id":12947592,"reputation":309,"user_id":9361451,"display_name":"Anonemous"},"score":0,"creation_date":1695695957,"post_id":77172465,"comment_id":136055487,"body_markdown":"@Reilas What about the latter &#39;added one line&#39; version?","body":"@Reilas What about the latter &#39;added one line&#39; version?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695646560,"creation_date":1695644376,"answer_id":77172577,"question_id":77172465,"body_markdown":"As per [JLS &#167;17.4.5: Happens-before order](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5):\r\n\r\n&gt; If hb(x, y) and hb(y, z), then hb(x, z).\r\n\r\nIn other words, HB (Happens-before) is transitive. And HB is the primary player in observability: It is not possible to observe state in line Y as it was before line X executed if `hb(x, y)` - and that&#39;s exactly what you are trying to do (or rather, prevent from happening): You are interested in whether line Y (`if (i == 1)`) can observe state as it was prior to line X (`i = 1`, in the synchronized block at the bottom of the snippet).\r\n\r\nGiven that transitivity rule, the answer for your specific snippet is &#39;yes&#39; - you&#39;re guaranteed that it prints `END`. Always take care in extrapolating an analysis for one particular snippet to a more general case - this stuff doesn&#39;t simplify easily, you have to apply happens-before analysis every time (or, more usually, avoid interactions between threads by way of field writes as much as you can):\r\n\r\n* `hb(exiting a synchronized block, entering it)` is a thing. different threads acquiring the monitor is an ordered affair, and there are HB relationships between these. Hence, there&#39;s an hb relationship between the second-to-last `}` (exiting the block) &lt;sup&gt;1&lt;/sup&gt; and the zero-statements `synchronized` block in the thread.\r\n\r\n* If the inner thread somehow runs afterwards (weird, as that would mean it has taken _more_ than 1 second to even start, but technically a JVM makes no timing guarantees, so possible in theory), `i` is already 1. It&#39;s possible this change has not been &#39;synced&#39; yet, except then the while loop hits that no-content `synchronized` block which then established hb, and thus forces visibility of `i` being `1`.\r\n* If the inner thread runs before (100% of all cases, what with that `Thread.sleep(1000)` in there, pretty much), the same logic applies eventually.\r\n* To actually add it together, we need to add the &#39;natural&#39; hb rule: Bytecode X and Y establish `hb(x, y)` if X and Y are executed by the same thread and Y comes after X in program order. i.e. given: `y = 5; System.out.println(y)` you can&#39;t observe y being as it was before `y = 5;` ran - this is the &#39;duh!&#39; HB rule - java would be rather useless as a language if the JVM can just reorder stuff in a single thread at will, of course. That + the transitivity rule is enough.\r\n\r\n## One technical issue here\r\n\r\nThe thread you fire up never voluntarily relinquishes which can cause some havoc (nothing in that code will &#39;sleep&#39; the CPU). You should __never__ write code that just busy-spins like this, the JVM is not particularly clear about how things work then, and it&#39;ll cause massive heat/power issues on the CPU! On a single core processor, the JVM is essentially allowed to spend all its time on that busy-wait, __forever__, and this is the one way in which you can make a JVM not print `END`, ever: Because the main thread that sets `i` to 1 __never__ gets around to it. This breaks the general point of threads. `synchronized` introduces a savepoint, so it&#39;ll eventually get pre-empted, but that can take quite a while. It can take far longer than a second on the right hardware.\r\n\r\nTrivially fixed by shoving some sort of `sleep` or `wait` in that busy-loop, or using `j.u.concurrent` locks/semaphores/etc.\r\n\r\n## But won&#39;t that empty `synchronized` block get optimized out?\r\n\r\nNo. The JLS dictates pretty much down to the byte exactly what `javac` __must__ produce. It is not allowed to optimize empty loops. It&#39;s the hotspot engine (i.e. `java.exe` - the runtime) that does things like &#39;oh, this loop has no observable effects that I&#39;m supposed to guarantee, therefore, I can optimize the whole thing away entirely&#39;, and the JMM 17.4.5 indicates it cannot do that. If a JVM impl &#39;optimizes it away&#39;, it&#39;d be buggy.\r\n\r\nWe can confirm this with `javap`:\r\n\r\n```\r\n&gt; cat Test.java\r\nclass Test {\r\n  void test() {\r\n    synchronized(this) {}\r\n  }\r\n}\r\n&gt; javac Test.java; javap -c -v Test\r\n[ ... loads of output elided ...]\r\n3: monitorenter\r\n4: aload_1\r\n5: monitorexit\r\n```\r\n\r\n`monitorenter` is bytecode for the opening brace in a `synchronized (x){}` block, and `monitorexit` is bytecode for the closing brace (or any other control flow out of one - exception throwing and `break` / `continue` / `return` also make `javac` emit `monitorexit` bytecode.\r\n\r\n## Closing note\r\n\r\nI assume the question was asked in the spirit of: Soo.. what happens here? Not in the spirit of: &quot;Is this fine to write&quot;. It&#39;s __not__ okay - other than the spinloop (never good), forcing the reader to go on a goose chase determining that HB is in fact set up to ensure this code does what you think it does, and requiring multiple details about the HB ruleset (the synchronized stuff _and_ the transitivity rule _and_ knowledge that empty sync blocks aren&#39;t optimized away) - not to mention an obvious bit of bizarro code (an empty sync block) which nevertheless does have a function here, none of that is particularly maintainable. The proper way to do this specific job is most likely to use a simple lock from `java.util.concurrent`, or at least to move the `synchronized` block to encompass all content in the `while` block. Also, locking on things code outside your direct control can acquire (and `Visibility.class` is, trivially, a global singleton) is a very bad idea: The only non-broken way to do that, is to extensively document your locking behaviour (and therefore, you&#39;re now signed up to maintain that behaviour indefinitely, or you&#39;re forced to release a major (i.e. backwards incompatible) version if you change it). Almost always you want to lock on things you control - i.e. `private final Object lock = new Object[0];` - an object that cannot possibly be referred to outside your direct control.\r\n\r\n\r\n----\r\n\r\n[1] Technically HB is a JVM affair and applies to bytecode. That closing brace, however, really does have a bytecode equivalent (most closing braces do not; that one does): It&#39;s the release of the monitor (&#39;freeing&#39; the `synchronized` lock). Which is exactly the bytecode that is HB relative to a later-ordered acquiring of that same lock object.\r\n","title":"Java memory visibility outside the synchronized lock","body":"<p>As per <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">JLS §17.4.5: Happens-before order</a>:</p>\n<blockquote>\n<p>If hb(x, y) and hb(y, z), then hb(x, z).</p>\n</blockquote>\n<p>In other words, HB (Happens-before) is transitive. And HB is the primary player in observability: It is not possible to observe state in line Y as it was before line X executed if <code>hb(x, y)</code> - and that's exactly what you are trying to do (or rather, prevent from happening): You are interested in whether line Y (<code>if (i == 1)</code>) can observe state as it was prior to line X (<code>i = 1</code>, in the synchronized block at the bottom of the snippet).</p>\n<p>Given that transitivity rule, the answer for your specific snippet is 'yes' - you're guaranteed that it prints <code>END</code>. Always take care in extrapolating an analysis for one particular snippet to a more general case - this stuff doesn't simplify easily, you have to apply happens-before analysis every time (or, more usually, avoid interactions between threads by way of field writes as much as you can):</p>\n<ul>\n<li><p><code>hb(exiting a synchronized block, entering it)</code> is a thing. different threads acquiring the monitor is an ordered affair, and there are HB relationships between these. Hence, there's an hb relationship between the second-to-last <code>}</code> (exiting the block) <sup>1</sup> and the zero-statements <code>synchronized</code> block in the thread.</p>\n</li>\n<li><p>If the inner thread somehow runs afterwards (weird, as that would mean it has taken <em>more</em> than 1 second to even start, but technically a JVM makes no timing guarantees, so possible in theory), <code>i</code> is already 1. It's possible this change has not been 'synced' yet, except then the while loop hits that no-content <code>synchronized</code> block which then established hb, and thus forces visibility of <code>i</code> being <code>1</code>.</p>\n</li>\n<li><p>If the inner thread runs before (100% of all cases, what with that <code>Thread.sleep(1000)</code> in there, pretty much), the same logic applies eventually.</p>\n</li>\n<li><p>To actually add it together, we need to add the 'natural' hb rule: Bytecode X and Y establish <code>hb(x, y)</code> if X and Y are executed by the same thread and Y comes after X in program order. i.e. given: <code>y = 5; System.out.println(y)</code> you can't observe y being as it was before <code>y = 5;</code> ran - this is the 'duh!' HB rule - java would be rather useless as a language if the JVM can just reorder stuff in a single thread at will, of course. That + the transitivity rule is enough.</p>\n</li>\n</ul>\n<h2>One technical issue here</h2>\n<p>The thread you fire up never voluntarily relinquishes which can cause some havoc (nothing in that code will 'sleep' the CPU). You should <strong>never</strong> write code that just busy-spins like this, the JVM is not particularly clear about how things work then, and it'll cause massive heat/power issues on the CPU! On a single core processor, the JVM is essentially allowed to spend all its time on that busy-wait, <strong>forever</strong>, and this is the one way in which you can make a JVM not print <code>END</code>, ever: Because the main thread that sets <code>i</code> to 1 <strong>never</strong> gets around to it. This breaks the general point of threads. <code>synchronized</code> introduces a savepoint, so it'll eventually get pre-empted, but that can take quite a while. It can take far longer than a second on the right hardware.</p>\n<p>Trivially fixed by shoving some sort of <code>sleep</code> or <code>wait</code> in that busy-loop, or using <code>j.u.concurrent</code> locks/semaphores/etc.</p>\n<h2>But won't that empty <code>synchronized</code> block get optimized out?</h2>\n<p>No. The JLS dictates pretty much down to the byte exactly what <code>javac</code> <strong>must</strong> produce. It is not allowed to optimize empty loops. It's the hotspot engine (i.e. <code>java.exe</code> - the runtime) that does things like 'oh, this loop has no observable effects that I'm supposed to guarantee, therefore, I can optimize the whole thing away entirely', and the JMM 17.4.5 indicates it cannot do that. If a JVM impl 'optimizes it away', it'd be buggy.</p>\n<p>We can confirm this with <code>javap</code>:</p>\n<pre><code>&gt; cat Test.java\nclass Test {\n  void test() {\n    synchronized(this) {}\n  }\n}\n&gt; javac Test.java; javap -c -v Test\n[ ... loads of output elided ...]\n3: monitorenter\n4: aload_1\n5: monitorexit\n</code></pre>\n<p><code>monitorenter</code> is bytecode for the opening brace in a <code>synchronized (x){}</code> block, and <code>monitorexit</code> is bytecode for the closing brace (or any other control flow out of one - exception throwing and <code>break</code> / <code>continue</code> / <code>return</code> also make <code>javac</code> emit <code>monitorexit</code> bytecode.</p>\n<h2>Closing note</h2>\n<p>I assume the question was asked in the spirit of: Soo.. what happens here? Not in the spirit of: &quot;Is this fine to write&quot;. It's <strong>not</strong> okay - other than the spinloop (never good), forcing the reader to go on a goose chase determining that HB is in fact set up to ensure this code does what you think it does, and requiring multiple details about the HB ruleset (the synchronized stuff <em>and</em> the transitivity rule <em>and</em> knowledge that empty sync blocks aren't optimized away) - not to mention an obvious bit of bizarro code (an empty sync block) which nevertheless does have a function here, none of that is particularly maintainable. The proper way to do this specific job is most likely to use a simple lock from <code>java.util.concurrent</code>, or at least to move the <code>synchronized</code> block to encompass all content in the <code>while</code> block. Also, locking on things code outside your direct control can acquire (and <code>Visibility.class</code> is, trivially, a global singleton) is a very bad idea: The only non-broken way to do that, is to extensively document your locking behaviour (and therefore, you're now signed up to maintain that behaviour indefinitely, or you're forced to release a major (i.e. backwards incompatible) version if you change it). Almost always you want to lock on things you control - i.e. <code>private final Object lock = new Object[0];</code> - an object that cannot possibly be referred to outside your direct control.</p>\n<hr />\n<p>[1] Technically HB is a JVM affair and applies to bytecode. That closing brace, however, really does have a bytecode equivalent (most closing braces do not; that one does): It's the release of the monitor ('freeing' the <code>synchronized</code> lock). Which is exactly the bytecode that is HB relative to a later-ordered acquiring of that same lock object.</p>\n"}],"owner":{"account_id":12947592,"reputation":309,"user_id":9361451,"display_name":"Anonemous"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77172577,"answer_count":1,"score":0,"last_activity_date":1695647908,"creation_date":1695643279,"question_id":77172465,"body_markdown":"Does the synchronized lock guarantee the following code always print &#39;END&#39;?\r\n```\r\npublic class Visibility {\r\n\r\n    private static int i = 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        Thread thread_1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(i);\r\n                while (true) {\r\n                    if (i == 1) {\r\n                        System.out.println(&quot;END&quot;);\r\n                        return;\r\n                    }\r\n                    synchronized (Visibility.class){}\r\n                }\r\n            }\r\n        });\r\n        thread_1.start();\r\n        Thread.sleep(1000);\r\n        synchronized (Visibility.class) {\r\n            i = 1;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nI run it on my laptop, it always print &#39;END&#39;, but I am wondering is it be guaranteed by the JVM that this code will always print &#39;END&#39;? \r\n\r\nFurther, If we add one line inside the empty `synchronized` block, and it becomes to:\r\n```\r\npublic class Visibility {\r\n\r\n    private static int i = 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        Thread thread_1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(i);\r\n                while (true) {\r\n                    if (i == 1) {\r\n                        System.out.println(&quot;END&quot;);\r\n                        return;\r\n                    }\r\n                    synchronized (Visibility.class){\r\n                        int x = i; // Added this line.\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        thread_1.start();\r\n        Thread.sleep(1000);\r\n        synchronized (Visibility.class) {\r\n            i = 1;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nNow is it be guaranteed by the JVM that this code will always print &#39;END&#39;?","title":"Java memory visibility outside the synchronized lock","body":"<p>Does the synchronized lock guarantee the following code always print 'END'?</p>\n<pre><code>public class Visibility {\n\n    private static int i = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        Thread thread_1 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(i);\n                while (true) {\n                    if (i == 1) {\n                        System.out.println(&quot;END&quot;);\n                        return;\n                    }\n                    synchronized (Visibility.class){}\n                }\n            }\n        });\n        thread_1.start();\n        Thread.sleep(1000);\n        synchronized (Visibility.class) {\n            i = 1;\n        }\n    }\n}\n\n</code></pre>\n<p>I run it on my laptop, it always print 'END', but I am wondering is it be guaranteed by the JVM that this code will always print 'END'?</p>\n<p>Further, If we add one line inside the empty <code>synchronized</code> block, and it becomes to:</p>\n<pre><code>public class Visibility {\n\n    private static int i = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        Thread thread_1 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(i);\n                while (true) {\n                    if (i == 1) {\n                        System.out.println(&quot;END&quot;);\n                        return;\n                    }\n                    synchronized (Visibility.class){\n                        int x = i; // Added this line.\n                    }\n                }\n            }\n        });\n        thread_1.start();\n        Thread.sleep(1000);\n        synchronized (Visibility.class) {\n            i = 1;\n        }\n    }\n}\n\n</code></pre>\n<p>Now is it be guaranteed by the JVM that this code will always print 'END'?</p>\n"},{"tags":["java","unit-testing","dependency-injection","dependencies","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475663876,"creation_date":1475663876,"answer_id":39871711,"question_id":39871400,"body_markdown":"Testing `Dependency` shouldn&#39;t be part of your unit tests of class `SomeClass` i.e. don&#39;t test method calls of `Dependency` for correctness and accuracy.\r\n\r\nYou can check parameter values passed to methods of `Dependency` if those values are local to class `SomeClass` i.e. created and managed by `SomeClass` otherwise perform normal input check assertions. \r\n\r\n","title":"Verify calls to dependency in unit test?","body":"<p>Testing <code>Dependency</code> shouldn't be part of your unit tests of class <code>SomeClass</code> i.e. don't test method calls of <code>Dependency</code> for correctness and accuracy.</p>\n\n<p>You can check parameter values passed to methods of <code>Dependency</code> if those values are local to class <code>SomeClass</code> i.e. created and managed by <code>SomeClass</code> otherwise perform normal input check assertions. </p>\n"},{"tags":[],"owner":{"account_id":5031641,"reputation":3025,"user_id":4041633,"accept_rate":100,"display_name":"Thomas Stets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475665013,"creation_date":1475665013,"answer_id":39872115,"question_id":39871400,"body_markdown":"That really depends on the situation, and is highly opinion-based...\r\n\r\nI would say, if the calls to the dependency just helps your method to do its job, don&#39;t test the call. Just test whether your method does its job.\r\n\r\nIf the call to the dependency is important, like when the call to the dependency is an important part of the functionality, or even the whole reason for the execution of your method, you should consider testing that the dependency is called correctly.\r\n\r\nAsk yourself: do you really care that the dependency is called, and called correctly, or do you just care that your method under test does its job?\r\n\r\nOr to look at it from a different perspective: Is the dependency just a part of your class, or is it an independent Object your class is interacting with?\r\n\r\nI know, this is rather ambiguous, but I hope you get the idea.","title":"Verify calls to dependency in unit test?","body":"<p>That really depends on the situation, and is highly opinion-based...</p>\n\n<p>I would say, if the calls to the dependency just helps your method to do its job, don't test the call. Just test whether your method does its job.</p>\n\n<p>If the call to the dependency is important, like when the call to the dependency is an important part of the functionality, or even the whole reason for the execution of your method, you should consider testing that the dependency is called correctly.</p>\n\n<p>Ask yourself: do you really care that the dependency is called, and called correctly, or do you just care that your method under test does its job?</p>\n\n<p>Or to look at it from a different perspective: Is the dependency just a part of your class, or is it an independent Object your class is interacting with?</p>\n\n<p>I know, this is rather ambiguous, but I hope you get the idea.</p>\n"},{"tags":[],"owner":{"account_id":925311,"reputation":36,"user_id":6925056,"display_name":"Rafał Krajnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1475666993,"creation_date":1475666993,"answer_id":39872786,"question_id":39871400,"body_markdown":"I would say that if dependency is invoked then you should have at least one test case to check if it is called. If you don&#39;t want to cover this case, that means (for me) you don&#39;t need to call it anyway. This is very important when you have any conditional statements like if/else/switch. Can you imagine that just by mistake you removed this line of code\r\n\r\n     dep.doSomethingElse(processed);\r\nWithout checking if dependency was invoked you will even not notice that you removed it.\r\n\r\nThe test can looks like:\r\n\r\n    import static org.fest.assertions.Assertions.assertThat;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.ArgumentCaptor;\r\n    import org.mockito.Captor;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeClassTest {\r\n    \r\n      @Mock\r\n      private Dependency dependency;\r\n    \r\n      @InjectMocks\r\n      private SomeClass someClass;\r\n    \r\n      @Captor\r\n      private ArgumentCaptor&lt;String&gt; argumentCaptor;\r\n    \r\n      @Test\r\n      public void shouldCallDependency() throws Exception {\r\n        //given\r\n        String arg = &quot;arg&quot;;\r\n    \r\n        //when\r\n        someClass.doSomething(arg);\r\n    \r\n        //then\r\n        Mockito.verify(dependency).doSomethingElse(argumentCaptor.capture());\r\n        assertThat(argumentCaptor.getValue()).isEqualTo(&quot;processed&quot;);\r\n      }\r\n    \r\n    }","title":"Verify calls to dependency in unit test?","body":"<p>I would say that if dependency is invoked then you should have at least one test case to check if it is called. If you don't want to cover this case, that means (for me) you don't need to call it anyway. This is very important when you have any conditional statements like if/else/switch. Can you imagine that just by mistake you removed this line of code</p>\n\n<pre><code> dep.doSomethingElse(processed);\n</code></pre>\n\n<p>Without checking if dependency was invoked you will even not notice that you removed it.</p>\n\n<p>The test can looks like:</p>\n\n<pre><code>import static org.fest.assertions.Assertions.assertThat;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Captor;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.runners.MockitoJUnitRunner;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class SomeClassTest {\n\n  @Mock\n  private Dependency dependency;\n\n  @InjectMocks\n  private SomeClass someClass;\n\n  @Captor\n  private ArgumentCaptor&lt;String&gt; argumentCaptor;\n\n  @Test\n  public void shouldCallDependency() throws Exception {\n    //given\n    String arg = \"arg\";\n\n    //when\n    someClass.doSomething(arg);\n\n    //then\n    Mockito.verify(dependency).doSomethingElse(argumentCaptor.capture());\n    assertThat(argumentCaptor.getValue()).isEqualTo(\"processed\");\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695647592,"creation_date":1695647592,"answer_id":77172966,"question_id":39871400,"body_markdown":"I think so. You should capture the args. I think it&#39;s worth checking you interacted with the dependency, and also *how* you did it. ","title":"Verify calls to dependency in unit test?","body":"<p>I think so. You should capture the args. I think it's worth checking you interacted with the dependency, and also <em>how</em> you did it.</p>\n"}],"owner":{"account_id":3845303,"reputation":565,"user_id":3187049,"accept_rate":91,"display_name":"flxh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39872786,"answer_count":4,"score":5,"last_activity_date":1695647592,"creation_date":1475662923,"question_id":39871400,"body_markdown":"For this following class I want to write a unit test:\r\n\r\n    public class SomeClass {\r\n    \r\n        private Dependency dependency;\r\n\r\n        public SomeClass(Dependency dep){\r\n            this.dependency = dep;\r\n        }\r\n    \r\n        private String processString(String s){\r\n            /*\r\n            edit the string and return\r\n             */\r\n        }\r\n    \r\n        public void doSomething(String arg){\r\n        \r\n            String processed = processString(arg);\r\n        \r\n            dep.doSomethingElse(processed);\r\n        }\r\n    }\r\n\r\n\r\nAt first I would stub all the methods `SomeClass` calls on `Dependency` in order to test my class in isolation. \r\nBut the question I couldn&#39;t yet find an answer to is :\r\n\r\nShould I check *how* `SomeClass` calls methods of `Dependency` e.g. what parameters are passed etc. ? \r\nOf course this is a pretty trivial example, but I want to know if this should be part of a unit test in general.\r\n\r\nEdit: In my case `Dependency` would be third party api library which I dont control. So I would consider it important what parameters are passed to these functions however I&#39;m not sure this should be part of a unit test.","title":"Verify calls to dependency in unit test?","body":"<p>For this following class I want to write a unit test:</p>\n\n<pre><code>public class SomeClass {\n\n    private Dependency dependency;\n\n    public SomeClass(Dependency dep){\n        this.dependency = dep;\n    }\n\n    private String processString(String s){\n        /*\n        edit the string and return\n         */\n    }\n\n    public void doSomething(String arg){\n\n        String processed = processString(arg);\n\n        dep.doSomethingElse(processed);\n    }\n}\n</code></pre>\n\n<p>At first I would stub all the methods <code>SomeClass</code> calls on <code>Dependency</code> in order to test my class in isolation. \nBut the question I couldn't yet find an answer to is :</p>\n\n<p>Should I check <em>how</em> <code>SomeClass</code> calls methods of <code>Dependency</code> e.g. what parameters are passed etc. ? \nOf course this is a pretty trivial example, but I want to know if this should be part of a unit test in general.</p>\n\n<p>Edit: In my case <code>Dependency</code> would be third party api library which I dont control. So I would consider it important what parameters are passed to these functions however I'm not sure this should be part of a unit test.</p>\n"},{"tags":["windows","java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1695646189,"post_id":77172758,"comment_id":136048055,"body_markdown":"You mean like with getFileAttributeView and readAttributes? I’d try searching the web for something like “Java get windows file attributes” or something because there seems to be a fair amount of information available.","body":"You mean like with getFileAttributeView and readAttributes? I’d try searching the web for something like “Java get windows file attributes” or something because there seems to be a fair amount of information available."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1695646222,"post_id":77172758,"comment_id":136048064,"body_markdown":"Tangential: Why write a platform-specific backup app in Java? Seems off.","body":"Tangential: Why write a platform-specific backup app in Java? Seems off."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695646491,"post_id":77172758,"comment_id":136048131,"body_markdown":"@DaveNewton Just because Java *supports* multi-platform doesn&#39;t mean you should *only* use it for multi-platform purposes","body":"@DaveNewton Just because Java <i>supports</i> multi-platform doesn&#39;t mean you should <i>only</i> use it for multi-platform purposes"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695647977,"post_id":77172758,"comment_id":136048483,"body_markdown":"[File Attributes List](http://www.foldermatch.com/helpfile/file-attributes-list.htm)","body":"<a href=\"http://www.foldermatch.com/helpfile/file-attributes-list.htm\" rel=\"nofollow noreferrer\">File Attributes List</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1695648953,"post_id":77172758,"comment_id":136048704,"body_markdown":"Can&#39;t you just use the `COPY_ATTRIBUTES` option when calling method [copy](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...))?","body":"Can&#39;t you just use the <code>COPY_ATTRIBUTES</code> option when calling method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">copy</a>?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1695650582,"post_id":77172758,"comment_id":136049096,"body_markdown":"@Jorn I didn’t say otherwise. It still doesn’t make sense in this case, even not knowing an MS platform. YMMV &#129335;&#127996;‍♂️","body":"@Jorn I didn’t say otherwise. It still doesn’t make sense in this case, even not knowing an MS platform. YMMV 🤷🏼‍♂️"}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695647472,"creation_date":1695647472,"answer_id":77172949,"question_id":77172758,"body_markdown":"Since Java 7 you have platform specific attributes.\r\nSee https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/DosFileAttributes.html","title":"Getting and setting all attributes for a file in Java","body":"<p>Since Java 7 you have platform specific attributes.\nSee <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/DosFileAttributes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/DosFileAttributes.html</a></p>\n"}],"owner":{"account_id":12938905,"reputation":107,"user_id":10753724,"display_name":"Devorious"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695647472,"creation_date":1695644153,"question_id":77172758,"body_markdown":"I made an app (**Windows only**) with which you can create a backup of a folder/file locally or to a server. I&#39;m done with the copy/restore process, but when it comes to restoring I have a small technical problem. If the file in originally hidden, then this is easy as you can call **Files.setAttribute(file.toPath(), &quot;dos:hidden&quot;, true);** which will make the file hidden on client side after it is created/restored, but there are files like **desktop.ini** which aren&#39;t simply hidden but are **system file hidden** and the above code will only give it the hidden status, and not system file hidden (and maybe other files with other attributes as well).\r\n\r\nThere is also `Files.getAttribute()` but as the name suggests it only returns the attribute value for a single attribute, and not all of them to easily be able to do something like `Files.setAttributes(file.toPath(), Files.getAttributes(file.toPath()));`.\r\n\r\nSo my question is, is there a way to get a list will all the attributes a file has and then setting them in a more dynamically way and not having to call `Files.getAttribute();` / `Files.setAttribute();` for each of them line by line?\r\n\r\nIf unfortunately there isn&#39;t one, and you do have to set them line by line, can someone give me a list with all the attributes for **Windows OS**, like there is here for example the table of pattern symbols for [DateTimeFormatter][1]?\r\n\r\nIf you have to read/set them one by one, then I can make a template class which has a function that has a `File` as parameter to read the attributes and store them in a variable (maybe an **Array**), and a second function which has the same a `File` as parameter only that this time it will set the attributes read before. Doing it like this, I can even send this template class object over the socket with all the attributes to set them after the backup file is restored on client.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Getting and setting all attributes for a file in Java","body":"<p>I made an app (<strong>Windows only</strong>) with which you can create a backup of a folder/file locally or to a server. I'm done with the copy/restore process, but when it comes to restoring I have a small technical problem. If the file in originally hidden, then this is easy as you can call <strong>Files.setAttribute(file.toPath(), &quot;dos:hidden&quot;, true);</strong> which will make the file hidden on client side after it is created/restored, but there are files like <strong>desktop.ini</strong> which aren't simply hidden but are <strong>system file hidden</strong> and the above code will only give it the hidden status, and not system file hidden (and maybe other files with other attributes as well).</p>\n<p>There is also <code>Files.getAttribute()</code> but as the name suggests it only returns the attribute value for a single attribute, and not all of them to easily be able to do something like <code>Files.setAttributes(file.toPath(), Files.getAttributes(file.toPath()));</code>.</p>\n<p>So my question is, is there a way to get a list will all the attributes a file has and then setting them in a more dynamically way and not having to call <code>Files.getAttribute();</code> / <code>Files.setAttribute();</code> for each of them line by line?</p>\n<p>If unfortunately there isn't one, and you do have to set them line by line, can someone give me a list with all the attributes for <strong>Windows OS</strong>, like there is here for example the table of pattern symbols for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>?</p>\n<p>If you have to read/set them one by one, then I can make a template class which has a function that has a <code>File</code> as parameter to read the attributes and store them in a variable (maybe an <strong>Array</strong>), and a second function which has the same a <code>File</code> as parameter only that this time it will set the attributes read before. Doing it like this, I can even send this template class object over the socket with all the attributes to set them after the backup file is restored on client.</p>\n"},{"tags":["java","spring-boot","spring-boot-starter"],"comments":[{"owner":{"account_id":307291,"reputation":1568,"user_id":618499,"display_name":"Iogui"},"score":0,"creation_date":1661479936,"post_id":73484864,"comment_id":129787915,"body_markdown":"I&#39;m also searching for info on it to start some tests. Assure you didn&#39;t forget to put the `@AutoConfiguration` annotation on the top-level of your auto-configuration classes as mentioned [here](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-M2-Release-Notes). I think that this is mandatory for the new imports file to work.","body":"I&#39;m also searching for info on it to start some tests. Assure you didn&#39;t forget to put the <code>@AutoConfiguration</code> annotation on the top-level of your auto-configuration classes as mentioned <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-M2-Release-Notes\" rel=\"nofollow noreferrer\">here</a>. I think that this is mandatory for the new imports file to work."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661496002,"post_id":73484864,"comment_id":129790312,"body_markdown":"I’ve tryed everything.  `@Configuration\\@AutoConfoguration` , copiy the dependency in the pom of `spring-boot-starter-actuator/auto configure`, refactor the package of the configuration class with autoconfiguration in it. Nothing worked","body":"I’ve tryed everything.  <code>@Configuration\\@AutoConfoguration</code> , copiy the dependency in the pom of <code>spring-boot-starter-actuator&#47;auto configure</code>, refactor the package of the configuration class with autoconfiguration in it. Nothing worked"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661506137,"post_id":73484864,"comment_id":129793467,"body_markdown":"Tryed also to remove all annotation from `ExampleAutoConfiguration` leaving only `@AutoCOnfiguration` and declaring a single bean, still the configuration is not loaded","body":"Tryed also to remove all annotation from <code>ExampleAutoConfiguration</code> leaving only <code>@AutoCOnfiguration</code> and declaring a single bean, still the configuration is not loaded"},{"owner":{"account_id":307291,"reputation":1568,"user_id":618499,"display_name":"Iogui"},"score":0,"creation_date":1661616097,"post_id":73484864,"comment_id":129816524,"body_markdown":"I have made some tests yesterday and I was able to make it work. I will provide a sample in a github public repository but I am using kotlin with gradle and not java with maven.","body":"I have made some tests yesterday and I was able to make it work. I will provide a sample in a github public repository but I am using kotlin with gradle and not java with maven."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661835766,"creation_date":1661835766,"answer_id":73537350,"question_id":73484864,"body_markdown":"Your file is called `org.springframework.boot.autoconfigure.AutoConfiguration.import`,\r\n\r\nand must be `org.springframework.boot.autoconfigure.AutoConfiguration.imports` (notice the extra `s`) at the end.  ","title":"Spring boot custom starter org.springframework.boot.autoconfigure.AutoConfiguration.import not detecting configuration classes version 2.7.2","body":"<p>Your file is called <code>org.springframework.boot.autoconfigure.AutoConfiguration.import</code>,</p>\n<p>and must be <code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> (notice the extra <code>s</code>) at the end.</p>\n"},{"tags":[],"owner":{"account_id":29483046,"reputation":11,"user_id":22593545,"display_name":"Balraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695647359,"creation_date":1695326789,"answer_id":77153338,"question_id":73484864,"body_markdown":"Put the file `org.springframework.boot.autoconfigure.AutoConfiguration.imports` under `resource/META-INF/spring package-&gt;\r\n~ProjectName/src/main/resources/META-INF/spring/`\r\n\r\nThis file then can contain your custom configuration file fully qualified name\r\nlike example below\r\n`com.test.autoconfigure.MongoApplicationDBConfig`\r\n","title":"Spring boot custom starter org.springframework.boot.autoconfigure.AutoConfiguration.import not detecting configuration classes version 2.7.2","body":"<p>Put the file <code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> under <code>resource/META-INF/spring package-&gt; ~ProjectName/src/main/resources/META-INF/spring/</code></p>\n<p>This file then can contain your custom configuration file fully qualified name\nlike example below\n<code>com.test.autoconfigure.MongoApplicationDBConfig</code></p>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7911,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73537350,"answer_count":2,"score":5,"last_activity_date":1695647359,"creation_date":1661418594,"question_id":73484864,"body_markdown":"I&#39;ve read that I should not open an issue on github so I ask here. I&#39;ve digged into the code and for example `spring-boot-actuator-autoconfigure` doesn&#39;t define the `@Configuration\\@AutoConfiguration` classes inside `META-INF/spring.factories` follow the content of the file:\r\n```\r\norg.springframework.boot.diagnostics.FailureAnalyzer=\\\r\norg.springframework.boot.actuate.autoconfigure.metrics.ValidationFailureAnalyzer\r\n```\r\nI&#39;ve checked and `ValidationFailureAnalyzer` is not even annotated with `@Configuration\\@AutoConfiguration`. Then I see the file `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` declaring all the classes `@AutoConfiguration` follow a little extraction of the file:\r\n```\r\norg.springframework.boot.actuate.autoconfigure.amqp.RabbitHealthContributorAutoConfiguration\r\norg.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration\r\norg.springframework.boot.actuate.autoconfigure.audit.AuditEventsEndpointAutoConfiguration\r\norg.springframework.boot.actuate.autoconfigure.availability.AvailabilityHealthContributorAutoConfiguration\r\n...\r\n```\r\nall these classes are annotated with `@AutoConfiguration`. So far so good If we read the [docs](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.locating-auto-configuration-candidates) they say that:\r\n&gt; Spring Boot checks for the presence of a META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports file within your published jar.\r\n\r\nIndeed if we import:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\neverything works just fine. I&#39;m not skilled with gradle but I don&#39;t see any special dependecy in `spring-boot-actuator-starter` or `spring-boot-actuator-autoconfigure`.\r\nSearching on google I&#39;ve found a discussion [here](https://youtrack.jetbrains.com/issue/IDEA-289633) where they say:\r\n&gt; In Spring Boot v. 2.7 auto-configuration registration is moved from spring.factories to a new file named META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports.\r\nEach line contains the fully qualified name of the auto-configuration.\r\nFor backwards compatibility, entries in spring.factories will still be honored.\r\n\r\nBut honestly I&#39;ve tryed to move the configuration classes in the new file but the configuration class is not loaded. I&#39;ve writed an example [here](https://github.com/paolopiccinini/spring-boot-starter-example).\r\nMy `org.springframework.boot.autoconfigure.AutoConfiguration.imports` file:\r\n```\r\ncom.example.springbootstarterexample.configuration.Config\r\n```\r\nIf I move to the old configuration `spring.factries` everything works fine.\r\n\r\nMy `@AutoConfiguration` class:\r\n``` \r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\r\n@Import({SomeServiceImpl.class, SomeEntityController.class})\r\npublic class ExampleAutoConfiguration {\r\n\r\n} \r\n```\r\nam I doing something wrong? why the `spring-boot-starter-actuator` works and my `spring-boot-starter-example` dosn&#39;t?\r\n","title":"Spring boot custom starter org.springframework.boot.autoconfigure.AutoConfiguration.import not detecting configuration classes version 2.7.2","body":"<p>I've read that I should not open an issue on github so I ask here. I've digged into the code and for example <code>spring-boot-actuator-autoconfigure</code> doesn't define the <code>@Configuration\\@AutoConfiguration</code> classes inside <code>META-INF/spring.factories</code> follow the content of the file:</p>\n<pre><code>org.springframework.boot.diagnostics.FailureAnalyzer=\\\norg.springframework.boot.actuate.autoconfigure.metrics.ValidationFailureAnalyzer\n</code></pre>\n<p>I've checked and <code>ValidationFailureAnalyzer</code> is not even annotated with <code>@Configuration\\@AutoConfiguration</code>. Then I see the file <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> declaring all the classes <code>@AutoConfiguration</code> follow a little extraction of the file:</p>\n<pre><code>org.springframework.boot.actuate.autoconfigure.amqp.RabbitHealthContributorAutoConfiguration\norg.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration\norg.springframework.boot.actuate.autoconfigure.audit.AuditEventsEndpointAutoConfiguration\norg.springframework.boot.actuate.autoconfigure.availability.AvailabilityHealthContributorAutoConfiguration\n...\n</code></pre>\n<p>all these classes are annotated with <code>@AutoConfiguration</code>. So far so good If we read the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.locating-auto-configuration-candidates\" rel=\"nofollow noreferrer\">docs</a> they say that:</p>\n<blockquote>\n<p>Spring Boot checks for the presence of a META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports file within your published jar.</p>\n</blockquote>\n<p>Indeed if we import:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>everything works just fine. I'm not skilled with gradle but I don't see any special dependecy in <code>spring-boot-actuator-starter</code> or <code>spring-boot-actuator-autoconfigure</code>.\nSearching on google I've found a discussion <a href=\"https://youtrack.jetbrains.com/issue/IDEA-289633\" rel=\"nofollow noreferrer\">here</a> where they say:</p>\n<blockquote>\n<p>In Spring Boot v. 2.7 auto-configuration registration is moved from spring.factories to a new file named META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports.\nEach line contains the fully qualified name of the auto-configuration.\nFor backwards compatibility, entries in spring.factories will still be honored.</p>\n</blockquote>\n<p>But honestly I've tryed to move the configuration classes in the new file but the configuration class is not loaded. I've writed an example <a href=\"https://github.com/paolopiccinini/spring-boot-starter-example\" rel=\"nofollow noreferrer\">here</a>.\nMy <code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> file:</p>\n<pre><code>com.example.springbootstarterexample.configuration.Config\n</code></pre>\n<p>If I move to the old configuration <code>spring.factries</code> everything works fine.</p>\n<p>My <code>@AutoConfiguration</code> class:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\n@Import({SomeServiceImpl.class, SomeEntityController.class})\npublic class ExampleAutoConfiguration {\n\n} \n</code></pre>\n<p>am I doing something wrong? why the <code>spring-boot-starter-actuator</code> works and my <code>spring-boot-starter-example</code> dosn't?</p>\n"},{"tags":["java","spring-boot","swagger"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695634240,"post_id":77171422,"comment_id":136045705,"body_markdown":"just try to access swagger to `http://localhost:8080/swagger-ui/index.html` path","body":"just try to access swagger to <code>http:&#47;&#47;localhost:8080&#47;swagger-ui&#47;index.html</code> path"},{"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"score":0,"creation_date":1695634348,"post_id":77171422,"comment_id":136045723,"body_markdown":"@AndreiLisa i just tried, but it doesn&#39;t work. Thank you very much.","body":"@AndreiLisa i just tried, but it doesn&#39;t work. Thank you very much."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695634491,"post_id":77171422,"comment_id":136045752,"body_markdown":"`http://localhost:8080/api/swagger-ui/index.html` maybe it is the path to swagger ui ? just  try and tell me if it is","body":"<code>http:&#47;&#47;localhost:8080&#47;api&#47;swagger-ui&#47;index.html</code> maybe it is the path to swagger ui ? just  try and tell me if it is"},{"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"score":0,"creation_date":1695634578,"post_id":77171422,"comment_id":136045767,"body_markdown":"yet again, this is not working. Thank you for the effort.","body":"yet again, this is not working. Thank you for the effort."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695634891,"post_id":77171422,"comment_id":136045825,"body_markdown":"I am going to check your code on my machine i will came with an answer on this question.","body":"I am going to check your code on my machine i will came with an answer on this question."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695635624,"post_id":77171422,"comment_id":136045966,"body_markdown":"instead of `http://localhost:8080/swagger-ui/` try to access with next one path `http://127.0.0.1:8080/api/swagger-ui/index.html`","body":"instead of <code>http:&#47;&#47;localhost:8080&#47;swagger-ui&#47;</code> try to access with next one path <code>http:&#47;&#47;127.0.0.1:8080&#47;api&#47;swagger-ui&#47;index.html</code>"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695635749,"post_id":77171422,"comment_id":136045999,"body_markdown":"i am sure it will work, i am going to write an answer","body":"i am sure it will work, i am going to write an answer"},{"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"score":0,"creation_date":1695635961,"post_id":77171422,"comment_id":136046060,"body_markdown":"I tried but still doesn&#39;t work.  Thank you anyway. At this point i think that the problem is Java 17.","body":"I tried but still doesn&#39;t work.  Thank you anyway. At this point i think that the problem is Java 17."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695636047,"post_id":77171422,"comment_id":136046077,"body_markdown":"can you try also disable the cors and retry, add something like this into  `securityFilterChain` `http.cors(AbstractHttpConfigurer::disable);`","body":"can you try also disable the cors and retry, add something like this into  <code>securityFilterChain</code> <code>http.cors(AbstractHttpConfigurer::disable);</code>"},{"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"score":0,"creation_date":1695636405,"post_id":77171422,"comment_id":136046148,"body_markdown":"Still have the same problem, but i noticed that also the other endpoints required the authentication","body":"Still have the same problem, but i noticed that also the other endpoints required the authentication"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695636618,"post_id":77171422,"comment_id":136046192,"body_markdown":"If you will comment the security chain filter, will it work ?","body":"If you will comment the security chain filter, will it work ?"},{"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"score":0,"creation_date":1695636973,"post_id":77171422,"comment_id":136046277,"body_markdown":"As i thought this time it&#39;s even worse. If i try to go to `http://localhost:8080/swagger-ui/` it re-directs me to the authentication page.","body":"As i thought this time it&#39;s even worse. If i try to go to <code>http:&#47;&#47;localhost:8080&#47;swagger-ui&#47;</code> it re-directs me to the authentication page."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695637036,"post_id":77171422,"comment_id":136046291,"body_markdown":"Remove `.httpBasic(Customizer.withDefaults());` it is the cause","body":"Remove <code>.httpBasic(Customizer.withDefaults());</code> it is the cause"},{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":1,"creation_date":1695640003,"post_id":77171422,"comment_id":136046832,"body_markdown":"AFAIK springfox wasn&#39;t compatible with Spring Boot 3.X.X. I don&#39;t know if that changed over the months. When I first upgraded to 3.X.X I had to remove springfox, and I added openapi. [Here](https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui/2.2.0) it&#39;s maven dependency.","body":"AFAIK springfox wasn&#39;t compatible with Spring Boot 3.X.X. I don&#39;t know if that changed over the months. When I first upgraded to 3.X.X I had to remove springfox, and I added openapi. <a href=\"https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui/2.2.0\" rel=\"nofollow noreferrer\">Here</a> it&#39;s maven dependency."}],"answers":[{"tags":[],"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695647298,"creation_date":1695647298,"answer_id":77172923,"question_id":77171422,"body_markdown":"I solved the problem also thanks to @dauthDaert06&#39;s comment. I simply changed the dependency, following some tips on this [link][1]. SpringFox is not compatible with 3.0.0 and upper Spring Boot versions. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65848200/22629324","title":"Swagger authentication permitAll() not working","body":"<p>I solved the problem also thanks to @dauthDaert06's comment. I simply changed the dependency, following some tips on this <a href=\"https://stackoverflow.com/a/65848200/22629324\">link</a>. SpringFox is not compatible with 3.0.0 and upper Spring Boot versions.</p>\n"}],"owner":{"account_id":29528139,"reputation":31,"user_id":22629324,"display_name":"Stefano Suunto Di Blasio"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77172923,"answer_count":1,"score":1,"last_activity_date":1695647298,"creation_date":1695633975,"question_id":77171422,"body_markdown":"I created a `JWT` project with Java 17 and Spring Boot 3. I was trying to include Swagger UI in my application, but when i try to access the `http://localhost:8080/swagger-ui/`, he asks me the credentials to access it.\r\n\r\nMy code:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfiguration {\r\n    \r\n        private final JwtAuthenticationFilter jwtAuthFilter;\r\n    \r\n        private final AuthenticationProvider authenticationProvider;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/v2/api-docs&quot;,\r\n                                &quot;/swagger-resources&quot;,\r\n                                &quot;/swagger-resources/**&quot;,\r\n                                &quot;/configuration/ui&quot;,\r\n                                &quot;/configuration/security&quot;,\r\n                                &quot;/swagger-ui.html&quot;,\r\n                                &quot;/webjars/**&quot;,\r\n                                &quot;/v3/api-docs/**&quot;,\r\n                                &quot;/swagger-ui/**&quot;, &quot;/configuration/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .httpBasic(Customizer.withDefaults());\r\n    \r\n        return http.build();\r\n    \r\n        }\r\n    }\r\n\r\nMy dependencies:\r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAny help is highly appreciated.\r\n\r\nI already tried to configure the WebConfigSecurity class with the necessary endpoints like it&#39;s explained [here](https://stackoverflow.com/a/48971992).\r\nI also tried to refactor the method as i&#39;ve seen on this [link](https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api)  and upgraded the springfox version from 2.9.2 to 3.0.0 with no results.","title":"Swagger authentication permitAll() not working","body":"<p>I created a <code>JWT</code> project with Java 17 and Spring Boot 3. I was trying to include Swagger UI in my application, but when i try to access the <code>http://localhost:8080/swagger-ui/</code>, he asks me the credentials to access it.</p>\n<p>My code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http\n            .csrf(csrf -&gt; csrf.disable())\n            .authorizeHttpRequests(auth -&gt; auth\n                    .requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/v2/api-docs&quot;,\n                            &quot;/swagger-resources&quot;,\n                            &quot;/swagger-resources/**&quot;,\n                            &quot;/configuration/ui&quot;,\n                            &quot;/configuration/security&quot;,\n                            &quot;/swagger-ui.html&quot;,\n                            &quot;/webjars/**&quot;,\n                            &quot;/v3/api-docs/**&quot;,\n                            &quot;/swagger-ui/**&quot;, &quot;/configuration/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .authenticationProvider(authenticationProvider)\n            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n            .httpBasic(Customizer.withDefaults());\n\n    return http.build();\n\n    }\n}\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Any help is highly appreciated.</p>\n<p>I already tried to configure the WebConfigSecurity class with the necessary endpoints like it's explained <a href=\"https://stackoverflow.com/a/48971992\">here</a>.\nI also tried to refactor the method as i've seen on this <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">link</a>  and upgraded the springfox version from 2.9.2 to 3.0.0 with no results.</p>\n"},{"tags":["java","selenium","google-chrome","jenkins","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574752260,"creation_date":1574752260,"answer_id":59045542,"question_id":59042521,"body_markdown":"This error message...\r\n\r\n\tunknown error: cannot determine loading status from disconnected: Unable to receive message from renderer   (Session info: chrome=78.0.3904.108)   (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information) Command duration or timeout: 7.77 seconds Build info: version: &#39;2.45.0&#39;, revision: &#39;5017cb8e7ca8e37638dc3091b2440b90a1d8686f&#39;, time: &#39;2015-02-27 09:10:26&#39; System info: host: &#39;Eamons-MBP.hitronhub.home&#39;, ip: &#39;192.168.0.23&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.13.6&#39;, java.version: &#39;1.8.0_101&#39; Driver info: org.openqa.selenium.chrome.ChromeDriver Capabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=MAC, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:60317}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}), userDataDir=/var/folders/q3/3hrl35417q113_mhrglxf5cw00008b/T/.com.google.Chrome.Opshna}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=78.0.3904.108, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}] Session ID: 7261e3005842ddc3d850504ba249d136\r\n\tStacktrace\r\n\torg.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\r\n\tfrom disconnected: Unable to receive message from renderer\r\n\t  (Session info: chrome=78.0.3904.108)\r\n\t  (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n\tCommand duration or timeout: 7.77 seconds\r\n\tBuild info: version: &#39;2.45.0&#39;, revision: &#39;5017cb8e7ca8e37638dc3091b2440b90a1d8686f&#39;, time: &#39;2015-02-27 09:10:26&#39;\r\n\tSystem info: host: &#39;Eamons-MBP.hitronhub.home&#39;, ip: &#39;192.168.0.23&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.13.6&#39;, java.version: &#39;1.8.0_101&#39;\r\n\tDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n\t.\r\n\tStandard Error\r\n\tStarting ChromeDriver 78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}) on port 40247\r\n\tOnly local connections are allowed.\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\t[1574697681.040][WARNING]: Timed out connecting to Chrome, retrying...\r\n\t[1574697692.398][SEVERE]: Unable to receive message from renderer\r\n\r\n...implies that the **ChromeDriver** was unable to initiate/spawn a new **WebBrowser** i.e. **Chrome Browser** session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- You are using _chromedriver=78.0.3904.105_ \r\n- You are using _chrome=78.0.3904.108_\r\n- Your _Selenium Client_ version is **2.45.0** of _2015-02-27 09:10:26_ which is **ancient** and almost **5** years older.\r\n- Your _JDK version_ is **1.8.0_101** which is pretty ancient.\r\n\r\nSo there is a clear mismatch between the _JDK v8u101_ , _Selenium Client v2.45.0_ , _ChromeDriver v78.0_ and the _Chrome Browser v78.0_\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _JDK_ is upgraded to  current levels [JDK 8u222](https://www.oracle.com/technetwork/java/javase/downloads/index.html).\r\n- _Selenium_ is upgraded to  current levels [Version 3.141.59](https://docs.seleniumhq.org/download/).\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- If your base _Web Client_ version is too old, then uninstall it through [_Revo Uninstaller_](https://www.revouninstaller.com/revo_uninstaller_free_download.html) and install a recent GA and released version of _Web Client_.\r\n- Take a _System Reboot_.\r\n- Execute your `@Test` as **non-root** user.","title":"unknown error: cannot determine loading status from disconnected: Unable to receive message from renderer error with Selenium Java scripts on jenkins","body":"<p>This error message...</p>\n\n<pre><code>unknown error: cannot determine loading status from disconnected: Unable to receive message from renderer   (Session info: chrome=78.0.3904.108)   (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information) Command duration or timeout: 7.77 seconds Build info: version: '2.45.0', revision: '5017cb8e7ca8e37638dc3091b2440b90a1d8686f', time: '2015-02-27 09:10:26' System info: host: 'Eamons-MBP.hitronhub.home', ip: '192.168.0.23', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.13.6', java.version: '1.8.0_101' Driver info: org.openqa.selenium.chrome.ChromeDriver Capabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=MAC, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:60317}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}), userDataDir=/var/folders/q3/3hrl35417q113_mhrglxf5cw00008b/T/.com.google.Chrome.Opshna}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=78.0.3904.108, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}] Session ID: 7261e3005842ddc3d850504ba249d136\nStacktrace\norg.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\nfrom disconnected: Unable to receive message from renderer\n  (Session info: chrome=78.0.3904.108)\n  (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 7.77 seconds\nBuild info: version: '2.45.0', revision: '5017cb8e7ca8e37638dc3091b2440b90a1d8686f', time: '2015-02-27 09:10:26'\nSystem info: host: 'Eamons-MBP.hitronhub.home', ip: '192.168.0.23', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.13.6', java.version: '1.8.0_101'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\n.\nStandard Error\nStarting ChromeDriver 78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}) on port 40247\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1574697681.040][WARNING]: Timed out connecting to Chrome, retrying...\n[1574697692.398][SEVERE]: Unable to receive message from renderer\n</code></pre>\n\n<p>...implies that the <strong>ChromeDriver</strong> was unable to initiate/spawn a new <strong>WebBrowser</strong> i.e. <strong>Chrome Browser</strong> session.</p>\n\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n\n<ul>\n<li>You are using <em>chromedriver=78.0.3904.105</em> </li>\n<li>You are using <em>chrome=78.0.3904.108</em></li>\n<li>Your <em>Selenium Client</em> version is <strong>2.45.0</strong> of <em>2015-02-27 09:10:26</em> which is <strong>ancient</strong> and almost <strong>5</strong> years older.</li>\n<li>Your <em>JDK version</em> is <strong>1.8.0_101</strong> which is pretty ancient.</li>\n</ul>\n\n<p>So there is a clear mismatch between the <em>JDK v8u101</em> , <em>Selenium Client v2.45.0</em> , <em>ChromeDriver v78.0</em> and the <em>Chrome Browser v78.0</em></p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Ensure that:</p>\n\n<ul>\n<li><em>JDK</em> is upgraded to  current levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u222</a>.</li>\n<li><em>Selenium</em> is upgraded to  current levels <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it through <a href=\"https://www.revouninstaller.com/revo_uninstaller_free_download.html\" rel=\"nofollow noreferrer\"><em>Revo Uninstaller</em></a> and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n</ul>\n"}],"owner":{"account_id":15091498,"reputation":181,"user_id":10891278,"display_name":"Eamon Mac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695647215,"creation_date":1574732672,"question_id":59042521,"body_markdown":"I am following a tutorial on how to create and run java selenium scripts both **locally** and **on a jenkins server** using **maven** and **eclipse**.\r\n\r\nMy script is pretty basic and runs fine locally when ran through eclipse via maven and TestNG.\r\nWhen i run them on Jenkins the build takes between 3 minutes to 15 minutes and then it fails with a timeout rendering issue usually.\r\n\r\nMy script when ran locally only takes about 2 minutes at most.\r\n\r\nHas anyone had this issue before?\r\nI am not sure why they timeout.\r\n\r\nError from Jenkins\r\n==================\r\n```\r\nunknown error: cannot determine loading status from disconnected: Unable to receive message from renderer   (Session info: chrome=78.0.3904.108)   (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information) Command duration or timeout: 7.77 seconds Build info: version: &#39;2.45.0&#39;, revision: &#39;5017cb8e7ca8e37638dc3091b2440b90a1d8686f&#39;, time: &#39;2015-02-27 09:10:26&#39; System info: host: &#39;Eamons-MBP.hitronhub.home&#39;, ip: &#39;192.168.0.23&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.13.6&#39;, java.version: &#39;1.8.0_101&#39; Driver info: org.openqa.selenium.chrome.ChromeDriver Capabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=MAC, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:60317}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}), userDataDir=/var/folders/q3/3hrl35417q113_mhrglxf5cw00008b/T/.com.google.Chrome.Opshna}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=78.0.3904.108, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}] Session ID: 7261e3005842ddc3d850504ba249d136\r\nStacktrace\r\norg.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\r\nfrom disconnected: Unable to receive message from renderer\r\n  (Session info: chrome=78.0.3904.108)\r\n  (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information)\r\nCommand duration or timeout: 7.77 seconds\r\nBuild info: version: &#39;2.45.0&#39;, revision: &#39;5017cb8e7ca8e37638dc3091b2440b90a1d8686f&#39;, time: &#39;2015-02-27 09:10:26&#39;\r\nSystem info: host: &#39;Eamons-MBP.hitronhub.home&#39;, ip: &#39;192.168.0.23&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.13.6&#39;, java.version: &#39;1.8.0_101&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=MAC, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:60317}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}), userDataDir=/var/folders/q3/3hrl35417q113_mhrglxf5cw00008b/T/.com.google.Chrome.Opshna}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=78.0.3904.108, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}]\r\nSession ID: 7261e3005842ddc3d850504ba249d136\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:204)\r\n\tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:156)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:599)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:304)\r\n\tat Eamon.EamonTest.doSomething(EamonTest.java:37)\r\nStandard Error\r\nStarting ChromeDriver 78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}) on port 40247\r\nOnly local connections are allowed.\r\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n[1574697681.040][WARNING]: Timed out connecting to Chrome, retrying...\r\n[1574697692.398][SEVERE]: Unable to receive message from renderer\r\n```\r\n\r\nMy Script\r\n=============\r\n\r\n       @Test\r\n       public class NewTest {\r\n\t\r\n\t    \t@Test\r\n\t    \t public void doSomething() {\r\n\t    \t\r\n\t    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/Eamon/Desktop/chromedriver&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\tdriver.manage().window().maximize();\r\n\t\t\t\r\n\t\t\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\t\t\t\r\n\t    \t\r\n\t        String baseUrl = &quot;http://www.nfl.com/probowl/ballot&quot;;\r\n\t        //&quot;http://www.nfl.com/probowl/ballot&quot;;\r\n\t        driver.get(baseUrl);\r\n\t        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n\t        \r\n\t        WebElement html = driver.findElement(By.tagName(&quot;html&quot;));\r\n\t        html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n\t        html.sendKeys(Keys.chord(Keys.CONTROL, &quot;25&quot;));\r\n\t        \r\n\t        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\t        \r\n\t        js.executeScript(&quot;window.scrollBy(0,500)&quot;);\r\n\t        driver.findElement(By.id(&quot;1015811_13_1_10&quot;)).click();\r\n\t        \r\n\t        js.executeScript(&quot;window.scrollBy(0,1000)&quot;);\r\n\t        driver.findElement(By.id(&quot;ballot-submit&quot;)).click();\r\n\t        \r\n\t        driver.close();\r\n\t        driver.quit();\r\n\t    \t }\r\n\t  \r\n\t}\r\n\r\n\r\n\r\n\r\n","title":"unknown error: cannot determine loading status from disconnected: Unable to receive message from renderer error with Selenium Java scripts on jenkins","body":"<p>I am following a tutorial on how to create and run java selenium scripts both <strong>locally</strong> and <strong>on a jenkins server</strong> using <strong>maven</strong> and <strong>eclipse</strong>.</p>\n\n<p>My script is pretty basic and runs fine locally when ran through eclipse via maven and TestNG.\nWhen i run them on Jenkins the build takes between 3 minutes to 15 minutes and then it fails with a timeout rendering issue usually.</p>\n\n<p>My script when ran locally only takes about 2 minutes at most.</p>\n\n<p>Has anyone had this issue before?\nI am not sure why they timeout.</p>\n\n<h1>Error from Jenkins</h1>\n\n<pre><code>unknown error: cannot determine loading status from disconnected: Unable to receive message from renderer   (Session info: chrome=78.0.3904.108)   (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information) Command duration or timeout: 7.77 seconds Build info: version: '2.45.0', revision: '5017cb8e7ca8e37638dc3091b2440b90a1d8686f', time: '2015-02-27 09:10:26' System info: host: 'Eamons-MBP.hitronhub.home', ip: '192.168.0.23', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.13.6', java.version: '1.8.0_101' Driver info: org.openqa.selenium.chrome.ChromeDriver Capabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=MAC, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:60317}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}), userDataDir=/var/folders/q3/3hrl35417q113_mhrglxf5cw00008b/T/.com.google.Chrome.Opshna}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=78.0.3904.108, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}] Session ID: 7261e3005842ddc3d850504ba249d136\nStacktrace\norg.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\nfrom disconnected: Unable to receive message from renderer\n  (Session info: chrome=78.0.3904.108)\n  (Driver info: chromedriver=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}),platform=Mac OS X 10.13.6 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 7.77 seconds\nBuild info: version: '2.45.0', revision: '5017cb8e7ca8e37638dc3091b2440b90a1d8686f', time: '2015-02-27 09:10:26'\nSystem info: host: 'Eamons-MBP.hitronhub.home', ip: '192.168.0.23', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.13.6', java.version: '1.8.0_101'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=MAC, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:60317}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}), userDataDir=/var/folders/q3/3hrl35417q113_mhrglxf5cw00008b/T/.com.google.Chrome.Opshna}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=78.0.3904.108, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}]\nSession ID: 7261e3005842ddc3d850504ba249d136\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:204)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:156)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:599)\n    at org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:304)\n    at Eamon.EamonTest.doSomething(EamonTest.java:37)\nStandard Error\nStarting ChromeDriver 78.0.3904.105 (60e2d8774a8151efa6a00b1f358371b1e0e07ee2-refs/branch-heads/3904@{#877}) on port 40247\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1574697681.040][WARNING]: Timed out connecting to Chrome, retrying...\n[1574697692.398][SEVERE]: Unable to receive message from renderer\n</code></pre>\n\n<h1>My Script</h1>\n\n<pre><code>   @Test\n   public class NewTest {\n\n        @Test\n         public void doSomething() {\n\n        System.setProperty(\"webdriver.chrome.driver\",\"/Users/Eamon/Desktop/chromedriver\");\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n\n\n        String baseUrl = \"http://www.nfl.com/probowl/ballot\";\n        //\"http://www.nfl.com/probowl/ballot\";\n        driver.get(baseUrl);\n        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n\n        WebElement html = driver.findElement(By.tagName(\"html\"));\n        html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\n        html.sendKeys(Keys.chord(Keys.CONTROL, \"25\"));\n\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n\n        js.executeScript(\"window.scrollBy(0,500)\");\n        driver.findElement(By.id(\"1015811_13_1_10\")).click();\n\n        js.executeScript(\"window.scrollBy(0,1000)\");\n        driver.findElement(By.id(\"ballot-submit\")).click();\n\n        driver.close();\n        driver.quit();\n         }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":2,"creation_date":1437739026,"post_id":31609909,"comment_id":51169445,"body_markdown":"Have you checked what the length of the column in the database is?","body":"Have you checked what the length of the column in the database is?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1695648544,"post_id":31609909,"comment_id":136048614,"body_markdown":"https://stackoverflow.com/questions/1281188/text-field-using-hibernate-annotation","body":"<a href=\"https://stackoverflow.com/questions/1281188/text-field-using-hibernate-annotation\" title=\"text field using hibernate annotation\">stackoverflow.com/questions/1281188/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1940935,"reputation":1396,"user_id":1747165,"accept_rate":44,"display_name":"Avinash Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437739895,"creation_date":1437739549,"answer_id":31610134,"question_id":31609909,"body_markdown":"In MySql alter the table if column type is `varchar` then change it to `text`. There are many datatypes in MySql other then text. Like `MEDIUM TEXT`,`LONGTEXT` etc.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ACs9I.jpg\r\n\r\nIt may be work for that. I have already face this error.","title":"spring mysql: Data truncation (data too long for column)","body":"<p>In MySql alter the table if column type is <code>varchar</code> then change it to <code>text</code>. There are many datatypes in MySql other then text. Like <code>MEDIUM TEXT</code>,<code>LONGTEXT</code> etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ACs9I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACs9I.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>It may be work for that. I have already face this error.</p>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587286968,"creation_date":1587286968,"answer_id":61301844,"question_id":31609909,"body_markdown":"I had `SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement` exception. I have `Date` column and just changed the input syntax from `2003-09-17 00:00:00` to `17.09.2003`. The problem has solved.","title":"spring mysql: Data truncation (data too long for column)","body":"<p>I had <code>SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement</code> exception. I have <code>Date</code> column and just changed the input syntax from <code>2003-09-17 00:00:00</code> to <code>17.09.2003</code>. The problem has solved.</p>\n"}],"owner":{"account_id":6678123,"reputation":31,"user_id":5152151,"display_name":"Hloro Fil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9242,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695647215,"creation_date":1437738796,"question_id":31609909,"body_markdown":"I have my class Movie :\r\n\r\n    @Entity\r\n    @Table(name=&quot;movies&quot;)\r\n    \r\n    public class Movie {\r\n    \r\n    \tprivate String genre_ids;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t@Lob\r\n    \t@Column(length=1000000)\r\n    \tprivate String overview;\t\r\n    \tprivate String release_date;\r\n    \tprivate String poster_path;\r\n    \tprivate String popularity;\r\n    \tprivate String title;\r\n    \t\r\n    \tpublic Movie() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic String getGenre_ids() {\r\n    \t\treturn genre_ids;\r\n    \t}\r\n    \r\n    \tpublic void setGenre_ids(String genre_ids) {\r\n    \t\tthis.genre_ids = genre_ids;\r\n    \t}\r\n    \r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getOverview() {\r\n    \t\treturn overview;\r\n    \t}\r\n    \r\n    \tpublic void setOverview(String overview) {\r\n    \t\tthis.overview = overview;\r\n    \t}\r\n    \r\n    \tpublic String getRelease_date() {\r\n    \t\treturn release_date;\r\n    \t}\r\n    \r\n    \tpublic void setRelease_date(String release_date) {\r\n    \t\tthis.release_date = release_date;\r\n    \t}\r\n    \r\n    \tpublic String getPoster_path() {\r\n    \t\treturn poster_path;\r\n    \t}\r\n    \r\n    \tpublic void setPoster_path(String poster_path) {\r\n    \t\tthis.poster_path = poster_path;\r\n    \t}\r\n    \r\n    \tpublic String getPopularity() {\r\n    \t\treturn popularity;\r\n    \t}\r\n    \r\n    \tpublic void setPopularity(String popularity) {\r\n    \t\tthis.popularity = popularity;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \r\n    \tpublic Movie(String genre_ids, long id, String overview, String release_date, String poster_path, String popularity,\r\n    \t\t\tString title) {\r\n    \t\tsuper();\r\n    \t\tthis.genre_ids = genre_ids;\r\n    \t\tthis.id = id;\r\n    \t\tthis.overview = overview;\r\n    \t\tthis.release_date = release_date;\r\n    \t\tthis.poster_path = poster_path;\r\n    \t\tthis.popularity = popularity;\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nand my controller method:\r\n\r\n    @RequestMapping(value=&quot;/moviesPage&quot;,method=RequestMethod.GET)\r\n    \r\n    \tpublic ModelAndView showMoviesPage() {\r\n    \t\t\tModelAndView model=new ModelAndView(&quot;moviePage&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tJSONObject json=readJsonFromUrl(&quot;http://api.themoviedb.org/3/discover/movie?api_key=cbb012e4e7ece74ac4c32a77b00a43eb&amp;sort_by=popularity.desc&amp;page=1&quot;);\r\n    \t\t\t\tJSONArray array=json.getJSONArray(&quot;results&quot;);\r\n    \t\t\t\tfor(int i=0;i&lt;array.length();i++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tJSONObject jsonMovie=array.getJSONObject(i);\r\n    \t\t\t\t\tMovie movie=new Movie(jsonMovie.getString(&quot;genre_ids&quot;),jsonMovie.getLong(&quot;id&quot;),jsonMovie.getString(&quot;overview&quot;),jsonMovie.getString(&quot;release_date&quot;),jsonMovie.getString(&quot;poster_path&quot;),jsonMovie.getString(&quot;popularity&quot;),jsonMovie.getString(&quot;title&quot;));\r\n    \t\t\t\t\tmovieServiceImpl.createMovie(movie);\r\n    \t\t\t\t\tSystem.out.println(movie);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (JSONException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n                 return model; }\r\n\r\nand I&#39;m getting this error:\r\n&gt; Servlet.service() for servlet [springDispatcher] in context with path [/web-programming] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause\r\ncom.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column &#39;overview&#39; at row 1\r\n","title":"spring mysql: Data truncation (data too long for column)","body":"<p>I have my class Movie :</p>\n\n<pre><code>@Entity\n@Table(name=\"movies\")\n\npublic class Movie {\n\n    private String genre_ids;\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private long id;\n    @Lob\n    @Column(length=1000000)\n    private String overview;    \n    private String release_date;\n    private String poster_path;\n    private String popularity;\n    private String title;\n\n    public Movie() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public String getGenre_ids() {\n        return genre_ids;\n    }\n\n    public void setGenre_ids(String genre_ids) {\n        this.genre_ids = genre_ids;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getOverview() {\n        return overview;\n    }\n\n    public void setOverview(String overview) {\n        this.overview = overview;\n    }\n\n    public String getRelease_date() {\n        return release_date;\n    }\n\n    public void setRelease_date(String release_date) {\n        this.release_date = release_date;\n    }\n\n    public String getPoster_path() {\n        return poster_path;\n    }\n\n    public void setPoster_path(String poster_path) {\n        this.poster_path = poster_path;\n    }\n\n    public String getPopularity() {\n        return popularity;\n    }\n\n    public void setPopularity(String popularity) {\n        this.popularity = popularity;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public Movie(String genre_ids, long id, String overview, String release_date, String poster_path, String popularity,\n            String title) {\n        super();\n        this.genre_ids = genre_ids;\n        this.id = id;\n        this.overview = overview;\n        this.release_date = release_date;\n        this.poster_path = poster_path;\n        this.popularity = popularity;\n        this.title = title;\n    }\n\n\n\n}\n</code></pre>\n\n<p>and my controller method:</p>\n\n<pre><code>@RequestMapping(value=\"/moviesPage\",method=RequestMethod.GET)\n\n    public ModelAndView showMoviesPage() {\n            ModelAndView model=new ModelAndView(\"moviePage\");\n            try {\n                JSONObject json=readJsonFromUrl(\"http://api.themoviedb.org/3/discover/movie?api_key=cbb012e4e7ece74ac4c32a77b00a43eb&amp;sort_by=popularity.desc&amp;page=1\");\n                JSONArray array=json.getJSONArray(\"results\");\n                for(int i=0;i&lt;array.length();i++)\n                {\n                    JSONObject jsonMovie=array.getJSONObject(i);\n                    Movie movie=new Movie(jsonMovie.getString(\"genre_ids\"),jsonMovie.getLong(\"id\"),jsonMovie.getString(\"overview\"),jsonMovie.getString(\"release_date\"),jsonMovie.getString(\"poster_path\"),jsonMovie.getString(\"popularity\"),jsonMovie.getString(\"title\"));\n                    movieServiceImpl.createMovie(movie);\n                    System.out.println(movie);\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (JSONException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n             return model; }\n</code></pre>\n\n<p>and I'm getting this error:</p>\n\n<blockquote>\n  <p>Servlet.service() for servlet [springDispatcher] in context with path [/web-programming] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause\n  com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'overview' at row 1</p>\n</blockquote>\n"},{"tags":["java","algorithm","hashmap"],"comments":[{"owner":{"account_id":22723,"reputation":224013,"user_id":56338,"accept_rate":44,"display_name":"sth"},"score":1,"creation_date":1290280886,"post_id":4234462,"comment_id":4584314,"body_markdown":"You should add a tag for the programming language you are using.","body":"You should add a tag for the programming language you are using."}],"answers":[{"tags":[],"owner":{"account_id":42964,"reputation":26240,"user_id":125382,"accept_rate":91,"display_name":"MAK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1290280953,"creation_date":1290280953,"answer_id":4234511,"question_id":4234462,"body_markdown":"You can&#39;t do a `m.put(new Float(a[i]),&quot;cat&quot;);` because you value has to be an `Integer`. To do that you have to declare it as `Map&lt;Float,String&gt; m = new HashMap()&lt;Float,String&gt;;`.","title":"using Float numbers for the map&#39;s key","body":"<p>You can't do a <code>m.put(new Float(a[i]),\"cat\");</code> because you value has to be an <code>Integer</code>. To do that you have to declare it as <code>Map&lt;Float,String&gt; m = new HashMap()&lt;Float,String&gt;;</code>.</p>\n"},{"tags":[],"owner":{"account_id":12846,"reputation":15674,"user_id":25498,"accept_rate":64,"display_name":"Adam Crume"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1290281798,"creation_date":1290281798,"answer_id":4234583,"question_id":4234462,"body_markdown":"I would recommend against using floating point numbers as hash map keys if possible.  Your keys must match exactly when you look up values, and it&#39;s easy to get floating point numbers that aren&#39;t exactly right.","title":"using Float numbers for the map&#39;s key","body":"<p>I would recommend against using floating point numbers as hash map keys if possible.  Your keys must match exactly when you look up values, and it's easy to get floating point numbers that aren't exactly right.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290282957,"creation_date":1290282957,"answer_id":4234692,"question_id":4234462,"body_markdown":"Just to take all answers together.\r\n\r\n1. The mentioned Map&lt;Float, Integer&gt; cannot accept strings, so you cannot say m.put(f, &quot;cat&quot;)\r\n2. You can but do not have to wrap float using Float: auto-boxing does it for you automatically, so you can just say m.put(a[i],&quot;cat&quot;)\r\n3. You are not recommended to use floating point types (Float and Double) as map key. It may cause problems when you try to extract value from map using get(key) method\r\n4. Note also that default type for floating constants is double, not float. So, be careful with floats, use them only if you really need them. In any case use float modifier near constants like 3.14f. ","title":"using Float numbers for the map&#39;s key","body":"<p>Just to take all answers together.</p>\n\n<ol>\n<li>The mentioned Map cannot accept strings, so you cannot say m.put(f, \"cat\")</li>\n<li>You can but do not have to wrap float using Float: auto-boxing does it for you automatically, so you can just say m.put(a[i],\"cat\")</li>\n<li>You are not recommended to use floating point types (Float and Double) as map key. It may cause problems when you try to extract value from map using get(key) method</li>\n<li>Note also that default type for floating constants is double, not float. So, be careful with floats, use them only if you really need them. In any case use float modifier near constants like 3.14f. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":537299,"reputation":16550,"user_id":696535,"accept_rate":29,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549114237,"creation_date":1549114237,"answer_id":54493560,"question_id":4234462,"body_markdown":"Truncate to given precision to generate predictable keys based on floats. An example in JavaScript\r\n\r\n    const precision = Math.pow(10, 4); // where 4 is number of decimal places to retain\r\n    const a = 12.5678912331; b = 13.75324122; c = 21.32112221\r\n    const key = &#39;&#39; + Math.floor(a * precision) + &#39;_&#39; + Math.floor(b * precision) + &#39;_&#39; + Math.floor(c * precision);\r\n    const aMap = new Map();\r\n    aMap.set(key, &#39;some value&#39;);\r\n\r\nUseless fact: This is taken from code used to index vertices in 3d objects. By setting lower precision it allows to merge nearby vertices","title":"using Float numbers for the map&#39;s key","body":"<p>Truncate to given precision to generate predictable keys based on floats. An example in JavaScript</p>\n\n<pre><code>const precision = Math.pow(10, 4); // where 4 is number of decimal places to retain\nconst a = 12.5678912331; b = 13.75324122; c = 21.32112221\nconst key = '' + Math.floor(a * precision) + '_' + Math.floor(b * precision) + '_' + Math.floor(c * precision);\nconst aMap = new Map();\naMap.set(key, 'some value');\n</code></pre>\n\n<p>Useless fact: This is taken from code used to index vertices in 3d objects. By setting lower precision it allows to merge nearby vertices</p>\n"},{"tags":[],"owner":{"account_id":15068226,"reputation":1,"user_id":10874621,"display_name":"Ghassen Kannou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695647043,"creation_date":1695647043,"answer_id":77172901,"question_id":4234462,"body_markdown":"You can use Float instead of float it will convert float to an object.\r\ni have never try it but i think it will work","title":"using Float numbers for the map&#39;s key","body":"<p>You can use Float instead of float it will convert float to an object.\ni have never try it but i think it will work</p>\n"}],"owner":{"account_id":216781,"reputation":3014,"user_id":472221,"accept_rate":75,"display_name":"user472221"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15031,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":4234583,"answer_count":5,"score":6,"last_activity_date":1695647043,"creation_date":1290280411,"question_id":4234462,"body_markdown":"after I create a new object : `Map&lt;Float,Integer&gt; m = new HashMap()&lt;Float,Integer&gt;;`\r\n\r\nI have an array with `&quot;float&quot;` numbers which are unique . I want to add these float numbers as the `m&#39;s key`! can I do this like :  `m.put(new Float(a[i]),&quot;cat&quot;);`   ?\r\n\r\nthanks","title":"using Float numbers for the map&#39;s key","body":"<p>after I create a new object : <code>Map&lt;Float,Integer&gt; m = new HashMap()&lt;Float,Integer&gt;;</code></p>\n\n<p>I have an array with <code>\"float\"</code> numbers which are unique . I want to add these float numbers as the <code>m's key</code>! can I do this like :  <code>m.put(new Float(a[i]),\"cat\");</code>   ?</p>\n\n<p>thanks</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1695640763,"post_id":77172089,"comment_id":136046982,"body_markdown":"Why don&#39;t you just make `RemoteService` a bean and let spring autowire it?","body":"Why don&#39;t you just make <code>RemoteService</code> a bean and let spring autowire it?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695641145,"post_id":77172089,"comment_id":136047054,"body_markdown":"I don&#39;t understand why standard constructor injection wouldn&#39;t work here. If there is a reason, please update the question and explain why normal autowiring doesn&#39;t cover your use case.","body":"I don&#39;t understand why standard constructor injection wouldn&#39;t work here. If there is a reason, please update the question and explain why normal autowiring doesn&#39;t cover your use case."},{"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"score":0,"creation_date":1695642933,"post_id":77172089,"comment_id":136047391,"body_markdown":"@Chaosfire do you mean a wrapper over this legacy initialization so I can inject it? RemoteService isn&#39;t a bean","body":"@Chaosfire do you mean a wrapper over this legacy initialization so I can inject it? RemoteService isn&#39;t a bean"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695643019,"post_id":77172089,"comment_id":136047412,"body_markdown":"No need for a wrapper, declare it using `@Bean`. Edit - there is already an [answer](https://stackoverflow.com/a/77172421/17795888) showing exactly what i meant.","body":"No need for a wrapper, declare it using <code>@Bean</code>. Edit - there is already an <a href=\"https://stackoverflow.com/a/77172421/17795888\">answer</a> showing exactly what i meant."},{"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"score":0,"creation_date":1695643035,"post_id":77172089,"comment_id":136047419,"body_markdown":"@Jorn I&#39;ve updated my question. My problem is that RemoteService is a legacy implemention which is not a bean and couldn&#39;t been autowired. I&#39;m looking for best practies for such cases whith such legacy implementations.","body":"@Jorn I&#39;ve updated my question. My problem is that RemoteService is a legacy implemention which is not a bean and couldn&#39;t been autowired. I&#39;m looking for best practies for such cases whith such legacy implementations."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695642839,"creation_date":1695642839,"answer_id":77172421,"question_id":77172089,"body_markdown":"Just do dependency injection like you normally would and move the `RemoteServiceFactory.newInstance()` to an `@Bean` annotated method. Problem solved. \r\n\r\n```java\r\n@Bean\r\npublic RemoveService remoteService() {\r\n  return RemoteServiceFactory.newInstance()\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class MyService {\r\n   private final RemoteService remoteService;\r\n   private final MySecondService secondService;\r\n\r\n  public MyService(RemoteService remoteService, MySecondService secondService) {\r\n    this.remoteService = remoteService;\r\n    this.secondService = secondService;\r\n  }\r\n  // Remainder of methods\r\n}\r\n```\r\n\r\n**NOTE:** I removed the use of Lombok here due to personal preference not to use it, you can ofcourse use the `@RequiredArgsConstructor` if you prefer. ","title":"Spring Boot best practicies for static factory initializations of non-bean objects in service-class","body":"<p>Just do dependency injection like you normally would and move the <code>RemoteServiceFactory.newInstance()</code> to an <code>@Bean</code> annotated method. Problem solved.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RemoveService remoteService() {\n  return RemoteServiceFactory.newInstance()\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n   private final RemoteService remoteService;\n   private final MySecondService secondService;\n\n  public MyService(RemoteService remoteService, MySecondService secondService) {\n    this.remoteService = remoteService;\n    this.secondService = secondService;\n  }\n  // Remainder of methods\n}\n</code></pre>\n<p><strong>NOTE:</strong> I removed the use of Lombok here due to personal preference not to use it, you can ofcourse use the <code>@RequiredArgsConstructor</code> if you prefer.</p>\n"},{"tags":[],"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695644450,"creation_date":1695644450,"answer_id":77172592,"question_id":77172089,"body_markdown":"Thank you for previous answers. \r\n\r\nI&#39;ve ended up with a configuration which generates bean definition of RemoteService from thrid-party lib.\r\n\r\n```java \r\n@Configuration\r\npublic RemoteServiceConfig {\r\n    @Bean\r\n    public RemoteService remoteService() {\r\n        return RemoteServiceFactory.newInstance();\r\n    }\r\n}\r\n```\r\nNot I can be autowired.\r\n","title":"Spring Boot best practicies for static factory initializations of non-bean objects in service-class","body":"<p>Thank you for previous answers.</p>\n<p>I've ended up with a configuration which generates bean definition of RemoteService from thrid-party lib.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic RemoteServiceConfig {\n    @Bean\n    public RemoteService remoteService() {\n        return RemoteServiceFactory.newInstance();\n    }\n}\n</code></pre>\n<p>Not I can be autowired.</p>\n"},{"tags":[],"owner":{"account_id":17867155,"reputation":442,"user_id":12979271,"display_name":"siiraaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695646940,"creation_date":1695646940,"answer_id":77172889,"question_id":77172089,"body_markdown":"**Step 1** : Define RemoteService as a Bean so you can create a Java Config class (annotated with @Configuration) to define RemoteService as a Spring bean.\r\n\r\n    @Configuration\r\n    public class RemoteServiceConfig {\r\n\r\n       @Bean\r\n        public RemoteService remoteService() {\r\n        return RemoteServiceFactory.newInstance();\r\n       }\r\n    }\r\n\r\n**Step 2** :  Inject RemoteService through Constructor\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class MyService {\r\n       private final RemoteService remoteService;\r\n       private final MySecondService secondService;\r\n    }\r\n\r\n**Step 3**  : Unit test, you can use mocking frameworks like Mockito to mock the RemoteService and MySecondService.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class MyServiceTest {\r\n    \r\n    @Mock\r\n    private RemoteService remoteService;\r\n    \r\n    @Mock\r\n    private MySecondService secondService;\r\n    \r\n    private MyService myService;\r\n    \r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n        myService = new MyService(remoteService, secondService);\r\n    }\r\n    \r\n    // ... Your test methods\r\n}\r\n","title":"Spring Boot best practicies for static factory initializations of non-bean objects in service-class","body":"<p><strong>Step 1</strong> : Define RemoteService as a Bean so you can create a Java Config class (annotated with @Configuration) to define RemoteService as a Spring bean.</p>\n<pre><code>@Configuration\npublic class RemoteServiceConfig {\n\n   @Bean\n    public RemoteService remoteService() {\n    return RemoteServiceFactory.newInstance();\n   }\n}\n</code></pre>\n<p><strong>Step 2</strong> :  Inject RemoteService through Constructor</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MyService {\n   private final RemoteService remoteService;\n   private final MySecondService secondService;\n}\n</code></pre>\n<p><strong>Step 3</strong>  : Unit test, you can use mocking frameworks like Mockito to mock the RemoteService and MySecondService.</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class MyServiceTest {\n\n@Mock\nprivate RemoteService remoteService;\n\n@Mock\nprivate MySecondService secondService;\n\nprivate MyService myService;\n\n@Before\npublic void setUp() {\n    MockitoAnnotations.openMocks(this);\n    myService = new MyService(remoteService, secondService);\n}\n\n// ... Your test methods\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1695756286,"accepted_answer_id":77172889,"answer_count":3,"score":-1,"last_activity_date":1695646940,"creation_date":1695639731,"question_id":77172089,"body_markdown":"I would like to refactor an application where some fields are initialized with static factory methods. It makes unit testing difficult and these fields can only be set via reflection in unit tests. \r\nHere is one code example I would like to refactor\r\n```java \r\n@Service\r\n@RequiredArgsConstructor \r\npublic class MyService {\r\n   private final RemoteService remoteService = RemoteServiceFactory.newInstance();\r\n\r\n   private final MySecondService secondService;\r\n\r\n   .... \r\n\r\n}\r\n\r\n```\r\n\r\nAs you can see there is a field which is initialized via factory. Autowiring is not possible because no beans of this type are found. RemoteService is legacy code from maven dependency. \r\n\r\nI&#39;m searching for some solution for dependency injection because you cannot really test my service properly without reflection. \r\n\r\nWhat are best practicies to avoid such initialization in service classes? \r\n\r\n","title":"Spring Boot best practicies for static factory initializations of non-bean objects in service-class","body":"<p>I would like to refactor an application where some fields are initialized with static factory methods. It makes unit testing difficult and these fields can only be set via reflection in unit tests.\nHere is one code example I would like to refactor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor \npublic class MyService {\n   private final RemoteService remoteService = RemoteServiceFactory.newInstance();\n\n   private final MySecondService secondService;\n\n   .... \n\n}\n\n</code></pre>\n<p>As you can see there is a field which is initialized via factory. Autowiring is not possible because no beans of this type are found. RemoteService is legacy code from maven dependency.</p>\n<p>I'm searching for some solution for dependency injection because you cannot really test my service properly without reflection.</p>\n<p>What are best practicies to avoid such initialization in service classes?</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1695635845,"post_id":77171592,"comment_id":136046032,"body_markdown":"Be specific with the return type as yuou noticed. The configuration classes are processed very early on and they can only determine what to do based on the return-type of the method as there is no actual instance of the class that is being returned. Hence you need to be specific. So unless your own custom itemwriter is also an `ItemStreamWriter`  your only option is to create 2 configurations.","body":"Be specific with the return type as yuou noticed. The configuration classes are processed very early on and they can only determine what to do based on the return-type of the method as there is no actual instance of the class that is being returned. Hence you need to be specific. So unless your own custom itemwriter is also an <code>ItemStreamWriter</code>  your only option is to create 2 configurations."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695646834,"creation_date":1695646834,"answer_id":77172882,"question_id":77171592,"body_markdown":"When using the Java configuration style to define step scoped `ItemStream` beans, the return type of the bean definition method should be at least `ItemStream`. This is required so that Spring Batch correctly creates a proxy that implements this interface, and therefore honors its contract by calling `open`, `update` and `close` methods as expected.\r\n\r\nThis is mentioned in the documentation here: [Scoping ItemStream components](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#scoping-item-streams)","title":"Spring-Batch does not open FlatFileItemWriter if bean is declared as ItemWriter","body":"<p>When using the Java configuration style to define step scoped <code>ItemStream</code> beans, the return type of the bean definition method should be at least <code>ItemStream</code>. This is required so that Spring Batch correctly creates a proxy that implements this interface, and therefore honors its contract by calling <code>open</code>, <code>update</code> and <code>close</code> methods as expected.</p>\n<p>This is mentioned in the documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#scoping-item-streams\" rel=\"nofollow noreferrer\">Scoping ItemStream components</a></p>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77172882,"answer_count":1,"score":0,"last_activity_date":1695646834,"creation_date":1695635508,"question_id":77171592,"body_markdown":"I&#39;m using Spring Batch 4.3.8 and I&#39;m trying to use the following code in my configuration to define a ItemWriter\r\n\r\n    @Bean\r\n\t@StepScope\r\n\tpublic ItemWriter&lt;MyData&gt; itemWriter(MyFileConfig fileConfig) {\r\n\t\tString outputFileName = fileConfig.retrieveOutputFileName();\r\n\t\tif (StringUtils.isBlank(outputFileName)) {\r\n\t\t\treturn new MyOtherWriter&lt;&gt;();\r\n\t\t}\r\n\t\treturn new FlatFileItemWriterBuilder&lt;MyData&gt;().name(WRITER_NAME)\r\n\t\t\t\t.resource(new FileSystemResource(outputFileName))\r\n\t\t\t\t.delimited()\r\n\t\t\t\t.delimiter(DELIMITER)\r\n\t\t\t\t.names(NAMES)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nbut I&#39;m getting the following error when `outputFileName` is not blank\r\n\r\n    org.springframework.batch.item.WriterNotOpenException: Writer must be open before it can be written to\r\n    \tat org.springframework.batch.item.support.AbstractFileItemWriter.write(AbstractFileItemWriter.java:239)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n    \tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\r\n    \tat com.sun.proxy.$Proxy124.write(Unknown Source)\r\n    \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:193)\r\n    \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:159)\r\n    \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:294)\r\n    \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:217)\r\n    \tat org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\r\n    \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n    \tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n    \tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n    \tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n    \tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\r\n    \tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\r\n    \tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\r\n    \tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)\r\n    \tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)\r\n    \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\r\n    \tat com.sun.proxy.$Proxy120.run(Unknown Source)\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199)\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\r\n    \tat org.springframework.cloud.sleuth.instrument.task.TraceApplicationRunner.run(TraceApplicationRunner.java:51)\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:759)\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:749)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\r\nYet this code is working fine\r\n\r\n    @Bean\r\n\t@StepScope\r\n\tpublic FlatFileItemWriter&lt;MyData&gt; itemWriter(MyFileConfig fileConfig) {\r\n\t\treturn new FlatFileItemWriterBuilder&lt;MyData&gt;().name(WRITER_NAME)\r\n\t\t\t\t.resource(new FileSystemResource(fileConfig.retrieveOutputFileName()))\r\n\t\t\t\t.delimited()\r\n\t\t\t\t.delimiter(DELIMITER)\r\n\t\t\t\t.names(NAMES)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nso I&#39;m assuming the issue is that Spring Batch is not checking that the ItemWriter is actually a FlatFileItemWriter and doing the proper init. Is there a way to comfortably handle this case, without duplicating config (the various `@Conditional` annotations on beans)?","title":"Spring-Batch does not open FlatFileItemWriter if bean is declared as ItemWriter","body":"<p>I'm using Spring Batch 4.3.8 and I'm trying to use the following code in my configuration to define a ItemWriter</p>\n<pre><code>@Bean\n@StepScope\npublic ItemWriter&lt;MyData&gt; itemWriter(MyFileConfig fileConfig) {\n    String outputFileName = fileConfig.retrieveOutputFileName();\n    if (StringUtils.isBlank(outputFileName)) {\n        return new MyOtherWriter&lt;&gt;();\n    }\n    return new FlatFileItemWriterBuilder&lt;MyData&gt;().name(WRITER_NAME)\n            .resource(new FileSystemResource(outputFileName))\n            .delimited()\n            .delimiter(DELIMITER)\n            .names(NAMES)\n            .build();\n}\n</code></pre>\n<p>but I'm getting the following error when <code>outputFileName</code> is not blank</p>\n<pre><code>org.springframework.batch.item.WriterNotOpenException: Writer must be open before it can be written to\n    at org.springframework.batch.item.support.AbstractFileItemWriter.write(AbstractFileItemWriter.java:239)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\n    at com.sun.proxy.$Proxy124.write(Unknown Source)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:193)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:159)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:294)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:217)\n    at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\n    at com.sun.proxy.$Proxy120.run(Unknown Source)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\n    at org.springframework.cloud.sleuth.instrument.task.TraceApplicationRunner.run(TraceApplicationRunner.java:51)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:749)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n</code></pre>\n<p>Yet this code is working fine</p>\n<pre><code>@Bean\n@StepScope\npublic FlatFileItemWriter&lt;MyData&gt; itemWriter(MyFileConfig fileConfig) {\n    return new FlatFileItemWriterBuilder&lt;MyData&gt;().name(WRITER_NAME)\n            .resource(new FileSystemResource(fileConfig.retrieveOutputFileName()))\n            .delimited()\n            .delimiter(DELIMITER)\n            .names(NAMES)\n            .build();\n}\n</code></pre>\n<p>so I'm assuming the issue is that Spring Batch is not checking that the ItemWriter is actually a FlatFileItemWriter and doing the proper init. Is there a way to comfortably handle this case, without duplicating config (the various <code>@Conditional</code> annotations on beans)?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695646576,"creation_date":1695646576,"answer_id":77172847,"question_id":77172528,"body_markdown":"Can you try something like this please?\r\n\r\n    Drawable originalDrawable = AppCompatResources.getDrawable(context, R.drawable.icon_name); \r\n    Drawable modifiedDrawable = DrawableCompat.wrap(originalDrawable);\r\n    DrawableCompat.setTint(modifiedDrawable, Color.RED);  \r\n\r\nP.S: I am using `DrawableCompat` here since it provides backwards compatibility and bug fixes on API 22 devices and earlier. ","title":"How to change color of the icon in android R.drawable?","body":"<p>Can you try something like this please?</p>\n<pre><code>Drawable originalDrawable = AppCompatResources.getDrawable(context, R.drawable.icon_name); \nDrawable modifiedDrawable = DrawableCompat.wrap(originalDrawable);\nDrawableCompat.setTint(modifiedDrawable, Color.RED);  \n</code></pre>\n<p>P.S: I am using <code>DrawableCompat</code> here since it provides backwards compatibility and bug fixes on API 22 devices and earlier.</p>\n"},{"tags":[],"owner":{"account_id":18535094,"reputation":71,"user_id":13504941,"display_name":"Aditya Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695646666,"creation_date":1695646666,"answer_id":77172861,"question_id":77172528,"body_markdown":"You can extract the drawable using context.getDrawable(R.drawable.your_drawable)\r\n\r\nand can simply set the tint color of your drawable using\r\n\r\n    var drawable = context.getDrawable(R.drawable.your_drawable)\r\n    drawable.setTint(R.color.your_color)\r\n\r\nAnother way would to give tint color directly to your imageView\r\n1. in xml \r\n2. or programatically.    `imageView.imageTintList=context.getColorStateList(R.color.your_color)`\r\n\r\n  \r\n\r\n\r\n\r\n\r\n","title":"How to change color of the icon in android R.drawable?","body":"<p>You can extract the drawable using context.getDrawable(R.drawable.your_drawable)</p>\n<p>and can simply set the tint color of your drawable using</p>\n<pre><code>var drawable = context.getDrawable(R.drawable.your_drawable)\ndrawable.setTint(R.color.your_color)\n</code></pre>\n<p>Another way would to give tint color directly to your imageView</p>\n<ol>\n<li>in xml</li>\n<li>or programatically.    <code>imageView.imageTintList=context.getColorStateList(R.color.your_color)</code></li>\n</ol>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695646666,"creation_date":1695643956,"question_id":77172528,"body_markdown":"Hello I have the method which returns the int `R.drawable.icon_name`.\r\nHow can I set the color of that icon ? \r\nIs there any possibility to return the &#39;int&#39; with changing the color ? \r\n\r\nI&#39;ve tried the `R.color` but can I connect this two possibilities ? ","title":"How to change color of the icon in android R.drawable?","body":"<p>Hello I have the method which returns the int <code>R.drawable.icon_name</code>.\nHow can I set the color of that icon ?\nIs there any possibility to return the 'int' with changing the color ?</p>\n<p>I've tried the <code>R.color</code> but can I connect this two possibilities ?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695641504,"post_id":77172132,"comment_id":136047131,"body_markdown":"Listeners is what you want, a job listener would do the trick. Trying to shoehorn this into steps will only make it more difficult.","body":"Listeners is what you want, a job listener would do the trick. Trying to shoehorn this into steps will only make it more difficult."},{"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"score":0,"creation_date":1695719385,"post_id":77172132,"comment_id":136058735,"body_markdown":"@M.Deinum I have replaced the delete step with a listeners but, although the related method is the last to be executed, its properties are not valued.","body":"@M.Deinum I have replaced the delete step with a listeners but, although the related method is the last to be executed, its properties are not valued."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695719630,"post_id":77172132,"comment_id":136058794,"body_markdown":"Let me guess you are doing a `new MyLIstener()` in your `Job` configuration method instead of having an `@Bean` method for the listener?","body":"Let me guess you are doing a <code>new MyLIstener()</code> in your <code>Job</code> configuration method instead of having an <code>@Bean</code> method for the listener?"},{"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"score":0,"creation_date":1695720255,"post_id":77172132,"comment_id":136058924,"body_markdown":"In the xml file that defines the job flow, I replaced the file deletion step with a listener. The class of this listener implements a JobExecutionListener. In the afterJob() method, I placed the instructions that delete the temporary directory. These instructions make use of injected variables, but they are not valued, whereas in the tasklet they were valued. Just as was done in the step, in the listener I added the properties like this\n &lt;property name=&quot;propertyName&quot; value=&quot;propertyValue&quot; /&gt; \nI also tried adding a bean in the applicationContext.xml, but the properties are still null.","body":"In the xml file that defines the job flow, I replaced the file deletion step with a listener. The class of this listener implements a JobExecutionListener. In the afterJob() method, I placed the instructions that delete the temporary directory. These instructions make use of injected variables, but they are not valued, whereas in the tasklet they were valued. Just as was done in the step, in the listener I added the properties like this  &lt;property name=&quot;propertyName&quot; value=&quot;propertyValue&quot; /&gt;  I also tried adding a bean in the applicationContext.xml, but the properties are still null."},{"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"score":0,"creation_date":1695720357,"post_id":77172132,"comment_id":136058939,"body_markdown":"@M.Deinum Finally, I also tried defining the variables in the class that implements the JobExecutionListener as static, but they keep getting null.","body":"@M.Deinum Finally, I also tried defining the variables in the class that implements the JobExecutionListener as static, but they keep getting null."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695720819,"post_id":77172132,"comment_id":136059020,"body_markdown":"I&#39;m lost as to what you did and tried. THe fact that your listener doesn&#39;t work is a different question and is not something we should try to answer here or discuss in comments.","body":"I&#39;m lost as to what you did and tried. THe fact that your listener doesn&#39;t work is a different question and is not something we should try to answer here or discuss in comments."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695646634,"creation_date":1695646634,"answer_id":77172852,"question_id":77172132,"body_markdown":"If your requirement is only to delete temporary files created by steps no matter the exit status of those steps is, then a `JobExecutionListener#afterJob` is a good option. This listener is always executed.\r\n\r\nHowever, if you want to introduce a complex flow of execution with conditional/branching like `step 7, is a step that should always be performed, even if one of the previous steps fails` or `Step 8, on the other hand, should be executed only when none of the previous steps generates an exception`, then you need to define a job execution `Flow`, as described in this section: [Controlling Step Flow](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#controllingStepFlow)","title":"How to still run a step spring batch even when an exception occurs","body":"<p>If your requirement is only to delete temporary files created by steps no matter the exit status of those steps is, then a <code>JobExecutionListener#afterJob</code> is a good option. This listener is always executed.</p>\n<p>However, if you want to introduce a complex flow of execution with conditional/branching like <code>step 7, is a step that should always be performed, even if one of the previous steps fails</code> or <code>Step 8, on the other hand, should be executed only when none of the previous steps generates an exception</code>, then you need to define a job execution <code>Flow</code>, as described in this section: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#controllingStepFlow\" rel=\"nofollow noreferrer\">Controlling Step Flow</a></p>\n"}],"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77172852,"answer_count":1,"score":0,"last_activity_date":1695646634,"creation_date":1695640102,"question_id":77172132,"body_markdown":"I have a spring batch program where execution flows of various steps are defined via xml files. One of these xml files is structured something like this.\r\n\r\n    &lt;step id=&quot;step1&quot; next=&quot;step2&quot;&gt;\r\n    \t&lt;!-- Configuration of step 1 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step2&quot; next=&quot;step3&quot;&gt;\r\n    \t&lt;!-- Configuration of step 2 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step3&quot; next=&quot;step4&quot;&gt;\r\n    \t&lt;!-- Configuration of step 3 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step4&quot; next=&quot;step5&quot;&gt;\r\n    \t&lt;!-- Configuration of step 4 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step5&quot; next=&quot;step6&quot;&gt;\r\n    \t&lt;!-- Configuration of step 5 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step6&quot; next=&quot;step7&quot;&gt;\r\n    \t&lt;!-- Configuration of step 6 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step7&quot; next=&quot;step8&quot;&gt;\r\n    \t&lt;!-- Configuration of step 7 --&gt;\r\n    &lt;/step&gt;\r\n\r\n    &lt;step id=&quot;step8&quot;&gt;\r\n    \t&lt;!-- Configuration of step 8 --&gt;\r\n    &lt;/step&gt;\r\n\r\nOne of the last steps, let&#39;s say step 7, is a step that should always be performed, even if one of the previous steps fails, as it takes care of deleting temporary files that were generated during the execution of the flow. At the moment, when one of steps 1 to 6 generates an exception, step 7 is not reached, so the files to be deleted have to be deleted manually. I should make sure that step 7 is executed both when all the previous steps succeed and when one of them generates an exception that stops the program. Step 8, on the other hand, should be executed only when none of the previous steps generates an exception.\r\nSearching the web, it seems that it is conceivable to use listeners to achieve the desired behavior, but I would like to understand how to configure it for the purpose or if there are other more suitable ways.","title":"How to still run a step spring batch even when an exception occurs","body":"<p>I have a spring batch program where execution flows of various steps are defined via xml files. One of these xml files is structured something like this.</p>\n<pre><code>&lt;step id=&quot;step1&quot; next=&quot;step2&quot;&gt;\n    &lt;!-- Configuration of step 1 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step2&quot; next=&quot;step3&quot;&gt;\n    &lt;!-- Configuration of step 2 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step3&quot; next=&quot;step4&quot;&gt;\n    &lt;!-- Configuration of step 3 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step4&quot; next=&quot;step5&quot;&gt;\n    &lt;!-- Configuration of step 4 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step5&quot; next=&quot;step6&quot;&gt;\n    &lt;!-- Configuration of step 5 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step6&quot; next=&quot;step7&quot;&gt;\n    &lt;!-- Configuration of step 6 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step7&quot; next=&quot;step8&quot;&gt;\n    &lt;!-- Configuration of step 7 --&gt;\n&lt;/step&gt;\n\n&lt;step id=&quot;step8&quot;&gt;\n    &lt;!-- Configuration of step 8 --&gt;\n&lt;/step&gt;\n</code></pre>\n<p>One of the last steps, let's say step 7, is a step that should always be performed, even if one of the previous steps fails, as it takes care of deleting temporary files that were generated during the execution of the flow. At the moment, when one of steps 1 to 6 generates an exception, step 7 is not reached, so the files to be deleted have to be deleted manually. I should make sure that step 7 is executed both when all the previous steps succeed and when one of them generates an exception that stops the program. Step 8, on the other hand, should be executed only when none of the previous steps generates an exception.\nSearching the web, it seems that it is conceivable to use listeners to achieve the desired behavior, but I would like to understand how to configure it for the purpose or if there are other more suitable ways.</p>\n"},{"tags":["java","spring","mybatis-mapper"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695643282,"post_id":77172458,"comment_id":136047456,"body_markdown":"the above is not exactly Java code.","body":"the above is not exactly Java code."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695643661,"post_id":77172458,"comment_id":136047529,"body_markdown":"Try: `select to_char(sysdate, &#39;yyyymmdd&#39;) || order_seq.nextval || #{storeCode} AS orderCode from dual`","body":"Try: <code>select to_char(sysdate, &#39;yyyymmdd&#39;) || order_seq.nextval || #{storeCode} AS orderCode from dual</code>"}],"answers":[{"tags":[],"owner":{"account_id":17867155,"reputation":442,"user_id":12979271,"display_name":"siiraaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695646416,"creation_date":1695646416,"answer_id":77172826,"question_id":77172458,"body_markdown":"Instead of using the fully qualified class name java.lang.String, try using the lowercase primitive string \r\n\r\n    &lt;selectKey resultType=&quot;string&quot; keyProperty=&quot;orderCode&quot; order=&quot;BEFORE&quot;&gt;\r\n    select to_char(sysdate, &#39;yyyymmdd&#39;) || order_seq.nextval || #{storeCode} from dual\r\n&lt;/selectKey&gt;\r\n\r\nTry also to explicitly cast the result to VARCHAR or CHAR in SQL:\r\n\r\n    &lt;selectKey resultType=&quot;string&quot; keyProperty=&quot;orderCode&quot; order=&quot;BEFORE&quot;&gt;\r\n    select cast(to_char(sysdate, &#39;yyyymmdd&#39;) || order_seq.nextval || #{storeCode} as VARCHAR2(255)) from dual\r\n&lt;/selectKey&gt;\r\n","title":"How to solve &quot;has an unsupported return type: class java.lang.String&quot; when using Mybatis insert","body":"<p>Instead of using the fully qualified class name java.lang.String, try using the lowercase primitive string</p>\n<pre><code>&lt;selectKey resultType=&quot;string&quot; keyProperty=&quot;orderCode&quot; order=&quot;BEFORE&quot;&gt;\nselect to_char(sysdate, 'yyyymmdd') || order_seq.nextval || #{storeCode} from dual\n</code></pre>\n\n<p>Try also to explicitly cast the result to VARCHAR or CHAR in SQL:</p>\n<pre><code>&lt;selectKey resultType=&quot;string&quot; keyProperty=&quot;orderCode&quot; order=&quot;BEFORE&quot;&gt;\nselect cast(to_char(sysdate, 'yyyymmdd') || order_seq.nextval || #{storeCode} as VARCHAR2(255)) from dual\n</code></pre>\n\n"}],"owner":{"account_id":23673654,"reputation":11,"user_id":17700120,"display_name":"Mizue Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695646416,"creation_date":1695643167,"question_id":77172458,"body_markdown":"in my project i need to use pk just i insert.\r\nso i used selectKey in my xml and it returns error : has an unsupported return type: class java.lang.String\r\n\r\ni am using Spring, Java1.8, Oracle DB\r\nand my code goes\r\n\r\n```\r\n&lt;insert id=&quot;makeNewOrder&quot; parameterType=&quot;Order&quot;&gt;\r\n\t&lt;selectKey resultType=&quot;java.lang.String&quot; keyProperty=&quot;orderCode&quot; order=&quot;BEFORE&quot;&gt;\r\n\t\tselect to_char(sysdate, &#39;yyyymmdd&#39;) || order_seq.nextval || #{storeCode} from dual\r\n\t&lt;/selectKey&gt;\r\n    \tinsert into\r\n    \t\torders \r\n    \t\t(orderCode\r\n       \t\t , storeCode\r\n       \t\t &lt;if test=&quot;memberId != null&quot;&gt; , memberId &lt;/if&gt;\r\n       \t\t , orderState)\r\n    \tvalues\r\n    \t\t( #{orderCode}\r\n       \t\t, #{storeCode}\r\n       \t\t&lt;if test=&quot;memberId != null&quot;&gt; , #{memberId} &lt;/if&gt;\r\n       \t\t, &#39;apply&#39;)\r\n&lt;/insert&gt;\r\n```\r\n\r\nhow can i fix it?\r\n\r\nmy dao returns String and i&#39;ve googled...","title":"How to solve &quot;has an unsupported return type: class java.lang.String&quot; when using Mybatis insert","body":"<p>in my project i need to use pk just i insert.\nso i used selectKey in my xml and it returns error : has an unsupported return type: class java.lang.String</p>\n<p>i am using Spring, Java1.8, Oracle DB\nand my code goes</p>\n<pre><code>&lt;insert id=&quot;makeNewOrder&quot; parameterType=&quot;Order&quot;&gt;\n    &lt;selectKey resultType=&quot;java.lang.String&quot; keyProperty=&quot;orderCode&quot; order=&quot;BEFORE&quot;&gt;\n        select to_char(sysdate, 'yyyymmdd') || order_seq.nextval || #{storeCode} from dual\n    &lt;/selectKey&gt;\n        insert into\n            orders \n            (orderCode\n             , storeCode\n             &lt;if test=&quot;memberId != null&quot;&gt; , memberId &lt;/if&gt;\n             , orderState)\n        values\n            ( #{orderCode}\n            , #{storeCode}\n            &lt;if test=&quot;memberId != null&quot;&gt; , #{memberId} &lt;/if&gt;\n            , 'apply')\n&lt;/insert&gt;\n</code></pre>\n<p>how can i fix it?</p>\n<p>my dao returns String and i've googled...</p>\n"},{"tags":["java","batch-processing","mssql-jdbc","jtds"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695645866,"post_id":77172739,"comment_id":136047987,"body_markdown":"afaicr jtds died some time ago and shouldn&#39;t be considered reliable now. Use the latest driver from MS","body":"afaicr jtds died some time ago and shouldn&#39;t be considered reliable now. Use the latest driver from MS"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695650005,"post_id":77172739,"comment_id":136048951,"body_markdown":"If you are using at least Java 8, then you need version 1.3.1 (and not 1.2.8)","body":"If you are using at least Java 8, then you need version 1.3.1 (and not 1.2.8)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695650234,"post_id":77172739,"comment_id":136049003,"body_markdown":"You wrote (in your question): _For run the project with this driver change, I have to do several changes in the project._ As far as I am aware (or afaiaa - as @g00se would write), those changes are very minor. We initially used [jTDS](https://jtds.sourceforge.net/) and moved to [Microsoft JDBC driver](https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16) and only required very minimal changes.","body":"You wrote (in your question): <i>For run the project with this driver change, I have to do several changes in the project.</i> As far as I am aware (or afaiaa - as @g00se would write), those changes are very minor. We initially used <a href=\"https://jtds.sourceforge.net/\" rel=\"nofollow noreferrer\">jTDS</a> and moved to <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">Microsoft JDBC driver</a> and only required very minimal changes."},{"owner":{"account_id":1964182,"reputation":147,"user_id":1764850,"display_name":"Linidu Praneeth Gunathilaka"},"score":0,"creation_date":1695659564,"post_id":77172739,"comment_id":136051069,"body_markdown":"yeah, useful thoughts, have anyone got the output of the getUpdateCounts() method, in a real world scenario?","body":"yeah, useful thoughts, have anyone got the output of the getUpdateCounts() method, in a real world scenario?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1699695103,"post_id":77172739,"comment_id":136565891,"body_markdown":"Are you sure the rest of your batch is even getting executed? if sql server aborted your batch after first failure, the rest of the batches will be populated with failures automatically. we need some sort of code that reproduces the issue i think. Also, you&#39;re using an old jtds version (which is itself very old).","body":"Are you sure the rest of your batch is even getting executed? if sql server aborted your batch after first failure, the rest of the batches will be populated with failures automatically. we need some sort of code that reproduces the issue i think. Also, you&#39;re using an old jtds version (which is itself very old)."}],"owner":{"account_id":1964182,"reputation":147,"user_id":1764850,"display_name":"Linidu Praneeth Gunathilaka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695645679,"creation_date":1695645679,"question_id":77172739,"body_markdown":"Currently I&#39;m processing a batch of data which saves into MSSQL database.\r\nAnd I&#39;m using this jtds driver to get establish the database transactions.\r\n    \r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhile processing the batch I&#39;m expecting there can be some rows which fail while inserting.\r\nI want to get to know exactly what are the failed rows for my requirement.\r\n\r\nI used this getUpdateCounts() method to find the status of the processed records in the batch.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html\r\n\r\nBut I&#39;m not getting the expected result from this method.\r\nAssume the first record success and the second one failed.\r\nthen the out put is something like this.\r\n \r\n\r\n    [-2, -3, -3, -3, -3, -3, -3, -3, -3, -3]\r\n\r\nAnd if the first one fails and others success, still it&#39;s resulting like this way.\r\n \r\n\r\n    [-3, -3, -3, -3, -3, -3, -3, -3, -3, -3]\r\n\r\nThen I thought of using the mssql-jdbc driver instead of the jtds driver.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;12.4.1.jre8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor run the project with this driver change, I have to do several changes in the project.\r\n\r\nSo I&#39;m expecting valuable thoughts regarding this scenario.","title":"Return value of the getUpdateCounts() of theh mssql-jdbc driver which comes with com.microsoft.sqlserver","body":"<p>Currently I'm processing a batch of data which saves into MSSQL database.\nAnd I'm using this jtds driver to get establish the database transactions.</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n        &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n        &lt;version&gt;1.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>While processing the batch I'm expecting there can be some rows which fail while inserting.\nI want to get to know exactly what are the failed rows for my requirement.</p>\n<p>I used this getUpdateCounts() method to find the status of the processed records in the batch.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html</a></p>\n<p>But I'm not getting the expected result from this method.\nAssume the first record success and the second one failed.\nthen the out put is something like this.</p>\n<pre><code>[-2, -3, -3, -3, -3, -3, -3, -3, -3, -3]\n</code></pre>\n<p>And if the first one fails and others success, still it's resulting like this way.</p>\n<pre><code>[-3, -3, -3, -3, -3, -3, -3, -3, -3, -3]\n</code></pre>\n<p>Then I thought of using the mssql-jdbc driver instead of the jtds driver.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;12.4.1.jre8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For run the project with this driver change, I have to do several changes in the project.</p>\n<p>So I'm expecting valuable thoughts regarding this scenario.</p>\n"},{"tags":["java","java-21"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":5,"creation_date":1695646348,"post_id":77172733,"comment_id":136048097,"body_markdown":"Can you explain why you need &quot;to lock down the JRE&quot; in more detail? If you actually succeed in doing so, what is preventing me from using a JRE other than yours to run your application?","body":"Can you explain why you need &quot;to lock down the JRE&quot; in more detail? If you actually succeed in doing so, what is preventing me from using a JRE other than yours to run your application?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695646768,"post_id":77172733,"comment_id":136048182,"body_markdown":"What does “lock down the JRE” even mean? The security manager was never responsible for a feature like “to let JRE only run JAR&#39;s that are signed with a specific certifcate”, even before its deprecation. As Thomas Behr said, you need to explain how your requested feature was supposed to work in the first place, e.g. in Java&#160;8.","body":"What does “lock down the JRE” even mean? The security manager was never responsible for a feature like “to let JRE only run JAR&#39;s that are signed with a specific certifcate”, even before its deprecation. As Thomas Behr said, you need to explain how your requested feature was supposed to work in the first place, e.g. in Java 8."},{"owner":{"account_id":29529674,"reputation":11,"user_id":22630549,"display_name":"Torben"},"score":0,"creation_date":1695647538,"post_id":77172733,"comment_id":136048380,"body_markdown":"@ThomasBehr Locking down meaning only JAR&#39;s that are signed by a trusted CA should be allowed to run.\n@ Holger I think I have mixed it up with Java Applets/JWS. There you can enforce the JARs to be signed by a specific certificate.\nNontheless is there any way to prevent JRE from running arbitrary JREs? Excluding the applications that bring their own.","body":"@ThomasBehr Locking down meaning only JAR&#39;s that are signed by a trusted CA should be allowed to run. @ Holger I think I have mixed it up with Java Applets/JWS. There you can enforce the JARs to be signed by a specific certificate. Nontheless is there any way to prevent JRE from running arbitrary JREs? Excluding the applications that bring their own."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1695647791,"post_id":77172733,"comment_id":136048446,"body_markdown":"I think that the answer is No ... unless you want to modify OpenJDK and make your own JRE builds.","body":"I think that the answer is No ... unless you want to modify OpenJDK and make your own JRE builds."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1695648094,"post_id":77172733,"comment_id":136048522,"body_markdown":"@Torben My question was *why* you want to lock down the JRE, not what you mean by &quot;locking&quot; (you already explained that in your initial post). I am asking for your reasons, because I do not understand why you need to do that. If the JRE is on a machine which you do not control, you cannot prevent people from using a JRE other than your locked one. If the JRE is on a machine you do control, simply do not run applications you do not trust. In the first case, &quot;locking&quot; won&#39;t do any good, in the second case, there is no need for &quot;locking&quot; at all.","body":"@Torben My question was <i>why</i> you want to lock down the JRE, not what you mean by &quot;locking&quot; (you already explained that in your initial post). I am asking for your reasons, because I do not understand why you need to do that. If the JRE is on a machine which you do not control, you cannot prevent people from using a JRE other than your locked one. If the JRE is on a machine you do control, simply do not run applications you do not trust. In the first case, &quot;locking&quot; won&#39;t do any good, in the second case, there is no need for &quot;locking&quot; at all."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695655709,"post_id":77172733,"comment_id":136050321,"body_markdown":"Well, Applets and JWS had a need for such a feature, as jar files were coming from external sources. JWS has been gone already, Applets have been marked *deprecated, for removal*, expect it to go together with the security manager. So what is the hypothetical feature for? In case of local launches, you are in control of the launch, you decide which jars to specify to the JVM. Or, to look at it from the other side, if you do not take control over the launch process, you don’t have control over the hypothetical signed-jars-only restriction either.","body":"Well, Applets and JWS had a need for such a feature, as jar files were coming from external sources. JWS has been gone already, Applets have been marked <i>deprecated, for removal</i>, expect it to go together with the security manager. So what is the hypothetical feature for? In case of local launches, you are in control of the launch, you decide which jars to specify to the JVM. Or, to look at it from the other side, if you do not take control over the launch process, you don’t have control over the hypothetical signed-jars-only restriction either."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1695657967,"post_id":77172733,"comment_id":136050799,"body_markdown":"@Holger Well, any application can load jars from external sources (think plug-ins). So, this applet/webstart security issue is there for &quot;normal&quot; applications as well. However, an application that loads external, unsigned jars or simply fails to verify signatures for external jars should not be &quot;trusted&quot; in the first place. Unfortunately, it takes quite some effort to check if an application loads insecure stuff. Moreover, it is fairly easy for a malicious party to sign their evil plug-in which begs the question how secure a signed jar really is.","body":"@Holger Well, any application can load jars from external sources (think plug-ins). So, this applet/webstart security issue is there for &quot;normal&quot; applications as well. However, an application that loads external, unsigned jars or simply fails to verify signatures for external jars should not be &quot;trusted&quot; in the first place. Unfortunately, it takes quite some effort to check if an application loads insecure stuff. Moreover, it is fairly easy for a malicious party to sign their evil plug-in which begs the question how secure a signed jar really is."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695658474,"post_id":77172733,"comment_id":136050897,"body_markdown":"@ThomasBehr …and every application can download a binary file and run it. Or contain the problematic stuff already in the first place, without the need to download it.","body":"@ThomasBehr …and every application can download a binary file and run it. Or contain the problematic stuff already in the first place, without the need to download it."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1695658624,"post_id":77172733,"comment_id":136050925,"body_markdown":"@Holger Exactly. I think we&#39;re on the same page, here. ;)","body":"@Holger Exactly. I think we&#39;re on the same page, here. ;)"}],"owner":{"account_id":29529674,"reputation":11,"user_id":22630549,"display_name":"Torben"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695645624,"creation_date":1695645624,"question_id":77172733,"body_markdown":"I have to lock down the JRE as much as possible. \r\nWith the deprecation of Java Security Manager in Java 21, there is (to my knowledge) no way to lock down the JRE to run only a selected handful of standalone JAR&#39;s.\r\n\r\nAm I missing something or is there no way to let JRE only run JAR&#39;s that are signed with a specific certifcate?\r\n\r\nAll documentation regarding this topic points to Java SE 8 and using Security Manager. The official documentation mention a Java Cryptography Extension Policy file but there is no further documentation about it.","title":"How to prevent JRE from running JAR&#39;s that are not signed?","body":"<p>I have to lock down the JRE as much as possible.\nWith the deprecation of Java Security Manager in Java 21, there is (to my knowledge) no way to lock down the JRE to run only a selected handful of standalone JAR's.</p>\n<p>Am I missing something or is there no way to let JRE only run JAR's that are signed with a specific certifcate?</p>\n<p>All documentation regarding this topic points to Java SE 8 and using Security Manager. The official documentation mention a Java Cryptography Extension Policy file but there is no further documentation about it.</p>\n"},{"tags":["java","networking","ip"],"answers":[{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1556909845,"creation_date":1235410490,"answer_id":578552,"question_id":577363,"body_markdown":"&lt;a href=&quot;http://commons.apache.org/net/&quot;&gt;Apache Commons Net&lt;/a&gt; has `org.apache.commons.net.util.SubnetUtils` that appears to satisfy your needs.  It looks like you do something like this:\r\n\r\n    SubnetInfo subnet = (new SubnetUtils(&quot;10.10.10.0&quot;, &quot;255.255.255.128&quot;)).getInfo();\r\n    boolean test = subnet.isInRange(&quot;10.10.10.10&quot;);\r\n\r\nNote, as &lt;a href=&quot;https://stackoverflow.com/users/25343/carson&quot;&gt;carson&lt;/a&gt; points out, that Apache Commons Net has &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-issues/200902.mbox/%3C2039253761.1233796319684.JavaMail.jira@brutus%3E&quot;&gt;a bug&lt;/a&gt; that prevents it from giving the correct answer in some cases.  Carson suggests using the SVN version to avoid this bug.","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p><a href=\"http://commons.apache.org/net/\" rel=\"noreferrer\">Apache Commons Net</a> has <code>org.apache.commons.net.util.SubnetUtils</code> that appears to satisfy your needs.  It looks like you do something like this:</p>\n\n<pre><code>SubnetInfo subnet = (new SubnetUtils(\"10.10.10.0\", \"255.255.255.128\")).getInfo();\nboolean test = subnet.isInRange(\"10.10.10.10\");\n</code></pre>\n\n<p>Note, as <a href=\"https://stackoverflow.com/users/25343/carson\">carson</a> points out, that Apache Commons Net has <a href=\"http://mail-archives.apache.org/mod_mbox/commons-issues/200902.mbox/%3C2039253761.1233796319684.JavaMail.jira@brutus%3E\" rel=\"noreferrer\">a bug</a> that prevents it from giving the correct answer in some cases.  Carson suggests using the SVN version to avoid this bug.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1695644824,"creation_date":1235422437,"answer_id":579300,"question_id":577363,"body_markdown":"You can also try the following for IPv4, or the equivalent for IPv6.\r\nNOTE: The IP is the address as a 32-bit `int`\r\n\r\n    boolean inSubnet = (ip &amp; netmask) == (subnet &amp; netmask);\r\n\r\nor shorter\r\n\r\n    boolean inSubnet = (ip ^ subnet) &amp; netmask == 0;\r\n","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>You can also try the following for IPv4, or the equivalent for IPv6.\nNOTE: The IP is the address as a 32-bit <code>int</code></p>\n<pre><code>boolean inSubnet = (ip &amp; netmask) == (subnet &amp; netmask);\n</code></pre>\n<p>or shorter</p>\n<pre><code>boolean inSubnet = (ip ^ subnet) &amp; netmask == 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164351,"reputation":5883,"user_id":387048,"accept_rate":100,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1594370686,"creation_date":1483610800,"answer_id":41482123,"question_id":577363,"body_markdown":"Option 1:\r\n----------\r\n\r\nUse [`spring-security-web`][1]&#39;s [IpAddressMatcher][2]. Unlike Apache Commons Net, it supports both ipv4 and ipv6.\r\n\r\n\r\n    import org.springframework.security.web.util.matcher.IpAddressMatcher;\r\n    ...\r\n\r\n    private void checkIpMatch() {\r\n\t\tmatches(&quot;192.168.2.1&quot;, &quot;192.168.2.1&quot;); // true\r\n\t\tmatches(&quot;192.168.2.1&quot;, &quot;192.168.2.0/32&quot;); // false\r\n\t\tmatches(&quot;192.168.2.5&quot;, &quot;192.168.2.0/24&quot;); // true\r\n\t\tmatches(&quot;92.168.2.1&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // false\r\n\t\tmatches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // true\r\n\t\tmatches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/128&quot;); // false\r\n\t\tmatches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;192.168.2.0/32&quot;); // false\r\n    }\r\n\r\n    private boolean matches(String ip, String subnet) {\r\n    \tIpAddressMatcher ipAddressMatcher = new IpAddressMatcher(subnet);\r\n    \treturn ipAddressMatcher.matches(ip);\r\n    }\r\n\r\n\r\n----------\r\n## Option 2 (a lightweight solution!): ##\r\n\r\n*The code in previous part works perfectly fine* but it needs `spring-security-web` to be included.\r\n\r\nIf you are not willing to include Spring framework in your project, you may use this class which is a slightly modified version of the [original class][3] from Spring, so that it has no non-JRE dependencies.\r\n\r\n    /*\r\n     * Copyright 2002-2019 the original author or authors.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      https://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    \r\n    /**\r\n     * Matches a request based on IP Address or subnet mask matching against the remote\r\n     * address.\r\n     * &lt;p&gt;\r\n     * Both IPv6 and IPv4 addresses are supported, but a matcher which is configured with an\r\n     * IPv4 address will never match a request which returns an IPv6 address, and vice-versa.\r\n     *\r\n     * @author Luke Taylor\r\n     * @since 3.0.2\r\n     * \r\n     * Slightly modified by omidzk to have zero dependency to any frameworks other than the JRE.\r\n     */\r\n    public final class IpAddressMatcher {\r\n    \tprivate final int nMaskBits;\r\n    \tprivate final InetAddress requiredAddress;\r\n    \r\n    \t/**\r\n    \t * Takes a specific IP address or a range specified using the IP/Netmask (e.g.\r\n    \t * 192.168.1.0/24 or 202.24.0.0/14).\r\n    \t *\r\n    \t * @param ipAddress the address or range of addresses from which the request must\r\n    \t * come.\r\n    \t */\r\n    \tpublic IpAddressMatcher(String ipAddress) {\r\n    \r\n    \t\tif (ipAddress.indexOf(&#39;/&#39;) &gt; 0) {\r\n    \t\t\tString[] addressAndMask = ipAddress.split(&quot;/&quot;);\r\n    \t\t\tipAddress = addressAndMask[0];\r\n    \t\t\tnMaskBits = Integer.parseInt(addressAndMask[1]);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tnMaskBits = -1;\r\n    \t\t}\r\n    \t\trequiredAddress = parseAddress(ipAddress);\r\n    \t\tassert\t(requiredAddress.getAddress().length * 8 &gt;= nMaskBits) :\r\n    \t\t\t\tString.format(&quot;IP address %s is too short for bitmask of length %d&quot;,\r\n    \t\t\t\t\t\tipAddress, nMaskBits);\r\n    \t}\r\n    \r\n    \tpublic boolean matches(String address) {\r\n    \t\tInetAddress remoteAddress = parseAddress(address);\r\n    \r\n    \t\tif (!requiredAddress.getClass().equals(remoteAddress.getClass())) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tif (nMaskBits &lt; 0) {\r\n    \t\t\treturn remoteAddress.equals(requiredAddress);\r\n    \t\t}\r\n    \r\n    \t\tbyte[] remAddr = remoteAddress.getAddress();\r\n    \t\tbyte[] reqAddr = requiredAddress.getAddress();\r\n    \r\n    \t\tint nMaskFullBytes = nMaskBits / 8;\r\n    \t\tbyte finalByte = (byte) (0xFF00 &gt;&gt; (nMaskBits &amp; 0x07));\r\n    \r\n    \t\t// System.out.println(&quot;Mask is &quot; + new sun.misc.HexDumpEncoder().encode(mask));\r\n    \r\n    \t\tfor (int i = 0; i &lt; nMaskFullBytes; i++) {\r\n    \t\t\tif (remAddr[i] != reqAddr[i]) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (finalByte != 0) {\r\n    \t\t\treturn (remAddr[nMaskFullBytes] &amp; finalByte) == (reqAddr[nMaskFullBytes] &amp; finalByte);\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate InetAddress parseAddress(String address) {\r\n    \t\ttry {\r\n    \t\t\treturn InetAddress.getByName(address);\r\n    \t\t}\r\n    \t\tcatch (UnknownHostException e) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Failed to parse address&quot; + address, e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**NOTICE**: Notice that for using this option, it&#39;s your responsibility to carefully examine the [license][4] to make sure by using this code, you are not in violation of any terms mandated by the aforementioned license. (Of course publishing this code to Stackoverflow.com by me is not a violation.)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-web\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/util/matcher/IpAddressMatcher.html#matches(java.lang.String)\r\n  [3]: https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/util/matcher/IpAddressMatcher.java\r\n  [4]: https://www.apache.org/licenses/LICENSE-2.0","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<h2>Option 1:</h2>\n<p>Use <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-web\" rel=\"noreferrer\"><code>spring-security-web</code></a>'s <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/util/matcher/IpAddressMatcher.html#matches(java.lang.String)\" rel=\"noreferrer\">IpAddressMatcher</a>. Unlike Apache Commons Net, it supports both ipv4 and ipv6.</p>\n<pre><code>import org.springframework.security.web.util.matcher.IpAddressMatcher;\n...\n\nprivate void checkIpMatch() {\n    matches(&quot;192.168.2.1&quot;, &quot;192.168.2.1&quot;); // true\n    matches(&quot;192.168.2.1&quot;, &quot;192.168.2.0/32&quot;); // false\n    matches(&quot;192.168.2.5&quot;, &quot;192.168.2.0/24&quot;); // true\n    matches(&quot;92.168.2.1&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // false\n    matches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // true\n    matches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/128&quot;); // false\n    matches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;192.168.2.0/32&quot;); // false\n}\n\nprivate boolean matches(String ip, String subnet) {\n    IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(subnet);\n    return ipAddressMatcher.matches(ip);\n}\n</code></pre>\n<hr />\n<h2>Option 2 (a lightweight solution!):</h2>\n<p><em>The code in previous part works perfectly fine</em> but it needs <code>spring-security-web</code> to be included.</p>\n<p>If you are not willing to include Spring framework in your project, you may use this class which is a slightly modified version of the <a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/util/matcher/IpAddressMatcher.java\" rel=\"noreferrer\">original class</a> from Spring, so that it has no non-JRE dependencies.</p>\n<pre><code>/*\n * Copyright 2002-2019 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\n/**\n * Matches a request based on IP Address or subnet mask matching against the remote\n * address.\n * &lt;p&gt;\n * Both IPv6 and IPv4 addresses are supported, but a matcher which is configured with an\n * IPv4 address will never match a request which returns an IPv6 address, and vice-versa.\n *\n * @author Luke Taylor\n * @since 3.0.2\n * \n * Slightly modified by omidzk to have zero dependency to any frameworks other than the JRE.\n */\npublic final class IpAddressMatcher {\n    private final int nMaskBits;\n    private final InetAddress requiredAddress;\n\n    /**\n     * Takes a specific IP address or a range specified using the IP/Netmask (e.g.\n     * 192.168.1.0/24 or 202.24.0.0/14).\n     *\n     * @param ipAddress the address or range of addresses from which the request must\n     * come.\n     */\n    public IpAddressMatcher(String ipAddress) {\n\n        if (ipAddress.indexOf('/') &gt; 0) {\n            String[] addressAndMask = ipAddress.split(&quot;/&quot;);\n            ipAddress = addressAndMask[0];\n            nMaskBits = Integer.parseInt(addressAndMask[1]);\n        }\n        else {\n            nMaskBits = -1;\n        }\n        requiredAddress = parseAddress(ipAddress);\n        assert  (requiredAddress.getAddress().length * 8 &gt;= nMaskBits) :\n                String.format(&quot;IP address %s is too short for bitmask of length %d&quot;,\n                        ipAddress, nMaskBits);\n    }\n\n    public boolean matches(String address) {\n        InetAddress remoteAddress = parseAddress(address);\n\n        if (!requiredAddress.getClass().equals(remoteAddress.getClass())) {\n            return false;\n        }\n\n        if (nMaskBits &lt; 0) {\n            return remoteAddress.equals(requiredAddress);\n        }\n\n        byte[] remAddr = remoteAddress.getAddress();\n        byte[] reqAddr = requiredAddress.getAddress();\n\n        int nMaskFullBytes = nMaskBits / 8;\n        byte finalByte = (byte) (0xFF00 &gt;&gt; (nMaskBits &amp; 0x07));\n\n        // System.out.println(&quot;Mask is &quot; + new sun.misc.HexDumpEncoder().encode(mask));\n\n        for (int i = 0; i &lt; nMaskFullBytes; i++) {\n            if (remAddr[i] != reqAddr[i]) {\n                return false;\n            }\n        }\n\n        if (finalByte != 0) {\n            return (remAddr[nMaskFullBytes] &amp; finalByte) == (reqAddr[nMaskFullBytes] &amp; finalByte);\n        }\n\n        return true;\n    }\n\n    private InetAddress parseAddress(String address) {\n        try {\n            return InetAddress.getByName(address);\n        }\n        catch (UnknownHostException e) {\n            throw new IllegalArgumentException(&quot;Failed to parse address&quot; + address, e);\n        }\n    }\n}\n</code></pre>\n<p><strong>NOTICE</strong>: Notice that for using this option, it's your responsibility to carefully examine the <a href=\"https://www.apache.org/licenses/LICENSE-2.0\" rel=\"noreferrer\">license</a> to make sure by using this code, you are not in violation of any terms mandated by the aforementioned license. (Of course publishing this code to Stackoverflow.com by me is not a violation.)</p>\n"},{"tags":[],"owner":{"account_id":2990453,"reputation":324,"user_id":2538133,"display_name":"Hossein"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1504069135,"creation_date":1504068778,"answer_id":45952162,"question_id":577363,"body_markdown":"To check An IP in a subnet, I used isInRange method in SubnetUtils class. But this method have a bug that if your subnet was X, every IP address that lower than X, isInRange return true. For example if your subnet was 10.10.30.0/24 and you want to check 10.10.20.5, this method return true. To deal with this bug I used below code.\r\n\r\n    \r\n    public static void main(String[] args){\r\n        String list = &quot;10.10.20.0/24&quot;;\r\n        String IP1 = &quot;10.10.20.5&quot;;\r\n        String IP2 = &quot;10.10.30.5&quot;;\r\n        SubnetUtils  subnet = new SubnetUtils(list);\r\n        SubnetUtils.SubnetInfo subnetInfo = subnet.getInfo();\r\n        if(MyisInRange(subnetInfo , IP1) == true)\r\n           System.out.println(&quot;True&quot;);\r\n        else \r\n           System.out.println(&quot;False&quot;);\r\n        if(MyisInRange(subnetInfo , IP2) == true)\r\n           System.out.println(&quot;True&quot;);\r\n        else\r\n           System.out.println(&quot;False&quot;);\r\n    }\r\n\r\n    private boolean MyisInRange(SubnetUtils.SubnetInfo info, String Addr )\r\n    {\r\n        int address = info.asInteger( Addr );\r\n        int low = info.asInteger( info.getLowAddress() );\r\n        int high = info.asInteger( info.getHighAddress() );\r\n        return low &lt;= address &amp;&amp; address &lt;= high;\r\n    }","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>To check An IP in a subnet, I used isInRange method in SubnetUtils class. But this method have a bug that if your subnet was X, every IP address that lower than X, isInRange return true. For example if your subnet was 10.10.30.0/24 and you want to check 10.10.20.5, this method return true. To deal with this bug I used below code.</p>\n\n<pre><code>public static void main(String[] args){\n    String list = \"10.10.20.0/24\";\n    String IP1 = \"10.10.20.5\";\n    String IP2 = \"10.10.30.5\";\n    SubnetUtils  subnet = new SubnetUtils(list);\n    SubnetUtils.SubnetInfo subnetInfo = subnet.getInfo();\n    if(MyisInRange(subnetInfo , IP1) == true)\n       System.out.println(\"True\");\n    else \n       System.out.println(\"False\");\n    if(MyisInRange(subnetInfo , IP2) == true)\n       System.out.println(\"True\");\n    else\n       System.out.println(\"False\");\n}\n\nprivate boolean MyisInRange(SubnetUtils.SubnetInfo info, String Addr )\n{\n    int address = info.asInteger( Addr );\n    int low = info.asInteger( info.getLowAddress() );\n    int high = info.asInteger( info.getHighAddress() );\n    return low &lt;= address &amp;&amp; address &lt;= high;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1546924463,"creation_date":1546922653,"answer_id":54085333,"question_id":577363,"body_markdown":"[The open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) will do this in a polymorphic manner for both IPv4 and IPv6 and handles subnets.  Disclaimer: I am the project manager of that library.\r\n\r\nExample code:\r\n\r\n    contains(&quot;10.10.20.0/30&quot;, &quot;10.10.20.3&quot;);\r\n\tcontains(&quot;10.10.20.0/30&quot;, &quot;10.10.20.5&quot;);\r\n\tcontains(&quot;1::/64&quot;, &quot;1::1&quot;);\r\n\tcontains(&quot;1::/64&quot;, &quot;2::1&quot;);\r\n    contains(&quot;1::3-4:5-6&quot;, &quot;1::4:5&quot;);   \t\r\n    contains(&quot;1-2::/64&quot;, &quot;2::&quot;);\r\n    contains(&quot;bla&quot;, &quot;foo&quot;);\r\n\r\n    static void contains(String network, String address) {\r\n\t\tIPAddressString one = new IPAddressString(network);\r\n\t\tIPAddressString two = new IPAddressString(address);\r\n\t\tSystem.out.println(one +  &quot; contains &quot; + two + &quot; &quot; + one.contains(two));\r\n\t}\r\n\r\nOutput:\r\n\r\n    10.10.20.0/30 contains 10.10.20.3 true\r\n    10.10.20.0/30 contains 10.10.20.5 false\r\n    1::/64 contains 1::1 true\r\n    1::/64 contains 2::1 false\r\n    1::3-4:5-6 contains 1::4:5 true\r\n    1-2::/64 contains 2:: true\r\n    bla contains foo false","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"noreferrer\">The open-source IPAddress Java library</a> will do this in a polymorphic manner for both IPv4 and IPv6 and handles subnets.  Disclaimer: I am the project manager of that library.</p>\n\n<p>Example code:</p>\n\n<pre><code>contains(\"10.10.20.0/30\", \"10.10.20.3\");\ncontains(\"10.10.20.0/30\", \"10.10.20.5\");\ncontains(\"1::/64\", \"1::1\");\ncontains(\"1::/64\", \"2::1\");\ncontains(\"1::3-4:5-6\", \"1::4:5\");       \ncontains(\"1-2::/64\", \"2::\");\ncontains(\"bla\", \"foo\");\n\nstatic void contains(String network, String address) {\n    IPAddressString one = new IPAddressString(network);\n    IPAddressString two = new IPAddressString(address);\n    System.out.println(one +  \" contains \" + two + \" \" + one.contains(two));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>10.10.20.0/30 contains 10.10.20.3 true\n10.10.20.0/30 contains 10.10.20.5 false\n1::/64 contains 1::1 true\n1::/64 contains 2::1 false\n1::3-4:5-6 contains 1::4:5 true\n1-2::/64 contains 2:: true\nbla contains foo false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1549275622,"creation_date":1549275622,"answer_id":54514071,"question_id":577363,"body_markdown":"here is an Version that works with IPv4 and IPv6 one with Prefix and one with Network Mask.\r\n\r\n    /**\r\n     * Check if IP is within an Subnet defined by Network Address and Network Mask\r\n     * @param  ip\r\n     * @param  net\r\n     * @param  mask\r\n     * @return\r\n     */\r\n    public static final boolean isIpInSubnet(final String ip, final String net, final int prefix) {\r\n        try {\r\n            final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\r\n            final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\r\n            if(ipBin.length  != netBin.length ) return false;\r\n            int p = prefix;\r\n            int i = 0;\r\n            while(p&gt;=8) { if(ipBin[i] != netBin[i] ) return false; ++i; p-=8; }\r\n            final int m = (65280 &gt;&gt; p) &amp; 255;\r\n            if((ipBin[i] &amp; m) != (netBin[i]&amp;m) ) return false;\r\n\r\n            return true;\r\n        } catch(final Throwable t) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if IP is within an Subnet defined by Network Address and Network Mask\r\n     * @param  ip\r\n     * @param  net\r\n     * @param  mask\r\n     * @return\r\n     */\r\n    public static final boolean isIpInSubnet(final String ip, final String net, final String mask) {\r\n        try {\r\n            final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\r\n            final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\r\n            final byte[] maskBin = java.net.InetAddress.getByName(mask).getAddress();\r\n            if(ipBin.length  != netBin.length ) return false;\r\n            if(netBin.length != maskBin.length) return false;\r\n            for(int i = 0; i &lt; ipBin.length; ++i) if((ipBin[i] &amp; maskBin[i]) != (netBin[i] &amp; maskBin[i])) return false;\r\n            return true;\r\n        } catch(final Throwable t) {\r\n            return false;\r\n        }\r\n    }\r\n","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>here is an Version that works with IPv4 and IPv6 one with Prefix and one with Network Mask.</p>\n\n<pre><code>/**\n * Check if IP is within an Subnet defined by Network Address and Network Mask\n * @param  ip\n * @param  net\n * @param  mask\n * @return\n */\npublic static final boolean isIpInSubnet(final String ip, final String net, final int prefix) {\n    try {\n        final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\n        final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\n        if(ipBin.length  != netBin.length ) return false;\n        int p = prefix;\n        int i = 0;\n        while(p&gt;=8) { if(ipBin[i] != netBin[i] ) return false; ++i; p-=8; }\n        final int m = (65280 &gt;&gt; p) &amp; 255;\n        if((ipBin[i] &amp; m) != (netBin[i]&amp;m) ) return false;\n\n        return true;\n    } catch(final Throwable t) {\n        return false;\n    }\n}\n\n/**\n * Check if IP is within an Subnet defined by Network Address and Network Mask\n * @param  ip\n * @param  net\n * @param  mask\n * @return\n */\npublic static final boolean isIpInSubnet(final String ip, final String net, final String mask) {\n    try {\n        final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\n        final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\n        final byte[] maskBin = java.net.InetAddress.getByName(mask).getAddress();\n        if(ipBin.length  != netBin.length ) return false;\n        if(netBin.length != maskBin.length) return false;\n        for(int i = 0; i &lt; ipBin.length; ++i) if((ipBin[i] &amp; maskBin[i]) != (netBin[i] &amp; maskBin[i])) return false;\n        return true;\n    } catch(final Throwable t) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5049338,"reputation":855,"user_id":4054389,"accept_rate":33,"display_name":"djpanda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556741421,"creation_date":1556739769,"answer_id":55941780,"question_id":577363,"body_markdown":"I know this is very old question, but I stumbled upon this when I was looking to solve the same problem.\r\n\r\nThere is [commons-ip-math](https://github.com/jgonian/commons-ip-math) library that I believe does a very good job. Please note that as of May 2019, there hasn&#39;t been any updates to the library (Could be that its already very mature library). Its available on [maven-central](https://search.maven.org/artifact/com.github.jgonian/commons-ip-math/1.32/jar)\r\n\r\nIt supports working with both IPv4 and IPv6 addresses. Their brief documentation has examples on how you can check if an address is in a specific range for [IPv4](https://github.com/jgonian/commons-ip-math#ipv4-addresses) and [IPv6](https://github.com/jgonian/commons-ip-math#ipv6-addresses)\r\n\r\nExample for IPv4 range checking:\r\n```\r\n        String input1 = &quot;192.168.1.0&quot;;\r\n        Ipv4 ipv41 = Ipv4.parse(input1);\r\n\r\n        // Using CIDR notation to specify the networkID and netmask\r\n        Ipv4Range range = Ipv4Range.parse(&quot;192.168.0.0/24&quot;);\r\n        boolean result = range.contains(ipv41);\r\n        System.out.println(result); //false\r\n\r\n        String input2 = &quot;192.168.0.251&quot;;\r\n        Ipv4 ipv42 = Ipv4.parse(input2);\r\n\r\n        // Specifying the range with a start and end.\r\n        Ipv4 start = Ipv4.of(&quot;192.168.0.0&quot;);\r\n        Ipv4 end = Ipv4.of(&quot;192.168.0.255&quot;);\r\n        range = Ipv4Range.from(start).to(end);\r\n\r\n        result = range.contains(ipv42); //true\r\n        System.out.println(result);\r\n```\r\n\r\n","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>I know this is very old question, but I stumbled upon this when I was looking to solve the same problem.</p>\n\n<p>There is <a href=\"https://github.com/jgonian/commons-ip-math\" rel=\"nofollow noreferrer\">commons-ip-math</a> library that I believe does a very good job. Please note that as of May 2019, there hasn't been any updates to the library (Could be that its already very mature library). Its available on <a href=\"https://search.maven.org/artifact/com.github.jgonian/commons-ip-math/1.32/jar\" rel=\"nofollow noreferrer\">maven-central</a></p>\n\n<p>It supports working with both IPv4 and IPv6 addresses. Their brief documentation has examples on how you can check if an address is in a specific range for <a href=\"https://github.com/jgonian/commons-ip-math#ipv4-addresses\" rel=\"nofollow noreferrer\">IPv4</a> and <a href=\"https://github.com/jgonian/commons-ip-math#ipv6-addresses\" rel=\"nofollow noreferrer\">IPv6</a></p>\n\n<p>Example for IPv4 range checking:</p>\n\n<pre><code>        String input1 = \"192.168.1.0\";\n        Ipv4 ipv41 = Ipv4.parse(input1);\n\n        // Using CIDR notation to specify the networkID and netmask\n        Ipv4Range range = Ipv4Range.parse(\"192.168.0.0/24\");\n        boolean result = range.contains(ipv41);\n        System.out.println(result); //false\n\n        String input2 = \"192.168.0.251\";\n        Ipv4 ipv42 = Ipv4.parse(input2);\n\n        // Specifying the range with a start and end.\n        Ipv4 start = Ipv4.of(\"192.168.0.0\");\n        Ipv4 end = Ipv4.of(\"192.168.0.255\");\n        range = Ipv4Range.from(start).to(end);\n\n        result = range.contains(ipv42); //true\n        System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":12422,"reputation":3337,"user_id":24443,"accept_rate":58,"display_name":"miceuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49635,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":578552,"answer_count":7,"score":38,"last_activity_date":1695644824,"creation_date":1235389326,"question_id":577363,"body_markdown":"I need to determine if given IP address is from some special network in order to authenticate automatically.","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>I need to determine if given IP address is from some special network in order to authenticate automatically.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9830,"page":162,"page_size":100}
