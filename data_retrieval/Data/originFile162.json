{"items":[{"tags":["java","anonymous-class"],"comments":[{"owner":{"account_id":1274,"reputation":134952,"user_id":1695,"accept_rate":53,"display_name":"Gishu"},"score":0,"creation_date":1227675159,"post_id":319765,"comment_id":160682,"body_markdown":"may i ask Why would you want to do that? Some context.. Not sure if its a good idea even if its possible.","body":"may i ask Why would you want to do that? Some context.. Not sure if its a good idea even if its possible."},{"owner":{"account_id":13745,"reputation":4707,"user_id":27784,"accept_rate":50,"display_name":"Saravanan M"},"score":0,"creation_date":1227704789,"post_id":319765,"comment_id":161287,"body_markdown":"I dont have any specific usecase. Just wanted to know if there is any mechanism other than reflection to query/access object members","body":"I dont have any specific usecase. Just wanted to know if there is any mechanism other than reflection to query/access object members"}],"answers":[{"tags":[],"owner":{"account_id":12659,"reputation":109857,"user_id":25050,"accept_rate":78,"display_name":"Mr Fooz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227679732,"creation_date":1227679732,"answer_id":319884,"question_id":319765,"body_markdown":"If it implements an interface or extends an existing class, you can access the members defined in the interface or base class.","title":"Accessing inner anonymous class members","body":"<p>If it implements an interface or extends an existing class, you can access the members defined in the interface or base class.</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1227685646,"post_id":319887,"comment_id":160849,"body_markdown":"Method are members of their types just as fields are.","body":"Method are members of their types just as fields are."}],"tags":[],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1227679967,"creation_date":1227679967,"answer_id":319887,"question_id":319765,"body_markdown":"Mr Fooz is right, except that interfaces can only define constant members.  the best way would be to add getter/setter methods to your interface and then use those to get your value.  but then for each anonymous class you would have to define those methods (kind of a pain). ","title":"Accessing inner anonymous class members","body":"<p>Mr Fooz is right, except that interfaces can only define constant members.  the best way would be to add getter/setter methods to your interface and then use those to get your value.  but then for each anonymous class you would have to define those methods (kind of a pain). </p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1227684388,"post_id":319953,"comment_id":160831,"body_markdown":"Wow... never seen those before. Bizarre. Can&#39;t say I like it a lot, but it&#39;s interesting nonetheless :)","body":"Wow... never seen those before. Bizarre. Can&#39;t say I like it a lot, but it&#39;s interesting nonetheless :)"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1227699337,"post_id":319953,"comment_id":161109,"body_markdown":"They are called local classes.","body":"They are called local classes."},{"owner":{"account_id":13745,"reputation":4707,"user_id":27784,"accept_rate":50,"display_name":"Saravanan M"},"score":0,"creation_date":1227705011,"post_id":319953,"comment_id":161292,"body_markdown":"If I&#39;m not wrong, the class that you have shown is just another class with limited visibility.. right? \nI meant the question to know possible access to members of an anonymous class object.","body":"If I&#39;m not wrong, the class that you have shown is just another class with limited visibility.. right?  I meant the question to know possible access to members of an anonymous class object."}],"tags":[],"owner":{"account_id":14947,"reputation":4778,"user_id":31118,"accept_rate":63,"display_name":"Ivan Dubrov"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1227757517,"creation_date":1227683303,"answer_id":319953,"question_id":319765,"body_markdown":"You can use local classes instead anonymous class. Look:\r\n\r\n    public class Test {\r\n        public static void main(String... args) {\r\n            class MyInner {\r\n                private int value = 10;\r\n            }\r\n    \r\n            MyInner inner = new MyInner();\r\n            System.out.println(inner.value);\r\n        }\r\n    }\r\n\r\nYou can have reference of `MyInner` type only in the method body though. So outside of the method you will not be able to use its fields/methods that are not declared in its super class (`java.lang.Object` in this case) or interface.","title":"Accessing inner anonymous class members","body":"<p>You can use local classes instead anonymous class. Look:</p>\n\n<pre><code>public class Test {\n    public static void main(String... args) {\n        class MyInner {\n            private int value = 10;\n        }\n\n        MyInner inner = new MyInner();\n        System.out.println(inner.value);\n    }\n}\n</code></pre>\n\n<p>You can have reference of <code>MyInner</code> type only in the method body though. So outside of the method you will not be able to use its fields/methods that are not declared in its super class (<code>java.lang.Object</code> in this case) or interface.</p>\n"},{"tags":[],"owner":{"display_name":"geeeeeeeeeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227690254,"creation_date":1227690254,"answer_id":320106,"question_id":319765,"body_markdown":"&lt;pre&gt;&lt;code&gt;\r\npublic class AccessAnonymous {\r\n\tprivate Runnable runnable; // to have instance of the class\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tAccessAnonymous a = new AccessAnonymous();\r\n\t\ta.a(); // init field\r\n\r\n\t\tClass&lt;?&gt; clazz = a.runnable.getClass();\r\n\t\tField field = clazz.getDeclaredField(&quot;i&quot;);\r\n\t\tfield.setAccessible(true);\r\n\r\n\t\tint int1 = field.getInt(a.runnable);\r\n\t\tSystem.out.println(&quot;int1=&quot; + int1);\r\n\t}\r\n\r\n\tpublic void a() {\r\n\t\trunnable = new Runnable() {\r\n\t\t\tprivate int i = 1;\r\n\r\n\t\t\tpublic void run() {\r\n\t\t\t\ti = 90;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\trunnable.run();// change value\r\n\t}\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Accessing inner anonymous class members","body":"<pre><code>\npublic class AccessAnonymous {\n    private Runnable runnable; // to have instance of the class\n\n    public static void main(String[] args) throws Exception {\n        AccessAnonymous a = new AccessAnonymous();\n        a.a(); // init field\n\n        Class clazz = a.runnable.getClass();\n        Field field = clazz.getDeclaredField(\"i\");\n        field.setAccessible(true);\n\n        int int1 = field.getInt(a.runnable);\n        System.out.println(\"int1=\" + int1);\n    }\n\n    public void a() {\n        runnable = new Runnable() {\n            private int i = 1;\n\n            public void run() {\n                i = 90;\n            }\n\n        };\n        runnable.run();// change value\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1227699868,"creation_date":1227699868,"answer_id":320426,"question_id":319765,"body_markdown":"Anonymous inner classes have a type but no name.\r\n\r\nYou can access fields not defined by the named supertype. However once assigned to a named type variable, the interface is lost.\r\n\r\nObviously, you can access the fields from within the inner class itself. One way of adding code is through an instance initialiser:\r\n\r\n    final AtomicInteger y = new AtomicInteger();\r\n    new Runnable() {\r\n        int x;\r\n        {\r\n            x = 5;\r\n            doRun(this);\r\n            y.set(x);\r\n        }\r\n        public void run() {\r\n            ... blah ...\r\n        }\r\n    };\r\n\r\nThe value returned by the anonymous inner class expression has the anonymous type, so you have one chance to use it outside of the class itself:\r\n\r\n    final int y = new Runnable() {\r\n        int x;\r\n        {\r\n            x = 5;\r\n            doRun(this);\r\n        }\r\n        public void run() {\r\n            ... blah ...\r\n        }\r\n    }.x;\r\n\r\nYou can also pass it through a method declared similar to:\r\n\r\n    &lt;T extends Runnable&gt; T doRun(T runnable);","title":"Accessing inner anonymous class members","body":"<p>Anonymous inner classes have a type but no name.</p>\n\n<p>You can access fields not defined by the named supertype. However once assigned to a named type variable, the interface is lost.</p>\n\n<p>Obviously, you can access the fields from within the inner class itself. One way of adding code is through an instance initialiser:</p>\n\n<pre><code>final AtomicInteger y = new AtomicInteger();\nnew Runnable() {\n    int x;\n    {\n        x = 5;\n        doRun(this);\n        y.set(x);\n    }\n    public void run() {\n        ... blah ...\n    }\n};\n</code></pre>\n\n<p>The value returned by the anonymous inner class expression has the anonymous type, so you have one chance to use it outside of the class itself:</p>\n\n<pre><code>final int y = new Runnable() {\n    int x;\n    {\n        x = 5;\n        doRun(this);\n    }\n    public void run() {\n        ... blah ...\n    }\n}.x;\n</code></pre>\n\n<p>You can also pass it through a method declared similar to:</p>\n\n<pre><code>&lt;T extends Runnable&gt; T doRun(T runnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18116,"reputation":39298,"user_id":41200,"accept_rate":73,"display_name":"sdellysse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227747641,"creation_date":1227747641,"answer_id":322669,"question_id":319765,"body_markdown":"If you want readable, maintainable code, don&#39;t use anonymous classes. If you use anonymous classes and want readable, maintainable code, don&#39;t use anonymous classes when you need to access the element in that inner class. There are ways of doing so, but I beg of you to not use any of those hacks. Readability trumps all other virtues.","title":"Accessing inner anonymous class members","body":"<p>If you want readable, maintainable code, don't use anonymous classes. If you use anonymous classes and want readable, maintainable code, don't use anonymous classes when you need to access the element in that inner class. There are ways of doing so, but I beg of you to not use any of those hacks. Readability trumps all other virtues.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227757917,"creation_date":1227757917,"answer_id":322896,"question_id":319765,"body_markdown":"In the case of anonymous classes, there is also a tradeoff between the clutter caused by the class and the convenience of having it anonymous. Complicated classes rarely belong as anonymous but rather as named private inner. \r\n\r\nIn most anonymous classes, we only need to &quot;feed&quot; knowledge and can do it at construction.\r\nIn a few anonymous classes (e.g., return value vehicles) we also care about one return value.\r\n\r\nAs we know, data members should not directly be accessed but rather with a getter setter. This, if you find yourself in a situation that you have added lots of getters and setters, you are probably doing something wrong anyway and shouldn&#39;t be using an anonymous class.\r\n","title":"Accessing inner anonymous class members","body":"<p>In the case of anonymous classes, there is also a tradeoff between the clutter caused by the class and the convenience of having it anonymous. Complicated classes rarely belong as anonymous but rather as named private inner. </p>\n\n<p>In most anonymous classes, we only need to \"feed\" knowledge and can do it at construction.\nIn a few anonymous classes (e.g., return value vehicles) we also care about one return value.</p>\n\n<p>As we know, data members should not directly be accessed but rather with a getter setter. This, if you find yourself in a situation that you have added lots of getters and setters, you are probably doing something wrong anyway and shouldn't be using an anonymous class.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736348,"creation_date":1695728838,"answer_id":77179732,"question_id":319765,"body_markdown":"This question is 15 years old, but I think there is another way to do this!\r\n\r\nThe example concerns writing a unit test for MyService:\r\n\r\n    public class MyService {\r\n\r\n        public Result doSomething() {\r\n            Result result = new Result();\r\n            result.setToday(today();\r\n            return result;\r\n        }\r\n\r\n        // not private but package-private so it can be overridden\r\n        Date today() {\r\n            return new Date();\r\n        }\r\n    }\r\n\r\nHere is the unit test: \r\n\r\n    public class MyServiceTest {\r\n\r\n        private Date capturedToday;\r\n\r\n        // anonymous inner class\r\n        private final MyService testSubject = new MyService() {\r\n\r\n            @Override\r\n            Date today() {\r\n                // capture the Date instance created by MyService\r\n                Date today = super.today();\r\n                MyServiceTest.this.capturedToday = today;\r\n                return today;\r\n            }\r\n        };\r\n\r\n        @Test\r\n        void myTest() {\r\n\r\n            MyResult result = testSubject.doSomething();            \r\n            assertSame(capturedToday, result.getToday());\r\n\r\nIn this example MyService creates a Date internally and sets it on its result. To check this logic I created an anonymous inner class which captures the instance when it is created and stores it in the capturedToday field:\r\n\r\n    MyServiceTest.this.capturedToday = today;\r\n\r\nThis syntax allows an inner class to access fields of its outer class and thus to expose its values.\r\n\r\n","title":"Accessing inner anonymous class members","body":"<p>This question is 15 years old, but I think there is another way to do this!</p>\n<p>The example concerns writing a unit test for MyService:</p>\n<pre><code>public class MyService {\n\n    public Result doSomething() {\n        Result result = new Result();\n        result.setToday(today();\n        return result;\n    }\n\n    // not private but package-private so it can be overridden\n    Date today() {\n        return new Date();\n    }\n}\n</code></pre>\n<p>Here is the unit test:</p>\n<pre><code>public class MyServiceTest {\n\n    private Date capturedToday;\n\n    // anonymous inner class\n    private final MyService testSubject = new MyService() {\n\n        @Override\n        Date today() {\n            // capture the Date instance created by MyService\n            Date today = super.today();\n            MyServiceTest.this.capturedToday = today;\n            return today;\n        }\n    };\n\n    @Test\n    void myTest() {\n\n        MyResult result = testSubject.doSomething();            \n        assertSame(capturedToday, result.getToday());\n</code></pre>\n<p>In this example MyService creates a Date internally and sets it on its result. To check this logic I created an anonymous inner class which captures the instance when it is created and stores it in the capturedToday field:</p>\n<pre><code>MyServiceTest.this.capturedToday = today;\n</code></pre>\n<p>This syntax allows an inner class to access fields of its outer class and thus to expose its values.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695738038,"creation_date":1695738038,"answer_id":77180898,"question_id":319765,"body_markdown":"You can access the members of an anonymous class from inside the block (or sub-block) it was *declared* in, if using `var`. Example:\r\n\r\n````java\r\npublic static void main(String[] args) {\r\n    var annon = new Object() {\r\n        int field;\r\n        void method() {\r\n            System.out.println(&quot;method called with field=&quot; + field);\r\n        }\r\n    };\r\n\r\n    annon.field = 123;\r\n    annon.method();  // prints &quot;method called with field=123&quot;\r\n}\r\n````\r\n\r\nThis even works if the members were declared `static`.\r\n\r\nIf we had declared `Object annon = new Object() { ...` we would get compilation errors since `Object` does not have any `field` or `method()` members.","title":"Accessing inner anonymous class members","body":"<p>You can access the members of an anonymous class from inside the block (or sub-block) it was <em>declared</em> in, if using <code>var</code>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    var annon = new Object() {\n        int field;\n        void method() {\n            System.out.println(&quot;method called with field=&quot; + field);\n        }\n    };\n\n    annon.field = 123;\n    annon.method();  // prints &quot;method called with field=123&quot;\n}\n</code></pre>\n<p>This even works if the members were declared <code>static</code>.</p>\n<p>If we had declared <code>Object annon = new Object() { ...</code> we would get compilation errors since <code>Object</code> does not have any <code>field</code> or <code>method()</code> members.</p>\n"}],"owner":{"account_id":13745,"reputation":4707,"user_id":27784,"accept_rate":50,"display_name":"Saravanan M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9595,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":320426,"answer_count":9,"score":7,"last_activity_date":1695738038,"creation_date":1227674843,"question_id":319765,"body_markdown":"Is there any way other than using reflection to access the members of a anonymous inner class?","title":"Accessing inner anonymous class members","body":"<p>Is there any way other than using reflection to access the members of a anonymous inner class?</p>\n"},{"tags":["java","spring-integration","slf4j","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1695967959,"post_id":77180896,"comment_id":136096376,"body_markdown":"Welcome to Stack Overflow. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Feel free to link to a minimal Maven oder Gradle project on GitHub. Nobody wants to recreate your situation locally, making educated guesses about what your incomplete and missing classes realy look like. Thank you.","body":"Welcome to Stack Overflow. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Feel free to link to a minimal Maven oder Gradle project on GitHub. Nobody wants to recreate your situation locally, making educated guesses about what your incomplete and missing classes realy look like. Thank you."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1696257066,"post_id":77180896,"comment_id":136126393,"body_markdown":"You create `TestLogger` against `DefaultErrorChannelServiceActivator.class` category, but your `DefaultErrorChannelServiceActivator` might be in different package, so its `log.error()` just is not visible for that custom logger.","body":"You create <code>TestLogger</code> against <code>DefaultErrorChannelServiceActivator.class</code> category, but your <code>DefaultErrorChannelServiceActivator</code> might be in different package, so its <code>log.error()</code> just is not visible for that custom logger."},{"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"score":0,"creation_date":1696267754,"post_id":77180896,"comment_id":136128347,"body_markdown":"@ArtemBilan - My DefaultErrorChannelServiceActivator is in my base package, along with the test itself. `com.my.package.structure.engage` and my test in is the same directory.","body":"@ArtemBilan - My DefaultErrorChannelServiceActivator is in my base package, along with the test itself. <code>com.my.package.structure.engage</code> and my test in is the same directory."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1696271225,"post_id":77180896,"comment_id":136129006,"body_markdown":"OK. I&#39;m not familiar with that `TestLogger`, but let&#39;s see if that has a variant like this `TestLoggerFactory.getTestLogger(&#39;com.my.package.structure.engage&#39;)`! Otherwise I&#39;d suggest to debug it to investigate what is going on. Doesn&#39;t looks like anything Spring related...","body":"OK. I&#39;m not familiar with that <code>TestLogger</code>, but let&#39;s see if that has a variant like this <code>TestLoggerFactory.getTestLogger(&#39;com.my.package.structure.en&zwnj;&#8203;gage&#39;)</code>! Otherwise I&#39;d suggest to debug it to investigate what is going on. Doesn&#39;t looks like anything Spring related..."}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695738030,"creation_date":1695738030,"question_id":77180896,"body_markdown":"I created a custom error logger based on the type of MessagingException is thrown during process based on what the `InstanceOf` is in the payload.\r\n\r\n```\r\n    @ServiceActivator\r\n    public void handleThrowable(Message&lt;Throwable&gt; errorMessage) {\r\n\r\n        var throwable = errorMessage.getPayload();\r\n        log.error(&quot;Error in Processing. Message: {}&quot;, throwable.getMessage(), throwable);\r\n\r\n        if (throwable instanceof MessagingException) {\r\n            var messagingException = (MessagingException) throwable;\r\n            var failedMessage = messagingException.getFailedMessage();\r\n            log.error(&quot;Failed Message: {}&quot;, failedMessage);\r\n\r\n            if (!Objects.isNull(failedMessage)) {\r\n                var msg = failedMessage.getPayload();\r\n                var headers = failedMessage.getHeaders();\r\n\r\n                if (msg instanceof File) {\r\n                    log.error(&quot;Failed consuming File: {}&quot;, ((File) msg).getAbsolutePath());\r\n                }\r\n\r\n                if (msg instanceof String) {\r\n                    log.error(&quot;Failed to create a CsvEmailInteraction from line {}. Line was: {}&quot;, headers.get(IntegrationMessageHeaderAccessor.SEQUENCE_NUMBER), msg);\r\n                }\r\n\r\n                if (msg instanceof CsvEmailInteraction) {\r\n                    var csvObject = (CsvEmailInteraction) msg;\r\n                    log.error(&quot;Failed to publish CsvEmailInteraction to Kafka. messageId was: {}&quot;, csvObject.getMessageId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nHere is a current working test. I&#39;ve tried to bring in a `SLF4J Test &#187; 1.2.0`, however the commented out part in the then statement, the logging list never gets populated.\r\n\r\n```\r\nclass DefaultErrorChannelServiceActivatorSpec extends Specification {\r\n\r\n    def serviceActivator = new DefaultErrorChannelServiceActivator()\r\n    TestLogger testLogger = TestLoggerFactory.getTestLogger(DefaultErrorChannelServiceActivator.class)\r\n\r\n    def &quot;test handleThrowable with MessagingException instance of String&quot;() {\r\n        given:\r\n\r\n        // Create a MessagingException with a failed message\r\n        def failedMessage = new GenericMessage&lt;&gt;(&quot;This is a failed string message&quot;)\r\n        def messagingException = Mock(MessagingException)\r\n        testLogger.clear()\r\n\r\n        Message&lt;Throwable&gt; throwableMessage = MessageBuilder.withPayload(messagingException).build()\r\n\r\n        when:\r\n        serviceActivator.handleThrowable(throwableMessage)\r\n\r\n        then:\r\n        1 * messagingException.getFailedMessage() &gt;&gt; failedMessage\r\n//        def logs = testLogger.getAllLoggingEvents()\r\n//        logs.contains(&quot;Failed Message&quot;)\r\n\r\n    }\r\n```\r\nI only posted the String portion of the test, as they will be fairly the same with the logging messages being slightly different. Any help is much appreciated.","title":"Test Logging Statements in an error handler","body":"<p>I created a custom error logger based on the type of MessagingException is thrown during process based on what the <code>InstanceOf</code> is in the payload.</p>\n<pre><code>    @ServiceActivator\n    public void handleThrowable(Message&lt;Throwable&gt; errorMessage) {\n\n        var throwable = errorMessage.getPayload();\n        log.error(&quot;Error in Processing. Message: {}&quot;, throwable.getMessage(), throwable);\n\n        if (throwable instanceof MessagingException) {\n            var messagingException = (MessagingException) throwable;\n            var failedMessage = messagingException.getFailedMessage();\n            log.error(&quot;Failed Message: {}&quot;, failedMessage);\n\n            if (!Objects.isNull(failedMessage)) {\n                var msg = failedMessage.getPayload();\n                var headers = failedMessage.getHeaders();\n\n                if (msg instanceof File) {\n                    log.error(&quot;Failed consuming File: {}&quot;, ((File) msg).getAbsolutePath());\n                }\n\n                if (msg instanceof String) {\n                    log.error(&quot;Failed to create a CsvEmailInteraction from line {}. Line was: {}&quot;, headers.get(IntegrationMessageHeaderAccessor.SEQUENCE_NUMBER), msg);\n                }\n\n                if (msg instanceof CsvEmailInteraction) {\n                    var csvObject = (CsvEmailInteraction) msg;\n                    log.error(&quot;Failed to publish CsvEmailInteraction to Kafka. messageId was: {}&quot;, csvObject.getMessageId());\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Here is a current working test. I've tried to bring in a <code>SLF4J Test » 1.2.0</code>, however the commented out part in the then statement, the logging list never gets populated.</p>\n<pre><code>class DefaultErrorChannelServiceActivatorSpec extends Specification {\n\n    def serviceActivator = new DefaultErrorChannelServiceActivator()\n    TestLogger testLogger = TestLoggerFactory.getTestLogger(DefaultErrorChannelServiceActivator.class)\n\n    def &quot;test handleThrowable with MessagingException instance of String&quot;() {\n        given:\n\n        // Create a MessagingException with a failed message\n        def failedMessage = new GenericMessage&lt;&gt;(&quot;This is a failed string message&quot;)\n        def messagingException = Mock(MessagingException)\n        testLogger.clear()\n\n        Message&lt;Throwable&gt; throwableMessage = MessageBuilder.withPayload(messagingException).build()\n\n        when:\n        serviceActivator.handleThrowable(throwableMessage)\n\n        then:\n        1 * messagingException.getFailedMessage() &gt;&gt; failedMessage\n//        def logs = testLogger.getAllLoggingEvents()\n//        logs.contains(&quot;Failed Message&quot;)\n\n    }\n</code></pre>\n<p>I only posted the String portion of the test, as they will be fairly the same with the logging messages being slightly different. Any help is much appreciated.</p>\n"},{"tags":["java","kotlin","geolocation","geohashing"],"owner":{"account_id":7174689,"reputation":822,"user_id":5481069,"display_name":"Psijic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695737937,"creation_date":1695737937,"question_id":77180885,"body_markdown":"I have issues with finding N closest points using geohash. Currently I have done it with the location, need to change it with geohash usage (suppose, it should be faster if I already have 10-length geohashes in my POI).\r\n\r\n    fun closestItems(items: List&lt;Item&gt;, centralPoint: LatLng, maxCount: Int): List&lt;Item&gt; {\r\n        // Calculate the squared distance for each item to the central point\r\n        val itemsWithDistance = items.map { item -&gt;\r\n            val latDiff = item.latLng.latitude - centralPoint.latitude\r\n            val lngDiff = item.latLng.longitude - centralPoint.longitude\r\n            val distanceSquared = latDiff.pow(2) + lngDiff.pow(2)\r\n            Pair(item, distanceSquared)\r\n        }\r\n    \r\n        // Sort the items by distance\r\n        val sortedItems = itemsWithDistance.sortedBy { it.second }\r\n    \r\n        // Take the closest 5000 items or less if there are fewer items\r\n        val closestItems = sortedItems.take(maxCount.coerceAtMost(items.size))\r\n    \r\n        return closestItems.map { it.first }\r\n    }\r\n\r\nAny common programming language is fine.","title":"Find N closest points with geohash","body":"<p>I have issues with finding N closest points using geohash. Currently I have done it with the location, need to change it with geohash usage (suppose, it should be faster if I already have 10-length geohashes in my POI).</p>\n<pre><code>fun closestItems(items: List&lt;Item&gt;, centralPoint: LatLng, maxCount: Int): List&lt;Item&gt; {\n    // Calculate the squared distance for each item to the central point\n    val itemsWithDistance = items.map { item -&gt;\n        val latDiff = item.latLng.latitude - centralPoint.latitude\n        val lngDiff = item.latLng.longitude - centralPoint.longitude\n        val distanceSquared = latDiff.pow(2) + lngDiff.pow(2)\n        Pair(item, distanceSquared)\n    }\n\n    // Sort the items by distance\n    val sortedItems = itemsWithDistance.sortedBy { it.second }\n\n    // Take the closest 5000 items or less if there are fewer items\n    val closestItems = sortedItems.take(maxCount.coerceAtMost(items.size))\n\n    return closestItems.map { it.first }\n}\n</code></pre>\n<p>Any common programming language is fine.</p>\n"},{"tags":["java","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":427477,"reputation":148,"user_id":809265,"display_name":"jarbot"},"score":1,"creation_date":1649611392,"post_id":51300061,"comment_id":126914165,"body_markdown":"Did you ever determine what the issue was with having multiple datasources and how it affects performance? We&#39;re facing the same issue.","body":"Did you ever determine what the issue was with having multiple datasources and how it affects performance? We&#39;re facing the same issue."},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1695809189,"post_id":51300061,"comment_id":136072802,"body_markdown":"Maybe you can use JVisualVM to find what is going wrong.","body":"Maybe you can use JVisualVM to find what is going wrong."}],"answers":[{"tags":[],"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695737836,"creation_date":1695737836,"answer_id":77180864,"question_id":51300061,"body_markdown":"While switching from one to two DataSources I experineced the same behavior. The performance dramatically went down.\r\n\r\nIt turned out that I also changed the datasource type to the vendors driver from `spring.datasource.db1.type: org.apache.tomcat.jdbc.pool.DataSource` to `spring.datasource.db1.type: oracle.jdbc.pool.OracleDataSource`.\r\n\r\nThat was a bad idea.. \r\n\r\nSwitching back to typ *org.apache.tomcat.jdbc.pool.DataSource* it was fast as before.","title":"Slow down performance when using multiple dataSources in Spring Boot, JPA","body":"<p>While switching from one to two DataSources I experineced the same behavior. The performance dramatically went down.</p>\n<p>It turned out that I also changed the datasource type to the vendors driver from <code>spring.datasource.db1.type: org.apache.tomcat.jdbc.pool.DataSource</code> to <code>spring.datasource.db1.type: oracle.jdbc.pool.OracleDataSource</code>.</p>\n<p>That was a bad idea..</p>\n<p>Switching back to typ <em>org.apache.tomcat.jdbc.pool.DataSource</em> it was fast as before.</p>\n"}],"owner":{"account_id":13713009,"reputation":76,"user_id":9894801,"display_name":"Phan Huu Tho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695737836,"creation_date":1531381742,"question_id":51300061,"body_markdown":"I need to persist a lot of entities into database.\r\nWhen I have only one data source.\r\nI used  `JpaRepository.saveAndFlush(entity)` to persist data. I also used\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n    ....\r\n    JpaRepository.saveAndFlush(entity)\r\n    ....\r\n    entityManager.clear();\r\nThis technique helps me speed up performances.\r\n\r\nBut when I change into using multiple data source. I also use the same technique, it doesnt work anymore. It took several hours for creating data instead of 15 mins.\r\n\r\n    @PersistenceContext\r\n    EntityManager db1EntityManager;\r\n    ....\r\n    JpaRepository.saveAndFlush(entity)\r\n    ....\r\n    db1EntityManager.clear();\r\n\r\nHere is my configure file\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;db1EntityManagerFactory&quot;,\r\n            basePackages = { &quot;com.repository&quot; }\r\n    )\r\n    public class db1Config {\r\n       @Autowired\r\n       private Environment env;\r\n       @Primary\r\n       @Bean(name = &quot;dataSource&quot;)\r\n       @ConfigurationProperties(prefix = &quot;db1.datasource&quot;)\r\n       public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(env.getProperty(&quot;db1.datasource.driver-class-name&quot;));\r\n        dataSource.setUrl(env.getProperty(&quot;db1.datasource.url&quot;));\r\n        dataSource.setUsername(env.getProperty(&quot;db1.datasource.username&quot;));\r\n        dataSource.setPassword(env.getProperty(&quot;db1.datasource.password&quot;));\r\n\r\n        return dataSource;\r\n       }\r\n\r\n       @Primary\r\n       @Bean(name = &quot;db1EntityManagerFactory&quot;)\r\n       public LocalContainerEntityManagerFactoryBean db1EntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource)\r\n       {\r\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n                env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                env.getProperty(&quot;hibernate.dialect&quot;));\r\n\r\n        return builder\r\n                .dataSource(dataSource)\r\n                .packages(&quot;com.db1.model&quot;)\r\n                .properties(properties)\r\n                .build();\r\n      }\r\n\r\n       @Primary\r\n       @Bean(name = &quot;transactionManager&quot;)\r\n       public PlatformTransactionManager transactionManager(\r\n            @Qualifier(&quot;db1EntityManagerFactory&quot;) EntityManagerFactory db1EntityManagerFactory)\r\n      {\r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(db1EntityManagerFactory);\r\n        return transactionManager;\r\n       }\r\n    }\r\n\r\n\r\nPerformance result:\r\n\r\nWith 1,2k records:\r\n\r\n  1. Single data source for the first time create and reload data: 15 seconds\r\n\r\n  2. Multiple datasource: first time: 8,5 mins, reload data: 15 seconds.\r\n\r\n\r\nWith 65k records:\r\n\r\n  1. Single data source for the first time create and reload data: 15 minutes\r\n\r\n  2. Multiple datasource: first time: several hours\r\n\r\n\r\n\r\nDetailed code for creating and reloading data.\r\nFor the single data source: \r\n\r\n\r\n    public class ProcessDataController {\r\n    public static final String CSV_URL = &quot;C:\\\\abc.csv&quot;;\r\n    List&lt;CSVSales&gt; data = new ArrayList&lt;&gt;();\r\n    @Autowired\r\n    private ARepository aRepository;\r\n    \r\n    @Autowired\r\n    private BRepository bRepository;\r\n    \r\n    @Autowired\r\n    private CRepository cRepository;\r\n    \r\n    @Autowired\r\n    private DRepository dRepository;\r\n    \r\n    @Autowired\r\n    private ERepository eRepository;\r\n    \r\n    @Autowired\r\n    private FRepository fRepository;\r\n    \r\n    @Autowired\r\n    private GRepository gRepository;\r\n    \r\n    @Autowired\r\n    private HRepository hRepository;\r\n    \r\n    @Autowired\r\n    private IRepository iRepository;\r\n    \r\n    @Autowired\r\n    private KRepository kRepository;\r\n    \r\n    @Autowired\r\n    private LRepository lRepository;\r\n    \r\n    @Autowired\r\n    EntityManger entityManager;\r\n    public void createData() throws IOException, ParseException {\r\n        // BEGIN - For TESTING\r\n        long step[] = new long[20];\r\n        double timer[] = new double[20];\r\n        ArrayList&lt;String&gt; table = new ArrayList&lt;&gt;();\r\n        table.add(&quot;A&quot;);\r\n        table.add(&quot;B&quot;);\r\n        table.add(&quot;C&quot;);\r\n        table.add(&quot;D&quot;);\r\n        table.add(&quot;E&quot;);\r\n        table.add(&quot;F&quot;);\r\n        table.add(&quot;G&quot;);\r\n        table.add(&quot;H&quot;);\r\n        table.add(&quot;I&quot;);\r\n        table.add(&quot;K&quot;);\r\n        table.add(&quot;L&quot;);\r\n        // END - For TESTING\r\n    \r\n        CSVReadAndParse readAndParse = new CSVReadAndParse();\r\n        readAndParse.setUrl(CSV_URL);\r\n    \r\n        step[0] = System.nanoTime();\r\n        data = readAndParse.getResult();\r\n        step[1] = System.nanoTime();\r\n        timer[0] = step[1] - step[0];\r\n    \r\n        for (int num = 0; num &lt; data.size(); num++) {\r\n            step[0] = System.nanoTime();\r\n            A a = new A(data.get(num).getACode(), data.get(num).getAName());\r\n            aRepository.saveAndFlush(a);\r\n            step[1] = System.nanoTime();\r\n            timer[1] += step[1] - step[0];\r\n    \r\n    \r\n            B b = new B(data.get(num).getBCode(), data.get(num).getBName());\r\n            bRepository.saveAndFlush(b);\r\n            step[2] = System.nanoTime();\r\n            timer[2] += step[2] - step[1];\r\n    \r\n            C c = new C(data.get(num).getC());\r\n            cRepository.saveAndFlush(c);\r\n            step[3] = System.nanoTime();\r\n            timer[3] += step[3] - step[2];\r\n    \r\n            D d = new D(data.get(num).getDCode(), data.get(num).getDName());\r\n            dRepository.saveAndFlush(d);\r\n            step[4] = System.nanoTime();\r\n            timer[4] += step[4] - step[3];\r\n    \r\n            E e = new E(data.get(num).getECode(), data.get(num).getEName());\r\n            eRepository.saveAndFlush(e);\r\n            step[5] = System.nanoTime();\r\n            timer[5] += step[5] - step[4];\r\n    \r\n            F f = new F(data.get(num).getF());\r\n            fRepository.saveAndFlush(month);\r\n            step[6] = System.nanoTime();\r\n            timer[6] += step[6] - step[5];\r\n    \r\n            G g = new G(data.get(num).getGCode(), data.get(num).getGName());\r\n            gRepository.saveAndFlush(g);\r\n            step[7] = System.nanoTime();\r\n            timer[7] += step[7] - step[6];\r\n    \r\n            H h = new H(data.get(num).getHCode(), data.get(num).getHName());\r\n            pRepository.saveAndFlush(h);\r\n            step[8] = System.nanoTime();\r\n            timer[8] += step[8] - step[7];\r\n    \r\n            I i = new I(data.get(num).getICode(), data.get(num).getIName());\r\n            iRepository.saveAndFlush(i);\r\n            step[9] = System.nanoTime();\r\n            timer[9] += step[9] - step[8];\r\n    \r\n            K k = new K(data.get(num).getK());\r\n            kRepository.saveAndFlush(k);\r\n            step[10] = System.nanoTime();\r\n            timer[10] += step[10] - step[9];\r\n    \r\n    \r\n            L l = new L();\r\n            L.setA(data.get(num).getNumberOfSale());\r\n            L.setB(data.get(num).getSalesAmount());\r\n            l.setC(a);\r\n            l.setC(b);\r\n            l.setD(c);\r\n            l.setE(d);\r\n            l.setF(e);\r\n            l.setG(f);\r\n            l.setH(g);\r\n            l.setI(h);\r\n            l.setK(i);\r\n            fRepository.saveAndFlush(l);\r\n            step[11] = System.nanoTime();\r\n            timer[11] += step[11] - step[10];\r\n            entityManager.clear();\r\n        }\r\n        double sum = 0;\r\n        for (int i = 1; i &lt;= 11; i++) {\r\n            System.out.println(table.get(i - 1) + &quot; time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(timer[i] / 1000000000) + &quot; seconds&quot;);\r\n            sum += timer[i];\r\n        }\r\n        System.out.println(&quot;Reading data time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(timer[0] / 1000000000) + &quot; seconds&quot;);\r\n        System.out.println(&quot;Total creating table time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(sum / 1000000000) + &quot; seconds&quot;);\r\n    }\r\n    public void deleteAllData() {\r\n        lRepository.deleteAll();\r\n        aRepository.deleteAll();\r\n        bRepository.deleteAll();\r\n        cRepository.deleteAll();\r\n        eRepository.deleteAll();\r\n        fRepository.deleteAll();\r\n        gRepository.deleteAll();\r\n        hRepository.deleteAll();\r\n        iRepository.deleteAll();\r\n        kRepository.deleteAll();\r\n    }\r\n    @RequestMapping(value = &quot;/api/reloadData&quot;, method = RequestMethod.GET)\r\n    public  String reloadData() throws IOException, ParseException {\r\n        System.out.println(&quot;------------------------&quot; + acessDB);\r\n        if (acessDB) {\r\n            acessDB = false;\r\n            long step1 = System.nanoTime();\r\n            deleteAllData();\r\n            long step2 = System.nanoTime();\r\n            createData();\r\n            long step3 = System.nanoTime();\r\n            double time1 = ((double) (step2 - step1) / 1000000000);\r\n            double time2 = ((double) (step3 - step2) / 1000000000);\r\n            double time3 = ((double) (step3 - step1) / 1000000000);\r\n            System.out.println(&quot;Delete time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(time1) + &quot; Seconds&quot;);\r\n            System.out.println(&quot;Create time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(time2) + &quot; Seconds&quot;);\r\n            System.out.println(&quot;Total time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(time3) + &quot; Seconds&quot;);\r\n            acessDB = true;\r\n            return &quot;Done&quot;;\r\n        } else {\r\n            return &quot;Busy&quot;;\r\n        }\r\n    }\r\n\r\nFor multiple data source, I just change the @Autowired of EntityManager into @PersistenceContext like I said before.\r\n\r\nand the main file.\r\n\r\n    public class EtlApplication implements CommandLineRunner {\r\n    public static boolean acessDB = true;\r\n    \r\n    @Autowired\r\n    ProcessDataController processDataController;\r\n    \r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EtlApplication.class, args);\r\n    }\r\n    \r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        acessDB = false;\r\n        processDataController.createData();\r\n        acessDB = true;\r\n    }\r\n    }\r\n\r\nThank you for all your support.","title":"Slow down performance when using multiple dataSources in Spring Boot, JPA","body":"<p>I need to persist a lot of entities into database.\nWhen I have only one data source.\nI used  <code>JpaRepository.saveAndFlush(entity)</code> to persist data. I also used</p>\n\n<pre><code>@Autowired\nEntityManager entityManager;\n....\nJpaRepository.saveAndFlush(entity)\n....\nentityManager.clear();\n</code></pre>\n\n<p>This technique helps me speed up performances.</p>\n\n<p>But when I change into using multiple data source. I also use the same technique, it doesnt work anymore. It took several hours for creating data instead of 15 mins.</p>\n\n<pre><code>@PersistenceContext\nEntityManager db1EntityManager;\n....\nJpaRepository.saveAndFlush(entity)\n....\ndb1EntityManager.clear();\n</code></pre>\n\n<p>Here is my configure file</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = \"db1EntityManagerFactory\",\n        basePackages = { \"com.repository\" }\n)\npublic class db1Config {\n   @Autowired\n   private Environment env;\n   @Primary\n   @Bean(name = \"dataSource\")\n   @ConfigurationProperties(prefix = \"db1.datasource\")\n   public DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(env.getProperty(\"db1.datasource.driver-class-name\"));\n    dataSource.setUrl(env.getProperty(\"db1.datasource.url\"));\n    dataSource.setUsername(env.getProperty(\"db1.datasource.username\"));\n    dataSource.setPassword(env.getProperty(\"db1.datasource.password\"));\n\n    return dataSource;\n   }\n\n   @Primary\n   @Bean(name = \"db1EntityManagerFactory\")\n   public LocalContainerEntityManagerFactoryBean db1EntityManagerFactory(\n        EntityManagerFactoryBuilder builder,\n        @Qualifier(\"dataSource\") DataSource dataSource)\n   {\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(\"hibernate.hbm2ddl.auto\",\n            env.getProperty(\"hibernate.hbm2ddl.auto\"));\n    properties.put(\"hibernate.dialect\",\n            env.getProperty(\"hibernate.dialect\"));\n\n    return builder\n            .dataSource(dataSource)\n            .packages(\"com.db1.model\")\n            .properties(properties)\n            .build();\n  }\n\n   @Primary\n   @Bean(name = \"transactionManager\")\n   public PlatformTransactionManager transactionManager(\n        @Qualifier(\"db1EntityManagerFactory\") EntityManagerFactory db1EntityManagerFactory)\n  {\n    JpaTransactionManager transactionManager\n            = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(db1EntityManagerFactory);\n    return transactionManager;\n   }\n}\n</code></pre>\n\n<p>Performance result:</p>\n\n<p>With 1,2k records:</p>\n\n<ol>\n<li><p>Single data source for the first time create and reload data: 15 seconds</p></li>\n<li><p>Multiple datasource: first time: 8,5 mins, reload data: 15 seconds.</p></li>\n</ol>\n\n<p>With 65k records:</p>\n\n<ol>\n<li><p>Single data source for the first time create and reload data: 15 minutes</p></li>\n<li><p>Multiple datasource: first time: several hours</p></li>\n</ol>\n\n<p>Detailed code for creating and reloading data.\nFor the single data source: </p>\n\n<pre><code>public class ProcessDataController {\npublic static final String CSV_URL = \"C:\\\\abc.csv\";\nList&lt;CSVSales&gt; data = new ArrayList&lt;&gt;();\n@Autowired\nprivate ARepository aRepository;\n\n@Autowired\nprivate BRepository bRepository;\n\n@Autowired\nprivate CRepository cRepository;\n\n@Autowired\nprivate DRepository dRepository;\n\n@Autowired\nprivate ERepository eRepository;\n\n@Autowired\nprivate FRepository fRepository;\n\n@Autowired\nprivate GRepository gRepository;\n\n@Autowired\nprivate HRepository hRepository;\n\n@Autowired\nprivate IRepository iRepository;\n\n@Autowired\nprivate KRepository kRepository;\n\n@Autowired\nprivate LRepository lRepository;\n\n@Autowired\nEntityManger entityManager;\npublic void createData() throws IOException, ParseException {\n    // BEGIN - For TESTING\n    long step[] = new long[20];\n    double timer[] = new double[20];\n    ArrayList&lt;String&gt; table = new ArrayList&lt;&gt;();\n    table.add(\"A\");\n    table.add(\"B\");\n    table.add(\"C\");\n    table.add(\"D\");\n    table.add(\"E\");\n    table.add(\"F\");\n    table.add(\"G\");\n    table.add(\"H\");\n    table.add(\"I\");\n    table.add(\"K\");\n    table.add(\"L\");\n    // END - For TESTING\n\n    CSVReadAndParse readAndParse = new CSVReadAndParse();\n    readAndParse.setUrl(CSV_URL);\n\n    step[0] = System.nanoTime();\n    data = readAndParse.getResult();\n    step[1] = System.nanoTime();\n    timer[0] = step[1] - step[0];\n\n    for (int num = 0; num &lt; data.size(); num++) {\n        step[0] = System.nanoTime();\n        A a = new A(data.get(num).getACode(), data.get(num).getAName());\n        aRepository.saveAndFlush(a);\n        step[1] = System.nanoTime();\n        timer[1] += step[1] - step[0];\n\n\n        B b = new B(data.get(num).getBCode(), data.get(num).getBName());\n        bRepository.saveAndFlush(b);\n        step[2] = System.nanoTime();\n        timer[2] += step[2] - step[1];\n\n        C c = new C(data.get(num).getC());\n        cRepository.saveAndFlush(c);\n        step[3] = System.nanoTime();\n        timer[3] += step[3] - step[2];\n\n        D d = new D(data.get(num).getDCode(), data.get(num).getDName());\n        dRepository.saveAndFlush(d);\n        step[4] = System.nanoTime();\n        timer[4] += step[4] - step[3];\n\n        E e = new E(data.get(num).getECode(), data.get(num).getEName());\n        eRepository.saveAndFlush(e);\n        step[5] = System.nanoTime();\n        timer[5] += step[5] - step[4];\n\n        F f = new F(data.get(num).getF());\n        fRepository.saveAndFlush(month);\n        step[6] = System.nanoTime();\n        timer[6] += step[6] - step[5];\n\n        G g = new G(data.get(num).getGCode(), data.get(num).getGName());\n        gRepository.saveAndFlush(g);\n        step[7] = System.nanoTime();\n        timer[7] += step[7] - step[6];\n\n        H h = new H(data.get(num).getHCode(), data.get(num).getHName());\n        pRepository.saveAndFlush(h);\n        step[8] = System.nanoTime();\n        timer[8] += step[8] - step[7];\n\n        I i = new I(data.get(num).getICode(), data.get(num).getIName());\n        iRepository.saveAndFlush(i);\n        step[9] = System.nanoTime();\n        timer[9] += step[9] - step[8];\n\n        K k = new K(data.get(num).getK());\n        kRepository.saveAndFlush(k);\n        step[10] = System.nanoTime();\n        timer[10] += step[10] - step[9];\n\n\n        L l = new L();\n        L.setA(data.get(num).getNumberOfSale());\n        L.setB(data.get(num).getSalesAmount());\n        l.setC(a);\n        l.setC(b);\n        l.setD(c);\n        l.setE(d);\n        l.setF(e);\n        l.setG(f);\n        l.setH(g);\n        l.setI(h);\n        l.setK(i);\n        fRepository.saveAndFlush(l);\n        step[11] = System.nanoTime();\n        timer[11] += step[11] - step[10];\n        entityManager.clear();\n    }\n    double sum = 0;\n    for (int i = 1; i &lt;= 11; i++) {\n        System.out.println(table.get(i - 1) + \" time: \" + new DecimalFormat(\"#.##########\").format(timer[i] / 1000000000) + \" seconds\");\n        sum += timer[i];\n    }\n    System.out.println(\"Reading data time: \" + new DecimalFormat(\"#.##########\").format(timer[0] / 1000000000) + \" seconds\");\n    System.out.println(\"Total creating table time: \" + new DecimalFormat(\"#.##########\").format(sum / 1000000000) + \" seconds\");\n}\npublic void deleteAllData() {\n    lRepository.deleteAll();\n    aRepository.deleteAll();\n    bRepository.deleteAll();\n    cRepository.deleteAll();\n    eRepository.deleteAll();\n    fRepository.deleteAll();\n    gRepository.deleteAll();\n    hRepository.deleteAll();\n    iRepository.deleteAll();\n    kRepository.deleteAll();\n}\n@RequestMapping(value = \"/api/reloadData\", method = RequestMethod.GET)\npublic  String reloadData() throws IOException, ParseException {\n    System.out.println(\"------------------------\" + acessDB);\n    if (acessDB) {\n        acessDB = false;\n        long step1 = System.nanoTime();\n        deleteAllData();\n        long step2 = System.nanoTime();\n        createData();\n        long step3 = System.nanoTime();\n        double time1 = ((double) (step2 - step1) / 1000000000);\n        double time2 = ((double) (step3 - step2) / 1000000000);\n        double time3 = ((double) (step3 - step1) / 1000000000);\n        System.out.println(\"Delete time: \" + new DecimalFormat(\"#.##########\").format(time1) + \" Seconds\");\n        System.out.println(\"Create time: \" + new DecimalFormat(\"#.##########\").format(time2) + \" Seconds\");\n        System.out.println(\"Total time: \" + new DecimalFormat(\"#.##########\").format(time3) + \" Seconds\");\n        acessDB = true;\n        return \"Done\";\n    } else {\n        return \"Busy\";\n    }\n}\n</code></pre>\n\n<p>For multiple data source, I just change the @Autowired of EntityManager into @PersistenceContext like I said before.</p>\n\n<p>and the main file.</p>\n\n<pre><code>public class EtlApplication implements CommandLineRunner {\npublic static boolean acessDB = true;\n\n@Autowired\nProcessDataController processDataController;\n\npublic static void main(String[] args) {\n    SpringApplication.run(EtlApplication.class, args);\n}\n\n@Override\npublic void run(String... args) throws Exception {\n    acessDB = false;\n    processDataController.createData();\n    acessDB = true;\n}\n}\n</code></pre>\n\n<p>Thank you for all your support.</p>\n"},{"tags":["java","android","android-studio","android-emulator","amd-processor"],"answers":[{"tags":[],"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575806419,"creation_date":1575806419,"answer_id":59235169,"question_id":59229732,"body_markdown":"Maybe your pc doesn&#39;t meet these requirements:\r\n\r\n&gt; Windows\r\n&gt;\r\n&gt; Microsoft&#174; Windows&#174; 7/8/10 (32- or 64-bit) The Android\r\n&gt; Emulator only supports 64-bit Windows (learn more).\r\n&gt; \r\n&gt; 4 GB RAM minimum, 8 GB RAM recommended\r\n&gt;\r\n&gt; 2 GB of available disk space minimum, 4 GB Recommended (500 MB for IDE + 1.5 GB for Android SDK and\r\n&gt; emulator system image)\r\n&gt;\r\n&gt;1280 x 800 minimum screen resolution\r\n\r\nSource: https://developer.android.com/studio (bottom of the page)","title":"Android Studio: System UI Not Responding","body":"<p>Maybe your pc doesn't meet these requirements:</p>\n\n<blockquote>\n  <p>Windows</p>\n  \n  <p>Microsoft® Windows® 7/8/10 (32- or 64-bit) The Android\n  Emulator only supports 64-bit Windows (learn more).</p>\n  \n  <p>4 GB RAM minimum, 8 GB RAM recommended</p>\n  \n  <p>2 GB of available disk space minimum, 4 GB Recommended (500 MB for IDE + 1.5 GB for Android SDK and\n  emulator system image)</p>\n  \n  <p>1280 x 800 minimum screen resolution</p>\n</blockquote>\n\n<p>Source: <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">https://developer.android.com/studio</a> (bottom of the page)</p>\n"}],"owner":{"account_id":12673622,"reputation":183,"user_id":9210282,"display_name":"Mary X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695737733,"creation_date":1575749216,"question_id":59229732,"body_markdown":"I recently migrated one of my Android studio projects from my last Dell laptop. I&#39;m currently using an HP laptop with an AMD processor and whenever I try to start my emulator (Pixel 2 API 29) for my project, I get a different wacky virtualization-related error EVERY TIME. \r\n\r\nSome examples of my previous errors are\r\n\r\n&gt; Your CPU does not support the required feature (VT-x or SVM),\r\n\r\n&gt; ADB.exe is obsolete and has serious performance problems,\r\n\r\n&gt; Intel HAXM is required to run this AVD. \r\n\r\nError shown in emulator today:\r\n\r\n&gt; System UI not responding\r\n\r\nI have already enabled Virtualization in my BIOS setting, but it didn&#39;t change anything.","title":"Android Studio: System UI Not Responding","body":"<p>I recently migrated one of my Android studio projects from my last Dell laptop. I'm currently using an HP laptop with an AMD processor and whenever I try to start my emulator (Pixel 2 API 29) for my project, I get a different wacky virtualization-related error EVERY TIME.</p>\n<p>Some examples of my previous errors are</p>\n<blockquote>\n<p>Your CPU does not support the required feature (VT-x or SVM),</p>\n</blockquote>\n<blockquote>\n<p>ADB.exe is obsolete and has serious performance problems,</p>\n</blockquote>\n<blockquote>\n<p>Intel HAXM is required to run this AVD.</p>\n</blockquote>\n<p>Error shown in emulator today:</p>\n<blockquote>\n<p>System UI not responding</p>\n</blockquote>\n<p>I have already enabled Virtualization in my BIOS setting, but it didn't change anything.</p>\n"},{"tags":["java","spring-boot","maven","pom.xml","camunda"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692349867,"post_id":76927941,"comment_id":135613849,"body_markdown":"This is the actual problem: &quot;Error: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:public static void main(String[] args)&quot;","body":"This is the actual problem: &quot;Error: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:public static void main(String[] args)&quot;"},{"owner":{"account_id":29250109,"reputation":1,"user_id":22409651,"display_name":"Andrey Filippov"},"score":0,"creation_date":1692350081,"post_id":76927941,"comment_id":135613895,"body_markdown":"The camunda documentation says that you don&#39;t need to explicitly specify main in the code, and yes I tested with explicitly specifying it, but it didn&#39;t solve my problem, I think I have a bug somewhere in the code or pom, but I can&#39;t for the second week guess where...","body":"The camunda documentation says that you don&#39;t need to explicitly specify main in the code, and yes I tested with explicitly specifying it, but it didn&#39;t solve my problem, I think I have a bug somewhere in the code or pom, but I can&#39;t for the second week guess where..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692355484,"post_id":76927941,"comment_id":135614915,"body_markdown":"Why is spring-boot-maven-plugin running in test phase?","body":"Why is spring-boot-maven-plugin running in test phase?"},{"owner":{"account_id":29250109,"reputation":1,"user_id":22409651,"display_name":"Andrey Filippov"},"score":0,"creation_date":1692364539,"post_id":76927941,"comment_id":135616789,"body_markdown":"I tried to run the process through the console to see if the class is scanned and the bin is created. maybe that&#39;s why?  This is my first time doing something like this and could be wrong, happy to hear suggestions","body":"I tried to run the process through the console to see if the class is scanned and the bin is created. maybe that&#39;s why?  This is my first time doing something like this and could be wrong, happy to hear suggestions"}],"answers":[{"tags":[],"owner":{"account_id":24247260,"reputation":21,"user_id":18198798,"display_name":"Jan Rohwer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695737655,"creation_date":1695737655,"answer_id":77180847,"question_id":76927941,"body_markdown":"In your pom.xml in the configuration of the spring-boot-maven-plugin you specifiy you mainClass to be com.myapp.sqlDataRetrievalDelegate (by the way in Java the common practice is to start the class name with upper case so com.myapp.SqlDataRetrievalDelegate).\r\n\r\nFor a spring boot application you need an application class (see https://spring.io/guides/gs/spring-boot/).\r\n\r\nSo e.g. define the mainClass to be com.myapp.Application and that class should look like this:\r\n\r\n    package com.myapp;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\nThis will also enable the component scan and pick up your delegate bean.","title":"rg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal","body":"<p>In your pom.xml in the configuration of the spring-boot-maven-plugin you specifiy you mainClass to be com.myapp.sqlDataRetrievalDelegate (by the way in Java the common practice is to start the class name with upper case so com.myapp.SqlDataRetrievalDelegate).</p>\n<p>For a spring boot application you need an application class (see <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a>).</p>\n<p>So e.g. define the mainClass to be com.myapp.Application and that class should look like this:</p>\n<pre><code>package com.myapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>This will also enable the component scan and pick up your delegate bean.</p>\n"}],"owner":{"account_id":29250109,"reputation":1,"user_id":22409651,"display_name":"Andrey Filippov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695737655,"creation_date":1692349776,"question_id":76927941,"body_markdown":"I am new to Java and Maven/Spring. I am building a project to run a BPMN process in Camunda using a delegate. I have written the code, built the dependencies and am trying to build the project. When I put my JAR file into a Camunda container (I have Camunda deployed on a Linux server) I keep getting an error: **Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier &#39;sqlDataRetrievalDelegate&#39;**.\r\n\r\nIt seems to me that my Spring is not scanning and creating the Bin, what am I doing wrong? Help please.\r\n\r\n\r\nHere&#39;s my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.camunda.bpm.getstarted&lt;/groupId&gt;\r\n    &lt;artifactId&gt;loan-approval-spring-boot&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;camunda.spring-boot.version&gt;7.19.0&lt;/camunda.spring-boot.version&gt;\r\n        &lt;spring-boot.version&gt;2.7.10&lt;/spring-boot.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;mssql.jdbc.version&gt;9.2.1.jre11&lt;/mssql.jdbc.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\r\n            &lt;version&gt;${camunda.spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${mssql.jdbc.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.myapp.sqlDataRetrievalDelegate&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s my JAVA code:\r\n```\r\npackage com.myapp;\r\n\r\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\r\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n@Component(&quot;sqlDataRetrievalDelegate&quot;)\r\npublic class sqlDataRetrievalDelegate implements JavaDelegate {\r\n    private static final Logger logger = LoggerFactory.getLogger(sqlDataRetrievalDelegate.class);\r\n\r\n    @Override\r\n    public void execute(DelegateExecution execution) {\r\n        logger.info(&quot;Executing SQL data retrieval delegate...&quot;);\r\n\r\n        String jdbcUrl = &quot;jdbc:sqlserver://10.100.11.11:1433;databaseName=DBtestData&quot;;\r\n        String username = &quot;camunda_sql1111&quot;;\r\n        String password = &quot;12345678&quot;;\r\n\r\n        List&lt;String&gt; tags = Arrays.asList(&quot;MATR_TAG00001.SIM&quot;, &quot;MATR_TAG00002.SIM&quot;, &quot;MATR_TAG00003.SIM&quot;, &quot;MATR_TAG00004.SIM&quot;);\r\n\r\n        try (Connection conn = DriverManager.getConnection(jdbcUrl, username, password)) {\r\n            String query = buildQuery(tags);\r\n\r\n            try (PreparedStatement stmt = conn.prepareStatement(query)) {\r\n                try (ResultSet rs = stmt.executeQuery()) {\r\n                    while (rs.next()) {\r\n                        String tagName = rs.getString(&quot;TagName&quot;);\r\n                        String timeStamp = rs.getString(&quot;TimeStamp&quot;);\r\n                        double value = rs.getDouble(&quot;Value&quot;);\r\n\r\n                        execution.setVariable(&quot;tagNameVariable&quot;, tagName);\r\n                        execution.setVariable(&quot;timeStampVariable&quot;, timeStamp);\r\n                        execution.setVariable(&quot;valueVariable&quot;, value);\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Failed to execute SQL delegate&quot;, e);\r\n            throw new RuntimeException(&quot;Failed to execute SQL delegate&quot;, e);\r\n        }\r\n    }\r\n\r\n    private String buildQuery(List&lt;String&gt; tags) {\r\n        StringBuilder queryBuilder = new StringBuilder(&quot;SELECT TagName, TimeStamp, Value FROM OPENQUERY (PHD_OLEDB, &#39;SELECT * FROM phd.phd_data WHERE tagname IN (&quot;);\r\n        for (int i = 0; i &lt; tags.size(); i++) {\r\n            queryBuilder.append(&quot;&#39;&#39;&quot;).append(tags.get(i)).append(&quot;&#39;&#39;&quot;);\r\n            if (i &lt; tags.size() - 1) {\r\n                queryBuilder.append(&quot;,&quot;);\r\n            }\r\n        }\r\n        queryBuilder.append(&quot;) AND raw_data = true&#39;)&quot;);\r\n\r\n        return queryBuilder.toString();\r\n    }\r\n}\r\n```\r\nThese are the logs I see in IDEA: \r\n```\r\nPS C:\\Users\\FilippovAn\\untitled1&gt; mvn -e spring-boot:run\r\n[INFO] Error stacktraces are turned on.\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------&lt; org.camunda.bpm.getstarted:loan-approval-spring-boot &gt;--------\r\n[INFO] Building loan-approval-spring-boot 0.0.1-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; spring-boot:2.7.10:run (default-cli) &gt; test-compile @ loan-approval-spring-boot &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- resources:3.3.1:resources (default-resources) @ loan-approval-spring-boot ---\r\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] Copying 2 resources from src\\main\\resources to target\\classes\r\n[INFO]\r\n[INFO] --- compiler:3.11.0:compile (default-compile) @ loan-approval-spring-boot ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ loan-approval-spring-boot ---\r\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] skip non existing resourceDirectory C:\\Users\\FilippovAn\\untitled1\\src\\test\\resources\r\n[INFO]\r\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ loan-approval-spring-boot ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] &lt;&lt;&lt; spring-boot:2.7.10:run (default-cli) &lt; test-compile @ loan-approval-spring-boot &lt;&lt;&lt;\r\n[INFO]\r\n[INFO]\r\n[INFO] --- spring-boot:2.7.10:run (default-cli) @ loan-approval-spring-boot ---\r\n[INFO] Attaching agents: []\r\nError: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.102 s\r\n[INFO] Finished at: 2023-08-18T11:30:12+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-spring-boot: Application finished with exit code:\r\n 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-s\r\npring-boot: Application finished with exit code: 1\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\r\n    at org.springframework.boot.maven.RunMojo.runWithForkedJvm (RunMojo.java:103)\r\n    at org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm (AbstractRunMojo.java:291)\r\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:255)\r\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:225)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n[ERROR]\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\nThese are the logs I see in Camunda:\r\n```\r\n2023-08-15 12:15:02.465  WARN 10 --- [aTaskExecutor-3] org.camunda.bpm.engine.jobexecutor       : ENGINE14006 Exception while executing job acf3efa9-3b64-11ee-8bf4-0242ac120002:\r\norg.camunda.bpm.engine.ProcessEngineException: Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier &#39;sqlDataRetrievalDelegate&#39;\r\n        ","title":"rg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal","body":"<p>I am new to Java and Maven/Spring. I am building a project to run a BPMN process in Camunda using a delegate. I have written the code, built the dependencies and am trying to build the project. When I put my JAR file into a Camunda container (I have Camunda deployed on a Linux server) I keep getting an error: <strong>Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier 'sqlDataRetrievalDelegate'</strong>.</p>\n<p>It seems to me that my Spring is not scanning and creating the Bin, what am I doing wrong? Help please.</p>\n<p>Here's my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.camunda.bpm.getstarted&lt;/groupId&gt;\n    &lt;artifactId&gt;loan-approval-spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;camunda.spring-boot.version&gt;7.19.0&lt;/camunda.spring-boot.version&gt;\n        &lt;spring-boot.version&gt;2.7.10&lt;/spring-boot.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;mssql.jdbc.version&gt;9.2.1.jre11&lt;/mssql.jdbc.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\n            &lt;version&gt;${camunda.spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${mssql.jdbc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.myapp.sqlDataRetrievalDelegate&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's my JAVA code:</p>\n<pre><code>package com.myapp;\n\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.util.Arrays;\nimport java.util.List;\n\n@Component(&quot;sqlDataRetrievalDelegate&quot;)\npublic class sqlDataRetrievalDelegate implements JavaDelegate {\n    private static final Logger logger = LoggerFactory.getLogger(sqlDataRetrievalDelegate.class);\n\n    @Override\n    public void execute(DelegateExecution execution) {\n        logger.info(&quot;Executing SQL data retrieval delegate...&quot;);\n\n        String jdbcUrl = &quot;jdbc:sqlserver://10.100.11.11:1433;databaseName=DBtestData&quot;;\n        String username = &quot;camunda_sql1111&quot;;\n        String password = &quot;12345678&quot;;\n\n        List&lt;String&gt; tags = Arrays.asList(&quot;MATR_TAG00001.SIM&quot;, &quot;MATR_TAG00002.SIM&quot;, &quot;MATR_TAG00003.SIM&quot;, &quot;MATR_TAG00004.SIM&quot;);\n\n        try (Connection conn = DriverManager.getConnection(jdbcUrl, username, password)) {\n            String query = buildQuery(tags);\n\n            try (PreparedStatement stmt = conn.prepareStatement(query)) {\n                try (ResultSet rs = stmt.executeQuery()) {\n                    while (rs.next()) {\n                        String tagName = rs.getString(&quot;TagName&quot;);\n                        String timeStamp = rs.getString(&quot;TimeStamp&quot;);\n                        double value = rs.getDouble(&quot;Value&quot;);\n\n                        execution.setVariable(&quot;tagNameVariable&quot;, tagName);\n                        execution.setVariable(&quot;timeStampVariable&quot;, timeStamp);\n                        execution.setVariable(&quot;valueVariable&quot;, value);\n                    }\n                }\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Failed to execute SQL delegate&quot;, e);\n            throw new RuntimeException(&quot;Failed to execute SQL delegate&quot;, e);\n        }\n    }\n\n    private String buildQuery(List&lt;String&gt; tags) {\n        StringBuilder queryBuilder = new StringBuilder(&quot;SELECT TagName, TimeStamp, Value FROM OPENQUERY (PHD_OLEDB, 'SELECT * FROM phd.phd_data WHERE tagname IN (&quot;);\n        for (int i = 0; i &lt; tags.size(); i++) {\n            queryBuilder.append(&quot;''&quot;).append(tags.get(i)).append(&quot;''&quot;);\n            if (i &lt; tags.size() - 1) {\n                queryBuilder.append(&quot;,&quot;);\n            }\n        }\n        queryBuilder.append(&quot;) AND raw_data = true')&quot;);\n\n        return queryBuilder.toString();\n    }\n}\n</code></pre>\n<p>These are the logs I see in IDEA:</p>\n<pre><code>PS C:\\Users\\FilippovAn\\untitled1&gt; mvn -e spring-boot:run\n[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------&lt; org.camunda.bpm.getstarted:loan-approval-spring-boot &gt;--------\n[INFO] Building loan-approval-spring-boot 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; spring-boot:2.7.10:run (default-cli) &gt; test-compile @ loan-approval-spring-boot &gt;&gt;&gt;\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ loan-approval-spring-boot ---\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.11.0:compile (default-compile) @ loan-approval-spring-boot ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ loan-approval-spring-boot ---\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\Users\\FilippovAn\\untitled1\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ loan-approval-spring-boot ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot:2.7.10:run (default-cli) &lt; test-compile @ loan-approval-spring-boot &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot:2.7.10:run (default-cli) @ loan-approval-spring-boot ---\n[INFO] Attaching agents: []\nError: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.102 s\n[INFO] Finished at: 2023-08-18T11:30:12+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-spring-boot: Application finished with exit code:\n 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-s\npring-boot: Application finished with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\n    at org.springframework.boot.maven.RunMojo.runWithForkedJvm (RunMojo.java:103)\n    at org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm (AbstractRunMojo.java:291)\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:255)\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:225)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n<p>These are the logs I see in Camunda:</p>\n<pre><code>2023-08-15 12:15:02.465  WARN 10 --- [aTaskExecutor-3] org.camunda.bpm.engine.jobexecutor       : ENGINE14006 Exception while executing job acf3efa9-3b64-11ee-8bf4-0242ac120002:\norg.camunda.bpm.engine.ProcessEngineException: Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier 'sqlDataRetrievalDelegate'\n        \n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1695733948,"post_id":77180161,"comment_id":136061733,"body_markdown":"Does this answer your question? [Distinct results from Spring Data JPA Specification that uses join](https://stackoverflow.com/questions/33025213/distinct-results-from-spring-data-jpa-specification-that-uses-join)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33025213/distinct-results-from-spring-data-jpa-specification-that-uses-join\">Distinct results from Spring Data JPA Specification that uses join</a>"},{"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"score":0,"creation_date":1695735686,"post_id":77180161,"comment_id":136062134,"body_markdown":"I already tried it, but it didn&#39;t help.","body":"I already tried it, but it didn&#39;t help."},{"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"score":0,"creation_date":1695736030,"post_id":77180161,"comment_id":136062213,"body_markdown":"Moreover the column the entities must be distinct by is not even specified. And I don&#39;t understand where it should be specified","body":"Moreover the column the entities must be distinct by is not even specified. And I don&#39;t understand where it should be specified"}],"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695737505,"creation_date":1695732394,"question_id":77180161,"body_markdown":"I need to find the only FlightSeat entities that don&#39;t share the common flight(flight.id).\r\nThat is one FlightSeat per Flight.\r\nIf I get list of FlightSeats using current implementation there are FlightSeats tied to the same Flight.\r\n\r\nI tried adding this but it didn&#39;t help\r\n\r\n```java\r\npublic class FlightSearchSpecification {\r\n    // getSeatSpecification()\r\n\r\n    public static Specification&lt;Object&gt; distinct() {\r\n        return (root, query, cb) -&gt; {\r\n            query.distinct(true);\r\n            return null;\r\n        };\r\n    }\r\n}\r\n\r\n\r\nflightSeatRepository.findAll(Specification\r\n    .where(FlightSearchSpecification.distinct().and(FlightSearchSpecification.getSeatSpecification(model))) , pageable);\r\n```\r\n\r\nMaybe it can be achieved by groupBy() but I can&#39;t understand how to do that.\r\n\r\n**Classes**\r\n\r\nSpeicification\r\n\r\n```lang-java\r\npublic class FlightSearchSpecification {\r\n  \r\n    public static Specification&lt;FlightSeat&gt; getSeatSpecification(TicketFilterModel model) {\r\n        return (root, query, cb) -&gt; {\r\n\r\n            Join&lt;FlightSeat, Flight&gt; join = root.join(&quot;flight&quot;);\r\n            Join&lt;Flight, AviaCompany&gt; join2 = join.join(&quot;company&quot;);\r\n\r\n            Predicate whereSeatClass = cb.equal(root.get(&quot;seatClass&quot;), model.getSeatClass());\r\n            Predicate whereSource = cb.equal(join.get(&quot;source&quot;), model.getSource());\r\n            Predicate whereDestination = cb.equal(join.get(&quot;destination&quot;), model.getDestination());\r\n            Predicate whereCompanyName = join2.get(&quot;name&quot;).in(model.getCompanies());\r\n            Predicate WhereCustomerNull = cb.isNull(root.get(&quot;customer&quot;));\r\n\r\n            return cb.and(\r\n                    whereSeatClass, whereSource,\r\n                    whereDestination, whereCompanyName, WhereCustomerNull);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n JPA Repository\r\n\r\n``` lang-java\r\npublic interface FlightSeatRepository extends JpaRepository&lt;FlightSeat, Long&gt;, JpaSpecificationExecutor&lt;FlightSeat&gt; {\r\n\r\n    List&lt;FlightSeat&gt; findByFlightId(Long flightId);\r\n\r\n    @EntityGraph(attributePaths = {&quot;flight&quot;, &quot;flight.company&quot;})\r\n    Page&lt;FlightSeat&gt; findAll( Specification&lt;FlightSeat&gt; spec,  Pageable pageable);\r\n\r\n}\r\n```\r\n\r\n Usage of the specification in .findAll()\r\n\r\n```lang-java\r\nflightSeatRepository.findAll(FlightSearchSpecification.getSeatSpecification(model), pageable);\r\n``` \r\n\r\n\r\n FlightSeat Entity\r\n\r\n``` lang-java\r\n@Entity\r\n@Table(name = &quot;flight_seats&quot;)\r\npublic class FlightSeat {\r\n\r\n    @Column(name = &quot;flight_seat_id&quot;)\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @Column(nullable = false)\r\n    private int position;\r\n\r\n    @Column(nullable = false)\r\n    private int price;\r\n\r\n    @Column(name = &quot;class&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    @JsonProperty(&quot;seat_class&quot;)\r\n    private FlightSeatClass seatClass;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Flight flight;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    @JsonIgnore\r\n    private Customer customer;\r\n\r\n    // constructor, getters, setters\r\n}\r\n```\r\n\r\n Flight Entity\r\n\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;flights&quot;)\r\n@Immutable\r\npublic class Flight {\r\n\r\n    @Column(name = &quot;flight_id&quot;)\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(name = &quot;airplane_model&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;airplane_model&quot;)\r\n    private String airplaneModel;\r\n\r\n    @Column(name = &quot;takeoff_timestamp&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;takeoff_timestamp&quot;)\r\n    private ZonedDateTime takeoffTimestamp;\r\n\r\n    @Column(name = &quot;landing_timestamp&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;landing_timestamp&quot;)\r\n    private ZonedDateTime landingTimestamp;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private City source;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private City destination;\r\n\r\n    @Column(name = &quot;seat_count&quot;)\r\n    @JsonProperty(value = &quot;seat_count&quot;)\r\n    private int seatCount;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;avia_company_id&quot;, nullable = false)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private AviaCompany company;\r\n\r\n    @OneToMany(mappedBy = &quot;flight&quot;)\r\n    @JsonIgnore\r\n    private final Set&lt;FlightSeat&gt; seats = new HashSet&lt;&gt;();\r\n\r\n    // constructor, getters, setters\r\n}\r\n```","title":"how to retrieve only distinct entities by a specific column using Spring Data Specification","body":"<p>I need to find the only FlightSeat entities that don't share the common flight(flight.id).\nThat is one FlightSeat per Flight.\nIf I get list of FlightSeats using current implementation there are FlightSeats tied to the same Flight.</p>\n<p>I tried adding this but it didn't help</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlightSearchSpecification {\n    // getSeatSpecification()\n\n    public static Specification&lt;Object&gt; distinct() {\n        return (root, query, cb) -&gt; {\n            query.distinct(true);\n            return null;\n        };\n    }\n}\n\n\nflightSeatRepository.findAll(Specification\n    .where(FlightSearchSpecification.distinct().and(FlightSearchSpecification.getSeatSpecification(model))) , pageable);\n</code></pre>\n<p>Maybe it can be achieved by groupBy() but I can't understand how to do that.</p>\n<p><strong>Classes</strong></p>\n<p>Speicification</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlightSearchSpecification {\n  \n    public static Specification&lt;FlightSeat&gt; getSeatSpecification(TicketFilterModel model) {\n        return (root, query, cb) -&gt; {\n\n            Join&lt;FlightSeat, Flight&gt; join = root.join(&quot;flight&quot;);\n            Join&lt;Flight, AviaCompany&gt; join2 = join.join(&quot;company&quot;);\n\n            Predicate whereSeatClass = cb.equal(root.get(&quot;seatClass&quot;), model.getSeatClass());\n            Predicate whereSource = cb.equal(join.get(&quot;source&quot;), model.getSource());\n            Predicate whereDestination = cb.equal(join.get(&quot;destination&quot;), model.getDestination());\n            Predicate whereCompanyName = join2.get(&quot;name&quot;).in(model.getCompanies());\n            Predicate WhereCustomerNull = cb.isNull(root.get(&quot;customer&quot;));\n\n            return cb.and(\n                    whereSeatClass, whereSource,\n                    whereDestination, whereCompanyName, WhereCustomerNull);\n        };\n    }\n}\n</code></pre>\n<p>JPA Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FlightSeatRepository extends JpaRepository&lt;FlightSeat, Long&gt;, JpaSpecificationExecutor&lt;FlightSeat&gt; {\n\n    List&lt;FlightSeat&gt; findByFlightId(Long flightId);\n\n    @EntityGraph(attributePaths = {&quot;flight&quot;, &quot;flight.company&quot;})\n    Page&lt;FlightSeat&gt; findAll( Specification&lt;FlightSeat&gt; spec,  Pageable pageable);\n\n}\n</code></pre>\n<p>Usage of the specification in .findAll()</p>\n<pre class=\"lang-java prettyprint-override\"><code>flightSeatRepository.findAll(FlightSearchSpecification.getSeatSpecification(model), pageable);\n</code></pre>\n<p>FlightSeat Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;flight_seats&quot;)\npublic class FlightSeat {\n\n    @Column(name = &quot;flight_seat_id&quot;)\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Column(nullable = false)\n    private int position;\n\n    @Column(nullable = false)\n    private int price;\n\n    @Column(name = &quot;class&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    @JsonProperty(&quot;seat_class&quot;)\n    private FlightSeatClass seatClass;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Flight flight;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    @JsonIgnore\n    private Customer customer;\n\n    // constructor, getters, setters\n}\n</code></pre>\n<p>Flight Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;flights&quot;)\n@Immutable\npublic class Flight {\n\n    @Column(name = &quot;flight_id&quot;)\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(name = &quot;airplane_model&quot;, nullable = false)\n    @JsonProperty(value = &quot;airplane_model&quot;)\n    private String airplaneModel;\n\n    @Column(name = &quot;takeoff_timestamp&quot;, nullable = false)\n    @JsonProperty(value = &quot;takeoff_timestamp&quot;)\n    private ZonedDateTime takeoffTimestamp;\n\n    @Column(name = &quot;landing_timestamp&quot;, nullable = false)\n    @JsonProperty(value = &quot;landing_timestamp&quot;)\n    private ZonedDateTime landingTimestamp;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private City source;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private City destination;\n\n    @Column(name = &quot;seat_count&quot;)\n    @JsonProperty(value = &quot;seat_count&quot;)\n    private int seatCount;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;avia_company_id&quot;, nullable = false)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private AviaCompany company;\n\n    @OneToMany(mappedBy = &quot;flight&quot;)\n    @JsonIgnore\n    private final Set&lt;FlightSeat&gt; seats = new HashSet&lt;&gt;();\n\n    // constructor, getters, setters\n}\n</code></pre>\n"},{"tags":["java","xml","dom","jaxb","variant"],"answers":[{"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335547655,"creation_date":1335547655,"answer_id":10355199,"question_id":6775345,"body_markdown":"Running example:\r\n\r\n(Hint: JAXBHelper are from utils-apl-derived, but are just short forms of you unmarshalling and marshalling routines)\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlElements;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    import org.junit.Test;\r\n    import org.omnaest.utils.xml.JAXBXMLHelper;\r\n    \r\n    public class JAXBAnyElementTest\r\n    {\r\n      @XmlType\r\n      @XmlAccessorType(XmlAccessType.FIELD)\r\n      protected static class TestSubEntity\r\n      {\r\n        /* ********************************************** Variables ********************************************** */\r\n        @XmlElement\r\n        private String fieldString  = null;\r\n        @XmlElement\r\n        private int    fieldInteger = -1;\r\n        \r\n        /* ********************************************** Methods ********************************************** */\r\n        \r\n        /**\r\n         * @see TestSubEntity\r\n         */\r\n        public TestSubEntity()\r\n        {\r\n          super();\r\n        }\r\n        \r\n        /**\r\n         * @see TestSubEntity\r\n         * @param fieldString\r\n         * @param fieldInteger\r\n         */\r\n        public TestSubEntity( String fieldString, int fieldInteger )\r\n        {\r\n          super();\r\n          this.fieldString = fieldString;\r\n          this.fieldInteger = fieldInteger;\r\n        }\r\n        \r\n        /**\r\n         * @return the fieldString\r\n         */\r\n        public String getFieldString()\r\n        {\r\n          return this.fieldString;\r\n        }\r\n        \r\n        /**\r\n         * @param fieldString\r\n         *          the fieldString to set\r\n         */\r\n        public void setFieldString( String fieldString )\r\n        {\r\n          this.fieldString = fieldString;\r\n        }\r\n        \r\n        /**\r\n         * @return the fieldInteger\r\n         */\r\n        public int getFieldInteger()\r\n        {\r\n          return this.fieldInteger;\r\n        }\r\n        \r\n        /**\r\n         * @param fieldInteger\r\n         *          the fieldInteger to set\r\n         */\r\n        public void setFieldInteger( int fieldInteger )\r\n        {\r\n          this.fieldInteger = fieldInteger;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode()\r\n        {\r\n          final int prime = 31;\r\n          int result = 1;\r\n          result = prime * result + this.fieldInteger;\r\n          result = prime * result + ( ( this.fieldString == null ) ? 0 : this.fieldString.hashCode() );\r\n          return result;\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals( Object obj )\r\n        {\r\n          if ( this == obj )\r\n          {\r\n            return true;\r\n          }\r\n          if ( obj == null )\r\n          {\r\n            return false;\r\n          }\r\n          if ( !( obj instanceof TestSubEntity ) )\r\n          {\r\n            return false;\r\n          }\r\n          TestSubEntity other = (TestSubEntity) obj;\r\n          if ( this.fieldInteger != other.fieldInteger )\r\n          {\r\n            return false;\r\n          }\r\n          if ( this.fieldString == null )\r\n          {\r\n            if ( other.fieldString != null )\r\n            {\r\n              return false;\r\n            }\r\n          }\r\n          else if ( !this.fieldString.equals( other.fieldString ) )\r\n          {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n        \r\n      }\r\n      \r\n      @XmlRootElement\r\n      @XmlAccessorType(XmlAccessType.FIELD)\r\n      protected static class TestEntity\r\n      {\r\n        @XmlElements({ @XmlElement(name = &quot;int&quot;, type = Integer.class), @XmlElement(name = &quot;string&quot;, type = String.class),\r\n            @XmlElement(name = &quot;testsubentity&quot;, type = TestSubEntity.class), @XmlElement(name = &quot;other&quot;) })\r\n        private List&lt;Object&gt; anyElementList = null;\r\n        \r\n        /**\r\n         * @return the anyElementList\r\n         */\r\n        public List&lt;Object&gt; getAnyElementList()\r\n        {\r\n          return this.anyElementList;\r\n        }\r\n        \r\n        /**\r\n         * @param anyElementList\r\n         *          the anyElementList to set\r\n         */\r\n        public void setAnyElementList( List&lt;Object&gt; anyElementList )\r\n        {\r\n          this.anyElementList = anyElementList;\r\n        }\r\n        \r\n        /* (non-Javadoc)\r\n         * @see java.lang.Object#hashCode()\r\n         */\r\n        @Override\r\n        public int hashCode()\r\n        {\r\n          final int prime = 31;\r\n          int result = 1;\r\n          result = prime * result + ( ( this.anyElementList == null ) ? 0 : this.anyElementList.hashCode() );\r\n          return result;\r\n        }\r\n        \r\n        /* (non-Javadoc)\r\n         * @see java.lang.Object#equals(java.lang.Object)\r\n         */\r\n        @Override\r\n        public boolean equals( Object obj )\r\n        {\r\n          if ( this == obj )\r\n          {\r\n            return true;\r\n          }\r\n          if ( obj == null )\r\n          {\r\n            return false;\r\n          }\r\n          if ( !( obj instanceof TestEntity ) )\r\n          {\r\n            return false;\r\n          }\r\n          TestEntity other = (TestEntity) obj;\r\n          if ( this.anyElementList == null )\r\n          {\r\n            if ( other.anyElementList != null )\r\n            {\r\n              return false;\r\n            }\r\n          }\r\n          else if ( !this.anyElementList.equals( other.anyElementList ) )\r\n          {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n        \r\n      }\r\n      \r\n      @SuppressWarnings(&quot;cast&quot;)\r\n      @Test\r\n      public void test()\r\n      {\r\n        //\r\n        final TestEntity testEntity = new TestEntity();\r\n        \r\n        //\r\n        final List&lt;Object&gt; anyElementList = Arrays.asList( (Object) &quot;a&quot;, Integer.valueOf( 1 ), Boolean.valueOf( true ),\r\n                                                           new TestSubEntity( &quot;field1&quot;, 1 ) );\r\n        testEntity.setAnyElementList( anyElementList );\r\n        \r\n        //\r\n        final String objectAsXML = JAXBXMLHelper.storeObjectAsXML( testEntity );\r\n        System.out.println( objectAsXML );\r\n        \r\n        //\r\n        final TestEntity objectFromXML = JAXBXMLHelper.loadObjectFromXML( objectAsXML, TestEntity.class );\r\n        assertEquals( testEntity, objectFromXML );\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;testEntity&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;int&gt;1&lt;/int&gt;\r\n        &lt;other xsi:type=&quot;xs:boolean&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;true&lt;/other&gt;\r\n        &lt;testsubentity&gt;\r\n            &lt;fieldString&gt;field1&lt;/fieldString&gt;\r\n            &lt;fieldInteger&gt;1&lt;/fieldInteger&gt;\r\n        &lt;/testsubentity&gt;\r\n    &lt;/testEntity&gt;\r\n\r\n\r\n\r\n","title":"JAXB: Can&#39;t unmarshal JAXBElement&lt;?&gt;, getting ElementNSImpl instead","body":"<p>Running example:</p>\n\n<p>(Hint: JAXBHelper are from utils-apl-derived, but are just short forms of you unmarshalling and marshalling routines)</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElements;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\nimport org.junit.Test;\nimport org.omnaest.utils.xml.JAXBXMLHelper;\n\npublic class JAXBAnyElementTest\n{\n  @XmlType\n  @XmlAccessorType(XmlAccessType.FIELD)\n  protected static class TestSubEntity\n  {\n    /* ********************************************** Variables ********************************************** */\n    @XmlElement\n    private String fieldString  = null;\n    @XmlElement\n    private int    fieldInteger = -1;\n\n    /* ********************************************** Methods ********************************************** */\n\n    /**\n     * @see TestSubEntity\n     */\n    public TestSubEntity()\n    {\n      super();\n    }\n\n    /**\n     * @see TestSubEntity\n     * @param fieldString\n     * @param fieldInteger\n     */\n    public TestSubEntity( String fieldString, int fieldInteger )\n    {\n      super();\n      this.fieldString = fieldString;\n      this.fieldInteger = fieldInteger;\n    }\n\n    /**\n     * @return the fieldString\n     */\n    public String getFieldString()\n    {\n      return this.fieldString;\n    }\n\n    /**\n     * @param fieldString\n     *          the fieldString to set\n     */\n    public void setFieldString( String fieldString )\n    {\n      this.fieldString = fieldString;\n    }\n\n    /**\n     * @return the fieldInteger\n     */\n    public int getFieldInteger()\n    {\n      return this.fieldInteger;\n    }\n\n    /**\n     * @param fieldInteger\n     *          the fieldInteger to set\n     */\n    public void setFieldInteger( int fieldInteger )\n    {\n      this.fieldInteger = fieldInteger;\n    }\n\n    @Override\n    public int hashCode()\n    {\n      final int prime = 31;\n      int result = 1;\n      result = prime * result + this.fieldInteger;\n      result = prime * result + ( ( this.fieldString == null ) ? 0 : this.fieldString.hashCode() );\n      return result;\n    }\n\n    @Override\n    public boolean equals( Object obj )\n    {\n      if ( this == obj )\n      {\n        return true;\n      }\n      if ( obj == null )\n      {\n        return false;\n      }\n      if ( !( obj instanceof TestSubEntity ) )\n      {\n        return false;\n      }\n      TestSubEntity other = (TestSubEntity) obj;\n      if ( this.fieldInteger != other.fieldInteger )\n      {\n        return false;\n      }\n      if ( this.fieldString == null )\n      {\n        if ( other.fieldString != null )\n        {\n          return false;\n        }\n      }\n      else if ( !this.fieldString.equals( other.fieldString ) )\n      {\n        return false;\n      }\n      return true;\n    }\n\n  }\n\n  @XmlRootElement\n  @XmlAccessorType(XmlAccessType.FIELD)\n  protected static class TestEntity\n  {\n    @XmlElements({ @XmlElement(name = \"int\", type = Integer.class), @XmlElement(name = \"string\", type = String.class),\n        @XmlElement(name = \"testsubentity\", type = TestSubEntity.class), @XmlElement(name = \"other\") })\n    private List&lt;Object&gt; anyElementList = null;\n\n    /**\n     * @return the anyElementList\n     */\n    public List&lt;Object&gt; getAnyElementList()\n    {\n      return this.anyElementList;\n    }\n\n    /**\n     * @param anyElementList\n     *          the anyElementList to set\n     */\n    public void setAnyElementList( List&lt;Object&gt; anyElementList )\n    {\n      this.anyElementList = anyElementList;\n    }\n\n    /* (non-Javadoc)\n     * @see java.lang.Object#hashCode()\n     */\n    @Override\n    public int hashCode()\n    {\n      final int prime = 31;\n      int result = 1;\n      result = prime * result + ( ( this.anyElementList == null ) ? 0 : this.anyElementList.hashCode() );\n      return result;\n    }\n\n    /* (non-Javadoc)\n     * @see java.lang.Object#equals(java.lang.Object)\n     */\n    @Override\n    public boolean equals( Object obj )\n    {\n      if ( this == obj )\n      {\n        return true;\n      }\n      if ( obj == null )\n      {\n        return false;\n      }\n      if ( !( obj instanceof TestEntity ) )\n      {\n        return false;\n      }\n      TestEntity other = (TestEntity) obj;\n      if ( this.anyElementList == null )\n      {\n        if ( other.anyElementList != null )\n        {\n          return false;\n        }\n      }\n      else if ( !this.anyElementList.equals( other.anyElementList ) )\n      {\n        return false;\n      }\n      return true;\n    }\n\n  }\n\n  @SuppressWarnings(\"cast\")\n  @Test\n  public void test()\n  {\n    //\n    final TestEntity testEntity = new TestEntity();\n\n    //\n    final List&lt;Object&gt; anyElementList = Arrays.asList( (Object) \"a\", Integer.valueOf( 1 ), Boolean.valueOf( true ),\n                                                       new TestSubEntity( \"field1\", 1 ) );\n    testEntity.setAnyElementList( anyElementList );\n\n    //\n    final String objectAsXML = JAXBXMLHelper.storeObjectAsXML( testEntity );\n    System.out.println( objectAsXML );\n\n    //\n    final TestEntity objectFromXML = JAXBXMLHelper.loadObjectFromXML( objectAsXML, TestEntity.class );\n    assertEquals( testEntity, objectFromXML );\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?&gt;\n&lt;testEntity&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;int&gt;1&lt;/int&gt;\n    &lt;other xsi:type=\"xs:boolean\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;true&lt;/other&gt;\n    &lt;testsubentity&gt;\n        &lt;fieldString&gt;field1&lt;/fieldString&gt;\n        &lt;fieldInteger&gt;1&lt;/fieldInteger&gt;\n    &lt;/testsubentity&gt;\n&lt;/testEntity&gt;\n</code></pre>\n"}],"owner":{"account_id":455529,"reputation":1406,"user_id":853728,"accept_rate":60,"display_name":"java.is.for.desktop.indeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695737275,"creation_date":1311247977,"question_id":6775345,"body_markdown":"Related to https://stackoverflow.com/questions/6762115/jaxb-how-to-implement-a-jaxb-compatible-variant-wrapper-class/6765996#6765996, I tried to use `JAXBElement` to represent &quot;variant&quot; or &quot;any-type&quot;.\r\n\r\nMarshalling went fine, but during Unmarshalling, `JAXB` tries to assign `ElementNSImpl` to a `JAXBElement` field.\r\n\r\n##Test Code##\r\n**(copy+paste+run)**\r\n\r\n    import static java.lang.System.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    import javax.xml.bind.*;\r\n    import javax.xml.bind.annotation.*;\r\n    import javax.xml.namespace.*;\r\n    \r\n    import org.junit.*;\r\n    \r\n    public class _JaxbElementProblem {\r\n    \r\n        @XmlRootElement\r\n        @XmlType\r\n        @XmlAccessorType(XmlAccessType.NONE)\r\n        static class MyObject {\r\n    \r\n            public static final QName VARIANT_NAME = new QName(&quot;QQQ&quot;);\r\n    \r\n            @XmlAnyElement(lax = true)\r\n            private JAXBElement&lt;Object&gt; single = null;\r\n            @XmlElementWrapper(name = &quot;elements&quot;)\r\n            @XmlAnyElement(lax = true)\r\n            final List&lt;JAXBElement&lt;Object&gt;&gt; elements =\r\n                    new LinkedList&lt;JAXBElement&lt;Object&gt;&gt;();\r\n    \r\n            @SuppressWarnings(&quot;unused&quot;)\r\n            private MyObject() {\r\n            }\r\n    \r\n            public MyObject(Object o) {\r\n                single = new JAXBElement&lt;Object&gt;(VARIANT_NAME, Object.class, o);\r\n            }\r\n    \r\n            public Object getSingle() {\r\n                return single.getValue();\r\n            }\r\n    \r\n            public List&lt;Object&gt; getElements() {\r\n                List&lt;Object&gt; ret = new LinkedList&lt;Object&gt;();\r\n    \r\n                for (JAXBElement&lt;?&gt; e : elements) {\r\n                    ret.add(e.getValue());\r\n                }\r\n    \r\n                return ret;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;MyObject (single=&quot; + single.getValue() + &quot;; elements: &quot;\r\n                        + getElements() + &quot;)&quot;;\r\n            }\r\n    \r\n        }\r\n    \r\n        private static final JAXBContext C;\r\n        private static final Marshaller M;\r\n        private static final Unmarshaller U;\r\n    \r\n        static {\r\n            try {\r\n                C = JAXBContext.newInstance(MyObject.class);\r\n    \r\n                M = C.createMarshaller();\r\n                U = C.createUnmarshaller();\r\n    \r\n                M.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            } catch (JAXBException ex) {\r\n                throw new Error(ex);\r\n            }\r\n        }\r\n    \r\n        private void testMarshalUnmarshal(Object root) throws Exception {\r\n            out.println(&quot;\\nMARSHALLED - - - - - - - - - - - - - - - - - - - -&quot;);\r\n            StringWriter sw = new StringWriter();\r\n            M.marshal(root, sw);\r\n            out.println(sw.toString() + &quot;\\n&quot;);\r\n    \r\n            out.println(&quot;\\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -&quot;);\r\n            Object reunmarshalled = U.unmarshal(new StringReader(sw.toString()));\r\n            out.println(reunmarshalled + &quot;\\n&quot;);\r\n        }\r\n    \r\n        @Before\r\n        public void before() {\r\n            out.println(&quot;\\n= = = = = = = = = = = = = = = = = = = =&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test1() throws Exception {\r\n            MyObject root = new MyObject(Integer.valueOf(12345));\r\n            testMarshalUnmarshal(root);\r\n        }\r\n    \r\n        @Test\r\n        public void test2() throws Exception {\r\n            MyObject sub = new MyObject(Integer.valueOf(12345));\r\n            MyObject root = new MyObject(sub);\r\n            testMarshalUnmarshal(root);\r\n        }\r\n    \r\n        @Test\r\n        public void test3() throws Exception {\r\n            MyObject oSub = new MyObject(Integer.valueOf(12345));\r\n            List&lt;MyObject&gt; oSubs =\r\n                    Arrays.asList(new MyObject(&quot;sub-1&quot;), new MyObject(&quot;sub-2&quot;),\r\n                            new MyObject(&quot;sub-3&quot;));\r\n    \r\n            MyObject root = new MyObject(oSub);\r\n            for (MyObject o : oSubs) {\r\n                root.elements.add(new JAXBElement&lt;Object&gt;(MyObject.VARIANT_NAME,\r\n                        Object.class, o));\r\n            }\r\n    \r\n            testMarshalUnmarshal(root);\r\n        }\r\n    }\r\n\r\n##Test Output##\r\n**(as you can see, unmarshalling doesn&#39;t take place)**\r\n\r\n\t\r\n\t= = = = = = = = = = = = = = = = = = = =\r\n\t\r\n\tMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;myObject&gt;\r\n\t    &lt;QQQ xsi:type=&quot;xs:int&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;12345&lt;/QQQ&gt;\r\n\t    &lt;elements/&gt;\r\n\t&lt;/myObject&gt;\r\n\t\r\n\t\r\n\t\r\n\tUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t\r\n\t= = = = = = = = = = = = = = = = = = = =\r\n\t\r\n\tMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;myObject&gt;\r\n\t    &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t        &lt;QQQ xsi:type=&quot;xs:int&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;12345&lt;/QQQ&gt;\r\n\t        &lt;elements/&gt;\r\n\t    &lt;/QQQ&gt;\r\n\t    &lt;elements/&gt;\r\n\t&lt;/myObject&gt;\r\n\t\r\n\t\r\n\t\r\n\tUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t\r\n\t= = = = = = = = = = = = = = = = = = = =\r\n\t\r\n\tMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;myObject&gt;\r\n\t    &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t        &lt;QQQ xsi:type=&quot;xs:int&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;12345&lt;/QQQ&gt;\r\n\t        &lt;elements/&gt;\r\n\t    &lt;/QQQ&gt;\r\n\t    &lt;elements&gt;\r\n\t        &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t            &lt;QQQ xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;sub-1&lt;/QQQ&gt;\r\n\t            &lt;elements/&gt;\r\n\t        &lt;/QQQ&gt;\r\n\t        &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t            &lt;QQQ xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;sub-2&lt;/QQQ&gt;\r\n\t            &lt;elements/&gt;\r\n\t        &lt;/QQQ&gt;\r\n\t        &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t            &lt;QQQ xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;sub-3&lt;/QQQ&gt;\r\n\t            &lt;elements/&gt;\r\n\t        &lt;/QQQ&gt;\r\n\t    &lt;/elements&gt;\r\n\t&lt;/myObject&gt;\r\n\t\r\n\t\r\n\t\r\n\tUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\r\n##Unmarshalling Exceptions##\r\n\r\n    java.lang.IllegalArgumentException: Can not set javax.xml.bind.JAXBElement field my._JaxbElementProblem$MyObject.single to com.sun.org.apache.xerces.internal.dom.ElementNSImpl\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:146)\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:150)\r\n\tat sun.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:63)\r\n\tat java.lang.reflect.Field.set(Field.java:657)\r\n\tat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor$FieldReflection.set(Accessor.java:234)\r\n\tat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor.receive(Accessor.java:160)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.endElement(UnmarshallingContext.java:507)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.endElement(SAXConnector.java:145)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2938)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:200)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:173)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:137)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:194)\r\n\tat my._JaxbElementProblem.testMarshalUnmarshal(_JaxbElementProblem.java:84)\r\n\tat my._JaxbElementProblem.test3(_JaxbElementProblem.java:119)\r\n\r\n\r\n","title":"JAXB: Can&#39;t unmarshal JAXBElement&lt;?&gt;, getting ElementNSImpl instead","body":"<p>Related to <a href=\"https://stackoverflow.com/questions/6762115/jaxb-how-to-implement-a-jaxb-compatible-variant-wrapper-class/6765996#6765996\">JAXB: How to implement a JAXB-compatible variant wrapper class?</a>, I tried to use <code>JAXBElement</code> to represent \"variant\" or \"any-type\".</p>\n\n<p>Marshalling went fine, but during Unmarshalling, <code>JAXB</code> tries to assign <code>ElementNSImpl</code> to a <code>JAXBElement</code> field.</p>\n\n<h2>Test Code</h2>\n\n<p><strong>(copy+paste+run)</strong></p>\n\n<pre><code>import static java.lang.System.*;\nimport java.io.*;\nimport java.util.*;\n\nimport javax.xml.bind.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.namespace.*;\n\nimport org.junit.*;\n\npublic class _JaxbElementProblem {\n\n    @XmlRootElement\n    @XmlType\n    @XmlAccessorType(XmlAccessType.NONE)\n    static class MyObject {\n\n        public static final QName VARIANT_NAME = new QName(\"QQQ\");\n\n        @XmlAnyElement(lax = true)\n        private JAXBElement&lt;Object&gt; single = null;\n        @XmlElementWrapper(name = \"elements\")\n        @XmlAnyElement(lax = true)\n        final List&lt;JAXBElement&lt;Object&gt;&gt; elements =\n                new LinkedList&lt;JAXBElement&lt;Object&gt;&gt;();\n\n        @SuppressWarnings(\"unused\")\n        private MyObject() {\n        }\n\n        public MyObject(Object o) {\n            single = new JAXBElement&lt;Object&gt;(VARIANT_NAME, Object.class, o);\n        }\n\n        public Object getSingle() {\n            return single.getValue();\n        }\n\n        public List&lt;Object&gt; getElements() {\n            List&lt;Object&gt; ret = new LinkedList&lt;Object&gt;();\n\n            for (JAXBElement&lt;?&gt; e : elements) {\n                ret.add(e.getValue());\n            }\n\n            return ret;\n        }\n\n        @Override\n        public String toString() {\n            return \"MyObject (single=\" + single.getValue() + \"; elements: \"\n                    + getElements() + \")\";\n        }\n\n    }\n\n    private static final JAXBContext C;\n    private static final Marshaller M;\n    private static final Unmarshaller U;\n\n    static {\n        try {\n            C = JAXBContext.newInstance(MyObject.class);\n\n            M = C.createMarshaller();\n            U = C.createUnmarshaller();\n\n            M.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        } catch (JAXBException ex) {\n            throw new Error(ex);\n        }\n    }\n\n    private void testMarshalUnmarshal(Object root) throws Exception {\n        out.println(\"\\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\");\n        StringWriter sw = new StringWriter();\n        M.marshal(root, sw);\n        out.println(sw.toString() + \"\\n\");\n\n        out.println(\"\\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\");\n        Object reunmarshalled = U.unmarshal(new StringReader(sw.toString()));\n        out.println(reunmarshalled + \"\\n\");\n    }\n\n    @Before\n    public void before() {\n        out.println(\"\\n= = = = = = = = = = = = = = = = = = = =\");\n    }\n\n    @Test\n    public void test1() throws Exception {\n        MyObject root = new MyObject(Integer.valueOf(12345));\n        testMarshalUnmarshal(root);\n    }\n\n    @Test\n    public void test2() throws Exception {\n        MyObject sub = new MyObject(Integer.valueOf(12345));\n        MyObject root = new MyObject(sub);\n        testMarshalUnmarshal(root);\n    }\n\n    @Test\n    public void test3() throws Exception {\n        MyObject oSub = new MyObject(Integer.valueOf(12345));\n        List&lt;MyObject&gt; oSubs =\n                Arrays.asList(new MyObject(\"sub-1\"), new MyObject(\"sub-2\"),\n                        new MyObject(\"sub-3\"));\n\n        MyObject root = new MyObject(oSub);\n        for (MyObject o : oSubs) {\n            root.elements.add(new JAXBElement&lt;Object&gt;(MyObject.VARIANT_NAME,\n                    Object.class, o));\n        }\n\n        testMarshalUnmarshal(root);\n    }\n}\n</code></pre>\n\n<h2>Test Output</h2>\n\n<p><strong>(as you can see, unmarshalling doesn't take place)</strong></p>\n\n<pre><code>= = = = = = = = = = = = = = = = = = = =\n\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;myObject&gt;\n    &lt;QQQ xsi:type=\"xs:int\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;12345&lt;/QQQ&gt;\n    &lt;elements/&gt;\n&lt;/myObject&gt;\n\n\n\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\n\n= = = = = = = = = = = = = = = = = = = =\n\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;myObject&gt;\n    &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n        &lt;QQQ xsi:type=\"xs:int\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;12345&lt;/QQQ&gt;\n        &lt;elements/&gt;\n    &lt;/QQQ&gt;\n    &lt;elements/&gt;\n&lt;/myObject&gt;\n\n\n\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\n\n= = = = = = = = = = = = = = = = = = = =\n\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;myObject&gt;\n    &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n        &lt;QQQ xsi:type=\"xs:int\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;12345&lt;/QQQ&gt;\n        &lt;elements/&gt;\n    &lt;/QQQ&gt;\n    &lt;elements&gt;\n        &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;QQQ xsi:type=\"xs:string\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;sub-1&lt;/QQQ&gt;\n            &lt;elements/&gt;\n        &lt;/QQQ&gt;\n        &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;QQQ xsi:type=\"xs:string\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;sub-2&lt;/QQQ&gt;\n            &lt;elements/&gt;\n        &lt;/QQQ&gt;\n        &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;QQQ xsi:type=\"xs:string\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;sub-3&lt;/QQQ&gt;\n            &lt;elements/&gt;\n        &lt;/QQQ&gt;\n    &lt;/elements&gt;\n&lt;/myObject&gt;\n\n\n\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\n</code></pre>\n\n<h2>Unmarshalling Exceptions</h2>\n\n<pre><code>java.lang.IllegalArgumentException: Can not set javax.xml.bind.JAXBElement field my._JaxbElementProblem$MyObject.single to com.sun.org.apache.xerces.internal.dom.ElementNSImpl\nat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:146)\nat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:150)\nat sun.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:63)\nat java.lang.reflect.Field.set(Field.java:657)\nat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor$FieldReflection.set(Accessor.java:234)\nat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor.receive(Accessor.java:160)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.endElement(UnmarshallingContext.java:507)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.endElement(SAXConnector.java:145)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2938)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:200)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:173)\nat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:137)\nat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:194)\nat my._JaxbElementProblem.testMarshalUnmarshal(_JaxbElementProblem.java:84)\nat my._JaxbElementProblem.test3(_JaxbElementProblem.java:119)\n</code></pre>\n"},{"tags":["java","spring","generics","jackson","resttemplate"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1393349246,"post_id":21987295,"comment_id":33381870,"body_markdown":"You should always be able to comment on answers to your questions. The proposed solution works like this. You create a `Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;`. You add pre-constructed `ParameterizedTypeReference` instances for actual types you expect to the `Map` for the corresponding `Class`.","body":"You should always be able to comment on answers to your questions. The proposed solution works like this. You create a <code>Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;</code>. You add pre-constructed <code>ParameterizedTypeReference</code> instances for actual types you expect to the <code>Map</code> for the corresponding <code>Class</code>."},{"owner":{"account_id":1877920,"reputation":451,"user_id":1698727,"display_name":"wesm"},"score":0,"creation_date":1438211289,"post_id":21987295,"comment_id":51363172,"body_markdown":"@SotiriosDelimanolis - Can you rephrase for someone that&#39;s new to Java? I&#39;m coming from a C# background, so this has been quite the interesting experience for me.","body":"@SotiriosDelimanolis - Can you rephrase for someone that&#39;s new to Java? I&#39;m coming from a C# background, so this has been quite the interesting experience for me."}],"answers":[{"comments":[{"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"score":1,"creation_date":1498834518,"post_id":21988799,"comment_id":76679342,"body_markdown":"But he is hardcoded the class({MyClass.class}) i want to pass the class as dynamic also it can be List&lt;MyClass.class&gt; in my case...Your suggestion is appreciated.","body":"But he is hardcoded the class({MyClass.class}) i want to pass the class as dynamic also it can be List&lt;MyClass.class&gt; in my case...Your suggestion is appreciated."},{"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"score":0,"creation_date":1498834740,"post_id":21988799,"comment_id":76679497,"body_markdown":"Also what is the drawback for this answer(https://stackoverflow.com/a/41629503/3656056) It works fine for CustomObject&lt;T&gt; but fails for CustomObject&lt;List&lt;T&gt;&gt;","body":"Also what is the drawback for this answer(<a href=\"https://stackoverflow.com/a/41629503/3656056\">stackoverflow.com/a/41629503/3656056</a>) It works fine for CustomObject&lt;T&gt; but fails for CustomObject&lt;List&lt;T&gt;&gt;"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1498835292,"post_id":21988799,"comment_id":76679824,"body_markdown":"@VelNaga There is no `Class` object for `List&lt;MyClass&gt;`, such a thing does not exist. There can be a `ParameterizedType` for `List&lt;MyClass&gt;` but you either have to construct it yourself or use the type token trick.","body":"@VelNaga There is no <code>Class</code> object for <code>List&lt;MyClass&gt;</code>, such a thing does not exist. There can be a <code>ParameterizedType</code> for <code>List&lt;MyClass&gt;</code> but you either have to construct it yourself or use the type token trick."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1498835367,"post_id":21988799,"comment_id":76679853,"body_markdown":"@VelNaga That solution fails for the same reason your attempt did, `List&lt;MyClass&gt;` doesn&#39;t exist. Since their method accepts a `Class` argument, they can only &quot;nest&quot; one type argument.","body":"@VelNaga That solution fails for the same reason your attempt did, <code>List&lt;MyClass&gt;</code> doesn&#39;t exist. Since their method accepts a <code>Class</code> argument, they can only &quot;nest&quot; one type argument."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1498835407,"post_id":21988799,"comment_id":76679876,"body_markdown":"@VelNaga `TypeToken` in Gson, `TypeReference` in Jackson, `ParameterizedTypeReference` in `RestTemplate`, it&#39;s all the same pattern, called _type token_.","body":"@VelNaga <code>TypeToken</code> in Gson, <code>TypeReference</code> in Jackson, <code>ParameterizedTypeReference</code> in <code>RestTemplate</code>, it&#39;s all the same pattern, called <i>type token</i>."},{"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"score":0,"creation_date":1498835431,"post_id":21988799,"comment_id":76679890,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/148070/discussion-between-velnaga-and-sotirios-delimanolis).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/148070/discussion-between-velnaga-and-sotirios-delimanolis\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":6,"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1498834037,"creation_date":1393247462,"answer_id":21988799,"question_id":21987295,"body_markdown":"No, it is not a bug. It is a result of how the `ParameterizedTypeReference` hack works. \r\n\r\nIf you look at its implementation, it uses [`Class#getGenericSuperclass()`][1] which states\r\n\r\n&gt; Returns the Type representing the direct superclass of the entity\r\n&gt; (class, interface, primitive type or void) represented by this Class.\r\n&gt; \r\n&gt; If the superclass is a parameterized type, **the `Type` object returned\r\n&gt; must accurately reflect the actual type parameters used in the source\r\n&gt; code.**\r\n\r\nSo, if you use \r\n\r\n    new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {}\r\n\r\nit will accurately return a `Type` for `ResponseWrapper&lt;MyClass&gt;`. \r\n\r\nIf you use \r\n\r\n    new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {}\r\n\r\nit will accurately return a `Type` for `ResponseWrapper&lt;T&gt;` because that is how it appears in the source code.\r\n\r\nWhen Spring sees `T`, which is actually a `TypeVariable` object, it doesn&#39;t know the type to use, so it uses its default.\r\n\r\nYou cannot use `ParameterizedTypeReference` the way you are proposing, making it generic in the sense of accepting any type. Consider writing a `Map` with key `Class` mapped to a predefined `ParameterizedTypeReference` for that class.\r\n\r\nYou can subclass `ParameterizedTypeReference` and override its `getType` method to return an appropriately created `ParameterizedType`, [as suggested by IonSpin][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getGenericSuperclass%28%29\r\n  [2]: https://stackoverflow.com/a/29547365/438154","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>No, it is not a bug. It is a result of how the <code>ParameterizedTypeReference</code> hack works. </p>\n\n<p>If you look at its implementation, it uses <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getGenericSuperclass%28%29\" rel=\"noreferrer\"><code>Class#getGenericSuperclass()</code></a> which states</p>\n\n<blockquote>\n  <p>Returns the Type representing the direct superclass of the entity\n  (class, interface, primitive type or void) represented by this Class.</p>\n  \n  <p>If the superclass is a parameterized type, <strong>the <code>Type</code> object returned\n  must accurately reflect the actual type parameters used in the source\n  code.</strong></p>\n</blockquote>\n\n<p>So, if you use </p>\n\n<pre><code>new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {}\n</code></pre>\n\n<p>it will accurately return a <code>Type</code> for <code>ResponseWrapper&lt;MyClass&gt;</code>. </p>\n\n<p>If you use </p>\n\n<pre><code>new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {}\n</code></pre>\n\n<p>it will accurately return a <code>Type</code> for <code>ResponseWrapper&lt;T&gt;</code> because that is how it appears in the source code.</p>\n\n<p>When Spring sees <code>T</code>, which is actually a <code>TypeVariable</code> object, it doesn't know the type to use, so it uses its default.</p>\n\n<p>You cannot use <code>ParameterizedTypeReference</code> the way you are proposing, making it generic in the sense of accepting any type. Consider writing a <code>Map</code> with key <code>Class</code> mapped to a predefined <code>ParameterizedTypeReference</code> for that class.</p>\n\n<p>You can subclass <code>ParameterizedTypeReference</code> and override its <code>getType</code> method to return an appropriately created <code>ParameterizedType</code>, <a href=\"https://stackoverflow.com/a/29547365/438154\">as suggested by IonSpin</a>.</p>\n"},{"comments":[{"owner":{"account_id":2233448,"reputation":1503,"user_id":1970487,"accept_rate":56,"display_name":"Cristina_eGold"},"score":0,"creation_date":1433860549,"post_id":29547365,"comment_id":49526477,"body_markdown":"The ParameterizedTypeImpl class in the JDK has private access on its constructor and no setters. Have you used a library for this? I can&#39;t see any way of instantiating that class without reflection...","body":"The ParameterizedTypeImpl class in the JDK has private access on its constructor and no setters. Have you used a library for this? I can&#39;t see any way of instantiating that class without reflection..."},{"owner":{"account_id":66988,"reputation":1254,"user_id":196263,"display_name":"IonSpin"},"score":0,"creation_date":1433861845,"post_id":29547365,"comment_id":49527559,"body_markdown":"I copied the ParametrizedTypeImpl implementation from Google Gson project, the link is in the answer, and also here again http://code.google.com/p/google-gson/source/browse/trunk/gson/src/main/java/com/google/gson/ParameterizedTypeImpl.java?r=597 :)","body":"I copied the ParametrizedTypeImpl implementation from Google Gson project, the link is in the answer, and also here again <a href=\"http://code.google.com/p/google-gson/source/browse/trunk/gson/src/main/java/com/google/gson/ParameterizedTypeImpl.java?r=597\" rel=\"nofollow noreferrer\">code.google.com/p/google-gson/source/browse/trunk/gson/src/m&zwnj;&#8203;ain/&hellip;</a> :)"},{"owner":{"account_id":2233448,"reputation":1503,"user_id":1970487,"accept_rate":56,"display_name":"Cristina_eGold"},"score":1,"creation_date":1433862528,"post_id":29547365,"comment_id":49528067,"body_markdown":"Ah, sorry, you are completely right. Thanks a bunch! :)","body":"Ah, sorry, you are completely right. Thanks a bunch! :)"},{"owner":{"account_id":154559,"reputation":1436,"user_id":370576,"display_name":"loyalBrown"},"score":0,"creation_date":1443524671,"post_id":29547365,"comment_id":53518848,"body_markdown":"Also, the ParameterizedTypeImpl class in the JDK has a private constructor because its meant to be used as a singleton. Its API has a make method you can use to create a ParameterizedType.","body":"Also, the ParameterizedTypeImpl class in the JDK has a private constructor because its meant to be used as a singleton. Its API has a make method you can use to create a ParameterizedType."}],"tags":[],"owner":{"account_id":66988,"reputation":1254,"user_id":196263,"display_name":"IonSpin"},"comment_count":4,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1428608045,"creation_date":1428608045,"answer_id":29547365,"question_id":21987295,"body_markdown":"As Sotirios explains, you can not use the `ParameterizedTypeReference`, but ParameterizedTypeReference is used only to provide `Type` to the object mapper, and as you have the class that is removed when type erasure happens, you can create your own [`ParameterizedType`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html) and pass that to `RestTemplate`, so that the object mapper can reconstruct the object you need.\r\n\r\nFirst you need to have the ParameterizedType interface implemented, you can find an implementation in Google Gson project [here](http://code.google.com/p/google-gson/source/browse/trunk/gson/src/main/java/com/google/gson/ParameterizedTypeImpl.java?r=597). \r\nOnce you add the implementation to your project, you can extend the abstract `ParameterizedTypeReference` like this:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class FakeParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\r\n        \r\n    @Override\r\n    public Type getType() {\r\n        Type [] responseWrapperActualTypes = {MyClass.class};\r\n        ParameterizedType responseWrapperType = new ParameterizedTypeImpl(\r\n            ResponseWrapper.class,\r\n            responseWrapperActualTypes,\r\n            null\r\n            );\r\n        return responseWrapperType;\r\n        }\r\n    }\r\nAnd then you can pass that to your exchange function:\r\n\r\n    template.exchange(\r\n        uri,\r\n        HttpMethod.POST,\r\n        null,\r\n        new FakeParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;());\r\nWith all the type information present object mapper will properly construct your `ResponseWrapper&lt;MyClass&gt;` object","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>As Sotirios explains, you can not use the <code>ParameterizedTypeReference</code>, but ParameterizedTypeReference is used only to provide <code>Type</code> to the object mapper, and as you have the class that is removed when type erasure happens, you can create your own <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html\" rel=\"noreferrer\"><code>ParameterizedType</code></a> and pass that to <code>RestTemplate</code>, so that the object mapper can reconstruct the object you need.</p>\n\n<p>First you need to have the ParameterizedType interface implemented, you can find an implementation in Google Gson project <a href=\"http://code.google.com/p/google-gson/source/browse/trunk/gson/src/main/java/com/google/gson/ParameterizedTypeImpl.java?r=597\" rel=\"noreferrer\">here</a>. \nOnce you add the implementation to your project, you can extend the abstract <code>ParameterizedTypeReference</code> like this:\n</p>\n\n<pre><code>class FakeParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\n\n@Override\npublic Type getType() {\n    Type [] responseWrapperActualTypes = {MyClass.class};\n    ParameterizedType responseWrapperType = new ParameterizedTypeImpl(\n        ResponseWrapper.class,\n        responseWrapperActualTypes,\n        null\n        );\n    return responseWrapperType;\n    }\n}\n</code></pre>\n\n<p>And then you can pass that to your exchange function:</p>\n\n<pre><code>template.exchange(\n    uri,\n    HttpMethod.POST,\n    null,\n    new FakeParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;());\n</code></pre>\n\n<p>With all the type information present object mapper will properly construct your <code>ResponseWrapper&lt;MyClass&gt;</code> object</p>\n"},{"comments":[{"owner":{"account_id":2234761,"reputation":350,"user_id":2086033,"accept_rate":83,"display_name":"ankit"},"score":0,"creation_date":1471670484,"post_id":37077555,"comment_id":65450862,"body_markdown":"I like this solution the best. But what is &quot;clazz&quot;? I guess it in terms of T somehow, but I&#39;m not able to express it...","body":"I like this solution the best. But what is &quot;clazz&quot;? I guess it in terms of T somehow, but I&#39;m not able to express it..."},{"owner":{"account_id":8393238,"reputation":31,"user_id":6301307,"display_name":"Dilettante44"},"score":0,"creation_date":1471982657,"post_id":37077555,"comment_id":65566871,"body_markdown":"the ObjectMapper&#39;s factory&#39;s constructCollectionType method takes two inputs, the first one is a Collection class, the second one (which I labeled &quot;clazz&quot;) is the class of the objects contained in the aforementioned Collection class.","body":"the ObjectMapper&#39;s factory&#39;s constructCollectionType method takes two inputs, the first one is a Collection class, the second one (which I labeled &quot;clazz&quot;) is the class of the objects contained in the aforementioned Collection class."}],"tags":[],"owner":{"account_id":8393238,"reputation":31,"user_id":6301307,"display_name":"Dilettante44"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462553189,"creation_date":1462553189,"answer_id":37077555,"question_id":21987295,"body_markdown":"I have another way to do this... suppose you swap out your message converter to String for your RestTemplate, then you can receive raw JSON.  Using the raw JSON, you can then map it into your Generic Collection using a Jackson Object Mapper.  Here&#39;s how:\r\n\r\nSwap out the message converter:\r\n\r\n\t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; oldConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n\t\toldConverters.addAll(template.getMessageConverters());\r\n\t\t\r\n\t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; stringConverter = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n\t\tstringConverter.add(new StringHttpMessageConverter());\r\n\t\t\r\n\t\ttemplate.setMessageConverters(stringConverter);\r\n\r\nThen get your JSON response like this:\r\n\r\n        ResponseEntity&lt;String&gt; response = template.exchange(uri, HttpMethod.GET, null, String.class);\r\n\r\nProcess the response like this:\r\n\r\n         String body = null;\r\n         List&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n         ObjectMapper mapper = new ObjectMapper();\r\n\r\n         if (response.hasBody()) {\r\n            body = items.getBody();\r\n            try {\r\n                result = mapper.readValue(body, mapper.getTypeFactory().constructCollectionType(List.class, clazz));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                template.setMessageConverters(oldConverters);\r\n            }\r\n            ...\r\n            ","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I have another way to do this... suppose you swap out your message converter to String for your RestTemplate, then you can receive raw JSON.  Using the raw JSON, you can then map it into your Generic Collection using a Jackson Object Mapper.  Here's how:</p>\n\n<p>Swap out the message converter:</p>\n\n<pre><code>    List&lt;HttpMessageConverter&lt;?&gt;&gt; oldConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    oldConverters.addAll(template.getMessageConverters());\n\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; stringConverter = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    stringConverter.add(new StringHttpMessageConverter());\n\n    template.setMessageConverters(stringConverter);\n</code></pre>\n\n<p>Then get your JSON response like this:</p>\n\n<pre><code>    ResponseEntity&lt;String&gt; response = template.exchange(uri, HttpMethod.GET, null, String.class);\n</code></pre>\n\n<p>Process the response like this:</p>\n\n<pre><code>     String body = null;\n     List&lt;T&gt; result = new ArrayList&lt;T&gt;();\n     ObjectMapper mapper = new ObjectMapper();\n\n     if (response.hasBody()) {\n        body = items.getBody();\n        try {\n            result = mapper.readValue(body, mapper.getTypeFactory().constructCollectionType(List.class, clazz));\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            template.setMessageConverters(oldConverters);\n        }\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861088,"reputation":177,"user_id":1685666,"display_name":"Ginkobonsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479837335,"creation_date":1479837335,"answer_id":40748550,"question_id":21987295,"body_markdown":"*Note: This answer refers/adds to Sotirios Delimanolis&#39;s answer and comment.*\r\n\r\nI tried to get it to work with `Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;`, as indicated in Sotirios&#39;s comment, but couldn&#39;t without an example.\r\n\r\nIn the end, I dropped the wildcard and parametrisation from ParameterizedTypeReference and used raw types instead, like so\r\n\r\n\r\n    Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&gt; typeReferences = new HashMap&lt;&gt;();\r\n    typeReferences.put(MyClass1.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass1&gt;&gt;() { });\r\n    typeReferences.put(MyClass2.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass2&gt;&gt;() { });\r\n\r\n    ...\r\n\r\n    ParameterizedTypeReference typeRef = typeReferences.get(clazz);\r\n\r\n    ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = restTemplate.exchange(\r\n            uri, \r\n            HttpMethod.GET, \r\n            null, \r\n            typeRef);\r\n\r\nand this finally worked.\r\n\r\nIf anyone has an example with parametrisation, I&#39;d be very grateful to see it.","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p><em>Note: This answer refers/adds to Sotirios Delimanolis's answer and comment.</em></p>\n\n<p>I tried to get it to work with <code>Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;</code>, as indicated in Sotirios's comment, but couldn't without an example.</p>\n\n<p>In the end, I dropped the wildcard and parametrisation from ParameterizedTypeReference and used raw types instead, like so</p>\n\n<pre><code>Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&gt; typeReferences = new HashMap&lt;&gt;();\ntypeReferences.put(MyClass1.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass1&gt;&gt;() { });\ntypeReferences.put(MyClass2.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass2&gt;&gt;() { });\n\n...\n\nParameterizedTypeReference typeRef = typeReferences.get(clazz);\n\nResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = restTemplate.exchange(\n        uri, \n        HttpMethod.GET, \n        null, \n        typeRef);\n</code></pre>\n\n<p>and this finally worked.</p>\n\n<p>If anyone has an example with parametrisation, I'd be very grateful to see it.</p>\n"},{"comments":[{"owner":{"account_id":3169370,"reputation":1355,"user_id":2678716,"accept_rate":92,"display_name":"Rav"},"score":3,"creation_date":1484294156,"post_id":41629503,"comment_id":70459660,"body_markdown":"An explanation is needed for your code. Please review SO&#39;s policies on how-to-answer.","body":"An explanation is needed for your code. Please review SO&#39;s policies on how-to-answer."},{"owner":{"account_id":2012488,"reputation":581,"user_id":1800622,"display_name":"Gon&#231;alo"},"score":1,"creation_date":1485512014,"post_id":41629503,"comment_id":70964982,"body_markdown":"In fact this is the best/simplest answer i&#39;ve seen so far. You just need to use the MyParameterizedTypeImpl as showed and you don&#39;t need the static Map with the actual types and wrappers of type. Of course the class must be passed in method or constructor.","body":"In fact this is the best/simplest answer i&#39;ve seen so far. You just need to use the MyParameterizedTypeImpl as showed and you don&#39;t need the static Map with the actual types and wrappers of type. Of course the class must be passed in method or constructor."},{"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"score":0,"creation_date":1498834824,"post_id":41629503,"comment_id":76679549,"body_markdown":"Hi,Thanks for your answer it works for CustomObject&lt;T&gt; but it fails for CustomObject&lt;List&lt;T&gt;&gt; could you please help me to resolve the issue for CustomObject&lt;List&lt;T&gt;&gt;","body":"Hi,Thanks for your answer it works for CustomObject&lt;T&gt; but it fails for CustomObject&lt;List&lt;T&gt;&gt; could you please help me to resolve the issue for CustomObject&lt;List&lt;T&gt;&gt;"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1498835500,"post_id":41629503,"comment_id":76679937,"body_markdown":"This answer is poorly explained and the solution is limited. The fact that you use a `Class&lt;T&gt;` parameter limits the solution to non-generic types.","body":"This answer is poorly explained and the solution is limited. The fact that you use a <code>Class&lt;T&gt;</code> parameter limits the solution to non-generic types."},{"owner":{"account_id":9137518,"reputation":1496,"user_id":11945290,"display_name":"Ayman Arif"},"score":0,"creation_date":1592451567,"post_id":41629503,"comment_id":110431879,"body_markdown":"I am getting the following error for RestTemplate `java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.reflect.ParameterizedType`","body":"I am getting the following error for RestTemplate <code>java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.reflect.ParameterizedType</code>"}],"tags":[],"owner":{"account_id":10025239,"reputation":229,"user_id":7413583,"display_name":"김원겸"},"comment_count":5,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1484300443,"creation_date":1484292854,"answer_id":41629503,"question_id":21987295,"body_markdown":"   As the code below shows it, it works.\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, final Class&lt;T&gt; clazz) {\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {\r\n                public Type getType() {\r\n\t\t\t\t    return new MyParameterizedTypeImpl((ParameterizedType) super.getType(), new Type[] {clazz});\r\n\t\t\t}\r\n        });\r\n        return response;\r\n    }\r\n\r\n    public class MyParameterizedTypeImpl implements ParameterizedType {\r\n\t\tprivate ParameterizedType delegate;\r\n\t\tprivate Type[] actualTypeArguments;\r\n\t\t\r\n\t\tMyParameterizedTypeImpl(ParameterizedType delegate, Type[] actualTypeArguments) {\r\n\t\t\tthis.delegate = delegate;\r\n\t\t\tthis.actualTypeArguments = actualTypeArguments;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Type[] getActualTypeArguments() {\r\n\t\t\treturn actualTypeArguments;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Type getRawType() {\r\n\t\t\treturn delegate.getRawType();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Type getOwnerType() {\r\n\t\t\treturn delegate.getOwnerType();\r\n\t\t}\r\n\t\t\r\n\t}","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>As the code below shows it, it works.</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, final Class&lt;T&gt; clazz) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {\n            public Type getType() {\n                return new MyParameterizedTypeImpl((ParameterizedType) super.getType(), new Type[] {clazz});\n        }\n    });\n    return response;\n}\n\npublic class MyParameterizedTypeImpl implements ParameterizedType {\n    private ParameterizedType delegate;\n    private Type[] actualTypeArguments;\n\n    MyParameterizedTypeImpl(ParameterizedType delegate, Type[] actualTypeArguments) {\n        this.delegate = delegate;\n        this.actualTypeArguments = actualTypeArguments;\n    }\n\n    @Override\n    public Type[] getActualTypeArguments() {\n        return actualTypeArguments;\n    }\n\n    @Override\n    public Type getRawType() {\n        return delegate.getRawType();\n    }\n\n    @Override\n    public Type getOwnerType() {\n        return delegate.getOwnerType();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1117508,"reputation":774,"user_id":2907667,"accept_rate":75,"display_name":"Ken Pronovici"},"score":1,"creation_date":1532040481,"post_id":46871312,"comment_id":89836228,"body_markdown":"This worked well for my use case, which was a generic mechanism to parse paginated data using a GitHub-style Link header.  It gave me a way to create a valid type to pass into a Spring HttpMessageConverterExtractor, letting me keep the interface to my class generic.","body":"This worked well for my use case, which was a generic mechanism to parse paginated data using a GitHub-style Link header.  It gave me a way to create a valid type to pass into a Spring HttpMessageConverterExtractor, letting me keep the interface to my class generic."},{"owner":{"account_id":4859907,"reputation":345,"user_id":3919856,"accept_rate":69,"display_name":"Tony Falabella"},"score":0,"creation_date":1598541070,"post_id":46871312,"comment_id":112498540,"body_markdown":"What a great solution!  Worked like a charm.","body":"What a great solution!  Worked like a charm."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1599534890,"post_id":46871312,"comment_id":112795303,"body_markdown":"As of Spring 4.3.12, you can use `ParameterizedTypeReference.forType(typeToken.getType())`.","body":"As of Spring 4.3.12, you can use <code>ParameterizedTypeReference.forType(typeToken.getType())</code>."}],"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508655174,"creation_date":1508655174,"answer_id":46871312,"question_id":21987295,"body_markdown":"Actually, you can do this, but with additional code.\r\n\r\nThere is [Guava](https://github.com/google/guava) equivalent of [ParameterizedTypeReference](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html) and it&#39;s called [TypeToken](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/reflect/TypeToken.html).\r\n\r\nGuava&#39;s class is much more powerful then Spring&#39;s equivalent.\r\nYou can compose the TypeTokens as you wish.\r\nFor example:\r\n\r\n    static &lt;K, V&gt; TypeToken&lt;Map&lt;K, V&gt;&gt; mapToken(TypeToken&lt;K&gt; keyToken, TypeToken&lt;V&gt; valueToken) {\r\n      return new TypeToken&lt;Map&lt;K, V&gt;&gt;() {}\r\n        .where(new TypeParameter&lt;K&gt;() {}, keyToken)\r\n        .where(new TypeParameter&lt;V&gt;() {}, valueToken);\r\n    }\r\n\r\nIf you call `mapToken(TypeToken.of(String.class), TypeToken.of(BigInteger.class));` you will create `TypeToken&lt;Map&lt;String, BigInteger&gt;&gt;`!\r\n\r\nThe only disadvantage here is that many Spring APIs require `ParameterizedTypeReference` and not `TypeToken`. But we can create `ParameterizedTypeReference` implementation which is adapter to `TypeToken` itself.\r\n\r\n    import com.google.common.reflect.TypeToken;\r\n    import org.springframework.core.ParameterizedTypeReference;\r\n    \r\n    import java.lang.reflect.Type;\r\n    \r\n    public class ParameterizedTypeReferenceBuilder {\r\n    \r\n    \tpublic static &lt;T&gt; ParameterizedTypeReference&lt;T&gt; fromTypeToken(TypeToken&lt;T&gt; typeToken) {\r\n    \t\treturn new TypeTokenParameterizedTypeReference&lt;&gt;(typeToken);\r\n    \t}\r\n    \r\n    \tprivate static class TypeTokenParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\r\n    \r\n    \t\tprivate final Type type;\r\n    \r\n    \t\tprivate TypeTokenParameterizedTypeReference(TypeToken&lt;T&gt; typeToken) {\r\n    \t\t\tthis.type = typeToken.getType();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Type getType() {\r\n    \t\t\treturn type;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\treturn (this == obj || (obj instanceof ParameterizedTypeReference &amp;&amp;\r\n    \t\t\t\t\tthis.type.equals(((ParameterizedTypeReference&lt;?&gt;) obj).getType())));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\treturn this.type.hashCode();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;ParameterizedTypeReference&lt;&quot; + this.type + &quot;&gt;&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThen you can use it like this:\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\r\n       ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\r\n               ParameterizedTypeReferenceBuilder.fromTypeToken(\r\n                   new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\r\n                       .where(new TypeParameter&lt;T&gt;() {}, clazz));\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            responseTypeRef);\r\n        return response;\r\n    }\r\n\r\nAnd call it like:\r\n\r\n    ResponseWrapper&lt;MyClass&gt; result = makeRequest(uri, MyClass.class);\r\n\r\nAnd the response body will be correctly deserialized as `ResponseWrapper&lt;MyClass&gt;`!\r\n\r\nYou can even use more complex types if you rewrite your generic request method (or overload it) like this:\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, TypeToken&lt;T&gt; resultTypeToken) {\r\n       ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\r\n               ParameterizedTypeReferenceBuilder.fromTypeToken(\r\n                   new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\r\n                       .where(new TypeParameter&lt;T&gt;() {}, resultTypeToken));\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            responseTypeRef);\r\n        return response;\r\n    }\r\n\r\nThis way `T` can be complex type, like `List&lt;MyClass&gt;`.\r\n\r\nAnd call it like:\r\n\r\n    ResponseWrapper&lt;List&lt;MyClass&gt;&gt; result = makeRequest(uri, new TypeToken&lt;List&lt;MyClass&gt;&gt;() {});\r\n","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>Actually, you can do this, but with additional code.</p>\n\n<p>There is <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> equivalent of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"noreferrer\">ParameterizedTypeReference</a> and it's called <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/reflect/TypeToken.html\" rel=\"noreferrer\">TypeToken</a>.</p>\n\n<p>Guava's class is much more powerful then Spring's equivalent.\nYou can compose the TypeTokens as you wish.\nFor example:</p>\n\n<pre><code>static &lt;K, V&gt; TypeToken&lt;Map&lt;K, V&gt;&gt; mapToken(TypeToken&lt;K&gt; keyToken, TypeToken&lt;V&gt; valueToken) {\n  return new TypeToken&lt;Map&lt;K, V&gt;&gt;() {}\n    .where(new TypeParameter&lt;K&gt;() {}, keyToken)\n    .where(new TypeParameter&lt;V&gt;() {}, valueToken);\n}\n</code></pre>\n\n<p>If you call <code>mapToken(TypeToken.of(String.class), TypeToken.of(BigInteger.class));</code> you will create <code>TypeToken&lt;Map&lt;String, BigInteger&gt;&gt;</code>!</p>\n\n<p>The only disadvantage here is that many Spring APIs require <code>ParameterizedTypeReference</code> and not <code>TypeToken</code>. But we can create <code>ParameterizedTypeReference</code> implementation which is adapter to <code>TypeToken</code> itself.</p>\n\n<pre><code>import com.google.common.reflect.TypeToken;\nimport org.springframework.core.ParameterizedTypeReference;\n\nimport java.lang.reflect.Type;\n\npublic class ParameterizedTypeReferenceBuilder {\n\n    public static &lt;T&gt; ParameterizedTypeReference&lt;T&gt; fromTypeToken(TypeToken&lt;T&gt; typeToken) {\n        return new TypeTokenParameterizedTypeReference&lt;&gt;(typeToken);\n    }\n\n    private static class TypeTokenParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\n\n        private final Type type;\n\n        private TypeTokenParameterizedTypeReference(TypeToken&lt;T&gt; typeToken) {\n            this.type = typeToken.getType();\n        }\n\n        @Override\n        public Type getType() {\n            return type;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            return (this == obj || (obj instanceof ParameterizedTypeReference &amp;&amp;\n                    this.type.equals(((ParameterizedTypeReference&lt;?&gt;) obj).getType())));\n        }\n\n        @Override\n        public int hashCode() {\n            return this.type.hashCode();\n        }\n\n        @Override\n        public String toString() {\n            return \"ParameterizedTypeReference&lt;\" + this.type + \"&gt;\";\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\n   ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\n           ParameterizedTypeReferenceBuilder.fromTypeToken(\n               new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\n                   .where(new TypeParameter&lt;T&gt;() {}, clazz));\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        responseTypeRef);\n    return response;\n}\n</code></pre>\n\n<p>And call it like:</p>\n\n<pre><code>ResponseWrapper&lt;MyClass&gt; result = makeRequest(uri, MyClass.class);\n</code></pre>\n\n<p>And the response body will be correctly deserialized as <code>ResponseWrapper&lt;MyClass&gt;</code>!</p>\n\n<p>You can even use more complex types if you rewrite your generic request method (or overload it) like this:</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, TypeToken&lt;T&gt; resultTypeToken) {\n   ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\n           ParameterizedTypeReferenceBuilder.fromTypeToken(\n               new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\n                   .where(new TypeParameter&lt;T&gt;() {}, resultTypeToken));\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        responseTypeRef);\n    return response;\n}\n</code></pre>\n\n<p>This way <code>T</code> can be complex type, like <code>List&lt;MyClass&gt;</code>.</p>\n\n<p>And call it like:</p>\n\n<pre><code>ResponseWrapper&lt;List&lt;MyClass&gt;&gt; result = makeRequest(uri, new TypeToken&lt;List&lt;MyClass&gt;&gt;() {});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3435011,"reputation":115,"user_id":2939838,"accept_rate":67,"display_name":"Blangero"},"score":9,"creation_date":1551765125,"post_id":54804877,"comment_id":96748752,"body_markdown":"I think you mean ResolvableType.forClassWithGenerics(ResponseWrapper.class, clazz).getType() , right? Your post is working in my project, and I think it&#39;s the shortest and most simple one. Thanks Justin!","body":"I think you mean ResolvableType.forClassWithGenerics(ResponseWrapper.class, clazz).getType() , right? Your post is working in my project, and I think it&#39;s the shortest and most simple one. Thanks Justin!"},{"owner":{"account_id":9137518,"reputation":1496,"user_id":11945290,"display_name":"Ayman Arif"},"score":0,"creation_date":1592451990,"post_id":54804877,"comment_id":110431953,"body_markdown":"@Blangero I am getting java.lang.IllegalArgumentException: Mismatched number of generics specified for your comment.","body":"@Blangero I am getting java.lang.IllegalArgumentException: Mismatched number of generics specified for your comment."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1676017053,"post_id":54804877,"comment_id":133055995,"body_markdown":"This works, simply. Bravo!","body":"This works, simply. Bravo!"}],"tags":[],"owner":{"account_id":323403,"reputation":496,"user_id":643394,"display_name":"Justin"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1550745001,"creation_date":1550745001,"answer_id":54804877,"question_id":21987295,"body_markdown":"I am using [org.springframework.core.ResolvableType][1] for a ListResultEntity&lt;T&gt; :\r\n```\r\n    ResolvableType resolvableType = ResolvableType.forClassWithGenerics(ListResultEntity.class, itemClass);\r\n    ParameterizedTypeReference&lt;ListResultEntity&lt;T&gt;&gt; typeRef = ParameterizedTypeReference.forType(resolvableType.getType());\r\n```\r\n\r\nSo in your case:\r\n```\r\npublic &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\r\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n        uri,\r\n        HttpMethod.POST,\r\n        null,\r\n        ParameterizedTypeReference.forType(ResolvableType.forClassWithGenerics(ResponseWrapper.class, clazz)));\r\n    return response;\r\n}\r\n```\r\n\r\nThis only makes use of spring and of course requires some knowledge about the returned types (but should even work for things like Wrapper&lt;T&lt;U&lt;V&gt;&gt;&gt; as long as you provide the classes as varargs )\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I am using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"noreferrer\">org.springframework.core.ResolvableType</a> for a ListResultEntity :</p>\n\n<pre><code>    ResolvableType resolvableType = ResolvableType.forClassWithGenerics(ListResultEntity.class, itemClass);\n    ParameterizedTypeReference&lt;ListResultEntity&lt;T&gt;&gt; typeRef = ParameterizedTypeReference.forType(resolvableType.getType());\n</code></pre>\n\n<p>So in your case:</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        ParameterizedTypeReference.forType(ResolvableType.forClassWithGenerics(ResponseWrapper.class, clazz)));\n    return response;\n}\n</code></pre>\n\n<p>This only makes use of spring and of course requires some knowledge about the returned types (but should even work for things like Wrapper>> as long as you provide the classes as varargs )</p>\n"},{"tags":[],"owner":{"account_id":2690186,"reputation":743,"user_id":2323686,"display_name":"AlexV"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564644335,"creation_date":1564644335,"answer_id":57303799,"question_id":21987295,"body_markdown":"My own implementation of generic restTemplate call:\r\n\r\n    private &lt;REQ, RES&gt; RES queryRemoteService(String url, HttpMethod method, REQ req, Class reqClass) {\r\n        RES result = null;\r\n        try {\r\n            long startMillis = System.currentTimeMillis();\r\n            \r\n            // Set the Content-Type header\r\n            HttpHeaders requestHeaders = new HttpHeaders();\r\n            requestHeaders.setContentType(new MediaType(&quot;application&quot;,&quot;json&quot;));            \r\n            \r\n            // Set the request entity\r\n            HttpEntity&lt;REQ&gt; requestEntity = new HttpEntity&lt;&gt;(req, requestHeaders);\r\n\r\n            // Create a new RestTemplate instance\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\n            // Add the Jackson and String message converters\r\n            restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n            restTemplate.getMessageConverters().add(new StringHttpMessageConverter());\r\n\r\n            // Make the HTTP POST request, marshaling the request to JSON, and the response to a String\r\n            ResponseEntity&lt;RES&gt; responseEntity = restTemplate.exchange(url, method, requestEntity, reqClass);\r\n            result = responseEntity.getBody();\r\n            long stopMillis = System.currentTimeMillis() - startMillis;\r\n\r\n            Log.d(TAG, method + &quot;:&quot; + url + &quot; took &quot; + stopMillis + &quot; ms&quot;);\r\n        } catch (Exception e) {\r\n             Log.e(TAG, e.getMessage());\r\n        }\r\n        return result;\r\n    }\r\n\r\nTo add some context, I&#39;m consuming RESTful service with this, hence all requests and responses are wrapped into small POJO like this:\r\n\r\n    public class ValidateRequest {\r\n      User user;\r\n      User checkedUser;\r\n      Vehicle vehicle;\r\n    }\r\n\r\nand\r\n\r\n    public class UserResponse {\r\n      User user;\r\n      RequestResult requestResult;\r\n    }\r\n\r\nMethod which calls this is the following:\r\n\r\n    public User checkUser(User user, String checkedUserName) {\r\n        String url = urlBuilder()\r\n                .add(USER)\r\n                .add(USER_CHECK)\r\n                .build();\r\n\r\n        ValidateRequest request = new ValidateRequest();\r\n        request.setUser(user);\r\n        request.setCheckedUser(new User(checkedUserName));\r\n\r\n        UserResponse response = queryRemoteService(url, HttpMethod.POST, request, UserResponse.class);\r\n        return response.getUser();\r\n    }\r\n\r\nAnd yes, there&#39;s a List&lt;SomeClass&gt; dto-s as well.","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>My own implementation of generic restTemplate call:</p>\n\n<pre><code>private &lt;REQ, RES&gt; RES queryRemoteService(String url, HttpMethod method, REQ req, Class reqClass) {\n    RES result = null;\n    try {\n        long startMillis = System.currentTimeMillis();\n\n        // Set the Content-Type header\n        HttpHeaders requestHeaders = new HttpHeaders();\n        requestHeaders.setContentType(new MediaType(\"application\",\"json\"));            \n\n        // Set the request entity\n        HttpEntity&lt;REQ&gt; requestEntity = new HttpEntity&lt;&gt;(req, requestHeaders);\n\n        // Create a new RestTemplate instance\n        RestTemplate restTemplate = new RestTemplate();\n\n        // Add the Jackson and String message converters\n        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n        restTemplate.getMessageConverters().add(new StringHttpMessageConverter());\n\n        // Make the HTTP POST request, marshaling the request to JSON, and the response to a String\n        ResponseEntity&lt;RES&gt; responseEntity = restTemplate.exchange(url, method, requestEntity, reqClass);\n        result = responseEntity.getBody();\n        long stopMillis = System.currentTimeMillis() - startMillis;\n\n        Log.d(TAG, method + \":\" + url + \" took \" + stopMillis + \" ms\");\n    } catch (Exception e) {\n         Log.e(TAG, e.getMessage());\n    }\n    return result;\n}\n</code></pre>\n\n<p>To add some context, I'm consuming RESTful service with this, hence all requests and responses are wrapped into small POJO like this:</p>\n\n<pre><code>public class ValidateRequest {\n  User user;\n  User checkedUser;\n  Vehicle vehicle;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class UserResponse {\n  User user;\n  RequestResult requestResult;\n}\n</code></pre>\n\n<p>Method which calls this is the following:</p>\n\n<pre><code>public User checkUser(User user, String checkedUserName) {\n    String url = urlBuilder()\n            .add(USER)\n            .add(USER_CHECK)\n            .build();\n\n    ValidateRequest request = new ValidateRequest();\n    request.setUser(user);\n    request.setCheckedUser(new User(checkedUserName));\n\n    UserResponse response = queryRemoteService(url, HttpMethod.POST, request, UserResponse.class);\n    return response.getUser();\n}\n</code></pre>\n\n<p>And yes, there's a List dto-s as well.</p>\n"},{"tags":[],"owner":{"account_id":3536927,"reputation":653,"user_id":2954973,"accept_rate":71,"display_name":"byronaltice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590193652,"creation_date":1590193652,"answer_id":61965875,"question_id":21987295,"body_markdown":"I feel like there&#39;s a much easier way to do this... Just define a class with the type parameters that you want. e.g.:\r\n\r\n```java\r\n\r\nfinal class MyClassWrappedByResponse extends ResponseWrapper&lt;MyClass&gt; {\r\n    private static final long serialVersionUID = 1L;\r\n}\r\n```\r\n\r\nNow change your code above to this and it should work:\r\n\r\n```java\r\npublic ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\r\n    ResponseEntity&lt;MyClassWrappedByResponse&gt; response = template.exchange(\r\n        uri,\r\n        HttpMethod.POST,\r\n        null,\r\n        MyClassWrappedByResponse.class\r\n    return response;\r\n}\r\n```","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I feel like there's a much easier way to do this... Just define a class with the type parameters that you want. e.g.:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal class MyClassWrappedByResponse extends ResponseWrapper&lt;MyClass&gt; {\n    private static final long serialVersionUID = 1L;\n}\n</code></pre>\n\n<p>Now change your code above to this and it should work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\n    ResponseEntity&lt;MyClassWrappedByResponse&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        MyClassWrappedByResponse.class\n    return response;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16311046,"reputation":63,"user_id":11779675,"display_name":"Raccoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618303586,"creation_date":1618303586,"answer_id":67071553,"question_id":21987295,"body_markdown":"I find this to be a more elegant solution:\r\n\r\n\r\n    private static &lt;T&gt; ParameterizedTypeReference&lt;BaseResponse&lt;T&gt;&gt; typeReferenceOf ( Class&lt;T&gt; tClass ) {\r\n        return ParameterizedTypeReference.forType( sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make( BaseResponse.class, new Type[]{ tClass }, null ) );\r\n    }\r\n\r\nFor example, given the following `BaseResponse` and `ResponseData` classes:\r\n    \r\n    @Getter\r\n    @Setter\r\n    public static class BaseResponse&lt;T&gt; {\r\n        \r\n        private ResponseData&lt;T&gt; response;\r\n        \r\n        public BaseResponse () { }\r\n        \r\n        public boolean hasData () {\r\n            return response != null;\r\n        }\r\n    \r\n        public T data () {\r\n            return response.data;\r\n        }\r\n        \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    public static final class ResponseData&lt;T&gt; {\r\n        \r\n        private T data;\r\n        \r\n        public ResponseData () { }\r\n        \r\n    }\r\n\r\nAnd given a sample `get` method, using `WebClient`:\r\n\r\n    public &lt;T&gt; Mono &lt;T&gt; get ( URI uri, Class&lt;T&gt; tClass ) {\r\n        \r\n        return webClient\r\n            .get            ()\r\n            .uri            ( uriBuilder        -&gt; uriBuilder.pathSegment( uri.getPath() ).build() )\r\n            .exchangeToMono ( clientResponse    -&gt; clientResponse.bodyToMono( typeReferenceOf( tClass ) ) )\r\n            .flatMap        ( baseResponse      -&gt; baseResponse.hasData() ? Mono.just( baseResponse.data() ) : Mono.empty()  );\r\n        \r\n    }\r\n","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I find this to be a more elegant solution:</p>\n<pre><code>private static &lt;T&gt; ParameterizedTypeReference&lt;BaseResponse&lt;T&gt;&gt; typeReferenceOf ( Class&lt;T&gt; tClass ) {\n    return ParameterizedTypeReference.forType( sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make( BaseResponse.class, new Type[]{ tClass }, null ) );\n}\n</code></pre>\n<p>For example, given the following <code>BaseResponse</code> and <code>ResponseData</code> classes:</p>\n<pre><code>@Getter\n@Setter\npublic static class BaseResponse&lt;T&gt; {\n    \n    private ResponseData&lt;T&gt; response;\n    \n    public BaseResponse () { }\n    \n    public boolean hasData () {\n        return response != null;\n    }\n\n    public T data () {\n        return response.data;\n    }\n    \n}\n\n@Getter\n@Setter\npublic static final class ResponseData&lt;T&gt; {\n    \n    private T data;\n    \n    public ResponseData () { }\n    \n}\n</code></pre>\n<p>And given a sample <code>get</code> method, using <code>WebClient</code>:</p>\n<pre><code>public &lt;T&gt; Mono &lt;T&gt; get ( URI uri, Class&lt;T&gt; tClass ) {\n    \n    return webClient\n        .get            ()\n        .uri            ( uriBuilder        -&gt; uriBuilder.pathSegment( uri.getPath() ).build() )\n        .exchangeToMono ( clientResponse    -&gt; clientResponse.bodyToMono( typeReferenceOf( tClass ) ) )\n        .flatMap        ( baseResponse      -&gt; baseResponse.hasData() ? Mono.just( baseResponse.data() ) : Mono.empty()  );\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746704,"reputation":411,"user_id":2366973,"display_name":"Stan Towianski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634861482,"creation_date":1634861482,"answer_id":69670068,"question_id":21987295,"body_markdown":"    Abc is come object.\r\n    \r\n    HttpEntity&lt;Abc&gt; httpEntity= new HttpEntity&lt;&gt;( headers );\r\n    ResponseEntity&lt;Abc&gt; resp = null;\r\n    \r\n    resp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;Abc&gt;() {} );\r\n    //----------------------------------------------\r\n    \r\n    public &lt;T&gt; ResponseEntity restCall( String doUrl, HttpMethod httpMethod, HttpEntity&lt;?&gt; httpEntity, ParameterizedTypeReference respRef )\r\n        {\r\n        try {\r\n            return restTemplate.exchange( doUrl, httpMethod, httpEntity, respRef );\r\n            }\r\n        catch( HttpClientErroException exc )\r\n            {\r\n            do whatever\r\n            }\r\n        }\r\n    \r\n    //--------------------------  can also use a generic inside\r\n    public class ComResp&lt;T&gt; {\r\n        private T data;\r\n        public ComResp( T data )\r\n        { this.data = data }\r\n    }\r\n    \r\n    ResponseEntity&lt;ComResp&lt;Abc&gt;&gt; resp = null;\r\n    \r\n    resp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;ComResp&lt;Abc&gt;&gt;() {} );\r\n    \r\n    // spring boot 2.5.3","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<pre><code>Abc is come object.\n\nHttpEntity&lt;Abc&gt; httpEntity= new HttpEntity&lt;&gt;( headers );\nResponseEntity&lt;Abc&gt; resp = null;\n\nresp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;Abc&gt;() {} );\n//----------------------------------------------\n\npublic &lt;T&gt; ResponseEntity restCall( String doUrl, HttpMethod httpMethod, HttpEntity&lt;?&gt; httpEntity, ParameterizedTypeReference respRef )\n    {\n    try {\n        return restTemplate.exchange( doUrl, httpMethod, httpEntity, respRef );\n        }\n    catch( HttpClientErroException exc )\n        {\n        do whatever\n        }\n    }\n\n//--------------------------  can also use a generic inside\npublic class ComResp&lt;T&gt; {\n    private T data;\n    public ComResp( T data )\n    { this.data = data }\n}\n\nResponseEntity&lt;ComResp&lt;Abc&gt;&gt; resp = null;\n\nresp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;ComResp&lt;Abc&gt;&gt;() {} );\n\n// spring boot 2.5.3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8028904,"reputation":176,"user_id":6054737,"display_name":"Rahul verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670676085,"creation_date":1670676085,"answer_id":74752995,"question_id":21987295,"body_markdown":"\r\n\r\ninstead of `Class&lt;T&gt;` you can create a function that takes `ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;` as paramemter : \r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; response) {\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            responseExchange);\r\n        return response;\r\n    }\r\n\r\nwhen calling this function provide an instance of ParameterizedTypeReference with the response class in Generic:\r\n\r\n    makeRequest(url, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {})","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>instead of <code>Class&lt;T&gt;</code> you can create a function that takes <code>ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;</code> as paramemter :</p>\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; response) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        responseExchange);\n    return response;\n}\n</code></pre>\n<p>when calling this function provide an instance of ParameterizedTypeReference with the response class in Generic:</p>\n<pre><code>makeRequest(url, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {})\n</code></pre>\n"}],"owner":{"account_id":1704112,"reputation":1432,"user_id":1563543,"display_name":"Artyom Kozhemiakin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159548,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":21988799,"answer_count":12,"score":84,"last_activity_date":1695737213,"creation_date":1393243534,"question_id":21987295,"body_markdown":"To use generic types with Spring RestTemplate we need to use `ParameterizedTypeReference` (https://stackoverflow.com/questions/13819734/unable-to-get-a-generic-responseentityt-where-t-is-a-generic-class-someclass/13820584#13820584)\r\n\r\nSuppose I have some class\r\n\r\n    public class MyClass {\r\n        int users[];\r\n        \r\n        public int[] getUsers() { return users; }\r\n        public void setUsers(int[] users) {this.users = users;}\r\n    }\r\n\r\nAnd some wrapper class\r\n\r\n    public class ResponseWrapper &lt;T&gt; {\r\n        T response;\r\n\r\n        public T getResponse () { return response; }\r\n        public void setResponse(T response) {this.response = response;}\r\n    }\r\n\r\nSo if I&#39;m trying to do something like this, all is OK.\r\n    \r\n    public ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\r\n        ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {});\r\n        return response;\r\n    }\r\n\r\nBut when I&#39;m trying to create generic variant of the above method ...\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {});\r\n        return response;\r\n    }\r\n\r\n... and calling this method like so ...\r\n\r\n    makeRequest(uri, MyClass.class)\r\n\r\n... instead of getting `ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt;` object I&#39;m getting `ResponseEntity&lt;ResponseWrapper&lt;LinkedHashSet&gt;&gt;` object. \r\n\r\nHow can I solve this problem? Is it a RestTemplate bug?\r\n\r\n**UPDATE 1**\r\nThanks to @Sotirios I understand the concept. Unfortunately I&#39;m newly registered here so I cant comment on his answer, so writing it here. Im not sure that I clearly understand how to implement the proposed approach to solve my problem with `Map` with `Class` key (Proposed by @Sotirios in the end of his answer). Would someone mind to give an example?","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>To use generic types with Spring RestTemplate we need to use <code>ParameterizedTypeReference</code> (<a href=\"https://stackoverflow.com/questions/13819734/unable-to-get-a-generic-responseentityt-where-t-is-a-generic-class-someclass/13820584#13820584\">Unable to get a generic ResponseEntity&lt;T&gt; where T is a generic class &quot;SomeClass&lt;SomeGenericType&gt;&quot;</a>)</p>\n\n<p>Suppose I have some class</p>\n\n<pre><code>public class MyClass {\n    int users[];\n\n    public int[] getUsers() { return users; }\n    public void setUsers(int[] users) {this.users = users;}\n}\n</code></pre>\n\n<p>And some wrapper class</p>\n\n<pre><code>public class ResponseWrapper &lt;T&gt; {\n    T response;\n\n    public T getResponse () { return response; }\n    public void setResponse(T response) {this.response = response;}\n}\n</code></pre>\n\n<p>So if I'm trying to do something like this, all is OK.</p>\n\n<pre><code>public ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\n    ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {});\n    return response;\n}\n</code></pre>\n\n<p>But when I'm trying to create generic variant of the above method ...</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {});\n    return response;\n}\n</code></pre>\n\n<p>... and calling this method like so ...</p>\n\n<pre><code>makeRequest(uri, MyClass.class)\n</code></pre>\n\n<p>... instead of getting <code>ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt;</code> object I'm getting <code>ResponseEntity&lt;ResponseWrapper&lt;LinkedHashSet&gt;&gt;</code> object. </p>\n\n<p>How can I solve this problem? Is it a RestTemplate bug?</p>\n\n<p><strong>UPDATE 1</strong>\nThanks to @Sotirios I understand the concept. Unfortunately I'm newly registered here so I cant comment on his answer, so writing it here. Im not sure that I clearly understand how to implement the proposed approach to solve my problem with <code>Map</code> with <code>Class</code> key (Proposed by @Sotirios in the end of his answer). Would someone mind to give an example?</p>\n"},{"tags":["java","spring","generics","jackson","resttemplate"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1321186218,"post_id":8108887,"comment_id":9947564,"body_markdown":"Plz put the exception trace as well.","body":"Plz put the exception trace as well."},{"owner":{"account_id":50410,"reputation":3979,"user_id":150371,"accept_rate":54,"display_name":"raksja"},"score":0,"creation_date":1371169214,"post_id":8108887,"comment_id":24736399,"body_markdown":"I suppose solution for this is added in 3.2 [SPR-7023](https://jira.springsource.org/browse/SPR-7023)","body":"I suppose solution for this is added in 3.2 <a href=\"https://jira.springsource.org/browse/SPR-7023\" rel=\"nofollow noreferrer\">SPR-7023</a>"},{"owner":{"account_id":33925,"reputation":1400,"user_id":95363,"accept_rate":64,"display_name":"danieljimenez"},"score":0,"creation_date":1399152885,"post_id":8108887,"comment_id":35945755,"body_markdown":"Did you ever find a solution for this? I&#39;m using ParameterizedTypeReference and while it works when I pass in Map&lt;String, String&gt; it doesn&#39;t work when I pass in my concrete class that represents `data` in your model.","body":"Did you ever find a solution for this? I&#39;m using ParameterizedTypeReference and while it works when I pass in Map&lt;String, String&gt; it doesn&#39;t work when I pass in my concrete class that represents <code>data</code> in your model."},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1454996481,"post_id":8108887,"comment_id":58280182,"body_markdown":"Did you a find a solution??","body":"Did you a find a solution??"}],"answers":[{"tags":[],"owner":{"account_id":262703,"reputation":1774,"user_id":547750,"accept_rate":72,"display_name":"Dima"},"comment_count":0,"down_vote_count":6,"up_vote_count":8,"is_accepted":false,"score":2,"last_activity_date":1342703873,"creation_date":1342703873,"answer_id":11561723,"question_id":8108887,"body_markdown":"Do not use generics with RestTemplate. Wrap request and response object with wrapper object that will hide the generics.","title":"Generics with Spring RESTTemplate","body":"<p>Do not use generics with RestTemplate. Wrap request and response object with wrapper object that will hide the generics.</p>\n"},{"comments":[{"owner":{"account_id":4059688,"reputation":749,"user_id":3336551,"accept_rate":100,"display_name":"Alter Hu"},"score":1,"creation_date":1482125357,"post_id":21158245,"comment_id":69631171,"body_markdown":"I tried another optioned for your guys,@alexanoid . Just first get the response as `String` ,then use Jackson to parse the string to generics object ,see : \n`String body = restTemplate.exchange(request,String.class).getBody();\n\t\tObjectMapper mapper=new ObjectMapper();\n\t\tDataTablesOutput&lt;EmployeeResponse&gt; readValue = mapper.readValue(body, DataTablesOutput.class);`","body":"I tried another optioned for your guys,@alexanoid . Just first get the response as <code>String</code> ,then use Jackson to parse the string to generics object ,see :  <code>String body = restTemplate.exchange(request,String.class).getBody(); \t\tObjectMapper mapper=new ObjectMapper(); \t\tDataTablesOutput&lt;EmployeeResponse&gt; readValue = mapper.readValue(body, DataTablesOutput.class);</code>"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":2,"creation_date":1497357621,"post_id":21158245,"comment_id":76035336,"body_markdown":"Why Model cannot here be also generic?, etc. like this: `Model&lt;InnerModel&gt;`","body":"Why Model cannot here be also generic?, etc. like this: <code>Model&lt;InnerModel&gt;</code>"},{"owner":{"account_id":210974,"reputation":545,"user_id":462891,"display_name":"cs94njw"},"score":1,"creation_date":1570179106,"post_id":21158245,"comment_id":102839512,"body_markdown":"To complement Alter&#39;s answer you can use:\n`mapper.readValue(body, new TypeReference&lt;Wrapper&lt;Model&gt;&gt;(){});`","body":"To complement Alter&#39;s answer you can use: <code>mapper.readValue(body, new TypeReference&lt;Wrapper&lt;Model&gt;&gt;(){});</code>"},{"owner":{"account_id":4628910,"reputation":254,"user_id":3751944,"display_name":"u91"},"score":1,"creation_date":1594757064,"post_id":21158245,"comment_id":111237189,"body_markdown":"My question also why we can&#39;t make Model also generic here ?","body":"My question also why we can&#39;t make Model also generic here ?"}],"tags":[],"owner":{"account_id":53502,"reputation":2186,"user_id":159964,"display_name":"Manimaran Selvan"},"comment_count":4,"down_vote_count":0,"up_vote_count":172,"is_accepted":true,"score":172,"last_activity_date":1389865499,"creation_date":1389865499,"answer_id":21158245,"question_id":8108887,"body_markdown":"ParameterizedTypeReference has been introduced in 3.2 M2 to workaround this issue.\r\n\r\n    Wrapper&lt;Model&gt; response = restClient.exchange(loginUrl, \r\n                              HttpMethod.GET, \r\n                              null, \r\n                              new ParameterizedTypeReference&lt;Wrapper&lt;Model&gt;&gt;() {}).getBody();\r\n\r\n However, the postForObject/getForObject variant was not introduced.","title":"Generics with Spring RESTTemplate","body":"<p>ParameterizedTypeReference has been introduced in 3.2 M2 to workaround this issue.</p>\n\n<pre><code>Wrapper&lt;Model&gt; response = restClient.exchange(loginUrl, \n                          HttpMethod.GET, \n                          null, \n                          new ParameterizedTypeReference&lt;Wrapper&lt;Model&gt;&gt;() {}).getBody();\n</code></pre>\n\n<p>However, the postForObject/getForObject variant was not introduced.</p>\n"},{"comments":[{"owner":{"account_id":196067,"reputation":3524,"user_id":2175650,"accept_rate":60,"display_name":"Gustavo Matias"},"score":0,"creation_date":1393274030,"post_id":21289055,"comment_id":33340756,"body_markdown":"I personally don&#39;t like this solution but right now I can&#39;t upgrade spring to use its new parameterizedtype object (https://jira.springsource.org/browse/SPR-7023), so this is good enough. thanks","body":"I personally don&#39;t like this solution but right now I can&#39;t upgrade spring to use its new parameterizedtype object (<a href=\"https://jira.springsource.org/browse/SPR-7023\" rel=\"nofollow noreferrer\">jira.springsource.org/browse/SPR-7023</a>), so this is good enough. thanks"},{"owner":{"account_id":8080280,"reputation":3042,"user_id":6089766,"display_name":"Adam Silenko"},"score":0,"creation_date":1568987158,"post_id":21289055,"comment_id":102461618,"body_markdown":"it must be static class","body":"it must be static class"}],"tags":[],"owner":{"account_id":2033607,"reputation":3317,"user_id":1816560,"accept_rate":50,"display_name":"Juan Luis"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1390409580,"creation_date":1390409580,"answer_id":21289055,"question_id":8108887,"body_markdown":"The only thing I think you could do is creating a new class that extends Wrapper and uses model as a generic.\r\n\r\n    class WrapperWithModel extends Wrapper&lt;Model&gt;{};\r\n\r\n    WrapperWithModel response = restTemplate.getForObject(URL, WrapperWithModel.class);\r\n\r\nIt&#39;s not the best solution, but at least you won&#39;t have to unmarshall manually the response.","title":"Generics with Spring RESTTemplate","body":"<p>The only thing I think you could do is creating a new class that extends Wrapper and uses model as a generic.</p>\n\n<pre><code>class WrapperWithModel extends Wrapper&lt;Model&gt;{};\n\nWrapperWithModel response = restTemplate.getForObject(URL, WrapperWithModel.class);\n</code></pre>\n\n<p>It's not the best solution, but at least you won't have to unmarshall manually the response.</p>\n"}],"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80003,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":21158245,"answer_count":3,"score":92,"last_activity_date":1695737159,"creation_date":1321147637,"question_id":8108887,"body_markdown":"I have a class like that:\r\n\r\n    public class Wrapper&lt;T&gt; {\r\n    \r\n     private String message;\r\n     private T data;\r\n    \r\n     public String getMessage() {\r\n        return message;\r\n     }\r\n\r\n     public void setMessage(String message) {\r\n        this.message = message;\r\n     }\r\n     \r\n     public T getData() {\r\n        return data;\r\n     }\r\n\r\n     public void setData(T data) {\r\n        this.data = data;\r\n     }\r\n\r\n    }\r\n\r\nand I use resttemplate as follows:    \r\n    \r\n    ...\r\n    Wrapper&lt;Model&gt; response = restTemplate.getForObject(URL, Wrapper.class, myMap);\r\n    Model model = response.getData();\r\n    ...\r\n\r\nHowever it throws a: \r\n\r\n    ClassCastException\r\n\r\nI read that: https://stackoverflow.com/questions/4392326/problem-when-trying-to-use-jackson-in-java but didn&#39;t help. There are some topics related to my problem etc.: https://jira.springsource.org/browse/SPR-7002 and https://jira.springsource.org/browse/SPR-7023\r\n\r\nAny ideas?\r\n\r\n**PS:** My error is that:\r\n\r\n    java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to a.b.c.d.Model\r\n\r\nI think resttemplate can not understand my generic variable and maybe it accepts it as an Object instead of generic T. So it becomes a LinkedHashMap. You can read from it [here][1] It says that when explaining from what it marshalls to:\r\n\r\n&gt; JSON Type | Java Type\r\n&gt;\r\n&gt; object    | LinkedHashMap&lt;String,Object&gt;\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes","title":"Generics with Spring RESTTemplate","body":"<p>I have a class like that:</p>\n\n<pre><code>public class Wrapper&lt;T&gt; {\n\n private String message;\n private T data;\n\n public String getMessage() {\n    return message;\n }\n\n public void setMessage(String message) {\n    this.message = message;\n }\n\n public T getData() {\n    return data;\n }\n\n public void setData(T data) {\n    this.data = data;\n }\n\n}\n</code></pre>\n\n<p>and I use resttemplate as follows:    </p>\n\n<pre><code>...\nWrapper&lt;Model&gt; response = restTemplate.getForObject(URL, Wrapper.class, myMap);\nModel model = response.getData();\n...\n</code></pre>\n\n<p>However it throws a: </p>\n\n<pre><code>ClassCastException\n</code></pre>\n\n<p>I read that: <a href=\"https://stackoverflow.com/questions/4392326/problem-when-trying-to-use-jackson-in-java\">Issue when trying to use Jackson in java</a> but didn't help. There are some topics related to my problem etc.: <a href=\"https://jira.springsource.org/browse/SPR-7002\" rel=\"noreferrer\">https://jira.springsource.org/browse/SPR-7002</a> and <a href=\"https://jira.springsource.org/browse/SPR-7023\" rel=\"noreferrer\">https://jira.springsource.org/browse/SPR-7023</a></p>\n\n<p>Any ideas?</p>\n\n<p><strong>PS:</strong> My error is that:</p>\n\n<pre><code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to a.b.c.d.Model\n</code></pre>\n\n<p>I think resttemplate can not understand my generic variable and maybe it accepts it as an Object instead of generic T. So it becomes a LinkedHashMap. You can read from it <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\" rel=\"noreferrer\">here</a> It says that when explaining from what it marshalls to:</p>\n\n<blockquote>\n  <p>JSON Type | Java Type</p>\n  \n  <p>object    | LinkedHashMap</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams"],"answers":[{"comments":[{"owner":{"account_id":4278261,"reputation":1055,"user_id":3498366,"accept_rate":54,"display_name":"Koin Arab"},"score":0,"creation_date":1695730151,"post_id":77179741,"comment_id":136060870,"body_markdown":"Yeah, I didn&#39;t explained it well. There are two instances of microservice  which are doing exactly the same, reading some external messages and send them with helps of Kafka Producer to the same topic (both have the same, unique for them key). And this is a part I can&#39;t change, it is just how it works. My part is to receive those events and deduplicate them based on key so at the end I would like to have no events with the same key","body":"Yeah, I didn&#39;t explained it well. There are two instances of microservice  which are doing exactly the same, reading some external messages and send them with helps of Kafka Producer to the same topic (both have the same, unique for them key). And this is a part I can&#39;t change, it is just how it works. My part is to receive those events and deduplicate them based on key so at the end I would like to have no events with the same key"},{"owner":{"account_id":29534919,"reputation":1,"user_id":22634694,"display_name":"OutOfMemory"},"score":0,"creation_date":1695794160,"post_id":77179741,"comment_id":136070107,"body_markdown":"If your upstream team sends two identical messages with different keys, I believe it&#39;s a critical bug, and the upstream project should not proceed with the release without enough tests. The best approach for me is to communicate with them to address the issue. If you are unable to connect with them, there is a backup option available. You can save all the messages and compare them before processing. It may not be elegant, but it should work.","body":"If your upstream team sends two identical messages with different keys, I believe it&#39;s a critical bug, and the upstream project should not proceed with the release without enough tests. The best approach for me is to communicate with them to address the issue. If you are unable to connect with them, there is a backup option available. You can save all the messages and compare them before processing. It may not be elegant, but it should work."}],"tags":[],"owner":{"account_id":29534919,"reputation":1,"user_id":22634694,"display_name":"OutOfMemory"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695728887,"creation_date":1695728887,"answer_id":77179741,"question_id":77179246,"body_markdown":"How can you be sure that each kafka event is duplicated? \r\nIf you find out this situation by reading logs(\r\n\r\n&gt; log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value())\r\n\r\n). Here is a pertential reason for explaining duplicated event.\r\n\r\nIn my project, I use logback as log framework. \r\nAnd I defined two logback Appender in the project. \r\n1. One appender logs all level project info. \r\n2. Another Appender simply logs error-level project info.\r\nIn this case, error-level logs will be printted twice. \r\n \r\n\r\nSO, Maybe you are just reading duplicate logs, not duplicated events in Kafka. If you want to verify, simply compare the timestamps of the two logs. The same timestamps indicate the same log.","title":"Deduplicate kafka events with kafka streams before reaching consumer","body":"<p>How can you be sure that each kafka event is duplicated?\nIf you find out this situation by reading logs(</p>\n<blockquote>\n<p>log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value())</p>\n</blockquote>\n<p>). Here is a pertential reason for explaining duplicated event.</p>\n<p>In my project, I use logback as log framework.\nAnd I defined two logback Appender in the project.</p>\n<ol>\n<li>One appender logs all level project info.</li>\n<li>Another Appender simply logs error-level project info.\nIn this case, error-level logs will be printted twice.</li>\n</ol>\n<p>SO, Maybe you are just reading duplicate logs, not duplicated events in Kafka. If you want to verify, simply compare the timestamps of the two logs. The same timestamps indicate the same log.</p>\n"},{"tags":[],"owner":{"account_id":8091891,"reputation":545,"user_id":6097560,"display_name":"kopaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736440,"creation_date":1695736440,"answer_id":77180683,"question_id":77179246,"body_markdown":"I don&#39;t have a code example at hand, but I&#39;ve done what you&#39;re trying to do with Flink, which is kind of similar to KafkaStreams.\r\n\r\nYou&#39;d have to do following:\r\n\r\n 1. Create a custom `FixedKeyProcessor`/`FixedKeyProcessorSupplier` and introduce a key value state store (with your key type and a boolean &quot;seen&quot;). \r\n2. In the `process()` function you check the state store if your key exists - if not you create an entry in the state with your key and `true` and forward the record. If it exists and your boolean is true, you don&#39;t forward the record (in that sense swallow it, as it is a duplicate). \r\n3. This processor needs to be included in your topology by appending `.processValues(new MySuperCoolFixedKeyProcessorSupplier())`.\r\n\r\nThis will effectively be a filter function, which only lets messages through that have not been seen before, the list of seen messages being your state store, which will be constantly growing with every processed key. Of course you need to think about retaining your state in case of errors, which has some complexities in itself.\r\n\r\nThe boolean variable is actually redundant, but it seems there is no single value store interface - you will never have the situation where you have a key in your state store which has &quot;seen&quot; set to `false`. In case I&#39;m mistaken (as mentioned, I initially performed this with Flink, not KafkaStreams) and there is a fitting StateStore interface, feel free to edit this and correct.","title":"Deduplicate kafka events with kafka streams before reaching consumer","body":"<p>I don't have a code example at hand, but I've done what you're trying to do with Flink, which is kind of similar to KafkaStreams.</p>\n<p>You'd have to do following:</p>\n<ol>\n<li>Create a custom <code>FixedKeyProcessor</code>/<code>FixedKeyProcessorSupplier</code> and introduce a key value state store (with your key type and a boolean &quot;seen&quot;).</li>\n<li>In the <code>process()</code> function you check the state store if your key exists - if not you create an entry in the state with your key and <code>true</code> and forward the record. If it exists and your boolean is true, you don't forward the record (in that sense swallow it, as it is a duplicate).</li>\n<li>This processor needs to be included in your topology by appending <code>.processValues(new MySuperCoolFixedKeyProcessorSupplier())</code>.</li>\n</ol>\n<p>This will effectively be a filter function, which only lets messages through that have not been seen before, the list of seen messages being your state store, which will be constantly growing with every processed key. Of course you need to think about retaining your state in case of errors, which has some complexities in itself.</p>\n<p>The boolean variable is actually redundant, but it seems there is no single value store interface - you will never have the situation where you have a key in your state store which has &quot;seen&quot; set to <code>false</code>. In case I'm mistaken (as mentioned, I initially performed this with Flink, not KafkaStreams) and there is a fitting StateStore interface, feel free to edit this and correct.</p>\n"}],"owner":{"account_id":4278261,"reputation":1055,"user_id":3498366,"accept_rate":54,"display_name":"Koin Arab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695736440,"creation_date":1695724961,"question_id":77179246,"body_markdown":"I have application which consuming events from kafka topic and on this topic each one event is duplicated (I cannot change it cause it is an external app behind that). \r\nI would like to provide deduplication there (based on key).\r\nI&#39;m using spring boot and I think that kafka stream could be used there nicely. \r\nI implemented this behaviour but it is wrong cause my consumer still getting the same event twice.\r\n\r\n```    \r\n\r\n@Configuration\r\n@EnableKafkaStreams\r\npublic class KafkaStreamsConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    @Value(&quot;${spring.application.name}&quot;)\r\n    private String applicationId;\r\n\r\n\r\n    @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\r\n    public KafkaStreamsConfiguration kStreamsConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;deduplication-id&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG, StreamsConfig.EXACTLY_ONCE_V2);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        return new KafkaStreamsConfiguration(props);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public KStream&lt;String, String&gt; kStream(StreamsBuilder streamsBuilder) {\r\n        KStream&lt;String, String&gt; stream = streamsBuilder.stream(&quot;inputTopic&quot;, Consumed.with(Serdes.String(), Serdes.String()));\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeAndGrace(Duration.ofSeconds(30), Duration.ofMillis(3000)))\r\n                .reduce((oldValue, newValue) -&gt; newValue)\r\n                .toStream()\r\n                .map(((stringWindowed, value) -&gt; new KeyValue&lt;&gt;(stringWindowed.key(), value)))\r\n                .to(&quot;outputTopic&quot;, Produced.with(Serdes.String(), Serdes.String()));\r\n        return stream;\r\n    }\r\n}\r\n```\r\n\r\nMy consumer look like that:\r\n\r\n```\r\n    @KafkaListener(topics = {&quot;output-topic&quot;}, groupId = &quot;spring.kafka.consumer.group-id&quot;)\r\n    public void consumeEventRelease(ConsumerRecord&lt;String, String&gt; consumerRecord)  {\r\n        log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value());\r\n        //some further implementation\r\n    }\r\n```\r\n\r\nAs you can see I also used &#39;exactly_once&#39; property.\r\nI&#39;m not sure what am I missing here, I would appreciate some help. Maybe I should use spring-cloud-streams for it?","title":"Deduplicate kafka events with kafka streams before reaching consumer","body":"<p>I have application which consuming events from kafka topic and on this topic each one event is duplicated (I cannot change it cause it is an external app behind that).\nI would like to provide deduplication there (based on key).\nI'm using spring boot and I think that kafka stream could be used there nicely.\nI implemented this behaviour but it is wrong cause my consumer still getting the same event twice.</p>\n<pre><code>\n@Configuration\n@EnableKafkaStreams\npublic class KafkaStreamsConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapAddress;\n\n    @Value(&quot;${spring.application.name}&quot;)\n    private String applicationId;\n\n\n    @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\n    public KafkaStreamsConfiguration kStreamsConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;deduplication-id&quot;);\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG, StreamsConfig.EXACTLY_ONCE_V2);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        return new KafkaStreamsConfiguration(props);\n    }\n\n\n    @Bean\n    public KStream&lt;String, String&gt; kStream(StreamsBuilder streamsBuilder) {\n        KStream&lt;String, String&gt; stream = streamsBuilder.stream(&quot;inputTopic&quot;, Consumed.with(Serdes.String(), Serdes.String()));\n                .groupByKey()\n                .windowedBy(TimeWindows.ofSizeAndGrace(Duration.ofSeconds(30), Duration.ofMillis(3000)))\n                .reduce((oldValue, newValue) -&gt; newValue)\n                .toStream()\n                .map(((stringWindowed, value) -&gt; new KeyValue&lt;&gt;(stringWindowed.key(), value)))\n                .to(&quot;outputTopic&quot;, Produced.with(Serdes.String(), Serdes.String()));\n        return stream;\n    }\n}\n</code></pre>\n<p>My consumer look like that:</p>\n<pre><code>    @KafkaListener(topics = {&quot;output-topic&quot;}, groupId = &quot;spring.kafka.consumer.group-id&quot;)\n    public void consumeEventRelease(ConsumerRecord&lt;String, String&gt; consumerRecord)  {\n        log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value());\n        //some further implementation\n    }\n</code></pre>\n<p>As you can see I also used 'exactly_once' property.\nI'm not sure what am I missing here, I would appreciate some help. Maybe I should use spring-cloud-streams for it?</p>\n"},{"tags":["java","graph","gremlin"],"comments":[{"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1695735543,"post_id":77175082,"comment_id":136062104,"body_markdown":"the `mergeE` step is intended to be used when looking for exact matches. Passing in a Predicate like `lte` is not going to do what it appears it may. In this particular case using the older `fold` ... `coalesce` pattern is likely going to be easier. As time allows I will try to write up an answer with an example.","body":"the <code>mergeE</code> step is intended to be used when looking for exact matches. Passing in a Predicate like <code>lte</code> is not going to do what it appears it may. In this particular case using the older <code>fold</code> ... <code>coalesce</code> pattern is likely going to be easier. As time allows I will try to write up an answer with an example."}],"answers":[{"comments":[{"owner":{"account_id":5599849,"reputation":3,"user_id":4436430,"display_name":"Ravi Agarwal"},"score":0,"creation_date":1695823476,"post_id":77180674,"comment_id":136075795,"body_markdown":"Thanks, Kevin. Based on your suggestion, I was able to get the coalesce step work for me!","body":"Thanks, Kevin. Based on your suggestion, I was able to get the coalesce step work for me!"}],"tags":[],"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695736398,"creation_date":1695736398,"answer_id":77180674,"question_id":77175082,"body_markdown":"The `mergeE` step is intended to be used when looking for exact matches. Passing in a Predicate like `lte` is not going to do what it appears it may. In this particular case using the older `fold` ... `coalesce` pattern is likely going to be easier.  \r\n\r\nUsing the air routes data set, we can use a query like the following to see if an edge exists where the `elev` property is greater than 9,500 and the incoming vertex has an ID of 56 and the outgoing vertex has an ID of 35.\r\n\r\n```java\r\ng.E().hasLabel(&#39;route&#39;).\r\n      has(&#39;dist&#39;,gte(9500)).\r\n      where(inV().hasId(56).and().outV().hasId(35))   \r\n```\r\n\r\nWhen run in the Gremlin console we can see that it finds a matching edge.\r\n\r\n```java\r\ngremlin&gt; g.E().hasLabel(&#39;route&#39;).\r\n......1&gt;       has(&#39;dist&#39;,gte(9500)).\r\n......2&gt;       where(inV().hasId(56).and().outV().hasId(35)) \r\n  \r\n==&gt;e[8239][35-route-&gt;56] \r\n```\r\n\r\nFor the case where the edge does not exist, the `fold`...`coalesce` pattern can be used.\r\n\r\n```java\r\ng.E().hasLabel(&#39;route&#39;).\r\n      has(&#39;dist&#39;,gte(9500)).\r\n      where(inV().hasId(56).and().outV().hasId(35)).\r\n      fold().\r\n      coalesce(unfold(),addE(&#39;route&#39;).from(V(35)).to(V(56)).property(&#39;dist&#39;,9523))\r\n```\r\n\r\nAny properties that need adding to both an existing edge and a new one, can be added after the `coalesce` step.","title":"Merge edge based on conditional property check","body":"<p>The <code>mergeE</code> step is intended to be used when looking for exact matches. Passing in a Predicate like <code>lte</code> is not going to do what it appears it may. In this particular case using the older <code>fold</code> ... <code>coalesce</code> pattern is likely going to be easier.</p>\n<p>Using the air routes data set, we can use a query like the following to see if an edge exists where the <code>elev</code> property is greater than 9,500 and the incoming vertex has an ID of 56 and the outgoing vertex has an ID of 35.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.E().hasLabel('route').\n      has('dist',gte(9500)).\n      where(inV().hasId(56).and().outV().hasId(35))   \n</code></pre>\n<p>When run in the Gremlin console we can see that it finds a matching edge.</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt; g.E().hasLabel('route').\n......1&gt;       has('dist',gte(9500)).\n......2&gt;       where(inV().hasId(56).and().outV().hasId(35)) \n  \n==&gt;e[8239][35-route-&gt;56] \n</code></pre>\n<p>For the case where the edge does not exist, the <code>fold</code>...<code>coalesce</code> pattern can be used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.E().hasLabel('route').\n      has('dist',gte(9500)).\n      where(inV().hasId(56).and().outV().hasId(35)).\n      fold().\n      coalesce(unfold(),addE('route').from(V(35)).to(V(56)).property('dist',9523))\n</code></pre>\n<p>Any properties that need adding to both an existing edge and a new one, can be added after the <code>coalesce</code> step.</p>\n"}],"owner":{"account_id":5599849,"reputation":3,"user_id":4436430,"display_name":"Ravi Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77180674,"answer_count":1,"score":0,"last_activity_date":1695736398,"creation_date":1695667739,"question_id":77175082,"body_markdown":"My edge contains properties `active` and `inactive`. I am trying to perform `add if not exists` for the edge where the condition is to check if the input date falls between `active` and `inactive` dates or not.\r\n\r\nI am getting the below error\r\n\r\n`Caused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Graph traversal error, message=option(onCreate) cannot override values from merge() argument: (active, 1695658399064), code=ILLEGAL_INPUT`\r\n\r\n```\r\ng.mergeE(asMap(\r\n\t\tT.label, &quot;ben&quot;,\r\n\t\t&quot;active&quot;, lte(&quot;1695658399064&quot;),\r\n\t\t&quot;inactive&quot;, gt(&quot;1695658399064&quot;),\r\n\t\tDirection.IN, Merge.inV,\r\n\t\tDirection.OUT, Merge.outV\r\n\t))\r\n\t.option(Merge.onCreate, asMap(\r\n\t\t\tT.label, &quot;ben&quot;,\r\n\t\t\t&quot;active&quot;, 1695658399064,\r\n\t\t\t&quot;inactive&quot;, 1995658399064,\r\n\t\t\tDirection.IN, Merge.inV,\r\n\t\t\tDirection.OUT, Merge.outV\r\n\t))\r\n        .option(Merge.inV, select(&quot;v1&quot;))\r\n        .option(Merge.outV, select(&quot;v2&quot;))\r\n```","title":"Merge edge based on conditional property check","body":"<p>My edge contains properties <code>active</code> and <code>inactive</code>. I am trying to perform <code>add if not exists</code> for the edge where the condition is to check if the input date falls between <code>active</code> and <code>inactive</code> dates or not.</p>\n<p>I am getting the below error</p>\n<p><code>Caused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Graph traversal error, message=option(onCreate) cannot override values from merge() argument: (active, 1695658399064), code=ILLEGAL_INPUT</code></p>\n<pre><code>g.mergeE(asMap(\n        T.label, &quot;ben&quot;,\n        &quot;active&quot;, lte(&quot;1695658399064&quot;),\n        &quot;inactive&quot;, gt(&quot;1695658399064&quot;),\n        Direction.IN, Merge.inV,\n        Direction.OUT, Merge.outV\n    ))\n    .option(Merge.onCreate, asMap(\n            T.label, &quot;ben&quot;,\n            &quot;active&quot;, 1695658399064,\n            &quot;inactive&quot;, 1995658399064,\n            Direction.IN, Merge.inV,\n            Direction.OUT, Merge.outV\n    ))\n        .option(Merge.inV, select(&quot;v1&quot;))\n        .option(Merge.outV, select(&quot;v2&quot;))\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1695736100,"post_id":77180519,"comment_id":136062229,"body_markdown":"Have the circle at same level inside a new layout . right now circle contains the icon thats the problem . Use a new layout as wrapper.. `FrameLayout(outer)-&gt; FrameLayout(circle) + ImageView`","body":"Have the circle at same level inside a new layout . right now circle contains the icon thats the problem . Use a new layout as wrapper.. <code>FrameLayout(outer)-&gt; FrameLayout(circle) + ImageView</code>"}],"answers":[{"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1695737513,"post_id":77180672,"comment_id":136062574,"body_markdown":"I was going to comment the same","body":"I was going to comment the same"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1695739316,"post_id":77180672,"comment_id":136062982,"body_markdown":"Thank you for the answers guys , this answer did not work","body":"Thank you for the answers guys , this answer did not work"}],"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736383,"creation_date":1695736383,"answer_id":77180672,"question_id":77180519,"body_markdown":"The ImageView rotates with the FrameLayout I dont see how u can prevent it. however u can rotate the ImageView by the same amount but in the opposite direction.\r\n\r\n    private void rotateCircle() {\r\n        // this rotates circle each 1 second by -45 degrees\r\n        ViewPropertyAnimator circleAnimator = circle.animate().rotationBy(-45);\r\n        circleAnimator.start();\r\n    \r\n        // counteract the rotation on the icon\r\n        ViewPropertyAnimator iconAnimator = icon.animate().rotationBy(45);\r\n        iconAnimator.start();\r\n    }\r\n\r\n","title":"Animation and Rotation on circluar view in android","body":"<p>The ImageView rotates with the FrameLayout I dont see how u can prevent it. however u can rotate the ImageView by the same amount but in the opposite direction.</p>\n<pre><code>private void rotateCircle() {\n    // this rotates circle each 1 second by -45 degrees\n    ViewPropertyAnimator circleAnimator = circle.animate().rotationBy(-45);\n    circleAnimator.start();\n\n    // counteract the rotation on the icon\n    ViewPropertyAnimator iconAnimator = icon.animate().rotationBy(45);\n    iconAnimator.start();\n}\n</code></pre>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695736383,"creation_date":1695735223,"question_id":77180519,"body_markdown":"I have created a circular frameLayout, inside this frameLayout i have another view which an icon of charactor , in my code i&#39;m rotating that circular layout each 1 second by -45 degress continousely , the issue that i have run into is that while the circle is rotating , it rotates the icon inside as well , is there anyway to prevent it from rotating , Thank you in advance for any help .\r\n\r\n\r\n * This is the layout \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/circle&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;180dp&quot;\r\n        android:background=&quot;@drawable/circle_shape&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/icon&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginBottom=&quot;20dp&quot;\r\n            android:src=&quot;@drawable/download&quot;\r\n            android:scaleType=&quot;centerInside&quot;\r\n            android:translationY=&quot;40dp&quot;\r\n            /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/animate&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_marginBottom=&quot;124dp&quot;\r\n        android:text=&quot;animate&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.536&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n * This is the code used to rotate circle\r\n\r\n```\r\n animate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pulsateIcon();\r\n\r\n                Handler handler = new Handler(Looper.getMainLooper());\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        rotateCircle();\r\n                        handler.postDelayed(this,1000);\r\n                    }\r\n                },1000);\r\n\r\n            }\r\n        });\r\n\r\n private void rotateCircle() {\r\n\r\n        // this rotates circle each 1 second by -45 degress\r\n        ViewPropertyAnimator viewPropertyAnimator =  circle.animate().rotationBy(-45);\r\n        viewPropertyAnimator.start();\r\n        \r\n        // i want to stop this view from rotating as it rotates with circle\r\n        icon.animate().rotationBy(0f);\r\n\r\n    }\r\n\r\n    private void pulsateIcon(){\r\n         if(!isPulsating){\r\n             isPulsating = true;\r\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.4f),\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.4f));\r\n             objectAnimator.setInterpolator(new BounceInterpolator());\r\n             objectAnimator.setDuration(2500);\r\n             objectAnimator.start();\r\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\r\n                 @Override\r\n                 public void onAnimationEnd(Animator animation) {\r\n                     super.onAnimationEnd(animation);\r\n                     pulsateIcon();\r\n                 }\r\n             });\r\n         } else {\r\n             isPulsating = false;\r\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.0f),\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.0f));\r\n             objectAnimator.setInterpolator(new BounceInterpolator());\r\n             objectAnimator.setDuration(2500);\r\n             objectAnimator.start();\r\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\r\n                 @Override\r\n                 public void onAnimationEnd(Animator animation) {\r\n                     super.onAnimationEnd(animation);\r\n                     pulsateIcon();\r\n                 }\r\n             });\r\n         }\r\n     }\r\n```","title":"Animation and Rotation on circluar view in android","body":"<p>I have created a circular frameLayout, inside this frameLayout i have another view which an icon of charactor , in my code i'm rotating that circular layout each 1 second by -45 degress continousely , the issue that i have run into is that while the circle is rotating , it rotates the icon inside as well , is there anyway to prevent it from rotating , Thank you in advance for any help .</p>\n<ul>\n<li>This is the layout</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/circle&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;180dp&quot;\n        android:background=&quot;@drawable/circle_shape&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/icon&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;20dp&quot;\n            android:src=&quot;@drawable/download&quot;\n            android:scaleType=&quot;centerInside&quot;\n            android:translationY=&quot;40dp&quot;\n            /&gt;\n\n    &lt;/FrameLayout&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/animate&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_marginBottom=&quot;124dp&quot;\n        android:text=&quot;animate&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.536&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<ul>\n<li>This is the code used to rotate circle</li>\n</ul>\n<pre><code> animate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pulsateIcon();\n\n                Handler handler = new Handler(Looper.getMainLooper());\n                handler.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        rotateCircle();\n                        handler.postDelayed(this,1000);\n                    }\n                },1000);\n\n            }\n        });\n\n private void rotateCircle() {\n\n        // this rotates circle each 1 second by -45 degress\n        ViewPropertyAnimator viewPropertyAnimator =  circle.animate().rotationBy(-45);\n        viewPropertyAnimator.start();\n        \n        // i want to stop this view from rotating as it rotates with circle\n        icon.animate().rotationBy(0f);\n\n    }\n\n    private void pulsateIcon(){\n         if(!isPulsating){\n             isPulsating = true;\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.4f),\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.4f));\n             objectAnimator.setInterpolator(new BounceInterpolator());\n             objectAnimator.setDuration(2500);\n             objectAnimator.start();\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\n                 @Override\n                 public void onAnimationEnd(Animator animation) {\n                     super.onAnimationEnd(animation);\n                     pulsateIcon();\n                 }\n             });\n         } else {\n             isPulsating = false;\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.0f),\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.0f));\n             objectAnimator.setInterpolator(new BounceInterpolator());\n             objectAnimator.setDuration(2500);\n             objectAnimator.start();\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\n                 @Override\n                 public void onAnimationEnd(Animator animation) {\n                     super.onAnimationEnd(animation);\n                     pulsateIcon();\n                 }\n             });\n         }\n     }\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695736433,"post_id":77180599,"comment_id":136062313,"body_markdown":"What does `LinkedListBase` look like? Does it also have a field `head`? Did you declare the field `head` in both classes? Note that fields aren&#39;t overridden in java inheritence. So if you did you&#39;ll just end up with your subclass `DoublyLinkedList` having 2 `head` fields. (With one shadowing the other )","body":"What does <code>LinkedListBase</code> look like? Does it also have a field <code>head</code>? Did you declare the field <code>head</code> in both classes? Note that fields aren&#39;t overridden in java inheritence. So if you did you&#39;ll just end up with your subclass <code>DoublyLinkedList</code> having 2 <code>head</code> fields. (With one shadowing the other )"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695739985,"post_id":77180599,"comment_id":136063148,"body_markdown":"There is no reason to write `super();` in the constructor. It will call the base class&#39;s constructor by default. At what line are you getting the exception?","body":"There is no reason to write <code>super();</code> in the constructor. It will call the base class&#39;s constructor by default. At what line are you getting the exception?"},{"owner":{"account_id":8073162,"reputation":7029,"user_id":6085193,"accept_rate":79,"display_name":"Transformer"},"score":0,"creation_date":1695743682,"post_id":77180599,"comment_id":136064040,"body_markdown":"*First issue*, while you are utilizing a `LinkedListBase&lt;Integer&gt;` of generic type, however, the `LinkedListBase` class in the provided code is not generic. \n\nI modified it to `LinkedListBase&lt;E&gt;` in order to mathcup with the generic type of DoublyLinkedList seems to work for me\n\n___________\n\n*Second Issue*: also within your ListTest class, tyour seem to be printing `list1.head` after invokeing `testLinkedInsert`. \n\nProblem issue here is that the head property in your `DoublyLinkedList` class cannot be accessed as it is declared as `private`. ***change it to public***","body":"<i>First issue</i>, while you are utilizing a <code>LinkedListBase&lt;Integer&gt;</code> of generic type, however, the <code>LinkedListBase</code> class in the provided code is not generic.   I modified it to <code>LinkedListBase&lt;E&gt;</code> in order to mathcup with the generic type of DoublyLinkedList seems to work for me  ___________  <i>Second Issue</i>: also within your ListTest class, tyour seem to be printing <code>list1.head</code> after invokeing <code>testLinkedInsert</code>.   Problem issue here is that the head property in your <code>DoublyLinkedList</code> class cannot be accessed as it is declared as <code>private</code>. <b><i>change it to public</i></b>"}],"owner":{"account_id":29090457,"reputation":11,"user_id":22284459,"display_name":"Emmanuel Pierre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695741587,"answer_count":0,"score":1,"last_activity_date":1695735830,"creation_date":1695735830,"question_id":77180599,"body_markdown":"Here&#39;s my node class:\r\n\r\n```\r\npackage esp.types;\r\n\r\npublic class Node&lt;E&gt; {\r\n    public E value;\r\n    public Node&lt;E&gt; next;\r\n\r\n    public Node(E value) {\r\n        this.value = value;\r\n        this.next = null;\r\n    }\r\n\r\n    public Node(E value, Node&lt;E&gt; next) {\r\n        this.value = value;\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s my DoublyLinkedList class:\r\n```\r\npackage esp.impls;\r\n\r\nimport esp.impls.LinkedListBase;\r\nimport esp.types.Node;\r\n\r\npublic class DoublyLinkedList&lt;E&gt; extends LinkedListBase&lt;E&gt; {\r\n    public Node&lt;E&gt; head;\r\n    private Node&lt;E&gt; currPos;\r\n\r\n    public DoublyLinkedList() {\r\n        super();\r\n    }\r\n    public Node&lt;E&gt; getHead() {\r\n        return this.head;\r\n    }\r\n    public void insert(E item) {\r\n        if (this.head == null) {\r\n            this.head = new Node&lt;E&gt;(item);\r\n            return;\r\n        }\r\n        Node&lt;E&gt; temp = head;\r\n        while (temp.next != null) {\r\n            temp = temp.next;\r\n        }\r\n        temp.next = new Node&lt;E&gt;(item);\r\n    }\r\n\r\n    public void delete(E item) {\r\n        System.out.println(&quot;built&quot;);\r\n    }\r\n\r\n    public int getLength() {\r\n        Node&lt;E&gt; temp = head;\r\n        int count = 0;\r\n        while (temp != null) {\r\n            count++;\r\n            temp = temp.next;\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public int searchItem(E item) {\r\n        return 0;\r\n\r\n    }\r\n\r\n    public E getNextItem() {\r\n        E please = head.value;\r\n        return please;\r\n    }\r\n\r\n    public void resetList() {\r\n        System.out.print(&quot;built&quot;);\r\n    }\r\n\r\n}\r\n```\r\nAnd here&#39;s where I test:\r\n```\r\npackage esp.tests;\r\n\r\nimport esp.impls.DoublyLinkedList;\r\nimport esp.impls.LinkedListBase;\r\nimport esp.types.Node;\r\n\r\npublic class ListTest {\r\n    public static void main(String[] args) {\r\n        LinkedListBase&lt;Integer&gt; list1 = new DoublyLinkedList&lt;Integer&gt;();\r\n        list1 = testLinkedInsert(list1);\r\n        System.out.println(list1.head);\r\n    }\r\n    public static void testLinked(LinkedListBase&lt;Integer&gt; list) {\r\n        testLinkedInsert(list);\r\n        testLinkedDelete(list);\r\n        testLinkedLength(list);\r\n    }\r\n\r\n    public static LinkedListBase&lt;Integer&gt; testLinkedInsert(LinkedListBase&lt;Integer&gt; listl) {\r\n        System.out.println(&quot;Testing Insert&quot;);\r\n        listl.insert(10);\r\n        printList(listl);\r\n        System.out.println(&quot;Done!\\n&quot;);\r\n        return listl;\r\n    }\r\n\r\n    public static void testLinkedDelete(LinkedListBase&lt;Integer&gt; list) {\r\n        System.out.println(&quot;Testing Delete&quot;);\r\n        list.delete(10);\r\n        list.delete(20);\r\n        list.delete(0);\r\n        System.out.println(&quot;Done!\\n&quot;);\r\n    }\r\n\r\n    public static void testLinkedLength(LinkedListBase&lt;Integer&gt; list) {\r\n        System.out.println(&quot;Testing Length&quot;);\r\n        list.getLength();\r\n        System.out.println(&quot;Done!\\n&quot;);\r\n    }\r\n\r\n    public static void printList(LinkedListBase&lt;Integer&gt; list) {\r\n        Node&lt;Integer&gt; temp = list.head;\r\n        for (int i = 0; i &lt; list.getLength(); i++) {\r\n            if (i == 0) {\r\n                System.out.print(&quot;[&quot;);\r\n            }\r\n            //System.out.print(temp.value);\r\n            if (i == list.getLength() - 1) {\r\n                System.out.println(&quot;]&quot;);\r\n            } else {\r\n                System.out.print(&quot;, &quot;);\r\n            }\r\n            //temp = temp.next;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nWhen I first tried to do test inserting I go null pointer exceptions and then I tried to see why so I found out that when I&#39;m in my testing class, the head is coming up null.\r\n\r\n\r\nI tried checking to see if this happens in the insert method, but it is correctly updating the head while in that method. But when I go to the ListTest class the head is null. I can&#39;t find the issue at all.","title":"Why is my head coming up null when I try to insert into LinkedList (ignore the name DoublyLinkedList it&#39;s not one yet)?","body":"<p>Here's my node class:</p>\n<pre><code>package esp.types;\n\npublic class Node&lt;E&gt; {\n    public E value;\n    public Node&lt;E&gt; next;\n\n    public Node(E value) {\n        this.value = value;\n        this.next = null;\n    }\n\n    public Node(E value, Node&lt;E&gt; next) {\n        this.value = value;\n        this.next = next;\n    }\n}\n</code></pre>\n<p>And here's my DoublyLinkedList class:</p>\n<pre><code>package esp.impls;\n\nimport esp.impls.LinkedListBase;\nimport esp.types.Node;\n\npublic class DoublyLinkedList&lt;E&gt; extends LinkedListBase&lt;E&gt; {\n    public Node&lt;E&gt; head;\n    private Node&lt;E&gt; currPos;\n\n    public DoublyLinkedList() {\n        super();\n    }\n    public Node&lt;E&gt; getHead() {\n        return this.head;\n    }\n    public void insert(E item) {\n        if (this.head == null) {\n            this.head = new Node&lt;E&gt;(item);\n            return;\n        }\n        Node&lt;E&gt; temp = head;\n        while (temp.next != null) {\n            temp = temp.next;\n        }\n        temp.next = new Node&lt;E&gt;(item);\n    }\n\n    public void delete(E item) {\n        System.out.println(&quot;built&quot;);\n    }\n\n    public int getLength() {\n        Node&lt;E&gt; temp = head;\n        int count = 0;\n        while (temp != null) {\n            count++;\n            temp = temp.next;\n        }\n        return count;\n    }\n\n    public int searchItem(E item) {\n        return 0;\n\n    }\n\n    public E getNextItem() {\n        E please = head.value;\n        return please;\n    }\n\n    public void resetList() {\n        System.out.print(&quot;built&quot;);\n    }\n\n}\n</code></pre>\n<p>And here's where I test:</p>\n<pre><code>package esp.tests;\n\nimport esp.impls.DoublyLinkedList;\nimport esp.impls.LinkedListBase;\nimport esp.types.Node;\n\npublic class ListTest {\n    public static void main(String[] args) {\n        LinkedListBase&lt;Integer&gt; list1 = new DoublyLinkedList&lt;Integer&gt;();\n        list1 = testLinkedInsert(list1);\n        System.out.println(list1.head);\n    }\n    public static void testLinked(LinkedListBase&lt;Integer&gt; list) {\n        testLinkedInsert(list);\n        testLinkedDelete(list);\n        testLinkedLength(list);\n    }\n\n    public static LinkedListBase&lt;Integer&gt; testLinkedInsert(LinkedListBase&lt;Integer&gt; listl) {\n        System.out.println(&quot;Testing Insert&quot;);\n        listl.insert(10);\n        printList(listl);\n        System.out.println(&quot;Done!\\n&quot;);\n        return listl;\n    }\n\n    public static void testLinkedDelete(LinkedListBase&lt;Integer&gt; list) {\n        System.out.println(&quot;Testing Delete&quot;);\n        list.delete(10);\n        list.delete(20);\n        list.delete(0);\n        System.out.println(&quot;Done!\\n&quot;);\n    }\n\n    public static void testLinkedLength(LinkedListBase&lt;Integer&gt; list) {\n        System.out.println(&quot;Testing Length&quot;);\n        list.getLength();\n        System.out.println(&quot;Done!\\n&quot;);\n    }\n\n    public static void printList(LinkedListBase&lt;Integer&gt; list) {\n        Node&lt;Integer&gt; temp = list.head;\n        for (int i = 0; i &lt; list.getLength(); i++) {\n            if (i == 0) {\n                System.out.print(&quot;[&quot;);\n            }\n            //System.out.print(temp.value);\n            if (i == list.getLength() - 1) {\n                System.out.println(&quot;]&quot;);\n            } else {\n                System.out.print(&quot;, &quot;);\n            }\n            //temp = temp.next;\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>When I first tried to do test inserting I go null pointer exceptions and then I tried to see why so I found out that when I'm in my testing class, the head is coming up null.</p>\n<p>I tried checking to see if this happens in the insert method, but it is correctly updating the head while in that method. But when I go to the ListTest class the head is null. I can't find the issue at all.</p>\n"},{"tags":["java","json","spring","spring-boot","fasterxml"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695736909,"post_id":77175765,"comment_id":136062444,"body_markdown":"If you are using the `@JsonSerialize` annotation you don&#39;t have to add the serializer within `simpleModule.addSerializer()`. Could you try removing/commenting the annotation and checking result?","body":"If you are using the <code>@JsonSerialize</code> annotation you don&#39;t have to add the serializer within <code>simpleModule.addSerializer()</code>. Could you try removing/commenting the annotation and checking result?"},{"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"score":0,"creation_date":1695755490,"post_id":77175765,"comment_id":136066146,"body_markdown":"modal classes are from external library , I will not be able to modify the classes to add @JsonSerialize annotation, Is there any alternative way we can implement the solution.","body":"modal classes are from external library , I will not be able to modify the classes to add @JsonSerialize annotation, Is there any alternative way we can implement the solution."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695761378,"post_id":77175765,"comment_id":136067124,"body_markdown":"Sorry, I missed some of your thoughts in the question. So you can&#39;t change both the controller that returns the data and the object?","body":"Sorry, I missed some of your thoughts in the question. So you can&#39;t change both the controller that returns the data and the object?"},{"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"score":0,"creation_date":1695761687,"post_id":77175765,"comment_id":136067175,"body_markdown":"I can change the controller but response pojo class that I can not change due to external dependencies.","body":"I can change the controller but response pojo class that I can not change due to external dependencies."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695761982,"post_id":77175765,"comment_id":136067229,"body_markdown":"But you can create another class as `Group` without `List&lt;User&gt;` and use it instead of the original one in the controller. It seems to be easy if the `Group` class contains only that list.","body":"But you can create another class as <code>Group</code> without <code>List&lt;User&gt;</code> and use it instead of the original one in the controller. It seems to be easy if the <code>Group</code> class contains only that list."},{"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"score":0,"creation_date":1695762327,"post_id":77175765,"comment_id":136067281,"body_markdown":"I just gave example , but response pojo class is very huge and it contains number complex attributes.","body":"I just gave example , but response pojo class is very huge and it contains number complex attributes."}],"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695735705,"creation_date":1695676680,"question_id":77175765,"body_markdown":"I&#39;ve below Group and User Model objects\r\n\r\n   \r\n\r\n     public class Group {\r\n                List&lt;User&gt; user;\r\n            }\r\n        \r\n            public class User {\r\n                String title;\r\n            }\r\n\r\nI&#39;m using Jackson to serialize this Group Object. I want to return  single User object in the response instead of returning `List&lt;User&gt;` array. Basically I want to convert `List&lt;User&gt;` to User to send User as an object in the json response instead of list.   I can not use @Jsonserelize annotation serialize the List data to object due to modal objects are generated from external schema.\r\n\r\nI know that I can use below annotation to apply converter but unfortunately in my case, modal classes are generated from external schema and I do not have option to add below annotation. \r\n\r\n    @JsonSerialize(converter = ListUserConverter.class)\r\n    List&lt;User&gt; user;\r\n\r\nI thought I could add something like below however getting compile time and looks like not supported for List of specific type.\r\n\r\n\r\n   \r\n\r\n     simpleModule.addSerializer(List&lt;User&gt;.class, new StdDelegatingSerializer(new ListUserConverter()));\r\n\r\n    public class ListUserConverter extends StdConverter&lt;List&lt;User&gt;, User&gt; {\r\n        @Override\r\n        public User convert(List&lt;User&gt; users) {\r\n            return users.get(0);\r\n        }\r\n    }\r\n\r\nIs there any another way to apply custom converter specific List&lt;User&gt; to convert list to object?\r\n\r\nHow do I serialize only  List&lt;User&gt; to User (get first object from list) with out annotation usage?\r\n\r\n","title":"ObjectMapper Custom serializer for serializing a List&lt;User&gt; to User object","body":"<p>I've below Group and User Model objects</p>\n<pre><code> public class Group {\n            List&lt;User&gt; user;\n        }\n    \n        public class User {\n            String title;\n        }\n</code></pre>\n<p>I'm using Jackson to serialize this Group Object. I want to return  single User object in the response instead of returning <code>List&lt;User&gt;</code> array. Basically I want to convert <code>List&lt;User&gt;</code> to User to send User as an object in the json response instead of list.   I can not use @Jsonserelize annotation serialize the List data to object due to modal objects are generated from external schema.</p>\n<p>I know that I can use below annotation to apply converter but unfortunately in my case, modal classes are generated from external schema and I do not have option to add below annotation.</p>\n<pre><code>@JsonSerialize(converter = ListUserConverter.class)\nList&lt;User&gt; user;\n</code></pre>\n<p>I thought I could add something like below however getting compile time and looks like not supported for List of specific type.</p>\n<pre><code> simpleModule.addSerializer(List&lt;User&gt;.class, new StdDelegatingSerializer(new ListUserConverter()));\n\npublic class ListUserConverter extends StdConverter&lt;List&lt;User&gt;, User&gt; {\n    @Override\n    public User convert(List&lt;User&gt; users) {\n        return users.get(0);\n    }\n}\n</code></pre>\n<p>Is there any another way to apply custom converter specific List to convert list to object?</p>\n<p>How do I serialize only  List to User (get first object from list) with out annotation usage?</p>\n"},{"tags":["java","ssl","spring-webclient","reactor-netty"],"comments":[{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":2,"creation_date":1682587013,"post_id":76118252,"comment_id":134240551,"body_markdown":"Take a tcp dump, if the other peer closes the connection then you need to find why that peer decided to close it. Check logs etc. ...","body":"Take a tcp dump, if the other peer closes the connection then you need to find why that peer decided to close it. Check logs etc. ..."},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1683382551,"post_id":76118252,"comment_id":134359979,"body_markdown":"What does the `getSslContext()` method look like? Can you add that to the question?","body":"What does the <code>getSslContext()</code> method look like? Can you add that to the question?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1683502823,"post_id":76118252,"comment_id":134372466,"body_markdown":"Does the server trust your client certificiate?","body":"Does the server trust your client certificiate?"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1683507580,"post_id":76118252,"comment_id":134372861,"body_markdown":"Yes it does, verified on the server the handshake is successful","body":"Yes it does, verified on the server the handshake is successful"},{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":0,"creation_date":1683642775,"post_id":76118252,"comment_id":134395923,"body_markdown":"does the server have some firewall configuration?","body":"does the server have some firewall configuration?"},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1683672939,"post_id":76118252,"comment_id":134402071,"body_markdown":"@PatPanda besides the message, are the requests successful? In the spring cloud repo the issue was mentioned as logged but not blocking/breaking the flow https://github.com/spring-cloud/spring-cloud-gateway/issues/2493","body":"@PatPanda besides the message, are the requests successful? In the spring cloud repo the issue was mentioned as logged but not blocking/breaking the flow <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/2493\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/issues/2493</a>"}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683723153,"creation_date":1683723153,"answer_id":76218653,"question_id":76118252,"body_markdown":"You can enable debug for the javax.net package while launching your application, using `-Djavax.net.debug=SSL` or better full logging coverage `-Djavax.net.debug=ALL` java options.\r\n\r\nThere are many timeouts you should configure, and set only one can work out of the box, but sometimes not. Check your configuration.\r\n\r\n    HttpClient.create()\r\n      .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient())\r\n        .defaultConfiguration(SslProvider.DefaultConfigurationType.TCP)\r\n        .handshakeTimeout(Duration.ofSeconds(60))\r\n        .closeNotifyFlushTimeout(Duration.ofSeconds(20))\r\n        .closeNotifyReadTimeout(Duration.ofSeconds(20)));\r\n\r\nDo you have configured a proxy ? Here an example with HTTP, not HTTPS.\r\n\r\n    HttpClient.create()\r\n      .proxy(spec -&gt; spec.type(ProxyProvider.Proxy.HTTP)\r\n        .host(&quot;proxy&quot;)\r\n        .port(8080)\r\n        .connectTimeoutMillis(60000));\r\n\r\nReactive webclient HTTP response timeout :\r\n\r\n    webClient.get()\r\n      .uri(&quot;https://stackoverflow.com&quot;)\r\n      .retrieve()\r\n      .bodyToFlux(JsonNode.class)\r\n      .timeout(Duration.ofSeconds(20));\r\n\r\nReactive webclient HTTP response timeout with exception handling :\r\n\r\n    webClient.get()\r\n      .uri(&quot;https://stackoverflow.com&quot;)\r\n      .retrieve()\r\n      .bodyToFlux(JsonNode.class)\r\n      .timeout(Duration.ofSeconds(5))\r\n      .onErrorMap(ReadTimeoutException.class, ex -&gt; new HttpTimeoutException(&quot;ReadTimeout&quot;))\r\n      .onErrorReturn(SslHandshakeTimeoutException.class, new TextNode(&quot;SslHandshakeTimeout&quot;))\r\n      .doOnError(WriteTimeoutException.class, ex -&gt; log.error(&quot;WriteTimeout&quot;))\r\n\r\nFor the general handshake errors, considering the server part only :\r\n\r\n - The protocol used by client is not supported by server.\r\n - Cipher suite used by client is not supported by server.\r\n - Incorrect certificate : \r\n   - URL host name doesn&#39;t match host name on server certificate.      \r\n   - Incomplete/invalid certificate chain presented to client.      \r\n   - Revoked/expired SSL/TLS certificate sent to the client or server.   \r\n   - Replacement of self-signed certificates in internal networks has    \r\n   caused a path-building error.\r\n   - Client can&#39;t communicate with SNI-enabled server.\r\n\r\nOther causes of handskake failures can be : \r\n - Incorrect System Time\r\n - Man in the middle attack","title":"Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress","body":"<p>You can enable debug for the javax.net package while launching your application, using <code>-Djavax.net.debug=SSL</code> or better full logging coverage <code>-Djavax.net.debug=ALL</code> java options.</p>\n<p>There are many timeouts you should configure, and set only one can work out of the box, but sometimes not. Check your configuration.</p>\n<pre><code>HttpClient.create()\n  .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient())\n    .defaultConfiguration(SslProvider.DefaultConfigurationType.TCP)\n    .handshakeTimeout(Duration.ofSeconds(60))\n    .closeNotifyFlushTimeout(Duration.ofSeconds(20))\n    .closeNotifyReadTimeout(Duration.ofSeconds(20)));\n</code></pre>\n<p>Do you have configured a proxy ? Here an example with HTTP, not HTTPS.</p>\n<pre><code>HttpClient.create()\n  .proxy(spec -&gt; spec.type(ProxyProvider.Proxy.HTTP)\n    .host(&quot;proxy&quot;)\n    .port(8080)\n    .connectTimeoutMillis(60000));\n</code></pre>\n<p>Reactive webclient HTTP response timeout :</p>\n<pre><code>webClient.get()\n  .uri(&quot;https://stackoverflow.com&quot;)\n  .retrieve()\n  .bodyToFlux(JsonNode.class)\n  .timeout(Duration.ofSeconds(20));\n</code></pre>\n<p>Reactive webclient HTTP response timeout with exception handling :</p>\n<pre><code>webClient.get()\n  .uri(&quot;https://stackoverflow.com&quot;)\n  .retrieve()\n  .bodyToFlux(JsonNode.class)\n  .timeout(Duration.ofSeconds(5))\n  .onErrorMap(ReadTimeoutException.class, ex -&gt; new HttpTimeoutException(&quot;ReadTimeout&quot;))\n  .onErrorReturn(SslHandshakeTimeoutException.class, new TextNode(&quot;SslHandshakeTimeout&quot;))\n  .doOnError(WriteTimeoutException.class, ex -&gt; log.error(&quot;WriteTimeout&quot;))\n</code></pre>\n<p>For the general handshake errors, considering the server part only :</p>\n<ul>\n<li>The protocol used by client is not supported by server.</li>\n<li>Cipher suite used by client is not supported by server.</li>\n<li>Incorrect certificate :\n<ul>\n<li>URL host name doesn't match host name on server certificate.</li>\n<li>Incomplete/invalid certificate chain presented to client.</li>\n<li>Revoked/expired SSL/TLS certificate sent to the client or server.</li>\n<li>Replacement of self-signed certificates in internal networks has<br />\ncaused a path-building error.</li>\n<li>Client can't communicate with SNI-enabled server.</li>\n</ul>\n</li>\n</ul>\n<p>Other causes of handskake failures can be :</p>\n<ul>\n<li>Incorrect System Time</li>\n<li>Man in the middle attack</li>\n</ul>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2465,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695735312,"creation_date":1682583671,"question_id":76118252,"body_markdown":"What I want to achieve\r\n\r\n- send http requests to a third party service that has TLS enabled using Reactor Netty http client and Spring Webflux WebClient at a very high traffic (1000+ requests per second)\r\n\r\nWhat I tried\r\n\r\n- using this code:\r\n\r\n```\r\n    @Bean\r\n    public ClientHttpConnector getClientHttpConnector() {\r\n        return new ReactorClientHttpConnector(HttpClient.create().wiretap(true).metrics(true, Function.identity()).protocol(HttpProtocol.HTTP11).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContext()).handshakeTimeout(Duration.ofSeconds(59))));\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public WebClient getWebClient(final ClientHttpConnector clientHttpConnector) {\r\n        return WebClient.builder().baseUrl(hostAndPort).defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE).clientConnector(clientHttpConnector).build();\r\n    }\r\n\r\npublic SslContext getSslContext() {\r\n        try {\r\n            final var keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            try (InputStream file = new FileInputStream(&quot;/path/to/keystore&quot;)) {\r\n                final var keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                keyStore.load(file, &quot;password&quot;.toCharArray());\r\n                keyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\r\n            }\r\n            return SslContextBuilder.forClient().keyManager(keyManagerFactory).trustManager(InsecureTrustManagerFactory.INSTANCE).build();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nplease note ```.handshakeTimeout(Duration.ofSeconds(59))));```\r\n\r\nIssue:\r\n\r\n- Reproducible 100% of the time, I am getting this exception:\r\n\r\n```\r\n10.1xx.2xx.1xx:8888]\r\n\r\n        The connection observed an error\r\n        java.nio.channels.ClosedChannelException: null\r\n        at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1067)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n        at reactor.netty.channel.MicrometerChannelMetricsHandler$TlsMetricsHandler.channelInactive(MicrometerChannelMetricsHandler.java:278)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:403)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n        Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress\r\n        at io.netty.handler.ssl.SslHandler.channelInactive(Unknown Source)\r\n```\r\n\r\nQuestion:\r\n\r\nAs I mentioned, I have ```.handshakeTimeout(Duration.ofSeconds(59))));``` configured. \r\nI even tried changing this magic number to some crazy values such as Integer.MAX_VALUE\r\nHowever, it seems not to be the correct configuration, as I am getting this 100% of the time.\r\n\r\nOn the third party server side, there is no downtime, and they are able to serve traffic to clients other than me at the same timestamp.\r\n\r\nWhat is the appropriate configuration in order to resolve this issue?","title":"Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress","body":"<p>What I want to achieve</p>\n<ul>\n<li>send http requests to a third party service that has TLS enabled using Reactor Netty http client and Spring Webflux WebClient at a very high traffic (1000+ requests per second)</li>\n</ul>\n<p>What I tried</p>\n<ul>\n<li>using this code:</li>\n</ul>\n<pre><code>    @Bean\n    public ClientHttpConnector getClientHttpConnector() {\n        return new ReactorClientHttpConnector(HttpClient.create().wiretap(true).metrics(true, Function.identity()).protocol(HttpProtocol.HTTP11).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContext()).handshakeTimeout(Duration.ofSeconds(59))));\n    }\n\n    @Bean\n    @Primary\n    public WebClient getWebClient(final ClientHttpConnector clientHttpConnector) {\n        return WebClient.builder().baseUrl(hostAndPort).defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE).clientConnector(clientHttpConnector).build();\n    }\n\npublic SslContext getSslContext() {\n        try {\n            final var keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            try (InputStream file = new FileInputStream(&quot;/path/to/keystore&quot;)) {\n                final var keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n                keyStore.load(file, &quot;password&quot;.toCharArray());\n                keyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\n            }\n            return SslContextBuilder.forClient().keyManager(keyManagerFactory).trustManager(InsecureTrustManagerFactory.INSTANCE).build();\n        } catch (final Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>please note <code>.handshakeTimeout(Duration.ofSeconds(59))));</code></p>\n<p>Issue:</p>\n<ul>\n<li>Reproducible 100% of the time, I am getting this exception:</li>\n</ul>\n<pre><code>10.1xx.2xx.1xx:8888]\n\n        The connection observed an error\n        java.nio.channels.ClosedChannelException: null\n        at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1067)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n        at reactor.netty.channel.MicrometerChannelMetricsHandler$TlsMetricsHandler.channelInactive(MicrometerChannelMetricsHandler.java:278)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:403)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Unknown Source)\n        Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress\n        at io.netty.handler.ssl.SslHandler.channelInactive(Unknown Source)\n</code></pre>\n<p>Question:</p>\n<p>As I mentioned, I have <code>.handshakeTimeout(Duration.ofSeconds(59))));</code> configured.\nI even tried changing this magic number to some crazy values such as Integer.MAX_VALUE\nHowever, it seems not to be the correct configuration, as I am getting this 100% of the time.</p>\n<p>On the third party server side, there is no downtime, and they are able to serve traffic to clients other than me at the same timestamp.</p>\n<p>What is the appropriate configuration in order to resolve this issue?</p>\n"},{"tags":["java","static","programming-languages","language-design"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1547484166,"post_id":54184732,"comment_id":95199790,"body_markdown":"See also https://stackoverflow.com/q/5733427/4125191 for another method. It uses `getClass` but not an instance of your class.","body":"See also <a href=\"https://stackoverflow.com/q/5733427/4125191\">stackoverflow.com/q/5733427/4125191</a> for another method. It uses <code>getClass</code> but not an instance of your class."},{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1547558122,"post_id":54184732,"comment_id":95225819,"body_markdown":"Thanks, indeed this is a different but very relevant question.","body":"Thanks, indeed this is a different but very relevant question."}],"answers":[{"comments":[{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1547555531,"post_id":54184858,"comment_id":95224491,"body_markdown":"Thank you. This is a nice way of getting the name, also should work in older API.","body":"Thank you. This is a nice way of getting the name, also should work in older API."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547482597,"creation_date":1547481275,"answer_id":54184858,"question_id":54184732,"body_markdown":"One way I found is to get the current stack trace first:\r\n\r\n    StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n    StackTraceElement current = stackTrace[1];\r\n \r\nThen, call `getClassName` and pass that to `Class.forName`:\r\n\r\n    Class&lt;?&gt; clazz = Class.forName(current.getClassName());","title":"Accesing the .class object statically without using the class name, in java","body":"<p>One way I found is to get the current stack trace first:</p>\n\n<pre><code>StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\nStackTraceElement current = stackTrace[1];\n</code></pre>\n\n<p>Then, call <code>getClassName</code> and pass that to <code>Class.forName</code>:</p>\n\n<pre><code>Class&lt;?&gt; clazz = Class.forName(current.getClassName());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1547558078,"post_id":54185105,"comment_id":95225796,"body_markdown":"Useful to see also the StackWalker API, had not really noticed it in the past.\nI completely agree to the reasons explained for the `,class` in static contect not being available as a core language feature. Thank you.","body":"Useful to see also the StackWalker API, had not really noticed it in the past. I completely agree to the reasons explained for the <code>,class</code> in static contect not being available as a core language feature. Thank you."}],"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547483536,"creation_date":1547482148,"answer_id":54185105,"question_id":54184732,"body_markdown":"A Java 9 approach using the [`StackWalker`][1] API\r\n\r\n    Class&lt;?&gt; currentClass = StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE)\r\n            .walk(s -&gt; s.map(StackFrame::getDeclaringClass).findFirst().orElseThrow());\r\n\r\nThis approach avoids using the class name completely.\r\n\r\n----------\r\n\r\nAs for reasons why whis is not a core language feature, I can only guess, but one thing that comes to my mind are some complications around nested classes that would complicate implementing such a feature through some keyword. It wouldn&#39;t make much sense to add this without a way to refer to possibly multiple outer classes from within a nested class, etc. \r\n\r\nAnother reason is that this is not extremely useful - this is not a feature I&#39;ve ever missed. With todays IDEs and their powerful refactoring tools, using the class name is not very problematic, even if the class is later renamed. Even when generating source code, substituting the class name is relatively straightforward.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.html","title":"Accesing the .class object statically without using the class name, in java","body":"<p>A Java 9 approach using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.html\" rel=\"nofollow noreferrer\"><code>StackWalker</code></a> API</p>\n\n<pre><code>Class&lt;?&gt; currentClass = StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE)\n        .walk(s -&gt; s.map(StackFrame::getDeclaringClass).findFirst().orElseThrow());\n</code></pre>\n\n<p>This approach avoids using the class name completely.</p>\n\n<hr>\n\n<p>As for reasons why whis is not a core language feature, I can only guess, but one thing that comes to my mind are some complications around nested classes that would complicate implementing such a feature through some keyword. It wouldn't make much sense to add this without a way to refer to possibly multiple outer classes from within a nested class, etc. </p>\n\n<p>Another reason is that this is not extremely useful - this is not a feature I've ever missed. With todays IDEs and their powerful refactoring tools, using the class name is not very problematic, even if the class is later renamed. Even when generating source code, substituting the class name is relatively straightforward.</p>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680324694,"creation_date":1666954505,"answer_id":74234341,"question_id":54184732,"body_markdown":"Revisiting this question, I add an oneliner that achieves the same result. The [MethodHandles][1] `class` of utilities returns the `Class&lt;?&gt;` in a single line, with a relatively good performance. This  is easier to memorize, read and copy-paste around. These properties are useful in cases like creating loggers.\r\n\r\n    final Class&lt;?&gt; clazz = MethodHandles.lookup().lookupClass();\r\n\r\nFor a performance benchmark comparison see [here][2] the answer by [Artyom Krivolapov][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.html\r\n  [2]: https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java\r\n  [3]: https://stackoverflow.com/users/1816338/artyom-krivolapov","title":"Accesing the .class object statically without using the class name, in java","body":"<p>Revisiting this question, I add an oneliner that achieves the same result. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.html\" rel=\"nofollow noreferrer\">MethodHandles</a> <code>class</code> of utilities returns the <code>Class&lt;?&gt;</code> in a single line, with a relatively good performance. This  is easier to memorize, read and copy-paste around. These properties are useful in cases like creating loggers.</p>\n<pre><code>final Class&lt;?&gt; clazz = MethodHandles.lookup().lookupClass();\n</code></pre>\n<p>For a performance benchmark comparison see <a href=\"https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java\">here</a> the answer by <a href=\"https://stackoverflow.com/users/1816338/artyom-krivolapov\">Artyom Krivolapov</a></p>\n"}],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74234341,"answer_count":3,"score":3,"last_activity_date":1695735076,"creation_date":1547480868,"question_id":54184732,"body_markdown":"In java it is possible to access the class without using (in other words typing) the name of the class. An example\r\n\r\n    public class Example {\r\n\r\n        /**\r\n         * Non static context, can only be called from an instance.\r\n         */\r\n        public void accessClass() {\r\n            System.out.println(this.getClass());\r\n        }\r\n\r\n    }\r\n\r\n\r\nHowever in a static context there is no similar method but only the .class static field. This question is focused in accessing the .class from within the java class itself, not from other classes.\r\n\r\n\r\n    public class Example2 {\r\n        //field used to demonstrate what is meant by &quot;indirectly referencing the class name.\r\n        private static Class&lt;Example2&gt; otherClass = Example2.class;\r\n        private static int intField = 1;\r\n       /**\r\n         * Non static context, can only be called from an instance.\r\n         */\r\n         public static void accessClass() {\r\n\r\n            // The .class static field can be accessed by using the name of the class\r\n            System.out.println(Example2.class);\r\n\r\n            // However the following is wrong\r\n            // System.out.println(class);\r\n\r\n            // Accessing static fields is in general possible\r\n            System.out.println(intField);\r\n\r\n            // Accessing a static field of the same Class is also possible, but does not satisfy the answer since the class name has been written in the declaration of the field and thus indirectly referenced.\r\n            System.out.println(otherClass);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\nIs there a way to access the `.class` object of a class from a static context of the same class without referencing the class name (neither directly nor indirectly)?\r\n\r\nAnother restriction is that the answer is not allowed to instantiate the class or use the `.getClass()` instance method.\r\n\r\nI have created some examples above that try to demonstrate my findings.\r\nI was surprised to notice that I could not find a way to access the `.class` field without typing the class name from within the same class.\r\n\r\n Is this just a side-effect of some design decisions, a or is there any fundamental reason that accessing `.class` is not possible without the class name?\r\n\r\n ","title":"Accesing the .class object statically without using the class name, in java","body":"<p>In java it is possible to access the class without using (in other words typing) the name of the class. An example</p>\n\n<pre><code>public class Example {\n\n    /**\n     * Non static context, can only be called from an instance.\n     */\n    public void accessClass() {\n        System.out.println(this.getClass());\n    }\n\n}\n</code></pre>\n\n<p>However in a static context there is no similar method but only the .class static field. This question is focused in accessing the .class from within the java class itself, not from other classes.</p>\n\n<pre><code>public class Example2 {\n    //field used to demonstrate what is meant by \"indirectly referencing the class name.\n    private static Class&lt;Example2&gt; otherClass = Example2.class;\n    private static int intField = 1;\n   /**\n     * Non static context, can only be called from an instance.\n     */\n     public static void accessClass() {\n\n        // The .class static field can be accessed by using the name of the class\n        System.out.println(Example2.class);\n\n        // However the following is wrong\n        // System.out.println(class);\n\n        // Accessing static fields is in general possible\n        System.out.println(intField);\n\n        // Accessing a static field of the same Class is also possible, but does not satisfy the answer since the class name has been written in the declaration of the field and thus indirectly referenced.\n        System.out.println(otherClass);\n\n    }\n\n}\n</code></pre>\n\n<p>Is there a way to access the <code>.class</code> object of a class from a static context of the same class without referencing the class name (neither directly nor indirectly)?</p>\n\n<p>Another restriction is that the answer is not allowed to instantiate the class or use the <code>.getClass()</code> instance method.</p>\n\n<p>I have created some examples above that try to demonstrate my findings.\nI was surprised to notice that I could not find a way to access the <code>.class</code> field without typing the class name from within the same class.</p>\n\n<p>Is this just a side-effect of some design decisions, a or is there any fundamental reason that accessing <code>.class</code> is not possible without the class name?</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springfox"],"owner":{"account_id":3405149,"reputation":454,"user_id":2856415,"accept_rate":45,"display_name":"Kovo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695734201,"creation_date":1695734201,"question_id":77180370,"body_markdown":"I want to generate JSON and YAML files with my api spec everytime I build application (Gradle/Maven) that will be stored somewhere in project directory structure, is it possible other than by following class that I wrote ? \r\n\r\nIs there any simple setting that will do the following ?\r\n\r\nClass with code that catches content of DocumentationCache, converts it snd write into file:\r\n\r\n    package com.kovospace.paster.base.swagger.base;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.kovospace.paster.base.swagger.documentationMapperAdapter.DocumentationMapperAdapter;\r\n    import io.swagger.v3.core.util.Json;\r\n    import io.swagger.v3.core.util.Yaml;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.util.StringUtils;\r\n    import springfox.documentation.service.Documentation;\r\n    import springfox.documentation.spring.web.DocumentationCache;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n    import java.util.Optional;\r\n    import java.util.function.BiFunction;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static com.kovospace.paster.base.utils.Utils.exceptionHandler;\r\n    \r\n    //@Component\r\n    public abstract class DocumentGenerator&lt;RESULT_OBJ&gt; implements CommandLineRunner {\r\n    \r\n        protected enum DocumentVersion {\r\n            V2, V3\r\n        }\r\n    \r\n        @Value(&quot;${app.swagger.generated.files.path}&quot;)\r\n        private String storagePath;\r\n    \r\n        @Autowired\r\n        private DocumentationCache documentationCache;\r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        protected abstract DocumentationMapperAdapter&lt;RESULT_OBJ&gt; getMapper();\r\n        protected abstract DocumentVersion getDocumentVersion();\r\n    \r\n        @Override\r\n        public void run(String... args) throws IOException {\r\n        Optional.ofNullable(documentationCache.all())\r\n                    .map(docMap -&gt; docMap.entrySet())\r\n                    .map(docEntries -&gt; docEntries.stream())\r\n                    .orElseGet(Stream::empty)\r\n                    .forEach(docEntry -&gt; generateAllexpectedDocumentTypes(docEntry));\r\n        }\r\n    \r\n        private void generateAllexpectedDocumentTypes(final Map.Entry&lt;String, Documentation&gt; documentation) {\r\n            Arrays.stream(ExpectedDocumentType.values())\r\n                    .forEach(documentType -&gt; {\r\n                        final String outputFilePath = getOutputFilePath(documentation, documentType.extension());\r\n                        final String fileContent = converter.apply(documentation, documentType);\r\n                        writeFile(fileContent, outputFilePath);\r\n                    });\r\n        }\r\n    \r\n        private String getOutputFilePath(final Map.Entry&lt;String, Documentation&gt; documentation, final String extension) {\r\n            return StringUtils.isEmpty(storagePath)\r\n                    ? String.format(\r\n                            &quot;%s-%s.%s&quot;, documentation.getKey(), getDocumentVersion().name(), extension)\r\n                    : String.format(\r\n                            &quot;%s/%s-%s.%s&quot;, storagePath, documentation.getKey(), getDocumentVersion().name(), extension);\r\n        }\r\n    \r\n        private void writeFile(final String document, final String filePath) {\r\n            final File outputFile = new File(filePath);\r\n            if (!outputFile.exists()) {\r\n                outputFile.getParentFile().mkdirs();\r\n                try {\r\n                    outputFile.createNewFile();\r\n                } catch (IOException e) {\r\n                    //TODO\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            try (FileWriter fileWriter = new FileWriter(outputFile)) {\r\n                fileWriter.write(document);\r\n            } catch (Exception e) {\r\n                //TODO\r\n            }\r\n        }\r\n    \r\n        private BiFunction&lt;Map.Entry&lt;String, Documentation&gt;, ExpectedDocumentType, String&gt; converter =\r\n                (documentationEntry, expectedDocumentType) -&gt; {\r\n                    final RESULT_OBJ swagger = getMapper().mapDocumentation(\r\n                            documentationCache.documentationByGroup(documentationEntry.getKey()));\r\n                    switch (expectedDocumentType) {\r\n                        case JSON:\r\n                            return exceptionHandler(() -&gt; Json.pretty(swagger));\r\n                        case YAML:\r\n                        default:\r\n                            return exceptionHandler(() -&gt; Yaml.pretty().writeValueAsString(swagger));\r\n                    }\r\n                };\r\n    }\r\n   \r\n\r\nSpringFox Configuration class:\r\n\r\n    package com.kovospace.paster.base.configurations;\r\n    \r\n    import com.kovospace.paster.base.annotations.swagger.PublicEndpoint;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.MediaType;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    \r\n    import java.util.HashSet;\r\n    \r\n    @Configuration\r\n    public class SwaggerConfig {\r\n    \r\n        //TODO do konstant alebo properties\r\n        private static final String BASE_PACKAGE = &quot;com.kovospace.paster&quot;;\r\n        private static final String PUBLIC_API_GROUPNAME = &quot;public-api&quot;;\r\n        private static final String PRIVATE_API_GROUPNAME = &quot;devel-api&quot;;\r\n        private static final HashSet&lt;String&gt; RETURN_TYPES_POSSIBLE = new HashSet&lt;String&gt;() {{\r\n            add(MediaType.APPLICATION_JSON_VALUE);\r\n        }};\r\n    \r\n        @Bean\r\n        public Docket publicApi() {\r\n            return new Docket(DocumentationType.OAS_30)\r\n                    .groupName(PUBLIC_API_GROUPNAME)\r\n                    .produces(RETURN_TYPES_POSSIBLE)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.withMethodAnnotation(PublicEndpoint.class))\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public Docket developerApi() {\r\n            return new Docket(DocumentationType.OAS_30)\r\n                    .groupName(PRIVATE_API_GROUPNAME)\r\n                    .produces(RETURN_TYPES_POSSIBLE)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(BASE_PACKAGE))\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n    }","title":"SpringFox v3.0.0 get generated JSON and YAML files - store in project source (java resources)","body":"<p>I want to generate JSON and YAML files with my api spec everytime I build application (Gradle/Maven) that will be stored somewhere in project directory structure, is it possible other than by following class that I wrote ?</p>\n<p>Is there any simple setting that will do the following ?</p>\n<p>Class with code that catches content of DocumentationCache, converts it snd write into file:</p>\n<pre><code>package com.kovospace.paster.base.swagger.base;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.kovospace.paster.base.swagger.documentationMapperAdapter.DocumentationMapperAdapter;\nimport io.swagger.v3.core.util.Json;\nimport io.swagger.v3.core.util.Yaml;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.util.StringUtils;\nimport springfox.documentation.service.Documentation;\nimport springfox.documentation.spring.web.DocumentationCache;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.Optional;\nimport java.util.function.BiFunction;\nimport java.util.stream.Stream;\n\nimport static com.kovospace.paster.base.utils.Utils.exceptionHandler;\n\n//@Component\npublic abstract class DocumentGenerator&lt;RESULT_OBJ&gt; implements CommandLineRunner {\n\n    protected enum DocumentVersion {\n        V2, V3\n    }\n\n    @Value(&quot;${app.swagger.generated.files.path}&quot;)\n    private String storagePath;\n\n    @Autowired\n    private DocumentationCache documentationCache;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    protected abstract DocumentationMapperAdapter&lt;RESULT_OBJ&gt; getMapper();\n    protected abstract DocumentVersion getDocumentVersion();\n\n    @Override\n    public void run(String... args) throws IOException {\n    Optional.ofNullable(documentationCache.all())\n                .map(docMap -&gt; docMap.entrySet())\n                .map(docEntries -&gt; docEntries.stream())\n                .orElseGet(Stream::empty)\n                .forEach(docEntry -&gt; generateAllexpectedDocumentTypes(docEntry));\n    }\n\n    private void generateAllexpectedDocumentTypes(final Map.Entry&lt;String, Documentation&gt; documentation) {\n        Arrays.stream(ExpectedDocumentType.values())\n                .forEach(documentType -&gt; {\n                    final String outputFilePath = getOutputFilePath(documentation, documentType.extension());\n                    final String fileContent = converter.apply(documentation, documentType);\n                    writeFile(fileContent, outputFilePath);\n                });\n    }\n\n    private String getOutputFilePath(final Map.Entry&lt;String, Documentation&gt; documentation, final String extension) {\n        return StringUtils.isEmpty(storagePath)\n                ? String.format(\n                        &quot;%s-%s.%s&quot;, documentation.getKey(), getDocumentVersion().name(), extension)\n                : String.format(\n                        &quot;%s/%s-%s.%s&quot;, storagePath, documentation.getKey(), getDocumentVersion().name(), extension);\n    }\n\n    private void writeFile(final String document, final String filePath) {\n        final File outputFile = new File(filePath);\n        if (!outputFile.exists()) {\n            outputFile.getParentFile().mkdirs();\n            try {\n                outputFile.createNewFile();\n            } catch (IOException e) {\n                //TODO\n                throw new RuntimeException(e);\n            }\n        }\n        try (FileWriter fileWriter = new FileWriter(outputFile)) {\n            fileWriter.write(document);\n        } catch (Exception e) {\n            //TODO\n        }\n    }\n\n    private BiFunction&lt;Map.Entry&lt;String, Documentation&gt;, ExpectedDocumentType, String&gt; converter =\n            (documentationEntry, expectedDocumentType) -&gt; {\n                final RESULT_OBJ swagger = getMapper().mapDocumentation(\n                        documentationCache.documentationByGroup(documentationEntry.getKey()));\n                switch (expectedDocumentType) {\n                    case JSON:\n                        return exceptionHandler(() -&gt; Json.pretty(swagger));\n                    case YAML:\n                    default:\n                        return exceptionHandler(() -&gt; Yaml.pretty().writeValueAsString(swagger));\n                }\n            };\n}\n</code></pre>\n<p>SpringFox Configuration class:</p>\n<pre><code>package com.kovospace.paster.base.configurations;\n\nimport com.kovospace.paster.base.annotations.swagger.PublicEndpoint;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.MediaType;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\n\nimport java.util.HashSet;\n\n@Configuration\npublic class SwaggerConfig {\n\n    //TODO do konstant alebo properties\n    private static final String BASE_PACKAGE = &quot;com.kovospace.paster&quot;;\n    private static final String PUBLIC_API_GROUPNAME = &quot;public-api&quot;;\n    private static final String PRIVATE_API_GROUPNAME = &quot;devel-api&quot;;\n    private static final HashSet&lt;String&gt; RETURN_TYPES_POSSIBLE = new HashSet&lt;String&gt;() {{\n        add(MediaType.APPLICATION_JSON_VALUE);\n    }};\n\n    @Bean\n    public Docket publicApi() {\n        return new Docket(DocumentationType.OAS_30)\n                .groupName(PUBLIC_API_GROUPNAME)\n                .produces(RETURN_TYPES_POSSIBLE)\n                .select()\n                .apis(RequestHandlerSelectors.withMethodAnnotation(PublicEndpoint.class))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    @Bean\n    public Docket developerApi() {\n        return new Docket(DocumentationType.OAS_30)\n                .groupName(PRIVATE_API_GROUPNAME)\n                .produces(RETURN_TYPES_POSSIBLE)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(BASE_PACKAGE))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","windows","ubuntu","javac","amd-processor"],"comments":[{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1508636355,"post_id":46869650,"comment_id":80686637,"body_markdown":"If you are trying to install openjdk under wsfl(unbuntu shell for windows) you probably want the headless version. The error appears to be that you already have the headless version openjdk-9-jdk-headless installed.","body":"If you are trying to install openjdk under wsfl(unbuntu shell for windows) you probably want the headless version. The error appears to be that you already have the headless version openjdk-9-jdk-headless installed."},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1508637299,"post_id":46869650,"comment_id":80686767,"body_markdown":"headless does not have any of the graphical libraries as wsfl doesn&#39;t have any display capabilities (AFAIK) ,   Is that what you want or are you just trying to install java for windows ? If you run which java , whats the outpuit","body":"headless does not have any of the graphical libraries as wsfl doesn&#39;t have any display capabilities (AFAIK) ,   Is that what you want or are you just trying to install java for windows ? If you run which java , whats the outpuit"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508637339,"post_id":46869650,"comment_id":80686774,"body_markdown":"Oh man, I had no idea..  But, when I run java *file*, it tells me to install java? So not sure whether it&#39;s set up incorrectly or not there.. Also, excuse my ignorance, but what&#39;s the difference between the headless version and normal?","body":"Oh man, I had no idea..  But, when I run java <i>file</i>, it tells me to install java? So not sure whether it&#39;s set up incorrectly or not there.. Also, excuse my ignorance, but what&#39;s the difference between the headless version and normal?"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508637359,"post_id":46869650,"comment_id":80686779,"body_markdown":"Output is The program &#39;java&#39; can be found in the following packages:\n * default-jre\n * gcj-5-jre-headless\n * openjdk-8-jre-headless\n * gcj-4.8-jre-headless\n * gcj-4.9-jre-headless\n * openjdk-9-jre-headless\nTry: sudo apt install &lt;selected package&gt;","body":"Output is The program &#39;java&#39; can be found in the following packages:  * default-jre  * gcj-5-jre-headless  * openjdk-8-jre-headless  * gcj-4.8-jre-headless  * gcj-4.9-jre-headless  * openjdk-9-jre-headless Try: sudo apt install &lt;selected package&gt;"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508637450,"post_id":46869650,"comment_id":80686794,"body_markdown":"Could it have been that I had installed java for windows but am using an ubuntu shell which is causing this error?","body":"Could it have been that I had installed java for windows but am using an ubuntu shell which is causing this error?"},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1508638130,"post_id":46869650,"comment_id":80686898,"body_markdown":"Have you got a default java and default javac set ? see https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java","body":"Have you got a default java and default javac set ? see <a href=\"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java\" title=\"update java alternatives vs update alternatives config java\">askubuntu.com/questions/315646/&hellip;</a>"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508641347,"post_id":46869650,"comment_id":80687449,"body_markdown":"Ok, I tried installing jdk9-headless and it seems to have worked. I&#39;m thinking I had an imcomplete installation which trying install the normal jdk9 would conflict with.","body":"Ok, I tried installing jdk9-headless and it seems to have worked. I&#39;m thinking I had an imcomplete installation which trying install the normal jdk9 would conflict with."}],"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695734103,"creation_date":1508635364,"question_id":46869650,"body_markdown":"Have a problem installing JDK on Windows-10 x64 computer, while attempting to install `openjdk-9`, would repeatedly encounter message: `Errors were encountered while processing`. This was after running `sudo apt-get update` as well as install with `--fix-missing`. Any help would be much appreciated, thanks in advance!\r\n\r\n[![Error Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rwiNR.png","title":"Openjdk installation error on Win10 x64 - /usr/bin/dpkg returned error code (1)","body":"<p>Have a problem installing JDK on Windows-10 x64 computer, while attempting to install <code>openjdk-9</code>, would repeatedly encounter message: <code>Errors were encountered while processing</code>. This was after running <code>sudo apt-get update</code> as well as install with <code>--fix-missing</code>. Any help would be much appreciated, thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/rwiNR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rwiNR.png\" alt=\"Error Output\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1416127751,"post_id":26955263,"comment_id":42450205,"body_markdown":"Why would there be another way? What is the problem with sendKeys? API designers rarely provide 5 methods doing the same thing.","body":"Why would there be another way? What is the problem with sendKeys? API designers rarely provide 5 methods doing the same thing."},{"owner":{"account_id":5270992,"reputation":373,"user_id":4209228,"accept_rate":50,"display_name":"Vasantha"},"score":0,"creation_date":1416132027,"post_id":26955263,"comment_id":42451037,"body_markdown":"One interviewer asked this question...","body":"One interviewer asked this question..."}],"answers":[{"comments":[{"owner":{"account_id":5270992,"reputation":373,"user_id":4209228,"accept_rate":50,"display_name":"Vasantha"},"score":0,"creation_date":1416140799,"post_id":26955409,"comment_id":42453010,"body_markdown":"I&#39;m getting error like this...                                         Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: document.getElementById(...) is null\nCommand duration or timeout: 31 milliseconds.Can you tell me the solution please ?","body":"I&#39;m getting error like this...                                         Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: document.getElementById(...) is null Command duration or timeout: 31 milliseconds.Can you tell me the solution please ?"},{"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"score":0,"creation_date":1416145440,"post_id":26955409,"comment_id":42454213,"body_markdown":"Which version of firefox and webdriver are you using?","body":"Which version of firefox and webdriver are you using?"},{"owner":{"account_id":5270992,"reputation":373,"user_id":4209228,"accept_rate":50,"display_name":"Vasantha"},"score":0,"creation_date":1416146549,"post_id":26955409,"comment_id":42454501,"body_markdown":"Firefox version is 33.1 and webdriver version is 2.44.0","body":"Firefox version is 33.1 and webdriver version is 2.44.0"}],"tags":[],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695733355,"creation_date":1416128936,"answer_id":26955409,"question_id":26955263,"body_markdown":"Any other way is only to use native Javascript action to enter the value in the text box:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n\r\n    executor.executeScript(&quot;document.getElementById(&quot;textbox_id&quot;).value=&#39;new value&#39;;&quot;);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Any other way is only to use native Javascript action to enter the value in the text box:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\n\nJavascriptExecutor executor = (JavascriptExecutor)driver;\n\nexecutor.executeScript(&quot;document.getElementById(&quot;textbox_id&quot;).value='new value';&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5587521,"reputation":1,"user_id":4427700,"display_name":"Virender Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427630297,"creation_date":1427630297,"answer_id":29328814,"question_id":26955263,"body_markdown":"@Vasntha, try mine code its tested one\r\n\r\n    driver.get(&quot;http://www.qajudge.com/&quot;);\r\n    WebElement cssValue= driver.findElement(By.xpath(&quot;.//*[@id=&#39;s&#39;]&quot;));\r\n    JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n    jse.executeScript(&quot;document.getElementById(&#39;s&#39;).value=&#39;Virender Testing   \r\n    sending&#39;&quot;);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>@Vasntha, try mine code its tested one</p>\n\n<pre><code>driver.get(\"http://www.qajudge.com/\");\nWebElement cssValue= driver.findElement(By.xpath(\".//*[@id='s']\"));\nJavascriptExecutor jse = (JavascriptExecutor) driver;\njse.executeScript(\"document.getElementById('s').value='Virender Testing   \nsending'\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":4,"creation_date":1499942705,"post_id":45072577,"comment_id":77129051,"body_markdown":"Welcome to stack overflow :-) code-only answers aren&#39;t useful for the community. Please look at [answer]","body":"Welcome to stack overflow :-) code-only answers aren&#39;t useful for the community. Please look at <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>"}],"tags":[],"owner":{"account_id":11319175,"reputation":1,"user_id":8299956,"display_name":"jagannath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499932723,"creation_date":1499925923,"answer_id":45072577,"question_id":26955263,"body_markdown":"    WebElement name=driver.findElement(By.name(&quot;username&quot;));\r\n    ((JavascriptExecutor)driver).executeAsyncScript(&quot;arguments[0].value=&#39;admin&#39;&quot;,name);\t\r\n\r\n","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<pre><code>WebElement name=driver.findElement(By.name(\"username\"));\n((JavascriptExecutor)driver).executeAsyncScript(\"arguments[0].value='admin'\",name); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5772188,"reputation":515,"user_id":4555316,"accept_rate":33,"display_name":"ragesh-ragav 1993"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576047593,"creation_date":1576047593,"answer_id":59280346,"question_id":26955263,"body_markdown":"Try below one, which I tried in Gmail and it works\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;you .exe path here&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://accounts.google.com/&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tThread.sleep(1000);\r\n        //Next button element\r\n        WebElement nextBtn = driver.findElement(By.id(&quot;identifierNext&quot;));\r\n\t\tJavascriptExecutor js = (JavascriptExecutor)driver;\r\n        //code to enter value in the email textbox\r\n\t\tjs.executeScript(&quot;document.getElementById(&#39;identifierId&#39;).value=&#39;testemail&#39;&quot;);\r\n        //code to click on next button\r\n        js.executeScript(&quot;arguments[0].click();&quot;, nextBtn);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Try below one, which I tried in Gmail and it works</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"you .exe path here\");\n    WebDriver driver = new ChromeDriver();\n    driver.get(\"https://accounts.google.com/\");\n    driver.manage().window().maximize();\n    Thread.sleep(1000);\n    //Next button element\n    WebElement nextBtn = driver.findElement(By.id(\"identifierNext\"));\n    JavascriptExecutor js = (JavascriptExecutor)driver;\n    //code to enter value in the email textbox\n    js.executeScript(\"document.getElementById('identifierId').value='testemail'\");\n    //code to click on next button\n    js.executeScript(\"arguments[0].click();\", nextBtn);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12729536,"reputation":101,"user_id":9246729,"display_name":"namal wijekoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609182561,"creation_date":1609182561,"answer_id":65482762,"question_id":26955263,"body_markdown":"Yes, use javascript executer. Here, I have written a code that uses XPath to capture the element.\r\n\r\n        WebElement webelement = driver.findElement(By.xpath(&quot;your xpath&quot;);\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;arguments[0].value=&#39;Techndeck&#39;;&quot;,webelement );\r\n","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Yes, use javascript executer. Here, I have written a code that uses XPath to capture the element.</p>\n<pre><code>    WebElement webelement = driver.findElement(By.xpath(&quot;your xpath&quot;);\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    js.executeScript(&quot;arguments[0].value='Techndeck';&quot;,webelement );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11030244,"reputation":105,"user_id":8101796,"display_name":"Shrawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613015631,"creation_date":1613015631,"answer_id":66148530,"question_id":26955263,"body_markdown":"**Enter text using javascriptexecutor**\r\nHow to use Javascriptexecutor for entering text in an element which , I want to enter text in an Textbox which does not take the input through SendKeys​. I proceeded with using Javascriptexecutor to enter the text  Example 2. Get/Retrieve text with JavascriptExecutor. In this example, we are accessing a website and trying to retrieve the text written on the login button using JavascriptExecutor\r\n\r\n**How To Send Texts And Get Texts Using JavascriptExecutor?,** \r\nSo in such case, we use JavascriptExecutor of Selenium WebDriver library to handle Well, let&#39;s start with handling sending text data to the text area using \r\n*If you still have any confusions please write in the comment below*. \r\nThis is another technique to send texts using JavascriptExecutor in Selenium WebDriver. Here is the sample code: ADA. \r\n\r\n`WebElement webl = driver.findElement(By.xpath(“xpath_expression”));JavascriptExecutor js = (JavascriptExecutor)driver;js.executeScript(“arguments[0].value=’SynTest’;”, webl);` \r\n\r\n\r\n1.**How to enter text using JavaScript in Selenium WebDriver**, \r\nFollowing are the commands you can use to enter text using javascript. You don&#39;t need to use sendkeys always. \r\nSyntax: \r\nJavascriptExecutor jexe  To enter text within a textbox identified through an xpath you can use the following notation: \r\n\r\n    (JavascriptExecutor) driver.executeScript(&quot;document.evaluate(xpathExpresion, document, null, 9, null).singleNodeValue.innerHTML=&quot;+ DesiredText);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p><strong>Enter text using javascriptexecutor</strong>\nHow to use Javascriptexecutor for entering text in an element which , I want to enter text in an Textbox which does not take the input through SendKeys​. I proceeded with using Javascriptexecutor to enter the text  Example 2. Get/Retrieve text with JavascriptExecutor. In this example, we are accessing a website and trying to retrieve the text written on the login button using JavascriptExecutor</p>\n<p><strong>How To Send Texts And Get Texts Using JavascriptExecutor?,</strong>\nSo in such case, we use JavascriptExecutor of Selenium WebDriver library to handle Well, let's start with handling sending text data to the text area using\n<em>If you still have any confusions please write in the comment below</em>.\nThis is another technique to send texts using JavascriptExecutor in Selenium WebDriver. Here is the sample code: ADA.</p>\n<p><code>WebElement webl = driver.findElement(By.xpath(“xpath_expression”));JavascriptExecutor js = (JavascriptExecutor)driver;js.executeScript(“arguments[0].value=’SynTest’;”, webl);</code></p>\n<p>1.<strong>How to enter text using JavaScript in Selenium WebDriver</strong>,\nFollowing are the commands you can use to enter text using javascript. You don't need to use sendkeys always.\nSyntax:\nJavascriptExecutor jexe  To enter text within a textbox identified through an xpath you can use the following notation:</p>\n<pre><code>(JavascriptExecutor) driver.executeScript(&quot;document.evaluate(xpathExpresion, document, null, 9, null).singleNodeValue.innerHTML=&quot;+ DesiredText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16984234,"reputation":1,"user_id":12285390,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664533156,"creation_date":1664533156,"answer_id":73907227,"question_id":26955263,"body_markdown":"\r\n\r\n    driver.get(&quot;http://automationpractice.com/index.php?controller=authentication&amp;back=my-account&quot;);\r\n    JavascriptExecutor js= (JavascriptExecutor)driver;\r\n    js.executeScript(&quot;document.getElementById(&#39;email&#39;).value=&#39;Arun Singh&#39;&quot;);\r\n    js.executeScript(&quot;document.getElementById(&#39;passwd&#39;).value=&#39;arunsingh&#39;&quot;);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<pre><code>driver.get(&quot;http://automationpractice.com/index.php?controller=authentication&amp;back=my-account&quot;);\nJavascriptExecutor js= (JavascriptExecutor)driver;\njs.executeScript(&quot;document.getElementById('email').value='Arun Singh'&quot;);\njs.executeScript(&quot;document.getElementById('passwd').value='arunsingh'&quot;);\n</code></pre>\n"}],"owner":{"account_id":5270992,"reputation":373,"user_id":4209228,"accept_rate":50,"display_name":"Vasantha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1695733355,"creation_date":1416127452,"question_id":26955263,"body_markdown":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver ?","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver ?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","application.properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695734818,"post_id":77180280,"comment_id":136061932,"body_markdown":"Which is what yuou told it to do by setting the `org.hibernate.SQL` log level to debug.","body":"Which is what yuou told it to do by setting the <code>org.hibernate.SQL</code> log level to debug."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695735654,"post_id":77180280,"comment_id":136062124,"body_markdown":"I tried `DEBUG/INFO` both not working.","body":"I tried <code>DEBUG&#47;INFO</code> both not working."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695736141,"post_id":77180280,"comment_id":136062236,"body_markdown":"As long as `org.hibernate.SQL` is lower or the same as the default log level it will log all queries. Just remove it (or set it to FATAL or something alike). The `show_sql=true` will also influence query logging.","body":"As long as <code>org.hibernate.SQL</code> is lower or the same as the default log level it will log all queries. Just remove it (or set it to FATAL or something alike). The <code>show_sql=true</code> will also influence query logging."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695739788,"post_id":77180280,"comment_id":136063095,"body_markdown":"Currently i made the changes `logging.level.org.hibernate.SQL=FATAL` and `logging.level.org.hibernate.SQL_SLOW=INFO,\nspring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=500` but no any progress now no query printing while few query taking more time then 500MS.","body":"Currently i made the changes <code>logging.level.org.hibernate.SQL=FATAL</code> and <code>logging.level.org.hibernate.SQL_SLOW=INFO, spring.jpa.properties.hibernate.session.events.log.LOG_QUERI&zwnj;&#8203;ES_SLOWER_THAN_MS=50&zwnj;&#8203;0</code> but no any progress now no query printing while few query taking more time then 500MS."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695749148,"post_id":77180280,"comment_id":136065049,"body_markdown":"Are the queries really taking more then 500ms or is it the whole process that is taking more than 500ms. Those are different things.","body":"Are the queries really taking more then 500ms or is it the whole process that is taking more than 500ms. Those are different things."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695794351,"post_id":77180280,"comment_id":136070132,"body_markdown":"One query is taking more than 10min I want to print that query that&#39;s why I need this feature should work.","body":"One query is taking more than 10min I want to print that query that&#39;s why I need this feature should work."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695798084,"post_id":77180280,"comment_id":136070644,"body_markdown":"Is it **really the query** or the whole operation. Next to that what slow query means that it takes that long to get a response (so the query execution) if you get a response quickly but it takes 10 minutes to iterate trhough all the results that isn&#39;t a slow query.","body":"Is it <b>really the query</b> or the whole operation. Next to that what slow query means that it takes that long to get a response (so the query execution) if you get a response quickly but it takes 10 minutes to iterate trhough all the results that isn&#39;t a slow query."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695800021,"post_id":77180280,"comment_id":136070984,"body_markdown":"No @Denum its query which is taking time ...Support i will add `spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=1` atleaset some other query it should print but nothing is printing \n`spring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=FATAL\npring.datasource.health.validation-query=SELECT 1\norg.hibernate.SQL_SLOW=INFO\t\nspring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=1`","body":"No @Denum its query which is taking time ...Support i will add <code>spring.jpa.properties.hibernate.session.events.log.LOG_QUERI&zwnj;&#8203;ES_SLOWER_THAN_MS=1</code> atleaset some other query it should print but nothing is printing  <code>spring.jpa.properties.hibernate.use_sql_comments=true spring.jpa.properties.hibernate.format_sql=true spring.jpa.show-sql=true logging.level.org.hibernate.SQL=FATAL pring.datasource.health.validation-query=SELECT 1 org.hibernate.SQL_SLOW=INFO\t spring.jpa.properties.hibernate.session.events.log.LOG_QUERI&zwnj;&#8203;ES_SLOWER_THAN_MS=1</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695800582,"post_id":77180280,"comment_id":136071103,"body_markdown":"Don&#39;t add additional code/config as comments as that is totally unreadable. I would suggest enabling hibernate statistics and export them, that will give you more information on slow queries.","body":"Don&#39;t add additional code/config as comments as that is totally unreadable. I would suggest enabling hibernate statistics and export them, that will give you more information on slow queries."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695808089,"post_id":77180280,"comment_id":136072564,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255437/discussion-between-subodh-joshi-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255437/discussion-between-subodh-joshi-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695808457,"post_id":77180280,"comment_id":136072651,"body_markdown":"See https://stackoverflow.com/questions/3349344/how-to-monitor-slow-sql-queries-executed-by-jpa-and-hibernate as that explains what to do. Are you actually using that properties file? Are you using auto configuration for JPA or doing things yourself in that area?","body":"See <a href=\"https://stackoverflow.com/questions/3349344/how-to-monitor-slow-sql-queries-executed-by-jpa-and-hibernate\" title=\"how to monitor slow sql queries executed by jpa and hibernate\">stackoverflow.com/questions/3349344/&hellip;</a> as that explains what to do. Are you actually using that properties file? Are you using auto configuration for JPA or doing things yourself in that area?"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695733323,"creation_date":1695733323,"question_id":77180280,"body_markdown":"I am using the below properties in `application.properties` file\r\n\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.show-sql=true\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace\r\n    spring.datasource.health.validation-query=SELECT 1\r\n    logging.level.org.hibernate.SQL_SLOW=DEBUG\r\n    spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000\r\n    server.error.whitelabel.enabled=false\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\r\n\r\nand as expected i want to print the hibernate query which is taking more than 5second(`spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000`) to execute. But in the log, all queries are printing.\r\nExample.\r\n\r\n    2023-09-26 18:24:10,136 DEBUG org.hibernate.SQL                        | select lifecyclet0_.LIFECYCLE_TRANSITION_ID as lifecycl1_26_, lifecyclet0_.FROM_LIFECYCLE_STATE_ID as from_lif2_26_, lifecyclet0_.TO_LIFECYCLE_STATE_ID as to_lifec3_26_ from catmp6.LIFECYCLE_TRANSITIONS lifecyclet0_ where lifecyclet0_.FROM_LIFECYCLE_STATE_ID=?\r\n    2023-09-26 18:24:10,137 TRACE o.h.type.descriptor.sql.BasicBinder      | binding parameter [1] as [BIGINT] - [4]\r\n\r\nCan anyone suggest what is wrong here.\r\n\r\n    &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\r\n    &lt;psql.jdbc.version&gt;42.5.1&lt;/psql.jdbc.version&gt;\r\n\r\n","title":"Springboot : Show slow sql hibernate query properties not working as expected","body":"<p>I am using the below properties in <code>application.properties</code> file</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace\nspring.datasource.health.validation-query=SELECT 1\nlogging.level.org.hibernate.SQL_SLOW=DEBUG\nspring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000\nserver.error.whitelabel.enabled=false\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\n</code></pre>\n<p>and as expected i want to print the hibernate query which is taking more than 5second(<code>spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000</code>) to execute. But in the log, all queries are printing.\nExample.</p>\n<pre><code>2023-09-26 18:24:10,136 DEBUG org.hibernate.SQL                        | select lifecyclet0_.LIFECYCLE_TRANSITION_ID as lifecycl1_26_, lifecyclet0_.FROM_LIFECYCLE_STATE_ID as from_lif2_26_, lifecyclet0_.TO_LIFECYCLE_STATE_ID as to_lifec3_26_ from catmp6.LIFECYCLE_TRANSITIONS lifecyclet0_ where lifecyclet0_.FROM_LIFECYCLE_STATE_ID=?\n2023-09-26 18:24:10,137 TRACE o.h.type.descriptor.sql.BasicBinder      | binding parameter [1] as [BIGINT] - [4]\n</code></pre>\n<p>Can anyone suggest what is wrong here.</p>\n<pre><code>&lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\n&lt;psql.jdbc.version&gt;42.5.1&lt;/psql.jdbc.version&gt;\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":22124897,"reputation":11,"user_id":16377456,"display_name":"nobody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695732852,"creation_date":1695732852,"question_id":77180223,"body_markdown":"[How it looks](https://i.stack.imgur.com/vYCkM.png)\r\n\r\nMy theme for the xml is:\r\n\r\n```\r\n&lt;style name=&quot;Theme.A.MaterialComponents&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\r\n        &lt;item name=&quot;background&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;backgroundColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;materialCalendarTheme&quot;&gt;@drawable/rounded_dialog_bg&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nMy theme for the Material Date Picker is:\r\n\r\n```\r\n&lt;style name=&quot;Theme.A.CustomMaterialDatePicker&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nThe code creating this Material Date Picker is:\r\n\r\n```\r\nMaterialDatePicker materialDatePicker = MaterialDatePicker.Builder.datePicker()\r\n          .setTitleText(&quot;Select Date&quot;).setTheme(R.style.Theme_SchoolProject_CustomMaterialDatePicker)\r\n          .setSelection(MaterialDatePicker.todayInUtcMilliseconds()).build();\r\nmaterialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\r\n                    @Override\r\n                    public void onPositiveButtonClick(Object selection) {\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        calendar.setTimeInMillis((Long) selection);\r\n\r\n                        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;EEE, MMM d, yyyy&quot;);\r\n                        String goal = outFormat.format(calendar.getTime());\r\n                        dueDateView.setHint(goal);\r\n                    }\r\n                });\r\n\r\n                materialDatePicker.addOnDismissListener(new DialogInterface.OnDismissListener() {\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialogInterface) {\r\n                        //TODO Respond to dismiss events.\r\n                    }\r\n                });\r\n\r\n                materialDatePicker.show(getSupportFragmentManager(), &quot;datePickerDialog&quot;);\r\n```\r\n\r\nI tried changing the material date picker theme parent to something else instead of  &quot;Theme.MaterialComponents&quot; but it always gave me this error:\r\n\r\n`MaterialCalendar requires a value for the com.example.A:attr/materialCalendarStyle attribute to be set in your app theme. You can either set the attribute in your theme or update your theme to inherit from Theme.MaterialComponents (or a descendant).`\r\n\r\nEven if I changed it to Theme.MaterialComponents.Dialog or something like that.\r\n\r\nI tried changing the theme parent to Widget.MaterialComponents.MaterialCalendar but it gave me the same error.\r\nHow can I fix it?","title":"Android Material Date Picker Not Looking Right","body":"<p><a href=\"https://i.stack.imgur.com/vYCkM.png\" rel=\"nofollow noreferrer\">How it looks</a></p>\n<p>My theme for the xml is:</p>\n<pre><code>&lt;style name=&quot;Theme.A.MaterialComponents&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\n        &lt;item name=&quot;background&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;backgroundColor&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;materialCalendarTheme&quot;&gt;@drawable/rounded_dialog_bg&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>My theme for the Material Date Picker is:</p>\n<pre><code>&lt;style name=&quot;Theme.A.CustomMaterialDatePicker&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\n        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>The code creating this Material Date Picker is:</p>\n<pre><code>MaterialDatePicker materialDatePicker = MaterialDatePicker.Builder.datePicker()\n          .setTitleText(&quot;Select Date&quot;).setTheme(R.style.Theme_SchoolProject_CustomMaterialDatePicker)\n          .setSelection(MaterialDatePicker.todayInUtcMilliseconds()).build();\nmaterialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\n                    @Override\n                    public void onPositiveButtonClick(Object selection) {\n                        Calendar calendar = Calendar.getInstance();\n                        calendar.setTimeInMillis((Long) selection);\n\n                        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;EEE, MMM d, yyyy&quot;);\n                        String goal = outFormat.format(calendar.getTime());\n                        dueDateView.setHint(goal);\n                    }\n                });\n\n                materialDatePicker.addOnDismissListener(new DialogInterface.OnDismissListener() {\n                    @Override\n                    public void onDismiss(DialogInterface dialogInterface) {\n                        //TODO Respond to dismiss events.\n                    }\n                });\n\n                materialDatePicker.show(getSupportFragmentManager(), &quot;datePickerDialog&quot;);\n</code></pre>\n<p>I tried changing the material date picker theme parent to something else instead of  &quot;Theme.MaterialComponents&quot; but it always gave me this error:</p>\n<p><code>MaterialCalendar requires a value for the com.example.A:attr/materialCalendarStyle attribute to be set in your app theme. You can either set the attribute in your theme or update your theme to inherit from Theme.MaterialComponents (or a descendant).</code></p>\n<p>Even if I changed it to Theme.MaterialComponents.Dialog or something like that.</p>\n<p>I tried changing the theme parent to Widget.MaterialComponents.MaterialCalendar but it gave me the same error.\nHow can I fix it?</p>\n"},{"tags":["java","eclipse","maven","maven-cargo"],"answers":[{"comments":[{"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"score":0,"creation_date":1377151594,"post_id":18372015,"comment_id":26978084,"body_markdown":"I increased the timeout to 300000, still getting the same error..          [DEBUG] [URLDeployableMonitor] Checking URL [http://localhost:8080/cargocpc/index.html] for status using a timeout of [300000] ms...    [DEBUG] [URLDeployableMonitor] URL [http://localhost:8080/cargocpc/index.html] is not responding: 400 Cycle Detected [DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@57962c][yer.DeployerWatchdog]Deployable[http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [300000].","body":"I increased the timeout to 300000, still getting the same error..          [DEBUG] [URLDeployableMonitor] Checking URL [<a href=\"http://localhost:8080/cargocpc/index.html]\" rel=\"nofollow noreferrer\">localhost:8080/cargocpc/index.html]</a> for status using a timeout of [300000] ms...    [DEBUG] [URLDeployableMonitor] URL [<a href=\"http://localhost:8080/cargocpc/index.html]\" rel=\"nofollow noreferrer\">localhost:8080/cargocpc/index.html]</a> is not responding: 400 Cycle Detected [DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@&zwnj;&#8203;57962c][yer.Deployer&zwnj;&#8203;Watchdog]Deployable[<a href=\"http://localhost:8080/cargocpc/index.html]\" rel=\"nofollow noreferrer\">&zwnj;&#8203;localhost:8080/cargo&zwnj;&#8203;cpc/index.html]</a> failed to finish deploying within the timeout period [300000]."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1377153266,"post_id":18372015,"comment_id":26978753,"body_markdown":"something seems wrong with configuration that makes very slooow startup","body":"something seems wrong with configuration that makes very slooow startup"},{"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"score":0,"creation_date":1377154091,"post_id":18372015,"comment_id":26979105,"body_markdown":"If I run the same code through cmd, its getting up with 120000 as timeout itself..   In console **[DEBUG] [URLDeployableMonitor] Checking URL [http://localhost:8080/cargocpc/index.html] for status using a timeout of [300000] ms...[DEBUG] [URLDeployableMonitor] URL [http://localhost:8080/cargocpc/index.html] is not responding: 400 Cycle Detected\n[DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@18a2456]**\nthis getting printed repeatedly till the timeout. Is that 400 cycle detected will be the issue?","body":"If I run the same code through cmd, its getting up with 120000 as timeout itself..   In console <b>[DEBUG] [URLDeployableMonitor] Checking URL [<a href=\"http://localhost:8080/cargocpc/index.html]\" rel=\"nofollow noreferrer\">localhost:8080/cargocpc/index.html]</a> for status using a timeout of [300000] ms...[DEBUG] [URLDeployableMonitor] URL [<a href=\"http://localhost:8080/cargocpc/index.html]\" rel=\"nofollow noreferrer\">localhost:8080/cargocpc/index.html]</a> is not responding: 400 Cycle Detected [DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@&zwnj;&#8203;18a2456]</b> this getting printed repeatedly till the timeout. Is that 400 cycle detected will be the issue?"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377147836,"creation_date":1377147836,"answer_id":18372015,"question_id":18371953,"body_markdown":" - Open the servers view \r\n - double click your tomcat server \r\n - click on Timeouts section \r\n - increase start up time out\r\n\r\n","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<ul>\n<li>Open the servers view </li>\n<li>double click your tomcat server </li>\n<li>click on Timeouts section </li>\n<li>increase start up time out</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13056223,"reputation":31,"user_id":9434994,"display_name":"Marcus Berro"},"comment_count":0,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1583868522,"creation_date":1520006925,"answer_id":49072976,"question_id":18371953,"body_markdown":"_NOTE: Edited from original to add context._\r\n\r\nYou can try increasing the timeout value that Cargo uses while waiting for Tomcat to start/stop. \r\n\r\nExample:\r\n\r\n```xml\r\n&lt;container&gt;\r\n  [...]\r\n  &lt;timeout&gt;180000&lt;/timeout&gt;\r\n  [...]\r\n&lt;/container&gt;\r\n```\r\n\r\nCheck this description in Cargo website:\r\n\r\nhttps://codehaus-cargo.github.io/cargo/Container+Timeout.html","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p><em>NOTE: Edited from original to add context.</em></p>\n\n<p>You can try increasing the timeout value that Cargo uses while waiting for Tomcat to start/stop. </p>\n\n<p>Example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;container&gt;\n  [...]\n  &lt;timeout&gt;180000&lt;/timeout&gt;\n  [...]\n&lt;/container&gt;\n</code></pre>\n\n<p>Check this description in Cargo website:</p>\n\n<p><a href=\"https://codehaus-cargo.github.io/cargo/Container+Timeout.html\" rel=\"nofollow noreferrer\">https://codehaus-cargo.github.io/cargo/Container+Timeout.html</a></p>\n"},{"tags":[],"owner":{"account_id":10932492,"reputation":105,"user_id":8035169,"display_name":"OAM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559815724,"creation_date":1559815724,"answer_id":56475372,"question_id":18371953,"body_markdown":"If you&#39;re using Hibernate, make sure your database connection details in your properties file are correct. In my case cargo was timing out because my database username and password were incorrect.","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p>If you're using Hibernate, make sure your database connection details in your properties file are correct. In my case cargo was timing out because my database username and password were incorrect.</p>\n"},{"tags":[],"owner":{"account_id":132019,"reputation":2124,"user_id":332465,"display_name":"darraghmurphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695731705,"creation_date":1695720850,"answer_id":77178750,"question_id":18371953,"body_markdown":"Set timeout to 0 in the execution portion of the Maven Cargo plugin config to disable the URL Deployable Monitor. Also comment out the pingURL &amp; pingTimeout elements\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\r\n                    &lt;containerUrl&gt;file:///C://APPS/tomcat-9.0.29.zip&lt;/containerUrl&gt;\r\n                    &lt;container&gt;\r\n                        &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\r\n                        &lt;type&gt;standalone&lt;/type&gt;\r\n                    &lt;/container&gt;\r\n                    &lt;deployables&gt;\r\n                        &lt;deployable&gt;\r\n                            &lt;artifactId&gt;MYAPP&lt;/artifactId&gt;\r\n                            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                            &lt;type&gt;war&lt;/type&gt;\r\n                            &lt;location&gt;deploy/generic/jclass/MYAPP.war&lt;/location&gt;\r\n                            &lt;!-- &lt;pingURL&gt;http://127.0.0.1:8080/MYAPP/index.jsp&lt;/pingURL&gt; --&gt;\r\n                            &lt;!-- &lt;pingTimeout&gt;150000&lt;/pingTimeout&gt; --&gt;\r\n                        &lt;/deployable&gt;\r\n                    &lt;/deployables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;start-server&lt;/id&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;container&gt;\r\n                                &lt;timeout&gt;0&lt;/timeout&gt;\r\n                            &lt;/container&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;stop-server&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;stop&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;container&gt;\r\n                                &lt;timeout&gt;0&lt;/timeout&gt;\r\n                            &lt;/container&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p>Set timeout to 0 in the execution portion of the Maven Cargo plugin config to disable the URL Deployable Monitor. Also comment out the pingURL &amp; pingTimeout elements</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n            &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.10.8&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\n                &lt;containerUrl&gt;file:///C://APPS/tomcat-9.0.29.zip&lt;/containerUrl&gt;\n                &lt;container&gt;\n                    &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\n                    &lt;type&gt;standalone&lt;/type&gt;\n                &lt;/container&gt;\n                &lt;deployables&gt;\n                    &lt;deployable&gt;\n                        &lt;artifactId&gt;MYAPP&lt;/artifactId&gt;\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\n                        &lt;type&gt;war&lt;/type&gt;\n                        &lt;location&gt;deploy/generic/jclass/MYAPP.war&lt;/location&gt;\n                        &lt;!-- &lt;pingURL&gt;http://127.0.0.1:8080/MYAPP/index.jsp&lt;/pingURL&gt; --&gt;\n                        &lt;!-- &lt;pingTimeout&gt;150000&lt;/pingTimeout&gt; --&gt;\n                    &lt;/deployable&gt;\n                &lt;/deployables&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;start-server&lt;/id&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;start&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;container&gt;\n                            &lt;timeout&gt;0&lt;/timeout&gt;\n                        &lt;/container&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;stop-server&lt;/id&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;stop&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;container&gt;\n                            &lt;timeout&gt;0&lt;/timeout&gt;\n                        &lt;/container&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8804,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1695731705,"creation_date":1377147425,"question_id":18371953,"body_markdown":"whenever I up the application by through CMD it is getting up, but the same code if I run through eclipse, getting the below mentioned error...\r\n\r\n    [DEBUG] [URLDeployableMonitor] Checking URL [http://localhost:8080/cargocpc/index.html] for status using a timeout of [120000] ms...\r\n    [DEBUG] [URLDeployableMonitor] URL [http://localhost:8080/cargocpc/index.html] is not responding: 400 Cycle Detected\r\n    [DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@a55f49]\r\n    [INFO] [yer.DeployerWatchdog] Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] FATAL ERROR\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Failed to start the Tomcat 6.x container.\r\n    Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [DEBUG] Trace\r\n    org.codehaus.cargo.container.ContainerException: Failed to start the Tomcat 6.x container.\r\n    .\r\n    .\r\n    .\r\n    .\r\n    \r\n    Caused by: org.codehaus.cargo.container.ContainerException: Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\r\n    \t\r\n    at org.codehaus.cargo.container.spi.deployer.DeployerWatchdog.watch (DeployerWatchdog.java:111)**\r\n\r\n\r\nbut if I run through command prompt its getting up... why in eclipse am facing this issue and how to solve that?\r\nThanks in Advance.","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p>whenever I up the application by through CMD it is getting up, but the same code if I run through eclipse, getting the below mentioned error...</p>\n\n<pre><code>[DEBUG] [URLDeployableMonitor] Checking URL [http://localhost:8080/cargocpc/index.html] for status using a timeout of [120000] ms...\n[DEBUG] [URLDeployableMonitor] URL [http://localhost:8080/cargocpc/index.html] is not responding: 400 Cycle Detected\n[DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@a55f49]\n[INFO] [yer.DeployerWatchdog] Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\n[INFO] ------------------------------------------------------------------------\n[ERROR] FATAL ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] Failed to start the Tomcat 6.x container.\nDeployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\n[INFO] ------------------------------------------------------------------------\n[DEBUG] Trace\norg.codehaus.cargo.container.ContainerException: Failed to start the Tomcat 6.x container.\n.\n.\n.\n.\n\nCaused by: org.codehaus.cargo.container.ContainerException: Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\n\nat org.codehaus.cargo.container.spi.deployer.DeployerWatchdog.watch (DeployerWatchdog.java:111)**\n</code></pre>\n\n<p>but if I run through command prompt its getting up... why in eclipse am facing this issue and how to solve that?\nThanks in Advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695730963,"post_id":77179831,"comment_id":136061041,"body_markdown":"i made an update. `http.cors(Customizer.withDefaults());`","body":"i made an update. <code>http.cors(Customizer.withDefaults());</code>"},{"owner":{"account_id":15115060,"reputation":1,"user_id":10907749,"display_name":"hermi wael"},"score":0,"creation_date":1695731025,"post_id":77179831,"comment_id":136061053,"body_markdown":"Thanks for the response and updates i think it is good that way.","body":"Thanks for the response and updates i think it is good that way."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695731073,"post_id":77179831,"comment_id":136061058,"body_markdown":"if it solved the problem don`t forget to read/check the linked resources about this migration, also approve the answer/upvote","body":"if it solved the problem don`t forget to read/check the linked resources about this migration, also approve the answer/upvote"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695730774,"creation_date":1695729759,"answer_id":77179831,"question_id":77179726,"body_markdown":"On stackoverflow are a lot of posts about how to migrate but also you should read next references:\r\n\r\n 1. [Migration Guide][1]\r\n    \r\n 2.   [spring-security-without-the-websecurityconfigureradapter][2]\r\n    \r\n 3.   [Deprecated List][3]\r\n\r\nAlso the `filterChain` that you provided will have next one body:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      http.authorizeHttpRequests(request -&gt; {\r\n        request.requestMatchers(&quot;/**&quot;).permitAll();\r\n      });\r\n      http.cors(Customizer.withDefaults());\r\n    \r\n      http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n      http.httpBasic(Customizer.withDefaults());\r\n    \r\n      return http.build();\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/index.html\r\n  [2]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/deprecated-list.html","title":"How to migrate from Spring Security 5.x to spring 6.1.x?","body":"<p>On stackoverflow are a lot of posts about how to migrate but also you should read next references:</p>\n<ol>\n<li><p><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/index.html\" rel=\"nofollow noreferrer\">Migration Guide</a></p>\n</li>\n<li><p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring-security-without-the-websecurityconfigureradapter</a></p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/deprecated-list.html\" rel=\"nofollow noreferrer\">Deprecated List</a></p>\n</li>\n</ol>\n<p>Also the <code>filterChain</code> that you provided will have next one body:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n  http.authorizeHttpRequests(request -&gt; {\n    request.requestMatchers(&quot;/**&quot;).permitAll();\n  });\n  http.cors(Customizer.withDefaults());\n\n  http.csrf(AbstractHttpConfigurer::disable);\n\n  http.httpBasic(Customizer.withDefaults());\n\n  return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4004102,"reputation":99,"user_id":3856160,"display_name":"dilansalinda"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695731344,"creation_date":1695731344,"answer_id":77180039,"question_id":77179726,"body_markdown":"welcome to Stack Overflow!\r\n\r\nIn the first issue, the problem lies in the requestMatcher pattern. You should change it to `&quot;/**&quot;` because Spring MVC&#39;s pattern matching is relative to the servlet path. This means that if you have mapped any servlet to a path that starts with &quot;/&quot; and is greater than one, you should use this pattern.\r\n\r\nAs [this answer][2] correctly suggests, you can use `authorizeHttpRequests` with a lambda function.\r\n\r\n[1]: https://stackoverflow.com/users/10907749/hermi-wael\r\n[2]: https://stackoverflow.com/a/77179831/3856160\r\n","title":"How to migrate from Spring Security 5.x to spring 6.1.x?","body":"<p>welcome to Stack Overflow!</p>\n<p>In the first issue, the problem lies in the requestMatcher pattern. You should change it to <code>&quot;/**&quot;</code> because Spring MVC's pattern matching is relative to the servlet path. This means that if you have mapped any servlet to a path that starts with &quot;/&quot; and is greater than one, you should use this pattern.</p>\n<p>As <a href=\"https://stackoverflow.com/a/77179831/3856160\">this answer</a> correctly suggests, you can use <code>authorizeHttpRequests</code> with a lambda function.</p>\n"}],"owner":{"account_id":15115060,"reputation":1,"user_id":10907749,"display_name":"hermi wael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695813330,"accepted_answer_id":77179831,"answer_count":2,"score":-2,"last_activity_date":1695731344,"creation_date":1695728755,"question_id":77179726,"body_markdown":"I want to migrate this code to spring security 6.1.x \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().requestMatchers(&quot;/&quot;).permitAll();\r\n        http.cors().and().csrf().disable();\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to use authorizeHttpRequests but it gives me 403 error","title":"How to migrate from Spring Security 5.x to spring 6.1.x?","body":"<p>I want to migrate this code to spring security 6.1.x</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests().requestMatchers(&quot;/&quot;).permitAll();\n        http.cors().and().csrf().disable();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>I tried to use authorizeHttpRequests but it gives me 403 error</p>\n"},{"tags":["java","spring-boot","hibernate","liquibase","multi-tenant"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1695730617,"post_id":77179840,"comment_id":136060964,"body_markdown":"You did ofcourse read the documentation (upgrade guide for hibernate -&gt; https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification) instead of just blindly upgrading...","body":"You did ofcourse read the documentation (upgrade guide for hibernate -&gt; <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/6.0/&hellip;</a>) instead of just blindly upgrading..."},{"owner":{"account_id":14768294,"reputation":23,"user_id":10665618,"display_name":"Pavithra Ranasinghe"},"score":0,"creation_date":1695789425,"post_id":77179840,"comment_id":136069621,"body_markdown":"@M.DeinumThank you for reply. I&#39;m just create spring boot new version(3) projects","body":"@M.DeinumThank you for reply. I&#39;m just create spring boot new version(3) projects"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695730842,"creation_date":1695730842,"answer_id":77179964,"question_id":77179840,"body_markdown":"from hibernate 6 [migration guide][1]\r\n\r\n&gt; Remove any reference to MultiTenancyStrategy from your application: they are no longer necessary. hibernate.multiTenancy will be ignored and AvailableSettings.MULTI_TENANT/MultiTenancyStrategy will lead to compilation errors since they have been removed.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification","title":"Is MultiTenancyStrategy deprecated in Hibernate 6","body":"<p>from hibernate 6 <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification\" rel=\"nofollow noreferrer\">migration guide</a></p>\n<blockquote>\n<p>Remove any reference to MultiTenancyStrategy from your application: they are no longer necessary. hibernate.multiTenancy will be ignored and AvailableSettings.MULTI_TENANT/MultiTenancyStrategy will lead to compilation errors since they have been removed.</p>\n</blockquote>\n"}],"owner":{"account_id":14768294,"reputation":23,"user_id":10665618,"display_name":"Pavithra Ranasinghe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77179964,"answer_count":1,"score":2,"last_activity_date":1695730842,"creation_date":1695729832,"question_id":77179840,"body_markdown":"I&#39;m trying to implement Multi-tenant application using Spring Boot 3.\r\n\r\nNow I need to connect multiple schemas in single database. Also I use LIQUIBASE for manage schema changes\r\n\r\nWhen configure Hibernate entity manager for tenants entity manger factory, I can&#39;t configure MULTI_TENANT Strategy type. **MultiTenancyStrategy** cannot find in hibernate.\r\n\r\n\r\n```\r\nMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        properties.remove(AvailableSettings.DEFAULT_SCHEMA);\r\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\r\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\r\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\r\n        emfBean.setJpaPropertyMap(properties);\r\n```\r\n`properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);` \r\n\r\nPlease anyone give me a solution for this.","title":"Is MultiTenancyStrategy deprecated in Hibernate 6","body":"<p>I'm trying to implement Multi-tenant application using Spring Boot 3.</p>\n<p>Now I need to connect multiple schemas in single database. Also I use LIQUIBASE for manage schema changes</p>\n<p>When configure Hibernate entity manager for tenants entity manger factory, I can't configure MULTI_TENANT Strategy type. <strong>MultiTenancyStrategy</strong> cannot find in hibernate.</p>\n<pre><code>Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        properties.remove(AvailableSettings.DEFAULT_SCHEMA);\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\n        emfBean.setJpaPropertyMap(properties);\n</code></pre>\n<p><code>properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);</code></p>\n<p>Please anyone give me a solution for this.</p>\n"},{"tags":["java","android","google-drive-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695749335,"post_id":77179961,"comment_id":136065096,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22429412,"reputation":1,"user_id":16635508,"display_name":"Hassan Yaseen 203"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695730829,"creation_date":1695730829,"question_id":77179961,"body_markdown":"I am trying to accessing Google Drive from my own android application. I am stuck in a situation that my app is working perfectly in **DEBUG APK** but not working in **RELEASE APK**. Google drive is access able in debug apk but not in release apk. I am trying to create folder and upload any image in that folder. \r\n\r\nI try to access google drive. I am able to access it in DEBUG mode but not in RELEASE mode. Again i have cross checked my SSH-1, it&#39;s correct.","title":"Google Drive is not access able in RELEASE apk android application?","body":"<p>I am trying to accessing Google Drive from my own android application. I am stuck in a situation that my app is working perfectly in <strong>DEBUG APK</strong> but not working in <strong>RELEASE APK</strong>. Google drive is access able in debug apk but not in release apk. I am trying to create folder and upload any image in that folder.</p>\n<p>I try to access google drive. I am able to access it in DEBUG mode but not in RELEASE mode. Again i have cross checked my SSH-1, it's correct.</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695641734,"post_id":77172032,"comment_id":136047173,"body_markdown":"The duplink is tentative.  You should be able confirm it by looking at the `kc.bat` file installed on your system.","body":"The duplink is tentative.  You should be able confirm it by looking at the <code>kc.bat</code> file installed on your system."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695642442,"post_id":77172032,"comment_id":136047311,"body_markdown":"If it is not that problem, my advice would be to add some debugging to the `kc.bat` file to capture the complete Java command line.  Or (if I am reading the bat file correctly) setting `%PRINT_ENV%` to `true` will print out the final settings for `%JAVA_OPTS%` and `%JAVA_RUN_OPTS%`.","body":"If it is not that problem, my advice would be to add some debugging to the <code>kc.bat</code> file to capture the complete Java command line.  Or (if I am reading the bat file correctly) setting <code>%PRINT_ENV%</code> to <code>true</code> will print out the final settings for <code>%JAVA_OPTS%</code> and <code>%JAVA_RUN_OPTS%</code>."},{"owner":{"account_id":29528893,"reputation":1,"user_id":22629933,"display_name":"Alexander Evtimov"},"score":0,"creation_date":1695727269,"post_id":77172032,"comment_id":136060280,"body_markdown":"Hello Stephen,\nThank you for the reply.\nI&#39;m not sure what you mean by the &quot;duplink is tentative&quot;.\n\nWhat I found with process explorer is that java.exe is looking for Mobile.class inside the Keycloak bin folder which doesn&#39;t exist and I have no idea why. I installed the software on another machine and there this is not happening.\n\n [Mobile.Class.Screenshot](https://i.imgur.com/8XHHPKa.png)","body":"Hello Stephen, Thank you for the reply. I&#39;m not sure what you mean by the &quot;duplink is tentative&quot;.  What I found with process explorer is that java.exe is looking for Mobile.class inside the Keycloak bin folder which doesn&#39;t exist and I have no idea why. I installed the software on another machine and there this is not happening.   <a href=\"https://i.imgur.com/8XHHPKa.png\" rel=\"nofollow noreferrer\">Mobile.Class.Screenshot</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695729496,"post_id":77172032,"comment_id":136060728,"body_markdown":"My hunch is that because you are in a directory called &quot;Scanman Mobile Application&quot; the batch file is passing that string to Java and Java is taking it as three separate words, hence looking for a class called &quot;Mobile&quot;. Maybe try installing KeyCloak in a different directory if possible, and see if it fixes it.","body":"My hunch is that because you are in a directory called &quot;Scanman Mobile Application&quot; the batch file is passing that string to Java and Java is taking it as three separate words, hence looking for a class called &quot;Mobile&quot;. Maybe try installing KeyCloak in a different directory if possible, and see if it fixes it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695730456,"post_id":77172032,"comment_id":136060940,"body_markdown":"k314159&#39;s suggestion is plausible.  You want to use an installation directory name that doesn&#39;t have spaces in its name!  But if that isn&#39;t the problem, try what I suggested in my second comment.","body":"k314159&#39;s suggestion is plausible.  You want to use an installation directory name that doesn&#39;t have spaces in its name!  But if that isn&#39;t the problem, try what I suggested in my second comment."},{"owner":{"account_id":29528893,"reputation":1,"user_id":22629933,"display_name":"Alexander Evtimov"},"score":1,"creation_date":1695882672,"post_id":77172032,"comment_id":136083667,"body_markdown":"Hello, \nk314159 that was it! Renaming the folder did the trick, thank you!\nStepen C, thank you for the help, too!","body":"Hello,  k314159 that was it! Renaming the folder did the trick, thank you! Stepen C, thank you for the help, too!"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695888672,"post_id":77172032,"comment_id":136084715,"body_markdown":"Glad you&#39;ve got it working. I think this is an error in the batch file: it should be wrapping the directory in quotes so that it doesn&#39;t split its name using the space characters. You might want to report this bug to the vendor.","body":"Glad you&#39;ve got it working. I think this is an error in the batch file: it should be wrapping the directory in quotes so that it doesn&#39;t split its name using the space characters. You might want to report this bug to the vendor."}],"owner":{"account_id":29528893,"reputation":1,"user_id":22629933,"display_name":"Alexander Evtimov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695730389,"creation_date":1695639168,"question_id":77172032,"body_markdown":"I&#39;m trying to start the bat file but it always fails with the below error.\r\nI have tried different openJDK version 20,21.. but the error is always the same.\r\n\r\nkc.bat start-dev\r\nError: Could not find or load main class Mobile\r\nCaused by: java.lang.ClassNotFoundException: Mobile\r\n\r\nExpected result: Start the Keycloak server.","title":"Keycloak 22.0.3 Error: Could not find or load main class Mobile","body":"<p>I'm trying to start the bat file but it always fails with the below error.\nI have tried different openJDK version 20,21.. but the error is always the same.</p>\n<p>kc.bat start-dev\nError: Could not find or load main class Mobile\nCaused by: java.lang.ClassNotFoundException: Mobile</p>\n<p>Expected result: Start the Keycloak server.</p>\n"},{"tags":["java","eclipse","language-lawyer","java-17","jsr305"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1695657599,"post_id":77159583,"comment_id":136050710,"body_markdown":"Works with 2023-06. Interestingly, the older version even allows to place such an annotation at a type parameter, which contradicts the specification (prior to Java&#160;21). It seems, they tried to fix this and made it worse…","body":"Works with 2023-06. Interestingly, the older version even allows to place such an annotation at a type parameter, which contradicts the specification (prior to Java 21). It seems, they tried to fix this and made it worse…"},{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695658327,"post_id":77159583,"comment_id":136050873,"body_markdown":"Just tried `public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)` and it works! Now I wonder if that has the same semantics? If yes this might be a good solution. Would still be curious why the bad one still compiles fine with Gradle and other IDEs — also probably JSR305 is not even related as I get the same behaviour with &quot;straighter&quot; annotations like `@Deprecated`.","body":"Just tried <code>public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)</code> and it works! Now I wonder if that has the same semantics? If yes this might be a good solution. Would still be curious why the bad one still compiles fine with Gradle and other IDEs — also probably JSR305 is not even related as I get the same behaviour with &quot;straighter&quot; annotations like <code>@Deprecated</code>."},{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695667037,"post_id":77159583,"comment_id":136052361,"body_markdown":"Compliance is JavaSE17 and I believe it&#39;s set automagically by reading `sourceCompatibility = &#39;17&#39;` from my _build.gradle_ file.","body":"Compliance is JavaSE17 and I believe it&#39;s set automagically by reading <code>sourceCompatibility = &#39;17&#39;</code> from my <i>build.gradle</i> file."}],"answers":[{"comments":[{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695745886,"post_id":77179346,"comment_id":136064468,"body_markdown":"Thanks for the comprehensive answer and the time you took for your thorough write-up. So let me try to summarise it: from what I&#39;ve understood, Java 17 specs say `@Nullable` is targetless, therefore it can only apply to a declaration. But they also say that `public &lt;T&gt; @Xyz Set&lt;T&gt; methodName(...) { ... }` is a totally valid method declaration so the compiler SHOULD NOT complain, but if I meant the return type to be nullable the semantics would now be incorrect anyway. Therefore: 1) Eclipse compiler is bugged. 2) I should drop the `@Nullable` annotation anyway...","body":"Thanks for the comprehensive answer and the time you took for your thorough write-up. So let me try to summarise it: from what I&#39;ve understood, Java 17 specs say <code>@Nullable</code> is targetless, therefore it can only apply to a declaration. But they also say that <code>public &lt;T&gt; @Xyz Set&lt;T&gt; methodName(...) { ... }</code> is a totally valid method declaration so the compiler SHOULD NOT complain, but if I meant the return type to be nullable the semantics would now be incorrect anyway. Therefore: 1) Eclipse compiler is bugged. 2) I should drop the <code>@Nullable</code> annotation anyway..."},{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695746490,"post_id":77179346,"comment_id":136064581,"body_markdown":"...so even once the bug is fixed, I should still wait for any of the JSR305 implementations to add `@Target` to its nullability annotations. It was really hard to find any, but I&#39;m seeing JetBrains does. But maybe it doesn&#39;t matter as it would depend on what the analysis tools do I guess.","body":"...so even once the bug is fixed, I should still wait for any of the JSR305 implementations to add <code>@Target</code> to its nullability annotations. It was really hard to find any, but I&#39;m seeing JetBrains does. But maybe it doesn&#39;t matter as it would depend on what the analysis tools do I guess."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695751326,"post_id":77179346,"comment_id":136065440,"body_markdown":"Yes, the analysis tool must be able to cope with type annotations but if it ships with annotations not having `@Target(TYPE_USE)`, it’s a bad sign. It’s worth checking the tool’s documentation though, as it might be that the annotations are shipped in backwards compatible form but the tool can deal with adapted annotations. Before Java&#160;8, there were no type annotations, so we had to annotate the member and the tool had to interpret this as annotation of the field type or method return type, by convention. However, that was a decade ago, so the tools should have managed to catch up…","body":"Yes, the analysis tool must be able to cope with type annotations but if it ships with annotations not having <code>@Target(TYPE_USE)</code>, it’s a bad sign. It’s worth checking the tool’s documentation though, as it might be that the annotations are shipped in backwards compatible form but the tool can deal with adapted annotations. Before Java 8, there were no type annotations, so we had to annotate the member and the tool had to interpret this as annotation of the field type or method return type, by convention. However, that was a decade ago, so the tools should have managed to catch up…"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695725741,"creation_date":1695725741,"answer_id":77179346,"question_id":77159583,"body_markdown":"It may seem as if the declarations\r\n\r\n```java\r\npublic &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something)\r\npublic @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)\r\n```\r\n\r\nare syntactically different, i.e. that in the first variant, the annotation is bound to the return type. Apparently, Eclipse follows this idea.\r\n\r\nThe [grammar of the specification], however, shows both as part of the method declaration:\r\n\r\n&gt; ```none\r\n&gt; MethodDeclaration:\r\n&gt;     {MethodModifier} MethodHeader MethodBody\r\n&gt; MethodHeader:\r\n&gt;     Result MethodDeclarator [Throws]\r\n&gt;     TypeParameters {Annotation} Result MethodDeclarator [Throws]\r\n&gt; MethodDeclarator:\r\n&gt;     Identifier ( [ReceiverParameter ,] [FormalParameterList] ) [Dims]\r\n&gt; ```\r\n[MethodModifier]\r\n&gt; ```none\r\n&gt; MethodModifier:\r\n&gt;     (one of)\r\n&gt;     Annotation public protected private\r\n&gt;     abstract static final synchronized native strictfp\r\n&gt; ```\r\nNote that `{Annotation}` between `TypeParameters` and `Result` is part of the `MethodHeader`.\r\n\r\nThen the [Java Language Specification, &#167;9.7.4] says:\r\n\r\n&gt; It is possible for an annotation to appear at a syntactic location in a program where it could plausibly apply to a declaration, or a type, or both.\r\n&gt; \r\n&gt; [...]\r\n&gt; \r\n&gt; The grammar of the Java programming language unambiguously treats annotations at these locations as modifiers for a declaration (&#167;8.3), but that is purely a syntactic matter. Whether an annotation applies to the declaration or to the type of the declared entity - and thus, whether the annotation is a declaration annotation or a type annotation - depends on the applicability of the annotation&#39;s interface […]\r\n\r\nThe way I read this, is that the syntactic location shouldn’t matter, but only the applicability of annotation, given by the `@Target` annotation or its absence. That’s also, how `javac` handles this, unlike Eclipse:\r\n\r\n```java\r\npublic class AnnotationExample {\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        Method m = AnnotationExample.class.getMethod(&quot;methodName&quot;);\r\n        System.out.println(&quot;method:      &quot; + Arrays.toString(m.getAnnotations()));\r\n        System.out.println(&quot;return type: &quot;\r\n            + Arrays.toString(m.getAnnotatedReturnType().getAnnotations()));\r\n    }\r\n\r\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface A {}\r\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface B {}\r\n\r\n    public static @A &lt;T extends Enum&lt;T&gt;&gt; @B Set&lt;T&gt; methodName() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nWhen compiled with `javac`, it will print\r\n\r\n```none\r\nmethod:      [@AnnotationExample$A(), @AnnotationExample$B()]\r\nreturn type: [@AnnotationExample$A(), @AnnotationExample$B()]\r\n```\r\n\r\nbut when compiled with Eclipse, it prints\r\n\r\n```none\r\nmethod:      [@AnnotationExample.A()]\r\nreturn type: [@AnnotationExample.A(), @AnnotationExample.B()]\r\n```\r\nindicating that Eclipse treats the annotation behind the type parameter declaration as an annotation of the return type only. Consequently, changing `B`’s declaration to `@Target(METHOD)` produces a compile error in Eclipse.\r\n\r\n---\r\n\r\nThis behavior interacts with the targets assumed to be valid when no `@Target` annotation has been given:\r\n\r\nFrom Java&#160;8 to Java&#160;13, [the specification looked like][J8]\r\n\r\n&gt; If an annotation of type `java.lang.annotation.Target` is not present on the declaration of an annotation type `T`, then `T` is applicable in all declaration contexts except type parameter declarations, and in no type contexts.\r\n\r\nStarting with Java&#160;17, [the specification looks like][J17]\r\n\r\n&gt; If an annotation of type `java.lang.annotation.Target` is not present on the declaration of an annotation interface `A`, then `A` is applicable in all declaration contexts and in no type contexts.\r\n\r\nSo, this looks like a straight-forward change, now also permitting type parameter declarations as target when no `@Target` has been given, which does not affect our scenario.\r\n\r\nIf there weren’t the in-between versions, [14 to 16]:\r\n\r\n&gt; If an annotation of type java.lang.annotation.Target is not present on the declaration of an annotation interface A, then A is applicable in all nine declaration contexts and in all 16 type contexts.\r\n\r\n&lt;sup&gt;(in Java&#160;16, there are ten declaration contexts and 17 type contexts)&lt;/sup&gt;\r\n\r\nThis directly affects compilers assuming that the annotation following the type parameter declaration are type contexts only. And since this is more permissive than the subsequent version, it’s understandable if a compiler vendor gets surprised by this and has to deliver the more restrictive behavior in an update.\r\n\r\n(Note that `javac` dodged this by not implementing these changes in the first place, JDK&#160;21 is the first to implement the behavior specified since Java&#160;17, see [JDK-8309743])\r\n\r\n---\r\n\r\nIt’s important to keep in mind that while the compiler error shouldn’t happen, the specification changes will still affect what is reported to be annotated when inspecting the code. When you want to be able to annotate types, rather than the method, you need an explicit `@Target` including `TYPE_USE`.\r\n\r\n[grammar of the specification]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4\r\n[MethodModifier]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.3\r\n[Java Language Specification, &#167;9.7.4]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.7.4\r\n[J8]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.4.1\r\n[J17]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.4.1\r\n[14 to 16]: https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.6.4.1\r\n[JDK-8309743]: https://bugs.openjdk.org/browse/JDK-8309743\r\n","title":"@Nullable annotation cannot be applied here","body":"<p>It may seem as if the declarations</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something)\npublic @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)\n</code></pre>\n<p>are syntactically different, i.e. that in the first variant, the annotation is bound to the return type. Apparently, Eclipse follows this idea.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4\" rel=\"nofollow noreferrer\">grammar of the specification</a>, however, shows both as part of the method declaration:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>MethodDeclaration:\n    {MethodModifier} MethodHeader MethodBody\nMethodHeader:\n    Result MethodDeclarator [Throws]\n    TypeParameters {Annotation} Result MethodDeclarator [Throws]\nMethodDeclarator:\n    Identifier ( [ReceiverParameter ,] [FormalParameterList] ) [Dims]\n</code></pre>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.3\" rel=\"nofollow noreferrer\">MethodModifier</a></p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>MethodModifier:\n    (one of)\n    Annotation public protected private\n    abstract static final synchronized native strictfp\n</code></pre>\n</blockquote>\n<p>Note that <code>{Annotation}</code> between <code>TypeParameters</code> and <code>Result</code> is part of the <code>MethodHeader</code>.</p>\n<p>Then the <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.7.4\" rel=\"nofollow noreferrer\">Java Language Specification, §9.7.4</a> says:</p>\n<blockquote>\n<p>It is possible for an annotation to appear at a syntactic location in a program where it could plausibly apply to a declaration, or a type, or both.</p>\n<p>[...]</p>\n<p>The grammar of the Java programming language unambiguously treats annotations at these locations as modifiers for a declaration (§8.3), but that is purely a syntactic matter. Whether an annotation applies to the declaration or to the type of the declared entity - and thus, whether the annotation is a declaration annotation or a type annotation - depends on the applicability of the annotation's interface […]</p>\n</blockquote>\n<p>The way I read this, is that the syntactic location shouldn’t matter, but only the applicability of annotation, given by the <code>@Target</code> annotation or its absence. That’s also, how <code>javac</code> handles this, unlike Eclipse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnnotationExample {\n    public static void main(String[] args) throws NoSuchMethodException {\n        Method m = AnnotationExample.class.getMethod(&quot;methodName&quot;);\n        System.out.println(&quot;method:      &quot; + Arrays.toString(m.getAnnotations()));\n        System.out.println(&quot;return type: &quot;\n            + Arrays.toString(m.getAnnotatedReturnType().getAnnotations()));\n    }\n\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface A {}\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface B {}\n\n    public static @A &lt;T extends Enum&lt;T&gt;&gt; @B Set&lt;T&gt; methodName() {\n        return null;\n    }\n}\n</code></pre>\n<p>When compiled with <code>javac</code>, it will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>method:      [@AnnotationExample$A(), @AnnotationExample$B()]\nreturn type: [@AnnotationExample$A(), @AnnotationExample$B()]\n</code></pre>\n<p>but when compiled with Eclipse, it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>method:      [@AnnotationExample.A()]\nreturn type: [@AnnotationExample.A(), @AnnotationExample.B()]\n</code></pre>\n<p>indicating that Eclipse treats the annotation behind the type parameter declaration as an annotation of the return type only. Consequently, changing <code>B</code>’s declaration to <code>@Target(METHOD)</code> produces a compile error in Eclipse.</p>\n<hr />\n<p>This behavior interacts with the targets assumed to be valid when no <code>@Target</code> annotation has been given:</p>\n<p>From Java 8 to Java 13, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.4.1\" rel=\"nofollow noreferrer\">the specification looked like</a></p>\n<blockquote>\n<p>If an annotation of type <code>java.lang.annotation.Target</code> is not present on the declaration of an annotation type <code>T</code>, then <code>T</code> is applicable in all declaration contexts except type parameter declarations, and in no type contexts.</p>\n</blockquote>\n<p>Starting with Java 17, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.4.1\" rel=\"nofollow noreferrer\">the specification looks like</a></p>\n<blockquote>\n<p>If an annotation of type <code>java.lang.annotation.Target</code> is not present on the declaration of an annotation interface <code>A</code>, then <code>A</code> is applicable in all declaration contexts and in no type contexts.</p>\n</blockquote>\n<p>So, this looks like a straight-forward change, now also permitting type parameter declarations as target when no <code>@Target</code> has been given, which does not affect our scenario.</p>\n<p>If there weren’t the in-between versions, <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.6.4.1\" rel=\"nofollow noreferrer\">14 to 16</a>:</p>\n<blockquote>\n<p>If an annotation of type java.lang.annotation.Target is not present on the declaration of an annotation interface A, then A is applicable in all nine declaration contexts and in all 16 type contexts.</p>\n</blockquote>\n<p><sup>(in Java 16, there are ten declaration contexts and 17 type contexts)</sup></p>\n<p>This directly affects compilers assuming that the annotation following the type parameter declaration are type contexts only. And since this is more permissive than the subsequent version, it’s understandable if a compiler vendor gets surprised by this and has to deliver the more restrictive behavior in an update.</p>\n<p>(Note that <code>javac</code> dodged this by not implementing these changes in the first place, JDK 21 is the first to implement the behavior specified since Java 17, see <a href=\"https://bugs.openjdk.org/browse/JDK-8309743\" rel=\"nofollow noreferrer\">JDK-8309743</a>)</p>\n<hr />\n<p>It’s important to keep in mind that while the compiler error shouldn’t happen, the specification changes will still affect what is reported to be annotated when inspecting the code. When you want to be able to annotate types, rather than the method, you need an explicit <code>@Target</code> including <code>TYPE_USE</code>.</p>\n"}],"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77179346,"answer_count":1,"score":1,"last_activity_date":1695730372,"creation_date":1695403133,"question_id":77159583,"body_markdown":"Eclipse shows this as a Java problem:\r\n\r\n&gt; Annotation types that do not specify explicit target element types cannot be applied here.\r\n\r\nThis only happened when I upgraded from Eclipse 2022-09 to 2023-09.\r\n\r\nThis is an example when this happens:\r\n\r\n    public &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something) {\r\n      // ...\r\n    }\r\n\r\nThe annotation is the `javax.annotation.Nullable` from the jsr305 library.\r\n\r\nI&#39;m using Adoptium OpenJDK 17.0.8.101-hotspot.\r\n\r\n - This didn&#39;t happen with Eclipse 2022-09.\r\n - This doesn&#39;t happen with IntelliJ.\r\n - This doesn&#39;t happen when I compile via `gradlew compileJava`.\r\n - This doesn&#39;t happen with `public @Nullable Set&lt;?&gt; getSomeSet() { ... }`\r\n - This doesn&#39;t happen with `public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)`\r\n\r\nI don&#39;t understand why is that happening in this specific circumstance now (and not in all other cases) and what can I do to make that error disappear from my Eclipse IDE. I didn&#39;t find any option to disable this kind of error in the preferences.\r\n\r\n**EDIT:** Simplified the minimal reproduction case and added &quot;doesn&#39;t happen&quot; case #4.\r\n\r\n**EDIT2:** Added &quot;doesn&#39;t happen&quot; case #5.","title":"@Nullable annotation cannot be applied here","body":"<p>Eclipse shows this as a Java problem:</p>\n<blockquote>\n<p>Annotation types that do not specify explicit target element types cannot be applied here.</p>\n</blockquote>\n<p>This only happened when I upgraded from Eclipse 2022-09 to 2023-09.</p>\n<p>This is an example when this happens:</p>\n<pre><code>public &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something) {\n  // ...\n}\n</code></pre>\n<p>The annotation is the <code>javax.annotation.Nullable</code> from the jsr305 library.</p>\n<p>I'm using Adoptium OpenJDK 17.0.8.101-hotspot.</p>\n<ul>\n<li>This didn't happen with Eclipse 2022-09.</li>\n<li>This doesn't happen with IntelliJ.</li>\n<li>This doesn't happen when I compile via <code>gradlew compileJava</code>.</li>\n<li>This doesn't happen with <code>public @Nullable Set&lt;?&gt; getSomeSet() { ... }</code></li>\n<li>This doesn't happen with <code>public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)</code></li>\n</ul>\n<p>I don't understand why is that happening in this specific circumstance now (and not in all other cases) and what can I do to make that error disappear from my Eclipse IDE. I didn't find any option to disable this kind of error in the preferences.</p>\n<p><strong>EDIT:</strong> Simplified the minimal reproduction case and added &quot;doesn't happen&quot; case #4.</p>\n<p><strong>EDIT2:</strong> Added &quot;doesn't happen&quot; case #5.</p>\n"},{"tags":["java","spring","spring-boot","interceptor","spring-annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695728265,"post_id":77179655,"comment_id":136060484,"body_markdown":"What is it you are trying to achieve, whyu do you need to annotation information? That being said the `@RequestMapping` should just work also for the other annotations if you use a recent enough Spring version.","body":"What is it you are trying to achieve, whyu do you need to annotation information? That being said the <code>@RequestMapping</code> should just work also for the other annotations if you use a recent enough Spring version."},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1695728705,"post_id":77179655,"comment_id":136060575,"body_markdown":"When i use specifically ```AnnotationUtils.findAnnotation(method, @RequestMapping.class)``` on the method annotated with ```@GetMapping``` i was not able to get the path information.","body":"When i use specifically <code>AnnotationUtils.findAnnotation(method, @RequestMapping.class)</code> on the method annotated with <code>@GetMapping</code> i was not able to get the path information."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695728771,"post_id":77179655,"comment_id":136060585,"body_markdown":"It shoudl as it is a meta annotation and the `findAnnotation` looks for meta annotations as well. At least if you use a decent recent enough version of Spring. So which version of Spring (Boot) are you using? I also suspect that the 2 methods you posted are only part of the problem and we need to see the whole controller. Nonetheless the usecase of what you are trying to achieve still isn&#39;t clear.","body":"It shoudl as it is a meta annotation and the <code>findAnnotation</code> looks for meta annotations as well. At least if you use a decent recent enough version of Spring. So which version of Spring (Boot) are you using? I also suspect that the 2 methods you posted are only part of the problem and we need to see the whole controller. Nonetheless the usecase of what you are trying to achieve still isn&#39;t clear."},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1695728864,"post_id":77179655,"comment_id":136060605,"body_markdown":"I was on ```2.7.14``` , let me check with the latest","body":"I was on <code>2.7.14</code> , let me check with the latest"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695728917,"post_id":77179655,"comment_id":136060614,"body_markdown":"That should do a look on meta-annotations already. So it seems you haven&#39;t shown the full picture but just snippets of look-alike code which doesn&#39;t have the problem.","body":"That should do a look on meta-annotations already. So it seems you haven&#39;t shown the full picture but just snippets of look-alike code which doesn&#39;t have the problem."},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1695730131,"post_id":77179655,"comment_id":136060866,"body_markdown":"I tried with Latest 2.7.16, still same issue. Can i share the reproducable repo link for quick check","body":"I tried with Latest 2.7.16, still same issue. Can i share the reproducable repo link for quick check"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695730188,"post_id":77179655,"comment_id":136060879,"body_markdown":"I&#39;m not going to go through your full code (unless you hire me to do so), include the needed information in your question.","body":"I&#39;m not going to go through your full code (unless you hire me to do so), include the needed information in your question."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695753463,"post_id":77179655,"comment_id":136065780,"body_markdown":"i  don&#39;t require you to hire me . but if you consider to provide enough bounties for the question , i am happy to take a look . cheers.","body":"i  don&#39;t require you to hire me . but if you consider to provide enough bounties for the question , i am happy to take a look . cheers."}],"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695730211,"creation_date":1695728123,"question_id":77179655,"body_markdown":"I was trying to setup usage of REST APIs in one of our application. SO I was trying to achieving this with interceptor approach.\r\n\r\nThe problem i was having as we are having two kinds of restful definitions spread-ed across controllers. some of them are with @Get/@post mappings while others with verbose `@RequestMapping`. \r\n\r\n\r\nSo when i use `AnnotationUtils.findAnnotation(method, RequestMapping.class)` we are not getting the path value where we are using HttpVerb maapings (`@GETMapping`).\r\n\r\nMy Solution for this is if we are getting empty path with `@RequestMapping`, then go to switch case and then check with each Http Verb, and then call the associated  `AnnotationUtils.findAnnotation(method, HttpVerbMapping.class)`. I am posting here, is there any better and simpler solution for this?\r\n\r\n```\r\n@GetMapping(&quot;/say-good-bye&quot;)\r\npublic ResponseEntity&lt;String&gt; sayGoodBye1() {\r\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\r\n    }\r\n```\r\n```\r\n@RequestMapping(value = &quot;/say-good-bye2&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;String&gt; sayGoodBye2() {\r\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class MyOwnInterceptor implements HandlerInterceptor {\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n            throws Exception {\r\n        Method method = ((HandlerMethod) handler).getMethod();\r\n\r\n        RequestMapping requestMapping = AnnotationUtils.findAnnotation(method, RequestMapping.class);\r\n        }\r\n}\r\n```\r\nWhen i use ``` curl --location &#39;http://localhost:8080/say-good-bye&#39;``` the ```AnnotationUtils.findAnnotation(method, RequestMapping.class)``` its returning empty path.","title":"AnnotationUtils.findAnnotation not gives path value when restMethod uses GetMapping","body":"<p>I was trying to setup usage of REST APIs in one of our application. SO I was trying to achieving this with interceptor approach.</p>\n<p>The problem i was having as we are having two kinds of restful definitions spread-ed across controllers. some of them are with @Get/@post mappings while others with verbose <code>@RequestMapping</code>.</p>\n<p>So when i use <code>AnnotationUtils.findAnnotation(method, RequestMapping.class)</code> we are not getting the path value where we are using HttpVerb maapings (<code>@GETMapping</code>).</p>\n<p>My Solution for this is if we are getting empty path with <code>@RequestMapping</code>, then go to switch case and then check with each Http Verb, and then call the associated  <code>AnnotationUtils.findAnnotation(method, HttpVerbMapping.class)</code>. I am posting here, is there any better and simpler solution for this?</p>\n<pre><code>@GetMapping(&quot;/say-good-bye&quot;)\npublic ResponseEntity&lt;String&gt; sayGoodBye1() {\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\n    }\n</code></pre>\n<pre><code>@RequestMapping(value = &quot;/say-good-bye2&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;String&gt; sayGoodBye2() {\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\n}\n</code></pre>\n<pre><code>@Component\npublic class MyOwnInterceptor implements HandlerInterceptor {\n\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        Method method = ((HandlerMethod) handler).getMethod();\n\n        RequestMapping requestMapping = AnnotationUtils.findAnnotation(method, RequestMapping.class);\n        }\n}\n</code></pre>\n<p>When i use <code> curl --location 'http://localhost:8080/say-good-bye'</code> the <code>AnnotationUtils.findAnnotation(method, RequestMapping.class)</code> its returning empty path.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1541883176,"post_id":53243285,"comment_id":93372058,"body_markdown":"Use exceptions to handle exceptional conditions only. If you can predict and detect the problem, there is no need to use an exception.","body":"Use exceptions to handle exceptional conditions only. If you can predict and detect the problem, there is no need to use an exception."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1541883606,"post_id":53243285,"comment_id":93372167,"body_markdown":"There is the option of returning `Optional&lt;User&gt;` which is only filled if valid, empty otherwise.","body":"There is the option of returning <code>Optional&lt;User&gt;</code> which is only filled if valid, empty otherwise."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1541883663,"post_id":53243285,"comment_id":93372183,"body_markdown":"Any opposition to closing this as a duplicate of https://stackoverflow.com/questions/2972307/when-to-return-bool-throw-an-exception-and-which-exception-to-throw ?","body":"Any opposition to closing this as a duplicate of <a href=\"https://stackoverflow.com/questions/2972307/when-to-return-bool-throw-an-exception-and-which-exception-to-throw\" title=\"when to return bool throw an exception and which exception to throw\">stackoverflow.com/questions/2972307/&hellip;</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1541883743,"post_id":53243373,"comment_id":93372200,"body_markdown":"The &quot;PS&quot; indicated that this was supposed to be a comment (so I won&#39;t downvote, just wait until you delete it ;-) )","body":"The &quot;PS&quot; indicated that this was supposed to be a comment (so I won&#39;t downvote, just wait until you delete it ;-) )"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1541883972,"post_id":53243373,"comment_id":93372259,"body_markdown":"Yeah, it was meant to be a comment.  But responses don&#39;t completely &quot;delete&quot;, so I&#39;ll leave it as a response ... and just delete my previous comment instead.  BTW - this post has duplicates, including: [Best practice for Java exception handling](https://stackoverflow.com/questions/32545270/best-practice-for-java-exception-handling) and [Exceptions: Why throw early? Why catch late?](https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late)","body":"Yeah, it was meant to be a comment.  But responses don&#39;t completely &quot;delete&quot;, so I&#39;ll leave it as a response ... and just delete my previous comment instead.  BTW - this post has duplicates, including: <a href=\"https://stackoverflow.com/questions/32545270/best-practice-for-java-exception-handling\">Best practice for Java exception handling</a> and <a href=\"https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late\">Exceptions: Why throw early? Why catch late?</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1541884006,"post_id":53243373,"comment_id":93372269,"body_markdown":"While far more expensive, once this path warms up it costs about 1 microsecond, whereas boolean is a fraction of this, but might not be a problem.","body":"While far more expensive, once this path warms up it costs about 1 microsecond, whereas boolean is a fraction of this, but might not be a problem."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1541888171,"post_id":53243373,"comment_id":93373293,"body_markdown":"One final comment: although a good case can be made for throwing a &quot;logon exception&quot; error, I&#39;d just use a boolean.  The reason is that the caller who invoked the logon needs to know directly whether it succeeded or not, and take the appropriate action.  There shouldn&#39;t be any need to &quot;bubble&quot; the logon failure to any other part of the code.","body":"One final comment: although a good case can be made for throwing a &quot;logon exception&quot; error, I&#39;d just use a boolean.  The reason is that the caller who invoked the logon needs to know directly whether it succeeded or not, and take the appropriate action.  There shouldn&#39;t be any need to &quot;bubble&quot; the logon failure to any other part of the code."}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1541884351,"creation_date":1541883689,"answer_id":53243373,"question_id":53243285,"body_markdown":"Short answer: \r\n\r\nYou should *NEVER* use try/catch for &quot;control logic&quot;. \r\n\r\nAs  Andy Turner said, &quot;Use exceptions to handle exceptional conditions only.&quot;\r\n\r\nThis is equally true of all languages that support exceptions - not just Java. Useful article: \r\n\r\n[Best practices for exceptions](https://learn.microsoft.com/en-us/dotnet/standard/exceptions/best-practices-for-exceptions)\r\n\r\nPS: try/catch is *NOT* &quot;just similar&quot; to &quot;if/else&quot;.  It has a different implementation, a different intent ... and it&#39;s *FAR* more expensive.\r\n\r\nADDITIONAL NOTE:\r\n\r\n&gt; \r\n&gt; *Exceptions: Why throw early? Why catch late?*\r\n&gt; \r\n&gt; https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late\r\n&gt; \r\n&gt; In my experience, its best to throw exceptions at the point where the\r\n&gt; errors occur. You do this because it&#39;s the point where you know the\r\n&gt; most about why the exception was triggered.\r\n&gt; \r\n&gt; As the exception unwinds back up the layers, catching and rethrowing\r\n&gt; is a good way to add additional context to the exception. This can\r\n&gt; mean throwing a different type of exception, but include the original\r\n&gt; exception when you do this.\r\n&gt; \r\n&gt; Eventually the exception will reach a layer where you are able to make\r\n&gt; decisions on code flow (e.g a prompt the user for action). This is the\r\n&gt; point where you should finally handle the exception and continue\r\n&gt; normal execution.\r\n&gt; \r\n&gt; With practice and experience with your code base it becomes quite easy\r\n&gt; to judge when to add additional context to errors, and where it&#39;s most\r\n&gt; sensible to actually, finally handle the errors.\r\n&gt; \r\n&gt; * Catch → Rethrow\r\n&gt; \r\n&gt;   Do this where you can usefully add more information that would save\r\n&gt; a developer having to work through all the layers to understand the\r\n&gt; problem.\r\n&gt; \r\n&gt; * Catch → Handle\r\n&gt; \r\n&gt;   Do this where you can make final decisions on what is an\r\n&gt; appropriate, but different execution flow through the software.\r\n&gt; \r\n&gt; * Catch → Error Return\r\n&gt; \r\n&gt;   Whilst there are situations where this is appropriate, catching\r\n&gt; exceptions and returning an error value to the caller should be\r\n&gt; considered for refactoring into a Catch → Rethrow implementation.\r\n\r\n","title":"return boolean or try catch","body":"<p>Short answer: </p>\n\n<p>You should <em>NEVER</em> use try/catch for \"control logic\". </p>\n\n<p>As  Andy Turner said, \"Use exceptions to handle exceptional conditions only.\"</p>\n\n<p>This is equally true of all languages that support exceptions - not just Java. Useful article: </p>\n\n<p><a href=\"https://learn.microsoft.com/en-us/dotnet/standard/exceptions/best-practices-for-exceptions\" rel=\"noreferrer\">Best practices for exceptions</a></p>\n\n<p>PS: try/catch is <em>NOT</em> \"just similar\" to \"if/else\".  It has a different implementation, a different intent ... and it's <em>FAR</em> more expensive.</p>\n\n<p>ADDITIONAL NOTE:</p>\n\n<blockquote>\n  <p><em>Exceptions: Why throw early? Why catch late?</em></p>\n  \n  <p><a href=\"https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late\">https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late</a></p>\n  \n  <p>In my experience, its best to throw exceptions at the point where the\n  errors occur. You do this because it's the point where you know the\n  most about why the exception was triggered.</p>\n  \n  <p>As the exception unwinds back up the layers, catching and rethrowing\n  is a good way to add additional context to the exception. This can\n  mean throwing a different type of exception, but include the original\n  exception when you do this.</p>\n  \n  <p>Eventually the exception will reach a layer where you are able to make\n  decisions on code flow (e.g a prompt the user for action). This is the\n  point where you should finally handle the exception and continue\n  normal execution.</p>\n  \n  <p>With practice and experience with your code base it becomes quite easy\n  to judge when to add additional context to errors, and where it's most\n  sensible to actually, finally handle the errors.</p>\n  \n  <ul>\n  <li><p>Catch → Rethrow</p>\n  \n  <p>Do this where you can usefully add more information that would save\n  a developer having to work through all the layers to understand the\n  problem.</p></li>\n  <li><p>Catch → Handle</p>\n  \n  <p>Do this where you can make final decisions on what is an\n  appropriate, but different execution flow through the software.</p></li>\n  <li><p>Catch → Error Return</p>\n  \n  <p>Whilst there are situations where this is appropriate, catching\n  exceptions and returning an error value to the caller should be\n  considered for refactoring into a Catch → Rethrow implementation.</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25795974,"reputation":21,"user_id":19539143,"display_name":"Raymond Arthur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695730210,"creation_date":1695729473,"answer_id":77179795,"question_id":53243285,"body_markdown":"In case someone else finds this, I found another Stack Overflow thread where someone suggested creating a new class to handle this scenario (see https://stackoverflow.com/questions/13902174/try-catch-or-boolean-check).\r\n\r\nI tried it and it works brilliantly. If-boolean can be a bit simplistic if our method calls other methods that each check one thing. And try-catch should ideally be used for genuine exceptions. \r\n\r\nBy creating a Result class (e.g. with a boolean property and a String property), we can return the result (true/false) and a meaningful message that can be printed to the console or to a GUI (e.g. JavaFX).","title":"return boolean or try catch","body":"<p>In case someone else finds this, I found another Stack Overflow thread where someone suggested creating a new class to handle this scenario (see <a href=\"https://stackoverflow.com/questions/13902174/try-catch-or-boolean-check\">Try Catch or Boolean check</a>).</p>\n<p>I tried it and it works brilliantly. If-boolean can be a bit simplistic if our method calls other methods that each check one thing. And try-catch should ideally be used for genuine exceptions.</p>\n<p>By creating a Result class (e.g. with a boolean property and a String property), we can return the result (true/false) and a meaningful message that can be printed to the console or to a GUI (e.g. JavaFX).</p>\n"}],"owner":{"account_id":14659691,"reputation":63,"user_id":10587288,"display_name":"A. Go"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6857,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53243373,"answer_count":2,"score":4,"last_activity_date":1695730210,"creation_date":1541883073,"question_id":53243285,"body_markdown":"when a function or method encouter error/invalid data, do return false or throw an exception?\r\nConsider a class Loginer has such method :\r\n\r\n    public boolean login(String username){\r\n    \t//retrieve data...\r\n    \tif(username.equals(record.username)){\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn false;\r\n    }\r\n\r\nthen at the main or some other class \r\n\r\n    String username = &quot;ggwp&quot;;\r\n    if(Loginer.login(username)){\r\n    \t//successful login, show homepage...\r\n        new User(username);\r\n    } else {\r\n    \t//invalid username\r\n    }\r\n\r\nwon&#39;t it be inefficient as it has been checked two time with if-else statement, one in Loginer, and another one check for true again at main.\r\nwon&#39;t try catch will do the same? having the Loginer to throw an Exception:\r\n\r\n    public User login(String username){\r\n    \t//retrieve record data...\r\n    \tif(username.equals(record.username)){\r\n    \t\treturn new User(username);\r\n    \t}\r\n    \r\n    \t/* Exception if no record found for such username */\r\n    \tthrow new MyException(&quot;invalid username&quot;);\r\n    }\r\n\r\nthen on the main:\r\n\r\n    String username = &quot;ggwp2&quot;;\r\n    User theUser;\r\n    try{\r\n    \t//sucessful login\r\n    \ttheUser = Loginer.login(username);\r\n    }catch(MyException e){\r\n    \t//invalid username\r\n    }\r\n\r\nthe try-catch need no check second time for true or false. (this example i use return User object, it could be void and return nothing but the point is, why use boolean which will eventual being check twice?)\r\n\r\nsome website sources say not to use try-catch for &#39;code jumping&#39; but in this case it just do the same. (try-catch is just too similar to if-else statement)\r\n\r\nSo which is correct and why? please guide and sorry if this question is incorrect, im newbie to OO.\r\n","title":"return boolean or try catch","body":"<p>when a function or method encouter error/invalid data, do return false or throw an exception?\nConsider a class Loginer has such method :</p>\n\n<pre><code>public boolean login(String username){\n    //retrieve data...\n    if(username.equals(record.username)){\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>then at the main or some other class </p>\n\n<pre><code>String username = \"ggwp\";\nif(Loginer.login(username)){\n    //successful login, show homepage...\n    new User(username);\n} else {\n    //invalid username\n}\n</code></pre>\n\n<p>won't it be inefficient as it has been checked two time with if-else statement, one in Loginer, and another one check for true again at main.\nwon't try catch will do the same? having the Loginer to throw an Exception:</p>\n\n<pre><code>public User login(String username){\n    //retrieve record data...\n    if(username.equals(record.username)){\n        return new User(username);\n    }\n\n    /* Exception if no record found for such username */\n    throw new MyException(\"invalid username\");\n}\n</code></pre>\n\n<p>then on the main:</p>\n\n<pre><code>String username = \"ggwp2\";\nUser theUser;\ntry{\n    //sucessful login\n    theUser = Loginer.login(username);\n}catch(MyException e){\n    //invalid username\n}\n</code></pre>\n\n<p>the try-catch need no check second time for true or false. (this example i use return User object, it could be void and return nothing but the point is, why use boolean which will eventual being check twice?)</p>\n\n<p>some website sources say not to use try-catch for 'code jumping' but in this case it just do the same. (try-catch is just too similar to if-else statement)</p>\n\n<p>So which is correct and why? please guide and sorry if this question is incorrect, im newbie to OO.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":29534919,"reputation":1,"user_id":22634694,"display_name":"OutOfMemory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695729821,"creation_date":1695701016,"question_id":77176952,"body_markdown":"In my spring boot web project,  there is a property named &#39;processType&#39; configurred in application.properties file, the enums of this property are &#39;web&#39;,&#39;worker&#39; and &#39;service&#39;, I  build different docker services according to  processType value  using the same gitlab codes.   And I want to exclude all controllers from registering as spring beans when processType value is &#39;worker&#39; and &#39;service&#39;. Of course, when this property value is web,  all controller need registering into spring container as component to handle web requests. I don&#39;t want use @ConditionalOnProperty annotation cause too many controllers need be handled.\r\n\r\nhere is my code.\r\n\r\nproject main class\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableCustomSwagger\r\n@EnableAsync\r\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\r\n@EnableElasticsearchRepositories\r\n@EnableCaching\r\n@EnableApolloConfig\r\n//@SpringBootConfiguration\r\n//@EnableAutoConfiguration\r\n//@ComponentScan(\r\n//    value = &quot;com.example.package.subpack&quot;,\r\n//    excludeFilters = {\r\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),\r\n//      @ComponentScan.Filter(\r\n//          type = FilterType.CUSTOM,\r\n//          classes = AutoConfigurationExcludeFilter.class),\r\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)\r\n//    })\r\npublic class TaskServiceApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(TaskServiceApplication.class, args);\r\n  }\r\n\r\n  @Bean\r\n  public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\r\n    return new RestTemplate(factory);\r\n  }\r\n\r\n  @Bean\r\n  public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\r\n    SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\r\n    factory.setConnectTimeout(15000);\r\n    factory.setReadTimeout(15000);\r\n    return factory;\r\n  }\r\n}\r\n```\r\n\r\nmy custom TypeExcludeFilter:\r\n\r\n```java\r\n/**\r\n * 按理讲只要继承TypeExcludeFilter就能自动执行match逻辑，但是实际测试多次，都不执行本Filter的match内容。 本过滤器无需修改启动类的springboot注解\r\n *\r\n * &lt;p&gt;改用{@link ControllerExcludeTypeFilter}实现，该类需要改动springboot的注解。\r\n *\r\n * @author hebin\r\n * @date 2023/9/22 17:37\r\n */\r\n@Slf4j\r\npublic class ControllerTypeExcludeFilter extends TypeExcludeFilter {\r\n\r\n    private String processType;\r\n    private BeanFactory beanFactory;\r\n    private final String controllerPackage = &quot;com.example.package.subpack.controller&quot;;\r\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\r\n\r\n    @Override\r\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\r\n        log.info(&quot;controller exclude filter match&quot;);\r\n\r\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\r\n        ClassMetadata classMetadata = metadataReader.getClassMetadata();\r\n        String className = classMetadata.getClassName();\r\n\r\n        Set&lt;String&gt; annotationTypes = annotationMetadata.getAnnotationTypes();\r\n        String processType = getProcessType();\r\n        log.info(&quot;current service process type is : {}&quot;, processType);\r\n        if (!ProcessTypeConst.WEB.equals(processType)) {\r\n            if (isControllerPackageClass(className) &amp;&amp; !isHealthCheckControllerClass(className)) {\r\n                log.info(&quot;class is normal Controller. className:{},annotationTypes:{}&quot;, className, annotationTypes);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean isControllerPackageClass(String className) {\r\n        return className.startsWith(controllerPackage);\r\n    }\r\n\r\n    private boolean isHealthCheckControllerClass(String className) {\r\n        return className.startsWith(healthCheckController);\r\n    }\r\n\r\n    public String getProcessType() {\r\n        if (StringUtils.isBlank(processType)) {\r\n            readProcessType();\r\n        }\r\n        return processType;\r\n    }\r\n\r\n    private void readProcessType() {\r\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\r\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\r\n    }\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return (obj != null) &amp;&amp; (getClass() == obj.getClass());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n\r\nin my mind, i just need extend TypeExcludeFilter, and it will work cause TypeExcludeFilter class will find all its sub class to do some filter logic. source codes are:\r\n\r\n```java\r\npublic class TypeExcludeFilter implements TypeFilter, BeanFactoryAware {\r\n\r\n    private BeanFactory beanFactory;\r\n\r\n    private Collection&lt;TypeExcludeFilter&gt; delegates;\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n\r\n    @Override\r\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {\r\n        if (this.beanFactory instanceof ListableBeanFactory &amp;&amp; getClass() == TypeExcludeFilter.class) {\r\n            for (TypeExcludeFilter delegate : getDelegates()) {\r\n                if (delegate.match(metadataReader, metadataReaderFactory)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private Collection&lt;TypeExcludeFilter&gt; getDelegates() {\r\n        Collection&lt;TypeExcludeFilter&gt; delegates = this.delegates;\r\n        if (delegates == null) {\r\n            delegates = ((ListableBeanFactory) this.beanFactory).getBeansOfType(TypeExcludeFilter.class).values();\r\n            this.delegates = delegates;\r\n        }\r\n        return delegates;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented equals&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented hashCode&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, in fact, my custom Filter wont work expected. so why?\r\n\r\nFinally I give up @SpringBootApplication annotation, and code as follows. it works well, but i still don&#39;t know why my custom TypeExcludeFilter does not work?\r\n\r\nproject main class\r\n\r\n```java\r\n//@SpringBootApplication\r\n@EnableCustomSwagger\r\n@EnableAsync\r\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\r\n@EnableElasticsearchRepositories\r\n@EnableCaching\r\n@EnableApolloConfig\r\n@SpringBootConfiguration\r\n@EnableAutoConfiguration\r\n@ComponentScan(value = &quot;com.example.package.subpack&quot;, excludeFilters = {@ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)})\r\npublic class TaskServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TaskServiceApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\r\n        return new RestTemplate(factory);\r\n    }\r\n\r\n    @Bean\r\n    public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\r\n        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\r\n        factory.setConnectTimeout(15000);\r\n        factory.setReadTimeout(15000);\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nMy own FilterType:\r\n\r\n```java\r\n/**\r\n * 该类需要改动springboot的注解。删掉@SpringBootApplication，改用其内三个注解，其中ComponentScan注解增加本过滤器\r\n *\r\n * @date 2023/9/22 17:37\r\n */\r\n@Slf4j\r\npublic class ControllerExcludeTypeFilter implements TypeFilter, BeanFactoryAware {\r\n\r\n    private String processType;\r\n    private BeanFactory beanFactory;\r\n    private static final String controllerAnnotationName = Controller.class.getName();\r\n\r\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\r\n\r\n    @Override\r\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\r\n        String processType = getProcessType();\r\n        if (ProcessTypeConst.WEB.equals(processType)) {\r\n            return false;\r\n        }\r\n\r\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\r\n        if (!annotationMetadata.isAnnotated(controllerAnnotationName)) {\r\n            return false;\r\n        }\r\n\r\n        String className = metadataReader.getClassMetadata().getClassName();\r\n        if (isHealthCheckControllerClass(className)) {\r\n            return false;\r\n        }\r\n\r\n        log.info(&quot;class is normal Controller and will not be registered into spring container.processType:{}, className:{}&quot;, processType, className);\r\n        return true;\r\n\r\n    }\r\n\r\n    private boolean isHealthCheckControllerClass(String className) {\r\n        return className.startsWith(healthCheckController);\r\n    }\r\n\r\n    public String getProcessType() {\r\n        if (StringUtils.isBlank(processType)) {\r\n            readProcessType();\r\n        }\r\n        return processType;\r\n    }\r\n\r\n    private void readProcessType() {\r\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\r\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\r\n        log.info(&quot;controller exclude type filter has read process type property. processType:{}&quot;, processType);\r\n    }\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n}\r\n```","title":"Why My custom TypeExcludeFilter does not work?","body":"<p>In my spring boot web project,  there is a property named 'processType' configurred in application.properties file, the enums of this property are 'web','worker' and 'service', I  build different docker services according to  processType value  using the same gitlab codes.   And I want to exclude all controllers from registering as spring beans when processType value is 'worker' and 'service'. Of course, when this property value is web,  all controller need registering into spring container as component to handle web requests. I don't want use @ConditionalOnProperty annotation cause too many controllers need be handled.</p>\n<p>here is my code.</p>\n<p>project main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableCustomSwagger\n@EnableAsync\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\n@EnableElasticsearchRepositories\n@EnableCaching\n@EnableApolloConfig\n//@SpringBootConfiguration\n//@EnableAutoConfiguration\n//@ComponentScan(\n//    value = &quot;com.example.package.subpack&quot;,\n//    excludeFilters = {\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),\n//      @ComponentScan.Filter(\n//          type = FilterType.CUSTOM,\n//          classes = AutoConfigurationExcludeFilter.class),\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)\n//    })\npublic class TaskServiceApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(TaskServiceApplication.class, args);\n  }\n\n  @Bean\n  public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\n    return new RestTemplate(factory);\n  }\n\n  @Bean\n  public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\n    SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\n    factory.setConnectTimeout(15000);\n    factory.setReadTimeout(15000);\n    return factory;\n  }\n}\n</code></pre>\n<p>my custom TypeExcludeFilter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * 按理讲只要继承TypeExcludeFilter就能自动执行match逻辑，但是实际测试多次，都不执行本Filter的match内容。 本过滤器无需修改启动类的springboot注解\n *\n * &lt;p&gt;改用{@link ControllerExcludeTypeFilter}实现，该类需要改动springboot的注解。\n *\n * @author hebin\n * @date 2023/9/22 17:37\n */\n@Slf4j\npublic class ControllerTypeExcludeFilter extends TypeExcludeFilter {\n\n    private String processType;\n    private BeanFactory beanFactory;\n    private final String controllerPackage = &quot;com.example.package.subpack.controller&quot;;\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\n\n    @Override\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\n        log.info(&quot;controller exclude filter match&quot;);\n\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\n        ClassMetadata classMetadata = metadataReader.getClassMetadata();\n        String className = classMetadata.getClassName();\n\n        Set&lt;String&gt; annotationTypes = annotationMetadata.getAnnotationTypes();\n        String processType = getProcessType();\n        log.info(&quot;current service process type is : {}&quot;, processType);\n        if (!ProcessTypeConst.WEB.equals(processType)) {\n            if (isControllerPackageClass(className) &amp;&amp; !isHealthCheckControllerClass(className)) {\n                log.info(&quot;class is normal Controller. className:{},annotationTypes:{}&quot;, className, annotationTypes);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private boolean isControllerPackageClass(String className) {\n        return className.startsWith(controllerPackage);\n    }\n\n    private boolean isHealthCheckControllerClass(String className) {\n        return className.startsWith(healthCheckController);\n    }\n\n    public String getProcessType() {\n        if (StringUtils.isBlank(processType)) {\n            readProcessType();\n        }\n        return processType;\n    }\n\n    private void readProcessType() {\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = beanFactory;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return (obj != null) &amp;&amp; (getClass() == obj.getClass());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>in my mind, i just need extend TypeExcludeFilter, and it will work cause TypeExcludeFilter class will find all its sub class to do some filter logic. source codes are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TypeExcludeFilter implements TypeFilter, BeanFactoryAware {\n\n    private BeanFactory beanFactory;\n\n    private Collection&lt;TypeExcludeFilter&gt; delegates;\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = beanFactory;\n    }\n\n    @Override\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {\n        if (this.beanFactory instanceof ListableBeanFactory &amp;&amp; getClass() == TypeExcludeFilter.class) {\n            for (TypeExcludeFilter delegate : getDelegates()) {\n                if (delegate.match(metadataReader, metadataReaderFactory)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    private Collection&lt;TypeExcludeFilter&gt; getDelegates() {\n        Collection&lt;TypeExcludeFilter&gt; delegates = this.delegates;\n        if (delegates == null) {\n            delegates = ((ListableBeanFactory) this.beanFactory).getBeansOfType(TypeExcludeFilter.class).values();\n            this.delegates = delegates;\n        }\n        return delegates;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented equals&quot;);\n    }\n\n    @Override\n    public int hashCode() {\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented hashCode&quot;);\n    }\n\n}\n</code></pre>\n<p>However, in fact, my custom Filter wont work expected. so why?</p>\n<p>Finally I give up @SpringBootApplication annotation, and code as follows. it works well, but i still don't know why my custom TypeExcludeFilter does not work?</p>\n<p>project main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@SpringBootApplication\n@EnableCustomSwagger\n@EnableAsync\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\n@EnableElasticsearchRepositories\n@EnableCaching\n@EnableApolloConfig\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(value = &quot;com.example.package.subpack&quot;, excludeFilters = {@ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)})\npublic class TaskServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TaskServiceApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\n        return new RestTemplate(factory);\n    }\n\n    @Bean\n    public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\n        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\n        factory.setConnectTimeout(15000);\n        factory.setReadTimeout(15000);\n        return factory;\n    }\n}\n</code></pre>\n<p>My own FilterType:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * 该类需要改动springboot的注解。删掉@SpringBootApplication，改用其内三个注解，其中ComponentScan注解增加本过滤器\n *\n * @date 2023/9/22 17:37\n */\n@Slf4j\npublic class ControllerExcludeTypeFilter implements TypeFilter, BeanFactoryAware {\n\n    private String processType;\n    private BeanFactory beanFactory;\n    private static final String controllerAnnotationName = Controller.class.getName();\n\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\n\n    @Override\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\n        String processType = getProcessType();\n        if (ProcessTypeConst.WEB.equals(processType)) {\n            return false;\n        }\n\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\n        if (!annotationMetadata.isAnnotated(controllerAnnotationName)) {\n            return false;\n        }\n\n        String className = metadataReader.getClassMetadata().getClassName();\n        if (isHealthCheckControllerClass(className)) {\n            return false;\n        }\n\n        log.info(&quot;class is normal Controller and will not be registered into spring container.processType:{}, className:{}&quot;, processType, className);\n        return true;\n\n    }\n\n    private boolean isHealthCheckControllerClass(String className) {\n        return className.startsWith(healthCheckController);\n    }\n\n    public String getProcessType() {\n        if (StringUtils.isBlank(processType)) {\n            readProcessType();\n        }\n        return processType;\n    }\n\n    private void readProcessType() {\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\n        log.info(&quot;controller exclude type filter has read process type property. processType:{}&quot;, processType);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = beanFactory;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695729843,"post_id":77179816,"comment_id":136060809,"body_markdown":"Why are you assuming the bottleneck is in the Java code?","body":"Why are you assuming the bottleneck is in the Java code?"},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1695729984,"post_id":77179816,"comment_id":136060840,"body_markdown":"The transfer is done on two SSD disks (read from one, write to the other), and the internet connection as I mentioned is above that. And the speed is always limited to 3 MB/s.","body":"The transfer is done on two SSD disks (read from one, write to the other), and the internet connection as I mentioned is above that. And the speed is always limited to 3 MB/s."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695730513,"post_id":77179816,"comment_id":136060948,"body_markdown":"That still doesn&#39;t mean the problem is in your code. It could be, but it&#39;s still an assumption.","body":"That still doesn&#39;t mean the problem is in your code. It could be, but it&#39;s still an assumption."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1695730711,"post_id":77179816,"comment_id":136060985,"body_markdown":"Among the alternatives being the configuration of the underlying local system and the configuration of the network over which the data are being transferred.  Having a 1Gb link is not the same as being able to sustain a data transfer at or near line speed.","body":"Among the alternatives being the configuration of the underlying local system and the configuration of the network over which the data are being transferred.  Having a 1Gb link is not the same as being able to sustain a data transfer at or near line speed."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1695733437,"post_id":77179816,"comment_id":136061624,"body_markdown":"I understand, but should that also apply to other apps as well if it wasn&#39;t a problem with the socket? Like for example when downloading and uploading using a torrent app when getting copyright free content, downloading stays at max speed, and upload I&#39;ve seen a lot bigger then 3 MB/s.","body":"I understand, but should that also apply to other apps as well if it wasn&#39;t a problem with the socket? Like for example when downloading and uploading using a torrent app when getting copyright free content, downloading stays at max speed, and upload I&#39;ve seen a lot bigger then 3 MB/s."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695749961,"post_id":77179816,"comment_id":136065211,"body_markdown":"You are reading and writing `beforeSize` and `totalSize` in multiple threads.  Without synchronization or locking or a thread-safe type like AtomicLong, there is no guarantee updates are seen by other threads.  See https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.3.","body":"You are reading and writing <code>beforeSize</code> and <code>totalSize</code> in multiple threads.  Without synchronization or locking or a thread-safe type like AtomicLong, there is no guarantee updates are seen by other threads.  See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-1&zwnj;&#8203;7.3</a>."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1695753636,"post_id":77179816,"comment_id":136065813,"body_markdown":"That is not the problem, that is just a very simple/basic/unsafe check for debugging only, and the same thing is seen in Task Manager, the same speed.","body":"That is not the problem, that is just a very simple/basic/unsafe check for debugging only, and the same thing is seen in Task Manager, the same speed."}],"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695729602,"creation_date":1695729602,"question_id":77179816,"body_markdown":"I have a socket that can transfer files in `byte[]` chunks, but no matter what size I set to buffer, or how many clients connect to the server, the transfer speed is limited to 3 MB/s (on 1 Gbps ~125 MB/s Up/Down connection).\r\n\r\nSome suggestions that I found were to set `socket.setTcpNoDelay(true);` but the limit is the same, then I tried to also add `BufferedOutputStream` to `ObjectOutputStream dataOut = new ObjectOutputStream(new BufferedOutputStream( socket.getOutputStream()));` and still the same. These two were the only answers I kept seeing for this problem.\r\n\r\nThe files are send with correct data, only they are send with a slow speed.\r\n\r\nI&#39;m using `ObjectStream` because beside the file transfer, in the actual app I have some other objects classes being transferred. On transfer handler I&#39;m using `Object auxX = dataIn.readObject();` for a more granular check between server and client.\r\n\r\nWhy is the speed still limited, and what else should I do to remove it?\r\n\r\nHere are the classes:\r\n\r\n**Client:**\r\n```\r\npackage zDevelopment;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.net.Socket;\r\nimport java.util.Arrays;\r\n\r\npublic class aClient {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tThread thread = new Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSocket socket = new Socket(&quot;IP Address, not localhost&quot;, 40001);\r\n\t\t\t\t\t\tsocket.setTcpNoDelay(true);\r\n\t\t\t\t\t\tObjectOutputStream dataOut = new ObjectOutputStream(\r\n\t\t\t\t\t\t\t\tnew BufferedOutputStream(socket.getOutputStream()));\r\n\t\t\t\t\t\tBufferedInputStream is = new BufferedInputStream(new FileInputStream(new File(&quot;E:\\\\a.mp4&quot;)));\r\n\t\t\t\t\t\tbyte[] buffer = new byte[8192];\r\n\t\t\t\t\t\tint sizeRead = 0;\r\n\t\t\t\t\t\twhile ((sizeRead = is.read(buffer, 0, 8192)) &gt;= 0) {\r\n\t\t\t\t\t\t\tdataOut.writeObject(true);\r\n\t\t\t\t\t\t\tdataOut.writeObject(sizeRead);\r\n\t\t\t\t\t\t\tdataOut.writeObject(Arrays.copyOf(buffer, sizeRead));\r\n\t\t\t\t\t\t\tdataOut.flush();\r\n\t\t\t\t\t\t\tbuffer = new byte[8192];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tis.close();\r\n\t\t\t\t\t\tdataOut.writeObject(false);\r\n\t\t\t\t\t\tdataOut.flush();\r\n\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthread.start();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n**Server (also contains the code to show transfer speed):**\r\n```\r\npackage zDevelopment;\r\n\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.List;\r\nimport java.util.Vector;\r\n\r\npublic class aServer implements Runnable {\r\n\tstatic List&lt;ClientThread&gt; threadList = new Vector&lt;ClientThread&gt;();\r\n\tstatic ServerSocket serverSocket;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tThread clientsThread = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tif (threadList.size() &gt; 0) {\r\n\t\t\t\t\t\tThread toRun = threadList.get(0);\r\n\t\t\t\t\t\tthreadList.remove(toRun);\r\n\t\t\t\t\t\ttoRun.start();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tThread.sleep(10);\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tclientsThread.start();\r\n\t\tserverSocket = new ServerSocket(40001);\r\n\r\n\t\taServer a = new aServer();\r\n\t\tspeed();\r\n\t\ta.run();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\twhile (true) {\r\n\t\t\t\tSocket socketClient = serverSocket.accept();\r\n\t\t\t\tthreadList.add(new ClientThread(socketClient));\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void speed() {\r\n\t\tThread thread = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tlong beforeSize = ClientThread.beforeSize;\r\n\t\t\t\t\tlong totalSize = ClientThread.totalSize;\r\n\t\t\t\t\tSystem.out.println(getSizeConversion(totalSize - beforeSize) + &quot;/s&quot;);\r\n\t\t\t\t\tClientThread.beforeSize = totalSize;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthread.start();\r\n\t}\r\n\r\n\tpublic static String getSizeConversion(long value) {\r\n\t\tDouble valueD = Double.valueOf(value);\r\n\t\tString valueS = &quot;&quot;;\r\n\t\tif (valueD &gt;= 1024) {\r\n\t\t\tif ((valueD / 1024) &gt;= 1024) {\r\n\t\t\t\tif ((valueD / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\tif ((valueD / 1024 / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\t\tif ((valueD / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\t\t\tif ((valueD / 1024 / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn valueS + &quot; EiB&quot;;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn valueS + &quot; PiB&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn valueS + &quot; TiB&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn valueS + &quot; GiB&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024);\r\n\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn valueS + &quot; MiB&quot;;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvalueS = String.valueOf(valueD / 1024);\r\n\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn valueS + &quot; KiB&quot;;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn valueD.intValue() + &quot; B&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n**Transfer handler:**\r\n```\r\npackage zDevelopment;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.ObjectInputStream;\r\nimport java.net.Socket;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class ClientThread extends Thread {\r\n\r\n\tstatic long beforeSize = 0;\r\n\tstatic long totalSize = 0;\r\n\r\n\tSocket socket;\r\n\r\n\tpublic ClientThread(Socket socket) {\r\n\t\tthis.socket = socket;\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tObjectInputStream dataIn = new ObjectInputStream(new BufferedInputStream(socket.getInputStream()));\r\n\t\t\tFile file = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\r\n\t\t\twhile (file.exists()) {\r\n\t\t\t\tfile = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\r\n\t\t\t}\r\n\t\t\tBufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(file));\r\n\t\t\tObject auxKeepReading = dataIn.readObject();\r\n\t\t\tif (auxKeepReading instanceof Boolean) {\r\n\t\t\t\twhile ((boolean) auxKeepReading) {\r\n\t\t\t\t\tObject auxSize = dataIn.readObject();\r\n\t\t\t\t\ttotalSize += (int) auxSize;\r\n\t\t\t\t\tif (!(auxSize instanceof Integer)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tObject auxBuffer = dataIn.readObject();\r\n\t\t\t\t\tif (!(auxBuffer instanceof byte[])) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbos.write((byte[]) auxBuffer, 0, (int) auxSize);\r\n\t\t\t\t\tauxKeepReading = dataIn.readObject();\r\n\t\t\t\t\tif (!(auxKeepReading instanceof Boolean)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbos.close();\r\n\t\t\tsocket.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to remove Java Socket speed limit when sending files in chunks byte[]","body":"<p>I have a socket that can transfer files in <code>byte[]</code> chunks, but no matter what size I set to buffer, or how many clients connect to the server, the transfer speed is limited to 3 MB/s (on 1 Gbps ~125 MB/s Up/Down connection).</p>\n<p>Some suggestions that I found were to set <code>socket.setTcpNoDelay(true);</code> but the limit is the same, then I tried to also add <code>BufferedOutputStream</code> to <code>ObjectOutputStream dataOut = new ObjectOutputStream(new BufferedOutputStream( socket.getOutputStream()));</code> and still the same. These two were the only answers I kept seeing for this problem.</p>\n<p>The files are send with correct data, only they are send with a slow speed.</p>\n<p>I'm using <code>ObjectStream</code> because beside the file transfer, in the actual app I have some other objects classes being transferred. On transfer handler I'm using <code>Object auxX = dataIn.readObject();</code> for a more granular check between server and client.</p>\n<p>Why is the speed still limited, and what else should I do to remove it?</p>\n<p>Here are the classes:</p>\n<p><strong>Client:</strong></p>\n<pre><code>package zDevelopment;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\nimport java.util.Arrays;\n\npublic class aClient {\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        Socket socket = new Socket(&quot;IP Address, not localhost&quot;, 40001);\n                        socket.setTcpNoDelay(true);\n                        ObjectOutputStream dataOut = new ObjectOutputStream(\n                                new BufferedOutputStream(socket.getOutputStream()));\n                        BufferedInputStream is = new BufferedInputStream(new FileInputStream(new File(&quot;E:\\\\a.mp4&quot;)));\n                        byte[] buffer = new byte[8192];\n                        int sizeRead = 0;\n                        while ((sizeRead = is.read(buffer, 0, 8192)) &gt;= 0) {\n                            dataOut.writeObject(true);\n                            dataOut.writeObject(sizeRead);\n                            dataOut.writeObject(Arrays.copyOf(buffer, sizeRead));\n                            dataOut.flush();\n                            buffer = new byte[8192];\n                        }\n                        is.close();\n                        dataOut.writeObject(false);\n                        dataOut.flush();\n                        socket.close();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p><strong>Server (also contains the code to show transfer speed):</strong></p>\n<pre><code>package zDevelopment;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.List;\nimport java.util.Vector;\n\npublic class aServer implements Runnable {\n    static List&lt;ClientThread&gt; threadList = new Vector&lt;ClientThread&gt;();\n    static ServerSocket serverSocket;\n\n    public static void main(String[] args) throws Exception {\n        Thread clientsThread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    if (threadList.size() &gt; 0) {\n                        Thread toRun = threadList.get(0);\n                        threadList.remove(toRun);\n                        toRun.start();\n                    } else {\n                        try {\n                            Thread.sleep(10);\n                        } catch (InterruptedException e) {\n                        }\n                    }\n                }\n            }\n        });\n        clientsThread.start();\n        serverSocket = new ServerSocket(40001);\n\n        aServer a = new aServer();\n        speed();\n        a.run();\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true) {\n                Socket socketClient = serverSocket.accept();\n                threadList.add(new ClientThread(socketClient));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void speed() {\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    long beforeSize = ClientThread.beforeSize;\n                    long totalSize = ClientThread.totalSize;\n                    System.out.println(getSizeConversion(totalSize - beforeSize) + &quot;/s&quot;);\n                    ClientThread.beforeSize = totalSize;\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        });\n        thread.start();\n    }\n\n    public static String getSizeConversion(long value) {\n        Double valueD = Double.valueOf(value);\n        String valueS = &quot;&quot;;\n        if (valueD &gt;= 1024) {\n            if ((valueD / 1024) &gt;= 1024) {\n                if ((valueD / 1024 / 1024) &gt;= 1024) {\n                    if ((valueD / 1024 / 1024 / 1024) &gt;= 1024) {\n                        if ((valueD / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\n                            if ((valueD / 1024 / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\n                                valueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024 / 1024);\n                                if (valueS.indexOf(&quot;.&quot;) != -1) {\n                                    if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                        valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                                    }\n                                }\n                                return valueS + &quot; EiB&quot;;\n                            } else {\n                                valueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024);\n                                if (valueS.indexOf(&quot;.&quot;) != -1) {\n                                    if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                        valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                                    }\n                                }\n                                return valueS + &quot; PiB&quot;;\n                            }\n                        } else {\n                            valueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024);\n                            if (valueS.indexOf(&quot;.&quot;) != -1) {\n                                if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                    valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                                }\n                            }\n                            return valueS + &quot; TiB&quot;;\n                        }\n                    } else {\n                        valueS = String.valueOf(valueD / 1024 / 1024 / 1024);\n                        if (valueS.indexOf(&quot;.&quot;) != -1) {\n                            if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                            }\n                        }\n                        return valueS + &quot; GiB&quot;;\n                    }\n                } else {\n                    valueS = String.valueOf(valueD / 1024 / 1024);\n                    if (valueS.indexOf(&quot;.&quot;) != -1) {\n                        if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                            valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                        }\n                    }\n                    return valueS + &quot; MiB&quot;;\n                }\n            } else {\n                valueS = String.valueOf(valueD / 1024);\n                if (valueS.indexOf(&quot;.&quot;) != -1) {\n                    if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                        valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                    }\n                }\n                return valueS + &quot; KiB&quot;;\n            }\n        } else {\n            return valueD.intValue() + &quot; B&quot;;\n        }\n    }\n}\n</code></pre>\n<p><strong>Transfer handler:</strong></p>\n<pre><code>package zDevelopment;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.ObjectInputStream;\nimport java.net.Socket;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class ClientThread extends Thread {\n\n    static long beforeSize = 0;\n    static long totalSize = 0;\n\n    Socket socket;\n\n    public ClientThread(Socket socket) {\n        this.socket = socket;\n    }\n\n    public void run() {\n        try {\n            ObjectInputStream dataIn = new ObjectInputStream(new BufferedInputStream(socket.getInputStream()));\n            File file = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\n            while (file.exists()) {\n                file = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\n            }\n            BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(file));\n            Object auxKeepReading = dataIn.readObject();\n            if (auxKeepReading instanceof Boolean) {\n                while ((boolean) auxKeepReading) {\n                    Object auxSize = dataIn.readObject();\n                    totalSize += (int) auxSize;\n                    if (!(auxSize instanceof Integer)) {\n                        break;\n                    }\n                    Object auxBuffer = dataIn.readObject();\n                    if (!(auxBuffer instanceof byte[])) {\n                        break;\n                    }\n                    bos.write((byte[]) auxBuffer, 0, (int) auxSize);\n                    auxKeepReading = dataIn.readObject();\n                    if (!(auxKeepReading instanceof Boolean)) {\n                        break;\n                    }\n                }\n            }\n            bos.close();\n            socket.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"score":1,"creation_date":1673554626,"post_id":75101812,"comment_id":132531736,"body_markdown":"What error you are getting?","body":"What error you are getting?"},{"owner":{"account_id":27513609,"reputation":1,"user_id":20995027,"display_name":"Mikaela Irish"},"score":0,"creation_date":1673555103,"post_id":75101812,"comment_id":132531876,"body_markdown":"404, plus I can see in the actuator the RestController isn&#39;t being bound.","body":"404, plus I can see in the actuator the RestController isn&#39;t being bound."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673557380,"post_id":75101812,"comment_id":132532552,"body_markdown":"Is the bean being loaded? Do you see &quot;Started MuninService&quot; in your log output? How do you try to access your endpoint?","body":"Is the bean being loaded? Do you see &quot;Started MuninService&quot; in your log output? How do you try to access your endpoint?"},{"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"score":0,"creation_date":1673576848,"post_id":75101812,"comment_id":132535981,"body_markdown":"The answer from @timofeevle is right. You exclude ```@ComponentScan``` from ```@SpringBootApplication``` by using your custom bootstrap class.","body":"The answer from @timofeevle is right. You exclude <code>@ComponentScan</code> from <code>@SpringBootApplication</code> by using your custom bootstrap class."}],"answers":[{"tags":[],"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673561525,"creation_date":1673561091,"answer_id":75102772,"question_id":75101812,"body_markdown":"You have no `@ComponentScan` annotation in your `MuninContext`. Actually you can write `SpringApplication.run(Main.class, args)` in main method as Spring Initializr generate by default, you don&#39;t really need your context, because @SpringBootApplication work as configuration and contains @EnableAutoConfiguration, @ComponentScan, and some other annotations. Otherwise, as you pass your config class as argument in SpringApplication.run method, annotation @SpringBootApplication in Main class has no effect","title":"Spring Boot not finding RestController","body":"<p>You have no <code>@ComponentScan</code> annotation in your <code>MuninContext</code>. Actually you can write <code>SpringApplication.run(Main.class, args)</code> in main method as Spring Initializr generate by default, you don't really need your context, because @SpringBootApplication work as configuration and contains @EnableAutoConfiguration, @ComponentScan, and some other annotations. Otherwise, as you pass your config class as argument in SpringApplication.run method, annotation @SpringBootApplication in Main class has no effect</p>\n"},{"tags":[],"owner":{"account_id":28770067,"reputation":1,"user_id":22034021,"display_name":"Premkumar Vijayakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695729355,"creation_date":1695729355,"answer_id":77179787,"question_id":75101812,"body_markdown":"In the MuninService RestController you have defined only a constructor() MuninService(),and added a /health endpoint supporting the actuator, but there are no user defined endpoints defined in the Controller, so even though the service started without issues(as per your comment) there are no endpoints to test the status of Controller.","title":"Spring Boot not finding RestController","body":"<p>In the MuninService RestController you have defined only a constructor() MuninService(),and added a /health endpoint supporting the actuator, but there are no user defined endpoints defined in the Controller, so even though the service started without issues(as per your comment) there are no endpoints to test the status of Controller.</p>\n"}],"owner":{"account_id":27513609,"reputation":1,"user_id":20995027,"display_name":"Mikaela Irish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695729355,"creation_date":1673554384,"question_id":75101812,"body_markdown":"So I&#39;ve got a simple spring boot app, @SpringBootApplication, a stub @Configuration and a @RestController all in the same package.  Spring-boot-web-starter is there and the webserver comes up fine, actuator endpoints and all.  But I cannot for the life of me get the app to pick up the @RestControllers.\r\n\r\n[enter image description here](https://i.stack.imgur.com/pB1Hr.png)\r\n\r\nMain.class:\r\n\r\n```\r\npackage com.iglossolalia.munin;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MuninContext.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nMuninContext.class:\r\n```\r\npackage com.iglossolalia.munin;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableAutoConfiguration\r\npublic class MuninContext {\r\n\r\n}\r\n\r\n```\r\n\r\nMuninService.class:\r\n```\r\npackage com.iglossolalia.munin;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class MuninService {\r\n    private static final Logger LOG = LoggerFactory.getLogger(MuninService.class);\r\n\r\n    public MuninService() {\r\n        LOG.info(&quot;Started MuninService&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/health&quot;)\r\n    public String healthCheck() {\r\n        return &quot;pong&quot;;\r\n    }\r\n}\r\n```\r\n\r\nTried explicitly adding the rest controller to the component scan with no luck there.","title":"Spring Boot not finding RestController","body":"<p>So I've got a simple spring boot app, @SpringBootApplication, a stub @Configuration and a @RestController all in the same package.  Spring-boot-web-starter is there and the webserver comes up fine, actuator endpoints and all.  But I cannot for the life of me get the app to pick up the @RestControllers.</p>\n<p><a href=\"https://i.stack.imgur.com/pB1Hr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Main.class:</p>\n<pre><code>package com.iglossolalia.munin;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(MuninContext.class, args);\n    }\n}\n\n</code></pre>\n<p>MuninContext.class:</p>\n<pre><code>package com.iglossolalia.munin;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableAutoConfiguration\npublic class MuninContext {\n\n}\n\n</code></pre>\n<p>MuninService.class:</p>\n<pre><code>package com.iglossolalia.munin;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class MuninService {\n    private static final Logger LOG = LoggerFactory.getLogger(MuninService.class);\n\n    public MuninService() {\n        LOG.info(&quot;Started MuninService&quot;);\n    }\n\n    @GetMapping(&quot;/health&quot;)\n    public String healthCheck() {\n        return &quot;pong&quot;;\n    }\n}\n</code></pre>\n<p>Tried explicitly adding the rest controller to the component scan with no luck there.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674296,"post_id":77017181,"comment_id":136053508,"body_markdown":"To answer your question, pls update your question with the layout file","body":"To answer your question, pls update your question with the layout file"},{"owner":{"account_id":18853229,"reputation":45,"user_id":13751873,"display_name":"Vladislav"},"score":0,"creation_date":1695729227,"post_id":77017181,"comment_id":136060673,"body_markdown":"@Ash There are several of them, I&#39;ve added the one I modified.","body":"@Ash There are several of them, I&#39;ve added the one I modified."}],"owner":{"account_id":18853229,"reputation":45,"user_id":13751873,"display_name":"Vladislav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695729142,"creation_date":1693495061,"question_id":77017181,"body_markdown":"I am using Android Studio Flamingo, trying to make a japanese dictionary app. I&#39;ve got a TableLayout for the dictionary and TableRows for each word in it. Within that TableRows I&#39;ve got two TextViews: one for original word, one for translation. The problem is, the first TextView should have bigger TextSize. Here is the simplified version:\r\n\r\n    public void init_words_list() throws IOException {\r\n        TableLayout stk = findViewById(R.id.table_main);\r\n        TypedValue typedValue = new TypedValue();\r\n        getTheme().resolveAttribute(com.google.android.material.R.attr.colorOnSecondary, typedValue, true);\r\n        int text_color = ContextCompat.getColor(this, typedValue.resourceId);\r\n        String[] dict = { &quot;学&quot;, &quot;learning, education&quot; };\r\n        double[] widths = { 0.6, 0.4 };\r\n        int[] heights = { 30, 20 };\r\n        TableRow tbrow = new TableRow(this);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            TextView tv = new TextView(this);\r\n            tv.setText(dict[i]);\r\n            tv.setWidth((int) Math.round(widths[i] * (stk.getWidth())));\r\n            tv.setTextSize(heights[i]);\r\n            tv.setTextColor(text_color);\r\n            tv.setGravity(Gravity.START);\r\n            tbrow.addView(tv);\r\n        }\r\n        stk.addView(tbrow);\r\n    }\r\nThis results in the second TextView being cut off. Like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m guessing, that the reason is the height of TextView being calculated before it is added to the row. However after being added, the first line in the second TextView is aligned with the first line in the first TextView. And because one is bigger than the other, an offset occurs. If I make first TextView&#39;s font smaller, the problem will resolve:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nUnfortunately, I want it big. So, are there any workarounds for this problem?\r\n\r\nUPD\r\nLayout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment_content_main&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n    \r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/words_list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/colorOnPrimary&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n    \r\n            &lt;TableLayout\r\n                android:id=&quot;@+id/table_main&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;/TableLayout&gt;\r\n    \r\n        &lt;/ScrollView&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Ht0nr.png\r\n  [2]: https://i.stack.imgur.com/an6Bu.png","title":"Android, text within a TextView is partially invisible","body":"<p>I am using Android Studio Flamingo, trying to make a japanese dictionary app. I've got a TableLayout for the dictionary and TableRows for each word in it. Within that TableRows I've got two TextViews: one for original word, one for translation. The problem is, the first TextView should have bigger TextSize. Here is the simplified version:</p>\n<pre><code>public void init_words_list() throws IOException {\n    TableLayout stk = findViewById(R.id.table_main);\n    TypedValue typedValue = new TypedValue();\n    getTheme().resolveAttribute(com.google.android.material.R.attr.colorOnSecondary, typedValue, true);\n    int text_color = ContextCompat.getColor(this, typedValue.resourceId);\n    String[] dict = { &quot;学&quot;, &quot;learning, education&quot; };\n    double[] widths = { 0.6, 0.4 };\n    int[] heights = { 30, 20 };\n    TableRow tbrow = new TableRow(this);\n    for (int i = 0; i &lt; 2; i++) {\n        TextView tv = new TextView(this);\n        tv.setText(dict[i]);\n        tv.setWidth((int) Math.round(widths[i] * (stk.getWidth())));\n        tv.setTextSize(heights[i]);\n        tv.setTextColor(text_color);\n        tv.setGravity(Gravity.START);\n        tbrow.addView(tv);\n    }\n    stk.addView(tbrow);\n}\n</code></pre>\n<p>This results in the second TextView being cut off. Like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Ht0nr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht0nr.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm guessing, that the reason is the height of TextView being calculated before it is added to the row. However after being added, the first line in the second TextView is aligned with the first line in the first TextView. And because one is bigger than the other, an offset occurs. If I make first TextView's font smaller, the problem will resolve:</p>\n<p><a href=\"https://i.stack.imgur.com/an6Bu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/an6Bu.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, I want it big. So, are there any workarounds for this problem?</p>\n<p>UPD\nLayout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/words_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/colorOnPrimary&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\n\n        &lt;TableLayout\n            android:id=&quot;@+id/table_main&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;/TableLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","multithreading","performance","amd-processor"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1546598115,"post_id":54037030,"comment_id":94909648,"body_markdown":"I&#39;m not sure this can be answered comprehensively, as the details of how Java Threads are implemented are, well, details of the implementation, that is the JVM. There are multiple JVM implementations in use, each in multiple different versions, and I would be surprised if they all behaved the same way in that regard. However, most implementations probably use OS Threads one way or the other.","body":"I&#39;m not sure this can be answered comprehensively, as the details of how Java Threads are implemented are, well, details of the implementation, that is the JVM. There are multiple JVM implementations in use, each in multiple different versions, and I would be surprised if they all behaved the same way in that regard. However, most implementations probably use OS Threads one way or the other."},{"owner":{"account_id":5337205,"reputation":2160,"user_id":4255756,"accept_rate":69,"display_name":"usertest"},"score":0,"creation_date":1546598333,"post_id":54037030,"comment_id":94909779,"body_markdown":"Oracle JDK 8, would that narrow it down? and I&#39;m not looking for details just if someone here have access to a threadripper WX CPU and have some insights. just a high level answer.","body":"Oracle JDK 8, would that narrow it down? and I&#39;m not looking for details just if someone here have access to a threadripper WX CPU and have some insights. just a high level answer."},{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":1,"creation_date":1546598522,"post_id":54037030,"comment_id":94909893,"body_markdown":"Oracle JDK 8 uses OS threads.","body":"Oracle JDK 8 uses OS threads."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1546598909,"post_id":54037030,"comment_id":94910097,"body_markdown":"@yole if you can provide a source for that claim, this would make a good answer","body":"@yole if you can provide a source for that claim, this would make a good answer"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546601320,"creation_date":1546601320,"answer_id":54038095,"question_id":54037030,"body_markdown":"I think that @yole was right with his comment and at least the Oracle JDK 8 uses a 1:1 mapping to OS Threads. \r\n\r\nAs shown in the [Java SE Technologies](https://docs.oracle.com/javase/8/docs/index.html), the JVM in use here is the Java HotSpot VM. Somewhat burried in a document about a change in how thread priorities are propagated in [the Java SE 8 technotes](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/thread-priorities.html), I found the following statement:\r\n\r\n&gt; The Java HotSpot virtual machine currently associates each Java thread with a unique native thread. The relationship between the Java thread and the native thread is stable and persists for the lifetime of the Java thread.\r\n\r\n&quot;native&quot; seems to imply &quot;Operating System&quot; within this context, as far as I can tell, as the text goes on discussing specifics about Solaris Kernel Threads/LWPs.\r\n\r\n&lt;sub&gt;(I also found some historic references to early (pre-java 1.2) versions that used &quot;Green Threads&quot; fully simulated within the JVM, but it seems that is no longer in use)&lt;/sub&gt;","title":"how does java play with AMD Threadripper platform","body":"<p>I think that @yole was right with his comment and at least the Oracle JDK 8 uses a 1:1 mapping to OS Threads. </p>\n\n<p>As shown in the <a href=\"https://docs.oracle.com/javase/8/docs/index.html\" rel=\"nofollow noreferrer\">Java SE Technologies</a>, the JVM in use here is the Java HotSpot VM. Somewhat burried in a document about a change in how thread priorities are propagated in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/thread-priorities.html\" rel=\"nofollow noreferrer\">the Java SE 8 technotes</a>, I found the following statement:</p>\n\n<blockquote>\n  <p>The Java HotSpot virtual machine currently associates each Java thread with a unique native thread. The relationship between the Java thread and the native thread is stable and persists for the lifetime of the Java thread.</p>\n</blockquote>\n\n<p>\"native\" seems to imply \"Operating System\" within this context, as far as I can tell, as the text goes on discussing specifics about Solaris Kernel Threads/LWPs.</p>\n\n<p><sub>(I also found some historic references to early (pre-java 1.2) versions that used \"Green Threads\" fully simulated within the JVM, but it seems that is no longer in use)</sub></p>\n"}],"owner":{"account_id":5337205,"reputation":2160,"user_id":4255756,"accept_rate":69,"display_name":"usertest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695728812,"creation_date":1546597412,"question_id":54037030,"body_markdown":"There has been a lot of talks about application performance on AMD Threadripper CPUs like 2990WX https://level1techs.com/article/unlocking-2990wx-less-numa-aware-apps\r\n\r\nI&#39;m wondering if Java (Oracle JDK 8) handles multithreaded workloads like Linux (best performance) or like Windows (buggy kernel: worst performance). or does Java offload it to the operating system?","title":"how does java play with AMD Threadripper platform","body":"<p>There has been a lot of talks about application performance on AMD Threadripper CPUs like 2990WX <a href=\"https://level1techs.com/article/unlocking-2990wx-less-numa-aware-apps\" rel=\"nofollow noreferrer\">https://level1techs.com/article/unlocking-2990wx-less-numa-aware-apps</a></p>\n<p>I'm wondering if Java (Oracle JDK 8) handles multithreaded workloads like Linux (best performance) or like Windows (buggy kernel: worst performance). or does Java offload it to the operating system?</p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695725650,"post_id":77179309,"comment_id":136059967,"body_markdown":"It looks to me like your methods `tab0Layout()` and `tab1Layout` register action listeners which will then call those methods again. So `tab0Layout()` will create an action listener that when fired will call `tab0Layout()` again, creating another action listener. Now you already have 2 action listeners registered. Next click each one will call the method again and register another listener so you&#39;ll have 4, then 8 etc. pp","body":"It looks to me like your methods <code>tab0Layout()</code> and <code>tab1Layout</code> register action listeners which will then call those methods again. So <code>tab0Layout()</code> will create an action listener that when fired will call <code>tab0Layout()</code> again, creating another action listener. Now you already have 2 action listeners registered. Next click each one will call the method again and register another listener so you&#39;ll have 4, then 8 etc. pp"}],"answers":[{"comments":[{"owner":{"account_id":29537522,"reputation":1,"user_id":22636872,"display_name":"jeskibuff"},"score":0,"creation_date":1695729544,"post_id":77179337,"comment_id":136060740,"body_markdown":"Thanks for the quick response.  I was expecting to get an email notification so was surprised when I went to update the post (formatting the system output better) that there already were responses.  I modified the code to put the listeners outside the panel definitions and got the desired result: one firing for each button press.     I&#39;ll likely have to do the same for other listeners in the full code.  The revalidate/repaint process had me thinking that the new panel would completely replace the prior version.","body":"Thanks for the quick response.  I was expecting to get an email notification so was surprised when I went to update the post (formatting the system output better) that there already were responses.  I modified the code to put the listeners outside the panel definitions and got the desired result: one firing for each button press.     I&#39;ll likely have to do the same for other listeners in the full code.  The revalidate/repaint process had me thinking that the new panel would completely replace the prior version."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695726818,"creation_date":1695725711,"answer_id":77179337,"question_id":77179309,"body_markdown":"Every time the first ActionListener runs, it calls `tab0Layout()` adding a *new* ActionListener to the t0Test variable, and likewise, every time the second ActionListener runs, it calls `tab1Layout()` adding a *new* ActionListener to the t1Test variable. This means, that each ActionListener adds a new copy of itself to its own button which each call, and this causes a bunch of listeners to be added to buttons, all calling at the same time. Not good.\r\n\r\n```\r\npublic class SwingTest extends JFrame  {\r\n\t//...\r\n\t\r\n\tJButton t0Test = new JButton(&quot;Test&quot;); \r\n\t\r\n\t//...\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//...\r\n\t}\r\n\r\n\tpublic SwingTest() {\r\n\t\t//...\r\n\t\t\r\n\t\tMainScreen.add(&quot;Tab 0&quot;,tab0Layout());\r\n\t\t\r\n\t\t//...\r\n\t}\r\n\r\n\tpublic JPanel tab0Layout() {\r\n\t\t// ...\r\n\t\tt0Test.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t// ...\r\n\t\t\t\tMainScreen.setComponentAt(0, tab0Layout()); // ***** HERE\r\n\t\t\t\t// ..\r\n\t\t\t}\r\n\t\t});    \r\n\t\treturn tab0Panel;\r\n\t}\r\n\r\n\t// ...\r\n}\r\n```\r\n\r\nThe solution is to add the listener once, and not within the listener.","title":"Trying to understand why an actionlistener fires multiple times","body":"<p>Every time the first ActionListener runs, it calls <code>tab0Layout()</code> adding a <em>new</em> ActionListener to the t0Test variable, and likewise, every time the second ActionListener runs, it calls <code>tab1Layout()</code> adding a <em>new</em> ActionListener to the t1Test variable. This means, that each ActionListener adds a new copy of itself to its own button which each call, and this causes a bunch of listeners to be added to buttons, all calling at the same time. Not good.</p>\n<pre><code>public class SwingTest extends JFrame  {\n    //...\n    \n    JButton t0Test = new JButton(&quot;Test&quot;); \n    \n    //...\n\n    public static void main(String[] args) {\n        //...\n    }\n\n    public SwingTest() {\n        //...\n        \n        MainScreen.add(&quot;Tab 0&quot;,tab0Layout());\n        \n        //...\n    }\n\n    public JPanel tab0Layout() {\n        // ...\n        t0Test.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                // ...\n                MainScreen.setComponentAt(0, tab0Layout()); // ***** HERE\n                // ..\n            }\n        });    \n        return tab0Panel;\n    }\n\n    // ...\n}\n</code></pre>\n<p>The solution is to add the listener once, and not within the listener.</p>\n"}],"owner":{"account_id":29537522,"reputation":1,"user_id":22636872,"display_name":"jeskibuff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1695728012,"answer_count":1,"score":-1,"last_activity_date":1695728789,"creation_date":1695725440,"question_id":77179309,"body_markdown":"I have an application which is much more complicated than this, but this simplified code has the same issue.  The full application has 4 tabs in a tabbed pane and queries a database to update tables within scroll panes.  As each search for information is requested the listeners fire more than once per request, causing the application to slow down to the point of being unusable.\r\n\r\nThe following minimized code demonstrates the problem.  There is a button on each tab which has a listener attached.  The buttons are &quot;pressed&quot; alternatively...tab 0, tab 1, tab 0, tab 1, etc.   The system output shows how the multiplication propagates.  Iterations #1 &amp; 2 are fine...the listeners are fired once each.  Iterations 3 through 6 show each listener firing twice although the buttons were pressed once each time.  Iterations 7 through 14 then show each listener firing 4 times.  It&#39;s obvious that this doubling each time is drastically slowing down the application by querying the database multiple times for the same information.\r\n\r\n**System output:**\r\n\r\n    Iteration #1 Tab 0 listener alerted\r\n    Iteration #2 Tab 1 listener alerted\r\n    Iteration #3 Tab 0 listener alerted\r\n    Iteration #4 Tab 0 listener alerted\r\n    Iteration #5 Tab 1 listener alerted\r\n    Iteration #6 Tab 1 listener alerted\r\n    Iteration #7 Tab 0 listener alerted\r\n    Iteration #8 Tab 0 listener alerted\r\n    Iteration #9 Tab 0 listener alerted\r\n    Iteration #10 Tab 0 listener alerted\r\n    Iteration #11 Tab 1 listener alerted\r\n    Iteration #12 Tab 1 listener alerted\r\n    Iteration #13 Tab 1 listener alerted\r\n    Iteration #14 Tab 1 listener alerted\r\n\r\nHere&#39;s the code:\r\n--------------------------------------------------------\r\n\r\n``` lang-java\r\npackage SwingTest;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\n\r\npublic class SwingTest extends JFrame \r\n   {JTabbedPane MainScreen = new JTabbedPane();\r\n\r\n    final static long serialVersionUID = 1L;\r\n    int iter = 0;\r\n    \r\n    JPanel tab0Panel = new JPanel();`your text`\r\n    final JLabel t0ID = new JLabel(&quot;Tab 0&quot;);\r\n    JButton t0Test = new JButton(&quot;Test&quot;); \r\n    \r\n    JPanel tab1Panel = new JPanel();\r\n    final JLabel t1ID = new JLabel(&quot;Tab 1&quot;);\r\n    JButton t1Test = new JButton(&quot;Test&quot;); \r\n                           \r\n    public static void main(String[] args) \r\n       {JFrame MainDisplay = new SwingTest();\r\n        MainDisplay.setVisible(true);\r\n        MainDisplay.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n    public SwingTest() \r\n       {super(&quot;SwingTest&quot;); \r\n        \r\n        setSize(300, 300);\r\n        getContentPane().setLayout(null); \r\n        setLocationRelativeTo(null);\r\n \r\n        MainScreen.setBounds(0, 0, 300, 300);\r\n        MainScreen.add(&quot;Tab 0&quot;,tab0Layout());\r\n        MainScreen.add(&quot;Tab 1&quot;,tab1Layout());  \r\n        getContentPane().add(MainScreen);\r\n        }\r\n          \r\n    public JPanel tab0Layout()\r\n       {tab0Panel.setSize(300, 300);\r\n        \r\n        t0ID.setBounds(100,100,60,20);\r\n\t    tab0Panel.add(t0ID);\r\n\r\n\t    t0Test.setBounds(100,150,60,20);\r\n\t    tab0Panel.add(t0Test);\t   \r\n        t0Test.addActionListener\r\n           (new ActionListener()\r\n               {public void actionPerformed(ActionEvent e)\r\n     \t          {iter++;\r\n     \t           System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 0 listener alerted&quot;);\r\n     \t           MainScreen.setComponentAt(0, tab0Layout());\r\n     \t           revalidate();\r\n     \t           repaint();\r\n     \t           }\r\n               }\r\n            );    \r\n\r\n        return tab0Panel;\r\n        }\r\n\r\n    public JPanel tab1Layout()\r\n       {tab1Panel.setSize(300, 300);\r\n        t1ID.setBounds(100,100,60,20);\r\n        tab1Panel.add(t1ID);\r\n\r\n        t1Test.setBounds(100,150,60,20);\r\n        tab1Panel.add(t1Test);\t    \r\n        t1Test.addActionListener\r\n           (new ActionListener()\r\n               {public void actionPerformed(ActionEvent e)\r\n     \t          {iter++;\r\n     \t           System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 1 listener alerted&quot;);\r\n     \t           MainScreen.setComponentAt(1, tab1Layout());\r\n     \t           revalidate();\r\n     \t           repaint();\r\n     \t           }\r\n               }\r\n            );\r\n        return tab1Panel;\r\n        }\r\n    }\r\n \r\n```\r\n\r\n\r\n --------------------------------------------------------\r\nThanks in advance for your help!\r\n\r\nObviously I&#39;m doing something wrong and don&#39;t understand the cause.  ","title":"Trying to understand why an actionlistener fires multiple times","body":"<p>I have an application which is much more complicated than this, but this simplified code has the same issue.  The full application has 4 tabs in a tabbed pane and queries a database to update tables within scroll panes.  As each search for information is requested the listeners fire more than once per request, causing the application to slow down to the point of being unusable.</p>\n<p>The following minimized code demonstrates the problem.  There is a button on each tab which has a listener attached.  The buttons are &quot;pressed&quot; alternatively...tab 0, tab 1, tab 0, tab 1, etc.   The system output shows how the multiplication propagates.  Iterations #1 &amp; 2 are fine...the listeners are fired once each.  Iterations 3 through 6 show each listener firing twice although the buttons were pressed once each time.  Iterations 7 through 14 then show each listener firing 4 times.  It's obvious that this doubling each time is drastically slowing down the application by querying the database multiple times for the same information.</p>\n<p><strong>System output:</strong></p>\n<pre><code>Iteration #1 Tab 0 listener alerted\nIteration #2 Tab 1 listener alerted\nIteration #3 Tab 0 listener alerted\nIteration #4 Tab 0 listener alerted\nIteration #5 Tab 1 listener alerted\nIteration #6 Tab 1 listener alerted\nIteration #7 Tab 0 listener alerted\nIteration #8 Tab 0 listener alerted\nIteration #9 Tab 0 listener alerted\nIteration #10 Tab 0 listener alerted\nIteration #11 Tab 1 listener alerted\nIteration #12 Tab 1 listener alerted\nIteration #13 Tab 1 listener alerted\nIteration #14 Tab 1 listener alerted\n</code></pre>\n<h2>Here's the code:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package SwingTest;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class SwingTest extends JFrame \n   {JTabbedPane MainScreen = new JTabbedPane();\n\n    final static long serialVersionUID = 1L;\n    int iter = 0;\n    \n    JPanel tab0Panel = new JPanel();`your text`\n    final JLabel t0ID = new JLabel(&quot;Tab 0&quot;);\n    JButton t0Test = new JButton(&quot;Test&quot;); \n    \n    JPanel tab1Panel = new JPanel();\n    final JLabel t1ID = new JLabel(&quot;Tab 1&quot;);\n    JButton t1Test = new JButton(&quot;Test&quot;); \n                           \n    public static void main(String[] args) \n       {JFrame MainDisplay = new SwingTest();\n        MainDisplay.setVisible(true);\n        MainDisplay.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        }\n    \n    public SwingTest() \n       {super(&quot;SwingTest&quot;); \n        \n        setSize(300, 300);\n        getContentPane().setLayout(null); \n        setLocationRelativeTo(null);\n \n        MainScreen.setBounds(0, 0, 300, 300);\n        MainScreen.add(&quot;Tab 0&quot;,tab0Layout());\n        MainScreen.add(&quot;Tab 1&quot;,tab1Layout());  \n        getContentPane().add(MainScreen);\n        }\n          \n    public JPanel tab0Layout()\n       {tab0Panel.setSize(300, 300);\n        \n        t0ID.setBounds(100,100,60,20);\n        tab0Panel.add(t0ID);\n\n        t0Test.setBounds(100,150,60,20);\n        tab0Panel.add(t0Test);     \n        t0Test.addActionListener\n           (new ActionListener()\n               {public void actionPerformed(ActionEvent e)\n                  {iter++;\n                   System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 0 listener alerted&quot;);\n                   MainScreen.setComponentAt(0, tab0Layout());\n                   revalidate();\n                   repaint();\n                   }\n               }\n            );    \n\n        return tab0Panel;\n        }\n\n    public JPanel tab1Layout()\n       {tab1Panel.setSize(300, 300);\n        t1ID.setBounds(100,100,60,20);\n        tab1Panel.add(t1ID);\n\n        t1Test.setBounds(100,150,60,20);\n        tab1Panel.add(t1Test);      \n        t1Test.addActionListener\n           (new ActionListener()\n               {public void actionPerformed(ActionEvent e)\n                  {iter++;\n                   System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 1 listener alerted&quot;);\n                   MainScreen.setComponentAt(1, tab1Layout());\n                   revalidate();\n                   repaint();\n                   }\n               }\n            );\n        return tab1Panel;\n        }\n    }\n \n</code></pre>\n<hr />\n<p>Thanks in advance for your help!</p>\n<p>Obviously I'm doing something wrong and don't understand the cause.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1695723062,"post_id":77178998,"comment_id":136059467,"body_markdown":"From the looks of `@Getter` and `@Setter`, you are already using Lombok, so use [`@EqualsAndHashCode`](https://projectlombok.org/features/EqualsAndHashCode). It has a boolean attribute called `callSuper` which you probably want","body":"From the looks of <code>@Getter</code> and <code>@Setter</code>, you are already using Lombok, so use <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\"><code>@EqualsAndHashCode</code></a>. It has a boolean attribute called <code>callSuper</code> which you probably want"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1695723248,"post_id":77178998,"comment_id":136059499,"body_markdown":"don&#39;t use the `@EqualsAndHashCode` as that generates the wrong equals / hashcode methods for jpa. Use `getTaskId` as that is the name of the property not id.","body":"don&#39;t use the <code>@EqualsAndHashCode</code> as that generates the wrong equals / hashcode methods for jpa. Use <code>getTaskId</code> as that is the name of the property not id."},{"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"score":0,"creation_date":1695723442,"post_id":77178998,"comment_id":136059535,"body_markdown":"According to this i should write my own : https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/ but now to do this in this case?","body":"According to this i should write my own : <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> but now to do this in this case?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695728170,"creation_date":1695728170,"answer_id":77179661,"question_id":77178998,"body_markdown":"You have named the `@Id` field `taskId`, not `id`. And the field itself is `private`, so you have to use the getter in subclasses. Update your code:\r\n\r\n```\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;\r\n\r\n    if (!(o instanceof ChangeTyre))\r\n        return false;\r\n\r\n    ChangeTyre other = (ChangeTye) o;\r\n\r\n    return getTaskId() != null &amp;&amp;\r\n            getTaskId().equals(other.getTaskId());\r\n}\r\n```\r\n","title":"Equals method for sub classes of abstract class","body":"<p>You have named the <code>@Id</code> field <code>taskId</code>, not <code>id</code>. And the field itself is <code>private</code>, so you have to use the getter in subclasses. Update your code:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n\n    if (!(o instanceof ChangeTyre))\n        return false;\n\n    ChangeTyre other = (ChangeTye) o;\n\n    return getTaskId() != null &amp;&amp;\n            getTaskId().equals(other.getTaskId());\n}\n</code></pre>\n"}],"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77179661,"answer_count":1,"score":0,"last_activity_date":1695728170,"creation_date":1695722879,"question_id":77178998,"body_markdown":"I need to have a equals method for my classes which are extended from a abstract class.\r\n \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public abstract class Car {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;car_seq&quot;)\r\n    private Long taskId;\r\n    }\r\n\r\nand the extended class:\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class ChangeTyre extends Car {\r\n\r\n    @Column(unique = true)\r\n    @NotEmpty(message = &quot;Name must not be null or empty&quot;)\r\n    private String code;\r\n    @JoinColumn(name =&quot;date_changed&quot;)\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDate dateChanged;\r\n    @Lob\r\n    private String comment;\r\n\r\nNormally a equals method would look like:\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n\r\n        if (!(o instanceof ChangeTyre))\r\n            return false;\r\n\r\n        ChangeTyre other = (ChangeTye) o;\r\n\r\n        return id != null &amp;&amp;\r\n                id.equals(other.getId());\r\n    }\r\n\r\nBut for the above code the compiler complains there is no `Id` on ChangeTyre its on the abstract class Car. How should I implement the equals method in such a case?","title":"Equals method for sub classes of abstract class","body":"<p>I need to have a equals method for my classes which are extended from a abstract class.</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic abstract class Car {\n\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;car_seq&quot;)\nprivate Long taskId;\n}\n</code></pre>\n<p>and the extended class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class ChangeTyre extends Car {\n\n@Column(unique = true)\n@NotEmpty(message = &quot;Name must not be null or empty&quot;)\nprivate String code;\n@JoinColumn(name =&quot;date_changed&quot;)\n@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDate dateChanged;\n@Lob\nprivate String comment;\n</code></pre>\n<p>Normally a equals method would look like:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n\n    if (!(o instanceof ChangeTyre))\n        return false;\n\n    ChangeTyre other = (ChangeTye) o;\n\n    return id != null &amp;&amp;\n            id.equals(other.getId());\n}\n</code></pre>\n<p>But for the above code the compiler complains there is no <code>Id</code> on ChangeTyre its on the abstract class Car. How should I implement the equals method in such a case?</p>\n"},{"tags":["java","xml","spring","xslt","dom4j"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695618783,"post_id":77169885,"comment_id":136043288,"body_markdown":"Please provide a clear statement of the logic by which you want to sort the items.","body":"Please provide a clear statement of the logic by which you want to sort the items."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1695635933,"post_id":77169885,"comment_id":136046050,"body_markdown":"Many people would consider the order you are getting is entirely reasonable, e.g. for the index of a book. It&#39;s not clear what exactly are the rules you want to apply. The actual sort rules depend on the XSLT processor you are using. If you want precise control over the sort order, especially in XSLT 1.0, then it&#39;s probablly simplest to do a preprocessing transformation phase that computes a sort key, for example by stripping out ignorable characters and converting letters to upper case or lower case.","body":"Many people would consider the order you are getting is entirely reasonable, e.g. for the index of a book. It&#39;s not clear what exactly are the rules you want to apply. The actual sort rules depend on the XSLT processor you are using. If you want precise control over the sort order, especially in XSLT 1.0, then it&#39;s probablly simplest to do a preprocessing transformation phase that computes a sort key, for example by stripping out ignorable characters and converting letters to upper case or lower case."},{"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"score":0,"creation_date":1695637092,"post_id":77169885,"comment_id":136046299,"body_markdown":"Sorry for the unclear statement. I want the sorting in &quot;ASCIIbetical&quot; order, character gets priority following the ASCII table, [Uppercase &lt; Lowercase]  [&amp; &lt; ;] and characters are not ignorable, all special character should consider @Michael Kay","body":"Sorry for the unclear statement. I want the sorting in &quot;ASCIIbetical&quot; order, character gets priority following the ASCII table, [Uppercase &lt; Lowercase]  [&amp; &lt; ;] and characters are not ignorable, all special character should consider @Michael Kay"}],"answers":[{"comments":[{"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"score":0,"creation_date":1695618390,"post_id":77169957,"comment_id":136043266,"body_markdown":"Problem is, I am working in a legacy code and I could not change the XSLT version to 2.0 . \nAnother thing, I am a bit confused that the problem may not be only with the Capital Case it also among the Special Characters (I have added new example on the last)","body":"Problem is, I am working in a legacy code and I could not change the XSLT version to 2.0 .  Another thing, I am a bit confused that the problem may not be only with the Capital Case it also among the Special Characters (I have added new example on the last)"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695619047,"post_id":77169957,"comment_id":136043310,"body_markdown":"I am afraid your options in XSLT 1.0 are rather limited. For an example of case-sensitive sorting, see: https://stackoverflow.com/a/38973853/3016153. But do note the caveats stated there.","body":"I am afraid your options in XSLT 1.0 are rather limited. For an example of case-sensitive sorting, see: <a href=\"https://stackoverflow.com/a/38973853/3016153\">stackoverflow.com/a/38973853/3016153</a>. But do note the caveats stated there."}],"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695617194,"creation_date":1695617194,"answer_id":77169957,"question_id":77169885,"body_markdown":"First, your code snippet sorts `employee`s, not `name`s. \r\n\r\nNow, the result you get **is** the expected output after sorting the names. If you want the entry of `Test 2 - test` to come first because it starts with a capital `T`, then you need to do:\r\n\r\n\t\t&lt;xsl:for-each select=&quot;name&quot;&gt;\r\n\t\t\t&lt;xsl:sort collation=&quot;http://www.w3.org/2005/xpath-functions/collation/codepoint&quot;/&gt;\r\n\t\t\t....\r\n\t\t&lt;/xsl:for-each&gt;\t\r\n\r\nand you will need a processor that supports XSLT 2.0 or higher for that.\r\n\r\nI don&#39;t see what the presence of the dot or any other character has to do with any of this.","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<p>First, your code snippet sorts <code>employee</code>s, not <code>name</code>s.</p>\n<p>Now, the result you get <strong>is</strong> the expected output after sorting the names. If you want the entry of <code>Test 2 - test</code> to come first because it starts with a capital <code>T</code>, then you need to do:</p>\n<pre><code>    &lt;xsl:for-each select=&quot;name&quot;&gt;\n        &lt;xsl:sort collation=&quot;http://www.w3.org/2005/xpath-functions/collation/codepoint&quot;/&gt;\n        ....\n    &lt;/xsl:for-each&gt; \n</code></pre>\n<p>and you will need a processor that supports XSLT 2.0 or higher for that.</p>\n<p>I don't see what the presence of the dot or any other character has to do with any of this.</p>\n"},{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695647186,"creation_date":1695647186,"answer_id":77172911,"question_id":77169885,"body_markdown":"&gt; **The expected sorting order is ASCIIbatical order.**\r\n\r\nIf we accept the definition of &quot;sorting in ASCIIbetical order&quot; as sorting by the order in which characters appear in the ASCII table (i.e. their Unicode codepoint values), while considering only printable characters (i.e. characters in the range from `&amp;#32;` to  `&amp;#126;`), then we could do the sorting as shown in the following example:\r\n\r\n**XML**\r\n\r\n    &lt;input&gt;\r\n       &lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\r\n       &lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\r\n       &lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\r\n       &lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\r\n       &lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\r\n       &lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\r\n       &lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\r\n       &lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\r\n       &lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\r\n       &lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\r\n       &lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\r\n       &lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\r\n       &lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\r\n       &lt;char ascii=&quot;39&quot;&gt;&#39;&lt;/char&gt;\r\n       &lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\r\n       &lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\r\n       &lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\r\n       &lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\r\n       &lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\r\n       &lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\r\n       &lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\r\n       &lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\r\n       &lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\r\n       &lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\r\n       &lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\r\n       &lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\r\n       &lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\r\n       &lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\r\n       &lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\r\n       &lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\r\n       &lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\r\n       &lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\r\n       &lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\r\n       &lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\r\n       &lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\r\n       &lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\r\n       &lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\r\n       &lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\r\n       &lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\r\n       &lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\r\n       &lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\r\n       &lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\r\n       &lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\r\n       &lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\r\n       &lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\r\n       &lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\r\n       &lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\r\n       &lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\r\n       &lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\r\n       &lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\r\n       &lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\r\n       &lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\r\n       &lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\r\n       &lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\r\n       &lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\r\n       &lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\r\n       &lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\r\n       &lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\r\n       &lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\r\n       &lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\r\n       &lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\r\n       &lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\r\n       &lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\r\n       &lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\r\n       &lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\r\n       &lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\r\n       &lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\r\n       &lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\r\n       &lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\r\n       &lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\r\n       &lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\r\n       &lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\r\n       &lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\r\n       &lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\r\n       &lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\r\n       &lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\r\n       &lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\r\n       &lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\r\n       &lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\r\n       &lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\r\n       &lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\r\n       &lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\r\n       &lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\r\n       &lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\r\n       &lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\r\n       &lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\r\n       &lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\r\n       &lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\r\n       &lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\r\n       &lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\r\n       &lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\r\n       &lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\r\n       &lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\r\n       &lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\r\n       &lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\r\n    &lt;/input&gt;\r\n\r\n**XSLT 1.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n    &lt;xsl:param name=&quot;ascii&quot;&gt;!&quot;#$%&amp;amp;&#39;()*+,-./0123456789:;&amp;lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~&lt;/xsl:param&gt;\r\n    &lt;xsl:param name=&quot;en&quot;&gt;-_,;:!?/.`^~&#39;&quot;()[]{}@$*\\&amp;amp;#%+&amp;lt;=&gt;|0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ&lt;/xsl:param&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/root&quot;&gt;\r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:for-each select=&quot;char&quot;&gt;\r\n    \t\t\t&lt;xsl:sort select=&quot;translate(., $ascii, $en)&quot; lang=&quot;en&quot;/&gt;\r\n    \t\t\t&lt;xsl:copy-of select=&quot;.&quot;/&gt;\r\n    \t\t&lt;/xsl:for-each&gt;\t\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**Result***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\r\n    &lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\r\n    &lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\r\n    &lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\r\n    &lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\r\n    &lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\r\n    &lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\r\n    &lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\r\n    &lt;char ascii=&quot;39&quot;&gt;&#39;&lt;/char&gt;\r\n    &lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\r\n    &lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\r\n    &lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\r\n    &lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\r\n    &lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\r\n    &lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\r\n    &lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\r\n    &lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\r\n    &lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\r\n    &lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\r\n    &lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\r\n    &lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\r\n    &lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\r\n    &lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\r\n    &lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\r\n    &lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\r\n    &lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\r\n    &lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\r\n    &lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\r\n    &lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\r\n    &lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\r\n    &lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\r\n    &lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\r\n    &lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\r\n    &lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\r\n    &lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\r\n    &lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\r\n    &lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\r\n    &lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\r\n    &lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\r\n    &lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\r\n    &lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\r\n    &lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\r\n    &lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\r\n    &lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\r\n    &lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\r\n    &lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\r\n    &lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\r\n    &lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\r\n    &lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\r\n    &lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\r\n    &lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\r\n    &lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\r\n    &lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\r\n    &lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\r\n    &lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\r\n    &lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\r\n    &lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\r\n    &lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\r\n    &lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\r\n    &lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\r\n    &lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\r\n    &lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\r\n    &lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\r\n    &lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\r\n    &lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\r\n    &lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\r\n    &lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\r\n    &lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\r\n    &lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\r\n    &lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\r\n    &lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\r\n    &lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\r\n    &lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\r\n    &lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\r\n    &lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\r\n    &lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\r\n    &lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\r\n    &lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\r\n    &lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\r\n    &lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\r\n    &lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\r\n    &lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\r\n    &lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\r\n    &lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\r\n    &lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\r\n    &lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\r\n    &lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\r\n    &lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\r\n    &lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\r\n    &lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\r\n    &lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\r\n    &lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\r\n    &lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\r\n    &lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\r\n    &lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\r\n    &lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\r\n    &lt;/root&gt;\r\n\r\n(*)IMPORTANT:\r\n--\r\nThe above result was produced using the Xalan 2.7.2 processor with `lang=&quot;en&quot;`. You may easily get a different result if using a different processor and/or a different `lang` value. In such case you need to adjust the `$en` parameter to reflect the actual sorting order of your environment. \r\n\r\nAnd of course, as shown in my other answer, all this is unnecessary if you are using a processor that supports XSLT 2.0+.","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<blockquote>\n<p><strong>The expected sorting order is ASCIIbatical order.</strong></p>\n</blockquote>\n<p>If we accept the definition of &quot;sorting in ASCIIbetical order&quot; as sorting by the order in which characters appear in the ASCII table (i.e. their Unicode codepoint values), while considering only printable characters (i.e. characters in the range from <code>&amp;#32;</code> to  <code>&amp;#126;</code>), then we could do the sorting as shown in the following example:</p>\n<p><strong>XML</strong></p>\n<pre><code>&lt;input&gt;\n   &lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\n   &lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\n   &lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\n   &lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\n   &lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\n   &lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\n   &lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\n   &lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\n   &lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\n   &lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\n   &lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\n   &lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\n   &lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\n   &lt;char ascii=&quot;39&quot;&gt;'&lt;/char&gt;\n   &lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\n   &lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\n   &lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\n   &lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\n   &lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\n   &lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\n   &lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\n   &lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\n   &lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\n   &lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\n   &lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\n   &lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\n   &lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\n   &lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\n   &lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\n   &lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\n   &lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\n   &lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\n   &lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\n   &lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\n   &lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\n   &lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\n   &lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\n   &lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\n   &lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\n   &lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\n   &lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\n   &lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\n   &lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\n   &lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\n   &lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\n   &lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\n   &lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\n   &lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\n   &lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\n   &lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\n   &lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\n   &lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\n   &lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\n   &lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\n   &lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\n   &lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\n   &lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\n   &lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\n   &lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\n   &lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\n   &lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\n   &lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\n   &lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\n   &lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\n   &lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\n   &lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\n   &lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\n   &lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\n   &lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\n   &lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\n   &lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\n   &lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\n   &lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\n   &lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\n   &lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\n   &lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\n   &lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\n   &lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\n   &lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\n   &lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\n   &lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\n   &lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\n   &lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\n   &lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\n   &lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\n   &lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\n   &lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\n   &lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\n   &lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\n   &lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\n   &lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\n   &lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\n   &lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\n   &lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\n   &lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\n&lt;/input&gt;\n</code></pre>\n<p><strong>XSLT 1.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n&lt;xsl:param name=&quot;ascii&quot;&gt;!&quot;#$%&amp;amp;'()*+,-./0123456789:;&amp;lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~&lt;/xsl:param&gt;\n&lt;xsl:param name=&quot;en&quot;&gt;-_,;:!?/.`^~'&quot;()[]{}@$*\\&amp;amp;#%+&amp;lt;=&gt;|0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ&lt;/xsl:param&gt;\n\n&lt;xsl:template match=&quot;/root&quot;&gt;\n    &lt;xsl:copy&gt;\n        &lt;xsl:for-each select=&quot;char&quot;&gt;\n            &lt;xsl:sort select=&quot;translate(., $ascii, $en)&quot; lang=&quot;en&quot;/&gt;\n            &lt;xsl:copy-of select=&quot;.&quot;/&gt;\n        &lt;/xsl:for-each&gt; \n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>Result</strong>*</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\n&lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\n&lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\n&lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\n&lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\n&lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\n&lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\n&lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\n&lt;char ascii=&quot;39&quot;&gt;'&lt;/char&gt;\n&lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\n&lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\n&lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\n&lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\n&lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\n&lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\n&lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\n&lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\n&lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\n&lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\n&lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\n&lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\n&lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\n&lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\n&lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\n&lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\n&lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\n&lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\n&lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\n&lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\n&lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\n&lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\n&lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\n&lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\n&lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\n&lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\n&lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\n&lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\n&lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\n&lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\n&lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\n&lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\n&lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\n&lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\n&lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\n&lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\n&lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\n&lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\n&lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\n&lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\n&lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\n&lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\n&lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\n&lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\n&lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\n&lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\n&lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\n&lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\n&lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\n&lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\n&lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\n&lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\n&lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\n&lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\n&lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\n&lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\n&lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\n&lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\n&lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\n&lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\n&lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\n&lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\n&lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\n&lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\n&lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\n&lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\n&lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\n&lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\n&lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\n&lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\n&lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\n&lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\n&lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\n&lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\n&lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\n&lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\n&lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\n&lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\n&lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\n&lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\n&lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\n&lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\n&lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\n&lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\n&lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\n&lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\n&lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\n&lt;/root&gt;\n</code></pre>\n<h2>(*)IMPORTANT:</h2>\n<p>The above result was produced using the Xalan 2.7.2 processor with <code>lang=&quot;en&quot;</code>. You may easily get a different result if using a different processor and/or a different <code>lang</code> value. In such case you need to adjust the <code>$en</code> parameter to reflect the actual sorting order of your environment.</p>\n<p>And of course, as shown in my other answer, all this is unnecessary if you are using a processor that supports XSLT 2.0+.</p>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695727953,"creation_date":1695727953,"answer_id":77179635,"question_id":77169885,"body_markdown":"This might not fit your requirement at all, but noting that DOM4J uses &quot;live&quot; lists for element content, sorting the nodes directly in code becomes quite elegant:\r\n\r\n    doc.getRootElement().content().sort(Comparator.comparing(Node::getText));\r\n\r\nOf course it messes up any existing formatting, but that can probably be fixed with a pretty printing option.","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<p>This might not fit your requirement at all, but noting that DOM4J uses &quot;live&quot; lists for element content, sorting the nodes directly in code becomes quite elegant:</p>\n<pre><code>doc.getRootElement().content().sort(Comparator.comparing(Node::getText));\n</code></pre>\n<p>Of course it messes up any existing formatting, but that can probably be fixed with a pretty printing option.</p>\n"}],"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695727953,"creation_date":1695615516,"question_id":77169885,"body_markdown":"**xsl:sort** is not working properly when special character like &quot;, : ;&quot; are presents. What might be the problem here?\r\n\r\nI am trying to render html from xml data with **java dom4j library**. Though the real project has multiple sorting criteria, I am illustrating a summery here to the specific problem.\r\n\r\n**The expected sorting order is ASCIIbatical order.** The online [String Sort Toll](https://onlinestringtools.com/sort-strings) is also giving my expected output.\r\n\r\n\r\n\r\nI have some xml data ex:\r\n\r\n```\r\n&lt;employee&gt;\r\n    &lt;name&gt;\r\n        &lt;![CDATA[test 1.8 - test]]&gt;\r\n    &lt;/name&gt;\r\n    &lt;name&gt;\r\n        &lt;![CDATA[test 4 - test]]&gt;\r\n    &lt;/name&gt;\r\n    &lt;name&gt;\r\n        &lt;![CDATA[Test 2 - test]]&gt;\r\n    &lt;/name&gt;\r\n&lt;/employee&gt;\r\n```\r\n\r\n\r\nI am trying to sort them with xsl transformer with **&lt;?xml version=&quot;1.0&quot;?&gt;**. The snippet for sorting it...\r\n```\r\n&lt;xsl:for-each select=&quot;employee/name&quot;&gt;\r\n    &lt;xsl:sort select=&quot;name&quot; case-order=&quot;upper-first&quot;/&gt;\r\n...\r\n```\r\n\r\nExpected **Output Order**:\r\n```\r\nTest 2 - test\r\ntest 1.8 - test\r\ntest 4 - test\r\n```\r\nThe **Output Order** I am getting:\r\n```\r\ntest 1.8 - test\r\nTest 2 - test\r\ntest 4 - test\r\n```\r\n\r\nLike this getting the order\r\n```\r\n; - ;\r\n&amp; - &amp;\r\nT1 - T1\r\n```\r\nIn stead of\r\n```\r\n&amp; - &amp;\r\n; - ;\r\nT1 - T1\r\n```","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<p><strong>xsl:sort</strong> is not working properly when special character like &quot;, : ;&quot; are presents. What might be the problem here?</p>\n<p>I am trying to render html from xml data with <strong>java dom4j library</strong>. Though the real project has multiple sorting criteria, I am illustrating a summery here to the specific problem.</p>\n<p><strong>The expected sorting order is ASCIIbatical order.</strong> The online <a href=\"https://onlinestringtools.com/sort-strings\" rel=\"nofollow noreferrer\">String Sort Toll</a> is also giving my expected output.</p>\n<p>I have some xml data ex:</p>\n<pre><code>&lt;employee&gt;\n    &lt;name&gt;\n        &lt;![CDATA[test 1.8 - test]]&gt;\n    &lt;/name&gt;\n    &lt;name&gt;\n        &lt;![CDATA[test 4 - test]]&gt;\n    &lt;/name&gt;\n    &lt;name&gt;\n        &lt;![CDATA[Test 2 - test]]&gt;\n    &lt;/name&gt;\n&lt;/employee&gt;\n</code></pre>\n<p>I am trying to sort them with xsl transformer with <strong></strong>. The snippet for sorting it...</p>\n<pre><code>&lt;xsl:for-each select=&quot;employee/name&quot;&gt;\n    &lt;xsl:sort select=&quot;name&quot; case-order=&quot;upper-first&quot;/&gt;\n...\n</code></pre>\n<p>Expected <strong>Output Order</strong>:</p>\n<pre><code>Test 2 - test\ntest 1.8 - test\ntest 4 - test\n</code></pre>\n<p>The <strong>Output Order</strong> I am getting:</p>\n<pre><code>test 1.8 - test\nTest 2 - test\ntest 4 - test\n</code></pre>\n<p>Like this getting the order</p>\n<pre><code>; - ;\n&amp; - &amp;\nT1 - T1\n</code></pre>\n<p>In stead of</p>\n<pre><code>&amp; - &amp;\n; - ;\nT1 - T1\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1669799115,"post_id":74618707,"comment_id":131722816,"body_markdown":"Please provide additional information about recent code changes.","body":"Please provide additional information about recent code changes."}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669748666,"post_id":74618945,"comment_id":131712156,"body_markdown":"I removed it then I got this issue. `org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.microservice.authservice.model.Role`","body":"I removed it then I got this issue. <code>org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.microservice.authservice.model.Role</code>"},{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1669750177,"post_id":74618945,"comment_id":131712593,"body_markdown":"You need to store both roles first, load them and add some of them to a user. Roles should be modelled as Flightweight objects: there is only one instance of role ADMIN and just one instance of role USER.","body":"You need to store both roles first, load them and add some of them to a user. Roles should be modelled as Flightweight objects: there is only one instance of role ADMIN and just one instance of role USER."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":1,"creation_date":1669751668,"post_id":74618945,"comment_id":131713058,"body_markdown":"I already stored ROLE_ADMIN and ROLE_USER in the database before creating a new user.","body":"I already stored ROLE_ADMIN and ROLE_USER in the database before creating a new user."},{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1669751882,"post_id":74618945,"comment_id":131713121,"body_markdown":"I added a paragraph to adress this issue.","body":"I added a paragraph to adress this issue."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669752595,"post_id":74618945,"comment_id":131713306,"body_markdown":"How can I define role in roles.add?","body":"How can I define role in roles.add?"},{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1669752885,"post_id":74618945,"comment_id":131713412,"body_markdown":"You need to add a role that you loaded from the database.","body":"You need to add a role that you loaded from the database."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669753286,"post_id":74618945,"comment_id":131713540,"body_markdown":"I already did that in strRoles part. I also shared request body.","body":"I already did that in strRoles part. I also shared request body."}],"tags":[],"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669751752,"creation_date":1669747962,"answer_id":74618945,"question_id":74618707,"body_markdown":"Remove CascadeType.ALL from User.roles. Roles should only be referenced, not owned.\r\n\r\nRoles need to be created and stored just once, best with some database script. In your code, load all available roles, put them in a Map and add required roles to the users. Never create roles with new Role(...).","title":"Spring Boot (Java) - java.sql.SQLIntegrityConstraintViolationException: Duplicate entry for key another table","body":"<p>Remove CascadeType.ALL from User.roles. Roles should only be referenced, not owned.</p>\n<p>Roles need to be created and stored just once, best with some database script. In your code, load all available roles, put them in a Map and add required roles to the users. Never create roles with new Role(...).</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74618945,"answer_count":1,"score":0,"last_activity_date":1695727929,"creation_date":1669746625,"question_id":74618707,"body_markdown":"I have a problem about inserting a new user with its role after adding a user with its role.\r\n\r\nI firstly created a user with ROLE_USER and a user with ROLE_ADMIN.\r\n\r\nWhen I tried to create a new with its role, I got **Duplicate entry for key** error.\r\n\r\nHow can I fix it?\r\n\r\nHere is my request body shown below\r\n\r\n    {\r\n        &quot;username&quot; : &quot;admin1&quot;,\r\n        &quot;password&quot; : &quot;admin1&quot;,\r\n        &quot;email&quot; : &quot;admin1@refreshtoken.com&quot;,\r\n        &quot;roles&quot; : [\r\n                &quot;ROLE_ADMIN&quot;\r\n        ]\r\n    }\r\n\r\n\r\nHere are classes shown below\r\n\r\n    @Entity\r\n    @Table(name = &quot;Roles&quot;)\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Role extends IdBasedEntity implements Serializable {\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(length = 20, unique = true)\r\n        private ERole name;\r\n    \r\n        public Role(ERole name){\r\n            this.name = name;\r\n        }\r\n    \r\n        public ERole getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;Users&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class User extends IdBasedEntity implements Serializable {\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String username;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String email;\r\n    \r\n        private String password;\r\n    \r\n        @ManyToMany(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;user_roles&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n    \r\n    public enum ERole {\r\n        ROLE_USER,\r\n        ROLE_ADMIN\r\n    }\r\n\r\n    @MappedSuperclass\r\n    @Getter\r\n    @Setter\r\n    public class IdBasedEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;RefreshToken&quot;)\r\n    @Data\r\n    public class RefreshToken extends IdBasedEntity implements Serializable {\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private User user;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        private String token;\r\n    \r\n        @Column(nullable = false)\r\n        private Instant expiryDate;\r\n    }\r\n\r\nHere is my code snippet shown below.\r\n\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@RequestBody SignUpRequest signUpRequest) {\r\n    \r\n            String username = signUpRequest.getUsername();\r\n            String email = signUpRequest.getEmail();\r\n            String password = signUpRequest.getPassword();\r\n            Set&lt;String&gt; strRoles = signUpRequest.getRoles();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n            if(userService.existsByUsername(username)){\r\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n            }\r\n    \r\n            if(userService.existsByEmail(email)){\r\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Email is already taken!&quot;));\r\n            }\r\n    \r\n            User user = new User();\r\n            user.setEmail(email);\r\n            user.setUsername(username);\r\n            user.setPassword(encoder.encode(password));\r\n    \r\n            if (strRoles != null) {\r\n                strRoles.forEach(role -&gt; {\r\n                    switch (role) {\r\n                        case &quot;ROLE_ADMIN&quot;:\r\n                            roles.add(new Role(ERole.ROLE_ADMIN));\r\n                            break;\r\n                        default:\r\n                            roles.add(new Role(ERole.ROLE_USER));\r\n                    }\r\n                });\r\n            }else{\r\n                roles.add(new Role(ERole.ROLE_USER));\r\n            }\r\n    \r\n            user.setRoles(roles);\r\n            userService.saveUser(user);  // ERROR LINE\r\n    \r\n            return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n        }\r\n\r\nHere is my error shown below.\r\n\r\n    // Create User\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;ROLE_USER&#39; for key &#39;roles.UK_ofx66keruapi6vyqpv6f2or37&#39;\r\n    // Create Admin\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;ROLE_ADMIN&#39; for key &#39;roles.UK_ofx66keruapi6vyqpv6f2or37&#39;\r\n\r\n","title":"Spring Boot (Java) - java.sql.SQLIntegrityConstraintViolationException: Duplicate entry for key another table","body":"<p>I have a problem about inserting a new user with its role after adding a user with its role.</p>\n<p>I firstly created a user with ROLE_USER and a user with ROLE_ADMIN.</p>\n<p>When I tried to create a new with its role, I got <strong>Duplicate entry for key</strong> error.</p>\n<p>How can I fix it?</p>\n<p>Here is my request body shown below</p>\n<pre><code>{\n    &quot;username&quot; : &quot;admin1&quot;,\n    &quot;password&quot; : &quot;admin1&quot;,\n    &quot;email&quot; : &quot;admin1@refreshtoken.com&quot;,\n    &quot;roles&quot; : [\n            &quot;ROLE_ADMIN&quot;\n    ]\n}\n</code></pre>\n<p>Here are classes shown below</p>\n<pre><code>@Entity\n@Table(name = &quot;Roles&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Role extends IdBasedEntity implements Serializable {\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20, unique = true)\n    private ERole name;\n\n    public Role(ERole name){\n        this.name = name;\n    }\n\n    public ERole getName() {\n        return name;\n    }\n}\n\n@Entity\n@Table(name = &quot;Users&quot;)\n@Data\n@NoArgsConstructor\npublic class User extends IdBasedEntity implements Serializable {\n\n    @Column(unique = true, nullable = false)\n    private String username;\n\n    @Column(unique = true, nullable = false)\n    private String email;\n\n    private String password;\n\n    @ManyToMany(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n}\n\npublic enum ERole {\n    ROLE_USER,\n    ROLE_ADMIN\n}\n\n@MappedSuperclass\n@Getter\n@Setter\npublic class IdBasedEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n}\n\n@Entity\n@Table(name = &quot;RefreshToken&quot;)\n@Data\npublic class RefreshToken extends IdBasedEntity implements Serializable {\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @Column(nullable = false, unique = true)\n    private String token;\n\n    @Column(nullable = false)\n    private Instant expiryDate;\n}\n</code></pre>\n<p>Here is my code snippet shown below.</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@RequestBody SignUpRequest signUpRequest) {\n\n        String username = signUpRequest.getUsername();\n        String email = signUpRequest.getEmail();\n        String password = signUpRequest.getPassword();\n        Set&lt;String&gt; strRoles = signUpRequest.getRoles();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n        if(userService.existsByUsername(username)){\n            return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n        }\n\n        if(userService.existsByEmail(email)){\n            return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Email is already taken!&quot;));\n        }\n\n        User user = new User();\n        user.setEmail(email);\n        user.setUsername(username);\n        user.setPassword(encoder.encode(password));\n\n        if (strRoles != null) {\n            strRoles.forEach(role -&gt; {\n                switch (role) {\n                    case &quot;ROLE_ADMIN&quot;:\n                        roles.add(new Role(ERole.ROLE_ADMIN));\n                        break;\n                    default:\n                        roles.add(new Role(ERole.ROLE_USER));\n                }\n            });\n        }else{\n            roles.add(new Role(ERole.ROLE_USER));\n        }\n\n        user.setRoles(roles);\n        userService.saveUser(user);  // ERROR LINE\n\n        return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n    }\n</code></pre>\n<p>Here is my error shown below.</p>\n<pre><code>// Create User\njava.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'ROLE_USER' for key 'roles.UK_ofx66keruapi6vyqpv6f2or37'\n// Create Admin\njava.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'ROLE_ADMIN' for key 'roles.UK_ofx66keruapi6vyqpv6f2or37'\n</code></pre>\n"},{"tags":["java","maven","unit-testing","cobertura"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1694513647,"post_id":77088129,"comment_id":135897522,"body_markdown":"In Gradle, each fork would write to a separate coverage file. You could then combine the coverage files into a single file after all tests finished before running the coverage report (no synchronization of coverage files required). I&#39;m not sure how you&#39;d do this with maven.","body":"In Gradle, each fork would write to a separate coverage file. You could then combine the coverage files into a single file after all tests finished before running the coverage report (no synchronization of coverage files required). I&#39;m not sure how you&#39;d do this with maven."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694561334,"post_id":77088129,"comment_id":135906731,"body_markdown":"First coberatura is outdated.. second why not using JaCoCo and also why using old plugin version (surefire-plugin: ? Which JDK, Maven version do you run?","body":"First coberatura is outdated.. second why not using JaCoCo and also why using old plugin version (surefire-plugin: ? Which JDK, Maven version do you run?"},{"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"score":0,"creation_date":1694568885,"post_id":77088129,"comment_id":135907371,"body_markdown":"Why not JaCoCo? In a multi-module scenario, aggregating coverage reports requires adding an additional module, which I don&#39;t want to do. JDK1.8 , Maven 3.5.0","body":"Why not JaCoCo? In a multi-module scenario, aggregating coverage reports requires adding an additional module, which I don&#39;t want to do. JDK1.8 , Maven 3.5.0"},{"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"score":0,"creation_date":1695021077,"post_id":77088129,"comment_id":135963018,"body_markdown":"After conducting some tests, it was found that the issue was actually caused by the configuration forkCount=1C.","body":"After conducting some tests, it was found that the issue was actually caused by the configuration forkCount=1C."}],"answers":[{"tags":[],"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695727446,"creation_date":1695727446,"answer_id":77179572,"question_id":77088129,"body_markdown":"Finally，I figured out this question myself.Hope it can help someone else.\r\nhttps://github.com/cobertura/cobertura/issues/434\r\nI just remove those lines and deploy a new version into my own repository, and it works for me.","title":"When configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect","body":"<p>Finally，I figured out this question myself.Hope it can help someone else.\n<a href=\"https://github.com/cobertura/cobertura/issues/434\" rel=\"nofollow noreferrer\">https://github.com/cobertura/cobertura/issues/434</a>\nI just remove those lines and deploy a new version into my own repository, and it works for me.</p>\n"}],"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77179572,"answer_count":1,"score":1,"last_activity_date":1695727446,"creation_date":1694513341,"question_id":77088129,"body_markdown":"In maven project, when configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect. Moreover, the results vary with each execution。\r\n\r\nMy configuration is as follows:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;forkCount&gt;1C&lt;/forkCount&gt;\r\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n        &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\r\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n        &lt;trimStackTrace&gt;true&lt;/trimStackTrace&gt;\r\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;xml&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;outputDirectory&gt;${project.reporting.outputDirectory}/cobertura&lt;/outputDirectory&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n        &lt;check&gt;\r\n        &lt;/check&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe issue occurs in my actual business project. However, it cannot be reproduced in a simpler example project.\r\n\r\n\r\nAs mentioned above. After I removed the configuration lines in the maven-surefire-plugin, the coverage data reported by Cobertura is correct, and, the results of multiple executions are the same.","title":"When configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect","body":"<p>In maven project, when configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect. Moreover, the results vary with each execution。</p>\n<p>My configuration is as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;1C&lt;/forkCount&gt;\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n        &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\n        &lt;trimStackTrace&gt;true&lt;/trimStackTrace&gt;\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;formats&gt;\n            &lt;format&gt;xml&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;outputDirectory&gt;${project.reporting.outputDirectory}/cobertura&lt;/outputDirectory&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;aggregate&gt;true&lt;/aggregate&gt;\n        &lt;check&gt;\n        &lt;/check&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The issue occurs in my actual business project. However, it cannot be reproduced in a simpler example project.</p>\n<p>As mentioned above. After I removed the configuration lines in the maven-surefire-plugin, the coverage data reported by Cobertura is correct, and, the results of multiple executions are the same.</p>\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695727027,"post_id":77179507,"comment_id":136060226,"body_markdown":"mock the call instead of &quot;hoping it&#39;ll work out&quot;","body":"mock the call instead of &quot;hoping it&#39;ll work out&quot;"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695727160,"post_id":77179507,"comment_id":136060251,"body_markdown":"@Stultuske Hi, I&#39;ve forgotten to include in the original post that I do not want to mock anything here. Would you still have any suggestions?","body":"@Stultuske Hi, I&#39;ve forgotten to include in the original post that I do not want to mock anything here. Would you still have any suggestions?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695727508,"post_id":77179507,"comment_id":136060341,"body_markdown":"if an exception is thrown, catch it in your test, remove your assertions, ... This would, however, render your test pretty pointless","body":"if an exception is thrown, catch it in your test, remove your assertions, ... This would, however, render your test pretty pointless"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695727755,"post_id":77179507,"comment_id":136060397,"body_markdown":"Use a try-catch-block in your test?","body":"Use a try-catch-block in your test?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695728465,"post_id":77179507,"comment_id":136060535,"body_markdown":"@Stultuske @Jens yes, obviously try-catch would work, but a simple `System.out.println` within the catch block would not render any big warning. So, I would not know immedietaly that the response did not come in. I&#39;d have to go into raport and see each test case if it contains any message sent by `System.out.println`.","body":"@Stultuske @Jens yes, obviously try-catch would work, but a simple <code>System.out.println</code> within the catch block would not render any big warning. So, I would not know immedietaly that the response did not come in. I&#39;d have to go into raport and see each test case if it contains any message sent by <code>System.out.println</code>."}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695727182,"creation_date":1695726980,"question_id":77179507,"body_markdown":"I have an integration test which is dependent on an external API. It is quite weird, because it does not always pass.\r\n\r\nIt goes something like this:\r\n\r\n1. In the test I send a request to my API&#39;s endpoint.\r\n2. There&#39;s some logic going on within my application (for example database insertions).\r\n3. At last, before returning a response, there&#39;s a async call to external API.\r\n\r\nWaiting for external API&#39;s response sometimes takes 500ms, but may as well take 8 seconds. I use Awaitality to wait until the response comes in, but it just makes my tests execute even 2 minutes longer (I have several test cases).\r\n\r\nWhat I&#39;d like to achieve is something like that: test waits 1 second for the response. If it does not come up within that period, then show some-kind-of warning (preferably to console). Also, do not let this test case fail because the response was not present, let this test pass.\r\n\r\nHere&#39;s how I wait for the response.\r\n```\r\nawait().atMost(UNTIL, TimeUnit.MILLISECONDS)\r\n                        .pollInterval(ONE_REQUEST_PER, TimeUnit.MILLISECONDS)\r\n                        .until(() -&gt; // logic that acquires the response);\r\n```\r\nIf the condition within `.until` is not fulfilled within some time, then test case is failed. I&#39;d rather - as explained - have it send a warning to the console, not fail the test.\r\n\r\nNOTE: I do not want to mock the API&#39;s response.","title":"Send just a warning on assertion fail","body":"<p>I have an integration test which is dependent on an external API. It is quite weird, because it does not always pass.</p>\n<p>It goes something like this:</p>\n<ol>\n<li>In the test I send a request to my API's endpoint.</li>\n<li>There's some logic going on within my application (for example database insertions).</li>\n<li>At last, before returning a response, there's a async call to external API.</li>\n</ol>\n<p>Waiting for external API's response sometimes takes 500ms, but may as well take 8 seconds. I use Awaitality to wait until the response comes in, but it just makes my tests execute even 2 minutes longer (I have several test cases).</p>\n<p>What I'd like to achieve is something like that: test waits 1 second for the response. If it does not come up within that period, then show some-kind-of warning (preferably to console). Also, do not let this test case fail because the response was not present, let this test pass.</p>\n<p>Here's how I wait for the response.</p>\n<pre><code>await().atMost(UNTIL, TimeUnit.MILLISECONDS)\n                        .pollInterval(ONE_REQUEST_PER, TimeUnit.MILLISECONDS)\n                        .until(() -&gt; // logic that acquires the response);\n</code></pre>\n<p>If the condition within <code>.until</code> is not fulfilled within some time, then test case is failed. I'd rather - as explained - have it send a warning to the console, not fail the test.</p>\n<p>NOTE: I do not want to mock the API's response.</p>\n"},{"tags":["java","selenium-webdriver","appium","mobile-devices","selenium-remotedriver"],"owner":{"account_id":29537741,"reputation":1,"user_id":22637048,"display_name":"Shiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695727010,"creation_date":1695725815,"question_id":77179365,"body_markdown":"Getting the below error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\n\tat com.deloitte.convergeprosperity.bankingsuite.testRunners.AppiumTest.main(AppiumTest.java:45)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 1 more\r\n```\r\ni am trying to connect with remote server to access the cloud devices.","title":"Getting &quot;JsonToWebElementConverter&quot; exception when i am trying to connect with remote server to access the cloud devices","body":"<p>Getting the below error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n    at com.deloitte.convergeprosperity.bankingsuite.testRunners.AppiumTest.main(AppiumTest.java:45)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 1 more\n</code></pre>\n<p>i am trying to connect with remote server to access the cloud devices.</p>\n"},{"tags":["java","hibernate","jpa","junit","autotest"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695738879,"post_id":77178659,"comment_id":136062880,"body_markdown":"An in-memory database allows you to keep test data separate from dev environment data - I prefer this for unit tests so that devs interactions don&#39;t mess with a running test; JPA can help with DDL generation to create tables on start up, and can drop the tables on demand as well. You can use the same behavior to create tables in a test specific schema in any database as well though. Otherwise, tests should have before/after setup methods that track exactly what they create and clean it up after - Sometimes in suites if they take more time to run.","body":"An in-memory database allows you to keep test data separate from dev environment data - I prefer this for unit tests so that devs interactions don&#39;t mess with a running test; JPA can help with DDL generation to create tables on start up, and can drop the tables on demand as well. You can use the same behavior to create tables in a test specific schema in any database as well though. Otherwise, tests should have before/after setup methods that track exactly what they create and clean it up after - Sometimes in suites if they take more time to run."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695738976,"post_id":77178659,"comment_id":136062899,"body_markdown":"If cleanup takes that much time, you&#39;ll want to figure out why exactly. Is the DB indexed correctly, are other processes running concurrently slowing down locks, can the delete statements be optimized? If it takes longer for your tests, it might mean something you overlooked that might affect production down the road. Cascade delete can help, but the cost of an extra statement shouldn&#39;t be &#39;that&#39; high if you do it manually. Tests I write try to use bulk deletes for cleanup, using test specific keys for all data. I try not to rely on the model (cascades) or DB for clean up as they can change.","body":"If cleanup takes that much time, you&#39;ll want to figure out why exactly. Is the DB indexed correctly, are other processes running concurrently slowing down locks, can the delete statements be optimized? If it takes longer for your tests, it might mean something you overlooked that might affect production down the road. Cascade delete can help, but the cost of an extra statement shouldn&#39;t be &#39;that&#39; high if you do it manually. Tests I write try to use bulk deletes for cleanup, using test specific keys for all data. I try not to rely on the model (cascades) or DB for clean up as they can change."},{"owner":{"account_id":26095373,"reputation":3,"user_id":19791566,"display_name":"sekerbekova"},"score":0,"creation_date":1697690915,"post_id":77178659,"comment_id":136312183,"body_markdown":"I can&#39;t use in-memory database, because these are end-to-end tests, not unit tests, I am using selenide to do stuff on the website (dev environment) I need my entities to be on dev in order to check dev behaviour","body":"I can&#39;t use in-memory database, because these are end-to-end tests, not unit tests, I am using selenide to do stuff on the website (dev environment) I need my entities to be on dev in order to check dev behaviour"}],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695738533,"post_id":77179506,"comment_id":136062793,"body_markdown":"You don&#39;t need special tools if you are able to use a DB per test - JPA/Hibernate have DDL generation to drop and create tables when the persistence unit starts.","body":"You don&#39;t need special tools if you are able to use a DB per test - JPA/Hibernate have DDL generation to drop and create tables when the persistence unit starts."},{"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"score":0,"creation_date":1695742214,"post_id":77179506,"comment_id":136063724,"body_markdown":"Question is – do we have new and fresh PU on each test?","body":"Question is – do we have new and fresh PU on each test?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1695762588,"post_id":77179506,"comment_id":136067316,"body_markdown":"Doesn&#39;t matter - you can control schema generation and the options via javax.persistence.Persistence.generateSchema on the fly:  https://docs.oracle.com/javaee/7/api/javax/persistence/Persistence.html . So you can drop+create all tables in setup/tear down per test or suite","body":"Doesn&#39;t matter - you can control schema generation and the options via javax.persistence.Persistence.generateSchema on the fly:  <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Persistence.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/Persistence.h&zwnj;&#8203;tml</a> . So you can drop+create all tables in setup/tear down per test or suite"}],"tags":[],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695726974,"creation_date":1695726974,"answer_id":77179506,"question_id":77178659,"body_markdown":"There are 3 ways to do that. Probably both are not „the best”, but works. \r\n\r\n 1. Hibernate has a feature called initial import, that use `import.sql` file. You need to recreate database before each test. This solution is ancient, and difficult to maintain in an environment with multiple tests.  \r\n 2. You can use a combination of [Liquidbase](https://www.liquibase.org/) or [Flyway](https://flywaydb.org/) and [testcontainers](https://testcontainers.com/). Then each test will start with a separated DB from docker container. Testcontainer will be set up database and liquidbase/flyway will fill it.\r\n 3. Use an old library called [DBUnit](https://gitlab.com/dbUnit/dbunit-extension) with some [extensions](https://github.com/rmpestano/dbunit-rules) for Junit5.\r\n\r\n","title":"Cleaning db entities after test","body":"<p>There are 3 ways to do that. Probably both are not „the best”, but works.</p>\n<ol>\n<li>Hibernate has a feature called initial import, that use <code>import.sql</code> file. You need to recreate database before each test. This solution is ancient, and difficult to maintain in an environment with multiple tests.</li>\n<li>You can use a combination of <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquidbase</a> or <a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">Flyway</a> and <a href=\"https://testcontainers.com/\" rel=\"nofollow noreferrer\">testcontainers</a>. Then each test will start with a separated DB from docker container. Testcontainer will be set up database and liquidbase/flyway will fill it.</li>\n<li>Use an old library called <a href=\"https://gitlab.com/dbUnit/dbunit-extension\" rel=\"nofollow noreferrer\">DBUnit</a> with some <a href=\"https://github.com/rmpestano/dbunit-rules\" rel=\"nofollow noreferrer\">extensions</a> for Junit5.</li>\n</ol>\n"}],"owner":{"account_id":26095373,"reputation":3,"user_id":19791566,"display_name":"sekerbekova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77179506,"answer_count":1,"score":0,"last_activity_date":1695726974,"creation_date":1695720110,"question_id":77178659,"body_markdown":"I&#39;m writing an autotest(with java maven+junit+cucumber)\r\n- Before the start of testcase I need to create a user for test and some entities in db(lets name them entity1 and entity2)\r\n- During the testcase I create entity3 by clicking &quot;create&quot; button in UI(entity3 is connected to entity1 as many to one)\r\n- After the end of testcase I need to clean up(which means to delete all the data that I created before the test and all the data created from ui during the test)\r\n\r\n\r\nNow I try to make some delete queries to db after the end, but face some problems:\r\n1) Tables are connected between each other and by the end of the test I have a bunch of rows in the other tables that reference to my initial entity1 and entity2 and need to cascade delete them and that takes a lot of time, eventually it will lead to after method taking more time than test itself\r\n2) Tables are not specified on cascade delete and I cant change it since it is expected behavior\r\n3) it is dev environment that is used for manual tests also so I cant just delete all data, I need to delete only what is created by autotest\r\n \r\nI know there is some hibernate thing but I have never used it and Im not sure if It can make what I need\r\n\r\nIm looking for some options were I can save how db was before test then do test and then revert all what happend to db so it is same as it was before test","title":"Cleaning db entities after test","body":"<p>I'm writing an autotest(with java maven+junit+cucumber)</p>\n<ul>\n<li>Before the start of testcase I need to create a user for test and some entities in db(lets name them entity1 and entity2)</li>\n<li>During the testcase I create entity3 by clicking &quot;create&quot; button in UI(entity3 is connected to entity1 as many to one)</li>\n<li>After the end of testcase I need to clean up(which means to delete all the data that I created before the test and all the data created from ui during the test)</li>\n</ul>\n<p>Now I try to make some delete queries to db after the end, but face some problems:</p>\n<ol>\n<li>Tables are connected between each other and by the end of the test I have a bunch of rows in the other tables that reference to my initial entity1 and entity2 and need to cascade delete them and that takes a lot of time, eventually it will lead to after method taking more time than test itself</li>\n<li>Tables are not specified on cascade delete and I cant change it since it is expected behavior</li>\n<li>it is dev environment that is used for manual tests also so I cant just delete all data, I need to delete only what is created by autotest</li>\n</ol>\n<p>I know there is some hibernate thing but I have never used it and Im not sure if It can make what I need</p>\n<p>Im looking for some options were I can save how db was before test then do test and then revert all what happend to db so it is same as it was before test</p>\n"},{"tags":["java","docker","apache-poi","java-11","alpine-linux"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673422005,"post_id":75079448,"comment_id":132492499,"body_markdown":"Running `wb.getFontAt(0)` on a new workbook returns `Calibri`. That is with apache poi 5.2.2 on java 8. Might be different for other versions, but that you can test yourself","body":"Running <code>wb.getFontAt(0)</code> on a new workbook returns <code>Calibri</code>. That is with apache poi 5.2.2 on java 8. Might be different for other versions, but that you can test yourself"},{"owner":{"account_id":3073732,"reputation":986,"user_id":2992404,"accept_rate":67,"display_name":"Jewels"},"score":0,"creation_date":1673426262,"post_id":75079448,"comment_id":132493804,"body_markdown":"@XtremeBaumer Calibri is the default font for poi, but it doesn&#39;t exist on alpine. i need to know how to make this work","body":"@XtremeBaumer Calibri is the default font for poi, but it doesn&#39;t exist on alpine. i need to know how to make this work"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673426968,"post_id":75079448,"comment_id":132494053,"body_markdown":"https://unix.stackexchange.com/a/438269","body":"<a href=\"https://unix.stackexchange.com/a/438269\">unix.stackexchange.com/a/438269</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673441836,"post_id":75079448,"comment_id":132499182,"body_markdown":"Is [_headless mode_](https://www.oracle.com/technical-resources/articles/javase/headless.html) relevant in this context?","body":"Is <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\"><i>headless mode</i></a> relevant in this context?"}],"answers":[{"tags":[],"owner":{"account_id":1760631,"reputation":2655,"user_id":10710587,"display_name":"Maciej Skorski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681103626,"creation_date":1681103626,"answer_id":75974420,"question_id":75079448,"body_markdown":"The diagnosis is right, alpine images lack fonts and this becomes apparent when producing documents. I have seen this when off-screen rendering UMLs.\r\n\r\n`RUN apk add fontconfig ttf-dejavu`\r\n\r\nhelped in my case, and [here is the working docker file](https://github.com/maciejskorski/plantuml-docker/blob/a0afa5f5d821f249efde990737432562b7aa02b2/Dockerfile#L28).","title":"java.lang.InternalError when generating excel file with apache-poi on alpine in java 11/17","body":"<p>The diagnosis is right, alpine images lack fonts and this becomes apparent when producing documents. I have seen this when off-screen rendering UMLs.</p>\n<p><code>RUN apk add fontconfig ttf-dejavu</code></p>\n<p>helped in my case, and <a href=\"https://github.com/maciejskorski/plantuml-docker/blob/a0afa5f5d821f249efde990737432562b7aa02b2/Dockerfile#L28\" rel=\"nofollow noreferrer\">here is the working docker file</a>.</p>\n"},{"tags":[],"owner":{"account_id":24209292,"reputation":21,"user_id":18166034,"display_name":"Lagrange91"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695726791,"creation_date":1695726791,"answer_id":77179480,"question_id":75079448,"body_markdown":"I had the same problem. I went through the stacktrace. In the SheetUtil.java getDefaultCharWidth is called. In case of an internal error as reported by OP you can handle that error when the system property &quot;org.apache.poi.ss.ignoreMissingFontSystem&quot; is set to true. It will return a default char width then instead of rethrowing the error.\r\n\r\nSo you either set this property to true in your environment or you might add a configuration to your spring application as following:\r\n\r\n```    \r\n@configuration\r\npublic class FontConfiguration {\r\n\r\n@PostConstruct\r\npublic void setProperty() {\r\n    System.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;);\r\n}\r\n}\r\n```\r\n","title":"java.lang.InternalError when generating excel file with apache-poi on alpine in java 11/17","body":"<p>I had the same problem. I went through the stacktrace. In the SheetUtil.java getDefaultCharWidth is called. In case of an internal error as reported by OP you can handle that error when the system property &quot;org.apache.poi.ss.ignoreMissingFontSystem&quot; is set to true. It will return a default char width then instead of rethrowing the error.</p>\n<p>So you either set this property to true in your environment or you might add a configuration to your spring application as following:</p>\n<pre><code>@configuration\npublic class FontConfiguration {\n\n@PostConstruct\npublic void setProperty() {\n    System.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":3073732,"reputation":986,"user_id":2992404,"accept_rate":67,"display_name":"Jewels"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695726791,"creation_date":1673421196,"question_id":75079448,"body_markdown":"I am running a java 11 application with a dependency on apache-poi. When running the application in docker using the alpine image I get the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.InternalError: java.lang.reflect.InvocationTargetException\r\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:86)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n        at java.desktop/java.awt.Font.getFont2D(Font.java:497)\r\n        at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2250)\r\n        at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469)\r\n        at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530)\r\n        at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\r\n        at ImportExportExcel.main(ImportExportExcel.java:44)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:84)\r\n        ... 8 more\r\nCaused by: java.lang.NullPointerException\r\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\r\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\r\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:719)\r\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:379)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:324)\r\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\r\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\r\n        ... 13 more\r\n\r\n```\r\n\r\nIt seems to me that the underlying issue is that the alpine docker image does not have any fonts by default. I want to know what the minimal fonts are that I need to install in the docker image in order for the code not to fail.","title":"java.lang.InternalError when generating excel file with apache-poi on alpine in java 11/17","body":"<p>I am running a java 11 application with a dependency on apache-poi. When running the application in docker using the alpine image I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.InternalError: java.lang.reflect.InvocationTargetException\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:86)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\n        at java.desktop/java.awt.Font.getFont2D(Font.java:497)\n        at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2250)\n        at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469)\n        at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530)\n        at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\n        at ImportExportExcel.main(ImportExportExcel.java:44)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:84)\n        ... 8 more\nCaused by: java.lang.NullPointerException\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:719)\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:379)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:324)\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\n        ... 13 more\n\n</code></pre>\n<p>It seems to me that the underlying issue is that the alpine docker image does not have any fonts by default. I want to know what the minimal fonts are that I need to install in the docker image in order for the code not to fail.</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":4624003,"reputation":2609,"user_id":3748302,"accept_rate":83,"display_name":"Remees M Syde"},"score":0,"creation_date":1555477723,"post_id":55720195,"comment_id":98120287,"body_markdown":"Have you tried this https://stackoverflow.com/questions/28688946/using-a-webview-to-browse-the-photo-gallery","body":"Have you tried this <a href=\"https://stackoverflow.com/questions/28688946/using-a-webview-to-browse-the-photo-gallery\" title=\"using a webview to browse the photo gallery\">stackoverflow.com/questions/28688946/&hellip;</a>"},{"owner":{"account_id":15630539,"reputation":93,"user_id":11276973,"display_name":"PinkalB"},"score":1,"creation_date":1555478292,"post_id":55720195,"comment_id":98120475,"body_markdown":"@RemeesMSyde. Thank you for quick reply :) \nThere is no fixed html content in webview as in my case webview is loaded from url.","body":"@RemeesMSyde. Thank you for quick reply :)  There is no fixed html content in webview as in my case webview is loaded from url."},{"owner":{"account_id":7648414,"reputation":378,"user_id":5798163,"display_name":"Ajith Madhu"},"score":2,"creation_date":1555478487,"post_id":55720195,"comment_id":98120518,"body_markdown":"Try this [Question](https://stackoverflow.com/questions/29045637/html-input-type-file-is-not-working-on-webview-in-android-there-is-any-way-to). Tested and working","body":"Try this <a href=\"https://stackoverflow.com/questions/29045637/html-input-type-file-is-not-working-on-webview-in-android-there-is-any-way-to\">Question</a>. Tested and working"},{"owner":{"account_id":15630539,"reputation":93,"user_id":11276973,"display_name":"PinkalB"},"score":1,"creation_date":1555480091,"post_id":55720195,"comment_id":98121038,"body_markdown":"@AjithMadhu Thank you so much, this solution worked for me. :)","body":"@AjithMadhu Thank you so much, this solution worked for me. :)"}],"answers":[{"tags":[],"owner":{"account_id":15761094,"reputation":55,"user_id":11372789,"display_name":"zahra salmaninejad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557498380,"creation_date":1555491939,"answer_id":55723833,"question_id":55720195,"body_markdown":"\r\nWell you can achieve it like this\r\n\r\n\twebView.setWebViewClient(new WebViewClient() {\r\n\t\t@Override\r\n\t\tpublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\t\t    if (url.equals(&quot;alert://alert&quot;)) {\r\n\t\t        Toast.makeText(this, &quot;alert&quot;, Toast.LENGTH_LONG).show();\r\n\t\t    } else if (url.equals(&quot;choose://image&quot;)) {\r\n\t\t        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n\t\t        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\t\t        intent.setType(&quot;image/*&quot;);\r\n\r\n\t\t        startActivityForResult(intent, FILECHOOSER_RESULTCODE);\r\n\t\t    }\r\n\t\t    return true;\r\n\t\t}\r\n\t});      \r\n\r\nand your html should be like this\r\n\r\n    &lt;!doctype html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;title&gt;Test Android Popup&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;label&gt;Test Alert 1:&lt;/label&gt;\r\n            &lt;form action=&quot;alert://alert&quot;&gt;\r\n                 &lt;input type=&quot;submit&quot; value=&quot;Click me!&quot;&gt;\r\n            &lt;/form&gt;\r\n            &lt;br&gt;\r\n            &lt;label&gt;Test Browse file&lt;/label&gt;\r\n            &lt;form action=&quot;image://choose&quot;&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Choose File&quot;&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n","title":"How to allow photo gallery permission to WebView in android?","body":"<p>Well you can achieve it like this</p>\n\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        if (url.equals(\"alert://alert\")) {\n            Toast.makeText(this, \"alert\", Toast.LENGTH_LONG).show();\n        } else if (url.equals(\"choose://image\")) {\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.setType(\"image/*\");\n\n            startActivityForResult(intent, FILECHOOSER_RESULTCODE);\n        }\n        return true;\n    }\n});      \n</code></pre>\n\n<p>and your html should be like this</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Test Android Popup&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;label&gt;Test Alert 1:&lt;/label&gt;\n        &lt;form action=\"alert://alert\"&gt;\n             &lt;input type=\"submit\" value=\"Click me!\"&gt;\n        &lt;/form&gt;\n        &lt;br&gt;\n        &lt;label&gt;Test Browse file&lt;/label&gt;\n        &lt;form action=\"image://choose\"&gt;\n            &lt;input type=\"submit\" value=\"Choose File\"&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":15630539,"reputation":93,"user_id":11276973,"display_name":"PinkalB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695726765,"creation_date":1555477068,"question_id":55720195,"body_markdown":"I am loading WebView using URL. My URL contains one button which is used to take a photo from mobile either from photo gallery or using the device camera. I have also set the permissions to access the photo gallery. But the button not opens the photo gallery.\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\nwebJobForm.getSettings().setLoadsImagesAutomatically(true);\r\nwebJobForm.getSettings().setPluginState(WebSettings.PluginState.ON);\r\nwebJobForm.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\nwebJobForm.getSettings().setSupportZoom(true);\r\nwebJobForm.getSettings().setBuiltInZoomControls(true);\r\nwebJobForm.getSettings().setDisplayZoomControls(true);\r\nwebJobForm.getSettings().setLoadWithOverviewMode(true);\r\nwebJobForm.setVerticalScrollBarEnabled(true);\r\nwebJobForm.setHorizontalScrollBarEnabled(true);\r\nwebJobForm.getSettings().setUseWideViewPort(true);\r\nwebJobForm.getSettings().setAllowFileAccess(true);\r\nwebJobForm.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\nwebJobForm.getSettings().setAllowContentAccess(true);\r\nwebJobForm.getSettings().setAllowFileAccessFromFileURLs(true);\r\nwebJobForm.getSettings().setMediaPlaybackRequiresUserGesture(true);\r\nwebJobForm.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\nwebJobForm.getSettings().setJavaScriptEnabled(true);\r\nwebJobForm.setWebChromeClient(new WebChromeClient());\r\nwebJobForm.postUrl(bundle.getString(&quot;FormUrl&quot;),JobID.getBytes());\r\n```","title":"How to allow photo gallery permission to WebView in android?","body":"<p>I am loading WebView using URL. My URL contains one button which is used to take a photo from mobile either from photo gallery or using the device camera. I have also set the permissions to access the photo gallery. But the button not opens the photo gallery.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>webJobForm.getSettings().setLoadsImagesAutomatically(true);\nwebJobForm.getSettings().setPluginState(WebSettings.PluginState.ON);\nwebJobForm.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\nwebJobForm.getSettings().setSupportZoom(true);\nwebJobForm.getSettings().setBuiltInZoomControls(true);\nwebJobForm.getSettings().setDisplayZoomControls(true);\nwebJobForm.getSettings().setLoadWithOverviewMode(true);\nwebJobForm.setVerticalScrollBarEnabled(true);\nwebJobForm.setHorizontalScrollBarEnabled(true);\nwebJobForm.getSettings().setUseWideViewPort(true);\nwebJobForm.getSettings().setAllowFileAccess(true);\nwebJobForm.getSettings().setAllowUniversalAccessFromFileURLs(true);\nwebJobForm.getSettings().setAllowContentAccess(true);\nwebJobForm.getSettings().setAllowFileAccessFromFileURLs(true);\nwebJobForm.getSettings().setMediaPlaybackRequiresUserGesture(true);\nwebJobForm.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\nwebJobForm.getSettings().setJavaScriptEnabled(true);\nwebJobForm.setWebChromeClient(new WebChromeClient());\nwebJobForm.postUrl(bundle.getString(\"FormUrl\"),JobID.getBytes());\n</code></pre>\n"},{"tags":["java","machine-learning","neural-network","one-hot-encoding"],"owner":{"account_id":10460487,"reputation":27,"user_id":7711407,"display_name":"Andy58"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695726668,"creation_date":1695670744,"question_id":77175325,"body_markdown":"I have made a functioning neural network using the following code to compute weights*:\r\n\r\n    public double compute(double input1, double input2){\r\n          double preActivation = (this.weight1 * input1) + (this.weight2 * input2) + this.bias;\r\n          double output = Utilities.sigmoid(preActivation);\r\n          return output;\r\n    }\r\n\r\nI have changed the input to a `int[][]` array and im trying to multiply this result by the weights ive assigned above. This wont work however Im struggling to understand how a one hot encoded representation of string (below):\r\n\r\n    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]\r\n\r\nis fed into a neural network. There are lot of resources explaining one hot encoding but I cant find out how to handle the end result. You can multiply a matrix with another matrix but I cant seem to multiply a matrix with a double representing a weight. Is there a way I can multiply the above binary vector with a double or how else would I feed this to a neural network? Should I use a different method to alter the weights rather than sigmoid and if so what would be best? how do you handle this data? \r\n\r\nUpdate:\r\nSo far I’ve converted each nested array in the matrices into a decimal using BigInteger enclosing a stream `.stream().map(item -&gt; item.toString()).join(“”); this returns a decimal I then get the sum of all decimals and convert this to double using .doubleValue() instance method however I’ve not chance to get results of network training yet. I will update once I have.\r\n","title":"Feeding a neural network one hot encode binary vectors","body":"<p>I have made a functioning neural network using the following code to compute weights*:</p>\n<pre><code>public double compute(double input1, double input2){\n      double preActivation = (this.weight1 * input1) + (this.weight2 * input2) + this.bias;\n      double output = Utilities.sigmoid(preActivation);\n      return output;\n}\n</code></pre>\n<p>I have changed the input to a <code>int[][]</code> array and im trying to multiply this result by the weights ive assigned above. This wont work however Im struggling to understand how a one hot encoded representation of string (below):</p>\n<pre><code>[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]\n</code></pre>\n<p>is fed into a neural network. There are lot of resources explaining one hot encoding but I cant find out how to handle the end result. You can multiply a matrix with another matrix but I cant seem to multiply a matrix with a double representing a weight. Is there a way I can multiply the above binary vector with a double or how else would I feed this to a neural network? Should I use a different method to alter the weights rather than sigmoid and if so what would be best? how do you handle this data?</p>\n<p>Update:\nSo far I’ve converted each nested array in the matrices into a decimal using BigInteger enclosing a stream `.stream().map(item -&gt; item.toString()).join(“”); this returns a decimal I then get the sum of all decimals and convert this to double using .doubleValue() instance method however I’ve not chance to get results of network training yet. I will update once I have.</p>\n"},{"tags":["java","arangodb"],"answers":[{"tags":[],"owner":{"account_id":257499,"reputation":1062,"user_id":538959,"accept_rate":87,"display_name":"darkfrog"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695725696,"creation_date":1506696891,"answer_id":46491516,"question_id":46491401,"body_markdown":"I don&#39;t believe you can do that since the service needs to bind to an IP address. Usually, when dealing with dynamic IP addresses your ISP is changing the IP but internally you can configure your IP address statically. Bind to your internal static IP and configure your router to port forward to that internal IP address. Many routers support dynamic DNS through various providers that will map the domain to your changing IP address. I hope that helps.\r\n\r\nUpdate: Setting up HTTPS should be pretty easily done, just follow the docs:\r\n- https://docs.arangodb.com/3.11/components/arangodb-server/options/#--serverendpoint\r\n- https://docs.arangodb.com/3.11/components/arangodb-server/options/#ssl","title":"Specify https host as arangodb host in properties","body":"<p>I don't believe you can do that since the service needs to bind to an IP address. Usually, when dealing with dynamic IP addresses your ISP is changing the IP but internally you can configure your IP address statically. Bind to your internal static IP and configure your router to port forward to that internal IP address. Many routers support dynamic DNS through various providers that will map the domain to your changing IP address. I hope that helps.</p>\n<p>Update: Setting up HTTPS should be pretty easily done, just follow the docs:</p>\n<ul>\n<li><a href=\"https://docs.arangodb.com/3.11/components/arangodb-server/options/#--serverendpoint\" rel=\"nofollow noreferrer\">https://docs.arangodb.com/3.11/components/arangodb-server/options/#--serverendpoint</a></li>\n<li><a href=\"https://docs.arangodb.com/3.11/components/arangodb-server/options/#ssl\" rel=\"nofollow noreferrer\">https://docs.arangodb.com/3.11/components/arangodb-server/options/#ssl</a></li>\n</ul>\n"}],"owner":{"account_id":6835939,"reputation":1361,"user_id":5257935,"accept_rate":95,"display_name":"Sergei Podlipaev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46491516,"answer_count":1,"score":5,"last_activity_date":1695725696,"creation_date":1506696548,"question_id":46491401,"body_markdown":"I&#39;m building CRUD interface for ArangoDB as Java service.\r\n\r\nMy ArangoDB service has dynamic IP, but static URL. Thus I want to specify URL instead of IP and port.\r\n\r\nBut when I set it in arangodb.properties file I get the following exception:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.netcracker.unm.activeinventory.services.ArangoService]: Constructor threw exception; nested exception is com.arangodb.ArangoDBException: Could not load property-value arangodb.hosts=127.0.0.1:8538,127.0.0.1:8529,http://arangodb-nms-infra.sdnoshm05.com:443. Expected format ip:port,ip:port,...\r\n\r\nHow can I do it?\r\n\r\n**Update**\r\n\r\nI have figured out that I have to connect to https server. How can I specify it in my arangodb.properties file?\r\n\r\nI have tried to connect to the servers endpoint using unix `wget` command. It doesn&#39;t connect if I dont specify https protocol. And so my ArangoDB client doesn&#39;t, if there is plain ip:port. I just get `java.net.ConnectException: Connection refused` exception.","title":"Specify https host as arangodb host in properties","body":"<p>I'm building CRUD interface for ArangoDB as Java service.</p>\n\n<p>My ArangoDB service has dynamic IP, but static URL. Thus I want to specify URL instead of IP and port.</p>\n\n<p>But when I set it in arangodb.properties file I get the following exception:</p>\n\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.netcracker.unm.activeinventory.services.ArangoService]: Constructor threw exception; nested exception is com.arangodb.ArangoDBException: Could not load property-value arangodb.hosts=127.0.0.1:8538,127.0.0.1:8529,http://arangodb-nms-infra.sdnoshm05.com:443. Expected format ip:port,ip:port,...\n</code></pre>\n\n<p>How can I do it?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I have figured out that I have to connect to https server. How can I specify it in my arangodb.properties file?</p>\n\n<p>I have tried to connect to the servers endpoint using unix <code>wget</code> command. It doesn't connect if I dont specify https protocol. And so my ArangoDB client doesn't, if there is plain ip:port. I just get <code>java.net.ConnectException: Connection refused</code> exception.</p>\n"},{"tags":["java","android","flutter","braintree"],"comments":[{"owner":{"account_id":3043306,"reputation":900,"user_id":2579725,"display_name":"ben"},"score":1,"creation_date":1571991559,"post_id":57696147,"comment_id":103429018,"body_markdown":"I have actually the same problem and I am not able to fix it...","body":"I have actually the same problem and I am not able to fix it..."},{"owner":{"account_id":22947934,"reputation":1740,"user_id":17079652,"display_name":"G H Prakash"},"score":0,"creation_date":1638420814,"post_id":57696147,"comment_id":124085008,"body_markdown":"did you got this @Funkberater","body":"did you got this @Funkberater"}],"answers":[{"tags":[],"owner":{"account_id":3043306,"reputation":900,"user_id":2579725,"display_name":"ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572025255,"creation_date":1572025255,"answer_id":58563282,"question_id":57696147,"body_markdown":"I have solved the issue by renaming my application id. Apparently the braintree SDK does not like to have underscores in the application id. It worked after I renamed the application id to an id without special characters...\r\nI hope that helps.","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>I have solved the issue by renaming my application id. Apparently the braintree SDK does not like to have underscores in the application id. It worked after I renamed the application id to an id without special characters...\nI hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":13836862,"reputation":1,"user_id":9988180,"display_name":"Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576492760,"creation_date":1576492760,"answer_id":59354912,"question_id":57696147,"body_markdown":"Make sure your application ID doesn&#39;t have any special characters and upper case alphabets. If so please remove the special characters and change the application id to lower case alphabets. ","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Make sure your application ID doesn't have any special characters and upper case alphabets. If so please remove the special characters and change the application id to lower case alphabets. </p>\n"},{"comments":[{"owner":{"account_id":4919836,"reputation":237,"user_id":3962688,"accept_rate":25,"display_name":"Ilham Safeek"},"score":0,"creation_date":1616986301,"post_id":63740037,"comment_id":118164900,"body_markdown":"This was the problem in my case. this saved my time. Thank you.","body":"This was the problem in my case. this saved my time. Thank you."},{"owner":{"account_id":6103247,"reputation":3905,"user_id":4761601,"accept_rate":43,"display_name":"Yaroslav Dukal"},"score":1,"creation_date":1667972584,"post_id":63740037,"comment_id":131292766,"body_markdown":"Link no longer works. Just blank screen....","body":"Link no longer works. Just blank screen...."}],"tags":[],"owner":{"account_id":15044477,"reputation":21,"user_id":10858073,"display_name":"Rehan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599217889,"creation_date":1599217889,"answer_id":63740037,"question_id":57696147,"body_markdown":"Remove underscores in your package name\r\n\r\n&quot;Note: The scheme you define must use all lowercase letters. If your package contains underscores, the underscores should be removed when specifying the scheme in your Android Manifest.&quot;\r\n\r\nplease check this for more information \r\nhttps://developers.braintreepayments.com/guides/client-sdk/setup/android/v2#browser-switch","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Remove underscores in your package name</p>\n<p>&quot;Note: The scheme you define must use all lowercase letters. If your package contains underscores, the underscores should be removed when specifying the scheme in your Android Manifest.&quot;</p>\n<p>please check this for more information\n<a href=\"https://developers.braintreepayments.com/guides/client-sdk/setup/android/v2#browser-switch\" rel=\"nofollow noreferrer\">https://developers.braintreepayments.com/guides/client-sdk/setup/android/v2#browser-switch</a></p>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":0,"creation_date":1629370082,"post_id":68843524,"comment_id":121671389,"body_markdown":"This has already been mentioned in the other answers.","body":"This has already been mentioned in the other answers."}],"tags":[],"owner":{"account_id":22507912,"reputation":21,"user_id":16703230,"display_name":"Himanshu"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629357404,"creation_date":1629357404,"answer_id":68843524,"question_id":57696147,"body_markdown":"Just remove special characters from your app&#39;s package name/id. like underscores and etc.\r\n\r\nex: com.example.smaple_app\r\nsolved: ex: com.example.smapleapp","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Just remove special characters from your app's package name/id. like underscores and etc.</p>\n<p>ex: com.example.smaple_app\nsolved: ex: com.example.smapleapp</p>\n"},{"tags":[],"owner":{"account_id":22044518,"reputation":1,"user_id":16309775,"display_name":"Sinan Kanmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695725464,"creation_date":1695725275,"answer_id":77179281,"question_id":57696147,"body_markdown":"Add this lines in the `application` bloc,  to `AndroidManifest.xml`\r\n\r\n&lt;activity android:name=&quot;com.braintreepayments.api.ThreeDSecureActivity&quot; android:theme=&quot;@style/Theme.AppCompat.Light&quot; android:exported=&quot;true&quot;&gt;\r\n&lt;/activity&gt;\r\n\r\nand this line\r\n\r\n    &lt;activity android:name=&quot;${applicationId}.FlutterBraintreeCustom&quot; android:theme=&quot;@style/Theme.AppCompat.Light&quot; android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Add this lines in the <code>application</code> bloc,  to <code>AndroidManifest.xml</code></p>\n\n\n<p>and this line</p>\n<pre><code>&lt;activity android:name=&quot;${applicationId}.FlutterBraintreeCustom&quot; android:theme=&quot;@style/Theme.AppCompat.Light&quot; android:exported=&quot;true&quot;&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":13158736,"reputation":775,"user_id":9504999,"display_name":"Funkberater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3482,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1695725464,"creation_date":1567007604,"question_id":57696147,"body_markdown":"I&#39;m trying to implement the Braintree Android SDK into my app. I&#39;m facing a weird error when I try to use the PayPal payment method. The documentation of Braintree says that I have to implement this into my AndroidManifest:\r\n\r\n```\r\n&lt;activity android:name=&quot;com.braintreepayments.api.BraintreeBrowserSwitchActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;${applicationId}.braintree&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nso this is my AndroidManifest after implementing:\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.plugon.flutterbraintree_example&quot;&gt;\r\n\r\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\r\n         calls FlutterMain.startInitialization(this); in its onCreate method.\r\n         In most cases you can leave this as-is, but you if you want to provide\r\n         additional functionality it is fine to subclass or reimplement\r\n         FlutterApplication and put your custom class here. --&gt;\r\n    &lt;application\r\n        android:name=&quot;io.flutter.app.FlutterApplication&quot;\r\n        android:label=&quot;flutterbraintree_example&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;!-- This keeps the window background of the activity showing\r\n                 until Flutter renders its first frame. It can be removed if\r\n                 there is no splash screen (such as the default splash screen\r\n                 defined in @style/LaunchTheme). --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;io.flutter.app.android.SplashScreenUntilFirstFrame&quot;\r\n                android:value=&quot;true&quot; /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.braintreepayments.api.BraintreeBrowserSwitchActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;${applicationId}.braintree&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nSo my code works fine everything is showing up but when I select Paypal for payment I get this error: ***BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app.***\r\n\r\nSo any ideas what I&#39;m doing wrong?\r\n\r\nThanks!","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>I'm trying to implement the Braintree Android SDK into my app. I'm facing a weird error when I try to use the PayPal payment method. The documentation of Braintree says that I have to implement this into my AndroidManifest:</p>\n\n<pre><code>&lt;activity android:name=\"com.braintreepayments.api.BraintreeBrowserSwitchActivity\"\n            android:launchMode=\"singleTask\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n                &lt;data android:scheme=\"${applicationId}.braintree\" /&gt;\n            &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>so this is my AndroidManifest after implementing:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.plugon.flutterbraintree_example\"&gt;\n\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\n         calls FlutterMain.startInitialization(this); in its onCreate method.\n         In most cases you can leave this as-is, but you if you want to provide\n         additional functionality it is fine to subclass or reimplement\n         FlutterApplication and put your custom class here. --&gt;\n    &lt;application\n        android:name=\"io.flutter.app.FlutterApplication\"\n        android:label=\"flutterbraintree_example\"\n        android:icon=\"@mipmap/ic_launcher\"&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:launchMode=\"singleTop\"\n            android:theme=\"@style/LaunchTheme\"\n            android:configChanges=\"orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode\"\n            android:hardwareAccelerated=\"true\"\n            android:windowSoftInputMode=\"adjustResize\"&gt;\n            &lt;!-- This keeps the window background of the activity showing\n                 until Flutter renders its first frame. It can be removed if\n                 there is no splash screen (such as the default splash screen\n                 defined in @style/LaunchTheme). --&gt;\n            &lt;meta-data\n                android:name=\"io.flutter.app.android.SplashScreenUntilFirstFrame\"\n                android:value=\"true\" /&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\"com.braintreepayments.api.BraintreeBrowserSwitchActivity\"\n            android:launchMode=\"singleTask\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n                &lt;data android:scheme=\"${applicationId}.braintree\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n\n<p>So my code works fine everything is showing up but when I select Paypal for payment I get this error: <strong><em>BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app.</em></strong></p>\n\n<p>So any ideas what I'm doing wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","threadpoolexecutor"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695725926,"post_id":77179306,"comment_id":136060025,"body_markdown":"`Executor#execute` does not necessarily run on another thread. That task may run on the calling method’s thread. Read the Javadoc.","body":"<code>Executor#execute</code> does not necessarily run on another thread. That task may run on the calling method’s thread. Read the Javadoc."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695771574,"post_id":77179306,"comment_id":136068210,"body_markdown":"When posting here, you&#39;ll generally get best results if you contrive a simplified example to demonstrate your issue.","body":"When posting here, you&#39;ll generally get best results if you contrive a simplified example to demonstrate your issue."}],"owner":{"account_id":29537445,"reputation":1,"user_id":22636811,"display_name":"Masar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695725408,"creation_date":1695725408,"question_id":77179306,"body_markdown":"I am using executor to access RoomDatabase and it seems that nothing happen under these background tasks. For example for the creation of a entity in my database (here called Note):\r\n\r\n**NoteDataRepository Class**\r\n```\r\npackage com.example.grimoire.data.repositories;\r\n\r\n...\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class NoteDataRepository {\r\n\r\n    private final NoteDao noteDao;\r\n    private final Executor executor = Executors.newFixedThreadPool(4);\r\n    private final ExecutorService pool = Executors.newFixedThreadPool(2);\r\n\r\n    Note note;\r\n\r\n\r\n    public NoteDataRepository(Context context) {\r\n\r\n        GrimoireDatabase db = GrimoireDatabase.getInstance(context);\r\n        this.noteDao = db.noteDao();\r\n        this.allNotes = getAllNotes();\r\n    }\r\n\r\n\r\n    //=== Create Note ===//\r\n    public long createNote(){\r\n        Note note = new Note();\r\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId before executor : &quot; + note.getId());\r\n        executor.execute(() -&gt; {\r\n            Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId in executor : &quot; + note.getId());\r\n            noteDao.insertNote(note);});\r\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId after executor : &quot; + note.getId());\r\n        return note.getId();};\r\n\r\n    //...\r\n\r\n}\r\n\r\n```\r\n\r\nWhen I call the `createNote()` method from the NoteDataRepository class I get this Logcat :\r\n\r\n\r\n```\r\n2023-09-26 12:22:46.737 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId before executor : 0\r\n2023-09-26 12:22:46.738 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId after executor : 0\r\n2023-09-26 12:22:46.739 10805-10805 NoteViewMo...createNote com.example.grimoire                 I  newNoteId : 0\r\n2023-09-26 12:22:46.742 10805-10805 AndroidRuntime          com.example.grimoire                 D  Shutting down VM\r\n2023-09-26 12:22:46.745 10805-10805 AndroidRuntime          com.example.grimoire                 E  FATAL EXCEPTION: main\r\n```\r\n\r\nHere are **NoteDaoClass** :\r\n```\r\npackage com.example.grimoire.data.dao;\r\n\r\nimport android.database.Cursor;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Insert;\r\nimport androidx.room.Query;\r\nimport androidx.room.Update;\r\n\r\nimport com.example.grimoire.data.model.Note;\r\n\r\nimport java.util.List;\r\n\r\n@Dao\r\npublic interface NoteDao {\r\n    @Query(&quot;SELECT * FROM Note WHERE id = :id&quot;)\r\n    Note getNote(Long id);\r\n\r\n    @Query(&quot;SELECT * FROM Note ORDER BY id ASC&quot;)\r\n    List&lt;Note&gt; getAllNote();\r\n\r\n    @Query(&quot;SELECT * FROM Note WHERE Id = :Id&quot;)\r\n    Cursor getItemWithCursor(Long Id);\r\n\r\n    @Insert\r\n    void insertNote(Note note);\r\n\r\n\r\n    @Query(&quot;DELETE FROM Note WHERE Id = :Id&quot;)\r\n    int deleteItem(long Id);\r\n\r\n    @Update\r\n    void updateNote(Note note);\r\n}\r\n```\r\n\r\n\r\n**GrimoireDatabase Class**: \r\n\r\n```\r\npackage com.example.grimoire.data;\r\n\r\nimport static android.webkit.ConsoleMessage.MessageLevel.LOG;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Database;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\nimport androidx.sqlite.db.SupportSQLiteDatabase;\r\n\r\nimport com.example.grimoire.data.model.AttachedFile;\r\nimport com.example.grimoire.data.model.Category;\r\nimport com.example.grimoire.data.model.Note;\r\n\r\nimport com.example.grimoire.data.dao.*;\r\n\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Database(entities = {Note.class, Category.class, AttachedFile.class}, version = 1, exportSchema = false)\r\npublic abstract class GrimoireDatabase extends RoomDatabase {\r\n\r\n    // --- SINGLETON ---\r\n\r\n    private static volatile GrimoireDatabase INSTANCE;\r\n\r\n    // --- DAO ---\r\n\r\n    public abstract NoteDao noteDao();\r\n\r\n    public abstract CategoryDao categoryDao();\r\n\r\n    public abstract AttachedFileDao attachedFileDao();\r\n    private final Executor executor = Executors.newFixedThreadPool(4);\r\n\r\n\r\n    // --- INSTANCE ---\r\n\r\n    public static GrimoireDatabase getInstance(Context context) {\r\n\r\n        if (INSTANCE == null) {\r\n            synchronized (GrimoireDatabase.class) {\r\n                if (INSTANCE == null) {\r\n                    INSTANCE = Room.databaseBuilder(context,\r\n                                   GrimoireDatabase.class, &quot;MyDatabase.db&quot;)\r\n                            .addCallback(prepopulateDatabase())\r\n                            .build();\r\n\r\n                    Log.i(&quot;GrimoireDatabase&quot;,&quot;INstance builded&quot;);\r\n                }\r\n            }\r\n        }\r\n        return INSTANCE;\r\n\r\n    }\r\n\r\n    private static Callback prepopulateDatabase() {\r\n        Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase&quot;,&quot;before onCreate&quot;);\r\n        return new Callback() {\r\n\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase.OnCreate&quot;,&quot;onCreate PAssed&quot;);\r\n                super.onCreate(db);\r\n                Executors.newSingleThreadExecutor().execute(() -&gt; {\r\n\r\n                    Category cat = new Category(0, &quot;Carnet Perso&quot;);\r\n                    INSTANCE.categoryDao().insertCategory(cat);\r\n\r\n                    Note note = new Note(cat.getIdCategory(), 0, &quot;Moi&quot;, &quot;Autun&quot;, &quot;Sujet alpha&quot;, &quot;sous-titre alpha&quot;, &quot;exemple de note a&quot;, &quot;10/9/2023&quot;, false, false);\r\n                    INSTANCE.noteDao().insertNote(note);\r\n                    note.setParameters(cat.getIdCategory(), 0, &quot;Toi&quot;, &quot;chamb&#233;ry&quot;, &quot;Sujet b&#233;ta&quot;, &quot;sous-titre b&#233;ta&quot;, &quot;exemple de note b&quot;, &quot;05/10/2023&quot;, false, false);\r\n                    INSTANCE.noteDao().insertNote(note);\r\n                    Log.i(&quot;GrimoireDatabase.callback.prepolulate&quot;,&quot;note number : &quot;+INSTANCE.noteDao().getAllNote().size()+&quot;/n Category number : &quot;+INSTANCE.categoryDao().getAllCategory().size());\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                super.onOpen(db);\r\n            }\r\n\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have also tried Executors.newSingleThreadExecutor() with the same result that nothing happens into this thread...\r\n\r\nI am looking for solutions but not sure they are best practices :\r\n\r\nHow could I wait the background task from executor is done ? If I do what the purpose to have a asynchronous task if it is for waiting for it... Does someone can give me a good practice ?","title":"How to proceed tasks under executor thread?","body":"<p>I am using executor to access RoomDatabase and it seems that nothing happen under these background tasks. For example for the creation of a entity in my database (here called Note):</p>\n<p><strong>NoteDataRepository Class</strong></p>\n<pre><code>package com.example.grimoire.data.repositories;\n\n...\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class NoteDataRepository {\n\n    private final NoteDao noteDao;\n    private final Executor executor = Executors.newFixedThreadPool(4);\n    private final ExecutorService pool = Executors.newFixedThreadPool(2);\n\n    Note note;\n\n\n    public NoteDataRepository(Context context) {\n\n        GrimoireDatabase db = GrimoireDatabase.getInstance(context);\n        this.noteDao = db.noteDao();\n        this.allNotes = getAllNotes();\n    }\n\n\n    //=== Create Note ===//\n    public long createNote(){\n        Note note = new Note();\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId before executor : &quot; + note.getId());\n        executor.execute(() -&gt; {\n            Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId in executor : &quot; + note.getId());\n            noteDao.insertNote(note);});\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId after executor : &quot; + note.getId());\n        return note.getId();};\n\n    //...\n\n}\n\n</code></pre>\n<p>When I call the <code>createNote()</code> method from the NoteDataRepository class I get this Logcat :</p>\n<pre><code>2023-09-26 12:22:46.737 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId before executor : 0\n2023-09-26 12:22:46.738 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId after executor : 0\n2023-09-26 12:22:46.739 10805-10805 NoteViewMo...createNote com.example.grimoire                 I  newNoteId : 0\n2023-09-26 12:22:46.742 10805-10805 AndroidRuntime          com.example.grimoire                 D  Shutting down VM\n2023-09-26 12:22:46.745 10805-10805 AndroidRuntime          com.example.grimoire                 E  FATAL EXCEPTION: main\n</code></pre>\n<p>Here are <strong>NoteDaoClass</strong> :</p>\n<pre><code>package com.example.grimoire.data.dao;\n\nimport android.database.Cursor;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Dao;\nimport androidx.room.Insert;\nimport androidx.room.Query;\nimport androidx.room.Update;\n\nimport com.example.grimoire.data.model.Note;\n\nimport java.util.List;\n\n@Dao\npublic interface NoteDao {\n    @Query(&quot;SELECT * FROM Note WHERE id = :id&quot;)\n    Note getNote(Long id);\n\n    @Query(&quot;SELECT * FROM Note ORDER BY id ASC&quot;)\n    List&lt;Note&gt; getAllNote();\n\n    @Query(&quot;SELECT * FROM Note WHERE Id = :Id&quot;)\n    Cursor getItemWithCursor(Long Id);\n\n    @Insert\n    void insertNote(Note note);\n\n\n    @Query(&quot;DELETE FROM Note WHERE Id = :Id&quot;)\n    int deleteItem(long Id);\n\n    @Update\n    void updateNote(Note note);\n}\n</code></pre>\n<p><strong>GrimoireDatabase Class</strong>:</p>\n<pre><code>package com.example.grimoire.data;\n\nimport static android.webkit.ConsoleMessage.MessageLevel.LOG;\n\nimport android.content.Context;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Database;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\nimport androidx.sqlite.db.SupportSQLiteDatabase;\n\nimport com.example.grimoire.data.model.AttachedFile;\nimport com.example.grimoire.data.model.Category;\nimport com.example.grimoire.data.model.Note;\n\nimport com.example.grimoire.data.dao.*;\n\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Database(entities = {Note.class, Category.class, AttachedFile.class}, version = 1, exportSchema = false)\npublic abstract class GrimoireDatabase extends RoomDatabase {\n\n    // --- SINGLETON ---\n\n    private static volatile GrimoireDatabase INSTANCE;\n\n    // --- DAO ---\n\n    public abstract NoteDao noteDao();\n\n    public abstract CategoryDao categoryDao();\n\n    public abstract AttachedFileDao attachedFileDao();\n    private final Executor executor = Executors.newFixedThreadPool(4);\n\n\n    // --- INSTANCE ---\n\n    public static GrimoireDatabase getInstance(Context context) {\n\n        if (INSTANCE == null) {\n            synchronized (GrimoireDatabase.class) {\n                if (INSTANCE == null) {\n                    INSTANCE = Room.databaseBuilder(context,\n                                   GrimoireDatabase.class, &quot;MyDatabase.db&quot;)\n                            .addCallback(prepopulateDatabase())\n                            .build();\n\n                    Log.i(&quot;GrimoireDatabase&quot;,&quot;INstance builded&quot;);\n                }\n            }\n        }\n        return INSTANCE;\n\n    }\n\n    private static Callback prepopulateDatabase() {\n        Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase&quot;,&quot;before onCreate&quot;);\n        return new Callback() {\n\n            @Override\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase.OnCreate&quot;,&quot;onCreate PAssed&quot;);\n                super.onCreate(db);\n                Executors.newSingleThreadExecutor().execute(() -&gt; {\n\n                    Category cat = new Category(0, &quot;Carnet Perso&quot;);\n                    INSTANCE.categoryDao().insertCategory(cat);\n\n                    Note note = new Note(cat.getIdCategory(), 0, &quot;Moi&quot;, &quot;Autun&quot;, &quot;Sujet alpha&quot;, &quot;sous-titre alpha&quot;, &quot;exemple de note a&quot;, &quot;10/9/2023&quot;, false, false);\n                    INSTANCE.noteDao().insertNote(note);\n                    note.setParameters(cat.getIdCategory(), 0, &quot;Toi&quot;, &quot;chambéry&quot;, &quot;Sujet béta&quot;, &quot;sous-titre béta&quot;, &quot;exemple de note b&quot;, &quot;05/10/2023&quot;, false, false);\n                    INSTANCE.noteDao().insertNote(note);\n                    Log.i(&quot;GrimoireDatabase.callback.prepolulate&quot;,&quot;note number : &quot;+INSTANCE.noteDao().getAllNote().size()+&quot;/n Category number : &quot;+INSTANCE.categoryDao().getAllCategory().size());\n                });\n            }\n\n            @Override\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\n                super.onOpen(db);\n            }\n\n        };\n    }\n}\n</code></pre>\n<p>I have also tried Executors.newSingleThreadExecutor() with the same result that nothing happens into this thread...</p>\n<p>I am looking for solutions but not sure they are best practices :</p>\n<p>How could I wait the background task from executor is done ? If I do what the purpose to have a asynchronous task if it is for waiting for it... Does someone can give me a good practice ?</p>\n"},{"tags":["java","set","iteration"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1313433512,"post_id":7069052,"comment_id":8457618,"body_markdown":"Sets generally don&#39;t have an internal order, so the &quot;index&quot; of an element doesn&#39;t really make sense - it might make sense for set implementations, but not in the general case.","body":"Sets generally don&#39;t have an internal order, so the &quot;index&quot; of an element doesn&#39;t really make sense - it might make sense for set implementations, but not in the general case."},{"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"score":0,"creation_date":1313433598,"post_id":7069052,"comment_id":8457648,"body_markdown":"Is there a particular Set implementation that allows for this?","body":"Is there a particular Set implementation that allows for this?"},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1313433732,"post_id":7069052,"comment_id":8457673,"body_markdown":"I don&#39;t know, but if the position is important, you should not really be using a set. You should be using some sort of list or array.","body":"I don&#39;t know, but if the position is important, you should not really be using a set. You should be using some sort of list or array."},{"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"score":3,"creation_date":1313433763,"post_id":7069052,"comment_id":8457684,"body_markdown":"@Mat LinkedHashSet is ordered, it does more than his Set contract requires it to do, so the question is quite reasonable","body":"@Mat LinkedHashSet is ordered, it does more than his Set contract requires it to do, so the question is quite reasonable"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":1,"creation_date":1313433783,"post_id":7069052,"comment_id":8457688,"body_markdown":"Is there a reason you are stuck with a Set?  If you need to work with indices, clearly you should use a List.","body":"Is there a reason you are stuck with a Set?  If you need to work with indices, clearly you should use a List."},{"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"score":0,"creation_date":1313433799,"post_id":7069052,"comment_id":8457696,"body_markdown":"@Mat no a list allows duplicates, a Set does not","body":"@Mat no a list allows duplicates, a Set does not"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1313433865,"post_id":7069052,"comment_id":8457712,"body_markdown":"I doubt that there is a Set implementation that behaves like a List.  It would be very bad design since List is made for that.","body":"I doubt that there is a Set implementation that behaves like a List.  It would be very bad design since List is made for that."},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1313433878,"post_id":7069052,"comment_id":8457717,"body_markdown":"@Omnaest: whatever LinkedHashSet provides is irrelevant after the cast to Set&lt;&gt;, isn&#39;t it? I know Sets have unique guarantees.","body":"@Omnaest: whatever LinkedHashSet provides is irrelevant after the cast to Set&lt;&gt;, isn&#39;t it? I know Sets have unique guarantees."},{"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"score":0,"creation_date":1313434068,"post_id":7069052,"comment_id":8457790,"body_markdown":"@Mat I dont know, that depends on the context. We should not overinterprete a one line statement.","body":"@Mat I dont know, that depends on the context. We should not overinterprete a one line statement."},{"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"score":1,"creation_date":1424300998,"post_id":7069052,"comment_id":45498081,"body_markdown":"I find it quite weird that it is not possible. LinkedHashSet even explicitly states that the elements are stored in a linked list, why is there no method to get the index?","body":"I find it quite weird that it is not possible. LinkedHashSet even explicitly states that the elements are stored in a linked list, why is there no method to get the index?"}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1313433947,"post_id":7069150,"comment_id":8457742,"body_markdown":"But.. If you&#39;re using `Set` from the beginning on for the purpose for which a `List` is unsuitable, then I&#39;d rather just loop over it (and if necessary create some utility method for that). Why exactly are you using a `Set` while you&#39;d like to know about the index? Just to have the items in an order? You might want to just use `List` from the beginning on and use `Collections#sort()` beforehand.","body":"But.. If you&#39;re using <code>Set</code> from the beginning on for the purpose for which a <code>List</code> is unsuitable, then I&#39;d rather just loop over it (and if necessary create some utility method for that). Why exactly are you using a <code>Set</code> while you&#39;d like to know about the index? Just to have the items in an order? You might want to just use <code>List</code> from the beginning on and use <code>Collections#sort()</code> beforehand."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":10,"creation_date":1438356250,"post_id":7069150,"comment_id":51433280,"body_markdown":"Terrible answer. I have to create a new arraylist to do this? Imagine you do this all the time. There are no good answers to this question on SO, so I have to write my own.","body":"Terrible answer. I have to create a new arraylist to do this? Imagine you do this all the time. There are no good answers to this question on SO, so I have to write my own."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1438356854,"post_id":7069150,"comment_id":51433662,"body_markdown":"@momo: Answers to terrible functional requirements are indeed usually terrible. Just use `List` instead of `Set` in first place.","body":"@momo: Answers to terrible functional requirements are indeed usually terrible. Just use <code>List</code> instead of <code>Set</code> in first place."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":5,"creation_date":1438357519,"post_id":7069150,"comment_id":51434040,"body_markdown":"A list and set also yield different results. Maybe a user needs a to avoid duplicates in an efficient manner, why linked hashet is used, yet want to be able to present someone with list of available items, and have them select only one. I have posted my answer below. It uses an arraylist as a backup instead, allowing for o(1) get(index)","body":"A list and set also yield different results. Maybe a user needs a to avoid duplicates in an efficient manner, why linked hashet is used, yet want to be able to present someone with list of available items, and have them select only one. I have posted my answer below. It uses an arraylist as a backup instead, allowing for o(1) get(index)"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":4,"up_vote_count":27,"is_accepted":true,"score":23,"last_activity_date":1313433747,"creation_date":1313433747,"answer_id":7069150,"question_id":7069052,"body_markdown":"The [`Set` interface][1] doesn&#39;t have something like as an `indexOf()` method. You&#39;d really need to iterate over it or to use the [`List` interface][2] instead which offers an [`indexOf()` method][3].\r\n\r\nIf you would like to, converting `Set` to `List` is pretty trivial, it should be a matter of passing the `Set` through the constructor of the `List` implementation. E.g.\r\n\r\n    List&lt;String&gt; nameList = new ArrayList&lt;String&gt;(nameSet);\r\n    // ...\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Set.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#indexOf%28java.lang.Object%29","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code> interface</a> doesn't have something like as an <code>indexOf()</code> method. You'd really need to iterate over it or to use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code> interface</a> instead which offers an <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#indexOf%28java.lang.Object%29\" rel=\"noreferrer\"><code>indexOf()</code> method</a>.</p>\n\n<p>If you would like to, converting <code>Set</code> to <code>List</code> is pretty trivial, it should be a matter of passing the <code>Set</code> through the constructor of the <code>List</code> implementation. E.g.</p>\n\n<pre><code>List&lt;String&gt; nameList = new ArrayList&lt;String&gt;(nameSet);\n// ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"score":0,"creation_date":1313433957,"post_id":7069156,"comment_id":8457744,"body_markdown":"Nice and elegant suggestion. Thank you","body":"Nice and elegant suggestion. Thank you"}],"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313433778,"creation_date":1313433778,"answer_id":7069156,"question_id":7069052,"body_markdown":"I don&#39;t believe so, but you could create a `LinkedHashSetWithIndex` wrapper class that would do the iteration for you, or keep a separate table with the indexes of each entry, if the performance decrease is acceptable for your use case.","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>I don't believe so, but you could create a <code>LinkedHashSetWithIndex</code> wrapper class that would do the iteration for you, or keep a separate table with the indexes of each entry, if the performance decrease is acceptable for your use case.</p>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":6,"creation_date":1438356680,"post_id":7069162,"comment_id":51433554,"body_markdown":"No good, new arraylist just to do this. It&#39;s cheaper to iterate the set.","body":"No good, new arraylist just to do this. It&#39;s cheaper to iterate the set."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1592326767,"post_id":7069162,"comment_id":110383824,"body_markdown":"@mmm this is cheaper for the programmer and the eyes - being just one short line.","body":"@mmm this is cheaper for the programmer and the eyes - being just one short line."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1313433795,"creation_date":1313433795,"answer_id":7069162,"question_id":7069052,"body_markdown":"Although not as efficient for the machine, this achieves it in one line:\r\n\r\n    int index = new ArrayList&lt;String&gt;(names).indexOf(&quot;John&quot;);","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>Although not as efficient for the machine, this achieves it in one line:</p>\n\n<pre><code>int index = new ArrayList&lt;String&gt;(names).indexOf(\"John\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":1,"creation_date":1438356664,"post_id":7069178,"comment_id":51433545,"body_markdown":"No good, new arraylist just to do this. It&#39;s cheaper to iterate the set.","body":"No good, new arraylist just to do this. It&#39;s cheaper to iterate the set."}],"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1313433856,"creation_date":1313433856,"answer_id":7069178,"question_id":7069052,"body_markdown":"A better way there is not, only a single lined one (which makes use of the iterator, too but implicitly):\r\n\r\n    new ArrayList(names).get(0)","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>A better way there is not, only a single lined one (which makes use of the iterator, too but implicitly):</p>\n\n<pre><code>new ArrayList(names).get(0)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":414583,"reputation":1782,"user_id":788887,"display_name":"ReyCharles"},"score":0,"creation_date":1313434052,"post_id":7069190,"comment_id":8457784,"body_markdown":"Wow people are fast at responding! This is my second post ever on stackoverflow so excuse me if I did something wrong :) I see Mat posted basically the same a few minutes before me.","body":"Wow people are fast at responding! This is my second post ever on stackoverflow so excuse me if I did something wrong :) I see Mat posted basically the same a few minutes before me."},{"owner":{"account_id":414583,"reputation":1782,"user_id":788887,"display_name":"ReyCharles"},"score":8,"creation_date":1313434582,"post_id":7069190,"comment_id":8457951,"body_markdown":"@Aaron V.: A LinkedHashSet does keep an ordering\n\n&quot;This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order).&quot;","body":"@Aaron V.: A LinkedHashSet does keep an ordering  &quot;This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order).&quot;"}],"tags":[],"owner":{"account_id":414583,"reputation":1782,"user_id":788887,"display_name":"ReyCharles"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1313433923,"creation_date":1313433923,"answer_id":7069190,"question_id":7069052,"body_markdown":"It is generally not possible for a Set to return the index because it&#39;s not necessarily well defined for the particular Set implementation. For example it says in the HashSet documentation\r\n\r\n&gt; It makes no guarantees as to the iteration order of the set; in particular, it does not guarantee that the order will remain constant over time.\r\n\r\nSo you shouldn&#39;t say the type is Set when what you actually expect is a Set implementing som order.","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>It is generally not possible for a Set to return the index because it's not necessarily well defined for the particular Set implementation. For example it says in the HashSet documentation</p>\n\n<blockquote>\n  <p>It makes no guarantees as to the iteration order of the set; in particular, it does not guarantee that the order will remain constant over time.</p>\n</blockquote>\n\n<p>So you shouldn't say the type is Set when what you actually expect is a Set implementing som order.</p>\n"},{"comments":[{"owner":{"account_id":4310371,"reputation":497,"user_id":3522053,"display_name":"Matej Snoha"},"score":1,"creation_date":1439634845,"post_id":31749969,"comment_id":51949229,"body_markdown":"Just noting that calling remove() on the Iterator will break things in both implementations. If you do not wish to implement the removal, just `return Collections.unmodifiableList(list).iterator();` which throws UnsupportedOperationException on Iterator remove() and is fast (doesn&#39;t copy list data).","body":"Just noting that calling remove() on the Iterator will break things in both implementations. If you do not wish to implement the removal, just <code>return Collections.unmodifiableList(list).iterator();</code> which throws UnsupportedOperationException on Iterator remove() and is fast (doesn&#39;t copy list data)."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1439646549,"post_id":31749969,"comment_id":51952320,"body_markdown":"@MatejSnoha Perhaps, maybe one needs to provide a custom iterator as well. Maybe that can come up someday, but don&#39;t have the need right now.","body":"@MatejSnoha Perhaps, maybe one needs to provide a custom iterator as well. Maybe that can come up someday, but don&#39;t have the need right now."},{"owner":{"account_id":990800,"reputation":2791,"user_id":1858296,"accept_rate":62,"display_name":"Arturo Torres S&#225;nchez"},"score":7,"creation_date":1462638817,"post_id":31749969,"comment_id":61725678,"body_markdown":"Maybe I&#39;m confused, but I don&#39;t see an `indexOf` method in your implementations, which is what the question is asking.","body":"Maybe I&#39;m confused, but I don&#39;t see an <code>indexOf</code> method in your implementations, which is what the question is asking."}],"tags":[],"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1438361150,"creation_date":1438356778,"answer_id":31749969,"question_id":7069052,"body_markdown":"Here is an implementation that does insertions, removals, retainings, backed by an arraylist to achieve o(1) on get(index). \r\n    \r\n    /**\r\n     * @Author Mo. Joseph\r\n     *\r\n     * Allows you to call get with o(1) instead of o(n) to get an instance by index\r\n     */\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\r\n                    super(initialCapacity, loadFactor);\r\n            }\r\n            public $IndexLinkedHashSet() {\r\n                    super();\r\n            }\r\n            public $IndexLinkedHashSet(int initialCapacity) {\r\n                    super(initialCapacity);\r\n            }\r\n            public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\r\n                    super(c);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean add(E e) {\r\n                    if ( super.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean remove(Object o) {\r\n                    if ( super.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized void clear() {\r\n                    super.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( super.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( super.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            /**\r\n             * Copied from super class\r\n             */\r\n            @Override\r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n    }\r\n\r\nTo test it: \r\n\r\n    public static void main(String[] args) {\r\n            \r\n            $IndexLinkedHashSet&lt;String&gt; abc = new $IndexLinkedHashSet&lt;String&gt;();\r\n            abc.add(&quot;8&quot;);\r\n            abc.add(&quot;8&quot;);\r\n            abc.add(&quot;8&quot;);\r\n            abc.add(&quot;2&quot;);\r\n            abc.add(&quot;3&quot;);\r\n            abc.add(&quot;4&quot;);\r\n            abc.add(&quot;1&quot;);\r\n            abc.add(&quot;5&quot;);\r\n            abc.add(&quot;8&quot;);\r\n            \r\n            System.out.println(&quot;Size: &quot; + abc.size());\r\n            int i = 0;\r\n            while ( i &lt; abc.size()) {\r\n                    System.out.println( abc.get(i) );\r\n                    i++;\r\n            }\r\n            \r\n            abc.remove(&quot;8&quot;);\r\n            abc.remove(&quot;5&quot;);\r\n            \r\n            System.out.println(&quot;Size: &quot; + abc.size());\r\n            i = 0;\r\n            while ( i &lt; abc.size()) {\r\n                    System.out.println( abc.get(i) );\r\n                    i++;\r\n            }\r\n            \r\n            abc.clear();\r\n            \r\n            System.out.println(&quot;Size: &quot; + abc.size());\r\n            i = 0;\r\n            while ( i &lt; abc.size()) {\r\n                    System.out.println( abc.get(i) );\r\n                    i++;\r\n            }\r\n            \r\n    }\r\n\r\nWhich outputs: \r\n\r\n    Size: 6\r\n    8\r\n    2\r\n    3\r\n    4\r\n    1\r\n    5\r\n    Size: 4\r\n    2\r\n    3\r\n    4\r\n    1\r\n    Size: 0\r\n\r\nOfcourse remove, removeAll, retainAll now has the same or worse performance as ArrayList. But I do not use them and so I am ok with that.\r\n\r\nEnjoy!\r\n\r\n\r\n\r\n**EDIT:**\r\n\r\nHere is **another implementation**, which does not extend LinkedHashSet because that&#39;s redundant. Instead it uses a HashSet and an ArrayList. \r\n\r\n    /**\r\n     * @Author Mo. Joseph\r\n     *\r\n     * Allows you to call get with o(1) instead of o(n) to get an instance by index\r\n     */\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\r\n            private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\r\n    \r\n            public synchronized boolean add(E e) {\r\n                    if ( set.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean remove(Object o) {\r\n                    if ( set.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean containsAll(Collection&lt;?&gt; c) {\r\n                    return set.containsAll(c);\r\n            }\r\n    \r\n            public synchronized void clear() {\r\n                    set.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n    \r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( set.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( set.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized int size() {\r\n                    return set.size();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean isEmpty() {\r\n                    return set.isEmpty();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean contains(Object o) {\r\n                    return set.contains(o);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Iterator&lt;E&gt; iterator() {\r\n                    return list.iterator();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Object[] toArray() {\r\n                    return list.toArray();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized &lt;T&gt; T[] toArray(T[] a) {\r\n                    return list.toArray(a);\r\n            }\r\n    }\r\n\r\nNow you have two implementations, I would prefer the second one. ","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>Here is an implementation that does insertions, removals, retainings, backed by an arraylist to achieve o(1) on get(index). </p>\n\n<pre><code>/**\n * @Author Mo. Joseph\n *\n * Allows you to call get with o(1) instead of o(n) to get an instance by index\n */\npublic static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\n\n        public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\n                super(initialCapacity, loadFactor);\n        }\n        public $IndexLinkedHashSet() {\n                super();\n        }\n        public $IndexLinkedHashSet(int initialCapacity) {\n                super(initialCapacity);\n        }\n        public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\n                super(c);\n        }\n\n        @Override\n        public synchronized boolean add(E e) {\n                if ( super.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized boolean remove(Object o) {\n                if ( super.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized void clear() {\n                super.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n\n        @Override\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( super.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        @Override\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( super.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        /**\n         * Copied from super class\n         */\n        @Override\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n}\n</code></pre>\n\n<p>To test it: </p>\n\n<pre><code>public static void main(String[] args) {\n\n        $IndexLinkedHashSet&lt;String&gt; abc = new $IndexLinkedHashSet&lt;String&gt;();\n        abc.add(\"8\");\n        abc.add(\"8\");\n        abc.add(\"8\");\n        abc.add(\"2\");\n        abc.add(\"3\");\n        abc.add(\"4\");\n        abc.add(\"1\");\n        abc.add(\"5\");\n        abc.add(\"8\");\n\n        System.out.println(\"Size: \" + abc.size());\n        int i = 0;\n        while ( i &lt; abc.size()) {\n                System.out.println( abc.get(i) );\n                i++;\n        }\n\n        abc.remove(\"8\");\n        abc.remove(\"5\");\n\n        System.out.println(\"Size: \" + abc.size());\n        i = 0;\n        while ( i &lt; abc.size()) {\n                System.out.println( abc.get(i) );\n                i++;\n        }\n\n        abc.clear();\n\n        System.out.println(\"Size: \" + abc.size());\n        i = 0;\n        while ( i &lt; abc.size()) {\n                System.out.println( abc.get(i) );\n                i++;\n        }\n\n}\n</code></pre>\n\n<p>Which outputs: </p>\n\n<pre><code>Size: 6\n8\n2\n3\n4\n1\n5\nSize: 4\n2\n3\n4\n1\nSize: 0\n</code></pre>\n\n<p>Ofcourse remove, removeAll, retainAll now has the same or worse performance as ArrayList. But I do not use them and so I am ok with that.</p>\n\n<p>Enjoy!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is <strong>another implementation</strong>, which does not extend LinkedHashSet because that's redundant. Instead it uses a HashSet and an ArrayList. </p>\n\n<pre><code>/**\n * @Author Mo. Joseph\n *\n * Allows you to call get with o(1) instead of o(n) to get an instance by index\n */\npublic static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\n        private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\n\n        public synchronized boolean add(E e) {\n                if ( set.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        public synchronized boolean remove(Object o) {\n                if ( set.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public boolean containsAll(Collection&lt;?&gt; c) {\n                return set.containsAll(c);\n        }\n\n        public synchronized void clear() {\n                set.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( set.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( set.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n        @Override\n        public synchronized int size() {\n                return set.size();\n        }\n\n        @Override\n        public synchronized boolean isEmpty() {\n                return set.isEmpty();\n        }\n\n        @Override\n        public synchronized boolean contains(Object o) {\n                return set.contains(o);\n        }\n\n        @Override\n        public synchronized Iterator&lt;E&gt; iterator() {\n                return list.iterator();\n        }\n\n        @Override\n        public synchronized Object[] toArray() {\n                return list.toArray();\n        }\n\n        @Override\n        public synchronized &lt;T&gt; T[] toArray(T[] a) {\n                return list.toArray(a);\n        }\n}\n</code></pre>\n\n<p>Now you have two implementations, I would prefer the second one. </p>\n"},{"comments":[{"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"score":0,"creation_date":1617121462,"post_id":58938873,"comment_id":118212532,"body_markdown":"@dyno-chris I am sure the person asking question knows how to create ArrayList from set and question was specifically  find index without iteration. You are iterating ArrayList instead of set. Second problem is if the set is large then you will be wasting lots of memory.","body":"@dyno-chris I am sure the person asking question knows how to create ArrayList from set and question was specifically  find index without iteration. You are iterating ArrayList instead of set. Second problem is if the set is large then you will be wasting lots of memory."},{"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"score":0,"creation_date":1617121862,"post_id":58938873,"comment_id":118212675,"body_markdown":"The questioner was clear. &quot;The following works fine .. with this question i wonder if there is a better way&quot;","body":"The questioner was clear. &quot;The following works fine .. with this question i wonder if there is a better way&quot;"}],"tags":[],"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1617108810,"creation_date":1574181328,"answer_id":58938873,"question_id":7069052,"body_markdown":"You can convert your Set to List then you can do any indexing operations.\r\n\r\nExample: need to crop Set list to 5 items.\r\n\r\n\r\n            Set&lt;String&gt; listAsLinkedHashSet = new LinkedHashSet&lt;&gt;();\r\n            listAsLinkedHashSet.add(&quot;1&quot;);\r\n            listAsLinkedHashSet.add(&quot;2&quot;);\r\n            listAsLinkedHashSet.add(&quot;3&quot;);\r\n            listAsLinkedHashSet.add(&quot;4&quot;);\r\n            listAsLinkedHashSet.add(&quot;1&quot;);\r\n            listAsLinkedHashSet.add(&quot;2&quot;);\r\n            listAsLinkedHashSet.add(&quot;5&quot;);\r\n            listAsLinkedHashSet.add(&quot;7&quot;);\r\n            listAsLinkedHashSet.add(&quot;9&quot;);\r\n            listAsLinkedHashSet.add(&quot;8&quot;);\r\n            listAsLinkedHashSet.add(&quot;1&quot;);\r\n            listAsLinkedHashSet.add(&quot;10&quot;);\r\n            listAsLinkedHashSet.add(&quot;11&quot;);\r\n    \r\n            List&lt;String&gt; listAsArrayList = new ArrayList&lt;&gt;(listAsLinkedHashSet);\r\n            //crop list to 5 elements\r\n            if (listAsArrayList.size() &gt; 5) {\r\n                for (int i = 5; i &lt; listAsArrayList.size(); i++) {\r\n                    listAsArrayList.remove(i);\r\n                    i--;\r\n                }\r\n            }\r\n            listAsLinkedHashSet.clear();\r\n            listAsLinkedHashSet.addAll(listAsArrayList);","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>You can convert your Set to List then you can do any indexing operations.</p>\n<p>Example: need to crop Set list to 5 items.</p>\n<pre><code>        Set&lt;String&gt; listAsLinkedHashSet = new LinkedHashSet&lt;&gt;();\n        listAsLinkedHashSet.add(&quot;1&quot;);\n        listAsLinkedHashSet.add(&quot;2&quot;);\n        listAsLinkedHashSet.add(&quot;3&quot;);\n        listAsLinkedHashSet.add(&quot;4&quot;);\n        listAsLinkedHashSet.add(&quot;1&quot;);\n        listAsLinkedHashSet.add(&quot;2&quot;);\n        listAsLinkedHashSet.add(&quot;5&quot;);\n        listAsLinkedHashSet.add(&quot;7&quot;);\n        listAsLinkedHashSet.add(&quot;9&quot;);\n        listAsLinkedHashSet.add(&quot;8&quot;);\n        listAsLinkedHashSet.add(&quot;1&quot;);\n        listAsLinkedHashSet.add(&quot;10&quot;);\n        listAsLinkedHashSet.add(&quot;11&quot;);\n\n        List&lt;String&gt; listAsArrayList = new ArrayList&lt;&gt;(listAsLinkedHashSet);\n        //crop list to 5 elements\n        if (listAsArrayList.size() &gt; 5) {\n            for (int i = 5; i &lt; listAsArrayList.size(); i++) {\n                listAsArrayList.remove(i);\n                i--;\n            }\n        }\n        listAsLinkedHashSet.clear();\n        listAsLinkedHashSet.addAll(listAsArrayList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29112889,"reputation":99,"user_id":22302305,"display_name":"M. R. M."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695725174,"creation_date":1695724825,"answer_id":77179230,"question_id":7069052,"body_markdown":"I modified the [mjs&#39;s solution][1] to accommodate `indexOf()`\r\n\r\n**Implementation 1:**\r\n\r\n    /**\r\n     * @Author Mo. Joseph\r\n     *\r\n     * Allows you to call get with o(1) instead of o(n) to get an instance by index\r\n     */\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\r\n                    super(initialCapacity, loadFactor);\r\n            }\r\n            public $IndexLinkedHashSet() {\r\n                    super();\r\n            }\r\n            public $IndexLinkedHashSet(int initialCapacity) {\r\n                    super(initialCapacity);\r\n            }\r\n            public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\r\n                    super(c);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean add(E e) {\r\n                    if ( super.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean remove(Object o) {\r\n                    if ( super.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized void clear() {\r\n                    super.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n            \r\n            \r\n            // Added this function\r\n            public synchronized int indexOf(E element) {\r\n                    return list.indexOf(element);\r\n            }\r\n            //\r\n    \r\n    \r\n            @Override\r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( super.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( super.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            /**\r\n             * Copied from super class\r\n             */\r\n            @Override\r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n    }\r\n\r\n**Implementation 2:**\r\n\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\r\n            private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\r\n    \r\n            public synchronized boolean add(E e) {\r\n                    if ( set.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean remove(Object o) {\r\n                    if ( set.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean containsAll(Collection&lt;?&gt; c) {\r\n                    return set.containsAll(c);\r\n            }\r\n    \r\n            public synchronized void clear() {\r\n                    set.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n            \r\n            \r\n            // Added this function\r\n            public synchronized int indexOf(E element) {\r\n                    return list.indexOf(element);\r\n            }\r\n            //\r\n            \r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( set.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( set.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized int size() {\r\n                    return set.size();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean isEmpty() {\r\n                    return set.isEmpty();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean contains(Object o) {\r\n                    return set.contains(o);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Iterator&lt;E&gt; iterator() {\r\n                    return list.iterator();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Object[] toArray() {\r\n                    return list.toArray();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized &lt;T&gt; T[] toArray(T[] a) {\r\n                    return list.toArray(a);\r\n            }\r\n    }\r\n\r\n\r\nExample:\r\n\r\n      public static void main (String[]args)\r\n      {\r\n        $IndexLinkedHashSet&lt;String&gt; names = new $IndexLinkedHashSet&lt;String&gt;();\r\n        names.add(&quot;Mike&quot;);\r\n        names.add(&quot;John&quot;);\r\n        names.add(&quot;Karen&quot;);\r\n        \r\n        System.out.println(&quot;what&#39;s the index of John? &quot;+names.indexOf(&quot;John&quot;)); // 1\r\n        System.out.println(&quot;Who comes after John? &quot;+names.get(names.indexOf(&quot;John&quot;)+1)); // Karen\r\n      }\r\n\r\n  [1]: https://stackoverflow.com/a/31749969/22302305","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>I modified the <a href=\"https://stackoverflow.com/a/31749969/22302305\">mjs's solution</a> to accommodate <code>indexOf()</code></p>\n<p><strong>Implementation 1:</strong></p>\n<pre><code>/**\n * @Author Mo. Joseph\n *\n * Allows you to call get with o(1) instead of o(n) to get an instance by index\n */\npublic static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\n\n        public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\n                super(initialCapacity, loadFactor);\n        }\n        public $IndexLinkedHashSet() {\n                super();\n        }\n        public $IndexLinkedHashSet(int initialCapacity) {\n                super(initialCapacity);\n        }\n        public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\n                super(c);\n        }\n\n        @Override\n        public synchronized boolean add(E e) {\n                if ( super.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized boolean remove(Object o) {\n                if ( super.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized void clear() {\n                super.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n        \n        \n        // Added this function\n        public synchronized int indexOf(E element) {\n                return list.indexOf(element);\n        }\n        //\n\n\n        @Override\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( super.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        @Override\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( super.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        /**\n         * Copied from super class\n         */\n        @Override\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n}\n</code></pre>\n<p><strong>Implementation 2:</strong></p>\n<pre><code>public static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\n        private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\n\n        public synchronized boolean add(E e) {\n                if ( set.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        public synchronized boolean remove(Object o) {\n                if ( set.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public boolean containsAll(Collection&lt;?&gt; c) {\n                return set.containsAll(c);\n        }\n\n        public synchronized void clear() {\n                set.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n        \n        \n        // Added this function\n        public synchronized int indexOf(E element) {\n                return list.indexOf(element);\n        }\n        //\n        \n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( set.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( set.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n        @Override\n        public synchronized int size() {\n                return set.size();\n        }\n\n        @Override\n        public synchronized boolean isEmpty() {\n                return set.isEmpty();\n        }\n\n        @Override\n        public synchronized boolean contains(Object o) {\n                return set.contains(o);\n        }\n\n        @Override\n        public synchronized Iterator&lt;E&gt; iterator() {\n                return list.iterator();\n        }\n\n        @Override\n        public synchronized Object[] toArray() {\n                return list.toArray();\n        }\n\n        @Override\n        public synchronized &lt;T&gt; T[] toArray(T[] a) {\n                return list.toArray(a);\n        }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>  public static void main (String[]args)\n  {\n    $IndexLinkedHashSet&lt;String&gt; names = new $IndexLinkedHashSet&lt;String&gt;();\n    names.add(&quot;Mike&quot;);\n    names.add(&quot;John&quot;);\n    names.add(&quot;Karen&quot;);\n    \n    System.out.println(&quot;what's the index of John? &quot;+names.indexOf(&quot;John&quot;)); // 1\n    System.out.println(&quot;Who comes after John? &quot;+names.get(names.indexOf(&quot;John&quot;)+1)); // Karen\n  }\n</code></pre>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53855,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":7069150,"answer_count":8,"score":30,"last_activity_date":1695725174,"creation_date":1313433279,"question_id":7069052,"body_markdown":"Is it even possible?\r\n\r\nSay you have \r\n\r\n    private Set&lt;String&gt; names = new LinkedHashSet&lt;String&gt;();\r\n\r\nand `Strings` are &quot;Mike&quot;, &quot;John&quot;, &quot;Karen&quot;.\r\n\r\nIs it possible to get &quot;1&quot; in return to &quot;what&#39;s the index of &quot;John&quot; without iteration?\r\n\r\nThe following works fine .. with this question i wonder if there is a better way\r\n\r\n\r\n\tfor (String s : names) {\r\n\t    ++i;\r\n\t    if (s.equals(someRandomInputString)) {\r\n\t\t    break;\r\n\t    }\r\n\t}\r\n","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>Is it even possible?</p>\n\n<p>Say you have </p>\n\n<pre><code>private Set&lt;String&gt; names = new LinkedHashSet&lt;String&gt;();\n</code></pre>\n\n<p>and <code>Strings</code> are \"Mike\", \"John\", \"Karen\".</p>\n\n<p>Is it possible to get \"1\" in return to \"what's the index of \"John\" without iteration?</p>\n\n<p>The following works fine .. with this question i wonder if there is a better way</p>\n\n<pre><code>for (String s : names) {\n    ++i;\n    if (s.equals(someRandomInputString)) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1695725511,"post_id":77179243,"comment_id":136059944,"body_markdown":"Looks like your Spring version isn&#39;t compatible with Hibernate 6.3.1. Tried the same version of Hibernate with Spring Boot 3.1.3/Spring Framework 6.0.11 last week and ended up switching back to Hibernate 6.2.8.","body":"Looks like your Spring version isn&#39;t compatible with Hibernate 6.3.1. Tried the same version of Hibernate with Spring Boot 3.1.3/Spring Framework 6.0.11 last week and ended up switching back to Hibernate 6.2.8."},{"owner":{"account_id":16236497,"reputation":199,"user_id":11723872,"display_name":"orid"},"score":0,"creation_date":1701935179,"post_id":77179243,"comment_id":136837017,"body_markdown":"@Karsten - how did you switch back to hibernate 6.2.8 ?","body":"@Karsten - how did you switch back to hibernate 6.2.8 ?"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1702115064,"post_id":77179243,"comment_id":136859529,"body_markdown":"I&#39;m using Maven. In Eclipse I checked which Hibernate dependencies are drawn by Spring (with spring-boot:3.1.3: hibernate-core:6.2.7 and hibernate-commons-annotations:6.0.6). Because there wasn&#39;t a newer version for the annotations lib I only added hibernate-core:6.2.8 to my pom.","body":"I&#39;m using Maven. In Eclipse I checked which Hibernate dependencies are drawn by Spring (with spring-boot:3.1.3: hibernate-core:6.2.7 and hibernate-commons-annotations:6.0.6). Because there wasn&#39;t a newer version for the annotations lib I only added hibernate-core:6.2.8 to my pom."}],"owner":{"account_id":22843508,"reputation":11,"user_id":16990142,"display_name":"devendra patidar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695724955,"creation_date":1695724955,"question_id":77179243,"body_markdown":"\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\r\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)\r\nat java.base/java.lang.Class.getConstructor0(Class.java:3578)\r\nat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)\r\nat org.hibernate.internal.util.ReflectHelper.getConstructor(ReflectHelper.java:350)\r\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:34)\r\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:53)\r\n- at org.springframework.orm.hibernate5.SpringBeanContainer.createBean(SpringBeanContainer.java:208)\r\nat org.springframework.orm.hibernate5.SpringBeanContainer.getBean(SpringBeanContainer.java:124)\r\nat org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl.getBean(ManagedBeanRegistryImpl.java:110)\r\nat org.hibernate.mapping.BasicValue.setExplicitCustomType(BasicValue.java:825)\r\nat org.hibernate.cfg.annotations.BasicValueBinder.fillSimpleValue(BasicValueBinder.java:1238)\r\nat org.hibernate.cfg.SetBasicValueTypeSecondPass.doSecondPass(SetBasicValueTypeSecondPass.java:26)\r\n```\r\nNote: I am using Hibernate Core 6.3.1 Final.\r\nAnd hypersistence-utils-hibernate-62:3.5.3\r\nDependency\r\nI am seeking assistance to resolve this issue. Any help or guidance would be greatly appreciated.\r\n- Thank you!\r\n","title":"Hibernate 6.3.1 Final getting NoClassDefFoundError for org/hibernate/type/descriptor/converter/spi/EnumValueConverter","body":"<pre><code>Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)\nat java.base/java.lang.Class.getConstructor0(Class.java:3578)\nat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)\nat org.hibernate.internal.util.ReflectHelper.getConstructor(ReflectHelper.java:350)\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:34)\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:53)\n- at org.springframework.orm.hibernate5.SpringBeanContainer.createBean(SpringBeanContainer.java:208)\nat org.springframework.orm.hibernate5.SpringBeanContainer.getBean(SpringBeanContainer.java:124)\nat org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl.getBean(ManagedBeanRegistryImpl.java:110)\nat org.hibernate.mapping.BasicValue.setExplicitCustomType(BasicValue.java:825)\nat org.hibernate.cfg.annotations.BasicValueBinder.fillSimpleValue(BasicValueBinder.java:1238)\nat org.hibernate.cfg.SetBasicValueTypeSecondPass.doSecondPass(SetBasicValueTypeSecondPass.java:26)\n</code></pre>\n<p>Note: I am using Hibernate Core 6.3.1 Final.\nAnd hypersistence-utils-hibernate-62:3.5.3\nDependency\nI am seeking assistance to resolve this issue. Any help or guidance would be greatly appreciated.</p>\n<ul>\n<li>Thank you!</li>\n</ul>\n"},{"tags":["java","spring","http-status-code-404"],"answers":[{"comments":[{"owner":{"account_id":29536809,"reputation":1,"user_id":22636275,"display_name":"aleshkey"},"score":0,"creation_date":1695721597,"post_id":77178730,"comment_id":136059197,"body_markdown":"it didn&#39;t help)","body":"it didn&#39;t help)"}],"tags":[],"owner":{"account_id":26453216,"reputation":51,"user_id":20096126,"display_name":"明天见i"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695720678,"creation_date":1695720678,"answer_id":77178730,"question_id":77178533,"body_markdown":"Try adding a &#39;/&#39; at the end of the request url","title":"Why 404 error is returning, while getting right url, in spring MVC?","body":"<p>Try adding a '/' at the end of the request url</p>\n"},{"tags":[],"owner":{"account_id":23576127,"reputation":1,"user_id":17615764,"display_name":"wangjinguang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695724809,"creation_date":1695724809,"answer_id":77179228,"question_id":77178533,"body_markdown":"Try listing all registered request mappings in the log at application startup.","title":"Why 404 error is returning, while getting right url, in spring MVC?","body":"<p>Try listing all registered request mappings in the log at application startup.</p>\n"}],"owner":{"account_id":29536809,"reputation":1,"user_id":22636275,"display_name":"aleshkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695724809,"creation_date":1695719042,"question_id":77178533,"body_markdown":"i&#39;ve have started lerning spring and have created simple spring mvc app.\r\nthis is my config and controller:\r\n\r\nSpringCongig:\r\n\r\n``` lang-java\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;exhibition&quot;)\r\npublic class SpringConfig implements WebMvcConfigurer {\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(applicationContext);\r\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.setEnableSpringELCompiler(true);\r\n        return templateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        registry.viewResolver(resolver);\r\n    }\r\n}\r\n```\r\n\r\nSpringServletInitializer:\r\n\r\n``` lang-java\r\npublic class SpringServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] {SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[] {&quot;/&quot;};\r\n    }\r\n}\r\n```\r\n\r\nController:\r\n\r\n```lang-java\r\n@Controller\r\n@RequestMapping(&quot;/halls&quot;)\r\npublic class HallController {\r\n    @GetMapping()\r\n    public String index(){\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nindex.html:\r\n\r\n```lang-html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;halls&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;\r\n    Hello world!\r\n&lt;/h2&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nBut when i folow &quot;/halls&quot;, i always get 404 error. But earlier when i use the same configs all was good. idk what happend. Server setting was the same and ide too. I&#39;m using tomcat 9.0.65.","title":"Why 404 error is returning, while getting right url, in spring MVC?","body":"<p>i've have started lerning spring and have created simple spring mvc app.\nthis is my config and controller:</p>\n<p>SpringCongig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;exhibition&quot;)\npublic class SpringConfig implements WebMvcConfigurer {\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n}\n</code></pre>\n<p>SpringServletInitializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpringServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/halls&quot;)\npublic class HallController {\n    @GetMapping()\n    public String index(){\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>index.html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;halls&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;\n    Hello world!\n&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But when i folow &quot;/halls&quot;, i always get 404 error. But earlier when i use the same configs all was good. idk what happend. Server setting was the same and ide too. I'm using tomcat 9.0.65.</p>\n"},{"tags":["java","apache-poi","openxml","openxml-sdk"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1604868874,"post_id":64710327,"comment_id":114471715,"body_markdown":"https://poi.apache.org/components/slideshow/xslf-cookbook.html highlights the PPTX2PNG sample","body":"<a href=\"https://poi.apache.org/components/slideshow/xslf-cookbook.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/slideshow/xslf-cookbook.html</a> highlights the PPTX2PNG sample"},{"owner":{"account_id":3769282,"reputation":998,"user_id":3131918,"display_name":"Aditya Bhave"},"score":0,"creation_date":1604905687,"post_id":64710327,"comment_id":114478788,"body_markdown":"@PJFanning I have already tried PPTX2PNG. It converts slide to png but not with animations. It gives a static image of the slide. I want the animations. So, if the image could be provided after each animation frame, that will work for me. But that is not possible with PPTX2PNG.","body":"@PJFanning I have already tried PPTX2PNG. It converts slide to png but not with animations. It gives a static image of the slide. I want the animations. So, if the image could be provided after each animation frame, that will work for me. But that is not possible with PPTX2PNG."}],"answers":[{"tags":[],"owner":{"account_id":22639114,"reputation":64,"user_id":16815548,"display_name":"Andrey P."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695724491,"creation_date":1695724491,"answer_id":77179190,"question_id":64710327,"body_markdown":"To convert a PowerPoint presentation to a video with shape animations and slide transitions, you can use [Aspose.Slides for Java](https://products.aspose.com/slides/java/). This library allows generate a set of frames for an entire animation with a specific frame per second (FPS). Those frames can then be used to create a video through tools like FFmpeg.\r\n```java\r\nfinal int FPS = 30;\r\nPresentation presentation = new Presentation(&quot;animated.pptx&quot;);\r\ntry {\r\n    PresentationAnimationsGenerator animationsGenerator = new PresentationAnimationsGenerator(presentation);\r\n    try {\r\n        PresentationPlayer player = new PresentationPlayer(animationsGenerator, FPS);\r\n        try {\r\n            player.setFrameTick((sender, args) -&gt;\r\n            {\r\n                try {\r\n                    ImageIO.write(args.getFrame(), &quot;PNG&quot;, new File(&quot;frame_&quot; + sender.getFrameIndex() + &quot;.png&quot;));\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            animationsGenerator.run(presentation.getSlides());\r\n        } finally {\r\n            if (player != null) player.dispose();\r\n        }\r\n    } finally {\r\n        if (animationsGenerator != null) animationsGenerator.dispose();\r\n    }\r\n} finally {\r\n    if (presentation != null) presentation.dispose();\r\n}\r\n```\r\nYou can find out more details [here](https://docs.aspose.com/slides/java/convert-powerpoint-to-video/).","title":"How to export powerpoint (pptx) to video with animations programmatically using Java","body":"<p>To convert a PowerPoint presentation to a video with shape animations and slide transitions, you can use <a href=\"https://products.aspose.com/slides/java/\" rel=\"nofollow noreferrer\">Aspose.Slides for Java</a>. This library allows generate a set of frames for an entire animation with a specific frame per second (FPS). Those frames can then be used to create a video through tools like FFmpeg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int FPS = 30;\nPresentation presentation = new Presentation(&quot;animated.pptx&quot;);\ntry {\n    PresentationAnimationsGenerator animationsGenerator = new PresentationAnimationsGenerator(presentation);\n    try {\n        PresentationPlayer player = new PresentationPlayer(animationsGenerator, FPS);\n        try {\n            player.setFrameTick((sender, args) -&gt;\n            {\n                try {\n                    ImageIO.write(args.getFrame(), &quot;PNG&quot;, new File(&quot;frame_&quot; + sender.getFrameIndex() + &quot;.png&quot;));\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            animationsGenerator.run(presentation.getSlides());\n        } finally {\n            if (player != null) player.dispose();\n        }\n    } finally {\n        if (animationsGenerator != null) animationsGenerator.dispose();\n    }\n} finally {\n    if (presentation != null) presentation.dispose();\n}\n</code></pre>\n<p>You can find out more details <a href=\"https://docs.aspose.com/slides/java/convert-powerpoint-to-video/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3769282,"reputation":998,"user_id":3131918,"display_name":"Aditya Bhave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695724491,"creation_date":1604647126,"question_id":64710327,"body_markdown":"I am trying to export powerpoint presentation to video programmatically. I have tried following.\r\n\r\n 1. Open pptx file using `org.apache.poixslf.usermodel.SlideShow`\r\n 2. Update the slides as per requirement\r\n 3. Create image for each slide (using `slide.draw()`)\r\n 4. Create a video by appending slide images one after the other\r\n\r\nThe code is generating a video. The video is collection of static images of slides. The problem is the animations contained in a slide is not present in the video. \r\n\r\nIs there any way to get the animations exported in the video using apache.poi or any other option ?","title":"How to export powerpoint (pptx) to video with animations programmatically using Java","body":"<p>I am trying to export powerpoint presentation to video programmatically. I have tried following.</p>\n<ol>\n<li>Open pptx file using <code>org.apache.poixslf.usermodel.SlideShow</code></li>\n<li>Update the slides as per requirement</li>\n<li>Create image for each slide (using <code>slide.draw()</code>)</li>\n<li>Create a video by appending slide images one after the other</li>\n</ol>\n<p>The code is generating a video. The video is collection of static images of slides. The problem is the animations contained in a slide is not present in the video.</p>\n<p>Is there any way to get the animations exported in the video using apache.poi or any other option ?</p>\n"},{"tags":["java","linux","java-home","path-variables"],"answers":[{"comments":[{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":1,"creation_date":1500436168,"post_id":24641633,"comment_id":77329457,"body_markdown":"at least in my linux (raspbian), /etc/profile will source `/etc/profile.d/*.sh` so your file needs to be called `jdk_home.sh` so it gets sourced","body":"at least in my linux (raspbian), /etc/profile will source <code>&#47;etc&#47;profile.d&#47;*.sh</code> so your file needs to be called <code>jdk_home.sh</code> so it gets sourced"},{"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"score":0,"creation_date":1500446068,"post_id":24641633,"comment_id":77333148,"body_markdown":"Thanks @Hilikus :-) I changed it accordingly.","body":"Thanks @Hilikus :-) I changed it accordingly."},{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":2,"creation_date":1500477303,"post_id":24641633,"comment_id":77356704,"body_markdown":"Thank you. i did a mix of your and @Eero&#39;s answer for the best of both worlds ;)","body":"Thank you. i did a mix of your and @Eero&#39;s answer for the best of both worlds ;)"},{"owner":{"account_id":8631943,"reputation":4386,"user_id":6463291,"display_name":"Ng Sek Long"},"score":1,"creation_date":1569574500,"post_id":24641633,"comment_id":102649164,"body_markdown":"`/etc/profile.d/jdk_home.sh` is the much more clean answer, at least for **Ubuntu** , `/etc/profile` is clumped with so much logic already. Didn&#39;t seems wise to add more onto it...","body":"<code>&#47;etc&#47;profile.d&#47;jdk_home.sh</code> is the much more clean answer, at least for <b>Ubuntu</b> , <code>&#47;etc&#47;profile</code> is clumped with so much logic already. Didn&#39;t seems wise to add more onto it..."}],"tags":[],"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"comment_count":4,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1500445972,"creation_date":1404853635,"answer_id":24641633,"question_id":24641536,"body_markdown":"You could use /etc/profile or better a file like /etc/profile.d/jdk_home.sh\r\n\r\n    export JAVA_HOME=/usr/java/jdk1.7.0_05/\r\n\r\nYou have to remember that this file is only loaded with new login shells.. So after bash -l or a new gnome-session and that it doesn&#39;t change with new Java versions.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>You could use /etc/profile or better a file like /etc/profile.d/jdk_home.sh</p>\n\n<pre><code>export JAVA_HOME=/usr/java/jdk1.7.0_05/\n</code></pre>\n\n<p>You have to remember that this file is only loaded with new login shells.. So after bash -l or a new gnome-session and that it doesn't change with new Java versions.</p>\n"},{"comments":[{"owner":{"account_id":2382052,"reputation":6280,"user_id":2083877,"accept_rate":100,"display_name":"Sunil Kumar"},"score":43,"creation_date":1421163836,"post_id":24641640,"comment_id":44248806,"body_markdown":"don&#39;t forget to delete the double quotes and recreate them from your keyboard, because only copying and pasting may create troubles.","body":"don&#39;t forget to delete the double quotes and recreate them from your keyboard, because only copying and pasting may create troubles."},{"owner":{"account_id":1698675,"reputation":8901,"user_id":1559401,"accept_rate":83,"display_name":"rbaleksandar"},"score":0,"creation_date":1425494420,"post_id":24641640,"comment_id":45989798,"body_markdown":"I do believe you can skip the &quot;export JAVA_HOME&quot; part and simply do an &quot;export PATH=$PATH:/path_to_java/bin&quot;. I haven&#39;t had a problem so far when not defining JAVA_HOME but maybe it&#39;s just pure luck on my part.","body":"I do believe you can skip the &quot;export JAVA_HOME&quot; part and simply do an &quot;export PATH=$PATH:/path_to_java/bin&quot;. I haven&#39;t had a problem so far when not defining JAVA_HOME but maybe it&#39;s just pure luck on my part."},{"owner":{"account_id":416171,"reputation":31427,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":18,"creation_date":1437963340,"post_id":24641640,"comment_id":51234713,"body_markdown":"@rbaleksandar some applications depend on `JAVA_HOME`, doesn&#39;t hurt setting it up too.","body":"@rbaleksandar some applications depend on <code>JAVA_HOME</code>, doesn&#39;t hurt setting it up too."},{"owner":{"account_id":1698675,"reputation":8901,"user_id":1559401,"accept_rate":83,"display_name":"rbaleksandar"},"score":0,"creation_date":1437985110,"post_id":24641640,"comment_id":51241940,"body_markdown":"Maybe, never encountered such an application.","body":"Maybe, never encountered such an application."},{"owner":{"account_id":6538977,"reputation":4382,"user_id":5057350,"display_name":"Pieter van den Ham"},"score":4,"creation_date":1438475661,"post_id":24641640,"comment_id":51466765,"body_markdown":"IntelliJ is such an application - and not a minor one.","body":"IntelliJ is such an application - and not a minor one."},{"owner":{"account_id":1006247,"reputation":15843,"user_id":1019952,"accept_rate":60,"display_name":"Mohamed Taher Alrefaie"},"score":24,"creation_date":1466758659,"post_id":24641640,"comment_id":63461803,"body_markdown":"You need to run `source /etc/profile` for changes to take effect immediately too!","body":"You need to run <code>source &#47;etc&#47;profile</code> for changes to take effect immediately too!"},{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":0,"creation_date":1512916418,"post_id":24641640,"comment_id":82439821,"body_markdown":"printenv JAVA_HOME to check the result afterward","body":"printenv JAVA_HOME to check the result afterward"},{"owner":{"account_id":2636146,"reputation":841,"user_id":2280764,"accept_rate":57,"display_name":"Brent Sandstrom"},"score":0,"creation_date":1520617882,"post_id":24641640,"comment_id":85403911,"body_markdown":"Make sure you don&#39;t already have these options in the file before you add them.","body":"Make sure you don&#39;t already have these options in the file before you add them."},{"owner":{"account_id":3305275,"reputation":814,"user_id":2780293,"display_name":"Rajesh Mbm"},"score":0,"creation_date":1521917362,"post_id":24641640,"comment_id":85939582,"body_markdown":"this is the right solution. In the next reboot changes picked automatically as expected. if you do the same changes in /etc/environment then changes will be for current session only. /etc/profile is right place to update paths permanently.","body":"this is the right solution. In the next reboot changes picked automatically as expected. if you do the same changes in /etc/environment then changes will be for current session only. /etc/profile is right place to update paths permanently."},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1527587385,"post_id":24641640,"comment_id":88171696,"body_markdown":"This doesn&#39;t work for my tomcat user. It can&#39;t resolve `$JAVA_HOME ` in its `/etc/init.d` startup script when set in this way.","body":"This doesn&#39;t work for my tomcat user. It can&#39;t resolve <code>$JAVA_HOME </code> in its <code>&#47;etc&#47;init.d</code> startup script when set in this way."},{"owner":{"account_id":2025289,"reputation":223,"user_id":3127619,"accept_rate":40,"display_name":"RocketRuwan"},"score":7,"creation_date":1549014430,"post_id":24641640,"comment_id":95760706,"body_markdown":"I think it is safe to mention how to save the updates you make by going into command mode by Pressing &quot;Esc&quot; and then typing &quot;:w&quot; and pressing &quot;Enter&quot;.","body":"I think it is safe to mention how to save the updates you make by going into command mode by Pressing &quot;Esc&quot; and then typing &quot;:w&quot; and pressing &quot;Enter&quot;."},{"owner":{"account_id":3206157,"reputation":603,"user_id":4676075,"display_name":"Hermann"},"score":1,"creation_date":1576189136,"post_id":24641640,"comment_id":104828893,"body_markdown":"This pointed me to the right direction. There actually was a stale `/etc/profile.d/jdk.sh` floating around in my system.","body":"This pointed me to the right direction. There actually was a stale <code>&#47;etc&#47;profile.d&#47;jdk.sh</code> floating around in my system."},{"owner":{"account_id":15292124,"reputation":86,"user_id":11033329,"display_name":"Talha Asghar"},"score":0,"creation_date":1638866442,"post_id":24641640,"comment_id":124195190,"body_markdown":"This method does not works if you are trying to make java available to a systemd service, `systemctl start &lt;your_application&gt;`. For that Use `Enviornment=&quot;JAVA_HOME=path_to_java&quot; ` in your `.service` file.","body":"This method does not works if you are trying to make java available to a systemd service, <code>systemctl start &lt;your_application&gt;</code>. For that Use <code>Enviornment=&quot;JAVA_HOME=path_to_java&quot; </code> in your <code>.service</code> file."},{"owner":{"account_id":8629822,"reputation":392,"user_id":6461839,"display_name":"leonidaa"},"score":0,"creation_date":1647269703,"post_id":24641640,"comment_id":126322648,"body_markdown":"you can use```update-java-alternatives -l```\nshows you all the Java versions you have installed.\n\nalternative to this\n\n```find /usr/lib/jvm/java-1.x.x-openjdk```","body":"you can use<code>update-java-alternatives -l</code> shows you all the Java versions you have installed.  alternative to this  <code>find &#47;usr&#47;lib&#47;jvm&#47;java-1.x.x-openjdk</code>"},{"owner":{"account_id":14320442,"reputation":461,"user_id":17779615,"display_name":"Susan"},"score":0,"creation_date":1660809550,"post_id":24641640,"comment_id":129621767,"body_markdown":"@TalhaAsghar, I am using linux aarch64 architecture. I am installing tensorflow from the bazel file. When I try to compile the bazel ./compile.sh, I got ```ERROR: JAVA_HOME (/usr/lib/jvm/java-11-openjdk-arm64/bin/java) is not a path to a working JDK.```. I follow your steps. ```printenv JAVA_HOME``` gives\n```/usr/lib/jvm/java-11-openjdk-arm64/bin/java```. Because ```ls -l /etc/alternatives/java``` gives```lrwxrwxrwx 1 root root 43 Aug 18 11:47 /etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-arm64/bin/java```","body":"@TalhaAsghar, I am using linux aarch64 architecture. I am installing tensorflow from the bazel file. When I try to compile the bazel ./compile.sh, I got <code>ERROR: JAVA_HOME (&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-arm64&#47;bin&#47;java) is not a path to a working JDK.</code>. I follow your steps. <code>printenv JAVA_HOME</code> gives <code>&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-arm64&#47;bin&#47;java</code>. Because <code>ls -l &#47;etc&#47;alternatives&#47;java</code> gives<code>lrwxrwxrwx 1 root root 43 Aug 18 11:47 &#47;etc&#47;alternatives&#47;java -&gt; &#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-arm64&#47;bin&#47;java</code>"},{"owner":{"account_id":14320442,"reputation":461,"user_id":17779615,"display_name":"Susan"},"score":0,"creation_date":1660809637,"post_id":24641640,"comment_id":129621790,"body_markdown":"But after rebooting the OS and compile the ./compile.sh file from the bazel folder, I got the same error of ```ERROR: JAVA_HOME (/usr/lib/jvm/java-11-openjdk-arm64/bin/java) is not a path to a working JDK.``` May  I know how can I solve the issue?","body":"But after rebooting the OS and compile the ./compile.sh file from the bazel folder, I got the same error of <code>ERROR: JAVA_HOME (&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-arm64&#47;bin&#47;java) is not a path to a working JDK.</code> May  I know how can I solve the issue?"},{"owner":{"account_id":20747001,"reputation":81,"user_id":15235392,"display_name":"adebayo10k"},"score":0,"creation_date":1660885027,"post_id":24641640,"comment_id":129643721,"body_markdown":"@Susan,  it looks like the only problem is that your `JAVA_HOME` variable has been set an *actual java executable file*, rather than the Java installation directory. It&#39;s this installation directory that various applications will look to find all the *java stuff* they need. Perhaps &quot;path_to_java&quot; is misleading. Try this assignment `JAVA_HOME=/usr/lib/jvm/java-11-openjdk-arm64` for your architecture.","body":"@Susan,  it looks like the only problem is that your <code>JAVA_HOME</code> variable has been set an <i>actual java executable file</i>, rather than the Java installation directory. It&#39;s this installation directory that various applications will look to find all the <i>java stuff</i> they need. Perhaps &quot;path_to_java&quot; is misleading. Try this assignment <code>JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-arm64</code> for your architecture."},{"owner":{"account_id":14320442,"reputation":461,"user_id":17779615,"display_name":"Susan"},"score":0,"creation_date":1660887726,"post_id":24641640,"comment_id":129644121,"body_markdown":"@adebayo10k, thank you for advice. The issue is solved by setting ```JAVA_HOME=/usr/lib/jvm/java-11-openjdk-arm64/```","body":"@adebayo10k, thank you for advice. The issue is solved by setting <code>JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-arm64&#47;</code>"},{"owner":{"account_id":13595304,"reputation":132,"user_id":13076369,"display_name":"superpupervlad"},"score":0,"creation_date":1692442120,"post_id":24641640,"comment_id":135625684,"body_markdown":"I like how you give specific instruction to get to insert mode for people who don&#39;t know how to use vim and then give no instructions how to exit it :)","body":"I like how you give specific instruction to get to insert mode for people who don&#39;t know how to use vim and then give no instructions how to exit it :)"}],"tags":[],"owner":{"account_id":2271694,"reputation":5592,"user_id":3798545,"display_name":"That Dave Guy"},"comment_count":19,"down_vote_count":6,"up_vote_count":541,"is_accepted":true,"score":535,"last_activity_date":1527104489,"creation_date":1404853677,"answer_id":24641640,"question_id":24641536,"body_markdown":"1. `find /usr/lib/jvm/java-1.x.x-openjdk`\r\n2. `vim /etc/profile`\r\n\r\n    Prepend sudo if logged in as not-privileged user, ie. `sudo vim`\r\n3. Press &#39;i&#39; to get in insert mode\r\n4. add:\r\n\r\n    \r\n        export JAVA_HOME=&quot;path that you found&quot;\r\n    \r\n        export PATH=$JAVA_HOME/bin:$PATH\r\n5. logout and login again, reboot, or use `source /etc/profile` to apply changes immediately in your current shell","title":"How to set JAVA_HOME in Linux for all users","body":"<ol>\n<li><code>find /usr/lib/jvm/java-1.x.x-openjdk</code></li>\n<li><p><code>vim /etc/profile</code></p>\n\n<p>Prepend sudo if logged in as not-privileged user, ie. <code>sudo vim</code></p></li>\n<li>Press 'i' to get in insert mode</li>\n<li><p>add:</p>\n\n<pre><code>export JAVA_HOME=\"path that you found\"\n\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre></li>\n<li>logout and login again, reboot, or use <code>source /etc/profile</code> to apply changes immediately in your current shell</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5262084,"reputation":91,"user_id":4203334,"display_name":"Steve S"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1414773998,"creation_date":1414773998,"answer_id":26679588,"question_id":24641536,"body_markdown":"Doing what Oracle does (as a former Sun Employee I can&#39;t get used to that one)\r\n\r\nln -s latestJavaRelease /usr/java/default  \r\nWhere latestJavaRelease is the version that you want to use\r\n\r\nthen export JAVA_HOME=/usr/java/default","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Doing what Oracle does (as a former Sun Employee I can't get used to that one)</p>\n\n<p>ln -s latestJavaRelease /usr/java/default<br>\nWhere latestJavaRelease is the version that you want to use</p>\n\n<p>then export JAVA_HOME=/usr/java/default</p>\n"},{"comments":[{"owner":{"account_id":481319,"reputation":3395,"user_id":895077,"accept_rate":80,"display_name":"Roman Kruglov"},"score":24,"creation_date":1488210903,"post_id":29622512,"comment_id":72119668,"body_markdown":"to comply with just plain JRE (even headless) use `export JAVA_HOME=$(readlink -f /usr/bin/java | sed &quot;s:/bin/java::&quot;)` instead - notice that I use just `java`, not `javac`","body":"to comply with just plain JRE (even headless) use <code>export JAVA_HOME=$(readlink -f &#47;usr&#47;bin&#47;java | sed &quot;s:&#47;bin&#47;java::&quot;)</code> instead - notice that I use just <code>java</code>, not <code>javac</code>"},{"owner":{"account_id":1133874,"reputation":4257,"user_id":1119345,"accept_rate":75,"display_name":"Eero Aaltonen"},"score":0,"creation_date":1488274419,"post_id":29622512,"comment_id":72147679,"body_markdown":"@occulta At least [Maven](http://maven.apache.org/install.html) expects JAVA_HOME to point to a JDK and uses it to locate the java compiler.","body":"@occulta At least <a href=\"http://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">Maven</a> expects JAVA_HOME to point to a JDK and uses it to locate the java compiler."},{"owner":{"account_id":4661149,"reputation":598,"user_id":3775392,"accept_rate":75,"display_name":"ChristophS"},"score":1,"creation_date":1563536250,"post_id":29622512,"comment_id":100742230,"body_markdown":"Upvote for `readlink` and update/upgrade compatible solution, even this is an 5 years old thread. I only recommend not to edit /etc/profile, but place your export inside custom file, e.g. `/etc/profile.d/java_environment.sh`, maybe you have to `chmod +x java_environment.sh` and reboot.","body":"Upvote for <code>readlink</code> and update/upgrade compatible solution, even this is an 5 years old thread. I only recommend not to edit /etc/profile, but place your export inside custom file, e.g. <code>&#47;etc&#47;profile.d&#47;java_environment.sh</code>, maybe you have to <code>chmod +x java_environment.sh</code> and reboot."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1565741310,"post_id":29622512,"comment_id":101444257,"body_markdown":"Perfect. Better than my clunky `dirname`-ing solution. If you&#39;re like me and wanting to understand what&#39;s going on here, this is a simple replacement of matching text from input with an empty string. The &quot;default&quot; character for replacements is the `/`, but as long as you&#39;re consistent, you can replace the `/` with anything. In this case it&#39;s colons as we use `/` for path separators.","body":"Perfect. Better than my clunky <code>dirname</code>-ing solution. If you&#39;re like me and wanting to understand what&#39;s going on here, this is a simple replacement of matching text from input with an empty string. The &quot;default&quot; character for replacements is the <code>&#47;</code>, but as long as you&#39;re consistent, you can replace the <code>&#47;</code> with anything. In this case it&#39;s colons as we use <code>&#47;</code> for path separators."}],"tags":[],"owner":{"account_id":1133874,"reputation":4257,"user_id":1119345,"accept_rate":75,"display_name":"Eero Aaltonen"},"comment_count":4,"down_vote_count":0,"up_vote_count":174,"is_accepted":false,"score":174,"last_activity_date":1617020285,"creation_date":1428999996,"answer_id":29622512,"question_id":24641536,"body_markdown":"For all users, I would recommend creating a file in `/etc/profile.d/java_home.sh` the following lines\r\n\r\n    # Set JDK installation directory according to selected Java compiler\r\n    \r\n    export JAVA_HOME=$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)\r\n\r\nThis will update dynamically and works well with the *alternatives* system. Do note though that the update will only take place in a new login shell.","title":"How to set JAVA_HOME in Linux for all users","body":"<p>For all users, I would recommend creating a file in <code>/etc/profile.d/java_home.sh</code> the following lines</p>\n<pre><code># Set JDK installation directory according to selected Java compiler\n\nexport JAVA_HOME=$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)\n</code></pre>\n<p>This will update dynamically and works well with the <em>alternatives</em> system. Do note though that the update will only take place in a new login shell.</p>\n"},{"tags":[],"owner":{"account_id":3186155,"reputation":359,"user_id":2691717,"display_name":"Bryant Bernstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433810115,"creation_date":1433810115,"answer_id":30721240,"question_id":24641536,"body_markdown":"Probably a good idea to source whatever profile you edit to save having to use a fresh login.\r\n\r\neither:\r\nsource /etc/&lt;profile&gt;\r\nor\r\n. /etc/&lt;profile&gt;\r\n\r\nWhere &lt;profile&gt; is whatever profile you edited.","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Probably a good idea to source whatever profile you edit to save having to use a fresh login.</p>\n\n<p>either:\nsource /etc/\nor\n. /etc/</p>\n\n<p>Where  is whatever profile you edited.</p>\n"},{"tags":[],"owner":{"account_id":367920,"reputation":1384,"user_id":714413,"display_name":"darkhipo"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1436923270,"creation_date":1436923270,"answer_id":31419950,"question_id":24641536,"body_markdown":"I use the line:\r\n\r\n    export JAVA_HOME=$(readlink -f $(dirname $(readlink -f $(which java) ))/../)\r\n\r\nto my ~/.profile so it uses the base of the default java directory at login time. This is for bash.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>I use the line:</p>\n\n<pre><code>export JAVA_HOME=$(readlink -f $(dirname $(readlink -f $(which java) ))/../)\n</code></pre>\n\n<p>to my ~/.profile so it uses the base of the default java directory at login time. This is for bash.</p>\n"},{"comments":[{"owner":{"account_id":433374,"reputation":135,"user_id":818669,"display_name":"Fatih T&#252;rker"},"score":5,"creation_date":1571143286,"post_id":31786316,"comment_id":103135455,"body_markdown":"olny effects current terminal session","body":"olny effects current terminal session"},{"owner":{"account_id":6656322,"reputation":4673,"user_id":5601591,"accept_rate":100,"display_name":"Jack G"},"score":1,"creation_date":1592661405,"post_id":31786316,"comment_id":110507530,"body_markdown":"@FatihT&#252;rker Reboot your PC","body":"@FatihT&#252;rker Reboot your PC"},{"owner":{"account_id":6656322,"reputation":4673,"user_id":5601591,"accept_rate":100,"display_name":"Jack G"},"score":1,"creation_date":1592661475,"post_id":31786316,"comment_id":110507551,"body_markdown":"For me using jdk11, YOUR_PATH is `/usr/lib/jvm/default-java/`","body":"For me using jdk11, YOUR_PATH is <code>&#47;usr&#47;lib&#47;jvm&#47;default-java&#47;</code>"},{"owner":{"account_id":12883653,"reputation":2815,"user_id":10030693,"display_name":"Gilbert"},"score":1,"creation_date":1595064551,"post_id":31786316,"comment_id":111349750,"body_markdown":"The JAVA_HOME path is set but it doesnt work. ie java doesnt work. Even after reboot","body":"The JAVA_HOME path is set but it doesnt work. ie java doesnt work. Even after reboot"}],"tags":[],"owner":{"account_id":3371376,"reputation":325,"user_id":2830505,"accept_rate":75,"display_name":"VirangaMahesh"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1565781045,"creation_date":1438602125,"answer_id":31786316,"question_id":24641536,"body_markdown":"Copy the bin file path you installed\r\n\r\n    YOUR PATH\r\n\r\nopen terminal and edit environment file by typing following command,\r\n\r\n    sudo nano /etc/environment\r\n\r\nIn this file, add the following line (replacing `YOUR_PATH` by the just copied path):\r\n\r\n    JAVA_HOME=&quot;YOUR_PATH&quot;\r\n\r\nThat should be enough to set the environment variable. Now reload this file:\r\n\r\n    source /etc/environment\r\n\r\nnow test it by executing:\r\n\r\n    echo $JAVA_HOME\r\n\r\n\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Copy the bin file path you installed</p>\n\n<pre><code>YOUR PATH\n</code></pre>\n\n<p>open terminal and edit environment file by typing following command,</p>\n\n<pre><code>sudo nano /etc/environment\n</code></pre>\n\n<p>In this file, add the following line (replacing <code>YOUR_PATH</code> by the just copied path):</p>\n\n<pre><code>JAVA_HOME=\"YOUR_PATH\"\n</code></pre>\n\n<p>That should be enough to set the environment variable. Now reload this file:</p>\n\n<pre><code>source /etc/environment\n</code></pre>\n\n<p>now test it by executing:</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"comments":[{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":2,"creation_date":1446638496,"post_id":33521094,"comment_id":54823978,"body_markdown":"It seems a potentially correct answer but could you explain *why* it works, ie what it does and what the OP&#39;s problem is?\nAlso, you say &quot;on Linux&quot;, but there are many different Linux distro&#39;s and it might not work for all of them, please add for which distro this works.","body":"It seems a potentially correct answer but could you explain <i>why</i> it works, ie what it does and what the OP&#39;s problem is? Also, you say &quot;on Linux&quot;, but there are many different Linux distro&#39;s and it might not work for all of them, please add for which distro this works."}],"tags":[],"owner":{"account_id":7176586,"reputation":29,"user_id":5482293,"display_name":"Emanuel Oliveira"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1446637755,"creation_date":1446637755,"answer_id":33521094,"question_id":24641536,"body_markdown":"On Linux I add this line to my ~/.profile:\r\n\r\n    export JAVA_HOME=$(readlink -ze /usr/bin/javac | xargs -0 dirname -z | xargs -0 dirname)\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>On Linux I add this line to my ~/.profile:</p>\n\n<pre><code>export JAVA_HOME=$(readlink -ze /usr/bin/javac | xargs -0 dirname -z | xargs -0 dirname)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2340504,"reputation":776,"user_id":2051907,"accept_rate":42,"display_name":"xpagesbeast"},"score":0,"creation_date":1529940705,"post_id":34146264,"comment_id":89046532,"body_markdown":"I had the same experience on RHEL 7.  I removed the exports from the ~/.bash_profile and used this approach.","body":"I had the same experience on RHEL 7.  I removed the exports from the ~/.bash_profile and used this approach."},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1565777504,"post_id":34146264,"comment_id":101454998,"body_markdown":"#!/bin/sh is not required in your jdk_home.sh. once you done the configuration make sure to logout and login again","body":"#!/bin/sh is not required in your jdk_home.sh. once you done the configuration make sure to logout and login again"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1651364349,"post_id":34146264,"comment_id":127347618,"body_markdown":"Also, using the default jvm symlink for java_home is probably good https://stackoverflow.com/questions/663658/what-is-the-correct-target-for-the-java-home-environment-variable-for-a-linux-op","body":"Also, using the default jvm symlink for java_home is probably good <a href=\"https://stackoverflow.com/questions/663658/what-is-the-correct-target-for-the-java-home-environment-variable-for-a-linux-op\" title=\"what is the correct target for the java home environment variable for a linux op\">stackoverflow.com/questions/663658/&hellip;</a>"}],"tags":[],"owner":{"account_id":905177,"reputation":8322,"user_id":940217,"accept_rate":77,"display_name":"Kyle Falconer"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1449536792,"creation_date":1449536792,"answer_id":34146264,"question_id":24641536,"body_markdown":"None of the other answers were &quot;sticking&quot; for me in RHEL 7, even setting `JAVA_HOME` and `PATH` directly in `/etc/profile` or `~/.bash_profile` would not work. Each time I tried to check if `JAVA_HOME` was set, it would come up blank:\r\n\r\n    $ echo $JAVA_HOME\r\n        (&lt;-- no output)\r\n\r\nWhat I had to do was set up a *script* in `/etc/profile.d/jdk_home.sh`:\r\n\r\n    #!/bin/sh\r\n    export JAVA_HOME=/opt/ibm/java-x86_64-60/\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nI initially neglected the first line (the `#!/bin/sh`), and it won&#39;t work without it.\r\n\r\nNow it&#39;s working:\r\n\r\n    $ echo $JAVA_HOME\r\n    /opt/ibm/java-x86_64-60/\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>None of the other answers were \"sticking\" for me in RHEL 7, even setting <code>JAVA_HOME</code> and <code>PATH</code> directly in <code>/etc/profile</code> or <code>~/.bash_profile</code> would not work. Each time I tried to check if <code>JAVA_HOME</code> was set, it would come up blank:</p>\n\n<pre><code>$ echo $JAVA_HOME\n    (&lt;-- no output)\n</code></pre>\n\n<p>What I had to do was set up a <em>script</em> in <code>/etc/profile.d/jdk_home.sh</code>:</p>\n\n<pre><code>#!/bin/sh\nexport JAVA_HOME=/opt/ibm/java-x86_64-60/\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>I initially neglected the first line (the <code>#!/bin/sh</code>), and it won't work without it.</p>\n\n<p>Now it's working:</p>\n\n<pre><code>$ echo $JAVA_HOME\n/opt/ibm/java-x86_64-60/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603351,"reputation":91,"user_id":6444175,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465883461,"creation_date":1465883461,"answer_id":37803887,"question_id":24641536,"body_markdown":"While we are up to setting JAVA_HOME, let me share some benefits of setting JAVA_HOME or any other environment variable:\r\n\r\n1) It&#39;s easy to upgrade JDK without affecting your application startup and config file which points to JAVA_HOME. you just need to download new version and make sure your JAVA_HOME points to new version of Java. This is best benefit of using environment variable or links.\r\n\r\n2) JAVA_HOME variable is short and concise instead of full path to JDK installation directory.\r\n\r\n3) JAVA_HOME variable is platform independence i.e. if your startup script uses JAVA_HOME then it can run on Windows and UNIX without any modification, you just need to set JAVA_HOME on respective operating system.\r\n\r\nRead more: http://javarevisited.blogspot.com/2012/02/how-to-set-javahome-environment-in.html#ixzz4BWmaYIjH","title":"How to set JAVA_HOME in Linux for all users","body":"<p>While we are up to setting JAVA_HOME, let me share some benefits of setting JAVA_HOME or any other environment variable:</p>\n\n<p>1) It's easy to upgrade JDK without affecting your application startup and config file which points to JAVA_HOME. you just need to download new version and make sure your JAVA_HOME points to new version of Java. This is best benefit of using environment variable or links.</p>\n\n<p>2) JAVA_HOME variable is short and concise instead of full path to JDK installation directory.</p>\n\n<p>3) JAVA_HOME variable is platform independence i.e. if your startup script uses JAVA_HOME then it can run on Windows and UNIX without any modification, you just need to set JAVA_HOME on respective operating system.</p>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2012/02/how-to-set-javahome-environment-in.html#ixzz4BWmaYIjH\" rel=\"nofollow\">http://javarevisited.blogspot.com/2012/02/how-to-set-javahome-environment-in.html#ixzz4BWmaYIjH</a></p>\n"},{"comments":[{"owner":{"account_id":2889076,"reputation":5019,"user_id":2478264,"display_name":"Manuel Manhart"},"score":2,"creation_date":1480431180,"post_id":39691105,"comment_id":68953212,"body_markdown":"this answer sets it only for the current user.","body":"this answer sets it only for the current user."},{"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"score":1,"creation_date":1647629652,"post_id":39691105,"comment_id":126427590,"body_markdown":"@AdamHughes this is for unix system. not sure what system you are talking about","body":"@AdamHughes this is for unix system. not sure what system you are talking about"}],"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"comment_count":2,"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1695723575,"creation_date":1474832670,"answer_id":39691105,"question_id":24641536,"body_markdown":"\r\n1.  Open terminal and type  `sudo gedit .bashrc`\r\n\r\n2. It will ask you your password. After typing the password, it will open the bash file. Then go to end and type:\r\n\r\n       export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;\r\n       export PATH=$PATH:$JAVA_HOME/bin\r\n4. Then save the file and exit from file\r\n\r\nAbove is for a single user. For all users, you have to follow below steps\r\n1. `sudo gedit /etc/profile`\r\n\r\n2.  `export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;`\r\n3. `export PATH=$PATH:$JAVA_HOME/bin`\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<ol>\n<li><p>Open terminal and type  <code>sudo gedit .bashrc</code></p>\n</li>\n<li><p>It will ask you your password. After typing the password, it will open the bash file. Then go to end and type:</p>\n<pre><code>export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n</li>\n<li><p>Then save the file and exit from file</p>\n</li>\n</ol>\n<p>Above is for a single user. For all users, you have to follow below steps</p>\n<ol>\n<li><p><code>sudo gedit /etc/profile</code></p>\n</li>\n<li><p><code>export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;</code></p>\n</li>\n<li><p><code>export PATH=$PATH:$JAVA_HOME/bin</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10239049,"reputation":455,"user_id":7557036,"display_name":"Dylan Breugne"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1492163821,"creation_date":1492098192,"answer_id":43396555,"question_id":24641536,"body_markdown":"This is a very simple script to solve the problem\r\n\r\n    export JAVA_HOME_BIN=`which java`\r\n    export JAVA_HOME_DIR=`dirname $JAVA_HOME_BIN`\r\n    export JAVA_HOME=`dirname $JAVA_HOME_DIR`\r\n\r\nAnd for testing:\r\n\r\n    echo $JAVA_HOME","title":"How to set JAVA_HOME in Linux for all users","body":"<p>This is a very simple script to solve the problem</p>\n\n<pre><code>export JAVA_HOME_BIN=`which java`\nexport JAVA_HOME_DIR=`dirname $JAVA_HOME_BIN`\nexport JAVA_HOME=`dirname $JAVA_HOME_DIR`\n</code></pre>\n\n<p>And for testing:</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299217,"reputation":395,"user_id":4894340,"accept_rate":40,"display_name":"alok ailawadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1505452448,"creation_date":1505452448,"answer_id":46232075,"question_id":24641536,"body_markdown":"The answer is given previous posts is valid. But not one answer is complete with respect to: \r\n\r\n1. Changing the /etc/profile is not recommended simply because of the reason (as stated in /etc/profile):\r\n\r\n&gt; *  It&#39;s NOT a good idea to change this file unless you know what you are doing. It&#39;s much better to create a custom.sh shell script in\r\n&gt; /etc/profile.d/ to make custom changes to your environment, as this\r\n&gt; will prevent the need for merging in future updates.*\r\n\r\n2. So as stated above create /etc/profile.d/custom.sh file for custom changes.\r\n\r\n3. Now, to always keep updated with newer versions of Java being installed, never put the absolute path, instead use:\r\n      \r\n    \r\n\r\n&gt;   #if making jdk as java home\r\n&gt;         \r\n&gt;   export JAVA_HOME=$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)\r\n&gt;     \r\n&gt;   OR\r\n&gt;     \r\n&gt;  #if making jre as java home\r\n&gt;  \r\n&gt;  export JAVA_HOME=$(readlink -f /usr/bin/java | sed &quot;s:/bin/java::&quot;)\r\n\r\n4. And remember to have ***#! /bin/bash*** on the custom.sh file\r\n ","title":"How to set JAVA_HOME in Linux for all users","body":"<p>The answer is given previous posts is valid. But not one answer is complete with respect to: </p>\n\n<ol>\n<li>Changing the /etc/profile is not recommended simply because of the reason (as stated in /etc/profile):</li>\n</ol>\n\n<blockquote>\n  <ul>\n  <li>It's NOT a good idea to change this file unless you know what you are doing. It's much better to create a custom.sh shell script in\n  /etc/profile.d/ to make custom changes to your environment, as this\n  will prevent the need for merging in future updates.*</li>\n  </ul>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>So as stated above create /etc/profile.d/custom.sh file for custom changes.</p></li>\n<li><p>Now, to always keep updated with newer versions of Java being installed, never put the absolute path, instead use:</p></li>\n</ol>\n\n<blockquote>\n  <p>#if making jdk as java home</p>\n  \n  <p>export JAVA_HOME=$(readlink -f /usr/bin/javac | sed \"s:/bin/javac::\")</p>\n  \n  <p>OR</p>\n  \n  <p>#if making jre as java home</p>\n  \n  <p>export JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:/bin/java::\")</p>\n</blockquote>\n\n<ol start=\"4\">\n<li>And remember to have <strong><em>#! /bin/bash</em></strong> on the custom.sh file</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2059546,"reputation":2127,"user_id":1836483,"accept_rate":90,"display_name":"Van Peer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505724625,"creation_date":1505724625,"answer_id":46275158,"question_id":24641536,"body_markdown":"Posting as answer, as I don&#39;t have the privilege to comment.\r\n\r\n**Point to note**: follow the accepted answer posted by &quot;That Dave Guy&quot;.\r\n\r\nAfter setting the variables, make sure you set the appropriate permissions to the java directory where it&#39;s installed.\r\n\r\n    chmod -R 755 /usr/java","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Posting as answer, as I don't have the privilege to comment.</p>\n\n<p><strong>Point to note</strong>: follow the accepted answer posted by \"That Dave Guy\".</p>\n\n<p>After setting the variables, make sure you set the appropriate permissions to the java directory where it's installed.</p>\n\n<pre><code>chmod -R 755 /usr/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5849308,"reputation":887,"user_id":4608441,"display_name":"swapnil shashank"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540986774,"creation_date":1540986774,"answer_id":53082733,"question_id":24641536,"body_markdown":"Step 1 - check the current java version by  &quot;echo $JAVA_HOME&quot;\r\n\r\nStep 2 - vim /etc/profile\r\n\r\nStep 3 - At the end of file you will find\r\nexport JAVA_HOME, we need to provide the new path here, make sure that it is not relative.\r\n\r\nStep 4 - Save and exit :wq\r\n\r\nStep 5 - &quot;source /etc/profile/&quot;, this would execute the change\r\n\r\nStep 6 - Again do a echo $JAVA_HOME - change would have been reflected.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Step 1 - check the current java version by  \"echo $JAVA_HOME\"</p>\n\n<p>Step 2 - vim /etc/profile</p>\n\n<p>Step 3 - At the end of file you will find\nexport JAVA_HOME, we need to provide the new path here, make sure that it is not relative.</p>\n\n<p>Step 4 - Save and exit :wq</p>\n\n<p>Step 5 - \"source /etc/profile/\", this would execute the change</p>\n\n<p>Step 6 - Again do a echo $JAVA_HOME - change would have been reflected.</p>\n"},{"tags":[],"owner":{"account_id":8631943,"reputation":4386,"user_id":6463291,"display_name":"Ng Sek Long"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569576204,"creation_date":1569575018,"answer_id":58131259,"question_id":24641536,"body_markdown":"1...Using the short cut `Ctlr` + `Alt` + `T` to open terminal\r\n\r\n2...Execute the below command:\r\n\r\n    echo export JAVA_HOME=&#39;$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)&#39; | sudo tee /etc/profile.d/jdk_home.sh &gt; /dev/null\r\n\r\n3...(Recommended) Restart your VM / computer. You can use `source /etc/source` if don&#39;t want to restart computer\r\n\r\n4...Using the short cut `Ctlr` + `Alt` + `T` to open terminal\r\n\r\n5...Verified JAVA_HOME installment with \r\n\r\n    echo $JAVA_HOME\r\n\r\n----------------------\r\n\r\nOne-liner copy from **flob**, credit to them","title":"How to set JAVA_HOME in Linux for all users","body":"<p>1...Using the short cut <code>Ctlr</code> + <code>Alt</code> + <code>T</code> to open terminal</p>\n\n<p>2...Execute the below command:</p>\n\n<pre><code>echo export JAVA_HOME='$(readlink -f /usr/bin/javac | sed \"s:/bin/javac::\")' | sudo tee /etc/profile.d/jdk_home.sh &gt; /dev/null\n</code></pre>\n\n<p>3...(Recommended) Restart your VM / computer. You can use <code>source /etc/source</code> if don't want to restart computer</p>\n\n<p>4...Using the short cut <code>Ctlr</code> + <code>Alt</code> + <code>T</code> to open terminal</p>\n\n<p>5...Verified JAVA_HOME installment with </p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<hr>\n\n<p>One-liner copy from <strong>flob</strong>, credit to them</p>\n"},{"tags":[],"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579787570,"creation_date":1579787570,"answer_id":59880198,"question_id":24641536,"body_markdown":"Use SDKMAN [sdkman.io][1] to switch btw. your sdk&#39;s.\r\n\r\nIt sets the JAVA_HOME for you.\r\n\r\n\r\n  [1]: http://sdkman.io","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Use SDKMAN <a href=\"http://sdkman.io\" rel=\"nofollow noreferrer\">sdkman.io</a> to switch btw. your sdk's.</p>\n\n<p>It sets the JAVA_HOME for you.</p>\n"},{"tags":[],"owner":{"account_id":11489369,"reputation":41,"user_id":8420876,"display_name":"Ashish Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587057502,"creation_date":1587057502,"answer_id":61256148,"question_id":24641536,"body_markdown":"open **kafka-run-class.sh** with sudo to write\r\n\r\nyou can find **kafka-run-class.sh** in your kafka folder : **kafka/bin/kafka-run-class.sh**\r\n\r\ncheck for these lines\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gn6ox.png\r\n\r\nModify the JAVA variable in the else part to point to the java executable in your java/bin. like **JAVA=&quot;$JAVA_HOME/java&quot;**","title":"How to set JAVA_HOME in Linux for all users","body":"<p>open <strong>kafka-run-class.sh</strong> with sudo to write</p>\n\n<p>you can find <strong>kafka-run-class.sh</strong> in your kafka folder : <strong>kafka/bin/kafka-run-class.sh</strong></p>\n\n<p>check for these lines</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gn6ox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gn6ox.png\" alt=\"enter image description here\"></a></p>\n\n<p>Modify the JAVA variable in the else part to point to the java executable in your java/bin. like <strong>JAVA=\"$JAVA_HOME/java\"</strong></p>\n"},{"tags":[],"owner":{"account_id":329088,"reputation":1085,"user_id":652414,"accept_rate":70,"display_name":"ahmet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590853775,"creation_date":1590853775,"answer_id":62104925,"question_id":24641536,"body_markdown":"All operational steps(finding java, parent dir, editing file,...) one solution\r\n\r\n\tzFileProfile=&quot;/etc/profile&quot;\r\n\tzJavaHomePath=$(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\r\n\techo $zJavaHomePath\r\n\r\n\techo &quot;export JAVA_HOME=\\&quot;${zJavaHomePath}\\&quot;&quot; &gt;&gt; $zFileProfile\r\n\techo &quot;export PATH=\\$PATH:\\$JAVA_HOME/bin&quot; &gt;&gt; $zFileProfile\r\n\t\r\nResult:\r\n\r\n\t# tail -2 $zFileProfile\r\n\texport JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64&quot;\r\n\texport PATH=$PATH:$JAVA_HOME/bin\r\n \r\nExplanation:\r\n\r\n1) Let&#39;s break the full command into pieces\r\n\r\n    $(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\r\n    \r\n\r\n2) Find java path from java command\r\n\r\n    # $(which java)\r\n    &quot;/usr/bin/java&quot;\r\n\r\n3) Get relative path from symbolic path\r\n\r\n    # readlink -ze /usr/bin/java\r\n\t&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java&quot;\r\n4) Get parent path of `/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java`\r\n\r\n    # readlink -ze /usr/bin/java | xargs -0 dirname\r\n\t&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin&quot;\r\n5) Get parent path of `/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/`\r\n\r\n    # readlink -ze /usr/bin/java | xargs -0 dirname | xargs -0 dirname\r\n\t&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64&quot;","title":"How to set JAVA_HOME in Linux for all users","body":"<p>All operational steps(finding java, parent dir, editing file,...) one solution</p>\n\n<pre><code>zFileProfile=\"/etc/profile\"\nzJavaHomePath=$(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\necho $zJavaHomePath\n\necho \"export JAVA_HOME=\\\"${zJavaHomePath}\\\"\" &gt;&gt; $zFileProfile\necho \"export PATH=\\$PATH:\\$JAVA_HOME/bin\" &gt;&gt; $zFileProfile\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code># tail -2 $zFileProfile\nexport JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64\"\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>1) Let's break the full command into pieces</p>\n\n<pre><code>$(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\n</code></pre>\n\n<p>2) Find java path from java command</p>\n\n<pre><code># $(which java)\n\"/usr/bin/java\"\n</code></pre>\n\n<p>3) Get relative path from symbolic path</p>\n\n<pre><code># readlink -ze /usr/bin/java\n\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java\"\n</code></pre>\n\n<p>4) Get parent path of <code>/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java</code></p>\n\n<pre><code># readlink -ze /usr/bin/java | xargs -0 dirname\n\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin\"\n</code></pre>\n\n<p>5) Get parent path of <code>/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/</code></p>\n\n<pre><code># readlink -ze /usr/bin/java | xargs -0 dirname | xargs -0 dirname\n\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18830235,"reputation":57,"user_id":13734203,"display_name":"Noha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591966528,"creation_date":1591966528,"answer_id":62344725,"question_id":24641536,"body_markdown":"In /etc/profile , if you open that will you’ll get to know that IT IS no recommended to write on that file. Instead of that make a script of your commands(suppose test.sh)go to /etc/profile.d folder and Put test.sh there. Every time you instance reboot it’ll be automatically called by /etc/profile.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>In /etc/profile , if you open that will you’ll get to know that IT IS no recommended to write on that file. Instead of that make a script of your commands(suppose test.sh)go to /etc/profile.d folder and Put test.sh there. Every time you instance reboot it’ll be automatically called by /etc/profile.</p>\n"},{"tags":[],"owner":{"account_id":5183395,"reputation":101,"user_id":4148386,"display_name":"Amal K V"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1618213934,"creation_date":1618213934,"answer_id":67054520,"question_id":24641536,"body_markdown":"First you need to find out which Java is installed in your PC and which one to use.\r\nFor that open terminal with root permission.\r\n \r\n     sudo su\r\n\r\n     ls /usr/lib/jvm/\r\n\r\nNow it will list the available java versions.\r\nSelect the listed version.\r\n\r\n\r\nCopy the path till there.\r\n\r\n\r\nNow open bashrc\r\n\r\n      nano ~/.bashrc\r\n\r\nadd the following commands to the end\r\n\r\n     export JAVA_HOME=&quot;path that you copied&quot;\r\n\r\n      export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nafter that save the file and exit by pressing Ctrl+S  followed by Ctrl+X\r\n\r\nNow run the below command:\r\n\r\n\r\n      source ~/.bashrc\r\n\r\n\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>First you need to find out which Java is installed in your PC and which one to use.\nFor that open terminal with root permission.</p>\n<pre><code> sudo su\n\n ls /usr/lib/jvm/\n</code></pre>\n<p>Now it will list the available java versions.\nSelect the listed version.</p>\n<p>Copy the path till there.</p>\n<p>Now open bashrc</p>\n<pre><code>  nano ~/.bashrc\n</code></pre>\n<p>add the following commands to the end</p>\n<pre><code> export JAVA_HOME=&quot;path that you copied&quot;\n\n  export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>after that save the file and exit by pressing Ctrl+S  followed by Ctrl+X</p>\n<p>Now run the below command:</p>\n<pre><code>  source ~/.bashrc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19362845,"reputation":13,"user_id":14157782,"display_name":"Jauhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625352255,"creation_date":1625352255,"answer_id":68240457,"question_id":24641536,"body_markdown":"Using vim might be a bit difficult for new user. We can use gedit text editor instead.\r\n\r\n 1. Find /usr/lib/jvm/java-1.x.x-openjdk\r\n 2. Enter &quot;gedit /etc/profile&quot; or use &quot;sudo gedit /etc/profile&quot; if logged in as not-privileged\r\n 3. Add the following at the end of line:\r\n\r\n    export JAVA_HOME=&quot;path that you found&quot;\r\n\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n 4. Enter &quot;source /etc/profile&quot; in your current shell to apply the changes\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Using vim might be a bit difficult for new user. We can use gedit text editor instead.</p>\n<ol>\n<li><p>Find /usr/lib/jvm/java-1.x.x-openjdk</p>\n</li>\n<li><p>Enter &quot;gedit /etc/profile&quot; or use &quot;sudo gedit /etc/profile&quot; if logged in as not-privileged</p>\n</li>\n<li><p>Add the following at the end of line:</p>\n<p>export JAVA_HOME=&quot;path that you found&quot;</p>\n<p>export PATH=$JAVA_HOME/bin:$PATH</p>\n</li>\n<li><p>Enter &quot;source /etc/profile&quot; in your current shell to apply the changes</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":14848248,"reputation":2797,"user_id":10946202,"display_name":"Harshank Bansal"},"score":2,"creation_date":1663746461,"post_id":73745161,"comment_id":130309289,"body_markdown":"This command is for installing Java, not for setting `JAVA_HOME`","body":"This command is for installing Java, not for setting <code>JAVA_HOME</code>"}],"tags":[],"owner":{"account_id":24135384,"reputation":1,"user_id":18102401,"display_name":"Ivan B"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1663332994,"creation_date":1663332994,"answer_id":73745161,"question_id":24641536,"body_markdown":"Try this if doesn&#39;t work:\r\n```\r\napt install openjdk-8-jdk-headless\r\n```","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Try this if doesn't work:</p>\n<pre><code>apt install openjdk-8-jdk-headless\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681101257,"creation_date":1681101257,"answer_id":75974285,"question_id":24641536,"body_markdown":"`export JAVA_HOME=&quot;/usr/lib/jvm/jdk-*&quot;` solves the issue","title":"How to set JAVA_HOME in Linux for all users","body":"<p><code>export JAVA_HOME=&quot;/usr/lib/jvm/jdk-*&quot;</code> solves the issue</p>\n"},{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688397007,"creation_date":1688397007,"answer_id":76606026,"question_id":24641536,"body_markdown":"AND also i had problem if someone else export PATH in other script, in my case in .bashrc there was line for sdkman\r\n\r\n`\r\nexport PATH=/home/ars/.sdkman/candidates/gradle/current/bin:/home/ars/.nvm/versions/node/v15.14.0/bin:/home/ars/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n`\r\n\r\nSo when i run `echo $JAVA_HOME` there was a result but when a run `echo $PATH` there was no `$JAVA_HOME/bin`\r\n\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>AND also i had problem if someone else export PATH in other script, in my case in .bashrc there was line for sdkman</p>\n<p><code>export PATH=/home/ars/.sdkman/candidates/gradle/current/bin:/home/ars/.nvm/versions/node/v15.14.0/bin:/home/ars/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</code></p>\n<p>So when i run <code>echo $JAVA_HOME</code> there was a result but when a run <code>echo $PATH</code> there was no <code>$JAVA_HOME/bin</code></p>\n"}],"owner":{"account_id":915838,"reputation":3865,"user_id":948654,"accept_rate":39,"display_name":"Bosco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1405330,"favorite_count":0,"down_vote_count":0,"up_vote_count":290,"accepted_answer_id":24641640,"answer_count":25,"score":290,"last_activity_date":1695723575,"creation_date":1404853274,"question_id":24641536,"body_markdown":"I am new to Linux system and there seem to be too many Java folders. \r\n\r\njava -version gives me:\r\n\r\n- java version &quot;1.7.0_55&quot;\r\n- OpenJDK Runtime Environment (rhel-2.4.7.1.el6_5-x86_64 u55-b13)\r\n- OpenJDK 64-Bit Server VM (build 24.51-b03, mixed mode)\r\n\r\nWhen I am trying to build a Maven project , I am getting error:\r\n\r\n        \r\n    Error: JAVA_HOME is not defined correctly.\r\n    We cannot execute /usr/java/jdk1.7.0_05/bin/java\r\n\r\nCould you please tell me which files I need to modify for root as well as not-root user and where exactly is java located?","title":"How to set JAVA_HOME in Linux for all users","body":"<p>I am new to Linux system and there seem to be too many Java folders. </p>\n\n<p>java -version gives me:</p>\n\n<ul>\n<li>java version \"1.7.0_55\"</li>\n<li>OpenJDK Runtime Environment (rhel-2.4.7.1.el6_5-x86_64 u55-b13)</li>\n<li>OpenJDK 64-Bit Server VM (build 24.51-b03, mixed mode)</li>\n</ul>\n\n<p>When I am trying to build a Maven project , I am getting error:</p>\n\n<pre><code>Error: JAVA_HOME is not defined correctly.\nWe cannot execute /usr/java/jdk1.7.0_05/bin/java\n</code></pre>\n\n<p>Could you please tell me which files I need to modify for root as well as not-root user and where exactly is java located?</p>\n"},{"tags":["java","spring","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1695730963,"post_id":77177938,"comment_id":136061040,"body_markdown":"Have you tried using `$`: `.group(&quot;$applicationNumber&quot;).push(&quot;$allRecords.coreRecord.recordType&quot;)` ?","body":"Have you tried using <code>$</code>: <code>.group(&quot;$applicationNumber&quot;).push(&quot;$allRecords.coreRecord.re&zwnj;&#8203;cordType&quot;)</code> ?"}],"owner":{"account_id":8333379,"reputation":1,"user_id":6261140,"display_name":"Souvik Adhikary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695723485,"creation_date":1695714177,"question_id":77177938,"body_markdown":"I have mongo aggregate query as below:\r\n```\r\n{\r\n$group: {\r\n     _id: {applicationNumber: &quot;$applicationNumber&quot;},\r\n     recordTypes: { $push: &quot;$allRecords.coreRecord.recordType&quot;}\r\n    }\r\n}\r\n```\r\n\r\nI need to write its respective java code in aggregation.\r\nI tried as below, but got exception **Invalid reference allRecords.coreRecord.recordType**\r\n\r\n    Aggregation.group(&quot;applicationNumber&quot;).push(&quot;allRecords.coreRecord.recordType&quot;).as(&quot;recordTypes);","title":"MongoDB $aggregate $push operation in Java","body":"<p>I have mongo aggregate query as below:</p>\n<pre><code>{\n$group: {\n     _id: {applicationNumber: &quot;$applicationNumber&quot;},\n     recordTypes: { $push: &quot;$allRecords.coreRecord.recordType&quot;}\n    }\n}\n</code></pre>\n<p>I need to write its respective java code in aggregation.\nI tried as below, but got exception <strong>Invalid reference allRecords.coreRecord.recordType</strong></p>\n<pre><code>Aggregation.group(&quot;applicationNumber&quot;).push(&quot;allRecords.coreRecord.recordType&quot;).as(&quot;recordTypes);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5698955,"reputation":1,"user_id":4504610,"display_name":"sanjay mohanty"},"score":0,"creation_date":1695731098,"post_id":77178924,"comment_id":136061065,"body_markdown":"found the solution \nwhen you are running the application in local , put the below java options under Run as --&gt;run configurations-&gt;arguments--&gt;VM arguments\n\n\n--add-opens java.base/java.util.concurrent=ALL-UNNAMED\n --add-opens java.base/java.lang=ALL-UNNAMED \n--add-opens java.base/java.util=ALL-UNNAMED\n\n\nfor remote /server running in my case as we are using Kubernetes , in values.yaml file I have added below \n\n- name: JAVA_OPTS\n    value: &quot; --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&quot;","body":"found the solution  when you are running the application in local , put the below java options under Run as --&gt;run configurations-&gt;arguments--&gt;VM arguments   --add-opens java.base/java.util.concurrent=ALL-UNNAMED  --add-opens java.base/java.lang=ALL-UNNAMED  --add-opens java.base/java.util=ALL-UNNAMED   for remote /server running in my case as we are using Kubernetes , in values.yaml file I have added below   - name: JAVA_OPTS     value: &quot; --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&quot;"}],"owner":{"account_id":5698955,"reputation":1,"user_id":4504610,"display_name":"sanjay mohanty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695725902,"answer_count":0,"score":0,"last_activity_date":1695722657,"creation_date":1695722315,"question_id":77178924,"body_markdown":"I am getting the below exception while upgrading from java 8 to java 17.\r\n\r\nIf anyone is facing the below issue and have some solution , please post it.\r\nDetails stack trace is mentioned below\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-26 01:29:07 - o.s.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: **Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask**(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @433defed\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n```\r\njava 8 to java 17 upgradation ","title":"Nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture","body":"<p>I am getting the below exception while upgrading from java 8 to java 17.</p>\n<p>If anyone is facing the below issue and have some solution , please post it.\nDetails stack trace is mentioned below</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-09-26 01:29:07 - o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: **Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask**(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @433defed\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n</code></pre>\n<p>java 8 to java 17 upgradation</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695722615,"creation_date":1695722615,"question_id":77178964,"body_markdown":"I am implementing an ag-grid from the server side. I have implemented the first three basic steps in the code I have implemented pagination searching and ordering from the backend for ag-grid I want to grouping from the backend and pivoting from backend how can I do this code in this code? if you have any suggestions to implement\r\n\r\n```\r\n@Service\r\npublic class CompanyService {\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n\r\n    public Page&lt;CompanyResponse&gt; getCompanies(Pageable pageable, RequestWithFilterAndSort requestWithFilterAndSort){\r\n        CriteriaBuilder criteriaBuilder=entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;CompanyResponse&gt; companyResponseCriteriaQuery=criteriaBuilder.createQuery(CompanyResponse.class);\r\n        Root&lt;Company&gt; companyRoot=companyResponseCriteriaQuery.from(Company.class);\r\n\r\n        companyResponseCriteriaQuery.multiselect(companyRoot.get(&quot;id&quot;),\r\n                companyRoot.get(&quot;companyName&quot;),\r\n                companyRoot.get(&quot;employeeName&quot;),\r\n                companyRoot.get(&quot;description&quot;),\r\n                companyRoot.get(&quot;leave&quot;)\r\n                );\r\n\r\n        if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;desc&quot;)){\r\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.desc(companyRoot.get(requestWithFilterAndSort.getColId())));\r\n        }\r\n        else if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;asc&quot;)){\r\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.asc(companyRoot.get(requestWithFilterAndSort.getColId())));\r\n        }\r\n\r\n        List&lt;Predicate&gt; predicateList=new ArrayList&lt;&gt;();\r\n        predicateList.addAll(getFilter(criteriaBuilder,predicateList,companyRoot,requestWithFilterAndSort));\r\n        Predicate predicateArray[]=new Predicate[predicateList.size()];\r\n\r\n        companyResponseCriteriaQuery.where(criteriaBuilder.and(predicateList.toArray(predicateArray)));\r\n\r\n        List&lt;CompanyResponse&gt; companyResponseList=entityManager.createQuery(companyResponseCriteriaQuery).getResultList();\r\n        List&lt;CompanyResponse&gt; companyResponses=entityManager.createQuery(companyResponseCriteriaQuery).\r\n                setFirstResult((int) pageable.getOffset()).\r\n                setMaxResults(pageable.getPageSize()).\r\n                getResultList();\r\n        return new PageImpl&lt;&gt;(companyResponses,pageable,companyResponseList.size());\r\n    }\r\n\r\n    private List&lt;Predicate&gt; getFilter(CriteriaBuilder criteriaBuilder,List&lt;Predicate&gt; predicateList,Root&lt;Company&gt; companyRoot,RequestWithFilterAndSort requestWithFilterAndSort){\r\n        Optional.ofNullable(requestWithFilterAndSort.getFilterModel()).ifPresent(filterModelMap-&gt;{\r\n            for(Map.Entry&lt;String, FilterModel&gt; filterModelEntry:filterModelMap.entrySet()){\r\n\r\n                String colName=filterModelEntry.getKey();\r\n                FilterModel filterModel=filterModelEntry.getValue();\r\n                System.out.println(&quot;colName in filter : &quot;+colName);\r\n                /*if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;GREATETHEN&quot;)){\r\n                    predicateList.add(criteriaBuilder.ge(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;LESSTHEN&quot;)){\r\n                    predicateList.add(criteriaBuilder.lessThan(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\r\n\r\n                }*/\r\n                if(filterModel.getType().equalsIgnoreCase(&quot;equals&quot;)){\r\n                    predicateList.add(criteriaBuilder.equal(companyRoot.get(colName),filterModel.getFilter()));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notEqual&quot;)){\r\n                    predicateList.add(criteriaBuilder.notEqual(companyRoot.get(colName),filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;contains&quot;)){\r\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notContains&quot;)){\r\n                    predicateList.add(criteriaBuilder.notLike(companyRoot.get(colName),filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;startsWith&quot;)){\r\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),&quot;%&quot;+filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;endsWith&quot;)){\r\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()+&quot;%&quot;));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;blank&quot;)){\r\n                    predicateList.add(criteriaBuilder.isNull(companyRoot.get(colName)));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notBlank&quot;)){\r\n                    predicateList.add(criteriaBuilder.isNotNull(companyRoot.get(colName)));\r\n                }\r\n            }\r\n        });\r\n        return  predicateList;\r\n    }\r\n}\r\n```","title":"i want to do server side grouping in this code how can i do server side grouping and pivot from backend","body":"<p>I am implementing an ag-grid from the server side. I have implemented the first three basic steps in the code I have implemented pagination searching and ordering from the backend for ag-grid I want to grouping from the backend and pivoting from backend how can I do this code in this code? if you have any suggestions to implement</p>\n<pre><code>@Service\npublic class CompanyService {\n\n    @Autowired\n    EntityManager entityManager;\n\n    public Page&lt;CompanyResponse&gt; getCompanies(Pageable pageable, RequestWithFilterAndSort requestWithFilterAndSort){\n        CriteriaBuilder criteriaBuilder=entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;CompanyResponse&gt; companyResponseCriteriaQuery=criteriaBuilder.createQuery(CompanyResponse.class);\n        Root&lt;Company&gt; companyRoot=companyResponseCriteriaQuery.from(Company.class);\n\n        companyResponseCriteriaQuery.multiselect(companyRoot.get(&quot;id&quot;),\n                companyRoot.get(&quot;companyName&quot;),\n                companyRoot.get(&quot;employeeName&quot;),\n                companyRoot.get(&quot;description&quot;),\n                companyRoot.get(&quot;leave&quot;)\n                );\n\n        if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;desc&quot;)){\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.desc(companyRoot.get(requestWithFilterAndSort.getColId())));\n        }\n        else if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;asc&quot;)){\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.asc(companyRoot.get(requestWithFilterAndSort.getColId())));\n        }\n\n        List&lt;Predicate&gt; predicateList=new ArrayList&lt;&gt;();\n        predicateList.addAll(getFilter(criteriaBuilder,predicateList,companyRoot,requestWithFilterAndSort));\n        Predicate predicateArray[]=new Predicate[predicateList.size()];\n\n        companyResponseCriteriaQuery.where(criteriaBuilder.and(predicateList.toArray(predicateArray)));\n\n        List&lt;CompanyResponse&gt; companyResponseList=entityManager.createQuery(companyResponseCriteriaQuery).getResultList();\n        List&lt;CompanyResponse&gt; companyResponses=entityManager.createQuery(companyResponseCriteriaQuery).\n                setFirstResult((int) pageable.getOffset()).\n                setMaxResults(pageable.getPageSize()).\n                getResultList();\n        return new PageImpl&lt;&gt;(companyResponses,pageable,companyResponseList.size());\n    }\n\n    private List&lt;Predicate&gt; getFilter(CriteriaBuilder criteriaBuilder,List&lt;Predicate&gt; predicateList,Root&lt;Company&gt; companyRoot,RequestWithFilterAndSort requestWithFilterAndSort){\n        Optional.ofNullable(requestWithFilterAndSort.getFilterModel()).ifPresent(filterModelMap-&gt;{\n            for(Map.Entry&lt;String, FilterModel&gt; filterModelEntry:filterModelMap.entrySet()){\n\n                String colName=filterModelEntry.getKey();\n                FilterModel filterModel=filterModelEntry.getValue();\n                System.out.println(&quot;colName in filter : &quot;+colName);\n                /*if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;GREATETHEN&quot;)){\n                    predicateList.add(criteriaBuilder.ge(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;LESSTHEN&quot;)){\n                    predicateList.add(criteriaBuilder.lessThan(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\n\n                }*/\n                if(filterModel.getType().equalsIgnoreCase(&quot;equals&quot;)){\n                    predicateList.add(criteriaBuilder.equal(companyRoot.get(colName),filterModel.getFilter()));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notEqual&quot;)){\n                    predicateList.add(criteriaBuilder.notEqual(companyRoot.get(colName),filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;contains&quot;)){\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notContains&quot;)){\n                    predicateList.add(criteriaBuilder.notLike(companyRoot.get(colName),filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;startsWith&quot;)){\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),&quot;%&quot;+filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;endsWith&quot;)){\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()+&quot;%&quot;));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;blank&quot;)){\n                    predicateList.add(criteriaBuilder.isNull(companyRoot.get(colName)));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notBlank&quot;)){\n                    predicateList.add(criteriaBuilder.isNotNull(companyRoot.get(colName)));\n                }\n            }\n        });\n        return  predicateList;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose","memcached"],"answers":[{"comments":[{"owner":{"account_id":22737956,"reputation":35,"user_id":16899906,"display_name":"Amir Katorza"},"score":0,"creation_date":1695744959,"post_id":77178943,"comment_id":136064293,"body_markdown":"I&#39;ve removed the `spring.cache.type=GENERIC` as you offered and caching seems to work well.\nDo you have any suggestions how to validate the use of memcached and make  sure my app I&#39;m trying to CI is not using `SIMPLE` as the default caching library?","body":"I&#39;ve removed the <code>spring.cache.type=GENERIC</code> as you offered and caching seems to work well. Do you have any suggestions how to validate the use of memcached and make  sure my app I&#39;m trying to CI is not using <code>SIMPLE</code> as the default caching library?"},{"owner":{"account_id":185945,"reputation":1421,"user_id":422979,"accept_rate":76,"display_name":"Igor"},"score":1,"creation_date":1695800886,"post_id":77178943,"comment_id":136071165,"body_markdown":"You might check the type of `org.springframework.cache.CacheManager` Spring bean, perhaps on application startup within method annotated with`@PostConstruct` annotation, having following condition inside **if** statement:`MemcachedCacheManager.class.isAssignableFrom(cacheManager.getClass())`. If this statement is `true`, everything is fine and memcached cache is used; otherwise some other cache type is used.","body":"You might check the type of <code>org.springframework.cache.CacheManager</code> Spring bean, perhaps on application startup within method annotated with<code>@PostConstruct</code> annotation, having following condition inside <b>if</b> statement:<code>MemcachedCacheManager.class.isAssignableFrom(cache&zwnj;&#8203;Manager.getClass())</code>. If this statement is <code>true</code>, everything is fine and memcached cache is used; otherwise some other cache type is used."}],"tags":[],"owner":{"account_id":185945,"reputation":1421,"user_id":422979,"accept_rate":76,"display_name":"Igor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695722452,"creation_date":1695722452,"answer_id":77178943,"question_id":77157071,"body_markdown":"Could you try removing the `spring.cache.type=GENERIC` from your `application.properties` and try again.\r\n\r\nThe issue you have reported is related to the cache configuration in the application itself.\r\n\r\nIn case the `spring.cache.type` is specified, the **memcached-spring-boot-starter** library will skip its auto-configuration and use **Spring Boot** cache auto-configuration instead. Being the [GENERIC][1] cache type is missing proper configuration (`org.springframework.cache.Cache` bean), the application startup will fail.\r\n\r\nYou should also consider upgrading the **memcached-spring-boot-starter** to the latest version `2.5.0`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/3.2.x/reference/html/io.html#io.caching.provider.generic","title":"Memcached configuration in springboot app","body":"<p>Could you try removing the <code>spring.cache.type=GENERIC</code> from your <code>application.properties</code> and try again.</p>\n<p>The issue you have reported is related to the cache configuration in the application itself.</p>\n<p>In case the <code>spring.cache.type</code> is specified, the <strong>memcached-spring-boot-starter</strong> library will skip its auto-configuration and use <strong>Spring Boot</strong> cache auto-configuration instead. Being the <a href=\"https://docs.spring.io/spring-boot/docs/3.2.x/reference/html/io.html#io.caching.provider.generic\" rel=\"nofollow noreferrer\">GENERIC</a> cache type is missing proper configuration (<code>org.springframework.cache.Cache</code> bean), the application startup will fail.</p>\n<p>You should also consider upgrading the <strong>memcached-spring-boot-starter</strong> to the latest version <code>2.5.0</code>.</p>\n"}],"owner":{"account_id":22737956,"reputation":35,"user_id":16899906,"display_name":"Amir Katorza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77178943,"answer_count":1,"score":0,"last_activity_date":1695722452,"creation_date":1695380781,"question_id":77157071,"body_markdown":"I&#39;m trying to CI a Java SpringBoot app, the app is making use of memcached.\r\n`pom.xml` dependency:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.sixhours&lt;/groupId&gt;\r\n  &lt;artifactId&gt;memcached-spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3.1&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n```\r\n\r\nI&#39;v created a `docker-compose.yaml` file with `memcached` container, `app` container and `nginx` as reverse proxy all running on the same network `ci_network`:\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n  memcached:\r\n    image: memcached:latest\r\n    ports:\r\n      - &quot;11211:11211&quot;\r\n    networks:\r\n      - ci_network\r\n    healthcheck:\r\n      test: [&quot;CMD&quot;, &quot;echo&quot;, &quot;stats&quot;, &quot;|&quot;, &quot;nc&quot;, &quot;localhost&quot;, &quot;11211&quot;]\r\n      interval: 10s\r\n      timeout: 2s\r\n      retries: 5\r\n  \r\n  # Backend - ted-search app\r\n  app:\r\n    image: ted-search:latest\r\n    depends_on:\r\n      memcached:\r\n        condition: service_healthy\r\n    networks:\r\n      - ci_network\r\n\r\n  # Reverse Proxy - Nginx\r\n  proxy:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile.nginx    \r\n    ports:\r\n      - &quot;80:80&quot;\r\n    depends_on:\r\n      - app    \r\n    networks:\r\n      - ci_network\r\n\r\nnetworks:\r\n  ci_network:\r\n    external: true\r\n```\r\n\r\nI&#39;ve configured the `application.properties` file to enable memcached as follows:\r\n```\r\nserver.port: 9191\r\n\r\nspring.cache.type=GENERIC\r\n\r\n# MEMCACHED CACHE\r\nmemcached.cache.servers: memcached:11211\r\nmemcached.cache.mode: static\r\nmemcached.cache.expirations: 3600, oembed:3600\r\nmemcached.cache.prefix: memcached:spring-boot\r\nmemcached.cache.namespace: namespace\r\nmemcached.cache.protocol: text\r\n\r\n\r\n#Metrics related configurations\r\nmanagement.endpoint.metrics.enabled=true\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.prometheus.enabled=true\r\nmanagement.metrics.export.prometheus.enabled=true\r\n\r\nmanagement.metrics.distribution.percentiles-histogram.http.server.requests: true\r\nmanagement.metrics.distribution.sla.server.requests: 450ms\r\n```\r\n\r\nfor some reason every time I&#39;m running my docker compose orchestration the app is crashing with the following error:\r\n```\r\n18:21:03  ted-search_master-app-1        | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cacheAutoConfigurationValidator&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is &#39;GENERIC&#39;)\r\n```\r\n\r\nwhat am I doing wrong?","title":"Memcached configuration in springboot app","body":"<p>I'm trying to CI a Java SpringBoot app, the app is making use of memcached.\n<code>pom.xml</code> dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.sixhours&lt;/groupId&gt;\n  &lt;artifactId&gt;memcached-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>I'v created a <code>docker-compose.yaml</code> file with <code>memcached</code> container, <code>app</code> container and <code>nginx</code> as reverse proxy all running on the same network <code>ci_network</code>:</p>\n<pre><code>version: '3'\n\nservices:\n  memcached:\n    image: memcached:latest\n    ports:\n      - &quot;11211:11211&quot;\n    networks:\n      - ci_network\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;echo&quot;, &quot;stats&quot;, &quot;|&quot;, &quot;nc&quot;, &quot;localhost&quot;, &quot;11211&quot;]\n      interval: 10s\n      timeout: 2s\n      retries: 5\n  \n  # Backend - ted-search app\n  app:\n    image: ted-search:latest\n    depends_on:\n      memcached:\n        condition: service_healthy\n    networks:\n      - ci_network\n\n  # Reverse Proxy - Nginx\n  proxy:\n    build:\n      context: .\n      dockerfile: Dockerfile.nginx    \n    ports:\n      - &quot;80:80&quot;\n    depends_on:\n      - app    \n    networks:\n      - ci_network\n\nnetworks:\n  ci_network:\n    external: true\n</code></pre>\n<p>I've configured the <code>application.properties</code> file to enable memcached as follows:</p>\n<pre><code>server.port: 9191\n\nspring.cache.type=GENERIC\n\n# MEMCACHED CACHE\nmemcached.cache.servers: memcached:11211\nmemcached.cache.mode: static\nmemcached.cache.expirations: 3600, oembed:3600\nmemcached.cache.prefix: memcached:spring-boot\nmemcached.cache.namespace: namespace\nmemcached.cache.protocol: text\n\n\n#Metrics related configurations\nmanagement.endpoint.metrics.enabled=true\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.prometheus.enabled=true\nmanagement.metrics.export.prometheus.enabled=true\n\nmanagement.metrics.distribution.percentiles-histogram.http.server.requests: true\nmanagement.metrics.distribution.sla.server.requests: 450ms\n</code></pre>\n<p>for some reason every time I'm running my docker compose orchestration the app is crashing with the following error:</p>\n<pre><code>18:21:03  ted-search_master-app-1        | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheAutoConfigurationValidator' defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'GENERIC')\n</code></pre>\n<p>what am I doing wrong?</p>\n"},{"tags":["java","jersey","jax-rs","jersey-client"],"answers":[{"comments":[{"owner":{"account_id":29535988,"reputation":1,"user_id":22635576,"display_name":"Mehul"},"score":0,"creation_date":1695896506,"post_id":77178911,"comment_id":136086264,"body_markdown":"Is there any other client API I can use to make a request ?","body":"Is there any other client API I can use to make a request ?"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1696268389,"post_id":77178911,"comment_id":136128454,"body_markdown":"See the list of supported connectors. Just use which you see fit and register the connector as described in the linked documentation.","body":"See the list of supported connectors. Just use which you see fit and register the connector as described in the linked documentation."}],"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695722233,"creation_date":1695722233,"answer_id":77178911,"question_id":77177702,"body_markdown":"Starting with JDK 16, it is no longer possible to use reflection on JDK internal classes and add PATCH method to a list of supported HTTP methods by the default HTTPUrlConnector (which is what `client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);` tries to do.\r\n\r\nPlease select another connector from the [list of supported connectors][1] to support HTTP Patch method.\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/client.html#d0e4892","title":"How to make PATCH request using Jersey client?","body":"<p>Starting with JDK 16, it is no longer possible to use reflection on JDK internal classes and add PATCH method to a list of supported HTTP methods by the default HTTPUrlConnector (which is what <code>client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);</code> tries to do.</p>\n<p>Please select another connector from the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/client.html#d0e4892\" rel=\"nofollow noreferrer\">list of supported connectors</a> to support HTTP Patch method.</p>\n"}],"owner":{"account_id":29535988,"reputation":1,"user_id":22635576,"display_name":"Mehul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695722233,"creation_date":1695712098,"question_id":77177702,"body_markdown":"```\r\nWebTarget target = client.target(url);            client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);\r\nResponse response = target\r\n                    .request(MediaType.APPLICATION_JSON_PATCH_JSON)\r\n                    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n                    .method(&quot;PATCH&quot;, Entity.json(JSONUtils.convertToJSON(List.of(startStopPayload))));\r\n```\r\nI tried making request like,\r\nBut received an error\r\nThis is the error:\r\n```\r\njakarta.ws.rs.ProcessingException: Unable to make field private final sun.net.www.protocol.https.DelegateHttpsURLConnection sun.net.www.protocol.https.HttpsURLConnectionImpl.delegate accessible: module java.base does not &quot;opens sun.net.www.protocol.https&quot; to unnamed module @47f37ef1\r\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:309)\r\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\r\n        at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n        at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661)\r\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439)\r\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient.stopInstance(K8sBlockchainPlatformInstanceClient.java:183)\r\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient$Proxy$_$$_WeldClientProxy.stopInstance(Unknown Source)\r\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager.stopBlockchainPlatform(BPServiceManager.java:749)\r\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldSubclass.stopBlockchainPlatform(Unknown Source)\r\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\r\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource.stopBlockchainPlatform(BlockchainPlatformResource.java:393)\r\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n        at io.helidon.webserver.jersey.JerseySupport$JerseyHandler.lambda$doAccept$4(JerseySupport.java:334)\r\n        at io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\r\n        at io.helidon.common.context.ContextAwareExecutorImpl.lambda$wrap$7(ContextAwareExecutorImpl.java:154)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI tried adding \r\n`client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);`\r\n\r\nI&#39;m using jdk 17","title":"How to make PATCH request using Jersey client?","body":"<pre><code>WebTarget target = client.target(url);            client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);\nResponse response = target\n                    .request(MediaType.APPLICATION_JSON_PATCH_JSON)\n                    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n                    .method(&quot;PATCH&quot;, Entity.json(JSONUtils.convertToJSON(List.of(startStopPayload))));\n</code></pre>\n<p>I tried making request like,\nBut received an error\nThis is the error:</p>\n<pre><code>jakarta.ws.rs.ProcessingException: Unable to make field private final sun.net.www.protocol.https.DelegateHttpsURLConnection sun.net.www.protocol.https.HttpsURLConnectionImpl.delegate accessible: module java.base does not &quot;opens sun.net.www.protocol.https&quot; to unnamed module @47f37ef1\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:309)\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\n        at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n        at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439)\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient.stopInstance(K8sBlockchainPlatformInstanceClient.java:183)\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient$Proxy$_$$_WeldClientProxy.stopInstance(Unknown Source)\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager.stopBlockchainPlatform(BPServiceManager.java:749)\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldSubclass.stopBlockchainPlatform(Unknown Source)\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource.stopBlockchainPlatform(BlockchainPlatformResource.java:393)\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n        at io.helidon.webserver.jersey.JerseySupport$JerseyHandler.lambda$doAccept$4(JerseySupport.java:334)\n        at io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\n        at io.helidon.common.context.ContextAwareExecutorImpl.lambda$wrap$7(ContextAwareExecutorImpl.java:154)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I tried adding\n<code>client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);</code></p>\n<p>I'm using jdk 17</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1669467577,"post_id":74548080,"comment_id":131649513,"body_markdown":"What types are `Type1Detail` and `Type2Detail`?  The two `detail` fields don&#39;t specifically need to be the same type, but if they&#39;re object types, they must select fields with the same type, and if they&#39;re scalars, they can&#39;t be different types.  Full details in [Field Selection Merging](https://spec.graphql.org/October2021/#sec-Field-Selection-Merging) in the GraphQL spec.  If your query is actually invalid, you may need to modify it (maybe using [aliases](https://spec.graphql.org/October2021/#sec-Field-Alias)) rather than working around it in client code.","body":"What types are <code>Type1Detail</code> and <code>Type2Detail</code>?  The two <code>detail</code> fields don&#39;t specifically need to be the same type, but if they&#39;re object types, they must select fields with the same type, and if they&#39;re scalars, they can&#39;t be different types.  Full details in <a href=\"https://spec.graphql.org/October2021/#sec-Field-Selection-Merging\" rel=\"nofollow noreferrer\">Field Selection Merging</a> in the GraphQL spec.  If your query is actually invalid, you may need to modify it (maybe using <a href=\"https://spec.graphql.org/October2021/#sec-Field-Alias\" rel=\"nofollow noreferrer\">aliases</a>) rather than working around it in client code."}],"answers":[{"tags":[],"owner":{"account_id":274408,"reputation":25697,"user_id":566627,"accept_rate":76,"display_name":"Sailesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669794095,"creation_date":1669794095,"answer_id":74624308,"question_id":74548080,"body_markdown":"I was able to solve this by creating `GraphQLServletContextBuilder` bean like below. Other beans like `GraphQLContextBuilder` did not help.\r\n\r\n\r\n```\r\n    @Bean\r\n\tGraphQLServletContextBuilder graphQLServletContextBuilder() {\r\n\t\treturn new GraphQLServletContextBuilder() {\r\n\t\t\tfinal Predicate&lt;Class&lt;?&gt;&gt; predicate =\r\n\t\t\t    aClass -&gt; !aClass.equals(OverlappingFieldsCanBeMerged.class);\r\n\t\t\t@Override\r\n\t\t\tpublic GraphQLKickstartContext build(\r\n\t\t\t    HttpServletRequest httpServletRequest,\r\n\t\t\t    HttpServletResponse httpServletResponse) {\r\n                // I don&#39;t know if all 3 are required, but returning\r\n                // null was throwing NPE.\r\n\t\t\t\treturn GraphQLKickstartContext.of(Map.of(\r\n\t\t\t\t    HttpServletRequest.class,\r\n\t\t\t\t    httpServletRequest,\r\n\t\t\t\t    HttpServletResponse.class,\r\n\t\t\t\t    httpServletResponse,\r\n\t\t\t\t    &quot;graphql.ParseAndValidate.Predicate&quot;,\r\n\t\t\t\t    predicate));\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic GraphQLKickstartContext build(\r\n\t\t\t    Session session, HandshakeRequest handshakeRequest) {\r\n                // I don&#39;t know if all 3 are required, but returning\r\n                // null was throwing NPE.\r\n\t\t\t\treturn GraphQLKickstartContext.of(Map.of(\r\n\t\t\t\t    Session.class,\r\n\t\t\t\t    session,\r\n\t\t\t\t    HandshakeRequest.class,\r\n\t\t\t\t    handshakeRequest,\r\n\t\t\t\t    &quot;graphql.ParseAndValidate.Predicate&quot;,\r\n\t\t\t\t    predicate));\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic GraphQLKickstartContext build() {\r\n\t\t\t\treturn GraphQLKickstartContext.of(\r\n\t\t\t\t    Map.of(&quot;graphql.ParseAndValidate.Predicate&quot;, predicate));\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n```","title":"How to skip validation rules in GraphQL Spring Boot application","body":"<p>I was able to solve this by creating <code>GraphQLServletContextBuilder</code> bean like below. Other beans like <code>GraphQLContextBuilder</code> did not help.</p>\n<pre><code>    @Bean\n    GraphQLServletContextBuilder graphQLServletContextBuilder() {\n        return new GraphQLServletContextBuilder() {\n            final Predicate&lt;Class&lt;?&gt;&gt; predicate =\n                aClass -&gt; !aClass.equals(OverlappingFieldsCanBeMerged.class);\n            @Override\n            public GraphQLKickstartContext build(\n                HttpServletRequest httpServletRequest,\n                HttpServletResponse httpServletResponse) {\n                // I don't know if all 3 are required, but returning\n                // null was throwing NPE.\n                return GraphQLKickstartContext.of(Map.of(\n                    HttpServletRequest.class,\n                    httpServletRequest,\n                    HttpServletResponse.class,\n                    httpServletResponse,\n                    &quot;graphql.ParseAndValidate.Predicate&quot;,\n                    predicate));\n            }\n\n            @Override\n            public GraphQLKickstartContext build(\n                Session session, HandshakeRequest handshakeRequest) {\n                // I don't know if all 3 are required, but returning\n                // null was throwing NPE.\n                return GraphQLKickstartContext.of(Map.of(\n                    Session.class,\n                    session,\n                    HandshakeRequest.class,\n                    handshakeRequest,\n                    &quot;graphql.ParseAndValidate.Predicate&quot;,\n                    predicate));\n            }\n\n            @Override\n            public GraphQLKickstartContext build() {\n                return GraphQLKickstartContext.of(\n                    Map.of(&quot;graphql.ParseAndValidate.Predicate&quot;, predicate));\n            }\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9243646,"reputation":11,"user_id":6866219,"display_name":"Tomix1337"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695721994,"creation_date":1695721994,"answer_id":77178887,"question_id":74548080,"body_markdown":"Great answer from Sailesh, I improved it slightly to use the default&#39;s super methods and add my own predicate instead of overriding everything. I am using the Immutable library to help me out here, but can be easily done with plain java.\r\n\r\n    @Bean\r\n    public GraphQLServletContextBuilder graphQLServletContextBuilder() {\r\n        return new DefaultGraphQLServletContextBuilder() {\r\n            private final String key = &quot;graphql.ParseAndValidate.Predicate&quot;;\r\n            private final Predicate&lt;Class&lt;?&gt;&gt; predicate =\r\n                    aClass -&gt; !aClass.equals(FieldsOnCorrectType.class);\r\n\r\n            @Override\r\n            public GraphQLKickstartContext build(\r\n                    HttpServletRequest httpServletRequest,\r\n                    HttpServletResponse httpServletResponse) {\r\n                return GraphQLKickstartContext.of(\r\n                        ImmutableMap.builder().putAll(super.build(httpServletRequest, httpServletResponse).getMapOfContext())\r\n                                .put(key, predicate).build());\r\n            }\r\n\r\n            @Override\r\n            public GraphQLKickstartContext build(\r\n                    Session session, HandshakeRequest handshakeRequest) {\r\n\r\n                return GraphQLKickstartContext.of(\r\n                        ImmutableMap.builder().putAll(super.build(session, handshakeRequest).getMapOfContext())\r\n                                .put(key, predicate).build());\r\n            }\r\n\r\n            @Override\r\n            public GraphQLKickstartContext build() {\r\n                return GraphQLKickstartContext.of(\r\n                        Map.of(key, predicate));\r\n            }\r\n        };\r\n    }","title":"How to skip validation rules in GraphQL Spring Boot application","body":"<p>Great answer from Sailesh, I improved it slightly to use the default's super methods and add my own predicate instead of overriding everything. I am using the Immutable library to help me out here, but can be easily done with plain java.</p>\n<pre><code>@Bean\npublic GraphQLServletContextBuilder graphQLServletContextBuilder() {\n    return new DefaultGraphQLServletContextBuilder() {\n        private final String key = &quot;graphql.ParseAndValidate.Predicate&quot;;\n        private final Predicate&lt;Class&lt;?&gt;&gt; predicate =\n                aClass -&gt; !aClass.equals(FieldsOnCorrectType.class);\n\n        @Override\n        public GraphQLKickstartContext build(\n                HttpServletRequest httpServletRequest,\n                HttpServletResponse httpServletResponse) {\n            return GraphQLKickstartContext.of(\n                    ImmutableMap.builder().putAll(super.build(httpServletRequest, httpServletResponse).getMapOfContext())\n                            .put(key, predicate).build());\n        }\n\n        @Override\n        public GraphQLKickstartContext build(\n                Session session, HandshakeRequest handshakeRequest) {\n\n            return GraphQLKickstartContext.of(\n                    ImmutableMap.builder().putAll(super.build(session, handshakeRequest).getMapOfContext())\n                            .put(key, predicate).build());\n        }\n\n        @Override\n        public GraphQLKickstartContext build() {\n            return GraphQLKickstartContext.of(\n                    Map.of(key, predicate));\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":274408,"reputation":25697,"user_id":566627,"accept_rate":76,"display_name":"Sailesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624308,"answer_count":2,"score":0,"last_activity_date":1695721994,"creation_date":1669212327,"question_id":74548080,"body_markdown":"I have a SpringBoot + GraphQL application. I am trying to upgrade to the latest version (graphql-spring-boot-starter 11.1.0 -&gt; 13.0.1) which changes `graphql-java` from 16.2 -&gt; 19.2.\r\n\r\nI have schema that looks like\r\n```\r\nenum Type {\r\n  TYPE1\r\n  TYPE2\r\n}\r\ninterface Generic {\r\n  name: String\r\n  type: Type\r\n}\r\ntype Type1 extends Generic {\r\n  name: String\r\n  type: Type\r\n  detail: Type1Detail\r\n}\r\ntype Type2 extends Generic {\r\n  name: String\r\n  type: Type\r\n  detail: Type2Detail\r\n}\r\n```\r\n\r\nand my queries have pattern like this:\r\n```\r\nquery {\r\n  GetObject {\r\n    name\r\n    type\r\n    ... on Type1 {\r\n      detail\r\n    }\r\n    ... on Type2 {\r\n      detail\r\n    }\r\n  }\r\n```\r\n\r\nThis has been working for the past few years on 16.2 and earlier, but with the updated version, I am getting error that looks like \r\n```\r\nValidation error (FieldsConflict@[...] : detail : returns different types &#39;Type1Detail&#39; and &#39;Type2Detail&#39;\r\n```\r\n\r\nIs there any way to fix it other than changing the schema? Because I have followed this naming pattern in a lot of places with several types that is hard to change now.\r\n\r\nAlternately, I was trying [Skipping Validation Rules introduced in v18.0](https://github.com/graphql-java/graphql-java/releases/tag/v18.0), but I am not able to find what bean (and how) to create to override the `GraphQLContext` to pass in the specific predicate to disable that check.","title":"How to skip validation rules in GraphQL Spring Boot application","body":"<p>I have a SpringBoot + GraphQL application. I am trying to upgrade to the latest version (graphql-spring-boot-starter 11.1.0 -&gt; 13.0.1) which changes <code>graphql-java</code> from 16.2 -&gt; 19.2.</p>\n<p>I have schema that looks like</p>\n<pre><code>enum Type {\n  TYPE1\n  TYPE2\n}\ninterface Generic {\n  name: String\n  type: Type\n}\ntype Type1 extends Generic {\n  name: String\n  type: Type\n  detail: Type1Detail\n}\ntype Type2 extends Generic {\n  name: String\n  type: Type\n  detail: Type2Detail\n}\n</code></pre>\n<p>and my queries have pattern like this:</p>\n<pre><code>query {\n  GetObject {\n    name\n    type\n    ... on Type1 {\n      detail\n    }\n    ... on Type2 {\n      detail\n    }\n  }\n</code></pre>\n<p>This has been working for the past few years on 16.2 and earlier, but with the updated version, I am getting error that looks like</p>\n<pre><code>Validation error (FieldsConflict@[...] : detail : returns different types 'Type1Detail' and 'Type2Detail'\n</code></pre>\n<p>Is there any way to fix it other than changing the schema? Because I have followed this naming pattern in a lot of places with several types that is hard to change now.</p>\n<p>Alternately, I was trying <a href=\"https://github.com/graphql-java/graphql-java/releases/tag/v18.0\" rel=\"nofollow noreferrer\">Skipping Validation Rules introduced in v18.0</a>, but I am not able to find what bean (and how) to create to override the <code>GraphQLContext</code> to pass in the specific predicate to disable that check.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1695674843,"post_id":77175607,"comment_id":136053590,"body_markdown":"If you want to store &quot;multi-line strings&quot; in a file where they would actually occupy multiple lines, then you need to define a *delimiter* that will indicate when each string ends. Then you can consistently parse the text in the file into multi-line strings.","body":"If you want to store &quot;multi-line strings&quot; in a file where they would actually occupy multiple lines, then you need to define a <i>delimiter</i> that will indicate when each string ends. Then you can consistently parse the text in the file into multi-line strings."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695675186,"post_id":77175607,"comment_id":136053632,"body_markdown":"The easiest and most flexible way to serialize data in a text-readable way is via JSON or XML. And the easiest way to do this is via a library, such as GSON or Jackson. This is what I recommend that you do.","body":"The easiest and most flexible way to serialize data in a text-readable way is via JSON or XML. And the easiest way to do this is via a library, such as GSON or Jackson. This is what I recommend that you do."},{"owner":{"account_id":25313441,"reputation":15,"user_id":19135894,"display_name":"moon"},"score":0,"creation_date":1695675336,"post_id":77175607,"comment_id":136053655,"body_markdown":"@h0r53 I know how to do it best so that it doesn&#39;t conflict with the strings in the file, as I mentioned","body":"@h0r53 I know how to do it best so that it doesn&#39;t conflict with the strings in the file, as I mentioned"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695676221,"post_id":77175607,"comment_id":136053749,"body_markdown":"Use the _String#split_ method to divide the values, then place the values on a single line, each within quotes, escaped, and delimited.","body":"Use the <i>String#split</i> method to divide the values, then place the values on a single line, each within quotes, escaped, and delimited."}],"answers":[{"tags":[],"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695676822,"creation_date":1695675997,"answer_id":77175710,"question_id":77175607,"body_markdown":"Generally, the default delimiter for textual data is the newline character. Since you want the newline character to be included in your representation of an individual string, you could use a new delimiter to achieve this.\r\n\r\nFor example, you are interested in storing the following data in a text file\r\n```\r\nsomething\r\nI\r\nlike\r\nto\r\nride\r\nhorses\r\nsometimes\r\nits ok\r\n```\r\nHowever, in your application you want to have the following\r\n\r\nstring_A = `&quot;something&quot;`\r\n\r\nstring_B = `&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;`\r\n\r\nstring_C = `&quot;its ok&quot;`\r\n\r\nAs you&#39;ve already found, attempting to read the text file line by line will make it difficult to preserve the multi-line strings in your original data structure. One way to achieve this is to use a delimiter for your strings. Let&#39;s say the delimiter is the semi-colon character `;`. Then your text file could look like this:\r\n```\r\nsomething;\r\nI\r\nlike\r\nto\r\nride\r\nhorses\r\nsometimes;\r\nits ok;\r\n```\r\nThen you could define your read and write functions to use a delimiter when writing the data and parsing it:\r\n```\r\npublic static void storeToFile(List&lt;String&gt; strings, String fileName, String delimiter = &quot;;&quot;) {}\r\npublic static List&lt;String&gt; fromFile(String fileName, String delimiter = &quot;;&quot;) {}\r\n```\r\nThe storeToFile method would add the delimiter to the string when it is written to a file. The fromFile method would read up until encountering the delimiter instead of reading line by line.\r\n\r\nThis will help you preserve your original data.\r\n\r\n&gt; what if the user enters a string of characters that is also a separator\r\n\r\nYou could use a special character or non-printable character which helps avoid this situation, such as a null-byte (`delimiter = &quot;\\x00&quot;`). You could also validate the strings ahead of time to ensure the delimiter is not within them. It helps to limit the text of your users to a pre-defined set of characters in these cases.\r\n\r\n**Alternatives**\r\n\r\nIf you are looking for a quicker approach, you could also simply serialize your ArrayList&lt;String&gt; when writing to a file and deserialize it when reading. However, this will cause artifacts of the serialization to be present in the text file and **it will not read as the following if you open the file**:\r\n```\r\nsomething\r\nI\r\nlike\r\nto\r\nride\r\nhorses\r\nsometimes\r\nits ok\r\n```\r\nInstead, you&#39;ll find metadata representing the ArrayList&lt;String&gt; as a serialized entity.\r\n\r\n","title":"How to write and read many single and multi lines String","body":"<p>Generally, the default delimiter for textual data is the newline character. Since you want the newline character to be included in your representation of an individual string, you could use a new delimiter to achieve this.</p>\n<p>For example, you are interested in storing the following data in a text file</p>\n<pre><code>something\nI\nlike\nto\nride\nhorses\nsometimes\nits ok\n</code></pre>\n<p>However, in your application you want to have the following</p>\n<p>string_A = <code>&quot;something&quot;</code></p>\n<p>string_B = <code>&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;</code></p>\n<p>string_C = <code>&quot;its ok&quot;</code></p>\n<p>As you've already found, attempting to read the text file line by line will make it difficult to preserve the multi-line strings in your original data structure. One way to achieve this is to use a delimiter for your strings. Let's say the delimiter is the semi-colon character <code>;</code>. Then your text file could look like this:</p>\n<pre><code>something;\nI\nlike\nto\nride\nhorses\nsometimes;\nits ok;\n</code></pre>\n<p>Then you could define your read and write functions to use a delimiter when writing the data and parsing it:</p>\n<pre><code>public static void storeToFile(List&lt;String&gt; strings, String fileName, String delimiter = &quot;;&quot;) {}\npublic static List&lt;String&gt; fromFile(String fileName, String delimiter = &quot;;&quot;) {}\n</code></pre>\n<p>The storeToFile method would add the delimiter to the string when it is written to a file. The fromFile method would read up until encountering the delimiter instead of reading line by line.</p>\n<p>This will help you preserve your original data.</p>\n<blockquote>\n<p>what if the user enters a string of characters that is also a separator</p>\n</blockquote>\n<p>You could use a special character or non-printable character which helps avoid this situation, such as a null-byte (<code>delimiter = &quot;\\x00&quot;</code>). You could also validate the strings ahead of time to ensure the delimiter is not within them. It helps to limit the text of your users to a pre-defined set of characters in these cases.</p>\n<p><strong>Alternatives</strong></p>\n<p>If you are looking for a quicker approach, you could also simply serialize your ArrayList when writing to a file and deserialize it when reading. However, this will cause artifacts of the serialization to be present in the text file and <strong>it will not read as the following if you open the file</strong>:</p>\n<pre><code>something\nI\nlike\nto\nride\nhorses\nsometimes\nits ok\n</code></pre>\n<p>Instead, you'll find metadata representing the ArrayList as a serialized entity.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695676857,"creation_date":1695676857,"answer_id":77175776,"question_id":77175607,"body_markdown":"I suggest using the conventional end-of-line escape, a backslash or `\\` character. \r\n\r\nWhen writing the file, insert a `\\` before each linefeed and backslash character in the user input. When reading the file, join lines that end with a backslash together into a single string, and replace any double-backslash sequences with a single backslash.","title":"How to write and read many single and multi lines String","body":"<p>I suggest using the conventional end-of-line escape, a backslash or <code>\\</code> character.</p>\n<p>When writing the file, insert a <code>\\</code> before each linefeed and backslash character in the user input. When reading the file, join lines that end with a backslash together into a single string, and replace any double-backslash sequences with a single backslash.</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1695678466,"post_id":77175864,"comment_id":136053968,"body_markdown":"This actually corrupts the string by removing the desired line breaks. That&#39;s why I suggested joining the strings &quot;manually.&quot;","body":"This actually corrupts the string by removing the desired line breaks. That&#39;s why I suggested joining the strings &quot;manually.&quot;"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695678647,"post_id":77175864,"comment_id":136053987,"body_markdown":"@erickson – Explain that, please!","body":"@erickson – Explain that, please!"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1695678746,"post_id":77175864,"comment_id":136053996,"body_markdown":"The escape sequence &quot;\\ {end-of-line}&quot; is discarded by `translateEscapes()`. (Because in a multi-line string literal, `\\ EOL` is a continuation of the string.)","body":"The escape sequence &quot;\\ {end-of-line}&quot; is discarded by <code>translateEscapes()</code>. (Because in a multi-line string literal, <code>\\ EOL</code> is a continuation of the string.)"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695678922,"post_id":77175864,"comment_id":136054008,"body_markdown":"@erickson – Confessed! But the question is about *multi-line* strings, not about *multi-line string* ***literals***! See the original question!","body":"@erickson – Confessed! But the question is about <i>multi-line</i> strings, not about <i>multi-line string</i> <b><i>literals</i></b>! See the original question!"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1695679022,"post_id":77175864,"comment_id":136054021,"body_markdown":"Right. You are using a method, `translateEscapes()`, that was designed for processing Java source code in some other context, and it&#39;s not doing what you want. The question is about preserving line breaks in a string. Your approach strips them from the string.","body":"Right. You are using a method, <code>translateEscapes()</code>, that was designed for processing Java source code in some other context, and it&#39;s not doing what you want. The question is about preserving line breaks in a string. Your approach strips them from the string."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695679215,"post_id":77175864,"comment_id":136054048,"body_markdown":"@erickson – The question is about storing strings in a file with preserving the line breaks *when reading them back*. Nothing was said on how the file format has to look like or if the strings in the file has to be readable.","body":"@erickson – The question is about storing strings in a file with preserving the line breaks <i>when reading them back</i>. Nothing was said on how the file format has to look like or if the strings in the file has to be readable."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1695688813,"post_id":77175864,"comment_id":136054937,"body_markdown":"I misunderstood the escape sequence you are using for linefeeds. You are trying to replace linefeed with backlash and a lowercase &quot;n&quot;; I read it as a backslash and a linefeed, which `translateEscapes()` would discard. You do have a problem in your `replaceAll()` calls though; they take regexes and all the slashes have to be doubled again.","body":"I misunderstood the escape sequence you are using for linefeeds. You are trying to replace linefeed with backlash and a lowercase &quot;n&quot;; I read it as a backslash and a linefeed, which <code>translateEscapes()</code> would discard. You do have a problem in your <code>replaceAll()</code> calls though; they take regexes and all the slashes have to be doubled again."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1695689246,"post_id":77175864,"comment_id":136054987,"body_markdown":"To be clear, `string.replaceAll(&quot;\\n&quot;, &quot;\\\\n&quot;)` changes linefeeds to the letter &quot;n&quot; with no preceding backslash. &quot;\\\\&quot; isn&#39;t a valid regex, and the replacement text &quot;\\\\\\\\&quot; yields a single backslash, not two.","body":"To be clear, <code>string.replaceAll(&quot;\\n&quot;, &quot;\\\\n&quot;)</code> changes linefeeds to the letter &quot;n&quot; with no preceding backslash. &quot;\\\\&quot; isn&#39;t a valid regex, and the replacement text &quot;\\\\\\\\&quot; yields a single backslash, not two."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1695721608,"post_id":77175864,"comment_id":136059199,"body_markdown":"As always, I mix up `String#replace` and `String#replaceAll` – I corrected it in the answer …","body":"As always, I mix up <code>String#replace</code> and <code>String#replaceAll</code> – I corrected it in the answer …"}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695721885,"creation_date":1695678270,"answer_id":77175864,"question_id":77175607,"body_markdown":"Ok, using a delimiter for the Strings is an option – but why?\r\n\r\nWhat about escaping the line feeds in the multiline Strings?\r\n\r\n```Java\r\ntry( final var output = new PrintStream( file ) )\r\n{\r\n  for( final var string : strings )\r\n  {\r\n    output.println( string.replace( &quot;\\n&quot;, &quot;\\\\n&quot; ) );\r\n    // If your string contains backslashes, try this instead:\r\n    // output.println( string.replace( &quot;\\\\&quot;, &quot;\\\\\\\\&quot; ).replace( &quot;\\n&quot;, &quot;\\\\n&quot; ) );    \r\n  }\r\n}\r\n```\r\n(Originally, the code was using `String#replaceAll` but as @erickson pointed out in their comment, this is using a Regex and will not work as expected)\r\n\r\nReading them is even simpler:\r\n\r\n```Java\r\nfinal List&lt;String&gt; strings = Files.lines( file.toPath )\r\n  .map( String::translateEscapes )\r\n  .toList();\r\n```\r\n\r\nOr what about using Base64 to store the strings in the file?\r\n\r\nAs usualy, I omitted the required error handling.\r\n","title":"How to write and read many single and multi lines String","body":"<p>Ok, using a delimiter for the Strings is an option – but why?</p>\n<p>What about escaping the line feeds in the multiline Strings?</p>\n<pre><code>try( final var output = new PrintStream( file ) )\n{\n  for( final var string : strings )\n  {\n    output.println( string.replace( &quot;\\n&quot;, &quot;\\\\n&quot; ) );\n    // If your string contains backslashes, try this instead:\n    // output.println( string.replace( &quot;\\\\&quot;, &quot;\\\\\\\\&quot; ).replace( &quot;\\n&quot;, &quot;\\\\n&quot; ) );    \n  }\n}\n</code></pre>\n<p>(Originally, the code was using <code>String#replaceAll</code> but as @erickson pointed out in their comment, this is using a Regex and will not work as expected)</p>\n<p>Reading them is even simpler:</p>\n<pre><code>final List&lt;String&gt; strings = Files.lines( file.toPath )\n  .map( String::translateEscapes )\n  .toList();\n</code></pre>\n<p>Or what about using Base64 to store the strings in the file?</p>\n<p>As usualy, I omitted the required error handling.</p>\n"},{"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1695683008,"post_id":77175894,"comment_id":136054415,"body_markdown":"There is [DataInputStream::readUTF](https://docs.oracle.com/javase/8/docs/api/java/io/DataInputStream.html#readUTF--) and [DataOutputStream::writeUTF](https://docs.oracle.com/javase/8/docs/api/java/io/DataOutputStream.html#writeUTF-java.lang.String-) so your example can be changed to: 1) write number of items 2) write items. You could probably avoiding the step (1) while reading with the available() loop.","body":"There is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/DataInputStream.html#readUTF--\" rel=\"nofollow noreferrer\">DataInputStream::readUTF</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/DataOutputStream.html#writeUTF-java.lang.String-\" rel=\"nofollow noreferrer\">DataOutputStream::writeUTF</a> so your example can be changed to: 1) write number of items 2) write items. You could probably avoiding the step (1) while reading with the available() loop."}],"tags":[],"owner":{"account_id":949072,"reputation":546,"user_id":975638,"accept_rate":100,"display_name":"kyxap"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695678721,"creation_date":1695678721,"answer_id":77175894,"question_id":77175607,"body_markdown":"If you want to store both single-line and multi-line strings in a file without using a separator and without precomputing the number of lines, you can use a format that encodes the length of each string before the string itself. One way to achieve this is by using a binary format, where each string is preceded by a fixed-size integer representing its length in bytes.\r\n\r\nHere&#39;s an example of how you can implement the storeToFile and fromFile methods using this approach:\r\n\r\n\r\n\r\n    public static void storeToFile(List&lt;String&gt; strings, String fileName) {\r\n        try (DataOutputStream outputStream = new DataOutputStream(new FileOutputStream(fileName))) {\r\n            for (String str : strings) {\r\n                byte[] bytes = str.getBytes(&quot;UTF-8&quot;);\r\n                int length = bytes.length;\r\n                outputStream.writeInt(length); // Write the length\r\n                outputStream.write(bytes);     // Write the bytes\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static List&lt;String&gt; fromFile(String fileName) {\r\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        try (DataInputStream inputStream = new DataInputStream(new FileInputStream(fileName))) {\r\n            while (inputStream.available() &gt; 0) {\r\n                int length = inputStream.readInt(); // Read the length\r\n                byte[] bytes = new byte[length];\r\n                inputStream.readFully(bytes);       // Read the bytes\r\n                String str = new String(bytes, &quot;UTF-8&quot;);\r\n                strings.add(str);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return strings;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        strings.add(&quot;something&quot;);\r\n        strings.add(&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;);\r\n        strings.add(&quot;its ok&quot;);\r\n\r\n        storeToFile(strings, &quot;strings.dat&quot;);\r\n\r\n        List&lt;String&gt; loadedStrings = fromFile(&quot;strings.dat&quot;);\r\n        for (String str : loadedStrings) {\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n\r\nIn this example, each string is stored as a series of bytes, with its length encoded as an integer before the string. This approach ensures that you can correctly separate the strings regardless of their content, including newlines or other characters that could be used as separators.","title":"How to write and read many single and multi lines String","body":"<p>If you want to store both single-line and multi-line strings in a file without using a separator and without precomputing the number of lines, you can use a format that encodes the length of each string before the string itself. One way to achieve this is by using a binary format, where each string is preceded by a fixed-size integer representing its length in bytes.</p>\n<p>Here's an example of how you can implement the storeToFile and fromFile methods using this approach:</p>\n<pre><code>public static void storeToFile(List&lt;String&gt; strings, String fileName) {\n    try (DataOutputStream outputStream = new DataOutputStream(new FileOutputStream(fileName))) {\n        for (String str : strings) {\n            byte[] bytes = str.getBytes(&quot;UTF-8&quot;);\n            int length = bytes.length;\n            outputStream.writeInt(length); // Write the length\n            outputStream.write(bytes);     // Write the bytes\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic static List&lt;String&gt; fromFile(String fileName) {\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    try (DataInputStream inputStream = new DataInputStream(new FileInputStream(fileName))) {\n        while (inputStream.available() &gt; 0) {\n            int length = inputStream.readInt(); // Read the length\n            byte[] bytes = new byte[length];\n            inputStream.readFully(bytes);       // Read the bytes\n            String str = new String(bytes, &quot;UTF-8&quot;);\n            strings.add(str);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return strings;\n}\n\npublic static void main(String[] args) {\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    strings.add(&quot;something&quot;);\n    strings.add(&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;);\n    strings.add(&quot;its ok&quot;);\n\n    storeToFile(strings, &quot;strings.dat&quot;);\n\n    List&lt;String&gt; loadedStrings = fromFile(&quot;strings.dat&quot;);\n    for (String str : loadedStrings) {\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p>In this example, each string is stored as a series of bytes, with its length encoded as an integer before the string. This approach ensures that you can correctly separate the strings regardless of their content, including newlines or other characters that could be used as separators.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695681160,"creation_date":1695679484,"answer_id":77175944,"question_id":77175607,"body_markdown":"Here are some lines of data, each embedded line terminator is escaped using double back slashes `\\\\`.  The trailing line terminator is kept to separate line groupings.\r\n```\r\nList&lt;String&gt; lines = List.of(&quot;To be or not to\\\\nbe that is the question.\\n&quot;,\r\n        &quot;When in the course\\\\nof human events it becomes\\\\nnecessary...\\n&quot;,\r\n        &quot;A single line&quot;);\r\n```\r\nwrite to a file\r\n```\r\ntry (FileWriter fw = new FileWriter(&quot;f:/Text.txt&quot;)) {\r\n   for (String line : lines) {\r\n       fw.write(line);\r\n   }\r\n    \r\n} catch (IOException ioe) {\r\n    ioe.printStackTrace();\r\n}\r\n```\r\nread from the file and print\r\n```\r\ntry (Scanner scanner = new Scanner(new File(&quot;F:/Text.txt&quot;))) {\r\n    while (scanner.hasNextLine()) {\r\n        String line = scanner.nextLine().replace(&quot;\\\\n&quot;,&quot;\\n&quot;);\r\n        System.out.println(line);\r\n        System.out.println(&quot;-----------------------&quot;);\r\n    }\r\n}  catch (IOException ioe) {\r\n    ioe.printStackTrace();\r\n}\r\n```\r\nprints\r\n```\r\nTo be or not to\r\nbe that is the question.\r\n-----------------------\r\nWhen in the course\r\nof human events it becomes\r\nnecessary...\r\n-----------------------\r\nA single line\r\n-----------------------\r\n```\r\nAnother way is to write the lines normally and then write a blank line a a delimiter.  When reading, just check if the line is blank and process accordingly.  Of course, this won&#39;t work if you want to include blank lines as embedded blank lines.","title":"How to write and read many single and multi lines String","body":"<p>Here are some lines of data, each embedded line terminator is escaped using double back slashes <code>\\\\</code>.  The trailing line terminator is kept to separate line groupings.</p>\n<pre><code>List&lt;String&gt; lines = List.of(&quot;To be or not to\\\\nbe that is the question.\\n&quot;,\n        &quot;When in the course\\\\nof human events it becomes\\\\nnecessary...\\n&quot;,\n        &quot;A single line&quot;);\n</code></pre>\n<p>write to a file</p>\n<pre><code>try (FileWriter fw = new FileWriter(&quot;f:/Text.txt&quot;)) {\n   for (String line : lines) {\n       fw.write(line);\n   }\n    \n} catch (IOException ioe) {\n    ioe.printStackTrace();\n}\n</code></pre>\n<p>read from the file and print</p>\n<pre><code>try (Scanner scanner = new Scanner(new File(&quot;F:/Text.txt&quot;))) {\n    while (scanner.hasNextLine()) {\n        String line = scanner.nextLine().replace(&quot;\\\\n&quot;,&quot;\\n&quot;);\n        System.out.println(line);\n        System.out.println(&quot;-----------------------&quot;);\n    }\n}  catch (IOException ioe) {\n    ioe.printStackTrace();\n}\n</code></pre>\n<p>prints</p>\n<pre><code>To be or not to\nbe that is the question.\n-----------------------\nWhen in the course\nof human events it becomes\nnecessary...\n-----------------------\nA single line\n-----------------------\n</code></pre>\n<p>Another way is to write the lines normally and then write a blank line a a delimiter.  When reading, just check if the line is blank and process accordingly.  Of course, this won't work if you want to include blank lines as embedded blank lines.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695682671,"creation_date":1695681437,"answer_id":77176050,"question_id":77175607,"body_markdown":"&gt; _&quot;... I am looking for an idea on how to separate these strings in the file, I exclude the use of a separator, because what if the user enters a string of characters that is also a separator ...&quot;_\r\n\r\nIt&#39;s not a difficult implementation.\\\r\nAlthough, the use of the double-slash `\\\\` _would_ be an optimal solution here.\r\n\r\nHere is an example otherwise.\r\n\r\nUtilize the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method to divide the text on the new-line delimiter, and store each line within quotation marks on a single line, comma-delimited.\r\n\r\nAdditionally, assure to replace any `&quot;` characters with `\\&quot;`.\r\n\r\n```java\r\npublic static void storeToFile(List&lt;String&gt; strings, String fileName) throws IOException {\r\n    try (PrintWriter w = new PrintWriter(new FileWriter(fileName))) {\r\n        for (String s : strings) w.println(parse(s));\r\n        w.flush();\r\n    }\r\n}\r\n\r\nstatic String parse(String s) {\r\n    StringBuilder sb = new StringBuilder();\r\n    int i = 0;\r\n    for (String ss : s.split(&quot;\\\\R&quot;)) {\r\n        if (i++ != 0) sb.append(&#39;,&#39;);\r\n        sb.append(&#39;&quot;&#39;);\r\n        sb.append(ss.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;));\r\n        sb.append(&#39;&quot;&#39;);\r\n    }\r\n    return sb.toString();\r\n}\r\n```\r\n\r\nAnd, when reading from the file, truncate the quotation marks, and _split_ on a sequence of `&quot;,&quot;`.\\\r\nAs a note, the actual _regex_ here is, `(?&lt;!\\\\)\\&quot;,\\&quot;`.\r\n\r\n```java\r\npublic static List&lt;List&lt;String&gt;&gt; fromFile(String fileName) throws IOException {\r\n    try (Scanner sc = new Scanner(new File(fileName))) {\r\n        List&lt;List&lt;String&gt;&gt; strings = new ArrayList&lt;&gt;();\r\n        String s;\r\n        while (sc.hasNextLine()) {\r\n            s = sc.nextLine();\r\n            s = s.substring(1, s.length() - 1);\r\n            strings.add(List.of(s.split(&quot;(?&lt;!\\\\\\\\)\\&quot;,\\&quot;&quot;)));\r\n        }\r\n        return strings;\r\n    }\r\n}\r\n```\r\n\r\nExample usage.\r\n\r\n```java\r\nList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\nstrings.add(&quot;something&quot;);\r\nstrings.add(&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;);\r\nstrings.add(&quot;its ok&quot;);\r\nstoreToFile(strings, &quot;file.txt&quot;);\r\nList&lt;List&lt;String&gt;&gt; list = fromFile(&quot;file.txt&quot;);\r\nlist.forEach(System.out::println);\r\n```\r\n\r\nfile.txt\r\n\r\n```none\r\n&quot;something&quot;\r\n&quot;I&quot;,&quot;like&quot;,&quot;to&quot;,&quot;ride&quot;,&quot;horses&quot;,&quot;sometimes&quot;\r\n&quot;its ok&quot;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[something]\r\n[I, like, to, ride, horses, sometimes]\r\n[its ok]\r\n```","title":"How to write and read many single and multi lines String","body":"<blockquote>\n<p><em>&quot;... I am looking for an idea on how to separate these strings in the file, I exclude the use of a separator, because what if the user enters a string of characters that is also a separator ...&quot;</em></p>\n</blockquote>\n<p>It's not a difficult implementation.<br />\nAlthough, the use of the double-slash <code>\\\\</code> <em>would</em> be an optimal solution here.</p>\n<p>Here is an example otherwise.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> method to divide the text on the new-line delimiter, and store each line within quotation marks on a single line, comma-delimited.</p>\n<p>Additionally, assure to replace any <code>&quot;</code> characters with <code>\\&quot;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void storeToFile(List&lt;String&gt; strings, String fileName) throws IOException {\n    try (PrintWriter w = new PrintWriter(new FileWriter(fileName))) {\n        for (String s : strings) w.println(parse(s));\n        w.flush();\n    }\n}\n\nstatic String parse(String s) {\n    StringBuilder sb = new StringBuilder();\n    int i = 0;\n    for (String ss : s.split(&quot;\\\\R&quot;)) {\n        if (i++ != 0) sb.append(',');\n        sb.append('&quot;');\n        sb.append(ss.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;));\n        sb.append('&quot;');\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>And, when reading from the file, truncate the quotation marks, and <em>split</em> on a sequence of <code>&quot;,&quot;</code>.<br />\nAs a note, the actual <em>regex</em> here is, <code>(?&lt;!\\\\)\\&quot;,\\&quot;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;List&lt;String&gt;&gt; fromFile(String fileName) throws IOException {\n    try (Scanner sc = new Scanner(new File(fileName))) {\n        List&lt;List&lt;String&gt;&gt; strings = new ArrayList&lt;&gt;();\n        String s;\n        while (sc.hasNextLine()) {\n            s = sc.nextLine();\n            s = s.substring(1, s.length() - 1);\n            strings.add(List.of(s.split(&quot;(?&lt;!\\\\\\\\)\\&quot;,\\&quot;&quot;)));\n        }\n        return strings;\n    }\n}\n</code></pre>\n<p>Example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nstrings.add(&quot;something&quot;);\nstrings.add(&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;);\nstrings.add(&quot;its ok&quot;);\nstoreToFile(strings, &quot;file.txt&quot;);\nList&lt;List&lt;String&gt;&gt; list = fromFile(&quot;file.txt&quot;);\nlist.forEach(System.out::println);\n</code></pre>\n<p>file.txt</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;something&quot;\n&quot;I&quot;,&quot;like&quot;,&quot;to&quot;,&quot;ride&quot;,&quot;horses&quot;,&quot;sometimes&quot;\n&quot;its ok&quot;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[something]\n[I, like, to, ride, horses, sometimes]\n[its ok]\n</code></pre>\n"}],"owner":{"account_id":25313441,"reputation":15,"user_id":19135894,"display_name":"moon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":6,"score":-1,"last_activity_date":1695721885,"creation_date":1695674698,"question_id":77175607,"body_markdown":"I have a list of strings\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\r\nand I want to store single-line and multi-line strings in this list, \r\nthen save them to a file\r\n\r\n    public static void storeToFile(List&lt;String&gt; strings, String fileName) {}\r\n    public static List&lt;String&gt; fromFile(String fileName) {}\r\n\r\nchcę abym m&#243;gł uzyskać nową eg. \r\n\r\n    strings.add(&quot;something&quot;);\r\n    strings.add(&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;);\r\n    strings.add(&quot;its ok&quot;);\r\n\r\nI am looking for an idea on how to separate these strings in the file, I exclude the use of a separator, because what if the user enters a string of characters that is also a separator, I also exclude counting the lines before the string. I know JSON can do the trick, but is there any other option?","title":"How to write and read many single and multi lines String","body":"<p>I have a list of strings</p>\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and I want to store single-line and multi-line strings in this list,\nthen save them to a file</p>\n<pre><code>public static void storeToFile(List&lt;String&gt; strings, String fileName) {}\npublic static List&lt;String&gt; fromFile(String fileName) {}\n</code></pre>\n<p>chcę abym mógł uzyskać nową eg.</p>\n<pre><code>strings.add(&quot;something&quot;);\nstrings.add(&quot;I\\nlike\\nto\\nride\\nhorses\\nsometimes&quot;);\nstrings.add(&quot;its ok&quot;);\n</code></pre>\n<p>I am looking for an idea on how to separate these strings in the file, I exclude the use of a separator, because what if the user enters a string of characters that is also a separator, I also exclude counting the lines before the string. I know JSON can do the trick, but is there any other option?</p>\n"},{"tags":["java","apache-camel","apache-camel-3"],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695721099,"creation_date":1695711194,"question_id":77177598,"body_markdown":"first of all, I am very new to the Apache camel,\r\nI am using 2.18.0 version for Apache camel.\r\nBelow are the dependencies I have in my project:\r\n1. camel-core\r\n1. camel-mina2\r\n1. camel-spring\r\n1. camel-stream\r\n1. camel-script\r\n1. camel-cxf\r\n1. camel-jetty9\r\n1. cxf-rt-transports-http-jetty\r\n\r\nThe routes are defined in xml files and I am using `ProducerTemplate` to asynchronously sends the message\r\n\r\n`ex: producerTempInstance.asyncSendBody(.....);`\r\n\r\nNow from logs what I can see is the connection getting established for every request, which I dont need, so I thought of maintaining a connection pool for CXF.\r\n\r\nBut I am unaware of how to achieve it ? \r\n\r\n\r\nFrom this documentation https://cxf.apache.org/docs/asynchronous-client-http-transport.html, it says \r\n\r\n&gt; By default, CXF uses a transport based on the in-JDK HttpURLConnection object to perform HTTP requests.\r\n\r\ndoes that mean if I just add properties like `http.maxConnection or keepAlive` for my JVM that will do the trick?\r\n\r\nBut again I am async operations, so will it work in this case as well ?\r\n\r\nAlso I do see the properties,\r\n\r\n&gt; org.apache.cxf.transport.http.async.CONNECTION_TTL, \r\n&gt; org.apache.cxf.transport.http.async.SO_KEEPALIVE \r\n\r\nbut where do I add them ? and is there any Java way to achieve the same ?\r\n\r\nPlease let me know if any further info is needed, even if you could nudge me in right direction that will help, Thanks :)\r\n","title":"How to achieve connection pooling for Apache camel cxf?","body":"<p>first of all, I am very new to the Apache camel,\nI am using 2.18.0 version for Apache camel.\nBelow are the dependencies I have in my project:</p>\n<ol>\n<li>camel-core</li>\n<li>camel-mina2</li>\n<li>camel-spring</li>\n<li>camel-stream</li>\n<li>camel-script</li>\n<li>camel-cxf</li>\n<li>camel-jetty9</li>\n<li>cxf-rt-transports-http-jetty</li>\n</ol>\n<p>The routes are defined in xml files and I am using <code>ProducerTemplate</code> to asynchronously sends the message</p>\n<p><code>ex: producerTempInstance.asyncSendBody(.....);</code></p>\n<p>Now from logs what I can see is the connection getting established for every request, which I dont need, so I thought of maintaining a connection pool for CXF.</p>\n<p>But I am unaware of how to achieve it ?</p>\n<p>From this documentation <a href=\"https://cxf.apache.org/docs/asynchronous-client-http-transport.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/asynchronous-client-http-transport.html</a>, it says</p>\n<blockquote>\n<p>By default, CXF uses a transport based on the in-JDK HttpURLConnection object to perform HTTP requests.</p>\n</blockquote>\n<p>does that mean if I just add properties like <code>http.maxConnection or keepAlive</code> for my JVM that will do the trick?</p>\n<p>But again I am async operations, so will it work in this case as well ?</p>\n<p>Also I do see the properties,</p>\n<blockquote>\n<p>org.apache.cxf.transport.http.async.CONNECTION_TTL,\norg.apache.cxf.transport.http.async.SO_KEEPALIVE</p>\n</blockquote>\n<p>but where do I add them ? and is there any Java way to achieve the same ?</p>\n<p>Please let me know if any further info is needed, even if you could nudge me in right direction that will help, Thanks :)</p>\n"},{"tags":["java","spring-boot","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695720292,"creation_date":1695720292,"answer_id":77178686,"question_id":77173738,"body_markdown":"In Maven, transitive test dependencies are ignored. I guess the same is true for Maven.","title":"Test dependencies of Maven parent POM not showing in Gradle project","body":"<p>In Maven, transitive test dependencies are ignored. I guess the same is true for Maven.</p>\n"}],"owner":{"account_id":29530315,"reputation":1,"user_id":22631066,"display_name":"Bali Ramakrishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695720292,"creation_date":1695653581,"question_id":77173738,"body_markdown":"We have a Maven parent POM (project A) that contains all of the common dependencies for our microservices. We are now converting all of our microservices to Gradle, but we are having trouble getting the test dependencies of project A to show up in the Gradle projects.\r\n\r\nWhen we compile the Gradle projects, we get a compileTestJava error because the Spring Boot test JAR cannot be found. We are importing the parent POM dependency in Gradle using the following code:\r\n\r\nimplementation (group: &#39;com.123.abc&#39;, name = &#39;parent-pom&#39; version=&#39;1.0.0&#39;)\r\nWhat are we doing wrong? How can we get the test dependencies of project A to show up in the Gradle projects?\r\n\r\nAdditional information:\r\n\r\nThe parent POM is packaged as a pom file and published to Artifactory.\r\nThe Gradle projects are using the Java plugin.","title":"Test dependencies of Maven parent POM not showing in Gradle project","body":"<p>We have a Maven parent POM (project A) that contains all of the common dependencies for our microservices. We are now converting all of our microservices to Gradle, but we are having trouble getting the test dependencies of project A to show up in the Gradle projects.</p>\n<p>When we compile the Gradle projects, we get a compileTestJava error because the Spring Boot test JAR cannot be found. We are importing the parent POM dependency in Gradle using the following code:</p>\n<p>implementation (group: 'com.123.abc', name = 'parent-pom' version='1.0.0')\nWhat are we doing wrong? How can we get the test dependencies of project A to show up in the Gradle projects?</p>\n<p>Additional information:</p>\n<p>The parent POM is packaged as a pom file and published to Artifactory.\nThe Gradle projects are using the Java plugin.</p>\n"},{"tags":["java","spring","spring-boot","java-16","java-record"],"comments":[{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":1,"creation_date":1629268713,"post_id":66696828,"comment_id":121638470,"body_markdown":"How should this work when you also need a @Configuration annotation when those cannot be final but Records are?","body":"How should this work when you also need a @Configuration annotation when those cannot be final but Records are?"},{"owner":{"account_id":1124951,"reputation":660,"user_id":1112465,"accept_rate":55,"display_name":"Andrei G"},"score":1,"creation_date":1639334409,"post_id":66696828,"comment_id":124316845,"body_markdown":"@SebastiaanvandenBroek you can define it in EnableConfigurationProperties config instead of using Configuration annotation","body":"@SebastiaanvandenBroek you can define it in EnableConfigurationProperties config instead of using Configuration annotation"},{"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"score":0,"creation_date":1688157084,"post_id":66696828,"comment_id":135041473,"body_markdown":"Thank you @AndreiG, the &quot;instead of&quot; is the key words here.","body":"Thank you @AndreiG, the &quot;instead of&quot; is the key words here."}],"answers":[{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":5,"creation_date":1625089402,"post_id":66696829,"comment_id":120538295,"body_markdown":"I get an error saying that it&#39;s final and it should not be final when I use exactly this method. What could be the problem?","body":"I get an error saying that it&#39;s final and it should not be final when I use exactly this method. What could be the problem?"},{"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"score":0,"creation_date":1647975847,"post_id":66696829,"comment_id":126505495,"body_markdown":"@TheRealChx101 did you find a solution to that? I have the same issue.","body":"@TheRealChx101 did you find a solution to that? I have the same issue."},{"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"score":1,"creation_date":1647977977,"post_id":66696829,"comment_id":126506210,"body_markdown":"I found a solution, add @ConfigurationPropertiesScan to your main Application class","body":"I found a solution, add @ConfigurationPropertiesScan to your main Application class"}],"tags":[],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"comment_count":3,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1637569708,"creation_date":1616091297,"answer_id":66696829,"question_id":66696828,"body_markdown":"Answering my own question.\r\n\r\nThe above error raises from Spring Boot not being able to construct the bean because of the lack of a no-argument constructor. Records implicitly declare a constructor with a parameter for every member.\r\n\r\nSpring Boot allows us to use the `@ConstructorBinding` annotation to enable property binding by constructor instead of setter methods (as stated in [the docs][1] and the answer to [this question][2]). This also works for records, so this works:\r\n```\r\n@ConfigurationProperties(&quot;demo&quot;)\r\n@ConstructorBinding\r\npublic record MyConfigurationProperties(\r\n        String myProperty\r\n) {\r\n}\r\n```\r\n\r\nUpdate: As of Spring Boot 2.6, using records works out of the box and `@ConstructorBinding` is not required anymore when the record has a single constructor. See the [release notes][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.constructor-binding\r\n  [2]: https://stackoverflow.com/questions/26137932/immutable-configurationproperties\r\n  [3]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#records-and-configurationproperties","title":"How to use @ConfigurationProperties with Records?","body":"<p>Answering my own question.</p>\n<p>The above error raises from Spring Boot not being able to construct the bean because of the lack of a no-argument constructor. Records implicitly declare a constructor with a parameter for every member.</p>\n<p>Spring Boot allows us to use the <code>@ConstructorBinding</code> annotation to enable property binding by constructor instead of setter methods (as stated in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.constructor-binding\" rel=\"noreferrer\">the docs</a> and the answer to <a href=\"https://stackoverflow.com/questions/26137932/immutable-configurationproperties\">this question</a>). This also works for records, so this works:</p>\n<pre><code>@ConfigurationProperties(&quot;demo&quot;)\n@ConstructorBinding\npublic record MyConfigurationProperties(\n        String myProperty\n) {\n}\n</code></pre>\n<p>Update: As of Spring Boot 2.6, using records works out of the box and <code>@ConstructorBinding</code> is not required anymore when the record has a single constructor. See the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#records-and-configurationproperties\" rel=\"noreferrer\">release notes</a>.</p>\n"},{"comments":[{"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"score":0,"creation_date":1637402493,"post_id":68358180,"comment_id":123820499,"body_markdown":"Do you know how you can use records to declare complex parameters and have the properties follow the hierarchical structure like it would for non record classes?","body":"Do you know how you can use records to declare complex parameters and have the properties follow the hierarchical structure like it would for non record classes?"},{"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"score":0,"creation_date":1637566352,"post_id":68358180,"comment_id":123850836,"body_markdown":"I don&#39;t recall anything specific about that case, doesn&#39;t regular nesting of records work?","body":"I don&#39;t recall anything specific about that case, doesn&#39;t regular nesting of records work?"},{"owner":{"account_id":15839392,"reputation":565,"user_id":13189473,"display_name":"MrNobody"},"score":0,"creation_date":1637665367,"post_id":68358180,"comment_id":123881601,"body_markdown":"For me these solutions are not working at all :/","body":"For me these solutions are not working at all :/"},{"owner":{"account_id":333481,"reputation":332,"user_id":659378,"display_name":"KhaledE"},"score":0,"creation_date":1637685669,"post_id":68358180,"comment_id":123890242,"body_markdown":"I have the exact same issue, I don&#39;t think nesting works ...","body":"I have the exact same issue, I don&#39;t think nesting works ..."},{"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"score":1,"creation_date":1637745333,"post_id":68358180,"comment_id":123905757,"body_markdown":"Indeed it doesn&#39;t work. I&#39;ve created a new issue on spring boot github tracker https://github.com/spring-projects/spring-boot/issues/28797","body":"Indeed it doesn&#39;t work. I&#39;ve created a new issue on spring boot github tracker <a href=\"https://github.com/spring-projects/spring-boot/issues/28797\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/28797</a>"},{"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"score":1,"creation_date":1637923477,"post_id":68358180,"comment_id":123958172,"body_markdown":"I got it to work by using `@EnableConfigurationProperties` instead of `@Configuration`. Also I did not use `@Validated` - I just did the validation in the constructor.","body":"I got it to work by using <code>@EnableConfigurationProperties</code> instead of <code>@Configuration</code>. Also I did not use <code>@Validated</code> - I just did the validation in the constructor."},{"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"score":0,"creation_date":1694927552,"post_id":68358180,"comment_id":135954421,"body_markdown":"The first one can&#39;t work at all. You can&#39;t create an alternative constructor for a record that has the same types as the native one (in this case a single String). How should Java differentiate between these two? If I do something like **new** **MyConfigurationProperties(&quot;TEST&quot;)** which one is to chose then?","body":"The first one can&#39;t work at all. You can&#39;t create an alternative constructor for a record that has the same types as the native one (in this case a single String). How should Java differentiate between these two? If I do something like <b>new</b> <b>MyConfigurationProperties(&quot;TEST&quot;)</b> which one is to chose then?"}],"tags":[],"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"comment_count":7,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1626763414,"creation_date":1626161201,"answer_id":68358180,"question_id":66696828,"body_markdown":"If you need to declare default values programatically:\r\n\r\n```java\r\n@ConfigurationProperties(&quot;demo&quot;)\r\npublic record MyConfigurationProperties(String myProperty) { \r\n    \r\n    @ConstructorBinding\r\n    public MyConfigurationProperties(String myProperty) {\r\n        this.myProperty = Optional.ofNullable(myProperty).orElse(&quot;default&quot;);\r\n    }\r\n}\r\n``` \r\n\r\n`java.util.Optional` properties:\r\n\r\n```java\r\n@ConfigurationProperties(&quot;demo&quot;)\r\npublic record MyConfigurationProperties(Optional&lt;String&gt; myProperty) {\r\n\r\n    @ConstructorBinding\r\n    public MyConfigurationProperties(String myProperty) {\r\n        this(Optional.ofNullable(myProperty));\r\n    }\r\n}\r\n```\r\n\r\n`@Validated` and `java.util.Optional` in combination:\r\n\r\n```java\r\n@Validated\r\n@ConfigurationProperties(&quot;demo&quot;)\r\npublic record MyConfigurationProperties(@NotBlank String myRequiredProperty,\r\n                                        Optional&lt;String&gt; myProperty) {\r\n\r\n    @ConstructorBinding\r\n    public MyConfigurationProperties(String myRequiredProperty, \r\n                                     String myProperty) {\r\n        this(myRequiredProperty, Optional.ofNullable(myProperty));\r\n    }\r\n}\r\n```\r\n\r\nBased on this [Spring Boot issue](https://github.com/spring-projects/spring-boot/issues/27141).\r\n","title":"How to use @ConfigurationProperties with Records?","body":"<p>If you need to declare default values programatically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;demo&quot;)\npublic record MyConfigurationProperties(String myProperty) { \n    \n    @ConstructorBinding\n    public MyConfigurationProperties(String myProperty) {\n        this.myProperty = Optional.ofNullable(myProperty).orElse(&quot;default&quot;);\n    }\n}\n</code></pre>\n<p><code>java.util.Optional</code> properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;demo&quot;)\npublic record MyConfigurationProperties(Optional&lt;String&gt; myProperty) {\n\n    @ConstructorBinding\n    public MyConfigurationProperties(String myProperty) {\n        this(Optional.ofNullable(myProperty));\n    }\n}\n</code></pre>\n<p><code>@Validated</code> and <code>java.util.Optional</code> in combination:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Validated\n@ConfigurationProperties(&quot;demo&quot;)\npublic record MyConfigurationProperties(@NotBlank String myRequiredProperty,\n                                        Optional&lt;String&gt; myProperty) {\n\n    @ConstructorBinding\n    public MyConfigurationProperties(String myRequiredProperty, \n                                     String myProperty) {\n        this(myRequiredProperty, Optional.ofNullable(myProperty));\n    }\n}\n</code></pre>\n<p>Based on this <a href=\"https://github.com/spring-projects/spring-boot/issues/27141\" rel=\"noreferrer\">Spring Boot issue</a>.</p>\n"},{"comments":[{"owner":{"account_id":64243,"reputation":777,"user_id":189764,"accept_rate":95,"display_name":"Atorian"},"score":0,"creation_date":1677579839,"post_id":74777176,"comment_id":133361585,"body_markdown":"Although the old `@ConstructorBinding` is deprecated, the replacement annotation has the same name.  So we went from `org.springframework.boot.context.properties.ConstructorBinding` to `org.springframework.boot.context.properties.bind.ConstructorBinding`\n\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConstructorBinding.html","body":"Although the old <code>@ConstructorBinding</code> is deprecated, the replacement annotation has the same name.  So we went from <code>org.springframework.boot.context.properties.ConstructorBindi&zwnj;&#8203;ng</code> to <code>org.springframework.boot.context.properties.bind.Constructor&zwnj;&#8203;Binding</code>  <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConstructorBinding.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"},{"owner":{"account_id":3168210,"reputation":155,"user_id":3809696,"display_name":"Sreekar Swarnapuri"},"score":0,"creation_date":1679156803,"post_id":74777176,"comment_id":133672815,"body_markdown":"@Atorian Yes. However, we can use the alternate annotation only on a Constructor but not on Application properties class.","body":"@Atorian Yes. However, we can use the alternate annotation only on a Constructor but not on Application properties class."}],"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1670878343,"creation_date":1670878343,"answer_id":74777176,"question_id":66696828,"body_markdown":"I had the same issue with spring boot 3.0.0 and `@ConstructorBinding` is deprecated. \r\n\r\nI needed to add:\r\n\r\n    @SpringBootApplication\r\n    @ConfigurationPropertiesScan\r\n    public class Application\r\n\r\n ","title":"How to use @ConfigurationProperties with Records?","body":"<p>I had the same issue with spring boot 3.0.0 and <code>@ConstructorBinding</code> is deprecated.</p>\n<p>I needed to add:</p>\n<pre><code>@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class Application\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3168210,"reputation":155,"user_id":3809696,"display_name":"Sreekar Swarnapuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679163053,"creation_date":1679157075,"answer_id":75777196,"question_id":66696828,"body_markdown":"With spring boot 3.0.4, I have been able to use the records directly without any @ConstructorBinding annotation.\r\n\r\n    @ConfigurationProperties(prefix = &quot;app&quot;)\r\n    @Validated\r\n    public record ApplicationProperties(String version, FtpProperties ftp) {\r\n        public record FtpProperties(\r\n                                @NotEmpty String host,\r\n                                @Positive int port,\r\n                                @NotEmpty String username) {}\r\n    }","title":"How to use @ConfigurationProperties with Records?","body":"<p>With spring boot 3.0.4, I have been able to use the records directly without any @ConstructorBinding annotation.</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;app&quot;)\n@Validated\npublic record ApplicationProperties(String version, FtpProperties ftp) {\n    public record FtpProperties(\n                            @NotEmpty String host,\n                            @Positive int port,\n                            @NotEmpty String username) {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23926865,"reputation":1,"user_id":17921877,"display_name":"Rysis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679471482,"creation_date":1679471482,"answer_id":75809589,"question_id":66696828,"body_markdown":"When mapping YAML configuration using the class approach, there is no problem if you use the @Configuration annotation.\r\n\r\nHowever, when switching to using record for mapping, Spring will inform you that it is a final type and cannot be proxied and managed in the container.\r\n\r\nI have found that you can explicitly declare in the main class of Spring using @EnableConfigurationProperties(XXProperties.class) or @ConfigurationPropertiesScan that you need to add the class with the @ConfigurationProperties annotation to the container, regardless of whether it is a class or record.\r\n\r\nIn version 2.x of Spring Boot, if you want to use the record type to map YAML files, you need to add the annotation @ConstructorBinding to the class. However, in version 3.0 of Spring Boot, this is no longer necessary and it has been marked as deprecated.\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-295483/Spring-Boot-ConfigurationProperties-annotated-java-record-is-reported-as-not-used\r\n\r\n```java\r\n@SpringBootApplication\r\n//@EnableConfigurationProperties(YmlConfigDbProperties.class)\r\n@ConfigurationPropertiesScan\r\npublic class AppMain {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AppMain.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;config.db&quot;)\r\n//@Configuration\r\npublic record YmlConfigDbProperties(){}\r\n```","title":"How to use @ConfigurationProperties with Records?","body":"<p>When mapping YAML configuration using the class approach, there is no problem if you use the @Configuration annotation.</p>\n<p>However, when switching to using record for mapping, Spring will inform you that it is a final type and cannot be proxied and managed in the container.</p>\n<p>I have found that you can explicitly declare in the main class of Spring using @EnableConfigurationProperties(XXProperties.class) or @ConfigurationPropertiesScan that you need to add the class with the @ConfigurationProperties annotation to the container, regardless of whether it is a class or record.</p>\n<p>In version 2.x of Spring Boot, if you want to use the record type to map YAML files, you need to add the annotation @ConstructorBinding to the class. However, in version 3.0 of Spring Boot, this is no longer necessary and it has been marked as deprecated.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-295483/Spring-Boot-ConfigurationProperties-annotated-java-record-is-reported-as-not-used\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-295483/Spring-Boot-ConfigurationProperties-annotated-java-record-is-reported-as-not-used</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n//@EnableConfigurationProperties(YmlConfigDbProperties.class)\n@ConfigurationPropertiesScan\npublic class AppMain {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AppMain.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;config.db&quot;)\n//@Configuration\npublic record YmlConfigDbProperties(){}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"score":1,"creation_date":1688157173,"post_id":76514906,"comment_id":135041485,"body_markdown":"This works for me in Spring Boot 3.1.1. Its important to make sure you remove the Configuration from the record.","body":"This works for me in Spring Boot 3.1.1. Its important to make sure you remove the Configuration from the record."}],"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687265440,"creation_date":1687265440,"answer_id":76514906,"question_id":66696828,"body_markdown":"#### `ConstructorBinding` and compact form of constructor in Spring Boot 3.1.0\r\nAs of &#39;spring-boot&#39; version &#39;3.1.0&#39;:\r\n- Annotation `org.springframework.boot.context.properties.ConstructorBinding` is deprecated and can&#39;t be applied to type declaration (class, interface, enum, or record), but can be applied to constructor declaration\r\n- Annotation `org.springframework.boot.context.properties.bind.ConstructorBinding;` can&#39;t be applied to type declaration (class, interface, enum, or record), but can be applied to constructor declaration\r\n\r\nThus, we can declare `record` and apply `org.springframework.boot.context.properties.bind.ConstructorBinding` **to the compact form of constructor** which is still looks concise:\r\n\r\n```java\r\n@ConfigurationProperties\r\npublic record ApplicationProperties(/* Your properties here. E.g.:\r\n                                    String prop1, \r\n                                    Integer prop2, \r\n                                    NestedConfig nestedProps\r\n                                    */) {\r\n\r\n    @ConstructorBinding\r\n    public ApplicationProperties {\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Note**: Don&#39;t forget to enable support for `@ConfigurationProperties` annotated beans in your application. E.g.:\r\n```java\r\n@EnableConfigurationProperties(ApplicationProperties.class)\r\n@SpringBootApplication\r\npublic class YourApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(YourApplication.class, args);\r\n    }\r\n\r\n}\r\n```","title":"How to use @ConfigurationProperties with Records?","body":"<h4><code>ConstructorBinding</code> and compact form of constructor in Spring Boot 3.1.0</h4>\n<p>As of 'spring-boot' version '3.1.0':</p>\n<ul>\n<li>Annotation <code>org.springframework.boot.context.properties.ConstructorBinding</code> is deprecated and can't be applied to type declaration (class, interface, enum, or record), but can be applied to constructor declaration</li>\n<li>Annotation <code>org.springframework.boot.context.properties.bind.ConstructorBinding;</code> can't be applied to type declaration (class, interface, enum, or record), but can be applied to constructor declaration</li>\n</ul>\n<p>Thus, we can declare <code>record</code> and apply <code>org.springframework.boot.context.properties.bind.ConstructorBinding</code> <strong>to the compact form of constructor</strong> which is still looks concise:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties\npublic record ApplicationProperties(/* Your properties here. E.g.:\n                                    String prop1, \n                                    Integer prop2, \n                                    NestedConfig nestedProps\n                                    */) {\n\n    @ConstructorBinding\n    public ApplicationProperties {\n    }\n\n}\n</code></pre>\n<p><strong>Note</strong>: Don't forget to enable support for <code>@ConfigurationProperties</code> annotated beans in your application. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableConfigurationProperties(ApplicationProperties.class)\n@SpringBootApplication\npublic class YourApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(YourApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13977030,"reputation":21,"user_id":10094183,"display_name":"aneesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691418827,"creation_date":1691418827,"answer_id":76852727,"question_id":66696828,"body_markdown":"In Spring-Boot 2.7.5 you will only have to  \r\n1. Annotate the record with `@ConfigurationProperties` \r\n2. Annotate the Main Class with `@ConfigurationPropertiesScan({RecordConfig.class})`. This part is important as this tells Spring the specifics of the Config class and helps it register as a bean`enter code here`. \r\n","title":"How to use @ConfigurationProperties with Records?","body":"<p>In Spring-Boot 2.7.5 you will only have to</p>\n<ol>\n<li>Annotate the record with <code>@ConfigurationProperties</code></li>\n<li>Annotate the Main Class with <code>@ConfigurationPropertiesScan({RecordConfig.class})</code>. This part is important as this tells Spring the specifics of the Config class and helps it register as a bean<code>enter code here</code>.</li>\n</ol>\n"}],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19241,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":66696829,"answer_count":7,"score":33,"last_activity_date":1695719947,"creation_date":1616091297,"question_id":66696828,"body_markdown":"Java 16 introduced [Records][1], which help to reduce boilerplate code when writing classes that carry immutable data. When I try to use a Record as `@ConfigurationProperties` bean as follows I get the following error message:\r\n\r\n```\r\n@ConfigurationProperties(&quot;demo&quot;)\r\npublic record MyConfigurationProperties(\r\n        String myProperty\r\n) {\r\n}\r\n```\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.demo.MyConfigurationProperties required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n```\r\n\r\nHow can I use Records as `@ConfigurationProperties`?\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"How to use @ConfigurationProperties with Records?","body":"<p>Java 16 introduced <a href=\"https://openjdk.java.net/jeps/395\" rel=\"noreferrer\">Records</a>, which help to reduce boilerplate code when writing classes that carry immutable data. When I try to use a Record as <code>@ConfigurationProperties</code> bean as follows I get the following error message:</p>\n<pre><code>@ConfigurationProperties(&quot;demo&quot;)\npublic record MyConfigurationProperties(\n        String myProperty\n) {\n}\n</code></pre>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.demo.MyConfigurationProperties required a bean of type 'java.lang.String' that could not be found.\n</code></pre>\n<p>How can I use Records as <code>@ConfigurationProperties</code>?</p>\n"},{"tags":["java","database","arangodb","aql"],"answers":[{"comments":[{"owner":{"account_id":14078535,"reputation":43,"user_id":10170169,"display_name":"Daria"},"score":0,"creation_date":1538409553,"post_id":52594460,"comment_id":92124347,"body_markdown":"Thank you for the answer. But I need consistency in work with AQL queries, because I use Arango driver. And in this case it doesn&#39;t work. I have checked and as I said  the edges don&#39;t deleted automatically by AQL when vertices are deleted. In the result there are edges which points to nowhere. The documentation confirms this: https://docs.arangodb.com/devel/AQL/Examples/RemoveVertex.html","body":"Thank you for the answer. But I need consistency in work with AQL queries, because I use Arango driver. And in this case it doesn&#39;t work. I have checked and as I said  the edges don&#39;t deleted automatically by AQL when vertices are deleted. In the result there are edges which points to nowhere. The documentation confirms this: <a href=\"https://docs.arangodb.com/devel/AQL/Examples/RemoveVertex.html\" rel=\"nofollow noreferrer\">docs.arangodb.com/devel/AQL/Examples/RemoveVertex.html</a>"},{"owner":{"account_id":4378751,"reputation":1815,"user_id":3571016,"display_name":"camba1"},"score":0,"creation_date":1538412737,"post_id":52594460,"comment_id":92125817,"body_markdown":"Humn...interesting. the documentation seems to contradict itself. Which driver are you using? The javascript driver seems to support consistency when deleting vertices: https://docs.arangodb.com/devel/Manual/Graphs/GeneralGraphs/Management.html#remove-a-vertex. &quot;graph.vertexCollectionName.remove&quot; [...] &quot;removes all ingoing and outgoing edges of the vertex recursively&quot;","body":"Humn...interesting. the documentation seems to contradict itself. Which driver are you using? The javascript driver seems to support consistency when deleting vertices: <a href=\"https://docs.arangodb.com/devel/Manual/Graphs/GeneralGraphs/Management.html#remove-a-vertex\" rel=\"nofollow noreferrer\">docs.arangodb.com/devel/Manual/Graphs/GeneralGraphs/&hellip;</a>. &quot;graph.vertexCollectionName.remove&quot; [...] &quot;removes all ingoing and outgoing edges of the vertex recursively&quot;"},{"owner":{"account_id":14078535,"reputation":43,"user_id":10170169,"display_name":"Daria"},"score":0,"creation_date":1538468190,"post_id":52594460,"comment_id":92143033,"body_markdown":"I use java driver and send AQL queries through it to delete vertex. Actually it is the same as send an AQL query via ArangoDB web interface on the tab &quot;Queries&quot;. And the result is the same. I think maybe somebody knows when it will be implement.","body":"I use java driver and send AQL queries through it to delete vertex. Actually it is the same as send an AQL query via ArangoDB web interface on the tab &quot;Queries&quot;. And the result is the same. I think maybe somebody knows when it will be implement."}],"tags":[],"owner":{"account_id":4378751,"reputation":1815,"user_id":3571016,"display_name":"camba1"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695719248,"creation_date":1538408178,"answer_id":52594460,"question_id":52594221,"body_markdown":"Arango ensures consistency for named graphs. Here is the documentation that describes named graphs and the difference with unnamed (anonymous) graphs.\r\nYou can create named graphs directly in the graph section of the Arango gui\r\n\r\nhttps://docs.arangodb.com/3.11/graphs/","title":"When graph consistency will be implemented in ArangoDB java driver?","body":"<p>Arango ensures consistency for named graphs. Here is the documentation that describes named graphs and the difference with unnamed (anonymous) graphs.\nYou can create named graphs directly in the graph section of the Arango gui</p>\n<p><a href=\"https://docs.arangodb.com/3.11/graphs/\" rel=\"nofollow noreferrer\">https://docs.arangodb.com/3.11/graphs/</a></p>\n"},{"tags":[],"owner":{"account_id":14078535,"reputation":43,"user_id":10170169,"display_name":"Daria"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695719900,"creation_date":1538571270,"answer_id":52627509,"question_id":52594221,"body_markdown":"I received the answer directly from ArangoDB contributors and they said that in v 3.4 the removing vertex through the graph leads to automatically remove the associated edges.\r\n\r\n&gt; To automatically delete an edge when a vertex gets deleted, you have\r\n&gt; to use:\r\n\r\n&gt; - named graphs \r\n\r\n&gt;  AND\r\n \r\n&gt; -  the graphAPI in the java driver https://www.javadoc.io/doc/com.arangodb/arangodb-java-driver/latest/com/arangodb/ArangoGraph.html","title":"When graph consistency will be implemented in ArangoDB java driver?","body":"<p>I received the answer directly from ArangoDB contributors and they said that in v 3.4 the removing vertex through the graph leads to automatically remove the associated edges.</p>\n<blockquote>\n<p>To automatically delete an edge when a vertex gets deleted, you have\nto use:</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>named graphs</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>AND</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>the graphAPI in the java driver <a href=\"https://www.javadoc.io/doc/com.arangodb/arangodb-java-driver/latest/com/arangodb/ArangoGraph.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.arangodb/arangodb-java-driver/latest/com/arangodb/ArangoGraph.html</a></li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":14078535,"reputation":43,"user_id":10170169,"display_name":"Daria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52627509,"answer_count":2,"score":0,"last_activity_date":1695719900,"creation_date":1538407277,"question_id":52594221,"body_markdown":"Some time ago I asked  about  [deleting vertices with associated edges][1]. The answer was that the edges don&#39;t deleted automatically by AQL when vertices are deleted.\r\n\r\nI use Arango java driver for working with ArangoDB.\r\n\r\nMy questions are: \r\n\r\n 1. When graph consistency will be implemented  in ArangoDB java driver and edges will be deleted automatically by AQL when vertices are deleted? \r\n\r\n 2. Is it planned?\r\n\r\nThank you in advance!\r\n\r\n  [1]: https://stackoverflow.com/questions/51650374/why-vertex-removing-request-doesnt-remove-linked-edge-with-aql-in-arangodb","title":"When graph consistency will be implemented in ArangoDB java driver?","body":"<p>Some time ago I asked  about  <a href=\"https://stackoverflow.com/questions/51650374/why-vertex-removing-request-doesnt-remove-linked-edge-with-aql-in-arangodb\">deleting vertices with associated edges</a>. The answer was that the edges don't deleted automatically by AQL when vertices are deleted.</p>\n\n<p>I use Arango java driver for working with ArangoDB.</p>\n\n<p>My questions are: </p>\n\n<ol>\n<li><p>When graph consistency will be implemented  in ArangoDB java driver and edges will be deleted automatically by AQL when vertices are deleted? </p></li>\n<li><p>Is it planned?</p></li>\n</ol>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","performance","kubernetes","tomcat"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1695665684,"post_id":77174590,"comment_id":136052091,"body_markdown":"You can use a profiler like Java Flight Recorder to monitor your application and discover the bottlenecks in your app.","body":"You can use a profiler like Java Flight Recorder to monitor your application and discover the bottlenecks in your app."}],"answers":[{"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695719676,"creation_date":1695719676,"answer_id":77178606,"question_id":77174590,"body_markdown":"In a similar case, we resolved our issue by &#39;creating&#39; some threads manually before we mark the app as ready (in k8s we used the liveness probe). Now i guess there are different ways to do that. Some thread pools have a property for minimum ready threads or you can use a for loop to create N threads in a custom way.\r\n\r\nUnfortunately, k8s doesnt have a config to slowly introduce a new pod with less requests for the first X seconds so you need to go for an ugly custom solution.\r\n\r\nFrom design perspective, you can redeploy pods during low traffic times (which still leaves some risky cases of random redeploys from k8s or restarts etc).\r\nYou could also use more pods maybe, by reducing the load a pod can handle and scale vertically. This way you will never have a case of a pod starting with X/5 but get maximum X/10 which might do the trick","title":"Spring boot performance","body":"<p>In a similar case, we resolved our issue by 'creating' some threads manually before we mark the app as ready (in k8s we used the liveness probe). Now i guess there are different ways to do that. Some thread pools have a property for minimum ready threads or you can use a for loop to create N threads in a custom way.</p>\n<p>Unfortunately, k8s doesnt have a config to slowly introduce a new pod with less requests for the first X seconds so you need to go for an ugly custom solution.</p>\n<p>From design perspective, you can redeploy pods during low traffic times (which still leaves some risky cases of random redeploys from k8s or restarts etc).\nYou could also use more pods maybe, by reducing the load a pod can handle and scale vertically. This way you will never have a case of a pod starting with X/5 but get maximum X/10 which might do the trick</p>\n"}],"owner":{"account_id":15454428,"reputation":31,"user_id":11148948,"display_name":"luki27"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695719676,"creation_date":1695662073,"question_id":77174590,"body_markdown":"I have some spring boot app performance problem. \r\n\r\nI am using spring boot 3.0.0, Java 17, embeded tomcat. Application connects to DB and redis. Deployment is done on k8s. \r\nWhen application is deployed(or restarted) and traffic is enabled to instances then in the first 5 minutes application is very slow. P99 is 2s and slowly goes down to 100ms. After 5 minutes everything looks great.\r\n\r\nThe problem only exits if pods in k8s are newly created. \r\n\r\nThe problem does not exist if an app was warmed up with initial requests. \r\n\r\nI tried lots of stuff and configuration changes from database pool connection to tomcat thread pool but nothing seems to work. \r\n\r\nThe only thing that works is that app needs to be warmed up with production load. On production we have 2k rps. When app is warmed up with let&#39;s say 500 rps for few minutes then once the production traffic is enabled the problem comes back(but it is a bit better though)\r\n\r\nDo you have any idea how to handle that ? I am getting out of ideas actually\r\n\r\n","title":"Spring boot performance","body":"<p>I have some spring boot app performance problem.</p>\n<p>I am using spring boot 3.0.0, Java 17, embeded tomcat. Application connects to DB and redis. Deployment is done on k8s.\nWhen application is deployed(or restarted) and traffic is enabled to instances then in the first 5 minutes application is very slow. P99 is 2s and slowly goes down to 100ms. After 5 minutes everything looks great.</p>\n<p>The problem only exits if pods in k8s are newly created.</p>\n<p>The problem does not exist if an app was warmed up with initial requests.</p>\n<p>I tried lots of stuff and configuration changes from database pool connection to tomcat thread pool but nothing seems to work.</p>\n<p>The only thing that works is that app needs to be warmed up with production load. On production we have 2k rps. When app is warmed up with let's say 500 rps for few minutes then once the production traffic is enabled the problem comes back(but it is a bit better though)</p>\n<p>Do you have any idea how to handle that ? I am getting out of ideas actually</p>\n"},{"tags":["java","height","itext7"],"owner":{"account_id":4558732,"reputation":108,"user_id":3701642,"display_name":"kieuanhvu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695719367,"creation_date":1695719367,"question_id":77178576,"body_markdown":"I use `Canvas` to draw `Text` content in rectangle `Div`. However, `Text` content is truncated even though there is still enough space left in `Div`.\r\nThe `Div` rectangle has dimension `width: 111` and `height: 78` and my text content is:`CONG TY CO PHAN DICH VU TVAN IAM TEST 999` with font size `16.8`. \r\n\r\nHere my sample code:\r\n\r\n            PdfReader pdfReader = new PdfReader(sourceFile);\r\n            PdfSigner pdfSigner = new PdfSigner(pdfReader, new FileOutputStream(outputFile), new StampingProperties());\r\n            PdfSignatureAppearance pdfSignatureAppearance = pdfSigner.getSignatureAppearance();\r\n            pdfSigner.setFieldName(signatureFieldName);\r\n    \r\n            Rectangle rect = new Rectangle(30, 20, 111f, 78);\r\n            pdfSignatureAppearance.setPageRect(rect);\r\n            pdfSignatureAppearance.setPageNumber(3);\r\n    \r\n            String name = &quot;CONG TY CO PHAN DICH VU TVAN IAM TEST 999&quot;;\r\n    \r\n            PdfFormXObject layer2 = pdfSignatureAppearance.getLayer2();\r\n            PdfCanvas canvas = new PdfCanvas(layer2, pdfSigner.getDocument());\r\n            Document doc = new Document(pdfSigner.getDocument());\r\n            PdfFont font = PdfFontFactory.createFont(getClass().getClassLoader().getResourceAsStream(&quot;ARIALUNI.TTF&quot;).readAllBytes(), &quot;Identity-H&quot;);\r\n    \r\n            Rectangle signatureRect = new Rectangle(0, 0, 111f, 78);\r\n            try (Canvas layoutCanvas = new Canvas(canvas, signatureRect);) {\r\n                Text t = new Text(name);\r\n                Paragraph paragraph = new Paragraph().setFont(font).add(t).setTextAlignment(TextAlignment.CENTER).setPadding(0).setMargin(0).setWidth(signatureRect.getWidth()).setMultipliedLeading(0.8f);\r\n                Div lineDiv = new Div();\r\n                lineDiv.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n                paragraph.setKeepTogether(true);\r\n                lineDiv.setPadding(0);\r\n                lineDiv.setMargin(0);\r\n                lineDiv.setKeepTogether(true);\r\n                lineDiv.add(paragraph);\r\n    \r\n                paragraph.setFontSize(16.8f);// font size\r\n                lineDiv.setFontSize(16.8f);\r\n                this.calculateHeightOfEle(lineDiv, signatureRect.getWidth(), doc.getRenderer());\r\n                lineDiv.setBackgroundColor(ColorConstants.YELLOW);\r\n                layoutCanvas.add(lineDiv);\r\n                //lineDivHeight calculate is 71.9 and the height of signatureRect is 78, why my text content still truncated?\r\n                float lineDivHeight = this.calculateHeightOfEle(lineDiv, signatureRect.getWidth(), doc.getRenderer());\r\n            }\r\n    \r\n            //This is for add signature info to PDF\r\n            pdfSignatureAppearance.setReuseAppearance(false);\r\n            IExternalSignature iExternalSignature = new PrivateKeySignature(privateKey, digestAlgorithm, bouncyCastleProvider);\r\n            IExternalDigest iExternalDigest = new BouncyCastleDigest();\r\n    \r\n            // Sign the document using the detached mode, CMS, or CAdES equivalent.\r\n            pdfSigner.signDetached(iExternalDigest, iExternalSignature, certificateChain, null, null, null, 0, cryptoStandardSubFilter);\r\n\r\nAnd `calculateHeightOfEle` method:\r\n\r\n      public Float calculateHeightOfEle(IElement element, float width, IRenderer rootRender){\r\n            IRenderer eRenderer = element.createRendererSubTree();\r\n            LayoutResult result = eRenderer.setParent(rootRender).layout(new LayoutContext(new LayoutArea(1, new Rectangle(width, 1000))));\r\n            float height =  result.getOccupiedArea().getBBox().getHeight();\r\n            System.out.println(&quot;height: &quot; + height);\r\n            return height;\r\n        }\r\n\r\nThe result is:\r\n\r\n [![enter image description here][1]][1]\r\n\r\nAnd my expect results is:\r\n\r\n[![And my expect results is:][2]][2]\r\n\r\n\r\nWhy the remain text was not insert to there?\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GKHyA.png\r\n  [2]: https://i.stack.imgur.com/uzIo1.png\r\n  [3]: https://i.stack.imgur.com/8NEg6.png","title":"itext7: Div height calculate not correct?","body":"<p>I use <code>Canvas</code> to draw <code>Text</code> content in rectangle <code>Div</code>. However, <code>Text</code> content is truncated even though there is still enough space left in <code>Div</code>.\nThe <code>Div</code> rectangle has dimension <code>width: 111</code> and <code>height: 78</code> and my text content is:<code>CONG TY CO PHAN DICH VU TVAN IAM TEST 999</code> with font size <code>16.8</code>.</p>\n<p>Here my sample code:</p>\n<pre><code>        PdfReader pdfReader = new PdfReader(sourceFile);\n        PdfSigner pdfSigner = new PdfSigner(pdfReader, new FileOutputStream(outputFile), new StampingProperties());\n        PdfSignatureAppearance pdfSignatureAppearance = pdfSigner.getSignatureAppearance();\n        pdfSigner.setFieldName(signatureFieldName);\n\n        Rectangle rect = new Rectangle(30, 20, 111f, 78);\n        pdfSignatureAppearance.setPageRect(rect);\n        pdfSignatureAppearance.setPageNumber(3);\n\n        String name = &quot;CONG TY CO PHAN DICH VU TVAN IAM TEST 999&quot;;\n\n        PdfFormXObject layer2 = pdfSignatureAppearance.getLayer2();\n        PdfCanvas canvas = new PdfCanvas(layer2, pdfSigner.getDocument());\n        Document doc = new Document(pdfSigner.getDocument());\n        PdfFont font = PdfFontFactory.createFont(getClass().getClassLoader().getResourceAsStream(&quot;ARIALUNI.TTF&quot;).readAllBytes(), &quot;Identity-H&quot;);\n\n        Rectangle signatureRect = new Rectangle(0, 0, 111f, 78);\n        try (Canvas layoutCanvas = new Canvas(canvas, signatureRect);) {\n            Text t = new Text(name);\n            Paragraph paragraph = new Paragraph().setFont(font).add(t).setTextAlignment(TextAlignment.CENTER).setPadding(0).setMargin(0).setWidth(signatureRect.getWidth()).setMultipliedLeading(0.8f);\n            Div lineDiv = new Div();\n            lineDiv.setVerticalAlignment(VerticalAlignment.MIDDLE);\n            paragraph.setKeepTogether(true);\n            lineDiv.setPadding(0);\n            lineDiv.setMargin(0);\n            lineDiv.setKeepTogether(true);\n            lineDiv.add(paragraph);\n\n            paragraph.setFontSize(16.8f);// font size\n            lineDiv.setFontSize(16.8f);\n            this.calculateHeightOfEle(lineDiv, signatureRect.getWidth(), doc.getRenderer());\n            lineDiv.setBackgroundColor(ColorConstants.YELLOW);\n            layoutCanvas.add(lineDiv);\n            //lineDivHeight calculate is 71.9 and the height of signatureRect is 78, why my text content still truncated?\n            float lineDivHeight = this.calculateHeightOfEle(lineDiv, signatureRect.getWidth(), doc.getRenderer());\n        }\n\n        //This is for add signature info to PDF\n        pdfSignatureAppearance.setReuseAppearance(false);\n        IExternalSignature iExternalSignature = new PrivateKeySignature(privateKey, digestAlgorithm, bouncyCastleProvider);\n        IExternalDigest iExternalDigest = new BouncyCastleDigest();\n\n        // Sign the document using the detached mode, CMS, or CAdES equivalent.\n        pdfSigner.signDetached(iExternalDigest, iExternalSignature, certificateChain, null, null, null, 0, cryptoStandardSubFilter);\n</code></pre>\n<p>And <code>calculateHeightOfEle</code> method:</p>\n<pre><code>  public Float calculateHeightOfEle(IElement element, float width, IRenderer rootRender){\n        IRenderer eRenderer = element.createRendererSubTree();\n        LayoutResult result = eRenderer.setParent(rootRender).layout(new LayoutContext(new LayoutArea(1, new Rectangle(width, 1000))));\n        float height =  result.getOccupiedArea().getBBox().getHeight();\n        System.out.println(&quot;height: &quot; + height);\n        return height;\n    }\n</code></pre>\n<p>The result is:</p>\n<p><a href=\"https://i.stack.imgur.com/GKHyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GKHyA.png\" alt=\"enter image description here\" /></a></p>\n<p>And my expect results is:</p>\n<p><a href=\"https://i.stack.imgur.com/uzIo1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uzIo1.png\" alt=\"And my expect results is:\" /></a></p>\n<p>Why the remain text was not insert to there?\n<a href=\"https://i.stack.imgur.com/8NEg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8NEg6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","logback","logback-classic"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1695634755,"post_id":77171429,"comment_id":136045792,"body_markdown":"It *looks* like you might want just `ci.autoConfig()` (on `ContextInitializer`). Can you try it? After some digging, I found that method was removed by [LOGBACK-1655](https://jira.qos.ch/projects/LOGBACK/issues/LOGBACK-1655). The relevant commit is here: https://github.com/qos-ch/logback/commit/fa3de693048d25698af7264fd294a1c9ba6940d1 which might give some idea how they intended it to be replaced. Really they should provide some migration guide if they plan to make breaking API changes, but I don&#39;t see anything like that.","body":"It <i>looks</i> like you might want just <code>ci.autoConfig()</code> (on <code>ContextInitializer</code>). Can you try it? After some digging, I found that method was removed by <a href=\"https://jira.qos.ch/projects/LOGBACK/issues/LOGBACK-1655\" rel=\"nofollow noreferrer\">LOGBACK-1655</a>. The relevant commit is here: <a href=\"https://github.com/qos-ch/logback/commit/fa3de693048d25698af7264fd294a1c9ba6940d1\" rel=\"nofollow noreferrer\">github.com/qos-ch/logback/commit/&hellip;</a> which might give some idea how they intended it to be replaced. Really they should provide some migration guide if they plan to make breaking API changes, but I don&#39;t see anything like that."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695636773,"post_id":77171429,"comment_id":136046227,"body_markdown":"An alternative is polling: [Automatically reloading configuration file upon modification](https://logback.qos.ch/manual/configuration.html#autoScan)","body":"An alternative is polling: <a href=\"https://logback.qos.ch/manual/configuration.html#autoScan\" rel=\"nofollow noreferrer\">Automatically reloading configuration file upon modification</a>"},{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1695718429,"post_id":77171429,"comment_id":136058510,"body_markdown":"Thanks Michael, that seems to work :)","body":"Thanks Michael, that seems to work :)"}],"answers":[{"comments":[{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1695638029,"post_id":77171738,"comment_id":136046478,"body_markdown":"Thanks. It does mean that I have to know what is the filename for logback instead of having it finding it. For instance, if test environment uses a different configuration file, we can use java option `-Dlogback.configurationFile=/path/to/test-logback.xml`. I could look for it but it means if logback does another breaking change, I have to remember to change the java code. Having logback returning the file (as it did with `findURLOfDefaultConfigurationFile`) was theoretically less error prone...","body":"Thanks. It does mean that I have to know what is the filename for logback instead of having it finding it. For instance, if test environment uses a different configuration file, we can use java option <code>-Dlogback.configurationFile=&#47;path&#47;to&#47;test-logback.xml</code>. I could look for it but it means if logback does another breaking change, I have to remember to change the java code. Having logback returning the file (as it did with <code>findURLOfDefaultConfigurationFile</code>) was theoretically less error prone..."}],"tags":[],"owner":{"account_id":5648623,"reputation":768,"user_id":4469946,"accept_rate":65,"display_name":"Jay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695637140,"creation_date":1695636650,"answer_id":77171738,"question_id":77171429,"body_markdown":"In Logback 1.4.x, the method `findURLOfDefaultConfigurationFile(boolean)` is indeed not available. Instead, Logback 1.4.x introduced a new way to programmatically reload its configuration using the LoggerContext class. To programmatically trigger a configuration reload, you can use the following approach:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.LoggerContext;\r\n    import ch.qos.logback.classic.joran.JoranConfigurator;\r\n    import ch.qos.logback.core.joran.spi.JoranException;\r\n    \r\n    public class LogbackConfigReload {\r\n        private static final Logger logger = LoggerFactory.getLogger(LogbackConfigReload.class);\r\n    \r\n        public static void main(String[] args) {\r\n            LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n    \r\n            try {\r\n                JoranConfigurator configurator = new JoranConfigurator();\r\n                configurator.setContext(loggerContext);\r\n                loggerContext.reset();\r\n    \r\n                // Reload the configuration from the default configuration file\r\n                configurator.doConfigure(&quot;logback.xml&quot;); // &lt;&lt;&lt; REPLACE THE FILENAME\r\n    \r\n                logger.info(&quot;Configuration reloaded successfully&quot;);\r\n            } \r\n            catch (JoranException e) {\r\n                logger.error(&quot;Failed to reload config&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nIn this code:\r\n\r\n 1. I obtain the LoggerContext using LoggerFactory.getILoggerFactory().\r\n 2. I create a JoranConfigurator and set it to work with the LoggerContext.\r\n 3. I call loggerContext.reset() to reset the context, which clears the previous configuration.\r\n 4. I use configurator.doConfigure(&quot;logback.xml&quot;) to reload the configuration from the specified file (replace &quot;logback.xml&quot; with the path to your Logback configuration file).\r\n\r\n\r\nFinally, I log a message to indicate that the configuration was reloaded.","title":"How do I programmatically tell Logback 1.4.x to Reload Configuration","body":"<p>In Logback 1.4.x, the method <code>findURLOfDefaultConfigurationFile(boolean)</code> is indeed not available. Instead, Logback 1.4.x introduced a new way to programmatically reload its configuration using the LoggerContext class. To programmatically trigger a configuration reload, you can use the following approach:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.joran.JoranConfigurator;\nimport ch.qos.logback.core.joran.spi.JoranException;\n\npublic class LogbackConfigReload {\n    private static final Logger logger = LoggerFactory.getLogger(LogbackConfigReload.class);\n\n    public static void main(String[] args) {\n        LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n\n        try {\n            JoranConfigurator configurator = new JoranConfigurator();\n            configurator.setContext(loggerContext);\n            loggerContext.reset();\n\n            // Reload the configuration from the default configuration file\n            configurator.doConfigure(&quot;logback.xml&quot;); // &lt;&lt;&lt; REPLACE THE FILENAME\n\n            logger.info(&quot;Configuration reloaded successfully&quot;);\n        } \n        catch (JoranException e) {\n            logger.error(&quot;Failed to reload config&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>In this code:</p>\n<ol>\n<li>I obtain the LoggerContext using LoggerFactory.getILoggerFactory().</li>\n<li>I create a JoranConfigurator and set it to work with the LoggerContext.</li>\n<li>I call loggerContext.reset() to reset the context, which clears the previous configuration.</li>\n<li>I use configurator.doConfigure(&quot;logback.xml&quot;) to reload the configuration from the specified file (replace &quot;logback.xml&quot; with the path to your Logback configuration file).</li>\n</ol>\n<p>Finally, I log a message to indicate that the configuration was reloaded.</p>\n"},{"tags":[],"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695719235,"creation_date":1695719235,"answer_id":77178561,"question_id":77171429,"body_markdown":"Thanks to [Michael](https://stackoverflow.com/users/1898563/michael) for pointing out `ci.autoConfig()`, it does seem to work...\r\n```java\r\nimport ch.qos.logback.classic.LoggerContext;\r\nimport ch.qos.logback.classic.util.ContextInitializer;\r\nimport org.slf4j.LoggerFactory; // I&#39;m using slf4j + logback\r\n\r\n[..]\r\n\r\n    public void resetLogger() {\r\n        LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        loggerContext.reset();\r\n\r\n        ContextInitializer ci = new ContextInitializer(loggerContext);\r\n        ci.autoConfig();\r\n    }\r\n```","title":"How do I programmatically tell Logback 1.4.x to Reload Configuration","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1898563/michael\">Michael</a> for pointing out <code>ci.autoConfig()</code>, it does seem to work...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.util.ContextInitializer;\nimport org.slf4j.LoggerFactory; // I'm using slf4j + logback\n\n[..]\n\n    public void resetLogger() {\n        LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n        loggerContext.reset();\n\n        ContextInitializer ci = new ContextInitializer(loggerContext);\n        ci.autoConfig();\n    }\n</code></pre>\n"}],"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1695719235,"creation_date":1695634039,"question_id":77171429,"body_markdown":"How do I programmatically tell Logback 1.4.x to Reload Configuration?\r\n\r\nI found an answer to [reload logback 1.2.x configuration](https://stackoverflow.com/questions/9320133/how-do-i-programmatically-tell-logback-to-reload-configuration/77170861) but it doesn&#39;t work with logback 1.4.x (nor 1.3.x) as it gives a compilation error:\r\n\r\n`The method findURLOfDefaultConfigurationFile(boolean) is undefined for the type ContextInitializer`","title":"How do I programmatically tell Logback 1.4.x to Reload Configuration","body":"<p>How do I programmatically tell Logback 1.4.x to Reload Configuration?</p>\n<p>I found an answer to <a href=\"https://stackoverflow.com/questions/9320133/how-do-i-programmatically-tell-logback-to-reload-configuration/77170861\">reload logback 1.2.x configuration</a> but it doesn't work with logback 1.4.x (nor 1.3.x) as it gives a compilation error:</p>\n<p><code>The method findURLOfDefaultConfigurationFile(boolean) is undefined for the type ContextInitializer</code></p>\n"},{"tags":["java","gradle","toolchain","adoptopenjdk","java-21"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695827439,"post_id":77178492,"comment_id":136076718,"body_markdown":"`Gradle only downloads JDK versions for GA releases. There is no support for downloading early access versions.` https://docs.gradle.org/current/userguide/toolchains.html","body":"<code>Gradle only downloads JDK versions for GA releases. There is no support for downloading early access versions.</code> <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/toolchains.html</a>"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695718655,"creation_date":1695718655,"question_id":77178492,"body_markdown":"Configuration\r\n\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(21))\r\n    }\r\n\r\nfails with the following message:\r\n\r\n      &gt; Unable to download toolchain matching these requirements: {languageVersion=21, vendor=any, implementation=vendor-specific}\r\n         &gt; Unable to download toolchain. This might indicate that the combination (version, architecture, release/early access, ...) for the requested JDK is not available.\r\n            &gt; Could not read &#39;https://api.adoptopenjdk.net/v3/binary/latest/21/ga/windows/x64/jdk/hotspot/normal/adoptopenjdk&#39; as it does not exist.\r\n\r\nHow can I specify to download JDK from **early access** release type:&lt;br&gt;\r\nhttps://api.adoptopenjdk.net/v3/binary/latest/21/ea/windows/x64/jdk/hotspot/normal/adoptopenjdk","title":"How to specify custom Java toolchain URL to download in Gradle?","body":"<p>Configuration</p>\n<pre><code>toolchain {\n    languageVersion.set(JavaLanguageVersion.of(21))\n}\n</code></pre>\n<p>fails with the following message:</p>\n<pre><code>  &gt; Unable to download toolchain matching these requirements: {languageVersion=21, vendor=any, implementation=vendor-specific}\n     &gt; Unable to download toolchain. This might indicate that the combination (version, architecture, release/early access, ...) for the requested JDK is not available.\n        &gt; Could not read 'https://api.adoptopenjdk.net/v3/binary/latest/21/ga/windows/x64/jdk/hotspot/normal/adoptopenjdk' as it does not exist.\n</code></pre>\n<p>How can I specify to download JDK from <strong>early access</strong> release type:<br>\n<a href=\"https://api.adoptopenjdk.net/v3/binary/latest/21/ea/windows/x64/jdk/hotspot/normal/adoptopenjdk\" rel=\"nofollow noreferrer\">https://api.adoptopenjdk.net/v3/binary/latest/21/ea/windows/x64/jdk/hotspot/normal/adoptopenjdk</a></p>\n"},{"tags":["java","unit-testing","reflection","junit","intellij-idea"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1223349923,"post_id":176913,"comment_id":60951,"body_markdown":"Tagged as Java so more people will see it (don&#39;t know if it&#39;s really Java-specific, but it does use Java).","body":"Tagged as Java so more people will see it (don&#39;t know if it&#39;s really Java-specific, but it does use Java)."},{"owner":{"account_id":54018,"reputation":13198,"user_id":161580,"display_name":"crunchdog"},"score":0,"creation_date":1251633994,"post_id":176913,"comment_id":1190146,"body_markdown":"As a side-note: consider using for-each. Your for-loop would look like: for(Class testClass : allClasses) { suite.addTestSuite(testClass); }","body":"As a side-note: consider using for-each. Your for-loop would look like: for(Class testClass : allClasses) { suite.addTestSuite(testClass); }"}],"answers":[{"comments":[{"owner":{"account_id":7487,"reputation":1542,"user_id":13041,"accept_rate":80,"display_name":"thvo"},"score":0,"creation_date":1223593114,"post_id":178030,"comment_id":68939,"body_markdown":"With some modifications, mainly to make it recursive, this has worked well for me. Thanks!","body":"With some modifications, mainly to make it recursive, this has worked well for me. Thanks!"}],"tags":[],"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1223385034,"creation_date":1223379057,"answer_id":178030,"question_id":176913,"body_markdown":"I&#39;ve written some code to do most of the work. It works only if your files are on the local disk instead of in a JAR. All you need is one class in the package. You could, for this purpose, create a Locator.java class, just to be able to find the package.\r\n\r\n    public class ClassEnumerator {\r\n    \tpublic static void main(String[] args) throws ClassNotFoundException {\r\n    \t\tList&lt;Class&lt;?&gt;&gt; list = listClassesInSamePackage(Locator.class, true);\r\n    \t\t\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    \r\n    \tprivate static List&lt;Class&lt;?&gt;&gt; listClassesInSamePackage(Class&lt;?&gt; locator, boolean includeLocator) \r\n                                                                          throws ClassNotFoundException {\r\n    \t\t\r\n    \t\tFile packageFile = getPackageFile(locator);\r\n    \t\t\r\n    \t\tString ignore = includeLocator ? null : locator.getSimpleName() + &quot;.class&quot;;\r\n    \r\n    \t\treturn toClassList(locator.getPackage().getName(), listClassNames(packageFile, ignore));\r\n    \t}\r\n    \r\n    \tprivate static File getPackageFile(Class&lt;?&gt; locator) {\r\n    \t\tURL url = locator.getClassLoader().getResource(locator.getName().replace(&quot;.&quot;, &quot;/&quot;) + &quot;.class&quot;);\r\n    \t\tif (url == null) {\r\n    \t\t\tthrow new RuntimeException(&quot;Cannot locate &quot; + Locator.class.getName());\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n\t\t\treturn new File(url.toURI()).getParentFile();\r\n    \t\t}\r\n    \t\tcatch (URISyntaxException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static String[] listClassNames(File packageFile, final String ignore) {\r\n    \t\treturn packageFile.list(new FilenameFilter(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean accept(File dir, String name) {\r\n    \t\t\t\tif (name.equals(ignore)) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn name.endsWith(&quot;.class&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate static List&lt;Class&lt;?&gt;&gt; toClassList(String packageName, String[] classNames)\r\n                                                                 throws ClassNotFoundException {\r\n\r\n    \t\tList&lt;Class&lt;?&gt;&gt; result = new ArrayList&lt;Class&lt;?&gt;&gt;(classNames.length);\r\n    \t\tfor (String className : classNames) {\r\n    \t\t\t// Strip the .class\r\n    \t\t\tString simpleName = className.substring(0, className.length() - 6);\r\n    \t\r\n    \t\t\tresult.add(Class.forName(packageName + &quot;.&quot; + simpleName));\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n","title":"How can I run all JUnit unit tests except those ending in &quot;IntegrationTest&quot; in my IntelliJ IDEA project using the integrated test runner?","body":"<p>I've written some code to do most of the work. It works only if your files are on the local disk instead of in a JAR. All you need is one class in the package. You could, for this purpose, create a Locator.java class, just to be able to find the package.</p>\n\n<pre><code>public class ClassEnumerator {\n    public static void main(String[] args) throws ClassNotFoundException {\n        List&lt;Class&lt;?&gt;&gt; list = listClassesInSamePackage(Locator.class, true);\n\n        System.out.println(list);\n    }\n\n    private static List&lt;Class&lt;?&gt;&gt; listClassesInSamePackage(Class&lt;?&gt; locator, boolean includeLocator) \n                                                                      throws ClassNotFoundException {\n\n        File packageFile = getPackageFile(locator);\n\n        String ignore = includeLocator ? null : locator.getSimpleName() + \".class\";\n\n        return toClassList(locator.getPackage().getName(), listClassNames(packageFile, ignore));\n    }\n\n    private static File getPackageFile(Class&lt;?&gt; locator) {\n        URL url = locator.getClassLoader().getResource(locator.getName().replace(\".\", \"/\") + \".class\");\n        if (url == null) {\n            throw new RuntimeException(\"Cannot locate \" + Locator.class.getName());\n        }\n\n        try {\n        return new File(url.toURI()).getParentFile();\n        }\n        catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static String[] listClassNames(File packageFile, final String ignore) {\n        return packageFile.list(new FilenameFilter(){\n            @Override\n            public boolean accept(File dir, String name) {\n                if (name.equals(ignore)) {\n                    return false;\n                }\n                return name.endsWith(\".class\");\n            }\n        });\n    }\n\n    private static List&lt;Class&lt;?&gt;&gt; toClassList(String packageName, String[] classNames)\n                                                             throws ClassNotFoundException {\n\n        List&lt;Class&lt;?&gt;&gt; result = new ArrayList&lt;Class&lt;?&gt;&gt;(classNames.length);\n        for (String className : classNames) {\n            // Strip the .class\n            String simpleName = className.substring(0, className.length() - 6);\n\n            result.add(Class.forName(packageName + \".\" + simpleName));\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7487,"reputation":1542,"user_id":13041,"accept_rate":80,"display_name":"thvo"},"score":0,"creation_date":1223435919,"post_id":179707,"comment_id":63582,"body_markdown":"hanks. Most of the tests need to be in the same package than the class they test since they access non-public members. Whether or not that&#39;s a good practice, it can&#39;t be changed right now. So I need to keep the test and the class in the same package.","body":"hanks. Most of the tests need to be in the same package than the class they test since they access non-public members. Whether or not that&#39;s a good practice, it can&#39;t be changed right now. So I need to keep the test and the class in the same package."},{"owner":{"account_id":38834,"reputation":3597,"user_id":111716,"accept_rate":92,"display_name":"case nelson"},"score":2,"creation_date":1251143952,"post_id":179707,"comment_id":1158186,"body_markdown":"This answer would still work. test/quick and test/slow are test source roots and tests within either would still be in the com.acme package.","body":"This answer would still work. test/quick and test/slow are test source roots and tests within either would still be in the com.acme package."},{"owner":{"account_id":3259,"reputation":51852,"user_id":4682,"accept_rate":88,"display_name":"Casey Watson"},"score":0,"creation_date":1287587135,"post_id":179707,"comment_id":4257207,"body_markdown":"This is a great option. It&#39;s much easier than scraping the filesystem. It also seems to be much faster than running the tests through ant since IntelliJ only rebuilds the files that have changed.","body":"This is a great option. It&#39;s much easier than scraping the filesystem. It also seems to be much faster than running the tests through ant since IntelliJ only rebuilds the files that have changed."},{"owner":{"account_id":9111,"reputation":19723,"user_id":16686,"accept_rate":35,"display_name":"Arne Evertsson"},"score":0,"creation_date":1288350226,"post_id":179707,"comment_id":4350216,"body_markdown":"Reply to CNelson: I created more test source roots but the trouble then is that IntelliJ only let&#39;s you group and run tests specified by package or class.","body":"Reply to CNelson: I created more test source roots but the trouble then is that IntelliJ only let&#39;s you group and run tests specified by package or class."}],"tags":[],"owner":{"account_id":9111,"reputation":19723,"user_id":16686,"accept_rate":35,"display_name":"Arne Evertsson"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1223403346,"creation_date":1223403346,"answer_id":179707,"question_id":176913,"body_markdown":"How about putting each major group of junit tests into their own root package. I use this package structure in my project:\r\n\r\n    test.\r\n      quick.\r\n        com.acme\r\n      slow.\r\n        com.acme\r\n\r\nWithout any coding, you can set up IntelliJ to run all tests, just the quick ones or just the slow ones.","title":"How can I run all JUnit unit tests except those ending in &quot;IntegrationTest&quot; in my IntelliJ IDEA project using the integrated test runner?","body":"<p>How about putting each major group of junit tests into their own root package. I use this package structure in my project:</p>\n\n<pre><code>test.\n  quick.\n    com.acme\n  slow.\n    com.acme\n</code></pre>\n\n<p>Without any coding, you can set up IntelliJ to run all tests, just the quick ones or just the slow ones.</p>\n"},{"tags":[],"owner":{"account_id":106263,"reputation":3151,"user_id":283136,"accept_rate":38,"display_name":"timomeinen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1267373200,"creation_date":1267373200,"answer_id":2351625,"question_id":176913,"body_markdown":"What about using JUnit4 and the Suite-Runner?\r\n\r\nExample:\r\n\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses({\r\n    UserUnitTest.class,\r\n    AnotherUnitTest.class\r\n    })\r\n    public class UnitTestSuite {}\r\n\r\nI made a small Shell-Script to find all Unit-Tests and another one to find my Integration-Tests. Have a look at my blog entry:\r\n[http://blog.timomeinen.de/2010/02/find-all-junit-tests-in-a-project/][1]\r\n\r\nIf you use Spring TestContext you can use the @IfProfile Annotation to declare different tests.\r\n\r\nKind regards,\r\nTimo Meinen\r\n\r\n\r\n  [1]: http://blog.timomeinen.de/2010/02/find-all-junit-tests-in-a-project/","title":"How can I run all JUnit unit tests except those ending in &quot;IntegrationTest&quot; in my IntelliJ IDEA project using the integrated test runner?","body":"<p>What about using JUnit4 and the Suite-Runner?</p>\n\n<p>Example:</p>\n\n<pre><code>@RunWith(Suite.class)\n@Suite.SuiteClasses({\nUserUnitTest.class,\nAnotherUnitTest.class\n})\npublic class UnitTestSuite {}\n</code></pre>\n\n<p>I made a small Shell-Script to find all Unit-Tests and another one to find my Integration-Tests. Have a look at my blog entry:\n<a href=\"http://blog.timomeinen.de/2010/02/find-all-junit-tests-in-a-project/\" rel=\"noreferrer\">http://blog.timomeinen.de/2010/02/find-all-junit-tests-in-a-project/</a></p>\n\n<p>If you use Spring TestContext you can use the @IfProfile Annotation to declare different tests.</p>\n\n<p>Kind regards,\nTimo Meinen</p>\n"},{"tags":[],"owner":{"account_id":26654,"reputation":14361,"user_id":69572,"accept_rate":70,"display_name":"John Ellinwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695718112,"creation_date":1283524404,"answer_id":3636771,"question_id":176913,"body_markdown":"Spring has implemented an excellent classpath search function in the `PathMatchingResourcePatternResolver`.  If you use the classpath*: prefix, you can find all the resources, including classes in a given hierarchy, and even filter them if you want.  Then you can use the children of `AbstractTypeHierarchyTraversingFilter`, `AnnotationTypeFilter` and `AssignableTypeFilter` to filter those resources either on class level annotations or on interfaces they implement.\r\n\r\nhttp://static.springsource.org/spring/docs/2.0.x/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\r\n\r\nhttp://static.springsource.org/spring/docs/2.5.x/api/org/springframework/core/type/filter/AbstractTypeHierarchyTraversingFilter.html","title":"How can I run all JUnit unit tests except those ending in &quot;IntegrationTest&quot; in my IntelliJ IDEA project using the integrated test runner?","body":"<p>Spring has implemented an excellent classpath search function in the <code>PathMatchingResourcePatternResolver</code>.  If you use the classpath*: prefix, you can find all the resources, including classes in a given hierarchy, and even filter them if you want.  Then you can use the children of <code>AbstractTypeHierarchyTraversingFilter</code>, <code>AnnotationTypeFilter</code> and <code>AssignableTypeFilter</code> to filter those resources either on class level annotations or on interfaces they implement.</p>\n<p><a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html</a></p>\n<p><a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/core/type/filter/AbstractTypeHierarchyTraversingFilter.html\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/core/type/filter/AbstractTypeHierarchyTraversingFilter.html</a></p>\n"},{"tags":[],"owner":{"account_id":4838055,"reputation":2445,"user_id":3903990,"accept_rate":84,"display_name":"Creos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466037661,"creation_date":1466037661,"answer_id":37848062,"question_id":176913,"body_markdown":"Solution: https://github.com/MichaelTamm/junit-toolbox&lt;br&gt;\r\nUse the following features\r\n\r\n    @RunWith(WildcardPatternSuite.class)\r\n    @SuiteClasses({&quot;**/*.class&quot;, &quot;!**/*IntegrationTest.class&quot;})\r\n    public class AllTestsExceptionIntegrationSuit {\r\n    }\r\n\r\nassuming you following a naming pattern where you integration tests end in ...IntegrationTest and you place the file in the top-most package (so the **/*.class search will have the opportunity to pick up all your tests)\r\n","title":"How can I run all JUnit unit tests except those ending in &quot;IntegrationTest&quot; in my IntelliJ IDEA project using the integrated test runner?","body":"<p>Solution: <a href=\"https://github.com/MichaelTamm/junit-toolbox\" rel=\"nofollow\">https://github.com/MichaelTamm/junit-toolbox</a><br>\nUse the following features</p>\n\n<pre><code>@RunWith(WildcardPatternSuite.class)\n@SuiteClasses({\"**/*.class\", \"!**/*IntegrationTest.class\"})\npublic class AllTestsExceptionIntegrationSuit {\n}\n</code></pre>\n\n<p>assuming you following a naming pattern where you integration tests end in ...IntegrationTest and you place the file in the top-most package (so the **/*.class search will have the opportunity to pick up all your tests)</p>\n"}],"owner":{"account_id":7487,"reputation":1542,"user_id":13041,"accept_rate":80,"display_name":"thvo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10750,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":178030,"answer_count":5,"score":13,"last_activity_date":1695718112,"creation_date":1223343343,"question_id":176913,"body_markdown":"I basically want to run all JUnit ***unit*** tests in my IntelliJ IDEA project (excluding JUnit integration tests), using the static suite() method of JUnit. Why use the static suite() method? Because I can then use IntelliJ IDEA&#39;s JUnit test runner to run all unit tests in my application (and easily exclude all integration tests by naming convention). The code so far looks like this:\r\n\r\n    package com.acme;\r\n    \r\n    import junit.framework.Test;\r\n    import junit.framework.TestCase;\r\n    import junit.framework.TestSuite;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    public class AllUnitTests extends TestCase {\r\n    \r\n        public static Test suite() {\r\n            List classes = getUnitTestClasses();\r\n            return createTestSuite(classes);\r\n        }\r\n    \r\n        private static List getUnitTestClasses() {\r\n            List classes = new ArrayList();\r\n            classes.add(CalculatorTest.class);\r\n            return classes;\r\n        }\r\n    \r\n        private static TestSuite createTestSuite(List allClasses) {\r\n            TestSuite suite = new TestSuite(&quot;All Unit Tests&quot;);\r\n            for (Iterator i = allClasses.iterator(); i.hasNext();) {\r\n                suite.addTestSuite((Class&lt;? extends TestCase&gt;) i.next());\r\n            }\r\n            return suite;\r\n        }\r\n    \r\n    }\r\n\r\nThe method getUnitTestClasses() should be rewritten to add all project classes extending TestCase, except if the class name ends in &quot;IntegrationTest&quot;.\r\n\r\nI know I can do this easily in Maven for example, but I need to do it in IntelliJ IDEA so I can use the integrated test runner - I like the green bar :)\r\n\r\n\r\n\r\n","title":"How can I run all JUnit unit tests except those ending in &quot;IntegrationTest&quot; in my IntelliJ IDEA project using the integrated test runner?","body":"<p>I basically want to run all JUnit <strong><em>unit</em></strong> tests in my IntelliJ IDEA project (excluding JUnit integration tests), using the static suite() method of JUnit. Why use the static suite() method? Because I can then use IntelliJ IDEA's JUnit test runner to run all unit tests in my application (and easily exclude all integration tests by naming convention). The code so far looks like this:</p>\n\n<pre><code>package com.acme;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class AllUnitTests extends TestCase {\n\n    public static Test suite() {\n        List classes = getUnitTestClasses();\n        return createTestSuite(classes);\n    }\n\n    private static List getUnitTestClasses() {\n        List classes = new ArrayList();\n        classes.add(CalculatorTest.class);\n        return classes;\n    }\n\n    private static TestSuite createTestSuite(List allClasses) {\n        TestSuite suite = new TestSuite(\"All Unit Tests\");\n        for (Iterator i = allClasses.iterator(); i.hasNext();) {\n            suite.addTestSuite((Class&lt;? extends TestCase&gt;) i.next());\n        }\n        return suite;\n    }\n\n}\n</code></pre>\n\n<p>The method getUnitTestClasses() should be rewritten to add all project classes extending TestCase, except if the class name ends in \"IntegrationTest\".</p>\n\n<p>I know I can do this easily in Maven for example, but I need to do it in IntelliJ IDEA so I can use the integrated test runner - I like the green bar :)</p>\n"},{"tags":["java","swagger-2.0"],"comments":[{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1533052040,"post_id":51616869,"comment_id":90200235,"body_markdown":"How can an enum value itself have multiple values? If the enum is `TYPE_A`, it would always be `TYPE_A` itself right? If it can have multiple values, it should be of a different data type and not an enum. For eg, if `TYPE_B` can be true or false, you should be using a boolean instead right? I believe you need to change your class design.","body":"How can an enum value itself have multiple values? If the enum is <code>TYPE_A</code>, it would always be <code>TYPE_A</code> itself right? If it can have multiple values, it should be of a different data type and not an enum. For eg, if <code>TYPE_B</code> can be true or false, you should be using a boolean instead right? I believe you need to change your class design."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":4,"creation_date":1533052398,"post_id":51616869,"comment_id":90200446,"body_markdown":"OpenAPI Specification (and, by extension, Swagger tools) does not support descriptions for individual enum values (here&#39;s a related [feature request](https://github.com/OAI/OpenAPI-Specification/issues/348)). You&#39;ll probably need to specify these descriptions in the annotations for `RuleType`.","body":"OpenAPI Specification (and, by extension, Swagger tools) does not support descriptions for individual enum values (here&#39;s a related <a href=\"https://github.com/OAI/OpenAPI-Specification/issues/348\" rel=\"nofollow noreferrer\">feature request</a>). You&#39;ll probably need to specify these descriptions in the annotations for <code>RuleType</code>."},{"owner":{"account_id":14527583,"reputation":4972,"user_id":10493338,"display_name":"Michael Kemmerzell"},"score":0,"creation_date":1594905276,"post_id":51616869,"comment_id":111294986,"body_markdown":"Any update on this? I use SpringDoc 1.4.3 and am facing the same issue.","body":"Any update on this? I use SpringDoc 1.4.3 and am facing the same issue."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1658426546,"post_id":51616869,"comment_id":129054859,"body_markdown":"There is a github project that apparently solves this: https://github.com/hoereth/springfox-enum-plugin.","body":"There is a github project that apparently solves this: <a href=\"https://github.com/hoereth/springfox-enum-plugin\" rel=\"nofollow noreferrer\">github.com/hoereth/springfox-enum-plugin</a>."}],"answers":[{"tags":[],"owner":{"account_id":19284977,"reputation":1,"user_id":14096164,"display_name":"Azamat Ziyadullayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691199229,"creation_date":1691155387,"answer_id":76836336,"question_id":51616869,"body_markdown":"You cannot do this as you like. But there is another simple solution which you want. \r\n\r\n    public class Rule {\r\n    \r\n        @ApiModelProperty(value = \r\n                &quot;TYPE_A must be 1 - 10\\n&quot; +\r\n                &quot;TYPE_B must be True or False\\n&quot; +\r\n                &quot;TYPE_C must be String&quot;)\r\n        private RuleType type; //enum\r\n        private String value;\r\n    }\r\n\r\n  You can see final result of this code with this link:\r\n  https://i.stack.imgur.com/pMA6N.png\r\n","title":"Swagger adding description to enums","body":"<p>You cannot do this as you like. But there is another simple solution which you want.</p>\n<pre><code>public class Rule {\n\n    @ApiModelProperty(value = \n            &quot;TYPE_A must be 1 - 10\\n&quot; +\n            &quot;TYPE_B must be True or False\\n&quot; +\n            &quot;TYPE_C must be String&quot;)\n    private RuleType type; //enum\n    private String value;\n}\n</code></pre>\n<p>You can see final result of this code with this link:\n<a href=\"https://i.stack.imgur.com/pMA6N.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pMA6N.png</a></p>\n"},{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695718049,"creation_date":1695718049,"answer_id":77178414,"question_id":51616869,"body_markdown":"As @Helen mentioned, it&#39;s currently not possible to set a description for enums. However, you can assign a description to the property, as @Azamat suggested. Here&#39;s a similar approach using Microprofile OpenAPI annotations.\r\n\r\n```\r\nimport org.eclipse.microprofile.openapi.annotations.media.Schema;\r\n\r\npublic class Foobar {\r\n  private String value;\r\n\r\n  @Schema(\r\n      name = &quot;type&quot;,\r\n      description = &quot;TYPE_A - [1 - 10], TYPE_B - [True or False], TYPE_C - [String]&quot;)\r\n  private RuleType type;\r\n}\r\n\r\n```\r\n\r\nSwagger UI\r\n```\r\nFoobar{\r\nvalue\tstring\r\ntype\tstring\r\nTYPE_A - [1 - 10], TYPE_B - [True or False], TYPE_C - [String]\r\n\r\nEnum:\r\n[ TYPE_A, TYPE_B, TYPE_C ]\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FceWt.png","title":"Swagger adding description to enums","body":"<p>As @Helen mentioned, it's currently not possible to set a description for enums. However, you can assign a description to the property, as @Azamat suggested. Here's a similar approach using Microprofile OpenAPI annotations.</p>\n<pre><code>import org.eclipse.microprofile.openapi.annotations.media.Schema;\n\npublic class Foobar {\n  private String value;\n\n  @Schema(\n      name = &quot;type&quot;,\n      description = &quot;TYPE_A - [1 - 10], TYPE_B - [True or False], TYPE_C - [String]&quot;)\n  private RuleType type;\n}\n\n</code></pre>\n<p>Swagger UI</p>\n<pre><code>Foobar{\nvalue   string\ntype    string\nTYPE_A - [1 - 10], TYPE_B - [True or False], TYPE_C - [String]\n\nEnum:\n[ TYPE_A, TYPE_B, TYPE_C ]\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FceWt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FceWt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7110698,"reputation":183,"user_id":5438710,"display_name":"Juan Pablo Enrique"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6643,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1695718049,"creation_date":1533050501,"question_id":51616869,"body_markdown":"I have a class that looks like this:\r\n\r\n    public class Rule {\r\n        \r\n        private RuleType type; //enum\r\n        private String value;\r\n    }\r\n\r\nThe enum is:\r\n\r\n    public enum RuleType {\r\n        TYPE_A, TYPE_B, TYPE_C;\r\n    }\r\n\r\nNow each rule type the values are different. TYPE_A requires a number 1 through 10, TYPE_B is true or false, and TYPE_C is a string. I am trying to add swagger annotations to the enum so that the documentation can show this, something like this:\r\n\r\n    \r\n    public enum RuleType {\r\n        @ApiModelProperty(value = &quot;1 - 10&quot;)\r\n        TYPE_A, \r\n        @ApiModelProperty(value = &quot;True or False&quot;)\r\n        TYPE_B, \r\n        @ApiModelProperty(value = &quot;String&quot;)\r\n        TYPE_C;\r\n    }\r\n\r\nBut this doesn&#39;t work. The swagger produced just ignores the properties on the enums. Is there a way to create documentation like this?","title":"Swagger adding description to enums","body":"<p>I have a class that looks like this:</p>\n\n<pre><code>public class Rule {\n\n    private RuleType type; //enum\n    private String value;\n}\n</code></pre>\n\n<p>The enum is:</p>\n\n<pre><code>public enum RuleType {\n    TYPE_A, TYPE_B, TYPE_C;\n}\n</code></pre>\n\n<p>Now each rule type the values are different. TYPE_A requires a number 1 through 10, TYPE_B is true or false, and TYPE_C is a string. I am trying to add swagger annotations to the enum so that the documentation can show this, something like this:</p>\n\n<pre><code>public enum RuleType {\n    @ApiModelProperty(value = \"1 - 10\")\n    TYPE_A, \n    @ApiModelProperty(value = \"True or False\")\n    TYPE_B, \n    @ApiModelProperty(value = \"String\")\n    TYPE_C;\n}\n</code></pre>\n\n<p>But this doesn't work. The swagger produced just ignores the properties on the enums. Is there a way to create documentation like this?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1695718837,"post_id":77178401,"comment_id":136058604,"body_markdown":"Configure the Java installations you want to use in your projects in the preferences _Java &gt; Installed JREs_.","body":"Configure the Java installations you want to use in your projects in the preferences <i>Java &gt; Installed JREs</i>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695722967,"post_id":77178401,"comment_id":136059444,"body_markdown":"Also, it is recommended that you download and use the Eclipse **Installer** for your platform.  This **includes** the JRE that is used to run Eclipse.  (For the record, with Eclipse 2023‑09, that is Java 17, not Java 21.)","body":"Also, it is recommended that you download and use the Eclipse <b>Installer</b> for your platform.  This <b>includes</b> the JRE that is used to run Eclipse.  (For the record, with Eclipse 2023‑09, that is Java 17, not Java 21.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695723221,"post_id":77178401,"comment_id":136059491,"body_markdown":"Finally, if you want to target Java 21, that is (apparently) not supported by Eclipse 2023-09 directly.  Instead you can install Java 21 support via a Marketplace plugin: https://marketplace.eclipse.org/content/java-21-support-eclipse-2023-09-429.  I imagine that the next Eclipse release will support Java 21 directly.","body":"Finally, if you want to target Java 21, that is (apparently) not supported by Eclipse 2023-09 directly.  Instead you can install Java 21 support via a Marketplace plugin: <a href=\"https://marketplace.eclipse.org/content/java-21-support-eclipse-2023-09-429\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>.  I imagine that the next Eclipse release will support Java 21 directly."}],"owner":{"account_id":29536642,"reputation":1,"user_id":22636134,"display_name":"s.h"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695722413,"answer_count":0,"score":0,"last_activity_date":1695717972,"creation_date":1695717972,"question_id":77178401,"body_markdown":"Ive just downloaded and installed JDK21 and Eclips,when I Start to write a code I get an error ,;Unbound Classpath Container,JRE system Library,Ive started new sop Ive new with all that and have no clue whats going wrong.I have windows 10(64 bit),.dop I need to install sth more ?or what Im doing wrong?\r\n\r\nIve tried to reinstall again and also JDK17 but  system tell me,.its not comopatible with the newest release of Eclips","title":"Unbound Classopath Container","body":"<p>Ive just downloaded and installed JDK21 and Eclips,when I Start to write a code I get an error ,;Unbound Classpath Container,JRE system Library,Ive started new sop Ive new with all that and have no clue whats going wrong.I have windows 10(64 bit),.dop I need to install sth more ?or what Im doing wrong?</p>\n<p>Ive tried to reinstall again and also JDK17 but  system tell me,.its not comopatible with the newest release of Eclips</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1564756575,"creation_date":1468606146,"answer_id":38402625,"question_id":38402493,"body_markdown":"The message says exactly what the problem is: your variable *log* must be final (that is: carry the keyword final) or be effectively final (that is: you only assign a value to it *once* outside of the lambda). Otherwise, you can&#39;t use that variable within your lambda statement. \r\n\r\nBut of course, that conflicts with your usage of *log*. The point is: you can&#39;t write to something external from within the lambda ... so you have to step back and look for other ways for whatever you intend to do.\r\n\r\nIn that sense: just believe the compiler. \r\n\r\nBeyond that, there is one **core** point to understand: you can **not** use a local variable that you can write to. Local variables are &quot;copied&quot; into the context of the lambda at runtime, and in order to achieve deterministic behavior, they can only be read, and should be **constants**. \r\n\r\nIf your use case is to *write* to some object, then it should be a field of your enclosing class for example!\r\n\r\nSo, long story short:\r\n\r\n- **local** variables used (read) inside a lambda must act like a **constant**\r\n- you can not **write** to local variables!\r\n- or the other way round: if you need something to write to, you have to use a field of your surrounding class for example (or provide a call back method)","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>The message says exactly what the problem is: your variable <em>log</em> must be final (that is: carry the keyword final) or be effectively final (that is: you only assign a value to it <em>once</em> outside of the lambda). Otherwise, you can't use that variable within your lambda statement. </p>\n\n<p>But of course, that conflicts with your usage of <em>log</em>. The point is: you can't write to something external from within the lambda ... so you have to step back and look for other ways for whatever you intend to do.</p>\n\n<p>In that sense: just believe the compiler. </p>\n\n<p>Beyond that, there is one <strong>core</strong> point to understand: you can <strong>not</strong> use a local variable that you can write to. Local variables are \"copied\" into the context of the lambda at runtime, and in order to achieve deterministic behavior, they can only be read, and should be <strong>constants</strong>. </p>\n\n<p>If your use case is to <em>write</em> to some object, then it should be a field of your enclosing class for example!</p>\n\n<p>So, long story short:</p>\n\n<ul>\n<li><strong>local</strong> variables used (read) inside a lambda must act like a <strong>constant</strong></li>\n<li>you can not <strong>write</strong> to local variables!</li>\n<li>or the other way round: if you need something to write to, you have to use a field of your surrounding class for example (or provide a call back method)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":1,"creation_date":1468607891,"post_id":38403049,"comment_id":64214309,"body_markdown":"I suggest using IDE feature to convert anonymous class snippets to lambda expressions to understand the interplay between the two (at least until you are comfortable with lambda expression scopes).","body":"I suggest using IDE feature to convert anonymous class snippets to lambda expressions to understand the interplay between the two (at least until you are comfortable with lambda expression scopes)."}],"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1468607815,"creation_date":1468607815,"answer_id":38403049,"question_id":38402493,"body_markdown":"The reason for this limitation is **the same as the reason for the Java language feature that _local variables_ accessed from within (anonymous) inner classes must be (effectively) final**. \r\n\r\n[This answer](https://stackoverflow.com/a/27558512/437506) by rgettman gets into the details of it. rgettman explains the limitations in clear detail and I link to that answer because the behavior of lambda expressions should be same as that of anonymous inner classes. Note that such limitation does not exist for class or instance variables, however. The main reason for this is slightly complicated and I couldn&#39;t explain it better than what Roedy Green does it [here](http://mindprod.com/jgloss/nestedclasses.html#ANONYMOUSVISIBILITY). Copying here only so it is at one place:\r\n\r\n&gt; The rule is anonymous inner classes may only access final local\r\n&gt; variables of the enclosing method. Why? Because the inner class’s\r\n&gt; methods may be invoked later, long after the method that spawned it\r\n&gt; has terminated, e.g. by an AWT (Advanced Windowing Toolkit) event. The\r\n&gt; local variables are long gone. The anonymous class then must work with\r\n&gt; flash frozen copies of just the ones it needs squirreled away covertly\r\n&gt; by the compiler in the anonymous inner class object. You might ask,\r\n&gt; why do the local variables have to be final? Could not the compiler\r\n&gt; just as well take a copy of non-final local variables, much the way it\r\n&gt; does for a non-final parameters? If it did so, you would have two\r\n&gt; copies of the variable. Each could change independently, much like\r\n&gt; caller and callee’s copy of a parameter, however you would use the\r\n&gt; same syntax to access either copy. This would be confusing. So Sun\r\n&gt; insisted the local be final. This makes irrelevant that there are\r\n&gt; actually two copies of it.\r\n&gt; \r\n&gt; The ability for an anonymous class to access the caller’s final local\r\n&gt; variables is really just syntactic sugar for automatically passing in\r\n&gt; some local variables as extra constructor parameters. The whole thing\r\n&gt; smells to me of diluted eau de kludge.\r\n\r\n","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>The reason for this limitation is <strong>the same as the reason for the Java language feature that <em>local variables</em> accessed from within (anonymous) inner classes must be (effectively) final</strong>. </p>\n\n<p><a href=\"https://stackoverflow.com/a/27558512/437506\">This answer</a> by rgettman gets into the details of it. rgettman explains the limitations in clear detail and I link to that answer because the behavior of lambda expressions should be same as that of anonymous inner classes. Note that such limitation does not exist for class or instance variables, however. The main reason for this is slightly complicated and I couldn't explain it better than what Roedy Green does it <a href=\"http://mindprod.com/jgloss/nestedclasses.html#ANONYMOUSVISIBILITY\" rel=\"noreferrer\">here</a>. Copying here only so it is at one place:</p>\n\n<blockquote>\n  <p>The rule is anonymous inner classes may only access final local\n  variables of the enclosing method. Why? Because the inner class’s\n  methods may be invoked later, long after the method that spawned it\n  has terminated, e.g. by an AWT (Advanced Windowing Toolkit) event. The\n  local variables are long gone. The anonymous class then must work with\n  flash frozen copies of just the ones it needs squirreled away covertly\n  by the compiler in the anonymous inner class object. You might ask,\n  why do the local variables have to be final? Could not the compiler\n  just as well take a copy of non-final local variables, much the way it\n  does for a non-final parameters? If it did so, you would have two\n  copies of the variable. Each could change independently, much like\n  caller and callee’s copy of a parameter, however you would use the\n  same syntax to access either copy. This would be confusing. So Sun\n  insisted the local be final. This makes irrelevant that there are\n  actually two copies of it.</p>\n  \n  <p>The ability for an anonymous class to access the caller’s final local\n  variables is really just syntactic sugar for automatically passing in\n  some local variables as extra constructor parameters. The whole thing\n  smells to me of diluted eau de kludge.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695717905,"creation_date":1484227641,"answer_id":41614445,"question_id":38402493,"body_markdown":"Remember method inner classes can&#39;t modify any value from their surrounding method. Your second lambda expression in foreach is trying to access its surrounding method variable (log). \r\n\r\nTo solve this you can avoid using lambda in foreach and so a simple for each and replace all the values in log.\r\n\r\n        filteredRdd.map(log -&gt; {\r\n            for (String text : placeHolder){\r\n                log = log.replace(text,&quot;,&quot;);\r\n            }\r\n            return log;\r\n        });\r\n\r\n       ","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>Remember method inner classes can't modify any value from their surrounding method. Your second lambda expression in foreach is trying to access its surrounding method variable (log).</p>\n<p>To solve this you can avoid using lambda in foreach and so a simple for each and replace all the values in log.</p>\n<pre><code>    filteredRdd.map(log -&gt; {\n        for (String text : placeHolder){\n            log = log.replace(text,&quot;,&quot;);\n        }\n        return log;\n    });\n\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1588083098,"creation_date":1588083098,"answer_id":61482290,"question_id":38402493,"body_markdown":"In some use cases there can be a work around. The following code complains about the `startTime` variable not being effectively final:\r\n\r\n    List&lt;Report&gt; reportsBeforeTime = reports.stream()\r\n                                            .filter(r-&gt;r.getTime().isAfter(startTime))\r\n                                            .collect(Collectors.toList());\r\nSo, just copy the value to a final variable before passing it to lambda:\r\n\r\n    final LocalTime finalStartTime = startTime;\r\n        List&lt;Report&gt; reportsBeforeTime = reports.stream()\r\n                                                .filter(r-&gt;r.getTime().isAfter(finalStartTime))\r\n                                                .collect(Collectors.toList());\r\n\r\nHowever, If you need to change a local variable inside a lambda function, that won&#39;t work.","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>In some use cases there can be a work around. The following code complains about the <code>startTime</code> variable not being effectively final:</p>\n\n<pre><code>List&lt;Report&gt; reportsBeforeTime = reports.stream()\n                                        .filter(r-&gt;r.getTime().isAfter(startTime))\n                                        .collect(Collectors.toList());\n</code></pre>\n\n<p>So, just copy the value to a final variable before passing it to lambda:</p>\n\n<pre><code>final LocalTime finalStartTime = startTime;\n    List&lt;Report&gt; reportsBeforeTime = reports.stream()\n                                            .filter(r-&gt;r.getTime().isAfter(finalStartTime))\n                                            .collect(Collectors.toList());\n</code></pre>\n\n<p>However, If you need to change a local variable inside a lambda function, that won't work.</p>\n"},{"tags":[],"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589069779,"creation_date":1589059754,"answer_id":61703996,"question_id":38402493,"body_markdown":"One solution is to encapsulate the code in an enclosing (inner class). You can define this:\r\n\r\n    \tpublic abstract class ValueContext&lt;T&gt; {\r\n\r\n\t\tpublic T value;\r\n\r\n\t\tpublic abstract void run();\r\n\t}\r\n\r\nAnd then use it like this (example of a String value):\r\n\r\n    final ValueContext&lt;String&gt; context = new ValueContext&lt;String&gt;(myString) {\r\n\r\n\t@Override\r\n\tpublic void run() { \r\n\r\n    // Your code here; lambda or other enclosing classes that want to work on myString,\r\n    // but use &#39;value&#39; instead of &#39;myString&#39;\r\n\r\n    \t\tvalue = doSomethingWithMyString(value);\r\n\r\n\t}};\r\n\r\n    context.run();\r\n\r\n    myString = context.value;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>One solution is to encapsulate the code in an enclosing (inner class). You can define this:</p>\n\n<pre><code>    public abstract class ValueContext&lt;T&gt; {\n\n    public T value;\n\n    public abstract void run();\n}\n</code></pre>\n\n<p>And then use it like this (example of a String value):</p>\n\n<pre><code>final ValueContext&lt;String&gt; context = new ValueContext&lt;String&gt;(myString) {\n\n@Override\npublic void run() { \n\n// Your code here; lambda or other enclosing classes that want to work on myString,\n// but use 'value' instead of 'myString'\n\n        value = doSomethingWithMyString(value);\n\n}};\n\ncontext.run();\n\nmyString = context.value;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":165750,"reputation":1342,"user_id":389447,"accept_rate":38,"display_name":"Dominik"},"score":0,"creation_date":1669647525,"post_id":67382396,"comment_id":131683546,"body_markdown":"This solution works perfect and fits into many cases as e.g. JOOQ TX lambda:\n```\nAtomicReference&lt;String&gt; result = new AtomicReference&lt;&gt;();\njooq.transaction((Configuration tx) -&gt; {\n    ....\n    result.set(...);\n    ....\n}\nreturn result.get();\n```","body":"This solution works perfect and fits into many cases as e.g. JOOQ TX lambda: ``` AtomicReference&lt;String&gt; result = new AtomicReference&lt;&gt;(); jooq.transaction((Configuration tx) -&gt; {     ....     result.set(...);     .... } return result.get(); ```"},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":0,"creation_date":1699991435,"post_id":67382396,"comment_id":136599415,"body_markdown":"I&#39;m not sure using AtomicReference for this gives the reader &#224; clear idea of why it is being used. A MutableObject from apache commons or something similar would probably be clearer.","body":"I&#39;m not sure using AtomicReference for this gives the reader &#224; clear idea of why it is being used. A MutableObject from apache commons or something similar would probably be clearer."}],"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620121680,"creation_date":1620121680,"answer_id":67382396,"question_id":38402493,"body_markdown":"If you do not want to create your own object wrapper, you can use `AtomicReference`, for example:\r\n\r\n    AtomicReference&lt;String&gt; data = new AtomicReference&lt;&gt;();\r\n    \r\n    Test.lamdaTest(()-&gt; {\r\n    \t//data = ans.get(); &lt;--- can&#39;t do this, so we do as below\r\n        data.set(&quot;to change local variable&quot;); \r\n    });\r\n    \r\n    return data.get();","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>If you do not want to create your own object wrapper, you can use <code>AtomicReference</code>, for example:</p>\n<pre><code>AtomicReference&lt;String&gt; data = new AtomicReference&lt;&gt;();\n\nTest.lamdaTest(()-&gt; {\n    //data = ans.get(); &lt;--- can't do this, so we do as below\n    data.set(&quot;to change local variable&quot;); \n});\n\nreturn data.get();\n</code></pre>\n"}],"owner":{"account_id":3005675,"reputation":5606,"user_id":2550264,"accept_rate":59,"display_name":"Balaji Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122051,"favorite_count":0,"down_vote_count":2,"up_vote_count":46,"accepted_answer_id":38402625,"answer_count":6,"score":44,"last_activity_date":1695717905,"creation_date":1468605603,"question_id":38402493,"body_markdown":"I&#39;m new to lambda and Java8. I&#39;m facing following error. \r\n\r\n&gt; Local variable log defined in an enclosing scope must be final or\r\n&gt; effectively final\r\n\r\n\tpublic JavaRDD&lt;String&gt; modify(JavaRDD&lt;String&gt; filteredRdd) {\r\n\r\n\t\tfilteredRdd.map(log -&gt; {\r\n\r\n\t\t\tplaceHolder.forEach(text -&gt; {\r\n\r\n                //error comes here\r\n\t\t\t\tlog = log.replace(text, &quot;,&quot;);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn log;\r\n\r\n\t\t});\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n","title":"Local variable log defined in an enclosing scope must be final or effectively final","body":"<p>I'm new to lambda and Java8. I'm facing following error. </p>\n\n<blockquote>\n  <p>Local variable log defined in an enclosing scope must be final or\n  effectively final</p>\n</blockquote>\n\n<pre><code>public JavaRDD&lt;String&gt; modify(JavaRDD&lt;String&gt; filteredRdd) {\n\n    filteredRdd.map(log -&gt; {\n\n        placeHolder.forEach(text -&gt; {\n\n            //error comes here\n            log = log.replace(text, \",\");\n\n        });\n\n        return log;\n\n    });\n\n    return null;\n}\n</code></pre>\n"},{"tags":["java","list","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695718501,"post_id":77178371,"comment_id":136058521,"body_markdown":"You wrote (in your question): _I tried doing this with the following code_ If possible, I would prefer if you [edit] your question and post a [mcve]. I also suggest that you take the [tour] and visit the [help]. In any case, I don&#39;t understand what your problem is. Maybe you can post a screen capture of your JavaFX application and indicate where the problem is.","body":"You wrote (in your question): <i>I tried doing this with the following code</i> If possible, I would prefer if you <a href=\"https://stackoverflow.com/posts/77178371/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I also suggest that you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and visit the <a href=\"https://stackoverflow.com/help\">help center</a>. In any case, I don&#39;t understand what your problem is. Maybe you can post a screen capture of your JavaFX application and indicate where the problem is."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1695731938,"post_id":77178371,"comment_id":136061265,"body_markdown":"You need an appropriate place to store the list of scores; the usual way to do this is to create a model class to store application data. See https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","body":"You need an appropriate place to store the list of scores; the usual way to do this is to create a model class to store application data. See <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1695732529,"post_id":77178371,"comment_id":136061421,"body_markdown":"Off-topic: It is better to use a `ListView` to display a list of objects than to use a `TextArea`.","body":"Off-topic: It is better to use a <code>ListView</code> to display a list of objects than to use a <code>TextArea</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695765947,"post_id":77178371,"comment_id":136067711,"body_markdown":"To display a table of names and scores, you might consider a [`TableView`](https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/table-view.htm).  An example of [using a TableView from FXML](https://code.makery.ch/library/javafx-tutorial/part2/), if you choose to use FXML as part of your solution.","body":"To display a table of names and scores, you might consider a <a href=\"https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/table-view.htm\" rel=\"nofollow noreferrer\"><code>TableView</code></a>.  An example of <a href=\"https://code.makery.ch/library/javafx-tutorial/part2/\" rel=\"nofollow noreferrer\">using a TableView from FXML</a>, if you choose to use FXML as part of your solution."}],"owner":{"account_id":29536763,"reputation":1,"user_id":22636240,"display_name":"Gergo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695717689,"creation_date":1695717689,"question_id":77178371,"body_markdown":"I am trying to make my first javaFx window show the results of a Questionnaire for CS bachelor, it prints the correct username and score, I however also have a place where I want to print the other entries to that list (in the programs lifetime). \r\nAny help would be appreciated, if there is any code that feels like its missing do say so as I am very new at programming\r\n\r\n\r\nI tried doing this with the following code in the Controller class that sends me to the MainWindow again \r\n```\r\n    public void clickMainMenuBtn(ActionEvent actionEvent) throws IOException\r\n    {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/MainWindow.fxml&quot;));\r\n        Parent mainSceneRoot = loader.load();\r\n        MainController mainController = loader.getController();\r\n        UserScore userScore = new UserScore(SecondController.getUserNameInput(), ScoreCalculated);\r\n\r\n        mainController.initialize(userScore);\r\n        Stage currentStage = (Stage) Score.getScene().getWindow();\r\n        currentStage.setScene(new Scene(mainSceneRoot));\r\n```\r\n\r\nand here is the intialize code that is getting run in the code above :\r\n\r\n```\r\npublic void initialize(UserScore userScore)\r\n    {\r\n        userNameLabel.setText(userScore.getUserName());\r\n        scoreLabel.setText(String.valueOf(userScore.getScore()));\r\n\r\n        NameAndScoreList.add(userScore);\r\n\r\n        displayNameAndScoreList();\r\n    }\r\n```\r\nand here is the last method called in the initialize method\r\n\r\n```\r\n   public void displayNameAndScoreList()\r\n    {\r\n        StringBuilder NameAndScoreListText = new StringBuilder(&quot;Tidligere Score:\\n&quot;);\r\n\r\n        for(UserScore userScore : NameAndScoreList)\r\n        {\r\n            NameAndScoreListText.append(userScore.getUserName()).append(&quot;: &quot;).append(userScore.getScore()).append(&quot;\\n&quot;);\r\n        }\r\n        System.out.println(NameAndScoreListText.toString());\r\n        EarlierScores.setText(NameAndScoreListText.toString());\r\n\r\n    }\r\n```","title":"How can I make my MainWindow.fxml print the earlier entries in a list?","body":"<p>I am trying to make my first javaFx window show the results of a Questionnaire for CS bachelor, it prints the correct username and score, I however also have a place where I want to print the other entries to that list (in the programs lifetime).\nAny help would be appreciated, if there is any code that feels like its missing do say so as I am very new at programming</p>\n<p>I tried doing this with the following code in the Controller class that sends me to the MainWindow again</p>\n<pre><code>    public void clickMainMenuBtn(ActionEvent actionEvent) throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/MainWindow.fxml&quot;));\n        Parent mainSceneRoot = loader.load();\n        MainController mainController = loader.getController();\n        UserScore userScore = new UserScore(SecondController.getUserNameInput(), ScoreCalculated);\n\n        mainController.initialize(userScore);\n        Stage currentStage = (Stage) Score.getScene().getWindow();\n        currentStage.setScene(new Scene(mainSceneRoot));\n</code></pre>\n<p>and here is the intialize code that is getting run in the code above :</p>\n<pre><code>public void initialize(UserScore userScore)\n    {\n        userNameLabel.setText(userScore.getUserName());\n        scoreLabel.setText(String.valueOf(userScore.getScore()));\n\n        NameAndScoreList.add(userScore);\n\n        displayNameAndScoreList();\n    }\n</code></pre>\n<p>and here is the last method called in the initialize method</p>\n<pre><code>   public void displayNameAndScoreList()\n    {\n        StringBuilder NameAndScoreListText = new StringBuilder(&quot;Tidligere Score:\\n&quot;);\n\n        for(UserScore userScore : NameAndScoreList)\n        {\n            NameAndScoreListText.append(userScore.getUserName()).append(&quot;: &quot;).append(userScore.getScore()).append(&quot;\\n&quot;);\n        }\n        System.out.println(NameAndScoreListText.toString());\n        EarlierScores.setText(NameAndScoreListText.toString());\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-security"],"comments":[{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1695703714,"post_id":77177048,"comment_id":136056068,"body_markdown":"Do you want to disable security completely? (you authorize all requests)\nAlso, did you check whether your security configuration is part of your component scan? (You probably did, just checking.)","body":"Do you want to disable security completely? (you authorize all requests) Also, did you check whether your security configuration is part of your component scan? (You probably did, just checking.)"},{"owner":{"account_id":25423550,"reputation":59,"user_id":19229048,"display_name":"rheza 555"},"score":0,"creation_date":1695704653,"post_id":77177048,"comment_id":136056173,"body_markdown":"How to check whether your security configuration is part of your component scan? I added @ComponentScan on top of class but it still the same. I want to disable the web login part so my GET api and POST login api can be access.","body":"How to check whether your security configuration is part of your component scan? I added @ComponentScan on top of class but it still the same. I want to disable the web login part so my GET api and POST login api can be access."},{"owner":{"account_id":25423550,"reputation":59,"user_id":19229048,"display_name":"rheza 555"},"score":0,"creation_date":1695708094,"post_id":77177048,"comment_id":136056545,"body_markdown":"@ChristianHujer I&#39;ve got it. My Config was not in the right pakage. It&#39;s in Config but should have been com.example.api.Config and the same with my Controller.","body":"@ChristianHujer I&#39;ve got it. My Config was not in the right pakage. It&#39;s in Config but should have been com.example.api.Config and the same with my Controller."},{"owner":{"account_id":4004102,"reputation":99,"user_id":3856160,"display_name":"dilansalinda"},"score":0,"creation_date":1695731904,"post_id":77177048,"comment_id":136061253,"body_markdown":"To disable generated password, you have to define the`spring.datasource.username and spring.datasource.password` configuration properties in the application.properties file.","body":"To disable generated password, you have to define the<code>spring.datasource.username and spring.datasource.password</code> configuration properties in the application.properties file."}],"owner":{"account_id":25423550,"reputation":59,"user_id":19229048,"display_name":"rheza 555"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695717642,"creation_date":1695702989,"question_id":77177048,"body_markdown":"how to disable login screen java spring boot security 6 with config file. Here is my config:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity \r\n    public class SecurityConfig {\r\n    \r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n                http = http.cors(cr -&gt; {\r\n                            cr.disable();\r\n                });\r\n                http = http.csrf(cs -&gt; {\r\n                            cs.disable();\r\n                        });\r\n                http = http.sessionManagement(ss -&gt; {\r\n                            ss.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n                        });\r\n                http = http.authorizeRequests(au -&gt; {\r\n                            au.anyRequest().permitAll();\r\n                        });\r\n                http = http.formLogin(fl -&gt; {\r\n                            fl.disable();\r\n                        });\r\n                http = http.httpBasic(hb -&gt; {\r\n                            hb.disable();\r\n                });\r\n\t\treturn http.build();\r\n    }}\r\n\r\nWhen I run with this config it redirect everything to a login screen with a random generated password. I want to disable the redirect, login screen and generated password.","title":"how to disable login screen java spring boot security 6","body":"<p>how to disable login screen java spring boot security 6 with config file. Here is my config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity \npublic class SecurityConfig {\n\n  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n            http = http.cors(cr -&gt; {\n                        cr.disable();\n            });\n            http = http.csrf(cs -&gt; {\n                        cs.disable();\n                    });\n            http = http.sessionManagement(ss -&gt; {\n                        ss.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n                    });\n            http = http.authorizeRequests(au -&gt; {\n                        au.anyRequest().permitAll();\n                    });\n            http = http.formLogin(fl -&gt; {\n                        fl.disable();\n                    });\n            http = http.httpBasic(hb -&gt; {\n                        hb.disable();\n            });\n    return http.build();\n}}\n</code></pre>\n<p>When I run with this config it redirect everything to a login screen with a random generated password. I want to disable the redirect, login screen and generated password.</p>\n"},{"tags":["java","swagger","spring-webflux","openapi"],"owner":{"account_id":18307155,"reputation":1,"user_id":13330757,"display_name":"art"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695717157,"creation_date":1695715688,"question_id":77178117,"body_markdown":"Hi I am using spring reactive programming and using below dependencies. when i am hitting swagger url in browser it&#39;s keep loading. Could someone helps what mistake i am making\r\n\r\nmy swaggar config class:\r\n\r\n```\r\n@Setter\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;springdoc.info&quot;)\r\npublic class SwaggerConfiguration {\r\n\r\n    private String title;\r\n    private String version;\r\n    private String teamName;\r\n    private String email;\r\n    private String website;\r\n    private String externalDocs;\r\n\r\n    @Bean\r\n    public OpenAPI openAPI() {\r\n        return new OpenAPI()\r\n                .info(new Info()\r\n                        .title(title)\r\n                        .description(&quot;APIs to perform CRUD operation&quot;)\r\n                        .version(version)\r\n                        .contact(new Contact()\r\n                                .name(teamName + &quot; Team&quot;)\r\n                                .email(email)\r\n                                .url(website)\r\n                        )\r\n                )\r\n                .externalDocs(new ExternalDocumentation()\r\n                        .url(externalDocs)\r\n                        .description(&quot;wrapper Documentation&quot;)\r\n                );\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi myOpenApi() {\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;Wrapper APIs&quot;)\r\n                .pathsToMatch(&quot;/**&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nmy controller interface have these configs:\r\n\r\n```\r\n@Operation(\r\n        operationId = &quot;getIntegratedParty&quot;,\r\n        summary = &quot;Find Integrated Party by cdpPartyId or businessId&quot;,\r\n        responses = {\r\n                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;, content = {\r\n                        @Content(mediaType = APPLICATION_JSON_VALUE, schema = @Schema(implementation = IntegratedParty.class))\r\n                }),\r\n                @ApiResponse(responseCode = &quot;404&quot;, description = &quot;No Integrated Party found for given Id&quot;, content = {\r\n                        @Content(mediaType = APPLICATION_JSON_VALUE, schema = @Schema(implementation = Error.class))\r\n                }),\r\n                @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Server Error&quot;, content = {\r\n                        @Content(mediaType = APPLICATION_JSON_VALUE, schema = @Schema(implementation = Error.class))\r\n                })\r\n        })\r\n@GetMapping(value = &quot;/dummy/{id}&quot;, produces = APPLICATION_JSON_VALUE)\r\nMono&lt;ResponseEntity&lt;dummy&gt;&gt; getParty(@Parameter(name = &quot;id&quot;, required = true, description = ID_DESCRIPTION) @PathVariable String id,\r\n                                                         @Parameter(name = X_CORRELATION_ID, description = X_CORRELATION_ID_DESCRIPTION) @RequestHeader(value = X_CORRELATION_ID, required = false) String correlationId);\r\n```\r\n\r\nmy application.yaml file\r\n\r\n```\r\nspringdoc:\r\n  info:\r\n    title: PartyDB Wrapper APIs\r\n    version: 1.0.0\r\n    teamName: myteam\r\n    email: myteam.com\r\n    website: &quot;dummy url&quot;\r\n    externalDocs: &quot;dummy url&quot;\r\n  api-docs:\r\n    enabled: true\r\n    path: /api-docs\r\n    groups:\r\n      enabled: true\r\n  swagger-ui:\r\n    enabled: true\r\n    path: /swagger-ui\r\n```\r\n\r\n```\r\n\r\nspring boot version &#39;3.0.6&#39;\r\nimplementation &#39;org.springdoc:springdoc-openapi-starter-webflux-ui:2.0.2&#39;\r\ncompileOnly &#39;jakarta.servlet:jakarta.servlet-api:6.0.0&#39;\r\n```\r\n\r\nCan anyone help what mistake i am making","title":"Swagger UI keeps loading","body":"<p>Hi I am using spring reactive programming and using below dependencies. when i am hitting swagger url in browser it's keep loading. Could someone helps what mistake i am making</p>\n<p>my swaggar config class:</p>\n<pre><code>@Setter\n@Configuration\n@ConfigurationProperties(prefix = &quot;springdoc.info&quot;)\npublic class SwaggerConfiguration {\n\n    private String title;\n    private String version;\n    private String teamName;\n    private String email;\n    private String website;\n    private String externalDocs;\n\n    @Bean\n    public OpenAPI openAPI() {\n        return new OpenAPI()\n                .info(new Info()\n                        .title(title)\n                        .description(&quot;APIs to perform CRUD operation&quot;)\n                        .version(version)\n                        .contact(new Contact()\n                                .name(teamName + &quot; Team&quot;)\n                                .email(email)\n                                .url(website)\n                        )\n                )\n                .externalDocs(new ExternalDocumentation()\n                        .url(externalDocs)\n                        .description(&quot;wrapper Documentation&quot;)\n                );\n    }\n\n    @Bean\n    public GroupedOpenApi myOpenApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;Wrapper APIs&quot;)\n                .pathsToMatch(&quot;/**&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>my controller interface have these configs:</p>\n<pre><code>@Operation(\n        operationId = &quot;getIntegratedParty&quot;,\n        summary = &quot;Find Integrated Party by cdpPartyId or businessId&quot;,\n        responses = {\n                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;, content = {\n                        @Content(mediaType = APPLICATION_JSON_VALUE, schema = @Schema(implementation = IntegratedParty.class))\n                }),\n                @ApiResponse(responseCode = &quot;404&quot;, description = &quot;No Integrated Party found for given Id&quot;, content = {\n                        @Content(mediaType = APPLICATION_JSON_VALUE, schema = @Schema(implementation = Error.class))\n                }),\n                @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Server Error&quot;, content = {\n                        @Content(mediaType = APPLICATION_JSON_VALUE, schema = @Schema(implementation = Error.class))\n                })\n        })\n@GetMapping(value = &quot;/dummy/{id}&quot;, produces = APPLICATION_JSON_VALUE)\nMono&lt;ResponseEntity&lt;dummy&gt;&gt; getParty(@Parameter(name = &quot;id&quot;, required = true, description = ID_DESCRIPTION) @PathVariable String id,\n                                                         @Parameter(name = X_CORRELATION_ID, description = X_CORRELATION_ID_DESCRIPTION) @RequestHeader(value = X_CORRELATION_ID, required = false) String correlationId);\n</code></pre>\n<p>my application.yaml file</p>\n<pre><code>springdoc:\n  info:\n    title: PartyDB Wrapper APIs\n    version: 1.0.0\n    teamName: myteam\n    email: myteam.com\n    website: &quot;dummy url&quot;\n    externalDocs: &quot;dummy url&quot;\n  api-docs:\n    enabled: true\n    path: /api-docs\n    groups:\n      enabled: true\n  swagger-ui:\n    enabled: true\n    path: /swagger-ui\n</code></pre>\n<pre><code>\nspring boot version '3.0.6'\nimplementation 'org.springdoc:springdoc-openapi-starter-webflux-ui:2.0.2'\ncompileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.0'\n</code></pre>\n<p>Can anyone help what mistake i am making</p>\n"},{"tags":["java","geometry","protocol-buffers","protobuf-java"],"comments":[{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1695716224,"post_id":77178145,"comment_id":136058080,"body_markdown":"Yes, byte size is fixed","body":"Yes, byte size is fixed"},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":1,"creation_date":1695716244,"post_id":77178145,"comment_id":136058083,"body_markdown":"https://protobuf.dev/programming-guides/encoding/#non-varints","body":"<a href=\"https://protobuf.dev/programming-guides/encoding/#non-varints\" rel=\"nofollow noreferrer\">protobuf.dev/programming-guides/encoding/#non-varints</a>"}],"answers":[{"comments":[{"owner":{"account_id":192824,"reputation":1849,"user_id":434186,"accept_rate":38,"display_name":"losingsleeep"},"score":0,"creation_date":1695718068,"post_id":77178259,"comment_id":136058425,"body_markdown":"Thank you Amit. Yes, there&#39;ll be actually a large number of records per second transferred between few microservices using Protobuf and Kafka topics. That&#39;s why I was curious and concerned.","body":"Thank you Amit. Yes, there&#39;ll be actually a large number of records per second transferred between few microservices using Protobuf and Kafka topics. That&#39;s why I was curious and concerned."},{"owner":{"account_id":192824,"reputation":1849,"user_id":434186,"accept_rate":38,"display_name":"losingsleeep"},"score":0,"creation_date":1695725708,"post_id":77178259,"comment_id":136059977,"body_markdown":"But seems like float has a limitation of keeping precisions because it&#39;s 32bits or whatever, depending on the integer part of the value. For example, 31.987654f is fine, but 32.987654f changes to 32.987656! Or 1.000001f is fine, but 50.000001f turns to 50.0!","body":"But seems like float has a limitation of keeping precisions because it&#39;s 32bits or whatever, depending on the integer part of the value. For example, 31.987654f is fine, but 32.987654f changes to 32.987656! Or 1.000001f is fine, but 50.000001f turns to 50.0!"},{"owner":{"account_id":20971494,"reputation":82,"user_id":15408555,"display_name":"Amit Shmulevitch"},"score":1,"creation_date":1695980300,"post_id":77178259,"comment_id":136098314,"body_markdown":"This is a classic issue with floating-point arithmetic in computer science. The more complex or lengthy the number, the more likely you are to encounter rounding errors due to limitations in bit size. This can be a critical issue depending on your application.\n\nFor example, if you&#39;re using these numbers to represent geographical coordinates, a slight change in the 6th or 7th decimal place might not significantly alter the location. However, in applications requiring very high precision, such as scientific computing, these small changes could be unacceptable.","body":"This is a classic issue with floating-point arithmetic in computer science. The more complex or lengthy the number, the more likely you are to encounter rounding errors due to limitations in bit size. This can be a critical issue depending on your application.  For example, if you&#39;re using these numbers to represent geographical coordinates, a slight change in the 6th or 7th decimal place might not significantly alter the location. However, in applications requiring very high precision, such as scientific computing, these small changes could be unacceptable."}],"tags":[],"owner":{"account_id":20971494,"reputation":82,"user_id":15408555,"display_name":"Amit Shmulevitch"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695716853,"creation_date":1695716853,"answer_id":77178259,"question_id":77178145,"body_markdown":"According to [Google protobuf encoding docs](https://protobuf.dev/programming-guides/encoding/#varints), `double` will be fixed of 8-bytes, and `float` is fixed 4-bytes when serialized \r\n\r\n&gt; Non-varint numeric types are simple – double and fixed64 have wire type I64, which tells the parser to expect a fixed eight-byte lump of data. We can specify a double record by writing 5: 25.4, or a fixed64 record with 6: 200i64. In both cases, omitting an explicit wire type implies the I64 wire type.\r\n\r\n&gt; Similarly float and fixed32 have wire type I32, which tells it to expect four bytes instead. The syntax for these consists of adding an i32 prefix. 25.4i32 will emit four bytes, as will 200i32. Tag types are inferred as I32.\r\nfloat would depend on your specific needs for precision:\r\n\r\nWhen it comes to representing latitude and longitude, your choice between `double` and `float` would depend on your specific needs for precision:\r\n\r\n\r\n- A float provides approximately 6-9 decimal digits of precision. In the context of latitude and longitude, this would allow you to specify a location to within about a meter.\r\n\r\n- A double, on the other hand, provides approximately 15-17 decimal digits of precision. This level of precision is generally more than you would need for geolocation data.\r\n\r\nIn summary, if you don&#39;t require extremely high precision, a float should be sufficient for storing latitude and longitude coordinates. Using float over double could also save some space, especially if you have a large dataset of such coordinates to store or transmit.\r\n\r\nI hope this helps clarify your question!","title":"In Protobuf, are double or float types fixed size when serialized?","body":"<p>According to <a href=\"https://protobuf.dev/programming-guides/encoding/#varints\" rel=\"nofollow noreferrer\">Google protobuf encoding docs</a>, <code>double</code> will be fixed of 8-bytes, and <code>float</code> is fixed 4-bytes when serialized</p>\n<blockquote>\n<p>Non-varint numeric types are simple – double and fixed64 have wire type I64, which tells the parser to expect a fixed eight-byte lump of data. We can specify a double record by writing 5: 25.4, or a fixed64 record with 6: 200i64. In both cases, omitting an explicit wire type implies the I64 wire type.</p>\n</blockquote>\n<blockquote>\n<p>Similarly float and fixed32 have wire type I32, which tells it to expect four bytes instead. The syntax for these consists of adding an i32 prefix. 25.4i32 will emit four bytes, as will 200i32. Tag types are inferred as I32.\nfloat would depend on your specific needs for precision:</p>\n</blockquote>\n<p>When it comes to representing latitude and longitude, your choice between <code>double</code> and <code>float</code> would depend on your specific needs for precision:</p>\n<ul>\n<li><p>A float provides approximately 6-9 decimal digits of precision. In the context of latitude and longitude, this would allow you to specify a location to within about a meter.</p>\n</li>\n<li><p>A double, on the other hand, provides approximately 15-17 decimal digits of precision. This level of precision is generally more than you would need for geolocation data.</p>\n</li>\n</ul>\n<p>In summary, if you don't require extremely high precision, a float should be sufficient for storing latitude and longitude coordinates. Using float over double could also save some space, especially if you have a large dataset of such coordinates to store or transmit.</p>\n<p>I hope this helps clarify your question!</p>\n"}],"owner":{"account_id":192824,"reputation":1849,"user_id":434186,"accept_rate":38,"display_name":"losingsleeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77178259,"answer_count":1,"score":-2,"last_activity_date":1695716853,"creation_date":1695715926,"question_id":77178145,"body_markdown":"Are &#39;**double**&#39; and &#39;**float**&#39; data types fixed size in Protobuf? Do they occupy a fixed number of bytes (say 8 or 4 bytes) when serialized no matter what value (big or small) they actually keep? I want to use one of them to keep **latitude** and **longitude**. If they&#39;re fixed, then I think it makes sense to use &#39;**float**&#39; instead as it seems to be enough?","title":"In Protobuf, are double or float types fixed size when serialized?","body":"<p>Are '<strong>double</strong>' and '<strong>float</strong>' data types fixed size in Protobuf? Do they occupy a fixed number of bytes (say 8 or 4 bytes) when serialized no matter what value (big or small) they actually keep? I want to use one of them to keep <strong>latitude</strong> and <strong>longitude</strong>. If they're fixed, then I think it makes sense to use '<strong>float</strong>' instead as it seems to be enough?</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1611005715,"post_id":65782083,"comment_id":116307263,"body_markdown":"Then I guess you will have to do something like this: https://stackoverflow.com/a/35672470/14072498","body":"Then I guess you will have to do something like this: <a href=\"https://stackoverflow.com/a/35672470/14072498\">stackoverflow.com/a/35672470/14072498</a>"},{"owner":{"account_id":9735309,"reputation":101,"user_id":7218740,"display_name":"junelane"},"score":0,"creation_date":1611005942,"post_id":65782083,"comment_id":116307340,"body_markdown":"This looks like adding even more code than creating a copy of this class and annotating it :)","body":"This looks like adding even more code than creating a copy of this class and annotating it :)"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1611006017,"post_id":65782083,"comment_id":116307355,"body_markdown":"Yes, I know, it ain&#39;t pretty. Was a guy at the very end of the thread that was talking about modifying the DTO using reflection. Trying to find something more concrete about that.","body":"Yes, I know, it ain&#39;t pretty. Was a guy at the very end of the thread that was talking about modifying the DTO using reflection. Trying to find something more concrete about that."}],"answers":[{"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695716851,"creation_date":1611018202,"answer_id":65784162,"question_id":65782083,"body_markdown":"After reading a lot of doc and code, both from blogs and here on SO, I&#39;m tempted to say that the number of extra codelines and complexity required to achieve what you want, does not justify the effort. \r\n\r\nWith the example below, you&#39;ll get an extra class, but it is minimal. Use class A when you want to include null fields, else use class B.\r\n\r\n    @Data\r\n    public class A {\r\n       private String b;\r\n       private String c;\r\n       private String d;\r\n    }\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class B extends A { }\r\n\r\nWhen serializing these classes, JSON may look like this for class A\r\n\r\n    {\r\n      &quot;b&quot;: &quot;val1&quot;,\r\n      &quot;c&quot;: null,\r\n      &quot;d&quot;: &quot;val2&quot;\r\n    }\r\n\r\nand like this for Class B\r\n\r\n    {\r\n      &quot;b&quot;: &quot;val1&quot;,\r\n      &quot;d&quot;: &quot;val2&quot;\r\n    }\r\n\r\nIf you are not using Lombok in your project yet, please add this to your POM in order to make `@Data` work:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\nFurthermore if you keep getting no arguments error you can use @SuperBuilder and @Data annotations on both entities instead\r\n","title":"Springboot: Ignore null values in response optionally","body":"<p>After reading a lot of doc and code, both from blogs and here on SO, I'm tempted to say that the number of extra codelines and complexity required to achieve what you want, does not justify the effort.</p>\n<p>With the example below, you'll get an extra class, but it is minimal. Use class A when you want to include null fields, else use class B.</p>\n<pre><code>@Data\npublic class A {\n   private String b;\n   private String c;\n   private String d;\n}\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class B extends A { }\n</code></pre>\n<p>When serializing these classes, JSON may look like this for class A</p>\n<pre><code>{\n  &quot;b&quot;: &quot;val1&quot;,\n  &quot;c&quot;: null,\n  &quot;d&quot;: &quot;val2&quot;\n}\n</code></pre>\n<p>and like this for Class B</p>\n<pre><code>{\n  &quot;b&quot;: &quot;val1&quot;,\n  &quot;d&quot;: &quot;val2&quot;\n}\n</code></pre>\n<p>If you are not using Lombok in your project yet, please add this to your POM in order to make <code>@Data</code> work:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Furthermore if you keep getting no arguments error you can use @SuperBuilder and @Data annotations on both entities instead</p>\n"},{"tags":[],"owner":{"account_id":14635060,"reputation":265,"user_id":10569504,"display_name":"RateRebriduo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685669136,"creation_date":1685669136,"answer_id":76386617,"question_id":65782083,"body_markdown":"Try to use Jackson package as follow:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class A {\r\n     private String b;\r\n     private String c;\r\n     private String d;\r\n     // getters and setters\r\n    }","title":"Springboot: Ignore null values in response optionally","body":"<p>Try to use Jackson package as follow:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass A {\n private String b;\n private String c;\n private String d;\n // getters and setters\n}\n</code></pre>\n"}],"owner":{"account_id":9735309,"reputation":101,"user_id":7218740,"display_name":"junelane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5619,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695716851,"creation_date":1611004064,"question_id":65782083,"body_markdown":"There&#39;s a model class used by multiple APIs wherein if fields in this model class is null it is returned as null in the JSON response. However, another API is using the same model class and here the null fields should be omitted in the response.\r\n\r\nIs there a way to achieve this without creating another copy of the model file and just to ingore the null fields with `@JsonInclude(Include.NON_NULL)`\r\n\r\nExample,\r\n\r\n```\r\nclass A {\r\n private String b;\r\n private String c;\r\n private String d;\r\n // getters and setters\r\n}\r\n```\r\nResponse 1 needed\r\n```\r\n&quot;A&quot;: {\r\n  &quot;b&quot;: &quot;val1&quot;,\r\n  &quot;c&quot;: null,\r\n  &quot;d&quot;: &quot;val2&quot;\r\n}\r\n```\r\nResponse 2 needed (omit values that are null)\r\n```\r\n&quot;A&quot;: {\r\n  &quot;b&quot;: &quot;val1&quot;,\r\n  &quot;d&quot;: &quot;val2&quot;\r\n}\r\n```\r\n\r\nIs there a way to achieve these behaviors using a single model class? Some sort of config while instantiation or something?","title":"Springboot: Ignore null values in response optionally","body":"<p>There's a model class used by multiple APIs wherein if fields in this model class is null it is returned as null in the JSON response. However, another API is using the same model class and here the null fields should be omitted in the response.</p>\n<p>Is there a way to achieve this without creating another copy of the model file and just to ingore the null fields with <code>@JsonInclude(Include.NON_NULL)</code></p>\n<p>Example,</p>\n<pre><code>class A {\n private String b;\n private String c;\n private String d;\n // getters and setters\n}\n</code></pre>\n<p>Response 1 needed</p>\n<pre><code>&quot;A&quot;: {\n  &quot;b&quot;: &quot;val1&quot;,\n  &quot;c&quot;: null,\n  &quot;d&quot;: &quot;val2&quot;\n}\n</code></pre>\n<p>Response 2 needed (omit values that are null)</p>\n<pre><code>&quot;A&quot;: {\n  &quot;b&quot;: &quot;val1&quot;,\n  &quot;d&quot;: &quot;val2&quot;\n}\n</code></pre>\n<p>Is there a way to achieve these behaviors using a single model class? Some sort of config while instantiation or something?</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27467013,"reputation":1,"user_id":20956548,"display_name":"Deidine"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695682269,"creation_date":1695682269,"answer_id":77176088,"question_id":77174539,"body_markdown":"I am not quiet shure about the solution but you can allow cross origin in you controll class \r\n@CrossOrigin(origins = &quot;*&quot;)\r\nHere is more code example [my github ][1]\r\n\r\n\r\n  [1]: https://github.com/deidine/inventory_managment_springboot_angular/blob/main/backend/src/main/java/net/javaguides/springboot/controller/EntiteController.java","title":"The error when trying to fetch the list of topics from my database SpringBoot","body":"<p>I am not quiet shure about the solution but you can allow cross origin in you controll class\n@CrossOrigin(origins = &quot;*&quot;)\nHere is more code example <a href=\"https://github.com/deidine/inventory_managment_springboot_angular/blob/main/backend/src/main/java/net/javaguides/springboot/controller/EntiteController.java\" rel=\"nofollow noreferrer\">my github </a></p>\n"},{"comments":[{"owner":{"account_id":29067725,"reputation":1,"user_id":22632317,"display_name":"Juan Bravo"},"score":0,"creation_date":1695732534,"post_id":77178252,"comment_id":136061423,"body_markdown":"Thank you for your response. I followed the steps in the post and was able to solve two of the four problems. I still have the following:\n\n1- java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n\n2- java.lang.StackOverflowError: null","body":"Thank you for your response. I followed the steps in the post and was able to solve two of the four problems. I still have the following:  1- java.lang.IllegalStateException: Cannot call sendError() after the response has been committed  2- java.lang.StackOverflowError: null"},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1695740607,"post_id":77178252,"comment_id":136063323,"body_markdown":"ok thats a different one. this is also solved. found couple of links online. the most accurate looks to be this one: https://www.appsloveworld.com/hibernate/100/22/hibernate-and-jackson-java-lang-illegalstateexception-cannot-call-senderror-a","body":"ok thats a different one. this is also solved. found couple of links online. the most accurate looks to be this one: <a href=\"https://www.appsloveworld.com/hibernate/100/22/hibernate-and-jackson-java-lang-illegalstateexception-cannot-call-senderror-a\" rel=\"nofollow noreferrer\">appsloveworld.com/hibernate/100/22/&hellip;</a>"},{"owner":{"account_id":29067725,"reputation":1,"user_id":22632317,"display_name":"Juan Bravo"},"score":0,"creation_date":1695741821,"post_id":77178252,"comment_id":136063629,"body_markdown":"Thanks for your response, I was able to solve it using that solution. The problem I have now is that it brings the topic but without the user ID (usu_id).\nExample:\n {\n        &quot;id_topico&quot;: 1,\n        &quot;titulo&quot;: &quot;Feliz cumplea&#241;os&quot;,\n        &quot;mensaje&quot;: &quot;Hoy celebramos el cumplea&#241;os de Mar&#237;a&quot;,\n        &quot;fecha_creacion&quot;: &quot;2023-09-08&quot;,\n        &quot;estado&quot;: false,\n        &quot;lista_respuesta&quot;: [\n            {\n                &quot;id_respuesta&quot;: 4,\n                &quot;texto_respuesta&quot;: &quot;feliz cumplea&#241;os&quot;\n            }\n        ]\n    }","body":"Thanks for your response, I was able to solve it using that solution. The problem I have now is that it brings the topic but without the user ID (usu_id). Example:  {         &quot;id_topico&quot;: 1,         &quot;titulo&quot;: &quot;Feliz cumplea&#241;os&quot;,         &quot;mensaje&quot;: &quot;Hoy celebramos el cumplea&#241;os de Mar&#237;a&quot;,         &quot;fecha_creacion&quot;: &quot;2023-09-08&quot;,         &quot;estado&quot;: false,         &quot;lista_respuesta&quot;: [             {                 &quot;id_respuesta&quot;: 4,                 &quot;texto_respuesta&quot;: &quot;feliz cumplea&#241;os&quot;             }         ]     }"},{"owner":{"account_id":29067725,"reputation":1,"user_id":22632317,"display_name":"Juan Bravo"},"score":0,"creation_date":1695741895,"post_id":77178252,"comment_id":136063652,"body_markdown":"This is the HQL statement I am using:\n\n@Query(&quot;SELECT DISTINCT t FROM Topico t LEFT JOIN FETCH t.usu u LEFT JOIN FETCH t.lista_respuesta r&quot;)\n    List&lt;Topico&gt; obtenerTopicosConUsuarioYRespuestas();","body":"This is the HQL statement I am using:  @Query(&quot;SELECT DISTINCT t FROM Topico t LEFT JOIN FETCH t.usu u LEFT JOIN FETCH t.lista_respuesta r&quot;)     List&lt;Topico&gt; obtenerTopicosConUsuarioYRespuestas();"},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1695804114,"post_id":77178252,"comment_id":136071748,"body_markdown":"if the initial topic is resolved please mark the response as correct and the thread as resolved. so that we keep this service clean. for next issues you can raise new threads so that you help others who might face the same issue. dont burry it in comments. thanks!","body":"if the initial topic is resolved please mark the response as correct and the thread as resolved. so that we keep this service clean. for next issues you can raise new threads so that you help others who might face the same issue. dont burry it in comments. thanks!"}],"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695716822,"creation_date":1695716822,"answer_id":77178252,"question_id":77174539,"body_markdown":"It seems your error doesnt have anything to do with your entities so no need to post them. its probably confusing.\r\n\r\nNow on the security problem, if you do POST requests and everything works fine, but the GET request is failing id say check the solution mentioned here. and even if this doesnt work, focus on your actual problem, which is security error when returning a body\r\n\r\nhttps://github.com/spring-projects/spring-security/issues/12758","title":"The error when trying to fetch the list of topics from my database SpringBoot","body":"<p>It seems your error doesnt have anything to do with your entities so no need to post them. its probably confusing.</p>\n<p>Now on the security problem, if you do POST requests and everything works fine, but the GET request is failing id say check the solution mentioned here. and even if this doesnt work, focus on your actual problem, which is security error when returning a body</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/12758\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/12758</a></p>\n"}],"owner":{"account_id":29067725,"reputation":1,"user_id":22632317,"display_name":"Juan Bravo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695716822,"creation_date":1695661626,"question_id":77174539,"body_markdown":"\r\nI am working on a practice API, and these are my classes. The entities and relationships are saved correctly if I use Postman. The API also works with JWT, and that also works correctly as it generates the access token normally.\r\n\r\nThe problem I have is that when trying to fetch all the topics from the database with the GET method, I encounter 4 errors in the console.\r\n\r\n1- java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\r\n2- java.lang.StackOverflowError: null\r\n\r\n3- org.springframework.security.access.AccessDeniedException: Access Denied\r\n\r\n4- jakarta.servlet.ServletException: Unable to handle the Spring Security Exception because the response is already committed.\r\n\r\nI want to emphasize that the endpoint to fetch the topics is public, and it has no restrictions.\r\n\r\nHere is my &#39;user&#39; entity.\r\n\r\n```\r\n@Table(name=&quot;usuario&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;username&quot;,&quot;email&quot;})}) @Entity public class Usuario implements UserDetails {\r\n\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nprivate long id_usuario;\r\nprivate String nombre;\r\nprivate String apellido;\r\nprivate String curso;\r\nprivate String username;\r\nprivate String password;\r\nprivate String email;\r\n\r\n@Enumerated(EnumType.STRING)\r\nprivate Role rol;\r\n\r\n@OneToMany (mappedBy = &quot;usu&quot;, cascade = CascadeType.ALL)\r\nprivate List&lt;Topico&gt; lista_topicos;\r\n\r\n\r\n@OneToMany (mappedBy = &quot;usu_respuesta&quot;, cascade = CascadeType.ALL)\r\nprivate List&lt;Respuesta&gt; lista_respuestas;\r\n}\r\n```\r\n\r\nThe &#39;Topico&#39; entity.\r\n\r\n```\r\n@Entity\r\n public class Topico {\r\n\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nprivate long id_topico;\r\n@Column(nullable = false)\r\nprivate String titulo;\r\n@Column(nullable = false)\r\nprivate String mensaje;\r\n@Temporal(TemporalType.DATE)\r\nprivate Date fecha_creacion;\r\n@Convert(converter = TrueFalseConverter.class)\r\nprivate boolean estado;\r\n\r\n@ManyToOne\r\n@Cascade(org.hibernate.annotations.CascadeType.MERGE)\r\n@JoinColumn(name = &quot;usu_id&quot;)\r\nprivate Usuario usu;\r\n\r\n@OneToMany (mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)\r\nprivate List&lt;Respuesta&gt; lista_respuesta;\r\n}\r\n```\r\n\r\nThe &#39;respuesta&#39; entity.\r\n```\r\n@Entity\r\npublic class Respuesta {\r\n\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nprivate long id_respuesta;\r\nprivate String texto_respuesta;\r\n\r\n@ManyToOne\r\n@Cascade(org.hibernate.annotations.CascadeType.MERGE)\r\n@JoinColumn(name = &quot;topico_id&quot;)\r\nprivate Topico topic;\r\n\r\n@ManyToOne\r\n@Cascade(org.hibernate.annotations.CascadeType.MERGE)\r\n@JoinColumn(name=&quot;user_id&quot;)\r\nprivate Usuario usu_respuesta;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"The error when trying to fetch the list of topics from my database SpringBoot","body":"<p>I am working on a practice API, and these are my classes. The entities and relationships are saved correctly if I use Postman. The API also works with JWT, and that also works correctly as it generates the access token normally.</p>\n<p>The problem I have is that when trying to fetch all the topics from the database with the GET method, I encounter 4 errors in the console.</p>\n<p>1- java.lang.IllegalStateException: Cannot call sendError() after the response has been committed</p>\n<p>2- java.lang.StackOverflowError: null</p>\n<p>3- org.springframework.security.access.AccessDeniedException: Access Denied</p>\n<p>4- jakarta.servlet.ServletException: Unable to handle the Spring Security Exception because the response is already committed.</p>\n<p>I want to emphasize that the endpoint to fetch the topics is public, and it has no restrictions.</p>\n<p>Here is my 'user' entity.</p>\n<pre><code>@Table(name=&quot;usuario&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;username&quot;,&quot;email&quot;})}) @Entity public class Usuario implements UserDetails {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id_usuario;\nprivate String nombre;\nprivate String apellido;\nprivate String curso;\nprivate String username;\nprivate String password;\nprivate String email;\n\n@Enumerated(EnumType.STRING)\nprivate Role rol;\n\n@OneToMany (mappedBy = &quot;usu&quot;, cascade = CascadeType.ALL)\nprivate List&lt;Topico&gt; lista_topicos;\n\n\n@OneToMany (mappedBy = &quot;usu_respuesta&quot;, cascade = CascadeType.ALL)\nprivate List&lt;Respuesta&gt; lista_respuestas;\n}\n</code></pre>\n<p>The 'Topico' entity.</p>\n<pre><code>@Entity\n public class Topico {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id_topico;\n@Column(nullable = false)\nprivate String titulo;\n@Column(nullable = false)\nprivate String mensaje;\n@Temporal(TemporalType.DATE)\nprivate Date fecha_creacion;\n@Convert(converter = TrueFalseConverter.class)\nprivate boolean estado;\n\n@ManyToOne\n@Cascade(org.hibernate.annotations.CascadeType.MERGE)\n@JoinColumn(name = &quot;usu_id&quot;)\nprivate Usuario usu;\n\n@OneToMany (mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)\nprivate List&lt;Respuesta&gt; lista_respuesta;\n}\n</code></pre>\n<p>The 'respuesta' entity.</p>\n<pre><code>@Entity\npublic class Respuesta {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id_respuesta;\nprivate String texto_respuesta;\n\n@ManyToOne\n@Cascade(org.hibernate.annotations.CascadeType.MERGE)\n@JoinColumn(name = &quot;topico_id&quot;)\nprivate Topico topic;\n\n@ManyToOne\n@Cascade(org.hibernate.annotations.CascadeType.MERGE)\n@JoinColumn(name=&quot;user_id&quot;)\nprivate Usuario usu_respuesta;\n}\n</code></pre>\n"},{"tags":["java","android","android-dark-theme"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1609109848,"post_id":65466240,"comment_id":115750570,"body_markdown":"please share when do you set `AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM`, is it in `onCreate()` .. please replay with @Zain to be notified","body":"please share when do you set <code>AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM</code>, is it in <code>onCreate()</code> .. please replay with @Zain to be notified"},{"owner":{"account_id":19397489,"reputation":618,"user_id":14184848,"display_name":"amtrax"},"score":0,"creation_date":1609153598,"post_id":65466240,"comment_id":115759737,"body_markdown":"@Zain thank you for commitment. Code responsible for option you mentioned, is within `onCreate()`. Mechanism that allows user to change mode is not within `onCreate()`","body":"@Zain thank you for commitment. Code responsible for option you mentioned, is within <code>onCreate()</code>. Mechanism that allows user to change mode is not within <code>onCreate()</code>"}],"answers":[{"comments":[{"owner":{"account_id":19397489,"reputation":618,"user_id":14184848,"display_name":"amtrax"},"score":1,"creation_date":1609168101,"post_id":65479039,"comment_id":115765299,"body_markdown":"Thank you, that works perfect, but when I quit application and then launch again, default system mode is active although I&#39;ve switched it.  Is possible  here to make it works in that way?","body":"Thank you, that works perfect, but when I quit application and then launch again, default system mode is active although I&#39;ve switched it.  Is possible  here to make it works in that way?"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1609168990,"post_id":65479039,"comment_id":115765644,"body_markdown":"@amtrax thanks please check updated answer","body":"@amtrax thanks please check updated answer"}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609168970,"creation_date":1609165148,"answer_id":65479039,"question_id":65466240,"body_markdown":"&gt; Code responsible for option you mentioned, is within onCreate(). Mechanism that allows user to change mode is not within onCreate() \r\n\r\n```\r\npublic class MainActivityextends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n    }\r\n}\r\n```\r\n\r\nWhen you explicitly change the dark mode, Android recreates the activity and hence calls `onCreate` again.\r\n\r\nSo, after you change the dark mode you won&#39;t notice a change, as `AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM` is called again when `onCreate` is called by the system.\r\n\r\nTo make this works you can save a value into `SharedPreference` that can be checked in `onCreate` before setting the system dark mode. \r\n\r\nThis can be a boolean that you can toggle when you want to manually change the dark mode.\r\n\r\nHere is a sample\r\n\r\n```\r\npublic class MainActivityextends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n        boolean isSystem = prefs.getBoolean(&quot;IS_SYSTEM&quot;, true);\r\n        if (isSystem) {\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n        }\t\t\r\n\t\t\r\n    }\r\n\t\r\n\t@Override\r\n\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n\t\tint id = item.getItemId();\r\n\t\tif (id == R.id.action_color_mode) {\r\n\t\t\tif(AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES)\r\n\t\t\t\tAppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n\t\t\telse\r\n\t\t\t\tAppCompatDelegate.setDefaultNightMode(\r\n\t\t\t\t\t\tAppCompatDelegate.MODE_NIGHT_YES);\r\n\t\t\t\t\t\t\r\n\t        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n\t\t\tprefs.edit().putBoolean(&quot;IS_SYSTEM&quot;, false).apply();\r\n\t\t\treturn true;\r\n\t\t}\t\r\n\t\r\n}\r\n```\r\n\r\n**UPDATE**\r\n\r\n&gt; that works perfect, but when I quit application and then launch again, default system mode is active although I&#39;ve switched it. Is possible here to make it works in that way? \r\n\r\nYou can use another `SharedPreference` boolean to be saved permanently \r\n\r\n\r\n```\r\npublic class MainActivityextends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n        boolean isSystem = prefs.getBoolean(&quot;IS_SYSTEM&quot;, true);\r\n        boolean isNight = prefs.getBoolean(&quot;IS_NIGHT&quot;, false);\r\n\r\n        if (isSystem) {\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n        } else if (isNight) {\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n        } else {\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n        }\t\r\n\t\t\r\n    }\r\n\t\r\n\t@Override\r\n\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n\t\tint id = item.getItemId();\r\n\r\n\t\tif (id == R.id.action_color_mode) {\r\n\r\n\t        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n\r\n            if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES) {\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                prefs.edit().putBoolean(&quot;IS_NIGHT&quot;, false).apply();\r\n    \r\n            } else {\r\n                AppCompatDelegate.setDefaultNightMode(\r\n                        AppCompatDelegate.MODE_NIGHT_YES);\r\n                prefs.edit().putBoolean(&quot;IS_NIGHT&quot;, true).apply();\r\n            }\r\n\r\n\t\t\tprefs.edit().putBoolean(&quot;IS_SYSTEM&quot;, false).apply();\r\n\t\t\treturn true;\r\n\t\t}\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Android - default dark mode","body":"<blockquote>\n<p>Code responsible for option you mentioned, is within onCreate(). Mechanism that allows user to change mode is not within onCreate()</p>\n</blockquote>\n<pre><code>public class MainActivityextends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n    }\n}\n</code></pre>\n<p>When you explicitly change the dark mode, Android recreates the activity and hence calls <code>onCreate</code> again.</p>\n<p>So, after you change the dark mode you won't notice a change, as <code>AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM</code> is called again when <code>onCreate</code> is called by the system.</p>\n<p>To make this works you can save a value into <code>SharedPreference</code> that can be checked in <code>onCreate</code> before setting the system dark mode.</p>\n<p>This can be a boolean that you can toggle when you want to manually change the dark mode.</p>\n<p>Here is a sample</p>\n<pre><code>public class MainActivityextends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n        boolean isSystem = prefs.getBoolean(&quot;IS_SYSTEM&quot;, true);\n        if (isSystem) {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n        }       \n        \n    }\n    \n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.action_color_mode) {\n            if(AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES)\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n            else\n                AppCompatDelegate.setDefaultNightMode(\n                        AppCompatDelegate.MODE_NIGHT_YES);\n                        \n            SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n            prefs.edit().putBoolean(&quot;IS_SYSTEM&quot;, false).apply();\n            return true;\n        }   \n    \n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<blockquote>\n<p>that works perfect, but when I quit application and then launch again, default system mode is active although I've switched it. Is possible here to make it works in that way?</p>\n</blockquote>\n<p>You can use another <code>SharedPreference</code> boolean to be saved permanently</p>\n<pre><code>public class MainActivityextends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n        boolean isSystem = prefs.getBoolean(&quot;IS_SYSTEM&quot;, true);\n        boolean isNight = prefs.getBoolean(&quot;IS_NIGHT&quot;, false);\n\n        if (isSystem) {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n        } else if (isNight) {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n        } else {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n        }   \n        \n    }\n    \n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.action_color_mode) {\n\n            SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n\n            if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES) {\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                prefs.edit().putBoolean(&quot;IS_NIGHT&quot;, false).apply();\n    \n            } else {\n                AppCompatDelegate.setDefaultNightMode(\n                        AppCompatDelegate.MODE_NIGHT_YES);\n                prefs.edit().putBoolean(&quot;IS_NIGHT&quot;, true).apply();\n            }\n\n            prefs.edit().putBoolean(&quot;IS_SYSTEM&quot;, false).apply();\n            return true;\n        }   \n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1695914852,"post_id":77175998,"comment_id":136090288,"body_markdown":"Usually only code answers are deleted. Please explain your solution.","body":"Usually only code answers are deleted. Please explain your solution."}],"tags":[],"owner":{"account_id":29533782,"reputation":1,"user_id":22633841,"display_name":"Шурик"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695716739,"creation_date":1695680455,"answer_id":77175998,"question_id":65466240,"body_markdown":"Try this option:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    boolean isNightModeOn;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n\r\n            if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_NO){\r\n                isNightModeOn = false; // Set Text\r\n            }\r\n            else if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES) {\r\n                isNightModeOn = true; // Set Text\r\n            }\r\n            else {AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n            };\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is a default dark background setting. Then you can switch in your own way.","title":"Android - default dark mode","body":"<p>Try this option:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>boolean isNightModeOn;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_NO){\n            isNightModeOn = false; // Set Text\n        }\n        else if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES) {\n            isNightModeOn = true; // Set Text\n        }\n        else {AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n        };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is a default dark background setting. Then you can switch in your own way.</p>\n"}],"owner":{"account_id":19397489,"reputation":618,"user_id":14184848,"display_name":"amtrax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65479039,"answer_count":2,"score":3,"last_activity_date":1695716739,"creation_date":1609075524,"question_id":65466240,"body_markdown":"I want to implement in my app Dark mode. In default I wish it been following by the system, so in Main Activity I&#39;ve placed:\r\n\r\n     AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n\r\nIt works fine, but I if user wants to change its mind and select certain option in my app menu to toggle off/on dark mode, activity is restarting and app&#39;s still following system rules. How can I change that?\r\n\r\n      @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.action_color_mode) {\r\n            if(AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES)\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n            else\r\n                AppCompatDelegate.setDefaultNightMode(\r\n                        AppCompatDelegate.MODE_NIGHT_YES);\r\n            return true;\r\n        }","title":"Android - default dark mode","body":"<p>I want to implement in my app Dark mode. In default I wish it been following by the system, so in Main Activity I've placed:</p>\n<pre><code> AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n</code></pre>\n<p>It works fine, but I if user wants to change its mind and select certain option in my app menu to toggle off/on dark mode, activity is restarting and app's still following system rules. How can I change that?</p>\n<pre><code>  @Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n    if (id == R.id.action_color_mode) {\n        if(AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES)\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n        else\n            AppCompatDelegate.setDefaultNightMode(\n                    AppCompatDelegate.MODE_NIGHT_YES);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","c","arrays","algorithm","data-structures"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1576238092,"post_id":59322050,"comment_id":104843902,"body_markdown":"Use efficient data structure like Map to solve the problem in `O(n)` time.","body":"Use efficient data structure like Map to solve the problem in <code>O(n)</code> time."},{"owner":{"account_id":204291,"reputation":3615,"user_id":452414,"accept_rate":80,"display_name":"babon"},"score":2,"creation_date":1576238118,"post_id":59322050,"comment_id":104843915,"body_markdown":"Using a map will help you to get this done in O(n). BTW, what&#39;s your question?","body":"Using a map will help you to get this done in O(n). BTW, what&#39;s your question?"},{"owner":{"account_id":6768743,"reputation":10265,"user_id":5212827,"accept_rate":96,"display_name":"DeiDei"},"score":0,"creation_date":1576238194,"post_id":59322050,"comment_id":104843962,"body_markdown":"`findPairs(int[] arr, int sum);` I&#39;m not sure what you mean here. If you are trying to call the function, then `findPairs(arr, sum);` will suffice.","body":"<code>findPairs(int[] arr, int sum);</code> I&#39;m not sure what you mean here. If you are trying to call the function, then <code>findPairs(arr, sum);</code> will suffice."},{"owner":{"account_id":3665110,"reputation":55,"user_id":3053778,"display_name":"Subhrajit"},"score":0,"creation_date":1576313909,"post_id":59322050,"comment_id":104865715,"body_markdown":"@DeiDei i have given the method signature just for understanding purpose.","body":"@DeiDei i have given the method signature just for understanding purpose."},{"owner":{"account_id":3665110,"reputation":55,"user_id":3053778,"display_name":"Subhrajit"},"score":0,"creation_date":1576313978,"post_id":59322050,"comment_id":104865734,"body_markdown":"I have tried using HashMap&lt;Integer, List&lt;Integer&gt;&gt;. Here key is the elements in array and value is their respective indexes. As repetition is allowed so for a given element there can be multiple index locations. So value in the hashmap is a list.","body":"I have tried using HashMap&lt;Integer, List&lt;Integer&gt;&gt;. Here key is the elements in array and value is their respective indexes. As repetition is allowed so for a given element there can be multiple index locations. So value in the hashmap is a list."}],"answers":[{"comments":[{"owner":{"account_id":3665110,"reputation":55,"user_id":3053778,"display_name":"Subhrajit"},"score":0,"creation_date":1578065477,"post_id":59397018,"comment_id":105328553,"body_markdown":"Thank you so much for helping me. But the code you have shared looks like is in O(n^3).","body":"Thank you so much for helping me. But the code you have shared looks like is in O(n^3)."}],"tags":[],"owner":{"account_id":10038701,"reputation":4971,"user_id":7422352,"display_name":"Deepak Tatyaji Ahire"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576688995,"creation_date":1576688995,"answer_id":59397018,"question_id":59322050,"body_markdown":"Your approach is absolutely correct.\r\n\r\nUsing **Map** does solve this problem in **O(n)**.\r\n\r\nWe will capitalise the benefits provided to us by JAVA by making use of **TreeMap** in this case. (Not necessary to be used).\r\n\r\n**Also, the problem of repeated pairs of indices in the final answer can be solved using a visited map. This map checks if I have visited the particular index before. If yes, then I will not include it in my answer.**\r\n\r\nHave a look the implementation below:\r\n\r\n\r\n    import java.io.*;\r\n    import java.math.*;\r\n    import java.security.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n        private static SortedMap&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;Integer, List&lt;Integer&gt;&gt;();\r\n        private static final Scanner scanner = new Scanner(System.in);\r\n\r\n        String findPairs(int[] arr, int sum){\r\n\r\n            for(int i=0;i&lt;arr.length;i++){\r\n                List&lt;Integer&gt; indexList = map.get(arr[i]);\r\n                if(indexList == null){\r\n                    List&lt;Integer&gt; newIndexList = new ArrayList&lt;Integer&gt;();\r\n                    newIndexList.add(i);\r\n                    map.put(arr[i], newIndexList);\r\n                }else{\r\n                    indexList.add(i);\r\n                }\r\n            }\r\n\r\n            Set s = map.entrySet(); \r\n\r\n            HashMap&lt;Integer, Boolean&gt; visited = new HashMap&lt;Integer, Boolean&gt;();\r\n\r\n            // Using iterator in SortedMap \r\n            Iterator it = s.iterator(); \r\n\r\n            String finalOutput = &quot;&quot;;\r\n\r\n            while (it.hasNext()) \r\n            { \r\n                Map.Entry m = (Map.Entry)it.next(); \r\n\r\n                int key = (Integer)m.getKey(); \r\n                List&lt;Integer&gt; indexList1 = (List&lt;Integer&gt;)m.getValue();\r\n\r\n                if(map.containsKey(sum-key)){\r\n                    \r\n                    List&lt;Integer&gt; indexList2 = (List&lt;Integer&gt;)map.get(sum-key);\r\n\r\n                    for(int i=0;i&lt;indexList1.size();i++){\r\n\r\n                        if(!visited.containsKey(indexList1.get(i))){\r\n\r\n                            for(int j=0;j&lt;indexList2.size();j++){\r\n                                if(!(finalOutput.equals(&quot;&quot;) || finalOutput==null)){\r\n                                    finalOutput += &quot;, &quot;;\r\n                                }\r\n                                finalOutput += &quot;(&quot; + indexList1.get(i) + &quot;,&quot; + indexList2.get(j) + &quot;)&quot;;\r\n                                visited.put(indexList2.get(j), true);\r\n                            }\r\n                            visited.put(indexList1.get(i), true);\r\n                        }\r\n                    }\r\n                } \r\n            }\r\n\r\n            return finalOutput;\r\n        }\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            int[] arr = {3,4,-1,6,2,-1};\r\n            int sum = 5;  \r\n\r\n            Solution obj = new Solution();\r\n            \r\n            System.out.println(obj.findPairs(arr, sum));        \r\n        }\r\n    }\r\n\r\n\r\nKindly feel free to ask doubts.\r\n\r\n\r\n","title":"Find index pairs in array whose value sum is equal to given sum","body":"<p>Your approach is absolutely correct.</p>\n\n<p>Using <strong>Map</strong> does solve this problem in <strong>O(n)</strong>.</p>\n\n<p>We will capitalise the benefits provided to us by JAVA by making use of <strong>TreeMap</strong> in this case. (Not necessary to be used).</p>\n\n<p><strong>Also, the problem of repeated pairs of indices in the final answer can be solved using a visited map. This map checks if I have visited the particular index before. If yes, then I will not include it in my answer.</strong></p>\n\n<p>Have a look the implementation below:</p>\n\n<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    private static SortedMap&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;Integer, List&lt;Integer&gt;&gt;();\n    private static final Scanner scanner = new Scanner(System.in);\n\n    String findPairs(int[] arr, int sum){\n\n        for(int i=0;i&lt;arr.length;i++){\n            List&lt;Integer&gt; indexList = map.get(arr[i]);\n            if(indexList == null){\n                List&lt;Integer&gt; newIndexList = new ArrayList&lt;Integer&gt;();\n                newIndexList.add(i);\n                map.put(arr[i], newIndexList);\n            }else{\n                indexList.add(i);\n            }\n        }\n\n        Set s = map.entrySet(); \n\n        HashMap&lt;Integer, Boolean&gt; visited = new HashMap&lt;Integer, Boolean&gt;();\n\n        // Using iterator in SortedMap \n        Iterator it = s.iterator(); \n\n        String finalOutput = \"\";\n\n        while (it.hasNext()) \n        { \n            Map.Entry m = (Map.Entry)it.next(); \n\n            int key = (Integer)m.getKey(); \n            List&lt;Integer&gt; indexList1 = (List&lt;Integer&gt;)m.getValue();\n\n            if(map.containsKey(sum-key)){\n\n                List&lt;Integer&gt; indexList2 = (List&lt;Integer&gt;)map.get(sum-key);\n\n                for(int i=0;i&lt;indexList1.size();i++){\n\n                    if(!visited.containsKey(indexList1.get(i))){\n\n                        for(int j=0;j&lt;indexList2.size();j++){\n                            if(!(finalOutput.equals(\"\") || finalOutput==null)){\n                                finalOutput += \", \";\n                            }\n                            finalOutput += \"(\" + indexList1.get(i) + \",\" + indexList2.get(j) + \")\";\n                            visited.put(indexList2.get(j), true);\n                        }\n                        visited.put(indexList1.get(i), true);\n                    }\n                }\n            } \n        }\n\n        return finalOutput;\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        int[] arr = {3,4,-1,6,2,-1};\n        int sum = 5;  \n\n        Solution obj = new Solution();\n\n        System.out.println(obj.findPairs(arr, sum));        \n    }\n}\n</code></pre>\n\n<p>Kindly feel free to ask doubts.</p>\n"},{"comments":[{"owner":{"account_id":14843263,"reputation":49,"user_id":10719341,"display_name":"Saravanan Andavar"},"score":0,"creation_date":1602614441,"post_id":64341247,"comment_id":113774759,"body_markdown":"would resolve the issue. Please try and let me know.","body":"would resolve the issue. Please try and let me know."}],"tags":[],"owner":{"account_id":14843263,"reputation":49,"user_id":10719341,"display_name":"Saravanan Andavar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602614419,"creation_date":1602614419,"answer_id":64341247,"question_id":59322050,"body_markdown":"\tpublic HashMap&lt;Integer, ArrayList&lt;List&lt;Integer&gt;&gt;&gt; getPairs(int[] input, int targetSum) {\r\n\t\tHashMap&lt;Integer, ArrayList&lt;List&lt;Integer&gt;&gt;&gt; hashMapList = new HashMap&lt;Integer, ArrayList&lt;List&lt;Integer&gt;&gt;&gt;();\r\n\t\tfor(int i=0;i&lt; input.length;i++) {\r\n\t\t\t//int j=i+1;\r\n\t\t\tfor(int j=1;j&lt; input.length;j++) {\r\n\t\t\t\t//if(j &lt; input.length  &amp;&amp; input[i] + input[j] == targetSum ) {\r\n\t\t\t\tif(i != j  &amp;&amp; input[i] + input[j] == targetSum ) {\r\n\t\t\t\t\tArrayList&lt;List&lt;Integer&gt;&gt; indexPairList = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\t\t\t\tList&lt;Integer&gt; listPairs  = new ArrayList&lt;Integer&gt;();\r\n\t\t\t\t\tif( null != hashMapList.get(targetSum)) {\r\n\t\t\t\t\t\tindexPairList = hashMapList.get(targetSum);\r\n\t\t\t\t\t\tfor(List&lt;Integer&gt; listPair : indexPairList) {\r\n\t\t\t\t\t\t\tlistPairs.addAll(listPair);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\t\t\t\t\t//System.out.println(&quot;listPairs - &quot;+listPairs);\t\r\n\t\t\t\t\tif(!listPairs.contains(i)\r\n\t\t\t\t\t\t\t||  (!listPairs.contains(j))) {\r\n\t\t\t\t\t\tList&lt;Integer&gt; pair = new ArrayList&lt;Integer&gt;();\t\r\n\t\t\t\t\t\tpair.add(i);\r\n\t\t\t\t\t\tpair.add(j);\r\n\t\t\t\t\t\tindexPairList.add(pair);\r\n\t\t\t\t\t\thashMapList.put(targetSum, indexPairList);\r\n\t\t\t\t\t}\t\t\t\t    \t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn hashMapList;\r\n\t}","title":"Find index pairs in array whose value sum is equal to given sum","body":"<pre><code>public HashMap&lt;Integer, ArrayList&lt;List&lt;Integer&gt;&gt;&gt; getPairs(int[] input, int targetSum) {\n    HashMap&lt;Integer, ArrayList&lt;List&lt;Integer&gt;&gt;&gt; hashMapList = new HashMap&lt;Integer, ArrayList&lt;List&lt;Integer&gt;&gt;&gt;();\n    for(int i=0;i&lt; input.length;i++) {\n        //int j=i+1;\n        for(int j=1;j&lt; input.length;j++) {\n            //if(j &lt; input.length  &amp;&amp; input[i] + input[j] == targetSum ) {\n            if(i != j  &amp;&amp; input[i] + input[j] == targetSum ) {\n                ArrayList&lt;List&lt;Integer&gt;&gt; indexPairList = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n                List&lt;Integer&gt; listPairs  = new ArrayList&lt;Integer&gt;();\n                if( null != hashMapList.get(targetSum)) {\n                    indexPairList = hashMapList.get(targetSum);\n                    for(List&lt;Integer&gt; listPair : indexPairList) {\n                        listPairs.addAll(listPair);\n                    }\n                } \n                //System.out.println(&quot;listPairs - &quot;+listPairs); \n                if(!listPairs.contains(i)\n                        ||  (!listPairs.contains(j))) {\n                    List&lt;Integer&gt; pair = new ArrayList&lt;Integer&gt;();  \n                    pair.add(i);\n                    pair.add(j);\n                    indexPairList.add(pair);\n                    hashMapList.put(targetSum, indexPairList);\n                }                       \n            }\n        }\n    }       \n    return hashMapList;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695752728,"post_id":77178180,"comment_id":136065663,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77178180/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11141470,"reputation":1,"user_id":8177857,"display_name":"Sandeep Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695716598,"creation_date":1695716231,"answer_id":77178180,"question_id":59322050,"body_markdown":"**Try below code it should work**\r\n\r\n    import java.util.*;\r\n    public class FindPairAndIndexWithGivenSum {\r\n\r\n      public static void main(String[] args) {\r\n        int [] nums =  {1,2,3,7,6,3,3,9,2,3};\r\n        int target = 8;\r\n\r\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; ans= new ArrayList&lt;&gt;();\r\n        for (int i=0;i&lt;nums.length;i++){\r\n\r\n            int requiredNum=target - nums[i];\r\n            if(map.containsKey(requiredNum)){\r\n                String [] s=map.get(requiredNum)!=null?map.get(requiredNum).split(&quot;,&quot;):new String[1];\r\n\r\n                if(s.length&gt;1){\r\n                    String s1=s[0]+&quot;,&quot;+i;\r\n                    String s2 = s[1]+&quot;,&quot;+i;\r\n                    map.put(nums[i],s1);\r\n                    map.put(nums[i],s2);\r\n                    ans.add(s1+&quot; : &quot;+&quot;(&quot;+nums[i]+&quot;,&quot;+requiredNum+&quot;) &quot;);\r\n                    ans.add(s2+&quot; : &quot;+&quot;(&quot;+nums[i]+&quot;,&quot;+requiredNum+&quot;) &quot;);\r\n                }else{\r\n\r\n                    map.put(nums[i],map.get(requiredNum)+&quot;,&quot;+i);\r\n                    ans.add(map.get(nums[i])+&quot; : &quot;+&quot;(&quot;+nums[i]+&quot;,&quot;+requiredNum+&quot;) &quot;);\r\n                }\r\n\r\n\r\n\r\n\r\n            }else{\r\n\r\n                map.put(nums[i],String.valueOf(i));\r\n            }\r\n\r\n        }\r\n\r\n        for (String a : ans){\r\n            System.out.println(a);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Find index pairs in array whose value sum is equal to given sum","body":"<p><strong>Try below code it should work</strong></p>\n<pre><code>import java.util.*;\npublic class FindPairAndIndexWithGivenSum {\n\n  public static void main(String[] args) {\n    int [] nums =  {1,2,3,7,6,3,3,9,2,3};\n    int target = 8;\n\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n    List&lt;String&gt; ans= new ArrayList&lt;&gt;();\n    for (int i=0;i&lt;nums.length;i++){\n\n        int requiredNum=target - nums[i];\n        if(map.containsKey(requiredNum)){\n            String [] s=map.get(requiredNum)!=null?map.get(requiredNum).split(&quot;,&quot;):new String[1];\n\n            if(s.length&gt;1){\n                String s1=s[0]+&quot;,&quot;+i;\n                String s2 = s[1]+&quot;,&quot;+i;\n                map.put(nums[i],s1);\n                map.put(nums[i],s2);\n                ans.add(s1+&quot; : &quot;+&quot;(&quot;+nums[i]+&quot;,&quot;+requiredNum+&quot;) &quot;);\n                ans.add(s2+&quot; : &quot;+&quot;(&quot;+nums[i]+&quot;,&quot;+requiredNum+&quot;) &quot;);\n            }else{\n\n                map.put(nums[i],map.get(requiredNum)+&quot;,&quot;+i);\n                ans.add(map.get(nums[i])+&quot; : &quot;+&quot;(&quot;+nums[i]+&quot;,&quot;+requiredNum+&quot;) &quot;);\n            }\n\n\n\n\n        }else{\n\n            map.put(nums[i],String.valueOf(i));\n        }\n\n    }\n\n    for (String a : ans){\n        System.out.println(a);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":3665110,"reputation":55,"user_id":3053778,"display_name":"Subhrajit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":3,"score":-3,"last_activity_date":1695716598,"creation_date":1576237811,"question_id":59322050,"body_markdown":"I have a method which accepts two parameters. 1st is an integer array and 2nd is an integer.\r\n\r\nThe method should print the index pairs where sum of the values present in those indexes equal to the 2nd input parameter.  \r\n\r\nThe brute force approach is to have two loops which will take O(n^2) time. But I need to solve this in O(n) time.\r\n\r\nThe array can have repetitions and can have negative numbers also.\r\n\r\nIf it prints one pair then the reverse pair is not allowed. For example in the below sample if it should not print `(4,0), (3,2), (5,3)`\r\n\r\n    int[] arr = {3,4,-1,6,2,-1};\r\n    int sum = 5;  \r\n\r\nThe method signature is :`findPairs(int[] arr, int sum);`\r\n    \r\nThe output of this method will be : `(0,4), (2,3), (3,5)`  \r\n\r\nExplanation:  \r\n\r\n    Element present at index 0 + Element present at index 4 = 3+2 = 5  \r\n    Element present at index 2 + Element present at index 3 = -1+6 = 5  \r\n    Element present at index 3 + Element present at index 5 = 6+-1 = 5 \r\n  \r\nTo clarify some confusions, I have tried using `HashMap&lt;Integer, List&lt;Integer&gt;&gt;`. Here, key is the elements of array and value is their respective indices. As repetition is allowed, so for a given element there can be multiple index locations. So value in the map is a list. \r\n\r\n    \r\n\r\n\r\n","title":"Find index pairs in array whose value sum is equal to given sum","body":"<p>I have a method which accepts two parameters. 1st is an integer array and 2nd is an integer.</p>\n\n<p>The method should print the index pairs where sum of the values present in those indexes equal to the 2nd input parameter.  </p>\n\n<p>The brute force approach is to have two loops which will take O(n^2) time. But I need to solve this in O(n) time.</p>\n\n<p>The array can have repetitions and can have negative numbers also.</p>\n\n<p>If it prints one pair then the reverse pair is not allowed. For example in the below sample if it should not print <code>(4,0), (3,2), (5,3)</code></p>\n\n<pre><code>int[] arr = {3,4,-1,6,2,-1};\nint sum = 5;  \n</code></pre>\n\n<p>The method signature is :<code>findPairs(int[] arr, int sum);</code></p>\n\n<p>The output of this method will be : <code>(0,4), (2,3), (3,5)</code>  </p>\n\n<p>Explanation:  </p>\n\n<pre><code>Element present at index 0 + Element present at index 4 = 3+2 = 5  \nElement present at index 2 + Element present at index 3 = -1+6 = 5  \nElement present at index 3 + Element present at index 5 = 6+-1 = 5 \n</code></pre>\n\n<p>To clarify some confusions, I have tried using <code>HashMap&lt;Integer, List&lt;Integer&gt;&gt;</code>. Here, key is the elements of array and value is their respective indices. As repetition is allowed, so for a given element there can be multiple index locations. So value in the map is a list. </p>\n"},{"tags":["java","spring-mvc","spring-bean"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695710697,"post_id":77170467,"comment_id":136056970,"body_markdown":"Enable class proxies instead of interface proxies or just ditch the interface, what is the usage anyway? It alwaus feels weird (wrong?) to use interfaces for controllers. The use of classbased proxies is also stated in the documentation (https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann.html#mvc-ann-requestmapping-proxying) for Spring MVC.","body":"Enable class proxies instead of interface proxies or just ditch the interface, what is the usage anyway? It alwaus feels weird (wrong?) to use interfaces for controllers. The use of classbased proxies is also stated in the documentation (<a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann.html#mvc-ann-requestmapping-proxying\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/reference/web/webmvc/&hellip;</a>) for Spring MVC."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1695715229,"post_id":77170467,"comment_id":136057879,"body_markdown":"@M.Deinum The actual use case is an attribute based access control scheme for a rest api. One implementation of the controller interface cares about the actual business logic. A second only cares about deciding whether to grant access. By being interface driven accidental access control bypasses are prevented because a developer also  needs to implement the method in the access control controller implementation.","body":"@M.Deinum The actual use case is an attribute based access control scheme for a rest api. One implementation of the controller interface cares about the actual business logic. A second only cares about deciding whether to grant access. By being interface driven accidental access control bypasses are prevented because a developer also  needs to implement the method in the access control controller implementation."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695715316,"post_id":77170467,"comment_id":136057895,"body_markdown":"Using an interface doesn&#39;t help with that, there is nothing preventing a developer to **not** implement the said interface and just use annotations. Anyway as mentioned you need to enable class based proxies with controllers.","body":"Using an interface doesn&#39;t help with that, there is nothing preventing a developer to <b>not</b> implement the said interface and just use annotations. Anyway as mentioned you need to enable class based proxies with controllers."}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695710516,"creation_date":1695710516,"answer_id":77177543,"question_id":77170467,"body_markdown":"I created an additional interface for adding back the `@Controller` annotation to the created proxy:\r\n```\r\n@Controller\r\npublic interface AddControllerAnnotations {\r\n}\r\n```\r\nAnd I&#39;m passing this interface additionally to the interfaces of the `java.lang.reflect.Proxy.newProxyInstance(ClassLoader, Class&lt;?&gt;[], InvocationHandler)` call I&#39;m using to create the proxy instance. This way spring will still consider the decorated instance as a controller.\r\n\r\nHowever this will not scale if there will be more annotations to apply this way.","title":"How to decorate interface driven controllers in spring mvc?","body":"<p>I created an additional interface for adding back the <code>@Controller</code> annotation to the created proxy:</p>\n<pre><code>@Controller\npublic interface AddControllerAnnotations {\n}\n</code></pre>\n<p>And I'm passing this interface additionally to the interfaces of the <code>java.lang.reflect.Proxy.newProxyInstance(ClassLoader, Class&lt;?&gt;[], InvocationHandler)</code> call I'm using to create the proxy instance. This way spring will still consider the decorated instance as a controller.</p>\n<p>However this will not scale if there will be more annotations to apply this way.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695715761,"creation_date":1695715761,"answer_id":77178129,"question_id":77170467,"body_markdown":"Using proxies with Spring Controllers requires class based proxies, there is even [a section in the reference guide][1] explaining this, with an additional note on the changes in Spring Framework 6. \r\n\r\nTo force class proxies enable those in all the annotations you have to use proxies, like `@EnableTransactionManagement`, `@EnableAspectJAutoProxy` etc. \r\n\r\n[1]: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann.html#mvc-ann-requestmapping-proxying","title":"How to decorate interface driven controllers in spring mvc?","body":"<p>Using proxies with Spring Controllers requires class based proxies, there is even <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann.html#mvc-ann-requestmapping-proxying\" rel=\"nofollow noreferrer\">a section in the reference guide</a> explaining this, with an additional note on the changes in Spring Framework 6.</p>\n<p>To force class proxies enable those in all the annotations you have to use proxies, like <code>@EnableTransactionManagement</code>, <code>@EnableAspectJAutoProxy</code> etc.</p>\n"}],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77177543,"answer_count":2,"score":0,"last_activity_date":1695715761,"creation_date":1695625468,"question_id":77170467,"body_markdown":"I have a interface driven controller like this:\r\n\r\n```\r\n@ResponseBody\r\n@PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;USER&#39;)&quot;)\r\n@RequestMapping(&quot;/foo&quot;)\r\ninterface Foo {\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    String bar(String id);\r\n}\r\n```\r\nAnd an implementation delegating to the actual business logic\r\n```\r\n@Controller\r\npublic class FooImpl implements Foo {\r\n    @Override\r\n    public String bar(String id) {\r\n        return &quot;&lt;actual business logic&gt;&quot;;\r\n    }\r\n}\r\n```\r\nI would like to decorate interface `Foo` to add additional functionality to the application.\r\n\r\nHowever when I use a jdk proxy and try to start the application with that spring won&#39;t register the endpoints anymore. This is because the bean now isn&#39;t annotated with `@Controller` anymore on the beans type. The annotation is only present on the implementation (and I can&#39;t use a `@Bean` method because that annotation is only allowed on types) and not the proxy, which is now the type spring web mvc sees. I also can&#39;t annotate the decoration and implementation with @Controller because then I will have ambigous mappings since the decoration interface and the implementation will be treated as components where handler mappings need to be created for.\r\n\r\nI would also like to keep the controller annotation at the implementation for the actual business logic so that its still obvious where the main focus of the controller is.\r\n\r\nSo how can I decorate an interface driven controller in spring web mvc keeping the actual implementation and any decorations that shall be applied to it distinct?","title":"How to decorate interface driven controllers in spring mvc?","body":"<p>I have a interface driven controller like this:</p>\n<pre><code>@ResponseBody\n@PreAuthorize(&quot;hasAnyRole('ADMIN', 'USER')&quot;)\n@RequestMapping(&quot;/foo&quot;)\ninterface Foo {\n    @GetMapping(&quot;/{id}&quot;)\n    String bar(String id);\n}\n</code></pre>\n<p>And an implementation delegating to the actual business logic</p>\n<pre><code>@Controller\npublic class FooImpl implements Foo {\n    @Override\n    public String bar(String id) {\n        return &quot;&lt;actual business logic&gt;&quot;;\n    }\n}\n</code></pre>\n<p>I would like to decorate interface <code>Foo</code> to add additional functionality to the application.</p>\n<p>However when I use a jdk proxy and try to start the application with that spring won't register the endpoints anymore. This is because the bean now isn't annotated with <code>@Controller</code> anymore on the beans type. The annotation is only present on the implementation (and I can't use a <code>@Bean</code> method because that annotation is only allowed on types) and not the proxy, which is now the type spring web mvc sees. I also can't annotate the decoration and implementation with @Controller because then I will have ambigous mappings since the decoration interface and the implementation will be treated as components where handler mappings need to be created for.</p>\n<p>I would also like to keep the controller annotation at the implementation for the actual business logic so that its still obvious where the main focus of the controller is.</p>\n<p>So how can I decorate an interface driven controller in spring web mvc keeping the actual implementation and any decorations that shall be applied to it distinct?</p>\n"},{"tags":["javascript","java","reactjs","eclipse"],"comments":[{"owner":{"account_id":3999495,"reputation":2218,"user_id":3295890,"accept_rate":42,"display_name":"yccteam"},"score":1,"creation_date":1695678141,"post_id":77175715,"comment_id":136053939,"body_markdown":"It says: `allowedOrigins: &quot;http://127.0.0.1:3000&quot;`\nHave you tried adding &quot;http://localhost:3000&quot;?","body":"It says: <code>allowedOrigins: &quot;http:&#47;&#47;127.0.0.1:3000&quot;</code> Have you tried adding &quot;<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">localhost:3000</a>&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":16573818,"reputation":16,"user_id":11976107,"display_name":"Nhat Anh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695704077,"creation_date":1695704077,"answer_id":77177108,"question_id":77175715,"body_markdown":"In your java backend config file, add OPTIONS to the allowedMethods. OPTIONS requests are often used in conjunction with CORS requests to determine whether a cross-origin request is allowed.\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          globalcors:\r\n            corsConfigurations:\r\n              &#39;[/**]&#39;:\r\n                allowedOrigins: &quot;http://127.0.0.1:3000&quot;\r\n                allowedHeaders: &quot;*&quot;\r\n                allowedMethods:\r\n                - GET\r\n                - POST\r\n                - PUT\r\n                - DELETE\r\n                - OPTIONS","title":"i can&#39;t to fix CORS","body":"<p>In your java backend config file, add OPTIONS to the allowedMethods. OPTIONS requests are often used in conjunction with CORS requests to determine whether a cross-origin request is allowed.</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;http://127.0.0.1:3000&quot;\n            allowedHeaders: &quot;*&quot;\n            allowedMethods:\n            - GET\n            - POST\n            - PUT\n            - DELETE\n            - OPTIONS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29260163,"reputation":69,"user_id":22417331,"display_name":"Tamy Ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695715670,"creation_date":1695705891,"answer_id":77177207,"question_id":77175715,"body_markdown":"in your app.js or any of your request in front use:\r\n\r\n      axios.defaults.withCredentials = true;\r\n or \r\n\r\n      defaults.withCredentials = true;\r\nand in java file:\r\n    \r\n      cors_allow_credentials = true\r\n\r\n\r\n","title":"i can&#39;t to fix CORS","body":"<p>in your app.js or any of your request in front use:</p>\n<pre><code>  axios.defaults.withCredentials = true;\n</code></pre>\n<p>or</p>\n<pre><code>  defaults.withCredentials = true;\n</code></pre>\n<p>and in java file:</p>\n<pre><code>  cors_allow_credentials = true\n</code></pre>\n"}],"owner":{"account_id":29533398,"reputation":11,"user_id":22633536,"display_name":"soso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695715670,"creation_date":1695676111,"question_id":77175715,"body_markdown":"When i register to my form it&#39;s not work because : \r\n\r\nAccess to fetch at &#39;http://127.0.0.1:8081/api/auth/register&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\ni use react js for my front end :\r\n\r\n```\r\nexport default function Inscrit() {\r\n    function Alerte(e, props) {\r\n        e.preventDefault()\r\n        fetch(&#39;http://127.0.0.1:8081/api/auth/register&#39;, {\r\n            method: &#39;POST&#39;,\r\n            mode: &#39;cors&#39;,\r\n            credentials: &quot;include&quot;,\r\n            headers: {&#39;Content-Type&#39;:&#39;application/json&#39;}})\r\n\r\n    }\r\n    return(\r\n        &lt;div&gt;\r\n            &lt;h1&gt;Inscrit toi !&lt;/h1&gt;\r\n            &lt;form&gt;\r\n                &lt;input type=&quot;text&quot; placeholder=&quot;Nom&quot; name=&#39;nom&#39;/&gt;\r\n                &lt;input type=&quot;text&quot; placeholder=&quot;Prenom&quot; name=&#39;prenom&#39;/&gt;\r\n                &lt;input type=&quot;email&quot; placeholder=&quot;Email&quot; name=&#39;email&#39;/&gt;\r\n                &lt;input type=&quot;password&quot; placeholder=&quot;Mot de passe&quot; name=&#39;password&#39;/&gt;\r\n                &lt;button type=&quot;submit&quot; onClick={Alerte}&gt;s&#39;inscrire&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    )\r\n}\r\n```\r\n\r\n\r\nand my back end in java eclipse also my Cors:\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;http://127.0.0.1:3000&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n            allowedMethods:\r\n            - GET\r\n            - POST\r\n            - PUT\r\n            - DELETE\r\n```\r\n","title":"i can&#39;t to fix CORS","body":"<p>When i register to my form it's not work because :</p>\n<p>Access to fetch at 'http://127.0.0.1:8081/api/auth/register' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</p>\n<p>i use react js for my front end :</p>\n<pre><code>export default function Inscrit() {\n    function Alerte(e, props) {\n        e.preventDefault()\n        fetch('http://127.0.0.1:8081/api/auth/register', {\n            method: 'POST',\n            mode: 'cors',\n            credentials: &quot;include&quot;,\n            headers: {'Content-Type':'application/json'}})\n\n    }\n    return(\n        &lt;div&gt;\n            &lt;h1&gt;Inscrit toi !&lt;/h1&gt;\n            &lt;form&gt;\n                &lt;input type=&quot;text&quot; placeholder=&quot;Nom&quot; name='nom'/&gt;\n                &lt;input type=&quot;text&quot; placeholder=&quot;Prenom&quot; name='prenom'/&gt;\n                &lt;input type=&quot;email&quot; placeholder=&quot;Email&quot; name='email'/&gt;\n                &lt;input type=&quot;password&quot; placeholder=&quot;Mot de passe&quot; name='password'/&gt;\n                &lt;button type=&quot;submit&quot; onClick={Alerte}&gt;s'inscrire&lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n<p>and my back end in java eclipse also my Cors:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;http://127.0.0.1:3000&quot;\n            allowedHeaders: &quot;*&quot;\n            allowedMethods:\n            - GET\n            - POST\n            - PUT\n            - DELETE\n</code></pre>\n"},{"tags":["java","gradle","gradlew"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":2,"creation_date":1435723929,"post_id":31152406,"comment_id":50314395,"body_markdown":"Unknown host: the DNS  cannot be resolved for &quot;services.gradle.org&quot;. Make sure you can connect to the address on that computer *without* using a proxy.","body":"Unknown host: the DNS  cannot be resolved for &quot;services.gradle.org&quot;. Make sure you can connect to the address on that computer <i>without</i> using a proxy."},{"owner":{"account_id":6420686,"reputation":217,"user_id":4977502,"accept_rate":50,"display_name":"geetha"},"score":0,"creation_date":1435724882,"post_id":31152406,"comment_id":50314652,"body_markdown":"Hi, I have not used the proxy setting here.Got error without using a proxy.","body":"Hi, I have not used the proxy setting here.Got error without using a proxy."},{"owner":{"account_id":2188743,"reputation":1941,"user_id":1936461,"accept_rate":88,"display_name":"RajSharma"},"score":0,"creation_date":1435726281,"post_id":31152406,"comment_id":50315086,"body_markdown":"post some code and logact also.","body":"post some code and logact also."},{"owner":{"account_id":6420686,"reputation":217,"user_id":4977502,"accept_rate":50,"display_name":"geetha"},"score":0,"creation_date":1435741750,"post_id":31152406,"comment_id":50322951,"body_markdown":"C:\\Users\\*****\\Desktop\\Archive-File\\gradle-ja\nzz-plugin-master\\gradle\\wrapper\\gradle-wrapper.jar\nDownloading https://services.gradle.org/distributions/gradle-2.1-bin.zip\nException in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.orgatjava.net.PlainSocketImpl.connect(PlainSocketImpl.java:195)\n at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\n        at java.net.Socket.connect(Socket.java:529)\natcom.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSocketImpl.java\n:559)atcom.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:141)","body":"C:\\Users*****\\Desktop\\Archive-File\\gradle-ja zz-plugin-master\\gradle\\wrapper\\gradle-wrapper.jar Downloading <a href=\"https://services.gradle.org/distributions/gradle-2.1-bin.zip\" rel=\"nofollow noreferrer\">services.gradle.org/distributions/gradle-2.1-bin.zip</a> Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.orgatjava.net.PlainSocketImpl.connect(PlainS&zwnj;&#8203;ocketImpl.java:195)  at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)         at java.net.Socket.connect(Socket.java:529) atcom.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSock&zwnj;&#8203;etImpl.java :559)atcom.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connec&zwnj;&#8203;t(BaseSSLSocketImpl.&zwnj;&#8203;java:141)"},{"owner":{"account_id":16096987,"reputation":714,"user_id":11618893,"display_name":"Deepak Kumrawat"},"score":0,"creation_date":1564740542,"post_id":31152406,"comment_id":101138821,"body_markdown":"The following solution worked for me [Answer to -&gt; gradle build fails for unknown host exception](https://stackoverflow.com/a/57324182/11618893)","body":"The following solution worked for me <a href=\"https://stackoverflow.com/a/57324182/11618893\">Answer to -&gt; gradle build fails for unknown host exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":5883828,"reputation":671,"user_id":4632437,"accept_rate":80,"display_name":"Igor Soudakevitch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435934374,"creation_date":1435934374,"answer_id":31209360,"question_id":31152406,"body_markdown":"Make sure you have enough bandwidth for the download.&lt;BR&gt;\r\nI had the same problem just 15 minutes ago (that&#39;s why I&#39;m on this page in the first place). Same error message --- and then I noticed that my uTorrent client was occupying the whole datalink. So I killed it, and run `gradlew.bat` again. This time everything went just fine... \r\n","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>Make sure you have enough bandwidth for the download.<BR>\nI had the same problem just 15 minutes ago (that's why I'm on this page in the first place). Same error message --- and then I noticed that my uTorrent client was occupying the whole datalink. So I killed it, and run <code>gradlew.bat</code> again. This time everything went just fine... </p>\n"},{"comments":[{"owner":{"account_id":4523354,"reputation":526,"user_id":3675902,"display_name":"MirandaVeracruzDeLaHoyaCardina"},"score":5,"creation_date":1470842473,"post_id":32815130,"comment_id":65116247,"body_markdown":"Thanks, this helped me. I just had to add a section for\n\nsystemProp.http**s**.proxyHost=\nsystemProp.http**s**.proxyPort=","body":"Thanks, this helped me. I just had to add a section for  systemProp.http<b>s</b>.proxyHost= systemProp.http<b>s</b>.proxyPort="},{"owner":{"account_id":6195907,"reputation":117,"user_id":4827177,"accept_rate":17,"display_name":"pradeep"},"score":0,"creation_date":1505454628,"post_id":32815130,"comment_id":79428380,"body_markdown":"I tried what you gave. Now gradle is downloaded but something other error is came","body":"I tried what you gave. Now gradle is downloaded but something other error is came"},{"owner":{"account_id":6195907,"reputation":117,"user_id":4827177,"accept_rate":17,"display_name":"pradeep"},"score":0,"creation_date":1505454673,"post_id":32815130,"comment_id":79428391,"body_markdown":"A problem occurred configuring root project &#39;pmdemo&#39;.\n&gt; Could not resolve all dependencies for configuration &#39;:classpath&#39;.\n   &gt; Could not resolve com.android.tools.build:gradle:1.3.1.\n     Required by:\n         :pmdemo:unspecified\n      &gt; Could not resolve com.android.tools.build:gradle:1.3.1.\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/android/tools\n/build/gradle/1.3.1/gradle-1.3.1.pom&#39;.\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/android/tools/build\n/gradle/1.3.1/gradle-1.3.1.pom&#39;. Received status code 403 from server: Forbidden","body":"A problem occurred configuring root project &#39;pmdemo&#39;. &gt; Could not resolve all dependencies for configuration &#39;:classpath&#39;.    &gt; Could not resolve com.android.tools.build:gradle:1.3.1.      Required by:          :pmdemo:unspecified       &gt; Could not resolve com.android.tools.build:gradle:1.3.1.          &gt; Could not get resource &#39;<a href=\"https://jcenter.bintray.com/com/android/tools\" rel=\"nofollow noreferrer\">jcenter.bintray.com/com/android/tools</a> /build/gradle/1.3.1/gradle-1.3.1.pom&#39;.             &gt; Could not GET &#39;<a href=\"https://jcenter.bintray.com/com/android/tools/build\" rel=\"nofollow noreferrer\">jcenter.bintray.com/com/android/tools/build</a> /gradle/1.3.1/gradle-1.3.1.pom&#39;. Received status code 403 from server: Forbidden"}],"tags":[],"owner":{"account_id":7025642,"reputation":169,"user_id":5383126,"display_name":"Chintan Desai"},"comment_count":3,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1443409435,"creation_date":1443409435,"answer_id":32815130,"question_id":31152406,"body_markdown":" 1. Go to &quot;C:\\Users\\\\[yourusername]\\\\.gradle\\&quot; folder (hidden folder - Go to folder option and enable show hidden files if folder is not showing up)\r\n\r\n 2. Look for file &quot;gradle.properties&quot; if DOES NOT (most likely this would be the case) exists, Create it under &quot;C:\\Users\\\\[yourusername]\\\\.gradle\\\r\n\r\n 3. Copy and paste following code (More detail ... https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties ... look for &quot;20.3 Accessing the web via proxy&quot; for https and user/pwd variables)\r\n\r\nsystemProp.http.proxyHost=[PROXY SERVER]\r\nsystemProp.http.proxyPort=[PROXY PORT]\r\n\r\n4. save and try again","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<ol>\n<li><p>Go to \"C:\\Users\\[yourusername]\\.gradle\\\" folder (hidden folder - Go to folder option and enable show hidden files if folder is not showing up)</p></li>\n<li><p>Look for file \"gradle.properties\" if DOES NOT (most likely this would be the case) exists, Create it under \"C:\\Users\\[yourusername]\\.gradle\\</p></li>\n<li><p>Copy and paste following code (More detail ... <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties</a> ... look for \"20.3 Accessing the web via proxy\" for https and user/pwd variables)</p></li>\n</ol>\n\n<p>systemProp.http.proxyHost=[PROXY SERVER]\nsystemProp.http.proxyPort=[PROXY PORT]</p>\n\n<ol start=\"4\">\n<li>save and try again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5550088,"reputation":139,"user_id":4403500,"display_name":"Med. A."},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1468530892,"creation_date":1468530892,"answer_id":38384391,"question_id":31152406,"body_markdown":"look for gradle.properties file open it and change from &#39;distributionUrl=https\\&#39;  to &#39;distributionUrl=http\\&#39; that will fix it.","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>look for gradle.properties file open it and change from 'distributionUrl=https\\'  to 'distributionUrl=http\\' that will fix it.</p>\n"},{"tags":[],"owner":{"account_id":1474244,"reputation":982,"user_id":1385063,"accept_rate":0,"display_name":"Piyush Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510829841,"creation_date":1510829841,"answer_id":47327860,"question_id":31152406,"body_markdown":"1) Go to your project directory\r\n\r\n2) Find below file on your project directory:\r\n\r\n    gradlew\r\n    gradlew.bat\r\n\r\n3) Edit **gradlew** file and change **DEFAULT_JVM_OPTS** variable value as below:\r\n\r\n    DEFAULT_JVM_OPTS=&quot;-Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttp.proxyUser=XXXX -Dhttp.proxyPassword=XXXX  -Dhttps.proxyHost=XXXX -Dhttps.proxyPort=XXXX -Dhttps.proxyUser=XXXX-Dhttps.proxyPassword=XXXX&quot;\r\n\r\nsave it.\r\n\r\n4) Edit **gradlew.bat** file and change **DEFAULT_JVM_OPTS** variable value as below:\r\n\r\n    set DEFAULT_JVM_OPTS=-Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttp.proxyUser=XXXX -Dhttp.proxyPassword=XXXX  -Dhttps.proxyHost=XXXX -Dhttps.proxyPort=XXXX -Dhttps.proxyUser=XXXX-Dhttps.proxyPassword=XXXX\r\n\r\nsave it.\r\n\r\n5) Now run your &quot;gradlew clean build&quot; and check.\r\n\r\n**Please set your appropriate value on the place of XXXX**\r\n\r\n**Note: gradlew is use for linux system user and gradlew.bat is user for window system user**\r\n\r\n","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>1) Go to your project directory</p>\n\n<p>2) Find below file on your project directory:</p>\n\n<pre><code>gradlew\ngradlew.bat\n</code></pre>\n\n<p>3) Edit <strong>gradlew</strong> file and change <strong>DEFAULT_JVM_OPTS</strong> variable value as below:</p>\n\n<pre><code>DEFAULT_JVM_OPTS=\"-Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttp.proxyUser=XXXX -Dhttp.proxyPassword=XXXX  -Dhttps.proxyHost=XXXX -Dhttps.proxyPort=XXXX -Dhttps.proxyUser=XXXX-Dhttps.proxyPassword=XXXX\"\n</code></pre>\n\n<p>save it.</p>\n\n<p>4) Edit <strong>gradlew.bat</strong> file and change <strong>DEFAULT_JVM_OPTS</strong> variable value as below:</p>\n\n<pre><code>set DEFAULT_JVM_OPTS=-Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttp.proxyUser=XXXX -Dhttp.proxyPassword=XXXX  -Dhttps.proxyHost=XXXX -Dhttps.proxyPort=XXXX -Dhttps.proxyUser=XXXX-Dhttps.proxyPassword=XXXX\n</code></pre>\n\n<p>save it.</p>\n\n<p>5) Now run your \"gradlew clean build\" and check.</p>\n\n<p><strong>Please set your appropriate value on the place of XXXX</strong></p>\n\n<p><strong>Note: gradlew is use for linux system user and gradlew.bat is user for window system user</strong></p>\n"},{"tags":[],"owner":{"account_id":2622639,"reputation":1246,"user_id":2270348,"display_name":"Tadiwanashe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538234823,"creation_date":1538234823,"answer_id":52569821,"question_id":31152406,"body_markdown":"Maybe it&#39;s a bit late but you might have to try to UPDATE your ANDROID STUDIO. Had a similar problem, working on **Linux** pop_os (Ubuntu derivative). So I had **Android SDK** on my **$PATH** and everything set well but **Ionic v3** build was having a **Gradle** issues while trying to download.\r\n\r\nI simply **updated my Android Studio** and tried again and it worked. Good luck","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>Maybe it's a bit late but you might have to try to UPDATE your ANDROID STUDIO. Had a similar problem, working on <strong>Linux</strong> pop_os (Ubuntu derivative). So I had <strong>Android SDK</strong> on my <strong>$PATH</strong> and everything set well but <strong>Ionic v3</strong> build was having a <strong>Gradle</strong> issues while trying to download.</p>\n\n<p>I simply <strong>updated my Android Studio</strong> and tried again and it worked. Good luck</p>\n"},{"tags":[],"owner":{"account_id":1859299,"reputation":21,"user_id":1684226,"display_name":"VSV"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541143290,"creation_date":1541142042,"answer_id":53113950,"question_id":31152406,"body_markdown":"I had similar issue, fixed by following steps:\r\n  \r\n    Created: C:\\Users\\&lt;username&gt;\\.gradle\\gradle.properties\r\n\r\n   Values entered in the property file as below:\r\n        \r\n    systemProp.https.proxyHost=&quot;company proxy server&quot; \r\n    systemProp.https.proxyPort=&quot;company proxy port &quot; \r\n    systemProp.https.proxyUser=&quot;user login &quot;\r\n    systemProp.https.proxyPassword=&quot;password &quot; \r\n    systemProp.https.nonProxyHosts=localhost \r\n\r\nYou can try HTTP instead of HTTPS.","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>I had similar issue, fixed by following steps:</p>\n\n<pre><code>Created: C:\\Users\\&lt;username&gt;\\.gradle\\gradle.properties\n</code></pre>\n\n<p>Values entered in the property file as below:</p>\n\n<pre><code>systemProp.https.proxyHost=\"company proxy server\" \nsystemProp.https.proxyPort=\"company proxy port \" \nsystemProp.https.proxyUser=\"user login \"\nsystemProp.https.proxyPassword=\"password \" \nsystemProp.https.nonProxyHosts=localhost \n</code></pre>\n\n<p>You can try HTTP instead of HTTPS.</p>\n"},{"tags":[],"owner":{"account_id":5646952,"reputation":14,"user_id":4468693,"display_name":"Deepa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574752379,"creation_date":1574752379,"answer_id":59045565,"question_id":31152406,"body_markdown":"Go to your command prompt and set the HTTP and HTTPS proxy \r\n\r\nExecute the below in your cmd - \r\n\r\n````\r\nset HTTP_PROXY=http://&lt;proxyservername&gt;:&lt;port&gt;\r\n\r\nset HTTPS_PROXY=http://&lt;proxyservername&gt;:&lt;port&gt;?\r\n````\r\n\r\nOnce you have set your proxy variables , try rebuilding or re-assembling your application / project","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>Go to your command prompt and set the HTTP and HTTPS proxy </p>\n\n<p>Execute the below in your cmd - </p>\n\n<pre><code>set HTTP_PROXY=http://&lt;proxyservername&gt;:&lt;port&gt;\n\nset HTTPS_PROXY=http://&lt;proxyservername&gt;:&lt;port&gt;?\n</code></pre>\n\n<p>Once you have set your proxy variables , try rebuilding or re-assembling your application / project</p>\n"},{"comments":[{"owner":{"account_id":13125518,"reputation":1063,"user_id":9481613,"display_name":"mLstudent33"},"score":0,"creation_date":1631347873,"post_id":59986410,"comment_id":122201651,"body_markdown":"Could this happen if WiFi is sporadic during `flutter create myapp`?","body":"Could this happen if WiFi is sporadic during <code>flutter create myapp</code>?"}],"tags":[],"owner":{"account_id":1091117,"reputation":8451,"user_id":1085736,"accept_rate":64,"display_name":"MobileMon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580388469,"creation_date":1580388469,"answer_id":59986410,"question_id":31152406,"body_markdown":"I had this problem for a flutter project and what I did was create a new flutter project with the same name as my problem flutter project. I then copied the files from the &quot;android&quot; directory from the new project into the existing flutter project. Basically some set up file was messed up. I don&#39;t know which one, but this did the trick","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>I had this problem for a flutter project and what I did was create a new flutter project with the same name as my problem flutter project. I then copied the files from the \"android\" directory from the new project into the existing flutter project. Basically some set up file was messed up. I don't know which one, but this did the trick</p>\n"},{"tags":[],"owner":{"account_id":6846832,"reputation":1508,"user_id":5265359,"display_name":"Chirag Mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1587042459,"creation_date":1587042459,"answer_id":61250990,"question_id":31152406,"body_markdown":"I was facing the same problem when I was connected to WiFi with a download speed of 80 Mbps which is good enough, I guess. After spending hours while still being clueless, I just changed the network. Connected to hotspot from my mobile data with a much lower download speed of around 4 Mbps. **The error vanished!** Maybe something was wrong with the WiFi.","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>I was facing the same problem when I was connected to WiFi with a download speed of 80 Mbps which is good enough, I guess. After spending hours while still being clueless, I just changed the network. Connected to hotspot from my mobile data with a much lower download speed of around 4 Mbps. <strong>The error vanished!</strong> Maybe something was wrong with the WiFi.</p>\n"},{"tags":[],"owner":{"account_id":20429980,"reputation":1,"user_id":15734385,"display_name":"Niral Pateliya"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1619080902,"creation_date":1619070125,"answer_id":67207369,"question_id":31152406,"body_markdown":"Just remove your `.android` and `.gradle` folder from `C:\\Users\\[Your user name]\\ `\r\n\r\nUninstall android studio and reinstall it\r\n\r\nOpen any simple android studio project and run it. It will automatically set up the Gradle and other things\r\n\r\nClose the project and run your flutter project. It works for me!!!","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>Just remove your <code>.android</code> and <code>.gradle</code> folder from <code>C:\\Users\\[Your user name]\\ </code></p>\n<p>Uninstall android studio and reinstall it</p>\n<p>Open any simple android studio project and run it. It will automatically set up the Gradle and other things</p>\n<p>Close the project and run your flutter project. It works for me!!!</p>\n"},{"tags":[],"owner":{"account_id":1089101,"reputation":752,"user_id":1084149,"accept_rate":33,"display_name":"Zdeněk Mlčoch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628509914,"creation_date":1628509914,"answer_id":68711618,"question_id":31152406,"body_markdown":"I&#39;ve got an issue with Android studio. The value of the distributionUrl field in the graddle-wrapper.properties has been changed during package name refactoring.","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>I've got an issue with Android studio. The value of the distributionUrl field in the graddle-wrapper.properties has been changed during package name refactoring.</p>\n"},{"tags":[],"owner":{"account_id":8130781,"reputation":47,"user_id":6124137,"display_name":"kingvittu"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1667820157,"creation_date":1667820157,"answer_id":74345790,"question_id":31152406,"body_markdown":"In my case disconnecting from my office VPN fixed the problem","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>In my case disconnecting from my office VPN fixed the problem</p>\n"},{"tags":[],"owner":{"account_id":14335268,"reputation":43,"user_id":10389047,"display_name":"Leo.roxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674241076,"creation_date":1674241076,"answer_id":75188323,"question_id":31152406,"body_markdown":"**If error is under flutter** \r\nJust hoping this might help someone in the future...\r\nWhen i encountered that error in flutter, I just had to change network from the current one which seemed unstable, am sure build.gradle was trying to get more resources from internet.\r\n\r\n1) try disconnecting and reconnecting to the network\r\n2) try changing networks(wifi- date or data - wifi)  ","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p><strong>If error is under flutter</strong>\nJust hoping this might help someone in the future...\nWhen i encountered that error in flutter, I just had to change network from the current one which seemed unstable, am sure build.gradle was trying to get more resources from internet.</p>\n<ol>\n<li>try disconnecting and reconnecting to the network</li>\n<li>try changing networks(wifi- date or data - wifi)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4928593,"reputation":1,"user_id":3969128,"display_name":"Ahmed Gnedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695715651,"creation_date":1695715651,"answer_id":77178113,"question_id":31152406,"body_markdown":"In my case I just updated gradle version in the distributionUrl in gradle-wrapper.properties \r\n\r\nfrom this: \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\r\nto this:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-all.zip\r\n","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>In my case I just updated gradle version in the distributionUrl in gradle-wrapper.properties</p>\n<p>from this:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\n</code></pre>\n<p>to this:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-all.zip\n</code></pre>\n"}],"owner":{"account_id":6420686,"reputation":217,"user_id":4977502,"accept_rate":50,"display_name":"geetha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72928,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":14,"score":21,"last_activity_date":1695715651,"creation_date":1435723830,"question_id":31152406,"body_markdown":"I am getting the below error when executing `gradle.bat`. I have checked the URL path and it looks fine. The URL is defined like this in the wrapper properties:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-2.1-bin.zip \r\n\r\nHere&#39;s the error message:\r\n\r\n    Downloading https://services.gradle.org/distributions/gradle-2.1-bin.zip\r\n    Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:195)\r\n\r\nCould someone help me on this?","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: services.gradle.org","body":"<p>I am getting the below error when executing <code>gradle.bat</code>. I have checked the URL path and it looks fine. The URL is defined like this in the wrapper properties:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-2.1-bin.zip \n</code></pre>\n\n<p>Here's the error message:</p>\n\n<pre><code>Downloading https://services.gradle.org/distributions/gradle-2.1-bin.zip\nException in thread \"main\" java.net.UnknownHostException: services.gradle.org at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:195)\n</code></pre>\n\n<p>Could someone help me on this?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1984878,"reputation":79,"user_id":1780414,"accept_rate":14,"display_name":"Manoranjan Jena"},"score":0,"creation_date":1695329797,"post_id":77153605,"comment_id":136013783,"body_markdown":"Taken ref - https://stackoverflow.com/questions/35669169/how-to-split-string-in-thymeleaf","body":"Taken ref - <a href=\"https://stackoverflow.com/questions/35669169/how-to-split-string-in-thymeleaf\" title=\"how to split string in thymeleaf\">stackoverflow.com/questions/35669169/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29095784,"reputation":36,"user_id":22288698,"display_name":"promitamaitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695633924,"creation_date":1695633924,"answer_id":77171417,"question_id":77153605,"body_markdown":"The requirement is not entirely clear to me, however, I think I can see the syntactical error here. You do not need to add $ again for inner variable.\r\n\r\n&gt; th:each=&quot;item : ${#strings.arraySplit(insData, &#39;@@@&#39;)}&quot;\r\n\r\n ","title":"Thymeleaf strings.arraySplit is not working","body":"<p>The requirement is not entirely clear to me, however, I think I can see the syntactical error here. You do not need to add $ again for inner variable.</p>\n<blockquote>\n<p>th:each=&quot;item : ${#strings.arraySplit(insData, '@@@')}&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695715545,"creation_date":1695641067,"answer_id":77172213,"question_id":77153605,"body_markdown":"You have to use this line of code to make it work:\r\n\r\n- `${#strings.arraySplit(mapEntry.key, &#39;@@@&#39;)[0]}` - To get the value before `@@@`. \r\n\r\n- `${#strings.arraySplit(mapEntry.key, &#39;@@@&#39;)[1]}` - To get the value after `@@@`.\r\n\r\n**Controller Code for testing:**\r\n\r\n    @Controller\r\n    public class DemoController {\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public ModelAndView func() {\r\n            ModelAndView modelAndView = new ModelAndView();\r\n            Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;Master of Computer Application@@@500&quot;, &quot;316&quot;);\r\n            map.put(&quot;Bachelor of Computer Application@@@1000&quot;, &quot;11&quot;);\r\n            modelAndView.setViewName(&quot;index&quot;);\r\n            modelAndView.addObject(&quot;InsDashboardData&quot;, map);\r\n            return modelAndView;\r\n        }\r\n    } \r\n\r\n \r\n\r\n\r\n**Updated HTML:**\r\n\r\n    &lt;html xmlns:th=&quot;https://thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;style&gt;\r\n            table, th, td {\r\n               border: 1px solid;\r\n            }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;table&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Programme Name&lt;/th&gt;\r\n            &lt;th&gt;Intake Capacity&lt;/th&gt;\r\n            &lt;th&gt;Final Admission&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\r\n        &lt;tr th:each=&quot;mapEntry : ${map}&quot;&gt;\r\n            &lt;td th:text=&quot;${#strings.arraySplit(mapEntry.key, &#39;@@@&#39;)[0]}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${#strings.arraySplit(mapEntry.key, &#39;@@@&#39;)[1]}&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt;[[${mapEntry.value}]]&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/html&gt;\r\n\r\n**Output:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4muyh.png","title":"Thymeleaf strings.arraySplit is not working","body":"<p>You have to use this line of code to make it work:</p>\n<ul>\n<li><p><code>${#strings.arraySplit(mapEntry.key, '@@@')[0]}</code> - To get the value before <code>@@@</code>.</p>\n</li>\n<li><p><code>${#strings.arraySplit(mapEntry.key, '@@@')[1]}</code> - To get the value after <code>@@@</code>.</p>\n</li>\n</ul>\n<p><strong>Controller Code for testing:</strong></p>\n<pre><code>@Controller\npublic class DemoController {\n\n    @GetMapping(&quot;/&quot;)\n    public ModelAndView func() {\n        ModelAndView modelAndView = new ModelAndView();\n        Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;Master of Computer Application@@@500&quot;, &quot;316&quot;);\n        map.put(&quot;Bachelor of Computer Application@@@1000&quot;, &quot;11&quot;);\n        modelAndView.setViewName(&quot;index&quot;);\n        modelAndView.addObject(&quot;InsDashboardData&quot;, map);\n        return modelAndView;\n    }\n} \n</code></pre>\n<p><strong>Updated HTML:</strong></p>\n<pre><code>&lt;html xmlns:th=&quot;https://thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;style&gt;\n        table, th, td {\n           border: 1px solid;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Programme Name&lt;/th&gt;\n        &lt;th&gt;Intake Capacity&lt;/th&gt;\n        &lt;th&gt;Final Admission&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\n    &lt;tr th:each=&quot;mapEntry : ${map}&quot;&gt;\n        &lt;td th:text=&quot;${#strings.arraySplit(mapEntry.key, '@@@')[0]}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${#strings.arraySplit(mapEntry.key, '@@@')[1]}&quot;&gt;&lt;/td&gt;\n        &lt;td&gt;[[${mapEntry.value}]]&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4muyh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4muyh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695656395,"creation_date":1695656395,"answer_id":77174040,"question_id":77153605,"body_markdown":"Nesting variable expressions  like this: `${... ${...} ...}` is a syntax error.  Once you&#39;ve started a variable expression, there&#39;s no need to surround additional variables with `${...}` expressions.\r\n\r\nHere is an example of a working table:\r\n\r\n    &lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\r\n      &lt;tr th:each=&quot;entry : ${map}&quot;\r\n          th:with=&quot;pieces=${#strings.arraySplit(entry.key, &#39;@@@&#39;)}, programName=${pieces[0]}, intakeCapacity=${pieces[1]}, finalAdmission=${entry.value}&quot;&gt;\r\n        &lt;td th:text=&quot;${programName}&quot; /&gt;\r\n        &lt;td th:text=&quot;${intakeCapacity}&quot; /&gt;\r\n        &lt;td th:text=&quot;${finalAdmission}&quot; /&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/tbody&gt;","title":"Thymeleaf strings.arraySplit is not working","body":"<p>Nesting variable expressions  like this: <code>${... ${...} ...}</code> is a syntax error.  Once you've started a variable expression, there's no need to surround additional variables with <code>${...}</code> expressions.</p>\n<p>Here is an example of a working table:</p>\n<pre><code>&lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\n  &lt;tr th:each=&quot;entry : ${map}&quot;\n      th:with=&quot;pieces=${#strings.arraySplit(entry.key, '@@@')}, programName=${pieces[0]}, intakeCapacity=${pieces[1]}, finalAdmission=${entry.value}&quot;&gt;\n    &lt;td th:text=&quot;${programName}&quot; /&gt;\n    &lt;td th:text=&quot;${intakeCapacity}&quot; /&gt;\n    &lt;td th:text=&quot;${finalAdmission}&quot; /&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}],"owner":{"account_id":1984878,"reputation":79,"user_id":1780414,"accept_rate":14,"display_name":"Manoranjan Jena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77172213,"answer_count":3,"score":1,"last_activity_date":1695715545,"creation_date":1695329749,"question_id":77153605,"body_markdown":"I have a similar issue like this question:\r\n https://stackoverflow.com/questions/35669169/how-to-split-string-in-thymeleaf\r\n\r\nI am getting data by using the below code.\r\n\r\n    &lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\r\n\t   &lt;tr th:each=&quot;mapEntry : ${map}&quot;&gt;\r\n\t       &lt;td th:text=&quot;${mapEntry.key}&quot;&gt;&lt;/td&gt;\r\n\t       &lt;td&gt;&lt;/td&gt;\t\r\n\t       &lt;td&gt;[[${mapEntry.value}]]&lt;/td&gt;\t\r\n\t   &lt;/tr&gt;\t\t\t\t\t\t\t\t\r\n    &lt;/tbody&gt;\r\n\r\n[![enter image description here][2]][2]\t\r\n\t\r\n**Requirement:** I need to split the incoming data. For example: I want to split `Master of Computer Application@@@500` into `Master of Computer Application (MCA)` and `500` for respective table headers **Programme Name** and **Intake Capacity**. \r\n\r\nI have tried by updating the HTML code to this :\r\n\r\n  \r\n\r\n     &lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\r\n    \t&lt;tr th:each=&quot;mapEntry : ${map}&quot;&gt;\r\n    \t&lt;td th:with=&quot;insData=${mapEntry.key}&quot; th:each=&quot;item : ${#strings.arraySplit(${insData}, &#39;@@@&#39;)}&quot; th:text=&quot;${#strings.arraySplit(item,&#39;#&#39;)[0]}&quot;&gt;&lt;/td&gt;\t\t\t\t\t\t\t\t\t\t\t\r\n    \t&lt;td th:text=&quot;${#strings.arraySplit(item,&#39;#&#39;)[1]}&quot;&gt;&lt;/td&gt;\r\n    \t&lt;td&gt;[[${mapEntry.value}]]&lt;/td&gt;\t\r\n    \t&lt;/tr&gt;\t\t\t\t\t\t\t\t\r\n      &lt;/tbody&gt;\r\n\r\n\t\r\n\r\nBut I&#39;m getting the error given below:\r\n\r\n    Expression [#strings.arraySplit(${insData}, &#39;@@@&#39;)] @21: EL1043E: Unexpected token. Expected &#39;rparen())&#39; but was &#39;lcurly({)&#39;\r\n\r\n \r\nHow to resolve this issue?\r\n \t\r\n\r\n  [2]: https://i.stack.imgur.com/tnLq3.png","title":"Thymeleaf strings.arraySplit is not working","body":"<p>I have a similar issue like this question:\n<a href=\"https://stackoverflow.com/questions/35669169/how-to-split-string-in-thymeleaf\">How to split string in Thymeleaf</a></p>\n<p>I am getting data by using the below code.</p>\n<pre><code>&lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\n   &lt;tr th:each=&quot;mapEntry : ${map}&quot;&gt;\n       &lt;td th:text=&quot;${mapEntry.key}&quot;&gt;&lt;/td&gt;\n       &lt;td&gt;&lt;/td&gt;    \n       &lt;td&gt;[[${mapEntry.value}]]&lt;/td&gt;   \n   &lt;/tr&gt;                                \n&lt;/tbody&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tnLq3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tnLq3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Requirement:</strong> I need to split the incoming data. For example: I want to split <code>Master of Computer Application@@@500</code> into <code>Master of Computer Application (MCA)</code> and <code>500</code> for respective table headers <strong>Programme Name</strong> and <strong>Intake Capacity</strong>.</p>\n<p>I have tried by updating the HTML code to this :</p>\n<pre><code> &lt;tbody th:each=&quot;map : ${InsDashboardData}&quot;&gt;\n    &lt;tr th:each=&quot;mapEntry : ${map}&quot;&gt;\n    &lt;td th:with=&quot;insData=${mapEntry.key}&quot; th:each=&quot;item : ${#strings.arraySplit(${insData}, '@@@')}&quot; th:text=&quot;${#strings.arraySplit(item,'#')[0]}&quot;&gt;&lt;/td&gt;                                            \n    &lt;td th:text=&quot;${#strings.arraySplit(item,'#')[1]}&quot;&gt;&lt;/td&gt;\n    &lt;td&gt;[[${mapEntry.value}]]&lt;/td&gt;  \n    &lt;/tr&gt;                               \n  &lt;/tbody&gt;\n</code></pre>\n<p>But I'm getting the error given below:</p>\n<pre><code>Expression [#strings.arraySplit(${insData}, '@@@')] @21: EL1043E: Unexpected token. Expected 'rparen())' but was 'lcurly({)'\n</code></pre>\n<p>How to resolve this issue?</p>\n"},{"tags":["java","kotlin","apache-kafka","kafka-producer-api","kafka-transactions-api"],"answers":[{"tags":[],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695715286,"creation_date":1695715286,"answer_id":77178069,"question_id":77169075,"body_markdown":"If you expect your transactions to timeout, you would need to handle `ProducerFencedException`. The producer cannot by itself know that it has expired and the exception occurs when it tries to commit the ongoing transaction. You could handle the exception in your code - initialise a new producer object and retry with the new producer.\r\n\r\n\r\nThat being said, if you have configured your settings correctly - this should be a very rare case scenario. You could reference [this][1] thread to see various configuration options.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53058715/what-is-reason-for-getting-producerfencedexception-during-producer-send","title":"Transactional KafkaProducer recover from timeout","body":"<p>If you expect your transactions to timeout, you would need to handle <code>ProducerFencedException</code>. The producer cannot by itself know that it has expired and the exception occurs when it tries to commit the ongoing transaction. You could handle the exception in your code - initialise a new producer object and retry with the new producer.</p>\n<p>That being said, if you have configured your settings correctly - this should be a very rare case scenario. You could reference <a href=\"https://stackoverflow.com/questions/53058715/what-is-reason-for-getting-producerfencedexception-during-producer-send\">this</a> thread to see various configuration options.</p>\n"}],"owner":{"account_id":74360,"reputation":3280,"user_id":213717,"accept_rate":94,"display_name":"marionmaiden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695715286,"creation_date":1695592316,"question_id":77169075,"body_markdown":"I am testing a Kotlin KafkaProducer application using Transactions and the possible scenarios:\r\n\r\n- **Happy path: (working fine)**\r\n  - begin transaction \r\n  - producer.send \r\n  - commit transaction \r\n  - Assert consume.poll has a message\r\n\r\n- **Exception on producer: (also working fine)** \r\n  - begin transaction \r\n  - producer.send\r\n  - Throw RuntimeException\r\n  - Abort transaction \r\n  - Assert consume.poll has no messages\r\n\r\n- **Timeout on producer: (Throws a ProducerFencedException)**\r\n  - begin transaction\r\n  - producer.send\r\n  - Thread.Sleep (to let the transaction producer timeout)\r\n  - Assert consume.poll has no messages (everything after this throws a ProducerFencedException)\r\n\r\n\r\nI know the org.apache.kafka.common.errors.ProducerFencedException is thrown when the client is using a producer with an old Epoch (Zombie producer as said in Kafka literature). But my question is: how do I recover from a Timeout in a transactional producer? I am wondering if there is a way to let my producer to know that this producer is not valid and should be reset.\r\n\r\nThanks.\r\n\r\n\r\nHere is my code (I omitted the successful cases)\r\n\r\n- Main.kt\r\n```Java\r\nval producer = Producer()\r\n\r\nfun main() {\r\n    happyPath()\r\n    timeoutTestSync()\r\n    happyPath()\r\n}\r\n\r\nfun happyPath() {\r\n    val consumer = Consumer()\r\n\r\n    assert(consumer.readClean().isEmpty)\r\n    assert(consumer.readDirty().isEmpty)\r\n\r\n    producer.produceInTransaction(&quot;test${RandomStringUtils.randomAlphanumeric(1)}&quot;, false, false)\r\n\r\n    assert(consumer.readClean().count() == 1)\r\n}\r\n\r\nfun timeoutTestSync() {\r\n    val consumer = Consumer()\r\n\r\n    assert(consumer.readClean().isEmpty)\r\n    assert(consumer.readDirty().isEmpty)\r\n\r\n    producer.produceInTransaction(&quot;test${RandomStringUtils.randomAlphanumeric(1)}&quot;, true, false)\r\n\r\n    assert(consumer.readDirty().isEmpty)\r\n    assert(consumer.readClean().isEmpty)\r\n}\r\n```\r\n\r\n- Consumer.kt\r\n```\r\nprivate const val INPUT_TOPIC = &quot;output&quot;\r\n\r\nclass Consumer {\r\n\r\n    private val consumer: KafkaConsumer&lt;String, String&gt; = createKafkaConsumer(false)\r\n    private val dirtConsumer: KafkaConsumer&lt;String, String&gt; = createKafkaConsumer(true)\r\n\r\n    private fun createKafkaConsumer(dirtRead:Boolean): KafkaConsumer&lt;String, String&gt; {\r\n        val props:MutableMap&lt;String, Any&gt; = HashMap()\r\n\r\n        props[ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9099&quot;\r\n        props[ConsumerConfig.CLIENT_ID_CONFIG] = &quot;client-${RandomStringUtils.randomAlphanumeric(3)}&quot;\r\n        props[ConsumerConfig.GROUP_ID_CONFIG] = &quot;group-${RandomStringUtils.randomAlphanumeric(3)}&quot;\r\n        props[ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG] = StringDeserializer::class.java\r\n        props[ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG] = StringDeserializer::class.java\r\n        props[ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG] = true\r\n        props[ConsumerConfig.AUTO_OFFSET_RESET_CONFIG] = &quot;latest&quot;\r\n        if (dirtRead)\r\n            props[ConsumerConfig.ISOLATION_LEVEL_CONFIG] = &quot;read_uncommitted&quot;\r\n        else\r\n            props[ConsumerConfig.ISOLATION_LEVEL_CONFIG] = &quot;read_committed&quot;\r\n\r\n        val consumer:KafkaConsumer&lt;String, String&gt; = KafkaConsumer&lt;String, String&gt;(props)\r\n        consumer.subscribe(Collections.singletonList(INPUT_TOPIC))\r\n\r\n        return consumer\r\n    }\r\n\r\n    fun readClean(): ConsumerRecords&lt;String, String&gt; {\r\n\r\n        var records: ConsumerRecords&lt;String, String&gt; = consumer.poll(Duration.ofMillis(10000))\r\n\r\n        return records\r\n    }\r\n\r\n    fun readDirty(): ConsumerRecords&lt;String, String&gt; {\r\n\r\n        var records: ConsumerRecords&lt;String, String&gt; = dirtConsumer.poll(Duration.ofMillis(10000))\r\n\r\n        return records\r\n    }\r\n}\r\n```\r\n\r\n- Producer.kt\r\n\r\n```\r\nprivate const val OUTPUT_TOPIC = &quot;output&quot;\r\n\r\nclass Producer {\r\n    private val producer: KafkaProducer&lt;String, String&gt; = createKafkaProducer()\r\n\r\n    private fun createKafkaProducer(): KafkaProducer&lt;String, String&gt; {\r\n        val props = Properties()\r\n        props[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9099&quot;\r\n        props[ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG] = &quot;true&quot;\r\n        props[ProducerConfig.TRANSACTION_TIMEOUT_CONFIG] = 5000\r\n        props[ProducerConfig.TRANSACTIONAL_ID_CONFIG] = &quot;prod-${RandomStringUtils.randomAlphanumeric(3)}-&quot;\r\n        props[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = &quot;org.apache.kafka.common.serialization.StringSerializer&quot;\r\n        props[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = &quot;org.apache.kafka.common.serialization.StringSerializer&quot;\r\n        val producerOut:KafkaProducer&lt;String,String&gt; = KafkaProducer(props)\r\n        producerOut.initTransactions()\r\n        return producerOut\r\n    }\r\n\r\n\r\n    fun produceInTransaction(message:String, delay:Boolean, exception:Boolean) {\r\n        try {\r\n            producer.beginTransaction()\r\n\r\n            val x = producer.send(ProducerRecord&lt;String, String&gt;(OUTPUT_TOPIC, &quot;1&quot;, message))\r\n\r\n            when {\r\n                delay -&gt; {\r\n                    Thread.sleep(10000)\r\n                }\r\n                exception -&gt; {\r\n                    throw RuntimeException(&quot;Simulated exception&quot;)\r\n                }\r\n            }\r\n\r\n            producer.commitTransaction()\r\n        }\r\n        catch (e:RuntimeException) {\r\n            producer.abortTransaction()\r\n            println(&quot;Exception in transaction: ${e}&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"Transactional KafkaProducer recover from timeout","body":"<p>I am testing a Kotlin KafkaProducer application using Transactions and the possible scenarios:</p>\n<ul>\n<li><p><strong>Happy path: (working fine)</strong></p>\n<ul>\n<li>begin transaction</li>\n<li>producer.send</li>\n<li>commit transaction</li>\n<li>Assert consume.poll has a message</li>\n</ul>\n</li>\n<li><p><strong>Exception on producer: (also working fine)</strong></p>\n<ul>\n<li>begin transaction</li>\n<li>producer.send</li>\n<li>Throw RuntimeException</li>\n<li>Abort transaction</li>\n<li>Assert consume.poll has no messages</li>\n</ul>\n</li>\n<li><p><strong>Timeout on producer: (Throws a ProducerFencedException)</strong></p>\n<ul>\n<li>begin transaction</li>\n<li>producer.send</li>\n<li>Thread.Sleep (to let the transaction producer timeout)</li>\n<li>Assert consume.poll has no messages (everything after this throws a ProducerFencedException)</li>\n</ul>\n</li>\n</ul>\n<p>I know the org.apache.kafka.common.errors.ProducerFencedException is thrown when the client is using a producer with an old Epoch (Zombie producer as said in Kafka literature). But my question is: how do I recover from a Timeout in a transactional producer? I am wondering if there is a way to let my producer to know that this producer is not valid and should be reset.</p>\n<p>Thanks.</p>\n<p>Here is my code (I omitted the successful cases)</p>\n<ul>\n<li>Main.kt</li>\n</ul>\n<pre><code>val producer = Producer()\n\nfun main() {\n    happyPath()\n    timeoutTestSync()\n    happyPath()\n}\n\nfun happyPath() {\n    val consumer = Consumer()\n\n    assert(consumer.readClean().isEmpty)\n    assert(consumer.readDirty().isEmpty)\n\n    producer.produceInTransaction(&quot;test${RandomStringUtils.randomAlphanumeric(1)}&quot;, false, false)\n\n    assert(consumer.readClean().count() == 1)\n}\n\nfun timeoutTestSync() {\n    val consumer = Consumer()\n\n    assert(consumer.readClean().isEmpty)\n    assert(consumer.readDirty().isEmpty)\n\n    producer.produceInTransaction(&quot;test${RandomStringUtils.randomAlphanumeric(1)}&quot;, true, false)\n\n    assert(consumer.readDirty().isEmpty)\n    assert(consumer.readClean().isEmpty)\n}\n</code></pre>\n<ul>\n<li>Consumer.kt</li>\n</ul>\n<pre><code>private const val INPUT_TOPIC = &quot;output&quot;\n\nclass Consumer {\n\n    private val consumer: KafkaConsumer&lt;String, String&gt; = createKafkaConsumer(false)\n    private val dirtConsumer: KafkaConsumer&lt;String, String&gt; = createKafkaConsumer(true)\n\n    private fun createKafkaConsumer(dirtRead:Boolean): KafkaConsumer&lt;String, String&gt; {\n        val props:MutableMap&lt;String, Any&gt; = HashMap()\n\n        props[ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9099&quot;\n        props[ConsumerConfig.CLIENT_ID_CONFIG] = &quot;client-${RandomStringUtils.randomAlphanumeric(3)}&quot;\n        props[ConsumerConfig.GROUP_ID_CONFIG] = &quot;group-${RandomStringUtils.randomAlphanumeric(3)}&quot;\n        props[ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG] = StringDeserializer::class.java\n        props[ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG] = StringDeserializer::class.java\n        props[ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG] = true\n        props[ConsumerConfig.AUTO_OFFSET_RESET_CONFIG] = &quot;latest&quot;\n        if (dirtRead)\n            props[ConsumerConfig.ISOLATION_LEVEL_CONFIG] = &quot;read_uncommitted&quot;\n        else\n            props[ConsumerConfig.ISOLATION_LEVEL_CONFIG] = &quot;read_committed&quot;\n\n        val consumer:KafkaConsumer&lt;String, String&gt; = KafkaConsumer&lt;String, String&gt;(props)\n        consumer.subscribe(Collections.singletonList(INPUT_TOPIC))\n\n        return consumer\n    }\n\n    fun readClean(): ConsumerRecords&lt;String, String&gt; {\n\n        var records: ConsumerRecords&lt;String, String&gt; = consumer.poll(Duration.ofMillis(10000))\n\n        return records\n    }\n\n    fun readDirty(): ConsumerRecords&lt;String, String&gt; {\n\n        var records: ConsumerRecords&lt;String, String&gt; = dirtConsumer.poll(Duration.ofMillis(10000))\n\n        return records\n    }\n}\n</code></pre>\n<ul>\n<li>Producer.kt</li>\n</ul>\n<pre><code>private const val OUTPUT_TOPIC = &quot;output&quot;\n\nclass Producer {\n    private val producer: KafkaProducer&lt;String, String&gt; = createKafkaProducer()\n\n    private fun createKafkaProducer(): KafkaProducer&lt;String, String&gt; {\n        val props = Properties()\n        props[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9099&quot;\n        props[ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG] = &quot;true&quot;\n        props[ProducerConfig.TRANSACTION_TIMEOUT_CONFIG] = 5000\n        props[ProducerConfig.TRANSACTIONAL_ID_CONFIG] = &quot;prod-${RandomStringUtils.randomAlphanumeric(3)}-&quot;\n        props[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = &quot;org.apache.kafka.common.serialization.StringSerializer&quot;\n        props[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = &quot;org.apache.kafka.common.serialization.StringSerializer&quot;\n        val producerOut:KafkaProducer&lt;String,String&gt; = KafkaProducer(props)\n        producerOut.initTransactions()\n        return producerOut\n    }\n\n\n    fun produceInTransaction(message:String, delay:Boolean, exception:Boolean) {\n        try {\n            producer.beginTransaction()\n\n            val x = producer.send(ProducerRecord&lt;String, String&gt;(OUTPUT_TOPIC, &quot;1&quot;, message))\n\n            when {\n                delay -&gt; {\n                    Thread.sleep(10000)\n                }\n                exception -&gt; {\n                    throw RuntimeException(&quot;Simulated exception&quot;)\n                }\n            }\n\n            producer.commitTransaction()\n        }\n        catch (e:RuntimeException) {\n            producer.abortTransaction()\n            println(&quot;Exception in transaction: ${e}&quot;)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","slf4j","logback-classic"],"owner":{"account_id":205579,"reputation":63,"user_id":1652309,"display_name":"eddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695714844,"creation_date":1695714844,"question_id":77178025,"body_markdown":"We have an application written in Java and logging to logback-classic with slf4j. One of our customers has requested to also log to Windows Event Viewer. So, what I am looking for is an Appender for logback-classic that works with Microsoft Event Viewer. I thought these would be fairly simple to find, but it is not. The only thing I have found so far is a [log4j2 Appender][1]. We could use log4j2 with slf4j, but log4j2 has security issues as far as I know. If you know of a logback-classic Appender or an other way to get our logging into Microsoft Event Viewer, please let me know.\r\n\r\n  [1]: https://stackoverflow.com/questions/47431378/windows-event-logging-with-log4j2-configuration-for-32-and-64-bit-windows","title":"Logback-classic Appender for Microsoft Event Viewer","body":"<p>We have an application written in Java and logging to logback-classic with slf4j. One of our customers has requested to also log to Windows Event Viewer. So, what I am looking for is an Appender for logback-classic that works with Microsoft Event Viewer. I thought these would be fairly simple to find, but it is not. The only thing I have found so far is a <a href=\"https://stackoverflow.com/questions/47431378/windows-event-logging-with-log4j2-configuration-for-32-and-64-bit-windows\">log4j2 Appender</a>. We could use log4j2 with slf4j, but log4j2 has security issues as far as I know. If you know of a logback-classic Appender or an other way to get our logging into Microsoft Event Viewer, please let me know.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-grid"],"answers":[{"tags":[],"owner":{"account_id":29406979,"reputation":131,"user_id":22531817,"display_name":"Luca Micarelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695714796,"creation_date":1695714796,"answer_id":77178021,"question_id":77177966,"body_markdown":"Check the compatibility of Selenium Grid, Selenium WebDriver and browser driver versions.\r\n\r\nMake sure the environmental paths for your browser drivers are configured correctly.\r\n\r\nCheck that browser drivers are installed and that browser versions are compatible with the drivers.","title":"I can&#39;t able to create a node in my local machine","body":"<p>Check the compatibility of Selenium Grid, Selenium WebDriver and browser driver versions.</p>\n<p>Make sure the environmental paths for your browser drivers are configured correctly.</p>\n<p>Check that browser drivers are installed and that browser versions are compatible with the drivers.</p>\n"}],"owner":{"account_id":22623910,"reputation":5,"user_id":16802243,"display_name":"vivek.raji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695714796,"creation_date":1695714424,"question_id":77177966,"body_markdown":"I am using selenium grid concept to execute my developed scripts on my own machine.\r\nI have downloaded the latest version of the selenium grid which is 4.12.1V.\r\nI have created a hub on my machine itself and trying to create a node on my same machine,\r\nbut i have getting some error while creating a node\r\n\r\ni have set all the drivers(chrome, firefox, MSedge and IE) on the environmental variables path and trying to access the driver but stucked on this [enter image description here](https://i.stack.imgur.com/BtmQH.png)","title":"I can&#39;t able to create a node in my local machine","body":"<p>I am using selenium grid concept to execute my developed scripts on my own machine.\nI have downloaded the latest version of the selenium grid which is 4.12.1V.\nI have created a hub on my machine itself and trying to create a node on my same machine,\nbut i have getting some error while creating a node</p>\n<p>i have set all the drivers(chrome, firefox, MSedge and IE) on the environmental variables path and trying to access the driver but stucked on this <a href=\"https://i.stack.imgur.com/BtmQH.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693113650,"post_id":76985801,"comment_id":135715804,"body_markdown":"So your loop from 1 to 34 needs to reset to 0 when it hits 25.","body":"So your loop from 1 to 34 needs to reset to 0 when it hits 25."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1693154804,"post_id":76985801,"comment_id":135719663,"body_markdown":"I have to wonder why this is needed. I see something like that, I and I wonder if there is a flaw in the thinking.  I, and some other programmers, believe changing the value of the index within the block controlled by the for loop is a poor practice. In addition, in a case like this, it risks creating an infinite loop.","body":"I have to wonder why this is needed. I see something like that, I and I wonder if there is a flaw in the thinking.  I, and some other programmers, believe changing the value of the index within the block controlled by the for loop is a poor practice. In addition, in a case like this, it risks creating an infinite loop."}],"answers":[{"comments":[{"owner":{"account_id":27524608,"reputation":18,"user_id":22274496,"display_name":"HarshNJ"},"score":3,"creation_date":1693114208,"post_id":76985823,"comment_id":135715830,"body_markdown":"But if you really want to reset back to 1, why do you have conditioned it as `i &lt; 35`? Plus this will make the loop infinite since you don&#39;t have any breaking condition","body":"But if you really want to reset back to 1, why do you have conditioned it as <code>i &lt; 35</code>? Plus this will make the loop infinite since you don&#39;t have any breaking condition"},{"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"score":0,"creation_date":1693117001,"post_id":76985823,"comment_id":135716021,"body_markdown":"the above is just an example. I will not make it an infinite loop","body":"the above is just an example. I will not make it an infinite loop"}],"tags":[],"owner":{"account_id":27524608,"reputation":18,"user_id":22274496,"display_name":"HarshNJ"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693114197,"creation_date":1693114197,"answer_id":76985823,"question_id":76985801,"body_markdown":"You can just set i to 1 when i equals 25 in the loop body to reset the loop variable back to 1. Just be sure to do this *before* doing anything else, since it seems like you don&#39;t want to touch 25\r\n\r\n```java\r\nfor ( var i = 1; i &lt; 35; i++)\r\n{\r\n    if (i == 25)\r\n    {\r\n        i = 0;\r\n    }\r\n    \r\n    // Rest of the loop code\r\n}\r\n```","title":"For loop java - When int hit certain value, reset int back to 1","body":"<p>You can just set i to 1 when i equals 25 in the loop body to reset the loop variable back to 1. Just be sure to do this <em>before</em> doing anything else, since it seems like you don't want to touch 25</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( var i = 1; i &lt; 35; i++)\n{\n    if (i == 25)\n    {\n        i = 0;\n    }\n    \n    // Rest of the loop code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693128804,"creation_date":1693114436,"answer_id":76985829,"question_id":76985801,"body_markdown":"    for (var j = 0; j &lt; 34; ++j) {\r\n        var i = 1 + (j % 25); // or 24\r\n    }\r\n\r\n`%` is the modulo operator, remainder by integer division.\r\n\r\nDepending whether you want 25 to be shown or not, adapt the number.","title":"For loop java - When int hit certain value, reset int back to 1","body":"<pre><code>for (var j = 0; j &lt; 34; ++j) {\n    var i = 1 + (j % 25); // or 24\n}\n</code></pre>\n<p><code>%</code> is the modulo operator, remainder by integer division.</p>\n<p>Depending whether you want 25 to be shown or not, adapt the number.</p>\n"}],"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1693119473,"answer_count":2,"score":-2,"last_activity_date":1695714085,"creation_date":1693113487,"question_id":76985801,"body_markdown":"For a certain application I need the interger in For loop counter to reset back to 1 when it hit a value of 25.\r\n\r\n    for ( var i = 1; i &lt; 35; i++)\r\n\r\nHow I can set a condition to set the counter back to 1 when it hit 25 ?\r\n","title":"For loop java - When int hit certain value, reset int back to 1","body":"<p>For a certain application I need the interger in For loop counter to reset back to 1 when it hit a value of 25.</p>\n<pre><code>for ( var i = 1; i &lt; 35; i++)\n</code></pre>\n<p>How I can set a condition to set the counter back to 1 when it hit 25 ?</p>\n"},{"tags":["java","android","abstractmethoderror"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1695713217,"post_id":77177781,"comment_id":136057470,"body_markdown":"You have a version mismatch between the dependencies that provide `AppiumServiceBuilder` and `AppiumServiceBuilder`.  Check your dependencies.","body":"You have a version mismatch between the dependencies that provide <code>AppiumServiceBuilder</code> and <code>AppiumServiceBuilder</code>.  Check your dependencies."}],"owner":{"account_id":29536192,"reputation":1,"user_id":22635756,"display_name":"Saikrishna Mada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695713832,"creation_date":1695712849,"question_id":77177781,"body_markdown":"I am making a Java program that uses Appium. I get an error when I run my code. My code:\r\n~~~\r\npublic class Base {\r\n\r\n\tpublic AndroidDriver driver;\r\n\tpublic AppiumDriverLocalService service;\r\n\r\n\t@Test\r\n\tpublic void configureAppium() throws Exception {\r\n\r\n\t\tservice = new AppiumServiceBuilder()\r\n\t\t\t\t.withAppiumJS(new File(\r\n\t\t\t\t\t\t&quot;C:\\\\Users\\\\Sai Mada\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\r\n\t\t\t\t.withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).withTimeout(Duration.ofSeconds(300)).build();\r\n\r\n\t\tservice.start();\r\n\r\n\t\tUiAutomator2Options options = new UiAutomator2Options();\r\n\t\toptions.setDeviceName(&quot;My Demo&quot;);\r\n\t\toptions.setApp(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\test\\\\java\\\\resources\\\\ApiDemos-debug.apk&quot;);\r\n\r\n\t\tdriver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;), options);\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(13));\r\n\t\tdriver.quit();\r\n\t\tservice.stop();\r\n\r\n\t}\r\n\r\n}\r\n~~~\r\n\r\nWhen I run my code, I get the following error:\r\n~~~\r\nAppium_Demo.Appium_Demo.Base.configureAppium\r\njava.lang.AbstractMethodError: Receiver class io.appium.java_client.service.local.AppiumServiceBuilder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:491)\r\n\tat Appium_Demo.Appium_Demo.Base.configureAppium(Base.java:25)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:829)\r\n\tat org.testng.TestRunner.run(TestRunner.java:602)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n~~~\r\n\r\nI know that error is thrown by Appium. I have tried to solve it in vain. Any solutions or help is welcome. Thanks","title":"Getting java.lang.AbstractMethodError on running my code","body":"<p>I am making a Java program that uses Appium. I get an error when I run my code. My code:</p>\n<pre><code>public class Base {\n\n    public AndroidDriver driver;\n    public AppiumDriverLocalService service;\n\n    @Test\n    public void configureAppium() throws Exception {\n\n        service = new AppiumServiceBuilder()\n                .withAppiumJS(new File(\n                        &quot;C:\\\\Users\\\\Sai Mada\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\n                .withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).withTimeout(Duration.ofSeconds(300)).build();\n\n        service.start();\n\n        UiAutomator2Options options = new UiAutomator2Options();\n        options.setDeviceName(&quot;My Demo&quot;);\n        options.setApp(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\test\\\\java\\\\resources\\\\ApiDemos-debug.apk&quot;);\n\n        driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;), options);\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(13));\n        driver.quit();\n        service.stop();\n\n    }\n\n}\n</code></pre>\n<p>When I run my code, I get the following error:</p>\n<pre><code>Appium_Demo.Appium_Demo.Base.configureAppium\njava.lang.AbstractMethodError: Receiver class io.appium.java_client.service.local.AppiumServiceBuilder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:491)\n    at Appium_Demo.Appium_Demo.Base.configureAppium(Base.java:25)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\n    at org.testng.TestRunner.run(TestRunner.java:602)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<p>I know that error is thrown by Appium. I have tried to solve it in vain. Any solutions or help is welcome. Thanks</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695683929,"post_id":77176175,"comment_id":136054495,"body_markdown":"You would need an array of `ReentrantLock`s equal in size to `cells`.","body":"You would need an array of <code>ReentrantLock</code>s equal in size to <code>cells</code>."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695684097,"post_id":77176175,"comment_id":136054519,"body_markdown":"I figured that but using one reetrantlock looks already compilcated, now array of that?https://www.geeksforgeeks.org/reentrant-lock-java/","body":"I figured that but using one reetrantlock looks already compilcated, now array of that?<a href=\"https://www.geeksforgeeks.org/reentrant-lock-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/reentrant-lock-java</a>"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695684183,"post_id":77176175,"comment_id":136054522,"body_markdown":"As Louis already said, you need a `ReentrantLock` for each cell – what makes the whole thing unnecessary large. If you really have concurrency on each and every cell, you should stuck with the `synchronized` approach.","body":"As Louis already said, you need a <code>ReentrantLock</code> for each cell – what makes the whole thing unnecessary large. If you really have concurrency on each and every cell, you should stuck with the <code>synchronized</code> approach."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":1,"creation_date":1695684270,"post_id":77176175,"comment_id":136054530,"body_markdown":"But for Virtual Thread, i need to migrate, or try to find another implementation with structuredscope which will only make things more complicated.","body":"But for Virtual Thread, i need to migrate, or try to find another implementation with structuredscope which will only make things more complicated."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1695684434,"post_id":77176175,"comment_id":136054541,"body_markdown":"Can each cell own a lock and lock itself in the update method? Do you really need to lock each cell independently or can you lock the whole image? It’s very hard to answer this question in a useful way without more context.","body":"Can each cell own a lock and lock itself in the update method? Do you really need to lock each cell independently or can you lock the whole image? It’s very hard to answer this question in a useful way without more context."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695684691,"post_id":77176175,"comment_id":136054567,"body_markdown":"I found the original code. it is used to write image to stream, please see TileManager @ https://sourceforge.net/projects/ajaxvnc/files/latest/download","body":"I found the original code. it is used to write image to stream, please see TileManager @ <a href=\"https://sourceforge.net/projects/ajaxvnc/files/latest/download\" rel=\"nofollow noreferrer\">sourceforge.net/projects/ajaxvnc/files/latest/download</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1695685188,"post_id":77176175,"comment_id":136054608,"body_markdown":"Please include the definition of the `ControllerInput` class and the class of the elements of the `cells` array.","body":"Please include the definition of the <code>ControllerInput</code> class and the class of the elements of the <code>cells</code> array."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695685642,"post_id":77176175,"comment_id":136054652,"body_markdown":"@Tim Moore As my project is not complete, I added the original code as is, removing only unrelated functions like getters.","body":"@Tim Moore As my project is not complete, I added the original code as is, removing only unrelated functions like getters."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1695688286,"post_id":77176175,"comment_id":136054880,"body_markdown":"Why do you protect `cells[i][j].update(subimage);` with `sychronized` but not protect the assignment `cells[i][j] = new ObjectCell(jpeg_quality);`?","body":"Why do you protect <code>cells[i][j].update(subimage);</code> with <code>sychronized</code> but not protect the assignment <code>cells[i][j] = new ObjectCell(jpeg_quality);</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1695695518,"post_id":77176175,"comment_id":136055454,"body_markdown":"@TugalsanKarabacak I don&#39;t really understand this synchronization in the first place. Given you&#39;re synchronizing on the elements of the array, not the array itself or some other lock guarding the array, why don&#39;t you have `ObjectCell` and `Tile` being responsible for their own thread-safety?","body":"@TugalsanKarabacak I don&#39;t really understand this synchronization in the first place. Given you&#39;re synchronizing on the elements of the array, not the array itself or some other lock guarding the array, why don&#39;t you have <code>ObjectCell</code> and <code>Tile</code> being responsible for their own thread-safety?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695893263,"post_id":77176175,"comment_id":136085664,"body_markdown":"This synchronization is completely broken anyway. Your loop performs the assignment `cells[i][j] = new ObjectCell(jpeg_quality);` without any synchronization, followed by `synchronized (cells[i][j])` which means, it uses an unpredictable object in case of multiple threads. But for a correct synchronization, all threads must synchronize on the same object. However, there are no multiple threads. This code clearly processes the entire array sequentially, so why do you bother trying to synchronize here?","body":"This synchronization is completely broken anyway. Your loop performs the assignment <code>cells[i][j] = new ObjectCell(jpeg_quality);</code> without any synchronization, followed by <code>synchronized (cells[i][j])</code> which means, it uses an unpredictable object in case of multiple threads. But for a correct synchronization, all threads must synchronize on the same object. However, there are no multiple threads. This code clearly processes the entire array sequentially, so why do you bother trying to synchronize here?"}],"answers":[{"comments":[{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695709808,"post_id":77176334,"comment_id":136056797,"body_markdown":"In your example, how Java knows which lock is responsible for which cell? Should not we put them inside an object first and make array of them?","body":"In your example, how Java knows which lock is responsible for which cell? Should not we put them inside an object first and make array of them?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695711156,"post_id":77176334,"comment_id":136057059,"body_markdown":"@TugalsanKarabacak ??? That’s exactly what I showed in this Answer: Make an array and populate with `ReentrantLock` objects. Use the same `[i][j]` to access both arrays, the cells array and the locks array.","body":"@TugalsanKarabacak ??? That’s exactly what I showed in this Answer: Make an array and populate with <code>ReentrantLock</code> objects. Use the same <code>[i][j]</code> to access both arrays, the cells array and the locks array."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1695740462,"post_id":77176334,"comment_id":136063279,"body_markdown":"I understand now, lock is not about locking a class or function, but only code inside the try scope.","body":"I understand now, lock is not about locking a class or function, but only code inside the try scope."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695713783,"creation_date":1695687005,"answer_id":77176334,"question_id":77176175,"body_markdown":"If you can modify the source code of your `ObjectCell` class, see the [Answer by Tim Moore][1]. If not, read on. \r\n\r\nIf you must protect each cell/tile individually rather than in a group, the solution seems obvious: \r\n\r\n&#128073;&#127997; When you populate `ObjectCell[][] cells`, you also populate a parallel `ReentrantLock[][] locks`. \r\n\r\n```java\r\nif (cells[i][j] == null) {\r\n    cells[i][j] = new ObjectCell(jpeg_quality);\r\n    locks[i][j] = new ReentrantLock();\r\n}\r\n```\r\n\r\nYour code:\r\n\r\n```java\r\nsynchronized (cells[i][j]) \r\n{\r\n    cells[i][j].update(subimage);\r\n}\r\n```\r\n\r\n… becomes:\r\n\r\n```java\r\nlocks[i][j].lock();\r\ntry\r\n{\r\n    cells[i][j].update(subimage);\r\n}\r\nfinally\r\n{\r\n    locks[i][j].unlock();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77176727/642706","title":"How to migrate from synchronized to ReentrantLock on Java for looping arrays","body":"<p>If you can modify the source code of your <code>ObjectCell</code> class, see the <a href=\"https://stackoverflow.com/a/77176727/642706\">Answer by Tim Moore</a>. If not, read on.</p>\n<p>If you must protect each cell/tile individually rather than in a group, the solution seems obvious:</p>\n<p>👉🏽 When you populate <code>ObjectCell[][] cells</code>, you also populate a parallel <code>ReentrantLock[][] locks</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (cells[i][j] == null) {\n    cells[i][j] = new ObjectCell(jpeg_quality);\n    locks[i][j] = new ReentrantLock();\n}\n</code></pre>\n<p>Your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (cells[i][j]) \n{\n    cells[i][j].update(subimage);\n}\n</code></pre>\n<p>… becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>locks[i][j].lock();\ntry\n{\n    cells[i][j].update(subimage);\n}\nfinally\n{\n    locks[i][j].unlock();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1695696006,"creation_date":1695696006,"answer_id":77176727,"question_id":77176175,"body_markdown":"The most straightforward way to convert code from `synchronized` to `ReentrantLock`, if you can modify the class being locked, is to add a `ReentrantLock` member to the object that was previously `synchronized`. To simplify the example, given a `Tile` class like this:\r\n\r\n```java\r\npublic class Tile {\r\n    public void update() {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nand a usage of it like this:\r\n\r\n```java\r\nsynchronized (tile) {\r\n    tile.update();\r\n}\r\n```\r\n\r\nIt can be modified this way:\r\n\r\n```java\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class Tile {\r\n    public final Lock lock = new ReentrantLock();\r\n\r\n    public void update() {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nand used like this:\r\n\r\n```java\r\ntile.lock.lock();\r\ntry {\r\n    tile.update();\r\n} finally {\r\n    tile.lock.unlock();\r\n}\r\n```\r\n\r\nIf the `Tile` class cannot be modified, you can either keep a parallel array of `ReentrantLock` instances, or refactor to wrap the `Tile` and `ReentrantLock` together in another class.\r\n\r\nThere are some other things you might want to consider for your use case.\r\n\r\n# Avoiding client-side locking\r\n\r\nThis pattern of the code accessing an object acquiring a lock on it is sometimes known as _client-side locking_, because it is the client of the locked object that is responsible for acquiring the lock, rather than the locked object itself. This practice is often [discouraged](https://wiki.sei.cmu.edu/confluence/display/java/LCK11-J.+Avoid+client-side+locking+when+using+classes+that+do+not+commit+to+their+locking+strategy) due to a major drawback: it relies on _all_ usages of the object to correctly and consistently implement the locking strategy. This makes it very hard to reason about the thread-safety of the class, as it can only be understood by considering every use of the class throughout the code. As an example of how this can cause a problem: if the code is updated from `synchronized` to using `ReentrantLock` in one place, but not in others, then the mutual exclusion property will be broken.\r\n\r\nAs an alternative, the `Tile` class could take responsibility for locking itself, documenting its thread-safety guarantees in terms of its properties, rather than its implementation:\r\n\r\n```java\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class Tile {\r\n    private final Lock lock = new ReentrantLock();\r\n\r\n    public void update() {\r\n        lock.lock();\r\n        try {\r\n            // ...\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt can then be used in a more straightforward way:\r\n\r\n```java\r\ntile.update(); // no need to lock here\r\n```\r\n\r\nThis is a simplified example, and in the real `Tile` class, other methods would also need to be modified to acquire the lock as needed.\r\n\r\n# Fine-grained vs. coarse-grained locking\r\n\r\nIn the case of a composite object, where one object (in this case, `TileManager`) contains a collection of internal objects that are completely encapsulated and not exposed to other classes (in this case, `Tile`), there&#39;s a choice to make when operating concurrently on the internal collection: you can either lock each item in the collection independently (fine-grained locking), or you can lock the entire collection (coarse-grained locking). These have tradeoffs, and the best option depends on the specific use case. Fine-grained locking, as in this example, allows multiple threads to concurrently access different parts of the collection, which helps to avoid a long-running process preventing other threads from accessing elements that it isn&#39;t currently affecting. The main drawback to be aware of is the risk of deadlock if there is a thread that needs to lock multiple elements at the same time. There is also the potential for different behaviour when there is high contention. The `processImage` method could become blocked several times, waiting to acquire locks on individual tiles. It might be more desirable to allow it to acquire a single coarse-grained lock and complete the iteration of `tiles` without the risk of further blocking. This really depends on the specifics of the application, and must be considered with the context of the other uses of the data.","title":"How to migrate from synchronized to ReentrantLock on Java for looping arrays","body":"<p>The most straightforward way to convert code from <code>synchronized</code> to <code>ReentrantLock</code>, if you can modify the class being locked, is to add a <code>ReentrantLock</code> member to the object that was previously <code>synchronized</code>. To simplify the example, given a <code>Tile</code> class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tile {\n    public void update() {\n        // ...\n    }\n}\n</code></pre>\n<p>and a usage of it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (tile) {\n    tile.update();\n}\n</code></pre>\n<p>It can be modified this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Tile {\n    public final Lock lock = new ReentrantLock();\n\n    public void update() {\n        // ...\n    }\n}\n</code></pre>\n<p>and used like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tile.lock.lock();\ntry {\n    tile.update();\n} finally {\n    tile.lock.unlock();\n}\n</code></pre>\n<p>If the <code>Tile</code> class cannot be modified, you can either keep a parallel array of <code>ReentrantLock</code> instances, or refactor to wrap the <code>Tile</code> and <code>ReentrantLock</code> together in another class.</p>\n<p>There are some other things you might want to consider for your use case.</p>\n<h1>Avoiding client-side locking</h1>\n<p>This pattern of the code accessing an object acquiring a lock on it is sometimes known as <em>client-side locking</em>, because it is the client of the locked object that is responsible for acquiring the lock, rather than the locked object itself. This practice is often <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/LCK11-J.+Avoid+client-side+locking+when+using+classes+that+do+not+commit+to+their+locking+strategy\" rel=\"noreferrer\">discouraged</a> due to a major drawback: it relies on <em>all</em> usages of the object to correctly and consistently implement the locking strategy. This makes it very hard to reason about the thread-safety of the class, as it can only be understood by considering every use of the class throughout the code. As an example of how this can cause a problem: if the code is updated from <code>synchronized</code> to using <code>ReentrantLock</code> in one place, but not in others, then the mutual exclusion property will be broken.</p>\n<p>As an alternative, the <code>Tile</code> class could take responsibility for locking itself, documenting its thread-safety guarantees in terms of its properties, rather than its implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Tile {\n    private final Lock lock = new ReentrantLock();\n\n    public void update() {\n        lock.lock();\n        try {\n            // ...\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n<p>It can then be used in a more straightforward way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tile.update(); // no need to lock here\n</code></pre>\n<p>This is a simplified example, and in the real <code>Tile</code> class, other methods would also need to be modified to acquire the lock as needed.</p>\n<h1>Fine-grained vs. coarse-grained locking</h1>\n<p>In the case of a composite object, where one object (in this case, <code>TileManager</code>) contains a collection of internal objects that are completely encapsulated and not exposed to other classes (in this case, <code>Tile</code>), there's a choice to make when operating concurrently on the internal collection: you can either lock each item in the collection independently (fine-grained locking), or you can lock the entire collection (coarse-grained locking). These have tradeoffs, and the best option depends on the specific use case. Fine-grained locking, as in this example, allows multiple threads to concurrently access different parts of the collection, which helps to avoid a long-running process preventing other threads from accessing elements that it isn't currently affecting. The main drawback to be aware of is the risk of deadlock if there is a thread that needs to lock multiple elements at the same time. There is also the potential for different behaviour when there is high contention. The <code>processImage</code> method could become blocked several times, waiting to acquire locks on individual tiles. It might be more desirable to allow it to acquire a single coarse-grained lock and complete the iteration of <code>tiles</code> without the risk of further blocking. This really depends on the specifics of the application, and must be considered with the context of the other uses of the data.</p>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77176727,"answer_count":2,"score":1,"last_activity_date":1695713783,"creation_date":1695683854,"question_id":77176175,"body_markdown":"For the below example code, how to migrate from `synchronized` to `ReentrantLock`?\r\n\r\nBelow is refactored code\r\n~~~\r\npublic final class ControllerCell {\r\n\r\n    public final int tableSize;\r\n    private final ObjectCell cells[][];\r\n    private final TGS_ShapeDimension&lt;Integer&gt; cellSize;\r\n    private final float jpeg_quality;\r\n\r\n    public static ControllerCell of(float jpeg_quality, int tableSize) {\r\n        return new ControllerCell(jpeg_quality, tableSize);\r\n    }\r\n\r\n    private ControllerCell(float jpeg_quality, int tableSize) {\r\n        this.jpeg_quality = jpeg_quality;\r\n        this.tableSize = tableSize;\r\n        cellSize = new TGS_ShapeDimension(0, 0);\r\n        cells = new ObjectCell[tableSize][tableSize];\r\n    }\r\n\r\n    final public void processImage(ControllerInput cInput) {\r\n        cellSize.width = cInput.screenSize.width / tableSize;\r\n        cellSize.height = cInput.screenSize.height / tableSize;\r\n        for (var i = 0; i &lt; tableSize; i++) {\r\n            for (var j = 0; j &lt; tableSize; j++) {\r\n                if (cells[i][j] == null) {\r\n                    cells[i][j] = new ObjectCell(jpeg_quality);\r\n                }\r\n                var subw = (i == tableSize - 1) ? (cellSize.width + (cInput.screenSize.width % cellSize.width)) : cellSize.width;\r\n                var subh = (j == tableSize - 1) ? (cellSize.height + (cInput.screenSize.height % cellSize.height)) : cellSize.height;\r\n                var subimage = cInput.screenShot().getSubimage(i * cellSize.width, j * cellSize.height, subw, subh);\r\n                synchronized (cells[i][j]) {\r\n                    cells[i][j].update(subimage);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n~~~\r\n\r\n\r\nbelow is the original code. To download [click here][1]\r\n\r\nClass: TileManager\r\n~~~\r\n/**\r\n *\r\n * @author heic\r\n */\r\npackage hk.haha.onet.ajaxvnc;\r\nimport java.awt.image.*;\r\npublic class TileManager {\r\n    \r\n    private boolean DEBUG = true;\r\n    \r\n    public final int MAX_TILE = 10;\r\n    private Tile tiles[][];\r\n    private int numxtile;\r\n    private int numytile;\r\n    private int tilewidth;\r\n    private int tileheight;\r\n    private int screenwidth;\r\n    private int screenheight;\r\n    \r\n    /** Creates a new instance of TileManager */\r\n    public TileManager() {\r\n        tiles = new Tile[MAX_TILE][MAX_TILE];\r\n        numxtile = MAX_TILE;\r\n        numytile = MAX_TILE;\r\n        setSize(640, 480);\r\n    }\r\n    \r\n    public void setSize(int sw, int sh) {\r\n        screenwidth = sw;\r\n        screenheight = sh;\r\n        tilewidth = screenwidth / numxtile;\r\n        tileheight = screenheight / numytile;\r\n    }\r\n    \r\n    public void processImage(BufferedImage image, int x, int y)\r\n    {\r\n        BufferedImage subimage;\r\n        int subw, subh;\r\n        boolean changed;\r\n        numxtile = x;\r\n        numytile = y;\r\n        setSize(screenwidth, screenheight);\r\n        for (int i=0; i &lt; numxtile; i++) {\r\n            for (int j=0; j &lt; numytile; j++) {\r\n                if (tiles[i][j]==null) tiles[i][j] = new Tile();\r\n                    if (i == numxtile-1) \r\n                        subw = tilewidth + (screenwidth % tilewidth);\r\n                    else\r\n                        subw = tilewidth;\r\n                    if (j == numytile-1)\r\n                        subh = tileheight + (screenheight % tileheight);\r\n                    else\r\n                        subh = tileheight;\r\n                    subimage = image.getSubimage(i*tilewidth, j*tileheight, subw, subh);\r\n\t\t    synchronized (tiles[i][j]) {\r\n\t\t\t    changed = tiles[i][j].updateImage2(subimage);\r\n\t\t\t    if (DEBUG) {\r\n\t\t\t\t    if (changed) System.out.println(getClass().getName() + &quot;: [&quot; + i + &quot;,&quot; + j + &quot;] Changed. [&quot;+tiles[i][j].fileSize()+&quot;]&quot;);\r\n\t\t\t    }\r\n\t\t    }\r\n           }\r\n         }    \r\n    }\r\n}\r\n~~~\r\n\r\nClass: Tile\r\n~~~\r\n/**\r\n *\r\n * @author heic\r\n */\r\npackage hk.haha.onet.ajaxvnc;\r\nimport java.awt.Rectangle;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.DataBuffer;\r\nimport java.awt.image.ImageObserver;\r\nimport java.awt.image.PixelGrabber;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.zip.Adler32;\r\nimport java.util.zip.CheckedOutputStream;\r\nimport javax.imageio.ImageIO;\r\nimport javax.imageio.*;\r\nimport javax.imageio.stream.*;\r\nimport java.util.Iterator;\r\nimport javax.imageio.metadata.*;\r\npublic class Tile {\r\n    \r\n    private boolean DEBUG = false;\r\n    \r\n    private ByteArrayOutputStream stream;\r\n    private Adler32 checksum;\r\n    private long version;\r\n    private boolean dirty;\r\n    private int width;\r\n    private int height;\r\n    private static ImageWriter imgwriter;\r\n    private static ImageWriteParam iwp;\r\n    \r\n    /** Creates a new instance of Tile */\r\n    public Tile() {\r\n        stream = new ByteArrayOutputStream();\r\n        checksum = new Adler32();\r\n        version = 0;\r\n        dirty = true;\r\n        width = 0;\r\n        height = 0;\r\n\t// create image writer\r\n\tIterator iter = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;);\r\n\timgwriter = (ImageWriter)iter.next();\r\n\tiwp = imgwriter.getDefaultWriteParam();\r\n\tiwp.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n\tiwp.setCompressionQuality(Config.jpeg_quality);   // an integer between 0 and 1\r\n\t\r\n\t\r\n    }\r\n    private IIOMetadata getIIOMetadata(BufferedImage image, ImageWriter imageWriter, ImageWriteParam param) {\r\n        ImageTypeSpecifier spec = ImageTypeSpecifier.createFromRenderedImage(image);\r\n        IIOMetadata metadata = imageWriter.getDefaultImageMetadata(spec,param);\r\n        return metadata;\r\n    }\r\n    \r\n    private void writeImage(BufferedImage image, OutputStream outs)\r\n    {\r\n        try {\r\n/*            ImageIO.write(image, &quot;JPG&quot;, outs);*/\r\n            width = image.getWidth();\r\n            height = image.getHeight();\r\n\t    ImageOutputStream ios  = ImageIO.createImageOutputStream(outs);\r\n\r\n\t\timgwriter.setOutput(ios);\r\n\t\tIIOMetadata meta = getIIOMetadata(image, imgwriter, iwp);\r\n\t\timgwriter.write(meta, new IIOImage(image, null, meta), iwp);\r\n\t\tios.flush();\r\n\t\r\n\t    \r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public boolean updateImage2(BufferedImage image)\r\n    {\r\n        long oldsum;\r\n        oldsum = checksum.getValue();\r\n        //calcChecksum(image);\r\n        calcChecksum2(image);\r\n        if (oldsum != checksum.getValue()) {\r\n            if (DEBUG) System.out.println(getClass().getName() + &quot;: Version changed [&quot; + stream.size() +&quot;]&quot;);\r\n            stream.reset();\r\n            writeImage(image, stream);\r\n            version++;\r\n            dirty = true;\r\n            return true;\r\n        }\r\n        else {\r\n            if (DEBUG) System.out.println(getClass().getName() + &quot;: Version unchange&quot;);\r\n            return false;\r\n        }\r\n    }\r\n}\r\n~~~\r\n\r\nThe motivation is to make use of virtual threads in Java 21+. To quote [`JEP 444: Virtual Threads`][2]:\r\n\r\n&gt; avoid frequent and long-lived pinning by revising `synchronized` blocks or methods that run frequently and guard potentially long I/O operations to use `java.util.concurrent.locks.ReentrantLock` instead. \r\n\r\n\r\n  [1]: https://sourceforge.net/projects/ajaxvnc/files/latest/download\r\n  [2]: https://openjdk.org/jeps/444","title":"How to migrate from synchronized to ReentrantLock on Java for looping arrays","body":"<p>For the below example code, how to migrate from <code>synchronized</code> to <code>ReentrantLock</code>?</p>\n<p>Below is refactored code</p>\n<pre><code>public final class ControllerCell {\n\n    public final int tableSize;\n    private final ObjectCell cells[][];\n    private final TGS_ShapeDimension&lt;Integer&gt; cellSize;\n    private final float jpeg_quality;\n\n    public static ControllerCell of(float jpeg_quality, int tableSize) {\n        return new ControllerCell(jpeg_quality, tableSize);\n    }\n\n    private ControllerCell(float jpeg_quality, int tableSize) {\n        this.jpeg_quality = jpeg_quality;\n        this.tableSize = tableSize;\n        cellSize = new TGS_ShapeDimension(0, 0);\n        cells = new ObjectCell[tableSize][tableSize];\n    }\n\n    final public void processImage(ControllerInput cInput) {\n        cellSize.width = cInput.screenSize.width / tableSize;\n        cellSize.height = cInput.screenSize.height / tableSize;\n        for (var i = 0; i &lt; tableSize; i++) {\n            for (var j = 0; j &lt; tableSize; j++) {\n                if (cells[i][j] == null) {\n                    cells[i][j] = new ObjectCell(jpeg_quality);\n                }\n                var subw = (i == tableSize - 1) ? (cellSize.width + (cInput.screenSize.width % cellSize.width)) : cellSize.width;\n                var subh = (j == tableSize - 1) ? (cellSize.height + (cInput.screenSize.height % cellSize.height)) : cellSize.height;\n                var subimage = cInput.screenShot().getSubimage(i * cellSize.width, j * cellSize.height, subw, subh);\n                synchronized (cells[i][j]) {\n                    cells[i][j].update(subimage);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>below is the original code. To download <a href=\"https://sourceforge.net/projects/ajaxvnc/files/latest/download\" rel=\"nofollow noreferrer\">click here</a></p>\n<p>Class: TileManager</p>\n<pre><code>/**\n *\n * @author heic\n */\npackage hk.haha.onet.ajaxvnc;\nimport java.awt.image.*;\npublic class TileManager {\n    \n    private boolean DEBUG = true;\n    \n    public final int MAX_TILE = 10;\n    private Tile tiles[][];\n    private int numxtile;\n    private int numytile;\n    private int tilewidth;\n    private int tileheight;\n    private int screenwidth;\n    private int screenheight;\n    \n    /** Creates a new instance of TileManager */\n    public TileManager() {\n        tiles = new Tile[MAX_TILE][MAX_TILE];\n        numxtile = MAX_TILE;\n        numytile = MAX_TILE;\n        setSize(640, 480);\n    }\n    \n    public void setSize(int sw, int sh) {\n        screenwidth = sw;\n        screenheight = sh;\n        tilewidth = screenwidth / numxtile;\n        tileheight = screenheight / numytile;\n    }\n    \n    public void processImage(BufferedImage image, int x, int y)\n    {\n        BufferedImage subimage;\n        int subw, subh;\n        boolean changed;\n        numxtile = x;\n        numytile = y;\n        setSize(screenwidth, screenheight);\n        for (int i=0; i &lt; numxtile; i++) {\n            for (int j=0; j &lt; numytile; j++) {\n                if (tiles[i][j]==null) tiles[i][j] = new Tile();\n                    if (i == numxtile-1) \n                        subw = tilewidth + (screenwidth % tilewidth);\n                    else\n                        subw = tilewidth;\n                    if (j == numytile-1)\n                        subh = tileheight + (screenheight % tileheight);\n                    else\n                        subh = tileheight;\n                    subimage = image.getSubimage(i*tilewidth, j*tileheight, subw, subh);\n            synchronized (tiles[i][j]) {\n                changed = tiles[i][j].updateImage2(subimage);\n                if (DEBUG) {\n                    if (changed) System.out.println(getClass().getName() + &quot;: [&quot; + i + &quot;,&quot; + j + &quot;] Changed. [&quot;+tiles[i][j].fileSize()+&quot;]&quot;);\n                }\n            }\n           }\n         }    \n    }\n}\n</code></pre>\n<p>Class: Tile</p>\n<pre><code>/**\n *\n * @author heic\n */\npackage hk.haha.onet.ajaxvnc;\nimport java.awt.Rectangle;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.DataBuffer;\nimport java.awt.image.ImageObserver;\nimport java.awt.image.PixelGrabber;\nimport java.io.ByteArrayOutputStream;\nimport java.io.OutputStream;\nimport java.util.zip.Adler32;\nimport java.util.zip.CheckedOutputStream;\nimport javax.imageio.ImageIO;\nimport javax.imageio.*;\nimport javax.imageio.stream.*;\nimport java.util.Iterator;\nimport javax.imageio.metadata.*;\npublic class Tile {\n    \n    private boolean DEBUG = false;\n    \n    private ByteArrayOutputStream stream;\n    private Adler32 checksum;\n    private long version;\n    private boolean dirty;\n    private int width;\n    private int height;\n    private static ImageWriter imgwriter;\n    private static ImageWriteParam iwp;\n    \n    /** Creates a new instance of Tile */\n    public Tile() {\n        stream = new ByteArrayOutputStream();\n        checksum = new Adler32();\n        version = 0;\n        dirty = true;\n        width = 0;\n        height = 0;\n    // create image writer\n    Iterator iter = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;);\n    imgwriter = (ImageWriter)iter.next();\n    iwp = imgwriter.getDefaultWriteParam();\n    iwp.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    iwp.setCompressionQuality(Config.jpeg_quality);   // an integer between 0 and 1\n    \n    \n    }\n    private IIOMetadata getIIOMetadata(BufferedImage image, ImageWriter imageWriter, ImageWriteParam param) {\n        ImageTypeSpecifier spec = ImageTypeSpecifier.createFromRenderedImage(image);\n        IIOMetadata metadata = imageWriter.getDefaultImageMetadata(spec,param);\n        return metadata;\n    }\n    \n    private void writeImage(BufferedImage image, OutputStream outs)\n    {\n        try {\n/*            ImageIO.write(image, &quot;JPG&quot;, outs);*/\n            width = image.getWidth();\n            height = image.getHeight();\n        ImageOutputStream ios  = ImageIO.createImageOutputStream(outs);\n\n        imgwriter.setOutput(ios);\n        IIOMetadata meta = getIIOMetadata(image, imgwriter, iwp);\n        imgwriter.write(meta, new IIOImage(image, null, meta), iwp);\n        ios.flush();\n    \n        \n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public boolean updateImage2(BufferedImage image)\n    {\n        long oldsum;\n        oldsum = checksum.getValue();\n        //calcChecksum(image);\n        calcChecksum2(image);\n        if (oldsum != checksum.getValue()) {\n            if (DEBUG) System.out.println(getClass().getName() + &quot;: Version changed [&quot; + stream.size() +&quot;]&quot;);\n            stream.reset();\n            writeImage(image, stream);\n            version++;\n            dirty = true;\n            return true;\n        }\n        else {\n            if (DEBUG) System.out.println(getClass().getName() + &quot;: Version unchange&quot;);\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>The motivation is to make use of virtual threads in Java 21+. To quote <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\"><code>JEP 444: Virtual Threads</code></a>:</p>\n<blockquote>\n<p>avoid frequent and long-lived pinning by revising <code>synchronized</code> blocks or methods that run frequently and guard potentially long I/O operations to use <code>java.util.concurrent.locks.ReentrantLock</code> instead.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-security","h2-console"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1695716801,"post_id":77177792,"comment_id":136058177,"body_markdown":"Since Spring Boot 3.1.x, if you have multiple servlets (which is the case if you add the H2 console), you have to explicitly say which servlet the request matcher should be applied to. Since the H2 console is commonly used, Spring provided a [`PathRequest.toH2Console()`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/security/servlet/PathRequest.html#toH2Console()) matcher. Read more about how to use it in the duplicate.","body":"Since Spring Boot 3.1.x, if you have multiple servlets (which is the case if you add the H2 console), you have to explicitly say which servlet the request matcher should be applied to. Since the H2 console is commonly used, Spring provided a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/security/servlet/PathRequest.html#toH2Console()\" rel=\"nofollow noreferrer\"><code>PathRequest.toH2Console()</code></a> matcher. Read more about how to use it in the duplicate."}],"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695716805,"answer_count":0,"score":0,"last_activity_date":1695713521,"creation_date":1695712994,"question_id":77177792,"body_markdown":"I am using spring boot version 3.1.4 with Java-17 and spring-cloud.version - 2022.0.4 &lt;br/&gt;and created below method&lt;br/&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http.cors(cors -&gt; {})\r\n                .csrf((csrf) -&gt; csrf.disable())\r\n                .authorizeHttpRequests((authz) -&gt; authz.requestMatchers(HttpMethod.POST, &quot;/users&quot;)\r\n                        .access(new WebExpressionAuthorizationManager(\r\n                                &quot;hasIpAddress(&#39;&quot; + environment.getProperty(&quot;gateway.ip&quot;) + &quot;&#39;)&quot;))\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;)).permitAll())\r\n                .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n    \r\n        http.headers((headers) -&gt; headers.frameOptions((frameOptions) -&gt; frameOptions.sameOrigin()));\r\n    \r\n        return http.build();\r\n    }\r\n\r\nGetting below issue \r\n\r\n    This is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n    \r\n    For each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\r\n\r\nHere is full log of issue\r\n\r\n    2023-09-26T12:39:19.609+05:30  WARN 43222 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;configure&#39; defined in class path resource [com/appsdeveloperblog/photoapp/api/users/security/WebSecurity.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;configure&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n    \r\n    This is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n    \r\n    For each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\r\n    2023-09-26T12:39:19.611+05:30  INFO 43222 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-09-26T12:39:19.846+05:30  WARN 43222 --- [  restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name &#39;inMemoryDatabaseShutdownExecutor&#39;: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\r\n    2023-09-26T12:39:19.847+05:30  INFO 43222 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-09-26T12:39:19.851+05:30  INFO 43222 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2023-09-26T12:39:19.863+05:30  INFO 43222 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-09-26T12:39:19.903+05:30  INFO 43222 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-09-26T12:39:19.964+05:30 ERROR 43222 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;configure&#39; defined in class path resource [com/appsdeveloperblog/photoapp/api/users/security/WebSecurity.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;configure&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n    \r\n    This is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n    \r\n    For each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    \tat com.appsdeveloperblog.photoapp.api.users.PhotoAppApiUsersApplication.main(PhotoAppApiUsersApplication.java:12) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.4.jar:3.1.4]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configure&#39; defined in class path resource [com/appsdeveloperblog/photoapp/api/users/security/WebSecurity.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;configure&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n    \r\n    This is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n    \r\n    For each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\r\n\r\n\r\ncan you please help me to resolve this issue&lt;br/&gt;Thanks in advance\r\n","title":"Getting issue in WebSecurity class for version 3.1.4","body":"<p>I am using spring boot version 3.1.4 with Java-17 and spring-cloud.version - 2022.0.4 <br/>and created below method<br/></p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    http.cors(cors -&gt; {})\n            .csrf((csrf) -&gt; csrf.disable())\n            .authorizeHttpRequests((authz) -&gt; authz.requestMatchers(HttpMethod.POST, &quot;/users&quot;)\n                    .access(new WebExpressionAuthorizationManager(\n                            &quot;hasIpAddress('&quot; + environment.getProperty(&quot;gateway.ip&quot;) + &quot;')&quot;))\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;)).permitAll())\n            .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n    http.headers((headers) -&gt; headers.frameOptions((frameOptions) -&gt; frameOptions.sameOrigin()));\n\n    return http.build();\n}\n</code></pre>\n<p>Getting below issue</p>\n<pre><code>This is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\n\nFor each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\n</code></pre>\n<p>Here is full log of issue</p>\n<pre><code>2023-09-26T12:39:19.609+05:30  WARN 43222 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'configure' defined in class path resource [com/appsdeveloperblog/photoapp/api/users/security/WebSecurity.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'configure' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n\nThis is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\n\nFor each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\n2023-09-26T12:39:19.611+05:30  INFO 43222 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-09-26T12:39:19.846+05:30  WARN 43222 --- [  restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\n2023-09-26T12:39:19.847+05:30  INFO 43222 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-09-26T12:39:19.851+05:30  INFO 43222 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-09-26T12:39:19.863+05:30  INFO 43222 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-09-26T12:39:19.903+05:30  INFO 43222 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-26T12:39:19.964+05:30 ERROR 43222 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'configure' defined in class path resource [com/appsdeveloperblog/photoapp/api/users/security/WebSecurity.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'configure' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n\nThis is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\n\nFor each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\n    at com.appsdeveloperblog.photoapp.api.users.PhotoAppApiUsersApplication.main(PhotoAppApiUsersApplication.java:12) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.4.jar:3.1.4]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configure' defined in class path resource [com/appsdeveloperblog/photoapp/api/users/security/WebSecurity.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'configure' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n\nThis is because there is more than one mappable servlet in your servlet context: {org.h2.server.web.JakartaWebServlet=[/h2-console/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\n\nFor each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.\n</code></pre>\n<p>can you please help me to resolve this issue<br/>Thanks in advance</p>\n"},{"tags":["java","multithreading","concurrency","executorservice"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695701550,"post_id":77176894,"comment_id":136055904,"body_markdown":"&quot;Will the blocking queue prevent more tasks from adding if it is full?&quot;: yes, that&#39;s what &quot;blocking queue&quot; means.","body":"&quot;Will the blocking queue prevent more tasks from adding if it is full?&quot;: yes, that&#39;s what &quot;blocking queue&quot; means."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":3,"creation_date":1695704419,"post_id":77176894,"comment_id":136056140,"body_markdown":"no?? a blocking queue is a queue that supports operations that waits for the queue to become non-empty. It MAY be optionally bounded.","body":"no?? a blocking queue is a queue that supports operations that waits for the queue to become non-empty. It MAY be optionally bounded."}],"answers":[{"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695704660,"post_id":77176963,"comment_id":136056175,"body_markdown":"oooh, i didnt know linkedblockingqueue also had a limit of Integer.MAX_VALUE. I thought it was like a linked list","body":"oooh, i didnt know linkedblockingqueue also had a limit of Integer.MAX_VALUE. I thought it was like a linked list"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695893702,"post_id":77176963,"comment_id":136085745,"body_markdown":"@experimentunit1998X in what regard do you consider this to be different to linked list?","body":"@experimentunit1998X in what regard do you consider this to be different to linked list?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695894330,"post_id":77176963,"comment_id":136085857,"body_markdown":"@Holger at first I made a comment about how LinkedBlockingQueue could just keep sending/submitting until it reaches the limit of the resources provided to it or possibly infinitely because it did not have a bound like ArrayBlockingQueue which uses an array (indices go up to Integer.MAX_VALUE), I thought this had no upper bound like a linked list","body":"@Holger at first I made a comment about how LinkedBlockingQueue could just keep sending/submitting until it reaches the limit of the resources provided to it or possibly infinitely because it did not have a bound like ArrayBlockingQueue which uses an array (indices go up to Integer.MAX_VALUE), I thought this had no upper bound like a linked list"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695894436,"post_id":77176963,"comment_id":136085873,"body_markdown":"I am aware that LinkedBlockingQueue has an optional bound that can be specified, but I didnt know that LinkedBlockingQueue itself imposes a bound of Integer.MAX_VALUE if not specified","body":"I am aware that LinkedBlockingQueue has an optional bound that can be specified, but I didnt know that LinkedBlockingQueue itself imposes a bound of Integer.MAX_VALUE if not specified"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695895553,"post_id":77176963,"comment_id":136086111,"body_markdown":"The limit of `Integer.MAX_VALUE` is obviously meant to be “practically no limit”. This means that if you ever managed to put `Integer.MAX_VALUE` elements into it and try to add one more, it will surprisingly block whereas adding more than `Integer.MAX_VALUE` elements to a `LinkedList` will silently corrupt it. Thankfully, the chances of ever getting to this point are very low.","body":"The limit of <code>Integer.MAX_VALUE</code> is obviously meant to be “practically no limit”. This means that if you ever managed to put <code>Integer.MAX_VALUE</code> elements into it and try to add one more, it will surprisingly block whereas adding more than <code>Integer.MAX_VALUE</code> elements to a <code>LinkedList</code> will silently corrupt it. Thankfully, the chances of ever getting to this point are very low."}],"tags":[],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695713151,"creation_date":1695701328,"answer_id":77176963,"question_id":77176894,"body_markdown":"You can see the implementation of `ExecutorSevice` inside of static method like `Executors.newFixedThreadPool()`\r\n\r\n```java\r\npublic static ExecutorService newFixedThreadPool(int nThreads) {\r\n    return new ThreadPoolExecutor(nThreads, \r\n                                  nThreads,\r\n                                  0L, \r\n                                  TimeUnit.MILLISECONDS,\r\n                                  new LinkedBlockingQueue&lt;Runnable&gt;());\r\n}\r\n```\r\n\r\nand the corresponding constructors for `ThreadPoolExecutor` and `LinkedBlockingQueue` are below.\r\n\r\n```java\r\npublic ThreadPoolExecutor(int corePoolSize,\r\n                          int maximumPoolSize,\r\n                          long keepAliveTime,\r\n                          TimeUnit unit,\r\n                          BlockingQueue&lt;Runnable&gt; workQueue) {\r\n   this(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue,\r\n         Executors.defaultThreadFactory(), defaultHandler);\r\n}\r\n```\r\n\r\n```java\r\npublic LinkedBlockingQueue() {\r\n   this(Integer.MAX_VALUE);\r\n}\r\n```\r\n\r\nConsequently, if you continue to submit tasks to the thread pool (assuming that the tasks you submit take a significant amount of time), it may eventually lead to an OutOfMemoryError (OOM).\r\n\r\nHowever, without knowing the specific situation you are facing, I would not recommend replacing it with `Executors.newCachedThreadPool()` since it will keep creating new threads.\r\n\r\nInstead, I would advise you to create your own `ThreadPoolExecutor` tailored to your needs.","title":"ExecutorService: What happens if I submit() way too many tasks to the Executor?","body":"<p>You can see the implementation of <code>ExecutorSevice</code> inside of static method like <code>Executors.newFixedThreadPool()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ExecutorService newFixedThreadPool(int nThreads) {\n    return new ThreadPoolExecutor(nThreads, \n                                  nThreads,\n                                  0L, \n                                  TimeUnit.MILLISECONDS,\n                                  new LinkedBlockingQueue&lt;Runnable&gt;());\n}\n</code></pre>\n<p>and the corresponding constructors for <code>ThreadPoolExecutor</code> and <code>LinkedBlockingQueue</code> are below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ThreadPoolExecutor(int corePoolSize,\n                          int maximumPoolSize,\n                          long keepAliveTime,\n                          TimeUnit unit,\n                          BlockingQueue&lt;Runnable&gt; workQueue) {\n   this(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue,\n         Executors.defaultThreadFactory(), defaultHandler);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public LinkedBlockingQueue() {\n   this(Integer.MAX_VALUE);\n}\n</code></pre>\n<p>Consequently, if you continue to submit tasks to the thread pool (assuming that the tasks you submit take a significant amount of time), it may eventually lead to an OutOfMemoryError (OOM).</p>\n<p>However, without knowing the specific situation you are facing, I would not recommend replacing it with <code>Executors.newCachedThreadPool()</code> since it will keep creating new threads.</p>\n<p>Instead, I would advise you to create your own <code>ThreadPoolExecutor</code> tailored to your needs.</p>\n"},{"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695704655,"creation_date":1695704655,"answer_id":77177146,"question_id":77176894,"body_markdown":"As the Javadocs for `newFixedThreadPool()` states:\r\n\r\n    newFixedThreadPool(int nThreads)\r\n    Creates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue.\r\n\r\nNote the unbounded part.  Thread pool executors leave the handling of queue limits to the `BlockingQueue` assigned to them.  Giving an unbounded queue means the executor will never reject a task.  However, it also means you will happily run your JVM out of heap if there is too much load.\r\n\r\nUsing a blocking queue with a limit will lead to tasks being rejected by the executor when total queue size + total thread limits are reached.\r\n","title":"ExecutorService: What happens if I submit() way too many tasks to the Executor?","body":"<p>As the Javadocs for <code>newFixedThreadPool()</code> states:</p>\n<pre><code>newFixedThreadPool(int nThreads)\nCreates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue.\n</code></pre>\n<p>Note the unbounded part.  Thread pool executors leave the handling of queue limits to the <code>BlockingQueue</code> assigned to them.  Giving an unbounded queue means the executor will never reject a task.  However, it also means you will happily run your JVM out of heap if there is too much load.</p>\n<p>Using a blocking queue with a limit will lead to tasks being rejected by the executor when total queue size + total thread limits are reached.</p>\n"}],"owner":{"account_id":3847859,"reputation":7139,"user_id":3188761,"accept_rate":55,"display_name":"90abyss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77176963,"answer_count":2,"score":1,"last_activity_date":1695713151,"creation_date":1695699537,"question_id":77176894,"body_markdown":"Looks like ExecutorService internally uses a blocking queue.\r\n\r\nI am assigning only 2 threads to the ExecutorService like so:\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(2);\r\n\r\n\r\nWhat happens if I keep on submitting tasks endlessly? Will the blocking queue prevent more tasks from adding if it is full? Will the memory be hampered by the submission of so many tasks? What are the implications? Asking because I am seeing this happening in my code so want to know what are the side-effects. \r\n\r\n    Future&lt;&gt; future = executorService.submit(callableTask);\r\n\r\n","title":"ExecutorService: What happens if I submit() way too many tasks to the Executor?","body":"<p>Looks like ExecutorService internally uses a blocking queue.</p>\n<p>I am assigning only 2 threads to the ExecutorService like so:</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(2);\n</code></pre>\n<p>What happens if I keep on submitting tasks endlessly? Will the blocking queue prevent more tasks from adding if it is full? Will the memory be hampered by the submission of so many tasks? What are the implications? Asking because I am seeing this happening in my code so want to know what are the side-effects.</p>\n<pre><code>Future&lt;&gt; future = executorService.submit(callableTask);\n</code></pre>\n"},{"tags":["java","spring","debugging","tomcat","jersey"],"answers":[{"comments":[{"owner":{"account_id":39195,"reputation":3455,"user_id":112934,"accept_rate":88,"display_name":"AJPerez"},"score":5,"creation_date":1401710524,"post_id":8679027,"comment_id":36975329,"body_markdown":"Unbelieveable... but it *does* work! :) Actually there is no need to delete the breakpoints, using the &quot;skip all breakpoints&quot; option is enough","body":"Unbelieveable... but it <i>does</i> work! :) Actually there is no need to delete the breakpoints, using the &quot;skip all breakpoints&quot; option is enough"},{"owner":{"account_id":390524,"reputation":5786,"user_id":750650,"display_name":"Łukasz Rżanek"},"score":0,"creation_date":1458071200,"post_id":8679027,"comment_id":59692804,"body_markdown":"Worked for Idea. And now I wonder - why the hell it worked since there was no breaks communicated!","body":"Worked for Idea. And now I wonder - why the hell it worked since there was no breaks communicated!"},{"owner":{"account_id":1320579,"reputation":1799,"user_id":1266500,"accept_rate":60,"display_name":"Azee"},"score":3,"creation_date":1461153013,"post_id":8679027,"comment_id":61067071,"body_markdown":"Had same issue even not in debug mode in Idea. Removing breakpoints helped.","body":"Had same issue even not in debug mode in Idea. Removing breakpoints helped."},{"owner":{"account_id":3568325,"reputation":1079,"user_id":2979310,"accept_rate":87,"display_name":"ulab"},"score":1,"creation_date":1481623495,"post_id":8679027,"comment_id":69440432,"body_markdown":"thanks @AJPerez good one. I wouldn&#39;t want to delete the break points.","body":"thanks @AJPerez good one. I wouldn&#39;t want to delete the break points."},{"owner":{"account_id":151854,"reputation":7487,"user_id":365968,"accept_rate":88,"display_name":"G. Stoynev"},"score":0,"creation_date":1520483339,"post_id":8679027,"comment_id":85336205,"body_markdown":"While the answer provides a relief, I would be interested to see an answer how to keep breakpoints, but have normal performance. After all we don&#39;t add breakpoints for the sport.","body":"While the answer provides a relief, I would be interested to see an answer how to keep breakpoints, but have normal performance. After all we don&#39;t add breakpoints for the sport."},{"owner":{"account_id":5803006,"reputation":1066,"user_id":4576607,"display_name":"CodeMonkey123"},"score":0,"creation_date":1526394422,"post_id":8679027,"comment_id":87721467,"body_markdown":"Worked for me, thanks. To view and delete all breakpoints see here: https://stackoverflow.com/questions/12837403/how-to-view-all-the-breakpoints-in-eclipse","body":"Worked for me, thanks. To view and delete all breakpoints see here: <a href=\"https://stackoverflow.com/questions/12837403/how-to-view-all-the-breakpoints-in-eclipse\" title=\"how to view all the breakpoints in eclipse\">stackoverflow.com/questions/12837403/&hellip;</a>"},{"owner":{"account_id":2424306,"reputation":16850,"user_id":2116590,"display_name":"Parveen Verma"},"score":0,"creation_date":1528358082,"post_id":8679027,"comment_id":88479220,"body_markdown":"Same worked in intelliJ too. Just skipped the endpoints and it worked fine. Thanks","body":"Same worked in intelliJ too. Just skipped the endpoints and it worked fine. Thanks"},{"owner":{"account_id":184020,"reputation":3308,"user_id":419805,"accept_rate":100,"display_name":"It Grunt"},"score":0,"creation_date":1595989637,"post_id":8679027,"comment_id":111662140,"body_markdown":"Thank God I found this thread... I lost a whole day from cleaning my workspace, running a JVM profiler, clearing my .m2 folder, burning sage, throwing salt over my shoulder and screaming bloody Mary in a dark bathroom 13 times.","body":"Thank God I found this thread... I lost a whole day from cleaning my workspace, running a JVM profiler, clearing my .m2 folder, burning sage, throwing salt over my shoulder and screaming bloody Mary in a dark bathroom 13 times."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1596051326,"post_id":8679027,"comment_id":111689525,"body_markdown":"@ItGrunt next time, try drinking those bloody Maries instead of screaming them :-)","body":"@ItGrunt next time, try drinking those bloody Maries instead of screaming them :-)"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":9,"down_vote_count":1,"up_vote_count":75,"is_accepted":true,"score":74,"last_activity_date":1325244864,"creation_date":1325244864,"answer_id":8679027,"question_id":8678409,"body_markdown":"One thing that&#39;s helped me in a similar situation is to delete all breakpoints in Eclipse. It&#39;s worth a try.","title":"Java Spring Web Application starts slowly in debug mode","body":"<p>One thing that's helped me in a similar situation is to delete all breakpoints in Eclipse. It's worth a try.</p>\n"},{"comments":[{"owner":{"account_id":438008,"reputation":449,"user_id":826008,"accept_rate":100,"display_name":"Ali Abazari"},"score":2,"creation_date":1531870974,"post_id":49749686,"comment_id":89755189,"body_markdown":"extremely useful mate.","body":"extremely useful mate."},{"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"score":1,"creation_date":1538574823,"post_id":49749686,"comment_id":92190779,"body_markdown":"preferably get rid of such breakpoints as soon as you are done with it.","body":"preferably get rid of such breakpoints as soon as you are done with it."}],"tags":[],"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523351368,"creation_date":1523351368,"answer_id":49749686,"question_id":8678409,"body_markdown":"Method entry-exit breakpoints or conditional breakpoints usually cause this issue. Removing those breakpoints would resolve the issue. It worked for me.","title":"Java Spring Web Application starts slowly in debug mode","body":"<p>Method entry-exit breakpoints or conditional breakpoints usually cause this issue. Removing those breakpoints would resolve the issue. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695712670,"creation_date":1695712670,"answer_id":77177762,"question_id":8678409,"body_markdown":"following steps can improve performance\r\n- Clean Tomcat Work Directory\r\n- Add/remove application from server&gt;tomcat\r\n\r\nI did improved a lot, speeds up debugging process.\r\n\r\n\r\n","title":"Java Spring Web Application starts slowly in debug mode","body":"<p>following steps can improve performance</p>\n<ul>\n<li>Clean Tomcat Work Directory</li>\n<li>Add/remove application from server&gt;tomcat</li>\n</ul>\n<p>I did improved a lot, speeds up debugging process.</p>\n"}],"owner":{"account_id":81365,"reputation":602,"user_id":229498,"accept_rate":53,"display_name":"Davide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8172,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":8679027,"answer_count":3,"score":16,"last_activity_date":1695712670,"creation_date":1325240187,"question_id":8678409,"body_markdown":"i have a java web application, using Spring, Jersey (jax-rs) and Hibernate.\r\n\r\nIt runs fine and fast, but there are some days it takes a big amount of time to initialize in debug mode only and when it starts is really slow...\r\n\r\nI&#39;m using Eclipse 3.6, Apache Tomcat 6 and java 1.6.0_29 for MAC OS X.\r\n\r\nApplication begin to log slow after writing this log line:\r\n\r\n    INFO: Initializing Spring root WebApplicationContext\r\n\r\nand before this log lines:\r\n\r\n    30-dic-2011 10.51.25 com.sun.jersey.api.core.PackagesResourceConfig init\r\n    INFO: Scanning for root resource and provider classes in the packages:\r\n        com.example.project.web.rest\r\n\r\nHow can I investigate? Any suggestions?\r\n\r\nUnfortunately I really don&#39;t know what I did to reduce performance..\r\n\r\nThanks a lot for help!\r\nDavide.\r\n","title":"Java Spring Web Application starts slowly in debug mode","body":"<p>i have a java web application, using Spring, Jersey (jax-rs) and Hibernate.</p>\n\n<p>It runs fine and fast, but there are some days it takes a big amount of time to initialize in debug mode only and when it starts is really slow...</p>\n\n<p>I'm using Eclipse 3.6, Apache Tomcat 6 and java 1.6.0_29 for MAC OS X.</p>\n\n<p>Application begin to log slow after writing this log line:</p>\n\n<pre><code>INFO: Initializing Spring root WebApplicationContext\n</code></pre>\n\n<p>and before this log lines:</p>\n\n<pre><code>30-dic-2011 10.51.25 com.sun.jersey.api.core.PackagesResourceConfig init\nINFO: Scanning for root resource and provider classes in the packages:\n    com.example.project.web.rest\n</code></pre>\n\n<p>How can I investigate? Any suggestions?</p>\n\n<p>Unfortunately I really don't know what I did to reduce performance..</p>\n\n<p>Thanks a lot for help!\nDavide.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7998581,"reputation":277,"user_id":6034139,"accept_rate":64,"display_name":"Emad"},"score":1,"creation_date":1666709754,"post_id":74195999,"comment_id":130998324,"body_markdown":"can you share your class Test &amp; TenantRepository ?","body":"can you share your class Test &amp; TenantRepository ?"},{"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"score":0,"creation_date":1666718018,"post_id":74195999,"comment_id":131001251,"body_markdown":"Sure. Added in the end of the post.","body":"Sure. Added in the end of the post."},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1666720404,"post_id":74195999,"comment_id":131001956,"body_markdown":"your repository and service looks fine. Do you have any external dependencies or configuration files? If so, please share them. Also, please share the Tenant entity class if possible.","body":"your repository and service looks fine. Do you have any external dependencies or configuration files? If so, please share them. Also, please share the Tenant entity class if possible."},{"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"score":0,"creation_date":1666728094,"post_id":74195999,"comment_id":131004154,"body_markdown":"Yes, you were right. It&#39;s a external dependency in my gradle.\nI&#39;m using a jar lib and when I remove it. It works.\nBut I need it. It uses the same spring boot and java version.\nI still not found out how to make it works","body":"Yes, you were right. It&#39;s a external dependency in my gradle. I&#39;m using a jar lib and when I remove it. It works. But I need it. It uses the same spring boot and java version. I still not found out how to make it works"},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1666767435,"post_id":74195999,"comment_id":131011322,"body_markdown":"what dependency is it? Maybe there is a newer version that supports java 17","body":"what dependency is it? Maybe there is a newer version that supports java 17"},{"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"score":0,"creation_date":1666782381,"post_id":74195999,"comment_id":131016082,"body_markdown":"Its a lib I created. I guess I need documentation explaining what I should do to make it compatible. I&#39;m reading that is something related to add-opens and export.","body":"Its a lib I created. I guess I need documentation explaining what I should do to make it compatible. I&#39;m reading that is something related to add-opens and export."},{"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"score":0,"creation_date":1666816363,"post_id":74195999,"comment_id":131028213,"body_markdown":"I edited the post. I found the two lines causing the problem. But I still don&#39;t know how to solve this reflection problem.","body":"I edited the post. I found the two lines causing the problem. But I still don&#39;t know how to solve this reflection problem."}],"answers":[{"comments":[{"owner":{"account_id":338186,"reputation":2467,"user_id":666906,"accept_rate":54,"display_name":"simou"},"score":0,"creation_date":1667765598,"post_id":74198355,"comment_id":131239886,"body_markdown":"I&#39;m basically facing the same problem but adding this didn&#39;t help.\nHere is what I&#39;ve put into my build.gradle so far.......\n\n\n`bootRun {\n    jvmArgs += &quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot;\n    jvmArgs += &quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot;\n    jvmArgs += &quot;--add-opens=java.base/java.net=ALL-UNNAMED&quot;\n}`","body":"I&#39;m basically facing the same problem but adding this didn&#39;t help. Here is what I&#39;ve put into my build.gradle so far.......   <code>bootRun {     jvmArgs += &quot;--add-opens=java.base&#47;java.lang=ALL-UNNAMED&quot;     jvmArgs += &quot;--add-opens=java.base&#47;java.util=ALL-UNNAMED&quot;     jvmArgs += &quot;--add-opens=java.base&#47;java.net=ALL-UNNAMED&quot; }</code>"}],"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666720922,"creation_date":1666720922,"answer_id":74198355,"question_id":74195999,"body_markdown":"As per spring-boot github, here: https://github.com/spring-projects/spring-boot/pull/27089/files#diff-057b5902bc851e45308e000909e41e56c116987b78cfcab5c465bd601450396c\r\n\r\n\r\nYou must use ``--add-opens=java.base/java.net=ALL-UNNAMED`` JVM options","title":"Spring Boot 2.7.5 and Java 17: Unable to make field private static final java.lang.reflect.Method","body":"<p>As per spring-boot github, here: <a href=\"https://github.com/spring-projects/spring-boot/pull/27089/files#diff-057b5902bc851e45308e000909e41e56c116987b78cfcab5c465bd601450396c\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/27089/files#diff-057b5902bc851e45308e000909e41e56c116987b78cfcab5c465bd601450396c</a></p>\n<p>You must use <code>--add-opens=java.base/java.net=ALL-UNNAMED</code> JVM options</p>\n"},{"tags":[],"owner":{"account_id":3263687,"reputation":755,"user_id":2748659,"accept_rate":50,"display_name":"Wallace Howery"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686594954,"creation_date":1686594954,"answer_id":76459406,"question_id":74195999,"body_markdown":"It&#39;s generally not a good idea to use Reflect to access non-public methods of third party libraries.","title":"Spring Boot 2.7.5 and Java 17: Unable to make field private static final java.lang.reflect.Method","body":"<p>It's generally not a good idea to use Reflect to access non-public methods of third party libraries.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695712608,"creation_date":1695712608,"answer_id":77177759,"question_id":74195999,"body_markdown":"The problem is that you call `ReflectionUtils.makeAccessible(field);` on JDK-internal fields that are not meant to be made accessible.\r\n\r\nYou should first check whether the field is annotated with the `Log` annotation before you call `ReflectionUtils.makeAccessible(field);` because\r\n\r\n* these are the only fields that need to be accessible\r\n* these fields are in code that you control (i.e. where you can specify that the `LogAnnotationProcessor` must have access to).\r\n\r\nA simple solution would be to just do the `makeAccessible()` call after the check:\r\n\r\n    @Component\r\n    public class LogAnnotationProcessor implements BeanPostProcessor {\r\n        private ServletContext context;\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            return bean;\r\n        }\r\n    \r\n        @Override\r\n        public Object postProcessBeforeInitialization(final Object bean, String name) throws BeansException {\r\n            ReflectionUtils.doWithFields(bean.getClass(), new ReflectionUtils.FieldCallback() {\r\n                public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\r\n                    if (field.getAnnotation(Log.class) != null) {\r\n                        ReflectionUtils.makeAccessible(field);\r\n                        Logger log = LoggerFactory.getLogger(bean.getClass());\r\n                        field.set(bean, log);\r\n                    }\r\n                }\r\n            });\r\n            return bean;\r\n        }\r\n    }\r\n\r\nOr even better, use the built-in filtering option from `ReflectionUtils`:\r\n\r\n    @Component\r\n    public class LogAnnotationProcessor implements BeanPostProcessor {\r\n        private ServletContext context;\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            return bean;\r\n        }\r\n    \r\n        @Override\r\n        public Object postProcessBeforeInitialization(final Object bean, String name) throws BeansException {\r\n            ReflectionUtils.doWithFields(bean.getClass(), new ReflectionUtils.FieldCallback() {\r\n                public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\r\n                    ReflectionUtils.makeAccessible(field);\r\n                    Logger log = LoggerFactory.getLogger(bean.getClass());\r\n                    field.set(bean, log);\r\n                }\r\n            }, f -&gt; f.getAnnotation(Log.class) != null);\r\n            return bean;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Spring Boot 2.7.5 and Java 17: Unable to make field private static final java.lang.reflect.Method","body":"<p>The problem is that you call <code>ReflectionUtils.makeAccessible(field);</code> on JDK-internal fields that are not meant to be made accessible.</p>\n<p>You should first check whether the field is annotated with the <code>Log</code> annotation before you call <code>ReflectionUtils.makeAccessible(field);</code> because</p>\n<ul>\n<li>these are the only fields that need to be accessible</li>\n<li>these fields are in code that you control (i.e. where you can specify that the <code>LogAnnotationProcessor</code> must have access to).</li>\n</ul>\n<p>A simple solution would be to just do the <code>makeAccessible()</code> call after the check:</p>\n<pre><code>@Component\npublic class LogAnnotationProcessor implements BeanPostProcessor {\n    private ServletContext context;\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n    }\n\n    @Override\n    public Object postProcessBeforeInitialization(final Object bean, String name) throws BeansException {\n        ReflectionUtils.doWithFields(bean.getClass(), new ReflectionUtils.FieldCallback() {\n            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\n                if (field.getAnnotation(Log.class) != null) {\n                    ReflectionUtils.makeAccessible(field);\n                    Logger log = LoggerFactory.getLogger(bean.getClass());\n                    field.set(bean, log);\n                }\n            }\n        });\n        return bean;\n    }\n}\n</code></pre>\n<p>Or even better, use the built-in filtering option from <code>ReflectionUtils</code>:</p>\n<pre><code>@Component\npublic class LogAnnotationProcessor implements BeanPostProcessor {\n    private ServletContext context;\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n    }\n\n    @Override\n    public Object postProcessBeforeInitialization(final Object bean, String name) throws BeansException {\n        ReflectionUtils.doWithFields(bean.getClass(), new ReflectionUtils.FieldCallback() {\n            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\n                ReflectionUtils.makeAccessible(field);\n                Logger log = LoggerFactory.getLogger(bean.getClass());\n                field.set(bean, log);\n            }\n        }, f -&gt; f.getAnnotation(Log.class) != null);\n        return bean;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695712608,"creation_date":1666709414,"question_id":74195999,"body_markdown":"I already read a lot of related posts. But neither helped.\r\n\r\nI&#39;m creating a new project. \r\nI choose to use the lastest stable Spring Boot (2.7.5 with Spring Framework 5.3.23) and JDK (17) so far.\r\n\r\nSpring Docs says it&#39;s compatible. They say: &quot;Spring Boot 2.7.5 requires Java 8 and is compatible **up to and including Java 19**. Spring Framework 5.3.23 or above is also required.&quot;\r\n\r\nBut when I try to run, I got the error bellow. If I downgrade to JDK 11, it&#39;s just a warning and if I downgrade to JDK 8 it works withtout warning:\r\n\r\nI read that a vm option could help &quot;--add-opens&quot; but it&#39;s not clear to me which module should I open. I tried &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; without sucess.\r\n\r\nThe problem is that I have a external lib and in this lib, I created a anotation &quot;@Log&quot; to set a local variable with an instance of the user Logger.\r\n\r\nThis annotation, uses the ReflectionUtils from spring-boot.\r\nThen ReflectionUtils.makeAccessible is called or field.set is called. The error happens.\r\n\r\nCan anyone help me?\r\n\r\n```\r\npackage br.com.digihub.util.logging.annotation;\r\n\r\nimport br.com.digihub.util.logging.Logger;\r\nimport br.com.digihub.util.logging.LoggerFactory;\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.config.BeanPostProcessor;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.util.ReflectionUtils;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport java.lang.reflect.Field;\r\n\r\n@Component\r\npublic class LogAnnotationProcessor implements BeanPostProcessor {\r\n    private ServletContext context;\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n        return bean;\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessBeforeInitialization(final Object bean, String name) throws BeansException {\r\n        ReflectionUtils.doWithFields(bean.getClass(), new ReflectionUtils.FieldCallback() {\r\n            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\r\n                ReflectionUtils.makeAccessible(field);\r\n                if (field.getAnnotation(Log.class) != null) {\r\n                    Logger log = LoggerFactory.getLogger(bean.getClass());\r\n                    field.set(bean, log);\r\n                }\r\n            }\r\n        });\r\n        return bean;\r\n    }\r\n}\r\n```\r\n \r\nError Log:\r\n```\r\n2022-10-26 17:25:25.697 ERROR 50184 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;teste&#39;: Unsatisfied dependency expressed through field &#39;tenantRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tenantRepository&#39; defined in com.example.demo.repository.TenantRepository defined in @EnableJpaRepositories declared on DemoApplication: Cannot create inner bean &#39;(inner bean)#77e3d05&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#77e3d05&#39;: Initialization of bean failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:30) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tenantRepository&#39; defined in com.example.demo.repository.TenantRepository defined in @EnableJpaRepositories declared on DemoApplication: Cannot create inner bean &#39;(inner bean)#77e3d05&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#77e3d05&#39;: Initialization of bean failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#77e3d05&#39;: Initialization of bean failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 38 common frames omitted\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:791) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat br.com.digihub.util.logging.annotation.LogAnnotationProcessor$1.doWith(LogAnnotationProcessor.java:26) ~[util-4.0.0-plain.jar:na]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:714) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:693) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat br.com.digihub.util.logging.annotation.LogAnnotationProcessor.postProcessBeforeInitialization(LogAnnotationProcessor.java:24) ~[util-4.0.0-plain.jar:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 40 common frames omitted\r\n```\r\n","title":"Spring Boot 2.7.5 and Java 17: Unable to make field private static final java.lang.reflect.Method","body":"<p>I already read a lot of related posts. But neither helped.</p>\n<p>I'm creating a new project.\nI choose to use the lastest stable Spring Boot (2.7.5 with Spring Framework 5.3.23) and JDK (17) so far.</p>\n<p>Spring Docs says it's compatible. They say: &quot;Spring Boot 2.7.5 requires Java 8 and is compatible <strong>up to and including Java 19</strong>. Spring Framework 5.3.23 or above is also required.&quot;</p>\n<p>But when I try to run, I got the error bellow. If I downgrade to JDK 11, it's just a warning and if I downgrade to JDK 8 it works withtout warning:</p>\n<p>I read that a vm option could help &quot;--add-opens&quot; but it's not clear to me which module should I open. I tried &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; without sucess.</p>\n<p>The problem is that I have a external lib and in this lib, I created a anotation &quot;@Log&quot; to set a local variable with an instance of the user Logger.</p>\n<p>This annotation, uses the ReflectionUtils from spring-boot.\nThen ReflectionUtils.makeAccessible is called or field.set is called. The error happens.</p>\n<p>Can anyone help me?</p>\n<pre><code>package br.com.digihub.util.logging.annotation;\n\nimport br.com.digihub.util.logging.Logger;\nimport br.com.digihub.util.logging.LoggerFactory;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.ReflectionUtils;\n\nimport javax.servlet.ServletContext;\nimport java.lang.reflect.Field;\n\n@Component\npublic class LogAnnotationProcessor implements BeanPostProcessor {\n    private ServletContext context;\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n    }\n\n    @Override\n    public Object postProcessBeforeInitialization(final Object bean, String name) throws BeansException {\n        ReflectionUtils.doWithFields(bean.getClass(), new ReflectionUtils.FieldCallback() {\n            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\n                ReflectionUtils.makeAccessible(field);\n                if (field.getAnnotation(Log.class) != null) {\n                    Logger log = LoggerFactory.getLogger(bean.getClass());\n                    field.set(bean, log);\n                }\n            }\n        });\n        return bean;\n    }\n}\n</code></pre>\n<p>Error Log:</p>\n<pre><code>2022-10-26 17:25:25.697 ERROR 50184 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'teste': Unsatisfied dependency expressed through field 'tenantRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tenantRepository' defined in com.example.demo.repository.TenantRepository defined in @EnableJpaRepositories declared on DemoApplication: Cannot create inner bean '(inner bean)#77e3d05' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#77e3d05': Initialization of bean failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:30) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tenantRepository' defined in com.example.demo.repository.TenantRepository defined in @EnableJpaRepositories declared on DemoApplication: Cannot create inner bean '(inner bean)#77e3d05' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#77e3d05': Initialization of bean failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#77e3d05': Initialization of bean failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 38 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy4.$Proxy117.m0 accessible: module jdk.proxy4 does not &quot;opens jdk.proxy4&quot; to unnamed module @15c43bd9\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:791) ~[spring-core-5.3.23.jar:5.3.23]\n    at br.com.digihub.util.logging.annotation.LogAnnotationProcessor$1.doWith(LogAnnotationProcessor.java:26) ~[util-4.0.0-plain.jar:na]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:714) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:693) ~[spring-core-5.3.23.jar:5.3.23]\n    at br.com.digihub.util.logging.annotation.LogAnnotationProcessor.postProcessBeforeInitialization(LogAnnotationProcessor.java:24) ~[util-4.0.0-plain.jar:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 40 common frames omitted\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-viewpager2"],"comments":[{"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"score":0,"creation_date":1582172352,"post_id":60004140,"comment_id":106688137,"body_markdown":"Did you have a look at lines 245 and 254 of the [source](https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-collection-release/viewpager2/src/main/java/androidx/viewpager2/widget/ScrollEventAdapter.java)?","body":"Did you have a look at lines 245 and 254 of the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-collection-release/viewpager2/src/main/java/androidx/viewpager2/widget/ScrollEventAdapter.java\" rel=\"nofollow noreferrer\">source</a>?"}],"answers":[{"comments":[{"owner":{"account_id":3591968,"reputation":1393,"user_id":2997806,"accept_rate":45,"display_name":"waseefakhtar"},"score":2,"creation_date":1580736863,"post_id":60015382,"comment_id":106184270,"body_markdown":"The thing is, I cannot find any ViewGroup which has a LayoutTransition in the fragments I have. I looped through the child views as well and checking for `viewGroup.getLayoutTransition()` but they all seem to be null. So I&#39;m not sure where the code triggers the exception.","body":"The thing is, I cannot find any ViewGroup which has a LayoutTransition in the fragments I have. I looped through the child views as well and checking for <code>viewGroup.getLayoutTransition()</code> but they all seem to be null. So I&#39;m not sure where the code triggers the exception."},{"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"score":0,"creation_date":1580955225,"post_id":60015382,"comment_id":106271111,"body_markdown":"I started the thread mentioned above. I have seen the first exception intermittently in Android Vitals, but not the second exception. I&#39;m not using any LayoutTransitions, but I am using ```viewpager2.setPageTransformer```.","body":"I started the thread mentioned above. I have seen the first exception intermittently in Android Vitals, but not the second exception. I&#39;m not using any LayoutTransitions, but I am using <code>viewpager2.setPageTransformer</code>."},{"owner":{"account_id":3591968,"reputation":1393,"user_id":2997806,"accept_rate":45,"display_name":"waseefakhtar"},"score":0,"creation_date":1580983877,"post_id":60015382,"comment_id":106280570,"body_markdown":"@grolschie which devices does the exception occur on?","body":"@grolschie which devices does the exception occur on?"},{"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"score":1,"creation_date":1581015518,"post_id":60015382,"comment_id":106298301,"body_markdown":"I have had this exception only a few times. The devices: Motorola Moto G4 Play (Android 6.0, en_GB), Google Pixel 3 (Android 9, en_GB), and Huawei Mate 9 (Android 7.0, fr_FR). There doesn&#39;t seem to be any pattern. It&#39;s probably a timing issue, where the automated tests mash the UI rapidly.","body":"I have had this exception only a few times. The devices: Motorola Moto G4 Play (Android 6.0, en_GB), Google Pixel 3 (Android 9, en_GB), and Huawei Mate 9 (Android 7.0, fr_FR). There doesn&#39;t seem to be any pattern. It&#39;s probably a timing issue, where the automated tests mash the UI rapidly."},{"owner":{"account_id":3591968,"reputation":1393,"user_id":2997806,"accept_rate":45,"display_name":"waseefakhtar"},"score":1,"creation_date":1581275146,"post_id":60015382,"comment_id":106367758,"body_markdown":"Same. I thought I fixed it by looping through all the ViewGroups and setting `setAnimateParentHierarchy` to false whenever it&#39;s true thinking that might solve it for whenever a ViewGroup has a LayoutTransition but the crash reports just seem to increase in numbers. The only option I now have is to revert back to ViewPager.","body":"Same. I thought I fixed it by looping through all the ViewGroups and setting <code>setAnimateParentHierarchy</code> to false whenever it&#39;s true thinking that might solve it for whenever a ViewGroup has a LayoutTransition but the crash reports just seem to increase in numbers. The only option I now have is to revert back to ViewPager."},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1581297514,"post_id":60015382,"comment_id":106372915,"body_markdown":"If this is explicitly set then just confirm as it must be set to OFFSCREEN_PAGE_LIMIT_DEFAULT like setOffscreenPageLimit(OFFSCREEN_PAGE_LIMIT_DEFAULT)","body":"If this is explicitly set then just confirm as it must be set to OFFSCREEN_PAGE_LIMIT_DEFAULT like setOffscreenPageLimit(OFFSCREEN_PAGE_LIMIT_DEFAULT)"},{"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"score":0,"creation_date":1581373655,"post_id":60015382,"comment_id":106404214,"body_markdown":"Setting the off-screen page limit to a positive integer is supported though: [link](https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#setOffscreenPageLimit(int))","body":"Setting the off-screen page limit to a positive integer is supported though: <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#setOffscreenPageLimit(int)\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"comment_count":7,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1580547134,"creation_date":1580547134,"answer_id":60015382,"question_id":60004140,"body_markdown":"You need to perform this on each of your pages/Fragments\r\n\r\n     View view = layoutInflater.inflate(R.layout.page, parent, false);\r\n     ViewGroup viewGroup = view.findViewById(R.id.animated_viewgroup);\r\n     viewGroup.getLayoutTransition().setAnimateParentHierarchy(false);\r\n\r\n\r\nAs looking at official documentation here\r\n\r\nhttps://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2\r\n\r\nIt states that \r\n\r\n&gt; If your pages contain LayoutTransitions, then those LayoutTransitions\r\n&gt; must have animateParentHierarchy set to false. Note that if you have a\r\n&gt; ViewGroup with animateLayoutChanges=&quot;true&quot; in your layout xml file, a\r\n&gt; LayoutTransition is added automatically to that ViewGroup. You will\r\n&gt; need to manually call\r\n&gt; getLayoutTransition().setAnimateParentHierarchy(false) on that\r\n&gt; ViewGroup after you inflated the xml layout.\r\n\r\nsame your error log talks about on very first line\r\n\r\n    Fatal Exception: java.lang.IllegalStateException: Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation. Make sure to call getLayoutTransition().setAnimateParentHierarchy(false) on all ViewGroups with a LayoutTransition before an animation is started.\r\n\r\n","title":"Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation","body":"<p>You need to perform this on each of your pages/Fragments</p>\n\n<pre><code> View view = layoutInflater.inflate(R.layout.page, parent, false);\n ViewGroup viewGroup = view.findViewById(R.id.animated_viewgroup);\n viewGroup.getLayoutTransition().setAnimateParentHierarchy(false);\n</code></pre>\n\n<p>As looking at official documentation here</p>\n\n<p><a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2\" rel=\"noreferrer\">https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2</a></p>\n\n<p>It states that </p>\n\n<blockquote>\n  <p>If your pages contain LayoutTransitions, then those LayoutTransitions\n  must have animateParentHierarchy set to false. Note that if you have a\n  ViewGroup with animateLayoutChanges=\"true\" in your layout xml file, a\n  LayoutTransition is added automatically to that ViewGroup. You will\n  need to manually call\n  getLayoutTransition().setAnimateParentHierarchy(false) on that\n  ViewGroup after you inflated the xml layout.</p>\n</blockquote>\n\n<p>same your error log talks about on very first line</p>\n\n<pre><code>Fatal Exception: java.lang.IllegalStateException: Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=\"true\"), which interferes with the scrolling animation. Make sure to call getLayoutTransition().setAnimateParentHierarchy(false) on all ViewGroups with a LayoutTransition before an animation is started.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15556941,"reputation":25,"user_id":11223093,"display_name":"Andrew Barabash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593507645,"creation_date":1593507645,"answer_id":62653861,"question_id":60004140,"body_markdown":"I had the second error when used `viewPager2`.\r\nAs commented above, in my `fragment` layout I found `viewGroup` with `animateLayoutChanges=&quot;true&quot;`, then in fragment `OnViewCreated` I called \r\n\r\n    viewGroup.getLayoutTransition().setAnimateParentHierarchy(false);\r\n\r\nThat&#39;s fix my problem!","title":"Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation","body":"<p>I had the second error when used <code>viewPager2</code>.\nAs commented above, in my <code>fragment</code> layout I found <code>viewGroup</code> with <code>animateLayoutChanges=&quot;true&quot;</code>, then in fragment <code>OnViewCreated</code> I called</p>\n<pre><code>viewGroup.getLayoutTransition().setAnimateParentHierarchy(false);\n</code></pre>\n<p>That's fix my problem!</p>\n"},{"tags":[],"owner":{"account_id":17165441,"reputation":4402,"user_id":12423905,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627817403,"creation_date":1627817403,"answer_id":68609968,"question_id":60004140,"body_markdown":"Another Problem I had was, that I did not got the above exception, but my viewpager2 started to flick / reload the page, when the transition started. I was a bit confused by these examples and how to add set `setAnimateParentHiearchy` to false, so I would like to add another example, how to fix this problem:\r\n\r\n## ViewPager Layout ##\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;!-- Toolbar --&gt;\r\n            &lt;include\r\n                android:id=&quot;@+id/headline&quot;\r\n                layout=&quot;@layout/registration_toolbar&quot;\r\n                app:isBold=&quot;@{false}&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:outsideToolbarTitle=&quot;@{@string/fragment_user_data_toolbar_title}&quot; /&gt;\r\n    \r\n            &lt;com.google.android.material.tabs.TabLayout\r\n                android:id=&quot;@+id/tl_user_data&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/headline&quot; /&gt;\r\n    \r\n            &lt;!-- This Viewpager contains a fragment, which has android:animateLayoutChanges=&quot;true&quot; --&gt;\r\n            &lt;androidx.viewpager2.widget.ViewPager2\r\n                android:id=&quot;@+id/vp_user_data&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tl_user_data&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/layout&gt;\r\n\r\n## Fragment Layout (which will be inside the viewpager) ##\r\n\r\n       &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/outerContraintLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:animateLayoutChanges=&quot;true&quot; &gt; &lt;-- THIS WILL CAUSE PROBLEMS\r\n\r\n           &lt;!-- Deleted unnecessary parts --&gt;\r\n    \r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/layout&gt;\r\n\r\nIf you want to keep `android:animateLayoutChanges`, you have to call this inside your fragments `onViewCreated()`\r\n\r\n    class MyFragmentInsideViewPagerThatHasProblems : Fragment(R.layout.above_layout) {\r\n    \r\n         override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n            val viewGroup = requireView().findViewById&lt;ConstraintLayout&gt;(R.id.outerContraintLayout) as ViewGroup\r\n            viewGroup.layoutTransition.setAnimateParentHierarchy(false)\r\n         }\r\n    }","title":"Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation","body":"<p>Another Problem I had was, that I did not got the above exception, but my viewpager2 started to flick / reload the page, when the transition started. I was a bit confused by these examples and how to add set <code>setAnimateParentHiearchy</code> to false, so I would like to add another example, how to fix this problem:</p>\n<h2>ViewPager Layout</h2>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;!-- Toolbar --&gt;\n        &lt;include\n            android:id=&quot;@+id/headline&quot;\n            layout=&quot;@layout/registration_toolbar&quot;\n            app:isBold=&quot;@{false}&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:outsideToolbarTitle=&quot;@{@string/fragment_user_data_toolbar_title}&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabLayout\n            android:id=&quot;@+id/tl_user_data&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/headline&quot; /&gt;\n\n        &lt;!-- This Viewpager contains a fragment, which has android:animateLayoutChanges=&quot;true&quot; --&gt;\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:id=&quot;@+id/vp_user_data&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tl_user_data&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n<h2>Fragment Layout (which will be inside the viewpager)</h2>\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/outerContraintLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:animateLayoutChanges=&quot;true&quot; &gt; &lt;-- THIS WILL CAUSE PROBLEMS\n\n       &lt;!-- Deleted unnecessary parts --&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>If you want to keep <code>android:animateLayoutChanges</code>, you have to call this inside your fragments <code>onViewCreated()</code></p>\n<pre><code>class MyFragmentInsideViewPagerThatHasProblems : Fragment(R.layout.above_layout) {\n\n     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        val viewGroup = requireView().findViewById&lt;ConstraintLayout&gt;(R.id.outerContraintLayout) as ViewGroup\n        viewGroup.layoutTransition.setAnimateParentHierarchy(false)\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3730291,"reputation":1633,"user_id":3102913,"accept_rate":33,"display_name":"pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695712307,"creation_date":1695712307,"answer_id":77177734,"question_id":60004140,"body_markdown":"I was trying previous answers but none of them are working then I found a solution. Need to stop smooth animation for that we can use TabLayoutMediator\r\n\r\nYou need to add this with your viewpager2 \r\n\r\n     TabLayoutMediator(tabLayout,  binding.viewPager, false , false) { tab,position -&gt;\r\n            tab.text = tabTitle[position]\r\n        }.attach()\r\n\r\n If you don&#39;t want to show text no worry just commit this code.\r\nHope this will solve the issues.","title":"Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation","body":"<p>I was trying previous answers but none of them are working then I found a solution. Need to stop smooth animation for that we can use TabLayoutMediator</p>\n<p>You need to add this with your viewpager2</p>\n<pre><code> TabLayoutMediator(tabLayout,  binding.viewPager, false , false) { tab,position -&gt;\n        tab.text = tabTitle[position]\n    }.attach()\n</code></pre>\n<p>If you don't want to show text no worry just commit this code.\nHope this will solve the issues.</p>\n"}],"owner":{"account_id":3591968,"reputation":1393,"user_id":2997806,"accept_rate":45,"display_name":"waseefakhtar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3962,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1695712307,"creation_date":1580474482,"question_id":60004140,"body_markdown":"I use fragments with ViewPager2, and I notice two relevant IllegalStateExceptions in production (I can&#39;t reproduce it myself) occurring in devices like Xiaomi, Yulong, asus, vivo running Android 8 or 9:\r\n\r\n```\r\nFatal Exception: java.lang.IllegalStateException: Page can only be offset by a positive amount, not by -758\r\n       at androidx.viewpager2.widget.ScrollEventAdapter.updateScrollEventValues(ScrollEventAdapter.java:280)\r\n       at androidx.viewpager2.widget.ScrollEventAdapter.onScrolled(ScrollEventAdapter.java:178)\r\n       at androidx.recyclerview.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:5173)\r\n       at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5338)\r\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1029)\r\n       at android.view.Choreographer.doCallbacks(Choreographer.java:834)\r\n       at android.view.Choreographer.doFrame(Choreographer.java:760)\r\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1015)\r\n       at android.os.Handler.handleCallback(Handler.java:873)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loop(Looper.java:224)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7083)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:537)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n```\r\nand\r\n\r\n```\r\nFatal Exception: java.lang.IllegalStateException: Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation. Make sure to call getLayoutTransition().setAnimateParentHierarchy(false) on all ViewGroups with a LayoutTransition before an animation is started.\r\n       at androidx.viewpager2.widget.ScrollEventAdapter.updateScrollEventValues(ScrollEventAdapter.java:272)\r\n       at androidx.viewpager2.widget.ScrollEventAdapter.onScrolled(ScrollEventAdapter.java:178)\r\n       at androidx.recyclerview.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:5173)\r\n       at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5338)\r\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1029)\r\n       at android.view.Choreographer.doCallbacks(Choreographer.java:841)\r\n       at android.view.Choreographer.doFrame(Choreographer.java:769)\r\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1015)\r\n       at android.os.Handler.handleCallback(Handler.java:794)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loop(Looper.java:176)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6651)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\r\n```\r\n\r\nWhile looking around, I passed by the following thread: https://issuetracker.google.com/issues/129530305, which as I understood correctly, seems to summarize to set `animateLayoutChanges` to false on any parent layout of viewPager2 and that&#39;s what I did. Unfortunately, that didn&#39;t solve my issue. Then I found another thread: https://stackoverflow.com/questions/59660691/java-lang-illegalstateexception-page-can-only-be-offset-by-a-positive-amount, which seems to not help a lot. Any idea what else might cause the issue?","title":"Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=&quot;true&quot;), which interferes with the scrolling animation","body":"<p>I use fragments with ViewPager2, and I notice two relevant IllegalStateExceptions in production (I can't reproduce it myself) occurring in devices like Xiaomi, Yulong, asus, vivo running Android 8 or 9:</p>\n\n<pre><code>Fatal Exception: java.lang.IllegalStateException: Page can only be offset by a positive amount, not by -758\n       at androidx.viewpager2.widget.ScrollEventAdapter.updateScrollEventValues(ScrollEventAdapter.java:280)\n       at androidx.viewpager2.widget.ScrollEventAdapter.onScrolled(ScrollEventAdapter.java:178)\n       at androidx.recyclerview.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:5173)\n       at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5338)\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1029)\n       at android.view.Choreographer.doCallbacks(Choreographer.java:834)\n       at android.view.Choreographer.doFrame(Choreographer.java:760)\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1015)\n       at android.os.Handler.handleCallback(Handler.java:873)\n       at android.os.Handler.dispatchMessage(Handler.java:99)\n       at android.os.Looper.loop(Looper.java:224)\n       at android.app.ActivityThread.main(ActivityThread.java:7083)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:537)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Fatal Exception: java.lang.IllegalStateException: Page(s) contain a ViewGroup with a LayoutTransition (or animateLayoutChanges=\"true\"), which interferes with the scrolling animation. Make sure to call getLayoutTransition().setAnimateParentHierarchy(false) on all ViewGroups with a LayoutTransition before an animation is started.\n       at androidx.viewpager2.widget.ScrollEventAdapter.updateScrollEventValues(ScrollEventAdapter.java:272)\n       at androidx.viewpager2.widget.ScrollEventAdapter.onScrolled(ScrollEventAdapter.java:178)\n       at androidx.recyclerview.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:5173)\n       at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5338)\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1029)\n       at android.view.Choreographer.doCallbacks(Choreographer.java:841)\n       at android.view.Choreographer.doFrame(Choreographer.java:769)\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1015)\n       at android.os.Handler.handleCallback(Handler.java:794)\n       at android.os.Handler.dispatchMessage(Handler.java:99)\n       at android.os.Looper.loop(Looper.java:176)\n       at android.app.ActivityThread.main(ActivityThread.java:6651)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\n</code></pre>\n\n<p>While looking around, I passed by the following thread: <a href=\"https://issuetracker.google.com/issues/129530305\" rel=\"noreferrer\">https://issuetracker.google.com/issues/129530305</a>, which as I understood correctly, seems to summarize to set <code>animateLayoutChanges</code> to false on any parent layout of viewPager2 and that's what I did. Unfortunately, that didn't solve my issue. Then I found another thread: <a href=\"https://stackoverflow.com/questions/59660691/java-lang-illegalstateexception-page-can-only-be-offset-by-a-positive-amount\">java.lang.IllegalStateException: Page can only be offset by a positive amount</a>, which seems to not help a lot. Any idea what else might cause the issue?</p>\n"},{"tags":["java","android","firebase","fragment"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1695711704,"post_id":77177616,"comment_id":136057159,"body_markdown":"Did you try to read the data from the Realtime Database directly into your fragment?","body":"Did you try to read the data from the Realtime Database directly into your fragment?"},{"owner":{"account_id":29535933,"reputation":1,"user_id":22635527,"display_name":"Shariar Nafiz"},"score":0,"creation_date":1695713654,"post_id":77177616,"comment_id":136057560,"body_markdown":"@AlexMamo No, I want to use the data in all of my fragment, that&#39;s why i read the data in MainActivity.","body":"@AlexMamo No, I want to use the data in all of my fragment, that&#39;s why i read the data in MainActivity."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1695717172,"post_id":77177616,"comment_id":136058252,"body_markdown":"Why don&#39;t want that?","body":"Why don&#39;t want that?"},{"owner":{"account_id":29535933,"reputation":1,"user_id":22635527,"display_name":"Shariar Nafiz"},"score":0,"creation_date":1695721676,"post_id":77177616,"comment_id":136059214,"body_markdown":"@AlexMamo Don&#39;t know why. But I think that will be complex. But surely i&#39;ll try this..\nFor now how can i solve this problem?","body":"@AlexMamo Don&#39;t know why. But I think that will be complex. But surely i&#39;ll try this.. For now how can i solve this problem?"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1695728029,"post_id":77177616,"comment_id":136060445,"body_markdown":"Couldn&#39;t you simply call `loadFrag(HomeFragment.getInstance(userName, userCourse), 0);` from your `onDataChange()` method in loadData()?","body":"Couldn&#39;t you simply call <code>loadFrag(HomeFragment.getInstance(userName, userCourse), 0);</code> from your <code>onDataChange()</code> method in loadData()?"},{"owner":{"account_id":29535933,"reputation":1,"user_id":22635527,"display_name":"Shariar Nafiz"},"score":0,"creation_date":1695729679,"post_id":77177616,"comment_id":136060769,"body_markdown":"@JornRigter let me try this, But i&#39;ve call the loadData() method in onStart() method.","body":"@JornRigter let me try this, But i&#39;ve call the loadData() method in onStart() method."},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":1,"creation_date":1695732965,"post_id":77177616,"comment_id":136061520,"body_markdown":"Yes, but in onStart() your data might not have loaded yet","body":"Yes, but in onStart() your data might not have loaded yet"},{"owner":{"account_id":29535933,"reputation":1,"user_id":22635527,"display_name":"Shariar Nafiz"},"score":0,"creation_date":1695733751,"post_id":77177616,"comment_id":136061683,"body_markdown":"@JornRigter yeah, but when i call the loadData() in onCreate , my app crashes.","body":"@JornRigter yeah, but when i call the loadData() in onCreate , my app crashes."},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1695736295,"post_id":77177616,"comment_id":136062277,"body_markdown":"Well I guess that&#39;s a different issue? Could you add the stack trace here so I can have a look for you?","body":"Well I guess that&#39;s a different issue? Could you add the stack trace here so I can have a look for you?"},{"owner":{"account_id":29535933,"reputation":1,"user_id":22635527,"display_name":"Shariar Nafiz"},"score":0,"creation_date":1695737173,"post_id":77177616,"comment_id":136062499,"body_markdown":"what is stack trace? I don&#39;t know.","body":"what is stack trace? I don&#39;t know."}],"owner":{"account_id":29535933,"reputation":1,"user_id":22635527,"display_name":"Shariar Nafiz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695711997,"creation_date":1695711336,"question_id":77177616,"body_markdown":"I want to show my user name from database to the fragment. I get the data from Firebase on MainActivity and then pass that data to my target fragment. When I start the app, the fragment doesn&#39;t show the data from the database, but if I load another fragment and then back to target fragment it starts showing.\r\n\r\nMain Activity Code:\r\n```\r\npackage com.shariarunix.examiner;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private String uniqueKey;\r\n    private String userName, userEmail, userPhone, userCourse;\r\n    List&lt;StudentDataModel&gt; sDataList = new ArrayList&lt;&gt;();\r\n    BottomNavigationView navBottom;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Default Fragment\r\n        loadFrag(HomeFragment.getInstance(userName, userCourse), 0);\r\n        Toast.makeText(MainActivity.this, &quot;&quot;+userName+&quot; : &quot;+userCourse, Toast.LENGTH_SHORT).show();\r\n        // Add Operation on Bottom Navigation Bar\r\n        navBottom = findViewById(R.id.nav_bar);\r\n        navBottom.getMenu().findItem(R.id.home).setChecked(true);\r\n        navBottom.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()){\r\n                    case R.id.profile:\r\n                        // Loading Profile Fragment\r\n                        loadFrag(new ProfileFragment(), 1);\r\n                        break;\r\n                    case R.id.home:\r\n                        // Load Home Fragment\r\n                        loadFrag(HomeFragment.getInstance(userName,userCourse), 1);\r\n                        break;\r\n                    case R.id.resource:\r\n                        // Load R\r\n                        loadFrag(new ResourceFragment(sDataList), 1);\r\n                        Toast.makeText(MainActivity.this, &quot;Resource&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    default:\r\n                        Toast.makeText(MainActivity.this, &quot;Bonk&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    //Swapping Fragment\r\n    public void loadFrag(Fragment fragment, int flag){\r\n        FragmentManager fragManager = getSupportFragmentManager();\r\n        FragmentTransaction fragTrans = fragManager.beginTransaction();\r\n\r\n        if (flag == 0){\r\n            fragTrans.add(R.id.fragment_frame, fragment);\r\n        }else{\r\n            fragTrans.replace(R.id.fragment_frame, fragment);\r\n        }\r\n        fragTrans.commit();\r\n    }\r\n    // Load Data from database\r\n    public void loadData(){\r\n        DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\n        mDatabase.child(&quot;Student&#39;s Data&quot;).child(uniqueKey).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                sDataList.clear();\r\n                StudentDataModel sData = snapshot.getValue(StudentDataModel.class);\r\n                assert sData != null;\r\n                userName = sData.getName();\r\n                userEmail = sData.getEmail();\r\n                userPhone = sData.getPhone();\r\n                userCourse = sData.getCourse();\r\n                sDataList.add(sData);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Hoy nai&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        uniqueKey = getIntent().getStringExtra(&quot;uniqueKey&quot;);\r\n        loadData();\r\n    }\r\n}\r\n````\r\n````\r\nFragment Code:\r\n\r\n\r\npackage com.shariarunix.examiner;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String U_NAME = &quot;uName&quot;;\r\n    private static final String U_COURSE = &quot;uCourse&quot;;\r\n    private String uName, uCourse;\r\n    public HomeFragment(){\r\n        //Default Empty Constructor\r\n    }\r\n    public static HomeFragment getInstance(String uName, String uCourse){\r\n        HomeFragment homeFragment = new HomeFragment();\r\n\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(U_NAME, uName);\r\n        bundle.putString(U_COURSE, uCourse);\r\n\r\n        homeFragment.setArguments(bundle);\r\n\r\n        return homeFragment;\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        TextView txtShowName = view.findViewById(R.id.txt_show_name_home);\r\n\r\n        AppCompatButton btnExamReadMore = view.findViewById(R.id.btn_exam_read_more);\r\n\r\n        if (getArguments()!= null){\r\n            uName = getArguments().getString(U_NAME);\r\n            uCourse = getArguments().getString(U_COURSE);\r\n        }\r\n        txtShowName.setText(uName);\r\n\r\n        btnExamReadMore.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getActivity(), ExamInfoActivity.class));\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\nI expect it to show the data immediately when I start the app.","title":"Trouble with showing data from database on a fragment","body":"<p>I want to show my user name from database to the fragment. I get the data from Firebase on MainActivity and then pass that data to my target fragment. When I start the app, the fragment doesn't show the data from the database, but if I load another fragment and then back to target fragment it starts showing.</p>\n<p>Main Activity Code:</p>\n<pre><code>package com.shariarunix.examiner;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationBarView;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    private String uniqueKey;\n    private String userName, userEmail, userPhone, userCourse;\n    List&lt;StudentDataModel&gt; sDataList = new ArrayList&lt;&gt;();\n    BottomNavigationView navBottom;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Default Fragment\n        loadFrag(HomeFragment.getInstance(userName, userCourse), 0);\n        Toast.makeText(MainActivity.this, &quot;&quot;+userName+&quot; : &quot;+userCourse, Toast.LENGTH_SHORT).show();\n        // Add Operation on Bottom Navigation Bar\n        navBottom = findViewById(R.id.nav_bar);\n        navBottom.getMenu().findItem(R.id.home).setChecked(true);\n        navBottom.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.profile:\n                        // Loading Profile Fragment\n                        loadFrag(new ProfileFragment(), 1);\n                        break;\n                    case R.id.home:\n                        // Load Home Fragment\n                        loadFrag(HomeFragment.getInstance(userName,userCourse), 1);\n                        break;\n                    case R.id.resource:\n                        // Load R\n                        loadFrag(new ResourceFragment(sDataList), 1);\n                        Toast.makeText(MainActivity.this, &quot;Resource&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    default:\n                        Toast.makeText(MainActivity.this, &quot;Bonk&quot;, Toast.LENGTH_SHORT).show();\n                }\n                return true;\n            }\n        });\n    }\n    //Swapping Fragment\n    public void loadFrag(Fragment fragment, int flag){\n        FragmentManager fragManager = getSupportFragmentManager();\n        FragmentTransaction fragTrans = fragManager.beginTransaction();\n\n        if (flag == 0){\n            fragTrans.add(R.id.fragment_frame, fragment);\n        }else{\n            fragTrans.replace(R.id.fragment_frame, fragment);\n        }\n        fragTrans.commit();\n    }\n    // Load Data from database\n    public void loadData(){\n        DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\n        mDatabase.child(&quot;Student's Data&quot;).child(uniqueKey).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                sDataList.clear();\n                StudentDataModel sData = snapshot.getValue(StudentDataModel.class);\n                assert sData != null;\n                userName = sData.getName();\n                userEmail = sData.getEmail();\n                userPhone = sData.getPhone();\n                userCourse = sData.getCourse();\n                sDataList.add(sData);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(MainActivity.this, &quot;Hoy nai&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n    @Override\n    protected void onStart() {\n        super.onStart();\n        uniqueKey = getIntent().getStringExtra(&quot;uniqueKey&quot;);\n        loadData();\n    }\n}\n</code></pre>\n<pre><code>Fragment Code:\n\n\npackage com.shariarunix.examiner;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.appcompat.widget.AppCompatButton;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HomeFragment extends Fragment {\n    private static final String U_NAME = &quot;uName&quot;;\n    private static final String U_COURSE = &quot;uCourse&quot;;\n    private String uName, uCourse;\n    public HomeFragment(){\n        //Default Empty Constructor\n    }\n    public static HomeFragment getInstance(String uName, String uCourse){\n        HomeFragment homeFragment = new HomeFragment();\n\n        Bundle bundle = new Bundle();\n        bundle.putString(U_NAME, uName);\n        bundle.putString(U_COURSE, uCourse);\n\n        homeFragment.setArguments(bundle);\n\n        return homeFragment;\n    }\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n        TextView txtShowName = view.findViewById(R.id.txt_show_name_home);\n\n        AppCompatButton btnExamReadMore = view.findViewById(R.id.btn_exam_read_more);\n\n        if (getArguments()!= null){\n            uName = getArguments().getString(U_NAME);\n            uCourse = getArguments().getString(U_COURSE);\n        }\n        txtShowName.setText(uName);\n\n        btnExamReadMore.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(getActivity(), ExamInfoActivity.class));\n            }\n        });\n        return view;\n    }\n}\n```\n\nI expect it to show the data immediately when I start the app.\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8861242,"reputation":389,"user_id":6617422,"display_name":"idiotduffer"},"score":1,"creation_date":1694669387,"post_id":77101072,"comment_id":135922105,"body_markdown":"Please go through with the following explanation given : https://stackoverflow.com/questions/52669760/what-is-main-purpose-of-interface-for-service-and-dao-in-spring-framework","body":"Please go through with the following explanation given : <a href=\"https://stackoverflow.com/questions/52669760/what-is-main-purpose-of-interface-for-service-and-dao-in-spring-framework\" title=\"what is main purpose of interface for service and dao in spring framework\">stackoverflow.com/questions/52669760/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1694716558,"creation_date":1694716558,"answer_id":77107592,"question_id":77101072,"body_markdown":"It is a way to organise and structure you code in a maintainable, readable and clean style.\r\n\r\nTo keep it very simple:\r\n\r\n**Controller**:\r\nProvides the interface if you use REST API. It injects the Services.\r\n\r\n**Service**:\r\nThe class where the business logic is located. It injects the Repositories.\r\n\r\n**Repository**:\r\nUsed for data access. Like a JpaRepository or with JDBC-Templates.\r\n\r\n","title":"when to use repository, service or only dao in a project?","body":"<p>It is a way to organise and structure you code in a maintainable, readable and clean style.</p>\n<p>To keep it very simple:</p>\n<p><strong>Controller</strong>:\nProvides the interface if you use REST API. It injects the Services.</p>\n<p><strong>Service</strong>:\nThe class where the business logic is located. It injects the Repositories.</p>\n<p><strong>Repository</strong>:\nUsed for data access. Like a JpaRepository or with JDBC-Templates.</p>\n"},{"tags":[],"owner":{"account_id":26506655,"reputation":110,"user_id":20142712,"display_name":"not_a_nerd"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695711944,"creation_date":1694718715,"answer_id":77107789,"question_id":77101072,"body_markdown":"The `Controller`, `Service` and `Repository` classes are part of the `Three Layer Codebase` with the purpose of structuring one&#39;s code.\r\n\r\nThe **Controller** manages the model and presents the view.\r\n\r\nThe **Service** class contains business logic (a calculation or decision-making process) and acts as a &quot;connecter&quot; between the Controller class and Repository class.\r\n\r\nThe **Repository** class makes **CRUD** operations (**C**reate, **R**ead, **U**pdate, **D**elete) to the datastore.\r\n\r\n____________________________________________________________________________\r\n**The Process:**\r\n\r\n 1. `Controller` calls the `Service` Class\r\n 2. `Service` class calls the `Repository` class\r\n 3. `Repository` class gets the data and sends it via the `Service` class back to the `Controller` class\r\n\r\n_______________________________\r\n\r\nSo, whenever you are starting a new project I recommend you to create separate folders for the respective class (`Controller`, `Repository` and `Service`) to have a clear structure in your code. ","title":"when to use repository, service or only dao in a project?","body":"<p>The <code>Controller</code>, <code>Service</code> and <code>Repository</code> classes are part of the <code>Three Layer Codebase</code> with the purpose of structuring one's code.</p>\n<p>The <strong>Controller</strong> manages the model and presents the view.</p>\n<p>The <strong>Service</strong> class contains business logic (a calculation or decision-making process) and acts as a &quot;connecter&quot; between the Controller class and Repository class.</p>\n<p>The <strong>Repository</strong> class makes <strong>CRUD</strong> operations (<strong>C</strong>reate, <strong>R</strong>ead, <strong>U</strong>pdate, <strong>D</strong>elete) to the datastore.</p>\n<hr />\n<p><strong>The Process:</strong></p>\n<ol>\n<li><code>Controller</code> calls the <code>Service</code> Class</li>\n<li><code>Service</code> class calls the <code>Repository</code> class</li>\n<li><code>Repository</code> class gets the data and sends it via the <code>Service</code> class back to the <code>Controller</code> class</li>\n</ol>\n<hr />\n<p>So, whenever you are starting a new project I recommend you to create separate folders for the respective class (<code>Controller</code>, <code>Repository</code> and <code>Service</code>) to have a clear structure in your code.</p>\n"}],"owner":{"account_id":28467433,"reputation":1,"user_id":21783292,"display_name":"Andr&#233; Lu&#237;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699294693,"answer_count":2,"score":-1,"last_activity_date":1695711944,"creation_date":1694649479,"question_id":77101072,"body_markdown":"The question is exactly like the title says: when and how to use it or repository and service are all the same, just two words for the same thing? I saw a project where the developer uses a dao interface and a service interface that do almost the same thing. Why not just keep the dao?","title":"when to use repository, service or only dao in a project?","body":"<p>The question is exactly like the title says: when and how to use it or repository and service are all the same, just two words for the same thing? I saw a project where the developer uses a dao interface and a service interface that do almost the same thing. Why not just keep the dao?</p>\n"},{"tags":["java","tree","family-tree"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1442212227,"post_id":32558135,"comment_id":52972873,"body_markdown":"Depends on what relational lookups you want to do: do you want children for a given parent, parents for a given child, both, neither, or other?","body":"Depends on what relational lookups you want to do: do you want children for a given parent, parents for a given child, both, neither, or other?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1442212301,"post_id":32558135,"comment_id":52972903,"body_markdown":"Also: can you provide a link to the other question?","body":"Also: can you provide a link to the other question?"},{"owner":{"account_id":6949516,"reputation":56,"user_id":5332603,"display_name":"Tj895"},"score":0,"creation_date":1442212500,"post_id":32558135,"comment_id":52972989,"body_markdown":"Thanks for your input!\n\nI wanted to produce a tree of some sort data-structure entity that would contain information about a node and possess more than 2 children nodes, unlike the BInary Tree structure. I would want to be able to access a child node via its parent and vice-versa through which a tree gui would be represented showing birth/marriage/death records of each individual person. A person obviously being represented by a single node who may have 0-&gt;2 siblings. Perhaps further implementing siblings from one parent.\nI would like to use a data structure other than an ArrayList.","body":"Thanks for your input!  I wanted to produce a tree of some sort data-structure entity that would contain information about a node and possess more than 2 children nodes, unlike the BInary Tree structure. I would want to be able to access a child node via its parent and vice-versa through which a tree gui would be represented showing birth/marriage/death records of each individual person. A person obviously being represented by a single node who may have 0-&gt;2 siblings. Perhaps further implementing siblings from one parent. I would like to use a data structure other than an ArrayList."},{"owner":{"account_id":6949516,"reputation":56,"user_id":5332603,"display_name":"Tj895"},"score":0,"creation_date":1442212547,"post_id":32558135,"comment_id":52973007,"body_markdown":"Here is the link about forest data structures:\n\nhttp://programmers.stackexchange.com/questions/285418/name-of-data-structure-thats-tree-like-with-multiple-root-nodes","body":"Here is the link about forest data structures:  <a href=\"http://programmers.stackexchange.com/questions/285418/name-of-data-structure-thats-tree-like-with-multiple-root-nodes\" title=\"name of data structure thats tree like with multiple root nodes\">programmers.stackexchange.com/questions/285418/&hellip;</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1442212598,"post_id":32558135,"comment_id":52973034,"body_markdown":"Please add the question link to your question.","body":"Please add the question link to your question."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685337221,"post_id":32558135,"comment_id":134642271,"body_markdown":"Would you not just use a many to many data-structure?  You can just implement your own.  Is there a specific feature of a node structure that is required or preferred?  The design is very basic.","body":"Would you not just use a many to many data-structure?  You can just implement your own.  Is there a specific feature of a node structure that is required or preferred?  The design is very basic."}],"answers":[{"comments":[{"owner":{"account_id":6949516,"reputation":56,"user_id":5332603,"display_name":"Tj895"},"score":0,"creation_date":1442213881,"post_id":32558674,"comment_id":52973550,"body_markdown":"Thank you for your suggestion, but what if I would like to use a tree structure rather than an ArrayList?\nThat is exactly my point with a project of this kind, there may be a child from one parent who is siblings with another child from another parent i.e Mary and Sam come from one father being the same and different mothers. I am not so concerned about adoption, although its true speaking of which I didn&#39;t think about.","body":"Thank you for your suggestion, but what if I would like to use a tree structure rather than an ArrayList? That is exactly my point with a project of this kind, there may be a child from one parent who is siblings with another child from another parent i.e Mary and Sam come from one father being the same and different mothers. I am not so concerned about adoption, although its true speaking of which I didn&#39;t think about."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685337768,"post_id":32558674,"comment_id":134642313,"body_markdown":"@Tj895, I believe what you would do here is remove the list from the design, and use just the two enclosing nodes.  And when compiling the list, you simply point each node to the parent nodes.","body":"@Tj895, I believe what you would do here is remove the list from the design, and use just the two enclosing nodes.  And when compiling the list, you simply point each node to the parent nodes."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442213709,"creation_date":1442213206,"answer_id":32558674,"question_id":32558135,"body_markdown":"If you want to represent a list of children, simply have a list of Person instances inside your Person class:\n\n    class Person {\n      List&lt;Person&gt; children;\n      Person father;\n      Person mother;\n    }\n\nThen you can add as many Persons as you want to the children list.\n\nI also added father and mother fields here to allow you to navigate to parents.\n\nOne tip: Be very thorough with your modelling. Familial relations have some easy to miss cases, e.g. adoption. &quot;Father&quot; and &quot;mother&quot; is almost certainly too simplistic.","title":"Best way of implementing a family tree in Java using a data structure","body":"<p>If you want to represent a list of children, simply have a list of Person instances inside your Person class:</p>\n\n<pre><code>class Person {\n  List&lt;Person&gt; children;\n  Person father;\n  Person mother;\n}\n</code></pre>\n\n<p>Then you can add as many Persons as you want to the children list.</p>\n\n<p>I also added father and mother fields here to allow you to navigate to parents.</p>\n\n<p>One tip: Be very thorough with your modelling. Familial relations have some easy to miss cases, e.g. adoption. \"Father\" and \"mother\" is almost certainly too simplistic.</p>\n"}],"owner":{"account_id":6949516,"reputation":56,"user_id":5332603,"display_name":"Tj895"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695711905,"creation_date":1442210323,"question_id":32558135,"body_markdown":"https://softwareengineering.stackexchange.com/questions/285418/name-of-data-structure-thats-tree-like-with-multiple-root-nodes\r\n\r\nI stumbled upon the above where someone answered a question regarding implementing a tree that has &gt; 2 nodes and I just wanted to get someone&#39;s thoughts on how best to implement a family tree with parent nodes which have more than two children nodes. I had looked in Binary Trees, but since they can only have two children nodes decided to research elsewhere. I also looked into using a Forest Data Structure to implement a Family Genealogy Tree that consist of multiple nodes with 0-multiple children. Possibly may use a Forest Tree, however from most representations that I searched up on and found, it looks similar to a disjointed set, but I do not want a parent node to already be pre-destined to have no children.\r\nI hope it makes sense what I am saying.\r\nAny advice or comments anyone is able to offer would be much appreciated.\r\n\r\n","title":"Best way of implementing a family tree in Java using a data structure","body":"<p><a href=\"https://softwareengineering.stackexchange.com/questions/285418/name-of-data-structure-thats-tree-like-with-multiple-root-nodes\">https://softwareengineering.stackexchange.com/questions/285418/name-of-data-structure-thats-tree-like-with-multiple-root-nodes</a></p>\n\n<p>I stumbled upon the above where someone answered a question regarding implementing a tree that has > 2 nodes and I just wanted to get someone's thoughts on how best to implement a family tree with parent nodes which have more than two children nodes. I had looked in Binary Trees, but since they can only have two children nodes decided to research elsewhere. I also looked into using a Forest Data Structure to implement a Family Genealogy Tree that consist of multiple nodes with 0-multiple children. Possibly may use a Forest Tree, however from most representations that I searched up on and found, it looks similar to a disjointed set, but I do not want a parent node to already be pre-destined to have no children.\nI hope it makes sense what I am saying.\nAny advice or comments anyone is able to offer would be much appreciated.</p>\n"},{"tags":["java","android-studio","spotbugs"],"comments":[{"owner":{"account_id":25075080,"reputation":11,"user_id":18928584,"display_name":"Raiden"},"score":1,"creation_date":1650797668,"post_id":71987705,"comment_id":127202682,"body_markdown":"note that the &quot;D:/AndroidSDK/bin/java&quot; is not a valid path since there only exists AndroidSDK directory but no bin and bin/java in it.","body":"note that the &quot;D:/AndroidSDK/bin/java&quot; is not a valid path since there only exists AndroidSDK directory but no bin and bin/java in it."},{"owner":{"account_id":3532967,"reputation":764,"user_id":2951971,"accept_rate":57,"display_name":"Freddy"},"score":0,"creation_date":1691551520,"post_id":71987705,"comment_id":135505545,"body_markdown":"Did u solved this ?","body":"Did u solved this ?"}],"owner":{"account_id":25075080,"reputation":11,"user_id":18928584,"display_name":"Raiden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695711899,"creation_date":1650797594,"question_id":71987705,"body_markdown":"The full error message is:\r\n\r\n*java: Cannot run program &quot;D:/AndroidSDK/bin/java&quot; (in directory &quot;C:\\Users\\hp\\AppData\\Local\\Google\\AndroidStudio2021.1\\compile-server&quot; ): CreateProcess error=2, 系统找不到指定的文件。*\r\n\r\nI was trying to use spotbugs on project Anki-Android, and when i do spotbug checking on java or kt files under directory &quot;AnkiAndroid&quot; which is the main application folder, it shows this message.\r\n\r\nUsing Android 9, api = 29. JDK 11. Spotbugs using the plugin version downloaded from intelliJ market place.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIViR.png","title":"java: Cannot run program &quot;D:/AndroidSDK/bin/java&quot; CreateProcess error=2,","body":"<p>The full error message is:</p>\n<p><em>java: Cannot run program &quot;D:/AndroidSDK/bin/java&quot; (in directory &quot;C:\\Users\\hp\\AppData\\Local\\Google\\AndroidStudio2021.1\\compile-server&quot; ): CreateProcess error=2, 系统找不到指定的文件。</em></p>\n<p>I was trying to use spotbugs on project Anki-Android, and when i do spotbug checking on java or kt files under directory &quot;AnkiAndroid&quot; which is the main application folder, it shows this message.</p>\n<p>Using Android 9, api = 29. JDK 11. Spotbugs using the plugin version downloaded from intelliJ market place.</p>\n<p><a href=\"https://i.stack.imgur.com/rIViR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9972,"page":162,"page_size":100}
