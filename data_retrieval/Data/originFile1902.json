{"items":[{"tags":["java","encoding","utf-8","jms","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1635399369,"post_id":69747852,"comment_id":123288341,"body_markdown":"Your instinct to try and just see the bytes of the message is a good one. I suggest you try running something like the IBM-supplied browse sample `amqsbcg` against your queue so that you can see all the hex bytes of the message. This will help to debug the issue, likely as you say with a character in the message that is not valid. To run `amqsbcg` provide the queue name as parameter 1 and the QMgrName as parameter 2. If you need to run as a client the MQSERVER environment variable can be used.","body":"Your instinct to try and just see the bytes of the message is a good one. I suggest you try running something like the IBM-supplied browse sample <code>amqsbcg</code> against your queue so that you can see all the hex bytes of the message. This will help to debug the issue, likely as you say with a character in the message that is not valid. To run <code>amqsbcg</code> provide the queue name as parameter 1 and the QMgrName as parameter 2. If you need to run as a client the MQSERVER environment variable can be used."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1635399452,"post_id":69747852,"comment_id":123288362,"body_markdown":"One question while you try the above out. Is there any possibility that this queue has a message level protection policy applied to it? i.e the message data is encrypted?","body":"One question while you try the above out. Is there any possibility that this queue has a message level protection policy applied to it? i.e the message data is encrypted?"},{"owner":{"account_id":17053887,"reputation":5,"user_id":12338909,"display_name":"brown_sunshine"},"score":0,"creation_date":1635440602,"post_id":69747852,"comment_id":123305615,"body_markdown":"@MoragHughson Thank you so much for your reponse! I am still in the process of running `amqsbcg` but i did some digging around in the producer code (which is written in C, not sure if that changes anything). I looked at the Queue properties that were set for this Queue and the MQMD object was set to `MQMD_DEFAULT`. However in the documentation the default value for encoding &quot;depends on the enviornment&quot;. Not sure if this information is useful but i will get back to you as soon as i run the sample.","body":"@MoragHughson Thank you so much for your reponse! I am still in the process of running <code>amqsbcg</code> but i did some digging around in the producer code (which is written in C, not sure if that changes anything). I looked at the Queue properties that were set for this Queue and the MQMD object was set to <code>MQMD_DEFAULT</code>. However in the documentation the default value for encoding &quot;depends on the enviornment&quot;. Not sure if this information is useful but i will get back to you as soon as i run the sample."},{"owner":{"account_id":17053887,"reputation":5,"user_id":12338909,"display_name":"brown_sunshine"},"score":0,"creation_date":1635444245,"post_id":69747852,"comment_id":123306962,"body_markdown":"@MoragHughson I have added the results of the sample to my post. I&#39;ve yet to figure out if the message is encrypted (I will have to reach out to my colleague), however, if it does  happen to be encrypted, how would that cause a concern/what would be the solution for this?","body":"@MoragHughson I have added the results of the sample to my post. I&#39;ve yet to figure out if the message is encrypted (I will have to reach out to my colleague), however, if it does  happen to be encrypted, how would that cause a concern/what would be the solution for this?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1635452705,"post_id":69747852,"comment_id":123309778,"body_markdown":"Your message does not appear to be encrypted. If it was, and you weren&#39;t  correctly set up to decrypt it, you would have got all sorts of weird characters instead of your data. Looking at your data it is not solely string data so I guess that is the problem.","body":"Your message does not appear to be encrypted. If it was, and you weren&#39;t  correctly set up to decrypt it, you would have got all sorts of weird characters instead of your data. Looking at your data it is not solely string data so I guess that is the problem."},{"owner":{"account_id":17053887,"reputation":5,"user_id":12338909,"display_name":"brown_sunshine"},"score":0,"creation_date":1635456394,"post_id":69747852,"comment_id":123310957,"body_markdown":"@MoragHughson Thank you for your response! Yes, it appears that there are special characters/numbers in raw form. Because of these non-string values, i tried to take the `BytesMessage` approach but i was met with the second error on my post. Does this mean that the message can only be received as a `TextMessage` ? I am not sure how i should proceed with this/or if i should try to receive the messages from this queue using another jms data type (e.g. `JMSStreamMessage`)","body":"@MoragHughson Thank you for your response! Yes, it appears that there are special characters/numbers in raw form. Because of these non-string values, i tried to take the <code>BytesMessage</code> approach but i was met with the second error on my post. Does this mean that the message can only be received as a <code>TextMessage</code> ? I am not sure how i should proceed with this/or if i should try to receive the messages from this queue using another jms data type (e.g. <code>JMSStreamMessage</code>)"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1635474095,"post_id":69747852,"comment_id":123314152,"body_markdown":"Looks like you have an excellent answer from @Roger below which I cannot add anything further to. :-)","body":"Looks like you have an excellent answer from @Roger below which I cannot add anything further to. :-)"},{"owner":{"account_id":17053887,"reputation":5,"user_id":12338909,"display_name":"brown_sunshine"},"score":0,"creation_date":1635474790,"post_id":69747852,"comment_id":123314261,"body_markdown":"@MoragHughson Thank you so much for your help! Greatly appreciated :)","body":"@MoragHughson Thank you so much for your help! Greatly appreciated :)"}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635463255,"creation_date":1635463255,"answer_id":69761989,"question_id":69747852,"body_markdown":"So, you have an interesting problem &amp; I&#39;ve been down this road before.\r\n\r\nIt is the opposite of what George Costanza from Friends would say:  &quot;it&#39;s me not you&quot;.  In your case, it is the sender and not you.\r\n\r\nThere are 3 important pieces of information from the amqsbcg dump:\r\n\r\n    Encoding : 546  CodedCharSetId : 1208\r\n    Format : &#39;MQSTR   &#39;\r\n    00000000:  0000 0000 B3DC B059 6400 0000 524D 5320           &#39;.....?Yd...RMS &#39;\r\n\r\n(1) That message is not a JMS (aka MQRFH2) message but JMS/MQ layer will turn it into a JMS message for the application.  \r\n- If the MQMD Format field is set to &quot;MQSTR   &quot; then the MQ/JMS layer will create a TextMessage.\r\n- If the MQMD Format field is set to &quot;        &quot; (all blank) then the MQ/JMS layer will create a BytesMessage.\r\n\r\n(2) Since the incoming message&#39;s MQMD Format field is set to &quot;MQSTR   &quot;, the JMS/MQ layer will attempt to convert it from the CCSID of 1208 to the CCSID of your JVM.  The problem comes from the fact that you have non-alphanumeric data in your message.  Lots of binary zeroes in the first 12 bytes.\r\n\r\nYou have 2 options:\r\n\r\n(1) Ask the sender to stop including non-alphanumeric data in the message.\r\n\r\n(2) If the non-alphanumeric data is important then tell the sender to set the message&#39;s MQMD Format field to &quot;      &quot; (all blank).  Then when you get the message, you simply cast it as BytesMessage.\r\n\r\nMost likely some junior programmer copied code from StackOverflow or somewhere else and used it without understanding what the code did.\r\n\r\n*Note to future MQ developers/programmers:* If your message payload has non-alphanumeric data then ***never ever*** set the message&#39;s MQMD Format field to &quot;MQSTR &quot;.  ","title":"IBMMQ consumer application unable to consume TextMessage ( JMSCMQ1049: The character set &#39;1208(UTF-8) Unmappable Action: REPORT)","body":"<p>So, you have an interesting problem &amp; I've been down this road before.</p>\n<p>It is the opposite of what George Costanza from Friends would say:  &quot;it's me not you&quot;.  In your case, it is the sender and not you.</p>\n<p>There are 3 important pieces of information from the amqsbcg dump:</p>\n<pre><code>Encoding : 546  CodedCharSetId : 1208\nFormat : 'MQSTR   '\n00000000:  0000 0000 B3DC B059 6400 0000 524D 5320           '.....?Yd...RMS '\n</code></pre>\n<p>(1) That message is not a JMS (aka MQRFH2) message but JMS/MQ layer will turn it into a JMS message for the application.</p>\n<ul>\n<li>If the MQMD Format field is set to &quot;MQSTR   &quot; then the MQ/JMS layer will create a TextMessage.</li>\n<li>If the MQMD Format field is set to &quot;        &quot; (all blank) then the MQ/JMS layer will create a BytesMessage.</li>\n</ul>\n<p>(2) Since the incoming message's MQMD Format field is set to &quot;MQSTR   &quot;, the JMS/MQ layer will attempt to convert it from the CCSID of 1208 to the CCSID of your JVM.  The problem comes from the fact that you have non-alphanumeric data in your message.  Lots of binary zeroes in the first 12 bytes.</p>\n<p>You have 2 options:</p>\n<p>(1) Ask the sender to stop including non-alphanumeric data in the message.</p>\n<p>(2) If the non-alphanumeric data is important then tell the sender to set the message's MQMD Format field to &quot;      &quot; (all blank).  Then when you get the message, you simply cast it as BytesMessage.</p>\n<p>Most likely some junior programmer copied code from StackOverflow or somewhere else and used it without understanding what the code did.</p>\n<p><em>Note to future MQ developers/programmers:</em> If your message payload has non-alphanumeric data then <em><strong>never ever</strong></em> set the message's MQMD Format field to &quot;MQSTR &quot;.</p>\n"}],"owner":{"account_id":17053887,"reputation":5,"user_id":12338909,"display_name":"brown_sunshine"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69761989,"answer_count":1,"score":0,"last_activity_date":1635475375,"creation_date":1635390832,"question_id":69747852,"body_markdown":"I have a consumer application that uses IBMMQ to consume messages from the queue manager. I have no control over the publisher, only the consumer. Here is the part of the code for my consumer: \r\n\r\n```\r\nwhile(true) {\r\n    message = (TextMessage) queueReceiver.receive(200);\r\n                \r\n    if (message != null) {\r\n             messageFile = messageTypeToListenerMapping.get(type).generateMessageNameAndWriteToDisk(message.getText(), source, saveDirectory);\r\n    } else {\r\n             break;\r\n    }      \r\n```\r\n\r\nThis code works fine and is able to retrieve the message as a `TextMessage` object for almost all of my queues except for one queue. When the application attempts to retrieve a message from this queue, I get this error:\r\n\r\n```\r\n2021-10-05 22:12:31.831 DEBUG 30050 --- [nio-8181-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/retrieveAllMessagesFromQueue&quot;, parameters={}\r\n2021-10-05 22:12:31.832 DEBUG 30050 --- [nio-8181-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to public java.util.Map&lt;java.lang.String, java.util.Map&lt;java.lang.String, java.util.Map&lt;java.lang.String, java.lang.Integer&gt;&gt;&gt;  ,\r\n2021-10-05 22:12:36.882 DEBUG 30050 --- [nio-8181-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler public Exception.ApiErrorResponse Octopus.controller.OctopusRestController.handleJmsException(javax.jms.JMSException)\r\n2021-10-05 22:12:36.899 DEBUG 30050 --- [nio-8181-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n2021-10-05 22:12:36.899 DEBUG 30050 --- [nio-8181-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.ApiErrorResponse@4be14d5e]\r\n2021-10-05 22:12:36.900 DEBUG 30050 --- [nio-8181-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.ibm.msg.client.jms.DetailedJMSException: JMSCMQ1049: The character set &#39;1208(UTF-8) Unmappable Action: REPORT, Unmappable Replacement: 63, spaceByte: 32&#39; cannot convert some or all of the string &#39;[B@47412132&#39;\r\nAn attempt was made to send or receive string data using a character set not capable of translating the strings content.\r\nOnly encode a message using a character set known to be appropriate for the string data being transmitted.]\r\n2021-10-05 22:12:36.901 DEBUG 30050 --- [nio-8181-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR\r\n\r\n```\r\nAfter doing some debugging, I found that the error occurs when this code is executed: `message.getText()`\r\n\r\n\r\n\r\nI believe that perhaps the message being put into the queue by the publisher contains some sort of special characters which the application is unable to handle. So I tried to see if I could consume the message for this specific queue using `BytesMessage` instead. Here is the code below:\r\n\r\n```\r\nBytesMessage byteMessage;\r\n\r\nbyteMessage = (BytesMessage) queueReceiver.receive(200);\r\nint TEXT_LENGTH = new Long(byteMessage.getBodyLength()).intValue();\r\nbyte[] text_bytes = new byte[TEXT_LENGTH];\r\nbyteMessage.readBytes(text_bytes, TEXT_LENGTH);\r\nString codePage = byteMessage.getStringProperty(WMQConstants.JMS_IBM_CHARACTER_SET);\r\nString textString = new String(text_bytes, codePage);\r\n\r\n     if (textString != null) {\r\n              messageFile = messageTypeToListenerMapping.get(type).generateMessageNameAndWriteToDisk(textString, source, saveDirectory)\r\n     } else {\r\n              break;\r\n     }\r\n\r\n```\r\n\r\nHowever I am coming across this error:\r\n\r\n```\r\n2021-10-27 22:29:34.046 DEBUG 20987 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.ClassCastException: com.ibm.jms.JMSTextMessage cannot be cast to javax.jms.BytesMessage\r\n2021-10-27 22:29:34.053 ERROR 20987 --- [nio-8181-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: com.ibm.jms.JMSTextMessage cannot be cast to javax.jms.BytesMessage] with root cause\r\njava.lang.ClassCastException: com.ibm.jms.JMSTextMessage cannot be cast to javax.jms.BytesMessage\r\n\r\n```\r\n\r\nFrom what I understand, the message cannot be casted from `TextMessage` to `ByteMessage`, which also means that the publisher sent the message as a `TextMessage`. If the publisher sent the message as a `TextMessage`, then why am I coming across this issue in the first place?  I am a bit confused with all of this and would appreciate some guidance.\r\n\r\n------------------------------------------------------------\r\n\r\nEDIT:\r\nI have ran `amqsbcg` as requested by @MoragHughson and here are the details to one of the messages:\r\n\r\n```\r\n MQGET of message number 14861, CompCode:0 Reason:0\r\n****Message descriptor****\r\n\r\n  StrucId  : &#39;MD  &#39;  Version : 2\r\n  Report   : 0  MsgType : 8\r\n  Expiry   : -1  Feedback : 0\r\n  Encoding : 546  CodedCharSetId : 1208\r\n  Format : &#39;MQSTR   &#39;\r\n  Priority : 0  Persistence : 1\r\n  MsgId : X&#39;414D5120514D2E44303014D5120514D2E443030A0EF121&#39;\r\n  CorrelId : X&#39;000000000000000000000000000000000000000000000000&#39;\r\n  BackoutCount : 0\r\n  ReplyToQ       : &#39;                                                &#39;\r\n  ReplyToQMgr    : &#39;QM.1010101_4642                                 &#39;\r\n  ** Identity Context\r\n  UserIdentifier : &#39;user2      &#39;\r\n  AccountingToken :\r\n   X&#39;0A31303030303639333331639333331639333331004568490000000000000006&#39;\r\n  ApplIdentityData : &#39;                                &#39;\r\n  ** Origin Context\r\n  PutApplType    : &#39;6&#39;\r\n  PutApplName    : &#39;mqm_sender             &#39;\r\n  PutDate  : &#39;00000000&#39;    PutTime  : &#39;00000000&#39;\r\n  ApplOriginData : &#39;    &#39;\r\n\r\n  GroupId : X&#39;000000000000000000000000000000000000000000000000&#39;\r\n  MsgSeqNumber   : &#39;1&#39;\r\n  Offset         : &#39;0&#39;\r\n  MsgFlags       : &#39;0&#39;\r\n  OriginalLength : &#39;-1&#39;\r\n\r\n****   Message      ****\r\n\r\n length - 64 of 64 bytes\r\n\r\n00000000:  0000 0000 B3DC B059 6400 0000 524D 5320           &#39;.....ܰYd...RMS &#39;\r\n00000010:  2052 3235 3139 3435 3734 3437 3030 3030           &#39; R25194574470000&#39;\r\n00000020:  3120 2020 2020 2020 2020 2020 2020 2032           &#39;1              2&#39;\r\n00000030:  3032 3131 3032 3231 3431 3333 3730 3020           &#39;021102214133700 &#39;\r\n\r\n\r\n\r\n No more messages\r\n MQCLOSE\r\n\r\n\r\n```\r\n\r\nIt appears that the CodedCharSetId is 1208, which seems to be UTF-8. If that is the case, then TextMessages should work fine if i am not mistaken?","title":"IBMMQ consumer application unable to consume TextMessage ( JMSCMQ1049: The character set &#39;1208(UTF-8) Unmappable Action: REPORT)","body":"<p>I have a consumer application that uses IBMMQ to consume messages from the queue manager. I have no control over the publisher, only the consumer. Here is the part of the code for my consumer:</p>\n<pre><code>while(true) {\n    message = (TextMessage) queueReceiver.receive(200);\n                \n    if (message != null) {\n             messageFile = messageTypeToListenerMapping.get(type).generateMessageNameAndWriteToDisk(message.getText(), source, saveDirectory);\n    } else {\n             break;\n    }      \n</code></pre>\n<p>This code works fine and is able to retrieve the message as a <code>TextMessage</code> object for almost all of my queues except for one queue. When the application attempts to retrieve a message from this queue, I get this error:</p>\n<pre><code>2021-10-05 22:12:31.831 DEBUG 30050 --- [nio-8181-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/retrieveAllMessagesFromQueue&quot;, parameters={}\n2021-10-05 22:12:31.832 DEBUG 30050 --- [nio-8181-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to public java.util.Map&lt;java.lang.String, java.util.Map&lt;java.lang.String, java.util.Map&lt;java.lang.String, java.lang.Integer&gt;&gt;&gt;  ,\n2021-10-05 22:12:36.882 DEBUG 30050 --- [nio-8181-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler public Exception.ApiErrorResponse Octopus.controller.OctopusRestController.handleJmsException(javax.jms.JMSException)\n2021-10-05 22:12:36.899 DEBUG 30050 --- [nio-8181-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\n2021-10-05 22:12:36.899 DEBUG 30050 --- [nio-8181-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.ApiErrorResponse@4be14d5e]\n2021-10-05 22:12:36.900 DEBUG 30050 --- [nio-8181-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.ibm.msg.client.jms.DetailedJMSException: JMSCMQ1049: The character set '1208(UTF-8) Unmappable Action: REPORT, Unmappable Replacement: 63, spaceByte: 32' cannot convert some or all of the string '[B@47412132'\nAn attempt was made to send or receive string data using a character set not capable of translating the strings content.\nOnly encode a message using a character set known to be appropriate for the string data being transmitted.]\n2021-10-05 22:12:36.901 DEBUG 30050 --- [nio-8181-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR\n\n</code></pre>\n<p>After doing some debugging, I found that the error occurs when this code is executed: <code>message.getText()</code></p>\n<p>I believe that perhaps the message being put into the queue by the publisher contains some sort of special characters which the application is unable to handle. So I tried to see if I could consume the message for this specific queue using <code>BytesMessage</code> instead. Here is the code below:</p>\n<pre><code>BytesMessage byteMessage;\n\nbyteMessage = (BytesMessage) queueReceiver.receive(200);\nint TEXT_LENGTH = new Long(byteMessage.getBodyLength()).intValue();\nbyte[] text_bytes = new byte[TEXT_LENGTH];\nbyteMessage.readBytes(text_bytes, TEXT_LENGTH);\nString codePage = byteMessage.getStringProperty(WMQConstants.JMS_IBM_CHARACTER_SET);\nString textString = new String(text_bytes, codePage);\n\n     if (textString != null) {\n              messageFile = messageTypeToListenerMapping.get(type).generateMessageNameAndWriteToDisk(textString, source, saveDirectory)\n     } else {\n              break;\n     }\n\n</code></pre>\n<p>However I am coming across this error:</p>\n<pre><code>2021-10-27 22:29:34.046 DEBUG 20987 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.ClassCastException: com.ibm.jms.JMSTextMessage cannot be cast to javax.jms.BytesMessage\n2021-10-27 22:29:34.053 ERROR 20987 --- [nio-8181-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: com.ibm.jms.JMSTextMessage cannot be cast to javax.jms.BytesMessage] with root cause\njava.lang.ClassCastException: com.ibm.jms.JMSTextMessage cannot be cast to javax.jms.BytesMessage\n\n</code></pre>\n<p>From what I understand, the message cannot be casted from <code>TextMessage</code> to <code>ByteMessage</code>, which also means that the publisher sent the message as a <code>TextMessage</code>. If the publisher sent the message as a <code>TextMessage</code>, then why am I coming across this issue in the first place?  I am a bit confused with all of this and would appreciate some guidance.</p>\n<hr />\n<p>EDIT:\nI have ran <code>amqsbcg</code> as requested by @MoragHughson and here are the details to one of the messages:</p>\n<pre><code> MQGET of message number 14861, CompCode:0 Reason:0\n****Message descriptor****\n\n  StrucId  : 'MD  '  Version : 2\n  Report   : 0  MsgType : 8\n  Expiry   : -1  Feedback : 0\n  Encoding : 546  CodedCharSetId : 1208\n  Format : 'MQSTR   '\n  Priority : 0  Persistence : 1\n  MsgId : X'414D5120514D2E44303014D5120514D2E443030A0EF121'\n  CorrelId : X'000000000000000000000000000000000000000000000000'\n  BackoutCount : 0\n  ReplyToQ       : '                                                '\n  ReplyToQMgr    : 'QM.1010101_4642                                 '\n  ** Identity Context\n  UserIdentifier : 'user2      '\n  AccountingToken :\n   X'0A31303030303639333331639333331639333331004568490000000000000006'\n  ApplIdentityData : '                                '\n  ** Origin Context\n  PutApplType    : '6'\n  PutApplName    : 'mqm_sender             '\n  PutDate  : '00000000'    PutTime  : '00000000'\n  ApplOriginData : '    '\n\n  GroupId : X'000000000000000000000000000000000000000000000000'\n  MsgSeqNumber   : '1'\n  Offset         : '0'\n  MsgFlags       : '0'\n  OriginalLength : '-1'\n\n****   Message      ****\n\n length - 64 of 64 bytes\n\n00000000:  0000 0000 B3DC B059 6400 0000 524D 5320           '.....ܰYd...RMS '\n00000010:  2052 3235 3139 3435 3734 3437 3030 3030           ' R25194574470000'\n00000020:  3120 2020 2020 2020 2020 2020 2020 2032           '1              2'\n00000030:  3032 3131 3032 3231 3431 3333 3730 3020           '021102214133700 '\n\n\n\n No more messages\n MQCLOSE\n\n\n</code></pre>\n<p>It appears that the CodedCharSetId is 1208, which seems to be UTF-8. If that is the case, then TextMessages should work fine if i am not mistaken?</p>\n"},{"tags":["java","http","testing","junit","mockito"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1635447948,"post_id":69759261,"comment_id":123308227,"body_markdown":"If you are referring to the J2EE ForbiddenException class you may note that it extends javax.ws.rs.ClientErrorException and it is provided along some other specific types but you can always create a ClientErrorException instance with the http status you need","body":"If you are referring to the J2EE ForbiddenException class you may note that it extends javax.ws.rs.ClientErrorException and it is provided along some other specific types but you can always create a ClientErrorException instance with the http status you need"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635474958,"creation_date":1635474958,"answer_id":69762985,"question_id":69759261,"body_markdown":"    when( ... ).thenThrow(new ClientErrorException(408));\r\n\r\nNote that there are two versions of the `thenThrow` method - one which takes an exception class as the parameter, and one which takes an exception object.  The first version causes an exception to be instantiated using the default constructor of the given class, at the time that an exception has to be thrown.  The second version just throws whatever you give it.\r\n\r\nIn this case, there&#39;s no class whose default constructor gives you a 408 exception, so you need to use the second version of `thenThrow`.","title":"How to throw a 408 HTTP code in Mockito test?","body":"<pre><code>when( ... ).thenThrow(new ClientErrorException(408));\n</code></pre>\n<p>Note that there are two versions of the <code>thenThrow</code> method - one which takes an exception class as the parameter, and one which takes an exception object.  The first version causes an exception to be instantiated using the default constructor of the given class, at the time that an exception has to be thrown.  The second version just throws whatever you give it.</p>\n<p>In this case, there's no class whose default constructor gives you a 408 exception, so you need to use the second version of <code>thenThrow</code>.</p>\n"}],"owner":{"account_id":20820162,"reputation":43,"user_id":15292009,"display_name":"caitanna98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635474958,"creation_date":1635446097,"question_id":69759261,"body_markdown":"E.g. I am able to throw a 403 with the below:\r\n\r\n        when(...)\r\n            .thenThrow(ForbiddenException.class);\r\n\r\nHowever there doesn&#39;t seem to be a class for the Request Timeout HTTP code (408).\r\n\r\nHow can I throw a 408 in response to a given `when` clause?","title":"How to throw a 408 HTTP code in Mockito test?","body":"<p>E.g. I am able to throw a 403 with the below:</p>\n<pre><code>    when(...)\n        .thenThrow(ForbiddenException.class);\n</code></pre>\n<p>However there doesn't seem to be a class for the Request Timeout HTTP code (408).</p>\n<p>How can I throw a 408 in response to a given <code>when</code> clause?</p>\n"},{"tags":["java","arrays","stack","push"],"comments":[{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":0,"creation_date":1635473233,"post_id":69762804,"comment_id":123314013,"body_markdown":"I suggest that you show what you&#39;ve tried.","body":"I suggest that you show what you&#39;ve tried."},{"owner":{"account_id":17159463,"reputation":93,"user_id":12419467,"display_name":"korpe"},"score":0,"creation_date":1635473234,"post_id":69762804,"comment_id":123314014,"body_markdown":"It’s impossible. Computers operate sequentially or in parallel but then you would run into race conditions along with other weird shit. I don’t even think in quant computers it’s possible but then again I don’t know too much about that.","body":"It’s impossible. Computers operate sequentially or in parallel but then you would run into race conditions along with other weird shit. I don’t even think in quant computers it’s possible but then again I don’t know too much about that."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1635473236,"post_id":69762804,"comment_id":123314015,"body_markdown":"Did you _really_ mean to write `Stack extends RuntimeException`?  That seems slightly odd to me.","body":"Did you <i>really</i> mean to write <code>Stack extends RuntimeException</code>?  That seems slightly odd to me."}],"answers":[{"tags":[],"owner":{"display_name":"user17275729"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635474708,"creation_date":1635473813,"answer_id":69762870,"question_id":69762804,"body_markdown":"There is no such way. You can push and pop only one element at a time. What you can do is make a method, pass down the stack and number of the elements you want to pop or push, and achieve it using loop.","title":"Java Stack - How do I pop() and push() multiple elements from a stack?","body":"<p>There is no such way. You can push and pop only one element at a time. What you can do is make a method, pass down the stack and number of the elements you want to pop or push, and achieve it using loop.</p>\n"}],"owner":{"account_id":23177521,"reputation":11,"user_id":17275795,"display_name":"prhg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635474708,"creation_date":1635473046,"question_id":69762804,"body_markdown":"I already have a stack class working, but right now I can only pop and push 1 element each time, I want to be able to push and pop multiple elements at the same time. without using push and pop multiple times. I&#39;m trying to create 2 functions to do that. Functions **pushAll** and **popN**. Like:\r\n``` \r\npublic void pushAll (Object all[]) throws StackFullException {...}\r\npublic Object [] popN (int n) throws StackEmptyException {...}\r\n```\r\nRemarks: The input parameter all is an **array** that contains all the elements that must be entered. The last element of the vector must be on top after stacking. \r\nIf there is no space to insert all the elements, none must be inserted and a **StackFullException** exception must be raised. \r\nThe **popN** method pops the number of elements specified by the **n** parameter and deposits them into an array for return. \r\nIf the stack does not have the requested number of elements, no element is unstacked and a **StackEmptyException** exception is thrown. \r\nI&#39;m trying for hours to work my logic without success.\r\nHere&#39;s my **Stack** class so far:\r\n```\r\npublic class Stack extends RuntimeException {\r\n    public static final int CAPACITY = 1000;\r\n    private int capacity;\r\n    private Object elements[];\r\n    private int top = -1;\r\n\r\n    public Stack(int capacity){\r\n        if (capacity&gt;0){\r\n            this.capacity=capacity;\r\n            elements=new Object[capacity];\r\n        } else {\r\n            this.capacity = CAPACITY;\r\n            elements = new Object[CAPACITY];\r\n        }\r\n    }  \r\n    public Stack(){\r\n        this(CAPACITY);\r\n    }\r\n    \r\n    public boolean isEmpty(){\r\n        return (top &lt; 0);\r\n    }\r\n    \r\n    public boolean isFull(){\r\n        return (top == capacity - 1);      \r\n    }\r\n    \r\n    public void push(Object o) throws StackFullException {\r\n        if (isFull()){\r\n            throw new StackFullException(&quot;Stack Overflow!&quot;);\r\n        }\r\n        else {\r\n            top++;\r\n            elements[top] = o;\r\n        }\r\n    }\r\n    \r\n    public Object pop() throws StackEmptyException {\r\n        Object elem;\r\n        if (isEmpty()){\r\n            throw new StackEmptyException(&quot;Stack Underflow!&quot;);\r\n        }\r\n        else {\r\n            elem = elements[top];\r\n            elements[top] = null;\r\n            top--;\r\n            return (elem);\r\n        }\r\n    }\r\n    \r\n    public Object top() throws StackEmptyException {\r\n        if (isEmpty()){\r\n            throw new StackEmptyException(&quot;Stack Underflow!&quot;);\r\n        }\r\n        else {\r\n            return (elements[top]);\r\n        }\r\n    }\r\n    \r\n    public int size(){\r\n        return (top + 1);\r\n    };\r\n\r\n    public Object[] getElements() {\r\n        return elements;\r\n    }\r\n    \r\n    @Override\r\n    public String toString(){\r\n        String string = &quot;[&quot;;\r\n        for (int i = 0; i &lt; this.capacity; i++){\r\n            Object element = this.elements[i];\r\n            \r\n            if(element != null){\r\n                string += element + &quot;,&quot;;\r\n            }\r\n        }\r\n        string =  string.substring(0, string.length() - 1);\r\n        string += &quot;]&quot;;\r\n        return string;\r\n    }\r\n    \r\n    \r\n    public void pushAll (Object all[]) throws StackFullException {\r\n    \r\n    }\r\n    public Object [] popN (int n) throws StackEmptyException {\r\n        \r\n    }\r\n}\r\n```\r\nCould help me build the pushAll and popN functions?","title":"Java Stack - How do I pop() and push() multiple elements from a stack?","body":"<p>I already have a stack class working, but right now I can only pop and push 1 element each time, I want to be able to push and pop multiple elements at the same time. without using push and pop multiple times. I'm trying to create 2 functions to do that. Functions <strong>pushAll</strong> and <strong>popN</strong>. Like:</p>\n<pre><code>public void pushAll (Object all[]) throws StackFullException {...}\npublic Object [] popN (int n) throws StackEmptyException {...}\n</code></pre>\n<p>Remarks: The input parameter all is an <strong>array</strong> that contains all the elements that must be entered. The last element of the vector must be on top after stacking.\nIf there is no space to insert all the elements, none must be inserted and a <strong>StackFullException</strong> exception must be raised.\nThe <strong>popN</strong> method pops the number of elements specified by the <strong>n</strong> parameter and deposits them into an array for return.\nIf the stack does not have the requested number of elements, no element is unstacked and a <strong>StackEmptyException</strong> exception is thrown.\nI'm trying for hours to work my logic without success.\nHere's my <strong>Stack</strong> class so far:</p>\n<pre><code>public class Stack extends RuntimeException {\n    public static final int CAPACITY = 1000;\n    private int capacity;\n    private Object elements[];\n    private int top = -1;\n\n    public Stack(int capacity){\n        if (capacity&gt;0){\n            this.capacity=capacity;\n            elements=new Object[capacity];\n        } else {\n            this.capacity = CAPACITY;\n            elements = new Object[CAPACITY];\n        }\n    }  \n    public Stack(){\n        this(CAPACITY);\n    }\n    \n    public boolean isEmpty(){\n        return (top &lt; 0);\n    }\n    \n    public boolean isFull(){\n        return (top == capacity - 1);      \n    }\n    \n    public void push(Object o) throws StackFullException {\n        if (isFull()){\n            throw new StackFullException(&quot;Stack Overflow!&quot;);\n        }\n        else {\n            top++;\n            elements[top] = o;\n        }\n    }\n    \n    public Object pop() throws StackEmptyException {\n        Object elem;\n        if (isEmpty()){\n            throw new StackEmptyException(&quot;Stack Underflow!&quot;);\n        }\n        else {\n            elem = elements[top];\n            elements[top] = null;\n            top--;\n            return (elem);\n        }\n    }\n    \n    public Object top() throws StackEmptyException {\n        if (isEmpty()){\n            throw new StackEmptyException(&quot;Stack Underflow!&quot;);\n        }\n        else {\n            return (elements[top]);\n        }\n    }\n    \n    public int size(){\n        return (top + 1);\n    };\n\n    public Object[] getElements() {\n        return elements;\n    }\n    \n    @Override\n    public String toString(){\n        String string = &quot;[&quot;;\n        for (int i = 0; i &lt; this.capacity; i++){\n            Object element = this.elements[i];\n            \n            if(element != null){\n                string += element + &quot;,&quot;;\n            }\n        }\n        string =  string.substring(0, string.length() - 1);\n        string += &quot;]&quot;;\n        return string;\n    }\n    \n    \n    public void pushAll (Object all[]) throws StackFullException {\n    \n    }\n    public Object [] popN (int n) throws StackEmptyException {\n        \n    }\n}\n</code></pre>\n<p>Could help me build the pushAll and popN functions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1635474836,"post_id":69762816,"comment_id":123314272,"body_markdown":"@StephenC  In the book, Java Generics and Collection there are nine, discontiguous pages (idientified in the index under that phrase) where the authors discuss that.  The OP was being serious and I believe a valid question.","body":"@StephenC  In the book, Java Generics and Collection there are nine, discontiguous pages (idientified in the index under that phrase) where the authors discuss that.  The OP was being serious and I believe a valid question."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635474156,"creation_date":1635474156,"answer_id":69762906,"question_id":69762816,"body_markdown":"&gt; So, the array a is effectively of type Object[].\r\n\r\nNope.\r\n\r\nThere is no array a. Objects don&#39;t have names; variables have names. `a` is a variable. It points at an object. That doesn&#39;t mean that object&#39;s name is a:\r\n\r\n```\r\nObject a = &quot;foo&quot;;\r\nObject b = a;\r\na = null;\r\n```\r\n\r\nSo, should we call `&quot;foo&quot;` a or b? Neither: Objects do not have names.\r\n\r\na is a variable and its type is effectively `Object[]`, sure. It&#39;s pointing at an object, and that object&#39;s type (not &#39;effective type&#39;, objects don&#39;t have an &#39;effective&#39; type. they have an actual type) is `String[]` in your second snippet, and `Object[]` in the first. THAT is the crucial difference: That ClassCastException occurs in the first snippet because the _actual_ type is not compatible.\r\n\r\nWhy is this so? Because `new T[]` gets boiled down in java code to making a new object (hence the `new`), and as T is erased, the newly created object&#39;s actual type will be `Object[]`. However, in the second snippet, the reflection shenanigans means the newly created array is _actually_ of type `String[]`.. and is then assigned to `a`, which is a variable of type `Object[]`. Which doesn&#39;t make type sense (`List&lt;Object&gt; x = new ArrayList&lt;String&gt;()` does not work; you can add Integer objects to a list of objects, which is not a legal move here), but the java spec explicitly says that you can assign any array of any reference type to `Object[]` anyway, because arrays in java are broken.\r\n\r\n","title":"I don’t understand why the correct example given in the book Java Generics and Collections obeys the Principle of Truth in Advertising","body":"<blockquote>\n<p>So, the array a is effectively of type Object[].</p>\n</blockquote>\n<p>Nope.</p>\n<p>There is no array a. Objects don't have names; variables have names. <code>a</code> is a variable. It points at an object. That doesn't mean that object's name is a:</p>\n<pre><code>Object a = &quot;foo&quot;;\nObject b = a;\na = null;\n</code></pre>\n<p>So, should we call <code>&quot;foo&quot;</code> a or b? Neither: Objects do not have names.</p>\n<p>a is a variable and its type is effectively <code>Object[]</code>, sure. It's pointing at an object, and that object's type (not 'effective type', objects don't have an 'effective' type. they have an actual type) is <code>String[]</code> in your second snippet, and <code>Object[]</code> in the first. THAT is the crucial difference: That ClassCastException occurs in the first snippet because the <em>actual</em> type is not compatible.</p>\n<p>Why is this so? Because <code>new T[]</code> gets boiled down in java code to making a new object (hence the <code>new</code>), and as T is erased, the newly created object's actual type will be <code>Object[]</code>. However, in the second snippet, the reflection shenanigans means the newly created array is <em>actually</em> of type <code>String[]</code>.. and is then assigned to <code>a</code>, which is a variable of type <code>Object[]</code>. Which doesn't make type sense (<code>List&lt;Object&gt; x = new ArrayList&lt;String&gt;()</code> does not work; you can add Integer objects to a list of objects, which is not a legal move here), but the java spec explicitly says that you can assign any array of any reference type to <code>Object[]</code> anyway, because arrays in java are broken.</p>\n"}],"owner":{"account_id":8080163,"reputation":39,"user_id":16391869,"display_name":"PietroLinguini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1635474156,"creation_date":1635473161,"question_id":69762816,"body_markdown":"I think that I understand the concept itself: the reified type of an array must be a subtype of the erasure of its static type. But I feel that looking around for help has only confused me more. Here&#39;s my understanding of it and why I&#39;m confused.\r\n\r\nHere is some code that converts a ```Collection&lt;T&gt;``` to an array of type ```T```.\r\n\r\n    //This code is taken straight from the book Java Generics and Collections\r\n    import java.util.*;\r\n    class Wrong {\r\n        public static &lt;T&gt; T[] toArray(Collection&lt;T&gt; c) {\r\n            T[] a = (T[])new Object[c.size]; // unchecked cast\r\n            int i=0; for (T x : c) a[i++] = x;\r\n        }\r\n        public static void main(String[] args) {\r\n           List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\n           String[] a = toArray(strings); //class cast error\r\n        }\r\n    }\r\nA ClassCastException is thrown. At compile time, erasure converts all occurrences of type  ```T``` into type ```Object``` (because they have no bounds; if they did, they would be converted into their leftmost bound), converts parametric types into their raw types, and adds appropriate casts. So effectively, the code is equivalent to:\r\n```\r\nimport java.util.*;\r\nclass Wrong {\r\n   public static Object[] toArray(Collection c) {\r\n      Object[] a = (Object[])new Object[c.size]; // unchecked cast\r\n      int i=0; for (Object x : c) a[i++] = x;\r\n      return a;\r\n   }\r\n   public static void main(String[] args) {\r\n     List strings = Arrays.asList(args);\r\n     String[] a = (String[])toArray(strings); //class cast error\r\n   }\r\n}\r\n```\r\nSince the method ```toArray``` effectively returns an ```Object[]```, casting it to a ```String[]``` is illegal. In this case, the reified type of the array is ```Object``` while the erasure of its static type is  ```String```, disobeying the principle.\r\n\r\nIf I understand this correctly, it seems to me that this code should also fail, but actually works without error.\r\n```\r\nimport java.util.*;\r\npublic class Right {\r\n    public static &lt;T&gt; T[] toArray(Collection&lt;T&gt; c, T[] a) {\r\n        if (a.length &lt; c.size())\r\n            a = (T[])java.lang.reflect.Array.\r\n                    newInstance(a.getClass().getComponentType(), c.size());\r\n        int i=0; for (T x : c) a[i++] = x;\r\n        if(i &lt; a.length) a[i] = null;\r\n        return a;\r\n    }\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\n        String[] a = toArray(strings, new String[0]);\r\n        assert Arrays.toString(a).equals(&quot;[one, two]&quot;);\r\n        String[] b = new String[] {&quot;x&quot;,&quot;x&quot;,&quot;x&quot;,&quot;x&quot;};\r\n        toArray(strings, b);\r\n        assert Arrays.toString(b).equals(&quot;[one, two, null, x]&quot;);\r\n    }\r\n}\r\n```\r\nBut following the first example, at compile time, through erasure, wouldn&#39;t all occurrences of type ```T``` be converted to type ```Object```, parametric types be converted to raw types, and appropriate casts inserted just like the first example?\r\nThis is what I think it&#39;d look like:\r\n```\r\nimport java.util.*;\r\npublic class Right {\r\n    public static Object[] toArray(Collection c, Object[] a) {\r\n        if (a.length &lt; c.size())\r\n            a = (Object[])java.lang.reflect.Array.\r\n                    newInstance(a.getClass().getComponentType(), c.size());\r\n        int i=0; for (Object x : c) a[i++] = x;\r\n        if(i &lt; a.length) a[i] = null;\r\n        return a;\r\n    }\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\n        String[] a = (String[])toArray(strings, new String[0]); //class cast exception?????\r\n        assert Arrays.toString(a).equals(&quot;[one, two]&quot;);\r\n        String[] b = new String[] {&quot;x&quot;,&quot;x&quot;,&quot;x&quot;,&quot;x&quot;};\r\n        toArray(strings, b); /*I think this would be fine because the Principle of Truth in \r\n                               Advertising is followed within the method body. It&#39;s just a problem\r\n                               when attempting to assign the return value of this method within \r\n                               the main method*/\r\n        assert Arrays.toString(b).equals(&quot;[one, two, null, x]&quot;);\r\n    }\r\n}\r\n```\r\nBut I assume that&#39;s not actually what&#39;s happening? To be clear, I feel that the cast to ```T[]``` on line 5 in both examples is what&#39;s causing the issue, as through erasure, ```T[]``` becomes ```Object[]```. So, the array ```a``` is effectively of type ```Object[]```.\r\n\r\nI feel like I have a fundamental misunderstanding about reification or erasure, or maybe something else. I&#39;ve looked around online and no explanation has been able to satisfy my question, so answers would be greatly appreciated!","title":"I don’t understand why the correct example given in the book Java Generics and Collections obeys the Principle of Truth in Advertising","body":"<p>I think that I understand the concept itself: the reified type of an array must be a subtype of the erasure of its static type. But I feel that looking around for help has only confused me more. Here's my understanding of it and why I'm confused.</p>\n<p>Here is some code that converts a <code>Collection&lt;T&gt;</code> to an array of type <code>T</code>.</p>\n<pre><code>//This code is taken straight from the book Java Generics and Collections\nimport java.util.*;\nclass Wrong {\n    public static &lt;T&gt; T[] toArray(Collection&lt;T&gt; c) {\n        T[] a = (T[])new Object[c.size]; // unchecked cast\n        int i=0; for (T x : c) a[i++] = x;\n    }\n    public static void main(String[] args) {\n       List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\n       String[] a = toArray(strings); //class cast error\n    }\n}\n</code></pre>\n<p>A ClassCastException is thrown. At compile time, erasure converts all occurrences of type  <code>T</code> into type <code>Object</code> (because they have no bounds; if they did, they would be converted into their leftmost bound), converts parametric types into their raw types, and adds appropriate casts. So effectively, the code is equivalent to:</p>\n<pre><code>import java.util.*;\nclass Wrong {\n   public static Object[] toArray(Collection c) {\n      Object[] a = (Object[])new Object[c.size]; // unchecked cast\n      int i=0; for (Object x : c) a[i++] = x;\n      return a;\n   }\n   public static void main(String[] args) {\n     List strings = Arrays.asList(args);\n     String[] a = (String[])toArray(strings); //class cast error\n   }\n}\n</code></pre>\n<p>Since the method <code>toArray</code> effectively returns an <code>Object[]</code>, casting it to a <code>String[]</code> is illegal. In this case, the reified type of the array is <code>Object</code> while the erasure of its static type is  <code>String</code>, disobeying the principle.</p>\n<p>If I understand this correctly, it seems to me that this code should also fail, but actually works without error.</p>\n<pre><code>import java.util.*;\npublic class Right {\n    public static &lt;T&gt; T[] toArray(Collection&lt;T&gt; c, T[] a) {\n        if (a.length &lt; c.size())\n            a = (T[])java.lang.reflect.Array.\n                    newInstance(a.getClass().getComponentType(), c.size());\n        int i=0; for (T x : c) a[i++] = x;\n        if(i &lt; a.length) a[i] = null;\n        return a;\n    }\n    public static void main(String[] args) {\n        List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\n        String[] a = toArray(strings, new String[0]);\n        assert Arrays.toString(a).equals(&quot;[one, two]&quot;);\n        String[] b = new String[] {&quot;x&quot;,&quot;x&quot;,&quot;x&quot;,&quot;x&quot;};\n        toArray(strings, b);\n        assert Arrays.toString(b).equals(&quot;[one, two, null, x]&quot;);\n    }\n}\n</code></pre>\n<p>But following the first example, at compile time, through erasure, wouldn't all occurrences of type <code>T</code> be converted to type <code>Object</code>, parametric types be converted to raw types, and appropriate casts inserted just like the first example?\nThis is what I think it'd look like:</p>\n<pre><code>import java.util.*;\npublic class Right {\n    public static Object[] toArray(Collection c, Object[] a) {\n        if (a.length &lt; c.size())\n            a = (Object[])java.lang.reflect.Array.\n                    newInstance(a.getClass().getComponentType(), c.size());\n        int i=0; for (Object x : c) a[i++] = x;\n        if(i &lt; a.length) a[i] = null;\n        return a;\n    }\n    public static void main(String[] args) {\n        List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\n        String[] a = (String[])toArray(strings, new String[0]); //class cast exception?????\n        assert Arrays.toString(a).equals(&quot;[one, two]&quot;);\n        String[] b = new String[] {&quot;x&quot;,&quot;x&quot;,&quot;x&quot;,&quot;x&quot;};\n        toArray(strings, b); /*I think this would be fine because the Principle of Truth in \n                               Advertising is followed within the method body. It's just a problem\n                               when attempting to assign the return value of this method within \n                               the main method*/\n        assert Arrays.toString(b).equals(&quot;[one, two, null, x]&quot;);\n    }\n}\n</code></pre>\n<p>But I assume that's not actually what's happening? To be clear, I feel that the cast to <code>T[]</code> on line 5 in both examples is what's causing the issue, as through erasure, <code>T[]</code> becomes <code>Object[]</code>. So, the array <code>a</code> is effectively of type <code>Object[]</code>.</p>\n<p>I feel like I have a fundamental misunderstanding about reification or erasure, or maybe something else. I've looked around online and no explanation has been able to satisfy my question, so answers would be greatly appreciated!</p>\n"},{"tags":["java","spring","spring-boot","http","weblogic"],"answers":[{"tags":[],"owner":{"account_id":23020582,"reputation":125,"user_id":17141696,"display_name":"Pranay Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635357517,"creation_date":1635357517,"answer_id":69743429,"question_id":69739366,"body_markdown":"First, open the application.properties file and add `server.http.port` property to define a port for HTTP, and `server.port` property for HTTPS.\r\n\r\n**Note**: `server.http.port` is a property you define and not available in SpringBoot.\r\n\r\n\r\nIn application.properties file: \r\n\r\n        # (User-defined Property)\r\n        # Port for HTTP and read by Spring Boot via @Value(&quot;${server.http.port:80}&quot;)\r\n        server.http.port=8080\r\n        \r\n        # Port for HTTPS and read by Spring Boot via @Value(&quot;${server.port:443}&quot;)\r\n        server:\r\n      ssl:\r\n        key-store: classpath:keystore.p12\r\n        key-store-password: password\r\n        key-store-type: pkcs12\r\n        key-alias: springboot\r\n        key-password: password\r\n      port: 8443\r\n\r\n\r\n\r\n\r\n- `server.port`: the port on which the server is listening. We have used 8443 rather than the default 8080 port.\r\n- `server.ssl.key-store`: the path to the key store that contains the SSL certificate. In our example, we want Spring Boot to look for it in the classpath.\r\n- `server.ssl.key-store`-password: the password used to access the key store.\r\n- `server.ssl.key-store-type`: the type of the key store (JKS or PKCS12).\r\n- `server.ssl.key-alias`: the alias that identifies the key in the key store.\r\n- `server.ssl.key-password`: the password used to access the key in the key store.\r\n\r\n\r\n\r\nNext, create a `HttpHttpsConfig` class and configure Spring Boot to use both HTTP and HTTPS protocols at the same time.\r\n\r\n    @Configuration\r\n    public class HttpHttpsConfig {\r\n    \r\n        // (User-defined Property)\r\n        @Value(&quot;${server.http.port:80}&quot;)\r\n        private int httpPort;\r\n    \r\n        @Bean\r\n        public ServletWebServerFactory servletContainer() {\r\n            Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n            connector.setPort(this.httpPort);\r\n    \r\n            TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n            tomcat.addAdditionalTomcatConnectors(connector);\r\n            return tomcat;\r\n        }\r\n    }\r\n\r\n\r\nIf that doesn&#39;t work for you you can consider the references for different strategies and implementation.\r\n\r\n\r\n[reference-1][1]\r\n\r\n[reference-2][2]\r\n\r\n\r\n  [1]: https://o7planning.org/11867/configure-spring-boot-to-redirect-http-to-https\r\n  [2]: https://www.thomasvitale.com/https-spring-boot-ssl-certificate/","title":"Spring-boot redirect:/ to http instead of https","body":"<p>First, open the application.properties file and add <code>server.http.port</code> property to define a port for HTTP, and <code>server.port</code> property for HTTPS.</p>\n<p><strong>Note</strong>: <code>server.http.port</code> is a property you define and not available in SpringBoot.</p>\n<p>In application.properties file:</p>\n<pre><code>    # (User-defined Property)\n    # Port for HTTP and read by Spring Boot via @Value(&quot;${server.http.port:80}&quot;)\n    server.http.port=8080\n    \n    # Port for HTTPS and read by Spring Boot via @Value(&quot;${server.port:443}&quot;)\n    server:\n  ssl:\n    key-store: classpath:keystore.p12\n    key-store-password: password\n    key-store-type: pkcs12\n    key-alias: springboot\n    key-password: password\n  port: 8443\n</code></pre>\n<ul>\n<li><code>server.port</code>: the port on which the server is listening. We have used 8443 rather than the default 8080 port.</li>\n<li><code>server.ssl.key-store</code>: the path to the key store that contains the SSL certificate. In our example, we want Spring Boot to look for it in the classpath.</li>\n<li><code>server.ssl.key-store</code>-password: the password used to access the key store.</li>\n<li><code>server.ssl.key-store-type</code>: the type of the key store (JKS or PKCS12).</li>\n<li><code>server.ssl.key-alias</code>: the alias that identifies the key in the key store.</li>\n<li><code>server.ssl.key-password</code>: the password used to access the key in the key store.</li>\n</ul>\n<p>Next, create a <code>HttpHttpsConfig</code> class and configure Spring Boot to use both HTTP and HTTPS protocols at the same time.</p>\n<pre><code>@Configuration\npublic class HttpHttpsConfig {\n\n    // (User-defined Property)\n    @Value(&quot;${server.http.port:80}&quot;)\n    private int httpPort;\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setPort(this.httpPort);\n\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        tomcat.addAdditionalTomcatConnectors(connector);\n        return tomcat;\n    }\n}\n</code></pre>\n<p>If that doesn't work for you you can consider the references for different strategies and implementation.</p>\n<p><a href=\"https://o7planning.org/11867/configure-spring-boot-to-redirect-http-to-https\" rel=\"nofollow noreferrer\">reference-1</a></p>\n<p><a href=\"https://www.thomasvitale.com/https-spring-boot-ssl-certificate/\" rel=\"nofollow noreferrer\">reference-2</a></p>\n"},{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635471084,"creation_date":1635471084,"answer_id":69762641,"question_id":69739366,"body_markdown":"Try adding the following to your WEB-INF/web.xml file...\r\n\r\n    &lt;web-app&gt;\r\n      &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n          &lt;web-resource-name&gt;SecureResources&lt;/web-resource-name&gt;\r\n          &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;user-data-constraint&gt;\r\n          &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n        &lt;/user-data-constraint&gt;\r\n      &lt;/security-constraint&gt;\r\n    &lt;/web-app&gt;\r\n\r\nThat should cause any http requests to be redirected to https.","title":"Spring-boot redirect:/ to http instead of https","body":"<p>Try adding the following to your WEB-INF/web.xml file...</p>\n<pre><code>&lt;web-app&gt;\n  &lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;SecureResources&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;user-data-constraint&gt;\n      &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n  &lt;/security-constraint&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>That should cause any http requests to be redirected to https.</p>\n"}],"owner":{"account_id":6968089,"reputation":105,"user_id":5345349,"display_name":"Chiranjit Jasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635471084,"creation_date":1635340382,"question_id":69739366,"body_markdown":"When redirecting to a relative path in spring-boot controller like below code. It is always redirecting to http url when the application is deployed in https environment. So I am getting mixed origin content blocked error in browser. \r\n\r\n\r\n    return &quot;redirect:/redirectUrl&quot;;\r\n\r\nThe application is deployed in weblogic server.\r\n\r\n","title":"Spring-boot redirect:/ to http instead of https","body":"<p>When redirecting to a relative path in spring-boot controller like below code. It is always redirecting to http url when the application is deployed in https environment. So I am getting mixed origin content blocked error in browser.</p>\n<pre><code>return &quot;redirect:/redirectUrl&quot;;\n</code></pre>\n<p>The application is deployed in weblogic server.</p>\n"},{"tags":["java","swing","jcombobox","highlight"],"comments":[{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1387055401,"post_id":20588225,"comment_id":30801240,"body_markdown":"You may want to just try a different [Look and Feel](http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html).","body":"You may want to just try a different <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\" rel=\"nofollow noreferrer\">Look and Feel</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1387055630,"post_id":20588225,"comment_id":30801301,"body_markdown":"*&quot;How can I make the highlighting go away?&quot;* How can I (as the hypothetical user) know when that combo. has focus?  This sounds like yet another &#39;unusable GUI&#39; in the making.  :(","body":"<i>&quot;How can I make the highlighting go away?&quot;</i> How can I (as the hypothetical user) know when that combo. has focus?  This sounds like yet another &#39;unusable GUI&#39; in the making.  :("},{"owner":{"account_id":3551603,"reputation":75,"user_id":2966345,"display_name":"The Anonymous"},"score":0,"creation_date":1387055783,"post_id":20588225,"comment_id":30801358,"body_markdown":"@AndrewThompson No, no, I only want the highlighting to be gone once the item is selected, not while you&#39;re selected (so when hovering over items in the dropdown menu)","body":"@AndrewThompson No, no, I only want the highlighting to be gone once the item is selected, not while you&#39;re selected (so when hovering over items in the dropdown menu)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1387056126,"post_id":20588225,"comment_id":30801459,"body_markdown":"*&quot;so when hovering over items in the dropdown menu&quot;*  So when tabbing around the GUI it is not supposed to show?  That is what I was warning against..","body":"<i>&quot;so when hovering over items in the dropdown menu&quot;</i>  So when tabbing around the GUI it is not supposed to show?  That is what I was warning against.."},{"owner":{"account_id":3551603,"reputation":75,"user_id":2966345,"display_name":"The Anonymous"},"score":0,"creation_date":1387056375,"post_id":20588225,"comment_id":30801535,"body_markdown":"@AndrewThompson It&#39;s a very simple GUI for teachers of my school to use, more than half of them don&#39;t even know that they&#39;re using Windows 7 and for sure won&#39;t know about the tab function. My personal oppinion simply was that the focus part wasn&#39;t that pretty.","body":"@AndrewThompson It&#39;s a very simple GUI for teachers of my school to use, more than half of them don&#39;t even know that they&#39;re using Windows 7 and for sure won&#39;t know about the tab function. My personal oppinion simply was that the focus part wasn&#39;t that pretty."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1387056566,"post_id":20588225,"comment_id":30801597,"body_markdown":"*&quot;My personal oppinion simply was that the focus part wasn&#39;t that pretty.&quot;* So empower yourself &amp; take the sage advice of @jaco0646!  I&#39;d bet your teachers would prefer seeing the app. in the ***Native PLAF*** than trying to deal with this abomination that you seem to be creating.","body":"<i>&quot;My personal oppinion simply was that the focus part wasn&#39;t that pretty.&quot;</i> So empower yourself &amp; take the sage advice of @jaco0646!  I&#39;d bet your teachers would prefer seeing the app. in the <b><i>Native PLAF</i></b> than trying to deal with this abomination that you seem to be creating."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387055244,"creation_date":1387055244,"answer_id":20588286,"question_id":20588225,"body_markdown":"The highlighting is done by the default renderer for the combo box.\r\n\r\nSee the section from the Swing tutorial on [Providing Custom Renderers](http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer) for an example of providing your own custom renderer. You will just want a renderer that doesn&#39;t change the background/foreground depending on the selected value.","title":"Delete highlighting in JComboBox","body":"<p>The highlighting is done by the default renderer for the combo box.</p>\n\n<p>See the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow\">Providing Custom Renderers</a> for an example of providing your own custom renderer. You will just want a renderer that doesn't change the background/foreground depending on the selected value.</p>\n"},{"tags":[],"owner":{"account_id":3551603,"reputation":75,"user_id":2966345,"display_name":"The Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1387110512,"creation_date":1387062556,"answer_id":20589312,"question_id":20588225,"body_markdown":"To make it easier for people with a similar problem, here is the code for the renderer I wrote:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    class ComboBoxRenderer extends JLabel implements ListCellRenderer\r\n    {\r\n    \tprivate boolean colorSet;\r\n    \tprivate Color selectionBackgroundColor;\r\n    \r\n    \tpublic ComboBoxRenderer()\r\n    \t{\r\n    \t\tsetOpaque(true);\r\n    \t\tsetHorizontalAlignment(LEFT);\r\n    \t\tsetVerticalAlignment(CENTER);\r\n    \t\tcolorSet = false;\r\n    \t\tselectionBackgroundColor = Color.red; // Have to set a color, else a compiler error will occur\r\n    \t}\r\n    \r\n    \tpublic Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\r\n    \t{\r\n    \t\t// Check if color is set (only runs the first time)\r\n    \t\tif(!colorSet)\r\n    \t\t{\r\n    \t\t\t// Set the list&#39; background color to original selection background of the list\r\n    \t\t\tselectionBackgroundColor = list.getSelectionBackground();\r\n    \t\t\t// Do this only one time since the color will change later\r\n    \t\t\tcolorSet = true;\r\n    \t\t}\r\n    \r\n    \t\t// Set the list&#39; background color to white (white will show once selection is made)\r\n    \t\tlist.setSelectionBackground(Color.white);\r\n    \r\n    \t\t// Check which item is selected\r\n    \t\tif(isSelected)\r\n    \t\t{\r\n    \t\t\t// Set background color of the item your cursor is hovering over to the original background color\r\n    \t\t\tsetBackground(selectionBackgroundColor);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\t// Set background color of all other items to white\r\n    \t\t\tsetBackground(Color.white);\r\n    \t\t}\r\n    \r\n    \t\t// Do nothing about the text and font to be displayed\r\n    \t\tsetText((String)value);\r\n    \t\tsetFont(list.getFont());\r\n    \r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n\r\nEdit: Previous code didn&#39;t seem to work as properly, code updated and should work all fine now","title":"Delete highlighting in JComboBox","body":"<p>To make it easier for people with a similar problem, here is the code for the renderer I wrote:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\nclass ComboBoxRenderer extends JLabel implements ListCellRenderer\n{\n    private boolean colorSet;\n    private Color selectionBackgroundColor;\n\n    public ComboBoxRenderer()\n    {\n        setOpaque(true);\n        setHorizontalAlignment(LEFT);\n        setVerticalAlignment(CENTER);\n        colorSet = false;\n        selectionBackgroundColor = Color.red; // Have to set a color, else a compiler error will occur\n    }\n\n    public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\n    {\n        // Check if color is set (only runs the first time)\n        if(!colorSet)\n        {\n            // Set the list' background color to original selection background of the list\n            selectionBackgroundColor = list.getSelectionBackground();\n            // Do this only one time since the color will change later\n            colorSet = true;\n        }\n\n        // Set the list' background color to white (white will show once selection is made)\n        list.setSelectionBackground(Color.white);\n\n        // Check which item is selected\n        if(isSelected)\n        {\n            // Set background color of the item your cursor is hovering over to the original background color\n            setBackground(selectionBackgroundColor);\n        }\n        else\n        {\n            // Set background color of all other items to white\n            setBackground(Color.white);\n        }\n\n        // Do nothing about the text and font to be displayed\n        setText((String)value);\n        setFont(list.getFont());\n\n        return this;\n    }\n}\n</code></pre>\n\n<p>Edit: Previous code didn't seem to work as properly, code updated and should work all fine now</p>\n"}],"owner":{"account_id":3551603,"reputation":75,"user_id":2966345,"display_name":"The Anonymous"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20589312,"answer_count":2,"score":0,"last_activity_date":1635467312,"creation_date":1387054896,"question_id":20588225,"body_markdown":"When a `JComboBox` is just made and added and all the background of the selected item is just normal and white:&lt;br&gt;\r\n(ignore the enormous spacing after the text)\r\n\r\n![before][1]\r\n\r\nWhen I then open the list and hover my cursor over an item, that item get&#39;s highlighted, all normal, nothing wrong with it.\r\n\r\nBut the problem now is that the highlighting stays once I&#39;ve clicked on an item:\r\n\r\n![after][2]\r\n\r\nSo my question is:&lt;br&gt;\r\nHow can I make the highlighting go away?&lt;br&gt;\r\nPreferably without doing difficult with packages from the community or overloading or whatever.&lt;br&gt;\r\n&lt;br&gt;\r\nIf I&#39;m right it has to be in the &#39;root&#39; of the action listener of the combo box?&lt;br&gt;\r\nSo:\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n\t{\r\n\t\tif(e.getSource() == comboBox)\r\n\t\t{\r\n            // code to delete the highlighting\r\n\t\t}\r\n\t}\r\n\r\n  [1]: http://i.stack.imgur.com/skK3f.png\r\n  [2]: http://i.stack.imgur.com/4Lvrl.png","title":"Delete highlighting in JComboBox","body":"<p>When a <code>JComboBox</code> is just made and added and all the background of the selected item is just normal and white:<br>\n(ignore the enormous spacing after the text)</p>\n\n<p><img src=\"https://i.stack.imgur.com/skK3f.png\" alt=\"before\"></p>\n\n<p>When I then open the list and hover my cursor over an item, that item get's highlighted, all normal, nothing wrong with it.</p>\n\n<p>But the problem now is that the highlighting stays once I've clicked on an item:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4Lvrl.png\" alt=\"after\"></p>\n\n<p>So my question is:<br>\nHow can I make the highlighting go away?<br>\nPreferably without doing difficult with packages from the community or overloading or whatever.<br>\n<br>\nIf I'm right it has to be in the 'root' of the action listener of the combo box?<br>\nSo:</p>\n\n<pre><code>public void actionPerformed(ActionEvent e)\n{\n    if(e.getSource() == comboBox)\n    {\n        // code to delete the highlighting\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","azure-cosmosdb"],"answers":[{"tags":[],"owner":{"account_id":23135003,"reputation":121,"user_id":17239360,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635467170,"creation_date":1635467170,"answer_id":69762323,"question_id":69762167,"body_markdown":"You can do this using `MongoTemplate` Instances. You can specify multiple templates of mongoDB&#39;s.\r\nYou can get the whole idea [here](https://www.applozic.com/blog/configure-multiple-mongodb-connectors-in-spring-boot/)\r\n\r\nYour application.properties be like:\r\n\r\n       #--- Primary MongoDB ---#\r\n       spring.data.mongodb.uri=mongodb://admin:root@127.0.0.1:27017/primary\r\n       #--- Secondary MongoDB ---#\r\n       mongodb.uri=mongodb://admin:root@127.0.0.1:27017/secondary\r\n\r\nyour configuration class:\r\n\r\n    @Configuration\r\n    class MultipleMongoConfig {\r\n    @Primary\r\n    @Bean(name = [&quot;primaryMongoProperties&quot;])\r\n    @ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\r\n    fun getPrimary() : MongoProperties {\r\n        return MongoProperties()\r\n    }\r\n    @Bean(name = [&quot;secondaryMongoProperties&quot;])\r\n    @ConfigurationProperties(prefix = &quot;MongoDB&quot;)\r\n    fun getSecondary() : MongoProperties {\r\n        return MongoProperties()\r\n    }\r\n    @Primary\r\n    @Bean(name = [&quot;primaryMongoTemplate&quot;])\r\n    fun primaryMongoTemplate() : MongoTemplate {\r\n        return MongoTemplate(primaryMongoDatabaseFactory(getPrimary()))\r\n    }\r\n    @Bean(name = [&quot;secondaryMongoTemplate&quot;])\r\n    fun secondaryMongoTemplate() : MongoTemplate {\r\n        return MongoTemplate(secondaryMongoDatabaseFactory(getSecondary()))\r\n    }\r\n    @Primary\r\n    @Bean\r\n    fun primaryMongoDatabaseFactory(mongo : MongoProperties) : MongoDatabaseFactory {\r\n        return SimpleMongoClientDatabaseFactory(\r\n           mongo.uri\r\n       )\r\n    }\r\n    @Bean\r\n    fun secondaryMongoDatabaseFactory(mongo : MongoProperties) : MongoDatabaseFactory {\r\n        return SimpleMongoClientDatabaseFactory(\r\n           mongo.uri\r\n       )\r\n    }\r\n    }\r\n\r\nYou have to disable the authoconfig for mongo:\r\n\r\n        @SpringBootApplication(exclude = [MongoAutoConfiguration::class,\r\n                               MongoDataAutoConfiguration::class])","title":"How would I connect to two Mongo repositories with AbstractReactiveMongoConfiguration","body":"<p>You can do this using <code>MongoTemplate</code> Instances. You can specify multiple templates of mongoDB's.\nYou can get the whole idea <a href=\"https://www.applozic.com/blog/configure-multiple-mongodb-connectors-in-spring-boot/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Your application.properties be like:</p>\n<pre><code>   #--- Primary MongoDB ---#\n   spring.data.mongodb.uri=mongodb://admin:root@127.0.0.1:27017/primary\n   #--- Secondary MongoDB ---#\n   mongodb.uri=mongodb://admin:root@127.0.0.1:27017/secondary\n</code></pre>\n<p>your configuration class:</p>\n<pre><code>@Configuration\nclass MultipleMongoConfig {\n@Primary\n@Bean(name = [&quot;primaryMongoProperties&quot;])\n@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\nfun getPrimary() : MongoProperties {\n    return MongoProperties()\n}\n@Bean(name = [&quot;secondaryMongoProperties&quot;])\n@ConfigurationProperties(prefix = &quot;MongoDB&quot;)\nfun getSecondary() : MongoProperties {\n    return MongoProperties()\n}\n@Primary\n@Bean(name = [&quot;primaryMongoTemplate&quot;])\nfun primaryMongoTemplate() : MongoTemplate {\n    return MongoTemplate(primaryMongoDatabaseFactory(getPrimary()))\n}\n@Bean(name = [&quot;secondaryMongoTemplate&quot;])\nfun secondaryMongoTemplate() : MongoTemplate {\n    return MongoTemplate(secondaryMongoDatabaseFactory(getSecondary()))\n}\n@Primary\n@Bean\nfun primaryMongoDatabaseFactory(mongo : MongoProperties) : MongoDatabaseFactory {\n    return SimpleMongoClientDatabaseFactory(\n       mongo.uri\n   )\n}\n@Bean\nfun secondaryMongoDatabaseFactory(mongo : MongoProperties) : MongoDatabaseFactory {\n    return SimpleMongoClientDatabaseFactory(\n       mongo.uri\n   )\n}\n}\n</code></pre>\n<p>You have to disable the authoconfig for mongo:</p>\n<pre><code>    @SpringBootApplication(exclude = [MongoAutoConfiguration::class,\n                           MongoDataAutoConfiguration::class])\n</code></pre>\n"}],"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635467170,"creation_date":1635465131,"question_id":69762167,"body_markdown":"My config for using a single mongo repo looks like this:\r\n```\r\n@Configuration\r\n@EnableMongoRepositories\r\npublic class ApplicationConfig extends AbstractReactiveMongoConfigutation {\r\n     @Autowired\r\n     private Environment env;\r\n\r\n     @Value(&quot;${spring.data.mongodb.uri}&quot;)\r\n     private String mongoUri;\r\n\r\n     @Override\r\n     protected String getDatabaseName(){\r\n          return env.getProperty(&quot;spring.data.mongodb.database&quot;);\r\n     }\r\n\r\n     @Override\r\n     protected void configureClientSettings(MongoClientSettings.Builder builder){\r\n          builder.applyConnectionString(new ConnectionString(mongoUri)));\r\n     }\r\n}\r\n```\r\n\r\nhow would I create another instance of a mongodb connection? I have tried creating a second config class with the other connection String but it didn&#39;t work. Thanks","title":"How would I connect to two Mongo repositories with AbstractReactiveMongoConfiguration","body":"<p>My config for using a single mongo repo looks like this:</p>\n<pre><code>@Configuration\n@EnableMongoRepositories\npublic class ApplicationConfig extends AbstractReactiveMongoConfigutation {\n     @Autowired\n     private Environment env;\n\n     @Value(&quot;${spring.data.mongodb.uri}&quot;)\n     private String mongoUri;\n\n     @Override\n     protected String getDatabaseName(){\n          return env.getProperty(&quot;spring.data.mongodb.database&quot;);\n     }\n\n     @Override\n     protected void configureClientSettings(MongoClientSettings.Builder builder){\n          builder.applyConnectionString(new ConnectionString(mongoUri)));\n     }\n}\n</code></pre>\n<p>how would I create another instance of a mongodb connection? I have tried creating a second config class with the other connection String but it didn't work. Thanks</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1635466413,"post_id":69762242,"comment_id":123312966,"body_markdown":"`pairs.stream().flatMap(p -&gt; Stream.of(p.first(), p.second()))`","body":"<code>pairs.stream().flatMap(p -&gt; Stream.of(p.first(), p.second()))</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635466962,"creation_date":1635466962,"answer_id":69762307,"question_id":69762242,"body_markdown":"You want to turn your stream of pairs into a stream of numbers; to do so, any given pair gets mapped into a variable number of items in the stream. `.map` can only map one thing to one other thing. `flatMap`, on the other hand, can map one thing to any number (even 0) things.\r\n\r\n`flatMap` turns an element of the stream, into a stream of whatever you want - these streams are then concatenated together to form a new single stream.\r\n\r\nThus, all you need to do is to turn a `Pair&lt;Integer, Integer&gt;` instance into a stream representing the 2 integers. Java will do the rest:\r\n\r\n```\r\npairs.stream().flatMap(pair -&gt; Stream.of(p.first(), p.second())).distinct().forEach(System.out::println);\r\n```\r\n\r\nThat would end up printing 3, 5, and 7, as desired.\r\n\r\nNB: Pair is bad java style. Java is extensively nominal: Its designed around the notion that things are named. Those pairs of numbers represent something more specific than &#39;a pair of numbers&#39;. You should make a class that models that exact thing. The alternative is that we do away with, say, a `Person` class and instead make a `Tuple&lt;String, Tuple&lt;Integer, Integer, Integer&gt;, String&gt;` instead of a class with a field `String name;`, `LocalDate birthDate;`, and `String studentId;` or whatnot. Clearly a bad idea.\r\n","title":"How do I pull out fields from a custom class using streams? (Without using for/while loops)","body":"<p>You want to turn your stream of pairs into a stream of numbers; to do so, any given pair gets mapped into a variable number of items in the stream. <code>.map</code> can only map one thing to one other thing. <code>flatMap</code>, on the other hand, can map one thing to any number (even 0) things.</p>\n<p><code>flatMap</code> turns an element of the stream, into a stream of whatever you want - these streams are then concatenated together to form a new single stream.</p>\n<p>Thus, all you need to do is to turn a <code>Pair&lt;Integer, Integer&gt;</code> instance into a stream representing the 2 integers. Java will do the rest:</p>\n<pre><code>pairs.stream().flatMap(pair -&gt; Stream.of(p.first(), p.second())).distinct().forEach(System.out::println);\n</code></pre>\n<p>That would end up printing 3, 5, and 7, as desired.</p>\n<p>NB: Pair is bad java style. Java is extensively nominal: Its designed around the notion that things are named. Those pairs of numbers represent something more specific than 'a pair of numbers'. You should make a class that models that exact thing. The alternative is that we do away with, say, a <code>Person</code> class and instead make a <code>Tuple&lt;String, Tuple&lt;Integer, Integer, Integer&gt;, String&gt;</code> instead of a class with a field <code>String name;</code>, <code>LocalDate birthDate;</code>, and <code>String studentId;</code> or whatnot. Clearly a bad idea.</p>\n"}],"owner":{"account_id":17124585,"reputation":49,"user_id":12392101,"display_name":"Heartless"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69762307,"answer_count":1,"score":-1,"last_activity_date":1635466962,"creation_date":1635466033,"question_id":69762242,"body_markdown":"&gt;I would like to know how to pull out field and make it become a list using streams. For example, if I have a list of Pairs, Pair[2] { Pair&lt;3,5&gt;,Pair&lt;5,7&gt;}, I would like to make it become Integer[3] {3,5,7}. (After using Stream.distinct() to remove the dupicate 5) Pair class is provided if that is needed.\r\n\r\n```java\r\npublic class Pair&lt;T,U&gt; {\r\n    private final T first;\r\n    private final U second;\r\n\r\n    public Pair(T first, U second){\r\n        this.first = first;\r\n        this.second = second;\r\n    }\r\n\r\n    T first() {\r\n        return this.first;\r\n    }\r\n\r\n    U second(){\r\n        return this.second;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return &quot;&lt;&quot; + this.first + &quot;, &quot;+ this.second+&quot;&gt;&quot;;\r\n    }\r\n}\r\n\r\n```","title":"How do I pull out fields from a custom class using streams? (Without using for/while loops)","body":"<blockquote>\n<p>I would like to know how to pull out field and make it become a list using streams. For example, if I have a list of Pairs, Pair[2] { Pair&lt;3,5&gt;,Pair&lt;5,7&gt;}, I would like to make it become Integer[3] {3,5,7}. (After using Stream.distinct() to remove the dupicate 5) Pair class is provided if that is needed.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pair&lt;T,U&gt; {\n    private final T first;\n    private final U second;\n\n    public Pair(T first, U second){\n        this.first = first;\n        this.second = second;\n    }\n\n    T first() {\n        return this.first;\n    }\n\n    U second(){\n        return this.second;\n    }\n\n    @Override\n    public String toString(){\n        return &quot;&lt;&quot; + this.first + &quot;, &quot;+ this.second+&quot;&gt;&quot;;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","timezone","spring-scheduled"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1522314213,"post_id":49551882,"comment_id":86110993,"body_markdown":"That sounds like you&#39;d be executing it once per hour, with a few extras for time zones which aren&#39;t on a UTC offset hour boundary. If you want to execute that often, is there any reason you don&#39;t just set it to execute on the hour (UTC) every hour?","body":"That sounds like you&#39;d be executing it once per hour, with a few extras for time zones which aren&#39;t on a UTC offset hour boundary. If you want to execute that often, is there any reason you don&#39;t just set it to execute on the hour (UTC) every hour?"}],"answers":[{"tags":[],"owner":{"account_id":162532,"reputation":1647,"user_id":384044,"accept_rate":65,"display_name":"alex440"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522314845,"creation_date":1522314478,"answer_id":49552036,"question_id":49551882,"body_markdown":"I think you would be better served if you create several triggers and set them to the times you need the task to be executed from a list of timezones you need. \r\n\r\nEspecially if the work is dependent on the time zone the task is fired for.\r\n\r\n        List&lt;Integer&gt; timezoneDelays = Arrays.asList(1, 2, 5);\r\n        for (double d : timezoneDelays){\r\n            CronTrigger cronTrigger = new CronTrigger(&quot;0 0 &quot; + d + &quot; * * ?&quot;);\r\n            taskScheduler.schedule(new RunnableTask(&quot;Cron Trigger&quot;), cronTrigger);\r\n        }\r\n\r\nhttp://www.baeldung.com/spring-task-scheduler\r\n\r\nAlso, simply setting the task to fire every hour or half an hour is also may work for you.","title":"How can I use Spring scheduler to do some work at 0 a.m. in each time zone?","body":"<p>I think you would be better served if you create several triggers and set them to the times you need the task to be executed from a list of timezones you need. </p>\n\n<p>Especially if the work is dependent on the time zone the task is fired for.</p>\n\n<pre><code>    List&lt;Integer&gt; timezoneDelays = Arrays.asList(1, 2, 5);\n    for (double d : timezoneDelays){\n        CronTrigger cronTrigger = new CronTrigger(\"0 0 \" + d + \" * * ?\");\n        taskScheduler.schedule(new RunnableTask(\"Cron Trigger\"), cronTrigger);\n    }\n</code></pre>\n\n<p><a href=\"http://www.baeldung.com/spring-task-scheduler\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-task-scheduler</a></p>\n\n<p>Also, simply setting the task to fire every hour or half an hour is also may work for you.</p>\n"},{"tags":[],"owner":{"account_id":13254137,"reputation":26,"user_id":9570791,"display_name":"gofas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1522339337,"creation_date":1522338894,"answer_id":49560353,"question_id":49551882,"body_markdown":"I&#39;d just like to warn about the approach of mapping a country to an offset, mainly because:\r\n\r\n- one country can have more than 1 timezone, each one with a different offset. For example, USA has 4 (Pacific Time, Mountain Time, Central Time and Eastern Time - actually, it has more because of Alaska and Hawaii), [Russia has more than 10][1], etc. Even the same **state** can have more than 1 timezone (such as [Arizona][2])\r\n- the same country, even if it has only 1 timezone, can have Daylight Saving Time (DST), so it&#39;ll have 2 different offsets throughout the year\r\n- in some countries, DST starts at midnight, which means that clocks jump 1 hour forward, from 23:59 directly to 1 AM - so during DST transition, midnight doesn&#39;t exist in those timezones\r\n- DST rules can change all the time by governments, so you can&#39;t assume that the offets will always be the same. One country without DST can decide to start using it (and vice-versa), or change the day when DST starts and/or ends, etc\r\n\r\nSo mapping a country to an offset is a very simplistic and error-prone approach. It might work for some cases, but it&#39;s not guaranteed to work all the time, for all months, in all countries. Actually, it&#39;ll fail in lots of cases.\r\n\r\nThe ideal way is to use [IANA&#39;s timezones names][3], in the format `Continent/Region` (such as `America/New_York` or `Asia/Shanghai`), and use an API that can handle DST issues and automatically calculate the correct offset for you. For countries with more than one timezone, you must arbitrarily choose one IANA name, based on some criteria (example: in USA, should I use `America/New_York`,  `America/Chicago`, `America/Los_Angeles`? It&#39;s up to you to decide).\r\n\r\nI&#39;d also recommend you to use [Java 8 datetime API][4], if available (or [threeten backport][5] for lower versions). This API handles timezones and DST stuff for you, and you can get the exact UTC moment that corresponds to midnight in each timezone.\r\n\r\n    List&lt;String&gt; timezones = // timezones you want\r\n\r\n    // month that I care about (example: March 2018)\r\n    YearMonth yearMonth = YearMonth.of(2018, 3);\r\n    for (String zoneName : timezones) {\r\n        ZoneId zone = ZoneId.of(zoneName);\r\n        // get midnight at first day of month, in this timezone\r\n        ZonedDateTime utc = yearMonth\r\n            // 1st of month\r\n            .atDay(1)\r\n            // midnight at the timezone\r\n            .atStartOfDay(zone)\r\n            // convert to UTC\r\n            .withZoneSameInstant(ZoneOffset.UTC);\r\n        \r\n        // get the fields you need to configure the job\r\n        utc.getDayOfMonth();\r\n        utc.getHour();\r\n        ... etc\r\n    }\r\n\r\nWith this code, the variable `utc` will be equivalent to midnight (or to the first moment of the day, when DST starts at midnight for example) in each timezone, but already converted to UTC&#39;s values. You can get the day, month, year, hour, minute, anything you want (in UTC) to configure your job to run exactly at that moment.\r\n\r\n\r\n  [1]: https://www.timeanddate.com/time/zone/russia\r\n  [2]: https://www.timeanddate.com/time/us/arizona-no-dst.html\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [4]: https://docs.oracle.com/javase/tutorial/datetime/iso/index.html\r\n  [5]: http://www.threeten.org/threetenbp/","title":"How can I use Spring scheduler to do some work at 0 a.m. in each time zone?","body":"<p>I'd just like to warn about the approach of mapping a country to an offset, mainly because:</p>\n\n<ul>\n<li>one country can have more than 1 timezone, each one with a different offset. For example, USA has 4 (Pacific Time, Mountain Time, Central Time and Eastern Time - actually, it has more because of Alaska and Hawaii), <a href=\"https://www.timeanddate.com/time/zone/russia\" rel=\"nofollow noreferrer\">Russia has more than 10</a>, etc. Even the same <strong>state</strong> can have more than 1 timezone (such as <a href=\"https://www.timeanddate.com/time/us/arizona-no-dst.html\" rel=\"nofollow noreferrer\">Arizona</a>)</li>\n<li>the same country, even if it has only 1 timezone, can have Daylight Saving Time (DST), so it'll have 2 different offsets throughout the year</li>\n<li>in some countries, DST starts at midnight, which means that clocks jump 1 hour forward, from 23:59 directly to 1 AM - so during DST transition, midnight doesn't exist in those timezones</li>\n<li>DST rules can change all the time by governments, so you can't assume that the offets will always be the same. One country without DST can decide to start using it (and vice-versa), or change the day when DST starts and/or ends, etc</li>\n</ul>\n\n<p>So mapping a country to an offset is a very simplistic and error-prone approach. It might work for some cases, but it's not guaranteed to work all the time, for all months, in all countries. Actually, it'll fail in lots of cases.</p>\n\n<p>The ideal way is to use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">IANA's timezones names</a>, in the format <code>Continent/Region</code> (such as <code>America/New_York</code> or <code>Asia/Shanghai</code>), and use an API that can handle DST issues and automatically calculate the correct offset for you. For countries with more than one timezone, you must arbitrarily choose one IANA name, based on some criteria (example: in USA, should I use <code>America/New_York</code>,  <code>America/Chicago</code>, <code>America/Los_Angeles</code>? It's up to you to decide).</p>\n\n<p>I'd also recommend you to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/index.html\" rel=\"nofollow noreferrer\">Java 8 datetime API</a>, if available (or <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">threeten backport</a> for lower versions). This API handles timezones and DST stuff for you, and you can get the exact UTC moment that corresponds to midnight in each timezone.</p>\n\n<pre><code>List&lt;String&gt; timezones = // timezones you want\n\n// month that I care about (example: March 2018)\nYearMonth yearMonth = YearMonth.of(2018, 3);\nfor (String zoneName : timezones) {\n    ZoneId zone = ZoneId.of(zoneName);\n    // get midnight at first day of month, in this timezone\n    ZonedDateTime utc = yearMonth\n        // 1st of month\n        .atDay(1)\n        // midnight at the timezone\n        .atStartOfDay(zone)\n        // convert to UTC\n        .withZoneSameInstant(ZoneOffset.UTC);\n\n    // get the fields you need to configure the job\n    utc.getDayOfMonth();\n    utc.getHour();\n    ... etc\n}\n</code></pre>\n\n<p>With this code, the variable <code>utc</code> will be equivalent to midnight (or to the first moment of the day, when DST starts at midnight for example) in each timezone, but already converted to UTC's values. You can get the day, month, year, hour, minute, anything you want (in UTC) to configure your job to run exactly at that moment.</p>\n"}],"owner":{"account_id":13251098,"reputation":13,"user_id":9568584,"display_name":"vison_he"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49560353,"answer_count":2,"score":1,"last_activity_date":1635466949,"creation_date":1522313943,"question_id":49551882,"body_markdown":"Just like the title , some task need to execute at 0 a.m. in each time zone, but `@Scheduled` annotation only support setting one zone, as shown below: \r\n\r\n    @Scheduled(cron = &quot;0 0 0 * * ?&quot;, zone = &quot;Asia/Shanghai&quot;)\r\n    public void scheduleTask() {...}\r\n\r\nI only can do task at 0 a.m. in &quot;Asia/Shanghai&quot;, how can I execute this task at each time zone? Can the Spring scheduler support or any other tool help me?\r\n\r\n---\r\n\r\nSorry, I may not have described the problem clearly.\r\n\r\nHere is our task scenario. We have a task to execute at 0 a.m. on the first day of the month, but each country has different UTC, so how can I execute this task at each country 00 a.m.?\r\n\r\nWe have a country table, I can use country code to get capital UTC `zoneId`, just like this:\r\n&gt; `CN -&gt; UTC+08:00`\r\n\r\n","title":"How can I use Spring scheduler to do some work at 0 a.m. in each time zone?","body":"<p>Just like the title , some task need to execute at 0 a.m. in each time zone, but <code>@Scheduled</code> annotation only support setting one zone, as shown below:</p>\n<pre><code>@Scheduled(cron = &quot;0 0 0 * * ?&quot;, zone = &quot;Asia/Shanghai&quot;)\npublic void scheduleTask() {...}\n</code></pre>\n<p>I only can do task at 0 a.m. in &quot;Asia/Shanghai&quot;, how can I execute this task at each time zone? Can the Spring scheduler support or any other tool help me?</p>\n<hr />\n<p>Sorry, I may not have described the problem clearly.</p>\n<p>Here is our task scenario. We have a task to execute at 0 a.m. on the first day of the month, but each country has different UTC, so how can I execute this task at each country 00 a.m.?</p>\n<p>We have a country table, I can use country code to get capital UTC <code>zoneId</code>, just like this:</p>\n<blockquote>\n<p><code>CN -&gt; UTC+08:00</code></p>\n</blockquote>\n"},{"tags":["java","loops","oop"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1635465745,"post_id":69762161,"comment_id":123312872,"body_markdown":"What do you mean &quot;stops resetting&quot;? You never do anything to reset it. You only assign a new enemyType to the enemy. Why do you think the health would reset? What part of your code do you think would cause it to reset?","body":"What do you mean &quot;stops resetting&quot;? You never do anything to reset it. You only assign a new enemyType to the enemy. Why do you think the health would reset? What part of your code do you think would cause it to reset?"},{"owner":{"account_id":22679081,"reputation":126,"user_id":16849662,"display_name":"rhagee"},"score":0,"creation_date":1635466045,"post_id":69762161,"comment_id":123312910,"body_markdown":"You should start thinking about creating methods in Enemy object to redefine a new Enemy like enemy.defeated() will assign a new Type and set the HP to the assigned Type HP. So you won&#39;t have a verbouse code and it will work fine everytimes. I think that setting a new type if Enemy like you do doesn&#39;t affect the HP attribute of it.","body":"You should start thinking about creating methods in Enemy object to redefine a new Enemy like enemy.defeated() will assign a new Type and set the HP to the assigned Type HP. So you won&#39;t have a verbouse code and it will work fine everytimes. I think that setting a new type if Enemy like you do doesn&#39;t affect the HP attribute of it."},{"owner":{"account_id":22951907,"reputation":41,"user_id":17083066,"display_name":"Epicskylegend"},"score":0,"creation_date":1635466171,"post_id":69762161,"comment_id":123312924,"body_markdown":"I recognize that and was just looking into it. However the reason why I was wondering about this is because the health values of enemies used to reset upon defeating an enemy but no longer does so. That led me to think that every new enemy would spawn with their values reset.","body":"I recognize that and was just looking into it. However the reason why I was wondering about this is because the health values of enemies used to reset upon defeating an enemy but no longer does so. That led me to think that every new enemy would spawn with their values reset."},{"owner":{"account_id":7098104,"reputation":1079,"user_id":5473669,"accept_rate":100,"display_name":"MaxG"},"score":2,"creation_date":1635466982,"post_id":69762161,"comment_id":123313058,"body_markdown":"This is not oop code... Oop means encapsulation and object creation. For example, creating a new enemy object whenever you want a new enemy. Your problems stem from not following oop design principals. You need to reset your enemy hp manually.","body":"This is not oop code... Oop means encapsulation and object creation. For example, creating a new enemy object whenever you want a new enemy. Your problems stem from not following oop design principals. You need to reset your enemy hp manually."}],"owner":{"account_id":22951907,"reputation":41,"user_id":17083066,"display_name":"Epicskylegend"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635466509,"creation_date":1635465058,"question_id":69762161,"body_markdown":"  \r\n\r\nI&#39;m recreating a text based dungeon RPG I made earlier using OOP, but ran into an issue. Below we have the class for the battle sequence. When entering in the inputs to attack and use health potions everything works as intended except for one thing. After defeating the first foe,  the health of the enemies stops resetting when a new one appears causing their health values to become negative. Why is that?\r\n\r\nEDIT: I found a solution!\r\n\r\n \r\n\r\n     import java.util.Scanner;\r\n        import java.util.Random;\r\n        \r\n        public class BattleSequence {\r\n        \r\n            public static void main(String args[]) {\r\n        \r\n                Scanner input = new Scanner(System.in);\r\n        \r\n                Player player = new Player();\r\n                Enemy enemy = new Enemy();\r\n                Potion potion = new Potion();\r\n                Random rand = new Random();\r\n        \r\n                System.out.println(&quot;Welcome to the dungeon!&quot;);\r\n        \r\n                enemy.randomEnemy = enemy.enemyType[rand.nextInt(enemy.enemyType.length)];\r\n                System.out.println(&quot;# A &quot; + enemy.randomEnemy + &quot; appears! #&quot;);\r\n        \r\n        \r\n                while (player.start == 0) {\r\n                    System.out.println(&quot;---------------------------&quot;);\r\n                    System.out.println(&quot;Your current health is &quot; + player.playerHealth + &quot;.&quot;);\r\n                    System.out.println(&quot;Your current attack damage is &quot; + player.playerAttackDamage + &quot;.&quot;);\r\n                    System.out.println(&quot;Your current level is &quot; + player.playerLevel + &quot;.&quot;);\r\n                    System.out.println(&quot;Your currently have &quot; + player.playerHealthPotions + &quot; health potions.&quot;);\r\n                    System.out.println(&quot;---------------------------&quot;);\r\n        \r\n                    System.out.println(&quot;What would you like to do?\\n&quot;);\r\n                    System.out.println(&quot;Type 1 to attack, 2 to use health potion, and 3 to run\\n&quot;);\r\n        \r\n                    String Input = input.nextLine();\r\n                    if (Input.equals(&quot;1&quot;)) {\r\n                        System.out.println(&quot;---------------------------&quot;);\r\n                        System.out.println(&quot;You strike the &quot; + enemy.randomEnemy + &quot; for &quot; + player.playerAttackDamage + &quot; damage.\\n&quot;);\r\n                        System.out.println(&quot;---------------------------&quot;);\r\n                        enemy.enemyHealth -= player.playerAttackDamage;\r\n                        if (enemy.enemyHealth &gt;= player.playerAttackDamage) {\r\n                            System.out.println(&quot;The &quot; + enemy.randomEnemy + &quot; has &quot; + enemy.enemyHealth + &quot; health remaining.\\n&quot;);\r\n                        }\r\n                    }\r\n        \r\n                     else if (Input.equals(&quot;2&quot;)) {\r\n        \r\n                        if (player.playerHealthPotions &gt; 0) {\r\n                            player.playerHealth += potion.potionHealAmount;\r\n                            player.playerHealthPotions = player.playerHealthPotions - 1;\r\n                            System.out.println(&quot;You drank a health potion healing you for &quot; + potion.potionHealAmount + &quot; health. You now have &quot; + player.playerHealthPotions + &quot; health potions remaining.\\n&quot;);\r\n                        }\r\n                        else {\r\n                            System.out.println(&quot;You have no more potions available, fight enemies for a chance to receive more.\\n&quot;);\r\n                        }\r\n                    }\r\n                    if (enemy.enemyHealth &lt; 1) {\r\n                        System.out.println(&quot;The &quot; + enemy.randomEnemy + &quot; has been defeated.\\n&quot;);\r\n                        enemy.randomEnemy = enemy.enemyType[rand.nextInt(enemy.enemyType.length)];\r\n                        System.out.println(&quot;# A &quot; + enemy.randomEnemy + &quot; appears! #&quot;);\r\n        \r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;The &quot; + enemy.randomEnemy + &quot; strikes you for &quot; + enemy.randomDamage + &quot; damage.\\n&quot;);\r\n                        player.playerHealth -= enemy.randomDamage;\r\n                    }\r\n        \r\n        \r\n        \r\n                }\r\n        \r\n        \r\n            }\r\n        }\r\n\r\n","title":"Why does the Health of the Enemy Stop Resetting","body":"<p>I'm recreating a text based dungeon RPG I made earlier using OOP, but ran into an issue. Below we have the class for the battle sequence. When entering in the inputs to attack and use health potions everything works as intended except for one thing. After defeating the first foe,  the health of the enemies stops resetting when a new one appears causing their health values to become negative. Why is that?</p>\n<p>EDIT: I found a solution!</p>\n<pre><code> import java.util.Scanner;\n    import java.util.Random;\n    \n    public class BattleSequence {\n    \n        public static void main(String args[]) {\n    \n            Scanner input = new Scanner(System.in);\n    \n            Player player = new Player();\n            Enemy enemy = new Enemy();\n            Potion potion = new Potion();\n            Random rand = new Random();\n    \n            System.out.println(&quot;Welcome to the dungeon!&quot;);\n    \n            enemy.randomEnemy = enemy.enemyType[rand.nextInt(enemy.enemyType.length)];\n            System.out.println(&quot;# A &quot; + enemy.randomEnemy + &quot; appears! #&quot;);\n    \n    \n            while (player.start == 0) {\n                System.out.println(&quot;---------------------------&quot;);\n                System.out.println(&quot;Your current health is &quot; + player.playerHealth + &quot;.&quot;);\n                System.out.println(&quot;Your current attack damage is &quot; + player.playerAttackDamage + &quot;.&quot;);\n                System.out.println(&quot;Your current level is &quot; + player.playerLevel + &quot;.&quot;);\n                System.out.println(&quot;Your currently have &quot; + player.playerHealthPotions + &quot; health potions.&quot;);\n                System.out.println(&quot;---------------------------&quot;);\n    \n                System.out.println(&quot;What would you like to do?\\n&quot;);\n                System.out.println(&quot;Type 1 to attack, 2 to use health potion, and 3 to run\\n&quot;);\n    \n                String Input = input.nextLine();\n                if (Input.equals(&quot;1&quot;)) {\n                    System.out.println(&quot;---------------------------&quot;);\n                    System.out.println(&quot;You strike the &quot; + enemy.randomEnemy + &quot; for &quot; + player.playerAttackDamage + &quot; damage.\\n&quot;);\n                    System.out.println(&quot;---------------------------&quot;);\n                    enemy.enemyHealth -= player.playerAttackDamage;\n                    if (enemy.enemyHealth &gt;= player.playerAttackDamage) {\n                        System.out.println(&quot;The &quot; + enemy.randomEnemy + &quot; has &quot; + enemy.enemyHealth + &quot; health remaining.\\n&quot;);\n                    }\n                }\n    \n                 else if (Input.equals(&quot;2&quot;)) {\n    \n                    if (player.playerHealthPotions &gt; 0) {\n                        player.playerHealth += potion.potionHealAmount;\n                        player.playerHealthPotions = player.playerHealthPotions - 1;\n                        System.out.println(&quot;You drank a health potion healing you for &quot; + potion.potionHealAmount + &quot; health. You now have &quot; + player.playerHealthPotions + &quot; health potions remaining.\\n&quot;);\n                    }\n                    else {\n                        System.out.println(&quot;You have no more potions available, fight enemies for a chance to receive more.\\n&quot;);\n                    }\n                }\n                if (enemy.enemyHealth &lt; 1) {\n                    System.out.println(&quot;The &quot; + enemy.randomEnemy + &quot; has been defeated.\\n&quot;);\n                    enemy.randomEnemy = enemy.enemyType[rand.nextInt(enemy.enemyType.length)];\n                    System.out.println(&quot;# A &quot; + enemy.randomEnemy + &quot; appears! #&quot;);\n    \n                }\n                else {\n                    System.out.println(&quot;The &quot; + enemy.randomEnemy + &quot; strikes you for &quot; + enemy.randomDamage + &quot; damage.\\n&quot;);\n                    player.playerHealth -= enemy.randomDamage;\n                }\n    \n    \n    \n            }\n    \n    \n        }\n    }\n</code></pre>\n"},{"tags":["java","http","ssl-certificate","httpclient"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1635467099,"post_id":69762266,"comment_id":123313078,"body_markdown":"Where did you read it?  Did you follow https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error","body":"Where did you read it?  Did you follow <a href=\"https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\" title=\"how to solve javax net ssl sslhandshakeexception error\">stackoverflow.com/questions/6659360/&hellip;</a>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1635467695,"post_id":69762266,"comment_id":123313177,"body_markdown":"What benefit would it give you to &quot;bypass&quot; this exception at one end of the connection? The other end would still insist on the protocol and you wouldn&#39;t be able to communicate.","body":"What benefit would it give you to &quot;bypass&quot; this exception at one end of the connection? The other end would still insist on the protocol and you wouldn&#39;t be able to communicate."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635468260,"post_id":69762266,"comment_id":123313278,"body_markdown":"What is the cause of this handshake exception?  You seem to be assuming that it is happening during certification verification.  It could happen for other reasons; e.g. mismatched requirements for protocols or encryption algorithms. What have you done to diagnose the cause of the failure?","body":"What is the cause of this handshake exception?  You seem to be assuming that it is happening during certification verification.  It could happen for other reasons; e.g. mismatched requirements for protocols or encryption algorithms. What have you done to diagnose the cause of the failure?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635468463,"post_id":69762266,"comment_id":123313307,"body_markdown":"Note that the kind of stuff you are doing is inherently insecure ... and depending on the context ... dangerous.","body":"Note that the kind of stuff you are doing is inherently insecure ... and depending on the context ... dangerous."},{"owner":{"account_id":22566866,"reputation":799,"user_id":16753754,"display_name":"Anton Cavanaugh"},"score":0,"creation_date":1635496233,"post_id":69762266,"comment_id":123319101,"body_markdown":"Yes, I did Scary Wombat, but I noticed it was  set up at the connection level not at the clientBuild  level,","body":"Yes, I did Scary Wombat, but I noticed it was  set up at the connection level not at the clientBuild  level,"},{"owner":{"account_id":22566866,"reputation":799,"user_id":16753754,"display_name":"Anton Cavanaugh"},"score":0,"creation_date":1635496475,"post_id":69762266,"comment_id":123319207,"body_markdown":"Its for  webcrawler functionlity/","body":"Its for  webcrawler functionlity/"}],"owner":{"account_id":22566866,"reputation":799,"user_id":16753754,"display_name":"Anton Cavanaugh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635466430,"creation_date":1635466430,"question_id":69762266,"body_markdown":"I am getting the exception  javax.net.ssl.SSLHandshakeException. I have read up you can bypass this at the coding level. Which is what I have been attempting to do.\r\nI have added NoopHostnameVerifier.INSTANCE and SSLContext to the client builder, but still getting the SSL exception.\r\n\r\n```\r\nvar clientBuilder  = HttpClientBuilder.create()\r\n            .setDefaultRequestConfig(RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build())\r\n            .setRedirectStrategy(new LaxRedirectStrategy())\r\n            .setDefaultCookieStore(cookieStore)\r\n            .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n            .setSSLContext(createSSLContext());\r\n```\r\n\r\n```\r\nprivate SSLContext createSSLContext() {\r\n              TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n              @Override\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                      return null;\r\n                   }\r\n\r\n                    @Override\r\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n                    }\r\n\r\n                    @Override\r\n                    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\r\n                    }\r\n           } };\r\n\r\n       SSLContext sc = null;\r\n        try {\r\n           sc = SSLContext.getInstance (&quot;SSL&quot;);\r\n           sc.init (null, trustAllCerts, new java.security.SecureRandom ());\r\n        } catch (KeyManagementException | NoSuchAlgorithmException e) {\r\n           e.printStackTrace ();\r\n        }\r\n        return sc;\r\n    }\r\n```","title":"How to bypass SSL Handshake javax.net.ssl.SSLHandshakeException","body":"<p>I am getting the exception  javax.net.ssl.SSLHandshakeException. I have read up you can bypass this at the coding level. Which is what I have been attempting to do.\nI have added NoopHostnameVerifier.INSTANCE and SSLContext to the client builder, but still getting the SSL exception.</p>\n<pre><code>var clientBuilder  = HttpClientBuilder.create()\n            .setDefaultRequestConfig(RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build())\n            .setRedirectStrategy(new LaxRedirectStrategy())\n            .setDefaultCookieStore(cookieStore)\n            .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n            .setSSLContext(createSSLContext());\n</code></pre>\n<pre><code>private SSLContext createSSLContext() {\n              TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n              @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                      return null;\n                   }\n\n                    @Override\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n                    }\n\n                    @Override\n                    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n\n                    }\n           } };\n\n       SSLContext sc = null;\n        try {\n           sc = SSLContext.getInstance (&quot;SSL&quot;);\n           sc.init (null, trustAllCerts, new java.security.SecureRandom ());\n        } catch (KeyManagementException | NoSuchAlgorithmException e) {\n           e.printStackTrace ();\n        }\n        return sc;\n    }\n</code></pre>\n"},{"tags":["java","android","google-maps","firebase"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1459383813,"post_id":36322085,"comment_id":60267334,"body_markdown":"Try building on the command line with gradlew and passing the flags --debug and --stacktrace to get more detail.","body":"Try building on the command line with gradlew and passing the flags --debug and --stacktrace to get more detail."}],"answers":[{"tags":[],"owner":{"account_id":7942679,"reputation":7633,"user_id":5996134,"display_name":"KENdi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1459425612,"creation_date":1459425612,"answer_id":36332875,"question_id":36322085,"body_markdown":"Based on this [page](https://teamtreehouse.com/community/errorexecution-failed-for-task-appdexdebug-2), they solved this kind of issue by using following this steps.\r\n\r\n1. Download &amp; unzip the SDK. This should create a folder named Parse-1.xx.x (Parse-1.11.0 in my case)\r\n2. Move the entire folder to /apps/libs (make sure you deleted the previous Parse-*.jar file)\r\n3. Build &gt; Rebuild project\r\n\r\nIf you have problem with bolts file you can resolve it by following this steps.\r\n\r\n1. Go to: https://github.com/ParsePlatform/Parse-SDK-Android\r\n2. Download the jar file\r\n3. Store the downloaded jar file in the src/main/libs folder\r\n4. Then add the dependency in the build.gradle(module:app) file &quot; compile &#39;com.parse:parse-android:1.11.0&#39; &quot; -&gt; or whatever is the version number for the jar file.\r\n5. Sync the gradle file.\r\n\r\nAlso try to check the solution for this [SO question.](https://stackoverflow.com/questions/29045129/android-java-exe-finished-with-non-zero-exit-value-1)","title":"Android firebase integration with Google Maps","body":"<p>Based on this <a href=\"https://teamtreehouse.com/community/errorexecution-failed-for-task-appdexdebug-2\" rel=\"nofollow noreferrer\">page</a>, they solved this kind of issue by using following this steps.</p>\n\n<ol>\n<li>Download &amp; unzip the SDK. This should create a folder named Parse-1.xx.x (Parse-1.11.0 in my case)</li>\n<li>Move the entire folder to /apps/libs (make sure you deleted the previous Parse-*.jar file)</li>\n<li>Build > Rebuild project</li>\n</ol>\n\n<p>If you have problem with bolts file you can resolve it by following this steps.</p>\n\n<ol>\n<li>Go to: <a href=\"https://github.com/ParsePlatform/Parse-SDK-Android\" rel=\"nofollow noreferrer\">https://github.com/ParsePlatform/Parse-SDK-Android</a></li>\n<li>Download the jar file</li>\n<li>Store the downloaded jar file in the src/main/libs folder</li>\n<li>Then add the dependency in the build.gradle(module:app) file \" compile 'com.parse:parse-android:1.11.0' \" -> or whatever is the version number for the jar file.</li>\n<li>Sync the gradle file.</li>\n</ol>\n\n<p>Also try to check the solution for this <a href=\"https://stackoverflow.com/questions/29045129/android-java-exe-finished-with-non-zero-exit-value-1\">SO question.</a></p>\n"},{"tags":[],"owner":{"account_id":6294825,"reputation":694,"user_id":4906176,"accept_rate":0,"display_name":"Yogesh Borhade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481864075,"creation_date":1481864075,"answer_id":41177491,"question_id":36322085,"body_markdown":" - It happen because of heap size\r\n - I have face same issue but issue is resolved . \r\n - Please check below build.gradle/app file and do some changes in it.\r\n - Firebase version and map version should be .\r\n - Please check Code \r\n - add this two things in your gradle \r\n   \r\n - **multiDexEnabled true**\r\n\r\n  \r\n\r\n - **dexOptions {\r\n           javaMaxHeapSize &quot;4g&quot;\r\n       }*\r\n\r\n*\r\n\r\n\r\n  \r\n\r\n\r\n----------\r\n\r\n   \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 25\r\n    buildToolsVersion &quot;25.0.2&quot;\r\n\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.jmtechnologies.askuscash&quot;\r\n        minSdkVersion 14\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    dexOptions {\r\n        javaMaxHeapSize &quot;4g&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    // compile &#39;com.android.support:multidex:1.0.0&#39;\r\n\r\n\r\n    compile &#39;com.android.support:appcompat-v7:25.1.0&#39;\r\n    compile &#39;com.android.support:design:25.1.0&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:25.1.0&#39;\r\n    compile &#39;com.google.android.gms:play-services:10.0.1&#39;\r\n    compile &#39;com.google.android.gms:play-services:10.0.1&#39;\r\n\r\n    compile &#39;com.google.maps.android:android-maps-utils:0.3+&#39;\r\n    compile &#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;\r\n\r\n    // Spinner\r\n    compile &#39;com.jaredrummler:material-spinner:1.1.0&#39;\r\n\r\n    //Firebase\r\n    compile &#39;com.google.firebase:firebase-messaging:10.0.1&#39;\r\n\r\n\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n","title":"Android firebase integration with Google Maps","body":"<ul>\n<li>It happen because of heap size</li>\n<li>I have face same issue but issue is resolved . </li>\n<li>Please check below build.gradle/app file and do some changes in it.</li>\n<li>Firebase version and map version should be .</li>\n<li>Please check Code </li>\n<li><p>add this two things in your gradle </p></li>\n<li><p><strong>multiDexEnabled true</strong></p></li>\n<li><p>**dexOptions {\n       javaMaxHeapSize \"4g\"\n   }*</p></li>\n</ul>\n\n<p>*</p>\n\n<hr>\n\n<pre><code>apply plugin: 'com.android.application'\n</code></pre>\n\n<p>android {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"</p>\n\n<pre><code>defaultConfig {\n    applicationId \"com.jmtechnologies.askuscash\"\n    minSdkVersion 14\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\ndexOptions {\n    javaMaxHeapSize \"4g\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    // compile 'com.android.support:multidex:1.0.0'</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:25.1.0'\ncompile 'com.android.support:design:25.1.0'\ncompile 'com.android.support:recyclerview-v7:25.1.0'\ncompile 'com.google.android.gms:play-services:10.0.1'\ncompile 'com.google.android.gms:play-services:10.0.1'\n\ncompile 'com.google.maps.android:android-maps-utils:0.3+'\ncompile 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n\n// Spinner\ncompile 'com.jaredrummler:material-spinner:1.1.0'\n\n//Firebase\ncompile 'com.google.firebase:firebase-messaging:10.0.1'\n</code></pre>\n\n<p>}\napply plugin: 'com.google.gms.google-services'</p>\n"}],"owner":{"account_id":8150032,"reputation":1,"user_id":6137376,"display_name":"kitsuto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635466060,"creation_date":1459383673,"question_id":36322085,"body_markdown":"I am trying to integrate my firebase database with Google Maps but I am having issues. Here is my code:\r\n    \r\n    package com.test.googlemap;\r\n\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.location.Criteria;\r\n    import android.location.Location;\r\n    import android.location.LocationManager;\r\n    import android.support.v4.app.FragmentActivity;\r\n    import android.os.Bundle;\r\n\r\n    import com.firebase.client.DataSnapshot;\r\n    import com.firebase.client.Firebase;\r\n    import com.firebase.client.FirebaseError;\r\n    import com.firebase.client.ValueEventListener;\r\n    import com.google.android.gms.common.api.GoogleApiClient;\r\n    import com.google.android.gms.location.LocationServices;\r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.UiSettings;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n\r\n\r\n\r\n    public class MapsActivity extends FragmentActivity implements    OnMapReadyCallback {\r\n\r\n    private static GoogleMap mMap;\r\n    private GoogleApiClient mGoogleApiClient;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Firebase.setAndroidContext(this);\r\n        setContentView(R.layout.activity_maps);\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        /*if (mGoogleApiClient == null) {\r\n            mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                    .addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this)\r\n                    .addApi(LocationServices.API)\r\n                    .build();\r\n        }*/\r\n    }\r\n\r\n\r\n    /**\r\n     * Manipulates the map once available.\r\n     * This callback is triggered when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n     * we just add a marker near Sydney, Australia.\r\n     * If Google Play services is not installed on the device, the user will be prompted to install\r\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n     * installed Google Play services and returned to the app.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        UiSettings UiSettings = googleMap.getUiSettings();\r\n        UiSettings.setZoomControlsEnabled(true);\r\n\r\n        LocationManager service = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        Criteria criteria = new Criteria();\r\n        String provider = service.getBestProvider(criteria, true);\r\n        //Location myLocation = service.getLastKnownLocation(provider);\r\n\r\n        mMap.setMyLocationEnabled(true);\r\n\r\n\r\n\r\n\r\n        //double latitude = myLocation.getLatitude();\r\n        //double longitude = myLocation.getLongitude();\r\n        //LatLng startingPosition = new LatLng(latitude, longitude);\r\n\r\n        LatLng sydney = new LatLng(-34, 151);\r\n        createMarker();\r\n        //mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n    }\r\n\r\n    private void createMarker() {\r\n        Firebase ref = new Firebase(&quot;https://shining-fire-3472.firebaseio.com/locations&quot;);\r\n        //Query queryRef = ref.orderByChild(&quot;latitude&quot;);\r\n        ref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot userSnapshot : dataSnapshot.getChildren()) {\r\n                    markerLocation marker = userSnapshot.getValue(markerLocation.class);\r\n                    Double lat = Double.parseDouble(marker.getLatitude());\r\n                    Double log = Double.parseDouble(marker.getLongtitude());\r\n                    LatLng latLng = new LatLng(lat, log);\r\n                    mMap.addMarker(new MarkerOptions().position(latLng));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(FirebaseError firebaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\n\r\nHere is the appbuild gradle:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.test.googlemap&quot;\r\n        minSdkVersion 17\r\n        targetSdkVersion 23\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE-FIREBASE.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/services/com.fasterxml.jackson.core.ObjectCodec&#39;\r\n    }\r\n    dexOptions {\r\n        preDexLibraries = false\r\n        incremental = true;\r\n        javaMaxHeapSize &quot;4g&quot;\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    compile &#39;com.android.support:appcompat-v7:23.2.0&#39;\r\n    compile &#39;com.google.android.gms:play-services:8.4.0&#39;\r\n\r\n    compile files(&#39;libs/firebase-client-android-2.5.2.jar&#39;)\r\n\r\n    }\r\n\r\n\r\nI am trying to retrieve marker location objects in order to create custom markers that will show up the Map. The project will sync but whenever I try and build an APK I get this error: \r\n\r\nError:Execution failed for task &#39;:app:dexDebug&#39;.&gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_60\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\nI&#39;ve tried all of the fixes from other similar questions but none have worked for me. \r\n\r\n","title":"Android firebase integration with Google Maps","body":"<p>I am trying to integrate my firebase database with Google Maps but I am having issues. Here is my code:</p>\n\n<pre><code>package com.test.googlemap;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.location.Criteria;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.support.v4.app.FragmentActivity;\nimport android.os.Bundle;\n\nimport com.firebase.client.DataSnapshot;\nimport com.firebase.client.Firebase;\nimport com.firebase.client.FirebaseError;\nimport com.firebase.client.ValueEventListener;\nimport com.google.android.gms.common.api.GoogleApiClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.UiSettings;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\n\n\npublic class MapsActivity extends FragmentActivity implements    OnMapReadyCallback {\n\nprivate static GoogleMap mMap;\nprivate GoogleApiClient mGoogleApiClient;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Firebase.setAndroidContext(this);\n    setContentView(R.layout.activity_maps);\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n            .findFragmentById(R.id.map);\n    mapFragment.getMapAsync(this);\n\n    /*if (mGoogleApiClient == null) {\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(LocationServices.API)\n                .build();\n    }*/\n}\n\n\n/**\n * Manipulates the map once available.\n * This callback is triggered when the map is ready to be used.\n * This is where we can add markers or lines, add listeners or move the camera. In this case,\n * we just add a marker near Sydney, Australia.\n * If Google Play services is not installed on the device, the user will be prompted to install\n * it inside the SupportMapFragment. This method will only be triggered once the user has\n * installed Google Play services and returned to the app.\n */\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    UiSettings UiSettings = googleMap.getUiSettings();\n    UiSettings.setZoomControlsEnabled(true);\n\n    LocationManager service = (LocationManager) getSystemService(LOCATION_SERVICE);\n    Criteria criteria = new Criteria();\n    String provider = service.getBestProvider(criteria, true);\n    //Location myLocation = service.getLastKnownLocation(provider);\n\n    mMap.setMyLocationEnabled(true);\n\n\n\n\n    //double latitude = myLocation.getLatitude();\n    //double longitude = myLocation.getLongitude();\n    //LatLng startingPosition = new LatLng(latitude, longitude);\n\n    LatLng sydney = new LatLng(-34, 151);\n    createMarker();\n    //mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n}\n\nprivate void createMarker() {\n    Firebase ref = new Firebase(\"https://shining-fire-3472.firebaseio.com/locations\");\n    //Query queryRef = ref.orderByChild(\"latitude\");\n    ref.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot userSnapshot : dataSnapshot.getChildren()) {\n                markerLocation marker = userSnapshot.getValue(markerLocation.class);\n                Double lat = Double.parseDouble(marker.getLatitude());\n                Double log = Double.parseDouble(marker.getLongtitude());\n                LatLng latLng = new LatLng(lat, log);\n                mMap.addMarker(new MarkerOptions().position(latLng));\n            }\n        }\n\n        @Override\n        public void onCancelled(FirebaseError firebaseError) {\n\n        }\n    });\n}\n}\n</code></pre>\n\n<p>Here is the appbuild gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.2\"\n\ndefaultConfig {\n    applicationId \"com.test.googlemap\"\n    minSdkVersion 17\n    targetSdkVersion 23\n    versionCode 1\n    versionName \"1.0\"\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\npackagingOptions {\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE-FIREBASE.txt'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/services/com.fasterxml.jackson.core.ObjectCodec'\n}\ndexOptions {\n    preDexLibraries = false\n    incremental = true;\n    javaMaxHeapSize \"4g\"\n}\n}\n\ndependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:appcompat-v7:23.2.0'\ncompile 'com.google.android.gms:play-services:8.4.0'\n\ncompile files('libs/firebase-client-android-2.5.2.jar')\n\n}\n</code></pre>\n\n<p>I am trying to retrieve marker location objects in order to create custom markers that will show up the Map. The project will sync but whenever I try and build an APK I get this error: </p>\n\n<p>Error:Execution failed for task ':app:dexDebug'.> com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files (x86)\\Java\\jdk1.8.0_60\\bin\\java.exe'' finished with non-zero exit value 1</p>\n\n<p>I've tried all of the fixes from other similar questions but none have worked for me. </p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":17159463,"reputation":93,"user_id":12419467,"display_name":"korpe"},"score":2,"creation_date":1635464601,"post_id":69762048,"comment_id":123312688,"body_markdown":"Didn’t look into it too much but one thing that sticks out is that u initiate the HBox with null buttons. u might need to initiate the buttons before setting them in the HBox.","body":"Didn’t look into it too much but one thing that sticks out is that u initiate the HBox with null buttons. u might need to initiate the buttons before setting them in the HBox."},{"owner":{"account_id":21620825,"reputation":37,"user_id":15945857,"display_name":"dheeke"},"score":1,"creation_date":1635464989,"post_id":69762048,"comment_id":123312748,"body_markdown":"Thank you @korpe, that was it.","body":"Thank you @korpe, that was it."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635465642,"creation_date":1635464853,"answer_id":69762135,"question_id":69762048,"body_markdown":"The error is self-explanatory.\r\n\r\n    Caused by: java.lang.NullPointerException: Children: child node is null: parent = HBox@4f9175a0\r\n      . . .\r\n      at Text_Processor.&lt;init&gt;(Text_Processor.java:24)\r\n\r\nWhich is caused by the second line here:\r\n\r\n    Button button, button2, button3;\r\n    HBox hbox = new HBox(button, button2, button3);\r\n\r\nObviously, the button references are all null when passed to the HBox constructor, and that is not allowed.\r\n\r\nTo fix it, just change the constructor call to this:\r\n\r\n    HBox hbox = new HBox();\r\n\r\nYou add the buttons to the hbox later in the app anyway, so you don&#39;t need to do it at initialization time in this case.  Later in your code you already have this:\r\n\r\n    hbox.getChildren().addAll(button, button2, button3);\r\n\r\n----\r\n\r\nOrthogonal to your question, but on a style note (and you can ignore this if you want), I wouldn&#39;t implement EventHandler on the Application class.  I think the application class is best defined just implementing the Application lifecycle.\r\n\r\nInstead I would name my buttons by their actions and provide methods with the same name, for example:\r\n\r\n    Button fetchButton = new Button(&quot;Click First to Fetch The Raven Text&quot;); \r\n    fetchButton.setOnAction(e -&gt; fetch());\r\n\r\n    . . .\r\n\r\n    private void fetch() {\r\n        // perform the fetch task.\r\n    }\r\n\r\nIdeally fetch would be defined in a separate service class so that it could be unit tested independent of the UI, but putting it as a method on the application would be fine for a small application.\r\n\r\nSimilarly for other tasks.\r\n\r\nThen you can get rid of the (IMO) harder to read, more error prone and more difficult to test common action event handler (which I think has errors in it because you are placing `;` after the if condition and before the `{` code block starts).\r\n\r\nAlso on a style note, don&#39;t use names like `Text_Processor`, google Java naming conventions and apply them.  It makes your code more readable and easier to understand for other Java developers.  Plus some tooling assumes the naming conventions are followed and breaks if it is not (e.g. the JavaFX PropertyValueFactory).\r\n","title":"I&#39;m new to JavaFX, trying to use buttons to run a text analyzer","body":"<p>The error is self-explanatory.</p>\n<pre><code>Caused by: java.lang.NullPointerException: Children: child node is null: parent = HBox@4f9175a0\n  . . .\n  at Text_Processor.&lt;init&gt;(Text_Processor.java:24)\n</code></pre>\n<p>Which is caused by the second line here:</p>\n<pre><code>Button button, button2, button3;\nHBox hbox = new HBox(button, button2, button3);\n</code></pre>\n<p>Obviously, the button references are all null when passed to the HBox constructor, and that is not allowed.</p>\n<p>To fix it, just change the constructor call to this:</p>\n<pre><code>HBox hbox = new HBox();\n</code></pre>\n<p>You add the buttons to the hbox later in the app anyway, so you don't need to do it at initialization time in this case.  Later in your code you already have this:</p>\n<pre><code>hbox.getChildren().addAll(button, button2, button3);\n</code></pre>\n<hr />\n<p>Orthogonal to your question, but on a style note (and you can ignore this if you want), I wouldn't implement EventHandler on the Application class.  I think the application class is best defined just implementing the Application lifecycle.</p>\n<p>Instead I would name my buttons by their actions and provide methods with the same name, for example:</p>\n<pre><code>Button fetchButton = new Button(&quot;Click First to Fetch The Raven Text&quot;); \nfetchButton.setOnAction(e -&gt; fetch());\n\n. . .\n\nprivate void fetch() {\n    // perform the fetch task.\n}\n</code></pre>\n<p>Ideally fetch would be defined in a separate service class so that it could be unit tested independent of the UI, but putting it as a method on the application would be fine for a small application.</p>\n<p>Similarly for other tasks.</p>\n<p>Then you can get rid of the (IMO) harder to read, more error prone and more difficult to test common action event handler (which I think has errors in it because you are placing <code>;</code> after the if condition and before the <code>{</code> code block starts).</p>\n<p>Also on a style note, don't use names like <code>Text_Processor</code>, google Java naming conventions and apply them.  It makes your code more readable and easier to understand for other Java developers.  Plus some tooling assumes the naming conventions are followed and breaks if it is not (e.g. the JavaFX PropertyValueFactory).</p>\n"}],"owner":{"account_id":21620825,"reputation":37,"user_id":15945857,"display_name":"dheeke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635476128,"accepted_answer_id":69762135,"answer_count":1,"score":1,"last_activity_date":1635465642,"creation_date":1635464069,"question_id":69762048,"body_markdown":" Everything was fine until I tried using HBox. now I get a long &quot;Exception in Application constructor&quot; error.\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n    Caused by: java.lang.RuntimeException: Unable to construct Application instance: class Text_Processor\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:891)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:803)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \t... 1 more\r\n    Caused by: java.lang.NullPointerException: Children: child node is null: parent = HBox@4f9175a0\r\n    \tat javafx.graphics/javafx.scene.Parent$3.onProposedChange(Parent.java:542)\r\n    \tat javafx.base/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:233)\r\n    \tat javafx.base/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:103)\r\n    \tat javafx.graphics/javafx.scene.layout.HBox.&lt;init&gt;(HBox.java:251)\r\n    \tat Text_Processor.&lt;init&gt;(Text_Processor.java:24)\r\n    \t... 14 more\r\n\r\nException running application Text_Processor\r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.net.URL;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Text_Processor extends Application implements EventHandler&lt;ActionEvent&gt; {\r\n        Button button, button2, button3;\r\n        HBox hbox = new HBox(button, button2, button3);\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            primaryStage.setTitle(&quot;Word Analyzer&quot;);\r\n    \r\n            button = new Button();\r\n            button.setText(&quot;Click First to Fetch The Raven Text&quot;);\r\n            button.setOnAction(this);\r\n            button2 = new Button();\r\n            button2.setText(&quot;Click Here Next to parse the file&quot;);\r\n            button2.setOnAction(this);\r\n            button3 = new Button();\r\n            button3.setText(&quot;Click Here Last to display results&quot;);\r\n            button3.setOnAction(this);\r\n            hbox.getChildren().addAll(button, button2, button3);\r\n    \r\n            Scene scene = new Scene(hbox, 200, 100);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        @Override\r\n        public void handle(ActionEvent event) {\r\n            if (event.getSource() == button) ;\r\n            {\r\n                System.out.println(&quot;Fetching Text From Source https://www.gutenberg.org/files/1065/1065-h/1065-h.htm&quot;);\r\n                URL url;\r\n                try {\r\n                    url = new URL(&quot;https://www.gutenberg.org/files/1065/1065-h/1065-h.htm&quot;); //Create object for URL.\r\n                    BufferedReader readr = new BufferedReader(new InputStreamReader(url.openStream())); //Open a reader to stream the file\r\n                    BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;Test_Download.txt&quot;)); //Create file to store the downloaded info.\r\n                    String line;\r\n                    while ((line = readr.readLine()) != null) //Read the html source code from the website.\r\n                    {\r\n                        writer.write(line); //Write the html code to a local file.\r\n                    }\r\n                    readr.close();\r\n                    writer.close();\r\n                } catch\r\n                (IOException e) {\r\n                    System.out.println(&quot;Error: &quot; + e.getMessage());\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n    \r\n            if (event.getSource() == button2) ;\r\n            {\r\n                System.out.println(&quot;Parsing text of your downloaded file...&quot;);\r\n                try {\r\n                    File input = new File(&quot;Test_Download.txt&quot;); //Open the newly written file containing the HTML from The Raven.\r\n                    Document doc = Jsoup.parse(input, &quot;UTF-8&quot;); //Parse the file to eliminate the tags\r\n                    String body = doc.body().text(); //Save the parsed words to a string.\r\n                    BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;Test_Download.txt&quot;));//rewrite the file without the tags.\r\n                    writer.write(body);\r\n                    writer.close();\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;Error: &quot; + e.getMessage());\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n    \r\n            if (event.getSource() == button3) ;\r\n            {\r\n                try {\r\n                    File file = new File(&quot;Test_Download.txt&quot;); //Open the file we have written for a word count analysis.\r\n                    Scanner sc = new Scanner(file); //Create a scanner to read the rewritten text file.\r\n                    int i = 0, indexOfWord = 0, count = 0;\r\n                    List&lt;String&gt; words = new ArrayList&lt;String&gt;(); //Create two arrays to store the words and word count.\r\n                    List&lt;Integer&gt; wordCount = new ArrayList&lt;Integer&gt;();\r\n    \r\n                    while (sc.hasNext()) //Starting here we read each individual word of the file.\r\n                    {\r\n                        String word = sc.next();\r\n                        word = word.replaceAll(&quot;\\\\p{Punct}&quot;, &quot; &quot;); //This removes the punctuation and any non letters.;\r\n                        if (words.contains(word))//Here if the word already exist we just increment a counter for that word.\r\n                        {\r\n                            indexOfWord = words.indexOf(word);\r\n                            count = wordCount.get(indexOfWord);\r\n                            count = count + 1;\r\n                            wordCount.add(indexOfWord, count);\r\n                        } else {\r\n                            words.add(i, word);\r\n                            wordCount.add(i, 1);\r\n                            i++;\r\n                        }\r\n                    }\r\n                    sc.close();\r\n    \r\n    \r\n                    Integer max = Collections.max(wordCount); //At this point we go through the array and sort it by max occurrences of words\r\n                    System.out.println(&quot;max word occurence is:&quot; + max);// and then display them in descending order.\r\n                    System.out.println(&quot;|Count|Word&quot;);\r\n                    System.out.println(&quot;|-----|-----------------|&quot;);\r\n    \r\n                    int no_of_elements = words.size();\r\n    \r\n                    while (max != 0) {\r\n                        for (int j = 0; j &lt; no_of_elements; j++) {\r\n                            String word = words.get(j);\r\n                            count = wordCount.get(j);\r\n                            if (count == max) {\r\n                                //if(word.isEmpty()){continue;}// I put this in because the program was displaying random blanks for some reason.\r\n                                System.out.printf(&quot;|%-4d&quot;, count);\r\n                                System.out.printf(&quot; |&quot; + word + &quot;\\n&quot;);\r\n                            }\r\n    \r\n                        }\r\n                        max--;\r\n                    }\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;Error: &quot; + e.getMessage());\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n        }\r\n    }","title":"I&#39;m new to JavaFX, trying to use buttons to run a text analyzer","body":"<p>Everything was fine until I tried using HBox. now I get a long &quot;Exception in Application constructor&quot; error.</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Unable to construct Application instance: class Text_Processor\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:891)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:803)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.NullPointerException: Children: child node is null: parent = HBox@4f9175a0\n    at javafx.graphics/javafx.scene.Parent$3.onProposedChange(Parent.java:542)\n    at javafx.base/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:233)\n    at javafx.base/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:103)\n    at javafx.graphics/javafx.scene.layout.HBox.&lt;init&gt;(HBox.java:251)\n    at Text_Processor.&lt;init&gt;(Text_Processor.java:24)\n    ... 14 more\n</code></pre>\n<p>Exception running application Text_Processor</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.net.URL;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\nimport java.util.Collections;\n\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class Text_Processor extends Application implements EventHandler&lt;ActionEvent&gt; {\n    Button button, button2, button3;\n    HBox hbox = new HBox(button, button2, button3);\n\n    public static void main(String[] args) throws Exception {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        primaryStage.setTitle(&quot;Word Analyzer&quot;);\n\n        button = new Button();\n        button.setText(&quot;Click First to Fetch The Raven Text&quot;);\n        button.setOnAction(this);\n        button2 = new Button();\n        button2.setText(&quot;Click Here Next to parse the file&quot;);\n        button2.setOnAction(this);\n        button3 = new Button();\n        button3.setText(&quot;Click Here Last to display results&quot;);\n        button3.setOnAction(this);\n        hbox.getChildren().addAll(button, button2, button3);\n\n        Scene scene = new Scene(hbox, 200, 100);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    @Override\n    public void handle(ActionEvent event) {\n        if (event.getSource() == button) ;\n        {\n            System.out.println(&quot;Fetching Text From Source https://www.gutenberg.org/files/1065/1065-h/1065-h.htm&quot;);\n            URL url;\n            try {\n                url = new URL(&quot;https://www.gutenberg.org/files/1065/1065-h/1065-h.htm&quot;); //Create object for URL.\n                BufferedReader readr = new BufferedReader(new InputStreamReader(url.openStream())); //Open a reader to stream the file\n                BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;Test_Download.txt&quot;)); //Create file to store the downloaded info.\n                String line;\n                while ((line = readr.readLine()) != null) //Read the html source code from the website.\n                {\n                    writer.write(line); //Write the html code to a local file.\n                }\n                readr.close();\n                writer.close();\n            } catch\n            (IOException e) {\n                System.out.println(&quot;Error: &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n\n        }\n\n        if (event.getSource() == button2) ;\n        {\n            System.out.println(&quot;Parsing text of your downloaded file...&quot;);\n            try {\n                File input = new File(&quot;Test_Download.txt&quot;); //Open the newly written file containing the HTML from The Raven.\n                Document doc = Jsoup.parse(input, &quot;UTF-8&quot;); //Parse the file to eliminate the tags\n                String body = doc.body().text(); //Save the parsed words to a string.\n                BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;Test_Download.txt&quot;));//rewrite the file without the tags.\n                writer.write(body);\n                writer.close();\n            } catch (IOException e) {\n                System.out.println(&quot;Error: &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n\n        }\n\n        if (event.getSource() == button3) ;\n        {\n            try {\n                File file = new File(&quot;Test_Download.txt&quot;); //Open the file we have written for a word count analysis.\n                Scanner sc = new Scanner(file); //Create a scanner to read the rewritten text file.\n                int i = 0, indexOfWord = 0, count = 0;\n                List&lt;String&gt; words = new ArrayList&lt;String&gt;(); //Create two arrays to store the words and word count.\n                List&lt;Integer&gt; wordCount = new ArrayList&lt;Integer&gt;();\n\n                while (sc.hasNext()) //Starting here we read each individual word of the file.\n                {\n                    String word = sc.next();\n                    word = word.replaceAll(&quot;\\\\p{Punct}&quot;, &quot; &quot;); //This removes the punctuation and any non letters.;\n                    if (words.contains(word))//Here if the word already exist we just increment a counter for that word.\n                    {\n                        indexOfWord = words.indexOf(word);\n                        count = wordCount.get(indexOfWord);\n                        count = count + 1;\n                        wordCount.add(indexOfWord, count);\n                    } else {\n                        words.add(i, word);\n                        wordCount.add(i, 1);\n                        i++;\n                    }\n                }\n                sc.close();\n\n\n                Integer max = Collections.max(wordCount); //At this point we go through the array and sort it by max occurrences of words\n                System.out.println(&quot;max word occurence is:&quot; + max);// and then display them in descending order.\n                System.out.println(&quot;|Count|Word&quot;);\n                System.out.println(&quot;|-----|-----------------|&quot;);\n\n                int no_of_elements = words.size();\n\n                while (max != 0) {\n                    for (int j = 0; j &lt; no_of_elements; j++) {\n                        String word = words.get(j);\n                        count = wordCount.get(j);\n                        if (count == max) {\n                            //if(word.isEmpty()){continue;}// I put this in because the program was displaying random blanks for some reason.\n                            System.out.printf(&quot;|%-4d&quot;, count);\n                            System.out.printf(&quot; |&quot; + word + &quot;\\n&quot;);\n                        }\n\n                    }\n                    max--;\n                }\n            } catch (IOException e) {\n                System.out.println(&quot;Error: &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1455052534,"post_id":35302209,"comment_id":58314935,"body_markdown":"`System.in.read()` reads *bytes*, not *chars*.","body":"<code>System.in.read()</code> reads <i>bytes</i>, not <i>chars</i>."},{"owner":{"account_id":2996819,"reputation":2582,"user_id":2543209,"accept_rate":59,"display_name":"Jeremy Fisher"},"score":0,"creation_date":1455052628,"post_id":35302209,"comment_id":58314992,"body_markdown":"Ah, ok. That is what I want, I guess the way I am writing to stdout is incorrect though. Is there a way to read a given file&#39;s bytes and output the same exact bytes?","body":"Ah, ok. That is what I want, I guess the way I am writing to stdout is incorrect though. Is there a way to read a given file&#39;s bytes and output the same exact bytes?"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1455054616,"creation_date":1455052906,"answer_id":35302417,"question_id":35302209,"body_markdown":"You have got confused between `byte` and `char`, and the respective classes used to read and write them (which is easy to do when you are new to Java IO):\r\n\r\n* `byte` is a single byte (8 bits). You read them using an `InputStream`, and write them using an `OutputStream`.\r\n* `char` is a two-byte unsigned int (16 bits). You read them using a `Reader` and write them using a `Writer`.\r\n\r\n`System.in` is an `InputStream`, so you are actually reading a `byte` from it, not a `char`; the only reason `System.in.read()` returns `int` is so that it can indicate that no bytes were available to read.\r\n\r\nAs such, the following should work:\r\n\r\n    int ch;\r\n    while ((ch = System.in.read ()) != -1)\r\n      System.out.write(ch);\r\n    System.out.flush(); // Optional, it will flush upon JVM termination anyway.\r\n\r\nNote that JPEGs are composed of `byte`s, not `char`s. As such, if you use classes for writing `char`s to write the contents of the JPEG file, the contents will likely be garbage.\r\n","title":"Implementing &quot;cat&quot; in Java so that it will output raw bytes to System.out","body":"<p>You have got confused between <code>byte</code> and <code>char</code>, and the respective classes used to read and write them (which is easy to do when you are new to Java IO):</p>\n\n<ul>\n<li><code>byte</code> is a single byte (8 bits). You read them using an <code>InputStream</code>, and write them using an <code>OutputStream</code>.</li>\n<li><code>char</code> is a two-byte unsigned int (16 bits). You read them using a <code>Reader</code> and write them using a <code>Writer</code>.</li>\n</ul>\n\n<p><code>System.in</code> is an <code>InputStream</code>, so you are actually reading a <code>byte</code> from it, not a <code>char</code>; the only reason <code>System.in.read()</code> returns <code>int</code> is so that it can indicate that no bytes were available to read.</p>\n\n<p>As such, the following should work:</p>\n\n<pre><code>int ch;\nwhile ((ch = System.in.read ()) != -1)\n  System.out.write(ch);\nSystem.out.flush(); // Optional, it will flush upon JVM termination anyway.\n</code></pre>\n\n<p>Note that JPEGs are composed of <code>byte</code>s, not <code>char</code>s. As such, if you use classes for writing <code>char</code>s to write the contents of the JPEG file, the contents will likely be garbage.</p>\n"}],"owner":{"account_id":2996819,"reputation":2582,"user_id":2543209,"accept_rate":59,"display_name":"Jeremy Fisher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3682,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":35302417,"answer_count":1,"score":-1,"last_activity_date":1635464343,"creation_date":1455052041,"question_id":35302209,"body_markdown":"I am writing a very simple implementation of the `cat` function from unix in Java:\r\n\r\n```java\r\npublic class Cat {\r\n    public static void main(String[] args) {\r\n        try {\r\n            int ch;\r\n            BufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));\r\n            while ((ch = System.in.read()) != -1)\r\n                log.write((char) ch);\r\n            log.flush();\r\n        } catch (IOException io) {\r\n            io.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I pass a text file input like so, I get:\r\n```none\r\n$cat hello.txt | java Cat\r\n\r\nthis is\r\nthe second line\r\nno jk the third\r\n```\r\n\r\nHowever when I pass in another kind of file like a jpg, it does not copy properly. I will pass in a jpg, but when I try to open it the error I get is:\r\n```none\r\nError interpreting JPEG image file (Not a JPEG file: starts with 0xc3 0xbf)\r\n```\r\nI&#39;m pretty naive when it comes to IO related stuff so I am having trouble figuring out what is going wrong. Am I not writing to standard output like I think I am?","title":"Implementing &quot;cat&quot; in Java so that it will output raw bytes to System.out","body":"<p>I am writing a very simple implementation of the <code>cat</code> function from unix in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat {\n    public static void main(String[] args) {\n        try {\n            int ch;\n            BufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));\n            while ((ch = System.in.read()) != -1)\n                log.write((char) ch);\n            log.flush();\n        } catch (IOException io) {\n            io.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I pass a text file input like so, I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$cat hello.txt | java Cat\n\nthis is\nthe second line\nno jk the third\n</code></pre>\n<p>However when I pass in another kind of file like a jpg, it does not copy properly. I will pass in a jpg, but when I try to open it the error I get is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error interpreting JPEG image file (Not a JPEG file: starts with 0xc3 0xbf)\n</code></pre>\n<p>I'm pretty naive when it comes to IO related stuff so I am having trouble figuring out what is going wrong. Am I not writing to standard output like I think I am?</p>\n"},{"tags":["java","junit"],"owner":{"account_id":9606823,"reputation":397,"user_id":7132600,"display_name":"TA  Hyouno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635463510,"creation_date":1635432700,"question_id":69756336,"body_markdown":"\r\nWhen I run the following test code, the test fails with the following error message:\r\n\r\nCan anyone please tell me the cause?\r\n\r\n* HelloWorldTest.java\r\n\r\n```java\r\n\r\n  @Mock\r\n  private Appender mockAppender;\r\n\r\n  @Captor\r\n  private ArgumentCaptor&lt;LogEvent&gt; logCaptor;\r\n\r\n  @Before\r\n  public void setup() {\r\n        Mockito.reset(mockAppender);\r\n        Mockito.when(mockAppender.getName()).thenReturn(&quot;MockAppender&quot;);\r\n        Mockito.when(mockAppender.isStarted()).thenReturn(true);\r\n        Mockito.when(mockAppender.isStopped()).thenReturn(false);\r\n\r\n        LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n        Configuration config = ctx.getConfiguration();\r\n\r\n        LoggerConfig loggerConfig = config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME);\r\n\r\n        loggerConfig.setLevel(Level.INFO);\r\n        loggerConfig.addAppender(mockAppender, Level.INFO, null);\r\n        ctx.updateLoggers();\r\n  }\r\n\r\n    @Test\r\n    public void outputLogMessage() {\r\n        String name = &quot;World&quot;;\r\n\r\n        HelloWorld helloWorld = new HelloWorld();\r\n        helloWorld.sayHello(name);\r\n\r\n        Mockito.verify(mockAppender, Mockito.times(1)).append(logCaptor.capture());\r\n\r\n        String message = logCaptor.getValue().getMessage().getFormattedMessage();\r\n        Level level = logCaptor.getValue().getLevel();\r\n        assertThat(message, is(&quot;Hello &quot; + name));\r\n        assertThat(level, is(Level.INFO));\r\n    }\r\n\r\n```\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent\r\n\r\n\r\n* Error Message \r\n\r\n```\r\nWanted but not invoked:\r\nmockAppender.append(&lt;Capturing argument&gt;);\r\n-&gt; at verifyLogMessage\r\n\r\nHowever, there were exactly 2 interactions with this mock:\r\nmockAppender.getName();\r\n-&gt; at org.apache.logging.log4j.core.config.AbstractConfiguration.addAppender(AbstractConfiguration.java:708)\r\n\r\nmockAppender.getName();\r\n-&gt; at org.apache.logging.log4j.core.config.AppenderControl.&lt;init&gt;(AppenderControl.java:51)\r\n```","title":"Log4j Appender Mock doesn&#39;t work (Junit Test)","body":"<p>When I run the following test code, the test fails with the following error message:</p>\n<p>Can anyone please tell me the cause?</p>\n<ul>\n<li>HelloWorldTest.java</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n  @Mock\n  private Appender mockAppender;\n\n  @Captor\n  private ArgumentCaptor&lt;LogEvent&gt; logCaptor;\n\n  @Before\n  public void setup() {\n        Mockito.reset(mockAppender);\n        Mockito.when(mockAppender.getName()).thenReturn(&quot;MockAppender&quot;);\n        Mockito.when(mockAppender.isStarted()).thenReturn(true);\n        Mockito.when(mockAppender.isStopped()).thenReturn(false);\n\n        LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n        Configuration config = ctx.getConfiguration();\n\n        LoggerConfig loggerConfig = config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME);\n\n        loggerConfig.setLevel(Level.INFO);\n        loggerConfig.addAppender(mockAppender, Level.INFO, null);\n        ctx.updateLoggers();\n  }\n\n    @Test\n    public void outputLogMessage() {\n        String name = &quot;World&quot;;\n\n        HelloWorld helloWorld = new HelloWorld();\n        helloWorld.sayHello(name);\n\n        Mockito.verify(mockAppender, Mockito.times(1)).append(logCaptor.capture());\n\n        String message = logCaptor.getValue().getMessage().getFormattedMessage();\n        Level level = logCaptor.getValue().getLevel();\n        assertThat(message, is(&quot;Hello &quot; + name));\n        assertThat(level, is(Level.INFO));\n    }\n\n</code></pre>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent</a></p>\n<ul>\n<li>Error Message</li>\n</ul>\n<pre><code>Wanted but not invoked:\nmockAppender.append(&lt;Capturing argument&gt;);\n-&gt; at verifyLogMessage\n\nHowever, there were exactly 2 interactions with this mock:\nmockAppender.getName();\n-&gt; at org.apache.logging.log4j.core.config.AbstractConfiguration.addAppender(AbstractConfiguration.java:708)\n\nmockAppender.getName();\n-&gt; at org.apache.logging.log4j.core.config.AppenderControl.&lt;init&gt;(AppenderControl.java:51)\n</code></pre>\n"},{"tags":["java","eclipse","github","selenium-webdriver","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":19186,"reputation":3949,"user_id":44732,"accept_rate":36,"display_name":"David G"},"down_vote_count":2,"up_vote_count":32,"is_accepted":true,"score":30,"last_activity_date":1441990181,"creation_date":1441990181,"answer_id":32528440,"question_id":32527522,"body_markdown":"Although I&#39;m by no means an expert on this, it sounds like you should be using a [Personal Access Token][1]\r\n\r\n\r\n  [1]: https://help.github.com/articles/providing-your-2fa-authentication-code/#through-the-command-line","title":"how to - github two factor authentication with eclipse","body":"<p>Although I'm by no means an expert on this, it sounds like you should be using a <a href=\"https://help.github.com/articles/providing-your-2fa-authentication-code/#through-the-command-line\" rel=\"noreferrer\">Personal Access Token</a></p>\n"},{"tags":[],"owner":{"account_id":18124069,"reputation":139,"user_id":13179746,"display_name":"The Woops"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1591186188,"creation_date":1591186188,"answer_id":62172498,"question_id":32527522,"body_markdown":"What worked for me in Windows:\r\n\r\n 1. [Create **Personal Access Token**](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line) to authenticate to GitHub. Copy this token for step 3.\r\n 2. In Eclipse open Window → Preferences → Team → Git → Configuration → Tab Repository Settings:\r\n- Select your repository and change the url for remote as follows:\r\nhttps://github.com/yourUserName/yourRepository\r\n(without the ending .git) \r\n\r\n 3. Push your changes to github as usual. If you are asked to enter your github credentials enter your username and as password your above generated **Personal Access Token**.\r\n\r\n\r\n","title":"how to - github two factor authentication with eclipse","body":"<p>What worked for me in Windows:</p>\n\n<ol>\n<li><a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\" rel=\"noreferrer\">Create <strong>Personal Access Token</strong></a> to authenticate to GitHub. Copy this token for step 3.</li>\n<li><p>In Eclipse open Window → Preferences → Team → Git → Configuration → Tab Repository Settings:</p>\n\n<ul>\n<li>Select your repository and change the url for remote as follows:\n<a href=\"https://github.com/yourUserName/yourRepository\" rel=\"noreferrer\">https://github.com/yourUserName/yourRepository</a>\n(without the ending .git) </li>\n</ul></li>\n<li><p>Push your changes to github as usual. If you are asked to enter your github credentials enter your username and as password your above generated <strong>Personal Access Token</strong>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18848581,"reputation":117,"user_id":13748239,"display_name":"Abhinav Raj Kashyap"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1592379094,"creation_date":1592379094,"answer_id":62423698,"question_id":32527522,"body_markdown":"1. Login to your Github Profile\r\n2. Go to Setting\r\n3. Go to Developer Setting\r\n4. Click on Generate New Token\r\n5. Give a name to your Token, select all the Check Boxes.\r\n6. Generate the token.\r\n7. Your token will be created, copy the token, and paste it in eclipse in the password section while importing project from Git. Username will be your git Username. Select HTTPS mode while importing in Eclipse.\r\n8. Now you will be able to see your Branch. Pull appropriate one.\r\n\r\nThanks!","title":"how to - github two factor authentication with eclipse","body":"<ol>\n<li>Login to your Github Profile</li>\n<li>Go to Setting</li>\n<li>Go to Developer Setting</li>\n<li>Click on Generate New Token</li>\n<li>Give a name to your Token, select all the Check Boxes.</li>\n<li>Generate the token.</li>\n<li>Your token will be created, copy the token, and paste it in eclipse in the password section while importing project from Git. Username will be your git Username. Select HTTPS mode while importing in Eclipse.</li>\n<li>Now you will be able to see your Branch. Pull appropriate one.</li>\n</ol>\n\n<p>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":12199277,"reputation":27,"user_id":8903968,"display_name":"timeNtrack"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609434979,"creation_date":1609309830,"answer_id":65502966,"question_id":32527522,"body_markdown":"I follow the steps of @TheWoops. however, I initially tried to reuse a previously created Personal Access Token (2mo old). That did not work (same error messages). I then created a new PAT (with repo privileges) and able to get rid of the error when committing in Eclipse.","title":"how to - github two factor authentication with eclipse","body":"<p>I follow the steps of @TheWoops. however, I initially tried to reuse a previously created Personal Access Token (2mo old). That did not work (same error messages). I then created a new PAT (with repo privileges) and able to get rid of the error when committing in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":3851650,"reputation":1455,"user_id":3191676,"accept_rate":50,"display_name":"atom88"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635463157,"creation_date":1635463157,"answer_id":69761978,"question_id":32527522,"body_markdown":"Also, if you are a member of an &quot;Organization&quot; and it requires SAML / OAuth for SSO, you need to take the additional step of &quot;authorizing&quot; the PAT for your org.\r\n\r\nsee here:\r\nhttps://docs.github.com/en/authentication/authenticating-with-saml-single-sign-on/authorizing-a-personal-access-token-for-use-with-saml-single-sign-on ","title":"how to - github two factor authentication with eclipse","body":"<p>Also, if you are a member of an &quot;Organization&quot; and it requires SAML / OAuth for SSO, you need to take the additional step of &quot;authorizing&quot; the PAT for your org.</p>\n<p>see here:\n<a href=\"https://docs.github.com/en/authentication/authenticating-with-saml-single-sign-on/authorizing-a-personal-access-token-for-use-with-saml-single-sign-on\" rel=\"nofollow noreferrer\">https://docs.github.com/en/authentication/authenticating-with-saml-single-sign-on/authorizing-a-personal-access-token-for-use-with-saml-single-sign-on</a></p>\n"},{"tags":[],"owner":{"account_id":3851650,"reputation":1455,"user_id":3191676,"accept_rate":50,"display_name":"atom88"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635463454,"creation_date":1635463454,"answer_id":69762008,"question_id":32527522,"body_markdown":"Also, if you don&#39;t want to have to re-enter the PAT everytime you synch there is an option to &quot;Store in Secure storage&quot;, check that.\r\nIt&#39;s found under this menu: &quot;Preferences | General | Security | Secure storage&quot;, in Eclispe 4.12.x\r\n\r\nit also shows the &quot;Storage location&quot; of this file in the &quot;contents&quot; tab here.","title":"how to - github two factor authentication with eclipse","body":"<p>Also, if you don't want to have to re-enter the PAT everytime you synch there is an option to &quot;Store in Secure storage&quot;, check that.\nIt's found under this menu: &quot;Preferences | General | Security | Secure storage&quot;, in Eclispe 4.12.x</p>\n<p>it also shows the &quot;Storage location&quot; of this file in the &quot;contents&quot; tab here.</p>\n"}],"owner":{"account_id":6562135,"reputation":353,"user_id":5072886,"display_name":"9 PENCE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34451,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":32528440,"answer_count":6,"score":30,"last_activity_date":1635463454,"creation_date":1441987011,"question_id":32527522,"body_markdown":"I have to use the two factor authentication feature of github. That is fine. I am unable to comprehend how to use that with Eclipse. \r\nWhenever I commit my code or perform any activity, the only prompt I get from eclipse is to enter repository, userid and password.\r\nI have egit also installed but that does not help. \r\nIssue arrives in both Mac and Windows OS\r\nDoes anyone out there know how to do this?\r\n\r\nThanks for your help in advance.","title":"how to - github two factor authentication with eclipse","body":"<p>I have to use the two factor authentication feature of github. That is fine. I am unable to comprehend how to use that with Eclipse. \nWhenever I commit my code or perform any activity, the only prompt I get from eclipse is to enter repository, userid and password.\nI have egit also installed but that does not help. \nIssue arrives in both Mac and Windows OS\nDoes anyone out there know how to do this?</p>\n\n<p>Thanks for your help in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12308020,"reputation":551,"user_id":8980452,"display_name":"Fernando Bravo Diaz"},"score":0,"creation_date":1635459163,"post_id":69761487,"comment_id":123311683,"body_markdown":"You don&#39;t seem to be updating the ```runAgain``` variable. If that is the case your wile condition of ```runAgain == 0``` is always true and the loop never ends","body":"You don&#39;t seem to be updating the <code>runAgain</code> variable. If that is the case your wile condition of <code>runAgain == 0</code> is always true and the loop never ends"},{"owner":{"account_id":13447574,"reputation":1898,"user_id":10089811,"display_name":"Jakob"},"score":1,"creation_date":1635459559,"post_id":69761487,"comment_id":123311767,"body_markdown":"Just a note: Using a variable for every side is way to overloaded. Use an integer array instead.","body":"Just a note: Using a variable for every side is way to overloaded. Use an integer array instead."}],"answers":[{"tags":[],"owner":{"account_id":22504154,"reputation":460,"user_id":16700030,"display_name":"Brakke Baviaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635461435,"creation_date":1635459374,"answer_id":69761559,"question_id":69761487,"body_markdown":"You are using a sentinel variable. A sentinel variable is a variable that controls the termination of a loop. In your case, as the comment points out, the sentinel variable runAgain never gets updated, thus the loop will continue infinately.\r\n\r\n    Boolean sentinel = true;\r\n    while(sentinel){\r\n        doSomething();\r\n        if(someCondition == true){\r\n        sentinel = false; //loop will end after function reaching this point\r\n        };","title":"Roll Dice Simulation Infinite Loop","body":"<p>You are using a sentinel variable. A sentinel variable is a variable that controls the termination of a loop. In your case, as the comment points out, the sentinel variable runAgain never gets updated, thus the loop will continue infinately.</p>\n<pre><code>Boolean sentinel = true;\nwhile(sentinel){\n    doSomething();\n    if(someCondition == true){\n    sentinel = false; //loop will end after function reaching this point\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12308020,"reputation":551,"user_id":8980452,"display_name":"Fernando Bravo Diaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635459632,"creation_date":1635459632,"answer_id":69761589,"question_id":69761487,"body_markdown":"I formatted your code and in addition to what Brakke Baviaan Says, this part of your code should be inside the while loop:\r\n\r\n```java\r\n// Reset all counts [Every time you want to run again]\r\n    snakeEyes = 0;\r\n    twos = 0;\r\n    threes = 0;\r\n    fours = 0;\r\n    fives = 0;\r\n    sixes = 0;\r\n    count = 0;\r\n\r\n    // Ask the user if they wish to run again, 0 = yes, -1 = no\r\n    System.out.println(&quot;Do you wish to run again?&quot;);\r\n    System.out.println(&quot;Enter a 0 for yes or a -1 for no&quot;);\r\n    // Read user&#39;s response\r\n    runAgain = keyboard.nextInt();\r\n```\r\n\r\nCurrently is outside so thats why it keeps looping as you never get to update the variable ```runAgain```","title":"Roll Dice Simulation Infinite Loop","body":"<p>I formatted your code and in addition to what Brakke Baviaan Says, this part of your code should be inside the while loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Reset all counts [Every time you want to run again]\n    snakeEyes = 0;\n    twos = 0;\n    threes = 0;\n    fours = 0;\n    fives = 0;\n    sixes = 0;\n    count = 0;\n\n    // Ask the user if they wish to run again, 0 = yes, -1 = no\n    System.out.println(&quot;Do you wish to run again?&quot;);\n    System.out.println(&quot;Enter a 0 for yes or a -1 for no&quot;);\n    // Read user's response\n    runAgain = keyboard.nextInt();\n</code></pre>\n<p>Currently is outside so thats why it keeps looping as you never get to update the variable <code>runAgain</code></p>\n"},{"tags":[],"owner":{"account_id":8607084,"reputation":13,"user_id":6446880,"display_name":"Nacho Soto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635462589,"creation_date":1635462589,"answer_id":69761918,"question_id":69761487,"body_markdown":"The count reset should be inside the first while.","title":"Roll Dice Simulation Infinite Loop","body":"<p>The count reset should be inside the first while.</p>\n"}],"owner":{"account_id":23176342,"reputation":1,"user_id":17274788,"display_name":"Donovan Tuck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1635462589,"creation_date":1635458819,"question_id":69761487,"body_markdown":"I&#39;m having a problem with an infinite loop and not 100% sure where the issue is.\r\n\r\nI&#39;m unsure if there is an issue within my &quot;while&quot; statement or there&#39;s a wrong sign or bracket.\r\n\r\nThis is my first time doing this and seems it doesn&#39;t like my post being &quot;mostly code&quot;, so disregard this paragraph of me typing away to remove the message :)\r\n\r\n\r\n```java\r\nimport java.util.Random;   // Needed for the Random class\r\nimport java.util.Scanner;   // Needed for the Scanner class\r\n\r\n/**\r\n   This class simulates rolling a pair of dice 10,000 times\r\n   and counts the number of times doubles of are rolled for\r\n   each different pair of doubles.\r\n*/\r\npublic class RollDice {\r\n    public static void main(String[] args){\r\n\r\n        final int NUMBER = 10000;  // Number of dice rolls\r\n\r\n        // A random number generator used in\r\n        // simulating the rolling of dice\r\n        Random generator = new Random();\r\n\r\n        int die1Value;       // Value of the first die\r\n        int die2Value;       // Value of the second die\r\n        int count = -1;       // Total number of dice rolls\r\n        int snakeEyes = 0;   // Number of snake eyes rolls\r\n        int twos = 0;        // Number of double two rolls\r\n        int threes = 0;      // Number of double three rolls\r\n        int fours = 0;       // Number of double four rolls\r\n        int fives = 0;       // Number of double five rolls\r\n        int sixes = 0;       // Number of double six rolls\r\n        int runAgain = 0;    // Sentinel variable\r\n\r\n        Scanner keyboard = new Scanner(System.in); //Scanner Object\r\n\r\n        while(runAgain == 0){ //This is a sentinel loop\r\n\r\n\r\n            // TASK #1 Enter your code for the algorithm here\r\n            while(count &lt; NUMBER)\r\n            {\r\n                // Roll both dice\r\n                die1Value = generator.nextInt(6) + 1;\r\n                die2Value = generator.nextInt(6) + 1;\r\n\r\n                // Check to see if both dice are equal\r\n                if(die1Value == die2Value)\r\n                {\r\n                    // Check dice values and update counts\r\n                    if(die1Value == 1)\r\n                        snakeEyes++;\r\n                    else if(die1Value == 2)\r\n                        twos++;\r\n                    else if(die1Value == 3)\r\n                        threes++;\r\n                    else if(die1Value == 4)\r\n                        fours++;\r\n                    else if(die1Value == 5)\r\n                        fives++;\r\n                    else\r\n                        sixes++;\r\n                }\r\n                count++;\r\n\r\n            }\r\n            // Display the results\r\n            System.out.println (&quot;You rolled snake eyes &quot; +\r\n                snakeEyes + &quot; out of &quot; +\r\n                count + &quot; rolls.&quot;);\r\n            System.out.println (&quot;You rolled double twos &quot; +\r\n                twos + &quot; out of &quot; + count +\r\n                &quot; rolls.&quot;);\r\n            System.out.println (&quot;You rolled double threes &quot; +\r\n                threes + &quot; out of &quot; + count +\r\n                &quot; rolls.&quot;);\r\n            System.out.println (&quot;You rolled double fours &quot; +\r\n                fours + &quot; out of &quot; + count +\r\n                &quot; rolls.&quot;);\r\n            System.out.println (&quot;You rolled double fives &quot; +\r\n                fives + &quot; out of &quot; + count +\r\n                &quot; rolls.&quot;);\r\n            System.out.println (&quot;You rolled double sixes &quot; +\r\n                sixes + &quot; out of &quot; + count +\r\n                &quot; rolls.&quot;);\r\n        }\r\n\r\n        // Reset all counts [Every time you want to run again]\r\n        snakeEyes = 0;\r\n        twos = 0;\r\n        threes = 0;\r\n        fours = 0;\r\n        fives = 0;\r\n        sixes = 0;\r\n        count = 0;\r\n\r\n        // Ask the user if they wish to run again, 0 = yes, -1 = no\r\n        System.out.println(&quot;Do you wish to run again?&quot;);\r\n        System.out.println(&quot;Enter a 0 for yes or a -1 for no&quot;);\r\n        // Read user&#39;s response\r\n        runAgain = keyboard.nextInt();\r\n    }\r\n}\r\n```","title":"Roll Dice Simulation Infinite Loop","body":"<p>I'm having a problem with an infinite loop and not 100% sure where the issue is.</p>\n<p>I'm unsure if there is an issue within my &quot;while&quot; statement or there's a wrong sign or bracket.</p>\n<p>This is my first time doing this and seems it doesn't like my post being &quot;mostly code&quot;, so disregard this paragraph of me typing away to remove the message :)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;   // Needed for the Random class\nimport java.util.Scanner;   // Needed for the Scanner class\n\n/**\n   This class simulates rolling a pair of dice 10,000 times\n   and counts the number of times doubles of are rolled for\n   each different pair of doubles.\n*/\npublic class RollDice {\n    public static void main(String[] args){\n\n        final int NUMBER = 10000;  // Number of dice rolls\n\n        // A random number generator used in\n        // simulating the rolling of dice\n        Random generator = new Random();\n\n        int die1Value;       // Value of the first die\n        int die2Value;       // Value of the second die\n        int count = -1;       // Total number of dice rolls\n        int snakeEyes = 0;   // Number of snake eyes rolls\n        int twos = 0;        // Number of double two rolls\n        int threes = 0;      // Number of double three rolls\n        int fours = 0;       // Number of double four rolls\n        int fives = 0;       // Number of double five rolls\n        int sixes = 0;       // Number of double six rolls\n        int runAgain = 0;    // Sentinel variable\n\n        Scanner keyboard = new Scanner(System.in); //Scanner Object\n\n        while(runAgain == 0){ //This is a sentinel loop\n\n\n            // TASK #1 Enter your code for the algorithm here\n            while(count &lt; NUMBER)\n            {\n                // Roll both dice\n                die1Value = generator.nextInt(6) + 1;\n                die2Value = generator.nextInt(6) + 1;\n\n                // Check to see if both dice are equal\n                if(die1Value == die2Value)\n                {\n                    // Check dice values and update counts\n                    if(die1Value == 1)\n                        snakeEyes++;\n                    else if(die1Value == 2)\n                        twos++;\n                    else if(die1Value == 3)\n                        threes++;\n                    else if(die1Value == 4)\n                        fours++;\n                    else if(die1Value == 5)\n                        fives++;\n                    else\n                        sixes++;\n                }\n                count++;\n\n            }\n            // Display the results\n            System.out.println (&quot;You rolled snake eyes &quot; +\n                snakeEyes + &quot; out of &quot; +\n                count + &quot; rolls.&quot;);\n            System.out.println (&quot;You rolled double twos &quot; +\n                twos + &quot; out of &quot; + count +\n                &quot; rolls.&quot;);\n            System.out.println (&quot;You rolled double threes &quot; +\n                threes + &quot; out of &quot; + count +\n                &quot; rolls.&quot;);\n            System.out.println (&quot;You rolled double fours &quot; +\n                fours + &quot; out of &quot; + count +\n                &quot; rolls.&quot;);\n            System.out.println (&quot;You rolled double fives &quot; +\n                fives + &quot; out of &quot; + count +\n                &quot; rolls.&quot;);\n            System.out.println (&quot;You rolled double sixes &quot; +\n                sixes + &quot; out of &quot; + count +\n                &quot; rolls.&quot;);\n        }\n\n        // Reset all counts [Every time you want to run again]\n        snakeEyes = 0;\n        twos = 0;\n        threes = 0;\n        fours = 0;\n        fives = 0;\n        sixes = 0;\n        count = 0;\n\n        // Ask the user if they wish to run again, 0 = yes, -1 = no\n        System.out.println(&quot;Do you wish to run again?&quot;);\n        System.out.println(&quot;Enter a 0 for yes or a -1 for no&quot;);\n        // Read user's response\n        runAgain = keyboard.nextInt();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1548910579,"post_id":48557255,"comment_id":95715329,"body_markdown":"Info: https://flylib.com/books/en/2.65.1/creating_the_quartz_database_structure.html","body":"Info: <a href=\"https://flylib.com/books/en/2.65.1/creating_the_quartz_database_structure.html\" rel=\"nofollow noreferrer\">flylib.com/books/en/2.65.1/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3872389,"reputation":518,"user_id":3207356,"accept_rate":60,"display_name":"Kedar"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1535417266,"creation_date":1535417266,"answer_id":52048642,"question_id":48557255,"body_markdown":"I had the chance to work on quartz recently. I&#39;m myself not 100% clear on this topic and I&#39;m going to try my best to answer your question from my personal experience.\r\n\r\nYou must remember this basic flow-\r\n1. Create a job.\r\n2. Create a Trigger.\r\n3. Scheduler(job, trigger)\r\nAll the above tables are based on the above 3 steps.\r\n\r\n1. qrtz_triggers is where general information of a trigger is saved.\r\n2. qrtz_simple_triggers, qrtz_simprop_triggers, qrtz_crons_triggers, qrtz_blob_triggers have a foreign key relation to qrtz_triggers which save those specific details. Ex. Cron has cron expression which is unique to it.\r\n3. qrtz_job_details is simply the task to be executed.\r\n4. qrtz_fired_triggers is a log of all the triggers that were fired.\r\n5. qrtz_paused trigger is to save the information about triggers which are not active.\r\n6. Calendars are useful for excluding blocks of time from the the trigger’s firing schedule. For instance, you could create a trigger that fires a job every weekday at 9:30 am, but then add a Calendar that excludes all of the business’s holidays. (taken from website. I havent&#39; worked on it)\r\n6. I honestly haven&#39;t worked in qrtz_locks, qrtz_scheduler_sate tables.\r\n\r\nCheck out this image which I reverse engineered using MySQL workbench.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/20omd.png","title":"What does each table for quartz scheduler signify?","body":"<p>I had the chance to work on quartz recently. I'm myself not 100% clear on this topic and I'm going to try my best to answer your question from my personal experience.</p>\n\n<p>You must remember this basic flow-\n1. Create a job.\n2. Create a Trigger.\n3. Scheduler(job, trigger)\nAll the above tables are based on the above 3 steps.</p>\n\n<ol>\n<li>qrtz_triggers is where general information of a trigger is saved.</li>\n<li>qrtz_simple_triggers, qrtz_simprop_triggers, qrtz_crons_triggers, qrtz_blob_triggers have a foreign key relation to qrtz_triggers which save those specific details. Ex. Cron has cron expression which is unique to it.</li>\n<li>qrtz_job_details is simply the task to be executed.</li>\n<li>qrtz_fired_triggers is a log of all the triggers that were fired.</li>\n<li>qrtz_paused trigger is to save the information about triggers which are not active.</li>\n<li>Calendars are useful for excluding blocks of time from the the trigger’s firing schedule. For instance, you could create a trigger that fires a job every weekday at 9:30 am, but then add a Calendar that excludes all of the business’s holidays. (taken from website. I havent' worked on it)</li>\n<li>I honestly haven't worked in qrtz_locks, qrtz_scheduler_sate tables.</li>\n</ol>\n\n<p>Check out this image which I reverse engineered using MySQL workbench.\n<a href=\"https://i.stack.imgur.com/20omd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/20omd.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13086550,"reputation":733,"user_id":9455340,"display_name":"chetan mahajan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1597063263,"creation_date":1587460547,"answer_id":61339953,"question_id":48557255,"body_markdown":"I can provide some inputs for qrtz_lock and qrtz_scheduler_sate tables:\r\n\r\n 1. **qrtz_lock** stores the value of the instance name executing the job, to avoid the sceanario of multiple nodes executing the same job\r\n \r\n 2. **qrtz_scheduler_state** is for capturing the node state so that if in any case one node gets down or failed to execute one of the job then the other instance running in clustering mode can pick the misfired job.","title":"What does each table for quartz scheduler signify?","body":"<p>I can provide some inputs for qrtz_lock and qrtz_scheduler_sate tables:</p>\n<ol>\n<li><p><strong>qrtz_lock</strong> stores the value of the instance name executing the job, to avoid the sceanario of multiple nodes executing the same job</p>\n</li>\n<li><p><strong>qrtz_scheduler_state</strong> is for capturing the node state so that if in any case one node gets down or failed to execute one of the job then the other instance running in clustering mode can pick the misfired job.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12621953,"reputation":335,"user_id":9177127,"display_name":"Nakul Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28077,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":52048642,"answer_count":2,"score":26,"last_activity_date":1635462473,"creation_date":1517469392,"question_id":48557255,"body_markdown":"There are few tables that quartz scheduler uses for scheduling jobs and to identify which job is running currently. It uses the following tables :\r\n\r\n     qrtz_fired_triggers\r\n     qrtz_simple_triggers\r\n     qrtz_simprop_triggers\r\n     qrtz_cron_triggers\r\n     qrtz_blob_triggers\r\n     qrtz_triggers\r\n     qrtz_job_details\r\n     qrtz_calendars\r\n     qrtz_paused_trigger_grps\r\n     qrtz_locks\r\n     qrtz_scheduler_state\r\n\r\nSo what is the purpose of each of these tables and what does it siginifies?\r\n\r\nThanks in advance.","title":"What does each table for quartz scheduler signify?","body":"<p>There are few tables that quartz scheduler uses for scheduling jobs and to identify which job is running currently. It uses the following tables :</p>\n\n<pre><code> qrtz_fired_triggers\n qrtz_simple_triggers\n qrtz_simprop_triggers\n qrtz_cron_triggers\n qrtz_blob_triggers\n qrtz_triggers\n qrtz_job_details\n qrtz_calendars\n qrtz_paused_trigger_grps\n qrtz_locks\n qrtz_scheduler_state\n</code></pre>\n\n<p>So what is the purpose of each of these tables and what does it siginifies?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","list","lambda","filtering"],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635461632,"creation_date":1635455433,"answer_id":69760973,"question_id":69760482,"body_markdown":"Iterate through all the employees, and if the device is `Phone` search the list for the employee and add to the list `entriesToRemove` if another entry exists with that employee and the device is `Laptop`:\r\n\r\n        List&lt;Employee&gt; entriesToRemove = new ArrayList&lt;&gt;();\r\n          for(Employee employee : list){\r\n             if(employee.getDevice().equals(&quot;Phone&quot;)){\r\n                entriesToRemove.addAll(list.stream().filter(e -&gt;\r\n                e.getEmployeeId() == employee.getEmployeeId() &amp;&amp; e.getDevice().equals(&quot;Laptop&quot;))\r\n                .collect(Collectors.toList()));\r\n             }\r\n        }\r\n                    \r\n      \r\nFinally remove the entries from the list with `removeAll`:\r\n\r\n    list.removeAll(entriesToRemove);\r\n    System.out.printf(list.toString());\r\n\r\n**Edit**: Solution using Stream API:\r\n\r\n    List&lt;Employee&gt; reducedEmpList = list.stream()\r\n       .collect(Collectors.groupingBy(Employee::getEmployeeId,\r\n       Collectors.collectingAndThen(toList(), listPerEmployee -&gt;\r\n       listPerEmployee.stream().filter(e -&gt; e.getDevice().equals(&quot;Phone&quot;)).findFirst()\r\n    \t .map(Collections::singletonList).orElse(listPerEmployee))))\r\n    \t .values().stream().flatMap(Collection::stream).collect(toList());\r\n\r\nOutput:\r\n\r\n    [Employee{employeeId=2345, device=&#39;Laptop&#39;}, Employee{employeeId=1230, device=&#39;Phone&#39;}]","title":"How can I filter a List of complex objects so that if two have value for a field, I remove one based on criteria","body":"<p>Iterate through all the employees, and if the device is <code>Phone</code> search the list for the employee and add to the list <code>entriesToRemove</code> if another entry exists with that employee and the device is <code>Laptop</code>:</p>\n<pre><code>    List&lt;Employee&gt; entriesToRemove = new ArrayList&lt;&gt;();\n      for(Employee employee : list){\n         if(employee.getDevice().equals(&quot;Phone&quot;)){\n            entriesToRemove.addAll(list.stream().filter(e -&gt;\n            e.getEmployeeId() == employee.getEmployeeId() &amp;&amp; e.getDevice().equals(&quot;Laptop&quot;))\n            .collect(Collectors.toList()));\n         }\n    }\n                \n  \n</code></pre>\n<p>Finally remove the entries from the list with <code>removeAll</code>:</p>\n<pre><code>list.removeAll(entriesToRemove);\nSystem.out.printf(list.toString());\n</code></pre>\n<p><strong>Edit</strong>: Solution using Stream API:</p>\n<pre><code>List&lt;Employee&gt; reducedEmpList = list.stream()\n   .collect(Collectors.groupingBy(Employee::getEmployeeId,\n   Collectors.collectingAndThen(toList(), listPerEmployee -&gt;\n   listPerEmployee.stream().filter(e -&gt; e.getDevice().equals(&quot;Phone&quot;)).findFirst()\n     .map(Collections::singletonList).orElse(listPerEmployee))))\n     .values().stream().flatMap(Collection::stream).collect(toList());\n</code></pre>\n<p>Output:</p>\n<pre><code>[Employee{employeeId=2345, device='Laptop'}, Employee{employeeId=1230, device='Phone'}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635456392,"creation_date":1635456392,"answer_id":69761135,"question_id":69760482,"body_markdown":"You can use the `mergeFunction` of [`Collectors.toMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)) to choose the one with &quot;Phone&quot; as the device when there&#39;s more than one:\r\n\r\n    Collection&lt;Employee&gt; filtered = employees.stream().collect(Collectors\r\n        .toMap(e -&gt; e.getEmployeeId(), e -&gt; e,\r\n        (a, b) -&gt; &quot;Phone&quot;.equals(a.getDevice())? a : b,\r\n        LinkedHashMap::new)).values();\r\n    employees = new ArrayList&lt;&gt;(filtered);\r\n\r\nI specified a `LinkedHashMap` as the intermediate storage so that any other employees (like Dennis) will remain in their relative positions, if that&#39;s important. If not, you can just use the 3 parameter overload of `toMap` and leave that off.\r\n\r\nNote: this assumes that if there is more than one entry for a given employee, one of them always has a device of &quot;Phone&quot;.","title":"How can I filter a List of complex objects so that if two have value for a field, I remove one based on criteria","body":"<p>You can use the <code>mergeFunction</code> of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Collectors.toMap</code></a> to choose the one with &quot;Phone&quot; as the device when there's more than one:</p>\n<pre><code>Collection&lt;Employee&gt; filtered = employees.stream().collect(Collectors\n    .toMap(e -&gt; e.getEmployeeId(), e -&gt; e,\n    (a, b) -&gt; &quot;Phone&quot;.equals(a.getDevice())? a : b,\n    LinkedHashMap::new)).values();\nemployees = new ArrayList&lt;&gt;(filtered);\n</code></pre>\n<p>I specified a <code>LinkedHashMap</code> as the intermediate storage so that any other employees (like Dennis) will remain in their relative positions, if that's important. If not, you can just use the 3 parameter overload of <code>toMap</code> and leave that off.</p>\n<p>Note: this assumes that if there is more than one entry for a given employee, one of them always has a device of &quot;Phone&quot;.</p>\n"}],"owner":{"account_id":2792114,"reputation":116,"user_id":2402153,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":837,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635461632,"creation_date":1635452775,"question_id":69760482,"body_markdown":"I have a List of objects, some of which may be similar to others based on a certain field. In this case, I want to filter one based on the value of another field.\r\n\r\nHere is an example of what I have coming in:\r\n```\r\n[\r\n    {\r\n        employeeId: 1230,\r\n        firstName: &quot;Ronald&quot;,\r\n        lastName: &quot;McDonald&quot;,\r\n        device: &quot;Laptop&quot;\r\n    },\r\n    {\r\n        employeeId: 2345,\r\n        firstName: &quot;Dennis&quot;,\r\n        lastName: &quot;Reynolds&quot;,\r\n        device: &quot;Laptop&quot;\r\n    },\r\n    {\r\n        employeeId: 1230,\r\n        firstName: &quot;Ronald&quot;,\r\n        lastName: &quot;McDonald&quot;,\r\n        device: &quot;Phone&quot;\r\n    }\r\n]\r\n```\r\nI have 2 objects for Ronald McDonald (employee 1230). I want the Laptop for all employees unless they have a Phone, in which case I just want the phone. So I want to filter out the Ronald McDonald object with `device= &quot;Laptop&quot;` so that my output is as follows:\r\n```\r\n[\r\n    {\r\n        employeeId: 1230,\r\n        firstName: &quot;Ronald&quot;,\r\n        lastName: &quot;McDonald&quot;,\r\n        device: &quot;Phone&quot;\r\n    },\r\n    {\r\n        employeeId: 2345,\r\n        firstName: &quot;Dennis&quot;,\r\n        lastName: &quot;Reynolds&quot;,\r\n        device: &quot;Laptop&quot;\r\n    }\r\n]\r\n```\r\n\r\nFiltering is easy enough, but for whatever reason I can&#39;t wrap my head around removing duplicates based on a condition.\r\n\r\nDoes any helpful soul have a solution to my situation?\r\n\r\nI&#39;m using Java 11, so I have access to Lambda functions, streams, all that good stuff.\r\n\r\n**Edit:** My first crack at it is going terribly. I feel like I&#39;m grouping ok, but I can&#39;t seem to filter within that group:\r\n\r\n```\r\nList&lt;Employee&gt; reducedEmpList = empList.stream()\r\n  .collect(Collectors.groupingBy(Employee::getEmployeeId,\r\n\r\n     // Obviously this is not right:\r\n     Collectors.maxBy(Comparator.comparing(Employee::getDevice, (e1, e2) -&gt; {\r\n    // Clearly this is not how a comparator works\r\n    if(&quot;Laptop&quot;.equalsIgnoreCase(e1.getDevice()){\r\n        return e2;\r\n      }\r\n}))));\r\n```","title":"How can I filter a List of complex objects so that if two have value for a field, I remove one based on criteria","body":"<p>I have a List of objects, some of which may be similar to others based on a certain field. In this case, I want to filter one based on the value of another field.</p>\n<p>Here is an example of what I have coming in:</p>\n<pre><code>[\n    {\n        employeeId: 1230,\n        firstName: &quot;Ronald&quot;,\n        lastName: &quot;McDonald&quot;,\n        device: &quot;Laptop&quot;\n    },\n    {\n        employeeId: 2345,\n        firstName: &quot;Dennis&quot;,\n        lastName: &quot;Reynolds&quot;,\n        device: &quot;Laptop&quot;\n    },\n    {\n        employeeId: 1230,\n        firstName: &quot;Ronald&quot;,\n        lastName: &quot;McDonald&quot;,\n        device: &quot;Phone&quot;\n    }\n]\n</code></pre>\n<p>I have 2 objects for Ronald McDonald (employee 1230). I want the Laptop for all employees unless they have a Phone, in which case I just want the phone. So I want to filter out the Ronald McDonald object with <code>device= &quot;Laptop&quot;</code> so that my output is as follows:</p>\n<pre><code>[\n    {\n        employeeId: 1230,\n        firstName: &quot;Ronald&quot;,\n        lastName: &quot;McDonald&quot;,\n        device: &quot;Phone&quot;\n    },\n    {\n        employeeId: 2345,\n        firstName: &quot;Dennis&quot;,\n        lastName: &quot;Reynolds&quot;,\n        device: &quot;Laptop&quot;\n    }\n]\n</code></pre>\n<p>Filtering is easy enough, but for whatever reason I can't wrap my head around removing duplicates based on a condition.</p>\n<p>Does any helpful soul have a solution to my situation?</p>\n<p>I'm using Java 11, so I have access to Lambda functions, streams, all that good stuff.</p>\n<p><strong>Edit:</strong> My first crack at it is going terribly. I feel like I'm grouping ok, but I can't seem to filter within that group:</p>\n<pre><code>List&lt;Employee&gt; reducedEmpList = empList.stream()\n  .collect(Collectors.groupingBy(Employee::getEmployeeId,\n\n     // Obviously this is not right:\n     Collectors.maxBy(Comparator.comparing(Employee::getDevice, (e1, e2) -&gt; {\n    // Clearly this is not how a comparator works\n    if(&quot;Laptop&quot;.equalsIgnoreCase(e1.getDevice()){\n        return e2;\n      }\n}))));\n</code></pre>\n"},{"tags":["java","binary"],"comments":[{"owner":{"account_id":23175775,"reputation":21,"user_id":17274325,"display_name":"Louie Mattia"},"score":0,"creation_date":1635458468,"post_id":69761358,"comment_id":123311524,"body_markdown":"I just wanted to add I found out that the reason there are too many ones seems to be that the shift function keeps running too much, I might need to rewrite my loop as it runs that 8 times thanks to how it&#39;s written","body":"I just wanted to add I found out that the reason there are too many ones seems to be that the shift function keeps running too much, I might need to rewrite my loop as it runs that 8 times thanks to how it&#39;s written"}],"answers":[{"tags":[],"owner":{"account_id":23175775,"reputation":21,"user_id":17274325,"display_name":"Louie Mattia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635461370,"creation_date":1635461370,"answer_id":69761799,"question_id":69761358,"body_markdown":"I figured out my problem, the prev variable was being called too late so it didn&#39;t update the function properly, the prev value needed to be updated before the shift occurred. I moved it to right before the shift function was called and removed the if statement and it fixed it, it works perfectly now.\r\n\r\n    for(int i = 0; i &lt; 8; i++){\r\n        \t//System.out.println(&quot;Did it change back?&quot; + product.charAt(15) + prev);\r\n        \t//System.out.println(&quot;i = &quot; + i);\r\n            if(product.charAt(15)==&#39;0&#39; &amp;&amp; prev == &#39;1&#39;){\r\n                String temp = appendZeros(8-op2.length()) + op2 + appendZeros(8);\r\n                System.out.println(temp);\r\n                product = add(product, temp);\r\n                System.out.println(&quot;Add &quot; + product);\r\n            }\r\n            if(product.charAt(15)==&#39;1&#39; &amp;&amp; prev == &#39;0&#39;){\r\n                String temp = appendZeros(8-negop2.length()) + negop2 + appendZeros(8);\r\n                System.out.println(temp);\r\n                product = add(product, temp);\r\n                System.out.println(&quot;Subtract &quot; + product);\r\n            }\r\n            prev = product.charAt(15);\r\n            product=rightShift(product);\r\n            System.out.println(&quot;Shift &quot; + product);","title":"Java booth algorithm Shift or addition trouble","body":"<p>I figured out my problem, the prev variable was being called too late so it didn't update the function properly, the prev value needed to be updated before the shift occurred. I moved it to right before the shift function was called and removed the if statement and it fixed it, it works perfectly now.</p>\n<pre><code>for(int i = 0; i &lt; 8; i++){\n        //System.out.println(&quot;Did it change back?&quot; + product.charAt(15) + prev);\n        //System.out.println(&quot;i = &quot; + i);\n        if(product.charAt(15)=='0' &amp;&amp; prev == '1'){\n            String temp = appendZeros(8-op2.length()) + op2 + appendZeros(8);\n            System.out.println(temp);\n            product = add(product, temp);\n            System.out.println(&quot;Add &quot; + product);\n        }\n        if(product.charAt(15)=='1' &amp;&amp; prev == '0'){\n            String temp = appendZeros(8-negop2.length()) + negop2 + appendZeros(8);\n            System.out.println(temp);\n            product = add(product, temp);\n            System.out.println(&quot;Subtract &quot; + product);\n        }\n        prev = product.charAt(15);\n        product=rightShift(product);\n        System.out.println(&quot;Shift &quot; + product);\n</code></pre>\n"}],"owner":{"account_id":23175775,"reputation":21,"user_id":17274325,"display_name":"Louie Mattia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635461370,"creation_date":1635457834,"question_id":69761358,"body_markdown":"I just need a little help programming booths algorithm into java, I&#39;m really not sure how to fix somethings, right now adding the right shift makes the entire answer 1(will show a few examples of inputs and outputs to explain and show) I know its converting to binary properly so I think my problem is in my shift and adding function. \r\n\r\n\t\r\n\tpublic static void main(String args[]){\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the first number: &quot;);\r\n        int operand1 = sc.nextInt();\r\n        System.out.print(&quot;Enter the second number: &quot;);\r\n        int operand2 = sc.nextInt();\r\n        String answer = multiply(operand1, operand2);\r\n        System.out.println(answer);\r\n\t}\r\n\t\r\n\t static String appendZeros(int n){\r\n\t        String result = &quot;&quot;;\r\n\t        for(int i = 0; i &lt; n; i++) result += &quot;0&quot;;\r\n\t        return result;\r\n\t    }\r\n\t\r\n\tpublic static String toBinary(int x, int len)\r\n    {\r\n        if (len &gt; 0)\r\n        {\r\n            return String.format(&quot;%&quot; + len + &quot;s&quot;,\r\n                            Integer.toBinaryString(x)).replaceAll(&quot; &quot;, &quot;0&quot;);\r\n        }\r\n \r\n        return null;\r\n    }\r\n\t\r\n\tstatic String add(String a, String b){\r\n        String result = &quot;&quot;;\r\n        char carry = &#39;0&#39;;\r\n        for(int i = a.length()-1; i &gt;= 0; i--){\r\n            String condition = &quot;&quot; + a.charAt(i) + b.charAt(i) + carry;\r\n            switch(condition){\r\n                case &quot;000&quot;: result = &quot;0&quot; + result; break;\r\n                case &quot;001&quot;: result = &quot;1&quot; + result; carry = &#39;0&#39;; break;\r\n                case &quot;010&quot;: result = &quot;1&quot; + result; break;\r\n                case &quot;011&quot;: result = &quot;0&quot; + result; break;\r\n                case &quot;100&quot;: result = &quot;1&quot; + result; break;\r\n                case &quot;101&quot;: result = &quot;0&quot; + result; break;\r\n                case &quot;110&quot;: result = &quot;0&quot; + result; carry = &#39;1&#39;; break;\r\n                case &quot;111&quot;: result = &quot;1&quot; + result; break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\t\r\n\t static String rightShift(String str){\r\n\t        String result = &quot;&quot;;\r\n\t        for(int i = 0; i &lt; str.length(); i++){\r\n\t            if(i == 0) result += str.charAt(i);\r\n\t            else result += str.charAt(i-1);\r\n\t        }\r\n\t        return result;\r\n\t }\r\n\t\r\n\tstatic String multiply(int a, int b){\r\n        String op1 = toBinary(a, 8);\r\n        String op2 = toBinary(b, 8);\r\n        String negop2 = toBinary(-b, 8);\r\n        if (op1.length() &gt; 8) \r\n        {\r\n            op1 = op1.substring(op1.length() - 8);\r\n        } \r\n        if (op2.length() &gt; 8) \r\n        {\r\n            op2 = op2.substring(op2.length() - 8);\r\n        } \r\n        if (negop2.length() &gt; 8) \r\n        {\r\n        \tnegop2 = negop2.substring(negop2.length() - 8);\r\n        } \r\n        System.out.println(op1 + &quot; &quot; + op2 + &quot; &quot; + negop2);\r\n        char prev = &#39;0&#39;;\r\n        String product = appendZeros(16-op1.length())+op1;\r\n        for(int i = 0; i &lt; 8; i++){\r\n            if(i &gt; 0) prev = product.charAt(15);\r\n            if(product.charAt(15)==&#39;0&#39; &amp;&amp; prev == &#39;1&#39;){\r\n                String temp = appendZeros(8-op2.length()) + op2 + appendZeros(8);\r\n                product = add(product, temp);\r\n            }\r\n            if(product.charAt(15)==&#39;1&#39; &amp;&amp; prev == &#39;0&#39;){\r\n                String temp = appendZeros(8-negop2.length()) + negop2 + appendZeros(8);\r\n                product = add(product, temp);\r\n            }\r\n            product=rightShift(product);\r\n        }\r\n        return product;\r\n\t}\r\n\r\n\r\n&gt; input 9 1 output 1111111111111111 expected 0000000000001001 &lt;br&gt;input 9 9\r\n&gt; output 1111111111110111 expected 0000000001010001","title":"Java booth algorithm Shift or addition trouble","body":"<p>I just need a little help programming booths algorithm into java, I'm really not sure how to fix somethings, right now adding the right shift makes the entire answer 1(will show a few examples of inputs and outputs to explain and show) I know its converting to binary properly so I think my problem is in my shift and adding function.</p>\n<pre><code>public static void main(String args[]){\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Enter the first number: &quot;);\n    int operand1 = sc.nextInt();\n    System.out.print(&quot;Enter the second number: &quot;);\n    int operand2 = sc.nextInt();\n    String answer = multiply(operand1, operand2);\n    System.out.println(answer);\n}\n\n static String appendZeros(int n){\n        String result = &quot;&quot;;\n        for(int i = 0; i &lt; n; i++) result += &quot;0&quot;;\n        return result;\n    }\n\npublic static String toBinary(int x, int len)\n{\n    if (len &gt; 0)\n    {\n        return String.format(&quot;%&quot; + len + &quot;s&quot;,\n                        Integer.toBinaryString(x)).replaceAll(&quot; &quot;, &quot;0&quot;);\n    }\n\n    return null;\n}\n\nstatic String add(String a, String b){\n    String result = &quot;&quot;;\n    char carry = '0';\n    for(int i = a.length()-1; i &gt;= 0; i--){\n        String condition = &quot;&quot; + a.charAt(i) + b.charAt(i) + carry;\n        switch(condition){\n            case &quot;000&quot;: result = &quot;0&quot; + result; break;\n            case &quot;001&quot;: result = &quot;1&quot; + result; carry = '0'; break;\n            case &quot;010&quot;: result = &quot;1&quot; + result; break;\n            case &quot;011&quot;: result = &quot;0&quot; + result; break;\n            case &quot;100&quot;: result = &quot;1&quot; + result; break;\n            case &quot;101&quot;: result = &quot;0&quot; + result; break;\n            case &quot;110&quot;: result = &quot;0&quot; + result; carry = '1'; break;\n            case &quot;111&quot;: result = &quot;1&quot; + result; break;\n        }\n    }\n    return result;\n}\n\n static String rightShift(String str){\n        String result = &quot;&quot;;\n        for(int i = 0; i &lt; str.length(); i++){\n            if(i == 0) result += str.charAt(i);\n            else result += str.charAt(i-1);\n        }\n        return result;\n }\n\nstatic String multiply(int a, int b){\n    String op1 = toBinary(a, 8);\n    String op2 = toBinary(b, 8);\n    String negop2 = toBinary(-b, 8);\n    if (op1.length() &gt; 8) \n    {\n        op1 = op1.substring(op1.length() - 8);\n    } \n    if (op2.length() &gt; 8) \n    {\n        op2 = op2.substring(op2.length() - 8);\n    } \n    if (negop2.length() &gt; 8) \n    {\n        negop2 = negop2.substring(negop2.length() - 8);\n    } \n    System.out.println(op1 + &quot; &quot; + op2 + &quot; &quot; + negop2);\n    char prev = '0';\n    String product = appendZeros(16-op1.length())+op1;\n    for(int i = 0; i &lt; 8; i++){\n        if(i &gt; 0) prev = product.charAt(15);\n        if(product.charAt(15)=='0' &amp;&amp; prev == '1'){\n            String temp = appendZeros(8-op2.length()) + op2 + appendZeros(8);\n            product = add(product, temp);\n        }\n        if(product.charAt(15)=='1' &amp;&amp; prev == '0'){\n            String temp = appendZeros(8-negop2.length()) + negop2 + appendZeros(8);\n            product = add(product, temp);\n        }\n        product=rightShift(product);\n    }\n    return product;\n}\n</code></pre>\n<blockquote>\n<p>input 9 1 output 1111111111111111 expected 0000000000001001 <br>input 9 9\noutput 1111111111110111 expected 0000000001010001</p>\n</blockquote>\n"},{"tags":["java","oop","polymorphism"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1635460665,"post_id":69761653,"comment_id":123312003,"body_markdown":"Can you please elaborate with a couple of examples?","body":"Can you please elaborate with a couple of examples?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1635460811,"post_id":69761653,"comment_id":123312035,"body_markdown":"Why don&#39;t you declare the field in the parent?","body":"Why don&#39;t you declare the field in the parent?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635461263,"post_id":69761653,"comment_id":123312117,"body_markdown":"@AliasCartellano this is not possible. You can put methods in interfaces. You can&#39;t put fields in there, though. Hence, non-starter.","body":"@AliasCartellano this is not possible. You can put methods in interfaces. You can&#39;t put fields in there, though. Hence, non-starter."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1635461800,"post_id":69761653,"comment_id":123312212,"body_markdown":"If the goal is just to avoid having to write out all the getters on the subclasses, have you looked at using Lombok to generate them for you?","body":"If the goal is just to avoid having to write out all the getters on the subclasses, have you looked at using Lombok to generate them for you?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635461275,"creation_date":1635461275,"answer_id":69761789,"question_id":69761653,"body_markdown":"This is not possible, for obvious reasons: There is no guarantee that _every_ subclass actually has that variable, therefore it is not possible to refer to it short of reaching for obviously silly ideas such as reflection.\r\n\r\nHowever, if you feel that every subclass of this class really would have these 2 fields, then, shouldn&#39;t those fields just be part of the parent class instead? If you have:\r\n\r\n```java\r\npublic abstract class SpreadsheetRowMarker {}\r\n\r\npublic final class InvoiceRowMarker extends SpreadsheetRowMarker {\r\n  private final int row;\r\n\r\n  public InvoiceRowMarker(int row) {\r\n    this.row = row;\r\n  }\r\n\r\n  public int getRow() {\r\n    return row;\r\n  }\r\n}\r\n\r\n// another 24 classes a lot like InvoiceRowMarker\r\n```\r\n\r\nand not just that, but it is effectively ingrained in the very nature of whatever `SpreadsheetRowMarker` is attempting to represent that __ALL__ imaginable subclasses of it would look like that, then the above seems weird. If it&#39;s functionality that is intrinsically bundled up with SpreadsheetRowMarker itself, just make it part of that:\r\n\r\n```\r\npublic abstract class SpreadsheetRowMarker {\r\n  private final int row;\r\n\r\n  public SpreadsheetRowMarker(int row) {\r\n    this.row = row;\r\n  }\r\n\r\n  public int getRow() {\r\n    return row;\r\n  }\r\n}\r\n\r\npublic final class InvoiceRowMarker extends SpreadsheetRowMarker {\r\n  public InvoiceRowMarker(int row) {\r\n    super(row);\r\n  }\r\n}\r\n\r\n// and 24 more such classes\r\n```\r\n\r\nunfortunately you can&#39;t get rid of those constructors, but presumably you already had 24 constructors that took in a `row` variable. The above means `getRow()` is now centrally placed, _and_ that you can now invoke it on anything as long as you know it is a `SpreadsheetRowMarker` (vs knowing it&#39;s any one of its many subclasses).\r\n\r\n\r\nIf you have 25 types that all extend SpreadsheetRowMarker but you CAN imagine subtypes that don&#39;t have it, then consider making another class to &#39;sit in between&#39; (if you have `class F extends A {}` right now, make a new `abstract class B extends A {}` and then have your 25 current classes with `getRow` extend B instead. Put the `getRow` stuff in B.\r\n","title":"In Java, can I have a parent class implement a method that uses a variable from a subclass?","body":"<p>This is not possible, for obvious reasons: There is no guarantee that <em>every</em> subclass actually has that variable, therefore it is not possible to refer to it short of reaching for obviously silly ideas such as reflection.</p>\n<p>However, if you feel that every subclass of this class really would have these 2 fields, then, shouldn't those fields just be part of the parent class instead? If you have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SpreadsheetRowMarker {}\n\npublic final class InvoiceRowMarker extends SpreadsheetRowMarker {\n  private final int row;\n\n  public InvoiceRowMarker(int row) {\n    this.row = row;\n  }\n\n  public int getRow() {\n    return row;\n  }\n}\n\n// another 24 classes a lot like InvoiceRowMarker\n</code></pre>\n<p>and not just that, but it is effectively ingrained in the very nature of whatever <code>SpreadsheetRowMarker</code> is attempting to represent that <strong>ALL</strong> imaginable subclasses of it would look like that, then the above seems weird. If it's functionality that is intrinsically bundled up with SpreadsheetRowMarker itself, just make it part of that:</p>\n<pre><code>public abstract class SpreadsheetRowMarker {\n  private final int row;\n\n  public SpreadsheetRowMarker(int row) {\n    this.row = row;\n  }\n\n  public int getRow() {\n    return row;\n  }\n}\n\npublic final class InvoiceRowMarker extends SpreadsheetRowMarker {\n  public InvoiceRowMarker(int row) {\n    super(row);\n  }\n}\n\n// and 24 more such classes\n</code></pre>\n<p>unfortunately you can't get rid of those constructors, but presumably you already had 24 constructors that took in a <code>row</code> variable. The above means <code>getRow()</code> is now centrally placed, <em>and</em> that you can now invoke it on anything as long as you know it is a <code>SpreadsheetRowMarker</code> (vs knowing it's any one of its many subclasses).</p>\n<p>If you have 25 types that all extend SpreadsheetRowMarker but you CAN imagine subtypes that don't have it, then consider making another class to 'sit in between' (if you have <code>class F extends A {}</code> right now, make a new <code>abstract class B extends A {}</code> and then have your 25 current classes with <code>getRow</code> extend B instead. Put the <code>getRow</code> stuff in B.</p>\n"}],"owner":{"account_id":13803319,"reputation":85,"user_id":9962831,"display_name":"QuantumBlink"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69761789,"answer_count":1,"score":0,"last_activity_date":1635461275,"creation_date":1635460104,"question_id":69761653,"body_markdown":"I&#39;m looking to simplify some methods that are shared across all of my subclasses, in which case there&#39;s 25+. I currently use an interface to implement \r\n\r\n```\r\npublic int getRow() {\r\n    return row;\r\n}\r\npublic boolean getCondition() {\r\n    return condition;\r\n}\r\n```\r\nand a few more that are similar in nature (getters/setters)\r\n\r\nIs it possible to define a method in the parent class body that uses the subclass variable and avoid having these generic getters and setters in the subclass?\r\n\r\n\r\n\r\n","title":"In Java, can I have a parent class implement a method that uses a variable from a subclass?","body":"<p>I'm looking to simplify some methods that are shared across all of my subclasses, in which case there's 25+. I currently use an interface to implement</p>\n<pre><code>public int getRow() {\n    return row;\n}\npublic boolean getCondition() {\n    return condition;\n}\n</code></pre>\n<p>and a few more that are similar in nature (getters/setters)</p>\n<p>Is it possible to define a method in the parent class body that uses the subclass variable and avoid having these generic getters and setters in the subclass?</p>\n"},{"tags":["java","algorithm","dynamic","tree"],"comments":[{"owner":{"account_id":22274865,"reputation":11,"user_id":16504203,"display_name":"Rita Doumit"},"score":0,"creation_date":1635461085,"post_id":69761752,"comment_id":123312086,"body_markdown":"I forgot to mention that I also have access to bfs and dfs, and that the tree is undirected and is represented by adjacency list","body":"I forgot to mention that I also have access to bfs and dfs, and that the tree is undirected and is represented by adjacency list"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1635462068,"post_id":69761752,"comment_id":123312264,"body_markdown":"One of the first search results I got for that phrase talks about trees: https://courses.engr.illinois.edu/cs473/sp2011/Lectures/09_lec.pdf","body":"One of the first search results I got for that phrase talks about trees: <a href=\"https://courses.engr.illinois.edu/cs473/sp2011/Lectures/09_lec.pdf\" rel=\"nofollow noreferrer\">courses.engr.illinois.edu/cs473/sp2011/Lectures/09_lec.pdf</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1635462128,"post_id":69761752,"comment_id":123312277,"body_markdown":"Since you&#39;re looking for the algorithm this question could be language agnostic and leave off the language tag, but I really think it&#39;s too broad for SO.","body":"Since you&#39;re looking for the algorithm this question could be language agnostic and leave off the language tag, but I really think it&#39;s too broad for SO."},{"owner":{"account_id":22274865,"reputation":11,"user_id":16504203,"display_name":"Rita Doumit"},"score":0,"creation_date":1635462301,"post_id":69761752,"comment_id":123312303,"body_markdown":"it&#39;s for java @DavidConrad","body":"it&#39;s for java @DavidConrad"},{"owner":{"account_id":22274865,"reputation":11,"user_id":16504203,"display_name":"Rita Doumit"},"score":0,"creation_date":1635462324,"post_id":69761752,"comment_id":123312308,"body_markdown":"@DavidConrad I saw this search result but I don&#39;t know how to implement it in my code","body":"@DavidConrad I saw this search result but I don&#39;t know how to implement it in my code"},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1635489349,"post_id":69761752,"comment_id":123316906,"body_markdown":"*&quot;but I don&#39;t know how to implement it in my code&quot;*: that is quite vague. Show your attempt and where in the coding you get into an issue (specific).","body":"<i>&quot;but I don&#39;t know how to implement it in my code&quot;</i>: that is quite vague. Show your attempt and where in the coding you get into an issue (specific)."}],"owner":{"account_id":22274865,"reputation":11,"user_id":16504203,"display_name":"Rita Doumit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635460919,"creation_date":1635460919,"question_id":69761752,"body_markdown":"I have this problem that I am trying to solve:\r\n\r\n    \r\n\r\n&gt; You are given a tree T with n nodes. Each node has a non-negative weight assigned to it. Our goal is to\r\nfind a set S of nodes such that (i)no two nodes in S are adjacent, and (ii)the total weight of all vertices\r\nin S is maximal. Such a set is called maximum weight independent set.\r\nAssignment\r\nImplement a Dynamic Programming algorithm that finds a maximum weight independent set for a given\r\ntree in O(n)time. If there are multiple such sets, return a set with maximum number of nodes.\r\nImplementation\r\n\r\nI looked everywhere but I couldn&#39;t find the answer for a tree (not a path!). By the way, the tree is implemented using an edges double array, and an array of weights. Can someone help me solve it?","title":"How to find maximum weight independent set for a tree using dynamic programming","body":"<p>I have this problem that I am trying to solve:</p>\n<blockquote>\n<p>You are given a tree T with n nodes. Each node has a non-negative weight assigned to it. Our goal is to\nfind a set S of nodes such that (i)no two nodes in S are adjacent, and (ii)the total weight of all vertices\nin S is maximal. Such a set is called maximum weight independent set.\nAssignment\nImplement a Dynamic Programming algorithm that finds a maximum weight independent set for a given\ntree in O(n)time. If there are multiple such sets, return a set with maximum number of nodes.\nImplementation</p>\n</blockquote>\n<p>I looked everywhere but I couldn't find the answer for a tree (not a path!). By the way, the tree is implemented using an edges double array, and an array of weights. Can someone help me solve it?</p>\n"},{"tags":["java","architecture","microservices","connection-pooling"],"owner":{"account_id":5401500,"reputation":41,"user_id":4301286,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1635460750,"creation_date":1635460750,"question_id":69761734,"body_markdown":"I&#39;m trying to turn an old monolithic application into microservices. The old system is a multitenant system with shared database and shared tables, only the tenant_id column identifies the tenant. According to the new specifications, each tenant will have access to its database.\r\n\r\nI know that in java opening a connection to a database is very expensive in terms of resources and time, in fact the use of connection pooling is highly recommended, but in a real situation I will have 50/60 microservices and about 400 tenants.\r\n\r\nSearching online I found many solutions to manage the connection pool in an optimized way but none suitable for a multitenant situation.\r\nWhat could be a performing architectural solution?","title":"Multitenant Microservices and Connection Pooling","body":"<p>I'm trying to turn an old monolithic application into microservices. The old system is a multitenant system with shared database and shared tables, only the tenant_id column identifies the tenant. According to the new specifications, each tenant will have access to its database.</p>\n<p>I know that in java opening a connection to a database is very expensive in terms of resources and time, in fact the use of connection pooling is highly recommended, but in a real situation I will have 50/60 microservices and about 400 tenants.</p>\n<p>Searching online I found many solutions to manage the connection pool in an optimized way but none suitable for a multitenant situation.\nWhat could be a performing architectural solution?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":17973357,"reputation":66,"user_id":13061548,"display_name":"Tarun Singh Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635460027,"creation_date":1635460027,"answer_id":69761645,"question_id":69759926,"body_markdown":"Take this as an example and try it accordingly in your code\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        AuthenticationProvider rememberMeAuthenticationProvider = rememberMeAuthenticationProvider();\r\n        TokenBasedRememberMeServices tokenBasedRememberMeServices = tokenBasedRememberMeServices();\r\n\r\n        List&lt;AuthenticationProvider&gt; authenticationProviders = new ArrayList&lt;AuthenticationProvider&gt;(2);\r\n        authenticationProviders.add(rememberMeAuthenticationProvider);\r\n        authenticationProviders.add(customAuthenticationProvider);\r\n        AuthenticationManager authenticationManager = authenticationManager(authenticationProviders);\r\n\r\n        http\r\n                .csrf().disable()\r\n                .headers().disable()\r\n                .addFilter(new RememberMeAuthenticationFilter(authenticationManager, tokenBasedRememberMeServices))\r\n                .rememberMe().rememberMeServices(tokenBasedRememberMeServices)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/img/**&quot;, &quot;/login&quot;, &quot;/processLogin&quot;).permitAll()\r\n                .antMatchers(&quot;/index.jsp&quot;, &quot;/index.html&quot;, &quot;/index&quot;).hasRole(&quot;USER&quot;)\r\n                .antMatchers(&quot;/admin&quot;, &quot;/admin.html&quot;, &quot;/admin.jsp&quot;, &quot;/js/saic/jswe/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .and()\r\n                .formLogin().loginProcessingUrl(&quot;/processLogin&quot;).loginPage(&quot;/login&quot;).usernameParameter(&quot;username&quot;).passwordParameter(&quot;password&quot;).permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/login&quot;)\r\n                .and()\r\n                .logout().permitAll();\r\n    }\r\n```\r\n**NOTE: The key point here is to add token and filter in configuration file as explained above.\r\nsorry for not posting the direct answer, since i had this, and it will give you a wide area to work on or an idea to go an work on to make the code run properly**","title":"Spring Security and Keycloak fails with a custom authentication provider","body":"<p>Take this as an example and try it accordingly in your code</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        AuthenticationProvider rememberMeAuthenticationProvider = rememberMeAuthenticationProvider();\n        TokenBasedRememberMeServices tokenBasedRememberMeServices = tokenBasedRememberMeServices();\n\n        List&lt;AuthenticationProvider&gt; authenticationProviders = new ArrayList&lt;AuthenticationProvider&gt;(2);\n        authenticationProviders.add(rememberMeAuthenticationProvider);\n        authenticationProviders.add(customAuthenticationProvider);\n        AuthenticationManager authenticationManager = authenticationManager(authenticationProviders);\n\n        http\n                .csrf().disable()\n                .headers().disable()\n                .addFilter(new RememberMeAuthenticationFilter(authenticationManager, tokenBasedRememberMeServices))\n                .rememberMe().rememberMeServices(tokenBasedRememberMeServices)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/img/**&quot;, &quot;/login&quot;, &quot;/processLogin&quot;).permitAll()\n                .antMatchers(&quot;/index.jsp&quot;, &quot;/index.html&quot;, &quot;/index&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/admin&quot;, &quot;/admin.html&quot;, &quot;/admin.jsp&quot;, &quot;/js/saic/jswe/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .and()\n                .formLogin().loginProcessingUrl(&quot;/processLogin&quot;).loginPage(&quot;/login&quot;).usernameParameter(&quot;username&quot;).passwordParameter(&quot;password&quot;).permitAll()\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/login&quot;)\n                .and()\n                .logout().permitAll();\n    }\n</code></pre>\n<p><strong>NOTE: The key point here is to add token and filter in configuration file as explained above.\nsorry for not posting the direct answer, since i had this, and it will give you a wide area to work on or an idea to go an work on to make the code run properly</strong></p>\n"}],"owner":{"account_id":16203704,"reputation":101,"user_id":12032322,"display_name":"J-Deq87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635460027,"creation_date":1635449763,"question_id":69759926,"body_markdown":"We have been using Keycloak with Spring Security (Spring Boot 2) for a while and now we&#39;re trying to add a custom API-Key authentication mechanism where we check for a header called `api-key` and send that value to a remote service for verification, and if it valid, **skip** the Keycloak check entirely. This applies to all requests and endpoints.\r\n\r\nI have my own `AuthenticationProvider` and `AbstractAuthenticationProcessingFilter`, but now _all_ requests to the server throw a 403, even valid Keycloak requests. Strangely, none of my new code is even being executed as proven by no signs of logging or breakpoint hits. I have read through the multiple authentication [documentation][1] and [reviewed][2] [several][3] SO [posts][4], yet still can&#39;t get it working.\r\n\r\nHere is my custom `AuthenticationProvider`:\r\n```\r\npublic class ApiKeyAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n        log.info(&quot;API-KEY: Provider.authenticate()&quot;);\r\n\r\n        ApiKeyAuthenticationToken auth = (ApiKeyAuthenticationToken) authentication;\r\n\r\n        String apiKey = auth.getCredentials().toString();\r\n\r\n        // Always returns TRUE at the moment to test bypassing Keycloak\r\n        boolean isApiKeyValid = RemoteApiKeyService.verify(apiKey);\r\n\r\n        if (isApiKeyValid) {\r\n            log.info(&quot;API-KEY: auth successful&quot;);\r\n            auth.setAuthenticated(true);\r\n        } else {\r\n            log.warn(&quot;API-KEY: auth failed&quot;);\r\n            throw new BadCredentialsException(&quot;Api-Key Authentication Failed&quot;);\r\n        }\r\n\r\n        return auth;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        log.info(&quot;API-KEY: Provider.supports(): &quot; + authentication.getSimpleName());\r\n        return authentication.isAssignableFrom(ApiKeyAuthenticationToken.class);\r\n    }\r\n}\r\n```\r\nMy Token:\r\n```\r\npublic class ApiKeyAuthenticationToken extends AbstractAuthenticationToken {\r\n\r\n    private final String token;\r\n\r\n    public ApiKeyAuthenticationToken(String token) {\r\n        super(null);\r\n        this.token = token;\r\n    }\r\n\r\n    @Override\r\n    public Object getCredentials() {\r\n        return token;\r\n    }\r\n\r\n    @Override\r\n    public Object getPrincipal() {\r\n        return null;\r\n    }\r\n}\r\n```\r\nHere is the Filter:\r\n```\r\npublic class ApiKeyFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n    public ApiKeyFilter() {\r\n        super(&quot;/*&quot;);\r\n        log.info(&quot;API-KEY filter.init()&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request,\r\n                                                HttpServletResponse response) throws AuthenticationException, IOException, ServletException {\r\n        log.info(&quot;API-KEY filter.attemptAuthentication()&quot;);\r\n        String apiKeyHeader = request.getHeader(&quot;api-key&quot;);\r\n        if (apiKeyHeader != null) {\r\n            return new ApiKeyAuthenticationToken(apiKeyHeader);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\nAnd finally, how I&#39;m tying everything together with my security configuration using multiple providers:\r\n```\r\n@Slf4j\r\n@Configuration\r\n@EnableWebSecurity\r\n@SuppressWarnings(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)\r\npublic class SecurityConf {\r\n\r\n  @Configuration\r\n  @Order(1) //Order is 1 -&gt; First the special case\r\n  public static class ApiKeySecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n      http.csrf().disable().authorizeRequests()\r\n              .antMatchers(&quot;/**&quot;).authenticated();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n      // our custom authentication provider\r\n      auth.authenticationProvider(new ApiKeyAuthenticationProvider());\r\n    }\r\n  }\r\n\r\n  @Configuration\r\n  @Order(2) // processed after our API Key bean config\r\n  public static class KeycloakSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n      KeycloakAuthenticationProvider provider = keycloakAuthenticationProvider();\r\n      provider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n      auth.authenticationProvider(provider);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n      return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n      super.configure(http);\r\n\r\n      http.csrf().disable().authorizeRequests();\r\n      http.headers().frameOptions().disable();\r\n    }\r\n\r\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\r\n    @Bean\r\n    public FilterRegistrationBean keycloakAuthenticationProcessingFilterRegistrationBean(KeycloakAuthenticationProcessingFilter filter) {\r\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n      registrationBean.setEnabled(false);\r\n      return registrationBean;\r\n    }\r\n\r\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\r\n    @Bean\r\n    public FilterRegistrationBean keycloakPreAuthActionsFilterRegistrationBean(KeycloakPreAuthActionsFilter filter) {\r\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n      registrationBean.setEnabled(false);\r\n      return registrationBean;\r\n    }\r\n\r\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\r\n    @Bean\r\n    public FilterRegistrationBean keycloakAuthenticatedActionsFilterBean(\r\n            KeycloakAuthenticatedActionsFilter filter) {\r\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n      registrationBean.setEnabled(false);\r\n      return registrationBean;\r\n    }\r\n\r\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\r\n    @Bean\r\n    public FilterRegistrationBean keycloakSecurityContextRequestFilterBean(\r\n            KeycloakSecurityContextRequestFilter filter) {\r\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n      registrationBean.setEnabled(false);\r\n      return registrationBean;\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Scope(value = &quot;singleton&quot;)\r\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n\r\n      final KeycloakDeployment keycloakDeployment = KeycloakDeploymentBuilder.build(\r\n              KeycloakClient.default_client.toAdapterConfig()\r\n      );\r\n\r\n      return new KeycloakSpringBootConfigResolver() {\r\n\r\n        @Override\r\n        public KeycloakDeployment resolve(HttpFacade.Request request) {\r\n          return keycloakDeployment;\r\n        }\r\n\r\n      };\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAny idea what&#39;s been misconfigured? The fact that none of my code even runs yet breaks Keycloak is interesting.\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/htmlsingle/#multiple-httpsecurity\r\n  [2]: https://stackoverflow.com/questions/25794680/multiple-authentication-mechanisms-in-a-single-app-using-java-config\r\n  [3]: https://stackoverflow.com/questions/37942669/spring-boot-keycloak-and-basic-authentication-together-in-the-same-project\r\n  [4]: https://stackoverflow.com/questions/49225035/how-to-provide-multiple-ways-of-authentication-with-spring-security","title":"Spring Security and Keycloak fails with a custom authentication provider","body":"<p>We have been using Keycloak with Spring Security (Spring Boot 2) for a while and now we're trying to add a custom API-Key authentication mechanism where we check for a header called <code>api-key</code> and send that value to a remote service for verification, and if it valid, <strong>skip</strong> the Keycloak check entirely. This applies to all requests and endpoints.</p>\n<p>I have my own <code>AuthenticationProvider</code> and <code>AbstractAuthenticationProcessingFilter</code>, but now <em>all</em> requests to the server throw a 403, even valid Keycloak requests. Strangely, none of my new code is even being executed as proven by no signs of logging or breakpoint hits. I have read through the multiple authentication <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/htmlsingle/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"https://stackoverflow.com/questions/25794680/multiple-authentication-mechanisms-in-a-single-app-using-java-config\">reviewed</a> <a href=\"https://stackoverflow.com/questions/37942669/spring-boot-keycloak-and-basic-authentication-together-in-the-same-project\">several</a> SO <a href=\"https://stackoverflow.com/questions/49225035/how-to-provide-multiple-ways-of-authentication-with-spring-security\">posts</a>, yet still can't get it working.</p>\n<p>Here is my custom <code>AuthenticationProvider</code>:</p>\n<pre><code>public class ApiKeyAuthenticationProvider implements AuthenticationProvider {\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        log.info(&quot;API-KEY: Provider.authenticate()&quot;);\n\n        ApiKeyAuthenticationToken auth = (ApiKeyAuthenticationToken) authentication;\n\n        String apiKey = auth.getCredentials().toString();\n\n        // Always returns TRUE at the moment to test bypassing Keycloak\n        boolean isApiKeyValid = RemoteApiKeyService.verify(apiKey);\n\n        if (isApiKeyValid) {\n            log.info(&quot;API-KEY: auth successful&quot;);\n            auth.setAuthenticated(true);\n        } else {\n            log.warn(&quot;API-KEY: auth failed&quot;);\n            throw new BadCredentialsException(&quot;Api-Key Authentication Failed&quot;);\n        }\n\n        return auth;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        log.info(&quot;API-KEY: Provider.supports(): &quot; + authentication.getSimpleName());\n        return authentication.isAssignableFrom(ApiKeyAuthenticationToken.class);\n    }\n}\n</code></pre>\n<p>My Token:</p>\n<pre><code>public class ApiKeyAuthenticationToken extends AbstractAuthenticationToken {\n\n    private final String token;\n\n    public ApiKeyAuthenticationToken(String token) {\n        super(null);\n        this.token = token;\n    }\n\n    @Override\n    public Object getCredentials() {\n        return token;\n    }\n\n    @Override\n    public Object getPrincipal() {\n        return null;\n    }\n}\n</code></pre>\n<p>Here is the Filter:</p>\n<pre><code>public class ApiKeyFilter extends AbstractAuthenticationProcessingFilter {\n\n    public ApiKeyFilter() {\n        super(&quot;/*&quot;);\n        log.info(&quot;API-KEY filter.init()&quot;);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request,\n                                                HttpServletResponse response) throws AuthenticationException, IOException, ServletException {\n        log.info(&quot;API-KEY filter.attemptAuthentication()&quot;);\n        String apiKeyHeader = request.getHeader(&quot;api-key&quot;);\n        if (apiKeyHeader != null) {\n            return new ApiKeyAuthenticationToken(apiKeyHeader);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>And finally, how I'm tying everything together with my security configuration using multiple providers:</p>\n<pre><code>@Slf4j\n@Configuration\n@EnableWebSecurity\n@SuppressWarnings(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)\npublic class SecurityConf {\n\n  @Configuration\n  @Order(1) //Order is 1 -&gt; First the special case\n  public static class ApiKeySecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n      http.csrf().disable().authorizeRequests()\n              .antMatchers(&quot;/**&quot;).authenticated();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n      // our custom authentication provider\n      auth.authenticationProvider(new ApiKeyAuthenticationProvider());\n    }\n  }\n\n  @Configuration\n  @Order(2) // processed after our API Key bean config\n  public static class KeycloakSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n      KeycloakAuthenticationProvider provider = keycloakAuthenticationProvider();\n      provider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n      auth.authenticationProvider(provider);\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n      return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n      super.configure(http);\n\n      http.csrf().disable().authorizeRequests();\n      http.headers().frameOptions().disable();\n    }\n\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\n    @Bean\n    public FilterRegistrationBean keycloakAuthenticationProcessingFilterRegistrationBean(KeycloakAuthenticationProcessingFilter filter) {\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n      registrationBean.setEnabled(false);\n      return registrationBean;\n    }\n\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\n    @Bean\n    public FilterRegistrationBean keycloakPreAuthActionsFilterRegistrationBean(KeycloakPreAuthActionsFilter filter) {\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n      registrationBean.setEnabled(false);\n      return registrationBean;\n    }\n\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\n    @Bean\n    public FilterRegistrationBean keycloakAuthenticatedActionsFilterBean(\n            KeycloakAuthenticatedActionsFilter filter) {\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n      registrationBean.setEnabled(false);\n      return registrationBean;\n    }\n\n    // necessary due to http://www.keycloak.org/docs/latest/securing_apps/index.html#avoid-double-filter-bean-registration\n    @Bean\n    public FilterRegistrationBean keycloakSecurityContextRequestFilterBean(\n            KeycloakSecurityContextRequestFilter filter) {\n      FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n      registrationBean.setEnabled(false);\n      return registrationBean;\n    }\n\n\n    @Bean\n    @Scope(value = &quot;singleton&quot;)\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n\n      final KeycloakDeployment keycloakDeployment = KeycloakDeploymentBuilder.build(\n              KeycloakClient.default_client.toAdapterConfig()\n      );\n\n      return new KeycloakSpringBootConfigResolver() {\n\n        @Override\n        public KeycloakDeployment resolve(HttpFacade.Request request) {\n          return keycloakDeployment;\n        }\n\n      };\n    }\n  }\n}\n</code></pre>\n<p>Any idea what's been misconfigured? The fact that none of my code even runs yet breaks Keycloak is interesting.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","spring-boot-actuator"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635453545,"post_id":69760131,"comment_id":123310037,"body_markdown":"Does this answer your question? [Java Spring Boot - Change the Port of Actuator Health Endpoint to a Custom Port](https://stackoverflow.com/questions/61685392/java-spring-boot-change-the-port-of-actuator-health-endpoint-to-a-custom-port)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61685392/java-spring-boot-change-the-port-of-actuator-health-endpoint-to-a-custom-port\">Java Spring Boot - Change the Port of Actuator Health Endpoint to a Custom Port</a>"},{"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"score":0,"creation_date":1635460582,"post_id":69760131,"comment_id":123311993,"body_markdown":"@PiotrP.Karwasz If I don&#39;t use spring boot, can this help? If yes, can you tell me how to help spring find application.properties. In any case, thanks for the answer.","body":"@PiotrP.Karwasz If I don&#39;t use spring boot, can this help? If yes, can you tell me how to help spring find application.properties. In any case, thanks for the answer."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635482622,"post_id":69760131,"comment_id":123315500,"body_markdown":"_&quot;I don&#39;t use spring boot&quot;_: what do you mean by that (many classes and annotations in your code are from Spring Boot)? Does it mean you use an external Tomcat to deploy the application or do you have a custom class to start it?","body":"<i>&quot;I don&#39;t use spring boot&quot;</i>: what do you mean by that (many classes and annotations in your code are from Spring Boot)? Does it mean you use an external Tomcat to deploy the application or do you have a custom class to start it?"},{"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"score":0,"creation_date":1635490743,"post_id":69760131,"comment_id":123317312,"body_markdown":"@PiotrP.Karwasz Yes, I am using spring boot dependencies, but when adding application.propertis, nothing has changed","body":"@PiotrP.Karwasz Yes, I am using spring boot dependencies, but when adding application.propertis, nothing has changed"},{"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"score":0,"creation_date":1635492040,"post_id":69760131,"comment_id":123317734,"body_markdown":"But started getting an exception. `WARN  EndpointWebMvcAutoConfiguration.java:159 - Could not start embedded management container on different port (management endpoints are still available through JMX)`","body":"But started getting an exception. <code>WARN  EndpointWebMvcAutoConfiguration.java:159 - Could not start embedded management container on different port (management endpoints are still available through JMX)</code>"}],"answers":[{"tags":[],"owner":{"account_id":23153093,"reputation":74,"user_id":17254777,"display_name":"swabih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635456026,"creation_date":1635456026,"answer_id":69761075,"question_id":69760131,"body_markdown":"you can add the following to your application.properties file,\r\n\r\n    management.port=your_port  //eg: 8085","title":"Spring Boot Actuator for Spring MVC without Spring boot on another port","body":"<p>you can add the following to your application.properties file,</p>\n<pre><code>management.port=your_port  //eg: 8085\n</code></pre>\n"}],"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635459019,"creation_date":1635450798,"question_id":69760131,"body_markdown":"I want to set up the spring boot actuator for the spring MVC. And everything seems to be fine, but I need to output the actuator on a different port, which I can&#39;t do. Maybe someone came across this?\r\n\r\nDependencies:\r\n\r\n     org.springframework:spring-webmvc: 4.3.9.RELEASE\r\n\r\n     group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-actuator&#39;, version: &#39;1.5.4.RELEASE&#39;\r\n    \r\n     group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-catalina&#39;, version: &#39;8.5.15\r\n\r\nConfigurations:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = {\r\n            DataSourceAutoConfiguration.class,\r\n            FreeMarkerAutoConfiguration.class,\r\n            WebMvcAutoConfiguration.class\r\n    })\r\n    @ManagementContextConfiguration\r\n    @EnableWebMvc\r\n    public class MvcConfig extends WebMvcConfigurerAdapter {\r\n .\r\n\r\n    @Configuration\r\n    @Import({\r\n            EndpointAutoConfiguration.class,\r\n            EndpointWebMvcAutoConfiguration.class\r\n    })\r\n    public class ActuatorConfig {\r\n    \r\n        private final int SERVER_PORT = 9091;\r\n    \r\n        @Bean\r\n        public EmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory() {\r\n            return new TomcatEmbeddedServletContainerFactory(&quot;/actuator&quot;, SERVER_PORT);\r\n        }\r\n    \r\n        @Bean\r\n        public ManagementServerProperties managementServerProperties() {\r\n            ManagementServerProperties managementServerProperties = new ManagementServerProperties();\r\n            managementServerProperties.setPort(SERVER_PORT);\r\n            return managementServerProperties;\r\n        }\r\n    }\r\n\r\nThis code displays metrics, but i can not run metrics on another port.I also suspect this is due to the `EmbeddedWebApplicationContext.class`, but I do not quite understand how to configure it and get the server to start","title":"Spring Boot Actuator for Spring MVC without Spring boot on another port","body":"<p>I want to set up the spring boot actuator for the spring MVC. And everything seems to be fine, but I need to output the actuator on a different port, which I can't do. Maybe someone came across this?</p>\n<p>Dependencies:</p>\n<pre><code> org.springframework:spring-webmvc: 4.3.9.RELEASE\n\n group: 'org.springframework.boot', name: 'spring-boot-actuator', version: '1.5.4.RELEASE'\n\n group: 'org.apache.tomcat', name: 'tomcat-catalina', version: '8.5.15\n</code></pre>\n<p>Configurations:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = {\n        DataSourceAutoConfiguration.class,\n        FreeMarkerAutoConfiguration.class,\n        WebMvcAutoConfiguration.class\n})\n@ManagementContextConfiguration\n@EnableWebMvc\npublic class MvcConfig extends WebMvcConfigurerAdapter {\n</code></pre>\n<p>.</p>\n<pre><code>@Configuration\n@Import({\n        EndpointAutoConfiguration.class,\n        EndpointWebMvcAutoConfiguration.class\n})\npublic class ActuatorConfig {\n\n    private final int SERVER_PORT = 9091;\n\n    @Bean\n    public EmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory() {\n        return new TomcatEmbeddedServletContainerFactory(&quot;/actuator&quot;, SERVER_PORT);\n    }\n\n    @Bean\n    public ManagementServerProperties managementServerProperties() {\n        ManagementServerProperties managementServerProperties = new ManagementServerProperties();\n        managementServerProperties.setPort(SERVER_PORT);\n        return managementServerProperties;\n    }\n}\n</code></pre>\n<p>This code displays metrics, but i can not run metrics on another port.I also suspect this is due to the <code>EmbeddedWebApplicationContext.class</code>, but I do not quite understand how to configure it and get the server to start</p>\n"},{"tags":["java","sha256","payfort"],"answers":[{"tags":[],"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1592476057,"creation_date":1592476057,"answer_id":62447889,"question_id":62447057,"body_markdown":"So far: I found in the documentation an [important note][1]:\n\n&gt; NOTE! \n&gt;\n&gt;  In the columns parameter; you should:\n&gt;\n&gt; 1. Open brackets.\n&gt;\n&gt; 2. **Put a “comma” then a “space” between the columns value**.\n&gt;\n&gt; Example: columns=[acquirer_name, authorization_code, amount, bin_number] \n&gt;\n&gt;  In\n&gt; the filters parameter; you should:\n&gt;\n&gt; 1. Open brackets.\n&gt; 2. Then open a curly brackets.\n&gt; 3. Write the “key”\n&gt; 4. Put a “comma” then a “space.\n&gt; 5. Write the “value” of the key.\n\n\n  [1]: https://docs.payfort.com/pdf/PAYFORT_Merchant_Integration_Guide_V_8.8.pdf","title":"Payfort Signature mismatch","body":"<p>So far: I found in the documentation an <a href=\"https://docs.payfort.com/pdf/PAYFORT_Merchant_Integration_Guide_V_8.8.pdf\" rel=\"nofollow noreferrer\">important note</a>:</p>\n<blockquote>\n<p>NOTE!</p>\n<p> In the columns parameter; you should:</p>\n<ol>\n<li><p>Open brackets.</p>\n</li>\n<li><p><strong>Put a “comma” then a “space” between the columns value</strong>.</p>\n</li>\n</ol>\n<p>Example: columns=[acquirer_name, authorization_code, amount, bin_number]</p>\n<p> In\nthe filters parameter; you should:</p>\n<ol>\n<li>Open brackets.</li>\n<li>Then open a curly brackets.</li>\n<li>Write the “key”</li>\n<li>Put a “comma” then a “space.</li>\n<li>Write the “value” of the key.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635458943,"creation_date":1635458943,"answer_id":69761508,"question_id":62447057,"body_markdown":"payfort document talk about generate your signature in following link you can see it \r\n\r\n[signature document][1]\r\n\r\n\r\n  [1]: https://paymentservices-reference.payfort.com/docs/api/build/index.html#signature","title":"Payfort Signature mismatch","body":"<p>payfort document talk about generate your signature in following link you can see it</p>\n<p><a href=\"https://paymentservices-reference.payfort.com/docs/api/build/index.html#signature\" rel=\"nofollow noreferrer\">signature document</a></p>\n"}],"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62447889,"answer_count":2,"score":2,"last_activity_date":1635458943,"creation_date":1592473394,"question_id":62447057,"body_markdown":"I have this request body to generate report: \r\n\r\n    {\r\n    \t&quot;from_date&quot;:&quot;2020-06-17T00:00:01+03:00&quot;,\r\n    \t&quot;to_date&quot;:&quot;2020-06-18T10:59:59+03:00&quot;,\r\n    \t&quot;signature&quot;:&quot;df4c2bbbd5dd044036e11f26845a170b93249fd657339bf88b59b6340e2f****&quot;,\r\n    \t&quot;merchant_identifier&quot;:&quot;gGRRR***&quot;,\r\n    \t&quot;merchant_reference&quot;:&quot;1592472727964&quot;,\r\n    \t&quot;columns&quot;:[&quot;amount&quot;,&quot;card_number&quot;],\r\n    \t&quot;query_command&quot;:&quot;GENERATE_REPORT&quot;,\r\n    \t&quot;access_code&quot;:&quot;VYqRIJEhOHNFgDMbu***&quot;\r\n    }\r\n\r\nAnd I have my signature before signing as :\r\n\r\n    MYPASSaccess_code=VYqRIJEhOHNFgDMbu***columns=[amount,card_number]from_date=2020-06-17T00:00:01+03:00merchant_identifier=gGRRR***merchant_reference=1592472727964query_command=GENERATE_REPORTto_date=2020-06-18T10:59:59+03:00MYPASS\r\n\r\nSo its Hash256  = `df4c2bbbd5dd044036e11f26845a170b93249fd657339bf88b59b6340e2f****`\r\n\r\nBut the hash I have received in the response is:\r\n\r\n    1b3d301ff248ec0848eeb1376f4b4344e648cba60f18c63dcc9e939d6c83****\r\n\r\nWhat am I making wrong? May be something related to **date**?\r\n","title":"Payfort Signature mismatch","body":"<p>I have this request body to generate report: </p>\n\n<pre><code>{\n    \"from_date\":\"2020-06-17T00:00:01+03:00\",\n    \"to_date\":\"2020-06-18T10:59:59+03:00\",\n    \"signature\":\"df4c2bbbd5dd044036e11f26845a170b93249fd657339bf88b59b6340e2f****\",\n    \"merchant_identifier\":\"gGRRR***\",\n    \"merchant_reference\":\"1592472727964\",\n    \"columns\":[\"amount\",\"card_number\"],\n    \"query_command\":\"GENERATE_REPORT\",\n    \"access_code\":\"VYqRIJEhOHNFgDMbu***\"\n}\n</code></pre>\n\n<p>And I have my signature before signing as :</p>\n\n<pre><code>MYPASSaccess_code=VYqRIJEhOHNFgDMbu***columns=[amount,card_number]from_date=2020-06-17T00:00:01+03:00merchant_identifier=gGRRR***merchant_reference=1592472727964query_command=GENERATE_REPORTto_date=2020-06-18T10:59:59+03:00MYPASS\n</code></pre>\n\n<p>So its Hash256  = <code>df4c2bbbd5dd044036e11f26845a170b93249fd657339bf88b59b6340e2f****</code></p>\n\n<p>But the hash I have received in the response is:</p>\n\n<pre><code>1b3d301ff248ec0848eeb1376f4b4344e648cba60f18c63dcc9e939d6c83****\n</code></pre>\n\n<p>What am I making wrong? May be something related to <strong>date</strong>?</p>\n"},{"tags":["java","spring","spring-boot","servlets"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635458884,"creation_date":1635458884,"answer_id":69761497,"question_id":69760852,"body_markdown":"To check the String again we need to somehow store the randomly generated string. We can use cookies for this and if we do not want to use DB and we do not want to send the strings to the user then probably we can do it by using some in-memory DB or caching mechanism, so we can store them temporary unless its been verified and also we can apply some time constraint to delete the string from cache after some time. we have to maintain a record to track down the string for the specific request or user to verify it later.","title":"Spring - Connecting a response from one endpoint to a request to another endpoint","body":"<p>To check the String again we need to somehow store the randomly generated string. We can use cookies for this and if we do not want to use DB and we do not want to send the strings to the user then probably we can do it by using some in-memory DB or caching mechanism, so we can store them temporary unless its been verified and also we can apply some time constraint to delete the string from cache after some time. we have to maintain a record to track down the string for the specific request or user to verify it later.</p>\n"}],"owner":{"account_id":13894845,"reputation":355,"user_id":10031948,"display_name":"Emperor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635458884,"creation_date":1635454668,"question_id":69760852,"body_markdown":"I am facing a certain problem for which i do have some ways to solve, however i am interested if there are more optimal ways to do it. This is a real world problem, but for the purpose of this question i will simplify it.\r\n\r\nI have an endpoint called `/initialise-string` which will return a randomly generated string to the front-end. In the front-end, this string might or might not be changed, however it will be sent to another endpoint on the back-end called /`check-if-same-string` which will get the string and it needs to check if it is the same string that was previously returned from `/initialise-string`. So, this would be:\r\n\r\n**GET** `www.myapp.com/initialise-string` (front-end gets *asd-123*)\r\n\r\nfront-end changes string to *asd-555*\r\n\r\n**POST** `www.myapp.com/check-if-same-string` (should check if *asd-555* === *asd-123*)\r\n\r\nSince this question is for my educational purposes as well, if you can, please provide me answers assuming both if the app is using cookies and if it not using cookies, how you would solve it in each case. Saving to a DB is off limits. Sending both the old and new string back is off limits.\r\n\r\nI am looking forward to each answer! Let me know if my question is not clear enough.\r\n\r\nThank you!","title":"Spring - Connecting a response from one endpoint to a request to another endpoint","body":"<p>I am facing a certain problem for which i do have some ways to solve, however i am interested if there are more optimal ways to do it. This is a real world problem, but for the purpose of this question i will simplify it.</p>\n<p>I have an endpoint called <code>/initialise-string</code> which will return a randomly generated string to the front-end. In the front-end, this string might or might not be changed, however it will be sent to another endpoint on the back-end called /<code>check-if-same-string</code> which will get the string and it needs to check if it is the same string that was previously returned from <code>/initialise-string</code>. So, this would be:</p>\n<p><strong>GET</strong> <code>www.myapp.com/initialise-string</code> (front-end gets <em>asd-123</em>)</p>\n<p>front-end changes string to <em>asd-555</em></p>\n<p><strong>POST</strong> <code>www.myapp.com/check-if-same-string</code> (should check if <em>asd-555</em> === <em>asd-123</em>)</p>\n<p>Since this question is for my educational purposes as well, if you can, please provide me answers assuming both if the app is using cookies and if it not using cookies, how you would solve it in each case. Saving to a DB is off limits. Sending both the old and new string back is off limits.</p>\n<p>I am looking forward to each answer! Let me know if my question is not clear enough.</p>\n<p>Thank you!</p>\n"},{"tags":["java","parsing","try-catch","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635478023,"post_id":69761178,"comment_id":123314782,"body_markdown":"What do you want to happen in case the user entered an incorrect date and parsing fails? I suggest that letting the user either try again or cancel the creation of the employee would be a good avenue in most cases. If the `Employee` constructor requires a date and you haven’t been able to obtain a date, then you can’t create the employee, neither should you want to.","body":"What do you want to happen in case the user entered an incorrect date and parsing fails? I suggest that letting the user either try again or cancel the creation of the employee would be a good avenue in most cases. If the <code>Employee</code> constructor requires a date and you haven’t been able to obtain a date, then you can’t create the employee, neither should you want to."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635478201,"post_id":69761178,"comment_id":123314817,"body_markdown":"I strongly recommend that you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. If that’s a date of birth or a hire date, use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend that you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. If that’s a date of birth or a hire date, use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635478324,"post_id":69761178,"comment_id":123314840,"body_markdown":"A simple solution is to move the creation of the `Employee` object inside the `try` part. Then it will only be created after successful parsing.","body":"A simple solution is to move the creation of the <code>Employee</code> object inside the <code>try</code> part. Then it will only be created after successful parsing."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635479189,"post_id":69761178,"comment_id":123314978,"body_markdown":"Friend Stackers, I think that what would help mak95 the best would be an example of how to take user input and parse into a `LocalDate` in a loop until a valid date is entered. Who can find such an example? It’s gotta be somewhere on Stack Overflow and/or elsewhere.","body":"Friend Stackers, I think that what would help mak95 the best would be an example of how to take user input and parse into a <code>LocalDate</code> in a loop until a valid date is entered. Who can find such an example? It’s gotta be somewhere on Stack Overflow and/or elsewhere."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635488406,"post_id":69761178,"comment_id":123316649,"body_markdown":"There’s a similar question here: [do while loop.. to proceed if correct input is given](https://stackoverflow.com/questions/15998135/do-while-loop-to-proceed-if-correct-input-is-given).","body":"There’s a similar question here: <a href=\"https://stackoverflow.com/questions/15998135/do-while-loop-to-proceed-if-correct-input-is-given\">do while loop.. to proceed if correct input is given</a>."},{"owner":{"account_id":23036128,"reputation":21,"user_id":17154865,"display_name":"mak95"},"score":0,"creation_date":1635642714,"post_id":69761178,"comment_id":123350229,"body_markdown":"@OleV.V. thank you so much for all your feedback. I&#39;m new to java and programming so this is helpful.","body":"@OleV.V. thank you so much for all your feedback. I&#39;m new to java and programming so this is helpful."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635457306,"creation_date":1635456996,"answer_id":69761228,"question_id":69761178,"body_markdown":"You need to define the variable outside the try scope, then use it from inside. This code will work to your expectation:\r\n\r\n    String stringDate = sc.next();\r\n    SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    Date date = null;        \r\n   \r\n    try {\r\n        date = dateFormatter.parse(stringDate);\r\n    } catch(ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    e = new Employee(id, login, salary, date, name); \r\n\r\nYou need to watch out now as while you create the new employee the date might be null. Therefore you might even go one step further and do that only if the date is not null. But in the snippet you have here the variable e is not defined anyway (or just used in the catch block).\r\n\r\n    String stringDate = sc.next();\r\n    SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n   \r\n    try {\r\n        Date date = dateFormatter.parse(stringDate);\r\n        e = new Employee(id, login, salary, date, name); \r\n    } catch(ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Java Scope Issues: try-catch block, parsing String to Date","body":"<p>You need to define the variable outside the try scope, then use it from inside. This code will work to your expectation:</p>\n<pre><code>String stringDate = sc.next();\nSimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\nDate date = null;        \n\ntry {\n    date = dateFormatter.parse(stringDate);\n} catch(ParseException e) {\n    e.printStackTrace();\n}\n\ne = new Employee(id, login, salary, date, name); \n</code></pre>\n<p>You need to watch out now as while you create the new employee the date might be null. Therefore you might even go one step further and do that only if the date is not null. But in the snippet you have here the variable e is not defined anyway (or just used in the catch block).</p>\n<pre><code>String stringDate = sc.next();\nSimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n\ntry {\n    Date date = dateFormatter.parse(stringDate);\n    e = new Employee(id, login, salary, date, name); \n} catch(ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":23036128,"reputation":21,"user_id":17154865,"display_name":"mak95"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635458373,"accepted_answer_id":69761228,"answer_count":1,"score":-1,"last_activity_date":1635458476,"creation_date":1635456685,"question_id":69761178,"body_markdown":"I&#39;m trying to convert a String to a Date variable in Java. To attempt to do so I&#39;m trying a parse approach, which needs a try-catch block, but I&#39;m having scope issues. The variable &quot;date&quot; in my Employee constructor isn&#39;t receiving the date, due to the date being in the try block. I receive the error:  &quot;date cannot be resolved to a variable&quot;. -- Please let me know your thoughts, or if I can convert the string to Date in an easier way. Thank you!\r\n\r\n/*Code Snippet*/\r\n\t    \t   \r\n\t    \t   String stringDate = sc.next();\r\n\t    \t   SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\t    \t   \r\n\t    \t   try {\r\n\t    \t\t   Date date = dateFormatter.parse(stringDate);\r\n\t    \t\t   \r\n\t    \t   }catch(ParseException e) {e.printStackTrace();}\r\n\t    \t \r\n\r\n\t    \t   e = new Employee(id, login, salary, date, name); \r\n","title":"Java Scope Issues: try-catch block, parsing String to Date","body":"<p>I'm trying to convert a String to a Date variable in Java. To attempt to do so I'm trying a parse approach, which needs a try-catch block, but I'm having scope issues. The variable &quot;date&quot; in my Employee constructor isn't receiving the date, due to the date being in the try block. I receive the error:  &quot;date cannot be resolved to a variable&quot;. -- Please let me know your thoughts, or if I can convert the string to Date in an easier way. Thank you!</p>\n<p>/<em>Code Snippet</em>/</p>\n<pre><code>           String stringDate = sc.next();\n           SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n           \n           try {\n               Date date = dateFormatter.parse(stringDate);\n               \n           }catch(ParseException e) {e.printStackTrace();}\n         \n\n           e = new Employee(id, login, salary, date, name); \n</code></pre>\n"},{"tags":["java","scala","dataframe","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":4596281,"reputation":1418,"user_id":3728233,"accept_rate":100,"display_name":"sbrk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634353973,"creation_date":1634353973,"answer_id":69592356,"question_id":69589491,"body_markdown":"Lets call your original dataframe `df`. You can extract the information you want like this\r\n```\r\nimport org.apache.spark.sql.functions.sql.col\r\n\r\nval data = df\r\n  .select(&quot;tags&quot;)\r\n  .where(\r\n    df(&quot;tags&quot;)(&quot;key&quot;) isin (List(&quot;place&quot;, &quot;population&quot;): _*)\r\n  )\r\n  .select(\r\n    col(&quot;tags&quot;)(&quot;value&quot;)\r\n  )\r\n  .collect()\r\n  .toList\r\n```\r\n\r\nThis will give you a `List[Row]` which can be converted to another dataframe with your schema\r\n```\r\nimport scala.collection.JavaConversions.seqAsJavaList\r\n\r\nsparkSession.createDataFrame(seqAsJavaList[Row](data), schema)\r\n```","title":"Create new dataframe from selected information from another datama","body":"<p>Lets call your original dataframe <code>df</code>. You can extract the information you want like this</p>\n<pre><code>import org.apache.spark.sql.functions.sql.col\n\nval data = df\n  .select(&quot;tags&quot;)\n  .where(\n    df(&quot;tags&quot;)(&quot;key&quot;) isin (List(&quot;place&quot;, &quot;population&quot;): _*)\n  )\n  .select(\n    col(&quot;tags&quot;)(&quot;value&quot;)\n  )\n  .collect()\n  .toList\n</code></pre>\n<p>This will give you a <code>List[Row]</code> which can be converted to another dataframe with your schema</p>\n<pre><code>import scala.collection.JavaConversions.seqAsJavaList\n\nsparkSession.createDataFrame(seqAsJavaList[Row](data), schema)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16048024,"reputation":1160,"user_id":11582682,"display_name":"Jarrod Baker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634388923,"creation_date":1634388923,"answer_id":69595781,"question_id":69589491,"body_markdown":"Given the following simplified input:\r\n```scala \r\nval df = Seq(\r\n  (1L, Map(&quot;place&quot; -&gt; &quot;home&quot;, &quot;population&quot; -&gt; &quot;1&quot;, &quot;name&quot; -&gt; &quot;foo&quot;)),\r\n  (2L, Map(&quot;place&quot; -&gt; &quot;home&quot;, &quot;population&quot; -&gt; &quot;4&quot;, &quot;name&quot; -&gt; &quot;foo&quot;)),\r\n  (3L, Map(&quot;population&quot; -&gt; &quot;3&quot;)),\r\n  (4L, Map.empty[String, String])\r\n).toDF(&quot;id&quot;, &quot;tags&quot;)\r\n```\r\nYou want to select the values using methods `map_filter` to filter the map to only contain the key you want, then call `map_values` to get those entries. `map_values` returns an array, so you need to use `explode_outer` to flatten the data. We use `explode_outer` here because you might have entries which have neither place nor population, or only one of the two. Once the data is in a form we can easily work with, we just select the fields we want in the desired structure. \r\n\r\nI&#39;ve left the `id` column in so when you run the example you can see that we don&#39;t drop entries with missing data. \r\n```scala\r\n\r\nval r = df.select(\r\n    col(&quot;id&quot;),\r\n    explode_outer(map_values(map_filter(col(&quot;tags&quot;), (k,_) =&gt; k === &quot;place&quot;))) as &quot;place&quot;,\r\n    map_values(map_filter(col(&quot;tags&quot;), (k,_) =&gt; k === &quot;population&quot;)) as &quot;population&quot;\r\n  ).withColumn(&quot;population&quot;, explode_outer(col(&quot;population&quot;)))\r\n  .select(\r\n    col(&quot;id&quot;),\r\n    array(\r\n      struct(\r\n        col(&quot;place&quot;),\r\n        col(&quot;population&quot;) cast LongType as &quot;population&quot;\r\n      ) as &quot;place_and_population&quot;\r\n    ) as &quot;data&quot;\r\n  )\r\n```\r\nGives:\r\n\r\n```\r\nroot\r\n |-- id: long (nullable = false)\r\n |-- data: array (nullable = false)\r\n |    |-- element: struct (containsNull = false)\r\n |    |    |-- place: string (nullable = true)\r\n |    |    |-- population: long (nullable = true)\r\n\r\n+---+--------------+\r\n| id|          data|\r\n+---+--------------+\r\n|  1|   [{home, 1}]|\r\n|  2|   [{home, 4}]|\r\n|  3|   [{null, 3}]|\r\n|  4|[{null, null}]|\r\n+---+--------------+\r\n```","title":"Create new dataframe from selected information from another datama","body":"<p>Given the following simplified input:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val df = Seq(\n  (1L, Map(&quot;place&quot; -&gt; &quot;home&quot;, &quot;population&quot; -&gt; &quot;1&quot;, &quot;name&quot; -&gt; &quot;foo&quot;)),\n  (2L, Map(&quot;place&quot; -&gt; &quot;home&quot;, &quot;population&quot; -&gt; &quot;4&quot;, &quot;name&quot; -&gt; &quot;foo&quot;)),\n  (3L, Map(&quot;population&quot; -&gt; &quot;3&quot;)),\n  (4L, Map.empty[String, String])\n).toDF(&quot;id&quot;, &quot;tags&quot;)\n</code></pre>\n<p>You want to select the values using methods <code>map_filter</code> to filter the map to only contain the key you want, then call <code>map_values</code> to get those entries. <code>map_values</code> returns an array, so you need to use <code>explode_outer</code> to flatten the data. We use <code>explode_outer</code> here because you might have entries which have neither place nor population, or only one of the two. Once the data is in a form we can easily work with, we just select the fields we want in the desired structure.</p>\n<p>I've left the <code>id</code> column in so when you run the example you can see that we don't drop entries with missing data.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>\nval r = df.select(\n    col(&quot;id&quot;),\n    explode_outer(map_values(map_filter(col(&quot;tags&quot;), (k,_) =&gt; k === &quot;place&quot;))) as &quot;place&quot;,\n    map_values(map_filter(col(&quot;tags&quot;), (k,_) =&gt; k === &quot;population&quot;)) as &quot;population&quot;\n  ).withColumn(&quot;population&quot;, explode_outer(col(&quot;population&quot;)))\n  .select(\n    col(&quot;id&quot;),\n    array(\n      struct(\n        col(&quot;place&quot;),\n        col(&quot;population&quot;) cast LongType as &quot;population&quot;\n      ) as &quot;place_and_population&quot;\n    ) as &quot;data&quot;\n  )\n</code></pre>\n<p>Gives:</p>\n<pre><code>root\n |-- id: long (nullable = false)\n |-- data: array (nullable = false)\n |    |-- element: struct (containsNull = false)\n |    |    |-- place: string (nullable = true)\n |    |    |-- population: long (nullable = true)\n\n+---+--------------+\n| id|          data|\n+---+--------------+\n|  1|   [{home, 1}]|\n|  2|   [{home, 4}]|\n|  3|   [{null, 3}]|\n|  4|[{null, null}]|\n+---+--------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635458421,"creation_date":1635458421,"answer_id":69761432,"question_id":69589491,"body_markdown":"You can directly apply desired key on column of type map to extract value, then cast and rename column as you wish as follows:\r\n\r\n```scala\r\nimport org.apache.spark.sql.functions.col\r\nimport org.apache.spark.sql.types.LongType\r\n\r\nval result = dataframe.select(\r\n  col(&quot;tags&quot;)(&quot;place&quot;).as(&quot;place&quot;),\r\n  col(&quot;tags&quot;)(&quot;population&quot;).cast(LongType).as(&quot;population&quot;)\r\n)\r\n```\r\nWith the following `tags` column:\r\n\r\n```\r\n+------------------------------------------------+\r\n|tags                                            |\r\n+------------------------------------------------+\r\n|{place -&gt; A, population -&gt; 32, another_key -&gt; X}|\r\n|{place -&gt; B, population -&gt; 64, another_key -&gt; Y}|\r\n+------------------------------------------------+\r\n```\r\n\r\nYou get the following result:\r\n\r\n```\r\n+-----+----------+\r\n|place|population|\r\n+-----+----------+\r\n|A    |32        |\r\n|B    |64        |\r\n+-----+----------+\r\n```\r\n\r\nHaving the following schema:\r\n\r\n```\r\nroot\r\n |-- place: string (nullable = true)\r\n |-- population: long (nullable = true)\r\n```","title":"Create new dataframe from selected information from another datama","body":"<p>You can directly apply desired key on column of type map to extract value, then cast and rename column as you wish as follows:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.functions.col\nimport org.apache.spark.sql.types.LongType\n\nval result = dataframe.select(\n  col(&quot;tags&quot;)(&quot;place&quot;).as(&quot;place&quot;),\n  col(&quot;tags&quot;)(&quot;population&quot;).cast(LongType).as(&quot;population&quot;)\n)\n</code></pre>\n<p>With the following <code>tags</code> column:</p>\n<pre><code>+------------------------------------------------+\n|tags                                            |\n+------------------------------------------------+\n|{place -&gt; A, population -&gt; 32, another_key -&gt; X}|\n|{place -&gt; B, population -&gt; 64, another_key -&gt; Y}|\n+------------------------------------------------+\n</code></pre>\n<p>You get the following result:</p>\n<pre><code>+-----+----------+\n|place|population|\n+-----+----------+\n|A    |32        |\n|B    |64        |\n+-----+----------+\n</code></pre>\n<p>Having the following schema:</p>\n<pre><code>root\n |-- place: string (nullable = true)\n |-- population: long (nullable = true)\n</code></pre>\n"}],"owner":{"account_id":19769417,"reputation":93,"user_id":14476690,"display_name":"EnesK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69761432,"answer_count":3,"score":1,"last_activity_date":1635458421,"creation_date":1634324709,"question_id":69589491,"body_markdown":"I have a dataframe with the following schema:\r\n```\r\nroot\r\n |-- id: long (nullable = true)\r\n |-- type: string (nullable = true)\r\n |-- tags: map (nullable = true)\r\n |    |-- key: string\r\n |    |-- value: string (valueContainsNull = true)\r\n |-- lat: Long (nullable = true)\r\n |-- lon: Long (nullable = true)\r\n |-- nds: array (nullable = true)\r\n |    |-- element: struct (containsNull = true)\r\n |    |    |-- ref: long (nullable = true)\r\n |-- members: array (nullable = true)\r\n |    |-- element: struct (containsNull = true)\r\n |    |    |-- type: string (nullable = true)\r\n |    |    |-- ref: long (nullable = true)\r\n |    |    |-- role: string (nullable = true)\r\n```\r\n\r\nI want to create a new dataframe ```res``` where I select specific data from the column ```tags```. I need the ```values``` from ```key=place``` and ```key=population```. The new dataframe should have the following schema:\r\n\r\n```\r\nval schema = StructType(\r\n               Array(\r\n                 StructField(&quot;place&quot;, StringType),\r\n                 StructField(&quot;population&quot;, LongType)\r\n               )\r\n             )\r\n```\r\n\r\nI have litteraly no idea how I to do this. I tried to replicate the first dataframe and then select the columns, but that didnt work.\r\n\r\nAnyone has a solution?","title":"Create new dataframe from selected information from another datama","body":"<p>I have a dataframe with the following schema:</p>\n<pre><code>root\n |-- id: long (nullable = true)\n |-- type: string (nullable = true)\n |-- tags: map (nullable = true)\n |    |-- key: string\n |    |-- value: string (valueContainsNull = true)\n |-- lat: Long (nullable = true)\n |-- lon: Long (nullable = true)\n |-- nds: array (nullable = true)\n |    |-- element: struct (containsNull = true)\n |    |    |-- ref: long (nullable = true)\n |-- members: array (nullable = true)\n |    |-- element: struct (containsNull = true)\n |    |    |-- type: string (nullable = true)\n |    |    |-- ref: long (nullable = true)\n |    |    |-- role: string (nullable = true)\n</code></pre>\n<p>I want to create a new dataframe <code>res</code> where I select specific data from the column <code>tags</code>. I need the <code>values</code> from <code>key=place</code> and <code>key=population</code>. The new dataframe should have the following schema:</p>\n<pre><code>val schema = StructType(\n               Array(\n                 StructField(&quot;place&quot;, StringType),\n                 StructField(&quot;population&quot;, LongType)\n               )\n             )\n</code></pre>\n<p>I have litteraly no idea how I to do this. I tried to replicate the first dataframe and then select the columns, but that didnt work.</p>\n<p>Anyone has a solution?</p>\n"},{"tags":["java","android","java-native-interface","android-alertdialog","jnienv"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1635459614,"post_id":69761427,"comment_id":123311777,"body_markdown":"&quot;I have a scenario when my JNI is calling a Java method in order to display a dialog with two options, and the option should be passed back to the JNI method&quot; -- sorry, but that is not how Android&#39;s UI works. &quot;I think it should be some sort of a callback&quot; -- yes. &quot;but I have not idea how to approach it with C++&quot; -- add another exported JNI function, and call it once you have your input from the user.","body":"&quot;I have a scenario when my JNI is calling a Java method in order to display a dialog with two options, and the option should be passed back to the JNI method&quot; -- sorry, but that is not how Android&#39;s UI works. &quot;I think it should be some sort of a callback&quot; -- yes. &quot;but I have not idea how to approach it with C++&quot; -- add another exported JNI function, and call it once you have your input from the user."}],"owner":{"account_id":14147270,"reputation":55,"user_id":10220258,"display_name":"Palantiir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1636033627,"answer_count":0,"score":1,"last_activity_date":1635458402,"creation_date":1635458402,"question_id":69761427,"body_markdown":"I have a scenario when my JNI is calling a Java method in order to display a dialog with two options, and the option should be passed back to the JNI method.\r\n\r\nI think it should be some sort of a callback, but I have not idea how to approach it with C++.\r\n\r\nHere is my code so far:\r\n\r\n**JniUtil.c**\r\n\r\n    short GetOption(){\r\n    JNIEnv *env = GetEnv();\r\n    jclass clazz = (*env)-&gt;FindClass(env, &quot;com/myapp/main/appJNI&quot;);\r\n    jmethodID getMethodId = (*env)-&gt;GetMethodID(env, clazz, &quot;getSelectedOption&quot;, &quot;()S&quot;);\r\n    jobject obj = GetEnvObject(MAIN_ACTIVITY_CLASS_ID);\r\n\r\n    jshort result = (*env)-&gt;CallShortMethod(env, obj, getMethodId);\r\n    return result;\r\n    }\r\n\r\n\r\n**appJNI.java**\r\n\r\n    private short getSelectedOption(Context context) { \r\n    AlertDialog alertDialog = new AlertDialog.Builder(context).create(); //Use context\r\n    alertDialog.setTitle(&quot;Title&quot;);\r\n    alertDialog.setMessage(&quot;What is your option?&quot;);\r\n    alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n            new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    dialog.dismiss(); \r\n                    return 1;\r\n                }\r\n            });\r\n    alertDialog.show();\r\n    }\r\n\r\nProblem is that the method must return a value, and not waiting for the dialog.","title":"JNI calling Android dialog, waiting for user choice","body":"<p>I have a scenario when my JNI is calling a Java method in order to display a dialog with two options, and the option should be passed back to the JNI method.</p>\n<p>I think it should be some sort of a callback, but I have not idea how to approach it with C++.</p>\n<p>Here is my code so far:</p>\n<p><strong>JniUtil.c</strong></p>\n<pre><code>short GetOption(){\nJNIEnv *env = GetEnv();\njclass clazz = (*env)-&gt;FindClass(env, &quot;com/myapp/main/appJNI&quot;);\njmethodID getMethodId = (*env)-&gt;GetMethodID(env, clazz, &quot;getSelectedOption&quot;, &quot;()S&quot;);\njobject obj = GetEnvObject(MAIN_ACTIVITY_CLASS_ID);\n\njshort result = (*env)-&gt;CallShortMethod(env, obj, getMethodId);\nreturn result;\n}\n</code></pre>\n<p><strong>appJNI.java</strong></p>\n<pre><code>private short getSelectedOption(Context context) { \nAlertDialog alertDialog = new AlertDialog.Builder(context).create(); //Use context\nalertDialog.setTitle(&quot;Title&quot;);\nalertDialog.setMessage(&quot;What is your option?&quot;);\nalertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\n        new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.dismiss(); \n                return 1;\n            }\n        });\nalertDialog.show();\n}\n</code></pre>\n<p>Problem is that the method must return a value, and not waiting for the dialog.</p>\n"},{"tags":["java","spring-boot","caffeine-cache"],"answers":[{"tags":[],"owner":{"account_id":15732752,"reputation":281,"user_id":11352672,"display_name":"Avik Kesari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635458094,"creation_date":1635456629,"answer_id":69761164,"question_id":69760764,"body_markdown":"Updating the answer after comment by Ben Manes.\r\nYou can use `@Cacheable` with Spring Boot Cache Manager for reactive [Spring Webflux][1] but underneath the hoods values are stored in synchronous cache.  Here is an example\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    public class GatewayApplication {\r\n    \r\n     @PostMapping(value =&quot;/test&quot;, produces = &quot;application/json&quot;)\r\n     public Flux&lt;String&gt; handleRequest(@RequestBody String body) {\r\n        return getData(body);\r\n     }\r\n    \r\n     @Cacheable(&quot;cache&quot;)\r\n     private Flux&lt;String&gt; getData(String body) {\r\n        return WebClient.create().post()\r\n                .uri(&quot;http://myurl&quot;)\r\n                .body(BodyInserters.fromObject(body))\r\n                .retrieve().bodyToFlux(String.class).cache();\r\n     }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\r\n\r\nAs you can see in above example, its using Spring Webflux(Project reactor) and `@Cacheable` method returns Flux&lt;String&gt; which is async.\r\n\r\nYou can use `AsyncCache` directly if you want reactive cache as it stores `CompleteableFutures`\r\n","title":"Caffeine async cache wih Spring Boot CacheManager","body":"<p>Updating the answer after comment by Ben Manes.\nYou can use <code>@Cacheable</code> with Spring Boot Cache Manager for reactive <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\" rel=\"nofollow noreferrer\">Spring Webflux</a> but underneath the hoods values are stored in synchronous cache.  Here is an example</p>\n<pre><code>@RestController\n@SpringBootApplication\n@EnableCaching\npublic class GatewayApplication {\n\n @PostMapping(value =&quot;/test&quot;, produces = &quot;application/json&quot;)\n public Flux&lt;String&gt; handleRequest(@RequestBody String body) {\n    return getData(body);\n }\n\n @Cacheable(&quot;cache&quot;)\n private Flux&lt;String&gt; getData(String body) {\n    return WebClient.create().post()\n            .uri(&quot;http://myurl&quot;)\n            .body(BodyInserters.fromObject(body))\n            .retrieve().bodyToFlux(String.class).cache();\n }\n}\n</code></pre>\n<p>As you can see in above example, its using Spring Webflux(Project reactor) and <code>@Cacheable</code> method returns Flux which is async.</p>\n<p>You can use <code>AsyncCache</code> directly if you want reactive cache as it stores <code>CompleteableFutures</code></p>\n"}],"owner":{"account_id":114568,"reputation":1048,"user_id":301189,"accept_rate":69,"display_name":"B&#233;atrice Cassistat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635458094,"creation_date":1635454178,"question_id":69760764,"body_markdown":"I am trying to use Spring Boot `CacheManager` with Caffeine and some `@Cacheable` annotated functions. In our tests, asynchronous calls to our controllers endpoints are having issues that seem to be related to the fact that we were using a non-asynchronous cache.\r\n\r\nWhile doing some research, I have seen a lot of examples of using Caffeine manually with `CompletableFuture`, but could not found nothing with `AsyncCacheLoader` and Spring Boot `CacheManager` and `@Cacheable` annotation. It looks like `Cache` and `AsyncCache` have very distinct APIs. Is this possible to use the default Spring Boot `CacheManager` asynchronously?\r\n\r\nThanks!","title":"Caffeine async cache wih Spring Boot CacheManager","body":"<p>I am trying to use Spring Boot <code>CacheManager</code> with Caffeine and some <code>@Cacheable</code> annotated functions. In our tests, asynchronous calls to our controllers endpoints are having issues that seem to be related to the fact that we were using a non-asynchronous cache.</p>\n<p>While doing some research, I have seen a lot of examples of using Caffeine manually with <code>CompletableFuture</code>, but could not found nothing with <code>AsyncCacheLoader</code> and Spring Boot <code>CacheManager</code> and <code>@Cacheable</code> annotation. It looks like <code>Cache</code> and <code>AsyncCache</code> have very distinct APIs. Is this possible to use the default Spring Boot <code>CacheManager</code> asynchronously?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1635449099,"post_id":69759337,"comment_id":123308571,"body_markdown":"Help with what? You haven&#39;t described a problem.","body":"Help with what? You haven&#39;t described a problem."},{"owner":{"account_id":17813112,"reputation":89,"user_id":12937244,"display_name":"AwsAnurag"},"score":0,"creation_date":1635455059,"post_id":69759337,"comment_id":123310551,"body_markdown":"@GaryRussell Thanks for your response. Apologies, the issue is that the package is unable to construct the Kafka producer. Please refer to the Kafka producer log at the very top of my question.","body":"@GaryRussell Thanks for your response. Apologies, the issue is that the package is unable to construct the Kafka producer. Please refer to the Kafka producer log at the very top of my question."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635513936,"post_id":69759337,"comment_id":123325806,"body_markdown":"You should use the json/Avro/Protobuf serializers to send an encoded list. There&#39;s no need to write your own. Especially, you shouldn&#39;t use Java specific object byte formats","body":"You should use the json/Avro/Protobuf serializers to send an encoded list. There&#39;s no need to write your own. Especially, you shouldn&#39;t use Java specific object byte formats"},{"owner":{"account_id":17813112,"reputation":89,"user_id":12937244,"display_name":"AwsAnurag"},"score":0,"creation_date":1635525052,"post_id":69759337,"comment_id":123330539,"body_markdown":"@OneCricketeer Thanks. Sorry but I am not familiar with Avro/Protobuf serializers. Could you please share a few examples?","body":"@OneCricketeer Thanks. Sorry but I am not familiar with Avro/Protobuf serializers. Could you please share a few examples?"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635457455,"creation_date":1635457455,"answer_id":69761301,"question_id":69759337,"body_markdown":"Kafka can only create serializers with a no argument constructor. For more complex objects you have to construct them yourself and pass into the default producer factory via a constructor or setter.","title":"Exception found.....org.apache.kafka.common.KafkaException: Failed to construct kafka producer using custom object Serializer","body":"<p>Kafka can only create serializers with a no argument constructor. For more complex objects you have to construct them yourself and pass into the default producer factory via a constructor or setter.</p>\n"}],"owner":{"account_id":17813112,"reputation":89,"user_id":12937244,"display_name":"AwsAnurag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635457455,"creation_date":1635446507,"question_id":69759337,"body_markdown":"I have written a spring-kafka package using spring boot to send messages to a Kafka topic with &quot;Key&quot; as String and &quot;Arraylist&lt;Custom Object&gt;&quot; as Value. &quot;Custom Object&quot; is a class having attributes item id, item name, and item ordered count. \r\n\r\nKafka Producer log shown below.\r\n```\r\n2021-10-29 00:09:34.147  INFO 16496 --- [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \r\n\tacks = 1\r\n\tbatch.size = 16384\r\n\tbootstrap.servers = [172.26.77.192:9092]\r\n\tbuffer.memory = 33554432\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = producer-1\r\n\tcompression.type = none\r\n\tconnections.max.idle.ms = 540000\r\n\tdelivery.timeout.ms = 120000\r\n\tenable.idempotence = false\r\n\tinterceptor.classes = []\r\n\tinternal.auto.downgrade.txn.commit = true\r\n\tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n\tlinger.ms = 0\r\n\tmax.block.ms = 60000\r\n\tmax.in.flight.requests.per.connection = 5\r\n\tmax.request.size = 1048576\r\n\tmetadata.max.age.ms = 300000\r\n\tmetadata.max.idle.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n\treceive.buffer.bytes = 32768\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 2147483647\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.mechanism = GSSAPI\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 127000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\ttransaction.timeout.ms = 60000\r\n\ttransactional.id = null\r\n\tvalue.serializer = class io.springbootlearn.orders.customerorders.util.kafkaProducer.KafkaArrayListSerializer\r\n\r\n2021-10-29 00:09:34.180  INFO 16496 --- [           main] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms.\r\n2021-10-29 00:09:34.180  INFO 16496 --- [           main] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed\r\n2021-10-29 00:09:34.180  INFO 16496 --- [           main] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter\r\n2021-10-29 00:09:34.181  INFO 16496 --- [           main] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed\r\n2021-10-29 00:09:34.182  INFO 16496 --- [           main] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered\r\n2021-10-29 00:09:34.182 DEBUG 16496 --- [           main] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Kafka producer has been closed\r\nProcessOrders: Exception found.....org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n```\r\n\r\nI have written a custom serializer as shown below.\r\n```\r\npackage io.springbootlearn.orders.customerorders.util.kafkaProducer;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\n\r\nimport org.apache.kafka.common.serialization.Serde;\r\nimport org.apache.kafka.common.serialization.Serializer;\r\n\r\nimport io.springbootlearn.orders.customerorders.models.UpdateItemCount;\r\n\r\npublic class KafkaArrayListSerializer&lt;UpdateItemCount&gt; implements Serializer&lt;ArrayList&lt;UpdateItemCount&gt;&gt;{\r\n\t\r\n\tprivate final Serializer&lt;UpdateItemCount&gt; arrayListSerializer;\r\n\t\r\n\tpublic KafkaArrayListSerializer(final Serializer&lt;UpdateItemCount&gt; paramArrayListSerializer) {\r\n\t\tSystem.out.println(&quot;KafkaArrayListSerializer: Inside constructor.......&quot;);\r\n\t\tthis.arrayListSerializer = paramArrayListSerializer;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic byte[] serialize(String topic, ArrayList&lt;UpdateItemCount&gt; customerOrderData) {\r\n\t\tSystem.out.println(&quot;KafkaArrayListSerializer: Inside serialize.......&quot;);\r\n\t\tSystem.out.println(&quot;Topic name.......&quot;+topic);\r\n\t\t\r\n\t\tint dataSize = customerOrderData.size();\r\n\t\tSystem.out.println(&quot;dataSize.......&quot;+dataSize);\r\n\t\t\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tDataOutputStream out = new DataOutputStream(baos);\r\n\t\tIterator&lt;UpdateItemCount&gt; arrayListIter = customerOrderData.iterator();\r\n\t\ttry {\r\n\t\t\tout.writeInt(dataSize);\r\n\t\t\twhile (arrayListIter.hasNext()) {\r\n\t\t\t\tfinal byte[] customerOrderDataToBytes =  arrayListSerializer.serialize(topic, arrayListIter.next());\r\n\t\t\t\tout.writeInt(customerOrderDataToBytes.length);\r\n\t\t\t\tout.write(customerOrderDataToBytes);\r\n\t\t\t}\r\n\t\t\tout.close();\r\n\t\t} catch(IOException e) {\r\n\t\t\tthrow new RuntimeException(&quot;unable to serialize ArrayList&quot;, e);\r\n\t\t}\r\n\t\t\r\n\t\treturn baos.toByteArray();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe Serde class for &quot;Arraylist&lt;Custom Object&gt;&quot; is shown below.\r\n\r\n```\r\npackage io.springbootlearn.orders.customerorders.util.kafkaProducer;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.apache.kafka.common.serialization.Deserializer;\r\nimport org.apache.kafka.common.serialization.Serde;\r\nimport org.apache.kafka.common.serialization.Serdes;\r\nimport org.apache.kafka.common.serialization.Serializer;\r\n\r\npublic class ArrayListSerde&lt;T&gt; implements Serde&lt;ArrayList&lt;T&gt;&gt;{\r\n\t\r\n\tprivate final Serde&lt;ArrayList&lt;T&gt;&gt; arrayListSerdeObj;\r\n\t\r\n\tpublic ArrayListSerde(final Serde&lt;T&gt; SerdeObj) {\r\n\t\tthis.arrayListSerdeObj = Serdes.serdeFrom(new KafkaArrayListSerializer&lt;&gt;(SerdeObj.serializer())\r\n\t\t\t\t                                 , new KafkaArrayListDeserializer&lt;&gt;(SerdeObj.deserializer()));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Serializer&lt;ArrayList&lt;T&gt;&gt; serializer() {\r\n\t\tSystem.out.println(&quot;ArrayListSerde: Inside Serializer.......&quot;);\r\n\t\treturn arrayListSerdeObj.serializer();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Deserializer&lt;ArrayList&lt;T&gt;&gt; deserializer() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\t  public void close() {\r\n\t\tarrayListSerdeObj.serializer().close();\r\n\t  }\r\n\r\n}\r\n\r\n```\r\nThe Kafka Producer service code is show below:-\r\n\r\n```\r\npackage io.springbootlearn.orders.customerorders.util.kafkaProducer;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.core.KafkaProducerException;\r\nimport org.springframework.kafka.core.KafkaSendCallback;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.support.ProducerListener;\r\nimport org.springframework.kafka.support.SendResult;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.concurrent.ListenableFuture;\r\nimport org.springframework.util.concurrent.ListenableFutureCallback;\r\n\r\nimport io.springbootlearn.orders.customerorders.models.UpdateItemCount;\r\n\r\n\r\n@Service\r\n@ConfigurationProperties\r\npublic class KafkaProducerService {\r\n\t\r\n\t\r\n\tprivate final KafkaTemplate&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; kafkaTemplateObj;\r\n\tprivate String KAFKA_TOPIC_NAME = &quot;ItemsOrdered&quot;;\r\n\tprivate ListenableFuture&lt;SendResult&lt;String,ArrayList&lt;UpdateItemCount&gt;&gt;&gt; asyncCall;\r\n\tprivate ProducerListener&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; producerListener;\r\n\t\r\n\tpublic KafkaProducerService(KafkaTemplate&lt;String,ArrayList&lt;UpdateItemCount&gt;&gt; kafkaTemplateParam) {\r\n\t\tthis.kafkaTemplateObj = kafkaTemplateParam;\t\t\r\n\t}\r\n\t\r\n\tpublic KafkaTemplate&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; producerListener(ProducerListener&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; producerListener) {\r\n\t\tkafkaTemplateObj.setProducerListener(producerListener);\r\n\t    return kafkaTemplateObj;\r\n\t}\r\n\t\r\n\tpublic void sendMessage(Integer PartitionId, String key, ArrayList&lt;UpdateItemCount&gt; UpdateItemCountArr) {\r\n\t\t\r\n\t\t    try {\r\n\r\n\t\t\t\tSystem.out.println(&quot;KafkaProducerService:sending message&quot;);\r\n\t\t\t\t\r\n\t\t\t\tfinal ProducerRecord&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; record = new ProducerRecord&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt;(KAFKA_TOPIC_NAME, PartitionId, key,UpdateItemCountArr);\r\n\r\n\t\t\t\tSystem.out.println(&quot;KafkaProducerService: sending async call...&quot;);\r\n\t\t\t\t\r\n\t\t\t\tListenableFuture&lt;SendResult&lt;String,ArrayList&lt;UpdateItemCount&gt;&gt;&gt; future = kafkaTemplateObj.send(record);\r\n\t\t\t\t \r\n\t\t\t    kafkaTemplateObj.flush();\r\n\t\t    \t\r\n\t\t    } catch(KafkaProducerException ex) {\r\n\t\t    \tSystem.out.println(&quot;Exception....&quot; + ex);\r\n\t        \tSystem.out.println(&quot;Exception msg....&quot; + ex.getMessage());\r\n\t        \tSystem.out.println(&quot;Exception root cause...&quot; + ex.getRootCause());\r\n\t        \tSystem.out.println(&quot;Exception stack trace...&quot; + ex.getStackTrace());\r\n\t\t\t}\r\n     }\r\n\t\r\n}\r\n\r\n```\r\nThe kafka configuration is shown below\r\n\r\n```\r\nspring.kafka.producer.bootstrap-servers = 172.26.77.192:9092\r\nspring.kafka.producer.key-serializer = org.apache.kafka.common.serialization.StringSerializer\r\nspring.kafka.producer.value-serializer = io.springbootlearn.orders.customerorders.util.kafkaProducer.KafkaArrayListSerializer\r\nlogging.level.org.apache.kafka=debug\r\nlogging.level.org.apache.kafka.clients=debug\r\n```\r\n\r\nI have confirmed that my Kafka setup is working fine by writing another program which sends messages to a different Kafka topic with both &quot;Key&quot; and &quot;Value&quot; as String. The consumer is able to fetch the messages from this topic.\r\n\r\nCould anyone please help?\r\n\r\nMany Thanks.\r\n\r\n","title":"Exception found.....org.apache.kafka.common.KafkaException: Failed to construct kafka producer using custom object Serializer","body":"<p>I have written a spring-kafka package using spring boot to send messages to a Kafka topic with &quot;Key&quot; as String and &quot;Arraylist&quot; as Value. &quot;Custom Object&quot; is a class having attributes item id, item name, and item ordered count.</p>\n<p>Kafka Producer log shown below.</p>\n<pre><code>2021-10-29 00:09:34.147  INFO 16496 --- [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \n    acks = 1\n    batch.size = 16384\n    bootstrap.servers = [172.26.77.192:9092]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-1\n    compression.type = none\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = false\n    interceptor.classes = []\n    internal.auto.downgrade.txn.commit = true\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n    linger.ms = 0\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 5\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 2147483647\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 127000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class io.springbootlearn.orders.customerorders.util.kafkaProducer.KafkaArrayListSerializer\n\n2021-10-29 00:09:34.180  INFO 16496 --- [           main] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms.\n2021-10-29 00:09:34.180  INFO 16496 --- [           main] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed\n2021-10-29 00:09:34.180  INFO 16496 --- [           main] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter\n2021-10-29 00:09:34.181  INFO 16496 --- [           main] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed\n2021-10-29 00:09:34.182  INFO 16496 --- [           main] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered\n2021-10-29 00:09:34.182 DEBUG 16496 --- [           main] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Kafka producer has been closed\nProcessOrders: Exception found.....org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n</code></pre>\n<p>I have written a custom serializer as shown below.</p>\n<pre><code>package io.springbootlearn.orders.customerorders.util.kafkaProducer;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Iterator;\n\nimport org.apache.kafka.common.serialization.Serde;\nimport org.apache.kafka.common.serialization.Serializer;\n\nimport io.springbootlearn.orders.customerorders.models.UpdateItemCount;\n\npublic class KafkaArrayListSerializer&lt;UpdateItemCount&gt; implements Serializer&lt;ArrayList&lt;UpdateItemCount&gt;&gt;{\n    \n    private final Serializer&lt;UpdateItemCount&gt; arrayListSerializer;\n    \n    public KafkaArrayListSerializer(final Serializer&lt;UpdateItemCount&gt; paramArrayListSerializer) {\n        System.out.println(&quot;KafkaArrayListSerializer: Inside constructor.......&quot;);\n        this.arrayListSerializer = paramArrayListSerializer;\n    }\n\n    @Override\n    public byte[] serialize(String topic, ArrayList&lt;UpdateItemCount&gt; customerOrderData) {\n        System.out.println(&quot;KafkaArrayListSerializer: Inside serialize.......&quot;);\n        System.out.println(&quot;Topic name.......&quot;+topic);\n        \n        int dataSize = customerOrderData.size();\n        System.out.println(&quot;dataSize.......&quot;+dataSize);\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        DataOutputStream out = new DataOutputStream(baos);\n        Iterator&lt;UpdateItemCount&gt; arrayListIter = customerOrderData.iterator();\n        try {\n            out.writeInt(dataSize);\n            while (arrayListIter.hasNext()) {\n                final byte[] customerOrderDataToBytes =  arrayListSerializer.serialize(topic, arrayListIter.next());\n                out.writeInt(customerOrderDataToBytes.length);\n                out.write(customerOrderDataToBytes);\n            }\n            out.close();\n        } catch(IOException e) {\n            throw new RuntimeException(&quot;unable to serialize ArrayList&quot;, e);\n        }\n        \n        return baos.toByteArray();\n    }\n}\n\n</code></pre>\n<p>The Serde class for &quot;Arraylist&quot; is shown below.</p>\n<pre><code>package io.springbootlearn.orders.customerorders.util.kafkaProducer;\n\nimport java.util.ArrayList;\n\nimport org.apache.kafka.common.serialization.Deserializer;\nimport org.apache.kafka.common.serialization.Serde;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.common.serialization.Serializer;\n\npublic class ArrayListSerde&lt;T&gt; implements Serde&lt;ArrayList&lt;T&gt;&gt;{\n    \n    private final Serde&lt;ArrayList&lt;T&gt;&gt; arrayListSerdeObj;\n    \n    public ArrayListSerde(final Serde&lt;T&gt; SerdeObj) {\n        this.arrayListSerdeObj = Serdes.serdeFrom(new KafkaArrayListSerializer&lt;&gt;(SerdeObj.serializer())\n                                                 , new KafkaArrayListDeserializer&lt;&gt;(SerdeObj.deserializer()));\n    }\n\n    @Override\n    public Serializer&lt;ArrayList&lt;T&gt;&gt; serializer() {\n        System.out.println(&quot;ArrayListSerde: Inside Serializer.......&quot;);\n        return arrayListSerdeObj.serializer();\n    }\n\n    @Override\n    public Deserializer&lt;ArrayList&lt;T&gt;&gt; deserializer() {\n        return null;\n    }\n    \n    @Override\n      public void close() {\n        arrayListSerdeObj.serializer().close();\n      }\n\n}\n\n</code></pre>\n<p>The Kafka Producer service code is show below:-</p>\n<pre><code>package io.springbootlearn.orders.customerorders.util.kafkaProducer;\n\nimport java.util.ArrayList;\nimport java.util.concurrent.ExecutionException;\n\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.logging.log4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.core.KafkaProducerException;\nimport org.springframework.kafka.core.KafkaSendCallback;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.ProducerListener;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.concurrent.ListenableFuture;\nimport org.springframework.util.concurrent.ListenableFutureCallback;\n\nimport io.springbootlearn.orders.customerorders.models.UpdateItemCount;\n\n\n@Service\n@ConfigurationProperties\npublic class KafkaProducerService {\n    \n    \n    private final KafkaTemplate&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; kafkaTemplateObj;\n    private String KAFKA_TOPIC_NAME = &quot;ItemsOrdered&quot;;\n    private ListenableFuture&lt;SendResult&lt;String,ArrayList&lt;UpdateItemCount&gt;&gt;&gt; asyncCall;\n    private ProducerListener&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; producerListener;\n    \n    public KafkaProducerService(KafkaTemplate&lt;String,ArrayList&lt;UpdateItemCount&gt;&gt; kafkaTemplateParam) {\n        this.kafkaTemplateObj = kafkaTemplateParam;     \n    }\n    \n    public KafkaTemplate&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; producerListener(ProducerListener&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; producerListener) {\n        kafkaTemplateObj.setProducerListener(producerListener);\n        return kafkaTemplateObj;\n    }\n    \n    public void sendMessage(Integer PartitionId, String key, ArrayList&lt;UpdateItemCount&gt; UpdateItemCountArr) {\n        \n            try {\n\n                System.out.println(&quot;KafkaProducerService:sending message&quot;);\n                \n                final ProducerRecord&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt; record = new ProducerRecord&lt;String, ArrayList&lt;UpdateItemCount&gt;&gt;(KAFKA_TOPIC_NAME, PartitionId, key,UpdateItemCountArr);\n\n                System.out.println(&quot;KafkaProducerService: sending async call...&quot;);\n                \n                ListenableFuture&lt;SendResult&lt;String,ArrayList&lt;UpdateItemCount&gt;&gt;&gt; future = kafkaTemplateObj.send(record);\n                 \n                kafkaTemplateObj.flush();\n                \n            } catch(KafkaProducerException ex) {\n                System.out.println(&quot;Exception....&quot; + ex);\n                System.out.println(&quot;Exception msg....&quot; + ex.getMessage());\n                System.out.println(&quot;Exception root cause...&quot; + ex.getRootCause());\n                System.out.println(&quot;Exception stack trace...&quot; + ex.getStackTrace());\n            }\n     }\n    \n}\n\n</code></pre>\n<p>The kafka configuration is shown below</p>\n<pre><code>spring.kafka.producer.bootstrap-servers = 172.26.77.192:9092\nspring.kafka.producer.key-serializer = org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer = io.springbootlearn.orders.customerorders.util.kafkaProducer.KafkaArrayListSerializer\nlogging.level.org.apache.kafka=debug\nlogging.level.org.apache.kafka.clients=debug\n</code></pre>\n<p>I have confirmed that my Kafka setup is working fine by writing another program which sends messages to a different Kafka topic with both &quot;Key&quot; and &quot;Value&quot; as String. The consumer is able to fetch the messages from this topic.</p>\n<p>Could anyone please help?</p>\n<p>Many Thanks.</p>\n"},{"tags":["java","while-loop","conditional-statements","do-while"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635452909,"post_id":69760470,"comment_id":123309838,"body_markdown":"From the output, it looks like you&#39;re calling that method twice.","body":"From the output, it looks like you&#39;re calling that method twice."},{"owner":{"display_name":"user16701881"},"score":0,"creation_date":1635453086,"post_id":69760470,"comment_id":123309890,"body_markdown":"Oh so it has to do with this line I have in my main I guess : `menu_received();\n        System.out.println(&quot;Value of menu_received : &quot; + menu_received());\n        tip_calculator(menu_received());`","body":"Oh so it has to do with this line I have in my main I guess : <code>menu_received();         System.out.println(&quot;Value of menu_received : &quot; + menu_received());         tip_calculator(menu_received());</code>"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1635453087,"post_id":69760470,"comment_id":123309891,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635453238,"post_id":69760470,"comment_id":123309928,"body_markdown":"@Sam, no, that&#39;s entirely unrelated and is NOT the answer to this question.","body":"@Sam, no, that&#39;s entirely unrelated and is NOT the answer to this question."},{"owner":{"display_name":"user16701881"},"score":0,"creation_date":1635453272,"post_id":69760470,"comment_id":123309941,"body_markdown":"@Sam its doesn&#39;t..","body":"@Sam its doesn&#39;t.."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635453329,"post_id":69760470,"comment_id":123309960,"body_markdown":"@siid_14 Yes.  Every time your code has `menu_received()`, the method starts over.  Perhaps you want to call it just once, and assign the result to a variable.","body":"@siid_14 Yes.  Every time your code has <code>menu_received()</code>, the method starts over.  Perhaps you want to call it just once, and assign the result to a variable."},{"owner":{"display_name":"user16701881"},"score":0,"creation_date":1635453651,"post_id":69760470,"comment_id":123310077,"body_markdown":"@DawoodibnKareem ah okay I see.. Ima look into that. I thought that `tip_calculator(menu_received());` will have the value of menu_received since I have `return total2` inside the menu_received method.","body":"@DawoodibnKareem ah okay I see.. Ima look into that. I thought that <code>tip_calculator(menu_received());</code> will have the value of menu_received since I have <code>return total2</code> inside the menu_received method."},{"owner":{"display_name":"user16701881"},"score":1,"creation_date":1635453952,"post_id":69760470,"comment_id":123310181,"body_markdown":"I corrected it with the following line : `double value = menu_received();\n        \n        tip_calculator(value);` And it works, thank you!","body":"I corrected it with the following line : <code>double value = menu_received();                  tip_calculator(value);</code> And it works, thank you!"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1635492253,"post_id":69760470,"comment_id":123317798,"body_markdown":"Vote retracted.","body":"Vote retracted."}],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635456774,"creation_date":1635456774,"answer_id":69761188,"question_id":69760470,"body_markdown":"If I understand your comment above,  change your main from :\r\n\r\n\r\n```java\r\nmenu_received(); // First call\r\nSystem.out.println(&quot;Value of menu_received : &quot; + menu_received()); // Second call\r\ntip_calculator(menu_received()); // Third call\r\n```\r\nTo :\r\n\r\n```java\r\ndouble result = menu_received(); // Only one call\r\nSystem.out.println(&quot;Value of menu_received : &quot; + result);\r\ntip_calculator(result);\r\n```\r\n","title":"My Do-While loop doesn&#39;t check my condition?","body":"<p>If I understand your comment above,  change your main from :</p>\n<pre class=\"lang-java prettyprint-override\"><code>menu_received(); // First call\nSystem.out.println(&quot;Value of menu_received : &quot; + menu_received()); // Second call\ntip_calculator(menu_received()); // Third call\n</code></pre>\n<p>To :</p>\n<pre class=\"lang-java prettyprint-override\"><code>double result = menu_received(); // Only one call\nSystem.out.println(&quot;Value of menu_received : &quot; + result);\ntip_calculator(result);\n</code></pre>\n"}],"owner":{"display_name":"user16701881"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69761188,"answer_count":1,"score":0,"last_activity_date":1635456774,"creation_date":1635452663,"question_id":69760470,"body_markdown":"I&#39;m making the following method about making an order on a menu with the following code :\r\n\r\n\r\n```\r\n   public static double menu_received() {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int userResponse, total = 0;\r\n\r\n        do {\r\n\r\n            System.out.println();\r\n            System.out.println(&quot;Here is our menu:&quot;);\r\n            System.out.println(&quot;1. Bulgogi -- $15.00&quot;);\r\n            System.out.println(&quot;2. Kalbi -- $18.00&quot;);\r\n            System.out.println(&quot;3. Kimchi Fried Rice -- $16.00&quot;);\r\n            System.out.println(&quot;Please choose one option at one time using the number (0 to end the order):&quot;);\r\n\r\n            userResponse = input.nextInt();\r\n            System.out.println(&quot;User Menu choice is &quot; + userResponse);\r\n\r\n            if (userResponse == 1) {\r\n                System.out.println(&quot;Thank you for ordering Bulgogi&quot;);\r\n                total = total + 15;\r\n                System.out.println(&quot;Your total is $&quot; + total);\r\n            }\r\n\r\n            if (userResponse == 2) {\r\n                System.out.println(&quot;Thank you for ordering Kalbi&quot;);\r\n                total = total + 18;\r\n                System.out.println(&quot;Your total is $&quot; + total);\r\n            }\r\n\r\n            if (userResponse == 3) {\r\n                System.out.println(&quot;Thank you for ordering Kimichi Fried Rice&quot;);\r\n                total = total + 16;\r\n                System.out.println(&quot;Your total is $&quot; + total);\r\n            }\r\n\r\n        } while (userResponse != 0);\r\n\r\n        double total2 = total + 2.55;\r\n        // total = (double) total + 2.55;\r\n        System.out.println(&quot;Your total after tax is $&quot; + total2);\r\n\r\n        return total2;\r\n    }\r\n```\r\nHowever the issue I have is when I call it, it does not respond as I want. It doesn&#39;t stop to call the menu even after I enter 0. Is there an issue with my condition in the while(userResponse != 0) Can someone explain to me why and how to correct it? Thank you\r\n\r\nHere my output :\r\n\r\n```text\r\n&gt;\r\nHere is our menu:\r\n1. Bulgogi -- $15.00\r\n2. Kalbi -- $18.00\r\n3. Kimchi Fried Rice -- $16.00\r\nPlease choose one option at one time using the number (0 to end the order):\r\n1\r\nUser Menu choice is 1\r\nThank you for ordering Bulgogi\r\nYour total is $15\r\n\r\nHere is our menu:\r\n1. Bulgogi -- $15.00\r\n2. Kalbi -- $18.00\r\n3. Kimchi Fried Rice -- $16.00\r\nPlease choose one option at one time using the number (0 to end the order):\r\n1\r\nUser Menu choice is 1\r\nThank you for ordering Bulgogi\r\nYour total is $30\r\n\r\nHere is our menu:\r\n1. Bulgogi -- $15.00\r\n2. Kalbi -- $18.00\r\n3. Kimchi Fried Rice -- $16.00\r\nPlease choose one option at one time using the number (0 to end the order):\r\n0\r\nUser Menu choice is 0\r\nYour total after tax is $32.55\r\n\r\nHere is our menu:\r\n1. Bulgogi -- $15.00\r\n2. Kalbi -- $18.00\r\n3. Kimchi Fried Rice -- $16.00\r\nPlease choose one option at one time using the number (0 to end the order):\r\n0\r\nUser Menu choice is 0\r\nYour total after tax is $2.55\r\n```\r\n\r\nPS: Don&#39;t mind the statement &quot;Your total after tax is XXXX&quot; - It comes from another method. \r\n\r\n","title":"My Do-While loop doesn&#39;t check my condition?","body":"<p>I'm making the following method about making an order on a menu with the following code :</p>\n<pre><code>   public static double menu_received() {\n\n        Scanner input = new Scanner(System.in);\n        int userResponse, total = 0;\n\n        do {\n\n            System.out.println();\n            System.out.println(&quot;Here is our menu:&quot;);\n            System.out.println(&quot;1. Bulgogi -- $15.00&quot;);\n            System.out.println(&quot;2. Kalbi -- $18.00&quot;);\n            System.out.println(&quot;3. Kimchi Fried Rice -- $16.00&quot;);\n            System.out.println(&quot;Please choose one option at one time using the number (0 to end the order):&quot;);\n\n            userResponse = input.nextInt();\n            System.out.println(&quot;User Menu choice is &quot; + userResponse);\n\n            if (userResponse == 1) {\n                System.out.println(&quot;Thank you for ordering Bulgogi&quot;);\n                total = total + 15;\n                System.out.println(&quot;Your total is $&quot; + total);\n            }\n\n            if (userResponse == 2) {\n                System.out.println(&quot;Thank you for ordering Kalbi&quot;);\n                total = total + 18;\n                System.out.println(&quot;Your total is $&quot; + total);\n            }\n\n            if (userResponse == 3) {\n                System.out.println(&quot;Thank you for ordering Kimichi Fried Rice&quot;);\n                total = total + 16;\n                System.out.println(&quot;Your total is $&quot; + total);\n            }\n\n        } while (userResponse != 0);\n\n        double total2 = total + 2.55;\n        // total = (double) total + 2.55;\n        System.out.println(&quot;Your total after tax is $&quot; + total2);\n\n        return total2;\n    }\n</code></pre>\n<p>However the issue I have is when I call it, it does not respond as I want. It doesn't stop to call the menu even after I enter 0. Is there an issue with my condition in the while(userResponse != 0) Can someone explain to me why and how to correct it? Thank you</p>\n<p>Here my output :</p>\n<pre><code>&gt;\nHere is our menu:\n1. Bulgogi -- $15.00\n2. Kalbi -- $18.00\n3. Kimchi Fried Rice -- $16.00\nPlease choose one option at one time using the number (0 to end the order):\n1\nUser Menu choice is 1\nThank you for ordering Bulgogi\nYour total is $15\n\nHere is our menu:\n1. Bulgogi -- $15.00\n2. Kalbi -- $18.00\n3. Kimchi Fried Rice -- $16.00\nPlease choose one option at one time using the number (0 to end the order):\n1\nUser Menu choice is 1\nThank you for ordering Bulgogi\nYour total is $30\n\nHere is our menu:\n1. Bulgogi -- $15.00\n2. Kalbi -- $18.00\n3. Kimchi Fried Rice -- $16.00\nPlease choose one option at one time using the number (0 to end the order):\n0\nUser Menu choice is 0\nYour total after tax is $32.55\n\nHere is our menu:\n1. Bulgogi -- $15.00\n2. Kalbi -- $18.00\n3. Kimchi Fried Rice -- $16.00\nPlease choose one option at one time using the number (0 to end the order):\n0\nUser Menu choice is 0\nYour total after tax is $2.55\n</code></pre>\n<p>PS: Don't mind the statement &quot;Your total after tax is XXXX&quot; - It comes from another method.</p>\n"},{"tags":["java","spring","microservices","axon"],"answers":[{"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606213938,"creation_date":1606213938,"answer_id":64984615,"question_id":64971085,"body_markdown":"The key issue you are expiriencing stems from one of your final sentences:\r\n\r\n&gt; Can I simply put [insert-code-snippet] in the second microservice B (for example in an Aggregate)?\r\n\r\nWell, yes you can simply add an `@EventHandler` annotated function in a regular component, but *not* in an Aggregate. The Aggregate functionality provided by Axon Framework is aimed towards being a Command Model. As would be used when employing [CQRS][1] really.\r\n\r\nThis makes the Aggregate a component which can _solely_ handle command messages. \r\n\r\nThe only exception to this, is when you are adding [Event Sourcing][2] in the mix too. When Event Sourcing, you will source a given Command Model based on the events it has published. Thus introducing an `@EventSourcingHandler` annotated function inside your aggregate will only ever handle the events which originated from it.\r\n\r\nTo circle back to your original question, yes you can simply put the:\r\n```java\r\n@EventHandler\r\nprotected void on(AccountCreatedEvent event){\r\n    // My event handling operation\r\n}\r\n```\r\n\r\nin (micro)service B. But, that method **cannot** reside in an Aggregate. This is by design, to follow the CQRS and Event Sourcing paradigm as intended.\r\n\r\nAny other component will do just fine though. If you are combining Axon with Spring, simply having the components with your event handling functions is sufficient. If you are not using Spring, you will have to register your components with event handlers to the `Configurer` or `EventProcessingConfigurer`.\r\n\r\nHoping this clarifies things for you.\r\n\r\n  [1]: https://axoniq.io/resources/cqrs\r\n  [2]: https://axoniq.io/resources/event-sourcing","title":"Axon - Consume Event from another Microservice","body":"<p>The key issue you are expiriencing stems from one of your final sentences:</p>\n<blockquote>\n<p>Can I simply put [insert-code-snippet] in the second microservice B (for example in an Aggregate)?</p>\n</blockquote>\n<p>Well, yes you can simply add an <code>@EventHandler</code> annotated function in a regular component, but <em>not</em> in an Aggregate. The Aggregate functionality provided by Axon Framework is aimed towards being a Command Model. As would be used when employing <a href=\"https://axoniq.io/resources/cqrs\" rel=\"nofollow noreferrer\">CQRS</a> really.</p>\n<p>This makes the Aggregate a component which can <em>solely</em> handle command messages.</p>\n<p>The only exception to this, is when you are adding <a href=\"https://axoniq.io/resources/event-sourcing\" rel=\"nofollow noreferrer\">Event Sourcing</a> in the mix too. When Event Sourcing, you will source a given Command Model based on the events it has published. Thus introducing an <code>@EventSourcingHandler</code> annotated function inside your aggregate will only ever handle the events which originated from it.</p>\n<p>To circle back to your original question, yes you can simply put the:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\nprotected void on(AccountCreatedEvent event){\n    // My event handling operation\n}\n</code></pre>\n<p>in (micro)service B. But, that method <strong>cannot</strong> reside in an Aggregate. This is by design, to follow the CQRS and Event Sourcing paradigm as intended.</p>\n<p>Any other component will do just fine though. If you are combining Axon with Spring, simply having the components with your event handling functions is sufficient. If you are not using Spring, you will have to register your components with event handlers to the <code>Configurer</code> or <code>EventProcessingConfigurer</code>.</p>\n<p>Hoping this clarifies things for you.</p>\n"}],"owner":{"account_id":13366973,"reputation":81,"user_id":9646867,"display_name":"sliceX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635456668,"creation_date":1606144474,"question_id":64971085,"body_markdown":"I have defined a Microservice:\r\n\r\n**AccountManagementService**\r\n\r\n- Handles CreateAccountCommand\r\n- CreateAccountCommand shoots AccountCreatedEvent\r\n- The new Account is then stored in mysql db\r\n- Axon Server is used to store the event\r\n\r\nNow I want another microservice B (that is connected to the same Axon Server) to handle the AccountCreatedEvent too.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan I simply put \r\n\r\n    @EventHandler\r\n    protected void on(AccountCreatedEvent event){\r\n    }\r\n\r\nin the second microservice B (for example in an Aggregate)? I tried that under the assumption that the event is stored in Axon Server and my second microservice automatically listens to that published event. It didn&#39;t work unfortunately.\r\n\r\nHow can microservice B subscribe to events (published by AccountManagementService) in the Axon Server?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V2Hss.png","title":"Axon - Consume Event from another Microservice","body":"<p>I have defined a Microservice:</p>\n<p><strong>AccountManagementService</strong></p>\n<ul>\n<li>Handles CreateAccountCommand</li>\n<li>CreateAccountCommand shoots AccountCreatedEvent</li>\n<li>The new Account is then stored in mysql db</li>\n<li>Axon Server is used to store the event</li>\n</ul>\n<p>Now I want another microservice B (that is connected to the same Axon Server) to handle the AccountCreatedEvent too.</p>\n<p><a href=\"https://i.stack.imgur.com/V2Hss.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V2Hss.png\" alt=\"enter image description here\" /></a></p>\n<p>Can I simply put</p>\n<pre><code>@EventHandler\nprotected void on(AccountCreatedEvent event){\n}\n</code></pre>\n<p>in the second microservice B (for example in an Aggregate)? I tried that under the assumption that the event is stored in Axon Server and my second microservice automatically listens to that published event. It didn't work unfortunately.</p>\n<p>How can microservice B subscribe to events (published by AccountManagementService) in the Axon Server?</p>\n"},{"tags":["java","scala","dataframe","apache-spark"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1635335779,"post_id":69738041,"comment_id":123268970,"body_markdown":"Adrien, Spark is not a database so you cannot really do an insert like you would do with with a relational database. What you can do is create a new dataframe, unionByName() it to your timeDf, and then add the id using Spark’s dataframe API. Depending on your concurrency situation, the is could be troublesome.","body":"Adrien, Spark is not a database so you cannot really do an insert like you would do with with a relational database. What you can do is create a new dataframe, unionByName() it to your timeDf, and then add the id using Spark’s dataframe API. Depending on your concurrency situation, the is could be troublesome."},{"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"score":0,"creation_date":1635336503,"post_id":69738041,"comment_id":123269279,"body_markdown":"@jgp Okay I4ll try it but for the id I don&#39;t really understand what to do. If I merge the timeDF to the temporary dataframe (which has 2 columns) the id will be null isn&#39;t it ?","body":"@jgp Okay I4ll try it but for the id I don&#39;t really understand what to do. If I merge the timeDF to the temporary dataframe (which has 2 columns) the id will be null isn&#39;t it ?"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1635343609,"post_id":69738041,"comment_id":123272852,"body_markdown":"It&#39;s ok to have nulls, you can filter on them, change their values (by creating another column, yes, Spark is not a database :) ). Do you have to worry about concurrency when you create your new rows?","body":"It&#39;s ok to have nulls, you can filter on them, change their values (by creating another column, yes, Spark is not a database :) ). Do you have to worry about concurrency when you create your new rows?"}],"answers":[{"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635340803,"creation_date":1635339623,"answer_id":69739176,"question_id":69738041,"body_markdown":"If your first dataframe can be sorted by ID and you need to add rows one by one you can find maximum ID in your list:\r\n```\r\nlong max = timeDF.agg(functions.max(&quot;Id&quot;)).head().getLong(0);\r\n```\r\nand then increment and add it to your dataframe by Union. To do this, follow the following example which age can act like id. `people.json` is a file in spark examples.\r\n```\r\nDataset&lt;Row&gt; df = spark.read().json(&quot;H:\\\\work\\\\HadoopWinUtils\\\\people.json&quot;);\r\ndf.show();\r\n\r\nlong max = df.agg(functions.max(&quot;age&quot;)).head().getLong(0);\r\nList&lt;Row&gt; rows = Arrays.asList(RowFactory.create(max+1,  &quot;test&quot;));\r\n\r\nStructType schema = DataTypes.createStructType(Arrays.asList(\r\n                DataTypes.createStructField(&quot;age&quot;, DataTypes.LongType, false, Metadata.empty()),\r\n                DataTypes.createStructField(&quot;name&quot;, DataTypes.StringType, false, Metadata.empty())));\r\nDataset&lt;Row&gt; df2 = spark.createDataFrame(rows, schema);\r\ndf2.show();\r\nDataset&lt;Row&gt; df3 = df.union(df2);\r\ndf3.show();\r\n```","title":"Add row to Spark Dataframe with timestamps and id","body":"<p>If your first dataframe can be sorted by ID and you need to add rows one by one you can find maximum ID in your list:</p>\n<pre><code>long max = timeDF.agg(functions.max(&quot;Id&quot;)).head().getLong(0);\n</code></pre>\n<p>and then increment and add it to your dataframe by Union. To do this, follow the following example which age can act like id. <code>people.json</code> is a file in spark examples.</p>\n<pre><code>Dataset&lt;Row&gt; df = spark.read().json(&quot;H:\\\\work\\\\HadoopWinUtils\\\\people.json&quot;);\ndf.show();\n\nlong max = df.agg(functions.max(&quot;age&quot;)).head().getLong(0);\nList&lt;Row&gt; rows = Arrays.asList(RowFactory.create(max+1,  &quot;test&quot;));\n\nStructType schema = DataTypes.createStructType(Arrays.asList(\n                DataTypes.createStructField(&quot;age&quot;, DataTypes.LongType, false, Metadata.empty()),\n                DataTypes.createStructField(&quot;name&quot;, DataTypes.StringType, false, Metadata.empty())));\nDataset&lt;Row&gt; df2 = spark.createDataFrame(rows, schema);\ndf2.show();\nDataset&lt;Row&gt; df3 = df.union(df2);\ndf3.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635414817,"creation_date":1635414817,"answer_id":69751919,"question_id":69738041,"body_markdown":"I tried this but I don&#39;t know why, when printing the table saved, it only keep the last 2 rows, all others being deleted.\r\n\r\nThis is how I init the delta table :\r\n```scala\r\nval schema = StructType(\r\n               StructField(&quot;Id&quot;, LongType, false) ::\r\n               StructField(&quot;Model&quot;, TimestampType, false) ::\r\n               StructField(&quot;Prevision&quot;, TimestampType, false) :: Nil\r\n             )\r\n\r\nvar timestampDF = spark.createDataFrame(sc.emptyRDD[Row], schema)\r\n\r\nval write_format = &quot;delta&quot;\r\nval partition_by = &quot;Model&quot;\r\nval save_path = &quot;/mnt/path/to/folder&quot;\r\nval table_name = &quot;myTable&quot;\r\n\r\nspark.sql(&quot;DROP TABLE IF EXISTS &quot; + table_name)\r\ndbutils.fs.rm(save_path, true)\r\n\r\ntimestampDF.write.partitionBy(partition_by)\r\n                 .format(write_format)\r\n                 .save(save_path)\r\n\r\nspark.sql(&quot;CREATE TABLE &quot; + table_name + &quot; USING DELTA LOCATION &#39;&quot; + save_path + &quot;&#39;&quot;)\r\n```\r\n\r\nAnd this how I add a new item to it\r\n```scala\r\ndef addTimeToData(model: Calendar, target: Calendar): Unit = {\r\n  var timeDF = spark.read\r\n                    .format(&quot;delta&quot;)\r\n                    .load(&quot;/mnt/path/to/folder&quot;)\r\n  \r\n  val modelTS = new Timestamp(model.getTimeInMillis)\r\n  val targetTS = new Timestamp(target.getTimeInMillis)\r\n  var id: Long = 0\r\n  \r\n  if (!timeDF.head(1).isEmpty) {\r\n    id = timeDF.agg(max(&quot;Id&quot;)).head().getLong(0) + 1\r\n  }\r\n  \r\n  val newTime = Arrays.asList(RowFactory.create(id, modelTS, targetTS))\r\n  val schema = StructType(\r\n                 StructField(&quot;Id&quot;, LongType, false) ::\r\n                 StructField(&quot;Model&quot;, TimestampType, false) ::\r\n                 StructField(&quot;Prevision&quot;, TimestampType, false) :: Nil\r\n               )  \r\n  var newTimeDF = spark.createDataFrame(newTime, schema)\r\n  val unionTimeDF = timeDF.union(newTimeDF)\r\n  timeDF = unionTimeDF\r\n  unionTimeDF.show\r\n  val save_path = &quot;/mnt/datalake/Exploration/Provisionning/MeteoFrance/Timestamps/&quot;\r\n  val table_name = &quot;myTable&quot;\r\n\r\n  spark.sql(&quot;DROP TABLE IF EXISTS &quot; + table_name)\r\n  dbutils.fs.rm(save_path, true)\r\n  timeDF.write.partitionBy(&quot;Model&quot;)\r\n              .format(&quot;delta&quot;)\r\n              .save(save_path)\r\n\r\n  spark.sql(&quot;CREATE TABLE &quot; + table_name + &quot; USING DELTA LOCATION &#39;&quot; + save_path + &quot;&#39;&quot;)\r\n}\r\n```\r\n\r\nI&#39;m not very familiar with delta tables so I don&#39;t know if I can just use SQL on it to add values like so :\r\n```scala\r\nspark.sql(&quot;INSERT INTO &#39;myTable&#39; VALUES (&quot; + id + &quot;, &quot; + modelTS + &quot;, &quot; + previsionTS + &quot;)&quot;);\r\n```\r\nAnd I don&#39;t if just putting the timestamps variable like so will work.","title":"Add row to Spark Dataframe with timestamps and id","body":"<p>I tried this but I don't know why, when printing the table saved, it only keep the last 2 rows, all others being deleted.</p>\n<p>This is how I init the delta table :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val schema = StructType(\n               StructField(&quot;Id&quot;, LongType, false) ::\n               StructField(&quot;Model&quot;, TimestampType, false) ::\n               StructField(&quot;Prevision&quot;, TimestampType, false) :: Nil\n             )\n\nvar timestampDF = spark.createDataFrame(sc.emptyRDD[Row], schema)\n\nval write_format = &quot;delta&quot;\nval partition_by = &quot;Model&quot;\nval save_path = &quot;/mnt/path/to/folder&quot;\nval table_name = &quot;myTable&quot;\n\nspark.sql(&quot;DROP TABLE IF EXISTS &quot; + table_name)\ndbutils.fs.rm(save_path, true)\n\ntimestampDF.write.partitionBy(partition_by)\n                 .format(write_format)\n                 .save(save_path)\n\nspark.sql(&quot;CREATE TABLE &quot; + table_name + &quot; USING DELTA LOCATION '&quot; + save_path + &quot;'&quot;)\n</code></pre>\n<p>And this how I add a new item to it</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def addTimeToData(model: Calendar, target: Calendar): Unit = {\n  var timeDF = spark.read\n                    .format(&quot;delta&quot;)\n                    .load(&quot;/mnt/path/to/folder&quot;)\n  \n  val modelTS = new Timestamp(model.getTimeInMillis)\n  val targetTS = new Timestamp(target.getTimeInMillis)\n  var id: Long = 0\n  \n  if (!timeDF.head(1).isEmpty) {\n    id = timeDF.agg(max(&quot;Id&quot;)).head().getLong(0) + 1\n  }\n  \n  val newTime = Arrays.asList(RowFactory.create(id, modelTS, targetTS))\n  val schema = StructType(\n                 StructField(&quot;Id&quot;, LongType, false) ::\n                 StructField(&quot;Model&quot;, TimestampType, false) ::\n                 StructField(&quot;Prevision&quot;, TimestampType, false) :: Nil\n               )  \n  var newTimeDF = spark.createDataFrame(newTime, schema)\n  val unionTimeDF = timeDF.union(newTimeDF)\n  timeDF = unionTimeDF\n  unionTimeDF.show\n  val save_path = &quot;/mnt/datalake/Exploration/Provisionning/MeteoFrance/Timestamps/&quot;\n  val table_name = &quot;myTable&quot;\n\n  spark.sql(&quot;DROP TABLE IF EXISTS &quot; + table_name)\n  dbutils.fs.rm(save_path, true)\n  timeDF.write.partitionBy(&quot;Model&quot;)\n              .format(&quot;delta&quot;)\n              .save(save_path)\n\n  spark.sql(&quot;CREATE TABLE &quot; + table_name + &quot; USING DELTA LOCATION '&quot; + save_path + &quot;'&quot;)\n}\n</code></pre>\n<p>I'm not very familiar with delta tables so I don't know if I can just use SQL on it to add values like so :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>spark.sql(&quot;INSERT INTO 'myTable' VALUES (&quot; + id + &quot;, &quot; + modelTS + &quot;, &quot; + previsionTS + &quot;)&quot;);\n</code></pre>\n<p>And I don't if just putting the timestamps variable like so will work.</p>\n"},{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635456274,"creation_date":1635456274,"answer_id":69761116,"question_id":69738041,"body_markdown":"Here is a solution you can try, in a nutshell:\r\n\r\n 1. Ingest your file.\r\n 2. Create a new dataframe with your data and `unionByName()`.\r\n 1. Correct the id.\r\n 1. Clean up.\r\n\r\nCreate the extra record\r\n==\r\n\r\nFirst you create the extra record from scratch. As you mix several types, I used a POJO, here is the code:\r\n\r\n    List&lt;ModelPrevisionRecord&gt; data = new ArrayList&lt;&gt;();\r\n    ModelPrevisionRecord b = new ModelPrevisionRecord(\r\n        -1L,\r\n        new Timestamp(System.currentTimeMillis()),\r\n        new Timestamp(System.currentTimeMillis()));\r\n    data.add(b);\r\n    Dataset&lt;ModelPrevisionRecord&gt; ds = spark.createDataset(data,\r\n        Encoders.bean(ModelPrevisionRecord.class));\r\n    timeDf = timeDf.unionByName(ds.toDF());\r\n\r\nModelPrevisionRecord is a very basic POJO:\r\n\r\n    package net.jgp.labs.spark.l999_scrapbook.l000;\r\n    \r\n    import java.sql.Timestamp;\r\n    \r\n    public class ModelPrevisionRecord {\r\n    \r\n      public long getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(long id) {\r\n        this.id = id;\r\n      }\r\n    \r\n      public Timestamp getModel() {\r\n        return model;\r\n      }\r\n    \r\n      public void setModel(Timestamp model) {\r\n        this.model = model;\r\n      }\r\n    \r\n      public Timestamp getPrevision() {\r\n        return prevision;\r\n      }\r\n    \r\n      public void setPrevision(Timestamp prevision) {\r\n        this.prevision = prevision;\r\n      }\r\n    \r\n      private long id;\r\n      private Timestamp model;\r\n      private Timestamp prevision;\r\n    \r\n      public ModelPrevisionRecord(long id, Timestamp model, Timestamp prevision) {\r\n        this.id = id;\r\n        this.model = model;\r\n        this.prevision = prevision;\r\n      }\r\n    }\r\n\r\nCorrect the Id\r\n==\r\n\r\nThe id is -1, so the id is to create a new column, `id2`, with the right id:\r\n\r\n    timeDf = timeDf.withColumn(&quot;id2&quot;,\r\n        when(\r\n            col(&quot;id&quot;).$eq$eq$eq(-1), timeDf.agg(max(&quot;id&quot;)).head().getLong(0)+1)\r\n                .otherwise(col(&quot;id&quot;)));\r\n\r\nCleanup the dataframe\r\n==\r\n\r\nFinally, clean up your dataframe:\r\n\r\n    timeDf = timeDf.drop(&quot;id&quot;).withColumnRenamed(&quot;id2&quot;, &quot;id&quot;);\r\n\r\nImportant notes\r\n==\r\n\r\n * This solution will only work if you add one record at a time, otherwise, you will end up having the same id.\r\n * You can see the whole example here: https://github.com/jgperrin/net.jgp.labs.spark/tree/master/src/main/java/net/jgp/labs/spark/l999_scrapbook/l000, it might be easier to clone...\r\n","title":"Add row to Spark Dataframe with timestamps and id","body":"<p>Here is a solution you can try, in a nutshell:</p>\n<ol>\n<li>Ingest your file.</li>\n<li>Create a new dataframe with your data and <code>unionByName()</code>.</li>\n<li>Correct the id.</li>\n<li>Clean up.</li>\n</ol>\n<h1>Create the extra record</h1>\n<p>First you create the extra record from scratch. As you mix several types, I used a POJO, here is the code:</p>\n<pre><code>List&lt;ModelPrevisionRecord&gt; data = new ArrayList&lt;&gt;();\nModelPrevisionRecord b = new ModelPrevisionRecord(\n    -1L,\n    new Timestamp(System.currentTimeMillis()),\n    new Timestamp(System.currentTimeMillis()));\ndata.add(b);\nDataset&lt;ModelPrevisionRecord&gt; ds = spark.createDataset(data,\n    Encoders.bean(ModelPrevisionRecord.class));\ntimeDf = timeDf.unionByName(ds.toDF());\n</code></pre>\n<p>ModelPrevisionRecord is a very basic POJO:</p>\n<pre><code>package net.jgp.labs.spark.l999_scrapbook.l000;\n\nimport java.sql.Timestamp;\n\npublic class ModelPrevisionRecord {\n\n  public long getId() {\n    return id;\n  }\n\n  public void setId(long id) {\n    this.id = id;\n  }\n\n  public Timestamp getModel() {\n    return model;\n  }\n\n  public void setModel(Timestamp model) {\n    this.model = model;\n  }\n\n  public Timestamp getPrevision() {\n    return prevision;\n  }\n\n  public void setPrevision(Timestamp prevision) {\n    this.prevision = prevision;\n  }\n\n  private long id;\n  private Timestamp model;\n  private Timestamp prevision;\n\n  public ModelPrevisionRecord(long id, Timestamp model, Timestamp prevision) {\n    this.id = id;\n    this.model = model;\n    this.prevision = prevision;\n  }\n}\n</code></pre>\n<h1>Correct the Id</h1>\n<p>The id is -1, so the id is to create a new column, <code>id2</code>, with the right id:</p>\n<pre><code>timeDf = timeDf.withColumn(&quot;id2&quot;,\n    when(\n        col(&quot;id&quot;).$eq$eq$eq(-1), timeDf.agg(max(&quot;id&quot;)).head().getLong(0)+1)\n            .otherwise(col(&quot;id&quot;)));\n</code></pre>\n<h1>Cleanup the dataframe</h1>\n<p>Finally, clean up your dataframe:</p>\n<pre><code>timeDf = timeDf.drop(&quot;id&quot;).withColumnRenamed(&quot;id2&quot;, &quot;id&quot;);\n</code></pre>\n<h1>Important notes</h1>\n<ul>\n<li>This solution will only work if you add one record at a time, otherwise, you will end up having the same id.</li>\n<li>You can see the whole example here: <a href=\"https://github.com/jgperrin/net.jgp.labs.spark/tree/master/src/main/java/net/jgp/labs/spark/l999_scrapbook/l000\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.labs.spark/tree/master/src/main/java/net/jgp/labs/spark/l999_scrapbook/l000</a>, it might be easier to clone...</li>\n</ul>\n"}],"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635456274,"creation_date":1635335026,"question_id":69738041,"body_markdown":"I have a dataframe named `timeDF` which has the schema below:\r\n```\r\nroot\r\n |-- Id: long (nullable = true)\r\n |-- Model: timestamp (nullable = true)\r\n |-- Prevision: timestamp (nullable = true)\r\n```\r\nI want to add a new row at the end of `timeDF` by transforming two `Calendar` objects `c1` &amp; `c2` to `Timestamp`. I know I can do it by first converting them to `Timestamp` like so :\r\n```\r\nval t1 = new Timestamp(c1.getTimeInMillis)\r\nval t2 = new Timestamp(c2.getTimeInMillis)\r\n```\r\nHowever, I can&#39;t figure out how I then write those variables to `timeDF` as a new row, and how to let spark increase the `Id` column value ?\r\n\r\nShould I create a `List` object with `t1` and `t2` and make a temporary dataframe from this list to then union the two dataframes ? If so how do I manage the `Id` column ? Isn&#39;t it too much a mess for such a simple operation ?\r\n\r\nCan someone explain me please ?\r\n\r\nThanks.","title":"Add row to Spark Dataframe with timestamps and id","body":"<p>I have a dataframe named <code>timeDF</code> which has the schema below:</p>\n<pre><code>root\n |-- Id: long (nullable = true)\n |-- Model: timestamp (nullable = true)\n |-- Prevision: timestamp (nullable = true)\n</code></pre>\n<p>I want to add a new row at the end of <code>timeDF</code> by transforming two <code>Calendar</code> objects <code>c1</code> &amp; <code>c2</code> to <code>Timestamp</code>. I know I can do it by first converting them to <code>Timestamp</code> like so :</p>\n<pre><code>val t1 = new Timestamp(c1.getTimeInMillis)\nval t2 = new Timestamp(c2.getTimeInMillis)\n</code></pre>\n<p>However, I can't figure out how I then write those variables to <code>timeDF</code> as a new row, and how to let spark increase the <code>Id</code> column value ?</p>\n<p>Should I create a <code>List</code> object with <code>t1</code> and <code>t2</code> and make a temporary dataframe from this list to then union the two dataframes ? If so how do I manage the <code>Id</code> column ? Isn't it too much a mess for such a simple operation ?</p>\n<p>Can someone explain me please ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","dependency-injection","dagger"],"comments":[{"owner":{"account_id":10857672,"reputation":3249,"user_id":12125691,"display_name":"Nitrodon"},"score":0,"creation_date":1635431386,"post_id":69743687,"comment_id":123301449,"body_markdown":"How are you obtaining an instance of `BackendImp`?","body":"How are you obtaining an instance of <code>BackendImp</code>?"},{"owner":{"account_id":17060304,"reputation":84,"user_id":12343905,"display_name":"Federremu"},"score":0,"creation_date":1635435414,"post_id":69743687,"comment_id":123303411,"body_markdown":"Very good observation. I had not considered that it could influence. I get backendImp with a new in MainApp which I then use to call its functions. backendService = new BackendImp (); Is that the problem? how should i do it? I will edit the question with the missing code","body":"Very good observation. I had not considered that it could influence. I get backendImp with a new in MainApp which I then use to call its functions. backendService = new BackendImp (); Is that the problem? how should i do it? I will edit the question with the missing code"}],"answers":[{"tags":[],"owner":{"account_id":10857672,"reputation":3249,"user_id":12125691,"display_name":"Nitrodon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635456078,"creation_date":1635456078,"answer_id":69761083,"question_id":69743687,"body_markdown":"Dagger doesn&#39;t hook into constructor calls.  You have to tell Dagger to inject dependencies into `BackendImp`.\r\n\r\nYou have an `inject(BackendImp inject)` method in your activity component.  This would work, but it&#39;s in the wrong place, so your application class can&#39;t access it.  Putting this method in the application component would work:\r\n\r\n```java\r\n   @Override\r\n   public void onCreate () {\r\n         \r\n      super.onCreate ();\r\n      backendService = new BackendImp();\r\n      // I assume you created the application component somewhere in here.\r\n      component.inject(backendService);\r\n  }\r\n```\r\n\r\nHowever, members injection methods are generally discouraged where they can be avoided.  There&#39;s no other choice in `Activity` subclasses, since they are instantiated by the framework, but something like `BackendImp` is entirely under your control, so you can and should let Dagger create it for you.\r\n\r\nTo do this, place `BackendImp` itself in the application component by giving it the `@Singleton` scope and an `@Inject` constructor:\r\n\r\n```java\r\n@Singleton\r\npublic class BackendImp {\r\n    final DataAccessInterface dataAccessInterface;\r\n\r\n    @Inject\r\n    BackendImp(DataAccessInterface dataAccessInterface) {\r\n        this.dataAccessInterface = dataAccessInterface;\r\n    }\r\n\r\n    // ...\r\n}\r\n\r\n@Singleton\r\n@Component(modules = ApplicationModule.class)\r\npublic interface ApplicationComponent {\r\n\r\n    // ...\r\n\r\n    // Use this in your application instead of new BackendImp()\r\n    BackendImp backendImp(); \r\n\r\n    // Many tutorials instead suggest making an @Inject field in\r\n    // your application and calling inject(application).\r\n}\r\n```","title":"How to get a singleton injection in a class with Dagger in android","body":"<p>Dagger doesn't hook into constructor calls.  You have to tell Dagger to inject dependencies into <code>BackendImp</code>.</p>\n<p>You have an <code>inject(BackendImp inject)</code> method in your activity component.  This would work, but it's in the wrong place, so your application class can't access it.  Putting this method in the application component would work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Override\n   public void onCreate () {\n         \n      super.onCreate ();\n      backendService = new BackendImp();\n      // I assume you created the application component somewhere in here.\n      component.inject(backendService);\n  }\n</code></pre>\n<p>However, members injection methods are generally discouraged where they can be avoided.  There's no other choice in <code>Activity</code> subclasses, since they are instantiated by the framework, but something like <code>BackendImp</code> is entirely under your control, so you can and should let Dagger create it for you.</p>\n<p>To do this, place <code>BackendImp</code> itself in the application component by giving it the <code>@Singleton</code> scope and an <code>@Inject</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class BackendImp {\n    final DataAccessInterface dataAccessInterface;\n\n    @Inject\n    BackendImp(DataAccessInterface dataAccessInterface) {\n        this.dataAccessInterface = dataAccessInterface;\n    }\n\n    // ...\n}\n\n@Singleton\n@Component(modules = ApplicationModule.class)\npublic interface ApplicationComponent {\n\n    // ...\n\n    // Use this in your application instead of new BackendImp()\n    BackendImp backendImp(); \n\n    // Many tutorials instead suggest making an @Inject field in\n    // your application and calling inject(application).\n}\n</code></pre>\n"}],"owner":{"account_id":17060304,"reputation":84,"user_id":12343905,"display_name":"Federremu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635456078,"creation_date":1635358923,"question_id":69743687,"body_markdown":"There is the DataAccessInterface class that is in charge of managing the database:\r\n\r\n    public class DataAccessInterface {\r\n    \r\n        private DaoSession daoSession;\r\n        public DataAccessInterface () {\r\n        }\r\n    ...\r\n         public void saveCar (Car car) {\r\n             daoSession.getCarDao (). insert (car);\r\n         }\r\n    }\r\n\r\nDataAccessInterface injection is used in several Fragments with success. Example:\r\n\r\n    public class LoginFragment extends BaseFragment {\r\n        @Inject\r\n        DataAccessInterface dataAccessInterface;\r\n    \r\n    ...\r\n        public boolean initDatabase () throws SyncDataBaseException {\r\n            try {\r\n                dataAccessInterface.openSession (currentUser.getUsername ());\r\n            } catch (Exception e) {\r\n                throw new SyncDataBaseException ();\r\n            }\r\n            return true;\r\n        }\r\n    ...\r\n    }\r\n\r\nThere is a BackendImp class (No Fragment or Activity) that in the background queries a rest service and saves the response in the database. The injection does not work, it is always null:\r\n\r\n    public class BackendImp {\r\n        @Inject\r\n        DataAccessInterface dataAccessInterface;\r\n    \r\n    public void save () {\r\n    Car car = unloadCar ()\r\n    dataAccessInterface.saveCar (car);\r\n    }\r\n\r\nThe AbstractActivityComponent looks like this\r\n\r\n    @PerActivity\r\n    @Component (dependencies = ApplicationComponent.class, modules = ActivityModule.class)\r\n    public interface AbstractActivityComponent {\r\n    \r\n       Activity activity ();\r\n        final class Initializer {\r\n            public static AbstractActivityComponent init (Activity activity) {\r\n                return DaggerAbstractActivityComponent.builder ()\r\n                        .applicationComponent (DaggerManager.getInstance (). appComponent ())\r\n                        .activityModule (new ActivityModule (activity))\r\n                        .build ();\r\n            }\r\n        }\r\n        void inject (LoginFragment inject);\r\n        void inject (BackendImp inject);\r\n    }\r\nApplicationModule:\r\n\r\n    @Module\r\n    public class ApplicationModule {\r\n        private final Application application;\r\n        private final User currentUser;\r\n    \r\n        public ApplicationModule (Application application) {\r\n            this.application = application;\r\n            this.currentUser = getUser ();\r\n        }\r\n        @Provides\r\n        @Singleton\r\n        DataAccessInterface dataAccessInterface () {\r\n            return new DataAccessInterface (userProfile ());\r\n        }\r\n    }\r\n\r\nAnd ApplicationComponent \r\n\r\n    @Singleton\r\n    @Component(modules = ApplicationModule.class)\r\n    public interface ApplicationComponent {\r\n    \r\n        void inject(Application application);\r\n    \r\n        final class Initializer {\r\n    \r\n            public static ApplicationComponent init(Application app) {\r\n                return DaggerApplicationComponent.builder()\r\n                        .applicationModule(new ApplicationModule(app))\r\n                        .build();\r\n            }\r\n        }\r\n    \r\n        Application application();\r\n        Context context();\r\n        DataAccessInterface dataAccessInterface();\r\n    }\r\n\r\n**Error:\r\nW/System.err: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.service.DataAccessInterface.saveCar(Car)&#39; on a null object reference**\r\n\r\n\r\n\r\n**Edit:**\r\n\r\n\r\nBased on Nitrodon&#39;s question in the comments:\r\nThe BackendImp functions are called from a Worker, since they will be done every hour. I wanted a single instance so I did the following which is probably wrong:\r\n\r\n    public class MainApp extends Application {\r\n    \r\n       public static BackendService backendService;\r\n\r\n       @Override\r\n       public void onCreate () {\r\n             \r\n          super.onCreate ();\r\n          backendService = new BackendImp ();\r\n      }\r\n\r\n      public static void callWorker () {\r\n          ...\r\n       \r\n          workManager.enqueue (updateWorkRequest);\r\n      }\r\n\r\nAnd the Worker:\r\n\r\n    public class updateWorker extends Worker {\r\n       ...\r\n\r\n       @Override\r\n       public Result doWork () {\r\n             Result result = Result.retry ();\r\n    \r\n             try {\r\n                backend = MainApp.backendService;\r\n                 backend.save ();\r\n                 result = Result.success ();\r\n             } catch (Exception e) {\r\n                 result = Result.retry ();\r\n             }\r\n             return result;\r\n         }","title":"How to get a singleton injection in a class with Dagger in android","body":"<p>There is the DataAccessInterface class that is in charge of managing the database:</p>\n<pre><code>public class DataAccessInterface {\n\n    private DaoSession daoSession;\n    public DataAccessInterface () {\n    }\n...\n     public void saveCar (Car car) {\n         daoSession.getCarDao (). insert (car);\n     }\n}\n</code></pre>\n<p>DataAccessInterface injection is used in several Fragments with success. Example:</p>\n<pre><code>public class LoginFragment extends BaseFragment {\n    @Inject\n    DataAccessInterface dataAccessInterface;\n\n...\n    public boolean initDatabase () throws SyncDataBaseException {\n        try {\n            dataAccessInterface.openSession (currentUser.getUsername ());\n        } catch (Exception e) {\n            throw new SyncDataBaseException ();\n        }\n        return true;\n    }\n...\n}\n</code></pre>\n<p>There is a BackendImp class (No Fragment or Activity) that in the background queries a rest service and saves the response in the database. The injection does not work, it is always null:</p>\n<pre><code>public class BackendImp {\n    @Inject\n    DataAccessInterface dataAccessInterface;\n\npublic void save () {\nCar car = unloadCar ()\ndataAccessInterface.saveCar (car);\n}\n</code></pre>\n<p>The AbstractActivityComponent looks like this</p>\n<pre><code>@PerActivity\n@Component (dependencies = ApplicationComponent.class, modules = ActivityModule.class)\npublic interface AbstractActivityComponent {\n\n   Activity activity ();\n    final class Initializer {\n        public static AbstractActivityComponent init (Activity activity) {\n            return DaggerAbstractActivityComponent.builder ()\n                    .applicationComponent (DaggerManager.getInstance (). appComponent ())\n                    .activityModule (new ActivityModule (activity))\n                    .build ();\n        }\n    }\n    void inject (LoginFragment inject);\n    void inject (BackendImp inject);\n}\n</code></pre>\n<p>ApplicationModule:</p>\n<pre><code>@Module\npublic class ApplicationModule {\n    private final Application application;\n    private final User currentUser;\n\n    public ApplicationModule (Application application) {\n        this.application = application;\n        this.currentUser = getUser ();\n    }\n    @Provides\n    @Singleton\n    DataAccessInterface dataAccessInterface () {\n        return new DataAccessInterface (userProfile ());\n    }\n}\n</code></pre>\n<p>And ApplicationComponent</p>\n<pre><code>@Singleton\n@Component(modules = ApplicationModule.class)\npublic interface ApplicationComponent {\n\n    void inject(Application application);\n\n    final class Initializer {\n\n        public static ApplicationComponent init(Application app) {\n            return DaggerApplicationComponent.builder()\n                    .applicationModule(new ApplicationModule(app))\n                    .build();\n        }\n    }\n\n    Application application();\n    Context context();\n    DataAccessInterface dataAccessInterface();\n}\n</code></pre>\n<p><strong>Error:\nW/System.err: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.service.DataAccessInterface.saveCar(Car)' on a null object reference</strong></p>\n<p><strong>Edit:</strong></p>\n<p>Based on Nitrodon's question in the comments:\nThe BackendImp functions are called from a Worker, since they will be done every hour. I wanted a single instance so I did the following which is probably wrong:</p>\n<pre><code>public class MainApp extends Application {\n\n   public static BackendService backendService;\n\n   @Override\n   public void onCreate () {\n         \n      super.onCreate ();\n      backendService = new BackendImp ();\n  }\n\n  public static void callWorker () {\n      ...\n   \n      workManager.enqueue (updateWorkRequest);\n  }\n</code></pre>\n<p>And the Worker:</p>\n<pre><code>public class updateWorker extends Worker {\n   ...\n\n   @Override\n   public Result doWork () {\n         Result result = Result.retry ();\n\n         try {\n            backend = MainApp.backendService;\n             backend.save ();\n             result = Result.success ();\n         } catch (Exception e) {\n             result = Result.retry ();\n         }\n         return result;\n     }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1635391418,"post_id":69747829,"comment_id":123287013,"body_markdown":"can you show me your log cat","body":"can you show me your log cat"},{"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"score":0,"creation_date":1635393123,"post_id":69747829,"comment_id":123287281,"body_markdown":"@VishalBeep Sure, at what level is good, verbose? And do you specifically want the log cat for firebase?","body":"@VishalBeep Sure, at what level is good, verbose? And do you specifically want the log cat for firebase?"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1635393937,"post_id":69747829,"comment_id":123287405,"body_markdown":"post your log cat where the error occurred.","body":"post your log cat where the error occurred."},{"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"score":0,"creation_date":1635394983,"post_id":69747829,"comment_id":123287580,"body_markdown":"@VishalBeep Oh, my app is not crashing and has no errors in log cat. When I attempt to connect to firebase, I look at message it sends back as a string and it tell me a &quot;network error&quot; occurred etc for why the login attempt was not accepted.","body":"@VishalBeep Oh, my app is not crashing and has no errors in log cat. When I attempt to connect to firebase, I look at message it sends back as a string and it tell me a &quot;network error&quot; occurred etc for why the login attempt was not accepted."},{"owner":{"account_id":15687317,"reputation":122,"user_id":11319596,"display_name":"Kakyire"},"score":0,"creation_date":1635396660,"post_id":69747829,"comment_id":123287890,"body_markdown":"If you were previously using `Firebase Emulator` comment the code related to the emulator and you will be able to login.","body":"If you were previously using <code>Firebase Emulator</code> comment the code related to the emulator and you will be able to login."},{"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"score":0,"creation_date":1635397351,"post_id":69747829,"comment_id":123287981,"body_markdown":"@KakyireLastBorn I haven&#39;t tried using that, but I&#39;ll comment if it get anything working.","body":"@KakyireLastBorn I haven&#39;t tried using that, but I&#39;ll comment if it get anything working."},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1635397905,"post_id":69747829,"comment_id":123288073,"body_markdown":"@user10773921 do you enabled email auth provider in firebase","body":"@user10773921 do you enabled email auth provider in firebase"},{"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"score":0,"creation_date":1635399540,"post_id":69747829,"comment_id":123288381,"body_markdown":"@VishalBeep Yes, just email/password. I can try adding other providers like Google.","body":"@VishalBeep Yes, just email/password. I can try adding other providers like Google."},{"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"score":0,"creation_date":1635455807,"post_id":69747829,"comment_id":123310761,"body_markdown":"@VishalBeep I had no luck with other providers. I did noticed the firebase response has a method for error stack trace. I&#39;ve added it to my post but it seems not very informative.","body":"@VishalBeep I had no luck with other providers. I did noticed the firebase response has a method for error stack trace. I&#39;ve added it to my post but it seems not very informative."},{"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"score":0,"creation_date":1635455815,"post_id":69747829,"comment_id":123310765,"body_markdown":"@KakyireLastBorn I setup the emulator, and my code works without any other changes. I&#39;ve added the code to my post. Honestly, since the emulator works, I&#39;m thinking I&#39;ll use it until I decide on another authentication service to use.","body":"@KakyireLastBorn I setup the emulator, and my code works without any other changes. I&#39;ve added the code to my post. Honestly, since the emulator works, I&#39;m thinking I&#39;ll use it until I decide on another authentication service to use."}],"owner":{"account_id":14921928,"reputation":63,"user_id":10773921,"display_name":"user10773921"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1635455801,"creation_date":1635390568,"question_id":69747829,"body_markdown":"I&#39;m trying to authenticate with firebase. My initial error in android was `[ Cleartext HTTP traffic to 10.0.2.2 not permitted ]`. I read how, and enabled Cleartext. So now, I get responses from firebase. But it&#39;s always &quot;a network error&quot; stating the cause may be a timeout or unreachable host. \r\n\r\nI&#39;ve been reading what I could, and I&#39;m not sure what to do next or what I over looked. Here are the steps I&#39;ve made\r\n\r\n\r\n\r\n - Enabled Clear Text Traffic in manifest.xml\r\n - Created a network_security_config and specified it in my manfiest.xml\r\n - Updated firebase auth and google services dependendicies in gradle\r\n - Tried on a on real device (still fails)\r\n - Updated google play services on android emulator \r\n - Verified android emulator has internet access\r\n - Verified my Firebase project has my AppID and SHA-1\r\n - Verified Email authentication is enabled\r\n\r\nHere&#39;s my call to firebase:\r\n```\r\nauth().createUserWithEmailAndPassword(data.email, data.password).addOnCompleteListener(\r\n                    (task) -&gt; {\r\n                        hideProgressBar();\r\n                        if (task.isSuccessful()) {\r\n                           //do stuff on success...                   \r\n                        } else {\r\n                            String localizedMessage = task.getException().getLocalizedMessage();\r\n                            errorText.setText(localizedMessage);\r\n                        }\r\n                    }\r\n```\r\n\r\nMy Manifest.xml:\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:name=&quot;.MyApp&quot;&gt;\r\n\r\n```\r\n\r\nMy security config res/xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;10.0.2.2&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n```\r\nI tried using the `Firebase Emulator`. Everything worked when emulating the auth instance\r\n```\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        // Unchanged code\r\n        View v = inflater.inflate(getLayoutId(), container, false);\r\n        initVM();\r\n        progressBar = v.findViewById(R.id.progress_bar);\r\n        errorText = v.findViewById(R.id.error_text);\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        //Added emulator code \r\n        auth.useEmulator(&quot;10.0.2.2&quot;, 9099);\r\n        return v;\r\n    }\r\n\r\n```\r\nThe `Stack Trace` firebase has on failures\r\n\r\n```\r\nW/System: Ignoring header X-Firebase-Locale because its value was null.\r\nW/LoginScreen: signInWithCredential:failure\r\n    com.google.firebase.FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\r\n        at com.google.android.gms.internal.firebase-auth-api.zzto.zza(com.google.firebase:firebase-auth@@21.0.1:17)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzuw.zza(com.google.firebase:firebase-auth@@21.0.1:9)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzux.zzl(com.google.firebase:firebase-auth@@21.0.1:1)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzuu.zzk(com.google.firebase:firebase-auth@@21.0.1:25)\r\n        at com.google.android.gms.internal.firebase-auth-api.zztl.zzh(com.google.firebase:firebase-auth@@21.0.1:1)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzpm.zza(com.google.firebase:firebase-auth@@21.0.1:2)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzvb.zza(com.google.firebase:firebase-auth@@21.0.1:28)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzul.zzq(com.google.firebase:firebase-auth@@21.0.1:4)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzpt.zzA(com.google.firebase:firebase-auth@@21.0.1:4)\r\n        at com.google.android.gms.internal.firebase-auth-api.zztp.zzv(com.google.firebase:firebase-auth@@21.0.1:5)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzsb.zzd(com.google.firebase:firebase-auth@@21.0.1:3)\r\n        at com.google.android.gms.internal.firebase-auth-api.zzsa.accept(Unknown Source:6)\r\n        at com.google.android.gms.common.api.internal.zacj.doExecute(com.google.android.gms:play-services-base@@17.5.0:2)\r\n        at com.google.android.gms.common.api.internal.zah.zaa(com.google.android.gms:play-services-base@@17.5.0:9)\r\n        at com.google.android.gms.common.api.internal.GoogleApiManager$zaa.zac(com.google.android.gms:play-services-base@@17.5.0:193)\r\n        at com.google.android.gms.common.api.internal.GoogleApiManager$zaa.zab(com.google.android.gms:play-services-base@@17.5.0:158)\r\n        at com.google.android.gms.common.api.internal.GoogleApiManager$zaa.zaa(com.google.android.gms:play-services-base@@17.5.0:126)\r\n        at com.google.android.gms.common.api.internal.GoogleApiManager.handleMessage(com.google.android.gms:play-services-base@@17.5.0:164)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n\r\n\r\n```","title":"Can&#39;t sign in with Firebase Auth on android","body":"<p>I'm trying to authenticate with firebase. My initial error in android was <code>[ Cleartext HTTP traffic to 10.0.2.2 not permitted ]</code>. I read how, and enabled Cleartext. So now, I get responses from firebase. But it's always &quot;a network error&quot; stating the cause may be a timeout or unreachable host.</p>\n<p>I've been reading what I could, and I'm not sure what to do next or what I over looked. Here are the steps I've made</p>\n<ul>\n<li>Enabled Clear Text Traffic in manifest.xml</li>\n<li>Created a network_security_config and specified it in my manfiest.xml</li>\n<li>Updated firebase auth and google services dependendicies in gradle</li>\n<li>Tried on a on real device (still fails)</li>\n<li>Updated google play services on android emulator</li>\n<li>Verified android emulator has internet access</li>\n<li>Verified my Firebase project has my AppID and SHA-1</li>\n<li>Verified Email authentication is enabled</li>\n</ul>\n<p>Here's my call to firebase:</p>\n<pre><code>auth().createUserWithEmailAndPassword(data.email, data.password).addOnCompleteListener(\n                    (task) -&gt; {\n                        hideProgressBar();\n                        if (task.isSuccessful()) {\n                           //do stuff on success...                   \n                        } else {\n                            String localizedMessage = task.getException().getLocalizedMessage();\n                            errorText.setText(localizedMessage);\n                        }\n                    }\n</code></pre>\n<p>My Manifest.xml:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:name=&quot;.MyApp&quot;&gt;\n\n</code></pre>\n<p>My security config res/xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;10.0.2.2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p>I tried using the <code>Firebase Emulator</code>. Everything worked when emulating the auth instance</p>\n<pre><code>    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        // Unchanged code\n        View v = inflater.inflate(getLayoutId(), container, false);\n        initVM();\n        progressBar = v.findViewById(R.id.progress_bar);\n        errorText = v.findViewById(R.id.error_text);\n        auth = FirebaseAuth.getInstance();\n\n        //Added emulator code \n        auth.useEmulator(&quot;10.0.2.2&quot;, 9099);\n        return v;\n    }\n\n</code></pre>\n<p>The <code>Stack Trace</code> firebase has on failures</p>\n<pre><code>W/System: Ignoring header X-Firebase-Locale because its value was null.\nW/LoginScreen: signInWithCredential:failure\n    com.google.firebase.FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\n        at com.google.android.gms.internal.firebase-auth-api.zzto.zza(com.google.firebase:firebase-auth@@21.0.1:17)\n        at com.google.android.gms.internal.firebase-auth-api.zzuw.zza(com.google.firebase:firebase-auth@@21.0.1:9)\n        at com.google.android.gms.internal.firebase-auth-api.zzux.zzl(com.google.firebase:firebase-auth@@21.0.1:1)\n        at com.google.android.gms.internal.firebase-auth-api.zzuu.zzk(com.google.firebase:firebase-auth@@21.0.1:25)\n        at com.google.android.gms.internal.firebase-auth-api.zztl.zzh(com.google.firebase:firebase-auth@@21.0.1:1)\n        at com.google.android.gms.internal.firebase-auth-api.zzpm.zza(com.google.firebase:firebase-auth@@21.0.1:2)\n        at com.google.android.gms.internal.firebase-auth-api.zzvb.zza(com.google.firebase:firebase-auth@@21.0.1:28)\n        at com.google.android.gms.internal.firebase-auth-api.zzul.zzq(com.google.firebase:firebase-auth@@21.0.1:4)\n        at com.google.android.gms.internal.firebase-auth-api.zzpt.zzA(com.google.firebase:firebase-auth@@21.0.1:4)\n        at com.google.android.gms.internal.firebase-auth-api.zztp.zzv(com.google.firebase:firebase-auth@@21.0.1:5)\n        at com.google.android.gms.internal.firebase-auth-api.zzsb.zzd(com.google.firebase:firebase-auth@@21.0.1:3)\n        at com.google.android.gms.internal.firebase-auth-api.zzsa.accept(Unknown Source:6)\n        at com.google.android.gms.common.api.internal.zacj.doExecute(com.google.android.gms:play-services-base@@17.5.0:2)\n        at com.google.android.gms.common.api.internal.zah.zaa(com.google.android.gms:play-services-base@@17.5.0:9)\n        at com.google.android.gms.common.api.internal.GoogleApiManager$zaa.zac(com.google.android.gms:play-services-base@@17.5.0:193)\n        at com.google.android.gms.common.api.internal.GoogleApiManager$zaa.zab(com.google.android.gms:play-services-base@@17.5.0:158)\n        at com.google.android.gms.common.api.internal.GoogleApiManager$zaa.zaa(com.google.android.gms:play-services-base@@17.5.0:126)\n        at com.google.android.gms.common.api.internal.GoogleApiManager.handleMessage(com.google.android.gms:play-services-base@@17.5.0:164)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n\n\n</code></pre>\n"},{"tags":["java","android","android-studio","cryptography"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1635456294,"post_id":69761011,"comment_id":123310927,"body_markdown":"Instead of a `FileOutputStream` write the results to a `ByteArrayOutputStream`.","body":"Instead of a <code>FileOutputStream</code> write the results to a <code>ByteArrayOutputStream</code>."},{"owner":{"account_id":9621963,"reputation":55,"user_id":7142889,"display_name":"Sandeep"},"score":0,"creation_date":1635462091,"post_id":69761011,"comment_id":123312270,"body_markdown":"thank you.. worked","body":"thank you.. worked"}],"owner":{"account_id":9621963,"reputation":55,"user_id":7142889,"display_name":"Sandeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635455626,"creation_date":1635455626,"question_id":69761011,"body_markdown":"I am trying to decrypt the file which is saved in file system. And I again saving the decrypted (raw private key) to file system. Here is the code\r\n\r\n```FileInputStream fileInputStreams = new FileInputStream(this.getFilesDir() + &quot;/encryptedKey&quot;);\r\n\r\n        String decryptKey = &quot;b6481a9253b76bd1629cbdf69a019aca23575caf1b78316c1dc257b8d4ba7e55&quot;;\r\n        MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n        byte[] digestOfPassword = md.digest(decryptKey.getBytes(&quot;UTF-16LE&quot;));\r\n\r\n        FileOutputStream fos = new FileOutputStream(this.getFilesDir() + &quot;/decrypted&quot;);\r\n\r\n        SecretKeySpec sks = new SecretKeySpec(digestOfPassword, &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, sks);\r\n\r\n\r\n        CipherInputStream cis = new CipherInputStream(fileInputStreams, cipher);//fis\r\n        int b;\r\n        byte[] d = new byte[8];\r\n        while ((b = cis.read(d)) != -1) {\r\n            fos.write(d, 0, b);\r\n        }\r\n```\r\n\r\nbut I don&#39;t want to save the decrypted file to the device file system instead want to turn the input stream into a private key object. How to achieve this?","title":"decrypt a file in android","body":"<p>I am trying to decrypt the file which is saved in file system. And I again saving the decrypted (raw private key) to file system. Here is the code</p>\n<pre><code>\n        String decryptKey = &quot;b6481a9253b76bd1629cbdf69a019aca23575caf1b78316c1dc257b8d4ba7e55&quot;;\n        MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\n        byte[] digestOfPassword = md.digest(decryptKey.getBytes(&quot;UTF-16LE&quot;));\n\n        FileOutputStream fos = new FileOutputStream(this.getFilesDir() + &quot;/decrypted&quot;);\n\n        SecretKeySpec sks = new SecretKeySpec(digestOfPassword, &quot;AES&quot;);\n        Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, sks);\n\n\n        CipherInputStream cis = new CipherInputStream(fileInputStreams, cipher);//fis\n        int b;\n        byte[] d = new byte[8];\n        while ((b = cis.read(d)) != -1) {\n            fos.write(d, 0, b);\n        }\n</code></pre>\n<p>but I don't want to save the decrypted file to the device file system instead want to turn the input stream into a private key object. How to achieve this?</p>\n"},{"tags":["java","eclipse","java-11","java-platform-module-system"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1635483935,"post_id":69760969,"comment_id":123315733,"body_markdown":"Since `java.xml` is part of the system library, it can be excluded (assuming it is not required, which is unlikely in your case), but it cannot be moved to the classpath. You have to get rid of this dependency to be able to migrate your project from Java 8 to 11.","body":"Since <code>java.xml</code> is part of the system library, it can be excluded (assuming it is not required, which is unlikely in your case), but it cannot be moved to the classpath. You have to get rid of this dependency to be able to migrate your project from Java 8 to 11."}],"owner":{"account_id":2147869,"reputation":13,"user_id":5090265,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635455396,"creation_date":1635455396,"question_id":69760969,"body_markdown":"When migrating from Java 8 to Java 11, I am seeing the following warnings in Eclipse[Version: 2021-09 (4.21.0)].  \r\n```\r\nThe package javax.xml.datatype is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\nDatatypeConfigurationException cannot be resolved to a type\r\nDatatypeFactory cannot be resolved\r\n```\r\n[Eclipse error][1]\r\n\r\n[Split packages][2]\r\n\r\nI understand that two modules can not have same package. There is not a way to remove ```java.xml``` module from JRE 11 module path as it removes other dependent packages and causing more errors. \r\n\r\nI am using ivy dependency manager. When I add ```&lt;exclude org=&quot;xml-apis&quot;/&gt;``` in ivy.xml, the Eclipse errors go away but it is required at run-time and caused ```NoClassDefFoundError```.\r\n\r\nI see that others have ran into this and the solution that worked for them is to remove the jar from the classpath but that is not working because of ```NoClassDefFoundError```.\r\n\r\nIs there a setting that will tell Eclipse to refer to class path for ```java.xml``` package instead of module path? \r\n\r\nAny help is appreciated. Thank you for your time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zUvC3.png\r\n  [2]: https://i.stack.imgur.com/fxdqD.png","title":"Eclipse error The package javax.xml.datatype is accessible from more than one module: &lt;unnamed&gt;, java.xml - split packaging","body":"<p>When migrating from Java 8 to Java 11, I am seeing the following warnings in Eclipse[Version: 2021-09 (4.21.0)].</p>\n<pre><code>The package javax.xml.datatype is accessible from more than one module: &lt;unnamed&gt;, java.xml\nDatatypeConfigurationException cannot be resolved to a type\nDatatypeFactory cannot be resolved\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zUvC3.png\" rel=\"nofollow noreferrer\">Eclipse error</a></p>\n<p><a href=\"https://i.stack.imgur.com/fxdqD.png\" rel=\"nofollow noreferrer\">Split packages</a></p>\n<p>I understand that two modules can not have same package. There is not a way to remove <code>java.xml</code> module from JRE 11 module path as it removes other dependent packages and causing more errors.</p>\n<p>I am using ivy dependency manager. When I add <code>&lt;exclude org=&quot;xml-apis&quot;/&gt;</code> in ivy.xml, the Eclipse errors go away but it is required at run-time and caused <code>NoClassDefFoundError</code>.</p>\n<p>I see that others have ran into this and the solution that worked for them is to remove the jar from the classpath but that is not working because of <code>NoClassDefFoundError</code>.</p>\n<p>Is there a setting that will tell Eclipse to refer to class path for <code>java.xml</code> package instead of module path?</p>\n<p>Any help is appreciated. Thank you for your time.</p>\n"},{"tags":["java","jpa","glassfish","jpql","toplink-essentials"],"answers":[{"tags":[],"owner":{"account_id":7814,"reputation":2607,"user_id":13703,"accept_rate":60,"display_name":"Loren_"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1255452520,"creation_date":1255452520,"answer_id":1561493,"question_id":1557085,"body_markdown":"I found the answer, providing a list as a parameter is not supported in JPA 1.0; however, it is supported in JPA 2.0.  \r\n\r\nThe default persistence provider for Glassfish v2.1 is Toplink which implements JPA 1.0, to get JPA 2.0 you need EclipseLink which is the default for the Glassfish v3 preview or can be plugged into v2.1.\r\n\r\n-\r\nLoren","title":"Setting a parameter as a list for an IN expression","body":"<p>I found the answer, providing a list as a parameter is not supported in JPA 1.0; however, it is supported in JPA 2.0.  </p>\n\n<p>The default persistence provider for Glassfish v2.1 is Toplink which implements JPA 1.0, to get JPA 2.0 you need EclipseLink which is the default for the Glassfish v3 preview or can be plugged into v2.1.</p>\n\n<p>-\nLoren</p>\n"},{"tags":[],"owner":{"account_id":7814,"reputation":2607,"user_id":13703,"accept_rate":60,"display_name":"Loren_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635455349,"creation_date":1268858365,"answer_id":2465713,"question_id":1557085,"body_markdown":"Oh, and if you can&#39;t use EclipseLink for some reason then here is a method you can use to add the needed bits to your query.  Just insert the resulting string into your query where you would put &quot;a.id IN (:ids)&quot;.\r\n\r\n```java\r\n    /** \r\n     * @param field The jpql notation for the field you want to evaluate\r\n     * @param collection The collection of objects you want to test against\r\n     * @return Jpql that can be concatenated into a query to test if a feild is in a collection of objects\r\n     */\r\n    public String in(String field, List collection) {\r\n        String queryString = new String();\r\n        queryString = queryString.concat(&quot; AND (&quot;);\r\n        int size = collection.size();\r\n        for(int i = 0; i &amp;gt size; i++) {\r\n            queryString = queryString.concat(&quot; &quot;+field+&quot; = &#39;&quot;+collection.get(i)+&quot;&#39;&quot;);\r\n            if(i &amp;gt size-1) {\r\n                queryString = queryString.concat(&quot; OR&quot;);\r\n            }\r\n        }\r\n        queryString = queryString.concat(&quot; )&quot;);\r\n        return queryString;\r\n    }\r\n```","title":"Setting a parameter as a list for an IN expression","body":"<p>Oh, and if you can't use EclipseLink for some reason then here is a method you can use to add the needed bits to your query.  Just insert the resulting string into your query where you would put &quot;a.id IN (:ids)&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /** \n     * @param field The jpql notation for the field you want to evaluate\n     * @param collection The collection of objects you want to test against\n     * @return Jpql that can be concatenated into a query to test if a feild is in a collection of objects\n     */\n    public String in(String field, List collection) {\n        String queryString = new String();\n        queryString = queryString.concat(&quot; AND (&quot;);\n        int size = collection.size();\n        for(int i = 0; i &amp;gt size; i++) {\n            queryString = queryString.concat(&quot; &quot;+field+&quot; = '&quot;+collection.get(i)+&quot;'&quot;);\n            if(i &amp;gt size-1) {\n                queryString = queryString.concat(&quot; OR&quot;);\n            }\n        }\n        queryString = queryString.concat(&quot; )&quot;);\n        return queryString;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":782219,"reputation":151,"user_id":833328,"display_name":"dillip"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1506597889,"creation_date":1310034606,"answer_id":6609213,"question_id":1557085,"body_markdown":"Hope this helps some one. I have faced the issue and did the following to resolve (using eclipselink 2.2.0)\r\n\r\n\r\n1. I had JavaEE jar as well as jpa 2 jar(javax.persistence*2*) in the class path. Removed the JavaEE from the class path.\r\n\r\n2. I was using something like  `&quot;  idItm IN  ( :itemIds ) &quot;` which was throwing the exception :\r\n\r\n&gt; type class java.util.ArrayList for parameter itemIds with expected\r\n&gt; type of class java.lang.String from query string\r\n\r\nSolution: I just changed the in condition to  `&quot;  idItm IN  :itemIds  &quot;`, i.e. I removed the brackets ().\r\n","title":"Setting a parameter as a list for an IN expression","body":"<p>Hope this helps some one. I have faced the issue and did the following to resolve (using eclipselink 2.2.0)</p>\n\n<ol>\n<li><p>I had JavaEE jar as well as jpa 2 jar(javax.persistence*2*) in the class path. Removed the JavaEE from the class path.</p></li>\n<li><p>I was using something like  <code>\"  idItm IN  ( :itemIds ) \"</code> which was throwing the exception :</p></li>\n</ol>\n\n<blockquote>\n  <p>type class java.util.ArrayList for parameter itemIds with expected\n  type of class java.lang.String from query string</p>\n</blockquote>\n\n<p>Solution: I just changed the in condition to  <code>\"  idItm IN  :itemIds  \"</code>, i.e. I removed the brackets ().</p>\n"},{"tags":[],"owner":{"account_id":1011267,"reputation":13,"user_id":1023789,"display_name":"Szymon Tarnowski"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1320154642,"creation_date":1320154642,"answer_id":7967307,"question_id":1557085,"body_markdown":"You can also try this syntax.\r\n\r\n    static public String generateCollection(List list){\r\n\t\tif(list == null || list.isEmpty())\r\n\t\t\treturn &quot;()&quot;;\r\n\t\tString result = &quot;( &quot;;\r\n\t\tfor(Iterator it = list.iterator();it.hasNext();){\r\n\t\t\tObject ob = it.next();\r\n\t\t\tresult += ob.toString();\r\n\t\t\tif(it.hasNext())\r\n\t\t\t\tresult += &quot; , &quot;;\r\n\t\t}\r\n\t\tresult += &quot; )&quot;;\r\n\t\treturn result;\r\n\t}\r\n    \r\nAnd put into query, `&quot;Select * from Class where field in &quot; + Class.generateCollection(list);`","title":"Setting a parameter as a list for an IN expression","body":"<p>You can also try this syntax.</p>\n\n<pre><code>static public String generateCollection(List list){\n    if(list == null || list.isEmpty())\n        return \"()\";\n    String result = \"( \";\n    for(Iterator it = list.iterator();it.hasNext();){\n        Object ob = it.next();\n        result += ob.toString();\n        if(it.hasNext())\n            result += \" , \";\n    }\n    result += \" )\";\n    return result;\n}\n</code></pre>\n\n<p>And put into query, <code>\"Select * from Class where field in \" + Class.generateCollection(list);</code></p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":1,"up_vote_count":54,"is_accepted":true,"score":53,"last_activity_date":1521816408,"creation_date":1320155908,"answer_id":7967570,"question_id":1557085,"body_markdown":"Your JPQL is invalid, remove the brackets\r\n\r\n    List&lt;String&gt; logins = em.createQuery(&quot;SELECT a.accountManager.loginName &quot; +\r\n        &quot;FROM Account a &quot; +\r\n        &quot;WHERE a.id IN :ids&quot;)\r\n        .setParameter(&quot;ids&quot;,Arrays.asList(new Long(1000100), new Long(1000110)))\r\n        .getResultList();\r\n\r\n","title":"Setting a parameter as a list for an IN expression","body":"<p>Your JPQL is invalid, remove the brackets</p>\n\n<pre><code>List&lt;String&gt; logins = em.createQuery(\"SELECT a.accountManager.loginName \" +\n    \"FROM Account a \" +\n    \"WHERE a.id IN :ids\")\n    .setParameter(\"ids\",Arrays.asList(new Long(1000100), new Long(1000110)))\n    .getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94158,"reputation":8434,"user_id":257233,"accept_rate":88,"display_name":"Robert Mark Bram"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1343180031,"creation_date":1343180031,"answer_id":11641495,"question_id":1557085,"body_markdown":"Try this code instead of the one supplied by @Szymon Tarnowski to add the OR list.. *warning* if you have hundreds of IDs though, you might break whatever limit is in place regarding the max length of a query.\r\n\r\n    /**\r\n     * @param field\r\n     *           The jpql notation for the field you want to evaluate\r\n     * @param collection\r\n     *           The collection of objects you want to test against\r\n     * @return Jpql that can be concatenated into a query to test if a feild is\r\n     *         in a collection of objects\r\n     */\r\n    public static String in(String field, List&lt;Integer&gt; idList) {\r\n      StringBuilder sb = new StringBuilder();\r\n      sb.append(&quot; AND (&quot;);\r\n      for(Integer id : idList) {\r\n        sb.append(&quot; &quot;).append(field).append(&quot; = &#39;&quot;).append(id).append(&quot;&#39;&quot;).append(&quot; OR &quot;);\r\n      }\r\n      String result = sb.toString();\r\n      result = result.substring(0, result.length() - 4); // Remove last OR\r\n      result += &quot;)&quot;;\r\n      return result;\r\n    }\r\n\r\nTo test this:\r\n\r\n    public static void main(String[] args) {\r\n      ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n      list.add(122);\r\n      list.add(132);\r\n      list.add(112);\r\n      System.out.println(in(&quot;myfield&quot;, list));\r\n    }\r\n\r\nWhich gave output: \r\n    AND ( myfield = &#39;122&#39; OR  myfield = &#39;132&#39; OR  myfield = &#39;112&#39;)","title":"Setting a parameter as a list for an IN expression","body":"<p>Try this code instead of the one supplied by @Szymon Tarnowski to add the OR list.. <em>warning</em> if you have hundreds of IDs though, you might break whatever limit is in place regarding the max length of a query.</p>\n\n<pre><code>/**\n * @param field\n *           The jpql notation for the field you want to evaluate\n * @param collection\n *           The collection of objects you want to test against\n * @return Jpql that can be concatenated into a query to test if a feild is\n *         in a collection of objects\n */\npublic static String in(String field, List&lt;Integer&gt; idList) {\n  StringBuilder sb = new StringBuilder();\n  sb.append(\" AND (\");\n  for(Integer id : idList) {\n    sb.append(\" \").append(field).append(\" = '\").append(id).append(\"'\").append(\" OR \");\n  }\n  String result = sb.toString();\n  result = result.substring(0, result.length() - 4); // Remove last OR\n  result += \")\";\n  return result;\n}\n</code></pre>\n\n<p>To test this:</p>\n\n<pre><code>public static void main(String[] args) {\n  ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n  list.add(122);\n  list.add(132);\n  list.add(112);\n  System.out.println(in(\"myfield\", list));\n}\n</code></pre>\n\n<p>Which gave output: \n    AND ( myfield = '122' OR  myfield = '132' OR  myfield = '112')</p>\n"},{"tags":[],"owner":{"account_id":1716149,"reputation":1981,"user_id":1573161,"accept_rate":56,"display_name":"Abhishek Chatterjee"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1374732618,"creation_date":1374732618,"answer_id":17850325,"question_id":1557085,"body_markdown":"Simply, the parameter will be List&lt;Long&gt; and set it as \r\n\r\n    &quot;...WHERE a.id IN (:ids)&quot;)\r\n    .setParameter(&quot;ids&quot;, yourlist)\r\n\r\nThis works for JPA 1.0","title":"Setting a parameter as a list for an IN expression","body":"<p>Simply, the parameter will be List and set it as </p>\n\n<pre><code>\"...WHERE a.id IN (:ids)\")\n.setParameter(\"ids\", yourlist)\n</code></pre>\n\n<p>This works for JPA 1.0</p>\n"},{"tags":[],"owner":{"account_id":2571430,"reputation":414,"user_id":2230056,"display_name":"toquart"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448897600,"creation_date":1427217486,"answer_id":29238976,"question_id":1557085,"body_markdown":"Use NamedQuery instead:\r\n\r\n    List&lt;String&gt; logins = em.createNamedQuery(&quot;Account.findByIdList&quot;).setParameter(&quot;ids&quot;, Arrays.asList(new Long(1000100), new Long(1000110))).getResultList();\r\n\r\nAdd the named query to your entity\r\n\r\n    @NamedQuery(name = &quot;Account.findByIdList&quot;, query = &quot;SELECT a.accountManager.loginName FROM Account a WHERE a.id IN :ids&quot;)","title":"Setting a parameter as a list for an IN expression","body":"<p>Use NamedQuery instead:</p>\n\n<pre><code>List&lt;String&gt; logins = em.createNamedQuery(\"Account.findByIdList\").setParameter(\"ids\", Arrays.asList(new Long(1000100), new Long(1000110))).getResultList();\n</code></pre>\n\n<p>Add the named query to your entity</p>\n\n<pre><code>@NamedQuery(name = \"Account.findByIdList\", query = \"SELECT a.accountManager.loginName FROM Account a WHERE a.id IN :ids\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548759773,"creation_date":1548759773,"answer_id":54419588,"question_id":1557085,"body_markdown":" **IN :ids** instead of  **IN (:ids)** - will work.","title":"Setting a parameter as a list for an IN expression","body":"<p><strong>IN :ids</strong> instead of  <strong>IN (:ids)</strong> - will work.</p>\n"}],"owner":{"account_id":7814,"reputation":2607,"user_id":13703,"accept_rate":60,"display_name":"Loren_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80687,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7967570,"answer_count":9,"score":32,"last_activity_date":1635455349,"creation_date":1255383467,"question_id":1557085,"body_markdown":"Whenever I try to set a list as a parameter for use in an IN expression I get an Illegal argument exception. Various posts on the internet seem to indicate that this is possible, but it&#39;s certainly not working for me. I&#39;m using Glassfish V2.1 with Toplink.  \r\n\r\nHas anyone else been able to get this to work, if so how?\r\n\r\nhere&#39;s some example code:\r\n\r\n    List&lt;String&gt; logins = em.createQuery(&quot;SELECT a.accountManager.loginName &quot; +\r\n        &quot;FROM Account a &quot; +\r\n        &quot;WHERE a.id IN (:ids)&quot;)\r\n        .setParameter(&quot;ids&quot;,Arrays.asList(new Long(1000100), new Long(1000110)))\r\n        .getResultList();\r\n\r\nand the relevant part of the stack trace:\r\n\r\n&lt;pre&gt;\r\njava.lang.IllegalArgumentException: You have attempted to set a value of type class java.util.Arrays$ArrayList for parameter accountIds with expected type of class java.lang.Long from query string SELECT a.accountManager.loginName FROM Account a WHERE a.id IN (:accountIds).\r\nat oracle.toplink.essentials.internal.ejb.cmp3.base.EJBQueryImpl.setParameterInternal(EJBQueryImpl.java:663)\r\nat oracle.toplink.essentials.internal.ejb.cmp3.EJBQueryImpl.setParameter(EJBQueryImpl.java:202)\r\nat com.corenap.newtDAO.ContactDaoBean.getNotificationAddresses(ContactDaoBean.java:437)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\nat java.lang.reflect.Method.invoke(Method.java:597)\r\nat com.sun.enterprise.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1011)\r\nat com.sun.enterprise.security.SecurityUtil.invoke(SecurityUtil.java:175)\r\nat com.sun.ejb.containers.BaseContainer.invokeTargetBeanMethod(BaseContainer.java:2920)\r\nat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4011)\r\nat com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:203)\r\n... 67 more\r\n&lt;/pre&gt;","title":"Setting a parameter as a list for an IN expression","body":"<p>Whenever I try to set a list as a parameter for use in an IN expression I get an Illegal argument exception. Various posts on the internet seem to indicate that this is possible, but it's certainly not working for me. I'm using Glassfish V2.1 with Toplink.  </p>\n\n<p>Has anyone else been able to get this to work, if so how?</p>\n\n<p>here's some example code:</p>\n\n<pre><code>List&lt;String&gt; logins = em.createQuery(\"SELECT a.accountManager.loginName \" +\n    \"FROM Account a \" +\n    \"WHERE a.id IN (:ids)\")\n    .setParameter(\"ids\",Arrays.asList(new Long(1000100), new Long(1000110)))\n    .getResultList();\n</code></pre>\n\n<p>and the relevant part of the stack trace:</p>\n\n<pre>\njava.lang.IllegalArgumentException: You have attempted to set a value of type class java.util.Arrays$ArrayList for parameter accountIds with expected type of class java.lang.Long from query string SELECT a.accountManager.loginName FROM Account a WHERE a.id IN (:accountIds).\nat oracle.toplink.essentials.internal.ejb.cmp3.base.EJBQueryImpl.setParameterInternal(EJBQueryImpl.java:663)\nat oracle.toplink.essentials.internal.ejb.cmp3.EJBQueryImpl.setParameter(EJBQueryImpl.java:202)\nat com.corenap.newtDAO.ContactDaoBean.getNotificationAddresses(ContactDaoBean.java:437)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat com.sun.enterprise.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1011)\nat com.sun.enterprise.security.SecurityUtil.invoke(SecurityUtil.java:175)\nat com.sun.ejb.containers.BaseContainer.invokeTargetBeanMethod(BaseContainer.java:2920)\nat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4011)\nat com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:203)\n... 67 more\n</pre>\n"},{"tags":["java","list","guava"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1414418314,"post_id":26589203,"comment_id":41793212,"body_markdown":"It *is* a `List`, but it&#39;s not clear why you&#39;d *need* to cast it to a `List`.","body":"It <i>is</i> a <code>List</code>, but it&#39;s not clear why you&#39;d <i>need</i> to cast it to a <code>List</code>."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1414418371,"post_id":26589203,"comment_id":41793258,"body_markdown":"*but is that all that can go wrong* -  What else do you want to go wrong??.. It does what it is meant to do...","body":"<i>but is that all that can go wrong</i> -  What else do you want to go wrong??.. It does what it is meant to do..."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1414418465,"post_id":26589203,"comment_id":41793318,"body_markdown":"the code you wrote already works as intended","body":"the code you wrote already works as intended"},{"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"score":0,"creation_date":1414418618,"post_id":26589203,"comment_id":41793411,"body_markdown":"Id like to cast it or pass it around as a List because the application I&#39;m maintaining uses List everywhere, so I&#39;d like to keep that flexibility rather than overhauling and replacing every List type with a ImmutableList type.","body":"Id like to cast it or pass it around as a List because the application I&#39;m maintaining uses List everywhere, so I&#39;d like to keep that flexibility rather than overhauling and replacing every List type with a ImmutableList type."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":2,"creation_date":1414418746,"post_id":26589203,"comment_id":41793501,"body_markdown":"@ThomasN. - Then you can pass it. *because* an *ImmutableList* is also a *List*","body":"@ThomasN. - Then you can pass it. <i>because</i> an <i>ImmutableList</i> is also a <i>List</i>"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1414418376,"creation_date":1414418376,"answer_id":26589250,"question_id":26589203,"body_markdown":"If it implements List, there&#39;s no need to cast it to `List`. You can assign it to a `List` variable or pass it to a method that expects a `List` without casting.\r\n\r\nAnd, yes, calling any of the methods that modify a `List` would throw an exception, but it would happen regardless to whether or not you cast it to `List`.","title":"Casting an ImmutableList to List","body":"<p>If it implements List, there's no need to cast it to <code>List</code>. You can assign it to a <code>List</code> variable or pass it to a method that expects a <code>List</code> without casting.</p>\n\n<p>And, yes, calling any of the methods that modify a <code>List</code> would throw an exception, but it would happen regardless to whether or not you cast it to <code>List</code>.</p>\n"},{"tags":[],"owner":{"account_id":3027632,"reputation":1789,"user_id":2567273,"accept_rate":70,"display_name":"Luminous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414505725,"creation_date":1414419665,"answer_id":26589638,"question_id":26589203,"body_markdown":"I see a bigger problem I don&#39;t think you understand. You can&#39;t cast an object *down* to the object type your object (ImmutableList) implements. `List&lt;E&gt;` is the interface to `ImmutableList`. You can cast it as type `List&lt;E&gt;`, but you&#39;d lose everything ImmutableList has/provides that List doesn&#39;t.","title":"Casting an ImmutableList to List","body":"<p>I see a bigger problem I don't think you understand. You can't cast an object <em>down</em> to the object type your object (ImmutableList) implements. <code>List&lt;E&gt;</code> is the interface to <code>ImmutableList</code>. You can cast it as type <code>List&lt;E&gt;</code>, but you'd lose everything ImmutableList has/provides that List doesn't.</p>\n"}],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9971,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26589250,"answer_count":2,"score":3,"last_activity_date":1635455300,"creation_date":1414418246,"question_id":26589203,"body_markdown":"Although my research was going in circles, it looks like Google Guava&#39;s `ImmutableList` implements `List`. So I can cast it up to a `List`, right? I know it will throw an error if one of the `List`&#39;s modification methods are used, but is that all that can go wrong?\r\n\r\n    public List&lt;Integer&gt; getList() { \r\n        return ImmutableList.of(1,2,3);\r\n    }","title":"Casting an ImmutableList to List","body":"<p>Although my research was going in circles, it looks like Google Guava's <code>ImmutableList</code> implements <code>List</code>. So I can cast it up to a <code>List</code>, right? I know it will throw an error if one of the <code>List</code>'s modification methods are used, but is that all that can go wrong?</p>\n\n<pre><code>public List&lt;Integer&gt; getList() { \n    return ImmutableList.of(1,2,3);\n}\n</code></pre>\n"},{"tags":["java","web-scraping","htmlunit"],"comments":[{"owner":{"display_name":"user5809739"},"score":0,"creation_date":1569402339,"post_id":58085027,"comment_id":102581999,"body_markdown":"Maybe its due to the SSL","body":"Maybe its due to the SSL"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1570204929,"post_id":58085027,"comment_id":102852055,"body_markdown":"Does it fail even for the first request or only after several requests?","body":"Does it fail even for the first request or only after several requests?"},{"owner":{"account_id":1817973,"reputation":104,"user_id":1652695,"accept_rate":29,"display_name":"Spas Bobchev"},"score":0,"creation_date":1572422227,"post_id":58085027,"comment_id":103549922,"body_markdown":"Hey Erik, \n\nDid you find a solution here? I am having the same problems :)","body":"Hey Erik,   Did you find a solution here? I am having the same problems :)"},{"owner":{"account_id":7631210,"reputation":360,"user_id":7370915,"display_name":"erik p"},"score":0,"creation_date":1572426463,"post_id":58085027,"comment_id":103551807,"body_markdown":"@SpasBobchev I did not, ended up finding an API for the site instead that bypasses this problem","body":"@SpasBobchev I did not, ended up finding an API for the site instead that bypasses this problem"}],"answers":[{"tags":[],"owner":{"account_id":3267750,"reputation":49,"user_id":2751894,"accept_rate":0,"display_name":"Dante Carvalho Costa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635455278,"creation_date":1635455278,"answer_id":69760951,"question_id":58085027,"body_markdown":"I solved it here https://stackoverflow.com/a/69760898/2751894\r\n\r\njust use one of these jvm properties:\r\n\r\n -Djdk.tls.client.protocols=&quot;TLSv1.3,TLSv1.2&quot; or -Dhttps.protocols=&quot;TLSv1.3,TLSv1.2&quot;","title":"HtmlUnit bypassing cloudflare DDOS and cookies required","body":"<p>I solved it here <a href=\"https://stackoverflow.com/a/69760898/2751894\">https://stackoverflow.com/a/69760898/2751894</a></p>\n<p>just use one of these jvm properties:</p>\n<p>-Djdk.tls.client.protocols=&quot;TLSv1.3,TLSv1.2&quot; or -Dhttps.protocols=&quot;TLSv1.3,TLSv1.2&quot;</p>\n"}],"owner":{"account_id":7631210,"reputation":360,"user_id":7370915,"display_name":"erik p"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635455278,"creation_date":1569344268,"question_id":58085027,"body_markdown":"I&#39;m trying to scrape a page that uses Cloudflare, until recently this was possible with no issues. However as of yesterday, I&#39;m encountering 503 (the ddos protection page). And today it transitioned to simply 403&#39;s. Inspecting the response I can see that the page is requesting I enable cookies. I am currently using HtmlUnit to perform the scrapes and I have the BrowserVersion set to Chrome.\r\n\r\nhere is my current attempt:\r\n\r\n````\r\n    private HtmlPage scrapeJS(String targetUrl) throws ScrapeException {\r\n        Log.verbose(&quot;Attempting JS scrape ...&quot;);\r\n        WebClient client = new WebClient(BrowserVersion.CHROME);\r\n        client.getOptions().setJavaScriptEnabled(true);\r\n        client.getOptions().setCssEnabled(css);\r\n        client.getOptions().setUseInsecureSSL(insecureSSL);\r\n        client.setCookieManager(new CookieManager());\r\n        client.getOptions().setRedirectEnabled(true);\r\n\r\n        HtmlPage page;\r\n\r\n        try {\r\n            page = client.getPage(targetUrl);\r\n            client.waitForBackgroundJavaScript(10000);\r\n        } catch (FailingHttpStatusCodeException e){\r\n            Log.verbose(&quot;JS scrape resulted in &quot; + e.getStatusCode());\r\n            throw new ScrapeException(source, e);\r\n        } catch (IOException e){\r\n            throw new ScrapeException(source, e);\r\n        }\r\n\r\n        return page;\r\n    }\r\n```` \r\n\r\nI should mention that this fails both the cookies check and 503s on my desktop, but it passes the cookies check not on my laptop (which is a mac).\r\n\r\nI have looked around a little but most posts dealing with HtmlUnit seem a bit dated and the solutions, such as waiting for background JS, does not work nor does changing the user agent between firefox and chrome. ","title":"HtmlUnit bypassing cloudflare DDOS and cookies required","body":"<p>I'm trying to scrape a page that uses Cloudflare, until recently this was possible with no issues. However as of yesterday, I'm encountering 503 (the ddos protection page). And today it transitioned to simply 403's. Inspecting the response I can see that the page is requesting I enable cookies. I am currently using HtmlUnit to perform the scrapes and I have the BrowserVersion set to Chrome.</p>\n\n<p>here is my current attempt:</p>\n\n<pre><code>    private HtmlPage scrapeJS(String targetUrl) throws ScrapeException {\n        Log.verbose(\"Attempting JS scrape ...\");\n        WebClient client = new WebClient(BrowserVersion.CHROME);\n        client.getOptions().setJavaScriptEnabled(true);\n        client.getOptions().setCssEnabled(css);\n        client.getOptions().setUseInsecureSSL(insecureSSL);\n        client.setCookieManager(new CookieManager());\n        client.getOptions().setRedirectEnabled(true);\n\n        HtmlPage page;\n\n        try {\n            page = client.getPage(targetUrl);\n            client.waitForBackgroundJavaScript(10000);\n        } catch (FailingHttpStatusCodeException e){\n            Log.verbose(\"JS scrape resulted in \" + e.getStatusCode());\n            throw new ScrapeException(source, e);\n        } catch (IOException e){\n            throw new ScrapeException(source, e);\n        }\n\n        return page;\n    }\n</code></pre>\n\n<p>I should mention that this fails both the cookies check and 503s on my desktop, but it passes the cookies check not on my laptop (which is a mac).</p>\n\n<p>I have looked around a little but most posts dealing with HtmlUnit seem a bit dated and the solutions, such as waiting for background JS, does not work nor does changing the user agent between firefox and chrome. </p>\n"},{"tags":["java","html","jsp","servlets"],"comments":[{"owner":{"account_id":23174527,"reputation":11,"user_id":17273250,"display_name":"jb1145"},"score":0,"creation_date":1635454742,"post_id":69759591,"comment_id":123310444,"body_markdown":"Sorry, this is my first posted question on stack overflow. I don&#39;t know how to fix that.","body":"Sorry, this is my first posted question on stack overflow. I don&#39;t know how to fix that."},{"owner":{"account_id":23174527,"reputation":11,"user_id":17273250,"display_name":"jb1145"},"score":0,"creation_date":1635454998,"post_id":69759591,"comment_id":123310527,"body_markdown":"Alright, thank you!","body":"Alright, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":22077536,"reputation":710,"user_id":16337604,"display_name":"Itay Polack-Gadassi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635448693,"creation_date":1635448693,"answer_id":69759716,"question_id":69759591,"body_markdown":"You must pass the `id` parameter in your request. In that case, you might add it as a `hidden` form element, i.e.:\r\n```java\r\nhtml.append(&quot;&lt;input type=&#39;hidden&#39; value=&#39;&quot; + id + &quot;&#39; name=&#39;id&#39; id=&#39;id&#39; /&gt;&quot;)\r\n```","title":"java.lang.NumberFormatException: null error in doPost","body":"<p>You must pass the <code>id</code> parameter in your request. In that case, you might add it as a <code>hidden</code> form element, i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>html.append(&quot;&lt;input type='hidden' value='&quot; + id + &quot;' name='id' id='id' /&gt;&quot;)\n</code></pre>\n"}],"owner":{"account_id":23174527,"reputation":11,"user_id":17273250,"display_name":"jb1145"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635454782,"creation_date":1635447935,"question_id":69759591,"body_markdown":"I&#39;m creating a webpage that starts a list of vaccines. When I click on a link to edit a specific vaccine entry in the list, this is the webpage that users are brought to. The id parameter from that entry is passed to this page. Clicking on the save button calls doPost. when I try passing the id parameter from doGet into a new vaccineEntry object, the value for id turns up null. \r\n\r\nHere&#39;s the servlet code for list of vaccines:\r\n\r\n```\r\npackage vaccineList.servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.servlet.ServletConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport NewVaccine.servlet.NewVaccine;\r\nimport NewDose.servlet.NewDose;\r\n\r\n//import cs3220.model.GuestBookEntry;\r\n//import cs3220.utilities.*;\r\n\r\n@WebServlet(urlPatterns = &quot;/ListVaccine&quot;, loadOnStartup = 1)\r\npublic class ListVaccine extends HttpServlet {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public ListVaccine()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public void init( ServletConfig config ) throws ServletException\r\n    {\r\n        super.init( config );\r\n\r\n        List&lt;VaccineEntry&gt; entries = new ArrayList&lt;VaccineEntry&gt;();\r\n        entries.add( new VaccineEntry( &quot;Pfizer/BioNTech&quot;, &quot;2&quot;, &quot;21&quot;, &quot;10000&quot;, &quot;10000&quot; ) );\r\n        entries.add( new VaccineEntry( &quot;Johnson&amp;Johnson&quot;, &quot;1&quot;, &quot;0&quot;, &quot;5000&quot;, &quot;5000&quot;  ) );\r\n\r\n        getServletContext().setAttribute( ServletFunctions.VaccineEntries, entries );\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    protected void doGet( HttpServletRequest request,\r\n        HttpServletResponse response ) throws ServletException, IOException\r\n    {\r\n    \tStringBuilder html = new StringBuilder();\r\n    \tList&lt;VaccineEntry&gt; entries = ServletFunctions.getVaccineEntriesFromServletContext(getServletContext());\r\n\r\n        response.setContentType( &quot;text/html&quot; );\r\n        PrintWriter out = response.getWriter();\r\n\r\n        html.append( &quot;&lt;p&gt;List Vaccine&lt;/p&gt;&quot; );\r\n        \r\n        html.append( &quot;&lt;p&gt;&lt;a href=&#39;NewVaccine&#39;&gt;New Vaccine&lt;/a&gt; |&quot; );\r\n        html.append( &quot;&lt;a href=&#39;NewDose&#39;&gt; New Dose&lt;/a&gt;&lt;/p&gt;&quot; );\r\n        \r\n        html.append(&quot;&lt;table border=&#39;1&#39;&gt;&quot;);\r\n        \r\n        html.append(&quot;&lt;tr&gt;&quot;);\r\n        html.append( &quot;&lt;td&gt;   &quot; + &quot; &lt;b&gt;Vaccine&lt;/b&gt;   &lt;/td&gt;&quot; );\r\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Doses Required&lt;/b&gt;&lt;/td&gt;&quot; );\r\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Days Between Doses&lt;/b&gt;&lt;/td&gt;&quot; );\r\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Total Doses Recieved&lt;/b&gt;&lt;/td&gt;&quot; );\r\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Total Doses Left&lt;/b&gt;&lt;/td&gt;&quot; );\r\n        html.append(&quot;&lt;td&gt;&lt;/td&gt;&quot; );\r\n        html.append( &quot;&lt;/tr&gt;&quot; );\r\n        \r\n        for( VaccineEntry entry : entries )\r\n        {\r\n            \r\n            html.append(&quot;&lt;tr&gt;&quot;);\r\n            html.append( &quot;&lt;td&gt;&quot; + entry.getName() + &quot;&lt;/td&gt;&quot; );\r\n            html.append( &quot;&lt;td&gt;&quot; + entry.getDosesReq() + &quot;&lt;/td&gt;&quot; );\r\n            if(entry.getDaysBtwnDoses() == &quot;0&quot;) {\r\n            \thtml.append( &quot;&lt;td&gt;&lt;/td&gt;&quot; );\r\n            }\r\n            else\r\n            \thtml.append( &quot;&lt;td&gt;&quot; + entry.getDaysBtwnDoses() + &quot;&lt;/td&gt;&quot; );\r\n            \r\n            \r\n            html.append( &quot;&lt;td&gt;&quot; + entry.getTotalDosesRecieved() + &quot;&lt;/td&gt;&quot; );\r\n            html.append( &quot;&lt;td&gt;&quot; + entry.getTotalDosesLeft() + &quot;&lt;/td&gt;&quot; );\r\n            \r\n            \r\n            html.append( &quot;&lt;td&gt;&lt;a href=&#39;editVaccine?id=&quot; + entry.getId() + &quot;&#39;&gt;Edit&lt;/a&gt;&lt;/td&gt;&quot;  );\r\n            \r\n            \r\n            html.append( &quot;&lt;/td&gt;&quot; );\r\n            html.append( &quot;&lt;/tr&gt;&quot; );\r\n        }\r\n        html.append( &quot;&lt;/table&gt;&quot; );\r\n        \r\n        \r\n        \r\n        out.println( ServletFunctions.titleWithBody(&quot;ListVaccine&quot;, html.toString()) );\r\n    }\r\n\r\n}\r\n```\r\n\r\nand here&#39;s the code for the editVaccine page:\r\n```\r\npackage EditVaccine.servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.List;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n\r\nimport vaccineList.servlet.*;\r\n\r\n\r\n@WebServlet(&quot;/editVaccine&quot;)\r\npublic class editVaccine extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    \r\n    public editVaccine() {\r\n        super();\r\n        \r\n    }\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private VaccineEntry getEntry( int id )\r\n    {\r\n        List&lt;VaccineEntry&gt; entries = (List&lt;VaccineEntry&gt;) getServletContext()\r\n            .getAttribute( &quot;entries&quot; );\r\n        System.out.println(&quot;entry taken is &quot; + id);\r\n        \r\n        \r\n        for( VaccineEntry entry : entries )\r\n            if( entry.getId() == id ) return entry;\r\n        return null;\r\n    }\r\n\r\n\t\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tStringBuilder html = new StringBuilder();\r\n    \t\r\n        String id = request.getParameter( &quot;id&quot; );\r\n        VaccineEntry entry = getEntry(Integer.parseInt(id));\r\n        System.out.println(&quot;The value of id is &quot; + id);\r\n        \r\n        \r\n        System.out.println(&quot;The value of getEntry is &quot; + entry.getId());\r\n\r\n        response.setContentType( &quot;text/html&quot; );\r\n        PrintWriter out = response.getWriter();\r\n        \r\n        html.append(&quot;&lt;form action=&#39;editVaccine&#39; method=&#39;post&#39;&gt;&quot; );\r\n        html.append(&quot;&lt;table border=&#39;1&#39; cellpadding=&#39;2&#39;&gt;&quot;);\r\n        html.append(&quot;&lt;tr&gt;&quot; + &quot;&lt;th colspan=&#39;2&#39;&gt;Name&lt;/th&gt;&quot;);\r\n        html.append(&quot;&lt;td&gt;&lt;input type=&#39;text&#39; name=&#39;name&#39; value=&quot; + entry.getName() + &quot;&gt;&lt;/input&gt;&lt;/td&gt;&quot; + &quot;&lt;/tr&gt;&quot;);\r\n        html.append(&quot;&lt;tr&gt;&lt;th colspan=&#39;2&#39;&gt;Doses Required&lt;/th&gt;&quot; + &quot;&lt;td&gt;&lt;select name=&#39;DosesReq&#39; value=&#39;&quot; + entry.getDosesReq() + &quot;&#39;&gt;&quot;); // id=&#39;Doses Required&#39;\r\n        html.append(&quot;&lt;option value=&#39;1&#39; name=&#39;dosage&#39; value=&#39;&quot; + entry.getDosesReq() + &quot;&#39;&gt;1&lt;/option&gt;&quot;);\r\n        html.append(&quot;&lt;option value=&#39;2&#39; name=&#39;dosage&#39; value=&#39;&quot; + entry.getDosesReq() + &quot;&#39;&gt;2&lt;/option&gt;&quot;);\r\n        html.append(&quot;&lt;option value=&#39;3&#39; name=&#39;dosage&#39; value=&#39;&quot; + entry.getDosesReq() + &quot;&#39;&gt;3&lt;/option&gt;&quot;);\r\n        html.append(&quot;&lt;/select&gt;&lt;/td&gt;&quot;);\r\n        html.append(&quot;&lt;tr&gt;&lt;th colspan=&#39;2&#39;&gt;Days Between Doses&lt;/th&gt;&lt;td&gt;&lt;input type=&#39;text&#39; name= &#39;DaysBtwnDoses&#39; value=&#39;&quot; + entry.getDaysBtwnDoses() + &quot;&#39;&gt; &lt;/input&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n        html.append(&quot;&lt;td colspan = &#39;2&#39;&gt;&lt;button&gt;Save&lt;/button&gt;&lt;/td&gt;&quot;);\r\n        html.append(&quot;&lt;/form&gt;&quot;);\r\n        html.append(&quot;&lt;/table&gt;&quot;);\r\n        \r\n        \r\n        out.println( ServletFunctions.titleWithBody(&quot;ListVaccine&quot;, html.toString()) );\r\n        \r\n       \r\n        \r\n\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tSystem.out.println(&quot;In post method&quot;);\r\n\t\t\r\n\t\tVaccineEntry entry = getEntry(Integer.parseInt(request.getParameter(&quot;id&quot;)));\r\n\t\t\r\n\t\tentry.setName(request.getParameter(&quot;name&quot;));\r\n\t\tString name = entry.getName();\r\n\t\tSystem.out.println(&quot;name is &quot; + name);\r\n\t\tentry.setDosesReq(request.getParameter(&quot;dosage&quot;));\r\n\t\tString dosage = entry.getDosesReq();\r\n\t\tSystem.out.println(&quot;dosage is &quot; + dosage);\r\n\t\tentry.setDaysBtwnDoses(request.getParameter(&quot;DaysBtwnDoses&quot;));\r\n\t\tString DaysBtwnDoses = entry.getDaysBtwnDoses();\r\n\t\tSystem.out.println(&quot;DaysBtwnDoses is &quot; + DaysBtwnDoses);\r\n\t\t\r\n\t\tresponse.sendRedirect(&quot;ListVaccine&quot;);\r\n\t\treturn;\r\n        \r\n\t}\r\n\r\n}\r\n```","title":"java.lang.NumberFormatException: null error in doPost","body":"<p>I'm creating a webpage that starts a list of vaccines. When I click on a link to edit a specific vaccine entry in the list, this is the webpage that users are brought to. The id parameter from that entry is passed to this page. Clicking on the save button calls doPost. when I try passing the id parameter from doGet into a new vaccineEntry object, the value for id turns up null.</p>\n<p>Here's the servlet code for list of vaccines:</p>\n<pre><code>package vaccineList.servlet;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport NewVaccine.servlet.NewVaccine;\nimport NewDose.servlet.NewDose;\n\n//import cs3220.model.GuestBookEntry;\n//import cs3220.utilities.*;\n\n@WebServlet(urlPatterns = &quot;/ListVaccine&quot;, loadOnStartup = 1)\npublic class ListVaccine extends HttpServlet {\n\n    private static final long serialVersionUID = 1L;\n\n    public ListVaccine()\n    {\n        super();\n    }\n\n    public void init( ServletConfig config ) throws ServletException\n    {\n        super.init( config );\n\n        List&lt;VaccineEntry&gt; entries = new ArrayList&lt;VaccineEntry&gt;();\n        entries.add( new VaccineEntry( &quot;Pfizer/BioNTech&quot;, &quot;2&quot;, &quot;21&quot;, &quot;10000&quot;, &quot;10000&quot; ) );\n        entries.add( new VaccineEntry( &quot;Johnson&amp;Johnson&quot;, &quot;1&quot;, &quot;0&quot;, &quot;5000&quot;, &quot;5000&quot;  ) );\n\n        getServletContext().setAttribute( ServletFunctions.VaccineEntries, entries );\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected void doGet( HttpServletRequest request,\n        HttpServletResponse response ) throws ServletException, IOException\n    {\n        StringBuilder html = new StringBuilder();\n        List&lt;VaccineEntry&gt; entries = ServletFunctions.getVaccineEntriesFromServletContext(getServletContext());\n\n        response.setContentType( &quot;text/html&quot; );\n        PrintWriter out = response.getWriter();\n\n        html.append( &quot;&lt;p&gt;List Vaccine&lt;/p&gt;&quot; );\n        \n        html.append( &quot;&lt;p&gt;&lt;a href='NewVaccine'&gt;New Vaccine&lt;/a&gt; |&quot; );\n        html.append( &quot;&lt;a href='NewDose'&gt; New Dose&lt;/a&gt;&lt;/p&gt;&quot; );\n        \n        html.append(&quot;&lt;table border='1'&gt;&quot;);\n        \n        html.append(&quot;&lt;tr&gt;&quot;);\n        html.append( &quot;&lt;td&gt;   &quot; + &quot; &lt;b&gt;Vaccine&lt;/b&gt;   &lt;/td&gt;&quot; );\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Doses Required&lt;/b&gt;&lt;/td&gt;&quot; );\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Days Between Doses&lt;/b&gt;&lt;/td&gt;&quot; );\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Total Doses Recieved&lt;/b&gt;&lt;/td&gt;&quot; );\n        html.append( &quot;&lt;td&gt;&quot; + &quot; &lt;b&gt;Total Doses Left&lt;/b&gt;&lt;/td&gt;&quot; );\n        html.append(&quot;&lt;td&gt;&lt;/td&gt;&quot; );\n        html.append( &quot;&lt;/tr&gt;&quot; );\n        \n        for( VaccineEntry entry : entries )\n        {\n            \n            html.append(&quot;&lt;tr&gt;&quot;);\n            html.append( &quot;&lt;td&gt;&quot; + entry.getName() + &quot;&lt;/td&gt;&quot; );\n            html.append( &quot;&lt;td&gt;&quot; + entry.getDosesReq() + &quot;&lt;/td&gt;&quot; );\n            if(entry.getDaysBtwnDoses() == &quot;0&quot;) {\n                html.append( &quot;&lt;td&gt;&lt;/td&gt;&quot; );\n            }\n            else\n                html.append( &quot;&lt;td&gt;&quot; + entry.getDaysBtwnDoses() + &quot;&lt;/td&gt;&quot; );\n            \n            \n            html.append( &quot;&lt;td&gt;&quot; + entry.getTotalDosesRecieved() + &quot;&lt;/td&gt;&quot; );\n            html.append( &quot;&lt;td&gt;&quot; + entry.getTotalDosesLeft() + &quot;&lt;/td&gt;&quot; );\n            \n            \n            html.append( &quot;&lt;td&gt;&lt;a href='editVaccine?id=&quot; + entry.getId() + &quot;'&gt;Edit&lt;/a&gt;&lt;/td&gt;&quot;  );\n            \n            \n            html.append( &quot;&lt;/td&gt;&quot; );\n            html.append( &quot;&lt;/tr&gt;&quot; );\n        }\n        html.append( &quot;&lt;/table&gt;&quot; );\n        \n        \n        \n        out.println( ServletFunctions.titleWithBody(&quot;ListVaccine&quot;, html.toString()) );\n    }\n\n}\n</code></pre>\n<p>and here's the code for the editVaccine page:</p>\n<pre><code>package EditVaccine.servlet;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.List;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\nimport vaccineList.servlet.*;\n\n\n@WebServlet(&quot;/editVaccine&quot;)\npublic class editVaccine extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    \n    public editVaccine() {\n        super();\n        \n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    private VaccineEntry getEntry( int id )\n    {\n        List&lt;VaccineEntry&gt; entries = (List&lt;VaccineEntry&gt;) getServletContext()\n            .getAttribute( &quot;entries&quot; );\n        System.out.println(&quot;entry taken is &quot; + id);\n        \n        \n        for( VaccineEntry entry : entries )\n            if( entry.getId() == id ) return entry;\n        return null;\n    }\n\n    \n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        StringBuilder html = new StringBuilder();\n        \n        String id = request.getParameter( &quot;id&quot; );\n        VaccineEntry entry = getEntry(Integer.parseInt(id));\n        System.out.println(&quot;The value of id is &quot; + id);\n        \n        \n        System.out.println(&quot;The value of getEntry is &quot; + entry.getId());\n\n        response.setContentType( &quot;text/html&quot; );\n        PrintWriter out = response.getWriter();\n        \n        html.append(&quot;&lt;form action='editVaccine' method='post'&gt;&quot; );\n        html.append(&quot;&lt;table border='1' cellpadding='2'&gt;&quot;);\n        html.append(&quot;&lt;tr&gt;&quot; + &quot;&lt;th colspan='2'&gt;Name&lt;/th&gt;&quot;);\n        html.append(&quot;&lt;td&gt;&lt;input type='text' name='name' value=&quot; + entry.getName() + &quot;&gt;&lt;/input&gt;&lt;/td&gt;&quot; + &quot;&lt;/tr&gt;&quot;);\n        html.append(&quot;&lt;tr&gt;&lt;th colspan='2'&gt;Doses Required&lt;/th&gt;&quot; + &quot;&lt;td&gt;&lt;select name='DosesReq' value='&quot; + entry.getDosesReq() + &quot;'&gt;&quot;); // id='Doses Required'\n        html.append(&quot;&lt;option value='1' name='dosage' value='&quot; + entry.getDosesReq() + &quot;'&gt;1&lt;/option&gt;&quot;);\n        html.append(&quot;&lt;option value='2' name='dosage' value='&quot; + entry.getDosesReq() + &quot;'&gt;2&lt;/option&gt;&quot;);\n        html.append(&quot;&lt;option value='3' name='dosage' value='&quot; + entry.getDosesReq() + &quot;'&gt;3&lt;/option&gt;&quot;);\n        html.append(&quot;&lt;/select&gt;&lt;/td&gt;&quot;);\n        html.append(&quot;&lt;tr&gt;&lt;th colspan='2'&gt;Days Between Doses&lt;/th&gt;&lt;td&gt;&lt;input type='text' name= 'DaysBtwnDoses' value='&quot; + entry.getDaysBtwnDoses() + &quot;'&gt; &lt;/input&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\n        html.append(&quot;&lt;td colspan = '2'&gt;&lt;button&gt;Save&lt;/button&gt;&lt;/td&gt;&quot;);\n        html.append(&quot;&lt;/form&gt;&quot;);\n        html.append(&quot;&lt;/table&gt;&quot;);\n        \n        \n        out.println( ServletFunctions.titleWithBody(&quot;ListVaccine&quot;, html.toString()) );\n        \n       \n        \n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        System.out.println(&quot;In post method&quot;);\n        \n        VaccineEntry entry = getEntry(Integer.parseInt(request.getParameter(&quot;id&quot;)));\n        \n        entry.setName(request.getParameter(&quot;name&quot;));\n        String name = entry.getName();\n        System.out.println(&quot;name is &quot; + name);\n        entry.setDosesReq(request.getParameter(&quot;dosage&quot;));\n        String dosage = entry.getDosesReq();\n        System.out.println(&quot;dosage is &quot; + dosage);\n        entry.setDaysBtwnDoses(request.getParameter(&quot;DaysBtwnDoses&quot;));\n        String DaysBtwnDoses = entry.getDaysBtwnDoses();\n        System.out.println(&quot;DaysBtwnDoses is &quot; + DaysBtwnDoses);\n        \n        response.sendRedirect(&quot;ListVaccine&quot;);\n        return;\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1635454219,"post_id":69760753,"comment_id":123310279,"body_markdown":"Did you read the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html)? Which part specifically are you stuck on?","body":"Did you read the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">docs</a>? Which part specifically are you stuck on?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1635454434,"post_id":69760753,"comment_id":123310354,"body_markdown":"I didn&#39;t read the docs but `range( 0..image.length)` seems one dimensional and the image array is two dimensional.  Does this actually &quot;flip&quot; anything?","body":"I didn&#39;t read the docs but <code>range( 0..image.length)</code> seems one dimensional and the image array is two dimensional.  Does this actually &quot;flip&quot; anything?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1635454455,"post_id":69760753,"comment_id":123310361,"body_markdown":"@markspace It flips the rows top to bottom.","body":"@markspace It flips the rows top to bottom."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1635454497,"post_id":69760753,"comment_id":123310374,"body_markdown":"That&#39;s what I thought.  But the name of the method is &quot;flipImage&quot; and this doesn&#39;t seem to do so.","body":"That&#39;s what I thought.  But the name of the method is &quot;flipImage&quot; and this doesn&#39;t seem to do so."},{"owner":{"account_id":10175674,"reputation":541,"user_id":7514409,"display_name":"pianoman102"},"score":0,"creation_date":1635456481,"post_id":69760753,"comment_id":123310975,"body_markdown":"@shmosel I don&#39;t really understand what the mapToObj is doing, as well as the `.toArray(int[][]::new)`. The whole process here is somewhat confusing. Is it somewhat equivalent to the javascript `.map()` method?","body":"@shmosel I don&#39;t really understand what the mapToObj is doing, as well as the <code>.toArray(int[][]::new)</code>. The whole process here is somewhat confusing. Is it somewhat equivalent to the javascript <code>.map()</code> method?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1635457383,"post_id":69760753,"comment_id":123311228,"body_markdown":"Yes, it&#39;s very similar, except that&#39;s it&#39;s lazy evaluated. `int[][]::new` is equivalent to `len -&gt; new int[len][]`.","body":"Yes, it&#39;s very similar, except that&#39;s it&#39;s lazy evaluated. <code>int[][]::new</code> is equivalent to <code>len -&gt; new int[len][]</code>."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635454563,"creation_date":1635454563,"answer_id":69760832,"question_id":69760753,"body_markdown":"It&#39;s the equivalent of this:\r\n\r\n    int[][] flipped = new int[image.length][];\r\n    for (int i = 0; i &lt; image.length; i++) {\r\n        flipped[i] = image[image.length - 1 - i];\r\n    }","title":"Java code to flip an image, two dimensional array with IntStream?","body":"<p>It's the equivalent of this:</p>\n<pre><code>int[][] flipped = new int[image.length][];\nfor (int i = 0; i &lt; image.length; i++) {\n    flipped[i] = image[image.length - 1 - i];\n}\n</code></pre>\n"}],"owner":{"account_id":10175674,"reputation":541,"user_id":7514409,"display_name":"pianoman102"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635454563,"creation_date":1635454118,"question_id":69760753,"body_markdown":"I&#39;m working on coding questions in Java to try and refresh my java brain cells. I came across this question and did not understand what the given answer is actually doing. I guess I never worked with java streams. \r\n\r\n```java\r\n  public int[][] flipImage(int[][] image) {\r\n    return IntStream\r\n             .range(0, image.length)\r\n             .mapToObj(i -&gt; image[image.length - 1 - i])\r\n             .toArray(int[][]::new);\r\n  }\r\n```\r\nWhat is happening here?","title":"Java code to flip an image, two dimensional array with IntStream?","body":"<p>I'm working on coding questions in Java to try and refresh my java brain cells. I came across this question and did not understand what the given answer is actually doing. I guess I never worked with java streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public int[][] flipImage(int[][] image) {\n    return IntStream\n             .range(0, image.length)\n             .mapToObj(i -&gt; image[image.length - 1 - i])\n             .toArray(int[][]::new);\n  }\n</code></pre>\n<p>What is happening here?</p>\n"},{"tags":["java","algorithm","tree"],"answers":[{"tags":[],"owner":{"account_id":20677520,"reputation":81,"user_id":15181791,"display_name":"tniessen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635365603,"creation_date":1635365603,"answer_id":69744915,"question_id":69744668,"body_markdown":"The minimum number of colors is equal to the maximum number of children of a single node plus one. The coloring is straight forward: color the root and its children with different colors. Then color the children of the already colored children with colors different from their parent&#39;s color, and so on.","title":"adding colors to nodes in tree","body":"<p>The minimum number of colors is equal to the maximum number of children of a single node plus one. The coloring is straight forward: color the root and its children with different colors. Then color the children of the already colored children with colors different from their parent's color, and so on.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69744915,"answer_count":1,"score":-1,"last_activity_date":1635454551,"creation_date":1635364317,"question_id":69744668,"body_markdown":"I have a tree, my task is to find the minimum count of colors needed to color the nodes so that no two children of the same parent share the same color, also parent and child do not share the same color.\r\n\r\n**Example:**\r\n\r\n    number of edges = 5\r\n    root = 1\r\n\r\n    The edges are:\r\n    \r\n    1 2\r\n    1 4\r\n    2 3\r\n    3 5\r\n    4 6\r\n\r\n**Output:**\r\n\r\n    3\r\n\r\nThis is the code which I tried:\r\n\r\n\tpublic static int process(int nodes, int root, int[][] edges) {\r\n\t\tint output = 0;\r\n\t\tMap&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; edges.length; i++) {\r\n\t\t\tint key = edges[i][0];\r\n\t\t\tList&lt;Integer&gt; v = map.getOrDefault(key, new ArrayList&lt;&gt;());\r\n\t\t\tmap.put(key, v);\r\n\t\t\tv.add(edges[i][1]);\r\n\t\t}\r\n\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n\r\n\t\tfor (int k : map.keySet()) {\r\n\t\t\tList&lt;Integer&gt; list = map.get(k);\r\n\t\t\tif (set.add(k)) {\r\n\t\t\t\toutput++;\r\n\t\t\t}\r\n\t\t\tfor (int n : list) {\r\n\t\t\t\tif (set.add(n)) {\r\n\t\t\t\t\toutput++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\r\n\r\n\r\nThis code is not correct, as I am adding elements to a set and decide how many colors are needed. What is the correct approach to solve this problem\r\n\r\n  [1]: https://i.stack.imgur.com/j1ZmK.png\r\n","title":"adding colors to nodes in tree","body":"<p>I have a tree, my task is to find the minimum count of colors needed to color the nodes so that no two children of the same parent share the same color, also parent and child do not share the same color.</p>\n<p><strong>Example:</strong></p>\n<pre><code>number of edges = 5\nroot = 1\n\nThe edges are:\n\n1 2\n1 4\n2 3\n3 5\n4 6\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>3\n</code></pre>\n<p>This is the code which I tried:</p>\n<pre><code>public static int process(int nodes, int root, int[][] edges) {\n    int output = 0;\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; edges.length; i++) {\n        int key = edges[i][0];\n        List&lt;Integer&gt; v = map.getOrDefault(key, new ArrayList&lt;&gt;());\n        map.put(key, v);\n        v.add(edges[i][1]);\n    }\n\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n\n    for (int k : map.keySet()) {\n        List&lt;Integer&gt; list = map.get(k);\n        if (set.add(k)) {\n            output++;\n        }\n        for (int n : list) {\n            if (set.add(n)) {\n                output++;\n            }\n        }\n    }\n    return output;\n}\n</code></pre>\n<p>This code is not correct, as I am adding elements to a set and decide how many colors are needed. What is the correct approach to solve this problem</p>\n"},{"tags":["java","iteration","bubble-sort","counting"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1635454361,"post_id":69760634,"comment_id":123310320,"body_markdown":"Initialize a counter to zero. Then, every time you do a comparison, increment the counter by one.","body":"Initialize a counter to zero. Then, every time you do a comparison, increment the counter by one."},{"owner":{"account_id":23175635,"reputation":1,"user_id":17274206,"display_name":"Vintar"},"score":1,"creation_date":1635455857,"post_id":69760634,"comment_id":123310778,"body_markdown":"it works... just it... :D it was so easy... :D thank you!","body":"it works... just it... :D it was so easy... :D thank you!"}],"owner":{"account_id":23175635,"reputation":1,"user_id":17274206,"display_name":"Vintar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635453910,"creation_date":1635453481,"question_id":69760634,"body_markdown":"I&#39;m completly new to Java and programming at all so sorry for all my mistakes. ;)\r\nI&#39;m supposed to write a programme with bubble-sorting method. And then I should count (and print) the number of comparisons.  I&#39;m not sure how to do this... :/\r\n\r\n    public class ArrayUtils {\r\n        void bubbleSort(int[] array) {\r\n            boolean swapped = false;\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                for (int j = 0; j &lt; array.length - i - 1; j++) {\r\n                    if (array[j] &gt; array[j + 1]) {\r\n                        int tmp = array[j];\r\n                        array[j] = array[j + 1];\r\n                        array[j + 1] = tmp;\r\n                        swapped = true;\r\n                    }\r\n                }\r\n                if (!swapped) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        void printArray(int[] array) {\r\n            for (int tmp : array) {\r\n                System.out.printf(&quot;|| %3d &quot;, tmp);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nCould you help me? Or at least give some hint? ;)\r\nThanks in advance!\r\n\r\n","title":"is there any way to count the number of iterations in bubble-sort loop?","body":"<p>I'm completly new to Java and programming at all so sorry for all my mistakes. ;)\nI'm supposed to write a programme with bubble-sorting method. And then I should count (and print) the number of comparisons.  I'm not sure how to do this... :/</p>\n<pre><code>public class ArrayUtils {\n    void bubbleSort(int[] array) {\n        boolean swapped = false;\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length - i - 1; j++) {\n                if (array[j] &gt; array[j + 1]) {\n                    int tmp = array[j];\n                    array[j] = array[j + 1];\n                    array[j + 1] = tmp;\n                    swapped = true;\n                }\n            }\n            if (!swapped) {\n                break;\n            }\n        }\n    }\n\n    void printArray(int[] array) {\n        for (int tmp : array) {\n            System.out.printf(&quot;|| %3d &quot;, tmp);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Could you help me? Or at least give some hint? ;)\nThanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635455190,"post_id":69760142,"comment_id":123310586,"body_markdown":"Pretty sure what you want is impossible.","body":"Pretty sure what you want is impossible."}],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635453671,"creation_date":1635453671,"answer_id":69760675,"question_id":69760142,"body_markdown":"For a relative path:\r\n\r\n    System.getProperty(&quot;sun.java.command&quot;)","title":"Java: Get executing jar path from soft link path","body":"<p>For a relative path:</p>\n<pre><code>System.getProperty(&quot;sun.java.command&quot;)\n</code></pre>\n"}],"owner":{"account_id":8851160,"reputation":49,"user_id":6656093,"accept_rate":75,"display_name":"Vasu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635453671,"creation_date":1635450862,"question_id":69760142,"body_markdown":"I have file structure like this. I would like to print the path of jar when i execute from soft link. But i am always getting actual location instead soft link location.\r\n\r\n```\r\nc:\\MyDir\\MySubDir\r\n       MyJar.jar\r\nc:\\SoftLink1 --&gt; c:\\MyDir\\MySubDir\r\nc:\\SoftLink2 --&gt; c:\\MyDir\\MySubDir\r\n```\r\n\r\nWhen i print current jar file while executing MyJar.jar from SoftLink1 or SoftLink2 using below code, i am getting actual directory instead softlink location.\r\n\r\n```\r\nString path = MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\nString decodedPath = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n```\r\nWhat is the right way to print current jar file location (Soft link location) when i execute it from different soft links.","title":"Java: Get executing jar path from soft link path","body":"<p>I have file structure like this. I would like to print the path of jar when i execute from soft link. But i am always getting actual location instead soft link location.</p>\n<pre><code>c:\\MyDir\\MySubDir\n       MyJar.jar\nc:\\SoftLink1 --&gt; c:\\MyDir\\MySubDir\nc:\\SoftLink2 --&gt; c:\\MyDir\\MySubDir\n</code></pre>\n<p>When i print current jar file while executing MyJar.jar from SoftLink1 or SoftLink2 using below code, i am getting actual directory instead softlink location.</p>\n<pre><code>String path = MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath();\nString decodedPath = URLDecoder.decode(path, &quot;UTF-8&quot;);\n</code></pre>\n<p>What is the right way to print current jar file location (Soft link location) when i execute it from different soft links.</p>\n"},{"tags":["java","owl","owl-api"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1635489481,"post_id":69759749,"comment_id":123316948,"body_markdown":"if that happens, then it already occurs in the parsing step. So you have to fix your ontology before loading it via OWL API","body":"if that happens, then it already occurs in the parsing step. So you have to fix your ontology before loading it via OWL API"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1635489584,"post_id":69759749,"comment_id":123316975,"body_markdown":"and for getting the restriction classes, you have to use a http://owlcs.github.io/owlapi/apidocs_5/org/semanticweb/owlapi/model/OWLClassExpressionVisitorEx.html as OWL class expressions can be arbitrary deeply nested.","body":"and for getting the restriction classes, you have to use a <a href=\"http://owlcs.github.io/owlapi/apidocs_5/org/semanticweb/owlapi/model/OWLClassExpressionVisitorEx.html\" rel=\"nofollow noreferrer\">owlcs.github.io/owlapi/apidocs_5/org/semanticweb/owlapi/mode&zwnj;&#8203;l/&hellip;</a> as OWL class expressions can be arbitrary deeply nested."},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1635513381,"post_id":69759749,"comment_id":123325566,"body_markdown":"Error1 is a marker for badly structured expressions, in this case the restriction tag is missing a type. Did you create the ontology by hand or via a tool?","body":"Error1 is a marker for badly structured expressions, in this case the restriction tag is missing a type. Did you create the ontology by hand or via a tool?"},{"owner":{"account_id":21718180,"reputation":13,"user_id":16028899,"display_name":"agaios"},"score":0,"creation_date":1635546362,"post_id":69759749,"comment_id":123336556,"body_markdown":"I created it by hand","body":"I created it by hand"},{"owner":{"account_id":21718180,"reputation":13,"user_id":16028899,"display_name":"agaios"},"score":0,"creation_date":1635547488,"post_id":69759749,"comment_id":123336789,"body_markdown":"What is the mistake in the bad in this structure? how to fix it?","body":"What is the mistake in the bad in this structure? how to fix it?"}],"owner":{"account_id":21718180,"reputation":13,"user_id":16028899,"display_name":"agaios"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635453370,"creation_date":1635448835,"question_id":69759749,"body_markdown":"I have the following in the owl ontology file and I parse it with OWL API in Java. I want to retrieve the `owl:intersectionOf` classes. \r\n\r\n     &lt;owl:ObjectProperty rdf:about=&quot;#P&quot;&gt;\r\n     \t&lt;rdfs:domain&gt;\r\n     \t\t&lt;owl:Restriction&gt;\r\n     \t\t\t&lt;owl:onProperty rdf:resource=&quot;#R&quot;/&gt;\r\n     \t\t\t&lt;owl:someValuesFrom&gt;\r\n     \t\t\t\t&lt;owl:intersectionOf&gt;\r\n     \t\t\t\t\t&lt;owl:Class rdf:about=&quot;#C&quot;/&gt;\r\n     \t\t\t\t\t&lt;owl:Class rdf:about=&quot;#D&quot;/&gt;\r\n     \t\t\t\t&lt;/owl:intersectionOf&gt;\r\n     \t\t\t&lt;/owl:someValuesFrom&gt;\r\n     \t\t&lt;/owl:Restriction&gt;\r\n     \t&lt;/rdfs:domain&gt;\r\n     &lt;/owl:ObjectProperty&gt;\r\n\r\nI use the following:\r\n\r\n    Object[] domains= EntitySearcher.getDomains(owlProperty, owlOntology).toArray();\r\n    for(Object domain : domainArr) {\r\n    \tSystem.out.println(domain.toString());\r\n    }\r\n\r\nand it return this:\r\n\r\n    ObjectSomeValuesFrom(&lt;http://www.someValue.com.owl#R&gt; &lt;http://www.someValue.com.owl/error#Error1&gt;)\r\n\r\nThe owl:intersectionOf is returned as Error1. \r\n\r\n 1. How to fix this?  \r\n 2. How to get all owl:intersectionOf axioms using OWL API?\r\n\r\n\r\n\r\n","title":"How to get all owl:intersectionOf axioms using OWL API in Java?","body":"<p>I have the following in the owl ontology file and I parse it with OWL API in Java. I want to retrieve the <code>owl:intersectionOf</code> classes.</p>\n<pre><code> &lt;owl:ObjectProperty rdf:about=&quot;#P&quot;&gt;\n    &lt;rdfs:domain&gt;\n        &lt;owl:Restriction&gt;\n            &lt;owl:onProperty rdf:resource=&quot;#R&quot;/&gt;\n            &lt;owl:someValuesFrom&gt;\n                &lt;owl:intersectionOf&gt;\n                    &lt;owl:Class rdf:about=&quot;#C&quot;/&gt;\n                    &lt;owl:Class rdf:about=&quot;#D&quot;/&gt;\n                &lt;/owl:intersectionOf&gt;\n            &lt;/owl:someValuesFrom&gt;\n        &lt;/owl:Restriction&gt;\n    &lt;/rdfs:domain&gt;\n &lt;/owl:ObjectProperty&gt;\n</code></pre>\n<p>I use the following:</p>\n<pre><code>Object[] domains= EntitySearcher.getDomains(owlProperty, owlOntology).toArray();\nfor(Object domain : domainArr) {\n    System.out.println(domain.toString());\n}\n</code></pre>\n<p>and it return this:</p>\n<pre><code>ObjectSomeValuesFrom(&lt;http://www.someValue.com.owl#R&gt; &lt;http://www.someValue.com.owl/error#Error1&gt;)\n</code></pre>\n<p>The owl:intersectionOf is returned as Error1.</p>\n<ol>\n<li>How to fix this?</li>\n<li>How to get all owl:intersectionOf axioms using OWL API?</li>\n</ol>\n"},{"tags":["java","xml","dtd","internal","jdom"],"answers":[{"tags":[],"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1465908914,"creation_date":1465908914,"answer_id":37812672,"question_id":37812144,"body_markdown":"`DocType` structs are able to contain both external and internal references. You can add an internal subset by calling [`setInternalSubset()`](http://www.jdom.org/docs/apidocs/org/jdom2/DocType.html#setInternalSubset(java.lang.String)) on the doctype. The input value must be the string representing the full declaration. JDOM does not do an internal &#39;model&#39; of the doctype - it treats it as a &quot;blob&quot;.\r\n\r\nNote that you can create the DocType without an external reference using the constructor [`DocType(String)`](http://www.jdom.org/docs/apidocs/org/jdom2/DocType.html#DocType(java.lang.String))","title":"JDOM - How to create an XML with internal DTD declaration?","body":"<p><code>DocType</code> structs are able to contain both external and internal references. You can add an internal subset by calling <a href=\"http://www.jdom.org/docs/apidocs/org/jdom2/DocType.html#setInternalSubset(java.lang.String)\" rel=\"nofollow\"><code>setInternalSubset()</code></a> on the doctype. The input value must be the string representing the full declaration. JDOM does not do an internal 'model' of the doctype - it treats it as a \"blob\".</p>\n\n<p>Note that you can create the DocType without an external reference using the constructor <a href=\"http://www.jdom.org/docs/apidocs/org/jdom2/DocType.html#DocType(java.lang.String)\" rel=\"nofollow\"><code>DocType(String)</code></a></p>\n"}],"owner":{"display_name":"user6373874"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37812672,"answer_count":1,"score":2,"last_activity_date":1635453313,"creation_date":1465907582,"question_id":37812144,"body_markdown":"I need to create an XML by JDOM with an internal DTD declaration.\r\nBy now I was creating it with an external DTD and this is the code:\r\n\r\n    public static void makeFile(Element rootElement, String pathDtd){\r\n\t\t\r\n\t\tDocument documento = new Document();\r\n\t\tDocType type = new DocType(rootElement.getName(), pathDtd);\r\n\t\tdocumento.setDocType(type);\r\n\t\tdocumento.setRootElement(rootElement);\r\n\r\n\t\tXMLOutputter xmlOutputter = new XMLOutputter();\r\n\t\txmlOutputter.setFormat(Format.getPrettyFormat());\r\n\t\t/* Validazione xml ottenuto */\r\n\t\tString xmlOttenuto = xmlOutputter.outputString(documento);\r\n\t\tSAXBuilder builder = new SAXBuilder(XMLReaders.DTDVALIDATING);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tDocument documentoCorretto = builder.build(new StringReader(xmlOttenuto));\r\n\t\t\tFileOutputStream fileOutputStream = new FileOutputStream(new File(rootElement.getName()+&quot;.xml&quot;));\r\n\t\t\txmlOutputter.output(documentoCorretto, fileOutputStream);\r\n\t\t} catch (FileNotFoundException e1){\r\n\t\t\tSystem.err.println(e1);\r\n\t\t} catch(IOException e2){\r\n\t\t\tSystem.err.println(e2);\r\n\t\t} catch (JDOMException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"JDOM - How to create an XML with internal DTD declaration?","body":"<p>I need to create an XML by JDOM with an internal DTD declaration.\nBy now I was creating it with an external DTD and this is the code:</p>\n\n<pre><code>public static void makeFile(Element rootElement, String pathDtd){\n\n    Document documento = new Document();\n    DocType type = new DocType(rootElement.getName(), pathDtd);\n    documento.setDocType(type);\n    documento.setRootElement(rootElement);\n\n    XMLOutputter xmlOutputter = new XMLOutputter();\n    xmlOutputter.setFormat(Format.getPrettyFormat());\n    /* Validazione xml ottenuto */\n    String xmlOttenuto = xmlOutputter.outputString(documento);\n    SAXBuilder builder = new SAXBuilder(XMLReaders.DTDVALIDATING);\n\n    try {\n        Document documentoCorretto = builder.build(new StringReader(xmlOttenuto));\n        FileOutputStream fileOutputStream = new FileOutputStream(new File(rootElement.getName()+\".xml\"));\n        xmlOutputter.output(documentoCorretto, fileOutputStream);\n    } catch (FileNotFoundException e1){\n        System.err.println(e1);\n    } catch(IOException e2){\n        System.err.println(e2);\n    } catch (JDOMException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson-dataformat-csv"],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635453234,"creation_date":1635453234,"answer_id":69760582,"question_id":69759599,"body_markdown":"Just add \r\n\r\n```java \r\n@JsonFormat(shape=JsonFormat.Shape.STRING) \r\n```\r\n\r\nto the int field of your pojo class :\r\n\r\n```java\r\npublic class Pojo{\r\n    public String name;\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING) \r\n    public int age;\r\n}\r\n```\r\n\r\nIt can looks weird since it&#39;s a JSON annotation and not CSV, but it&#39;s close enough to works","title":"CSV Jackson mapper numerical fields into String","body":"<p>Just add</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(shape=JsonFormat.Shape.STRING) \n</code></pre>\n<p>to the int field of your pojo class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pojo{\n    public String name;\n    @JsonFormat(shape=JsonFormat.Shape.STRING) \n    public int age;\n}\n</code></pre>\n<p>It can looks weird since it's a JSON annotation and not CSV, but it's close enough to works</p>\n"}],"owner":{"account_id":18137552,"reputation":319,"user_id":13191857,"display_name":"Felipe Tapia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69760582,"answer_count":1,"score":0,"last_activity_date":1635453234,"creation_date":1635448024,"question_id":69759599,"body_markdown":"Is it possible wrap a numeric field from a pojo between  quotes  using CsvMapper from the jackson library?\r\n\r\n    public class Pojo{\r\n        public String name;\r\n        public int age;\r\n    }\r\n\r\nUsing CSVMapper jackson\r\n\r\n    Pojo pojo = new Pojo();\r\n    pojo.name= &quot;Peter&quot;;\r\n    pojo.age= 22;\r\n    final CsvMapper csvMapper = new CsvMapper();\r\n    csvMapper.configure(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS, true);\r\n    final CsvSchema schema = csvMapper.schemaFor(Pojo.class).withoutHeader().withQuoteChar(CsvSchema.DEFAULT_QUOTE_CHAR);\r\n    final ObjectWriter ow = csvMapper.writer(schema);\r\n     System.out.println(ow.writeValueAsString(pojo))  \r\nMy expected output will be `&quot;peter&quot;,&quot;4&quot;` but I&#39;m getting `&quot;peter&quot;,4` :c\r\n\r\n","title":"CSV Jackson mapper numerical fields into String","body":"<p>Is it possible wrap a numeric field from a pojo between  quotes  using CsvMapper from the jackson library?</p>\n<pre><code>public class Pojo{\n    public String name;\n    public int age;\n}\n</code></pre>\n<p>Using CSVMapper jackson</p>\n<pre><code>Pojo pojo = new Pojo();\npojo.name= &quot;Peter&quot;;\npojo.age= 22;\nfinal CsvMapper csvMapper = new CsvMapper();\ncsvMapper.configure(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS, true);\nfinal CsvSchema schema = csvMapper.schemaFor(Pojo.class).withoutHeader().withQuoteChar(CsvSchema.DEFAULT_QUOTE_CHAR);\nfinal ObjectWriter ow = csvMapper.writer(schema);\n System.out.println(ow.writeValueAsString(pojo))  \n</code></pre>\n<p>My expected output will be <code>&quot;peter&quot;,&quot;4&quot;</code> but I'm getting <code>&quot;peter&quot;,4</code> :c</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635402948,"creation_date":1635402623,"answer_id":69749259,"question_id":66181515,"body_markdown":"When you assembling your request, you need to pass the Java version as a system property. What worked for me is something similar:\r\n\r\n```java\r\nfinal Properties systemProperties = new Properties();\r\nsystemProperties.setProperty(&quot;java.version&quot;, &quot;1.8&quot;);\r\nfinal DefaultProjectBuildingRequest projectBuildingRequest = new DefaultProjectBuildingRequest();\r\nprojectBuildingRequest.setSystemProperties(systemProperties);\r\n```\r\n\r\nThe problem comes from the `JdkVersionProfileActivator` class which explicitly checks the value for the `java.version` property from the system properties.\r\n\r\nEdit: as I just checked the linked Github issue, someone else already [sent a PR][1] with a similar solution with some additional improvement like using `System.getProperties()` to get the properties instead of manually creating the object for it.\r\n\r\n\r\n  [1]: https://github.com/anthonydahanne/maven-resolver-test/pull/1","title":"DefaultProjectBuildingRequest org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs","body":"<p>When you assembling your request, you need to pass the Java version as a system property. What worked for me is something similar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Properties systemProperties = new Properties();\nsystemProperties.setProperty(&quot;java.version&quot;, &quot;1.8&quot;);\nfinal DefaultProjectBuildingRequest projectBuildingRequest = new DefaultProjectBuildingRequest();\nprojectBuildingRequest.setSystemProperties(systemProperties);\n</code></pre>\n<p>The problem comes from the <code>JdkVersionProfileActivator</code> class which explicitly checks the value for the <code>java.version</code> property from the system properties.</p>\n<p>Edit: as I just checked the linked Github issue, someone else already <a href=\"https://github.com/anthonydahanne/maven-resolver-test/pull/1\" rel=\"nofollow noreferrer\">sent a PR</a> with a similar solution with some additional improvement like using <code>System.getProperties()</code> to get the properties instead of manually creating the object for it.</p>\n"},{"tags":[],"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635453212,"creation_date":1635453212,"answer_id":69760576,"question_id":66181515,"body_markdown":"Herv&#233; Boutemy sent the fix via a [PR][1] on the github repo where I demo&#39;ed the issue - I missed some configuration indeed.\r\n\r\n\r\n  [1]: https://github.com/anthonydahanne/maven-resolver-test/pull/1","title":"DefaultProjectBuildingRequest org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs","body":"<p>Hervé Boutemy sent the fix via a <a href=\"https://github.com/anthonydahanne/maven-resolver-test/pull/1\" rel=\"nofollow noreferrer\">PR</a> on the github repo where I demo'ed the issue - I missed some configuration indeed.</p>\n"}],"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69760576,"answer_count":2,"score":0,"last_activity_date":1635453212,"creation_date":1613185877,"question_id":66181515,"body_markdown":"I&#39;m trying to programmatically resolve a `pom` , but I&#39;m encountering several errors.\r\n\r\nHere&#39;s a snippet of the code:\r\n\r\n```java\r\n\r\nContainerConfiguration config = new DefaultContainerConfiguration();\r\nconfig.setAutoWiring(true);\r\nconfig.setClassPathScanning(PlexusConstants.SCANNING_INDEX);\r\nPlexusContainer plexusContainer = new DefaultPlexusContainer(config);\r\nProjectBuilder projectBuilder = plexusContainer.lookup(ProjectBuilder.class);\r\nRepositorySystem repositorySystem = plexusContainer.lookup(RepositorySystem.class);\r\nDefaultRepositorySystemSession session = MavenRepositorySystemUtils.newSession();\r\nLocalRepository localRepository = new LocalRepository(&quot;target/.m2&quot;);\r\nsession.setLocalRepositoryManager(repositorySystem.newLocalRepositoryManager(session, localRepository));\r\n\r\nDefaultProjectBuildingRequest request = new DefaultProjectBuildingRequest();\r\nrequest.setRepositorySession(session);\r\nrequest.setResolveDependencies(true);\r\nArtifactRepository centralRepository = new MavenArtifactRepository();\r\ncentralRepository.setUrl(&quot;https://repo.maven.apache.org/maven2/&quot;);\r\ncentralRepository.setLayout(new DefaultRepositoryLayout());\r\nrequest.setRemoteRepositories(Collections.singletonList(centralRepository));\r\n\r\nProjectBuildingResult result = projectBuilder.build(new File(&quot;pom.xml&quot;), request);\r\n\r\nresult.getDependencyResolutionResult().getDependencies().forEach(dependency -&gt;\r\n    System.out.println(\r\n        &quot;Provided pom depends on: &quot; +\r\n            dependency.getArtifact().getGroupId() +\r\n            &quot;:&quot; + dependency.getArtifact().getGroupId() +\r\n            &quot;:&quot; + dependency.getArtifact().getVersion()\r\n        )\r\n);\r\n\r\n```\r\n\r\n\r\nbut unfortunately I end up with such errors while executing `projectBuilder.build(new File(&quot;pom.xml&quot;), request);`\r\n\r\n```\r\nCaused by: org.apache.maven.model.building.ModelBuildingException: \r\n15 problems were encountered while building the effective model for net.dahanne:maven-resolver:0.0.1-SNAPSHOT\r\n[ERROR] Invalid artifact repository: null @ \r\n[ERROR] Failed to determine Java version for profile jdk8 @ io.dropwizard.metrics:metrics-parent:4.1.17, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/io/dropwizard/metrics/metrics-parent/4.1.17/metrics-parent-4.1.17.pom, line 160, column 22\r\n[ERROR] Failed to determine Java version for profile doclint-java8-disable @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 839, column 17\r\n[ERROR] Failed to determine Java version for profile compile-java8-release-flag @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 879, column 18\r\n[ERROR] Failed to determine Java version for profile include-jdk-misc @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 910, column 22\r\n[ERROR] Failed to determine Java version for profile java8-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 961, column 22\r\n[ERROR] Failed to determine Java version for profile java9-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 998, column 22\r\n[ERROR] Failed to determine Java version for profile java9-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1047, column 22\r\n[ERROR] Failed to determine Java version for profile java10-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1087, column 22\r\n[ERROR] Failed to determine Java version for profile java10-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1139, column 22\r\n[ERROR] Failed to determine Java version for profile java11-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1182, column 22\r\n[ERROR] Failed to determine Java version for profile java11-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1237, column 22\r\n[ERROR] Failed to determine Java version for profile java12-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1283, column 22\r\n[ERROR] Failed to determine Java version for profile java12-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1341, column 22\r\n[ERROR] Failed to determine Java version for profile java13-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1390, column 22\r\n\r\n```\r\n\r\nIt looks as if the maven resolver could not set the properties of the poms that are being traversed...\r\n\r\nI have a full [github project to demo the issue][1], [including CI][2]. \r\n\r\nI also have crossposted on [Maven dev mailing list][3].\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://github.com/anthonydahanne/maven-resolver\r\n  [2]: https://github.com/anthonydahanne/maven-resolver/actions\r\n  [3]: https://lists.apache.org/thread.html/r1f48734aa1c0f28dbdc5547c710556036b88d7e3e7fcd56febfbb3fc%40%3Cdev.maven.apache.org%3E","title":"DefaultProjectBuildingRequest org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs","body":"<p>I'm trying to programmatically resolve a <code>pom</code> , but I'm encountering several errors.</p>\n<p>Here's a snippet of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nContainerConfiguration config = new DefaultContainerConfiguration();\nconfig.setAutoWiring(true);\nconfig.setClassPathScanning(PlexusConstants.SCANNING_INDEX);\nPlexusContainer plexusContainer = new DefaultPlexusContainer(config);\nProjectBuilder projectBuilder = plexusContainer.lookup(ProjectBuilder.class);\nRepositorySystem repositorySystem = plexusContainer.lookup(RepositorySystem.class);\nDefaultRepositorySystemSession session = MavenRepositorySystemUtils.newSession();\nLocalRepository localRepository = new LocalRepository(&quot;target/.m2&quot;);\nsession.setLocalRepositoryManager(repositorySystem.newLocalRepositoryManager(session, localRepository));\n\nDefaultProjectBuildingRequest request = new DefaultProjectBuildingRequest();\nrequest.setRepositorySession(session);\nrequest.setResolveDependencies(true);\nArtifactRepository centralRepository = new MavenArtifactRepository();\ncentralRepository.setUrl(&quot;https://repo.maven.apache.org/maven2/&quot;);\ncentralRepository.setLayout(new DefaultRepositoryLayout());\nrequest.setRemoteRepositories(Collections.singletonList(centralRepository));\n\nProjectBuildingResult result = projectBuilder.build(new File(&quot;pom.xml&quot;), request);\n\nresult.getDependencyResolutionResult().getDependencies().forEach(dependency -&gt;\n    System.out.println(\n        &quot;Provided pom depends on: &quot; +\n            dependency.getArtifact().getGroupId() +\n            &quot;:&quot; + dependency.getArtifact().getGroupId() +\n            &quot;:&quot; + dependency.getArtifact().getVersion()\n        )\n);\n\n</code></pre>\n<p>but unfortunately I end up with such errors while executing <code>projectBuilder.build(new File(&quot;pom.xml&quot;), request);</code></p>\n<pre><code>Caused by: org.apache.maven.model.building.ModelBuildingException: \n15 problems were encountered while building the effective model for net.dahanne:maven-resolver:0.0.1-SNAPSHOT\n[ERROR] Invalid artifact repository: null @ \n[ERROR] Failed to determine Java version for profile jdk8 @ io.dropwizard.metrics:metrics-parent:4.1.17, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/io/dropwizard/metrics/metrics-parent/4.1.17/metrics-parent-4.1.17.pom, line 160, column 22\n[ERROR] Failed to determine Java version for profile doclint-java8-disable @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 839, column 17\n[ERROR] Failed to determine Java version for profile compile-java8-release-flag @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 879, column 18\n[ERROR] Failed to determine Java version for profile include-jdk-misc @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 910, column 22\n[ERROR] Failed to determine Java version for profile java8-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 961, column 22\n[ERROR] Failed to determine Java version for profile java9-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 998, column 22\n[ERROR] Failed to determine Java version for profile java9-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1047, column 22\n[ERROR] Failed to determine Java version for profile java10-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1087, column 22\n[ERROR] Failed to determine Java version for profile java10-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1139, column 22\n[ERROR] Failed to determine Java version for profile java11-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1182, column 22\n[ERROR] Failed to determine Java version for profile java11-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1237, column 22\n[ERROR] Failed to determine Java version for profile java12-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1283, column 22\n[ERROR] Failed to determine Java version for profile java12-test @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1341, column 22\n[ERROR] Failed to determine Java version for profile java13-mr-build @ org.jboss:jboss-parent:36, /Users/anthony.dahanne/workspaces/maven-resolver/target/.m2/org/jboss/jboss-parent/36/jboss-parent-36.pom, line 1390, column 22\n\n</code></pre>\n<p>It looks as if the maven resolver could not set the properties of the poms that are being traversed...</p>\n<p>I have a full <a href=\"https://github.com/anthonydahanne/maven-resolver\" rel=\"nofollow noreferrer\">github project to demo the issue</a>, <a href=\"https://github.com/anthonydahanne/maven-resolver/actions\" rel=\"nofollow noreferrer\">including CI</a>.</p>\n<p>I also have crossposted on <a href=\"https://lists.apache.org/thread.html/r1f48734aa1c0f28dbdc5547c710556036b88d7e3e7fcd56febfbb3fc%40%3Cdev.maven.apache.org%3E\" rel=\"nofollow noreferrer\">Maven dev mailing list</a>.</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jpasswordfield"],"comments":[{"owner":{"account_id":84422,"reputation":1500,"user_id":236014,"accept_rate":50,"display_name":"Garbage"},"score":2,"creation_date":1336110729,"post_id":10443308,"comment_id":13482423,"body_markdown":"http://stackoverflow.com/questions/983964/why-does-jpasswordfield-getpassword-create-a-string-with-the-password-in-it","body":"<a href=\"http://stackoverflow.com/questions/983964/why-does-jpasswordfield-getpassword-create-a-string-with-the-password-in-it\" title=\"why does jpasswordfield getpassword create a string with the password in it\">stackoverflow.com/questions/983964/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1336110770,"creation_date":1336110770,"answer_id":10443361,"question_id":10443308,"body_markdown":"When calling `getText` you get a String (immutable object) that may not be changed (except reflection) and so the password stays in the memory until garbage collected.\r\n\r\nWhen calling `getPassword` you get a char array that may be modified, so the password will really not stay in memory.","title":"Why getText() in JPasswordField was deprecated?","body":"<p>When calling <code>getText</code> you get a String (immutable object) that may not be changed (except reflection) and so the password stays in the memory until garbage collected.</p>\n\n<p>When calling <code>getPassword</code> you get a char array that may be modified, so the password will really not stay in memory.</p>\n"},{"tags":[],"owner":{"account_id":8456,"reputation":22280,"user_id":15255,"accept_rate":89,"display_name":"Zarkonnen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1336110797,"creation_date":1336110797,"answer_id":10443365,"question_id":10443308,"body_markdown":"The reason for this is that if you ask for the password as a String rather than as a character array, this string containing the password is now going to float around in the Java runtime&#39;s memory for some unspecified amount of time. It may be conceivably read from there by a rogue Java component or external program.\r\n\r\nBy using a char array instead, you can verify the password and then scramble it immediately.","title":"Why getText() in JPasswordField was deprecated?","body":"<p>The reason for this is that if you ask for the password as a String rather than as a character array, this string containing the password is now going to float around in the Java runtime's memory for some unspecified amount of time. It may be conceivably read from there by a rogue Java component or external program.</p>\n\n<p>By using a char array instead, you can verify the password and then scramble it immediately.</p>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1336112173,"creation_date":1336112173,"answer_id":10443639,"question_id":10443308,"body_markdown":"The reason behind this behavior is the Java String pool (see e.g. [this SO question][1] for more info). As soon as you convert the contents of that password field to a `String` (which is what happens if you use the `getText` method) the `String` is placed in the pool, and can be read by others.\r\n\r\nIf you would look at the implementation of the `getPassword` method (as can be seen in the [SO question][2] @Garbage posted as a comment on your question) you can see this carefully avoids creating a `String`.\r\n\r\nNote that this also means you should not do something like \r\n\r\n    if ( Arrays.equals( &quot;mySuperSecretPassword&quot;.toCharArray(), passwordField.getPassword() ) )\r\n\r\nor you still end up with putting the password in the pool, and then you could as easily have used the `getText` method.\r\n  [1]: https://stackoverflow.com/questions/1881922/questions-about-javas-string-pool\r\n  [2]: https://stackoverflow.com/questions/983964/why-does-jpasswordfield-getpassword-create-a-string-with-the-password-in-it","title":"Why getText() in JPasswordField was deprecated?","body":"<p>The reason behind this behavior is the Java String pool (see e.g. <a href=\"https://stackoverflow.com/questions/1881922/questions-about-javas-string-pool\">this SO question</a> for more info). As soon as you convert the contents of that password field to a <code>String</code> (which is what happens if you use the <code>getText</code> method) the <code>String</code> is placed in the pool, and can be read by others.</p>\n\n<p>If you would look at the implementation of the <code>getPassword</code> method (as can be seen in the <a href=\"https://stackoverflow.com/questions/983964/why-does-jpasswordfield-getpassword-create-a-string-with-the-password-in-it\">SO question</a> @Garbage posted as a comment on your question) you can see this carefully avoids creating a <code>String</code>.</p>\n\n<p>Note that this also means you should not do something like </p>\n\n<pre><code>if ( Arrays.equals( \"mySuperSecretPassword\".toCharArray(), passwordField.getPassword() ) )\n</code></pre>\n\n<p>or you still end up with putting the password in the pool, and then you could as easily have used the <code>getText</code> method.</p>\n"},{"tags":[],"owner":{"account_id":6566095,"reputation":319,"user_id":5075670,"display_name":"John Cableur"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1435878548,"creation_date":1435874487,"answer_id":31195380,"question_id":10443308,"body_markdown":"Try this :\r\n\r\n    String myPass=String.valueOf(passwordField.getPassword());","title":"Why getText() in JPasswordField was deprecated?","body":"<p>Try this :</p>\n\n<pre><code>String myPass=String.valueOf(passwordField.getPassword());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8567544,"reputation":1,"user_id":6419591,"display_name":"JYOC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628501259,"creation_date":1628501259,"answer_id":68709739,"question_id":10443308,"body_markdown":"- getText () returns a String, so that String is added (as standard Java behavior) to the pool of Strings. The Pool of Strings is cleaned by the Garbage Collector, but only when it acts (and it cannot be on demand). Thus, a password can remain in the pool even if it is not wanted, and it can be read by some other Java process.\r\n\r\n- getPassword () returns an array of chars. These are not Strings, but array objects, so although they are also deleted when the Garbage Collector wants, they do not remain in any pool and are inaccessible by other java processes.\r\n\r\nBut you have to be careful with how you use the array of chars read by getPassword (), because if we convert it to a String, then it goes to the pool and it is just as bad as if we had used getText () ...","title":"Why getText() in JPasswordField was deprecated?","body":"<ul>\n<li><p>getText () returns a String, so that String is added (as standard Java behavior) to the pool of Strings. The Pool of Strings is cleaned by the Garbage Collector, but only when it acts (and it cannot be on demand). Thus, a password can remain in the pool even if it is not wanted, and it can be read by some other Java process.</p>\n</li>\n<li><p>getPassword () returns an array of chars. These are not Strings, but array objects, so although they are also deleted when the Garbage Collector wants, they do not remain in any pool and are inaccessible by other java processes.</p>\n</li>\n</ul>\n<p>But you have to be careful with how you use the array of chars read by getPassword (), because if we convert it to a String, then it goes to the pool and it is just as bad as if we had used getText () ...</p>\n"}],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73757,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":10443361,"answer_count":5,"score":36,"last_activity_date":1635452858,"creation_date":1336110496,"question_id":10443308,"body_markdown":"I never thought before, only I used the method `getPassword` that returning an array of characters and I had seen the `getText` method was **deprecated**. But now that I think, why this method was **deprecated**?.\r\n\r\nThe Java documentation explains:\r\n\r\n&gt; **Deprecated**. *As of Java 2 platform v1.2, replaced by `getPassword`.*\r\n\r\n&gt; Fetches a portion of the text represented by the component. Returns an\r\n&gt; empty string if length is 0. \r\n\r\n&gt; For security reasons, this method is\r\n&gt; deprecated. Use the `getPassword` method instead.\r\n\r\nBut what are those ***security reasons***? Any ideas about this?\r\n\r\nThank you in advance.","title":"Why getText() in JPasswordField was deprecated?","body":"<p>I never thought before, only I used the method <code>getPassword</code> that returning an array of characters and I had seen the <code>getText</code> method was <strong>deprecated</strong>. But now that I think, why this method was <strong>deprecated</strong>?.</p>\n\n<p>The Java documentation explains:</p>\n\n<blockquote>\n  <p><strong>Deprecated</strong>. <em>As of Java 2 platform v1.2, replaced by <code>getPassword</code>.</em></p>\n  \n  <p>Fetches a portion of the text represented by the component. Returns an\n  empty string if length is 0. </p>\n  \n  <p>For security reasons, this method is\n  deprecated. Use the <code>getPassword</code> method instead.</p>\n</blockquote>\n\n<p>But what are those <strong><em>security reasons</em></strong>? Any ideas about this?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1635451000,"post_id":69759513,"comment_id":123309218,"body_markdown":"What is your &quot;main&quot; class? Are you trying to start it with a class that extends application? I know there was a work around for using non-modular javafx where you need to create a separate class with main, and start your app from there.","body":"What is your &quot;main&quot; class? Are you trying to start it with a class that extends application? I know there was a work around for using non-modular javafx where you need to create a separate class with main, and start your app from there."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1635451298,"post_id":69759513,"comment_id":123309315,"body_markdown":"Did you check here? https://github.com/openjfx/samples#IntelliJ-Non-Modular-Samples What version of javafx are you using?","body":"Did you check here? <a href=\"https://github.com/openjfx/samples#IntelliJ-Non-Modular-Samples\" rel=\"nofollow noreferrer\">github.com/openjfx/samples#IntelliJ-Non-Modular-Samples</a> What version of javafx are you using?"},{"owner":{"account_id":6832140,"reputation":961,"user_id":5255690,"display_name":"Missaka Iddamalgoda"},"score":0,"creation_date":1635451956,"post_id":69759513,"comment_id":123309515,"body_markdown":"@matt As for the lib you sent I currently have the same dependencies and plugins in pom and Main class is similar too as in the non-modular example. As I mentioned the code after packaging works. Only just that IntelliJ is unable to detect the project as a JavaFX project. But If I created a new project and selected the new javafx project option then the same code with same pom.xml works.","body":"@matt As for the lib you sent I currently have the same dependencies and plugins in pom and Main class is similar too as in the non-modular example. As I mentioned the code after packaging works. Only just that IntelliJ is unable to detect the project as a JavaFX project. But If I created a new project and selected the new javafx project option then the same code with same pom.xml works."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635452329,"creation_date":1635450451,"answer_id":69760063,"question_id":69759513,"body_markdown":"This is more a troubleshooting and research guide than an actual fix.  Fixes for environmental issues are difficult to provide in a StackOverflow context.  However, if you study the information here, it might help you fix your project.\r\n\r\n*Recommended troubleshooting approach*\r\n\r\nUse the [Intellij new JavaFX project wizard][1]. Ensure that it works in your environment, then gradually add components from your current project into the working project, checking that everything still works after each small addition.\r\n\r\n*Debugging when executing via the JavaFX maven plugin*\r\n\r\nI think the above recommendation is the preferred approach, however, you can alternately get the following to work:\r\n\r\n&gt; run with: mvn clean javafx:run \r\n&gt; The need to execute with IntelliJ is to debug the code&quot; \r\n\r\nSee: \r\n\r\n * https://stackoverflow.com/questions/61340702/intellij-idea-how-to-debug-a-javafx-maven-project\r\n\r\nI also think you can just right-click on the maven target for `javafx:run` and select Debug.  I am not sure, I don&#39;t make use of the JavaFX maven plugin.\r\n\r\n*Creating fat jars for JavaFX applications*\r\n\r\n&gt; the fat jar\r\n\r\nThis is not a recommended configuration, but if you really must do it, you can review: \r\n\r\n * https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\r\n\r\nThat answer doesn&#39;t discuss getting such a configuration to work in conjunction with an Idea run/debug configuration, so it may not assist you.\r\n\r\nIf you do continue with a fat jar, I would not advise using a module-info, as you will be running code off the classpath anyway. \r\n\r\n*Modular versus non-modular JavaFX applications*\r\n\r\nIf you don&#39;t use a fat jar, getting all the module dependencies correct for Spring is tricky anyway because Spring is not currently architected to directly support modules well.  Spring 6 will be designed to work well with modules, though I think you should be able to get Spring 5 to work if you try hard enough (I have got it to work in the past for some applications). \r\n\r\nAlternately you can just have the JavaFX components as modules and run the rest off the classpath.  For example, the &quot;Non-modular with Maven&quot; approach at [openjfx.io][2].  Note that in that approach, the JDK and JavaFX modules are still loaded as modules off of the module path, it is only Spring your application that is not providing a module-info.java file and running off the classpath.\r\n\r\n*Creating runtime images for JavaFX applications*\r\n\r\nI also advise studying:\r\n\r\n * [these resources for the creation of an appropriate runtime image][3]. \r\n\r\n  [1]: https://www.jetbrains.com/help/idea/javafx.html\r\n  [2]: https://openjfx.io/openjfx-docs/#IDE-Intellij\r\n  [3]: https://stackoverflow.com/a/68823040/1155209","title":"JavaFX Maven project in IntelliJ. JavaFX runtime components are missing only in IntelliJ. JAR through mvn package executes without issues","body":"<p>This is more a troubleshooting and research guide than an actual fix.  Fixes for environmental issues are difficult to provide in a StackOverflow context.  However, if you study the information here, it might help you fix your project.</p>\n<p><em>Recommended troubleshooting approach</em></p>\n<p>Use the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Intellij new JavaFX project wizard</a>. Ensure that it works in your environment, then gradually add components from your current project into the working project, checking that everything still works after each small addition.</p>\n<p><em>Debugging when executing via the JavaFX maven plugin</em></p>\n<p>I think the above recommendation is the preferred approach, however, you can alternately get the following to work:</p>\n<blockquote>\n<p>run with: mvn clean javafx:run\nThe need to execute with IntelliJ is to debug the code&quot;</p>\n</blockquote>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/61340702/intellij-idea-how-to-debug-a-javafx-maven-project\">intellij idea : how to debug a java:fx maven project?</a></li>\n</ul>\n<p>I also think you can just right-click on the maven target for <code>javafx:run</code> and select Debug.  I am not sure, I don't make use of the JavaFX maven plugin.</p>\n<p><em>Creating fat jars for JavaFX applications</em></p>\n<blockquote>\n<p>the fat jar</p>\n</blockquote>\n<p>This is not a recommended configuration, but if you really must do it, you can review:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a></li>\n</ul>\n<p>That answer doesn't discuss getting such a configuration to work in conjunction with an Idea run/debug configuration, so it may not assist you.</p>\n<p>If you do continue with a fat jar, I would not advise using a module-info, as you will be running code off the classpath anyway.</p>\n<p><em>Modular versus non-modular JavaFX applications</em></p>\n<p>If you don't use a fat jar, getting all the module dependencies correct for Spring is tricky anyway because Spring is not currently architected to directly support modules well.  Spring 6 will be designed to work well with modules, though I think you should be able to get Spring 5 to work if you try hard enough (I have got it to work in the past for some applications).</p>\n<p>Alternately you can just have the JavaFX components as modules and run the rest off the classpath.  For example, the &quot;Non-modular with Maven&quot; approach at <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">openjfx.io</a>.  Note that in that approach, the JDK and JavaFX modules are still loaded as modules off of the module path, it is only Spring your application that is not providing a module-info.java file and running off the classpath.</p>\n<p><em>Creating runtime images for JavaFX applications</em></p>\n<p>I also advise studying:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/68823040/1155209\">these resources for the creation of an appropriate runtime image</a>.</li>\n</ul>\n"}],"owner":{"account_id":6832140,"reputation":961,"user_id":5255690,"display_name":"Missaka Iddamalgoda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69760063,"answer_count":1,"score":1,"last_activity_date":1635452329,"creation_date":1635447445,"question_id":69759513,"body_markdown":"I have a Java Project with Spring Boot and JavaFX added through maven. The code compiles and even i can execute the fat jar without the JavaFX SDK in the computer. But when I try to execute it in IntelliJ it results in\r\n\r\n`Error: JavaFX runtime components are missing, and are required to run this application`\r\n\r\nI have seen this output in many questions and in most of those cases the jar wasn&#39;t built at all or code compilation failed.\r\n\r\nBut in this scenario the `mvn package` works with no errors and I can execute the JAR with `java -jar &lt;jar_name&gt;` to cross out the fact that I might have the javafx sdk installed somewhere I tried it in a VM with only the JRE installed.\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;11.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;11.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAs for plugins `spring-boot-maven-plugin` and `maven-compiler-plugin`.\r\n\r\n**Attempted Solutions**\r\n\r\n--1--\r\n\r\nI tried the solution which said to add the \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-cli&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;com.example.demofx.Starter&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut what it does is add the ability to run with: `mvn clean javafx:run`\r\n\r\nThe need to execute with IntelliJ is to debug the code because Debugging with souts isn&#39;t efficient.\r\n\r\n--2--\r\n\r\nTrying to module build with a `module-info.jar` with following\r\n\r\n```java\r\nmodule com.example.demofx {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    // all other required modules including spring\r\n\r\n\r\n    opens com.example.demofx to javafx.fxml;\r\n    exports com.example.demofx;\r\n}\r\n```\r\n\r\nThis might have worked but due to some of old dependencies not working properly with modularized build this results in lots of breaking changes to the codebase.\r\n\r\nEdit:\r\n\r\n 1. Missed to mention the environment\r\n     * JDK - 11.0.8\r\n     * IntelliJ IDEA - 2021.2.2\r\n 2. Added second solution tried.","title":"JavaFX Maven project in IntelliJ. JavaFX runtime components are missing only in IntelliJ. JAR through mvn package executes without issues","body":"<p>I have a Java Project with Spring Boot and JavaFX added through maven. The code compiles and even i can execute the fat jar without the JavaFX SDK in the computer. But when I try to execute it in IntelliJ it results in</p>\n<p><code>Error: JavaFX runtime components are missing, and are required to run this application</code></p>\n<p>I have seen this output in many questions and in most of those cases the jar wasn't built at all or code compilation failed.</p>\n<p>But in this scenario the <code>mvn package</code> works with no errors and I can execute the JAR with <code>java -jar &lt;jar_name&gt;</code> to cross out the fact that I might have the javafx sdk installed somewhere I tried it in a VM with only the JRE installed.</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;11.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;11.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As for plugins <code>spring-boot-maven-plugin</code> and <code>maven-compiler-plugin</code>.</p>\n<p><strong>Attempted Solutions</strong></p>\n<p>--1--</p>\n<p>I tried the solution which said to add the</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.0.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-cli&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.example.demofx.Starter&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But what it does is add the ability to run with: <code>mvn clean javafx:run</code></p>\n<p>The need to execute with IntelliJ is to debug the code because Debugging with souts isn't efficient.</p>\n<p>--2--</p>\n<p>Trying to module build with a <code>module-info.jar</code> with following</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.demofx {\n    requires javafx.controls;\n    requires javafx.fxml;\n    // all other required modules including spring\n\n\n    opens com.example.demofx to javafx.fxml;\n    exports com.example.demofx;\n}\n</code></pre>\n<p>This might have worked but due to some of old dependencies not working properly with modularized build this results in lots of breaking changes to the codebase.</p>\n<p>Edit:</p>\n<ol>\n<li>Missed to mention the environment\n<ul>\n<li>JDK - 11.0.8</li>\n<li>IntelliJ IDEA - 2021.2.2</li>\n</ul>\n</li>\n<li>Added second solution tried.</li>\n</ol>\n"},{"tags":["java","selenium","maven","testng","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635406707,"post_id":69744638,"comment_id":123290535,"body_markdown":"Welcome to SO. Please edit your question, using code blocks instead of screenshots. Nobody wants to use OCR in order to reproduce your problem in her local IDE. Thank you very much. Besides, Mojohaus AspectJ Maven Plugin 1.11 does not support more than Java 8. Either upgrade to 1.14.0 or use the more feature-rich and up-to-date [AspectJ.dev version](https://github.com/dev-aspectj/aspectj-maven-plugin). See also [here](https://stackoverflow.com/a/62213003/1082681) for an explanation.","body":"Welcome to SO. Please edit your question, using code blocks instead of screenshots. Nobody wants to use OCR in order to reproduce your problem in her local IDE. Thank you very much. Besides, Mojohaus AspectJ Maven Plugin 1.11 does not support more than Java 8. Either upgrade to 1.14.0 or use the more feature-rich and up-to-date <a href=\"https://github.com/dev-aspectj/aspectj-maven-plugin\" rel=\"nofollow noreferrer\">AspectJ.dev version</a>. See also <a href=\"https://stackoverflow.com/a/62213003/1082681\">here</a> for an explanation."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635406982,"post_id":69744638,"comment_id":123290633,"body_markdown":"Please also note that your around-advice will only be able to intercept `void` methods because it also has a `void` return type. If you ever annotate a non-void method with `@Click`, you need to adjust the advice method. But for now it should not be a problem.","body":"Please also note that your around-advice will only be able to intercept <code>void</code> methods because it also has a <code>void</code> return type. If you ever annotate a non-void method with <code>@Click</code>, you need to adjust the advice method. But for now it should not be a problem."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1635410730,"post_id":69744638,"comment_id":123292168,"body_markdown":"Thanks for advices, edited my questions with code. I&#39;ve tried both plugin adjustments however it didn&#39;t help. any other suggestions?","body":"Thanks for advices, edited my questions with code. I&#39;ve tried both plugin adjustments however it didn&#39;t help. any other suggestions?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635413068,"post_id":69744638,"comment_id":123293225,"body_markdown":"I am a bit busy at the moment. If you need quick feedback, an [MCVE](https://stackoverflow.com/help/mcve) on GitHub which I can just clone and run would be helpful. Otherwise it might take a while before I have time to copy and paste all your code into a new project and add missing bits and pieces (such as a dummy HTML page to run the test against).","body":"I am a bit busy at the moment. If you need quick feedback, an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub which I can just clone and run would be helpful. Otherwise it might take a while before I have time to copy and paste all your code into a new project and add missing bits and pieces (such as a dummy HTML page to run the test against)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635413445,"post_id":69744638,"comment_id":123293395,"body_markdown":"Another advantage would be that I could simply send you a PR with the fix.","body":"Another advantage would be that I could simply send you a PR with the fix."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635416812,"post_id":69744638,"comment_id":123294883,"body_markdown":"OK, I see that there is no need to create a dummy HTML page, because you target baeldung.com. Fine, then it is easy to reproduce your problem.","body":"OK, I see that there is no need to create a dummy HTML page, because you target baeldung.com. Fine, then it is easy to reproduce your problem."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635416813,"post_id":69744638,"comment_id":123294884,"body_markdown":"OK, I see that there is no need to create a dummy HTML page, because you target baeldung.com. Fine, then it is easy to reproduce your problem.","body":"OK, I see that there is no need to create a dummy HTML page, because you target baeldung.com. Fine, then it is easy to reproduce your problem."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1635417484,"post_id":69744638,"comment_id":123295185,"body_markdown":"https://github.com/SerhiiKachan/SeleniumAspectSupport\nI&#39;ve shared the project here","body":"<a href=\"https://github.com/SerhiiKachan/SeleniumAspectSupport\" rel=\"nofollow noreferrer\">github.com/SerhiiKachan/SeleniumAspectSupport</a> I&#39;ve shared the project here"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1635418003,"post_id":69744638,"comment_id":123295399,"body_markdown":"Sorry, I was already playing with your project before noticing that you published something on GH.","body":"Sorry, I was already playing with your project before noticing that you published something on GH."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635452065,"creation_date":1635417923,"answer_id":69752662,"question_id":69744638,"body_markdown":"There are several things which could be improved in your POM, aspect and test code. But the root cause of your problem is that the aspect is first woven into the test class by AspectJ Maven Plugin, but then overwritten by Maven Compiler Plugin due to a rather cumbersome Maven Compiler default configuration, causing it to recompile everything. Therefore, you need to add this to your Maven Compiler configuration:\r\n\r\n```xml\r\n&lt;!-- IMPORTANT --&gt;\r\n&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n```\r\nYou can find an explanation in [my answer here](https://stackoverflow.com/a/50997238/1082681).\r\n\r\nOther things you should improve:\r\n\r\n  * Upgrade to a more recent AspectJ Maven version supporting Java 11\r\n  * Upgrade AspectJ dependencies to 1.9.7\r\n  * Get rid of the `aspectjweaver` dependency and `aop.xml`, because you already use compile-time weaving and do not need a load-time weaving configuration on top of that. Either this or that, but not both.\r\n  * Make `aspectjtools` a Maven Compiler dependency rather than a dependency for the Maven module itself. You only need the compiler inside the plugin, not during runtime. There, `aspectjrt` is enough.\r\n  * Refine your pointcut to only include `execution()` joinpoints, because otherwise each aspect advice will be triggered twice, once for `execution` and once for `call`. You can see this on the console when running the test.\r\n  * Activate `&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;` for AspectJ Maven. Then you can also see the previous problem, i.e. doubly woven advice, more clearly during compile time.\r\n  * Enhance the test to also click away the cookie banner, which was necessary in my case in order to even be able to click the search button during the test. It also adds a second test case for `@Click` triggering the aspect.\r\n  * In my case I had to quit the driver, not just close it. Otherwise, I would end up with dozens of `chromedriver.exe` background processes.\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SO_AJ_TestNGSelenium_69744638&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n      &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;7.4.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;3.141.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n          &lt;!-- IMPORTANT --&gt;\r\n          &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.14.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n          &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n              &lt;goal&gt;test-compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```java\r\npackage com.selenium.aspect.support.annotation;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Click {}\r\n```\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport com.selenium.aspect.support.annotation.Click;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\npublic class Page {\r\n  @FindBy(className = &quot;css-47sehv&quot;)\r\n  private WebElement cookiesAgree;\r\n\r\n  @FindBy(id = &quot;menu-item-40489&quot;)\r\n  private WebElement search;\r\n\r\n  public Page(WebDriver driver) {\r\n    PageFactory.initElements(driver, this);\r\n  }\r\n\r\n  @Click\r\n  public void clickOnCookiesAgree() {\r\n    cookiesAgree.click();\r\n  }\r\n\r\n  @Click\r\n  public void clickOnSearch() {\r\n    search.click();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n\r\n@Aspect\r\npublic class ClickAspect {\r\n  @Pointcut(&quot;@annotation(com.selenium.aspect.support.annotation.Click) &amp;&amp; execution(* *(..))&quot;)\r\n  public void clickAnn() {}\r\n\r\n  @Around(&quot;clickAnn()&quot;)\r\n  public void clickOnAction(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(joinPoint + &quot; -&gt; Clicking on a button&quot;);\r\n    joinPoint.proceed();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class SeleniumAspectSupportTest {\r\n\r\n  private WebDriver driver;\r\n  private Page page;\r\n\r\n  @BeforeTest\r\n  public void initDriver() {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver.exe&quot;);\r\n    driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.manage().timeouts().pageLoadTimeout(40, TimeUnit.SECONDS);\r\n    driver.manage().timeouts().implicitlyWait(120, TimeUnit.SECONDS);\r\n    page = new Page(driver);\r\n  }\r\n\r\n  @AfterTest\r\n  public void dropDriver() {\r\n    driver.close();\r\n    driver.quit();\r\n  }\r\n\r\n  @Test\r\n  public void simpleTest() {\r\n    driver.get(&quot;https://www.baeldung.com&quot;);\r\n    page.clickOnCookiesAgree();\r\n    page.clickOnSearch();\r\n    System.out.println(&quot;DONE&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThe console log should read:\r\n\r\n```none\r\nexecution(void org.example.Page.clickOnCookiesAgree()) -&gt; Clicking on a button\r\nexecution(void org.example.Page.clickOnSearch()) -&gt; Clicking on a button\r\n```\r\n","title":"Maven + AspectJ + TestNG + Selenium","body":"<p>There are several things which could be improved in your POM, aspect and test code. But the root cause of your problem is that the aspect is first woven into the test class by AspectJ Maven Plugin, but then overwritten by Maven Compiler Plugin due to a rather cumbersome Maven Compiler default configuration, causing it to recompile everything. Therefore, you need to add this to your Maven Compiler configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- IMPORTANT --&gt;\n&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n</code></pre>\n<p>You can find an explanation in <a href=\"https://stackoverflow.com/a/50997238/1082681\">my answer here</a>.</p>\n<p>Other things you should improve:</p>\n<ul>\n<li>Upgrade to a more recent AspectJ Maven version supporting Java 11</li>\n<li>Upgrade AspectJ dependencies to 1.9.7</li>\n<li>Get rid of the <code>aspectjweaver</code> dependency and <code>aop.xml</code>, because you already use compile-time weaving and do not need a load-time weaving configuration on top of that. Either this or that, but not both.</li>\n<li>Make <code>aspectjtools</code> a Maven Compiler dependency rather than a dependency for the Maven module itself. You only need the compiler inside the plugin, not during runtime. There, <code>aspectjrt</code> is enough.</li>\n<li>Refine your pointcut to only include <code>execution()</code> joinpoints, because otherwise each aspect advice will be triggered twice, once for <code>execution</code> and once for <code>call</code>. You can see this on the console when running the test.</li>\n<li>Activate <code>&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;</code> for AspectJ Maven. Then you can also see the previous problem, i.e. doubly woven advice, more clearly during compile time.</li>\n<li>Enhance the test to also click away the cookie banner, which was necessary in my case in order to even be able to click the search button during the test. It also adds a second test case for <code>@Click</code> triggering the aspect.</li>\n<li>In my case I had to quit the driver, not just close it. Otherwise, I would end up with dozens of <code>chromedriver.exe</code> background processes.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;SO_AJ_TestNGSelenium_69744638&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n      &lt;version&gt;${aspectj.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n          &lt;!-- IMPORTANT --&gt;\n          &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n          &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n              &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.selenium.aspect.support.annotation;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Click {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport com.selenium.aspect.support.annotation.Click;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\n\npublic class Page {\n  @FindBy(className = &quot;css-47sehv&quot;)\n  private WebElement cookiesAgree;\n\n  @FindBy(id = &quot;menu-item-40489&quot;)\n  private WebElement search;\n\n  public Page(WebDriver driver) {\n    PageFactory.initElements(driver, this);\n  }\n\n  @Click\n  public void clickOnCookiesAgree() {\n    cookiesAgree.click();\n  }\n\n  @Click\n  public void clickOnSearch() {\n    search.click();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class ClickAspect {\n  @Pointcut(&quot;@annotation(com.selenium.aspect.support.annotation.Click) &amp;&amp; execution(* *(..))&quot;)\n  public void clickAnn() {}\n\n  @Around(&quot;clickAnn()&quot;)\n  public void clickOnAction(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(joinPoint + &quot; -&gt; Clicking on a button&quot;);\n    joinPoint.proceed();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class SeleniumAspectSupportTest {\n\n  private WebDriver driver;\n  private Page page;\n\n  @BeforeTest\n  public void initDriver() {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.manage().timeouts().pageLoadTimeout(40, TimeUnit.SECONDS);\n    driver.manage().timeouts().implicitlyWait(120, TimeUnit.SECONDS);\n    page = new Page(driver);\n  }\n\n  @AfterTest\n  public void dropDriver() {\n    driver.close();\n    driver.quit();\n  }\n\n  @Test\n  public void simpleTest() {\n    driver.get(&quot;https://www.baeldung.com&quot;);\n    page.clickOnCookiesAgree();\n    page.clickOnSearch();\n    System.out.println(&quot;DONE&quot;);\n  }\n}\n</code></pre>\n<p>The console log should read:</p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(void org.example.Page.clickOnCookiesAgree()) -&gt; Clicking on a button\nexecution(void org.example.Page.clickOnSearch()) -&gt; Clicking on a button\n</code></pre>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69752662,"answer_count":1,"score":1,"last_activity_date":1635452065,"creation_date":1635364160,"question_id":69744638,"body_markdown":"I&#39;m trying to combine all these tools together.\r\nHere are the details and some screenshots of my project.\r\nI need post-compile time weave my source code.\r\n\r\nAnnotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Click {}\r\n\r\nAspect:\r\n\r\n    @Aspect\r\n    public class ClickAspect {\r\n\r\n      @Pointcut(&quot;@annotation(com.selenium.aspect.support.annotation.Click)&quot;)\r\n      public void clickAnn() {}\r\n\r\n      @Around(&quot;clickAnn()&quot;)\r\n      public void clickOnAction(ProceedingJoinPoint joinPoint) throws Throwable {\r\n          System.out.println(&quot;Clicking on a button&quot;);\r\n          joinPoint.proceed();\r\n      }\r\n    }\r\n\r\nPage:\r\n\r\n    public class Page {\r\n\r\n      @FindBy(id = &quot;menu-item-40489&quot;)\r\n      private WebElement search;\r\n\r\n      public Page(WebDriver driver) {\r\n          PageFactory.initElements(driver, this);\r\n      }\r\n\r\n      @Click\r\n      public void clickOnSearch() {\r\n          search.click();\r\n      }\r\n    }\r\n\r\nTest class:\r\n\r\n    public class SeleniumAspectSupportTest {\r\n\r\n      private WebDriver driver;\r\n      private Page page;\r\n\r\n      @BeforeTest\r\n      public void initDriver() {\r\n          System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver.exe&quot;);\r\n          driver = new ChromeDriver();\r\n          driver.manage().window().maximize();\r\n          driver.manage().timeouts().pageLoadTimeout(40, TimeUnit.SECONDS);\r\n          driver.manage().timeouts().implicitlyWait(120, TimeUnit.SECONDS);\r\n\r\n          page = new Page(driver);\r\n      }\r\n\r\n      @AfterTest\r\n      public void dropDriver() {\r\n          driver.close();\r\n      }\r\n\r\n      @Test\r\n      public void simpleTest() {\r\n          driver.get(&quot;https://www.baeldung.com&quot;);\r\n          page.clickOnSearch();\r\n          System.out.println(&quot;DONE&quot;);\r\n      }\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\naop.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;aspectj&gt;\r\n      &lt;aspects&gt;\r\n        &lt;aspect name=&quot;com.selenium.aspect.support.controller.ClickAspect&quot;/&gt;\r\n      &lt;/aspects&gt;\r\n    &lt;/aspectj&gt;\r\n\r\nThe advise is not working, however the test passes.\r\nI&#39;ve tried different aspectj library versions.\r\nWhat have I missed to make it work?","title":"Maven + AspectJ + TestNG + Selenium","body":"<p>I'm trying to combine all these tools together.\nHere are the details and some screenshots of my project.\nI need post-compile time weave my source code.</p>\n<p>Annotation:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Click {}\n</code></pre>\n<p>Aspect:</p>\n<pre><code>@Aspect\npublic class ClickAspect {\n\n  @Pointcut(&quot;@annotation(com.selenium.aspect.support.annotation.Click)&quot;)\n  public void clickAnn() {}\n\n  @Around(&quot;clickAnn()&quot;)\n  public void clickOnAction(ProceedingJoinPoint joinPoint) throws Throwable {\n      System.out.println(&quot;Clicking on a button&quot;);\n      joinPoint.proceed();\n  }\n}\n</code></pre>\n<p>Page:</p>\n<pre><code>public class Page {\n\n  @FindBy(id = &quot;menu-item-40489&quot;)\n  private WebElement search;\n\n  public Page(WebDriver driver) {\n      PageFactory.initElements(driver, this);\n  }\n\n  @Click\n  public void clickOnSearch() {\n      search.click();\n  }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>public class SeleniumAspectSupportTest {\n\n  private WebDriver driver;\n  private Page page;\n\n  @BeforeTest\n  public void initDriver() {\n      System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver.exe&quot;);\n      driver = new ChromeDriver();\n      driver.manage().window().maximize();\n      driver.manage().timeouts().pageLoadTimeout(40, TimeUnit.SECONDS);\n      driver.manage().timeouts().implicitlyWait(120, TimeUnit.SECONDS);\n\n      page = new Page(driver);\n  }\n\n  @AfterTest\n  public void dropDriver() {\n      driver.close();\n  }\n\n  @Test\n  public void simpleTest() {\n      driver.get(&quot;https://www.baeldung.com&quot;);\n      page.clickOnSearch();\n      System.out.println(&quot;DONE&quot;);\n  }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n        &lt;version&gt;1.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.11&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>aop.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;aspectj&gt;\n  &lt;aspects&gt;\n    &lt;aspect name=&quot;com.selenium.aspect.support.controller.ClickAspect&quot;/&gt;\n  &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>The advise is not working, however the test passes.\nI've tried different aspectj library versions.\nWhat have I missed to make it work?</p>\n"},{"tags":["java","android-studio","android-toast"],"comments":[{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1635451902,"post_id":69760250,"comment_id":123309499,"body_markdown":"invalidate the cache and restart Android Studio. then reimport the gradle. this might fix","body":"invalidate the cache and restart Android Studio. then reimport the gradle. this might fix"},{"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"score":0,"creation_date":1635452314,"post_id":69760250,"comment_id":123309644,"body_markdown":"I have already restarted and invalidated the cache. What do you mean by reimport grade?","body":"I have already restarted and invalidated the cache. What do you mean by reimport grade?"},{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1635452450,"post_id":69760250,"comment_id":123309692,"body_markdown":"reimport gradle project","body":"reimport gradle project"},{"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"score":1,"creation_date":1635452611,"post_id":69760250,"comment_id":123309749,"body_markdown":"Already done that too. Seeing as this affects all my project, not just one project I think it has to do with Android studio itself not project.","body":"Already done that too. Seeing as this affects all my project, not just one project I think it has to do with Android studio itself not project."},{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1635488027,"post_id":69760250,"comment_id":123316534,"body_markdown":"can you share your gradle version and build tool versions","body":"can you share your gradle version and build tool versions"},{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1635488333,"post_id":69760250,"comment_id":123316629,"body_markdown":"are you importing from `import android.widget.Toast` this package. if yes are getting error on this import?","body":"are you importing from <code>import android.widget.Toast</code> this package. if yes are getting error on this import?"},{"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"score":0,"creation_date":1635490421,"post_id":69760250,"comment_id":123317223,"body_markdown":"I use android gradle plugin 3.2.1 with Gradle  version 4.6 and a buildToolsVersion &quot;30.0.0&quot;. Yes i am importing `import android.widget.Toast` and I am also getting an error on the import statement.","body":"I use android gradle plugin 3.2.1 with Gradle  version 4.6 and a buildToolsVersion &quot;30.0.0&quot;. Yes i am importing <code>import android.widget.Toast</code> and I am also getting an error on the import statement."}],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635451450,"creation_date":1635451450,"question_id":69760250,"body_markdown":"I just came accros a very weird error while I was on Android studio. I ran my app on my phone on android studio and it worked fine. Only to find out an error appeared immediately after the launch. a\r\nAll the toast in my project saying Can not resolve toast. I thought maybe the import widget was missing but is not. When I run the apps it runs but the error is just still there.  This error appears to affect all of my project in android studio. Please help guys.\r\n\r\n``` Toast.makeText(this,&quot;&quot;,Toast.LENGHT_SHORT).show(),.```\r\n","title":"How to stop Toast from not being resolved","body":"<p>I just came accros a very weird error while I was on Android studio. I ran my app on my phone on android studio and it worked fine. Only to find out an error appeared immediately after the launch. a\nAll the toast in my project saying Can not resolve toast. I thought maybe the import widget was missing but is not. When I run the apps it runs but the error is just still there.  This error appears to affect all of my project in android studio. Please help guys.</p>\n<p><code> Toast.makeText(this,&quot;&quot;,Toast.LENGHT_SHORT).show(),.</code></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1635451421,"post_id":69760216,"comment_id":123309348,"body_markdown":"Maybe there is no `employee` with id `1L`?","body":"Maybe there is no <code>employee</code> with id <code>1L</code>?"},{"owner":{"account_id":13176144,"reputation":535,"user_id":9517040,"display_name":"JONKI"},"score":0,"creation_date":1635451538,"post_id":69760216,"comment_id":123309387,"body_markdown":"Tests show that basic attributes are obtained without the mapped ones.","body":"Tests show that basic attributes are obtained without the mapped ones."},{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":1,"creation_date":1635453164,"post_id":69760216,"comment_id":123309915,"body_markdown":"Which basic attributes? Maybe you should add more to your code showing then and the test used.","body":"Which basic attributes? Maybe you should add more to your code showing then and the test used."}],"owner":{"account_id":13176144,"reputation":535,"user_id":9517040,"display_name":"JONKI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635451243,"creation_date":1635451243,"question_id":69760216,"body_markdown":"I have entity\r\n\r\n    @Entity\r\n    public class Employee {\r\n    ...\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;personal_detail_id&quot;)\r\n        private PersonalDetail personalDetail;\r\n    }\r\nafter retrieving an Employee object from the database\r\n\r\n        employee = entityManager.find(Employee.class, 1L);\r\n\r\n        Assert.assertEquals(employee.getPersonalDetail().getBirthPlace(), &quot;New Jersey&quot;);\r\n   I get an exception\r\n\r\n    NullPointerException: Cannot invoke &quot;com.jonki.hibernate.entity.Employee.getPersonalDetail()&quot; because &quot;employee&quot; is null\r\nbecause it did not automatically get the mapped object. It has the same error with mapped lists. How to fix it?","title":"An entity is retrieved without a mapped object or list","body":"<p>I have entity</p>\n<pre><code>@Entity\npublic class Employee {\n...\n    @OneToOne\n    @JoinColumn(name = &quot;personal_detail_id&quot;)\n    private PersonalDetail personalDetail;\n}\n</code></pre>\n<p>after retrieving an Employee object from the database</p>\n<pre><code>    employee = entityManager.find(Employee.class, 1L);\n\n    Assert.assertEquals(employee.getPersonalDetail().getBirthPlace(), &quot;New Jersey&quot;);\n</code></pre>\n<p>I get an exception</p>\n<pre><code>NullPointerException: Cannot invoke &quot;com.jonki.hibernate.entity.Employee.getPersonalDetail()&quot; because &quot;employee&quot; is null\n</code></pre>\n<p>because it did not automatically get the mapped object. It has the same error with mapped lists. How to fix it?</p>\n"},{"tags":["java","multithreading","blocking","locks"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1635450764,"post_id":69760046,"comment_id":123309139,"body_markdown":"[await()-javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html#await()): &quot;The lock associated with this Condition is atomically released and the current thread becomes disabled for thread scheduling purposes and lies dormant until one of four things happens:...&quot;, please also the &quot;fine print&quot; ;)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html#await()\" rel=\"nofollow noreferrer\">await()-javadoc</a>: &quot;The lock associated with this Condition is atomically released and the current thread becomes disabled for thread scheduling purposes and lies dormant until one of four things happens:...&quot;, please also the &quot;fine print&quot; ;)"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635450782,"creation_date":1635450782,"answer_id":69760126,"question_id":69760046,"body_markdown":"If you look at the api doc for Condition#await ( https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html) it says: \r\n\r\n&gt; The lock associated with this Condition is atomically released and the current thread becomes disabled for thread scheduling purposes and lies dormant until one of four things happens:\r\n\r\nSince the lock is released there is no problem with put acquiring the lock. ","title":"Java Conditions with Locks","body":"<p>If you look at the api doc for Condition#await ( <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html</a>) it says:</p>\n<blockquote>\n<p>The lock associated with this Condition is atomically released and the current thread becomes disabled for thread scheduling purposes and lies dormant until one of four things happens:</p>\n</blockquote>\n<p>Since the lock is released there is no problem with put acquiring the lock.</p>\n"}],"owner":{"account_id":1691604,"reputation":656,"user_id":1553828,"accept_rate":64,"display_name":"cjava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69760126,"answer_count":1,"score":2,"last_activity_date":1635450782,"creation_date":1635450329,"question_id":69760046,"body_markdown":"Java docs from here &lt;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html&gt;\r\n\r\nI am trying to understand the Conditions concept. In the below code, put and take both wait on the same Lock. The doc says that before calling any condition.await() we need to get hold of the corresponding lock `(here line 2 : final Lock lock = new ReentrantLock();).`\r\n\r\nMy question is, lets say the buffer is full. In this case if we try to insert an object, the thread will be blocked till `count == items.length` but the lock here still remains with the thread which is trying to put. How can we call method take() to decrease the count, since take() needs to acquire the hold of the same Lock. It apears to me that this will be deadlock as take() cannot be called, same if the items is empty we won&#39;t be able to call put() since now the lock is already with take(). \r\n\r\nKindly help me understand if i am missing anything.Thanks in advance.\r\n\r\n  \r\n\r\n    class BoundedBuffer {\r\n           final Lock lock = new ReentrantLock();\r\n           final Condition notFull  = lock.newCondition(); \r\n           final Condition notEmpty = lock.newCondition(); \r\n        \r\n           final Object[] items = new Object[100];\r\n           int putptr, takeptr, count;\r\n        \r\n           public void put(Object x) throws InterruptedException {\r\n             lock.lock();\r\n             try {\r\n               while (count == items.length)\r\n                 notFull.await();\r\n               items[putptr] = x;\r\n               if (++putptr == items.length) putptr = 0;\r\n               ++count;\r\n               notEmpty.signal();\r\n             } finally {\r\n               lock.unlock();\r\n             }\r\n           }\r\n        \r\n           public Object take() throws InterruptedException {\r\n             lock.lock();\r\n             try {\r\n               while (count == 0)\r\n                 notEmpty.await();\r\n               Object x = items[takeptr];\r\n               if (++takeptr == items.length) takeptr = 0;\r\n               --count;\r\n               notFull.signal();\r\n               return x;\r\n             } finally {\r\n               lock.unlock();\r\n             }\r\n           }\r\n         }","title":"Java Conditions with Locks","body":"<p>Java docs from here <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html</a></p>\n<p>I am trying to understand the Conditions concept. In the below code, put and take both wait on the same Lock. The doc says that before calling any condition.await() we need to get hold of the corresponding lock <code>(here line 2 : final Lock lock = new ReentrantLock();).</code></p>\n<p>My question is, lets say the buffer is full. In this case if we try to insert an object, the thread will be blocked till <code>count == items.length</code> but the lock here still remains with the thread which is trying to put. How can we call method take() to decrease the count, since take() needs to acquire the hold of the same Lock. It apears to me that this will be deadlock as take() cannot be called, same if the items is empty we won't be able to call put() since now the lock is already with take().</p>\n<p>Kindly help me understand if i am missing anything.Thanks in advance.</p>\n<pre><code>class BoundedBuffer {\n       final Lock lock = new ReentrantLock();\n       final Condition notFull  = lock.newCondition(); \n       final Condition notEmpty = lock.newCondition(); \n    \n       final Object[] items = new Object[100];\n       int putptr, takeptr, count;\n    \n       public void put(Object x) throws InterruptedException {\n         lock.lock();\n         try {\n           while (count == items.length)\n             notFull.await();\n           items[putptr] = x;\n           if (++putptr == items.length) putptr = 0;\n           ++count;\n           notEmpty.signal();\n         } finally {\n           lock.unlock();\n         }\n       }\n    \n       public Object take() throws InterruptedException {\n         lock.lock();\n         try {\n           while (count == 0)\n             notEmpty.await();\n           Object x = items[takeptr];\n           if (++takeptr == items.length) takeptr = 0;\n           --count;\n           notFull.signal();\n           return x;\n         } finally {\n           lock.unlock();\n         }\n       }\n     }\n</code></pre>\n"},{"tags":["java","generics","overloading","static-methods"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1635450350,"post_id":69759932,"comment_id":123309011,"body_markdown":"Why are you worried about making static a method that *can* be static? Why not just leave it non static and move on?","body":"Why are you worried about making static a method that <i>can</i> be static? Why not just leave it non static and move on?"},{"owner":{"account_id":20749731,"reputation":510,"user_id":15237549,"display_name":"Captain Hatteras"},"score":0,"creation_date":1635450480,"post_id":69759932,"comment_id":123309040,"body_markdown":"@Bohemian because then that allows users to call a function on a certain object when it doesn&#39;t even operate on that object.","body":"@Bohemian because then that allows users to call a function on a certain object when it doesn&#39;t even operate on that object."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1635450740,"post_id":69759932,"comment_id":123309131,"body_markdown":"This link could help : https://stackoverflow.com/questions/42185449/static-and-non-static-methods-with-the-same-name-in-parent-class-and-implementin. Also note that in some cases using `static` methods is generally an anti-pattern. Try to make things simple as possible.","body":"This link could help : <a href=\"https://stackoverflow.com/questions/42185449/static-and-non-static-methods-with-the-same-name-in-parent-class-and-implementin\" title=\"static and non static methods with the same name in parent class and implementin\">stackoverflow.com/questions/42185449/&hellip;</a>. Also note that in some cases using <code>static</code> methods is generally an anti-pattern. Try to make things simple as possible."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635450746,"post_id":69759932,"comment_id":123309132,"body_markdown":"I find your question rather confusing. At one point you say you want to prevent `baz2.foo(new Bar(), sc);`, and then you proceed to try to declare _both_ a non-static and static `foo`, which doesn&#39;t prevent that at all...","body":"I find your question rather confusing. At one point you say you want to prevent <code>baz2.foo(new Bar(), sc);</code>, and then you proceed to try to declare <i>both</i> a non-static and static <code>foo</code>, which doesn&#39;t prevent that at all..."},{"owner":{"account_id":20749731,"reputation":510,"user_id":15237549,"display_name":"Captain Hatteras"},"score":0,"creation_date":1635450939,"post_id":69759932,"comment_id":123309197,"body_markdown":"@Sweeper I was trying to prevent that by offering an alternative option, yet still be consistent with other syntax. I did not know that a static function could be called with an object when I wrote this.","body":"@Sweeper I was trying to prevent that by offering an alternative option, yet still be consistent with other syntax. I did not know that a static function could be called with an object when I wrote this."},{"owner":{"account_id":20749731,"reputation":510,"user_id":15237549,"display_name":"Captain Hatteras"},"score":0,"creation_date":1635451091,"post_id":69759932,"comment_id":123309238,"body_markdown":"@HarryCoder Thank you for the link.","body":"@HarryCoder Thank you for the link."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635450615,"creation_date":1635450615,"answer_id":69760097,"question_id":69759932,"body_markdown":"Yes, there is a better option: Do nothing.\r\n\r\nThere is nothing wrong with having a method that doesn’t need `this` to do its job. That’s an implementation choice, which has nothing to do with an instance fulfilling its contract of implementing methods.\r\n\r\nThere are plenty of commonly used design patterns that have such methods. Take the various factory patterns for example - their methods have a contract to return an instance. Nobody knows or cares if they use `this` to get the job done or not.","title":"In Java, Is it Possible to Have Two Functions with the Exact Same Signature, Except One is static","body":"<p>Yes, there is a better option: Do nothing.</p>\n<p>There is nothing wrong with having a method that doesn’t need <code>this</code> to do its job. That’s an implementation choice, which has nothing to do with an instance fulfilling its contract of implementing methods.</p>\n<p>There are plenty of commonly used design patterns that have such methods. Take the various factory patterns for example - their methods have a contract to return an instance. Nobody knows or cares if they use <code>this</code> to get the job done or not.</p>\n"},{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635450622,"creation_date":1635450622,"answer_id":69760099,"question_id":69759932,"body_markdown":"No, you can&#39;t.\r\n\r\n&gt; 8.4.2. Method Signature Two methods or constructors, M and N, have the same signature if they have the same name, the same type parameters\r\n&gt; (if any) (&#167;8.4.4), and, after adapting the formal parameter types of N\r\n&gt; to the the type parameters of M, the same formal parameter types.\r\n&gt; \r\n&gt; The signature of a method m1 is a subsignature of the signature of a\r\n&gt; method m2 if either:\r\n&gt; \r\n&gt; m2 has the same signature as m1, or\r\n&gt; \r\n&gt; the signature of m1 is the same as the erasure (&#167;4.6) of the signature\r\n&gt; of m2.\r\n&gt; \r\n&gt; Two method signatures m1 and m2 are override-equivalent iff either m1\r\n&gt; is a subsignature of m2 or m2 is a subsignature of m1.\r\n&gt; \r\n&gt; It is a compile-time error to declare two methods with\r\n&gt; override-equivalent signatures in a class.\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4\r\n\r\n","title":"In Java, Is it Possible to Have Two Functions with the Exact Same Signature, Except One is static","body":"<p>No, you can't.</p>\n<blockquote>\n<p>8.4.2. Method Signature Two methods or constructors, M and N, have the same signature if they have the same name, the same type parameters\n(if any) (§8.4.4), and, after adapting the formal parameter types of N\nto the the type parameters of M, the same formal parameter types.</p>\n<p>The signature of a method m1 is a subsignature of the signature of a\nmethod m2 if either:</p>\n<p>m2 has the same signature as m1, or</p>\n<p>the signature of m1 is the same as the erasure (§4.6) of the signature\nof m2.</p>\n<p>Two method signatures m1 and m2 are override-equivalent iff either m1\nis a subsignature of m2 or m2 is a subsignature of m1.</p>\n<p>It is a compile-time error to declare two methods with\noverride-equivalent signatures in a class.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4</a></p>\n"}],"owner":{"account_id":20749731,"reputation":510,"user_id":15237549,"display_name":"Captain Hatteras"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69760097,"answer_count":2,"score":1,"last_activity_date":1635450622,"creation_date":1635449791,"question_id":69759932,"body_markdown":"I am writing a class `Baz&lt;T&gt;` with function declarations similar to the following:\r\n\r\n    public SomeClass1&lt;T&gt; foo(T);                               // Overload #1\r\n    public SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);                // Overload #2\r\n    public SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;); // Overload #3\r\nSince #1 is the only function that uses `this`, I could make all the others `static`:\r\n\r\n    public SomeClass1&lt;T&gt; foo(T);\r\n    public static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);             //#2 and #3 now static\r\n    public static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;);\r\nHowever, that would make calling different `foo` overloads inconsistent. I could simply make #1 take a `Baz` (instead of `this`), but it seems that:\r\n\r\n    baz.foo(t);\r\nis more syntactic sugar than:\r\n\r\n    Baz.foo(baz, t);\r\nIf I don&#39;t make #2 and #3 static, then there is no way to prevent something like:\r\n\r\n    Baz&lt;Bar&gt; baz1 = new Baz&lt;Bar&gt;(); // Bar is any class type; replaces T\r\n    Baz&lt;Bar&gt; baz2 = new Baz&lt;Bar&gt;();\r\n    \r\n    SomeClass1&lt;Bar&gt; sc = new SomeClass1&lt;Bar&gt;(baz1); // make a SomeClass1 that is somehow attached to baz1; however, SomeClass1 does NOT keep a reference to baz1\r\n    \r\n    baz2.foo(new Bar(), sc); // runs and compiles just fine!\r\nWhat I ended up trying to do was to have a non-static and a static overload for each one, where the non-static overloads simply delegate to the static:\r\n\r\n    public SomeClass1&lt;T&gt; foo(T);                 // All non-static overloads delegate to the corresponding static overload\r\n    public SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);             \r\n    public SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;);\r\n    \r\n    public static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, Baz&lt;T&gt;);     // Baz could be first or last argument\r\n    public static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);            \r\n    public static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;);\r\n\r\nI get the following error coming from the declaration of overload #2, #3, and their corresponding static overloads, replacing `my-method-signature` with the corresponding method signature and `my-class-name` with `Baz&lt;T&gt;`, or the data type I am using:\r\n\r\n&gt; Erasure of method my-method-signature is the same as another method in type my-class-name\r\n\r\n**Questions:**\r\n\r\n 1. Is there any better option than what I am trying or want to do? Is it possible to accomplish what I am attempting? If so, how? \r\n 2. Is what I am trying to do (i.e., make syntax consistent and make it impossible to call a method with &quot;mismatching&quot; `SomeClass1&lt;T&gt;` and `this` objects) even worth it?\r\n\r\nP.S. Sorry for the long post.","title":"In Java, Is it Possible to Have Two Functions with the Exact Same Signature, Except One is static","body":"<p>I am writing a class <code>Baz&lt;T&gt;</code> with function declarations similar to the following:</p>\n<pre><code>public SomeClass1&lt;T&gt; foo(T);                               // Overload #1\npublic SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);                // Overload #2\npublic SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;); // Overload #3\n</code></pre>\n<p>Since #1 is the only function that uses <code>this</code>, I could make all the others <code>static</code>:</p>\n<pre><code>public SomeClass1&lt;T&gt; foo(T);\npublic static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);             //#2 and #3 now static\npublic static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;);\n</code></pre>\n<p>However, that would make calling different <code>foo</code> overloads inconsistent. I could simply make #1 take a <code>Baz</code> (instead of <code>this</code>), but it seems that:</p>\n<pre><code>baz.foo(t);\n</code></pre>\n<p>is more syntactic sugar than:</p>\n<pre><code>Baz.foo(baz, t);\n</code></pre>\n<p>If I don't make #2 and #3 static, then there is no way to prevent something like:</p>\n<pre><code>Baz&lt;Bar&gt; baz1 = new Baz&lt;Bar&gt;(); // Bar is any class type; replaces T\nBaz&lt;Bar&gt; baz2 = new Baz&lt;Bar&gt;();\n\nSomeClass1&lt;Bar&gt; sc = new SomeClass1&lt;Bar&gt;(baz1); // make a SomeClass1 that is somehow attached to baz1; however, SomeClass1 does NOT keep a reference to baz1\n\nbaz2.foo(new Bar(), sc); // runs and compiles just fine!\n</code></pre>\n<p>What I ended up trying to do was to have a non-static and a static overload for each one, where the non-static overloads simply delegate to the static:</p>\n<pre><code>public SomeClass1&lt;T&gt; foo(T);                 // All non-static overloads delegate to the corresponding static overload\npublic SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);             \npublic SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;);\n\npublic static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, Baz&lt;T&gt;);     // Baz could be first or last argument\npublic static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;);            \npublic static &lt;T&gt; SomeClass1&lt;T&gt; foo(T, SomeClass1&lt;T&gt;, SomeClass1&lt;T&gt;);\n</code></pre>\n<p>I get the following error coming from the declaration of overload #2, #3, and their corresponding static overloads, replacing <code>my-method-signature</code> with the corresponding method signature and <code>my-class-name</code> with <code>Baz&lt;T&gt;</code>, or the data type I am using:</p>\n<blockquote>\n<p>Erasure of method my-method-signature is the same as another method in type my-class-name</p>\n</blockquote>\n<p><strong>Questions:</strong></p>\n<ol>\n<li>Is there any better option than what I am trying or want to do? Is it possible to accomplish what I am attempting? If so, how?</li>\n<li>Is what I am trying to do (i.e., make syntax consistent and make it impossible to call a method with &quot;mismatching&quot; <code>SomeClass1&lt;T&gt;</code> and <code>this</code> objects) even worth it?</li>\n</ol>\n<p>P.S. Sorry for the long post.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635407494,"post_id":69749875,"comment_id":123290845,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data), to see it how it exactly looks like.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>, to see it how it exactly looks like."},{"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"score":0,"creation_date":1635411989,"post_id":69749875,"comment_id":123292743,"body_markdown":"It&#39;s good I modified!","body":"It&#39;s good I modified!"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635412800,"post_id":69749875,"comment_id":123293095,"body_markdown":"There are two children under the &quot;Withdraw&quot; node. Which of them would you like to get?","body":"There are two children under the &quot;Withdraw&quot; node. Which of them would you like to get?"},{"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"score":0,"creation_date":1635416778,"post_id":69749875,"comment_id":123294868,"body_markdown":"the children under &quot;Withdraw&quot; are IDs created from the Uid of the Firebase user. And so I would like to recover his respective ID for the user","body":"the children under &quot;Withdraw&quot; are IDs created from the Uid of the Firebase user. And so I would like to recover his respective ID for the user"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635417106,"post_id":69749875,"comment_id":123295022,"body_markdown":"No, under the &quot;Withdraw&quot; node, there are two pushed IDs, `-Mn1-FONHwx1-EmwZKND` and `-Mn1-ZI4lkbv4P76UMQl`. There is no UID present in your schema. Not higher in the hierarchy nor lower. So which one of those two children are you interested in?","body":"No, under the &quot;Withdraw&quot; node, there are two pushed IDs, <code>-Mn1-FONHwx1-EmwZKND</code> and <code>-Mn1-ZI4lkbv4P76UMQl</code>. There is no UID present in your schema. Not higher in the hierarchy nor lower. So which one of those two children are you interested in?"},{"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"score":0,"creation_date":1635419540,"post_id":69749875,"comment_id":123296067,"body_markdown":"Sorry, I don&#39;t explain myself well in English. Is there a way for example to retrieve the pushID of the first one which is &quot;-Mn1-F0NHwx1-EmwZKND&quot; and connect to user.getUid() from which it was created?","body":"Sorry, I don&#39;t explain myself well in English. Is there a way for example to retrieve the pushID of the first one which is &quot;-Mn1-F0NHwx1-EmwZKND&quot; and connect to user.getUid() from which it was created?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635420518,"post_id":69749875,"comment_id":123296447,"body_markdown":"Are you storing `&quot;-Mn1-F0NHwx1-EmwZKND&quot;` in a variable? Besides that, what do you mean by &quot;connect to user.getUid() from which it was created&quot;?","body":"Are you storing <code>&quot;-Mn1-F0NHwx1-EmwZKND&quot;</code> in a variable? Besides that, what do you mean by &quot;connect to user.getUid() from which it was created&quot;?"},{"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"score":0,"creation_date":1635421492,"post_id":69749875,"comment_id":123296829,"body_markdown":"I created during the registration a branch &quot;Users&quot; and in this branch there are children who store data, the children are the Uid. From this Uid by &quot;reference.child(user.getUid).addEventListener... I retrieve the data stored in the Uid respectively of the user then displayed in the application. There I want to do the same principle except that in my problem the pushID I do not know how to retrieve it","body":"I created during the registration a branch &quot;Users&quot; and in this branch there are children who store data, the children are the Uid. From this Uid by &quot;reference.child(user.getUid).addEventListener... I retrieve the data stored in the Uid respectively of the user then displayed in the application. There I want to do the same principle except that in my problem the pushID I do not know how to retrieve it"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635421593,"post_id":69749875,"comment_id":123296865,"body_markdown":"I&#39;m asking you again :) So which one of those two children are you interested in?","body":"I&#39;m asking you again :) So which one of those two children are you interested in?"},{"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"score":0,"creation_date":1635427862,"post_id":69749875,"comment_id":123299794,"body_markdown":"Sorry, the first one interests me","body":"Sorry, the first one interests me"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635432662,"post_id":69749875,"comment_id":123302083,"body_markdown":"Ok, thank you for answering. Besides that, are you storing `&quot;-Mn1-F0NHwx1-EmwZKND&quot;` in a variable so it can be sure in a reference? Or is any of the `amount`, `date`, `email` values stored in a variable?","body":"Ok, thank you for answering. Besides that, are you storing <code>&quot;-Mn1-F0NHwx1-EmwZKND&quot;</code> in a variable so it can be sure in a reference? Or is any of the <code>amount</code>, <code>date</code>, <code>email</code> values stored in a variable?"},{"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"score":0,"creation_date":1635444651,"post_id":69749875,"comment_id":123307110,"body_markdown":"Sorry for the response time, only email","body":"Sorry for the response time, only email"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635449874,"creation_date":1635449874,"answer_id":69759953,"question_id":69749875,"body_markdown":"To be able to get the data that corresponds to a single user with a specific email address, please use the following lines of code:\r\n\r\n\tDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference withdrawRef = rootRef.child(&quot;Withdraw&quot;);\r\n    Query queryByEmail = withdrawRef.orderByChild(&quot;email&quot;).equalTo(&quot;example@gmail.com&quot;);\r\n    queryByEmail.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tString id = ds.child(&quot;id&quot;).getValue(String.class);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, id);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nAccording to your comment:\r\n\r\n&gt; The first one interests me.\r\n\r\nSince both children have the same email addresses, then the result in the logcat will be:\r\n\r\n    -Mn1-FONHwx1-EmwZKND\r\n    -Mn1-ZI4lkbv4P76UMQl\r\n\r\nIf you want only the first result, you either add a `.limit(1)` call to your existing query, or you make sure you have unique email addresses.","title":"Is it possible to bind a pushID to a userUid in a Firebase database","body":"<p>To be able to get the data that corresponds to a single user with a specific email address, please use the following lines of code:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference withdrawRef = rootRef.child(&quot;Withdraw&quot;);\nQuery queryByEmail = withdrawRef.orderByChild(&quot;email&quot;).equalTo(&quot;example@gmail.com&quot;);\nqueryByEmail.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String id = ds.child(&quot;id&quot;).getValue(String.class);\n                Log.d(&quot;TAG&quot;, id);\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>According to your comment:</p>\n<blockquote>\n<p>The first one interests me.</p>\n</blockquote>\n<p>Since both children have the same email addresses, then the result in the logcat will be:</p>\n<pre><code>-Mn1-FONHwx1-EmwZKND\n-Mn1-ZI4lkbv4P76UMQl\n</code></pre>\n<p>If you want only the first result, you either add a <code>.limit(1)</code> call to your existing query, or you make sure you have unique email addresses.</p>\n"}],"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69759953,"answer_count":1,"score":0,"last_activity_date":1635449903,"creation_date":1635406075,"question_id":69749875,"body_markdown":"I&#39;m trying to create a PushID from the user&#39;s UID in another branch of my database.\r\n\r\nSo far I have done this:\r\n\r\n```\r\nDatabaseReference userUUID = FirebaseDatabase.getInstance().getReference().child(user.getUid());\r\n\t\t\r\n\t\tString pushUser = userUUID.push().getKey();\r\n\t\t\r\n\t\tHashMap&lt;String, Object&gt; withdrawMap = new HashMap&lt;&gt;();\r\n\t\twithdrawMap.put(&quot;id&quot;, pushUser);\r\n        withdrawMap.put(&quot;balance&quot;, &quot;5000&quot;);\r\n\t\twithdrawMap.put(&quot;email&quot;, emailMP);\r\n\t\twithdrawMap.put(&quot;date&quot;, dateString);\r\n\t\twithdrawMap.put(&quot;statut&quot;, &quot;Pending&quot;);\r\n\t\twithdrawMap.put(&quot;image&quot;, mediumPackImage);\r\n\t\t\r\n\t\treferenceWithdraw.child(pushUser)\r\n\t\t\t.setValue(withdrawMap)\r\n\t\t\t.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {}\r\n```\r\n\r\nHere is my database in .json format(the first and second are from 2 different users)\r\n\r\n```\r\n{\r\n  &quot;Withdraw&quot; : {\r\n    &quot;-Mn1-FONHwx1-EmwZKND&quot; : {\r\n      &quot;amount&quot; : &quot;5000&quot;,\r\n      &quot;date&quot; : &quot;27/10/2021&quot;,\r\n      &quot;email&quot; : &quot;example@gmail.com&quot;,\r\n      &quot;id&quot; : &quot;-Mn1-FONHwx1-EmwZKND&quot;,\r\n      &quot;statut&quot; : &quot;Pending&quot;\r\n    },\r\n    &quot;-Mn1-ZI4lkbv4P76UMQl&quot; : {\r\n      &quot;amount&quot; : &quot;5000&quot;,\r\n      &quot;date&quot; : &quot;27/10/2021&quot;,\r\n      &quot;email&quot; : &quot;example@gmail.com&quot;,\r\n      &quot;id&quot; : &quot;-Mn1-ZI4lkbv4P76UMQl&quot;,\r\n      &quot;statut&quot; : &quot;Pending&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```\r\nreferenceWithdraw = FirebaseDatabase.getInstance().getReference().child(&quot;Withdraw&quot;);\r\n```\r\n\r\nI would like to say that logically the child is an ID created from the Uid of the Firebase user(the code makes it clear in any case)\r\n\r\n**Now imagine that I want to retrieve users&#39; PushIds and show content**\r\n\r\n```\r\nreferenceHistory = FirebaseDatabase.getInstance().getReference().child(&quot;Withdraw&quot;).child(&quot;????&quot;);\r\n```\r\n\r\n**\r\nI have to put what in the second child to be able to retrieve the pushIDs that are created from the user ID?**\r\n\r\nHoping that I explained myself well ","title":"Is it possible to bind a pushID to a userUid in a Firebase database","body":"<p>I'm trying to create a PushID from the user's UID in another branch of my database.</p>\n<p>So far I have done this:</p>\n<pre><code>DatabaseReference userUUID = FirebaseDatabase.getInstance().getReference().child(user.getUid());\n        \n        String pushUser = userUUID.push().getKey();\n        \n        HashMap&lt;String, Object&gt; withdrawMap = new HashMap&lt;&gt;();\n        withdrawMap.put(&quot;id&quot;, pushUser);\n        withdrawMap.put(&quot;balance&quot;, &quot;5000&quot;);\n        withdrawMap.put(&quot;email&quot;, emailMP);\n        withdrawMap.put(&quot;date&quot;, dateString);\n        withdrawMap.put(&quot;statut&quot;, &quot;Pending&quot;);\n        withdrawMap.put(&quot;image&quot;, mediumPackImage);\n        \n        referenceWithdraw.child(pushUser)\n            .setValue(withdrawMap)\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {}\n</code></pre>\n<p>Here is my database in .json format(the first and second are from 2 different users)</p>\n<pre><code>{\n  &quot;Withdraw&quot; : {\n    &quot;-Mn1-FONHwx1-EmwZKND&quot; : {\n      &quot;amount&quot; : &quot;5000&quot;,\n      &quot;date&quot; : &quot;27/10/2021&quot;,\n      &quot;email&quot; : &quot;example@gmail.com&quot;,\n      &quot;id&quot; : &quot;-Mn1-FONHwx1-EmwZKND&quot;,\n      &quot;statut&quot; : &quot;Pending&quot;\n    },\n    &quot;-Mn1-ZI4lkbv4P76UMQl&quot; : {\n      &quot;amount&quot; : &quot;5000&quot;,\n      &quot;date&quot; : &quot;27/10/2021&quot;,\n      &quot;email&quot; : &quot;example@gmail.com&quot;,\n      &quot;id&quot; : &quot;-Mn1-ZI4lkbv4P76UMQl&quot;,\n      &quot;statut&quot; : &quot;Pending&quot;\n    }\n  }\n}\n</code></pre>\n<pre><code>referenceWithdraw = FirebaseDatabase.getInstance().getReference().child(&quot;Withdraw&quot;);\n</code></pre>\n<p>I would like to say that logically the child is an ID created from the Uid of the Firebase user(the code makes it clear in any case)</p>\n<p><strong>Now imagine that I want to retrieve users' PushIds and show content</strong></p>\n<pre><code>referenceHistory = FirebaseDatabase.getInstance().getReference().child(&quot;Withdraw&quot;).child(&quot;????&quot;);\n</code></pre>\n<p>**\nI have to put what in the second child to be able to retrieve the pushIDs that are created from the user ID?**</p>\n<p>Hoping that I explained myself well</p>\n"},{"tags":["java","android","junit","robotium"],"comments":[{"owner":{"account_id":1703486,"reputation":3349,"user_id":1563038,"display_name":"Naveen Tamrakar"},"score":0,"creation_date":1415784885,"post_id":26883497,"comment_id":42322502,"body_markdown":"use assest folder to put xls file","body":"use assest folder to put xls file"},{"owner":{"account_id":159938,"reputation":585,"user_id":379642,"accept_rate":93,"display_name":"zhaojing"},"score":0,"creation_date":1415785144,"post_id":26883497,"comment_id":42322667,"body_markdown":"@NaveenTamrakar, Does it means android can&#39;t parse xml format files?","body":"@NaveenTamrakar, Does it means android can&#39;t parse xml format files?"},{"owner":{"account_id":5285394,"reputation":7879,"user_id":4224337,"accept_rate":50,"display_name":"Rami"},"score":0,"creation_date":1415785238,"post_id":26883497,"comment_id":42322741,"body_markdown":"as @NaveenTamrakar says, you can use assets to put your files, this is an example how to use them http://stackoverflow.com/a/8475135/4224337","body":"as @NaveenTamrakar says, you can use assets to put your files, this is an example how to use them <a href=\"http://stackoverflow.com/a/8475135/4224337\">stackoverflow.com/a/8475135/4224337</a>"},{"owner":{"account_id":1703486,"reputation":3349,"user_id":1563038,"display_name":"Naveen Tamrakar"},"score":0,"creation_date":1415785251,"post_id":26883497,"comment_id":42322746,"body_markdown":"no its can parse but where u put xml file like on server on local Like Sdcard on in App Resource","body":"no its can parse but where u put xml file like on server on local Like Sdcard on in App Resource"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1415785251,"post_id":26883497,"comment_id":42322748,"body_markdown":"No it means that you have to put files which your app wants to use in the assets folder. Moreover you have to use assets manager to open an input stream to read the file. You can not use the File class or FileInputStream class. The filename should be all lowercase.","body":"No it means that you have to put files which your app wants to use in the assets folder. Moreover you have to use assets manager to open an input stream to read the file. You can not use the File class or FileInputStream class. The filename should be all lowercase."}],"answers":[{"tags":[],"owner":{"account_id":1703486,"reputation":3349,"user_id":1563038,"display_name":"Naveen Tamrakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635449686,"creation_date":1415785534,"answer_id":26883769,"question_id":26883497,"body_markdown":"```\r\nassets/\r\n```\r\n\r\nYou can use it to store raw asset files. Files that you save here are compiled into an .apk file as-is, and the original filename is preserved. You can navigate this directory in the same way as a typical file system using URIs and read files as a stream of bytes using the AssetManager. For example, this is a good location for textures and game data.\r\n\r\n[Android Projects structure](https://developer.android.com/tools/projects/index.html)","title":"How to get the path of file in android project","body":"<pre><code>assets/\n</code></pre>\n<p>You can use it to store raw asset files. Files that you save here are compiled into an .apk file as-is, and the original filename is preserved. You can navigate this directory in the same way as a typical file system using URIs and read files as a stream of bytes using the AssetManager. For example, this is a good location for textures and game data.</p>\n<p><a href=\"https://developer.android.com/tools/projects/index.html\" rel=\"nofollow noreferrer\">Android Projects structure</a></p>\n"}],"owner":{"account_id":159938,"reputation":585,"user_id":379642,"accept_rate":93,"display_name":"zhaojing"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26883769,"answer_count":1,"score":0,"last_activity_date":1635449686,"creation_date":1415784781,"question_id":26883497,"body_markdown":"I have a project in android eclipse, and it will be run on android emulator.\r\nIn my project, I put some xlf (**xml format**) files in the folder **translations**. And I will read them and parse. But it seems I always fail.\r\nThe structure of my project is like attachment image\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WMYyq.png\r\n\r\nAnd TC01_OSNdemo.java is my main package.\r\nIn it, I wrote the codes to parse xml files from &quot;**translations**&quot; folder.\r\nBut it seems it fail no matter in absolute path, relative path, etc...\r\n\r\nMy method1: relative path\r\n\r\n    String FileName = &quot;./translations/myosn.mofile.android.zn_CN.xlf&quot;\r\n    File tfile = new File(FileName);\r\n    \t\t\t\t\t\tif (tfile.exists())\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;zhaotest File exist&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;zhaotest File Not Exist&quot;);\r\n    \t\t\t\t\t\t}\r\nIt seems it can&#39;t find the file\r\n\r\nMy method 2. absolute path in my project.\r\n\r\n    String FileName = &quot;C:\\\\Users\\\\****\\\\workspaceforandroid\\\\OSNdemo\\\\translations\\\\myosn.mofile.android.zn_CN.xlf&quot;;\r\n\r\nIt seems it can&#39;t find the file.\r\n\r\nMy method 3.\r\n\r\n    String FileName = Environment.getExternalStorageDirectory()+ File.separator+ &quot;OSNdemo&quot; +File.separator + &quot;translations&quot;+File.separator + &quot;myosn.mofile.android.zn_CN.xlf&quot;;\r\n\r\nIt seems it can&#39;t find the file. :(\r\n\r\nCould anyone help me about this issue?\r\n\r\nThanks a lot!","title":"How to get the path of file in android project","body":"<p>I have a project in android eclipse, and it will be run on android emulator.\nIn my project, I put some xlf (<strong>xml format</strong>) files in the folder <strong>translations</strong>. And I will read them and parse. But it seems I always fail.\nThe structure of my project is like attachment image\n<img src=\"https://i.stack.imgur.com/WMYyq.png\" alt=\"enter image description here\"></p>\n\n<p>And TC01_OSNdemo.java is my main package.\nIn it, I wrote the codes to parse xml files from \"<strong>translations</strong>\" folder.\nBut it seems it fail no matter in absolute path, relative path, etc...</p>\n\n<p>My method1: relative path</p>\n\n<pre><code>String FileName = \"./translations/myosn.mofile.android.zn_CN.xlf\"\nFile tfile = new File(FileName);\n                        if (tfile.exists())\n                        {\n                            System.out.println(\"zhaotest File exist\");\n                        }\n                        else\n                        {\n                            System.out.println(\"zhaotest File Not Exist\");\n                        }\n</code></pre>\n\n<p>It seems it can't find the file</p>\n\n<p>My method 2. absolute path in my project.</p>\n\n<pre><code>String FileName = \"C:\\\\Users\\\\****\\\\workspaceforandroid\\\\OSNdemo\\\\translations\\\\myosn.mofile.android.zn_CN.xlf\";\n</code></pre>\n\n<p>It seems it can't find the file.</p>\n\n<p>My method 3.</p>\n\n<pre><code>String FileName = Environment.getExternalStorageDirectory()+ File.separator+ \"OSNdemo\" +File.separator + \"translations\"+File.separator + \"myosn.mofile.android.zn_CN.xlf\";\n</code></pre>\n\n<p>It seems it can't find the file. :(</p>\n\n<p>Could anyone help me about this issue?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635432360,"creation_date":1635432360,"answer_id":69756262,"question_id":69756138,"body_markdown":"Make the dependency mandatory as follows:\r\n```java\r\n@RestController\r\npublic class STSController {\r\n\r\n   @Autowired\r\n   public LoadService service;\r\n\r\n\r\n   @PostMapping(&quot;/home&quot;)\r\n   public String getload() {\r\n      return service.getLoads();\r\n   }\r\n}\r\n```\r\n\r\nAnd add `@Service` to `LoadServiceImpl` so that a Spring-managed bean is created:\r\n```java\r\n@Service\r\npublic class LoadServiceImpl implements LoadService {\r\n\r\n    List&lt;Load&gt; list;\r\n\r\n    public LoadServiceImpl() {\r\n        list = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public String getLoads() {\r\n        //This is just a test\r\n        return &quot;Load list&quot; ;\r\n    }\r\n}\r\n```","title":"Spring Boot JPA @AutoWired bean null","body":"<p>Make the dependency mandatory as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class STSController {\n\n   @Autowired\n   public LoadService service;\n\n\n   @PostMapping(&quot;/home&quot;)\n   public String getload() {\n      return service.getLoads();\n   }\n}\n</code></pre>\n<p>And add <code>@Service</code> to <code>LoadServiceImpl</code> so that a Spring-managed bean is created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class LoadServiceImpl implements LoadService {\n\n    List&lt;Load&gt; list;\n\n    public LoadServiceImpl() {\n        list = new ArrayList&lt;&gt;();\n    }\n\n    @Override\n    public String getLoads() {\n        //This is just a test\n        return &quot;Load list&quot; ;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635449228,"creation_date":1635432853,"answer_id":69756369,"question_id":69756138,"body_markdown":"Let spring manage your service (before it can be injected anywhere)!\r\n\r\nBy:\r\n\r\n-     @org.springframework.stereotype.Service\r\n      public class LoadServiceImpl  ... \r\n    plus adding it to component-scan.\r\n\r\n- or (without component scan):\r\n        \r\n      @SpringBootApplication\r\n      public class StsApplication {\r\n         //...\r\n        @Bean\r\n        public LoadService myLoadService() {\r\n          //...\r\n          return new LoadServiceImpl();\r\n        }\r\n      } //in your app/config/main","title":"Spring Boot JPA @AutoWired bean null","body":"<p>Let spring manage your service (before it can be injected anywhere)!</p>\n<p>By:</p>\n<ul>\n<li>\n<pre><code>@org.springframework.stereotype.Service\npublic class LoadServiceImpl  ... \n</code></pre>\n<p>plus adding it to component-scan.</p>\n</li>\n<li><p>or (without component scan):</p>\n<pre><code>@SpringBootApplication\npublic class StsApplication {\n   //...\n  @Bean\n  public LoadService myLoadService() {\n    //...\n    return new LoadServiceImpl();\n  }\n} //in your app/config/main\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635438396,"creation_date":1635438396,"answer_id":69757747,"question_id":69756138,"body_markdown":"You forgot to write @Service annotation in your LoadServiceImpl class and remove that required = false in your @Autowired annotation in the controller class. And try to avoid using this Autowired, again and again, use constructor DI in your code, it  make managing DI easy.\r\nDI----(Dependency Injection)....","title":"Spring Boot JPA @AutoWired bean null","body":"<p>You forgot to write @Service annotation in your LoadServiceImpl class and remove that required = false in your @Autowired annotation in the controller class. And try to avoid using this Autowired, again and again, use constructor DI in your code, it  make managing DI easy.\nDI----(Dependency Injection)....</p>\n"}],"owner":{"account_id":7068002,"reputation":3,"user_id":10391923,"display_name":"nash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69757747,"answer_count":3,"score":0,"last_activity_date":1635449228,"creation_date":1635431945,"question_id":69756138,"body_markdown":"I was learning Spring Boot and i have run into this problem where AutoWired bean gives nullpointer exception.I have tried changing Annotations  and checked all the usual suspects.\r\n\r\nHere is the file structure\r\n[File Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UzK5f.png\r\n\r\n\r\n\r\nStsApplication.java\r\n\r\n    package com.Load.lsy;\r\n\r\n      import org.springframework.boot.SpringApplication;\r\n      import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n      @SpringBootApplication\r\n      public class StsApplication {\r\n\r\n\t   public static void main(String[] args) {\r\n\t\tSpringApplication.run(StsApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\nloadService.java\r\n\r\n    package com.Load.lsy.service;\r\n\r\n    import java.util.List;\r\n\r\n    import com.Load.lsy.Entities.Load;\r\n\r\n      public interface LoadService {\r\n\t\r\n\tpublic String getLoads();\r\n\r\n    }\r\n\r\nSTSController.java\r\n\r\n    package com.Load.lsy.Controller;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.Load.lsy.service.*;\r\n\r\n    @RestController\r\n    public class STSController {\r\n\t\r\n\t@Autowired(required=false)\r\n\tpublic LoadService service;\r\n\t\r\n\t\r\n\t@PostMapping(&quot;/home&quot;)\r\n\tpublic String getload() {\r\n\t\treturn service.getLoads();\r\n\t}\r\n    }\r\n\r\nLoadServiceImpl.java\r\n\r\n    package com.Load.lsy.service;\r\n\r\n      import java.util.List;\r\n      import java.util.*;\r\n\r\n     import com.Load.lsy.Entities.Load;\r\n\r\n     public class LoadServiceImpl implements LoadService {\r\n\t\r\n\tList&lt;Load&gt; list;\r\n\t\r\n\tpublic LoadServiceImpl() {\r\n\t\tlist = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getLoads() {\r\n\t\t//This is just a test\r\n\t\treturn &quot;Load list&quot; ;\r\n\t}\r\n\r\n    }\r\n \r\n\r\nstacktrace\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.Load.lsy.service.LoadService.getLoads()&quot; because &quot;this.service&quot; is null\r\n\tat com.Load.lsy.Controller.STSController.getload(STSController.java:18) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\n[2m","title":"Spring Boot JPA @AutoWired bean null","body":"<p>I was learning Spring Boot and i have run into this problem where AutoWired bean gives nullpointer exception.I have tried changing Annotations  and checked all the usual suspects.</p>\n<p>Here is the file structure\n<a href=\"https://i.stack.imgur.com/UzK5f.png\" rel=\"nofollow noreferrer\">File Structure</a></p>\n<p>StsApplication.java</p>\n<pre><code>package com.Load.lsy;\n\n  import org.springframework.boot.SpringApplication;\n  import org.springframework.boot.autoconfigure.SpringBootApplication;\n\n  @SpringBootApplication\n  public class StsApplication {\n\n   public static void main(String[] args) {\n    SpringApplication.run(StsApplication.class, args);\n}\n\n}\n</code></pre>\n<p>loadService.java</p>\n<pre><code>package com.Load.lsy.service;\n\nimport java.util.List;\n\nimport com.Load.lsy.Entities.Load;\n\n  public interface LoadService {\n\npublic String getLoads();\n\n}\n</code></pre>\n<p>STSController.java</p>\n<pre><code>package com.Load.lsy.Controller;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.Load.lsy.service.*;\n\n@RestController\npublic class STSController {\n\n@Autowired(required=false)\npublic LoadService service;\n\n\n@PostMapping(&quot;/home&quot;)\npublic String getload() {\n    return service.getLoads();\n}\n}\n</code></pre>\n<p>LoadServiceImpl.java</p>\n<pre><code>package com.Load.lsy.service;\n\n  import java.util.List;\n  import java.util.*;\n\n import com.Load.lsy.Entities.Load;\n\n public class LoadServiceImpl implements LoadService {\n\nList&lt;Load&gt; list;\n\npublic LoadServiceImpl() {\n    list = new ArrayList&lt;&gt;();\n}\n\n@Override\npublic String getLoads() {\n    //This is just a test\n    return &quot;Load list&quot; ;\n}\n\n}\n</code></pre>\n<p>stacktrace</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.Load.lsy.service.LoadService.getLoads()&quot; because &quot;this.service&quot; is null\nat com.Load.lsy.Controller.STSController.getload(STSController.java:18) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>[2m</p>\n"},{"tags":["java","android","firebase","android-studio","firebase-storage"],"comments":[{"owner":{"account_id":446166,"reputation":965,"user_id":839042,"accept_rate":75,"display_name":"SINDHYA PETER"},"score":0,"creation_date":1635443356,"post_id":69758415,"comment_id":123306667,"body_markdown":"please add the crash log also","body":"please add the crash log also"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635443717,"post_id":69758415,"comment_id":123306778,"body_markdown":"@SINDHYAPETER I updated the post","body":"@SINDHYAPETER I updated the post"},{"owner":{"account_id":446166,"reputation":965,"user_id":839042,"accept_rate":75,"display_name":"SINDHYA PETER"},"score":1,"creation_date":1635444163,"post_id":69758415,"comment_id":123306934,"body_markdown":"I think it&#39;s a problem in setting the firebase permission in the right way. Please check if this link helps: https://stackoverflow.com/a/49991921/839042","body":"I think it&#39;s a problem in setting the firebase permission in the right way. Please check if this link helps: <a href=\"https://stackoverflow.com/a/49991921/839042\">stackoverflow.com/a/49991921/839042</a>"},{"owner":{"display_name":"user17093321"},"score":1,"creation_date":1635444814,"post_id":69758415,"comment_id":123307177,"body_markdown":"@SINDHYAPETER Thank you very much, the problem is solved","body":"@SINDHYAPETER Thank you very much, the problem is solved"},{"owner":{"account_id":446166,"reputation":965,"user_id":839042,"accept_rate":75,"display_name":"SINDHYA PETER"},"score":1,"creation_date":1635449005,"post_id":69758415,"comment_id":123308543,"body_markdown":"Please accept my answer if it helped you.","body":"Please accept my answer if it helped you."}],"answers":[{"tags":[],"owner":{"account_id":446166,"reputation":965,"user_id":839042,"accept_rate":75,"display_name":"SINDHYA PETER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635448930,"creation_date":1635448930,"answer_id":69759765,"question_id":69758415,"body_markdown":"It&#39;s because of the improper rules set to firebase storage. You can set the following rule for testing:\r\n\r\n    service firebase.storage {\r\n      match /b/{bucket}/o {\r\n        match /{allPaths=**} {\r\n          allow read, write;\r\n        }\r\n      }\r\n    }\r\nSetting the above rule would open if for public. Hence you have to set appropriate authentication rule for production. \r\n\r\nReference from another answer https://stackoverflow.com/a/49991921/839042","title":"Why is the image not uploading to the Firebase-storage and craching?","body":"<p>It's because of the improper rules set to firebase storage. You can set the following rule for testing:</p>\n<pre><code>service firebase.storage {\n  match /b/{bucket}/o {\n    match /{allPaths=**} {\n      allow read, write;\n    }\n  }\n}\n</code></pre>\n<p>Setting the above rule would open if for public. Hence you have to set appropriate authentication rule for production.</p>\n<p>Reference from another answer <a href=\"https://stackoverflow.com/a/49991921/839042\">https://stackoverflow.com/a/49991921/839042</a></p>\n"}],"owner":{"display_name":"user17093321"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69759765,"answer_count":1,"score":0,"last_activity_date":1635448930,"creation_date":1635441427,"question_id":69758415,"body_markdown":"I made an application that makes a list of people that contains (name, age, description and photo), but the problem is when I record the data in a file (AddPerson) and save it, the app craching\r\n\r\nthis is the crash log:\r\n\r\n```\r\nE/StorageException: StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\nE/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\r\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\r\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n    StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\nE/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\r\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\r\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n\r\n```\r\n\r\nthis is codes for `AddPerson`:\r\n\r\n```\r\npublic class AddPersonextends AppCompatActivity {\r\n\r\n    private TextInputEditText mFirstName, mLastName, mAge, mDescription;\r\n\r\n    private String firstNameString, lastNameString, ageString, descriptionString;\r\n    private Uri imageUri = null;\r\n\r\n    CardView mInsertImage;\r\n    ImageView mImageView;\r\n\r\n    private static final int IMAGE_PICK_CODE = 1000;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_person);\r\n\r\n        mFirstName = findViewById(R.id.first_name_input);\r\n        mLastName = findViewById(R.id.last_name_input);\r\n        AboutMissingSpinner = findViewById(R.id.spinner_about_missing);\r\n        mAge = findViewById(R.id.age_input);\r\n        mDescription = findViewById(R.id.description_input);\r\n\r\n        mInsertImage = findViewById(R.id.insert_image);\r\n        mImageView = findViewById(R.id.imageView);\r\n\r\n\r\n        mInsertImage.setOnClickListener(v -&gt; pickImageFromGallery());\r\n    }\r\n\r\n    private void pickImageFromGallery() {\r\n        Intent i = new Intent();\r\n        i.setType(&quot;image/*&quot;);\r\n        i.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(i, IMAGE_PICK_CODE);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (resultCode == RESULT_OK &amp;&amp; requestCode == IMAGE_PICK_CODE) {\r\n            assert data != null;\r\n            imageUri = data.getData();\r\n            mImageView.setImageURI(data.getData());\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void insertPerson() {\r\n        firstNameString = Objects.requireNonNull(mFirstName.getText()).toString().trim();\r\n        lastNameString = Objects.requireNonNull(mLastName.getText()).toString().trim();\r\n        ageString = Objects.requireNonNull(mAge.getText()).toString().trim();\r\n        descriptionString = Objects.requireNonNull(mDescription.getText()).toString().trim();\r\n\r\n        if (TextUtils.isEmpty(lastNameString)) {\r\n            lastNameString = &quot;&quot;;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(firstNameString) &amp;&amp; TextUtils.isEmpty(lastNameString)\r\n                &amp;&amp; TextUtils.isEmpty(ageString) &amp;&amp; TextUtils.isEmpty(descriptionString)) {\r\n            return;\r\n        }\r\n\r\n        uploadImage();\r\n    }\r\n\r\n    private void uploadImage() {\r\n        long timestamp = System.currentTimeMillis();\r\n        String filePathAndName = &quot;images/&quot; + timestamp;\r\n\r\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference(filePathAndName);\r\n        storageReference.putFile(imageUri)\r\n                .addOnSuccessListener(taskSnapshot -&gt; {\r\n                    Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                    while (!uriTask.isSuccessful());\r\n                    String uploadedImageUri = &quot;&quot; + uriTask.getResult();\r\n                    sendList(uploadedImageUri, timestamp);\r\n                }).addOnFailureListener(e -&gt; {\r\n\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_add_person, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == R.id.action_save) {\r\n            insertPerson();\r\n            finish();\r\n            return true;\r\n        } else if (item.getItemId() == android.R.id.home) {\r\n            if (TextUtils.isEmpty(firstNameString) &amp;&amp; TextUtils.isEmpty(lastNameString)\r\n                    &amp;&amp; TextUtils.isEmpty(ageString) &amp;&amp; TextUtils.isEmpty(descriptionString)) {\r\n            }\r\n\r\n            showUnsavedChangesDialog();\r\n            return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void sendList(String uploadedImageUri, long timestamp) {\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;List&quot;);\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n        hashMap.put(&quot;firstName&quot;, firstNameString);\r\n        hashMap.put(&quot;lastName&quot;, lastNameString);\r\n        hashMap.put(&quot;age&quot;, ageString);\r\n        hashMap.put(&quot;description&quot;, descriptionString);\r\n        hashMap.put(&quot;url&quot;, uploadedImageUri);\r\n        hashMap.put(&quot;timestamp&quot;, timestamp);\r\n\r\n        reference.push().setValue(hashMap);\r\n    }\r\n}\r\n```","title":"Why is the image not uploading to the Firebase-storage and craching?","body":"<p>I made an application that makes a list of people that contains (name, age, description and photo), but the problem is when I record the data in a file (AddPerson) and save it, the app craching</p>\n<p>this is the crash log:</p>\n<pre><code>E/StorageException: StorageException has occurred.\n    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\nE/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072) \n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n    StorageException has occurred.\n    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\nE/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072) \n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n\n</code></pre>\n<p>this is codes for <code>AddPerson</code>:</p>\n<pre><code>public class AddPersonextends AppCompatActivity {\n\n    private TextInputEditText mFirstName, mLastName, mAge, mDescription;\n\n    private String firstNameString, lastNameString, ageString, descriptionString;\n    private Uri imageUri = null;\n\n    CardView mInsertImage;\n    ImageView mImageView;\n\n    private static final int IMAGE_PICK_CODE = 1000;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_person);\n\n        mFirstName = findViewById(R.id.first_name_input);\n        mLastName = findViewById(R.id.last_name_input);\n        AboutMissingSpinner = findViewById(R.id.spinner_about_missing);\n        mAge = findViewById(R.id.age_input);\n        mDescription = findViewById(R.id.description_input);\n\n        mInsertImage = findViewById(R.id.insert_image);\n        mImageView = findViewById(R.id.imageView);\n\n\n        mInsertImage.setOnClickListener(v -&gt; pickImageFromGallery());\n    }\n\n    private void pickImageFromGallery() {\n        Intent i = new Intent();\n        i.setType(&quot;image/*&quot;);\n        i.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(i, IMAGE_PICK_CODE);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (resultCode == RESULT_OK &amp;&amp; requestCode == IMAGE_PICK_CODE) {\n            assert data != null;\n            imageUri = data.getData();\n            mImageView.setImageURI(data.getData());\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    private void insertPerson() {\n        firstNameString = Objects.requireNonNull(mFirstName.getText()).toString().trim();\n        lastNameString = Objects.requireNonNull(mLastName.getText()).toString().trim();\n        ageString = Objects.requireNonNull(mAge.getText()).toString().trim();\n        descriptionString = Objects.requireNonNull(mDescription.getText()).toString().trim();\n\n        if (TextUtils.isEmpty(lastNameString)) {\n            lastNameString = &quot;&quot;;\n        }\n\n        if (TextUtils.isEmpty(firstNameString) &amp;&amp; TextUtils.isEmpty(lastNameString)\n                &amp;&amp; TextUtils.isEmpty(ageString) &amp;&amp; TextUtils.isEmpty(descriptionString)) {\n            return;\n        }\n\n        uploadImage();\n    }\n\n    private void uploadImage() {\n        long timestamp = System.currentTimeMillis();\n        String filePathAndName = &quot;images/&quot; + timestamp;\n\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference(filePathAndName);\n        storageReference.putFile(imageUri)\n                .addOnSuccessListener(taskSnapshot -&gt; {\n                    Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\n                    while (!uriTask.isSuccessful());\n                    String uploadedImageUri = &quot;&quot; + uriTask.getResult();\n                    sendList(uploadedImageUri, timestamp);\n                }).addOnFailureListener(e -&gt; {\n\n                });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        getMenuInflater().inflate(R.menu.menu_add_person, menu);\n        return true;\n    }\n\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == R.id.action_save) {\n            insertPerson();\n            finish();\n            return true;\n        } else if (item.getItemId() == android.R.id.home) {\n            if (TextUtils.isEmpty(firstNameString) &amp;&amp; TextUtils.isEmpty(lastNameString)\n                    &amp;&amp; TextUtils.isEmpty(ageString) &amp;&amp; TextUtils.isEmpty(descriptionString)) {\n            }\n\n            showUnsavedChangesDialog();\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void sendList(String uploadedImageUri, long timestamp) {\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;List&quot;);\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n\n        hashMap.put(&quot;firstName&quot;, firstNameString);\n        hashMap.put(&quot;lastName&quot;, lastNameString);\n        hashMap.put(&quot;age&quot;, ageString);\n        hashMap.put(&quot;description&quot;, descriptionString);\n        hashMap.put(&quot;url&quot;, uploadedImageUri);\n        hashMap.put(&quot;timestamp&quot;, timestamp);\n\n        reference.push().setValue(hashMap);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","windows-authentication","ntlm"],"answers":[{"tags":[],"owner":{"account_id":9157425,"reputation":314,"user_id":6809952,"display_name":"Abhijeet Patil"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1627905475,"creation_date":1549879546,"answer_id":54628051,"question_id":54568189,"body_markdown":"In Java release notes it is not mentioned anywhere but there is a change in NTLM authentication implementation.\r\nI have debugged the java code and arrived at following\r\nIn java.home/lib there is file net.properties which now mentions following\r\n\r\n    #\r\n    # Transparent NTLM HTTP authentication mode on Windows. Transparent authentication\r\n    # can be used for the NTLM scheme, where the security credentials based on the\r\n    # currently logged in user&#39;s name and password can be obtained directly from the\r\n    # operating system, without prompting the user. This property has three possible\r\n    # values which regulate the behavior as shown below. Other unrecognized values\r\n    # are handled the same as &#39;disabled&#39;. Note, that NTLM is not considered to be a\r\n    # strongly secure authentication scheme and care should be taken before enabling\r\n    # this mechanism.\r\n    #\r\n    # Transparent authentication never used.\r\n    #jdk.http.ntlm.transparentAuth=disabled\r\n    #\r\n    # Enabled for all hosts.\r\n    #jdk.http.ntlm.transparentAuth=allHosts\r\n    #\r\n    # Enabled for hosts that are trusted in Windows Internet settings\r\n    #jdk.http.ntlm.transparentAuth=trustedHosts\r\n    #\r\n    jdk.http.ntlm.transparentAuth=disabled\r\n\r\n Till jdk1.8.0_181 there was a default NTLM authentication callback which was useful in NTLM authentication process. \r\n\r\nTo run the above code with jdk1.8.0_181 onward, all you need is to set *jdk.http.ntlm.transparentAuth* for your java process.\r\n\r\nAlternatively, you may set a JVM argument, e.g., `-Djdk.http.ntlm.transparentAuth=allHosts`, or set a system property, e.g., `System.setProperty(&quot;jdk.http.ntlm.transparentAuth&quot;, &quot;allHosts&quot;)`.\r\n\r\nIf you choose *trustedHosts*, make sure the URL is added in windows trusted site.\r\n\r\nYou can see this new system property used here during static init: `sun.net.www.protocol.http.ntlm.NTLMAuthentication`.\r\n\r\nFurther, you can see the setting is used here: `public static boolean NTLMAuthentication.isTrustedSite(URL)`\r\n\r\nFinally, to programmatically control if a URL is trusted, you may install a callback.  See: `sun.net.www.protocol.http.ntlm.NTLMAuthenticationCallback`\r\n","title":"How to provide ntlm authentication while calling any url?","body":"<p>In Java release notes it is not mentioned anywhere but there is a change in NTLM authentication implementation.\nI have debugged the java code and arrived at following\nIn java.home/lib there is file net.properties which now mentions following</p>\n<pre><code>#\n# Transparent NTLM HTTP authentication mode on Windows. Transparent authentication\n# can be used for the NTLM scheme, where the security credentials based on the\n# currently logged in user's name and password can be obtained directly from the\n# operating system, without prompting the user. This property has three possible\n# values which regulate the behavior as shown below. Other unrecognized values\n# are handled the same as 'disabled'. Note, that NTLM is not considered to be a\n# strongly secure authentication scheme and care should be taken before enabling\n# this mechanism.\n#\n# Transparent authentication never used.\n#jdk.http.ntlm.transparentAuth=disabled\n#\n# Enabled for all hosts.\n#jdk.http.ntlm.transparentAuth=allHosts\n#\n# Enabled for hosts that are trusted in Windows Internet settings\n#jdk.http.ntlm.transparentAuth=trustedHosts\n#\njdk.http.ntlm.transparentAuth=disabled\n</code></pre>\n<p>Till jdk1.8.0_181 there was a default NTLM authentication callback which was useful in NTLM authentication process.</p>\n<p>To run the above code with jdk1.8.0_181 onward, all you need is to set <em>jdk.http.ntlm.transparentAuth</em> for your java process.</p>\n<p>Alternatively, you may set a JVM argument, e.g., <code>-Djdk.http.ntlm.transparentAuth=allHosts</code>, or set a system property, e.g., <code>System.setProperty(&quot;jdk.http.ntlm.transparentAuth&quot;, &quot;allHosts&quot;)</code>.</p>\n<p>If you choose <em>trustedHosts</em>, make sure the URL is added in windows trusted site.</p>\n<p>You can see this new system property used here during static init: <code>sun.net.www.protocol.http.ntlm.NTLMAuthentication</code>.</p>\n<p>Further, you can see the setting is used here: <code>public static boolean NTLMAuthentication.isTrustedSite(URL)</code></p>\n<p>Finally, to programmatically control if a URL is trusted, you may install a callback.  See: <code>sun.net.www.protocol.http.ntlm.NTLMAuthenticationCallback</code></p>\n"}],"owner":{"account_id":9157425,"reputation":314,"user_id":6809952,"display_name":"Abhijeet Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5802,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1635448356,"creation_date":1549524060,"question_id":54568189,"body_markdown":"I have a hosted url which authenticates using ntlm (windows Integrated authentication). I am on windows and using java 1.8\r\n```\r\nURL url = new URL(&quot;someUrl&quot;);\r\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n// con.setInstanceFollowRedirects(false);\r\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\ncon.setRequestMethod(&quot;GET&quot;);\r\n int responseCode = con.getResponseCode();\r\n            if (responseCode == HttpURLConnection.HTTP_OK) {\r\n            // read response\r\n            ...\r\n            in.close();\r\n            }else{\r\n            System.out.println(&quot;Error while fetching reponse, recieved response code &quot; + responseCode);\r\n            }\r\n```\r\n\r\n The above code used to work till java 1.8.0_181\r\n With subsequent updates it started failing, I have tested with 191 and 201.\r\nThe code still works if backported to 181.\r\nI also tried using Authenticator, but it is not invoked (not sure why)\r\nWith java&#39;s internal logging I could see following message in the logs\r\n*&quot;NegotiateAuthentication: java.io.IOException: Negotiate support not initiated&quot;*\r\nAnd I get 401\r\n\r\nI am expecting any mechanism to help java negotiate on its own for authentication.\r\n\r\n","title":"How to provide ntlm authentication while calling any url?","body":"<p>I have a hosted url which authenticates using ntlm (windows Integrated authentication). I am on windows and using java 1.8</p>\n\n<pre><code>URL url = new URL(\"someUrl\");\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\n// con.setInstanceFollowRedirects(false);\ncon.setRequestProperty(\"Content-Type\", \"application/json\");\ncon.setRequestMethod(\"GET\");\n int responseCode = con.getResponseCode();\n            if (responseCode == HttpURLConnection.HTTP_OK) {\n            // read response\n            ...\n            in.close();\n            }else{\n            System.out.println(\"Error while fetching reponse, recieved response code \" + responseCode);\n            }\n</code></pre>\n\n<p>The above code used to work till java 1.8.0_181\n With subsequent updates it started failing, I have tested with 191 and 201.\nThe code still works if backported to 181.\nI also tried using Authenticator, but it is not invoked (not sure why)\nWith java's internal logging I could see following message in the logs\n<em>\"NegotiateAuthentication: java.io.IOException: Negotiate support not initiated\"</em>\nAnd I get 401</p>\n\n<p>I am expecting any mechanism to help java negotiate on its own for authentication.</p>\n"},{"tags":["java","datetime","java-time"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635448138,"creation_date":1635447017,"answer_id":69759428,"question_id":69746234,"body_markdown":"## DateTimeFormatter::parseBest()\r\n\r\nI am taking your word for it:\r\n\r\n&gt; Keeping in mind, that both the date format and the date are entered by\r\n&gt; the user, …\r\n\r\nSo I am assuming that I may use both the format pattern and the date string entered for seeing what I can make of it. `DateTimeFormatter::parseBest()` is the method we need for that.\r\n\r\n\tpublic static TemporalAccessor parse(String formatPattern, String toBeParsed) {\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(formatPattern, Locale.ROOT);\r\n\t\treturn formatter.parseBest(toBeParsed, ZonedDateTime::from,\r\n\t\t\t\tLocalDate::from, LocalTime::from, YearMonth::from);\r\n\t}\r\n\r\nFor demonstrating the power of the above method I am using the following auxiliary method:\r\n\r\n\tpublic static void demo(String formatPattern, String toBeParsed) {\r\n\t\tTemporalAccessor result = parse(formatPattern, toBeParsed);\r\n\t\tSystem.out.format(&quot;%-21s %s%n&quot;, formatPattern, result.getClass().getName());\r\n\t}\r\n\r\nLet’s call it using your examples:\r\n\r\n\t\tdemo(&quot;yyyy-MM&quot;, &quot;2017-11&quot;);\r\n\t\tdemo(&quot;MM/dd/yyyy&quot;, &quot;10/21/2023&quot;);\r\n\t\tdemo(&quot;yyyy:DD&quot;, &quot;2021:303&quot;);\r\n\t\tdemo(&quot;HH:mm:ss&quot;, &quot;23:34:45&quot;);\r\n\t\tdemo(&quot;dd MM yyyy HH:mm:ssVV&quot;, &quot;05 09 2023 14:01:55Europe/Oslo&quot;);\r\n\r\nI have corrected a couple of errors in the last format pattern string. Output is:\r\n\r\n&gt;     yyyy-MM               java.time.YearMonth\r\n&gt;     MM/dd/yyyy            java.time.LocalDate\r\n&gt;     yyyy:DD               java.time.LocalDate\r\n&gt;     HH:mm:ss              java.time.LocalTime\r\n&gt;     dd MM yyyy HH:mm:ssVV java.time.ZonedDateTime\r\n\r\nIn the list of `TemporalQuery` arguments to `parseBest()` it’s essential to put the classes that hold the most information first. Or which classes you prefer, but I assumed you wanted as much information as you can have. `parseBest()` uses the *first* query that works. So put `ZonedDateTime` first and `Year`, `Month` and `DayOfWeek` last if you intend to support any of the last three.\r\n\r\nRemember to decide which locale you want.\r\n\r\n## With only the format pattern string\r\n\r\nIf you are supposed to do the trick without the string to be parsed, it’s not badly more complicated. Start by *formatting* some `ZonedDateTime` using the formatter that you have constructed from the format pattern string. Then use `parseBest()` to parse the resulting string back. You must use `ZonedDateTime` because it’s the only class that holds about every field that could thinkably be in the format pattern string, so with some other class, formatting could break. On the other hand the information coming into the formatted string is limited by the pattern, so in most cases you won’t be able to parse a `ZonedDateTime` back. Which is exactly what we want: `parseBest()` will tell us which class we *can* parse into.\r\n\r\n\tpublic static Class&lt;? extends TemporalAccessor&gt; getParseableType(String formatPattern) {\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(formatPattern, Locale.ROOT);\r\n\t\tString example = ZonedDateTime.now(ZoneId.systemDefault()).format(formatter);\r\n\t\tTemporalAccessor parseableTemporalAccessor = formatter.parseBest(example, ZonedDateTime::from,\r\n\t\t\t\tLocalDate::from, LocalTime::from, YearMonth::from);\r\n\t\treturn parseableTemporalAccessor.getClass();\r\n\t}\r\n\r\n## Documentation link\r\n\r\n[`parseBest​(CharSequence text, TemporalQuery&lt;?&gt;... queries)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#parseBest(java.lang.CharSequence,java.time.temporal.TemporalQuery...))","title":"Check what type of Temporal a given format string can be used to parse","body":"<h2>DateTimeFormatter::parseBest()</h2>\n<p>I am taking your word for it:</p>\n<blockquote>\n<p>Keeping in mind, that both the date format and the date are entered by\nthe user, …</p>\n</blockquote>\n<p>So I am assuming that I may use both the format pattern and the date string entered for seeing what I can make of it. <code>DateTimeFormatter::parseBest()</code> is the method we need for that.</p>\n<pre><code>public static TemporalAccessor parse(String formatPattern, String toBeParsed) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(formatPattern, Locale.ROOT);\n    return formatter.parseBest(toBeParsed, ZonedDateTime::from,\n            LocalDate::from, LocalTime::from, YearMonth::from);\n}\n</code></pre>\n<p>For demonstrating the power of the above method I am using the following auxiliary method:</p>\n<pre><code>public static void demo(String formatPattern, String toBeParsed) {\n    TemporalAccessor result = parse(formatPattern, toBeParsed);\n    System.out.format(&quot;%-21s %s%n&quot;, formatPattern, result.getClass().getName());\n}\n</code></pre>\n<p>Let’s call it using your examples:</p>\n<pre><code>    demo(&quot;yyyy-MM&quot;, &quot;2017-11&quot;);\n    demo(&quot;MM/dd/yyyy&quot;, &quot;10/21/2023&quot;);\n    demo(&quot;yyyy:DD&quot;, &quot;2021:303&quot;);\n    demo(&quot;HH:mm:ss&quot;, &quot;23:34:45&quot;);\n    demo(&quot;dd MM yyyy HH:mm:ssVV&quot;, &quot;05 09 2023 14:01:55Europe/Oslo&quot;);\n</code></pre>\n<p>I have corrected a couple of errors in the last format pattern string. Output is:</p>\n<blockquote>\n<pre><code>yyyy-MM               java.time.YearMonth\nMM/dd/yyyy            java.time.LocalDate\nyyyy:DD               java.time.LocalDate\nHH:mm:ss              java.time.LocalTime\ndd MM yyyy HH:mm:ssVV java.time.ZonedDateTime\n</code></pre>\n</blockquote>\n<p>In the list of <code>TemporalQuery</code> arguments to <code>parseBest()</code> it’s essential to put the classes that hold the most information first. Or which classes you prefer, but I assumed you wanted as much information as you can have. <code>parseBest()</code> uses the <em>first</em> query that works. So put <code>ZonedDateTime</code> first and <code>Year</code>, <code>Month</code> and <code>DayOfWeek</code> last if you intend to support any of the last three.</p>\n<p>Remember to decide which locale you want.</p>\n<h2>With only the format pattern string</h2>\n<p>If you are supposed to do the trick without the string to be parsed, it’s not badly more complicated. Start by <em>formatting</em> some <code>ZonedDateTime</code> using the formatter that you have constructed from the format pattern string. Then use <code>parseBest()</code> to parse the resulting string back. You must use <code>ZonedDateTime</code> because it’s the only class that holds about every field that could thinkably be in the format pattern string, so with some other class, formatting could break. On the other hand the information coming into the formatted string is limited by the pattern, so in most cases you won’t be able to parse a <code>ZonedDateTime</code> back. Which is exactly what we want: <code>parseBest()</code> will tell us which class we <em>can</em> parse into.</p>\n<pre><code>public static Class&lt;? extends TemporalAccessor&gt; getParseableType(String formatPattern) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(formatPattern, Locale.ROOT);\n    String example = ZonedDateTime.now(ZoneId.systemDefault()).format(formatter);\n    TemporalAccessor parseableTemporalAccessor = formatter.parseBest(example, ZonedDateTime::from,\n            LocalDate::from, LocalTime::from, YearMonth::from);\n    return parseableTemporalAccessor.getClass();\n}\n</code></pre>\n<h2>Documentation link</h2>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#parseBest(java.lang.CharSequence,java.time.temporal.TemporalQuery...)\" rel=\"nofollow noreferrer\"><code>parseBest​(CharSequence text, TemporalQuery&lt;?&gt;... queries)</code></a></p>\n"}],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69759428,"answer_count":1,"score":3,"last_activity_date":1635448138,"creation_date":1635374232,"question_id":69746234,"body_markdown":"I&#39;m given some datetime format string that user entered, and need to check into what `java.time` temporals I can parse data in that format (within reason, I indend to support only the simpler cases for now).\r\n\r\nSomething along the lines of this table:\r\n\r\n| Input Format | Expected Answer |\r\n| ------------ | --------------- |\r\n| `yyyy-MM` | `java.time.YearMonth` |\r\n| `MM/dd/yyyy` | `java.time.LocalDate` |\r\n| `yyyy:DD` | `java.time.LocalDate` (because of day-of-year data) |\r\n| `HH:mm:ss` | `java.time.LocalTime` |\r\n| `dd MM yyyy hh:mm:ssV` | `java.time.ZonedDateTime` |\r\n\r\nKeeping in mind, that both the date format and the date are entered by the user, so these input formats are just examples, and they obviously can contain literals (but not optional parts, that&#39;s a relief).\r\n\r\nSo far I&#39;ve only been able to come up with this tornado of `if`s as a solution:\r\n\r\n\r\n    private static final ZonedDateTime ZDT = ZonedDateTime.of(1990, 10, 26, 14, 40, 59, 123456, ZoneId.of(&quot;Europe/Oslo&quot;));\r\n    ...\r\n    String formatted = externalFormatter.format(ZDT);\r\n    Class&lt;?&gt; type;\r\n    TemporalAccessor parsed = externalFormatter.parse(formatted);\r\n    if (parsed.isSupported(YEAR)) {\r\n        if (parsed.isSupported(MONTH_OF_YEAR)) {\r\n            if (parsed.query(TemporalQueries.localDate()) != null) {\r\n                if (parsed.query(TemporalQueries.localTime()) != null) {\r\n                    if (parsed.query(TemporalQueries.zone()) != null) {\r\n                        type = ZonedDateTime.class;\r\n                    }\r\n                    else if (parsed.query(TemporalQueries.offset()) != null) {\r\n                        type = OffsetDateTime.class;\r\n                    }\r\n                    else {\r\n                        type = LocalDateTime.class;\r\n                    }\r\n                }\r\n                else {\r\n                    type = LocalDate.class;\r\n                }\r\n            }\r\n            else {\r\n                type = YearMonth.class;\r\n            }\r\n        }\r\n        else {\r\n            type = Year.class;\r\n        }\r\n    }\r\n    else if (parsed.query(TemporalQueries.localTime()) != null) {\r\n        if (parsed.query(TemporalQueries.offset()) != null) {\r\n           type = OffsetTime.class;\r\n        }\r\n        else {\r\n            type = LocalTime.class;\r\n        }\r\n    }\r\n\r\nSurely, there must be some better way, at least marginally? I will not limit myself to just using `java.time`, I also have the Joda-Time library available to me (although it&#39;s technically on legacy status), and I will not turn down a simpler code that uses the `SimpleDateFormat` if there is such an option.","title":"Check what type of Temporal a given format string can be used to parse","body":"<p>I'm given some datetime format string that user entered, and need to check into what <code>java.time</code> temporals I can parse data in that format (within reason, I indend to support only the simpler cases for now).</p>\n<p>Something along the lines of this table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input Format</th>\n<th>Expected Answer</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>yyyy-MM</code></td>\n<td><code>java.time.YearMonth</code></td>\n</tr>\n<tr>\n<td><code>MM/dd/yyyy</code></td>\n<td><code>java.time.LocalDate</code></td>\n</tr>\n<tr>\n<td><code>yyyy:DD</code></td>\n<td><code>java.time.LocalDate</code> (because of day-of-year data)</td>\n</tr>\n<tr>\n<td><code>HH:mm:ss</code></td>\n<td><code>java.time.LocalTime</code></td>\n</tr>\n<tr>\n<td><code>dd MM yyyy hh:mm:ssV</code></td>\n<td><code>java.time.ZonedDateTime</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Keeping in mind, that both the date format and the date are entered by the user, so these input formats are just examples, and they obviously can contain literals (but not optional parts, that's a relief).</p>\n<p>So far I've only been able to come up with this tornado of <code>if</code>s as a solution:</p>\n<pre><code>private static final ZonedDateTime ZDT = ZonedDateTime.of(1990, 10, 26, 14, 40, 59, 123456, ZoneId.of(&quot;Europe/Oslo&quot;));\n...\nString formatted = externalFormatter.format(ZDT);\nClass&lt;?&gt; type;\nTemporalAccessor parsed = externalFormatter.parse(formatted);\nif (parsed.isSupported(YEAR)) {\n    if (parsed.isSupported(MONTH_OF_YEAR)) {\n        if (parsed.query(TemporalQueries.localDate()) != null) {\n            if (parsed.query(TemporalQueries.localTime()) != null) {\n                if (parsed.query(TemporalQueries.zone()) != null) {\n                    type = ZonedDateTime.class;\n                }\n                else if (parsed.query(TemporalQueries.offset()) != null) {\n                    type = OffsetDateTime.class;\n                }\n                else {\n                    type = LocalDateTime.class;\n                }\n            }\n            else {\n                type = LocalDate.class;\n            }\n        }\n        else {\n            type = YearMonth.class;\n        }\n    }\n    else {\n        type = Year.class;\n    }\n}\nelse if (parsed.query(TemporalQueries.localTime()) != null) {\n    if (parsed.query(TemporalQueries.offset()) != null) {\n       type = OffsetTime.class;\n    }\n    else {\n        type = LocalTime.class;\n    }\n}\n</code></pre>\n<p>Surely, there must be some better way, at least marginally? I will not limit myself to just using <code>java.time</code>, I also have the Joda-Time library available to me (although it's technically on legacy status), and I will not turn down a simpler code that uses the <code>SimpleDateFormat</code> if there is such an option.</p>\n"},{"tags":["java","heroku","serversocket"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1635373173,"post_id":69745585,"comment_id":123284006,"body_markdown":"You used `&quot;&lt;my app name&gt;.herokuapp.com&quot;` to connect, are you hiding the name of your app or is this unintentional? It could be the problem.","body":"You used <code>&quot;&lt;my app name&gt;.herokuapp.com&quot;</code> to connect, are you hiding the name of your app or is this unintentional? It could be the problem."},{"owner":{"account_id":23164805,"reputation":11,"user_id":17264907,"display_name":"Rene"},"score":0,"creation_date":1635373357,"post_id":69745585,"comment_id":123284050,"body_markdown":"I&#39;m hiding the name.","body":"I&#39;m hiding the name."}],"answers":[{"tags":[],"owner":{"account_id":23164805,"reputation":11,"user_id":17264907,"display_name":"Rene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635447701,"creation_date":1635447701,"answer_id":69759552,"question_id":69745585,"body_markdown":"Java Socket and ServerSocket use TPC, which is not supported for free by Heroku. As a result, the server will run fine, but anything being sent via TCP, including connection attempts, will not make it to your server unless they are done via http.","title":"Java chat program works on localhost, but not when hosting on Heroku","body":"<p>Java Socket and ServerSocket use TPC, which is not supported for free by Heroku. As a result, the server will run fine, but anything being sent via TCP, including connection attempts, will not make it to your server unless they are done via http.</p>\n"}],"owner":{"account_id":23164805,"reputation":11,"user_id":17264907,"display_name":"Rene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635447701,"creation_date":1635369309,"question_id":69745585,"body_markdown":"Long story short, I stole and modified some code from GeeksForGeeks to practice with sockets. Running code modified for localhost works fine on desktop, but when modifying and attempting to host on Heroku, I can&#39;t seem get a connection between the server and client. Server appears to launch and run fine on Heroku, and logs connections that I&#39;m not even making (no idea where those are coming from). Client on the other hand seems to connect, but then doesn&#39;t do anything when I send a message. Server doesn&#39;t even log my attempted connection, so I know it probably isn&#39;t even connecting.\r\n\r\nServer code: https://github.com/RenegadeB5/socket in /src/main/java/\r\n\r\nClient Code:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.Scanner;\r\n\r\n    public class Client\r\n    {\r\n\r\n\tpublic static void main(String args[]) throws UnknownHostException, IOException\r\n\t{\r\n\t\tScanner scn = new Scanner(System.in);\r\n\t\t// establish the connection\r\n\t\tSocket s = new Socket(&quot;&lt;my app name&gt;.herokuapp.com&quot;, 80);\r\n\t\t\r\n\t\t// obtaining input and out streams\r\n\t\tDataInputStream dis = new DataInputStream(s.getInputStream());\r\n\t\tDataOutputStream dos = new DataOutputStream(s.getOutputStream());\r\n\r\n\t\t// sendMessage thread\r\n\t\tThread sendMessage = new Thread(new Runnable()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\r\n\t\t\t\t\t// read the message to deliver.\r\n\t\t\t\t\tString msg = scn.nextLine();\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// write on the output stream\r\n\t\t\t\t\t\tdos.writeUTF(msg);\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t// readMessage thread\r\n\t\tThread readMessage = new Thread(new Runnable()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// read the message sent to this client\r\n\t\t\t\t\t\tString msg = dis.readUTF();\r\n\t\t\t\t\t\tSystem.out.println(msg);\r\n\t\t\t\t\t} catch (IOException e) {\r\n\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsendMessage.start();\r\n\t\treadMessage.start();\r\n\r\n\t}\r\n    }\r\n\r\n\r\nI&#39;ve tried so many different combinations and solutions, and can&#39;t find any examples of this being done before. I&#39;d like to know what I&#39;m doing wrong so that I can move on from this headache. Thanks in advance!\r\n\r\n","title":"Java chat program works on localhost, but not when hosting on Heroku","body":"<p>Long story short, I stole and modified some code from GeeksForGeeks to practice with sockets. Running code modified for localhost works fine on desktop, but when modifying and attempting to host on Heroku, I can't seem get a connection between the server and client. Server appears to launch and run fine on Heroku, and logs connections that I'm not even making (no idea where those are coming from). Client on the other hand seems to connect, but then doesn't do anything when I send a message. Server doesn't even log my attempted connection, so I know it probably isn't even connecting.</p>\n<p>Server code: <a href=\"https://github.com/RenegadeB5/socket\" rel=\"nofollow noreferrer\">https://github.com/RenegadeB5/socket</a> in /src/main/java/</p>\n<p>Client Code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class Client\n{\n\npublic static void main(String args[]) throws UnknownHostException, IOException\n{\n    Scanner scn = new Scanner(System.in);\n    // establish the connection\n    Socket s = new Socket(&quot;&lt;my app name&gt;.herokuapp.com&quot;, 80);\n    \n    // obtaining input and out streams\n    DataInputStream dis = new DataInputStream(s.getInputStream());\n    DataOutputStream dos = new DataOutputStream(s.getOutputStream());\n\n    // sendMessage thread\n    Thread sendMessage = new Thread(new Runnable()\n    {\n        @Override\n        public void run() {\n            while (true) {\n\n                // read the message to deliver.\n                String msg = scn.nextLine();\n                \n                try {\n                    // write on the output stream\n                    dos.writeUTF(msg);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n    \n    // readMessage thread\n    Thread readMessage = new Thread(new Runnable()\n    {\n        @Override\n        public void run() {\n\n            while (true) {\n                try {\n                    // read the message sent to this client\n                    String msg = dis.readUTF();\n                    System.out.println(msg);\n                } catch (IOException e) {\n\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n\n    sendMessage.start();\n    readMessage.start();\n\n}\n}\n</code></pre>\n<p>I've tried so many different combinations and solutions, and can't find any examples of this being done before. I'd like to know what I'm doing wrong so that I can move on from this headache. Thanks in advance!</p>\n"},{"tags":["java","hashmap","json-deserialization","jackson-databind","json-serialization"],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635427789,"creation_date":1635427789,"answer_id":69755021,"question_id":69754910,"body_markdown":"Maybe this can help you : https://www.baeldung.com/jackson-custom-serialization\r\n\r\nYou can create a custom jackson serializer class and set it on the object mapper used to serialize your object.","title":"Serialize, deserialize complex object using jackson","body":"<p>Maybe this can help you : <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-custom-serialization</a></p>\n<p>You can create a custom jackson serializer class and set it on the object mapper used to serialize your object.</p>\n"}],"owner":{"account_id":18068708,"reputation":15,"user_id":13133853,"display_name":"Bhavya Nag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635430665,"answer_count":1,"score":1,"last_activity_date":1635447574,"creation_date":1635427380,"question_id":69754910,"body_markdown":"I was trying convert to my object to and from json but the default serializer, deserializer by jackson doesn&#39;t work. \r\n\r\nHow can I make this work? I understand I might need to write a custom serializer, deserializer. How can I do that?\r\nIs ther some annotation by adding which the code would work?\r\n\r\nHere is the object:\r\n\r\n```\r\n@JsonDeserialize(keyUsing = mypairDeserializer.class)\r\n@JsonSerialize(keyUsing = mypairSerializer.class)\r\nHashMap&lt;Set &lt; Mypair &gt; , List &lt; Mypair &gt; &gt; obj;\r\n\r\n\r\npublic class ConditionSerializer extends JsonSerializer&lt;Collection&lt;mypair&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(final Collection&lt;mypair&gt; conditionSet, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n        jsonGenerator.writeStartObject();\r\n        jsonGenerator.writeFieldName(&quot;Pair&quot;);\r\n        jsonGenerator.writeStartArray();\r\n        for(final Condition condition: conditionSet) {\r\n            jsonGenerator.writeString(mypair.toString());\r\n        }\r\n        jsonGenerator.writeEndArray();\r\n        jsonGenerator.writeEndObject();\r\n    }\r\n}\r\n\r\n\r\npublic class mypairDeserializer extends KeyDeserializer {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    @Override\r\n    public Collection&lt;mypair&gt; deserializeKey(final String key, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        // return new mypair(key);\r\n        return mapper.readValue(key, Collection.class);\r\n    }\r\n}\r\n```","title":"Serialize, deserialize complex object using jackson","body":"<p>I was trying convert to my object to and from json but the default serializer, deserializer by jackson doesn't work.</p>\n<p>How can I make this work? I understand I might need to write a custom serializer, deserializer. How can I do that?\nIs ther some annotation by adding which the code would work?</p>\n<p>Here is the object:</p>\n<pre><code>@JsonDeserialize(keyUsing = mypairDeserializer.class)\n@JsonSerialize(keyUsing = mypairSerializer.class)\nHashMap&lt;Set &lt; Mypair &gt; , List &lt; Mypair &gt; &gt; obj;\n\n\npublic class ConditionSerializer extends JsonSerializer&lt;Collection&lt;mypair&gt;&gt; {\n\n    @Override\n    public void serialize(final Collection&lt;mypair&gt; conditionSet, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeFieldName(&quot;Pair&quot;);\n        jsonGenerator.writeStartArray();\n        for(final Condition condition: conditionSet) {\n            jsonGenerator.writeString(mypair.toString());\n        }\n        jsonGenerator.writeEndArray();\n        jsonGenerator.writeEndObject();\n    }\n}\n\n\npublic class mypairDeserializer extends KeyDeserializer {\n    ObjectMapper mapper = new ObjectMapper();\n    @Override\n    public Collection&lt;mypair&gt; deserializeKey(final String key, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        // return new mypair(key);\n        return mapper.readValue(key, Collection.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenide"],"comments":[{"owner":{"account_id":8918408,"reputation":3806,"user_id":6656050,"display_name":"Jeremy Kahan"},"score":1,"creation_date":1579144265,"post_id":59762277,"comment_id":105670100,"body_markdown":"Selenide claims it automatically waits. See https://www.methodsandtools.com/tools/selenide.php","body":"Selenide claims it automatically waits. See <a href=\"https://www.methodsandtools.com/tools/selenide.php\" rel=\"nofollow noreferrer\">methodsandtools.com/tools/selenide.php</a>"}],"answers":[{"tags":[],"owner":{"account_id":3025392,"reputation":1695,"user_id":2565527,"accept_rate":100,"display_name":"hiropon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1579239180,"creation_date":1579239180,"answer_id":59781728,"question_id":59762277,"body_markdown":"My question is resolved by [this post][1]\r\n\r\n    Implicit Wait is the way to configure the WebDriver instance to poll the HTML DOM (DOM Tree) \r\n    for a configured amount of time when it tries to find an element \r\n    or find a group/collection of elements if they are not immediately available. \r\n    As per the current W3C specification the default time is configured to 0. \r\n    We can configure the time for the Implicit Wait any where within our script/program and can reconfigure it as per our necessity. \r\n    Once we set Implicit Wait it will be valid for the lifetime of the WebDriver instance.\r\n\r\nI think implicit wait time is almost the global switch I expected.\r\n\r\n  [1]: https://stackoverflow.com/questions/46365040/what-is-the-internal-working-difference-between-implicit-wait-and-explicit-wait/46398760#46398760","title":"How to wait HTML element appear globally with Selenide?","body":"<p>My question is resolved by <a href=\"https://stackoverflow.com/questions/46365040/what-is-the-internal-working-difference-between-implicit-wait-and-explicit-wait/46398760#46398760\">this post</a></p>\n\n<pre><code>Implicit Wait is the way to configure the WebDriver instance to poll the HTML DOM (DOM Tree) \nfor a configured amount of time when it tries to find an element \nor find a group/collection of elements if they are not immediately available. \nAs per the current W3C specification the default time is configured to 0. \nWe can configure the time for the Implicit Wait any where within our script/program and can reconfigure it as per our necessity. \nOnce we set Implicit Wait it will be valid for the lifetime of the WebDriver instance.\n</code></pre>\n\n<p>I think implicit wait time is almost the global switch I expected.</p>\n"},{"tags":[],"owner":{"account_id":11649029,"reputation":21,"user_id":8530838,"display_name":"Sourav panda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582783854,"creation_date":1582783854,"answer_id":60427203,"question_id":59762277,"body_markdown":"Before performing any action, selenide provides methods to look up for Conditions.\r\n    `$(&quot;By Locator&quot;).shouldBe(Condition.&quot;Desired Condition&quot;).`","title":"How to wait HTML element appear globally with Selenide?","body":"<p>Before performing any action, selenide provides methods to look up for Conditions.\n    <code>$(\"By Locator\").shouldBe(Condition.\"Desired Condition\").</code></p>\n"},{"tags":[],"owner":{"account_id":21826288,"reputation":1170,"user_id":16121726,"display_name":"Zichzheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635447046,"creation_date":1635447046,"answer_id":69759435,"question_id":59762277,"body_markdown":"I might be late for this question. But for anyone who still needs help in selenide wait, my answer might still be helpful.\r\n\r\nFor selenium if you have wait method like: \r\n\r\n    element = (new WebDriverWait(driver, &lt;timeOutForElement&gt;))\r\n      .until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&lt;cssSelector&gt;)));\r\n\r\nYou can perform the same in Selenide with `element = $(&lt;cssSelector&gt;).should(exist);`\r\n\r\nFor \r\n\r\n    element = (new WebDriverWait(driver, &lt;timeOutForElement&gt;))\r\n      .until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&lt;cssSelector&gt;)));\r\n\r\nWe just go with `element = $(&lt;cssSelector&gt;).shouldBe(visible);`\r\n\r\nReference Page [Here][1].\r\n\r\n\r\n  [1]: https://selenide.org/2019/12/20/advent-calendar-big-wait-theory/","title":"How to wait HTML element appear globally with Selenide?","body":"<p>I might be late for this question. But for anyone who still needs help in selenide wait, my answer might still be helpful.</p>\n<p>For selenium if you have wait method like:</p>\n<pre><code>element = (new WebDriverWait(driver, &lt;timeOutForElement&gt;))\n  .until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&lt;cssSelector&gt;)));\n</code></pre>\n<p>You can perform the same in Selenide with <code>element = $(&lt;cssSelector&gt;).should(exist);</code></p>\n<p>For</p>\n<pre><code>element = (new WebDriverWait(driver, &lt;timeOutForElement&gt;))\n  .until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&lt;cssSelector&gt;)));\n</code></pre>\n<p>We just go with <code>element = $(&lt;cssSelector&gt;).shouldBe(visible);</code></p>\n<p>Reference Page <a href=\"https://selenide.org/2019/12/20/advent-calendar-big-wait-theory/\" rel=\"nofollow noreferrer\">Here</a>.</p>\n"}],"owner":{"account_id":3025392,"reputation":1695,"user_id":2565527,"accept_rate":100,"display_name":"hiropon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2840,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59781728,"answer_count":3,"score":1,"last_activity_date":1635447046,"creation_date":1579142027,"question_id":59762277,"body_markdown":"We have many e2e test written by Selenide.\r\nTo avoid failing test in test server, I would like selenide to wait for html element appearing.\r\n\r\nI know some scripts like `wait.until(...)` for this. But, I don&#39;t want to fix all test code.\r\n\r\nIs there any global switch or setting for Selenide ? ( in detail, I hope the option making `cssselector` waiting )","title":"How to wait HTML element appear globally with Selenide?","body":"<p>We have many e2e test written by Selenide.\nTo avoid failing test in test server, I would like selenide to wait for html element appearing.</p>\n\n<p>I know some scripts like <code>wait.until(...)</code> for this. But, I don't want to fix all test code.</p>\n\n<p>Is there any global switch or setting for Selenide ? ( in detail, I hope the option making <code>cssselector</code> waiting )</p>\n"},{"tags":["java","applet"],"answers":[{"tags":[],"owner":{"display_name":"Foret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248187032,"creation_date":1248187032,"answer_id":1159607,"question_id":1158343,"body_markdown":"I can only suppose here. Java can&#39;t influence on the environment out of the it&#39;s, I don&#39;t know exactly how to name it, control area -&gt; you can&#39;t influence on IE from an applet.","title":"Focus should come to an applet in the IE when IE becomes as active window","body":"<p>I can only suppose here. Java can't influence on the environment out of the it's, I don't know exactly how to name it, control area -> you can't influence on IE from an applet.</p>\n"}],"owner":{"account_id":25905,"reputation":2917,"user_id":67003,"accept_rate":81,"display_name":"coolcake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635446741,"creation_date":1248171388,"question_id":1158343,"body_markdown":"In an applet when opened in Internet Explorer, the focus should come back automatically to the applet instead of going to IE when any window comes over IE and goes back (Internet Explorer again becomes the active window).\r\n\r\nTo get the focus RequestFocus() and RequestFocusInWindow() are not working for an applet in my case.\r\n\r\nCan anyone explain how this can be done?","title":"Focus should come to an applet in the IE when IE becomes as active window","body":"<p>In an applet when opened in Internet Explorer, the focus should come back automatically to the applet instead of going to IE when any window comes over IE and goes back (Internet Explorer again becomes the active window).</p>\n<p>To get the focus RequestFocus() and RequestFocusInWindow() are not working for an applet in my case.</p>\n<p>Can anyone explain how this can be done?</p>\n"},{"tags":["java","spring-boot","docker","ubuntu","webserver"],"comments":[{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":1,"creation_date":1635445607,"post_id":69759158,"comment_id":123307441,"body_markdown":"i think you should use a reverse proxy(nginx, apache, ...) to listen on 80 or 443 port from the nameserver(firstapp.example.com) and distribute request  to your local port (8090)","body":"i think you should use a reverse proxy(nginx, apache, ...) to listen on 80 or 443 port from the nameserver(firstapp.example.com) and distribute request  to your local port (8090)"},{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635446226,"post_id":69759158,"comment_id":123307666,"body_markdown":"it&#39;s not part of your program, there are multi solution, you run your spring boot application in your VPS, then config your reverse proxy, are you sure that domain is binded to your VPS ?","body":"it&#39;s not part of your program, there are multi solution, you run your spring boot application in your VPS, then config your reverse proxy, are you sure that domain is binded to your VPS ?"},{"owner":{"account_id":19955868,"reputation":96,"user_id":14624519,"display_name":"mszyba"},"score":0,"creation_date":1635446565,"post_id":69759158,"comment_id":123307789,"body_markdown":"yes, I&#39;ve checked it. I created index.html in another path and add conf file to appache2 and bind another subdomains to this","body":"yes, I&#39;ve checked it. I created index.html in another path and add conf file to appache2 and bind another subdomains to this"},{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635447083,"post_id":69759158,"comment_id":123307969,"body_markdown":"solved your problem?","body":"solved your problem?"},{"owner":{"account_id":19955868,"reputation":96,"user_id":14624519,"display_name":"mszyba"},"score":0,"creation_date":1635449632,"post_id":69759158,"comment_id":123308758,"body_markdown":"@MortezaJalambadani no, still not. I&#39;m reading aobut nginx, but need some idea","body":"@MortezaJalambadani no, still not. I&#39;m reading aobut nginx, but need some idea"},{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1635451172,"post_id":69759158,"comment_id":123309266,"body_markdown":"email to me for more information.","body":"email to me for more information."}],"owner":{"account_id":19955868,"reputation":96,"user_id":14624519,"display_name":"mszyba"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635446468,"creation_date":1635445473,"question_id":69759158,"body_markdown":"I have VPS with Ubuntu 20.04. I have run a Spring boot Web app in Docker on port 8090. Right now, the website work only with ip address, example &lt;pre&gt;`http://12.12.12.12:8090`&lt;/pre&gt;It&#39;s good. \r\nBut not with domain name. \r\n\r\nI have domain &lt;pre&gt;`firstapp.example.com`&lt;/pre&gt; I have redirected the domain name to my server&#39;s IP address. And I don&#39;t know what next. I need add someting in `appication.properties` or change sometiong in apache2? \r\n\r\nI have created a new file &lt;pre&gt;`/etc/apache2/sites-available/firstapp.example.com.conf`&lt;/pre&gt; and added\r\n```\r\n&lt;VirtualHost *:8090&gt;\r\n        ServerName firstapp.example.com\r\n        ServerAlias www.firstapp.example.com\r\n\r\n        ServerAdmin webmaster@localhost\r\n        DocumentRoot /home/ubuntu/app/\r\n\r\n        ErrorLog ${APACHE_LOG_DIR}/error.log\r\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n&lt;/VirtualHost&gt;\r\n```\r\nbut it&#39;s only give access by `12.12.12.12:8090` to directory.\r\n\r\n","title":"How to set a domain to ip address and port deploy Spring boot app in docker","body":"<p>I have VPS with Ubuntu 20.04. I have run a Spring boot Web app in Docker on port 8090. Right now, the website work only with ip address, example <pre><code>http://12.12.12.12:8090</code></pre>It's good.\nBut not with domain name.</p>\n<p>I have domain <pre><code>firstapp.example.com</code></pre> I have redirected the domain name to my server's IP address. And I don't know what next. I need add someting in <code>appication.properties</code> or change sometiong in apache2?</p>\n<p>I have created a new file <pre><code>/etc/apache2/sites-available/firstapp.example.com.conf</code></pre> and added</p>\n<pre><code>&lt;VirtualHost *:8090&gt;\n        ServerName firstapp.example.com\n        ServerAlias www.firstapp.example.com\n\n        ServerAdmin webmaster@localhost\n        DocumentRoot /home/ubuntu/app/\n\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>but it's only give access by <code>12.12.12.12:8090</code> to directory.</p>\n"},{"tags":["java","enums","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635415028,"post_id":69751808,"comment_id":123294116,"body_markdown":"You want to cast from which to which material class/enum ?","body":"You want to cast from which to which material class/enum ?"},{"owner":{"account_id":23169817,"reputation":51,"user_id":17269213,"display_name":"AHuIci"},"score":0,"creation_date":1635416454,"post_id":69751808,"comment_id":123294732,"body_markdown":"@Elikill58 I want to use my custom identical enum, or at least my own custom values in place of the one coded in the shield&#39;s constructor when creating my custom shields","body":"@Elikill58 I want to use my custom identical enum, or at least my own custom values in place of the one coded in the shield&#39;s constructor when creating my custom shields"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1635416658,"post_id":69751808,"comment_id":123294811,"body_markdown":"`YourOtherEnum.valueOf(otherEnum.name())` or something","body":"<code>YourOtherEnum.valueOf(otherEnum.name())</code> or something"},{"owner":{"account_id":23169817,"reputation":51,"user_id":17269213,"display_name":"AHuIci"},"score":0,"creation_date":1635418330,"post_id":69751808,"comment_id":123295553,"body_markdown":"Still can&#39;t get it to work, there&#39;s no error in eclipse, but the game won&#39;t start and says that there&#39;s &quot;No enum constant&quot;. I&#39;m not exactly sure if I did everything right tho cause I&#39;m pretty new to java","body":"Still can&#39;t get it to work, there&#39;s no error in eclipse, but the game won&#39;t start and says that there&#39;s &quot;No enum constant&quot;. I&#39;m not exactly sure if I did everything right tho cause I&#39;m pretty new to java"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1635418532,"post_id":69751808,"comment_id":123295649,"body_markdown":"@AHuIci: you can&#39;t really add to an existing enum without modifying the code and recompiling it. Enums are proper types in Java and not just glorified integer values (like they are in some other languages). That means you also can&#39;t just &quot;cast one enum to another&quot; like this. If you *don&#39;t* need existing code to work with your new values, you can maybe do some workarounds, but it seems like that&#39;s not sufficient for you.","body":"@AHuIci: you can&#39;t really add to an existing enum without modifying the code and recompiling it. Enums are proper types in Java and not just glorified integer values (like they are in some other languages). That means you also can&#39;t just &quot;cast one enum to another&quot; like this. If you <i>don&#39;t</i> need existing code to work with your new values, you can maybe do some workarounds, but it seems like that&#39;s not sufficient for you."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1635432792,"post_id":69751808,"comment_id":123302149,"body_markdown":"Java enums are not extensible except by editing the definition of the enum and adding new values.  Check out the accepted answer to this question: https://stackoverflow.com/questions/9614282/how-to-create-an-instance-of-enum-using-reflection-in-java","body":"Java enums are not extensible except by editing the definition of the enum and adding new values.  Check out the accepted answer to this question: <a href=\"https://stackoverflow.com/questions/9614282/how-to-create-an-instance-of-enum-using-reflection-in-java\" title=\"how to create an instance of enum using reflection in java\">stackoverflow.com/questions/9614282/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635446077,"creation_date":1635446077,"answer_id":69759258,"question_id":69751808,"body_markdown":"You&#39;re looking for [`EnumHelper.addEnum`][1]. While there&#39;s no officially supported way to dynamically extend `Enum`s in Java, there&#39;s enough need to do so in modded Minecraft that Forge created a class to automatically do all of the reflection and hackery needed to do so. You&#39;d use it like this (untested):\r\n\r\n    EnumNpcToolMaterial ADAMANT = EnumHelper.addEnum(EnumNpcToolMaterial.class, &quot;ADAMANT&quot;, new Class&lt;?&gt;[]{int.class, int.class, float.class, int.class, int.class}, new Object[]{3, 5000, 15.0F, 10, 30});\r\n\r\n\r\n  [1]: https://github.com/MinecraftForge/MinecraftForge/blob/9274e4fe435cb415099a8216c1b42235f185443e/src/main/java/net/minecraftforge/common/util/EnumHelper.java#L213","title":"Is there a way to cast enum into other enum?","body":"<p>You're looking for <a href=\"https://github.com/MinecraftForge/MinecraftForge/blob/9274e4fe435cb415099a8216c1b42235f185443e/src/main/java/net/minecraftforge/common/util/EnumHelper.java#L213\" rel=\"nofollow noreferrer\"><code>EnumHelper.addEnum</code></a>. While there's no officially supported way to dynamically extend <code>Enum</code>s in Java, there's enough need to do so in modded Minecraft that Forge created a class to automatically do all of the reflection and hackery needed to do so. You'd use it like this (untested):</p>\n<pre><code>EnumNpcToolMaterial ADAMANT = EnumHelper.addEnum(EnumNpcToolMaterial.class, &quot;ADAMANT&quot;, new Class&lt;?&gt;[]{int.class, int.class, float.class, int.class, int.class}, new Object[]{3, 5000, 15.0F, 10, 30});\n</code></pre>\n"}],"owner":{"account_id":23169817,"reputation":51,"user_id":17269213,"display_name":"AHuIci"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1635446077,"creation_date":1635414315,"question_id":69751808,"body_markdown":"I&#39;m trying to make a mod for 1.7.10 (I know, outdated, but I don&#39;t think it matters much in this context) merging a few mods with CustomNPC, basically adding a few weapons that would look and work like CustomNPC weapons but made of differen mods&#39; materials. The shields the mod provides for some reason require a certain enum in their constructor:\r\n\r\n```java\r\npublic class ItemShield extends ItemNpcInterface {\r\n\r\n  public EnumNpcToolMaterial material;\r\n  \r\n  public ItemShield(int par1, EnumNpcToolMaterial material) {\r\n    super(par1);\r\n    this.material = material;\r\n    setMaxDamage(material.getMaxUses());\r\n    setCreativeTab((CreativeTabs)CustomItems.tabWeapon);\r\n  }\r\n```\r\n\r\nThe enum stores material types and all their values. I don&#39;t wanna edit the code of that mod iself, but I want to add a few more materials to it. Is there a way to add something to that enum or maybe cast an identical enum with different materials into this type?\r\n\r\nI&#39;ve already found a way around it by making a custom shield class that simply takes the values from my custom enum, but I&#39;m curious if there&#39;s a way to do it without adding new classes.\r\n\r\n\r\n\r\nEDIT\r\n\r\nI think I&#39;ll add the mod&#39;s EnumNpcToolMaterial so it&#39;s more clear what exactly that shield constructor wants\r\n\r\n```\r\npublic enum EnumNpcToolMaterial {\r\n  WOOD(0, 59, 2.0F, 0, 15),\r\n  STONE(1, 131, 4.0F, 1, 5),\r\n  BRONZE(2, 170, 5.0F, 2, 15),\r\n  IRON(2, 250, 6.0F, 2, 14),\r\n  DIA(3, 1561, 8.0F, 3, 10),\r\n  GOLD(0, 32, 12.0F, 1, 22),\r\n  EMERALD(3, 1000, 8.0F, 4, 10),\r\n  DEMONIC(3, 100, 8.0F, 6, 10),\r\n  FROST(2, 59, 6.0F, 3, 5),\r\n  MITHRIL(3, 3000, 8.0F, 3, 10);\r\n  \r\n  private final int harvestLevel;\r\n  \r\n  private final int maxUses;\r\n  \r\n  private final float efficiencyOnProperMaterial;\r\n  \r\n  private final int damageVsEntity;\r\n  \r\n  private final int enchantability;\r\n  \r\n  EnumNpcToolMaterial(int par3, int par4, float par5, int par6, int par7) {\r\n    this.harvestLevel = par3;\r\n    this.maxUses = par4;\r\n    this.efficiencyOnProperMaterial = par5;\r\n    this.damageVsEntity = par6;\r\n    this.enchantability = par7;\r\n  }\r\n  \r\n  public int getMaxUses() {\r\n    return this.maxUses;\r\n  }\r\n  \r\n  public float getEfficiencyOnProperMaterial() {\r\n    return this.efficiencyOnProperMaterial;\r\n  }\r\n  \r\n  public int getDamageVsEntity() {\r\n    return this.damageVsEntity;\r\n  }\r\n  \r\n  public int getHarvestLevel() {\r\n    return this.harvestLevel;\r\n  }\r\n  \r\n  public int getEnchantability() {\r\n    return this.enchantability;\r\n  }\r\n}\r\n```","title":"Is there a way to cast enum into other enum?","body":"<p>I'm trying to make a mod for 1.7.10 (I know, outdated, but I don't think it matters much in this context) merging a few mods with CustomNPC, basically adding a few weapons that would look and work like CustomNPC weapons but made of differen mods' materials. The shields the mod provides for some reason require a certain enum in their constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemShield extends ItemNpcInterface {\n\n  public EnumNpcToolMaterial material;\n  \n  public ItemShield(int par1, EnumNpcToolMaterial material) {\n    super(par1);\n    this.material = material;\n    setMaxDamage(material.getMaxUses());\n    setCreativeTab((CreativeTabs)CustomItems.tabWeapon);\n  }\n</code></pre>\n<p>The enum stores material types and all their values. I don't wanna edit the code of that mod iself, but I want to add a few more materials to it. Is there a way to add something to that enum or maybe cast an identical enum with different materials into this type?</p>\n<p>I've already found a way around it by making a custom shield class that simply takes the values from my custom enum, but I'm curious if there's a way to do it without adding new classes.</p>\n<p>EDIT</p>\n<p>I think I'll add the mod's EnumNpcToolMaterial so it's more clear what exactly that shield constructor wants</p>\n<pre><code>public enum EnumNpcToolMaterial {\n  WOOD(0, 59, 2.0F, 0, 15),\n  STONE(1, 131, 4.0F, 1, 5),\n  BRONZE(2, 170, 5.0F, 2, 15),\n  IRON(2, 250, 6.0F, 2, 14),\n  DIA(3, 1561, 8.0F, 3, 10),\n  GOLD(0, 32, 12.0F, 1, 22),\n  EMERALD(3, 1000, 8.0F, 4, 10),\n  DEMONIC(3, 100, 8.0F, 6, 10),\n  FROST(2, 59, 6.0F, 3, 5),\n  MITHRIL(3, 3000, 8.0F, 3, 10);\n  \n  private final int harvestLevel;\n  \n  private final int maxUses;\n  \n  private final float efficiencyOnProperMaterial;\n  \n  private final int damageVsEntity;\n  \n  private final int enchantability;\n  \n  EnumNpcToolMaterial(int par3, int par4, float par5, int par6, int par7) {\n    this.harvestLevel = par3;\n    this.maxUses = par4;\n    this.efficiencyOnProperMaterial = par5;\n    this.damageVsEntity = par6;\n    this.enchantability = par7;\n  }\n  \n  public int getMaxUses() {\n    return this.maxUses;\n  }\n  \n  public float getEfficiencyOnProperMaterial() {\n    return this.efficiencyOnProperMaterial;\n  }\n  \n  public int getDamageVsEntity() {\n    return this.damageVsEntity;\n  }\n  \n  public int getHarvestLevel() {\n    return this.harvestLevel;\n  }\n  \n  public int getEnchantability() {\n    return this.enchantability;\n  }\n}\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1635354646,"post_id":69742795,"comment_id":123277902,"body_markdown":"Why don’t you check the return value from the transformColumns method and leave it at that ? Otherwise you’re making a test that knows too much about the implementation details. If the method has side effects verify those happen as expected too.","body":"Why don’t you check the return value from the transformColumns method and leave it at that ? Otherwise you’re making a test that knows too much about the implementation details. If the method has side effects verify those happen as expected too."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1635354908,"post_id":69742795,"comment_id":123277983,"body_markdown":"Do you want to use a mocking library like &quot;mockito&quot;? It has verify methods to check if a method is called as expected.","body":"Do you want to use a mocking library like &quot;mockito&quot;? It has verify methods to check if a method is called as expected."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1635355012,"post_id":69742795,"comment_id":123278017,"body_markdown":"You could use Mockito ArgumentCaptor. [ArgumentCaptor](https://site.mockito.org/javadoc/current/org/mockito/ArgumentCaptor.html) How to use: (https://www.baeldung.com/mockito-argumentcaptor)","body":"You could use Mockito ArgumentCaptor. <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">ArgumentCaptor</a> How to use: (<a href=\"https://www.baeldung.com/mockito-argumentcaptor\" rel=\"nofollow noreferrer\">baeldung.com/mockito-argumentcaptor</a>)"},{"owner":{"account_id":5078024,"reputation":395,"user_id":4074906,"accept_rate":44,"display_name":"hardcode"},"score":0,"creation_date":1635355639,"post_id":69742795,"comment_id":123278242,"body_markdown":"@NathanHughes I am unable to check based on return value, because it won&#39;t return any data to identify parameter value of called method","body":"@NathanHughes I am unable to check based on return value, because it won&#39;t return any data to identify parameter value of called method"},{"owner":{"account_id":5078024,"reputation":395,"user_id":4074906,"accept_rate":44,"display_name":"hardcode"},"score":0,"creation_date":1635355811,"post_id":69742795,"comment_id":123278315,"body_markdown":"I will try to use Mockita, please provide simple example if possible","body":"I will try to use Mockita, please provide simple example if possible"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1635358368,"post_id":69742795,"comment_id":123279318,"body_markdown":"@hardcode Can you check the side effects which will happen when you call `tableInsert()` with `false` or `true`?","body":"@hardcode Can you check the side effects which will happen when you call <code>tableInsert()</code> with <code>false</code> or <code>true</code>?"},{"owner":{"account_id":5078024,"reputation":395,"user_id":4074906,"accept_rate":44,"display_name":"hardcode"},"score":0,"creation_date":1635392287,"post_id":69742795,"comment_id":123287146,"body_markdown":"@Progman Not anything unique in both way it returning some random metadata.  I analyzed return value, there is no way to differentiate by return value","body":"@Progman Not anything unique in both way it returning some random metadata.  I analyzed return value, there is no way to differentiate by return value"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635445859,"creation_date":1635445859,"answer_id":69759225,"question_id":69742795,"body_markdown":"You can use [Mockito](https://site.mockito.org/) to [verify](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verify-T-) that some method is called. In this case you can use [`spy()`](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy-T-) on the object you want to test, call the `transformColumns()` method and check with `verify()`, that the `tableInsert()` method was indeed called. The unit test method might look like this:\r\n\r\n    @Test\r\n\tpublic void mockitoTest() {\r\n\t\tFoobar mock = Mockito.spy(Foobar.class);\r\n\r\n\t\tmock.transformColumns(&quot;delete&quot;);\r\n\t\t\t\t\r\n\t\tMockito.verify(mock).tableInsert(Mockito.anyString(), Mockito.eq(false));\r\n\t\t\r\n\t}\r\n\r\nThis test will pass, as the call `transformColumns(&quot;delete&quot;)` will call the `tableInsert()` method internally with the `false` value for the second argument. If you change the argument for `transformColumns()` or change the expected argument `false` to `true` you will see that this unit test method will fail with an error like this (the expression `Mockito.eq(true)` was used to show the error):\r\n\r\n    Argument(s) are different! Wanted:\r\n    foobar.tableInsert(&lt;any string&gt;, true);\r\n    -&gt; at testing.AllTests.mockitoTest(AllTests.java:14)\r\n    Actual invocations have different arguments:\r\n    foobar.transformColumns(&quot;delete&quot;);\r\n    -&gt; at testing.AllTests.mockitoTest(AllTests.java:12)\r\n    foobar.tableInsert(&quot;onetwo&quot;, false);\r\n    -&gt; at testing.Foobar.transformColumns(Foobar.java:8)","title":"How to check which value is passing in ternary operator method in Junit?","body":"<p>You can use <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a> to <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verify-T-\" rel=\"nofollow noreferrer\">verify</a> that some method is called. In this case you can use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy-T-\" rel=\"nofollow noreferrer\"><code>spy()</code></a> on the object you want to test, call the <code>transformColumns()</code> method and check with <code>verify()</code>, that the <code>tableInsert()</code> method was indeed called. The unit test method might look like this:</p>\n<pre><code>@Test\npublic void mockitoTest() {\n    Foobar mock = Mockito.spy(Foobar.class);\n\n    mock.transformColumns(&quot;delete&quot;);\n            \n    Mockito.verify(mock).tableInsert(Mockito.anyString(), Mockito.eq(false));\n    \n}\n</code></pre>\n<p>This test will pass, as the call <code>transformColumns(&quot;delete&quot;)</code> will call the <code>tableInsert()</code> method internally with the <code>false</code> value for the second argument. If you change the argument for <code>transformColumns()</code> or change the expected argument <code>false</code> to <code>true</code> you will see that this unit test method will fail with an error like this (the expression <code>Mockito.eq(true)</code> was used to show the error):</p>\n<pre><code>Argument(s) are different! Wanted:\nfoobar.tableInsert(&lt;any string&gt;, true);\n-&gt; at testing.AllTests.mockitoTest(AllTests.java:14)\nActual invocations have different arguments:\nfoobar.transformColumns(&quot;delete&quot;);\n-&gt; at testing.AllTests.mockitoTest(AllTests.java:12)\nfoobar.tableInsert(&quot;onetwo&quot;, false);\n-&gt; at testing.Foobar.transformColumns(Foobar.java:8)\n</code></pre>\n"}],"owner":{"account_id":5078024,"reputation":395,"user_id":4074906,"accept_rate":44,"display_name":"hardcode"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69759225,"answer_count":1,"score":0,"last_activity_date":1635445859,"creation_date":1635354384,"question_id":69742795,"body_markdown":"\r\n\r\n I am new to Junit and trying to write test case for the following scenario.\r\n\r\n    public List&lt;String&gt; transformColumns(String action){\r\n            return action.equals(&quot;delete&quot;))?\r\n                    tableInsert(&quot;onetwo&quot;, false)\r\n                    :tableInsert(&quot;onetwothree&quot;, true);\r\n        }\r\n\r\nIf, I pass **action** value as **transformColumns(&quot;delete&quot;)**, **tableInsert(&quot;onetwo&quot;, false)** method should be called with value of **false** in second parameter.  How to validate the parameter value of called method in Junit?\r\n\r\n","title":"How to check which value is passing in ternary operator method in Junit?","body":"<p>I am new to Junit and trying to write test case for the following scenario.</p>\n<pre><code>public List&lt;String&gt; transformColumns(String action){\n        return action.equals(&quot;delete&quot;))?\n                tableInsert(&quot;onetwo&quot;, false)\n                :tableInsert(&quot;onetwothree&quot;, true);\n    }\n</code></pre>\n<p>If, I pass <strong>action</strong> value as <strong>transformColumns(&quot;delete&quot;)</strong>, <strong>tableInsert(&quot;onetwo&quot;, false)</strong> method should be called with value of <strong>false</strong> in second parameter.  How to validate the parameter value of called method in Junit?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635445498,"creation_date":1635433695,"answer_id":69756592,"question_id":69756181,"body_markdown":"In the last external loop when `i = 4`, the inner loop becomes:\r\n   \r\n\r\n```java\r\nfor (int j = 4; j &gt; 4; j--)\r\n```\r\n\r\nwhich does nothing, and the outer loop prints `result`, which contains the previous value (16).\r\n\r\nThe solution could be to replace the condition for the inner loop to `j &gt;= i`. You also need to replace the condition of the `if`, as `tempList.get(j)` will now be equal to `tempList.get(i)`:\r\n\r\n```java\r\nfor (int i = 0; i &lt; tempList.size(); i++) {\r\n   for (int j = tempList.size() - 1; j &gt;= i; j--){\r\n      if (tempList.get(i) &gt; tempList.get(j)) {\r\n         result = tempList.get(j) * tempList.get(j);\r\n      }\r\n      else if (tempList.get(j) &gt;= tempList.get(i)) {\r\n         result = (tempList.get(i) * tempList.get(i));\r\n      }\r\n   }\r\n   System.out.println(result);\r\n}\r\n```\r\n\r\nIt will work for (1,2,3,4,5).\r\n\r\nThat being said, the same result could be attained with a simpler code:\r\n```java\r\nCollections.sort(tempList); /* Optional, if you want to sort the result */\r\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; tempList.size(); i++) {\r\n   result.add(tempList.get(i) * tempList.get(i));\r\n}\r\nSystem.out.println(result);\r\n```\r\n","title":"Comparing/Sorting elements and then squaring them using an array list with O(n) complexity","body":"<p>In the last external loop when <code>i = 4</code>, the inner loop becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int j = 4; j &gt; 4; j--)\n</code></pre>\n<p>which does nothing, and the outer loop prints <code>result</code>, which contains the previous value (16).</p>\n<p>The solution could be to replace the condition for the inner loop to <code>j &gt;= i</code>. You also need to replace the condition of the <code>if</code>, as <code>tempList.get(j)</code> will now be equal to <code>tempList.get(i)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; tempList.size(); i++) {\n   for (int j = tempList.size() - 1; j &gt;= i; j--){\n      if (tempList.get(i) &gt; tempList.get(j)) {\n         result = tempList.get(j) * tempList.get(j);\n      }\n      else if (tempList.get(j) &gt;= tempList.get(i)) {\n         result = (tempList.get(i) * tempList.get(i));\n      }\n   }\n   System.out.println(result);\n}\n</code></pre>\n<p>It will work for (1,2,3,4,5).</p>\n<p>That being said, the same result could be attained with a simpler code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(tempList); /* Optional, if you want to sort the result */\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; tempList.size(); i++) {\n   result.add(tempList.get(i) * tempList.get(i));\n}\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9697634,"reputation":37,"user_id":7193573,"display_name":"Kshitij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635433973,"creation_date":1635433973,"answer_id":69756662,"question_id":69756181,"body_markdown":"Solution won&#39;t work if `tempList[i] == tempList[j]`.Replace `else if` with `else` and it will work.","title":"Comparing/Sorting elements and then squaring them using an array list with O(n) complexity","body":"<p>Solution won't work if <code>tempList[i] == tempList[j]</code>.Replace <code>else if</code> with <code>else</code> and it will work.</p>\n"}],"owner":{"account_id":23143527,"reputation":21,"user_id":17246602,"display_name":"Sslur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635445498,"creation_date":1635432094,"question_id":69756181,"body_markdown":"I have a nested loop that loops through every element in the list comparing it/sorting it , then I am trying to square the numbers in the list(keep in mind they need to be sorted). The problem is when I run my program, the &#39;test&#39; array list that I am using does not print the last one squared, but it prints the second to last one squared twice. For example, if my array list is (1,2,3,4,5) my code should print (1,4,9,16,25) but instead it prints (1,4,9,16,16). I can&#39;t seem to figure out why.\r\n\r\nMy code:\r\n``` \r\npublic static void sortSquares(List&lt;Integer&gt; tempList) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; tempList.size(); i++) {\r\n            for (int j = tempList.size() - 1; j &gt; i; j--){\r\n                if (tempList.get(i) &gt; tempList.get(j)) {\r\n                    result = tempList.get(j) * tempList.get(j);\r\n                }\r\n                else if (tempList.get(j) &gt; tempList.get(i)) {\r\n                    \r\n                    result = (tempList.get(i) * tempList.get(i));\r\n                    \r\n                }\r\n        \r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n``` ","title":"Comparing/Sorting elements and then squaring them using an array list with O(n) complexity","body":"<p>I have a nested loop that loops through every element in the list comparing it/sorting it , then I am trying to square the numbers in the list(keep in mind they need to be sorted). The problem is when I run my program, the 'test' array list that I am using does not print the last one squared, but it prints the second to last one squared twice. For example, if my array list is (1,2,3,4,5) my code should print (1,4,9,16,25) but instead it prints (1,4,9,16,16). I can't seem to figure out why.</p>\n<p>My code:</p>\n<pre><code>public static void sortSquares(List&lt;Integer&gt; tempList) {\n        int result = 0;\n        for (int i = 0; i &lt; tempList.size(); i++) {\n            for (int j = tempList.size() - 1; j &gt; i; j--){\n                if (tempList.get(i) &gt; tempList.get(j)) {\n                    result = tempList.get(j) * tempList.get(j);\n                }\n                else if (tempList.get(j) &gt; tempList.get(i)) {\n                    \n                    result = (tempList.get(i) * tempList.get(i));\n                    \n                }\n        \n            }\n            System.out.println(result);\n        }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1634525007,"post_id":69605563,"comment_id":123039401,"body_markdown":"Try asking at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979","body":"Try asking at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a>"},{"owner":{"account_id":1965722,"reputation":4269,"user_id":1766065,"accept_rate":57,"display_name":"Jens D"},"score":0,"creation_date":1634561055,"post_id":69605563,"comment_id":123050140,"body_markdown":"Thanks for the suggestion - https://intellij-support.jetbrains.com/hc/en-us/community/posts/4408350276754-IntelliJ-DSL-plugin-provide-completion-of-Java-classes-and-methods","body":"Thanks for the suggestion - <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/4408350276754-IntelliJ-DSL-plugin-provide-completion-of-Java-classes-and-methods\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635445379,"creation_date":1635445379,"answer_id":69759140,"question_id":69605563,"body_markdown":"I think you are looking for the [existing](https://github.com/JetBrains/intellij-community/tree/0e2aa4030ee763c9b0c828f0b5119f4cdcc66f35/java/java-indexing-impl/src/com/intellij/psi/impl/java/stubs/index) [stub indices](https://plugins.jetbrains.com/docs/intellij/stub-indexes.html). \r\nFor example, to get all class names in your project, you can use\r\n\r\n```\r\nval classNames = JavaFullClassNameIndex.getInstance().getAllKeys(project)\r\n``` \r\n\r\nWhen using indices - your own or already existing ones - it is often useful to use the [Index Viewer](https://plugins.jetbrains.com/plugin/13029-index-viewer) plugin so you can have a look at which things are in which index. \r\nTo add it as a dependency of your plugin (so you don&#39;t have to install it manually each time you build your plugin) add the following to `intellij` block of your `build.gradle.kts`:\r\n\r\n```\r\nplugins.set(listOf(&quot;java&quot;, &quot;com.jetbrains.hackathon.indices.viewer:1.19&quot;))\r\n```\r\n\r\nIt should appear as a tool window on the right.\r\nDon&#39;t forget to remove it once you are done with debugging the indices.\r\n\r\n---\r\n\r\nI also found the [PsiShortNamesCache](https://github.com/JetBrains/intellij-community/blob/0e2aa4030ee763c9b0c828f0b5119f4cdcc66f35/java/java-indexing-api/src/com/intellij/psi/search/PsiShortNamesCache.java) which might be useful.","title":"IntelliJ DSL plugin provide completion of Java classes and methods","body":"<p>I think you are looking for the <a href=\"https://github.com/JetBrains/intellij-community/tree/0e2aa4030ee763c9b0c828f0b5119f4cdcc66f35/java/java-indexing-impl/src/com/intellij/psi/impl/java/stubs/index\" rel=\"nofollow noreferrer\">existing</a> <a href=\"https://plugins.jetbrains.com/docs/intellij/stub-indexes.html\" rel=\"nofollow noreferrer\">stub indices</a>.\nFor example, to get all class names in your project, you can use</p>\n<pre><code>val classNames = JavaFullClassNameIndex.getInstance().getAllKeys(project)\n</code></pre>\n<p>When using indices - your own or already existing ones - it is often useful to use the <a href=\"https://plugins.jetbrains.com/plugin/13029-index-viewer\" rel=\"nofollow noreferrer\">Index Viewer</a> plugin so you can have a look at which things are in which index.\nTo add it as a dependency of your plugin (so you don't have to install it manually each time you build your plugin) add the following to <code>intellij</code> block of your <code>build.gradle.kts</code>:</p>\n<pre><code>plugins.set(listOf(&quot;java&quot;, &quot;com.jetbrains.hackathon.indices.viewer:1.19&quot;))\n</code></pre>\n<p>It should appear as a tool window on the right.\nDon't forget to remove it once you are done with debugging the indices.</p>\n<hr />\n<p>I also found the <a href=\"https://github.com/JetBrains/intellij-community/blob/0e2aa4030ee763c9b0c828f0b5119f4cdcc66f35/java/java-indexing-api/src/com/intellij/psi/search/PsiShortNamesCache.java\" rel=\"nofollow noreferrer\">PsiShortNamesCache</a> which might be useful.</p>\n"}],"owner":{"account_id":1965722,"reputation":4269,"user_id":1766065,"accept_rate":57,"display_name":"Jens D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635445379,"creation_date":1634482753,"question_id":69605563,"body_markdown":"I&#39;m attempting to write an IntelliJ plugin for a DSL which references Java classes and methods. The DSL is exposed in `*.conf` files within a Java project. A typical snippet of the DSL looks like this:\r\n```\r\nTASK taskClass=com.example.Foo taskMethod=someMethod;\r\n```\r\nI&#39;ve been working through the IJ &#39;Simple&#39; plugin tutorial to learn about plugins and am able to implement a fair bit of my own plugin. Currently, however, I&#39;m stuck on trying to understand how I can provide auto-completion for the `taskClass` and `taskMethod` keywords. Having worked through the Simple tutorial all my completion shows is &#39;Hello&#39;. Now I want to be able to extend my `CompletionContributor` to show java classes and methods that exist in the project. This doesn&#39;t seem to be addressed in the tutorial, but perhaps I&#39;m just missing it. \r\n\r\nWhat do I need, in order to do this? I would guess that there is already some cached info about all the existing java code in a project that my Contributor could leverage.","title":"IntelliJ DSL plugin provide completion of Java classes and methods","body":"<p>I'm attempting to write an IntelliJ plugin for a DSL which references Java classes and methods. The DSL is exposed in <code>*.conf</code> files within a Java project. A typical snippet of the DSL looks like this:</p>\n<pre><code>TASK taskClass=com.example.Foo taskMethod=someMethod;\n</code></pre>\n<p>I've been working through the IJ 'Simple' plugin tutorial to learn about plugins and am able to implement a fair bit of my own plugin. Currently, however, I'm stuck on trying to understand how I can provide auto-completion for the <code>taskClass</code> and <code>taskMethod</code> keywords. Having worked through the Simple tutorial all my completion shows is 'Hello'. Now I want to be able to extend my <code>CompletionContributor</code> to show java classes and methods that exist in the project. This doesn't seem to be addressed in the tutorial, but perhaps I'm just missing it.</p>\n<p>What do I need, in order to do this? I would guess that there is already some cached info about all the existing java code in a project that my Contributor could leverage.</p>\n"},{"tags":["java","swing","file","text"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1635400714,"post_id":69748946,"comment_id":123288666,"body_markdown":"It looks like you&#39;re expecting the `ToFile` method to be called when the application is closed - but I see no calls to it.","body":"It looks like you&#39;re expecting the <code>ToFile</code> method to be called when the application is closed - but I see no calls to it."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1635400817,"post_id":69748946,"comment_id":123288693,"body_markdown":"I would also consider exploring other file formats like JSON or XML (or even just CSV) which will provide you some inbuilt structures and support.  You should always be considering how you&#39;re going to read it back again.  In your particular case, I would remove the UI from the equation entirely and focus on getting the file written and read","body":"I would also consider exploring other file formats like JSON or XML (or even just CSV) which will provide you some inbuilt structures and support.  You should always be considering how you&#39;re going to read it back again.  In your particular case, I would remove the UI from the equation entirely and focus on getting the file written and read"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1635400986,"post_id":69748946,"comment_id":123288727,"body_markdown":"I would also suggest having a look at [A Visual Guide to Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) and [`CardLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) in particular","body":"I would also suggest having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">A Visual Guide to Layout Managers</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a> in particular"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1635401583,"post_id":69748946,"comment_id":123288878,"body_markdown":"&quot;problem: Exception&quot; - do you mean you get an exception? In that case details on the exception might help (always include the stacktrace when asking about exceptions). You might also want to read [ask].","body":"&quot;problem: Exception&quot; - do you mean you get an exception? In that case details on the exception might help (always include the stacktrace when asking about exceptions). You might also want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1635401600,"post_id":69748946,"comment_id":123288884,"body_markdown":"General tips (not covered above): 1) Don&#39;t wait to get 200+ lines of code before debugging vital functionality like appending text to a file. That could be done in around 40 LOC. 2) Change every catch to include something like `e.printStackTrace()` 3) Use a logical and consistent form of code formatting / indentation. It makes code much easier to read. 4) Add basic debugging statements (`println`) to methods to check they are called as you expect. 5) `setContentPane(new JLabel(new ImageIcon(&quot;1.jpg &quot;)));` a) Leave image backgrounds out of code like this, they are irrelevant to the problem. ..","body":"General tips (not covered above): 1) Don&#39;t wait to get 200+ lines of code before debugging vital functionality like appending text to a file. That could be done in around 40 LOC. 2) Change every catch to include something like <code>e.printStackTrace()</code> 3) Use a logical and consistent form of code formatting / indentation. It makes code much easier to read. 4) Add basic debugging statements (<code>println</code>) to methods to check they are called as you expect. 5) <code>setContentPane(new JLabel(new ImageIcon(&quot;1.jpg &quot;)));</code> a) Leave image backgrounds out of code like this, they are irrelevant to the problem. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1635401687,"post_id":69748946,"comment_id":123288920,"body_markdown":"(5) b) Don&#39;t use a label for a BG, but instead use a custom painted panel, and c) Load application resources using `getResource(..)` - they will be unavailable as a `File` at time of deployment.","body":"(5) b) Don&#39;t use a label for a BG, but instead use a custom painted panel, and c) Load application resources using <code>getResource(..)</code> - they will be unavailable as a <code>File</code> at time of deployment."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1635401951,"post_id":69748946,"comment_id":123288984,"body_markdown":"_I am a newbie with this concept_ Then I suggest you read [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/) which is part of Oracle&#39;s Java tutorials. I also recommend that you **not** use the GUI builder of your IDE to write _Swing_ applications.","body":"<i>I am a newbie with this concept</i> Then I suggest you read <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a> which is part of Oracle&#39;s Java tutorials. I also recommend that you <b>not</b> use the GUI builder of your IDE to write <i>Swing</i> applications."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635402717,"post_id":69748946,"comment_id":123289171,"body_markdown":"*I need to see some code for this* Did you search for some? I bet there are a lot of examples out there.","body":"<i>I need to see some code for this</i> Did you search for some? I bet there are a lot of examples out there."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1635444604,"post_id":69748946,"comment_id":123307089,"body_markdown":"Do **not** use the &#39;back&#39; button to edit a question! It destroys edits made by others. Instead use the [edit] link below the tags.","body":"Do <b>not</b> use the &#39;back&#39; button to edit a question! It destroys edits made by others. Instead use the <a href=\"https://stackoverflow.com/posts/69748946/edit\">edit</a> link below the tags."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635406919,"creation_date":1635406604,"answer_id":69749996,"question_id":69748946,"body_markdown":"Ok, so you have a number of issues, but, lets first focus on &quot;file writing&quot; issues.\r\n\r\nA really important place to start is the [Basic I/O](https://docs.oracle.com/javase/tutorial/essential/io/) lesson, just so you can get your head around, well, the basics.\r\n\r\nOne of the important goals of any solution should be to reduce coupling (between classes).  Part of this is a process of reducing the amount &quot;knowledge&quot; (or implementation detail) of the system other parts of the solution might have.  They just shouldn&#39;t care.\r\n\r\nSo, the first thing we want to do, is manage &quot;bookings&quot;, so lets start there.  You&#39;ve established the basic requirements of a booking and we can describe it as such...\r\n\r\n    public interface Booking {\r\n        public String getName();\r\n        public String getPhoneNumber();\r\n        public String getAddress();\r\n        public String getDescription();\r\n        public LocalDate getDateOfBirth();\r\n    }\r\n\r\nNow, we need some way for the other parts of the system to interact with this data, in away which decouples them from the underlying implementation, I&#39;m mean, why would the booking view care how the bookings are stored, it just cares it can make them :/\r\n\r\nSo, lets add a `PatientRepository`\r\n\r\n    public interface PatientRepository {\r\n        public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException;\r\n    }\r\n\r\nOk, so, this &quot;describes&quot; parts of the systems, providing information about how some elements can be created, what we need next is some kind of implementation.\r\n\r\nA booking is pretty basic, it&#39;s just a POJO, encapsulating the captured information...\r\n\r\n    public class DefaultBooking implements Booking {\r\n\r\n        private String name;\r\n        private String phoneNumber;\r\n        private String address;\r\n        private String description;\r\n        private LocalDate dateOfBirth;\r\n\r\n        public DefaultBooking(String name, String phoneNumber, String address, String description, LocalDate dateOfBirth) {\r\n            this.name = name;\r\n            this.phoneNumber = phoneNumber;\r\n            this.address = address;\r\n            this.description = description;\r\n            this.dateOfBirth = dateOfBirth;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n\r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n\r\n        public LocalDate getDateOfBirth() {\r\n            return dateOfBirth;\r\n        }\r\n\r\n    }\r\n\r\nThe `PatientRepository` is a little more complicated.\r\n\r\nRolling your own file format is always a lot of work and I would consider things like [JAXB/XML](https://docs.oracle.com/javase/tutorial/jaxb/intro/index.html), [JSON](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java), CSV (using something like [OpenCSV](http://opencsv.sourceforge.net) or [Apache Commons CSV](https://commons.apache.org/proper/commons-csv/)), but ultimately, your end goal should be to make use of some kind of database and make use of [JDBC](https://docs.oracle.com/javase/tutorial/jdbc/index.html) (possibly making use of something [H2](https://www.h2database.com/html/main.html) or [HSQL](http://hsqldb.org)) (IMHO)\r\n\r\nFor this example, we&#39;re just rolling a simple line based file using `;` as a property delimiter (or separator) \r\n\r\n    public class DefaultPatientRepository implements PatientRepository {\r\n\r\n        private List&lt;Booking&gt; bookings;\r\n\r\n        public DefaultPatientRepository() throws IOException {\r\n            bookings = new ArrayList&lt;&gt;(32);\r\n            File sourceFile = new File(&quot;Clinic.txt&quot;);\r\n            if (sourceFile.exists()) {\r\n                try (BufferedReader br = new BufferedReader(new FileReader(sourceFile))) {\r\n                    String line = null;\r\n                    while ((line = br.readLine()) != null) {\r\n                        String parts[] = line.split(&quot;;&quot;);\r\n\r\n                        String name = parts[0];\r\n                        String phoneNumber = parts[1];\r\n                        String address = parts[2];\r\n                        String description = parts[3];\r\n                        String dob = parts[4];\r\n\r\n                        LocalDate dateOfBirth = LocalDate.parse(dob, DateTimeFormatter.ISO_LOCAL_DATE);\r\n\r\n                        Booking booking = new DefaultBooking(name, phoneNumber, address, description, dateOfBirth);\r\n                        bookings.add(booking);\r\n                    }\r\n                }\r\n\r\n                System.out.println(&quot;!! Loaded &quot; + bookings.size() + &quot; bookings&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException {\r\n            // Rolling your own file format is just a complete pain in the ... code\r\n            // To my mind, I&#39;d explore XML, JSON and possibly even CSV if you&#39;re\r\n            // not ready for a SQL based database solution, but I&#39;m old and I&#39;m lazy :P\r\n\r\n            try (BufferedWriter bw = new BufferedWriter(new FileWriter(new File(&quot;Clinic.txt&quot;), true))) {\r\n                StringJoiner joiner = new StringJoiner(&quot;;&quot;);\r\n                joiner.add(name);\r\n                joiner.add(phoneNumber);\r\n                joiner.add(address);\r\n                joiner.add(description);\r\n                joiner.add(DateTimeFormatter.ISO_LOCAL_DATE.format(dob));\r\n\r\n                bw.write(joiner.toString());\r\n                bw.newLine();\r\n            }\r\n\r\n            return new DefaultBooking(name, phoneNumber, address, description, dob);\r\n        }\r\n\r\n    }\r\n\r\nSo, without doing anything else, we now have a basic solution.  You can test it and verify it&#39;s functionality without the needed to include any other parts of the system.\r\n\r\nA word of warning though, this solution will store the `Clinic.txt` in the current working directory, this can be problematic for a number of reasons. \r\n\r\n1. The working directory isn&#39;t static and is contextual to the location from which the program was launched\r\n2. The current work directory might be write protected (this happens way more often then you think)\r\n\r\nFor this, I would have a look at my answer for https://stackoverflow.com/questions/53405312/java-reading-the-properties-file-outside-of-jar-file/53405540#53405540 or https://stackoverflow.com/questions/53974191/get-current-path-of-executed-file/53982349#53982349 which describes making use of &quot;well known locations&quot; based on the platform\r\n\r\nAnd now, we&#39;ve reached the point we can introduce the UI.\r\n\r\nI strongly encourage you to have a look at [A Visual Guide to Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) and [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)\r\n\r\nUser interfaces are typically very complex and involve multiple different views and interactions.  You want to spend you&#39;re time decoupling the views from each other and managing the scope of responsibility.\r\n\r\nFor example, just in your basic example, you have three distinct views.\r\n\r\n1. The menu\r\n2. The booking view\r\n3. The patient view (presumably involving some kind of search, which will add another view)\r\n\r\nThe menu doesn&#39;t care about the other two nor does it have an responsibility for managing them beyond showing them when the user requests them.\r\n\r\nEqually, the other views don&#39;t care about the menu.  All they really need to do is tell &quot;some body&quot; that they are no longer needed by the user.\r\n\r\nThe following example is an attempt to demonstrate a &quot;possible&quot; solution based around the use of `CardLayout`, it makes use of such concepts as\r\n\r\n* Observer pattern\r\n* Dependency injection\r\n* Decoupling of responsibilities\r\n\r\nOne particular feature you should pay attention to, is the ease at which it would be change the underlying implementation of the `PatientRepository` (to use a different file format, local database or even a web service), as the implementation is not tightly coupled to the rest of the system\r\n\r\n    import java.awt.CardLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.EventListener;\r\n    import java.util.EventObject;\r\n    import java.util.List;\r\n    import java.util.StringJoiner;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        PatientRepository patientRepository = new DefaultPatientRepository();\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new ClinicPane(patientRepository));\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                        JOptionPane.showMessageDialog(null, &quot;Failed to load patient repository&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClinicPane extends JPanel {\r\n\r\n            private CardLayout cardLayout;\r\n            private PatientRepository patientRepository;\r\n            private DismissablePaneListener dismissablePaneListener = new DismissablePaneListener() {\r\n                @Override\r\n                public void didDismissView(DismissablePaneEvent evt) {\r\n                    // If you really wanted to you could consider having some kind\r\n                    // of idenitifier for the view and then have some custom logic\r\n                    // in place to determine which view to show next, but in this\r\n                    // case, we just want to show the menu again\r\n                    cardLayout.show(ClinicPane.this, &quot;MainMenu&quot;);\r\n                }\r\n            };\r\n\r\n            public ClinicPane(PatientRepository patientRepository) {\r\n                this.patientRepository = patientRepository;\r\n                cardLayout = new CardLayout();\r\n                setLayout(cardLayout);\r\n\r\n                add(new MenuPane(new MenuListener() {\r\n                    @Override\r\n                    public void didSelectMenuOption(MenuEvent evt) {\r\n                        switch (evt.getOption()) {\r\n                            case MAKE_A_BOOKING:\r\n                                cardLayout.show(ClinicPane.this, &quot;Booking&quot;);\r\n                                break;\r\n                            case VIEW_PATIENT_RECORD:\r\n                                cardLayout.show(ClinicPane.this, &quot;Patient&quot;);\r\n                                break;\r\n                        }\r\n\r\n                    }\r\n                }), &quot;MainMenu&quot;);\r\n\r\n                BookingPane bookingPane = new BookingPane(patientRepository);\r\n                configure(bookingPane);\r\n                add(bookingPane, &quot;Booking&quot;);\r\n\r\n                PatientPane patientPane = new PatientPane(patientRepository);\r\n                configure(patientPane);\r\n                add(patientPane, &quot;Patient&quot;);\r\n            }\r\n\r\n            protected DismissablePaneListener getDismissablePaneListener() {\r\n                return dismissablePaneListener;\r\n            }\r\n\r\n            protected void configure(DismissablePane dismissablePane) {\r\n                dismissablePane.addDismissablePaneListener(getDismissablePaneListener());\r\n            }\r\n\r\n            public PatientRepository getPatientRepository() {\r\n                return patientRepository;\r\n            }\r\n\r\n        }\r\n\r\n        public enum MenuOption {\r\n            MAKE_A_BOOKING,\r\n            VIEW_PATIENT_RECORD,\r\n        }\r\n\r\n        public class MenuEvent extends EventObject {\r\n\r\n            private MenuOption option;\r\n\r\n            public MenuEvent(Object source, MenuOption option) {\r\n                super(source);\r\n                this.option = option;\r\n            }\r\n\r\n            public MenuOption getOption() {\r\n                return option;\r\n            }\r\n\r\n        }\r\n\r\n        public interface MenuListener extends EventListener {\r\n            public void didSelectMenuOption(MenuEvent evt);\r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n\r\n            public MenuPane() {\r\n                this(null);\r\n            }\r\n\r\n            public MenuPane(MenuListener listener) {\r\n                if (listener != null) {\r\n                    addMenuListener(listener);\r\n                }\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                add(new JLabel(&quot;Please select one Option&quot;), gbc);\r\n                add(makeButtonFor(MenuOption.MAKE_A_BOOKING), gbc);\r\n                add(makeButtonFor(MenuOption.VIEW_PATIENT_RECORD), gbc);\r\n            }\r\n\r\n            public void addMenuListener(MenuListener listener) {\r\n                listenerList.add(MenuListener.class, listener);\r\n            }\r\n\r\n            public void removeMenuListener(MenuListener listener) {\r\n                listenerList.remove(MenuListener.class, listener);\r\n            }\r\n\r\n            protected JButton makeButtonFor(MenuOption action) {\r\n                JButton btn = new JButton(&quot;Unknown action&quot;);\r\n                switch (action) {\r\n                    case MAKE_A_BOOKING:\r\n                        btn.setText(&quot;Make a booking&quot;);\r\n                        btn.addActionListener(new ActionListener() {\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                fireDidSelectMenuOption(action);\r\n                            }\r\n                        });\r\n                        break;\r\n                    case VIEW_PATIENT_RECORD:\r\n                        btn.setText(&quot;View patient record&quot;);\r\n                        btn.addActionListener(new ActionListener() {\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                fireDidSelectMenuOption(action);\r\n                            }\r\n                        });\r\n                        break;\r\n                }\r\n                return btn;\r\n            }\r\n\r\n            protected void fireDidSelectMenuOption(MenuOption option) {\r\n                MenuListener[] listeners = listenerList.getListeners(MenuListener.class);\r\n                if (listeners.length == 0) {\r\n                    return;\r\n                }\r\n                MenuEvent evt = new MenuEvent(this, option);\r\n                for (MenuListener listener : listeners) {\r\n                    listener.didSelectMenuOption(evt);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public class DismissablePaneEvent extends EventObject {\r\n\r\n            public DismissablePaneEvent(DismissablePane source) {\r\n                super(source);\r\n            }\r\n\r\n            public DismissablePane getDismissablePane() {\r\n                return (DismissablePane) getSource();\r\n            }\r\n\r\n        }\r\n\r\n        public interface DismissablePaneListener extends EventListener {\r\n            public void didDismissView(DismissablePaneEvent evt);\r\n        }\r\n\r\n        public interface DismissablePane {\r\n            public JPanel getPane();\r\n            public void addDismissablePaneListener(DismissablePaneListener listener);\r\n            public void removeDismissablePaneListener(DismissablePaneListener listener);\r\n        }\r\n\r\n        public abstract class AbstractDismissablePane extends JPanel implements DismissablePane {\r\n\r\n            @Override\r\n            public JPanel getPane() {\r\n                return this;\r\n            }\r\n\r\n            @Override\r\n            public void addDismissablePaneListener(DismissablePaneListener listener) {\r\n                listenerList.add(DismissablePaneListener.class, listener);\r\n            }\r\n\r\n            @Override\r\n            public void removeDismissablePaneListener(DismissablePaneListener listener) {\r\n                listenerList.remove(DismissablePaneListener.class, listener);\r\n            }\r\n\r\n            protected void fireDidDismissPane() {\r\n                DismissablePaneListener[] listeners = listenerList.getListeners(DismissablePaneListener.class);\r\n                if (listeners.length == 0) {\r\n                    return;\r\n                }\r\n                DismissablePaneEvent evt = new DismissablePaneEvent(this);\r\n                for (DismissablePaneListener listener : listeners) {\r\n                    listener.didDismissView(evt);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public class BookingPane extends AbstractDismissablePane {\r\n\r\n            private PatientRepository patientRepository;\r\n\r\n            public BookingPane(PatientRepository patientRepository) {\r\n                this.patientRepository = patientRepository;\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                add(new JLabel(&quot;Please make a booking&quot;), gbc);\r\n                add(new JLabel(&quot;This is where you&#39;d collect all the booking details&quot;), gbc);\r\n\r\n                JButton save = new JButton(&quot;Save&quot;);\r\n                JButton cancel = new JButton(&quot;Cancel&quot;);\r\n\r\n                save.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        try {\r\n                            // Create an instance of Booking\r\n                            Booking booking = getPatientRepository().createBooking(&quot;name&quot;, &quot;phone number&quot;, &quot;address&quot;, &quot;description&quot;, LocalDate.now());\r\n                            // Dismiss the view\r\n                            fireDidDismissPane();\r\n                        } catch (IOException ex) {\r\n                            ex.printStackTrace();\r\n                            JOptionPane.showMessageDialog(BookingPane.this, &quot;Failed to create booking&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        }\r\n                    }\r\n                });\r\n                cancel.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        fireDidDismissPane();\r\n                    }\r\n                });\r\n\r\n                JPanel buttonPane = new JPanel(new GridLayout(1, 2));\r\n                buttonPane.add(cancel);\r\n                buttonPane.add(save);\r\n\r\n                add(buttonPane, gbc);\r\n            }\r\n\r\n            public PatientRepository getPatientRepository() {\r\n                return patientRepository;\r\n            }\r\n\r\n        }\r\n\r\n        public class PatientPane extends AbstractDismissablePane {\r\n\r\n            private PatientRepository patientRepository;\r\n\r\n            public PatientPane(PatientRepository patientRepository) {\r\n                this.patientRepository = patientRepository;\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                add(new JLabel(&quot;Patient Record&quot;), gbc);\r\n                add(new JLabel(&quot;All your record belong to us&quot;), gbc);\r\n\r\n                JButton okay = new JButton(&quot;Okay&quot;);\r\n                okay.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        fireDidDismissPane();\r\n                    }\r\n                });\r\n\r\n                add(okay, gbc);\r\n            }\r\n\r\n            public PatientRepository getPatientRepository() {\r\n                return patientRepository;\r\n            }\r\n\r\n        }\r\n\r\n        public interface Booking {\r\n            public String getName();\r\n            public String getPhoneNumber();\r\n            public String getAddress();\r\n            public String getDescription();\r\n            public LocalDate getDateOfBirth();\r\n        }\r\n\r\n        public interface PatientRepository {\r\n            public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException;\r\n        }\r\n\r\n        public class DefaultBooking implements Booking {\r\n\r\n            private String name;\r\n            private String phoneNumber;\r\n            private String address;\r\n            private String description;\r\n            private LocalDate dateOfBirth;\r\n\r\n            public DefaultBooking(String name, String phoneNumber, String address, String description, LocalDate dateOfBirth) {\r\n                this.name = name;\r\n                this.phoneNumber = phoneNumber;\r\n                this.address = address;\r\n                this.description = description;\r\n                this.dateOfBirth = dateOfBirth;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public String getPhoneNumber() {\r\n                return phoneNumber;\r\n            }\r\n\r\n            public String getAddress() {\r\n                return address;\r\n            }\r\n\r\n            public String getDescription() {\r\n                return description;\r\n            }\r\n\r\n            public LocalDate getDateOfBirth() {\r\n                return dateOfBirth;\r\n            }\r\n\r\n        }\r\n\r\n        public class DefaultPatientRepository implements PatientRepository {\r\n\r\n            private List&lt;Booking&gt; bookings;\r\n\r\n            public DefaultPatientRepository() throws IOException {\r\n                bookings = new ArrayList&lt;&gt;(32);\r\n                File sourceFile = new File(&quot;Clinic.txt&quot;);\r\n                if (sourceFile.exists()) {\r\n                    try (BufferedReader br = new BufferedReader(new FileReader(sourceFile))) {\r\n                        String line = null;\r\n                        while ((line = br.readLine()) != null) {\r\n                            String parts[] = line.split(&quot;;&quot;);\r\n\r\n                            String name = parts[0];\r\n                            String phoneNumber = parts[1];\r\n                            String address = parts[2];\r\n                            String description = parts[3];\r\n                            String dob = parts[4];\r\n\r\n                            LocalDate dateOfBirth = LocalDate.parse(dob, DateTimeFormatter.ISO_LOCAL_DATE);\r\n\r\n                            Booking booking = new DefaultBooking(name, phoneNumber, address, description, dateOfBirth);\r\n                            bookings.add(booking);\r\n                        }\r\n                    }\r\n\r\n                    System.out.println(&quot;!! Loaded &quot; + bookings.size() + &quot; bookings&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException {\r\n                // Rolling your own file format is just a complete pain in the ... code\r\n                // To my mind, I&#39;d explore XML, JSON and possibly even CSV if you&#39;re\r\n                // not ready for a SQL based database solution, but I&#39;m old and I&#39;m lazy :P\r\n\r\n                try (BufferedWriter bw = new BufferedWriter(new FileWriter(new File(&quot;Clinic.txt&quot;), true))) {\r\n                    StringJoiner joiner = new StringJoiner(&quot;;&quot;);\r\n                    joiner.add(name);\r\n                    joiner.add(phoneNumber);\r\n                    joiner.add(address);\r\n                    joiner.add(description);\r\n                    joiner.add(DateTimeFormatter.ISO_LOCAL_DATE.format(dob));\r\n\r\n                    bw.write(joiner.toString());\r\n                    bw.newLine();\r\n                }\r\n\r\n                return new DefaultBooking(name, phoneNumber, address, description, dob);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nI bet you&#39;re now sorry you even asked ;)","title":"How to append text to File?","body":"<p>Ok, so you have a number of issues, but, lets first focus on &quot;file writing&quot; issues.</p>\n<p>A really important place to start is the <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow noreferrer\">Basic I/O</a> lesson, just so you can get your head around, well, the basics.</p>\n<p>One of the important goals of any solution should be to reduce coupling (between classes).  Part of this is a process of reducing the amount &quot;knowledge&quot; (or implementation detail) of the system other parts of the solution might have.  They just shouldn't care.</p>\n<p>So, the first thing we want to do, is manage &quot;bookings&quot;, so lets start there.  You've established the basic requirements of a booking and we can describe it as such...</p>\n<pre><code>public interface Booking {\n    public String getName();\n    public String getPhoneNumber();\n    public String getAddress();\n    public String getDescription();\n    public LocalDate getDateOfBirth();\n}\n</code></pre>\n<p>Now, we need some way for the other parts of the system to interact with this data, in away which decouples them from the underlying implementation, I'm mean, why would the booking view care how the bookings are stored, it just cares it can make them :/</p>\n<p>So, lets add a <code>PatientRepository</code></p>\n<pre><code>public interface PatientRepository {\n    public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException;\n}\n</code></pre>\n<p>Ok, so, this &quot;describes&quot; parts of the systems, providing information about how some elements can be created, what we need next is some kind of implementation.</p>\n<p>A booking is pretty basic, it's just a POJO, encapsulating the captured information...</p>\n<pre><code>public class DefaultBooking implements Booking {\n\n    private String name;\n    private String phoneNumber;\n    private String address;\n    private String description;\n    private LocalDate dateOfBirth;\n\n    public DefaultBooking(String name, String phoneNumber, String address, String description, LocalDate dateOfBirth) {\n        this.name = name;\n        this.phoneNumber = phoneNumber;\n        this.address = address;\n        this.description = description;\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public LocalDate getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n}\n</code></pre>\n<p>The <code>PatientRepository</code> is a little more complicated.</p>\n<p>Rolling your own file format is always a lot of work and I would consider things like <a href=\"https://docs.oracle.com/javase/tutorial/jaxb/intro/index.html\" rel=\"nofollow noreferrer\">JAXB/XML</a>, <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">JSON</a>, CSV (using something like <a href=\"http://opencsv.sourceforge.net\" rel=\"nofollow noreferrer\">OpenCSV</a> or <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a>), but ultimately, your end goal should be to make use of some kind of database and make use of <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/index.html\" rel=\"nofollow noreferrer\">JDBC</a> (possibly making use of something <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> or <a href=\"http://hsqldb.org\" rel=\"nofollow noreferrer\">HSQL</a>) (IMHO)</p>\n<p>For this example, we're just rolling a simple line based file using <code>;</code> as a property delimiter (or separator)</p>\n<pre><code>public class DefaultPatientRepository implements PatientRepository {\n\n    private List&lt;Booking&gt; bookings;\n\n    public DefaultPatientRepository() throws IOException {\n        bookings = new ArrayList&lt;&gt;(32);\n        File sourceFile = new File(&quot;Clinic.txt&quot;);\n        if (sourceFile.exists()) {\n            try (BufferedReader br = new BufferedReader(new FileReader(sourceFile))) {\n                String line = null;\n                while ((line = br.readLine()) != null) {\n                    String parts[] = line.split(&quot;;&quot;);\n\n                    String name = parts[0];\n                    String phoneNumber = parts[1];\n                    String address = parts[2];\n                    String description = parts[3];\n                    String dob = parts[4];\n\n                    LocalDate dateOfBirth = LocalDate.parse(dob, DateTimeFormatter.ISO_LOCAL_DATE);\n\n                    Booking booking = new DefaultBooking(name, phoneNumber, address, description, dateOfBirth);\n                    bookings.add(booking);\n                }\n            }\n\n            System.out.println(&quot;!! Loaded &quot; + bookings.size() + &quot; bookings&quot;);\n        }\n    }\n\n    @Override\n    public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException {\n        // Rolling your own file format is just a complete pain in the ... code\n        // To my mind, I'd explore XML, JSON and possibly even CSV if you're\n        // not ready for a SQL based database solution, but I'm old and I'm lazy :P\n\n        try (BufferedWriter bw = new BufferedWriter(new FileWriter(new File(&quot;Clinic.txt&quot;), true))) {\n            StringJoiner joiner = new StringJoiner(&quot;;&quot;);\n            joiner.add(name);\n            joiner.add(phoneNumber);\n            joiner.add(address);\n            joiner.add(description);\n            joiner.add(DateTimeFormatter.ISO_LOCAL_DATE.format(dob));\n\n            bw.write(joiner.toString());\n            bw.newLine();\n        }\n\n        return new DefaultBooking(name, phoneNumber, address, description, dob);\n    }\n\n}\n</code></pre>\n<p>So, without doing anything else, we now have a basic solution.  You can test it and verify it's functionality without the needed to include any other parts of the system.</p>\n<p>A word of warning though, this solution will store the <code>Clinic.txt</code> in the current working directory, this can be problematic for a number of reasons.</p>\n<ol>\n<li>The working directory isn't static and is contextual to the location from which the program was launched</li>\n<li>The current work directory might be write protected (this happens way more often then you think)</li>\n</ol>\n<p>For this, I would have a look at my answer for <a href=\"https://stackoverflow.com/questions/53405312/java-reading-the-properties-file-outside-of-jar-file/53405540#53405540\">java- reading the properties file outside of jar file</a> or <a href=\"https://stackoverflow.com/questions/53974191/get-current-path-of-executed-file/53982349#53982349\">Get current path of executed file</a> which describes making use of &quot;well known locations&quot; based on the platform</p>\n<p>And now, we've reached the point we can introduce the UI.</p>\n<p>I strongly encourage you to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">A Visual Guide to Layout Managers</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a></p>\n<p>User interfaces are typically very complex and involve multiple different views and interactions.  You want to spend you're time decoupling the views from each other and managing the scope of responsibility.</p>\n<p>For example, just in your basic example, you have three distinct views.</p>\n<ol>\n<li>The menu</li>\n<li>The booking view</li>\n<li>The patient view (presumably involving some kind of search, which will add another view)</li>\n</ol>\n<p>The menu doesn't care about the other two nor does it have an responsibility for managing them beyond showing them when the user requests them.</p>\n<p>Equally, the other views don't care about the menu.  All they really need to do is tell &quot;some body&quot; that they are no longer needed by the user.</p>\n<p>The following example is an attempt to demonstrate a &quot;possible&quot; solution based around the use of <code>CardLayout</code>, it makes use of such concepts as</p>\n<ul>\n<li>Observer pattern</li>\n<li>Dependency injection</li>\n<li>Decoupling of responsibilities</li>\n</ul>\n<p>One particular feature you should pay attention to, is the ease at which it would be change the underlying implementation of the <code>PatientRepository</code> (to use a different file format, local database or even a web service), as the implementation is not tightly coupled to the rest of the system</p>\n<pre><code>import java.awt.CardLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.EventListener;\nimport java.util.EventObject;\nimport java.util.List;\nimport java.util.StringJoiner;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    PatientRepository patientRepository = new DefaultPatientRepository();\n                    JFrame frame = new JFrame();\n                    frame.add(new ClinicPane(patientRepository));\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                    JOptionPane.showMessageDialog(null, &quot;Failed to load patient repository&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n    }\n\n    public class ClinicPane extends JPanel {\n\n        private CardLayout cardLayout;\n        private PatientRepository patientRepository;\n        private DismissablePaneListener dismissablePaneListener = new DismissablePaneListener() {\n            @Override\n            public void didDismissView(DismissablePaneEvent evt) {\n                // If you really wanted to you could consider having some kind\n                // of idenitifier for the view and then have some custom logic\n                // in place to determine which view to show next, but in this\n                // case, we just want to show the menu again\n                cardLayout.show(ClinicPane.this, &quot;MainMenu&quot;);\n            }\n        };\n\n        public ClinicPane(PatientRepository patientRepository) {\n            this.patientRepository = patientRepository;\n            cardLayout = new CardLayout();\n            setLayout(cardLayout);\n\n            add(new MenuPane(new MenuListener() {\n                @Override\n                public void didSelectMenuOption(MenuEvent evt) {\n                    switch (evt.getOption()) {\n                        case MAKE_A_BOOKING:\n                            cardLayout.show(ClinicPane.this, &quot;Booking&quot;);\n                            break;\n                        case VIEW_PATIENT_RECORD:\n                            cardLayout.show(ClinicPane.this, &quot;Patient&quot;);\n                            break;\n                    }\n\n                }\n            }), &quot;MainMenu&quot;);\n\n            BookingPane bookingPane = new BookingPane(patientRepository);\n            configure(bookingPane);\n            add(bookingPane, &quot;Booking&quot;);\n\n            PatientPane patientPane = new PatientPane(patientRepository);\n            configure(patientPane);\n            add(patientPane, &quot;Patient&quot;);\n        }\n\n        protected DismissablePaneListener getDismissablePaneListener() {\n            return dismissablePaneListener;\n        }\n\n        protected void configure(DismissablePane dismissablePane) {\n            dismissablePane.addDismissablePaneListener(getDismissablePaneListener());\n        }\n\n        public PatientRepository getPatientRepository() {\n            return patientRepository;\n        }\n\n    }\n\n    public enum MenuOption {\n        MAKE_A_BOOKING,\n        VIEW_PATIENT_RECORD,\n    }\n\n    public class MenuEvent extends EventObject {\n\n        private MenuOption option;\n\n        public MenuEvent(Object source, MenuOption option) {\n            super(source);\n            this.option = option;\n        }\n\n        public MenuOption getOption() {\n            return option;\n        }\n\n    }\n\n    public interface MenuListener extends EventListener {\n        public void didSelectMenuOption(MenuEvent evt);\n    }\n\n    public class MenuPane extends JPanel {\n\n        public MenuPane() {\n            this(null);\n        }\n\n        public MenuPane(MenuListener listener) {\n            if (listener != null) {\n                addMenuListener(listener);\n            }\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            add(new JLabel(&quot;Please select one Option&quot;), gbc);\n            add(makeButtonFor(MenuOption.MAKE_A_BOOKING), gbc);\n            add(makeButtonFor(MenuOption.VIEW_PATIENT_RECORD), gbc);\n        }\n\n        public void addMenuListener(MenuListener listener) {\n            listenerList.add(MenuListener.class, listener);\n        }\n\n        public void removeMenuListener(MenuListener listener) {\n            listenerList.remove(MenuListener.class, listener);\n        }\n\n        protected JButton makeButtonFor(MenuOption action) {\n            JButton btn = new JButton(&quot;Unknown action&quot;);\n            switch (action) {\n                case MAKE_A_BOOKING:\n                    btn.setText(&quot;Make a booking&quot;);\n                    btn.addActionListener(new ActionListener() {\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            fireDidSelectMenuOption(action);\n                        }\n                    });\n                    break;\n                case VIEW_PATIENT_RECORD:\n                    btn.setText(&quot;View patient record&quot;);\n                    btn.addActionListener(new ActionListener() {\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            fireDidSelectMenuOption(action);\n                        }\n                    });\n                    break;\n            }\n            return btn;\n        }\n\n        protected void fireDidSelectMenuOption(MenuOption option) {\n            MenuListener[] listeners = listenerList.getListeners(MenuListener.class);\n            if (listeners.length == 0) {\n                return;\n            }\n            MenuEvent evt = new MenuEvent(this, option);\n            for (MenuListener listener : listeners) {\n                listener.didSelectMenuOption(evt);\n            }\n        }\n\n    }\n\n    public class DismissablePaneEvent extends EventObject {\n\n        public DismissablePaneEvent(DismissablePane source) {\n            super(source);\n        }\n\n        public DismissablePane getDismissablePane() {\n            return (DismissablePane) getSource();\n        }\n\n    }\n\n    public interface DismissablePaneListener extends EventListener {\n        public void didDismissView(DismissablePaneEvent evt);\n    }\n\n    public interface DismissablePane {\n        public JPanel getPane();\n        public void addDismissablePaneListener(DismissablePaneListener listener);\n        public void removeDismissablePaneListener(DismissablePaneListener listener);\n    }\n\n    public abstract class AbstractDismissablePane extends JPanel implements DismissablePane {\n\n        @Override\n        public JPanel getPane() {\n            return this;\n        }\n\n        @Override\n        public void addDismissablePaneListener(DismissablePaneListener listener) {\n            listenerList.add(DismissablePaneListener.class, listener);\n        }\n\n        @Override\n        public void removeDismissablePaneListener(DismissablePaneListener listener) {\n            listenerList.remove(DismissablePaneListener.class, listener);\n        }\n\n        protected void fireDidDismissPane() {\n            DismissablePaneListener[] listeners = listenerList.getListeners(DismissablePaneListener.class);\n            if (listeners.length == 0) {\n                return;\n            }\n            DismissablePaneEvent evt = new DismissablePaneEvent(this);\n            for (DismissablePaneListener listener : listeners) {\n                listener.didDismissView(evt);\n            }\n        }\n\n    }\n\n    public class BookingPane extends AbstractDismissablePane {\n\n        private PatientRepository patientRepository;\n\n        public BookingPane(PatientRepository patientRepository) {\n            this.patientRepository = patientRepository;\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            add(new JLabel(&quot;Please make a booking&quot;), gbc);\n            add(new JLabel(&quot;This is where you'd collect all the booking details&quot;), gbc);\n\n            JButton save = new JButton(&quot;Save&quot;);\n            JButton cancel = new JButton(&quot;Cancel&quot;);\n\n            save.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    try {\n                        // Create an instance of Booking\n                        Booking booking = getPatientRepository().createBooking(&quot;name&quot;, &quot;phone number&quot;, &quot;address&quot;, &quot;description&quot;, LocalDate.now());\n                        // Dismiss the view\n                        fireDidDismissPane();\n                    } catch (IOException ex) {\n                        ex.printStackTrace();\n                        JOptionPane.showMessageDialog(BookingPane.this, &quot;Failed to create booking&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    }\n                }\n            });\n            cancel.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    fireDidDismissPane();\n                }\n            });\n\n            JPanel buttonPane = new JPanel(new GridLayout(1, 2));\n            buttonPane.add(cancel);\n            buttonPane.add(save);\n\n            add(buttonPane, gbc);\n        }\n\n        public PatientRepository getPatientRepository() {\n            return patientRepository;\n        }\n\n    }\n\n    public class PatientPane extends AbstractDismissablePane {\n\n        private PatientRepository patientRepository;\n\n        public PatientPane(PatientRepository patientRepository) {\n            this.patientRepository = patientRepository;\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            add(new JLabel(&quot;Patient Record&quot;), gbc);\n            add(new JLabel(&quot;All your record belong to us&quot;), gbc);\n\n            JButton okay = new JButton(&quot;Okay&quot;);\n            okay.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    fireDidDismissPane();\n                }\n            });\n\n            add(okay, gbc);\n        }\n\n        public PatientRepository getPatientRepository() {\n            return patientRepository;\n        }\n\n    }\n\n    public interface Booking {\n        public String getName();\n        public String getPhoneNumber();\n        public String getAddress();\n        public String getDescription();\n        public LocalDate getDateOfBirth();\n    }\n\n    public interface PatientRepository {\n        public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException;\n    }\n\n    public class DefaultBooking implements Booking {\n\n        private String name;\n        private String phoneNumber;\n        private String address;\n        private String description;\n        private LocalDate dateOfBirth;\n\n        public DefaultBooking(String name, String phoneNumber, String address, String description, LocalDate dateOfBirth) {\n            this.name = name;\n            this.phoneNumber = phoneNumber;\n            this.address = address;\n            this.description = description;\n            this.dateOfBirth = dateOfBirth;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getPhoneNumber() {\n            return phoneNumber;\n        }\n\n        public String getAddress() {\n            return address;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n\n        public LocalDate getDateOfBirth() {\n            return dateOfBirth;\n        }\n\n    }\n\n    public class DefaultPatientRepository implements PatientRepository {\n\n        private List&lt;Booking&gt; bookings;\n\n        public DefaultPatientRepository() throws IOException {\n            bookings = new ArrayList&lt;&gt;(32);\n            File sourceFile = new File(&quot;Clinic.txt&quot;);\n            if (sourceFile.exists()) {\n                try (BufferedReader br = new BufferedReader(new FileReader(sourceFile))) {\n                    String line = null;\n                    while ((line = br.readLine()) != null) {\n                        String parts[] = line.split(&quot;;&quot;);\n\n                        String name = parts[0];\n                        String phoneNumber = parts[1];\n                        String address = parts[2];\n                        String description = parts[3];\n                        String dob = parts[4];\n\n                        LocalDate dateOfBirth = LocalDate.parse(dob, DateTimeFormatter.ISO_LOCAL_DATE);\n\n                        Booking booking = new DefaultBooking(name, phoneNumber, address, description, dateOfBirth);\n                        bookings.add(booking);\n                    }\n                }\n\n                System.out.println(&quot;!! Loaded &quot; + bookings.size() + &quot; bookings&quot;);\n            }\n        }\n\n        @Override\n        public Booking createBooking(String name, String phoneNumber, String address, String description, LocalDate dob) throws IOException {\n            // Rolling your own file format is just a complete pain in the ... code\n            // To my mind, I'd explore XML, JSON and possibly even CSV if you're\n            // not ready for a SQL based database solution, but I'm old and I'm lazy :P\n\n            try (BufferedWriter bw = new BufferedWriter(new FileWriter(new File(&quot;Clinic.txt&quot;), true))) {\n                StringJoiner joiner = new StringJoiner(&quot;;&quot;);\n                joiner.add(name);\n                joiner.add(phoneNumber);\n                joiner.add(address);\n                joiner.add(description);\n                joiner.add(DateTimeFormatter.ISO_LOCAL_DATE.format(dob));\n\n                bw.write(joiner.toString());\n                bw.newLine();\n            }\n\n            return new DefaultBooking(name, phoneNumber, address, description, dob);\n        }\n\n    }\n}\n</code></pre>\n<p>I bet you're now sorry you even asked ;)</p>\n"}],"owner":{"account_id":23163627,"reputation":1,"user_id":17263929,"display_name":"Shadow "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635444781,"creation_date":1635400568,"question_id":69748946,"body_markdown":"I need help to understand the working of `File` handling in Java.\r\n\r\nThis is what I am doing:\r\n\r\n                       \r\n \r\n\r\n    import java.awt.LayoutManager;\r\n    import java.awt.event.ActionEvent;             \r\n    import java.awt.event.ActionListen;\r\n    import java.util.ArrayList;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.*;\r\n    import java.awt.Color;\r\n    import java.io.IOException;\r\n    import java.io.Writer;\r\n    import java.io.BufferedWriter;\r\n    import java.io.FileWriter;\r\n \r\n    public class Management extends JFrame implements ActionListener{\r\n\r\n    private ImageIcon image;\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate JTextField jt1, jt2, jt3, jt4;\r\n    private JLabel jl1, jl2, jl3, jl4, jl5, jl6;\r\n    private JButton jb1, jb2, jb3;\r\n    private JTextArea ja1;\r\n    private int id=1;\r\n    private ArrayList&lt;Pateint&gt; data = new ArrayList();\r\n    private int find;\r\n    private int x=0;\r\n    private final JLabel label = new JLabel(&quot;New label&quot;);\r\n\r\n    public Management(){\r\n    \tlabel.setBackground(Color.GRAY);\r\n    \t\r\n    \tJLabel background;\r\n    \tsetSize(2048,1189);\r\n        setLocationRelativeTo(null);\r\n        image = new ImageIcon(&quot;1.jpg&quot;);\r\n    \tbackground  = new JLabel(&quot;&quot;,image,JLabel.CENTER);\r\n    \tbackground.setBounds(0,0,1200,700);\r\n    \tgetContentPane().add(background);\r\n    \tsetContentPane(new JLabel(new ImageIcon(&quot;1.jpg &quot;)));\r\n        setTitle(&quot;Clinic Management System&quot;);\r\n\r\n        setLocation(400,500);\r\n        setVisible(true);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        getContentPane().setLayout(null);\r\n\r\n        jl1 = new JLabel(&quot;Please select one Option&quot;);\r\n        jl1.setBounds(400, 270, 200,30);\r\n        jt1 = new JTextField();\r\n        jt1.setVisible(false);\r\n\r\n        jt1.setBounds(200,200, 300,30);\r\n        getContentPane().add(jl1);\r\n        getContentPane().add(jt1);\r\n\r\n        jb1 = new JButton(&quot;Book An Appointment&quot;);\r\n        jb1.setBounds(300,300,200,200);\r\n        getContentPane().add(jb1);\r\n\r\n        jb2 = new JButton(&quot;View Pateints Record&quot;);\r\n        jb2.setBounds(540, 300, 200, 200);\r\n        getContentPane().add(jb2);\r\n\r\n        jl2 = new JLabel(&quot;Enter Pateints Name:&quot;);\r\n        jl2.setBounds(200, 170, 200, 30);\r\n        getContentPane().add(jl2);\r\n        jl2.setVisible(false);\r\n\r\n        jl3 = new JLabel(&quot;Enter Phone number&quot;);\r\n        jl3.setBounds(200, 250, 200,30);\r\n        jl3.setVisible(false);\r\n        getContentPane().add(jl3);\r\n\r\n        jt2 = new JTextField();\r\n        jt2.setBounds(200, 290, 300,30);\r\n        jt2.setVisible(false);\r\n        getContentPane().add(jt2);\r\n\r\n        jt3 = new JTextField();\r\n        jt3.setBounds(200, 360, 300,30);\r\n        jt3.setVisible(false);\r\n        getContentPane().add(jt3);\r\n\r\n        jl4 = new JLabel(&quot;Enter Pateints Address: &quot;);\r\n        jl4.setBounds(200, 330, 200, 30);\r\n        jl4.setVisible(false);\r\n        getContentPane().add(jl4);\r\n\r\n        ja1 = new JTextArea();\r\n        ja1.setBounds(600, 200, 400, 200);\r\n        ja1.setVisible(false);\r\n        getContentPane().add(ja1);\r\n\r\n        jl5 = new JLabel(&quot;Please Enter Description about your Disease&quot;);\r\n        jl5.setBounds(600, 170, 300, 30);\r\n        jl5.setVisible(false);\r\n        getContentPane().add(jl5);\r\n\r\n        jt4= new JTextField();\r\n        jt4.setVisible(false);\r\n        jt4.setBounds(600, 480, 300, 30);\r\n        getContentPane().add(jt4);\r\n\r\n        jl6 = new JLabel(&quot;Enter Date of appointment DD/MM/YYYY&quot;);\r\n        jl6.setBounds(600, 450, 300, 30);\r\n        jl6.setVisible(false);\r\n        getContentPane().add(jl6);\r\n\r\n        jb3 = new JButton(&quot;Submit&quot;);\r\n        jb3.setBounds(500, 550, 100,30);\r\n        jb3.setVisible(false);\r\n        getContentPane().add(jb3);\r\n\r\n        jb1.addActionListener(this);\r\n        jb2.addActionListener(this);\r\n        jb3.addActionListener(this);\r\n    }\r\n\r\n    \r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n        if(ae.getSource()==jb1){\r\n            jb1.setVisible(false);\r\n            jb2.setVisible(false);\r\n            jl1.setVisible(false);\r\n\r\n            jt1.setVisible(true);\r\n            jl2.setVisible(true);\r\n            jt2.setVisible(true);\r\n            jl3.setVisible(true);\r\n            jl4.setVisible(true);\r\n            jt3.setVisible(true);\r\n            ja1.setVisible(true);\r\n            jl5.setVisible(true);\r\n            jt4.setVisible(true);\r\n            jl6.setVisible(true);\r\n            jb3.setVisible(true);\r\n        }\r\n        else if(ae.getSource()==jb2){\r\n            jb1.setVisible(true);\r\n            jb2.setVisible(true);\r\n            jl1.setVisible(true);\r\n            find = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Enter Pateint&#39;s ID&quot;));\r\n            for(int i=0; i&lt;data.size(); i++){\r\n                if(find==data.get(i).id){\r\n                    JOptionPane.showMessageDialog(null, &quot;Name : &quot;\r\n                    + data.get(i).name + &quot; \\nPhone : &quot; + data.get(i).phone + &quot;\\nI.D : &quot; +\r\n                        data.get(i).id);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else if(ae.getSource()==jb3){\r\n            jb1.setVisible(true);\r\n            jb2.setVisible(true);\r\n            jl1.setVisible(true);\r\n\r\n            jb3.setVisible(false);\r\n            jt1.setVisible(false);\r\n            jl2.setVisible(false);\r\n            jt2.setVisible(false);\r\n            jl3.setVisible(false);\r\n            jl4.setVisible(false);\r\n            jt3.setVisible(false);\r\n            ja1.setVisible(false);\r\n            jl5.setVisible(false);\r\n            jt4.setVisible(false);\r\n            jl6.setVisible(false);\r\n            jb3.setVisible(false);\r\n            data.add(x, new Pateint(jt1.getText(), jt2.getText(), jt3.getText(), ja1.getText(), jt4.getText(), x+1));\r\n            x++;\r\n        }\r\n    }\r\n    public void ToFile(String[] filename , Arraylist&lt;&gt; data)\r\n    {\r\n    try {\r\n    FileWriter file = new FileWriter(filename: &quot;accounts.txt&quot;,append: true);\r\n    BufferedWriter buffWrite = new BufferedWriter(file);\r\n                buffWrite.append(&quot;Enter Patients Name: &quot;);\r\n                buffWrite.append(jt1.getText());\r\n                buffWrite.append(&quot; &quot;);\r\n                buffWrite.append(&quot;Enter Phone Number&quot;);\r\n                buffWrite.append(jt2.getText());\r\n                buffWrite.append(&quot;Enter Phone number&quot;);\r\n                buffWrite.append(jt3.getText());\r\n                buffWrite.append(&quot;Please Enter Description about your Disease&quot;);\r\n                buffWrite.append(jt4.getText());\r\n                buffWrite.append(&quot;Enter Pateints Address: &quot;);\r\n                buffWrite.append(ja1.getText());\r\n                buffWrite.close();\r\n    }\r\n    catch(IOException e)\r\n\r\n    {\r\n      System.out.println(&quot;Error writing&quot;);\r\n    }\r\n    }\r\n\r\nproblem: Exception Note: I am a newbie with this concept to please tell me what is wrong with my code.\r\n\r\nI created a management system for the clinic. Where patient books their appointment. They enter their name, phone number, address, description and date.\r\n\r\n         private ArrayList&lt;Pateint&gt; data = new ArrayList();\r\n\r\nThe main Java calls the managememt class.\r\n\r\nWhen text is entered and the application is closed. A text file should be created with all written typed text in it.\r\n\r\nA text file should be created but it is not.\r\nI have tried for hours now but can not do it properly. I can not understand what is wrong with my code.\r\n\r\nI need to see some code for this, while I am continuously trying to fix my code. \r\n","title":"How to append text to File?","body":"<p>I need help to understand the working of <code>File</code> handling in Java.</p>\n<p>This is what I am doing:</p>\n<pre><code>import java.awt.LayoutManager;\nimport java.awt.event.ActionEvent;             \nimport java.awt.event.ActionListen;\nimport java.util.ArrayList;\nimport javax.swing.JFrame;\nimport javax.swing.*;\nimport java.awt.Color;\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.io.BufferedWriter;\nimport java.io.FileWriter;\n\npublic class Management extends JFrame implements ActionListener{\n\nprivate ImageIcon image;\nprivate static final long serialVersionUID = 1L;\nprivate JTextField jt1, jt2, jt3, jt4;\nprivate JLabel jl1, jl2, jl3, jl4, jl5, jl6;\nprivate JButton jb1, jb2, jb3;\nprivate JTextArea ja1;\nprivate int id=1;\nprivate ArrayList&lt;Pateint&gt; data = new ArrayList();\nprivate int find;\nprivate int x=0;\nprivate final JLabel label = new JLabel(&quot;New label&quot;);\n\npublic Management(){\n    label.setBackground(Color.GRAY);\n    \n    JLabel background;\n    setSize(2048,1189);\n    setLocationRelativeTo(null);\n    image = new ImageIcon(&quot;1.jpg&quot;);\n    background  = new JLabel(&quot;&quot;,image,JLabel.CENTER);\n    background.setBounds(0,0,1200,700);\n    getContentPane().add(background);\n    setContentPane(new JLabel(new ImageIcon(&quot;1.jpg &quot;)));\n    setTitle(&quot;Clinic Management System&quot;);\n\n    setLocation(400,500);\n    setVisible(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    getContentPane().setLayout(null);\n\n    jl1 = new JLabel(&quot;Please select one Option&quot;);\n    jl1.setBounds(400, 270, 200,30);\n    jt1 = new JTextField();\n    jt1.setVisible(false);\n\n    jt1.setBounds(200,200, 300,30);\n    getContentPane().add(jl1);\n    getContentPane().add(jt1);\n\n    jb1 = new JButton(&quot;Book An Appointment&quot;);\n    jb1.setBounds(300,300,200,200);\n    getContentPane().add(jb1);\n\n    jb2 = new JButton(&quot;View Pateints Record&quot;);\n    jb2.setBounds(540, 300, 200, 200);\n    getContentPane().add(jb2);\n\n    jl2 = new JLabel(&quot;Enter Pateints Name:&quot;);\n    jl2.setBounds(200, 170, 200, 30);\n    getContentPane().add(jl2);\n    jl2.setVisible(false);\n\n    jl3 = new JLabel(&quot;Enter Phone number&quot;);\n    jl3.setBounds(200, 250, 200,30);\n    jl3.setVisible(false);\n    getContentPane().add(jl3);\n\n    jt2 = new JTextField();\n    jt2.setBounds(200, 290, 300,30);\n    jt2.setVisible(false);\n    getContentPane().add(jt2);\n\n    jt3 = new JTextField();\n    jt3.setBounds(200, 360, 300,30);\n    jt3.setVisible(false);\n    getContentPane().add(jt3);\n\n    jl4 = new JLabel(&quot;Enter Pateints Address: &quot;);\n    jl4.setBounds(200, 330, 200, 30);\n    jl4.setVisible(false);\n    getContentPane().add(jl4);\n\n    ja1 = new JTextArea();\n    ja1.setBounds(600, 200, 400, 200);\n    ja1.setVisible(false);\n    getContentPane().add(ja1);\n\n    jl5 = new JLabel(&quot;Please Enter Description about your Disease&quot;);\n    jl5.setBounds(600, 170, 300, 30);\n    jl5.setVisible(false);\n    getContentPane().add(jl5);\n\n    jt4= new JTextField();\n    jt4.setVisible(false);\n    jt4.setBounds(600, 480, 300, 30);\n    getContentPane().add(jt4);\n\n    jl6 = new JLabel(&quot;Enter Date of appointment DD/MM/YYYY&quot;);\n    jl6.setBounds(600, 450, 300, 30);\n    jl6.setVisible(false);\n    getContentPane().add(jl6);\n\n    jb3 = new JButton(&quot;Submit&quot;);\n    jb3.setBounds(500, 550, 100,30);\n    jb3.setVisible(false);\n    getContentPane().add(jb3);\n\n    jb1.addActionListener(this);\n    jb2.addActionListener(this);\n    jb3.addActionListener(this);\n}\n\n\n@Override\npublic void actionPerformed(ActionEvent ae) {\n    if(ae.getSource()==jb1){\n        jb1.setVisible(false);\n        jb2.setVisible(false);\n        jl1.setVisible(false);\n\n        jt1.setVisible(true);\n        jl2.setVisible(true);\n        jt2.setVisible(true);\n        jl3.setVisible(true);\n        jl4.setVisible(true);\n        jt3.setVisible(true);\n        ja1.setVisible(true);\n        jl5.setVisible(true);\n        jt4.setVisible(true);\n        jl6.setVisible(true);\n        jb3.setVisible(true);\n    }\n    else if(ae.getSource()==jb2){\n        jb1.setVisible(true);\n        jb2.setVisible(true);\n        jl1.setVisible(true);\n        find = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Enter Pateint's ID&quot;));\n        for(int i=0; i&lt;data.size(); i++){\n            if(find==data.get(i).id){\n                JOptionPane.showMessageDialog(null, &quot;Name : &quot;\n                + data.get(i).name + &quot; \\nPhone : &quot; + data.get(i).phone + &quot;\\nI.D : &quot; +\n                    data.get(i).id);\n                break;\n            }\n        }\n    }\n    else if(ae.getSource()==jb3){\n        jb1.setVisible(true);\n        jb2.setVisible(true);\n        jl1.setVisible(true);\n\n        jb3.setVisible(false);\n        jt1.setVisible(false);\n        jl2.setVisible(false);\n        jt2.setVisible(false);\n        jl3.setVisible(false);\n        jl4.setVisible(false);\n        jt3.setVisible(false);\n        ja1.setVisible(false);\n        jl5.setVisible(false);\n        jt4.setVisible(false);\n        jl6.setVisible(false);\n        jb3.setVisible(false);\n        data.add(x, new Pateint(jt1.getText(), jt2.getText(), jt3.getText(), ja1.getText(), jt4.getText(), x+1));\n        x++;\n    }\n}\npublic void ToFile(String[] filename , Arraylist&lt;&gt; data)\n{\ntry {\nFileWriter file = new FileWriter(filename: &quot;accounts.txt&quot;,append: true);\nBufferedWriter buffWrite = new BufferedWriter(file);\n            buffWrite.append(&quot;Enter Patients Name: &quot;);\n            buffWrite.append(jt1.getText());\n            buffWrite.append(&quot; &quot;);\n            buffWrite.append(&quot;Enter Phone Number&quot;);\n            buffWrite.append(jt2.getText());\n            buffWrite.append(&quot;Enter Phone number&quot;);\n            buffWrite.append(jt3.getText());\n            buffWrite.append(&quot;Please Enter Description about your Disease&quot;);\n            buffWrite.append(jt4.getText());\n            buffWrite.append(&quot;Enter Pateints Address: &quot;);\n            buffWrite.append(ja1.getText());\n            buffWrite.close();\n}\ncatch(IOException e)\n\n{\n  System.out.println(&quot;Error writing&quot;);\n}\n}\n</code></pre>\n<p>problem: Exception Note: I am a newbie with this concept to please tell me what is wrong with my code.</p>\n<p>I created a management system for the clinic. Where patient books their appointment. They enter their name, phone number, address, description and date.</p>\n<pre><code>     private ArrayList&lt;Pateint&gt; data = new ArrayList();\n</code></pre>\n<p>The main Java calls the managememt class.</p>\n<p>When text is entered and the application is closed. A text file should be created with all written typed text in it.</p>\n<p>A text file should be created but it is not.\nI have tried for hours now but can not do it properly. I can not understand what is wrong with my code.</p>\n<p>I need to see some code for this, while I am continuously trying to fix my code.</p>\n"},{"tags":["java","multithreading","concurrency","parallel-processing"],"comments":[{"owner":{"account_id":6186065,"reputation":143,"user_id":4820142,"display_name":"ecerer"},"score":1,"creation_date":1635353271,"post_id":69736913,"comment_id":123277389,"body_markdown":"Why you don&#39;t print the caught exception in agclassserver class?","body":"Why you don&#39;t print the caught exception in agclassserver class?"},{"owner":{"account_id":15626561,"reputation":65,"user_id":11295324,"display_name":"zahreddine"},"score":0,"creation_date":1635444778,"post_id":69736913,"comment_id":123307165,"body_markdown":"@ecerer , Oh my bad sorry , I was very confused so that I forgot to post .\nin addition I have solved the problem if you are interesed I could send you all the program .","body":"@ecerer , Oh my bad sorry , I was very confused so that I forgot to post . in addition I have solved the problem if you are interesed I could send you all the program ."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635392817,"creation_date":1635391119,"answer_id":69747873,"question_id":69736913,"body_markdown":"Concurrent vs Parallel.\r\n\r\nImagine you need to get a new passport and you need to prepare a presentation for work.\r\n\r\nNot parallel and not concurrent: first you go get your passport and then you prepare a presentation.\r\n\r\nNot parallel, but concurrent: you go to the embassy and wait on a chair for you turn. While you are waiting, you work on your presentation. As soon as it is your turn, you close your laptop and fill in the passport papers and later you will complete your presentation.\r\n\r\nParallel and concurrent: you go work on your presentation while you send your wife/husband to the embassy to  get your passport.\r\n\r\nThere is also a possibility to do parallel and not concurrent. But that doesn&#39;t fit with the above example. And example would calculating the sum of 2 huge integer arrays. Using SIMD multiple integer adds can be executed in parallel, but there is no concurrency since there is just a single request.","title":"Java multi-threading Concurrency vs Parallelism","body":"<p>Concurrent vs Parallel.</p>\n<p>Imagine you need to get a new passport and you need to prepare a presentation for work.</p>\n<p>Not parallel and not concurrent: first you go get your passport and then you prepare a presentation.</p>\n<p>Not parallel, but concurrent: you go to the embassy and wait on a chair for you turn. While you are waiting, you work on your presentation. As soon as it is your turn, you close your laptop and fill in the passport papers and later you will complete your presentation.</p>\n<p>Parallel and concurrent: you go work on your presentation while you send your wife/husband to the embassy to  get your passport.</p>\n<p>There is also a possibility to do parallel and not concurrent. But that doesn't fit with the above example. And example would calculating the sum of 2 huge integer arrays. Using SIMD multiple integer adds can be executed in parallel, but there is no concurrency since there is just a single request.</p>\n"}],"owner":{"account_id":15626561,"reputation":65,"user_id":11295324,"display_name":"zahreddine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69747873,"answer_count":1,"score":0,"last_activity_date":1635444669,"creation_date":1635330214,"question_id":69736913,"body_markdown":"Hi programmer all over the world \r\nIn order to understand what&#39;s the difference between **Concurrency vs Parallelism**, I was given this problem to solve but I fall off in this problem that I couldn&#39;t solve and it took me a lot of time , so I came here and I home someone could help me .\r\nI have a problemm here I have built a program that has 4 classes , 2 of them are &quot;Client&quot; (Agsrq to send generates squares numbers and AgFibo so send sequence of number of fibonacci) used to send number to the server (**agclassserver**  recieve data from Agsqr and Agfibo to order and display them in form of list ) , and I add other class to make server accepts many clients (**Multithreading**) in this case ,Agsqr and AgFibo are taking the role of client.\r\n\r\nSo here is my problem , when I execute the classes (**agclassserver** &quot;server&quot; , **Agsqr** &amp; **AgFibo** &quot;Clients&quot;) the result is giving me only the fist client lets say &quot;**Agsqr**&quot; and when I execute the **AgFibo** it doesn&#39;t executes but it gives me another execution of **Agsqr** &quot;so I have the result of two Agsqr &quot; \r\n\r\nHere is all the class I vae used in this program \r\n\r\nAgclassserver\r\n``` \r\npackage smatp2;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.concurrent.*;\r\n\r\n\r\n\r\npublic class agclassserver {\r\n\t\r\n\tpublic static void main(String[] args) throws IOException, InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tArrayList&lt;Integer&gt; array  = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;ClassesHandler&gt; classes_handler  = new ArrayList&lt;ClassesHandler&gt;();\r\n\t\tExecutorService service= Executors.newFixedThreadPool(10);\r\n\t\t\r\n        boolean var=true;\r\n        int message;\r\n        \r\n\t\t\ttry {\t\r\n                while(true) {\r\n                \tServerSocket server = new ServerSocket(9090);\r\n            \t\tSystem.out.println(&quot;I waiting for the client &quot;);\r\n            \t\tSocket socket = server.accept();// waiting for client to connect with server\r\n            \t\tClassesHandler client = new ClassesHandler(socket);\r\n            \t\tclasses_handler.add(client);\r\n            \t\tservice.execute(client);\r\n\t\t\t\t}\r\n\t\t\t}catch (Exception e) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\r\n\t\t\t\t\r\n\r\n\r\n\t}\r\n\r\n}\r\n``` \r\nAgsqr\r\n```\r\npackage smatp2;\r\n\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.Socket;\r\n\r\n\r\npublic class Agsqr  {\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException, InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\tSocket socket = new Socket (&quot;localhost&quot;, 9090);\r\n\t\tint n=0;\r\n\t\tOutputStream output = socket.getOutputStream();\r\n\t\tDataOutputStream stream = new DataOutputStream(output);\r\n\t\twhile(true) {\r\n\t\t\t\r\n\t\t\tint result = n*n;\r\n\t\t\tstream.writeInt(result);\r\n\t\t\tn++;\r\n\t\t\tThread.sleep(1000);\r\n\t\t}\r\n\t}catch(Exception e) {\r\n\t\t\r\n\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\nAgFibo\r\n```\r\npackage smatp2;\r\n\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\n\r\n\r\n\r\npublic class AgFibo extends Thread {\r\n\t\r\n\tpublic synchronized void run() {\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws UnknownHostException, IOException, InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tint number ; \r\n\t\t\t int previousNumber = 0;\r\n\t\t\t int nextNumber = 1;\r\n\t\t\t boolean variable=false ;\r\n\t\t\tSocket socket = new Socket (&quot;localhost&quot;, 9090);\r\n\t\t\tint n=0;\r\n\t\t\tOutputStream output = socket.getOutputStream();\r\n\t\t\tDataOutputStream stream = new DataOutputStream(output);\r\n\t\t\t\r\n\t\t\t\twhile(!variable){\r\n\t\t\t\t\tstream.writeInt(previousNumber);\r\n\t\t           int sum = previousNumber + nextNumber;\r\n\t\t           previousNumber = nextNumber;\r\n\t\t           nextNumber = sum;\t\r\n\t\t           Thread.sleep(1000);\r\n\t\t       }\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nClassesHandler\r\n```\r\npackage smatp2;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class ClassesHandler implements Runnable {\r\n\t\r\n\t\r\n\t\r\n\tprivate Socket socket;\r\n\tprivate int message;\r\n\tArrayList&lt;Integer&gt; array  = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\t\r\n    private DataInputStream dataInputStream;\r\n\tpublic ClassesHandler(Socket socket) throws IOException{\r\n\t\tthis.socket = socket;\r\n\t\tdataInputStream = new DataInputStream(socket.getInputStream());\r\n\t}\r\n\t\r\n\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\twhile(true) {\r\n\t\t\t\tmessage = dataInputStream.readInt();\r\n\t\t\t\tarray.add(message);// waiting for client to connect with server\r\n\t\t\t\tCollections.sort(array);\r\n\t\t\t\tSystem.out.println(message);\r\n\t\t\t\tSystem.out.println(array);\r\n\t\t\t\t//Thread.sleep(500);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\nagclassserver /* Sorry I forgot to post the classserver Class  */\r\n```\r\npackage smatp2;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.concurrent.*;\r\n\r\n\r\n\r\npublic class agclassserver {\r\n\t\r\n\tpublic static void main(String[] args) throws IOException, InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tArrayList&lt;Integer&gt; array  = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;Integer&gt; arraySQR  = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;Integer&gt; arrayFibo  = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;ClassesHandler&gt; classes_handler  = new ArrayList&lt;ClassesHandler&gt;();\r\n\t\tExecutorService service= Executors.newFixedThreadPool(10);\r\n\t\t\r\n        boolean var=true;\r\n        int message;\r\n        \r\n\t\t\ttry {\t\r\n\t\t\t\tServerSocket server = new ServerSocket(9090);\r\n                while(true) {\r\n                \t\r\n            \t\tSystem.out.println(&quot;I waiting for the client &quot;);\r\n            \t\tSocket socket = server.accept();// waiting for client to connect with server\r\n            \t\tString hostName = socket.getInetAddress().getHostName();\r\n            \t\tClassesHandler client = new ClassesHandler(socket,array,arraySQR,arrayFibo,hostName);\r\n            \t\tclasses_handler.add(client);\r\n            \t\tservice.execute(client);\r\n            \t\t\r\n\t\t\t\t}\r\n\t\t\t}catch (Exception e) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\r\n\t\t\t\t\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Java multi-threading Concurrency vs Parallelism","body":"<p>Hi programmer all over the world\nIn order to understand what's the difference between <strong>Concurrency vs Parallelism</strong>, I was given this problem to solve but I fall off in this problem that I couldn't solve and it took me a lot of time , so I came here and I home someone could help me .\nI have a problemm here I have built a program that has 4 classes , 2 of them are &quot;Client&quot; (Agsrq to send generates squares numbers and AgFibo so send sequence of number of fibonacci) used to send number to the server (<strong>agclassserver</strong>  recieve data from Agsqr and Agfibo to order and display them in form of list ) , and I add other class to make server accepts many clients (<strong>Multithreading</strong>) in this case ,Agsqr and AgFibo are taking the role of client.</p>\n<p>So here is my problem , when I execute the classes (<strong>agclassserver</strong> &quot;server&quot; , <strong>Agsqr</strong> &amp; <strong>AgFibo</strong> &quot;Clients&quot;) the result is giving me only the fist client lets say &quot;<strong>Agsqr</strong>&quot; and when I execute the <strong>AgFibo</strong> it doesn't executes but it gives me another execution of <strong>Agsqr</strong> &quot;so I have the result of two Agsqr &quot;</p>\n<p>Here is all the class I vae used in this program</p>\n<p>Agclassserver</p>\n<pre><code>package smatp2;\n\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.concurrent.*;\n\n\n\npublic class agclassserver {\n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        // TODO Auto-generated method stub\n        ArrayList&lt;Integer&gt; array  = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;ClassesHandler&gt; classes_handler  = new ArrayList&lt;ClassesHandler&gt;();\n        ExecutorService service= Executors.newFixedThreadPool(10);\n        \n        boolean var=true;\n        int message;\n        \n            try {   \n                while(true) {\n                    ServerSocket server = new ServerSocket(9090);\n                    System.out.println(&quot;I waiting for the client &quot;);\n                    Socket socket = server.accept();// waiting for client to connect with server\n                    ClassesHandler client = new ClassesHandler(socket);\n                    classes_handler.add(client);\n                    service.execute(client);\n                }\n            }catch (Exception e) {\n                \n                \n            }   \n                \n\n\n    }\n\n}\n</code></pre>\n<p>Agsqr</p>\n<pre><code>package smatp2;\n\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.Socket;\n\n\npublic class Agsqr  {\n\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        // TODO Auto-generated method stub\n        try {\n        Socket socket = new Socket (&quot;localhost&quot;, 9090);\n        int n=0;\n        OutputStream output = socket.getOutputStream();\n        DataOutputStream stream = new DataOutputStream(output);\n        while(true) {\n            \n            int result = n*n;\n            stream.writeInt(result);\n            n++;\n            Thread.sleep(1000);\n        }\n    }catch(Exception e) {\n        \n    }\n        \n    }\n    \n}\n</code></pre>\n<p>AgFibo</p>\n<pre><code>package smatp2;\n\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\n\n\npublic class AgFibo extends Thread {\n    \n    public synchronized void run() {\n\n    }\n\n    public static void main(String[] args) throws UnknownHostException, IOException, InterruptedException {\n        // TODO Auto-generated method stub\n        try {\n            int number ; \n             int previousNumber = 0;\n             int nextNumber = 1;\n             boolean variable=false ;\n            Socket socket = new Socket (&quot;localhost&quot;, 9090);\n            int n=0;\n            OutputStream output = socket.getOutputStream();\n            DataOutputStream stream = new DataOutputStream(output);\n            \n                while(!variable){\n                    stream.writeInt(previousNumber);\n                   int sum = previousNumber + nextNumber;\n                   previousNumber = nextNumber;\n                   nextNumber = sum;    \n                   Thread.sleep(1000);\n               }\n            \n        }catch(Exception e) {\n            \n        }\n    }\n\n}\n</code></pre>\n<p>ClassesHandler</p>\n<pre><code>package smatp2;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class ClassesHandler implements Runnable {\n    \n    \n    \n    private Socket socket;\n    private int message;\n    ArrayList&lt;Integer&gt; array  = new ArrayList&lt;Integer&gt;();\n    \n    \n    private DataInputStream dataInputStream;\n    public ClassesHandler(Socket socket) throws IOException{\n        this.socket = socket;\n        dataInputStream = new DataInputStream(socket.getInputStream());\n    }\n    \n\n    \n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        try {\n            while(true) {\n                message = dataInputStream.readInt();\n                array.add(message);// waiting for client to connect with server\n                Collections.sort(array);\n                System.out.println(message);\n                System.out.println(array);\n                //Thread.sleep(500);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>agclassserver /* Sorry I forgot to post the classserver Class  */</p>\n<pre><code>package smatp2;\n\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.concurrent.*;\n\n\n\npublic class agclassserver {\n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        // TODO Auto-generated method stub\n        ArrayList&lt;Integer&gt; array  = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; arraySQR  = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; arrayFibo  = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;ClassesHandler&gt; classes_handler  = new ArrayList&lt;ClassesHandler&gt;();\n        ExecutorService service= Executors.newFixedThreadPool(10);\n        \n        boolean var=true;\n        int message;\n        \n            try {   \n                ServerSocket server = new ServerSocket(9090);\n                while(true) {\n                    \n                    System.out.println(&quot;I waiting for the client &quot;);\n                    Socket socket = server.accept();// waiting for client to connect with server\n                    String hostName = socket.getInetAddress().getHostName();\n                    ClassesHandler client = new ClassesHandler(socket,array,arraySQR,arrayFibo,hostName);\n                    classes_handler.add(client);\n                    service.execute(client);\n                    \n                }\n            }catch (Exception e) {\n                \n                \n            }   \n                \n\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":14377248,"reputation":143,"user_id":10385429,"display_name":"Ajeet Yadawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635160374,"creation_date":1635157938,"answer_id":69706513,"question_id":69706459,"body_markdown":"Please use anyone from below xpath:\r\n\r\n    //span[text()=&#39;Zaloguj&#39;]\r\n\r\nor\r\n\r\n    //div[@class =&#39;btn btn-login&#39;]/span[text()=&#39;Zaloguj&#39;]","title":"How to define xpath of button in this case (selenium)","body":"<p>Please use anyone from below xpath:</p>\n<pre><code>//span[text()='Zaloguj']\n</code></pre>\n<p>or</p>\n<pre><code>//div[@class ='btn btn-login']/span[text()='Zaloguj']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20967255,"reputation":526,"user_id":15405179,"display_name":"Krupal Vaghasiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635159537,"creation_date":1635159537,"answer_id":69706848,"question_id":69706459,"body_markdown":"Please use anyone from below xpath: .\r\n```\r\n//span[text()=&#39;Zaloguj&#39;]\r\n```\r\nAnd if you find many more then use \r\n```\r\n(//span[text()=&#39;Zaloguj&#39;])[1]\r\n```\r\nYou can give an index according to your best matches","title":"How to define xpath of button in this case (selenium)","body":"<p>Please use anyone from below xpath: .</p>\n<pre><code>//span[text()='Zaloguj']\n</code></pre>\n<p>And if you find many more then use</p>\n<pre><code>(//span[text()='Zaloguj'])[1]\n</code></pre>\n<p>You can give an index according to your best matches</p>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635160646,"creation_date":1635160646,"answer_id":69707100,"question_id":69706459,"body_markdown":"If you do not want to be dependent on text, cause text may change, you can use the below XPath :\r\n\r\n    //i[@class=&#39;icon-login&#39;]//following-sibling::span\r\n\r\n\r\n**PS :** Please check in the `dev tools` (Google chrome) if we have **unique** entry in `HTML DOM` or not.\r\n\r\n**Steps to check:**\r\n\r\n`Press F12 in Chrome` -&gt; go to `element` section -&gt; do a `CTRL  + F` -&gt; then paste the `xpath` and see, if your desired `element` is getting **highlighted** with `1/1` matching node.","title":"How to define xpath of button in this case (selenium)","body":"<p>If you do not want to be dependent on text, cause text may change, you can use the below XPath :</p>\n<pre><code>//i[@class='icon-login']//following-sibling::span\n</code></pre>\n<p><strong>PS :</strong> Please check in the <code>dev tools</code> (Google chrome) if we have <strong>unique</strong> entry in <code>HTML DOM</code> or not.</p>\n<p><strong>Steps to check:</strong></p>\n<p><code>Press F12 in Chrome</code> -&gt; go to <code>element</code> section -&gt; do a <code>CTRL  + F</code> -&gt; then paste the <code>xpath</code> and see, if your desired <code>element</code> is getting <strong>highlighted</strong> with <code>1/1</code> matching node.</p>\n"},{"tags":[],"owner":{"account_id":15279664,"reputation":73,"user_id":11024443,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635444614,"creation_date":1635444614,"answer_id":69759000,"question_id":69706459,"body_markdown":"Though you are able to write xpath for the span tag using text, if you are not able to perform a click due to it&#39;s a Pseudo-element, use following code to perform click ..\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;document.getElementsByClassName(&#39;icon-login&#39;)[0].click();&quot;);","title":"How to define xpath of button in this case (selenium)","body":"<p>Though you are able to write xpath for the span tag using text, if you are not able to perform a click due to it's a Pseudo-element, use following code to perform click ..</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\n    js.executeScript(&quot;document.getElementsByClassName('icon-login')[0].click();&quot;);\n</code></pre>\n"}],"owner":{"account_id":23136524,"reputation":1,"user_id":17240685,"display_name":"PawelG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635444614,"creation_date":1635157724,"question_id":69706459,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nHi maybe someone helps me, in this case, I need to define XPath of button on this page by selenium and I have a problem ? \r\n\r\n    span Zaloguj\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zrgQf.png","title":"How to define xpath of button in this case (selenium)","body":"<p><a href=\"https://i.stack.imgur.com/zrgQf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrgQf.png\" alt=\"enter image description here\" /></a></p>\n<p>Hi maybe someone helps me, in this case, I need to define XPath of button on this page by selenium and I have a problem ?</p>\n<pre><code>span Zaloguj\n</code></pre>\n"},{"tags":["java","arrays","eclipse"],"comments":[{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1635445276,"post_id":69758940,"comment_id":123307338,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":20945329,"reputation":19,"user_id":15388329,"display_name":"ruben zwaan"},"score":0,"creation_date":1635961968,"post_id":69758940,"comment_id":123434115,"body_markdown":"Thanks for the help, string.split is a very powerful function!","body":"Thanks for the help, string.split is a very powerful function!"}],"owner":{"account_id":20945329,"reputation":19,"user_id":15388329,"display_name":"ruben zwaan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635444257,"creation_date":1635444257,"question_id":69758940,"body_markdown":"I&#39;m working on a project to reverse arrays and print the largest of all elements. For simplicity I have reduced this problem just to printing two arrays the same way they have been written down. The maximum length of an array is 10. The arrays are given by the user, the integers are seperated by spaces and the two arrays are seperated with an enter. \r\n\r\n[![Example][1]][1]\r\n\r\nMY CODE\r\n\r\n\r\n    package testing;\r\n    \r\n    import java.io.PrintStream;\r\n    import java.util.Locale;\r\n    import java.util.Scanner;\r\n    \r\n    public class Testing {\r\n    \t\r\n    \tPrintStream out;\r\n    \t\r\n    \tTesting() {\r\n    \t\tout = new PrintStream(System.out);\r\n    \t}\r\n    \r\n    \tint[] fillArray(Scanner in) {\r\n    \t\tint[] k = new int[10];\r\n    \t\tint position = 0;\r\n    \t\tin.useDelimiter(&quot; &quot;);\r\n    \t\twhile(in.hasNextInt()) {\r\n    \t\t\tk[position] = in.nextInt();\r\n    \t\t\tposition++;\r\n    \t\t}\r\n    \t\treturn k;\r\n    \t}\r\n    \t\r\n    \tvoid printArray(int[] array) {\r\n    \t\tfor(int i = 0; i&lt;10; i++) {\r\n    \t\t\tSystem.out.printf(&quot;%d &quot;, array[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \t\r\n    \tvoid start() {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint[] a = new int[10];\r\n    \t\tint[] b = new int[10];\r\n    \t\ta = fillArray(in);\r\n    \t\tb = fillArray(in);\r\n    \t\tprintArray(a);\r\n    \t\tprintArray(b);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocale.setDefault(Locale.US);\r\n    \t\tnew Testing().start();\r\n    \t}\r\n    }\r\n\r\nWhen I run this code I get this, why won&#39;t the second array just print what I want?\r\n(This is probably a scanner thing which I&#39;m not able to solve).\r\n[![Undesired result][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RqgWJ.png\r\n  [2]: https://i.stack.imgur.com/kMaus.png\r\n","title":"Scanner doesn&#39;t read integers on next line","body":"<p>I'm working on a project to reverse arrays and print the largest of all elements. For simplicity I have reduced this problem just to printing two arrays the same way they have been written down. The maximum length of an array is 10. The arrays are given by the user, the integers are seperated by spaces and the two arrays are seperated with an enter.</p>\n<p><a href=\"https://i.stack.imgur.com/RqgWJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RqgWJ.png\" alt=\"Example\" /></a></p>\n<p>MY CODE</p>\n<pre><code>package testing;\n\nimport java.io.PrintStream;\nimport java.util.Locale;\nimport java.util.Scanner;\n\npublic class Testing {\n    \n    PrintStream out;\n    \n    Testing() {\n        out = new PrintStream(System.out);\n    }\n\n    int[] fillArray(Scanner in) {\n        int[] k = new int[10];\n        int position = 0;\n        in.useDelimiter(&quot; &quot;);\n        while(in.hasNextInt()) {\n            k[position] = in.nextInt();\n            position++;\n        }\n        return k;\n    }\n    \n    void printArray(int[] array) {\n        for(int i = 0; i&lt;10; i++) {\n            System.out.printf(&quot;%d &quot;, array[i]);\n        }\n        System.out.println();\n    }\n    \n    void start() {\n        Scanner in = new Scanner(System.in);\n        int[] a = new int[10];\n        int[] b = new int[10];\n        a = fillArray(in);\n        b = fillArray(in);\n        printArray(a);\n        printArray(b);\n    }\n\n    public static void main(String[] args) {\n        Locale.setDefault(Locale.US);\n        new Testing().start();\n    }\n}\n</code></pre>\n<p>When I run this code I get this, why won't the second array just print what I want?\n(This is probably a scanner thing which I'm not able to solve).\n<a href=\"https://i.stack.imgur.com/kMaus.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMaus.png\" alt=\"Undesired result\" /></a></p>\n"},{"tags":["python","java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1635401263,"post_id":69747835,"comment_id":123288802,"body_markdown":"which element you wanna click, please take screen shot and mark it in the screen shot","body":"which element you wanna click, please take screen shot and mark it in the screen shot"}],"answers":[{"tags":[],"owner":{"account_id":23166954,"reputation":1,"user_id":17266736,"display_name":"user17266736"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635397385,"creation_date":1635391348,"answer_id":69747897,"question_id":69747835,"body_markdown":"Try using this \r\n```\r\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id=&#39;app&#39;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;)));\r\n```\r\n","title":"Why does Selenium find element by xpath work in Python and error in Java?","body":"<p>Try using this</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//*[@id='app']/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15279664,"reputation":73,"user_id":11024443,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635444021,"creation_date":1635444021,"answer_id":69758899,"question_id":69747835,"body_markdown":"try using better xpath :  //div[@class=&#39;active table-container&#39;]//tbody\r\n\r\n     public static void main(String[] args) throws InterruptedException {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeDriver driver = new ChromeDriver();\r\n\r\n        driver.get(&quot;https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard&quot;);\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n        //        System.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;)));\r\n        System.out.println(driver.findElement(By.xpath(&quot;//div[@class=&#39;active table-container&#39;]//tbody&quot;)));\r\n\r\n    }\r\n\r\n\r\nOutput : [[ChromeDriver: chrome on WINDOWS (c4351687a4e43f9e1bf73cc6dccdb73d)] -&gt; xpath: //div[@class=&#39;active table-container&#39;]//tbody]\r\n\r\n\r\n","title":"Why does Selenium find element by xpath work in Python and error in Java?","body":"<p>try using better xpath :  //div[@class='active table-container']//tbody</p>\n<pre><code> public static void main(String[] args) throws InterruptedException {\n    WebDriverManager.chromedriver().setup();\n    ChromeDriver driver = new ChromeDriver();\n\n    driver.get(&quot;https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard&quot;);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    //        System.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;)));\n    System.out.println(driver.findElement(By.xpath(&quot;//div[@class='active table-container']//tbody&quot;)));\n\n}\n</code></pre>\n<p>Output : [[ChromeDriver: chrome on WINDOWS (c4351687a4e43f9e1bf73cc6dccdb73d)] -&gt; xpath: //div[@class='active table-container']//tbody]</p>\n"}],"owner":{"account_id":18320560,"reputation":160,"user_id":13341425,"display_name":"JackElia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69758899,"answer_count":2,"score":0,"last_activity_date":1635444021,"creation_date":1635390639,"question_id":69747835,"body_markdown":"I made a project with Selenium in python that works and successfully finds an element from the website https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard.\r\n\r\npython code\r\n```\r\nfrom selenium import webdriver\r\nfrom webdriver_manager.chrome import ChromeDriverManager\r\nfrom time import sleep\r\n\r\ndriver = webdriver.Chrome(ChromeDriverManager().install())\r\ndriver.get(&quot;https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard&quot;)\r\n\r\nsleep(5)\r\n\r\nprint(driver.find_element_by_xpath(&quot;&quot;&quot;//*[@id=&quot;app&quot;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;&quot;&quot;))\r\n```\r\n\r\nWhen trying to recreate the same thing in java it gives the error: &quot;Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element&quot;\r\n\r\njava code\r\n```\r\npackage com.traptricker;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\r\n        ChromeDriver driver = new ChromeDriver();\r\n\r\n        driver.get(&quot;https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard&quot;);\r\n\r\n        Thread.sleep(5000);\r\n\r\n        System.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;)));\r\n\r\n    }\r\n}\r\n\r\n```","title":"Why does Selenium find element by xpath work in Python and error in Java?","body":"<p>I made a project with Selenium in python that works and successfully finds an element from the website <a href=\"https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard\" rel=\"nofollow noreferrer\">https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard</a>.</p>\n<p>python code</p>\n<pre><code>from selenium import webdriver\nfrom webdriver_manager.chrome import ChromeDriverManager\nfrom time import sleep\n\ndriver = webdriver.Chrome(ChromeDriverManager().install())\ndriver.get(&quot;https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard&quot;)\n\nsleep(5)\n\nprint(driver.find_element_by_xpath(&quot;&quot;&quot;//*[@id=&quot;app&quot;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;&quot;&quot;))\n</code></pre>\n<p>When trying to recreate the same thing in java it gives the error: &quot;Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element&quot;</p>\n<p>java code</p>\n<pre><code>package com.traptricker;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Main {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\n        ChromeDriver driver = new ChromeDriver();\n\n        driver.get(&quot;https://ethermine.org/miners/0fB3583c11320BB9c7F512e06ce9c3A9218568C9/dashboard&quot;);\n\n        Thread.sleep(5000);\n\n        System.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[4]/main/div/div[2]/div/div[2]/div[3]/div/div[2]/div/div/table/tbody&quot;)));\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","design-patterns","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1464685664,"creation_date":1464685664,"answer_id":37541389,"question_id":37541168,"body_markdown":"This is basically how Spring works:\r\n\r\nThe service implementation should be a Spring bean (it either has to have a `@Component` or `@Service` annotation, or should be defined in a Spring XML configuration file), so that Spring will find it and register it in the Spring application context.\r\n\r\nThen you use dependency injection, through the `@Autowired` annotation, to inject the implementation of the service into the controller. This means that Spring will look at your controller, it will find the `@Autowired` annotation on the `service` member variable and initialize it with a bean that it finds in the application context, which will be the instance of the service implementation class that it has registered earlier. So, after Spring is done, `service` will refer to the instance of `ServiceImpl`.\r\n\r\nSee the Spring Framework reference documentation for information on how dependency injection works with Spring: [The IoC container](http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans)","title":"Code architecture of service interface and service impl classes spring","body":"<p>This is basically how Spring works:</p>\n\n<p>The service implementation should be a Spring bean (it either has to have a <code>@Component</code> or <code>@Service</code> annotation, or should be defined in a Spring XML configuration file), so that Spring will find it and register it in the Spring application context.</p>\n\n<p>Then you use dependency injection, through the <code>@Autowired</code> annotation, to inject the implementation of the service into the controller. This means that Spring will look at your controller, it will find the <code>@Autowired</code> annotation on the <code>service</code> member variable and initialize it with a bean that it finds in the application context, which will be the instance of the service implementation class that it has registered earlier. So, after Spring is done, <code>service</code> will refer to the instance of <code>ServiceImpl</code>.</p>\n\n<p>See the Spring Framework reference documentation for information on how dependency injection works with Spring: <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans\" rel=\"noreferrer\">The IoC container</a></p>\n"},{"tags":[],"owner":{"account_id":7495163,"reputation":517,"user_id":5695673,"accept_rate":75,"display_name":"gWombat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464686253,"creation_date":1464686253,"answer_id":37541619,"question_id":37541168,"body_markdown":"When you use the annotation _@Autowired_, Spring will automatically search in its application context a candidate to be injected in the controller. A valid candidate should be a concrete class marked as a Spring bean, using annotation _@Service_ for example.","title":"Code architecture of service interface and service impl classes spring","body":"<p>When you use the annotation <em>@Autowired</em>, Spring will automatically search in its application context a candidate to be injected in the controller. A valid candidate should be a concrete class marked as a Spring bean, using annotation <em>@Service</em> for example.</p>\n"},{"tags":[],"owner":{"account_id":4058672,"reputation":886,"user_id":3335776,"accept_rate":42,"display_name":"LNT"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1542274547,"creation_date":1514036252,"answer_id":47952965,"question_id":37541168,"body_markdown":"Basic idea behind having this kind of architecture is little different than just spring convention.\r\n\r\nLets say tomorrow you decide, you dont want to have single application for both projects, and go into one deployment for webapp and another for service\r\nExample\r\nUserService\r\nWebApp\r\n\r\nso for WebApp to connect to UserService it will have to make http requests to get any kind of data. then you will have to change all your WebApp code to make it compatible to new changes. For example instead directly calling method of Service you will call httpClient. To avoid this rework what you can do is, Using interface Service you implement your own ServiceImpl and make all http request in there, rest remains intact. \r\n\r\nSimilar stuff will be done in UserService, it will have its own ServiceImpl as before but will be called in Controller as a singleton object. \r\n\r\nYour answer : \r\nYou can refer to ServiceImpl directly, it will serve the purpose, difference is only when ServiceImpl is not part of current module or any dependency, but final bundled project will have its implementation through some sibling module probably\r\n\r\n\r\n\r\n","title":"Code architecture of service interface and service impl classes spring","body":"<p>Basic idea behind having this kind of architecture is little different than just spring convention.</p>\n\n<p>Lets say tomorrow you decide, you dont want to have single application for both projects, and go into one deployment for webapp and another for service\nExample\nUserService\nWebApp</p>\n\n<p>so for WebApp to connect to UserService it will have to make http requests to get any kind of data. then you will have to change all your WebApp code to make it compatible to new changes. For example instead directly calling method of Service you will call httpClient. To avoid this rework what you can do is, Using interface Service you implement your own ServiceImpl and make all http request in there, rest remains intact. </p>\n\n<p>Similar stuff will be done in UserService, it will have its own ServiceImpl as before but will be called in Controller as a singleton object. </p>\n\n<p>Your answer : \nYou can refer to ServiceImpl directly, it will serve the purpose, difference is only when ServiceImpl is not part of current module or any dependency, but final bundled project will have its implementation through some sibling module probably</p>\n"},{"tags":[],"owner":{"account_id":9421037,"reputation":530,"user_id":9851598,"display_name":"surendrapanday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548196671,"creation_date":1544813999,"answer_id":53785473,"question_id":37541168,"body_markdown":"@Controller - Controller is an entry point where you consume request coming from User Interface, and define a bunch of services, and dump a requestmapping URI path which tells what request is coming in to backend, what to return. Then, you create bunch of services where you write bunch of interfaces, and then you can go on, and create bunch of ServiceImplementation files, and then DAO.\r\nNote on Autowired :it automatically brings instance that you specify in\r\n@Service - Particular class is to be treated as service, used for writing DAO transactions.\r\n@Autowired brings an &#39;instance&#39; you need from somewhere, usually we try to find &#39;services&#39; that you want from Autowired annotation, then you can add @qualifier to avoid confusion of what specific instance to bring out of similar beans.\r\n\r\n\r\n","title":"Code architecture of service interface and service impl classes spring","body":"<p>@Controller - Controller is an entry point where you consume request coming from User Interface, and define a bunch of services, and dump a requestmapping URI path which tells what request is coming in to backend, what to return. Then, you create bunch of services where you write bunch of interfaces, and then you can go on, and create bunch of ServiceImplementation files, and then DAO.\nNote on Autowired :it automatically brings instance that you specify in\n@Service - Particular class is to be treated as service, used for writing DAO transactions.\n@Autowired brings an 'instance' you need from somewhere, usually we try to find 'services' that you want from Autowired annotation, then you can add @qualifier to avoid confusion of what specific instance to bring out of similar beans.</p>\n"},{"tags":[],"owner":{"account_id":11398719,"reputation":111,"user_id":8356245,"accept_rate":0,"display_name":"akhil singhal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635443967,"creation_date":1635443967,"answer_id":69758885,"question_id":37541168,"body_markdown":"This is not specific to spring but it is a general practice in the Object Oriented Programming. Whenever we are consuming the unknown other object (in your case Service), we want to refer it via the contract i.e Interface.\r\n\r\nLet&#39;s take a real life example.If you want to use the Washing Machine, You would like to use it via its Interface because it will hide the complexity involved inside and provide you the implementation (Abstraction).\r\n\r\nIn the Spring way, let&#39;s say if we use a Interface and ServiceImpl classes and in the Controller you call like :\r\n\r\n```\r\n@Autowire\r\nprivate Service service\r\n```\r\nYou are saying:\r\n```\r\nService service = new ServiceImpl();\r\n```\r\nThink for a while, you might have many implementations like ServiceImpl1, ServiceImpl2 ... etc based on versioning and uses.(This is same like you might have many brand of Washing Machine like IFB, L.G, etc) so if you want to use a particular implementation like:\r\n```\r\nService service = new ServiceImpl2();\r\n``` \r\nSame thing in spring\r\n\r\n```\r\n@AutoWired\r\n@Qualifier(&quot;ServiceImpl2&quot;)\r\nService service;\r\n```\r\n\r\nIn this way you can achieve both the **Abstraction** and **Polymorphism** ","title":"Code architecture of service interface and service impl classes spring","body":"<p>This is not specific to spring but it is a general practice in the Object Oriented Programming. Whenever we are consuming the unknown other object (in your case Service), we want to refer it via the contract i.e Interface.</p>\n<p>Let's take a real life example.If you want to use the Washing Machine, You would like to use it via its Interface because it will hide the complexity involved inside and provide you the implementation (Abstraction).</p>\n<p>In the Spring way, let's say if we use a Interface and ServiceImpl classes and in the Controller you call like :</p>\n<pre><code>@Autowire\nprivate Service service\n</code></pre>\n<p>You are saying:</p>\n<pre><code>Service service = new ServiceImpl();\n</code></pre>\n<p>Think for a while, you might have many implementations like ServiceImpl1, ServiceImpl2 ... etc based on versioning and uses.(This is same like you might have many brand of Washing Machine like IFB, L.G, etc) so if you want to use a particular implementation like:</p>\n<pre><code>Service service = new ServiceImpl2();\n</code></pre>\n<p>Same thing in spring</p>\n<pre><code>@AutoWired\n@Qualifier(&quot;ServiceImpl2&quot;)\nService service;\n</code></pre>\n<p>In this way you can achieve both the <strong>Abstraction</strong> and <strong>Polymorphism</strong></p>\n"}],"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55626,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":37541389,"answer_count":5,"score":30,"last_activity_date":1635443967,"creation_date":1464685056,"question_id":37541168,"body_markdown":"I found out that in an MVC pattern, there are mainly 4 classes; the controller, the service, the service impl and repo. \r\n\r\nService is an interface and service impl implements service class and contains all the logical codes. The structure would be something like :-\r\n\r\n`Service` interface \r\n\r\n    Service{\r\n\r\n    public void someMethod();\r\n\r\n    }\r\n\r\n`ServiceImpl` class\r\n   \r\n\r\n     ServiceImpl implements Service{\r\n      public void someMethod(){\r\n       //do something\r\n\r\n       }    \r\n     }\r\n\r\n\r\nBut when we want to access the service impl codes from controller, we call the method of service class as :-\r\n\r\n    @Autowired \r\n    Service service;\r\n    \r\n    Object obj =  service.someMethod();\r\n\r\nHow does the controller execute code of `ServiceImpl` class\r\n","title":"Code architecture of service interface and service impl classes spring","body":"<p>I found out that in an MVC pattern, there are mainly 4 classes; the controller, the service, the service impl and repo. </p>\n\n<p>Service is an interface and service impl implements service class and contains all the logical codes. The structure would be something like :-</p>\n\n<p><code>Service</code> interface </p>\n\n<pre><code>Service{\n\npublic void someMethod();\n\n}\n</code></pre>\n\n<p><code>ServiceImpl</code> class</p>\n\n<pre><code> ServiceImpl implements Service{\n  public void someMethod(){\n   //do something\n\n   }    \n }\n</code></pre>\n\n<p>But when we want to access the service impl codes from controller, we call the method of service class as :-</p>\n\n<pre><code>@Autowired \nService service;\n\nObject obj =  service.someMethod();\n</code></pre>\n\n<p>How does the controller execute code of <code>ServiceImpl</code> class</p>\n"},{"tags":["java","database","rest","jersey","uuid"],"comments":[{"owner":{"account_id":8900126,"reputation":1612,"user_id":6643833,"display_name":"Tobias Otto"},"score":0,"creation_date":1529680939,"post_id":50991034,"comment_id":88976833,"body_markdown":"Is the parameter _username_ or _userid_? And is _username_ a String or a UUID? Because it does not make a lot of sense to call _toString()_ on a UUID and then generate a new UUID from that.","body":"Is the parameter <i>username</i> or <i>userid</i>? And is <i>username</i> a String or a UUID? Because it does not make a lot of sense to call <i>toString()</i> on a UUID and then generate a new UUID from that."},{"owner":{"account_id":13794835,"reputation":83,"user_id":9956291,"display_name":"EdC"},"score":0,"creation_date":1529681289,"post_id":50991034,"comment_id":88977003,"body_markdown":"It is user_id in the DB, I changed the paramateres from the public Response to match user_id but still I get the error....","body":"It is user_id in the DB, I changed the paramateres from the public Response to match user_id but still I get the error...."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1529681532,"post_id":50991034,"comment_id":88977143,"body_markdown":"Surely you can replace the mountain of code you&#39;ve presented to a [mcve] demonstrating the problem.  The exercise of doing so will be useful to you, and the result will be helpful not only to those of us who may want to answer the question, but also to everyone who later reads it.","body":"Surely you can replace the mountain of code you&#39;ve presented to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem.  The exercise of doing so will be useful to you, and the result will be helpful not only to those of us who may want to answer the question, but also to everyone who later reads it."},{"owner":{"account_id":13794835,"reputation":83,"user_id":9956291,"display_name":"EdC"},"score":0,"creation_date":1529681805,"post_id":50991034,"comment_id":88977273,"body_markdown":"Thank you I am sorry for this... BTW I fixed it it was just the version of posgresql in the pom...  sorry again for the mountain of code","body":"Thank you I am sorry for this... BTW I fixed it it was just the version of posgresql in the pom...  sorry again for the mountain of code"}],"answers":[{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635442686,"creation_date":1635442686,"answer_id":69758659,"question_id":50991034,"body_markdown":"I&#39;m posting the answer which was edited into the original question:\r\n\r\n&gt; **Solution** After checking the stacktrace I notice the postgresql version was an old one... so I updated it in the pom and then it worked.","title":"PSQLException: Can&#39;t infer the SQL type ... Use setObject() (I am using it!)","body":"<p>I'm posting the answer which was edited into the original question:</p>\n<blockquote>\n<p><strong>Solution</strong> After checking the stacktrace I notice the postgresql version was an old one... so I updated it in the pom and then it worked.</p>\n</blockquote>\n"}],"owner":{"account_id":13794835,"reputation":83,"user_id":9956291,"display_name":"EdC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4943,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1635442686,"creation_date":1529680631,"question_id":50991034,"body_markdown":"Hi maybe I can get some help here once again! I am testing a server to connect to a DB and so far it works and I can insert UUID Data. But when I try to migrate to another project, the same function doesn&#39;t work as it should. It doesn&#39;t save the data in the DB...I have checked everything but there must be something I haven&#39;t notice that&#39;s bugging... any help or direction will be greatly appreciate. \r\n\r\n    package ...\r\n    \r\n    \r\n    imports ...\r\n    \r\n    @Path(&quot;/UserPoints&quot;)\r\n    public class getNewPoints {\r\n    \r\n        @Path(&quot;/getNewPoints&quot;)\r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n    \r\n        public Response getUserPoints(@QueryParam(&quot;user_id&quot;) UUID username,\r\n                                       @QueryParam(&quot;point_id&quot;) int pointId,\r\n                                       @QueryParam(&quot;earned_points&quot;) int points\r\n        ) {\r\n            try {\r\n                if (username == null)\r\n                    throw new Exception(&quot;Invalid data&quot;);\r\n                else {\r\n                    Class.forName(&quot;org.postgresql.Driver&quot;);\r\n                    Connection connection  = DriverManager.getConnection(DBURL,DBUSER, DBPASS);\r\n                    PreparedStatement statement = connection.prepareStatement(SQLQuery.getQuery(&quot;new_earned_points&quot;));\r\n                    statement.setObject(1, UUID.fromString(username.toString()));  //THIS WORKS IN THE ORIGINAL PROJECT\r\n                    statement.setInt(2, pointId);\r\n                    statement.setInt(3, points);\r\n                    statement.executeUpdate();\r\n                    statement.close();\r\n                    System.out.println(&quot;points.. on get New Points... &quot; + points);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(e.getMessage());\r\n            }\r\n            return Response.status(Response.Status.OK).entity(&quot;new points added to user &quot; + pointId).build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n**Solution**  After checking the stacktrace I notice the postgresql version was an old one... so I updated it in the pom and then it worked. ","title":"PSQLException: Can&#39;t infer the SQL type ... Use setObject() (I am using it!)","body":"<p>Hi maybe I can get some help here once again! I am testing a server to connect to a DB and so far it works and I can insert UUID Data. But when I try to migrate to another project, the same function doesn't work as it should. It doesn't save the data in the DB...I have checked everything but there must be something I haven't notice that's bugging... any help or direction will be greatly appreciate. </p>\n\n<pre><code>package ...\n\n\nimports ...\n\n@Path(\"/UserPoints\")\npublic class getNewPoints {\n\n    @Path(\"/getNewPoints\")\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n\n    public Response getUserPoints(@QueryParam(\"user_id\") UUID username,\n                                   @QueryParam(\"point_id\") int pointId,\n                                   @QueryParam(\"earned_points\") int points\n    ) {\n        try {\n            if (username == null)\n                throw new Exception(\"Invalid data\");\n            else {\n                Class.forName(\"org.postgresql.Driver\");\n                Connection connection  = DriverManager.getConnection(DBURL,DBUSER, DBPASS);\n                PreparedStatement statement = connection.prepareStatement(SQLQuery.getQuery(\"new_earned_points\"));\n                statement.setObject(1, UUID.fromString(username.toString()));  //THIS WORKS IN THE ORIGINAL PROJECT\n                statement.setInt(2, pointId);\n                statement.setInt(3, points);\n                statement.executeUpdate();\n                statement.close();\n                System.out.println(\"points.. on get New Points... \" + points);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n        }\n        return Response.status(Response.Status.OK).entity(\"new points added to user \" + pointId).build();\n    }\n\n}\n</code></pre>\n\n<p><strong>Solution</strong>  After checking the stacktrace I notice the postgresql version was an old one... so I updated it in the pom and then it worked. </p>\n"},{"tags":["java","arrays","amazon-s3","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":23135003,"reputation":121,"user_id":17239360,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635442397,"creation_date":1635435393,"answer_id":69757026,"question_id":69752680,"body_markdown":"You can try with this: \r\n\r\n        public void downloadFile(String fileName) {\r\n            S3Object s3Object = s3Client.getObject(bucketName, fileName);\r\n            S3ObjectInputStream inputStream = s3Object.getObjectContent();\r\n            try {\r\n                byte[] content = IOUtils.toByteArray(inputStream);\r\n                ByteArrayInputStream bis = new ByteArrayInputStream(content);\r\n                BufferedImage bImage2 = ImageIO.read(bis);\r\n                ImageIO.write(bImage2, &quot;jpg&quot;, new File(&quot;path/to/output.jpg&quot;));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\nThe AWSconfig is like this:\r\n  \r\n        @Configuration\r\n        public class AmazonConfig {\r\n\r\n            private final String ACCESS_KEY = &quot;*****KEY*****&quot;;\r\n            private final String SECRET_KEY = &quot;*****KEY*****&quot;;\r\n\r\n            @Bean\r\n            public AmazonS3 s3() {\r\n            AWSCredentials awsCredentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\r\n            return AmazonS3ClientBuilder\r\n                    .standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\r\n                    .withRegion(&quot;ap-south-1&quot;)\r\n                    .build();\r\n\r\n            }\r\n        }\r\n\r\nyou can also get URL of that file using `s3Client.getUrl(bucketName, fileName).toString();` when you are saving the image file.\r\n\r\ndependency I used:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.931&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Returning an Image from Byte Array in Java AWS lambda API Response","body":"<p>You can try with this:</p>\n<pre><code>    public void downloadFile(String fileName) {\n        S3Object s3Object = s3Client.getObject(bucketName, fileName);\n        S3ObjectInputStream inputStream = s3Object.getObjectContent();\n        try {\n            byte[] content = IOUtils.toByteArray(inputStream);\n            ByteArrayInputStream bis = new ByteArrayInputStream(content);\n            BufferedImage bImage2 = ImageIO.read(bis);\n            ImageIO.write(bImage2, &quot;jpg&quot;, new File(&quot;path/to/output.jpg&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The AWSconfig is like this:</p>\n<pre><code>    @Configuration\n    public class AmazonConfig {\n\n        private final String ACCESS_KEY = &quot;*****KEY*****&quot;;\n        private final String SECRET_KEY = &quot;*****KEY*****&quot;;\n\n        @Bean\n        public AmazonS3 s3() {\n        AWSCredentials awsCredentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\n        return AmazonS3ClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\n                .withRegion(&quot;ap-south-1&quot;)\n                .build();\n\n        }\n    }\n</code></pre>\n<p>you can also get URL of that file using <code>s3Client.getUrl(bucketName, fileName).toString();</code> when you are saving the image file.</p>\n<p>dependency I used:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.11.931&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635442397,"creation_date":1635417978,"question_id":69752680,"body_markdown":"I have a Image file 001.jpg in my Aws S3 bukcet.\r\nI am trying to download that file using Java.Below is a piece of code which is for downloading image file from s3 bucket.\r\n\r\n    if (StringUtils.isNotEmpty(s3Key)) {\r\n            AmazonS3Connector s3 = AmazonS3Connector.getInstance();\r\n            byte[] data = null;\r\n            try {\r\n                final S3Object s3Object = s3.getClient().getObject(S3_BUCKET_NAME, s3Key);\r\n                final S3ObjectInputStream stream = s3Object.getObjectContent();\r\n                data = IOUtils.toByteArray(stream);\r\n                s3Object.close();\r\n                String fileName = s3Key.split(&quot;/&quot;)[1];\r\n                Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\r\n                MimetypesFileTypeMap mimetypesFileTypeMap = new MimetypesFileTypeMap();\r\n                responseHeaders.put(&quot;Content-type&quot;, mimetypesFileTypeMap.getContentType(s3Key));\r\n                responseHeaders.put(&quot;Content-Length&quot;, String.valueOf(data.length));\r\n                responseHeaders.put(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n    \r\n                return APIResponse.builder()\r\n                        .setStatusCode(200)\r\n                        .setObjectBody(data)\r\n                        .setHeaders(responseHeaders)\r\n                        .build();\r\n            } catch (AmazonS3Exception s3Exception) {\r\n                throw new IllegalArgumentException(&quot;File does not exists&quot;);\r\n            } catch (IOException e) {\r\n                new OutwinErrorQueue().exception(e).log();\r\n            }\r\n        }\r\n\r\nAfter running this, Image file is getting downloaded but while opening below error is coming.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A6B2C.png\r\n\r\nPlease help me out with this issue.","title":"Returning an Image from Byte Array in Java AWS lambda API Response","body":"<p>I have a Image file 001.jpg in my Aws S3 bukcet.\nI am trying to download that file using Java.Below is a piece of code which is for downloading image file from s3 bucket.</p>\n<pre><code>if (StringUtils.isNotEmpty(s3Key)) {\n        AmazonS3Connector s3 = AmazonS3Connector.getInstance();\n        byte[] data = null;\n        try {\n            final S3Object s3Object = s3.getClient().getObject(S3_BUCKET_NAME, s3Key);\n            final S3ObjectInputStream stream = s3Object.getObjectContent();\n            data = IOUtils.toByteArray(stream);\n            s3Object.close();\n            String fileName = s3Key.split(&quot;/&quot;)[1];\n            Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\n            MimetypesFileTypeMap mimetypesFileTypeMap = new MimetypesFileTypeMap();\n            responseHeaders.put(&quot;Content-type&quot;, mimetypesFileTypeMap.getContentType(s3Key));\n            responseHeaders.put(&quot;Content-Length&quot;, String.valueOf(data.length));\n            responseHeaders.put(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\n\n            return APIResponse.builder()\n                    .setStatusCode(200)\n                    .setObjectBody(data)\n                    .setHeaders(responseHeaders)\n                    .build();\n        } catch (AmazonS3Exception s3Exception) {\n            throw new IllegalArgumentException(&quot;File does not exists&quot;);\n        } catch (IOException e) {\n            new OutwinErrorQueue().exception(e).log();\n        }\n    }\n</code></pre>\n<p>After running this, Image file is getting downloaded but while opening below error is coming.</p>\n<p><a href=\"https://i.stack.imgur.com/A6B2C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A6B2C.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help me out with this issue.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":7459166,"reputation":8015,"user_id":7682257,"display_name":"Suraj Vaishnav"},"score":1,"creation_date":1537889445,"post_id":52501777,"comment_id":91944225,"body_markdown":"What is your question? your code is already in kotlin","body":"What is your question? your code is already in kotlin"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1537889502,"post_id":52501777,"comment_id":91944256,"body_markdown":"The function looks ok to me. But Kotlin has safe calls so you don&#39;t have to check for null in the next step. `createUrl(&quot;hx.malf0/$md!&quot;)?.openConnection()` see https://kotlinlang.org/docs/reference/null-safety.html#safe-calls","body":"The function looks ok to me. But Kotlin has safe calls so you don&#39;t have to check for null in the next step. <code>createUrl(&quot;hx.malf0&#47;$md!&quot;)?.openConnection()</code> see <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html#safe-calls</a>"},{"owner":{"account_id":12268402,"reputation":37,"user_id":8954299,"display_name":"KITRIK"},"score":0,"creation_date":1537890471,"post_id":52501777,"comment_id":91944840,"body_markdown":"Thanks! Yes, I wrote the code in Kotlin, but I simply wasn&#39;t sure, if I were following Kotlin&#39;s Design Language by returning null. I am sorry for that unclear Question.","body":"Thanks! Yes, I wrote the code in Kotlin, but I simply wasn&#39;t sure, if I were following Kotlin&#39;s Design Language by returning null. I am sorry for that unclear Question."}],"answers":[{"tags":[],"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635442088,"creation_date":1537889568,"answer_id":52501873,"question_id":52501777,"body_markdown":"You already wrote this in Kotlin, so not entirely sure of your whole question.\r\nHowever, returning URL? is perfect.\r\n\r\nThen you can do\r\n\r\n    mWebURL.set(createUrl(myString))\r\nor\r\n  \r\n\r\n      mWebURL.set(createUrl(myString)?: &quot;alternativeURL&quot;)\r\n\r\nif you have an observable that is ok accepting null.\r\n\r\nOr if you need to take an action on it, you can simply do\r\n\r\n    createUrl(myString)?.nextAction() //only occurs if not null\r\n\r\nor you can use\r\n\r\n    createURL(myString)?.let{\r\n        //will happen if not null\r\n    } \r\nor\r\n\r\n    createURL(myString)?.apply{\r\n        //will happen if not null\r\n    } \r\n\r\nor of course simple\r\n\r\n    if(createUrl(myString) == null){\r\n        //will happen if not null\r\n    }\r\n\r\n","title":"What to return if a try catch fails in Kotlin?","body":"<p>You already wrote this in Kotlin, so not entirely sure of your whole question.\nHowever, returning URL? is perfect.</p>\n<p>Then you can do</p>\n<pre><code>mWebURL.set(createUrl(myString))\n</code></pre>\n<p>or</p>\n<pre><code>  mWebURL.set(createUrl(myString)?: &quot;alternativeURL&quot;)\n</code></pre>\n<p>if you have an observable that is ok accepting null.</p>\n<p>Or if you need to take an action on it, you can simply do</p>\n<pre><code>createUrl(myString)?.nextAction() //only occurs if not null\n</code></pre>\n<p>or you can use</p>\n<pre><code>createURL(myString)?.let{\n    //will happen if not null\n} \n</code></pre>\n<p>or</p>\n<pre><code>createURL(myString)?.apply{\n    //will happen if not null\n} \n</code></pre>\n<p>or of course simple</p>\n<pre><code>if(createUrl(myString) == null){\n    //will happen if not null\n}\n</code></pre>\n"}],"owner":{"account_id":12268402,"reputation":37,"user_id":8954299,"display_name":"KITRIK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1706,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52501873,"answer_count":1,"score":0,"last_activity_date":1635442088,"creation_date":1537889257,"question_id":52501777,"body_markdown":"I am new to Kotlin and mainly programmed Java before.\r\nThe Problem is I have this:\r\n\r\n    private fun createUrl(stringUrl: String): URL? {\r\n        try {\r\n            return URL(stringUrl)\r\n        } catch (e: MalformedURLException) {\r\n            return null\r\n        }\r\n    }\r\n\r\nThat is just the style I was used to in Java. I would just check if the URL is null in the next method, but what is the Kotlin equivalent? What would I return in Kotlin?\r\n\r\nGreetings","title":"What to return if a try catch fails in Kotlin?","body":"<p>I am new to Kotlin and mainly programmed Java before.\nThe Problem is I have this:</p>\n\n<pre><code>private fun createUrl(stringUrl: String): URL? {\n    try {\n        return URL(stringUrl)\n    } catch (e: MalformedURLException) {\n        return null\n    }\n}\n</code></pre>\n\n<p>That is just the style I was used to in Java. I would just check if the URL is null in the next method, but what is the Kotlin equivalent? What would I return in Kotlin?</p>\n\n<p>Greetings</p>\n"},{"tags":["java","graph-theory","jgrapht"],"comments":[{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1635377282,"post_id":69745237,"comment_id":123284823,"body_markdown":"From your description, it seems that you want a list of all the nodes that have zero parents.  In your example A and D.  I am guessing you are looking for more than that.  Please clarify your question.","body":"From your description, it seems that you want a list of all the nodes that have zero parents.  In your example A and D.  I am guessing you are looking for more than that.  Please clarify your question."},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1635378081,"post_id":69745237,"comment_id":123284996,"body_markdown":"You write &quot; D and B can be created in parallel&quot; and then write the output should look like &quot; {D, A}, B, C.&quot;  It is difficult yo be sure, but this output does not indicate to me that D and B are &quot;in parallel&quot;.   Please clarify your question","body":"You write &quot; D and B can be created in parallel&quot; and then write the output should look like &quot; {D, A}, B, C.&quot;  It is difficult yo be sure, but this output does not indicate to me that D and B are &quot;in parallel&quot;.   Please clarify your question"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1635379786,"post_id":69745237,"comment_id":123285275,"body_markdown":"Let&#39;s say:  if there is a path from node X to Node Y, then X is called a prerequisite of Y.  My best guess is that you want a list of all node pairs where neither is a prerequisite of the other.  In your example, that is ((A,D),(B,D))","body":"Let&#39;s say:  if there is a path from node X to Node Y, then X is called a prerequisite of Y.  My best guess is that you want a list of all node pairs where neither is a prerequisite of the other.  In your example, that is ((A,D),(B,D))"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1635979414,"post_id":69745237,"comment_id":123439755,"body_markdown":"Consider accepting the below answer or indicate what&#39;s missing s.t. others can benefit from your question.","body":"Consider accepting the below answer or indicate what&#39;s missing s.t. others can benefit from your question."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635441986,"creation_date":1635441986,"answer_id":69758522,"question_id":69745237,"body_markdown":"All processes without dependencies can be executed in parallel. A simple algorithm would be to:\r\n\r\n1. Find all processes without dependencies (vertices without incoming arcs). These processes can be executed in parallel.\r\n2. Remove the vertices found in the previous step from the graph, and repeat steps 1 and 2 for the remaining graph, until all vertices have been eliminated from the graph.\r\n\r\nNote that the above algorithm only works if your graph does not contain cycles! You can use JGraphT to verify that the graph does not have cycles if you are uncertain about this.\r\n\r\nAn alternative approach is to start a breath-first-search (BFS) from a vertex *without* outgoing arcs (the BFS goes into the opposite direction of the arcs). Using BFS, you can assign a number to each vertex, where the number corresponds to the layer of the vertex in the BFS graph. So in your example, C would be the root of the BFS graph, and hence gets assigned to layer 0. In the next BFS layer (layer 1) we would have vertices B and D, finally, in the 3rd layer, we would have vertex A. By definition, all vertices in the *same* layer, can be executed in parallel. \r\n","title":"Topological sort with detecting vertices that have equal priorities with JGraphT","body":"<p>All processes without dependencies can be executed in parallel. A simple algorithm would be to:</p>\n<ol>\n<li>Find all processes without dependencies (vertices without incoming arcs). These processes can be executed in parallel.</li>\n<li>Remove the vertices found in the previous step from the graph, and repeat steps 1 and 2 for the remaining graph, until all vertices have been eliminated from the graph.</li>\n</ol>\n<p>Note that the above algorithm only works if your graph does not contain cycles! You can use JGraphT to verify that the graph does not have cycles if you are uncertain about this.</p>\n<p>An alternative approach is to start a breath-first-search (BFS) from a vertex <em>without</em> outgoing arcs (the BFS goes into the opposite direction of the arcs). Using BFS, you can assign a number to each vertex, where the number corresponds to the layer of the vertex in the BFS graph. So in your example, C would be the root of the BFS graph, and hence gets assigned to layer 0. In the next BFS layer (layer 1) we would have vertices B and D, finally, in the 3rd layer, we would have vertex A. By definition, all vertices in the <em>same</em> layer, can be executed in parallel.</p>\n"}],"owner":{"account_id":68157,"reputation":819,"user_id":199041,"accept_rate":47,"display_name":"Przemysław R&#243;życki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635441986,"creation_date":1635367375,"question_id":69745237,"body_markdown":"I introduced JGraphT library to my project and I&#39;m constructing a directed graph of some resources to create with their dependencies. I&#39;m going to use topological sort to determine an order of creation to pass it to other component. I&#39;d like to determine resources that could be created in parallel as they don&#39;t have dependencies (direct or indirect) to each other (I&#39;m interpreting it as resources having equal priorities of creation). TopologicalOrderIterator just returns vertices in order but doesn&#39;t seem to handle a case of equal priorities.\r\n\r\nFor example, for graph as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe valid orders are A, B, D, C or for example A, D, B, C or even D, A, B, C. I&#39;d like to determine the fact, that resources D and A or D and B can be created in parallel and have something like {D, A}, B, C.\r\n\r\nIs it possible to achieve it with JGraphT using topological sort or any other mechanism? Or if not, then maybe some recommendation of other graph library?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4oZkm.png","title":"Topological sort with detecting vertices that have equal priorities with JGraphT","body":"<p>I introduced JGraphT library to my project and I'm constructing a directed graph of some resources to create with their dependencies. I'm going to use topological sort to determine an order of creation to pass it to other component. I'd like to determine resources that could be created in parallel as they don't have dependencies (direct or indirect) to each other (I'm interpreting it as resources having equal priorities of creation). TopologicalOrderIterator just returns vertices in order but doesn't seem to handle a case of equal priorities.</p>\n<p>For example, for graph as below:</p>\n<p><a href=\"https://i.stack.imgur.com/4oZkm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4oZkm.png\" alt=\"enter image description here\" /></a></p>\n<p>The valid orders are A, B, D, C or for example A, D, B, C or even D, A, B, C. I'd like to determine the fact, that resources D and A or D and B can be created in parallel and have something like {D, A}, B, C.</p>\n<p>Is it possible to achieve it with JGraphT using topological sort or any other mechanism? Or if not, then maybe some recommendation of other graph library?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635436468,"creation_date":1635436468,"answer_id":69757294,"question_id":69756832,"body_markdown":"Decimal -&gt; Hexa :\r\n\r\n```java\r\npublic static String toHex(int decimal) {\r\n\t\tint rem = 0;\r\n\t\tString hex = (decimal == 0 ? &quot;0&quot; : &quot;&quot;);\r\n\t\tString hexstring = &quot;0123456789ABCDEF&quot;;\r\n\t\twhile (decimal &gt; 0) {\r\n\t\t\trem = decimal % 16;\r\n\t\t\thex = hexstring.charAt(rem) + hex;\r\n\t\t\tdecimal /= 16;\r\n\t\t}\r\n\t\treturn hex;\r\n\t}\r\n```\r\n\r\nHexa -&gt; Decimal :\r\n\r\n```java\r\npublic static int toDecimal(String hex) {\r\n\t\tString hexstring = &quot;0123456789ABCDEF&quot;;\r\n\t\thex = hex.toUpperCase();\r\n\t\tint num = 0;\r\n\t\tfor (int i = 0; i &lt; hex.length(); i++) {\r\n\t\t\tchar ch = hex.charAt(i);\r\n\t\t\tnum = 16 * num + hexstring.indexOf(ch);\r\n\t\t}\r\n\t\treturn num;\r\n\t}\r\n```","title":"Program to convert decimal to binary binary to decimal, decimal to hexadecimal and hexadecimal to decimal in java","body":"<p>Decimal -&gt; Hexa :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String toHex(int decimal) {\n        int rem = 0;\n        String hex = (decimal == 0 ? &quot;0&quot; : &quot;&quot;);\n        String hexstring = &quot;0123456789ABCDEF&quot;;\n        while (decimal &gt; 0) {\n            rem = decimal % 16;\n            hex = hexstring.charAt(rem) + hex;\n            decimal /= 16;\n        }\n        return hex;\n    }\n</code></pre>\n<p>Hexa -&gt; Decimal :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int toDecimal(String hex) {\n        String hexstring = &quot;0123456789ABCDEF&quot;;\n        hex = hex.toUpperCase();\n        int num = 0;\n        for (int i = 0; i &lt; hex.length(); i++) {\n            char ch = hex.charAt(i);\n            num = 16 * num + hexstring.indexOf(ch);\n        }\n        return num;\n    }\n</code></pre>\n"}],"owner":{"account_id":17950162,"reputation":1,"user_id":13043451,"display_name":"G switch 99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635441774,"creation_date":1635434644,"question_id":69756832,"body_markdown":"i am supposed to write a java program that converts binary to decimal, decimal to binary, decimal to hexadecimal and hexadecimal to decimal. i have done the first to parts using a switch case and it works now I am stuck on the last two. here is what I have so far.\r\n\r\n\r\n\r\n    package java_project_gabriel;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class BinaryToDecimal {\r\n    \r\n        public String toBinary(int n) {\r\n            if (n == 0) {\r\n                return &quot;0&quot;;\r\n            }\r\n            String binary = &quot;&quot;;\r\n            while (n &gt; 0) {\r\n                int rem = n % 2;\r\n                binary = rem + binary;\r\n                n = n / 2;\r\n            }\r\n            return binary;\r\n        }\r\n    \r\n        public int binaryTodecimal(int i) {\r\n            int n = 0;\r\n            for (int pow = 1; i &gt; 0; pow *= 2, i /= 10)\r\n                n += pow * (i % 10);\r\n            return n;\r\n        }\r\n       \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int answer2 = 0;\r\n            String answer;\r\n    \r\n            final int info = 10;\r\n            for (int i = 0; i &lt; info; i++) {\r\n    \r\n                Scanner kb = new Scanner(System.in);\r\n                System.out.println(&quot;==================================&quot;);\r\n                System.out.print(&quot;Enter your choice: &quot;);\r\n                answer = kb.next();\r\n    \r\n                switch (answer) {\r\n                case &quot;1&quot;: // if the answer is one do this action\r\n                    System.out.print(&quot;Enter a number: &quot;);\r\n                    answer2 = kb.nextInt();\r\n                    BinaryToDecimal decimalToBinary = new BinaryToDecimal();\r\n                    String binary = decimalToBinary.toBinary(answer2);\r\n                    System.out.println(&quot;The 8-bit binary representation is: &quot; + binary);\r\n                    break; // leave the switch \r\n    \r\n                case &quot;2&quot;: // if answer is 2 do the following actions\r\n                    System.out.print(&quot;Enter a number: &quot;);\r\n                    answer2 = kb.nextInt();\r\n                    BinaryToDecimal bd = new BinaryToDecimal();\r\n                    int n = bd.binaryTodecimal(answer2);\r\n                    System.out.println(&quot;The decimal representation is: &quot; + n);\r\n                    break; // leave the switch case\r\n                    \r\n    \r\n              \r\n                case &quot;3&quot;: // when the answer is 3\r\n                    System.out.println(&quot;Goodbye&quot;);\r\n                    System.exit(0);\r\n                    // break; you need not use here because you have an exit call\r\n    \r\n                }\r\n            }\r\n        }\r\n    }","title":"Program to convert decimal to binary binary to decimal, decimal to hexadecimal and hexadecimal to decimal in java","body":"<p>i am supposed to write a java program that converts binary to decimal, decimal to binary, decimal to hexadecimal and hexadecimal to decimal. i have done the first to parts using a switch case and it works now I am stuck on the last two. here is what I have so far.</p>\n<pre><code>package java_project_gabriel;\n\nimport java.util.Scanner;\n\n\npublic class BinaryToDecimal {\n\n    public String toBinary(int n) {\n        if (n == 0) {\n            return &quot;0&quot;;\n        }\n        String binary = &quot;&quot;;\n        while (n &gt; 0) {\n            int rem = n % 2;\n            binary = rem + binary;\n            n = n / 2;\n        }\n        return binary;\n    }\n\n    public int binaryTodecimal(int i) {\n        int n = 0;\n        for (int pow = 1; i &gt; 0; pow *= 2, i /= 10)\n            n += pow * (i % 10);\n        return n;\n    }\n   \n\n    public static void main(String[] args) {\n\n        int answer2 = 0;\n        String answer;\n\n        final int info = 10;\n        for (int i = 0; i &lt; info; i++) {\n\n            Scanner kb = new Scanner(System.in);\n            System.out.println(&quot;==================================&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            answer = kb.next();\n\n            switch (answer) {\n            case &quot;1&quot;: // if the answer is one do this action\n                System.out.print(&quot;Enter a number: &quot;);\n                answer2 = kb.nextInt();\n                BinaryToDecimal decimalToBinary = new BinaryToDecimal();\n                String binary = decimalToBinary.toBinary(answer2);\n                System.out.println(&quot;The 8-bit binary representation is: &quot; + binary);\n                break; // leave the switch \n\n            case &quot;2&quot;: // if answer is 2 do the following actions\n                System.out.print(&quot;Enter a number: &quot;);\n                answer2 = kb.nextInt();\n                BinaryToDecimal bd = new BinaryToDecimal();\n                int n = bd.binaryTodecimal(answer2);\n                System.out.println(&quot;The decimal representation is: &quot; + n);\n                break; // leave the switch case\n                \n\n          \n            case &quot;3&quot;: // when the answer is 3\n                System.out.println(&quot;Goodbye&quot;);\n                System.exit(0);\n                // break; you need not use here because you have an exit call\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor","uml","diagram"],"comments":[{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":2,"creation_date":1635439618,"post_id":69758027,"comment_id":123305197,"body_markdown":"What have you tried? Maybe a beginners Java tutorial might be a good place to start if you&#39;re stuck straight away.","body":"What have you tried? Maybe a beginners Java tutorial might be a good place to start if you&#39;re stuck straight away."},{"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"score":0,"creation_date":1635439717,"post_id":69758027,"comment_id":123305237,"body_markdown":"I tried to use `extend` for the class and `super` in the constructor but I&#39;m not sure it&#39;s the right method.","body":"I tried to use <code>extend</code> for the class and <code>super</code> in the constructor but I&#39;m not sure it&#39;s the right method."},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":2,"creation_date":1635439867,"post_id":69758027,"comment_id":123305298,"body_markdown":"What are you extending? Maybe include a [mre] in your question,","body":"What are you extending? Maybe include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in your question,"},{"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"score":0,"creation_date":1635439969,"post_id":69758027,"comment_id":123305349,"body_markdown":"Updated the question","body":"Updated the question"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1635440053,"post_id":69758027,"comment_id":123305382,"body_markdown":"If a Circle *is a* Point, why are you adding a Point as a field in the Circle class?","body":"If a Circle <i>is a</i> Point, why are you adding a Point as a field in the Circle class?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1635440076,"post_id":69758027,"comment_id":123305397,"body_markdown":"Post your clarifications as edits to the Question rather than as Comments.","body":"Post your clarifications as edits to the Question rather than as Comments."},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":1,"creation_date":1635440110,"post_id":69758027,"comment_id":123305410,"body_markdown":"The question you have to ask here is: do you consider a circle to be a point? If it inherits from it, it should be able to be defined as one, in the same way that a dog is an animal or a mango is a fruit. A circle *has* a point (its center), but I wouldn&#39;t say it is one. Try removing the inheritance and considering setting `center` to something in the `Circle` constructor. Regardless, you should probably follow some tutorials on OOP, it will be much more useful for you than asking here.","body":"The question you have to ask here is: do you consider a circle to be a point? If it inherits from it, it should be able to be defined as one, in the same way that a dog is an animal or a mango is a fruit. A circle <i>has</i> a point (its center), but I wouldn&#39;t say it is one. Try removing the inheritance and considering setting <code>center</code> to something in the <code>Circle</code> constructor. Regardless, you should probably follow some tutorials on OOP, it will be much more useful for you than asking here."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1635440133,"post_id":69758027,"comment_id":123305421,"body_markdown":"You have not yet asked a specific narrowly-focused question.","body":"You have not yet asked a specific narrowly-focused question."},{"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"score":0,"creation_date":1635440322,"post_id":69758027,"comment_id":123305497,"body_markdown":"Sorry but it&#39;s getting a bit confusing for me. This is an exercise from my university thus the diagram was made by them.","body":"Sorry but it&#39;s getting a bit confusing for me. This is an exercise from my university thus the diagram was made by them."},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1635440377,"post_id":69758027,"comment_id":123305528,"body_markdown":"In that case I would definitely do your research first, some basic OOP concepts, maybe what a UML diagram is if you don&#39;t understand it, etc. It would be disingenuous to do your university exercises for you here.","body":"In that case I would definitely do your research first, some basic OOP concepts, maybe what a UML diagram is if you don&#39;t understand it, etc. It would be disingenuous to do your university exercises for you here."},{"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"score":0,"creation_date":1635440566,"post_id":69758027,"comment_id":123305601,"body_markdown":"Why do you consider this to be disingenuous? Every method is good as long as I benefit from it. I would better ask more question than just sit and do nothing to improve myself.","body":"Why do you consider this to be disingenuous? Every method is good as long as I benefit from it. I would better ask more question than just sit and do nothing to improve myself."},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1635440654,"post_id":69758027,"comment_id":123305631,"body_markdown":"Someone completing your assignment for you. You doing it yourself would be much better for your education (and I am sure that was your universities intention with the exercise). There&#39;s good detail [here](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions) about asking homework-style questions.","body":"Someone completing your assignment for you. You doing it yourself would be much better for your education (and I am sure that was your universities intention with the exercise). There&#39;s good detail <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">here</a> about asking homework-style questions."},{"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"score":1,"creation_date":1635440810,"post_id":69758027,"comment_id":123305697,"body_markdown":"Okay, I understand. Thanks for the response, I will definitely do more research in the future.","body":"Okay, I understand. Thanks for the response, I will definitely do more research in the future."}],"answers":[{"tags":[],"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635440414,"creation_date":1635440414,"answer_id":69758202,"question_id":69758027,"body_markdown":"Okay so I figured it out. The constructor should be like this: \r\n```\r\n public Circle(double x, double y, double radius)\r\n  {\r\n    center = new Point(x, y);\r\n    this.radius = radius;\r\n  }\r\n```","title":"Java - How can I use a 3 argument constructor to set 2 instance variables","body":"<p>Okay so I figured it out. The constructor should be like this:</p>\n<pre><code> public Circle(double x, double y, double radius)\n  {\n    center = new Point(x, y);\n    this.radius = radius;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635440664,"creation_date":1635440664,"answer_id":69758247,"question_id":69758027,"body_markdown":"That diagram indicates that the relationship between `Circle` and `Point` is a Composition. \r\n\r\nSo the relevant java code is:\r\n\r\n    public class Circle\r\n    {\r\n      private double radius;\r\n      private Point center;\r\n    \r\n      public Circle(double x, double y, double radius)\r\n      {\r\n        this.radius = radius;\r\n        center = new Point(x, y);\r\n      }","title":"Java - How can I use a 3 argument constructor to set 2 instance variables","body":"<p>That diagram indicates that the relationship between <code>Circle</code> and <code>Point</code> is a Composition.</p>\n<p>So the relevant java code is:</p>\n<pre><code>public class Circle\n{\n  private double radius;\n  private Point center;\n\n  public Circle(double x, double y, double radius)\n  {\n    this.radius = radius;\n    center = new Point(x, y);\n  }\n</code></pre>\n"}],"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635441202,"answer_count":2,"score":0,"last_activity_date":1635440664,"creation_date":1635439573,"question_id":69758027,"body_markdown":"I&#39;m new to java and I have to use a 3 argument `Circle()` constructor to set 2 instance variables `radius` and `center` . I have to use `x` and `y` for the `center`. Bellow is the UML diagram I&#39;m working with. Thanks in advance.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EWoFr.png\r\n\r\n``` \r\npublic class Circle extends Point\r\n{\r\n  private double radius;\r\n  private Point center;\r\n\r\n  public Circle(double x, double y, double radius)\r\n  {\r\n    super(x, y);\r\n    this.radius = radius;\r\n  }\r\n```","title":"Java - How can I use a 3 argument constructor to set 2 instance variables","body":"<p>I'm new to java and I have to use a 3 argument <code>Circle()</code> constructor to set 2 instance variables <code>radius</code> and <code>center</code> . I have to use <code>x</code> and <code>y</code> for the <code>center</code>. Bellow is the UML diagram I'm working with. Thanks in advance.\n<a href=\"https://i.stack.imgur.com/EWoFr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EWoFr.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class Circle extends Point\n{\n  private double radius;\n  private Point center;\n\n  public Circle(double x, double y, double radius)\n  {\n    super(x, y);\n    this.radius = radius;\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","transactions"],"answers":[{"tags":[],"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635357910,"creation_date":1635357910,"answer_id":69743502,"question_id":69743110,"body_markdown":"Here from your HTML you are receiving the Transaction field as a string so in the controller you have to handle that string and extract id and amount from it and then set that id and amount to transaction table. Try this and if you have already tried or written that in your controller share the code of the controller.","title":"Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.List&#39; for property &#39;transactions&#39;","body":"<p>Here from your HTML you are receiving the Transaction field as a string so in the controller you have to handle that string and extract id and amount from it and then set that id and amount to transaction table. Try this and if you have already tried or written that in your controller share the code of the controller.</p>\n"}],"owner":{"account_id":23162873,"reputation":1,"user_id":17263278,"display_name":"Sanket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635440642,"creation_date":1635355835,"question_id":69743110,"body_markdown":"I am working with thymeleaf and getting some errors regarding conversion of data from String to List. Here I have attached my code\r\n\r\nMy entity classes:\r\n\r\n    @Entity\r\n    @Table(name=&quot;customer&quot;)\r\n    public class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    @NotNull(message = &quot;First Name cannot be empty&quot;)\r\n    @Size(min = 1, message = &quot;First Name cannot be empty&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    @NotNull(message = &quot;Last Name cannot be empty&quot;)\r\n    @Size(min = 1, message = &quot;Last Name cannot be empty&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotNull(message = &quot;Email ID cannot be empty&quot;)\r\n    @Pattern(regexp = &quot;^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+$&quot;,\r\n            message = &quot;Enter valid mail id&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;branch&quot;)\r\n    @NotNull(message = &quot;Branch name cannot be empty&quot;)\r\n    private String branch;\r\n\r\n    @Column(name = &quot;balance&quot;)\r\n    private double balance;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private List&lt;Transaction&gt; transactions;\r\n\r\n    public Customer(String firstName, String lastName, String email, String branch, double balance) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.branch = branch;\r\n        this.balance = balance;\r\n    }\r\n\r\n    public Customer() {\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getBranch() {\r\n        return branch;\r\n    }\r\n\r\n    public void setBranch(String branch) {\r\n        this.branch = branch;\r\n    }\r\n\r\n    public double getBalance() {\r\n        return balance;\r\n    }\r\n\r\n    public void setBalance(double balance) {\r\n        this.balance = balance;\r\n    }\r\n\r\n    public List&lt;Transaction&gt; getTransactions() {\r\n        return transactions;\r\n    }\r\n\r\n    public void setTransactions(List&lt;Transaction&gt; transactions) {\r\n        this.transactions = transactions;\r\n    }\r\n\r\n    public void addTransaction(Transaction transaction){\r\n        if(transaction == null) {\r\n            transactions = new ArrayList&lt;&gt;();\r\n        }\r\n        transactions.add(transaction);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Customer{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, branch=&#39;&quot; + branch + &#39;\\&#39;&#39; +\r\n                &quot;, balance=&quot; + balance +\r\n                &#39;}&#39;;\r\n      }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;transactions&quot;)\r\n    public class Transaction {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;transaction&quot;)\r\n    private double amount;\r\n\r\n    public Transaction() {\r\n    }\r\n\r\n    public Transaction(double amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public double getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(double amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Transaction{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, amount=&quot; + amount +\r\n                &#39;}&#39;;\r\n    }\r\n\r\nController:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/customers&quot;)\r\n    public class CustomerController {\r\n    @Autowired\r\n    private CustomerRestService customerRestService;\r\n\r\n    public static String username;\r\n    public static Object password;\r\n\r\n    public CustomerController() {\r\n    }\r\n\r\n    @GetMapping(&quot;/list&quot;)\r\n    public String listCustomers(Model model, @CurrentSecurityContext(expression = &quot;authentication&quot;)Authentication authentication) {\r\n        username = authentication.getName();\r\n        password = authentication.getCredentials();\r\n        List&lt;Customer&gt; customers = customerRestService.getCustomerList();\r\n\r\n        model.addAttribute(&quot;customers&quot;, customers);\r\n\r\n        return &quot;list-customers&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/showFormToAddCustomer&quot;)\r\n    public String showFormToAddCustomer(Model model) {\r\n        Customer customer = new Customer();\r\n        model.addAttribute(&quot;customer&quot;, customer);\r\n        return &quot;customer-form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/saveCustomer&quot;)\r\n    public String saveCustomer(@ModelAttribute(&quot;customer&quot;) Customer customer) {\r\n        System.out.println(&quot;\\n&quot; + customer);\r\n        System.out.println(customer.getTransactions());\r\n        customerRestService.saveCustomer(customer);\r\n        return &quot;redirect:/customers/list&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/showFormToUpdateCustomer&quot;)\r\n    public String showformForUpdate(@RequestParam(&quot;customerId&quot;) int id,\r\n                                    Model model) {\r\n        Customer customer = customerRestService.findCustomerById(id);\r\n        System.out.println(customer);\r\n        System.out.println(customer.getTransactions());\r\n        \r\n        model.addAttribute(&quot;customer&quot;, customer);\r\n        \r\n        return &quot;customer-form&quot;;\r\n    }\r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    public class CustomerRestServiceImple implements CustomerRestService{\r\n    private RestTemplate restTemplate;\r\n\r\n    private String restUrl;\r\n\r\n    @Autowired\r\n    public CustomerRestServiceImple(RestTemplate restTemplate,\r\n                                    @Value(&quot;${crm.rest.url}&quot;) String restUrl) {\r\n        this.restTemplate = restTemplate;\r\n        this.restUrl = restUrl;\r\n    }\r\n\r\n    private HttpHeaders httpHeaders() {\r\n        String username = CustomerController.username;\r\n        Object password = CustomerController.password;\r\n\r\n        String plainCreds = username+&quot;:&quot;+password.toString();\r\n        byte[] plainCredsBytes = plainCreds.getBytes();\r\n        byte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\r\n        String base64Creds = new String(base64CredsBytes);\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds);\r\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        //HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\r\n        return headers;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Customer&gt; getCustomerList() {\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(httpHeaders());\r\n\r\n        ResponseEntity&lt;List&lt;Customer&gt;&gt; responseEntity = restTemplate.exchange(restUrl, HttpMethod.GET, request,\r\n                new ParameterizedTypeReference&lt;List&lt;Customer&gt;&gt;() {});\r\n\r\n        List&lt;Customer&gt; customers = responseEntity.getBody();\r\n\r\n        return customers;\r\n    }\r\n\r\n    @Override\r\n    public Customer findCustomerById(int id) {\r\n        //Customer customer = restTemplate.getForObject(restUrl + &quot;/&quot; + id, Customer.class);\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(httpHeaders());\r\n        ResponseEntity&lt;Customer&gt; responseEntity = restTemplate.exchange(restUrl + &quot;/&quot; + id, HttpMethod.GET, request, Customer.class);\r\n        Customer customer = responseEntity.getBody();\r\n        return customer;\r\n    }\r\n\r\n    @Override\r\n    public void saveCustomer(Customer customer) {\r\n        System.out.println(&quot;\\n&quot; + customer);\r\n        System.out.println(customer.getTransactions());\r\n\r\n        HttpEntity&lt;Customer&gt; request = new HttpEntity&lt;&gt;(customer, httpHeaders());\r\n        int customerId = customer.getId();\r\n\r\n        if(customerId == 0){\r\n            restTemplate.exchange(restUrl, HttpMethod.POST, request, Customer.class);\r\n        } else {\r\n            restTemplate.exchange(restUrl, HttpMethod.PUT, request, Customer.class);\r\n            }\r\n    }\r\n    }\r\n\r\n\r\n\r\nHtml Form: \r\n\r\n        &lt;h3&gt;Customer Directory&lt;/h3&gt;\r\n        &lt;hr&gt;\r\n\r\n        &lt;p class=&quot;h4 mb-4&quot;&gt;Save Customer&lt;/p&gt;\r\n\r\n        &lt;form action=&quot;#&quot; th:action=&quot;@{/customers/saveCustomer}&quot;\r\n              th:object=&quot;${customer}&quot; method=&quot;POST&quot;&gt;\r\n\r\n            &lt;!-- Add hidden form field to handle the update --&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\r\n\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot;\r\n                class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;First Name&quot;&gt;\r\n\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot;\r\n                   class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Last Name&quot;&gt;\r\n\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;\r\n                   class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Email&quot;&gt;\r\n\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{branch}&quot;\r\n                   class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Branch&quot;&gt;\r\n\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{balance}&quot;\r\n                   class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Balance&quot;&gt;\r\n\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{transactions}&quot;\r\n                   class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Transactions&quot;&gt;\r\n\r\n            &lt;!--input type=&quot;hidden&quot; th:field=&quot;*{transactions}&quot; /--&gt;\r\n\r\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save&lt;/button&gt;\r\n\r\n        &lt;/form&gt;\r\n\r\n        &lt;hr&gt;\r\n        &lt;a th:href=&quot;@{/customers/list}&quot;&gt;Back to Customers List&lt;/a&gt;\r\n\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\nError:\r\n\r\n&gt; Field error in object &#39;customer&#39; on field &#39;transactions&#39;: rejected value [[Transaction{id=1, amount=1000.0}, Transaction{id=3, amount=100.0}]]; codes [typeMismatch.customer.transactions,typeMismatch.transactions,typeMismatch.java.util.List,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customer.transactions,transactions]; arguments []; default message [transactions]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.List&#39; for property &#39;transactions&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@javax.persistence.OneToMany @javax.persistence.JoinColumn com.kaneki.springboot.bankapplication.entity.Transaction] for value &#39;[Transaction{id=1, amount=1000.0}, Transaction{id=3, amount=100.0}]&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;[Transaction{id=1, amount=1000.0}, Transaction{id=3, amount=100.0}]&quot;]","title":"Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.List&#39; for property &#39;transactions&#39;","body":"<p>I am working with thymeleaf and getting some errors regarding conversion of data from String to List. Here I have attached my code</p>\n<p>My entity classes:</p>\n<pre><code>@Entity\n@Table(name=&quot;customer&quot;)\npublic class Customer {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate int id;\n\n@Column(name = &quot;first_name&quot;)\n@NotNull(message = &quot;First Name cannot be empty&quot;)\n@Size(min = 1, message = &quot;First Name cannot be empty&quot;)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;)\n@NotNull(message = &quot;Last Name cannot be empty&quot;)\n@Size(min = 1, message = &quot;Last Name cannot be empty&quot;)\nprivate String lastName;\n\n@Column(name = &quot;email&quot;)\n@NotNull(message = &quot;Email ID cannot be empty&quot;)\n@Pattern(regexp = &quot;^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+$&quot;,\n        message = &quot;Enter valid mail id&quot;)\nprivate String email;\n\n@Column(name = &quot;branch&quot;)\n@NotNull(message = &quot;Branch name cannot be empty&quot;)\nprivate String branch;\n\n@Column(name = &quot;balance&quot;)\nprivate double balance;\n\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;customer_id&quot;)\nprivate List&lt;Transaction&gt; transactions;\n\npublic Customer(String firstName, String lastName, String email, String branch, double balance) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n    this.branch = branch;\n    this.balance = balance;\n}\n\npublic Customer() {\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getBranch() {\n    return branch;\n}\n\npublic void setBranch(String branch) {\n    this.branch = branch;\n}\n\npublic double getBalance() {\n    return balance;\n}\n\npublic void setBalance(double balance) {\n    this.balance = balance;\n}\n\npublic List&lt;Transaction&gt; getTransactions() {\n    return transactions;\n}\n\npublic void setTransactions(List&lt;Transaction&gt; transactions) {\n    this.transactions = transactions;\n}\n\npublic void addTransaction(Transaction transaction){\n    if(transaction == null) {\n        transactions = new ArrayList&lt;&gt;();\n    }\n    transactions.add(transaction);\n}\n\n@Override\npublic String toString() {\n    return &quot;Customer{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, firstName='&quot; + firstName + '\\'' +\n            &quot;, lastName='&quot; + lastName + '\\'' +\n            &quot;, email='&quot; + email + '\\'' +\n            &quot;, branch='&quot; + branch + '\\'' +\n            &quot;, balance=&quot; + balance +\n            '}';\n  }\n\n\n@Entity\n@Table(name = &quot;transactions&quot;)\npublic class Transaction {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate int id;\n\n@Column(name = &quot;transaction&quot;)\nprivate double amount;\n\npublic Transaction() {\n}\n\npublic Transaction(double amount) {\n    this.amount = amount;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic double getAmount() {\n    return amount;\n}\n\npublic void setAmount(double amount) {\n    this.amount = amount;\n}\n\n@Override\npublic String toString() {\n    return &quot;Transaction{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, amount=&quot; + amount +\n            '}';\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/customers&quot;)\npublic class CustomerController {\n@Autowired\nprivate CustomerRestService customerRestService;\n\npublic static String username;\npublic static Object password;\n\npublic CustomerController() {\n}\n\n@GetMapping(&quot;/list&quot;)\npublic String listCustomers(Model model, @CurrentSecurityContext(expression = &quot;authentication&quot;)Authentication authentication) {\n    username = authentication.getName();\n    password = authentication.getCredentials();\n    List&lt;Customer&gt; customers = customerRestService.getCustomerList();\n\n    model.addAttribute(&quot;customers&quot;, customers);\n\n    return &quot;list-customers&quot;;\n}\n\n@GetMapping(&quot;/showFormToAddCustomer&quot;)\npublic String showFormToAddCustomer(Model model) {\n    Customer customer = new Customer();\n    model.addAttribute(&quot;customer&quot;, customer);\n    return &quot;customer-form&quot;;\n}\n\n@PostMapping(&quot;/saveCustomer&quot;)\npublic String saveCustomer(@ModelAttribute(&quot;customer&quot;) Customer customer) {\n    System.out.println(&quot;\\n&quot; + customer);\n    System.out.println(customer.getTransactions());\n    customerRestService.saveCustomer(customer);\n    return &quot;redirect:/customers/list&quot;;\n}\n\n@GetMapping(&quot;/showFormToUpdateCustomer&quot;)\npublic String showformForUpdate(@RequestParam(&quot;customerId&quot;) int id,\n                                Model model) {\n    Customer customer = customerRestService.findCustomerById(id);\n    System.out.println(customer);\n    System.out.println(customer.getTransactions());\n    \n    model.addAttribute(&quot;customer&quot;, customer);\n    \n    return &quot;customer-form&quot;;\n}\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class CustomerRestServiceImple implements CustomerRestService{\nprivate RestTemplate restTemplate;\n\nprivate String restUrl;\n\n@Autowired\npublic CustomerRestServiceImple(RestTemplate restTemplate,\n                                @Value(&quot;${crm.rest.url}&quot;) String restUrl) {\n    this.restTemplate = restTemplate;\n    this.restUrl = restUrl;\n}\n\nprivate HttpHeaders httpHeaders() {\n    String username = CustomerController.username;\n    Object password = CustomerController.password;\n\n    String plainCreds = username+&quot;:&quot;+password.toString();\n    byte[] plainCredsBytes = plainCreds.getBytes();\n    byte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\n    String base64Creds = new String(base64CredsBytes);\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds);\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    //HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\n    return headers;\n}\n\n@Override\npublic List&lt;Customer&gt; getCustomerList() {\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(httpHeaders());\n\n    ResponseEntity&lt;List&lt;Customer&gt;&gt; responseEntity = restTemplate.exchange(restUrl, HttpMethod.GET, request,\n            new ParameterizedTypeReference&lt;List&lt;Customer&gt;&gt;() {});\n\n    List&lt;Customer&gt; customers = responseEntity.getBody();\n\n    return customers;\n}\n\n@Override\npublic Customer findCustomerById(int id) {\n    //Customer customer = restTemplate.getForObject(restUrl + &quot;/&quot; + id, Customer.class);\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(httpHeaders());\n    ResponseEntity&lt;Customer&gt; responseEntity = restTemplate.exchange(restUrl + &quot;/&quot; + id, HttpMethod.GET, request, Customer.class);\n    Customer customer = responseEntity.getBody();\n    return customer;\n}\n\n@Override\npublic void saveCustomer(Customer customer) {\n    System.out.println(&quot;\\n&quot; + customer);\n    System.out.println(customer.getTransactions());\n\n    HttpEntity&lt;Customer&gt; request = new HttpEntity&lt;&gt;(customer, httpHeaders());\n    int customerId = customer.getId();\n\n    if(customerId == 0){\n        restTemplate.exchange(restUrl, HttpMethod.POST, request, Customer.class);\n    } else {\n        restTemplate.exchange(restUrl, HttpMethod.PUT, request, Customer.class);\n        }\n}\n}\n</code></pre>\n<p>Html Form:</p>\n<pre><code>    &lt;h3&gt;Customer Directory&lt;/h3&gt;\n    &lt;hr&gt;\n\n    &lt;p class=&quot;h4 mb-4&quot;&gt;Save Customer&lt;/p&gt;\n\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/customers/saveCustomer}&quot;\n          th:object=&quot;${customer}&quot; method=&quot;POST&quot;&gt;\n\n        &lt;!-- Add hidden form field to handle the update --&gt;\n        &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot;\n            class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;First Name&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot;\n               class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Last Name&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;\n               class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Email&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{branch}&quot;\n               class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Branch&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{balance}&quot;\n               class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Balance&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{transactions}&quot;\n               class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Transactions&quot;&gt;\n\n        &lt;!--input type=&quot;hidden&quot; th:field=&quot;*{transactions}&quot; /--&gt;\n\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save&lt;/button&gt;\n\n    &lt;/form&gt;\n\n    &lt;hr&gt;\n    &lt;a th:href=&quot;@{/customers/list}&quot;&gt;Back to Customers List&lt;/a&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n\n<p>Error:</p>\n<blockquote>\n<p>Field error in object 'customer' on field 'transactions': rejected value [[Transaction{id=1, amount=1000.0}, Transaction{id=3, amount=100.0}]]; codes [typeMismatch.customer.transactions,typeMismatch.transactions,typeMismatch.java.util.List,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customer.transactions,transactions]; arguments []; default message [transactions]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.util.List' for property 'transactions'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@javax.persistence.OneToMany @javax.persistence.JoinColumn com.kaneki.springboot.bankapplication.entity.Transaction] for value '[Transaction{id=1, amount=1000.0}, Transaction{id=3, amount=100.0}]'; nested exception is java.lang.NumberFormatException: For input string: &quot;[Transaction{id=1, amount=1000.0}, Transaction{id=3, amount=100.0}]&quot;]</p>\n</blockquote>\n"},{"tags":["java","linux","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1544196176,"post_id":53668630,"comment_id":94202151,"body_markdown":"Take a look the sample project here https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm#BABGBBDH","body":"Take a look the sample project here <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm#BABGBBDH\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/get-started-tutorial/&hellip;</a>"},{"owner":{"account_id":14085480,"reputation":143,"user_id":10175344,"display_name":"Petr M"},"score":0,"creation_date":1575884183,"post_id":53668630,"comment_id":104702163,"body_markdown":"Try this https://stackoverflow.com/questions/53668630/how-to-run-javafx-applications-in-intellij-idea-ide","body":"Try this <a href=\"https://stackoverflow.com/questions/53668630/how-to-run-javafx-applications-in-intellij-idea-ide\" title=\"how to run javafx applications in intellij idea ide\">stackoverflow.com/questions/53668630/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544182187,"creation_date":1544182187,"answer_id":53668675,"question_id":53668630,"body_markdown":"There is no strictly defined javafx in openjdk8.\r\n\r\nYou need to install **openjfx** via commandline:\r\n\r\n    sudo apt-get install openjfx","title":"How to run javafx applications in intellij idea IDE","body":"<p>There is no strictly defined javafx in openjdk8.</p>\n\n<p>You need to install <strong>openjfx</strong> via commandline:</p>\n\n<pre><code>sudo apt-get install openjfx\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10485339"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1635440193,"creation_date":1544348714,"answer_id":53691070,"question_id":53668630,"body_markdown":"As explained on [official OpenJFX website][1]\r\n\r\n\r\n- open your intellij idea IDE and create new Project\r\n- Go to **File &gt; Project Structure** \r\n- Go to **Project Settings &gt; Libraries**\r\n- Click on **+** button\r\n- Locate **..\\openjfx-11.0.1_windows-x64_bin-sdk\\javafx-sdk-11.0.1\\lib** folder from extracted zip of openJFX 11\r\n- Apply settings and click **ok**\r\n- Go to **File &gt; Settings**\r\n- In Settings go to **Appearance &amp; Behavior &gt; System Settings &gt; Path Variables**\r\n- Click on **+** and add new path variable name it **PATH_TO_FX** and in value field locate  **..\\openjfx-11.0.1_windows-x64_bin-sdk\\javafx-sdk-11.0.1\\lib** folder\r\n- Apply settings and click **ok**\r\n- The go to **Run &gt; Edit Configurations** \r\n- Select your Application from **Application &gt; {your application name}**\r\n- Then click on **Configuration** tab and in **VM options** field write this: \r\n  **--module-path ${PATH_TO_FX} --add-modules=javafx.controls,javafx.fxml** \r\n- Then Click on \r\n[Edit templates button][2] select Application in Templates and again in **VM options** field write this: \r\n  **--module-path ${PATH_TO_FX} --add-modules=javafx.controls,javafx.fxml**\r\n- Apply settings and click **ok** and now you are good to go\r\n- You have to do this whenever you create new project in intellij\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-Intellij\r\n  [2]: https://i.stack.imgur.com/pjxWS.png","title":"How to run javafx applications in intellij idea IDE","body":"<p>As explained on <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">official OpenJFX website</a></p>\n<ul>\n<li>open your intellij idea IDE and create new Project</li>\n<li>Go to <strong>File &gt; Project Structure</strong></li>\n<li>Go to <strong>Project Settings &gt; Libraries</strong></li>\n<li>Click on <strong>+</strong> button</li>\n<li>Locate <strong>..\\openjfx-11.0.1_windows-x64_bin-sdk\\javafx-sdk-11.0.1\\lib</strong> folder from extracted zip of openJFX 11</li>\n<li>Apply settings and click <strong>ok</strong></li>\n<li>Go to <strong>File &gt; Settings</strong></li>\n<li>In Settings go to <strong>Appearance &amp; Behavior &gt; System Settings &gt; Path Variables</strong></li>\n<li>Click on <strong>+</strong> and add new path variable name it <strong>PATH_TO_FX</strong> and in value field locate  <strong>..\\openjfx-11.0.1_windows-x64_bin-sdk\\javafx-sdk-11.0.1\\lib</strong> folder</li>\n<li>Apply settings and click <strong>ok</strong></li>\n<li>The go to <strong>Run &gt; Edit Configurations</strong></li>\n<li>Select your Application from <strong>Application &gt; {your application name}</strong></li>\n<li>Then click on <strong>Configuration</strong> tab and in <strong>VM options</strong> field write this:\n<strong>--module-path ${PATH_TO_FX} --add-modules=javafx.controls,javafx.fxml</strong></li>\n<li>Then Click on\n<a href=\"https://i.stack.imgur.com/pjxWS.png\" rel=\"nofollow noreferrer\">Edit templates button</a> select Application in Templates and again in <strong>VM options</strong> field write this:\n<strong>--module-path ${PATH_TO_FX} --add-modules=javafx.controls,javafx.fxml</strong></li>\n<li>Apply settings and click <strong>ok</strong> and now you are good to go</li>\n<li>You have to do this whenever you create new project in intellij</li>\n</ul>\n"}],"owner":{"account_id":10377407,"reputation":385,"user_id":7653231,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13422,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53691070,"answer_count":2,"score":5,"last_activity_date":1635440193,"creation_date":1544182036,"question_id":53668630,"body_markdown":"I am trying to run JavaFX application but there is showing the following error\r\n\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n\r\nUntil this step, I could not import the JavaFX, and I have done it from /usr/lib/jvm/java-8-openjdk-amd64\r\n\r\nCan someone help to solve this error?\r\n\r\nThanks beforehand.\r\nBy the way, I am using lubuntu operating system\r\n\r\n\r\nextra information\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jg3SG.png","title":"How to run javafx applications in intellij idea IDE","body":"<p>I am trying to run JavaFX application but there is showing the following error</p>\n\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n\n<p>Until this step, I could not import the JavaFX, and I have done it from /usr/lib/jvm/java-8-openjdk-amd64</p>\n\n<p>Can someone help to solve this error?</p>\n\n<p>Thanks beforehand.\nBy the way, I am using lubuntu operating system</p>\n\n<p>extra information\n<a href=\"https://i.stack.imgur.com/Jg3SG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jg3SG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","largenumber"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1544330872,"post_id":53689449,"comment_id":94235282,"body_markdown":"Why do you need to edit `BigInteger`s instead of using the methods they provide right there to do math on them and get out new ones?  `BigInteger` is almost certainly the right solution, you just need to use them as intended.","body":"Why do you need to edit <code>BigInteger</code>s instead of using the methods they provide right there to do math on them and get out new ones?  <code>BigInteger</code> is almost certainly the right solution, you just need to use them as intended."},{"owner":{"account_id":5937888,"reputation":1424,"user_id":4763182,"display_name":"BishalG"},"score":0,"creation_date":1544330968,"post_id":53689449,"comment_id":94235294,"body_markdown":"In `BigInteger` library provided by Java , you have almost everything. Please, let us know what operations you are going to perform.","body":"In <code>BigInteger</code> library provided by Java , you have almost everything. Please, let us know what operations you are going to perform."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1544331801,"post_id":53689449,"comment_id":94235401,"body_markdown":"If, rather than infinite-precision _integers_,  you need infinite-precision real numbers (and can live with infinite-precision rational approximations of them)  there&#39;s also `BigDecimal`.","body":"If, rather than infinite-precision <i>integers</i>,  you need infinite-precision real numbers (and can live with infinite-precision rational approximations of them)  there&#39;s also <code>BigDecimal</code>."},{"owner":{"account_id":14249170,"reputation":43,"user_id":10296484,"display_name":"chimmichanngas"},"score":0,"creation_date":1544331914,"post_id":53689449,"comment_id":94235420,"body_markdown":"My goal is to store this number and then add up all possible n digit iterations. Because Big Integer does not allow this, I would not be able to do all of the primitive data functions such as arrays.","body":"My goal is to store this number and then add up all possible n digit iterations. Because Big Integer does not allow this, I would not be able to do all of the primitive data functions such as arrays."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1544332337,"post_id":53689449,"comment_id":94235489,"body_markdown":"Not sure what an &quot;n-digit _iteration_&quot; is, but does it mean you need access to individual digits (or chunks of digits) within the giant numbers?","body":"Not sure what an &quot;n-digit <i>iteration</i>&quot; is, but does it mean you need access to individual digits (or chunks of digits) within the giant numbers?"},{"owner":{"account_id":14249170,"reputation":43,"user_id":10296484,"display_name":"chimmichanngas"},"score":0,"creation_date":1544332577,"post_id":53689449,"comment_id":94235527,"body_markdown":"yes, so basically say you have a number 1234 and 2 as input. The n -digit iteration would then be 2- digit iterations of 1234, so 12, 23, 34 would be the output","body":"yes, so basically say you have a number 1234 and 2 as input. The n -digit iteration would then be 2- digit iterations of 1234, so 12, 23, 34 would be the output"},{"owner":{"account_id":14249170,"reputation":43,"user_id":10296484,"display_name":"chimmichanngas"},"score":0,"creation_date":1544333181,"post_id":53689449,"comment_id":94235601,"body_markdown":"That isn&#39;t important though, my main goal is to findout a work-around for this issue","body":"That isn&#39;t important though, my main goal is to findout a work-around for this issue"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1544333411,"post_id":53689449,"comment_id":94235632,"body_markdown":"Well, you can use combinations of division and remainder by powers of 10 to extract digits (e.g., to extract 23 from 1234, you&#39;d do 1234 / 10 = 123, then 123 %100 = 23.  Or just convert the number to a `String` and use `substring` on the result to get at pieces (e.g., &quot;1234&quot;.substring(1,3)=&quot;23&quot;).","body":"Well, you can use combinations of division and remainder by powers of 10 to extract digits (e.g., to extract 23 from 1234, you&#39;d do 1234 / 10 = 123, then 123 %100 = 23.  Or just convert the number to a <code>String</code> and use <code>substring</code> on the result to get at pieces (e.g., &quot;1234&quot;.substring(1,3)=&quot;23&quot;)."},{"owner":{"account_id":14249170,"reputation":43,"user_id":10296484,"display_name":"chimmichanngas"},"score":0,"creation_date":1544334430,"post_id":53689449,"comment_id":94235767,"body_markdown":"how would i do .tostring","body":"how would i do .tostring"}],"answers":[{"tags":[],"owner":{"display_name":"user10485339"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635440183,"creation_date":1544335029,"answer_id":53689807,"question_id":53689449,"body_markdown":"You can create and edit BigInteger In java, e.g.:\r\n\r\n    BigInteger bigInteger = new BigInteger(&quot;3&quot;);\r\n    bigInteger = bigInteger.pow(600);\r\n    bigInteger = bigInteger.add(new BigInteger(&quot;20&quot;));\r\n    bigInteger = bigInteger.subtract(new BigInteger(&quot;20&quot;));\r\n    bigInteger = bigInteger.multiply(new BigInteger(&quot;20&quot;));\r\n    bigInteger = bigInteger.divide(new BigInteger(&quot;20&quot;));\r\n\r\nAnd you can get any part of BigInteger as an Integer, e.g.:\r\n\r\n    int i = Integer.parseInt(bigInteger.toString().substring(3, 8));\r\n\r\nI hope this will help you.\r\n","title":"How should I store a extremely large Data Type","body":"<p>You can create and edit BigInteger In java, e.g.:</p>\n<pre><code>BigInteger bigInteger = new BigInteger(&quot;3&quot;);\nbigInteger = bigInteger.pow(600);\nbigInteger = bigInteger.add(new BigInteger(&quot;20&quot;));\nbigInteger = bigInteger.subtract(new BigInteger(&quot;20&quot;));\nbigInteger = bigInteger.multiply(new BigInteger(&quot;20&quot;));\nbigInteger = bigInteger.divide(new BigInteger(&quot;20&quot;));\n</code></pre>\n<p>And you can get any part of BigInteger as an Integer, e.g.:</p>\n<pre><code>int i = Integer.parseInt(bigInteger.toString().substring(3, 8));\n</code></pre>\n<p>I hope this will help you.</p>\n"}],"owner":{"account_id":14249170,"reputation":43,"user_id":10296484,"display_name":"chimmichanngas"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53689807,"answer_count":1,"score":2,"last_activity_date":1635440183,"creation_date":1544330715,"question_id":53689449,"body_markdown":"I am currently posed with an issue regarding a super large number input. The number may range from 0 - 10^50. I have done research regarding this, but I did not run into anything that could help me. The closest thing was a BigInteger, but that does not help with my program as it prevents editing the Big Integer variable although it can store infinitely large numbers. I also tried doubles, but they did weird things to my program when doing operations on the numbers. Any suggestions or work-around?","title":"How should I store a extremely large Data Type","body":"<p>I am currently posed with an issue regarding a super large number input. The number may range from 0 - 10^50. I have done research regarding this, but I did not run into anything that could help me. The closest thing was a BigInteger, but that does not help with my program as it prevents editing the Big Integer variable although it can store infinitely large numbers. I also tried doubles, but they did weird things to my program when doing operations on the numbers. Any suggestions or work-around?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":1058078,"reputation":728,"user_id":4446563,"display_name":"Link64"},"score":0,"creation_date":1546940631,"post_id":54088768,"comment_id":95010365,"body_markdown":"I don&#39;t think that setting the label text is the problem here. I feel like having a label with a keypress event is.\nMy guess is that you should add the key press listener to the scene and not to the label.","body":"I don&#39;t think that setting the label text is the problem here. I feel like having a label with a keypress event is. My guess is that you should add the key press listener to the scene and not to the label."},{"owner":{"account_id":13876100,"reputation":489,"user_id":10191398,"display_name":"kentforth"},"score":0,"creation_date":1546941262,"post_id":54088768,"comment_id":95010703,"body_markdown":"@Link64 how can I do it in Controller? scene is initialized in Main class. Should I wrote the code with key press  in Main?","body":"@Link64 how can I do it in Controller? scene is initialized in Main class. Should I wrote the code with key press  in Main?"},{"owner":{"account_id":5878996,"reputation":691,"user_id":4629012,"display_name":"Pagbo"},"score":0,"creation_date":1546944242,"post_id":54088768,"comment_id":95012433,"body_markdown":"@kentforth You can retrieve the scene from any node which belongs to with the method `Node#getScene()`, then in your case, it could be `category1.getScene()` .","body":"@kentforth You can retrieve the scene from any node which belongs to with the method <code>Node#getScene()</code>, then in your case, it could be <code>category1.getScene()</code> ."},{"owner":{"account_id":13876100,"reputation":489,"user_id":10191398,"display_name":"kentforth"},"score":0,"creation_date":1546945565,"post_id":54088768,"comment_id":95013161,"body_markdown":"@Pagbo can you check my last edit?","body":"@Pagbo can you check my last edit?"},{"owner":{"account_id":5878996,"reputation":691,"user_id":4629012,"display_name":"Pagbo"},"score":0,"creation_date":1546946574,"post_id":54088768,"comment_id":95013717,"body_markdown":"You have a `NullPointerException` because you load your FXML and then execute your `initialize` method before adding it to the scene, and then `category1.getScene()` is `null` in your initiliaze method.","body":"You have a <code>NullPointerException</code> because you load your FXML and then execute your <code>initialize</code> method before adding it to the scene, and then <code>category1.getScene()</code> is <code>null</code> in your initiliaze method."},{"owner":{"account_id":13876100,"reputation":489,"user_id":10191398,"display_name":"kentforth"},"score":0,"creation_date":1546947562,"post_id":54088768,"comment_id":95014241,"body_markdown":"@Pagbo where should I place  `category1.getScene()`?","body":"@Pagbo where should I place  <code>category1.getScene()</code>?"}],"answers":[{"tags":[],"owner":{"display_name":"user10485339"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635440125,"creation_date":1546952012,"answer_id":54092235,"question_id":54088768,"body_markdown":"You can do so by setting key press event(`setOnKeyPressed`) to parent of `Label`\r\ninstead of `Scene`. Trying to add event to `Scene` will give error because `initialize` will be called before creation of the `Scene`.\r\n\r\nLet&#39;s say you have FXML file called `sample.fxml` and In that file you have `GridPane` having id `root` and a `Label` having id `category1`\r\n\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;GridPane fx:controller=&quot;Controller&quot;\r\n              xmlns:fx=&quot;http://javafx.com/fxml&quot; alignment=&quot;center&quot; hgap=&quot;10&quot; vgap=&quot;10&quot; fx:id=&quot;root&quot;&gt;\r\n        &lt;Label text=&quot;Category&quot; fx:id=&quot;category1&quot;/&gt;\r\n    &lt;/GridPane&gt;\r\n\r\nAnd you have Controller class called `Controller`. To change label of `category1` when any key is pressed, first you have to set `category1` focus traversable by calling `setFocusTraversable` method on `category1` and passing `true`. And then you have to add key press event on `root`(parent of `category1`), As shown below\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.input.KeyEvent;\r\n    import javafx.scene.layout.GridPane;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Controller implements Initializable{\r\n        \r\n        @FXML private Label category1;\r\n        @FXML private GridPane root;\r\n        \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources){\r\n            category1.setFocusTraversable(true);\r\n            root.setOnKeyPressed(this::handle);\r\n        }\r\n        \r\n        private void handle(KeyEvent keyEvent){\r\n            category1.setText(&quot;Key &quot; + keyEvent.getCode().getName() + &quot; is pressed&quot;);\r\n        }\r\n        \r\n    }\r\n\r\nAnd here is simple version of `Main` class\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application{\r\n        \r\n        public static void main(String[] args){\r\n            launch(args);\r\n        }\r\n        \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n            Scene scene = new Scene(root, 300, 275);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n        \r\n    }\r\n\r\n","title":"How to set text to a label on keyboard key press in JavaFX application?","body":"<p>You can do so by setting key press event(<code>setOnKeyPressed</code>) to parent of <code>Label</code>\ninstead of <code>Scene</code>. Trying to add event to <code>Scene</code> will give error because <code>initialize</code> will be called before creation of the <code>Scene</code>.</p>\n<p>Let's say you have FXML file called <code>sample.fxml</code> and In that file you have <code>GridPane</code> having id <code>root</code> and a <code>Label</code> having id <code>category1</code></p>\n<pre><code>&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;GridPane fx:controller=&quot;Controller&quot;\n          xmlns:fx=&quot;http://javafx.com/fxml&quot; alignment=&quot;center&quot; hgap=&quot;10&quot; vgap=&quot;10&quot; fx:id=&quot;root&quot;&gt;\n    &lt;Label text=&quot;Category&quot; fx:id=&quot;category1&quot;/&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p>And you have Controller class called <code>Controller</code>. To change label of <code>category1</code> when any key is pressed, first you have to set <code>category1</code> focus traversable by calling <code>setFocusTraversable</code> method on <code>category1</code> and passing <code>true</code>. And then you have to add key press event on <code>root</code>(parent of <code>category1</code>), As shown below</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.GridPane;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Controller implements Initializable{\n    \n    @FXML private Label category1;\n    @FXML private GridPane root;\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources){\n        category1.setFocusTraversable(true);\n        root.setOnKeyPressed(this::handle);\n    }\n    \n    private void handle(KeyEvent keyEvent){\n        category1.setText(&quot;Key &quot; + keyEvent.getCode().getName() + &quot; is pressed&quot;);\n    }\n    \n}\n</code></pre>\n<p>And here is simple version of <code>Main</code> class</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application{\n    \n    public static void main(String[] args){\n        launch(args);\n    }\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\n        Scene scene = new Scene(root, 300, 275);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":13876100,"reputation":489,"user_id":10191398,"display_name":"kentforth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54092235,"answer_count":1,"score":0,"last_activity_date":1635440125,"creation_date":1546939692,"question_id":54088768,"body_markdown":"I&#39;m making JavaFX application with Scene Builder. I have Main Class that launch Controller with main window. \r\n\r\nI have a label in the Controller class\r\n\r\nI need to assign keyboard key press in main window. \r\n\r\nExample: if I press &#39;1&#39; on keyboard the text of a label should be set as &quot;key 1 is pressed. \r\n\r\nIf I press &quot;2&quot; on keyboard the text should be set as &quot;key 2 is pressed&quot;\r\n\r\n**How Can I do that?**\r\n\r\n\r\nI&#39;ve tried  to use this code in initialize method, but nothing happens:\r\n\r\n      category1.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n      @Override\r\n      public void handle(KeyEvent ke) {\r\n        KeyCode kc = ke.getCode();\r\n        if((kc.equals(KeyCode.D))) {\r\n          category1.setText(&quot;Key D is pressed&quot;);\r\n        }\r\n      }\r\n    });\r\n\r\n**Main Class:**\r\npackage src.card;\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.input.*;\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.StageStyle;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n        launch(args);\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void start(Stage primaryStage) throws Exception {\r\n    \r\n        try {\r\n    \r\n          Parent root = FXMLLoader.load(getClass().getResource(&quot;resources/fxml/card.fxml&quot;));\r\n          Scene scene = new Scene(root, 1600, 600);\r\n          primaryStage.setScene(scene);\r\n          scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n          primaryStage.initStyle(StageStyle.UNDECORATED);\r\n          primaryStage.setMaximized(true);\r\n          primaryStage.setResizable(true);\r\n    \r\n          primaryStage.getIcons().add(new Image(&quot;src/card/resources/logo-icon.png&quot;));\r\n          primaryStage.show();\r\n    \r\n          //adding resize and drag primary stage\r\n          ResizeHelper.addResizeListener(primaryStage);\r\n    \r\n    \r\n          //assign ALT+ENTER to maximize window\r\n          final KeyCombination kb = new KeyCodeCombination(KeyCode.ENTER, KeyCombination.CONTROL_DOWN);\r\n          scene.addEventHandler(KeyEvent.KEY_PRESSED, new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent event) {\r\n              if (kb.match(event)) {\r\n                primaryStage.setMaximized(!primaryStage.isMaximized());\r\n                primaryStage.setResizable(true);\r\n                Controller cont = Context.getInstance().getController();\r\n                if (!primaryStage.isMaximized()) {\r\n                  cont.getBtnFont().setPrefWidth(20);\r\n                  cont.getBtnPalette().setPrefWidth(20);\r\n                  cont.getBtnQuestCards().setPrefWidth(20);\r\n                  cont.getBtnNonQuestCards().setPrefWidth(20);\r\n    \r\n                } else if (primaryStage.isMaximized()){\r\n                  cont.getBtnFont().setPrefWidth(50);\r\n                  cont.getBtnPalette().setPrefWidth(50);\r\n                  cont.getBtnQuestCards().setPrefWidth(50);\r\n                  cont.getBtnNonQuestCards().setPrefWidth(50\r\n                  );\r\n                }\r\n    \r\n              }\r\n            }\r\n          });\r\n    \r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n**Controller:**\r\n\r\n    @FXML  private Label category1\r\n\r\n    @FXML public void initialize(URL location, ResourceBundle resources) {\r\n\r\n        category1.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n          @Override\r\n          public void handle(KeyEvent ke) {\r\n            KeyCode kc = ke.getCode();\r\n            if((kc.equals(KeyCode.D))) {\r\n              category1.setText(&quot;Key D is pressed&quot;);\r\n            }\r\n          }\r\n        });\r\n    \r\n    \r\n        //register Controller in  Context Class\r\n        Context.getInstance().setController(this);\r\n      }\r\n\r\n**EDIT:**\r\n\r\nI&#39;ve tried to use it in initialize method:\r\n\r\n    category1.getScene().setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n          @Override\r\n          public void handle(KeyEvent ke) {\r\n            KeyCode kc = ke.getCode();\r\n            if((kc.equals(KeyCode.D))) {\r\n              category1.setText(&quot;Key D is pressed&quot;);\r\n            }\r\n          }\r\n        });\r\n\r\nand I got errors:\r\n\r\n    javafx.fxml.LoadException: \r\n    /D:/IDEA%20Projects/CategoryCards/out/production/CategoryCards/src/card/resources/fxml/card.fxml\r\n    \r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\r\n\r\nIf I remove `getScene()` from category1  - everything is going fine and application launch\r\n\r\nIt seems when I use `getScene()` it try to get fxml file from out folder, not my main folder, but how can I fix this?","title":"How to set text to a label on keyboard key press in JavaFX application?","body":"<p>I'm making JavaFX application with Scene Builder. I have Main Class that launch Controller with main window. </p>\n\n<p>I have a label in the Controller class</p>\n\n<p>I need to assign keyboard key press in main window. </p>\n\n<p>Example: if I press '1' on keyboard the text of a label should be set as \"key 1 is pressed. </p>\n\n<p>If I press \"2\" on keyboard the text should be set as \"key 2 is pressed\"</p>\n\n<p><strong>How Can I do that?</strong></p>\n\n<p>I've tried  to use this code in initialize method, but nothing happens:</p>\n\n<pre><code>  category1.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n  @Override\n  public void handle(KeyEvent ke) {\n    KeyCode kc = ke.getCode();\n    if((kc.equals(KeyCode.D))) {\n      category1.setText(\"Key D is pressed\");\n    }\n  }\n});\n</code></pre>\n\n<p><strong>Main Class:</strong>\npackage src.card;</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.input.*;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\n\npublic class Main extends Application {\n\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n\n  @Override\n  public void start(Stage primaryStage) throws Exception {\n\n    try {\n\n      Parent root = FXMLLoader.load(getClass().getResource(\"resources/fxml/card.fxml\"));\n      Scene scene = new Scene(root, 1600, 600);\n      primaryStage.setScene(scene);\n      scene.getStylesheets().add(getClass().getResource(\"style.css\").toExternalForm());\n      primaryStage.initStyle(StageStyle.UNDECORATED);\n      primaryStage.setMaximized(true);\n      primaryStage.setResizable(true);\n\n      primaryStage.getIcons().add(new Image(\"src/card/resources/logo-icon.png\"));\n      primaryStage.show();\n\n      //adding resize and drag primary stage\n      ResizeHelper.addResizeListener(primaryStage);\n\n\n      //assign ALT+ENTER to maximize window\n      final KeyCombination kb = new KeyCodeCombination(KeyCode.ENTER, KeyCombination.CONTROL_DOWN);\n      scene.addEventHandler(KeyEvent.KEY_PRESSED, new EventHandler&lt;KeyEvent&gt;() {\n        @Override\n        public void handle(KeyEvent event) {\n          if (kb.match(event)) {\n            primaryStage.setMaximized(!primaryStage.isMaximized());\n            primaryStage.setResizable(true);\n            Controller cont = Context.getInstance().getController();\n            if (!primaryStage.isMaximized()) {\n              cont.getBtnFont().setPrefWidth(20);\n              cont.getBtnPalette().setPrefWidth(20);\n              cont.getBtnQuestCards().setPrefWidth(20);\n              cont.getBtnNonQuestCards().setPrefWidth(20);\n\n            } else if (primaryStage.isMaximized()){\n              cont.getBtnFont().setPrefWidth(50);\n              cont.getBtnPalette().setPrefWidth(50);\n              cont.getBtnQuestCards().setPrefWidth(50);\n              cont.getBtnNonQuestCards().setPrefWidth(50\n              );\n            }\n\n          }\n        }\n      });\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n\n  }\n\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@FXML  private Label category1\n\n@FXML public void initialize(URL location, ResourceBundle resources) {\n\n    category1.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n      @Override\n      public void handle(KeyEvent ke) {\n        KeyCode kc = ke.getCode();\n        if((kc.equals(KeyCode.D))) {\n          category1.setText(\"Key D is pressed\");\n        }\n      }\n    });\n\n\n    //register Controller in  Context Class\n    Context.getInstance().setController(this);\n  }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I've tried to use it in initialize method:</p>\n\n<pre><code>category1.getScene().setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n      @Override\n      public void handle(KeyEvent ke) {\n        KeyCode kc = ke.getCode();\n        if((kc.equals(KeyCode.D))) {\n          category1.setText(\"Key D is pressed\");\n        }\n      }\n    });\n</code></pre>\n\n<p>and I got errors:</p>\n\n<pre><code>javafx.fxml.LoadException: \n/D:/IDEA%20Projects/CategoryCards/out/production/CategoryCards/src/card/resources/fxml/card.fxml\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\n</code></pre>\n\n<p>If I remove <code>getScene()</code> from category1  - everything is going fine and application launch</p>\n\n<p>It seems when I use <code>getScene()</code> it try to get fxml file from out folder, not my main folder, but how can I fix this?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":8154208,"reputation":4189,"user_id":6140314,"display_name":"Mohamed Anees A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547007313,"creation_date":1547007313,"answer_id":54103158,"question_id":54103126,"body_markdown":"Why would you get text from toggle? Anyways, It has only two states true or false. We can use the states to infer automatically. Toggle buttons only give you the state, but cannot give a text. \r\n\r\nIf you are specific to hold a text, you should probably go with dropdown.","title":"How to getText from the Toggle Button in javafx","body":"<p>Why would you get text from toggle? Anyways, It has only two states true or false. We can use the states to infer automatically. Toggle buttons only give you the state, but cannot give a text. </p>\n\n<p>If you are specific to hold a text, you should probably go with dropdown.</p>\n"},{"tags":[],"owner":{"account_id":15064329,"reputation":161,"user_id":10872012,"display_name":"Calvin Iyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547007513,"creation_date":1547007513,"answer_id":54103172,"question_id":54103126,"body_markdown":"If you want to have a value associated with a `ToggleButton` you should use the `setUserData` method for the buttons. This can then be fetched back by using the `getUserData` method.","title":"How to getText from the Toggle Button in javafx","body":"<p>If you want to have a value associated with a <code>ToggleButton</code> you should use the <code>setUserData</code> method for the buttons. This can then be fetched back by using the <code>getUserData</code> method.</p>\n"},{"tags":[],"owner":{"display_name":"user10485339"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635440106,"creation_date":1547007642,"answer_id":54103185,"question_id":54103126,"body_markdown":"Any variable that you use in `handle()` of `EventHandler` must be `final` or [effectively finel][1].\r\n\r\nHere is solution for your problem:\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.ToggleButton;\r\n    import javafx.scene.layout.GridPane;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class TheatreController implements Initializable {\r\n        \r\n        @FXML\r\n        private GridPane middleGridPane;\r\n        \r\n        private final int MAX_ROW = 5;\r\n        private final int MAX_COL = 5;\r\n        \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            int countRow = 1;\r\n            ToggleButton[][] seats = new ToggleButton[MAX_ROW][MAX_COL];\r\n            \r\n            char lastRow = &#39;A&#39; + (MAX_ROW - 1);\r\n            \r\n            for(char row = &#39;A&#39;; row &lt; lastRow; row++){\r\n                for (int col = 1; col &lt; MAX_COL; col++){\r\n                    seats[countRow][col] = new ToggleButton(String.format(row + &quot;%02d&quot;, col));\r\n                    seats[countRow][col].setPrefWidth(50);\r\n                    middleGridPane.add(seats[countRow][col], countRow, col);\r\n                    \r\n                    //effectively final variable to use in handle method of EventHandler\r\n                    int finalCountRow = countRow;\r\n                    int finalCol      = col;\r\n                    \r\n                    seats[countRow][col].setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                        @Override\r\n                        public void handle(ActionEvent event) {\r\n        \r\n                            //now you can get text from seats[finalCountRow][finalCol]\r\n                            System.out.println(seats[finalCountRow][finalCol].getText());\r\n                            event.getEventType().getName();\r\n                        }\r\n                    });\r\n                }\r\n                countRow++;\r\n            }\r\n        }\r\n        \r\n        @FXML\r\n        public void bookSeat(){\r\n        \r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20938095/difference-between-final-and-effectively-final","title":"How to getText from the Toggle Button in javafx","body":"<p>Any variable that you use in <code>handle()</code> of <code>EventHandler</code> must be <code>final</code> or <a href=\"https://stackoverflow.com/questions/20938095/difference-between-final-and-effectively-final\">effectively finel</a>.</p>\n<p>Here is solution for your problem:</p>\n<pre><code>import javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.layout.GridPane;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class TheatreController implements Initializable {\n    \n    @FXML\n    private GridPane middleGridPane;\n    \n    private final int MAX_ROW = 5;\n    private final int MAX_COL = 5;\n    \n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        int countRow = 1;\n        ToggleButton[][] seats = new ToggleButton[MAX_ROW][MAX_COL];\n        \n        char lastRow = 'A' + (MAX_ROW - 1);\n        \n        for(char row = 'A'; row &lt; lastRow; row++){\n            for (int col = 1; col &lt; MAX_COL; col++){\n                seats[countRow][col] = new ToggleButton(String.format(row + &quot;%02d&quot;, col));\n                seats[countRow][col].setPrefWidth(50);\n                middleGridPane.add(seats[countRow][col], countRow, col);\n                \n                //effectively final variable to use in handle method of EventHandler\n                int finalCountRow = countRow;\n                int finalCol      = col;\n                \n                seats[countRow][col].setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                    @Override\n                    public void handle(ActionEvent event) {\n    \n                        //now you can get text from seats[finalCountRow][finalCol]\n                        System.out.println(seats[finalCountRow][finalCol].getText());\n                        event.getEventType().getName();\n                    }\n                });\n            }\n            countRow++;\n        }\n    }\n    \n    @FXML\n    public void bookSeat(){\n    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13872139,"reputation":111,"user_id":10014930,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54103185,"answer_count":3,"score":2,"last_activity_date":1635440106,"creation_date":1547006964,"question_id":54103126,"body_markdown":"I am new to JavaFX. I&#39;m working on the movie booking project. I have tried to retrieve the text from toggle button after looping it, but I don&#39;t see the getText() method. Is there any way to get the text from toggle button. \r\n\r\nHere is my code:\r\n\r\n    package theatre;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.ToggleButton;\r\n    import javafx.scene.layout.GridPane;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class TheatreController implements Initializable {\r\n    \r\n    @FXML\r\n    private GridPane middleGridPane;\r\n    \r\n    private final int MAX_ROW = 5;\r\n    private final int MAX_COL = 5;\r\n    \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        int countRow = 1;\r\n        ToggleButton[][] seats = new ToggleButton[MAX_ROW][MAX_COL];\r\n    \r\n        char lastRow = &#39;A&#39; + (MAX_ROW - 1);\r\n    \r\n        for(char row = &#39;A&#39;; row &lt; lastRow; row++){\r\n            for (int col = 1; col &lt; MAX_COL; col++){\r\n                seats[countRow][col] = new ToggleButton(String.format(row + &quot;%02d&quot;, col));\r\n                seats[countRow][col].setPrefWidth(50);\r\n                middleGridPane.add(seats[countRow][col], countRow, col);\r\n                seats[countRow][col].setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                    @Override\r\n                    public void handle(ActionEvent event) {\r\n                        // Can&#39;t get text from here\r\n                        event.getEventType().getName();\r\n                    }\r\n                });\r\n    \r\n            }\r\n            countRow++;\r\n        }\r\n    }\r\n    \r\n    @FXML\r\n    public void bookSeat(){\r\n    \r\n    }\r\n    }\r\n\r\n\r\n","title":"How to getText from the Toggle Button in javafx","body":"<p>I am new to JavaFX. I'm working on the movie booking project. I have tried to retrieve the text from toggle button after looping it, but I don't see the getText() method. Is there any way to get the text from toggle button. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>package theatre;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.layout.GridPane;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class TheatreController implements Initializable {\n\n@FXML\nprivate GridPane middleGridPane;\n\nprivate final int MAX_ROW = 5;\nprivate final int MAX_COL = 5;\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    int countRow = 1;\n    ToggleButton[][] seats = new ToggleButton[MAX_ROW][MAX_COL];\n\n    char lastRow = 'A' + (MAX_ROW - 1);\n\n    for(char row = 'A'; row &lt; lastRow; row++){\n        for (int col = 1; col &lt; MAX_COL; col++){\n            seats[countRow][col] = new ToggleButton(String.format(row + \"%02d\", col));\n            seats[countRow][col].setPrefWidth(50);\n            middleGridPane.add(seats[countRow][col], countRow, col);\n            seats[countRow][col].setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    // Can't get text from here\n                    event.getEventType().getName();\n                }\n            });\n\n        }\n        countRow++;\n    }\n}\n\n@FXML\npublic void bookSeat(){\n\n}\n}\n</code></pre>\n"},{"tags":["java","javafx","javafx-11"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1548432630,"post_id":54365562,"comment_id":95551981,"body_markdown":"Please clarify what are you trying to achieve ? Do you want the rectangle to respond to scroll after drag is finished ? Or while mouse is dragged ?  What is the expected result ? What is the actual result ? Is the problem with scroll or with scroll + &lt;cntrl&gt; down ?  Add the needed information to the question, not as comments.","body":"Please clarify what are you trying to achieve ? Do you want the rectangle to respond to scroll after drag is finished ? Or while mouse is dragged ?  What is the expected result ? What is the actual result ? Is the problem with scroll or with scroll + &lt;cntrl&gt; down ?  Add the needed information to the question, not as comments."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1548438553,"post_id":54365562,"comment_id":95555076,"body_markdown":"Sorry, but I don&#39;t see how my questions were answered: &quot; Do you want the rectangle to respond to scroll after drag is finished ? Or while mouse is dragged ? What is the expected result ? What is the actual result ? Is the problem with scroll or with scroll + &lt;cntrl&gt; down ?&quot;  ( `handleScroll` is invoked only when you scroll. Not when you drag).","body":"Sorry, but I don&#39;t see how my questions were answered: &quot; Do you want the rectangle to respond to scroll after drag is finished ? Or while mouse is dragged ? What is the expected result ? What is the actual result ? Is the problem with scroll or with scroll + &lt;cntrl&gt; down ?&quot;  ( <code>handleScroll</code> is invoked only when you scroll. Not when you drag)."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1548477752,"post_id":54365562,"comment_id":95565637,"body_markdown":"&quot;I have no problem with handleScroll&quot; how do you know ? when you &quot;run the code and change scale using (ctrl+mouse wheel)&quot; you invoke `handleScroll` which modifies group scale and transition. If there is no problem with `handleScroll` remove it and hard code a certain scale for testing. This will make you code Mcve.","body":"&quot;I have no problem with handleScroll&quot; how do you know ? when you &quot;run the code and change scale using (ctrl+mouse wheel)&quot; you invoke <code>handleScroll</code> which modifies group scale and transition. If there is no problem with <code>handleScroll</code> remove it and hard code a certain scale for testing. This will make you code Mcve."}],"answers":[{"tags":[],"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548658517,"creation_date":1548623532,"answer_id":54392917,"question_id":54365562,"body_markdown":"Not the cleanest way but still a way, the problem is that is very hard to calculate how Scale impact on your group(if somebody knows how to it will be wonderful), so I went around it: \r\n\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.input.ScrollEvent;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MySolution extends Application{\r\n    \r\n        List&lt;Group&gt; groups = new ArrayList&lt;&gt;();\r\n        private Group  group;\r\n        private Rectangle object ;\r\n        private Pane pane;\r\n        private double mousePointX;\r\n        private double mousePointY;\r\n    \r\n        public static void main(String... arguments){ launch(arguments); }\r\n    \r\n        @Override public void start(Stage primaryStage){\r\n    \r\n            group = new Group();\r\n    \r\n            pane = new Pane(group);\r\n            pane.setOnMousePressed(this::recordPosition);\r\n            pane.setOnMouseDragged(this::makeShape);\r\n            pane.setOnScroll(this::handleScroll);\r\n    \r\n            primaryStage.setScene(new Scene(new BorderPane(pane)));\r\n            primaryStage.show();\r\n        }\r\n    \r\n        //record mouse position\r\n        private void recordPosition(MouseEvent event){\r\n            mousePointX = event.getX();\r\n            mousePointY = event.getY();\r\n            object = new Rectangle(0, 0, Color.BLUE);\r\n            object.setStroke(Color.BLACK);\r\n            group.getChildren().addAll(object);\r\n        }\r\n    \r\n        //method to make shape\r\n        private void makeShape(MouseEvent event){\r\n            if(object!=null){\r\n                object.setTranslateX(mousePointX - group.getTranslateX());\r\n                object.setTranslateY(mousePointY - group.getTranslateY());\r\n                object.setHeight(event.getY() - mousePointY);\r\n                object.setWidth(event.getX() - mousePointX);\r\n            }\r\n        }\r\n    \r\n        //method to control scroll\r\n        private void handleScroll(ScrollEvent event){\r\n            if(event.isControlDown()){\r\n                zoom(Math.pow(1.01, event.getDeltaY()), event.getSceneX(), event.getSceneY());\r\n            }else{\r\n                group.setTranslateX(this.group.getTranslateX() + event.getDeltaX());\r\n                group.setTranslateY(this.group.getTranslateY() + event.getDeltaY());\r\n                for (Group g:groups) {\r\n                    g.setTranslateX(g.getTranslateX() + event.getDeltaX());\r\n                    g.setTranslateY(g.getTranslateY() + event.getDeltaY());\r\n                }\r\n            }\r\n            event.consume();\r\n        }\r\n    \r\n        //method to control zoom\r\n        private void zoom(double factor, double x, double y){\r\n            groups.add(group);\r\n            for (Group g:groups) {\r\n                double oldScale = g.getScaleX();\r\n                double scale    = oldScale * factor;\r\n                if(scale &lt; 0.05) scale = 0.05;\r\n                if(scale &gt; 50) scale = 50;\r\n                g.setScaleX(scale);\r\n                g.setScaleY(scale);\r\n                double f      = (scale / oldScale) - 1;\r\n                Bounds bounds = g.localToScene(g.getBoundsInLocal());\r\n                double dx     = (x - (bounds.getWidth() / 2 + bounds.getMinX()));\r\n                double dy     = (y - (bounds.getHeight() / 2 + bounds.getMinY()));\r\n                g.setTranslateX(g.getTranslateX() - f * dx);\r\n                g.setTranslateY(g.getTranslateY() - f * dy);\r\n            }\r\n            group = new Group();\r\n            pane.getChildren().add(group);\r\n        }\r\n    \r\n    }","title":"How to draw shapes in JavaFX when scale of group containing Shape is not default","body":"<p>Not the cleanest way but still a way, the problem is that is very hard to calculate how Scale impact on your group(if somebody knows how to it will be wonderful), so I went around it: </p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MySolution extends Application{\n\n    List&lt;Group&gt; groups = new ArrayList&lt;&gt;();\n    private Group  group;\n    private Rectangle object ;\n    private Pane pane;\n    private double mousePointX;\n    private double mousePointY;\n\n    public static void main(String... arguments){ launch(arguments); }\n\n    @Override public void start(Stage primaryStage){\n\n        group = new Group();\n\n        pane = new Pane(group);\n        pane.setOnMousePressed(this::recordPosition);\n        pane.setOnMouseDragged(this::makeShape);\n        pane.setOnScroll(this::handleScroll);\n\n        primaryStage.setScene(new Scene(new BorderPane(pane)));\n        primaryStage.show();\n    }\n\n    //record mouse position\n    private void recordPosition(MouseEvent event){\n        mousePointX = event.getX();\n        mousePointY = event.getY();\n        object = new Rectangle(0, 0, Color.BLUE);\n        object.setStroke(Color.BLACK);\n        group.getChildren().addAll(object);\n    }\n\n    //method to make shape\n    private void makeShape(MouseEvent event){\n        if(object!=null){\n            object.setTranslateX(mousePointX - group.getTranslateX());\n            object.setTranslateY(mousePointY - group.getTranslateY());\n            object.setHeight(event.getY() - mousePointY);\n            object.setWidth(event.getX() - mousePointX);\n        }\n    }\n\n    //method to control scroll\n    private void handleScroll(ScrollEvent event){\n        if(event.isControlDown()){\n            zoom(Math.pow(1.01, event.getDeltaY()), event.getSceneX(), event.getSceneY());\n        }else{\n            group.setTranslateX(this.group.getTranslateX() + event.getDeltaX());\n            group.setTranslateY(this.group.getTranslateY() + event.getDeltaY());\n            for (Group g:groups) {\n                g.setTranslateX(g.getTranslateX() + event.getDeltaX());\n                g.setTranslateY(g.getTranslateY() + event.getDeltaY());\n            }\n        }\n        event.consume();\n    }\n\n    //method to control zoom\n    private void zoom(double factor, double x, double y){\n        groups.add(group);\n        for (Group g:groups) {\n            double oldScale = g.getScaleX();\n            double scale    = oldScale * factor;\n            if(scale &lt; 0.05) scale = 0.05;\n            if(scale &gt; 50) scale = 50;\n            g.setScaleX(scale);\n            g.setScaleY(scale);\n            double f      = (scale / oldScale) - 1;\n            Bounds bounds = g.localToScene(g.getBoundsInLocal());\n            double dx     = (x - (bounds.getWidth() / 2 + bounds.getMinX()));\n            double dy     = (y - (bounds.getHeight() / 2 + bounds.getMinY()));\n            g.setTranslateX(g.getTranslateX() - f * dx);\n            g.setTranslateY(g.getTranslateY() - f * dy);\n        }\n        group = new Group();\n        pane.getChildren().add(group);\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user10485339"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635440066,"creation_date":1548420149,"question_id":54365562,"body_markdown":"I am learning about creating shapes when mouse is dragged in JavaFX and I can create the shapes when mouse is dragged but a problem shows up when I change the `scaleX` and `scaleY` of the `Group` containing that shape. The problem is that when I try to create a shape when scale is not 1 then the position of shape changes event when I wrote in code to set it&#39;s translate value according to mouse location. I&#39;ve tried to solve this problem many times but I can&#39;t figure out why is this happening or how to resolve this problem.\r\n\r\nHere is My code: \r\n\r\nI am using code to modify `Rectangle` called `object` when mouse is dragged but it&#39;s position is shifting when I drag mouse keeping the scale other than 1.Again for clarification I am trying to create rectangle when mouse is dragged. but it&#39;s positions is not where the mouse is i.e. the position is shifted when scale of group is not 1.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Bounds;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.ScrollEvent;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Example extends Application{\r\n    \r\n    private Group  group;\r\n    private double mousePointX;\r\n    private double mousePointY;\r\n    \r\n    public static void main(String... arguments){ launch(arguments); }\r\n    \r\n    @Override public void start(Stage primaryStage){\r\n        \r\n        group = new Group();\r\n        \r\n        Pane pane = new Pane(group);\r\n        pane.setOnMousePressed(this::recordPosition);\r\n        pane.setOnMouseDragged(this::makeShape);\r\n        pane.setOnScroll(this::handleScroll);\r\n        \r\n        primaryStage.setScene(new Scene(new BorderPane(pane)));\r\n        primaryStage.show();\r\n    }\r\n    \r\n    //record mouse position\r\n    private void recordPosition(MouseEvent event){\r\n        mousePointX = event.getX();\r\n        mousePointY = event.getY();\r\n    }\r\n    \r\n    //method to make shape\r\n    private void makeShape(MouseEvent event){\r\n        Rectangle object;\r\n        object = new Rectangle(200, 200, Color.BLUE);\r\n        object.setStroke(Color.BLACK);\r\n    \r\n        group.getChildren().addAll(object);\r\n        \r\n        object.setTranslateX(mousePointX - group.getTranslateX());\r\n        object.setTranslateY(mousePointY - group.getTranslateY());\r\n        object.setHeight(event.getY() - mousePointY);\r\n        object.setWidth(event.getX() - mousePointX);\r\n    }\r\n    \r\n    //method to control scroll\r\n    private void handleScroll(ScrollEvent event){\r\n        if(event.isControlDown()){\r\n            zoom(Math.pow(1.01, event.getDeltaY()), event.getSceneX(), event.getSceneY());\r\n        }else{\r\n            group.setTranslateX(this.group.getTranslateX() + event.getDeltaX());\r\n            group.setTranslateY(this.group.getTranslateY() + event.getDeltaY());\r\n        }\r\n        event.consume();\r\n    }\r\n    \r\n    //method to control zoom\r\n    private void zoom(double factor, double x, double y){\r\n        double oldScale = group.getScaleX();\r\n        double scale    = oldScale * factor;\r\n        \r\n        if(scale &lt; 0.05) scale = 0.05;\r\n        if(scale &gt; 50) scale = 50;\r\n        \r\n        group.setScaleX(scale);\r\n        group.setScaleY(scale);\r\n        \r\n        double f      = (scale / oldScale) - 1;\r\n        Bounds bounds = this.group.localToScene(this.group.getBoundsInLocal());\r\n        double dx     = (x - (bounds.getWidth() / 2 + bounds.getMinX()));\r\n        double dy     = (y - (bounds.getHeight() / 2 + bounds.getMinY()));\r\n        \r\n        group.setTranslateX(this.group.getTranslateX() - f * dx);\r\n        group.setTranslateY(this.group.getTranslateY() - f * dy);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nSo, What is the correct way to draw a Shape when Scale of the group containing that shape is not 1??\r\n\r\nPlease Suggest me.","title":"How to draw shapes in JavaFX when scale of group containing Shape is not default","body":"<p>I am learning about creating shapes when mouse is dragged in JavaFX and I can create the shapes when mouse is dragged but a problem shows up when I change the <code>scaleX</code> and <code>scaleY</code> of the <code>Group</code> containing that shape. The problem is that when I try to create a shape when scale is not 1 then the position of shape changes event when I wrote in code to set it's translate value according to mouse location. I've tried to solve this problem many times but I can't figure out why is this happening or how to resolve this problem.</p>\n<p>Here is My code:</p>\n<p>I am using code to modify <code>Rectangle</code> called <code>object</code> when mouse is dragged but it's position is shifting when I drag mouse keeping the scale other than 1.Again for clarification I am trying to create rectangle when mouse is dragged. but it's positions is not where the mouse is i.e. the position is shifted when scale of group is not 1.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class Example extends Application{\n    \n    private Group  group;\n    private double mousePointX;\n    private double mousePointY;\n    \n    public static void main(String... arguments){ launch(arguments); }\n    \n    @Override public void start(Stage primaryStage){\n        \n        group = new Group();\n        \n        Pane pane = new Pane(group);\n        pane.setOnMousePressed(this::recordPosition);\n        pane.setOnMouseDragged(this::makeShape);\n        pane.setOnScroll(this::handleScroll);\n        \n        primaryStage.setScene(new Scene(new BorderPane(pane)));\n        primaryStage.show();\n    }\n    \n    //record mouse position\n    private void recordPosition(MouseEvent event){\n        mousePointX = event.getX();\n        mousePointY = event.getY();\n    }\n    \n    //method to make shape\n    private void makeShape(MouseEvent event){\n        Rectangle object;\n        object = new Rectangle(200, 200, Color.BLUE);\n        object.setStroke(Color.BLACK);\n    \n        group.getChildren().addAll(object);\n        \n        object.setTranslateX(mousePointX - group.getTranslateX());\n        object.setTranslateY(mousePointY - group.getTranslateY());\n        object.setHeight(event.getY() - mousePointY);\n        object.setWidth(event.getX() - mousePointX);\n    }\n    \n    //method to control scroll\n    private void handleScroll(ScrollEvent event){\n        if(event.isControlDown()){\n            zoom(Math.pow(1.01, event.getDeltaY()), event.getSceneX(), event.getSceneY());\n        }else{\n            group.setTranslateX(this.group.getTranslateX() + event.getDeltaX());\n            group.setTranslateY(this.group.getTranslateY() + event.getDeltaY());\n        }\n        event.consume();\n    }\n    \n    //method to control zoom\n    private void zoom(double factor, double x, double y){\n        double oldScale = group.getScaleX();\n        double scale    = oldScale * factor;\n        \n        if(scale &lt; 0.05) scale = 0.05;\n        if(scale &gt; 50) scale = 50;\n        \n        group.setScaleX(scale);\n        group.setScaleY(scale);\n        \n        double f      = (scale / oldScale) - 1;\n        Bounds bounds = this.group.localToScene(this.group.getBoundsInLocal());\n        double dx     = (x - (bounds.getWidth() / 2 + bounds.getMinX()));\n        double dy     = (y - (bounds.getHeight() / 2 + bounds.getMinY()));\n        \n        group.setTranslateX(this.group.getTranslateX() - f * dx);\n        group.setTranslateY(this.group.getTranslateY() - f * dy);\n    }\n    \n}\n</code></pre>\n<p>So, What is the correct way to draw a Shape when Scale of the group containing that shape is not 1??</p>\n<p>Please Suggest me.</p>\n"},{"tags":["java","javafx","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548330883,"creation_date":1548330883,"answer_id":54346083,"question_id":54344748,"body_markdown":"`Group` includes the transformations of the children in the calculation of it&#39;s size. Since the pivot point for scaling via `scaleX`/`scaleY` properties is the center of the node, changing the translate properties can cause the position of the pivot point to change resulting in movement of all children of the group. If you don&#39;t want this either use a `Pane` (doesn&#39;t include transforms in size calculation) instead of the `Group` or use a `Scale` transform with `(0,0)` as pivot point instead of the `scaleX`/`scaleY` properties:\r\n\r\n    Scale groupScale = new Scale();\r\n    group.getTransforms().add(groupScale);\r\n    groupScale.xProperty().bind(scale.valueProperty());\r\n    groupScale.yProperty().bind(scale.valueProperty());","title":"Why changing translate property of one Shape in JavaFX Group affects other Shapes after changing Scale of Group","body":"<p><code>Group</code> includes the transformations of the children in the calculation of it's size. Since the pivot point for scaling via <code>scaleX</code>/<code>scaleY</code> properties is the center of the node, changing the translate properties can cause the position of the pivot point to change resulting in movement of all children of the group. If you don't want this either use a <code>Pane</code> (doesn't include transforms in size calculation) instead of the <code>Group</code> or use a <code>Scale</code> transform with <code>(0,0)</code> as pivot point instead of the <code>scaleX</code>/<code>scaleY</code> properties:</p>\n\n<pre><code>Scale groupScale = new Scale();\ngroup.getTransforms().add(groupScale);\ngroupScale.xProperty().bind(scale.valueProperty());\ngroupScale.yProperty().bind(scale.valueProperty());\n</code></pre>\n"}],"owner":{"display_name":"user10485339"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635440039,"creation_date":1548326602,"question_id":54344748,"body_markdown":"I am working on a program in which I am learning about zooming and moving objects in JavaFX. For my program I am using `Group` and in the `Group` I have two `Rectangle` and I have some `Sliders` to change properties of both `Rectangle`. \r\n\r\nProblem that occurred is that when I change `translateX` or `translateY` of the `Rectangle` in the program, keeping the `ScaleX` and `ScaleY` of parent `Group` other than 1, it also changes the position of another `Rectangle` but when the scale is 1 this problem does not occur.\r\n\r\nHere is my program:\r\n\r\nIn my program I have two `Rectagle` called `a` and `b` and I am using `Slider` called `aTranslateX` &amp; `aTranslateY` and `bTranslateX` &amp; `bTranslateY` to change translateX and translateY of Rectagles `a` and `b` respectively. And I am using another `Slider` called `scale` to change `scaleX` &amp; `scaleY` of Group called `group` which contains `a` and `b`. Again the problem does not occur when I change translate properties of rectangles `a` and `b` keeping scale(`scaleX` &amp; `scaleY`) of the `group` but when I change their(of rectangles `a` and `b`) translate properties keeping scale other than one changing translate property of one rectangle also changes position of another rectangle in opposite direction of change. \r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Example extends Application{\r\n    \r\n    private Group group;\r\n    \r\n    public static void main(String... arguments){launch(arguments);}\r\n    \r\n    @Override public void start(Stage primaryStage){\r\n        Rectangle a = new Rectangle(200, 200, Color.WHITE);\r\n        Rectangle b = new Rectangle(200, 200, Color.SKYBLUE);\r\n        a.setStroke(Color.BLACK);\r\n        b.setStroke(Color.MAGENTA);\r\n        group = new Group(a, b);\r\n        \r\n        Slider aTranslateX = new Slider(-1600, 1600, 20);\r\n        Slider aTranslateY = new Slider(-1600, 1600, 20);\r\n        Slider bTranslateX = new Slider(-1600, 1600, 20);\r\n        Slider bTranslateY = new Slider(-1600, 1600, 20);\r\n        Slider scale = new Slider(0, 12, 1);\r\n        \r\n        aTranslateX.valueProperty().addListener((o, l, c) -&gt; {\r\n            if(c != null) b.setTranslateX(c.doubleValue());\r\n        });\r\n        aTranslateY.valueProperty().addListener((o, l, c) -&gt; {\r\n            if(c != null) b.setTranslateY(c.doubleValue());\r\n        });\r\n        bTranslateX.valueProperty().addListener((o, l, c) -&gt; {\r\n            if(c != null) a.setTranslateX(c.doubleValue());\r\n        });\r\n        bTranslateY.valueProperty().addListener((o, l, c) -&gt; {\r\n            if(c != null) a.setTranslateY(c.doubleValue());\r\n        });\r\n        scale.valueProperty().addListener((o, l, c) -&gt; {\r\n            if(c != null){\r\n                group.setScaleX(c.doubleValue());\r\n                group.setScaleY(c.doubleValue());\r\n            }\r\n        });\r\n        \r\n        aTranslateX.setMinWidth(200);\r\n        aTranslateY.setMinWidth(200);\r\n        bTranslateX.setMinWidth(200);\r\n        bTranslateY.setMinWidth(200);\r\n        scale.setMinWidth(200);\r\n        \r\n        Label[] labels = new Label[5];\r\n        for(int x = 0; x &lt; labels.length; x++){\r\n            labels[x] = new Label();\r\n            labels[x].setMinWidth(150);\r\n        }\r\n        \r\n        labels[0].setText(&quot;Rectangle A Translate X: &quot;);\r\n        labels[1].setText(&quot;Rectangle A Translate Y: &quot;);\r\n        labels[2].setText(&quot;Rectangle B Translate X: &quot;);\r\n        labels[3].setText(&quot;Rectangle B Translate Y: &quot;);\r\n        labels[4].setText(&quot;Scale of Group: &quot;);\r\n        \r\n        VBox top = new VBox(10,\r\n                            new HBox(8, labels[0], aTranslateX, labels[1], aTranslateY),\r\n                            new HBox(8, labels[2], bTranslateX, labels[3], bTranslateY),\r\n                            new HBox(8, labels[4], scale));\r\n        \r\n        top.setPadding(new Insets(12));\r\n        top.setStyle(&quot;-fx-background-color: #fefefe&quot;);\r\n        \r\n        Pane pane = new Pane(group);\r\n        \r\n        BorderPane root = new BorderPane(pane);\r\n        root.setTop(top);\r\n        \r\n        Scene scene = new Scene(root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setWidth(1280);\r\n        primaryStage.setHeight(700);\r\n        primaryStage.show();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nHow to resolve this problem or what is the correct way to change translate property of any object when scale of group is not default?","title":"Why changing translate property of one Shape in JavaFX Group affects other Shapes after changing Scale of Group","body":"<p>I am working on a program in which I am learning about zooming and moving objects in JavaFX. For my program I am using <code>Group</code> and in the <code>Group</code> I have two <code>Rectangle</code> and I have some <code>Sliders</code> to change properties of both <code>Rectangle</code>.</p>\n<p>Problem that occurred is that when I change <code>translateX</code> or <code>translateY</code> of the <code>Rectangle</code> in the program, keeping the <code>ScaleX</code> and <code>ScaleY</code> of parent <code>Group</code> other than 1, it also changes the position of another <code>Rectangle</code> but when the scale is 1 this problem does not occur.</p>\n<p>Here is my program:</p>\n<p>In my program I have two <code>Rectagle</code> called <code>a</code> and <code>b</code> and I am using <code>Slider</code> called <code>aTranslateX</code> &amp; <code>aTranslateY</code> and <code>bTranslateX</code> &amp; <code>bTranslateY</code> to change translateX and translateY of Rectagles <code>a</code> and <code>b</code> respectively. And I am using another <code>Slider</code> called <code>scale</code> to change <code>scaleX</code> &amp; <code>scaleY</code> of Group called <code>group</code> which contains <code>a</code> and <code>b</code>. Again the problem does not occur when I change translate properties of rectangles <code>a</code> and <code>b</code> keeping scale(<code>scaleX</code> &amp; <code>scaleY</code>) of the <code>group</code> but when I change their(of rectangles <code>a</code> and <code>b</code>) translate properties keeping scale other than one changing translate property of one rectangle also changes position of another rectangle in opposite direction of change.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class Example extends Application{\n    \n    private Group group;\n    \n    public static void main(String... arguments){launch(arguments);}\n    \n    @Override public void start(Stage primaryStage){\n        Rectangle a = new Rectangle(200, 200, Color.WHITE);\n        Rectangle b = new Rectangle(200, 200, Color.SKYBLUE);\n        a.setStroke(Color.BLACK);\n        b.setStroke(Color.MAGENTA);\n        group = new Group(a, b);\n        \n        Slider aTranslateX = new Slider(-1600, 1600, 20);\n        Slider aTranslateY = new Slider(-1600, 1600, 20);\n        Slider bTranslateX = new Slider(-1600, 1600, 20);\n        Slider bTranslateY = new Slider(-1600, 1600, 20);\n        Slider scale = new Slider(0, 12, 1);\n        \n        aTranslateX.valueProperty().addListener((o, l, c) -&gt; {\n            if(c != null) b.setTranslateX(c.doubleValue());\n        });\n        aTranslateY.valueProperty().addListener((o, l, c) -&gt; {\n            if(c != null) b.setTranslateY(c.doubleValue());\n        });\n        bTranslateX.valueProperty().addListener((o, l, c) -&gt; {\n            if(c != null) a.setTranslateX(c.doubleValue());\n        });\n        bTranslateY.valueProperty().addListener((o, l, c) -&gt; {\n            if(c != null) a.setTranslateY(c.doubleValue());\n        });\n        scale.valueProperty().addListener((o, l, c) -&gt; {\n            if(c != null){\n                group.setScaleX(c.doubleValue());\n                group.setScaleY(c.doubleValue());\n            }\n        });\n        \n        aTranslateX.setMinWidth(200);\n        aTranslateY.setMinWidth(200);\n        bTranslateX.setMinWidth(200);\n        bTranslateY.setMinWidth(200);\n        scale.setMinWidth(200);\n        \n        Label[] labels = new Label[5];\n        for(int x = 0; x &lt; labels.length; x++){\n            labels[x] = new Label();\n            labels[x].setMinWidth(150);\n        }\n        \n        labels[0].setText(&quot;Rectangle A Translate X: &quot;);\n        labels[1].setText(&quot;Rectangle A Translate Y: &quot;);\n        labels[2].setText(&quot;Rectangle B Translate X: &quot;);\n        labels[3].setText(&quot;Rectangle B Translate Y: &quot;);\n        labels[4].setText(&quot;Scale of Group: &quot;);\n        \n        VBox top = new VBox(10,\n                            new HBox(8, labels[0], aTranslateX, labels[1], aTranslateY),\n                            new HBox(8, labels[2], bTranslateX, labels[3], bTranslateY),\n                            new HBox(8, labels[4], scale));\n        \n        top.setPadding(new Insets(12));\n        top.setStyle(&quot;-fx-background-color: #fefefe&quot;);\n        \n        Pane pane = new Pane(group);\n        \n        BorderPane root = new BorderPane(pane);\n        root.setTop(top);\n        \n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.setWidth(1280);\n        primaryStage.setHeight(700);\n        primaryStage.show();\n    }\n    \n}\n</code></pre>\n<p>How to resolve this problem or what is the correct way to change translate property of any object when scale of group is not default?</p>\n"},{"tags":["java","user-interface","javafx","javafx-11"],"comments":[{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1547464845,"post_id":54180344,"comment_id":95189289,"body_markdown":"Check this: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8123137","body":"Check this: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8123137\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=8123137</a>"},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1547465158,"post_id":54180344,"comment_id":95189421,"body_markdown":"@nicomp , I&#39;ve asked how to bring any popup to front when there are many popups not how to focus/unfocus because if I want to check whether a popup is focused or not, I&#39;ll add a mouse pressed event to the node I&#39;m using  in a popup to make a popup movable. i.e. focus is not the problem here.","body":"@nicomp , I&#39;ve asked how to bring any popup to front when there are many popups not how to focus/unfocus because if I want to check whether a popup is focused or not, I&#39;ll add a mouse pressed event to the node I&#39;m using  in a popup to make a popup movable. i.e. focus is not the problem here."},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1547466145,"post_id":54180344,"comment_id":95189875,"body_markdown":"setAlwaysOnTop() ?","body":"setAlwaysOnTop() ?"},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1547466245,"post_id":54180344,"comment_id":95189917,"body_markdown":"@nicomp `setAlwaysOnTop() ` is also not available for `Popup`","body":"@nicomp <code>setAlwaysOnTop() </code> is also not available for <code>Popup</code>"},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1547466407,"post_id":54180344,"comment_id":95190003,"body_markdown":"You call it for the stage containing the popup.","body":"You call it for the stage containing the popup."},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1547466490,"post_id":54180344,"comment_id":95190041,"body_markdown":"@nicomp I have more than one `Popup` in a same single `Stage`.","body":"@nicomp I have more than one <code>Popup</code> in a same single <code>Stage</code>."},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1547466543,"post_id":54180344,"comment_id":95190067,"body_markdown":"I think you&#39;ve answered your own question. You need more stages.","body":"I think you&#39;ve answered your own question. You need more stages."},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1547466693,"post_id":54180344,"comment_id":95190147,"body_markdown":"@nicomp No sir! It is absolutely valid to use more than one popup in a same stage. Because in this case, It would be so ridiculous to make 10-12 stages only because I want to use these many Popups.","body":"@nicomp No sir! It is absolutely valid to use more than one popup in a same stage. Because in this case, It would be so ridiculous to make 10-12 stages only because I want to use these many Popups."},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":1,"creation_date":1547466785,"post_id":54180344,"comment_id":95190195,"body_markdown":"I didn&#39;t say your code wasn&#39;t valid. I pointed out a fix for your problem and a way to make the fix work for you. The decision to implement is up to you. I would disagree about the &#39;ridiculous&#39; characterization. Sometimes we gotta do what we gotta do.","body":"I didn&#39;t say your code wasn&#39;t valid. I pointed out a fix for your problem and a way to make the fix work for you. The decision to implement is up to you. I would disagree about the &#39;ridiculous&#39; characterization. Sometimes we gotta do what we gotta do."},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1547467122,"post_id":54180344,"comment_id":95190356,"body_markdown":"No prob, I suspect JavaFX annoys me as much as it does you. :)","body":"No prob, I suspect JavaFX annoys me as much as it does you. :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1547468162,"post_id":54180344,"comment_id":95190901,"body_markdown":"if you say so, then solve it yourself *shrugs .. always wondering about the attitude of some askers: you want help on unsupported functionality (which might be possible or not, don&#39;t know without coding), you don&#39;t know how to do it yourself, but are arrogant enough to know what is needed. If you are so far as knowing that for sure, then you must be able to solve it on your own. And you can&#39;t be bothered to at least provide the most minimal example to demonstrate what you are after and what didn&#39;t work out and ... *head-shaking","body":"if you say so, then solve it yourself *shrugs .. always wondering about the attitude of some askers: you want help on unsupported functionality (which might be possible or not, don&#39;t know without coding), you don&#39;t know how to do it yourself, but are arrogant enough to know what is needed. If you are so far as knowing that for sure, then you must be able to solve it on your own. And you can&#39;t be bothered to at least provide the most minimal example to demonstrate what you are after and what didn&#39;t work out and ... *head-shaking"},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1547468532,"post_id":54180344,"comment_id":95191104,"body_markdown":"@kleopatra Respectfully, I&#39;ve already did provided example according to my knowledge. And No one knows everything, If you think you know more than someone who is asking a question(Of very low level, in your opinion) than I cannot do anything about your view about this question!","body":"@kleopatra Respectfully, I&#39;ve already did provided example according to my knowledge. And No one knows everything, If you think you know more than someone who is asking a question(Of very low level, in your opinion) than I cannot do anything about your view about this question!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1547469017,"post_id":54180344,"comment_id":95191354,"body_markdown":"sure you can - replace those snippets with an [mcve] ;)","body":"sure you can - replace those snippets with an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ;)"},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1547470085,"post_id":54180344,"comment_id":95191856,"body_markdown":"@kleopatra see recent edit I&#39;ve improved my example and I think this should be what one could say, an Minimal, Complete, and Verifiable example :)","body":"@kleopatra see recent edit I&#39;ve improved my example and I think this should be what one could say, an Minimal, Complete, and Verifiable example :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1547480210,"post_id":54180344,"comment_id":95197486,"body_markdown":"yeah, looks good :) will try tomorrow or so ...","body":"yeah, looks good :) will try tomorrow or so ..."},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1548826526,"post_id":54180344,"comment_id":95677229,"body_markdown":"What&#39;s the reason to using many popups? That doesn&#39;t seem standard behaviour. One popup at a time is better UI design, otherwise the user gets confused (and the programmer gets trouble).","body":"What&#39;s the reason to using many popups? That doesn&#39;t seem standard behaviour. One popup at a time is better UI design, otherwise the user gets confused (and the programmer gets trouble)."},{"owner":{"display_name":"user10485339"},"score":0,"creation_date":1548846541,"post_id":54180344,"comment_id":95687585,"body_markdown":"@PerdiEstaquel Well, I&#39;m trying to create something [like this](https://astutegraphics.com/images/blog/tutorials/custom_tool_panel_22_jan_2014/01.png) and I guess these all are popups in Illustrator cc","body":"@PerdiEstaquel Well, I&#39;m trying to create something <a href=\"https://astutegraphics.com/images/blog/tutorials/custom_tool_panel_22_jan_2014/01.png\" rel=\"nofollow noreferrer\">like this</a> and I guess these all are popups in Illustrator cc"},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1548889579,"post_id":54180344,"comment_id":95710378,"body_markdown":"Ok, I guess the terminology is the problem here: those are not popups, they&#39;re plain flat panes, or windows without borders. A popup pops-up, and those in your screenshot don&#39;t.","body":"Ok, I guess the terminology is the problem here: those are not popups, they&#39;re plain flat panes, or windows without borders. A popup pops-up, and those in your screenshot don&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":11402616,"reputation":3097,"user_id":8359107,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547559872,"creation_date":1547478335,"answer_id":54184005,"question_id":54180344,"body_markdown":"Here is the solution with stages it is the only work around I have found at all even though you hate the idea of having multiple stages if you want the functionality this is it. If you decide to stick with leaving them in the background thats cool too. An idea to solve your too may stages dilemma is to use a queue of stages remove when in use and if all are shown add a new one when a stage is hidden send to the end of the queue\r\n\r\n    public class Example extends Application {\r\n\r\n\r\n        public void applyTo(Pane node, Stage parent, Stage primaryStage){\r\n\r\n            final double[] dragDelta = new double[2];\r\n\r\n            node.setOnMousePressed(e -&gt; {\r\n                dragDelta[0] = parent.getX() - e.getScreenX();\r\n                dragDelta[1] = parent.getY() - e.getScreenY();\r\n                //code to bring parent Popup to front\r\n            });\r\n\r\n            node.setOnMouseDragged(e -&gt; {\r\n                parent.setX(e.getScreenX() + dragDelta[0]);\r\n                parent.setY(e.getScreenY() + dragDelta[1]);\r\n                primaryStage.requestFocus();\r\n            });\r\n\r\n            node.setOnMouseReleased(event -&gt; {\r\n                primaryStage.requestFocus();\r\n            });\r\n        }\r\n\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n\r\n            Button b1 = new Button(&quot;Open p1&quot;);\r\n            Button b2 = new Button(&quot;Open p2&quot;);\r\n\r\n            HBox n1 = new HBox(new Label(&quot;This is p1&quot;));\r\n            HBox n2 = new HBox(new Label(&quot;This is p2&quot;));\r\n            n1.setMinSize(200, 120);\r\n            n2.setMinSize(200, 120);\r\n            n1.setStyle(&quot;-fx-background-color: blue; -fx-background-radius: 4px;&quot;);\r\n            n2.setStyle(&quot;-fx-background-color: red; -fx-background-radius: 4px;&quot;);\r\n            n1.setAlignment(Pos.CENTER);\r\n            n2.setAlignment(Pos.CENTER);\r\n\r\n            Stage p1 = new Stage(StageStyle.UNDECORATED);\r\n            Stage p2 = new Stage(StageStyle.UNDECORATED);\r\n            p1.setAlwaysOnTop(true);\r\n            p2.setAlwaysOnTop(true);\r\n            p1.setScene(new Scene(n1));\r\n            p2.setScene(new Scene(n2));\r\n\r\n            applyTo(n1, p1, primaryStage);\r\n            applyTo(n2, p2, primaryStage);\r\n\r\n            b1.setOnAction(event -&gt; {\r\n                if(!p1.isShowing()) {\r\n                    p1.show();\r\n                    primaryStage.requestFocus();\r\n                }\r\n                else\r\n                    p1.hide();\r\n            });\r\n\r\n            b2.setOnAction(event -&gt; {\r\n                if(!p2.isShowing()) {\r\n                    p2.show();\r\n                    primaryStage.requestFocus();\r\n                }\r\n                else\r\n                    p2.hide();\r\n            });\r\n\r\n\r\n\r\n            HBox root = new HBox(10, b1, b2);\r\n            root.setAlignment(Pos.CENTER);\r\n\r\n            primaryStage.setScene(new Scene(root, 500, 200));\r\n            primaryStage.show();\r\n        }\r\n\r\n        public static void main(String[] args) { launch(args); }\r\n\r\n    }\r\n","title":"How to bring JavaFX Popup to front when focused?","body":"<p>Here is the solution with stages it is the only work around I have found at all even though you hate the idea of having multiple stages if you want the functionality this is it. If you decide to stick with leaving them in the background thats cool too. An idea to solve your too may stages dilemma is to use a queue of stages remove when in use and if all are shown add a new one when a stage is hidden send to the end of the queue</p>\n\n<pre><code>public class Example extends Application {\n\n\n    public void applyTo(Pane node, Stage parent, Stage primaryStage){\n\n        final double[] dragDelta = new double[2];\n\n        node.setOnMousePressed(e -&gt; {\n            dragDelta[0] = parent.getX() - e.getScreenX();\n            dragDelta[1] = parent.getY() - e.getScreenY();\n            //code to bring parent Popup to front\n        });\n\n        node.setOnMouseDragged(e -&gt; {\n            parent.setX(e.getScreenX() + dragDelta[0]);\n            parent.setY(e.getScreenY() + dragDelta[1]);\n            primaryStage.requestFocus();\n        });\n\n        node.setOnMouseReleased(event -&gt; {\n            primaryStage.requestFocus();\n        });\n    }\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n\n        Button b1 = new Button(\"Open p1\");\n        Button b2 = new Button(\"Open p2\");\n\n        HBox n1 = new HBox(new Label(\"This is p1\"));\n        HBox n2 = new HBox(new Label(\"This is p2\"));\n        n1.setMinSize(200, 120);\n        n2.setMinSize(200, 120);\n        n1.setStyle(\"-fx-background-color: blue; -fx-background-radius: 4px;\");\n        n2.setStyle(\"-fx-background-color: red; -fx-background-radius: 4px;\");\n        n1.setAlignment(Pos.CENTER);\n        n2.setAlignment(Pos.CENTER);\n\n        Stage p1 = new Stage(StageStyle.UNDECORATED);\n        Stage p2 = new Stage(StageStyle.UNDECORATED);\n        p1.setAlwaysOnTop(true);\n        p2.setAlwaysOnTop(true);\n        p1.setScene(new Scene(n1));\n        p2.setScene(new Scene(n2));\n\n        applyTo(n1, p1, primaryStage);\n        applyTo(n2, p2, primaryStage);\n\n        b1.setOnAction(event -&gt; {\n            if(!p1.isShowing()) {\n                p1.show();\n                primaryStage.requestFocus();\n            }\n            else\n                p1.hide();\n        });\n\n        b2.setOnAction(event -&gt; {\n            if(!p2.isShowing()) {\n                p2.show();\n                primaryStage.requestFocus();\n            }\n            else\n                p2.hide();\n        });\n\n\n\n        HBox root = new HBox(10, b1, b2);\n        root.setAlignment(Pos.CENTER);\n\n        primaryStage.setScene(new Scene(root, 500, 200));\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) { launch(args); }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547481701,"creation_date":1547481701,"answer_id":54184981,"question_id":54180344,"body_markdown":"For some reason I don&#39;t understand, toFront/back is only implemented on Stage, not on its parent classes even though the actual collaborator that manages the stacking is already available in Window:\r\n\r\nThe implementation in Stage:\r\n\r\n    /**\r\n     * Bring the {@code Window} to the foreground.  If the {@code Window} is\r\n     * already in the foreground there is no visible difference.\r\n     */\r\n    public void toFront() {\r\n        if (getPeer() != null) {\r\n            getPeer().toFront();\r\n        }\r\n    }\r\n\r\n`getPeer()` is a package-private method in Window that returns the internal class TKStage. So if you are allowed to go dirty (because accessing an internal class and having to access via reflection - all with the usual loud &quot;Beware&quot;!) would be:\r\n\r\n    protected void toFront(Popup popup) {\r\n        // use your favorite utility method to invoke a method  \r\n        TKStage peer = (TKStage) FXUtils.invokeGetMethodValue(Window.class, popup, &quot;getPeer&quot;);\r\n        if (peer != null) {\r\n            peer.toFront();\r\n        }\r\n    }\r\n\r\nRequires to export/open not-exported packages in javafx.graphics - compiler and runtime errors will guide you (my context is heavily tweaked anyway, so don&#39;t know exactly which are added by this)","title":"How to bring JavaFX Popup to front when focused?","body":"<p>For some reason I don't understand, toFront/back is only implemented on Stage, not on its parent classes even though the actual collaborator that manages the stacking is already available in Window:</p>\n\n<p>The implementation in Stage:</p>\n\n<pre><code>/**\n * Bring the {@code Window} to the foreground.  If the {@code Window} is\n * already in the foreground there is no visible difference.\n */\npublic void toFront() {\n    if (getPeer() != null) {\n        getPeer().toFront();\n    }\n}\n</code></pre>\n\n<p><code>getPeer()</code> is a package-private method in Window that returns the internal class TKStage. So if you are allowed to go dirty (because accessing an internal class and having to access via reflection - all with the usual loud \"Beware\"!) would be:</p>\n\n<pre><code>protected void toFront(Popup popup) {\n    // use your favorite utility method to invoke a method  \n    TKStage peer = (TKStage) FXUtils.invokeGetMethodValue(Window.class, popup, \"getPeer\");\n    if (peer != null) {\n        peer.toFront();\n    }\n}\n</code></pre>\n\n<p>Requires to export/open not-exported packages in javafx.graphics - compiler and runtime errors will guide you (my context is heavily tweaked anyway, so don't know exactly which are added by this)</p>\n"}],"owner":{"display_name":"user10485339"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1632,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1635440014,"creation_date":1547464186,"question_id":54180344,"body_markdown":"I have some JavaFX `Popup` in my application. And when any of these popups is foucsed, I need it bring on top of every other popups regardless of it&#39;s index in `Window.getWindows()`.\r\n\r\nI&#39;ve tried to call method like `toFront` but it&#39;s not in `Popup` class. I&#39;ve also tried to change index of focused `Popup` in `Window.getWindows()` but that also didn&#39;t worked because I don&#39;t know how to interchange index of two elements in a `ObservableList`.\r\n\r\n**e.g.** \r\n\r\nLet&#39;s say I have two `Popup` called `p1` and `p2` and in each I have nodes `n1` and `n2` respectively which are used to move these popup, So whenever `n1` is dragged `p1` should come on top and when `n2` is dragged `p2` should come on top.\r\n\r\nHere is my minimal example:\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.stage.Popup;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Example extends Application{\r\n    \r\n    public static void main(String... arguments){\r\n        \r\n        launch(arguments);\r\n    }\r\n    \r\n    public void applyTo(Pane node, Popup parent){\r\n        \r\n        final double[] dragDelta = new double[2];\r\n        \r\n        node.setOnMousePressed(e -&gt; {\r\n            dragDelta[0] = parent.getX() - e.getScreenX();\r\n            dragDelta[1] = parent.getY() - e.getScreenY();\r\n            //code to bring parent Popup to front\r\n        });\r\n        \r\n        node.setOnMouseDragged(e -&gt; {\r\n            parent.setX(e.getScreenX() + dragDelta[0]);\r\n            parent.setY(e.getScreenY() + dragDelta[1]);\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        \r\n        Button b1 = new Button(&quot;Open p1&quot;);\r\n        Button b2 = new Button(&quot;Open p2&quot;);\r\n        \r\n        HBox n1 = new HBox(new Label(&quot;This is p1&quot;));\r\n        HBox n2 = new HBox(new Label(&quot;This is p2&quot;));\r\n        n1.setMinSize(200, 120);\r\n        n2.setMinSize(200, 120);\r\n        n1.setStyle(&quot;-fx-background-color: blue; -fx-background-radius: 4px;&quot;);\r\n        n2.setStyle(&quot;-fx-background-color: red; -fx-background-radius: 4px;&quot;);\r\n        n1.setAlignment(Pos.CENTER);\r\n        n2.setAlignment(Pos.CENTER);\r\n        \r\n        Popup p1 = new Popup();\r\n        Popup p2 = new Popup();\r\n        p1.getContent().add(n1);\r\n        p2.getContent().add(n2);\r\n        \r\n        applyTo(n1, p1);\r\n        applyTo(n2, p2);\r\n        \r\n        b1.setOnAction(event -&gt; {\r\n            if(!p1.isShowing()) p1.show(primaryStage);\r\n            else p1.hide();\r\n        });\r\n        b2.setOnAction(event -&gt; {\r\n            if(!p2.isShowing()) p2.show(primaryStage);\r\n            else p2.hide();\r\n        });\r\n        \r\n        HBox root = new HBox(10, b1, b2);\r\n        root.setAlignment(Pos.CENTER);\r\n        \r\n        primaryStage.setScene(new Scene(root, 500, 200));\r\n        primaryStage.show();\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nSo what is the solution for this problem?","title":"How to bring JavaFX Popup to front when focused?","body":"<p>I have some JavaFX <code>Popup</code> in my application. And when any of these popups is foucsed, I need it bring on top of every other popups regardless of it's index in <code>Window.getWindows()</code>.</p>\n<p>I've tried to call method like <code>toFront</code> but it's not in <code>Popup</code> class. I've also tried to change index of focused <code>Popup</code> in <code>Window.getWindows()</code> but that also didn't worked because I don't know how to interchange index of two elements in a <code>ObservableList</code>.</p>\n<p><strong>e.g.</strong></p>\n<p>Let's say I have two <code>Popup</code> called <code>p1</code> and <code>p2</code> and in each I have nodes <code>n1</code> and <code>n2</code> respectively which are used to move these popup, So whenever <code>n1</code> is dragged <code>p1</code> should come on top and when <code>n2</code> is dragged <code>p2</code> should come on top.</p>\n<p>Here is my minimal example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Popup;\nimport javafx.stage.Stage;\n\npublic class Example extends Application{\n    \n    public static void main(String... arguments){\n        \n        launch(arguments);\n    }\n    \n    public void applyTo(Pane node, Popup parent){\n        \n        final double[] dragDelta = new double[2];\n        \n        node.setOnMousePressed(e -&gt; {\n            dragDelta[0] = parent.getX() - e.getScreenX();\n            dragDelta[1] = parent.getY() - e.getScreenY();\n            //code to bring parent Popup to front\n        });\n        \n        node.setOnMouseDragged(e -&gt; {\n            parent.setX(e.getScreenX() + dragDelta[0]);\n            parent.setY(e.getScreenY() + dragDelta[1]);\n        });\n    }\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        \n        Button b1 = new Button(&quot;Open p1&quot;);\n        Button b2 = new Button(&quot;Open p2&quot;);\n        \n        HBox n1 = new HBox(new Label(&quot;This is p1&quot;));\n        HBox n2 = new HBox(new Label(&quot;This is p2&quot;));\n        n1.setMinSize(200, 120);\n        n2.setMinSize(200, 120);\n        n1.setStyle(&quot;-fx-background-color: blue; -fx-background-radius: 4px;&quot;);\n        n2.setStyle(&quot;-fx-background-color: red; -fx-background-radius: 4px;&quot;);\n        n1.setAlignment(Pos.CENTER);\n        n2.setAlignment(Pos.CENTER);\n        \n        Popup p1 = new Popup();\n        Popup p2 = new Popup();\n        p1.getContent().add(n1);\n        p2.getContent().add(n2);\n        \n        applyTo(n1, p1);\n        applyTo(n2, p2);\n        \n        b1.setOnAction(event -&gt; {\n            if(!p1.isShowing()) p1.show(primaryStage);\n            else p1.hide();\n        });\n        b2.setOnAction(event -&gt; {\n            if(!p2.isShowing()) p2.show(primaryStage);\n            else p2.hide();\n        });\n        \n        HBox root = new HBox(10, b1, b2);\n        root.setAlignment(Pos.CENTER);\n        \n        primaryStage.setScene(new Scene(root, 500, 200));\n        primaryStage.show();\n    }\n    \n}\n\n</code></pre>\n<p>So what is the solution for this problem?</p>\n"},{"tags":["java","javafx","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545390388,"creation_date":1545390388,"answer_id":53883714,"question_id":53879734,"body_markdown":"Basically, you have to set the side property of the axis (for left and top). The steps that are involved:\r\n\r\n - let the slider have a custom style, f.i. axis-top/axis-left\r\n - in css, define a rule for the axis contained in such a slider to set its side to top/left\r\n \r\nThe code:\r\n\r\n    Slider hRuler = new Slider(0, 160, 10);\r\n    hRuler.showTickMarksProperty().setValue(true);\r\n    hRuler.showTickLabelsProperty().setValue(true);\r\n    hRuler.getStyleClass().add(&quot;axis-top&quot;);\r\n    \r\n    Slider vRuler = new Slider(0, 100, 10);\r\n    vRuler.setOrientation(Orientation.VERTICAL);\r\n    vRuler.showTickMarksProperty().setValue(true);\r\n    vRuler.showTickLabelsProperty().setValue(true);\r\n    vRuler.getStyleClass().add(&quot;axis-left&quot;);\r\n\r\nIn css:\r\n\r\n    .slider.axis-top &gt; .axis  {\r\n    \t-fx-side: TOP;\r\n    }\r\n    \r\n    .slider.axis-left &gt; .axis {\r\n    \t-fx-side: LEFT;\r\n    }\r\n\r\nThis can certainly be optimized, but should get you started.","title":"How to flip axis of javafx slider","body":"<p>Basically, you have to set the side property of the axis (for left and top). The steps that are involved:</p>\n\n<ul>\n<li>let the slider have a custom style, f.i. axis-top/axis-left</li>\n<li>in css, define a rule for the axis contained in such a slider to set its side to top/left</li>\n</ul>\n\n<p>The code:</p>\n\n<pre><code>Slider hRuler = new Slider(0, 160, 10);\nhRuler.showTickMarksProperty().setValue(true);\nhRuler.showTickLabelsProperty().setValue(true);\nhRuler.getStyleClass().add(\"axis-top\");\n\nSlider vRuler = new Slider(0, 100, 10);\nvRuler.setOrientation(Orientation.VERTICAL);\nvRuler.showTickMarksProperty().setValue(true);\nvRuler.showTickLabelsProperty().setValue(true);\nvRuler.getStyleClass().add(\"axis-left\");\n</code></pre>\n\n<p>In css:</p>\n\n<pre><code>.slider.axis-top &gt; .axis  {\n    -fx-side: TOP;\n}\n\n.slider.axis-left &gt; .axis {\n    -fx-side: LEFT;\n}\n</code></pre>\n\n<p>This can certainly be optimized, but should get you started.</p>\n"}],"owner":{"display_name":"user10485339"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1635439984,"creation_date":1545370976,"question_id":53879734,"body_markdown":"I&#39;m creating rulers using javafx by modifying css of javafx slider and I created something like this: \r\n\r\n![][1]\r\n\r\nAnd I was trying to make this:\r\n\r\n![][2]\r\n\r\nSo I tried to rotate sliders by calling `setRotate()` method but it becomes like this:\r\n\r\n![][3]\r\n\r\nHere is my code for sliders:\r\n\r\n    Slider hRuler = new Slider(0, 160, 10);\r\n    hRuler.showTickMarksProperty().setValue(true);\r\n    hRuler.showTickLabelsProperty().setValue(true);\r\n    hRuler.setRotate(180);\r\n    \r\n    Slider vRuler = new Slider(0, 100, 10);\r\n    vRuler.setOrientation(Orientation.VERTICAL);\r\n    vRuler.showTickMarksProperty().setValue(true);\r\n    vRuler.showTickLabelsProperty().setValue(true);\r\n    vRuler.setRotate(180);\r\n\r\nAnd here is my css code for sliders:\r\n\r\n\r\n    .slider &gt; .thumb,\r\n    .slider &gt; .thumb:hover,\r\n    .slider:focused &gt; .thumb{\r\n        -fx-background-color: #ff6a6a;\r\n        -fx-background-insets: 2 0 -23 0;\r\n        -fx-padding: 1 1 0 1;\r\n        -fx-background-radius: 0;\r\n    }\r\n    \r\n    .slider:vertical &gt; .thumb,\r\n    .slider:vertical &gt; .thumb:hover,\r\n    .slider:vertical:focused &gt; .thumb{\r\n        -fx-background-color: #ff6a6a;\r\n        -fx-background-insets: 0 -23 0 2;\r\n        -fx-padding: 1 0 1 1;\r\n        -fx-background-radius: 0;\r\n    }\r\n    \r\n    .slider &gt; .track,\r\n    .slider:vertical &gt; .track {\r\n        -fx-background-color: transparent;\r\n        -fx-background-insets: 0;\r\n        -fx-background-radius: 0;\r\n        -fx-padding: 0;\r\n    }\r\n    \r\n    .slider &gt; .axis {\r\n        -fx-tick-mark-stroke: transparent;\r\n        -fx-tick-label-font-size: 0.833333em;\r\n        -fx-tick-label-fill: #9a9a9a;\r\n        -fx-background-color: #333;\r\n    }\r\n\r\nPlease suggest me how can I flip axis or rotate labels of these slider so that I can achieve expected results.\r\n\r\n  [1]:https://i.stack.imgur.com/OwkSL.png\r\n  [2]: https://i.stack.imgur.com/cyyN5.png\r\n  [3]: https://i.stack.imgur.com/tCrr9.png\r\n","title":"How to flip axis of javafx slider","body":"<p>I'm creating rulers using javafx by modifying css of javafx slider and I created something like this:</p>\n<p><img src=\"https://i.stack.imgur.com/OwkSL.png\" alt=\"\" /></p>\n<p>And I was trying to make this:</p>\n<p><img src=\"https://i.stack.imgur.com/cyyN5.png\" alt=\"\" /></p>\n<p>So I tried to rotate sliders by calling <code>setRotate()</code> method but it becomes like this:</p>\n<p><img src=\"https://i.stack.imgur.com/tCrr9.png\" alt=\"\" /></p>\n<p>Here is my code for sliders:</p>\n<pre><code>Slider hRuler = new Slider(0, 160, 10);\nhRuler.showTickMarksProperty().setValue(true);\nhRuler.showTickLabelsProperty().setValue(true);\nhRuler.setRotate(180);\n\nSlider vRuler = new Slider(0, 100, 10);\nvRuler.setOrientation(Orientation.VERTICAL);\nvRuler.showTickMarksProperty().setValue(true);\nvRuler.showTickLabelsProperty().setValue(true);\nvRuler.setRotate(180);\n</code></pre>\n<p>And here is my css code for sliders:</p>\n<pre><code>.slider &gt; .thumb,\n.slider &gt; .thumb:hover,\n.slider:focused &gt; .thumb{\n    -fx-background-color: #ff6a6a;\n    -fx-background-insets: 2 0 -23 0;\n    -fx-padding: 1 1 0 1;\n    -fx-background-radius: 0;\n}\n\n.slider:vertical &gt; .thumb,\n.slider:vertical &gt; .thumb:hover,\n.slider:vertical:focused &gt; .thumb{\n    -fx-background-color: #ff6a6a;\n    -fx-background-insets: 0 -23 0 2;\n    -fx-padding: 1 0 1 1;\n    -fx-background-radius: 0;\n}\n\n.slider &gt; .track,\n.slider:vertical &gt; .track {\n    -fx-background-color: transparent;\n    -fx-background-insets: 0;\n    -fx-background-radius: 0;\n    -fx-padding: 0;\n}\n\n.slider &gt; .axis {\n    -fx-tick-mark-stroke: transparent;\n    -fx-tick-label-font-size: 0.833333em;\n    -fx-tick-label-fill: #9a9a9a;\n    -fx-background-color: #333;\n}\n</code></pre>\n<p>Please suggest me how can I flip axis or rotate labels of these slider so that I can achieve expected results.</p>\n"},{"tags":["java","javafx","logic","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546013245,"creation_date":1546013245,"answer_id":53961237,"question_id":53959579,"body_markdown":"You do not want to add a listener to the `selectedProperty`. Instead, listen for changes to the `Spinner` **values**. When the value changes, check if the `lock` button has been selected and perform your calculations then:\r\n\r\n        hSelector.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            if (lock.isSelected()) {\r\n                wSelector.getValueFactory().setValue(newValue * wSelector.getValue() / oldValue);\r\n            }\r\n        });\r\n        wSelector.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            if (lock.isSelected()) {\r\n                hSelector.getValueFactory().setValue(newValue * hSelector.getValue() / oldValue);\r\n            }\r\n        });\r\n\r\nYou may need to check the formula you&#39;re using to determine the new ratio, however, as it does not seem to work properly; mathematics is not my strong-suit. But this should get your spinners to update properly when changing one&#39;s values.","title":"How to maintain ratio in values of JavaFX Spinner","body":"<p>You do not want to add a listener to the <code>selectedProperty</code>. Instead, listen for changes to the <code>Spinner</code> <strong>values</strong>. When the value changes, check if the <code>lock</code> button has been selected and perform your calculations then:</p>\n\n<pre><code>    hSelector.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n        if (lock.isSelected()) {\n            wSelector.getValueFactory().setValue(newValue * wSelector.getValue() / oldValue);\n        }\n    });\n    wSelector.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n        if (lock.isSelected()) {\n            hSelector.getValueFactory().setValue(newValue * hSelector.getValue() / oldValue);\n        }\n    });\n</code></pre>\n\n<p>You may need to check the formula you're using to determine the new ratio, however, as it does not seem to work properly; mathematics is not my strong-suit. But this should get your spinners to update properly when changing one's values.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546025211,"creation_date":1546025211,"answer_id":53963413,"question_id":53959579,"body_markdown":"Do not add a new listener every time the toggle button changes.  “Add listener” means the method literally adds a listener to the existing set of listeners, so as your code is written, if the user were to select the toggle button ten times, you would have ten listeners on each spinner.\r\n\r\nThe correct approach is to add *one listener* to each Spinner.  Each listener should do nothing if the toggle button is not selected.  You will want to keep the spinner values’ ratio in a private field, for the listeners to use.\r\n\r\n    private double ratio = 1;\r\n\r\n    // ...\r\n\r\n    lock.selectedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n        if (newValue) {\r\n            hSelector.commitValue();\r\n            wSelector.commitValue();\r\n            ratio = (double) hSelector.getValue() / wSelector.getValue();\r\n        }\r\n    });\r\n\r\n    hSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\r\n        if (lock.isSelected()) {\r\n            wSelector.getValueFactory().setValue((int) (nv / ratio));\r\n        }\r\n    });\r\n    wSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\r\n        if (lock.isSelected()) {\r\n            hSelector.getValueFactory().setValue((int) (nv * ratio));\r\n        }\r\n    });\r\n","title":"How to maintain ratio in values of JavaFX Spinner","body":"<p>Do not add a new listener every time the toggle button changes.  “Add listener” means the method literally adds a listener to the existing set of listeners, so as your code is written, if the user were to select the toggle button ten times, you would have ten listeners on each spinner.</p>\n\n<p>The correct approach is to add <em>one listener</em> to each Spinner.  Each listener should do nothing if the toggle button is not selected.  You will want to keep the spinner values’ ratio in a private field, for the listeners to use.</p>\n\n<pre><code>private double ratio = 1;\n\n// ...\n\nlock.selectedProperty().addListener((observable, oldValue, newValue) -&gt; {\n    if (newValue) {\n        hSelector.commitValue();\n        wSelector.commitValue();\n        ratio = (double) hSelector.getValue() / wSelector.getValue();\n    }\n});\n\nhSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\n    if (lock.isSelected()) {\n        wSelector.getValueFactory().setValue((int) (nv / ratio));\n    }\n});\nwSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\n    if (lock.isSelected()) {\n        hSelector.getValueFactory().setValue((int) (nv * ratio));\n    }\n});\n</code></pre>\n"}],"owner":{"display_name":"user10485339"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1635439932,"creation_date":1546004880,"question_id":53959579,"body_markdown":"I have two spinners and a toggle button in my JavaFX application, and I&#39;ve also set them editable\r\n\r\n    Spinner&lt;Integer&gt; hSelector = new Spinner&lt;&gt;(1,15000,1000,1);\r\n    Spinner&lt;Integer&gt; wSelector = new Spinner&lt;&gt;(1,15000,1000,1);\r\n    hSelector.setEditable(true);\r\n    wSelector.setEditable(true);\r\n    ToggleButton lock = new ToggleButton(&quot;lock&quot;);\r\n\r\nWhen this `lock` toggle button is selected I want to maintain the ratio in values of `hSelector` and `wSelector`. So I tried following,\r\n\r\n    lock.selectedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n        if(newValue){\r\n            hSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\r\n                wSelector.getEditor().setText(String.valueOf((nv * wSelector.getValue()) / ov));\r\n            });\r\n            wSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\r\n                hSelector.getEditor().setText(String.valueOf((nv * hSelector.getValue()) / ov));\r\n            });\r\n        }\r\n    });\r\n\r\nBut this did not work well. The problem is that when `lock` is selected and I change the value of one spinner and then I just focus(by clicking in text field of spinner) them both one by one, their value changes automatically even when I don&#39;t edit the values.\r\n\r\nNow, my questions, What is the correct way to maintain the ratio in values of these spinners?, what is the problem in my method? and how to remove the behavior of maintaining ratio after `lock` is un-selected.","title":"How to maintain ratio in values of JavaFX Spinner","body":"<p>I have two spinners and a toggle button in my JavaFX application, and I've also set them editable</p>\n<pre><code>Spinner&lt;Integer&gt; hSelector = new Spinner&lt;&gt;(1,15000,1000,1);\nSpinner&lt;Integer&gt; wSelector = new Spinner&lt;&gt;(1,15000,1000,1);\nhSelector.setEditable(true);\nwSelector.setEditable(true);\nToggleButton lock = new ToggleButton(&quot;lock&quot;);\n</code></pre>\n<p>When this <code>lock</code> toggle button is selected I want to maintain the ratio in values of <code>hSelector</code> and <code>wSelector</code>. So I tried following,</p>\n<pre><code>lock.selectedProperty().addListener((observable, oldValue, newValue) -&gt; {\n    if(newValue){\n        hSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\n            wSelector.getEditor().setText(String.valueOf((nv * wSelector.getValue()) / ov));\n        });\n        wSelector.getValueFactory().valueProperty().addListener((ob, ov, nv) -&gt; {\n            hSelector.getEditor().setText(String.valueOf((nv * hSelector.getValue()) / ov));\n        });\n    }\n});\n</code></pre>\n<p>But this did not work well. The problem is that when <code>lock</code> is selected and I change the value of one spinner and then I just focus(by clicking in text field of spinner) them both one by one, their value changes automatically even when I don't edit the values.</p>\n<p>Now, my questions, What is the correct way to maintain the ratio in values of these spinners?, what is the problem in my method? and how to remove the behavior of maintaining ratio after <code>lock</code> is un-selected.</p>\n"},{"tags":["java","list","duplicates","set","html-lists"],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635423492,"creation_date":1635423492,"answer_id":69753974,"question_id":69753309,"body_markdown":"I think you could use sorting to make using a Set and a List work as you specify:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\nclass Main {\r\n    \r\n    public static void main(String[] args) {\r\n        int[][] arrayWithDuplicates = new int[][] { { -1, -1, 2 }, { 0, -1, 1 }, { 1, -1, 0 }, { 2, -1, -1 },\r\n                { -1, 2, -1 }, { -1, 1, 0 }, { 0, 1, -1 }, { -1, 0, 1 }, { 1, 0, -1 } };\r\n        System.out.printf(&quot;arrayWithDuplicates = %s%n&quot;, Arrays.deepToString(arrayWithDuplicates));\r\n        int[][] arrayWithoutDuplicates = getArrayWithoutDuplicates(arrayWithDuplicates);\r\n        System.out.printf(&quot;arrayWithoutDuplicates = %s%n&quot;, Arrays.deepToString(arrayWithoutDuplicates));\r\n    }\r\n\r\n    public static int[][] getArrayWithoutDuplicates(int[][] array) {\r\n        List&lt;int[]&gt; listWithoutDuplicates = new ArrayList&lt;&gt;();\r\n        Set&lt;List&lt;Integer&gt;&gt; seenSubLists = new HashSet&lt;&gt;();\r\n        for (int[] ints : array) {\r\n            List&lt;Integer&gt; sortedInts = Arrays.stream(ints).boxed().sorted().collect(Collectors.toList());\r\n            if (!seenSubLists.contains(sortedInts)) {\r\n                listWithoutDuplicates.add(ints);\r\n                seenSubLists.add(sortedInts);\r\n            }\r\n        }\r\n        return listWithoutDuplicates.toArray(new int[listWithoutDuplicates.size()][]);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n\r\n    arrayWithDuplicates = [[-1, -1, 2], [0, -1, 1], [1, -1, 0], [2, -1, -1], [-1, 2, -1], [-1, 1, 0], [0, 1, -1], [-1, 0, 1], [1, 0, -1]]\r\n    arrayWithoutDuplicates = [[-1, -1, 2], [0, -1, 1]]","title":"How to remove duplicates from Set of list in Java","body":"<p>I think you could use sorting to make using a Set and a List work as you specify:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\nclass Main {\n    \n    public static void main(String[] args) {\n        int[][] arrayWithDuplicates = new int[][] { { -1, -1, 2 }, { 0, -1, 1 }, { 1, -1, 0 }, { 2, -1, -1 },\n                { -1, 2, -1 }, { -1, 1, 0 }, { 0, 1, -1 }, { -1, 0, 1 }, { 1, 0, -1 } };\n        System.out.printf(&quot;arrayWithDuplicates = %s%n&quot;, Arrays.deepToString(arrayWithDuplicates));\n        int[][] arrayWithoutDuplicates = getArrayWithoutDuplicates(arrayWithDuplicates);\n        System.out.printf(&quot;arrayWithoutDuplicates = %s%n&quot;, Arrays.deepToString(arrayWithoutDuplicates));\n    }\n\n    public static int[][] getArrayWithoutDuplicates(int[][] array) {\n        List&lt;int[]&gt; listWithoutDuplicates = new ArrayList&lt;&gt;();\n        Set&lt;List&lt;Integer&gt;&gt; seenSubLists = new HashSet&lt;&gt;();\n        for (int[] ints : array) {\n            List&lt;Integer&gt; sortedInts = Arrays.stream(ints).boxed().sorted().collect(Collectors.toList());\n            if (!seenSubLists.contains(sortedInts)) {\n                listWithoutDuplicates.add(ints);\n                seenSubLists.add(sortedInts);\n            }\n        }\n        return listWithoutDuplicates.toArray(new int[listWithoutDuplicates.size()][]);\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>arrayWithDuplicates = [[-1, -1, 2], [0, -1, 1], [1, -1, 0], [2, -1, -1], [-1, 2, -1], [-1, 1, 0], [0, 1, -1], [-1, 0, 1], [1, 0, -1]]\narrayWithoutDuplicates = [[-1, -1, 2], [0, -1, 1]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635426967,"creation_date":1635426292,"answer_id":69754624,"question_id":69753309,"body_markdown":"        final Set&lt;List&lt;Integer&gt;&gt; sortedLists = new HashSet&lt;&gt;();\r\n        Set&lt;List&lt;Integer&gt;&gt; newLists = lists.stream()\r\n                .map(integers -&gt; {\r\n                    List&lt;Integer&gt; sorted = integers.stream().sorted().collect(Collectors.toList());\r\n                    if (sortedLists.contains(sorted)) {\r\n                        return null;\r\n                    }\r\n                    sortedLists.add(sorted);\r\n                    return integers;\r\n                })\r\n                .filter(Objects::nonNull)\r\n                .collect(Collectors.toSet());\r\n","title":"How to remove duplicates from Set of list in Java","body":"<pre><code>    final Set&lt;List&lt;Integer&gt;&gt; sortedLists = new HashSet&lt;&gt;();\n    Set&lt;List&lt;Integer&gt;&gt; newLists = lists.stream()\n            .map(integers -&gt; {\n                List&lt;Integer&gt; sorted = integers.stream().sorted().collect(Collectors.toList());\n                if (sortedLists.contains(sorted)) {\n                    return null;\n                }\n                sortedLists.add(sorted);\n                return integers;\n            })\n            .filter(Objects::nonNull)\n            .collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635439749,"creation_date":1635439749,"answer_id":69758055,"question_id":69753309,"body_markdown":"\r\nYou can create a class to represent your set elements and give them the behaviour you want.  That is, two elements are equal if they contain the same integers regardless of order.\r\n\r\n    import java.util.Arrays;\r\n    public class IntList extends Object {\r\n        // I will keep the original array but you can just sort it in place if that makes sense\r\n        private int[] array; // The orignal array\r\n        private int[] sortedArray; // Sorted copy of the original array\r\n        public IntList( int[] array ) {\r\n            this.array = array;\r\n            this.sortedArray = array.clone();\r\n            Arrays.sort( this.sortedArray );\r\n        }\r\n        @Override\r\n        public boolean equals( Object o ) {\r\n            // This object is equal to another if they are:\r\n            //   the same instance or instances of this class with equal sorted arrays\r\n            boolean result;\r\n            if ( o == this ) {\r\n                result = true;\r\n            } else {\r\n                if ( ! ( o instanceof IntList ) ) {\r\n                    result = false;\r\n                } else {\r\n                    IntList other = ( IntList ) o;\r\n                    result = Arrays.equals( this.sortedArray, other.sortedArray );\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        @Override\r\n        public int hashCode() {\r\n            // Used by HashSet\r\n            return Arrays.hashCode( this.sortedArray );\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return Arrays.toString( this.sortedArray );\r\n        }\r\n    }\r\n\r\nThen you can construct a Set with elements of this class:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Set;\r\n    import java.util.HashSet;\r\n\r\n    public class main {\r\n        public static void main(String[] args) {\r\n            int[][] input = new int[][] { { -1, -1, 2 }, { 0, -1, 1 }, { 1, -1, 0 }, { 2, -1, -1 },\r\n                    { -1, 2, -1 }, { -1, 1, 0 }, { 0, 1, -1 }, { -1, 0, 1 }, { 1, 0, -1 } };\r\n\r\n            System.out.printf(&quot;input = %s%n&quot;, Arrays.deepToString(input));\r\n\r\n            Set&lt;IntList&gt; set = new HashSet&lt;IntList&gt;();\r\n            for( int[] currIntArray: input ) {\r\n                IntList list = new IntList( currIntArray );\r\n                set.add( list );\r\n\r\n            }\r\n            System.out.printf( &quot;output = %s%n&quot;, set.toString());\r\n        }\r\n    }\r\n\r\nResult\r\n\r\n    input = [[-1, -1, 2], [0, -1, 1], [1, -1, 0], [2, -1, -1], [-1, 2, -1], [-1, 1, 0], [0, 1, -1], [-1, 0, 1], [1, 0, -1]]\r\n    output = [[-1, -1, 2], [0, -1, 1]]\r\n\r\n\r\nThe way you do this really depends on the larger context of your problem domain.  I think it&#39;s unlikely that you really want a public class called IntList but you might contain it inside your own implementation of Set, or somewhere else in your model.\r\n\r\n","title":"How to remove duplicates from Set of list in Java","body":"<p>You can create a class to represent your set elements and give them the behaviour you want.  That is, two elements are equal if they contain the same integers regardless of order.</p>\n<pre><code>import java.util.Arrays;\npublic class IntList extends Object {\n    // I will keep the original array but you can just sort it in place if that makes sense\n    private int[] array; // The orignal array\n    private int[] sortedArray; // Sorted copy of the original array\n    public IntList( int[] array ) {\n        this.array = array;\n        this.sortedArray = array.clone();\n        Arrays.sort( this.sortedArray );\n    }\n    @Override\n    public boolean equals( Object o ) {\n        // This object is equal to another if they are:\n        //   the same instance or instances of this class with equal sorted arrays\n        boolean result;\n        if ( o == this ) {\n            result = true;\n        } else {\n            if ( ! ( o instanceof IntList ) ) {\n                result = false;\n            } else {\n                IntList other = ( IntList ) o;\n                result = Arrays.equals( this.sortedArray, other.sortedArray );\n            }\n        }\n        return result;\n    }\n    @Override\n    public int hashCode() {\n        // Used by HashSet\n        return Arrays.hashCode( this.sortedArray );\n    }\n    @Override\n    public String toString() {\n        return Arrays.toString( this.sortedArray );\n    }\n}\n</code></pre>\n<p>Then you can construct a Set with elements of this class:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Set;\nimport java.util.HashSet;\n\npublic class main {\n    public static void main(String[] args) {\n        int[][] input = new int[][] { { -1, -1, 2 }, { 0, -1, 1 }, { 1, -1, 0 }, { 2, -1, -1 },\n                { -1, 2, -1 }, { -1, 1, 0 }, { 0, 1, -1 }, { -1, 0, 1 }, { 1, 0, -1 } };\n\n        System.out.printf(&quot;input = %s%n&quot;, Arrays.deepToString(input));\n\n        Set&lt;IntList&gt; set = new HashSet&lt;IntList&gt;();\n        for( int[] currIntArray: input ) {\n            IntList list = new IntList( currIntArray );\n            set.add( list );\n\n        }\n        System.out.printf( &quot;output = %s%n&quot;, set.toString());\n    }\n}\n</code></pre>\n<p>Result</p>\n<pre><code>input = [[-1, -1, 2], [0, -1, 1], [1, -1, 0], [2, -1, -1], [-1, 2, -1], [-1, 1, 0], [0, 1, -1], [-1, 0, 1], [1, 0, -1]]\noutput = [[-1, -1, 2], [0, -1, 1]]\n</code></pre>\n<p>The way you do this really depends on the larger context of your problem domain.  I think it's unlikely that you really want a public class called IntList but you might contain it inside your own implementation of Set, or somewhere else in your model.</p>\n"}],"owner":{"account_id":10371387,"reputation":31,"user_id":7648977,"display_name":"T.Med"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1635439749,"creation_date":1635420661,"question_id":69753309,"body_markdown":"I have a set of lists that I want to remove duplicates from **no matter the order of elements in each list**, as the following :\r\n\r\nI have this as input `[[-1,-1,2],[0,-1,1],[1,-1,0],[2,-1,-1],[-1,2,-1],[-1,1,0],[0,1,-1],[-1,0,1],[1,0,-1]]`\r\n\r\nWhen I use `Set&lt;Set&gt;` to refine my elements it does partially the work but I get `[[1,-1,0],[-1,2]]` which it is logic because the inner Set refines the duplicates for `[-1,-1,2]`.\r\n\r\nWhen I tried to use `Set&lt;List&gt;` I couldn&#39;t refine my elements which gets me this `[[-1,-1,2],[0,-1,1],[1,-1,0],[2,-1,-1],[-1,2,-1],[-1,1,0],[0,1,-1],[-1,0,1],[1,0,-1]]`\r\n\r\nSo how I can manage to refine the duplicates and keep my resulting triplets intact?\r\n\r\nThank you in advance.","title":"How to remove duplicates from Set of list in Java","body":"<p>I have a set of lists that I want to remove duplicates from <strong>no matter the order of elements in each list</strong>, as the following :</p>\n<p>I have this as input <code>[[-1,-1,2],[0,-1,1],[1,-1,0],[2,-1,-1],[-1,2,-1],[-1,1,0],[0,1,-1],[-1,0,1],[1,0,-1]]</code></p>\n<p>When I use <code>Set&lt;Set&gt;</code> to refine my elements it does partially the work but I get <code>[[1,-1,0],[-1,2]]</code> which it is logic because the inner Set refines the duplicates for <code>[-1,-1,2]</code>.</p>\n<p>When I tried to use <code>Set&lt;List&gt;</code> I couldn't refine my elements which gets me this <code>[[-1,-1,2],[0,-1,1],[1,-1,0],[2,-1,-1],[-1,2,-1],[-1,1,0],[0,1,-1],[-1,0,1],[1,0,-1]]</code></p>\n<p>So how I can manage to refine the duplicates and keep my resulting triplets intact?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-boot","batch-processing"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635400382,"post_id":69748904,"comment_id":123288584,"body_markdown":"Why would there be an alternative? A scheduler is something different then processing with Spring Batch? You can use a scheduler to kickoff the batch job.","body":"Why would there be an alternative? A scheduler is something different then processing with Spring Batch? You can use a scheduler to kickoff the batch job."},{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1635401875,"post_id":69748904,"comment_id":123288959,"body_markdown":"spring-batch-lightmin provides an admin console for spring-batch jobs and also includes a scheduler","body":"spring-batch-lightmin provides an admin console for spring-batch jobs and also includes a scheduler"}],"answers":[{"tags":[],"owner":{"account_id":18825072,"reputation":323,"user_id":13730182,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635411845,"creation_date":1635411845,"answer_id":69751189,"question_id":69748904,"body_markdown":"May be [`@Scheduled`][1] annotation can help you out. \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-scheduled-tasks","title":"Scheduler in springboot for huge data alternate of spring batch processing","body":"<p>May be <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\"><code>@Scheduled</code></a> annotation can help you out.</p>\n"},{"tags":[],"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635439650,"creation_date":1635439650,"answer_id":69758039,"question_id":69748904,"body_markdown":"You can use the Spring Batch schedular. It execute spring batch jobs periodically on fixed schedule using some cron expression passed to Spring TaskScheduler\r\n\r\nTo configure, batch job scheduling is done in two steps:\r\n\r\nEnable scheduling with @EnableScheduling annotation.\r\nCreate method annotated with @Scheduled and provide recurrence details using cron job. Add the job execution logic inside this method.\r\n\r\nHere is the link of an example : https://howtodoinjava.com/spring-batch/job-scheduler-example/","title":"Scheduler in springboot for huge data alternate of spring batch processing","body":"<p>You can use the Spring Batch schedular. It execute spring batch jobs periodically on fixed schedule using some cron expression passed to Spring TaskScheduler</p>\n<p>To configure, batch job scheduling is done in two steps:</p>\n<p>Enable scheduling with @EnableScheduling annotation.\nCreate method annotated with @Scheduled and provide recurrence details using cron job. Add the job execution logic inside this method.</p>\n<p>Here is the link of an example : <a href=\"https://howtodoinjava.com/spring-batch/job-scheduler-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-batch/job-scheduler-example/</a></p>\n"}],"owner":{"account_id":4079194,"reputation":11,"user_id":3350057,"display_name":"Jabir Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635439650,"creation_date":1635400276,"question_id":69748904,"body_markdown":"I have to run a schduler(any schduled jobs) where i have to fetch 300,000-400,000 in average twice daily from database and apply business logics one by one where each process requests to thirdparty which takes 3-4 seconds to respond.\r\nwhat are alternates of spring batch processing to process such huge data in efficient ways?\r\n\r\nNote: fetched data are not static, data may vary everyday.","title":"Scheduler in springboot for huge data alternate of spring batch processing","body":"<p>I have to run a schduler(any schduled jobs) where i have to fetch 300,000-400,000 in average twice daily from database and apply business logics one by one where each process requests to thirdparty which takes 3-4 seconds to respond.\nwhat are alternates of spring batch processing to process such huge data in efficient ways?</p>\n<p>Note: fetched data are not static, data may vary everyday.</p>\n"},{"tags":["java","spring","spring-boot","caching","infinispan"],"comments":[{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1635068909,"post_id":69691468,"comment_id":123191925,"body_markdown":"Since the class cast exception makes no sense (it is the same class), I&#39;d speculate that its a class loader issue. What is the Spring cache configuration?","body":"Since the class cast exception makes no sense (it is the same class), I&#39;d speculate that its a class loader issue. What is the Spring cache configuration?"},{"owner":{"account_id":1360573,"reputation":581,"user_id":1298031,"display_name":"Nicolas Dos Santos"},"score":0,"creation_date":1635340578,"post_id":69691468,"comment_id":123271195,"body_markdown":"@cruftex I just added \\@EnableCaching to enable caching, and I use \\@Cacheable on the PersonServiceImpl.getPerson(String id) method.\nThe properties: spring.cache.type=infinispan, infinispan.embedded.configXml=config/cache/infinispan.xml","body":"@cruftex I just added \\@EnableCaching to enable caching, and I use \\@Cacheable on the PersonServiceImpl.getPerson(String id) method. The properties: spring.cache.type=infinispan, infinispan.embedded.configXml=config/cache/infinispan.xml"}],"answers":[{"tags":[],"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635167982,"creation_date":1635167982,"answer_id":69708802,"question_id":69691468,"body_markdown":"The best option would be to change the cache encoding to `application/x-protostream` and to serialize your objects [using the ProtoStream library](https://infinispan.org/docs/stable/titles/encoding/encoding.html#marshalling_user_types).\r\n\r\n```xml\r\n&lt;local-cache-configuration name=&quot;mirrorFile&quot;&gt;\r\n   &lt;encoding&gt;\r\n      &lt;key media-type=&quot;application/x-protostream&quot;/&gt;\r\n      &lt;value media-type=&quot;application/x-protostream&quot;/&gt;\r\n   &lt;/encoding&gt;\r\n&lt;/local-cache&gt;\r\n```\r\n\r\nInfinispan caches default to holding the actual Java object in memory, without serializing it. The configured marshaller is only used for writing the entries to disk.\r\n\r\nWhen you modify the class, Spring likely creates a new class with the same name in a new classloader. But the objects in the cache still use the class from the old classloader, so they are not compatible with the new class.\r\n\r\nConfiguring an encoding media type other than `application/x-java-object` tells Infinispan to serialize objects that stay in memory as well.\r\n\r\nYou could also change the cache encoding to `application/x-java-serialized-object`, so that your objects are stored in memory using the `JavaSerializationMarshaller` it is already using for storing objects on disk. But maintaining compatibility with older versions using Java serialization is a lot of work, and requires planning ahead of time: you need a `serialVersionUUID` field, possibly a version field, and a `readExternal()` implementation that can read the old formats. With ProtoStream, as it is based on Protobuf schemas, you can easily add new (optional) fields and ignore no-longer used fields, as long as you don&#39;t change or reuse field numbers.","title":"Spring Boot + Infinispan embedded - how to prevent ClassCastException when the object to be cached has been modified?","body":"<p>The best option would be to change the cache encoding to <code>application/x-protostream</code> and to serialize your objects <a href=\"https://infinispan.org/docs/stable/titles/encoding/encoding.html#marshalling_user_types\" rel=\"nofollow noreferrer\">using the ProtoStream library</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;local-cache-configuration name=&quot;mirrorFile&quot;&gt;\n   &lt;encoding&gt;\n      &lt;key media-type=&quot;application/x-protostream&quot;/&gt;\n      &lt;value media-type=&quot;application/x-protostream&quot;/&gt;\n   &lt;/encoding&gt;\n&lt;/local-cache&gt;\n</code></pre>\n<p>Infinispan caches default to holding the actual Java object in memory, without serializing it. The configured marshaller is only used for writing the entries to disk.</p>\n<p>When you modify the class, Spring likely creates a new class with the same name in a new classloader. But the objects in the cache still use the class from the old classloader, so they are not compatible with the new class.</p>\n<p>Configuring an encoding media type other than <code>application/x-java-object</code> tells Infinispan to serialize objects that stay in memory as well.</p>\n<p>You could also change the cache encoding to <code>application/x-java-serialized-object</code>, so that your objects are stored in memory using the <code>JavaSerializationMarshaller</code> it is already using for storing objects on disk. But maintaining compatibility with older versions using Java serialization is a lot of work, and requires planning ahead of time: you need a <code>serialVersionUUID</code> field, possibly a version field, and a <code>readExternal()</code> implementation that can read the old formats. With ProtoStream, as it is based on Protobuf schemas, you can easily add new (optional) fields and ignore no-longer used fields, as long as you don't change or reuse field numbers.</p>\n"},{"tags":[],"owner":{"account_id":1360573,"reputation":581,"user_id":1298031,"display_name":"Nicolas Dos Santos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635439606,"creation_date":1635439606,"answer_id":69758032,"question_id":69691468,"body_markdown":"I finally created my own Marshaller that serialize/deserialize in JSON, inspired by the following class: [GenericJackson2JsonRedisSerializer.java][1]\r\n\r\n    public class JsonMarshaller extends AbstractMarshaller {\r\n    \r\n        private static final byte[] EMPTY_ARRAY = new byte[0];\r\n    \r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public JsonMarshaller() {\r\n            this.objectMapper = objectMapper();\r\n        }\r\n    \r\n        private ObjectMapper objectMapper() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\r\n            objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n            objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n            objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(), ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n    \r\n            // Serialize/Deserialize objects from any fields or creators (constructors and (static) factory methods). Ignore getters/setters.\r\n            objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n            objectMapper.setVisibility(PropertyAccessor.CREATOR, JsonAutoDetect.Visibility.ANY);\r\n            objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n    \r\n            // Register support of other new Java 8 datatypes outside of date/time: most notably Optional, OptionalLong, OptionalDouble\r\n            objectMapper.registerModule(new Jdk8Module());\r\n    \r\n            // Register support for Java 8 date/time types (specified in JSR-310 specification)\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n    \r\n            // simply setting {@code mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)} does not help here since we need\r\n            // the type hint embedded for deserialization using the default typing feature.\r\n            objectMapper.registerModule(new SimpleModule(&quot;NullValue Module&quot;).addSerializer(new NullValueSerializer(null)));\r\n    \r\n            objectMapper.registerModule(\r\n                    new SimpleModule(&quot;SimpleKey Module&quot;)\r\n                            .addSerializer(new SimpleKeySerializer())\r\n                            .addDeserializer(SimpleKey.class, new SimpleKeyDeserializer(objectMapper))\r\n            );\r\n    \r\n            return objectMapper;\r\n        }\r\n    \r\n        @Override\r\n        protected ByteBuffer objectToBuffer(Object o, int estimatedSize) throws IOException, InterruptedException {\r\n            return ByteBufferImpl.create(objectToBytes(o));\r\n        }\r\n    \r\n        private byte[] objectToBytes(Object o) throws JsonProcessingException {\r\n            if (o == null) {\r\n                return EMPTY_ARRAY;\r\n            }\r\n            return objectMapper.writeValueAsBytes(o);\r\n        }\r\n    \r\n        @Override\r\n        public Object objectFromByteBuffer(byte[] buf, int offset, int length) throws IOException, ClassNotFoundException {\r\n            if (isEmpty(buf)) {\r\n                return null;\r\n            }\r\n            return objectMapper.readValue(buf, Object.class);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isMarshallable(Object o) throws Exception {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public MediaType mediaType() {\r\n            return MediaType.APPLICATION_JSON;\r\n        }\r\n    \r\n        private static boolean isEmpty(byte[] data) {\r\n            return (data == null || data.length == 0);\r\n        }\r\n    \r\n        /**\r\n         * {@link StdSerializer} adding class information required by default typing. This allows de-/serialization of {@link NullValue}.\r\n         */\r\n        private static class NullValueSerializer extends StdSerializer&lt;NullValue&gt; {\r\n    \r\n            private static final long serialVersionUID = 1999052150548658808L;\r\n            private final String classIdentifier;\r\n    \r\n            /**\r\n             * @param classIdentifier can be {@literal null} and will be defaulted to {@code @class}.\r\n             */\r\n            NullValueSerializer(String classIdentifier) {\r\n    \r\n                super(NullValue.class);\r\n                this.classIdentifier = StringUtils.isNotBlank(classIdentifier) ? classIdentifier : &quot;@class&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public void serialize(NullValue value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n                jgen.writeStartObject();\r\n                jgen.writeStringField(classIdentifier, NullValue.class.getName());\r\n                jgen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\nThe Serializer/Deserializer for SimpleKey object: \r\n\r\n    public class SimpleKeySerializer extends StdSerializer&lt;SimpleKey&gt; {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(SimpleKeySerializer.class);\r\n    \r\n        protected SimpleKeySerializer() {\r\n            super(SimpleKey.class);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(SimpleKey simpleKey, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            gen.writeStartObject();\r\n            serializeFields(simpleKey, gen, provider);\r\n            gen.writeEndObject();\r\n        }\r\n    \r\n        @Override\r\n        public void serializeWithType(SimpleKey value, JsonGenerator gen, SerializerProvider provider, TypeSerializer typeSer) throws IOException {\r\n            WritableTypeId typeId = typeSer.typeId(value, JsonToken.START_OBJECT);\r\n            typeSer.writeTypePrefix(gen, typeId);\r\n            serializeFields(value, gen, provider);\r\n            typeSer.writeTypeSuffix(gen, typeId);\r\n    \r\n        }\r\n    \r\n        private void serializeFields(SimpleKey simpleKey, JsonGenerator gen, SerializerProvider provider) {\r\n            try {\r\n                Object[] params = (Object[]) FieldUtils.readField(simpleKey, &quot;params&quot;, true);\r\n                gen.writeArrayFieldStart(&quot;params&quot;);\r\n                gen.writeObject(params);\r\n                gen.writeEndArray();\r\n            } catch (Exception e) {\r\n                LOG.warn(&quot;Could not read &#39;params&#39; field from SimpleKey {}: {}&quot;, simpleKey, e.getMessage(), e);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class SimpleKeyDeserializer extends StdDeserializer&lt;SimpleKey&gt; {\r\n    \r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public SimpleKeyDeserializer(ObjectMapper objectMapper) {\r\n            super(SimpleKey.class);\r\n            this.objectMapper = objectMapper;\r\n        }\r\n    \r\n        @Override\r\n        public SimpleKey deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            List&lt;Object&gt; params = new ArrayList&lt;&gt;();\r\n            TreeNode treeNode = jp.getCodec().readTree(jp);\r\n            TreeNode paramsNode = treeNode.get(&quot;params&quot;);\r\n            if (paramsNode.isArray()) {\r\n                for (JsonNode paramNode : (ArrayNode) paramsNode) {\r\n                    Object[] values = this.objectMapper.treeToValue(paramNode, Object[].class);\r\n                    params.addAll(Arrays.asList(values));\r\n                }\r\n            }\r\n            return new SimpleKey(params.toArray());\r\n        }\r\n    \r\n    }\r\n\r\nAnd I configured infinispan like the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;infinispan xmlns=&quot;urn:infinispan:config:12.1&quot;\r\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                xsi:schemaLocation=&quot;urn:infinispan:config:12.1 https://infinispan.org/schemas/infinispan-config-12.1.xsd&quot;&gt;\r\n        &lt;cache-container default-cache=&quot;default&quot;&gt;\r\n    \r\n            &lt;serialization marshaller=&quot;com.example.JsonMarshaller&quot;&gt;\r\n                &lt;allow-list&gt;\r\n                    &lt;regex&gt;com.example.*&lt;/regex&gt;\r\n                &lt;/allow-list&gt;\r\n            &lt;/serialization&gt;\r\n    \r\n            &lt;local-cache-configuration name=&quot;mirrorFile&quot;&gt;\r\n                &lt;persistence passivation=&quot;false&quot;&gt;\r\n                    &lt;file-store path=&quot;${infinispan.disk.store.dir}&quot;\r\n                                shared=&quot;false&quot;\r\n                                preload=&quot;false&quot;\r\n                                purge=&quot;false&quot;\r\n                                segmented=&quot;false&quot;&gt;\r\n                    &lt;/file-store&gt;\r\n                &lt;/persistence&gt;\r\n            &lt;/local-cache-configuration&gt;\r\n    \r\n            &lt;local-cache name=&quot;person&quot; statistics=&quot;true&quot; configuration=&quot;mirrorFile&quot;&gt;\r\n                &lt;memory max-count=&quot;500&quot;/&gt;\r\n                &lt;expiration lifespan=&quot;86400000&quot;/&gt;\r\n            &lt;/local-cache&gt;\r\n        &lt;/cache-container&gt;\r\n    &lt;/infinispan&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-redis/blob/main/src/main/java/org/springframework/data/redis/serializer/GenericJackson2JsonRedisSerializer.java","title":"Spring Boot + Infinispan embedded - how to prevent ClassCastException when the object to be cached has been modified?","body":"<p>I finally created my own Marshaller that serialize/deserialize in JSON, inspired by the following class: <a href=\"https://github.com/spring-projects/spring-data-redis/blob/main/src/main/java/org/springframework/data/redis/serializer/GenericJackson2JsonRedisSerializer.java\" rel=\"nofollow noreferrer\">GenericJackson2JsonRedisSerializer.java</a></p>\n<pre><code>public class JsonMarshaller extends AbstractMarshaller {\n\n    private static final byte[] EMPTY_ARRAY = new byte[0];\n\n    private final ObjectMapper objectMapper;\n\n    public JsonMarshaller() {\n        this.objectMapper = objectMapper();\n    }\n\n    private ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n        objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator(), ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n        // Serialize/Deserialize objects from any fields or creators (constructors and (static) factory methods). Ignore getters/setters.\n        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        objectMapper.setVisibility(PropertyAccessor.CREATOR, JsonAutoDetect.Visibility.ANY);\n        objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n\n        // Register support of other new Java 8 datatypes outside of date/time: most notably Optional, OptionalLong, OptionalDouble\n        objectMapper.registerModule(new Jdk8Module());\n\n        // Register support for Java 8 date/time types (specified in JSR-310 specification)\n        objectMapper.registerModule(new JavaTimeModule());\n\n        // simply setting {@code mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)} does not help here since we need\n        // the type hint embedded for deserialization using the default typing feature.\n        objectMapper.registerModule(new SimpleModule(&quot;NullValue Module&quot;).addSerializer(new NullValueSerializer(null)));\n\n        objectMapper.registerModule(\n                new SimpleModule(&quot;SimpleKey Module&quot;)\n                        .addSerializer(new SimpleKeySerializer())\n                        .addDeserializer(SimpleKey.class, new SimpleKeyDeserializer(objectMapper))\n        );\n\n        return objectMapper;\n    }\n\n    @Override\n    protected ByteBuffer objectToBuffer(Object o, int estimatedSize) throws IOException, InterruptedException {\n        return ByteBufferImpl.create(objectToBytes(o));\n    }\n\n    private byte[] objectToBytes(Object o) throws JsonProcessingException {\n        if (o == null) {\n            return EMPTY_ARRAY;\n        }\n        return objectMapper.writeValueAsBytes(o);\n    }\n\n    @Override\n    public Object objectFromByteBuffer(byte[] buf, int offset, int length) throws IOException, ClassNotFoundException {\n        if (isEmpty(buf)) {\n            return null;\n        }\n        return objectMapper.readValue(buf, Object.class);\n    }\n\n    @Override\n    public boolean isMarshallable(Object o) throws Exception {\n        return true;\n    }\n\n    @Override\n    public MediaType mediaType() {\n        return MediaType.APPLICATION_JSON;\n    }\n\n    private static boolean isEmpty(byte[] data) {\n        return (data == null || data.length == 0);\n    }\n\n    /**\n     * {@link StdSerializer} adding class information required by default typing. This allows de-/serialization of {@link NullValue}.\n     */\n    private static class NullValueSerializer extends StdSerializer&lt;NullValue&gt; {\n\n        private static final long serialVersionUID = 1999052150548658808L;\n        private final String classIdentifier;\n\n        /**\n         * @param classIdentifier can be {@literal null} and will be defaulted to {@code @class}.\n         */\n        NullValueSerializer(String classIdentifier) {\n\n            super(NullValue.class);\n            this.classIdentifier = StringUtils.isNotBlank(classIdentifier) ? classIdentifier : &quot;@class&quot;;\n        }\n\n        @Override\n        public void serialize(NullValue value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n            jgen.writeStartObject();\n            jgen.writeStringField(classIdentifier, NullValue.class.getName());\n            jgen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n<p>The Serializer/Deserializer for SimpleKey object:</p>\n<pre><code>public class SimpleKeySerializer extends StdSerializer&lt;SimpleKey&gt; {\n\n    private static final Logger LOG = LoggerFactory.getLogger(SimpleKeySerializer.class);\n\n    protected SimpleKeySerializer() {\n        super(SimpleKey.class);\n    }\n\n    @Override\n    public void serialize(SimpleKey simpleKey, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n        serializeFields(simpleKey, gen, provider);\n        gen.writeEndObject();\n    }\n\n    @Override\n    public void serializeWithType(SimpleKey value, JsonGenerator gen, SerializerProvider provider, TypeSerializer typeSer) throws IOException {\n        WritableTypeId typeId = typeSer.typeId(value, JsonToken.START_OBJECT);\n        typeSer.writeTypePrefix(gen, typeId);\n        serializeFields(value, gen, provider);\n        typeSer.writeTypeSuffix(gen, typeId);\n\n    }\n\n    private void serializeFields(SimpleKey simpleKey, JsonGenerator gen, SerializerProvider provider) {\n        try {\n            Object[] params = (Object[]) FieldUtils.readField(simpleKey, &quot;params&quot;, true);\n            gen.writeArrayFieldStart(&quot;params&quot;);\n            gen.writeObject(params);\n            gen.writeEndArray();\n        } catch (Exception e) {\n            LOG.warn(&quot;Could not read 'params' field from SimpleKey {}: {}&quot;, simpleKey, e.getMessage(), e);\n        }\n    }\n}\n\npublic class SimpleKeyDeserializer extends StdDeserializer&lt;SimpleKey&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    public SimpleKeyDeserializer(ObjectMapper objectMapper) {\n        super(SimpleKey.class);\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public SimpleKey deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        List&lt;Object&gt; params = new ArrayList&lt;&gt;();\n        TreeNode treeNode = jp.getCodec().readTree(jp);\n        TreeNode paramsNode = treeNode.get(&quot;params&quot;);\n        if (paramsNode.isArray()) {\n            for (JsonNode paramNode : (ArrayNode) paramsNode) {\n                Object[] values = this.objectMapper.treeToValue(paramNode, Object[].class);\n                params.addAll(Arrays.asList(values));\n            }\n        }\n        return new SimpleKey(params.toArray());\n    }\n\n}\n</code></pre>\n<p>And I configured infinispan like the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;infinispan xmlns=&quot;urn:infinispan:config:12.1&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;urn:infinispan:config:12.1 https://infinispan.org/schemas/infinispan-config-12.1.xsd&quot;&gt;\n    &lt;cache-container default-cache=&quot;default&quot;&gt;\n\n        &lt;serialization marshaller=&quot;com.example.JsonMarshaller&quot;&gt;\n            &lt;allow-list&gt;\n                &lt;regex&gt;com.example.*&lt;/regex&gt;\n            &lt;/allow-list&gt;\n        &lt;/serialization&gt;\n\n        &lt;local-cache-configuration name=&quot;mirrorFile&quot;&gt;\n            &lt;persistence passivation=&quot;false&quot;&gt;\n                &lt;file-store path=&quot;${infinispan.disk.store.dir}&quot;\n                            shared=&quot;false&quot;\n                            preload=&quot;false&quot;\n                            purge=&quot;false&quot;\n                            segmented=&quot;false&quot;&gt;\n                &lt;/file-store&gt;\n            &lt;/persistence&gt;\n        &lt;/local-cache-configuration&gt;\n\n        &lt;local-cache name=&quot;person&quot; statistics=&quot;true&quot; configuration=&quot;mirrorFile&quot;&gt;\n            &lt;memory max-count=&quot;500&quot;/&gt;\n            &lt;expiration lifespan=&quot;86400000&quot;/&gt;\n        &lt;/local-cache&gt;\n    &lt;/cache-container&gt;\n&lt;/infinispan&gt;\n</code></pre>\n"}],"owner":{"account_id":1360573,"reputation":581,"user_id":1298031,"display_name":"Nicolas Dos Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69758032,"answer_count":2,"score":1,"last_activity_date":1635439606,"creation_date":1635018089,"question_id":69691468,"body_markdown":"I have a web application with Spring Boot 2.5.5 and embedded Infinispan 12.1.7.\r\n\r\nI have a Controller with an endpoint to get a Person object by ID:\r\n\r\n    @RestController\r\n    public class PersonController {\r\n    \r\n        private final PersonService service;\r\n    \r\n        public PersonController(PersonService service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        @GetMapping(&quot;/person/{id}&quot;)\r\n        public ResponseEntity&lt;Person&gt; getPerson(@PathVariable(&quot;id&quot;) String id) {\r\n            Person person = this.service.getPerson(id);\r\n            return ResponseEntity.ok(person);\r\n        }\r\n    }\r\n\r\nThe following is the `PersonService` implementation with the use of the `@Cacheable` annotation on the `getPerson` method :\r\n\r\n    public interface PersonService {\r\n    \r\n        Person getPerson(String id);\r\n    }\r\n\r\n    @Service\r\n    public class PersonServiceImpl implements PersonService {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(PersonServiceImpl.class);\r\n    \r\n        @Override\r\n        @Cacheable(&quot;person&quot;)\r\n        public Person getPerson(String id) {\r\n            LOG.info(&quot;Get Person by ID {}&quot;, id);\r\n    \r\n            Person person = new Person();\r\n            person.setId(id);\r\n            person.setFirstName(&quot;John&quot;);\r\n            person.setLastName(&quot;Doe&quot;);\r\n            person.setAge(35);\r\n            person.setGender(Gender.MALE);\r\n            person.setExtra(&quot;extra value&quot;);\r\n    \r\n            return person;\r\n        }\r\n    }\r\n\r\nAnd here is the Person class:\r\n\r\n    public class Person implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private String id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private Integer age;\r\n        private Gender gender;\r\n        private String extra;\r\n\r\n        /* Getters / Setters */\r\n        ...\r\n    }\r\n\r\nI configured infinispan to use a filesystem-based cache store:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;infinispan xmlns=&quot;urn:infinispan:config:12.1&quot;\r\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                xsi:schemaLocation=&quot;urn:infinispan:config:12.1 https://infinispan.org/schemas/infinispan-config-12.1.xsd&quot;&gt;\r\n        &lt;cache-container default-cache=&quot;default&quot;&gt;\r\n    \r\n            &lt;serialization marshaller=&quot;org.infinispan.commons.marshall.JavaSerializationMarshaller&quot;&gt;\r\n                &lt;allow-list&gt;\r\n                    &lt;regex&gt;com.example.*&lt;/regex&gt;\r\n                &lt;/allow-list&gt;\r\n            &lt;/serialization&gt;\r\n    \r\n            &lt;local-cache-configuration name=&quot;mirrorFile&quot;&gt;\r\n                &lt;persistence passivation=&quot;false&quot;&gt;\r\n                    &lt;file-store path=&quot;${infinispan.disk.store.dir}&quot;\r\n                                shared=&quot;false&quot;\r\n                                preload=&quot;false&quot;\r\n                                purge=&quot;false&quot;\r\n                                segmented=&quot;false&quot;&gt;\r\n                    &lt;/file-store&gt;\r\n                &lt;/persistence&gt;\r\n            &lt;/local-cache-configuration&gt;\r\n    \r\n            &lt;local-cache name=&quot;person&quot; statistics=&quot;true&quot; configuration=&quot;mirrorFile&quot;&gt;\r\n                &lt;memory max-count=&quot;500&quot;/&gt;\r\n                &lt;expiration lifespan=&quot;86400000&quot;/&gt;\r\n            &lt;/local-cache&gt;\r\n        &lt;/cache-container&gt;\r\n    &lt;/infinispan&gt;\r\n\r\nI request the endpoint to get the person with id &#39;1&#39;: http://localhost:8090/assets-webapp/person/1\\\r\n`PersonService.getPerson(String)` is called the first time and the result is cached.\\\r\nI request again the endpoint to get the person with id &#39;1&#39;, and I retrieve the result in the cache.\r\n\r\nI update the `Person` object by removing the `extra` field with getter/setter, and I add a `extra2` field:\r\n\r\n    public class Person implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private String id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private Integer age;\r\n        private Gender gender;\r\n        private String extra2;\r\n    \r\n        ...\r\n    \r\n        public String getExtra2() {\r\n            return extra2;\r\n        }\r\n    \r\n        public void setExtra2(String extra2) {\r\n            this.extra2 = extra2;\r\n        }\r\n    }\r\n\r\nI request again the endpoint to get the person with id &#39;1&#39;, but a `ClassCastException` is thrown: \r\n\r\n    java.lang.ClassCastException: com.example.controller.Person cannot be cast to com.example.controller.Person] with root cause java.lang.ClassCastException: com.example.controller.Person cannot be cast to com.example.controller.Person\r\n    \tat com.example.controller.PersonServiceImpl$$EnhancerBySpringCGLIB$$ec42b86.getPerson(&lt;generated&gt;) ~[classes/:?]\r\n    \tat com.example.controller.PersonController.getPerson(PersonController.java:19) ~[classes/:?]\r\n\r\nI rollback the Person object modifications by removing the `extra2` field and adding the `extra` field.\\\r\nI request again the endpoint to get the person with id &#39;1&#39;, but a `ClassCastException` is always thrown\r\n\r\nThe marshaller used by infinispan is [JavaSerializationMarshaller][1].\r\n\r\nI guess java serialization does not allow to unmarchall the cached data if the class has been recompiled.\r\n\r\nBut I would like to know how to avoid this, and especially to be able to manage updates of the class (adding/removing fields) without having an exception when accessing the cached data.\r\n\r\nDoes anyone have a solution?\r\n\r\n  [1]: https://docs.jboss.org/infinispan/12.1/apidocs/org/infinispan/commons/marshall/JavaSerializationMarshaller","title":"Spring Boot + Infinispan embedded - how to prevent ClassCastException when the object to be cached has been modified?","body":"<p>I have a web application with Spring Boot 2.5.5 and embedded Infinispan 12.1.7.</p>\n<p>I have a Controller with an endpoint to get a Person object by ID:</p>\n<pre><code>@RestController\npublic class PersonController {\n\n    private final PersonService service;\n\n    public PersonController(PersonService service) {\n        this.service = service;\n    }\n\n    @GetMapping(&quot;/person/{id}&quot;)\n    public ResponseEntity&lt;Person&gt; getPerson(@PathVariable(&quot;id&quot;) String id) {\n        Person person = this.service.getPerson(id);\n        return ResponseEntity.ok(person);\n    }\n}\n</code></pre>\n<p>The following is the <code>PersonService</code> implementation with the use of the <code>@Cacheable</code> annotation on the <code>getPerson</code> method :</p>\n<pre><code>public interface PersonService {\n\n    Person getPerson(String id);\n}\n\n@Service\npublic class PersonServiceImpl implements PersonService {\n\n    private static final Logger LOG = LoggerFactory.getLogger(PersonServiceImpl.class);\n\n    @Override\n    @Cacheable(&quot;person&quot;)\n    public Person getPerson(String id) {\n        LOG.info(&quot;Get Person by ID {}&quot;, id);\n\n        Person person = new Person();\n        person.setId(id);\n        person.setFirstName(&quot;John&quot;);\n        person.setLastName(&quot;Doe&quot;);\n        person.setAge(35);\n        person.setGender(Gender.MALE);\n        person.setExtra(&quot;extra value&quot;);\n\n        return person;\n    }\n}\n</code></pre>\n<p>And here is the Person class:</p>\n<pre><code>public class Person implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private String id;\n    private String firstName;\n    private String lastName;\n    private Integer age;\n    private Gender gender;\n    private String extra;\n\n    /* Getters / Setters */\n    ...\n}\n</code></pre>\n<p>I configured infinispan to use a filesystem-based cache store:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;infinispan xmlns=&quot;urn:infinispan:config:12.1&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;urn:infinispan:config:12.1 https://infinispan.org/schemas/infinispan-config-12.1.xsd&quot;&gt;\n    &lt;cache-container default-cache=&quot;default&quot;&gt;\n\n        &lt;serialization marshaller=&quot;org.infinispan.commons.marshall.JavaSerializationMarshaller&quot;&gt;\n            &lt;allow-list&gt;\n                &lt;regex&gt;com.example.*&lt;/regex&gt;\n            &lt;/allow-list&gt;\n        &lt;/serialization&gt;\n\n        &lt;local-cache-configuration name=&quot;mirrorFile&quot;&gt;\n            &lt;persistence passivation=&quot;false&quot;&gt;\n                &lt;file-store path=&quot;${infinispan.disk.store.dir}&quot;\n                            shared=&quot;false&quot;\n                            preload=&quot;false&quot;\n                            purge=&quot;false&quot;\n                            segmented=&quot;false&quot;&gt;\n                &lt;/file-store&gt;\n            &lt;/persistence&gt;\n        &lt;/local-cache-configuration&gt;\n\n        &lt;local-cache name=&quot;person&quot; statistics=&quot;true&quot; configuration=&quot;mirrorFile&quot;&gt;\n            &lt;memory max-count=&quot;500&quot;/&gt;\n            &lt;expiration lifespan=&quot;86400000&quot;/&gt;\n        &lt;/local-cache&gt;\n    &lt;/cache-container&gt;\n&lt;/infinispan&gt;\n</code></pre>\n<p>I request the endpoint to get the person with id '1': http://localhost:8090/assets-webapp/person/1<br />\n<code>PersonService.getPerson(String)</code> is called the first time and the result is cached.<br />\nI request again the endpoint to get the person with id '1', and I retrieve the result in the cache.</p>\n<p>I update the <code>Person</code> object by removing the <code>extra</code> field with getter/setter, and I add a <code>extra2</code> field:</p>\n<pre><code>public class Person implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private String id;\n    private String firstName;\n    private String lastName;\n    private Integer age;\n    private Gender gender;\n    private String extra2;\n\n    ...\n\n    public String getExtra2() {\n        return extra2;\n    }\n\n    public void setExtra2(String extra2) {\n        this.extra2 = extra2;\n    }\n}\n</code></pre>\n<p>I request again the endpoint to get the person with id '1', but a <code>ClassCastException</code> is thrown:</p>\n<pre><code>java.lang.ClassCastException: com.example.controller.Person cannot be cast to com.example.controller.Person] with root cause java.lang.ClassCastException: com.example.controller.Person cannot be cast to com.example.controller.Person\n    at com.example.controller.PersonServiceImpl$$EnhancerBySpringCGLIB$$ec42b86.getPerson(&lt;generated&gt;) ~[classes/:?]\n    at com.example.controller.PersonController.getPerson(PersonController.java:19) ~[classes/:?]\n</code></pre>\n<p>I rollback the Person object modifications by removing the <code>extra2</code> field and adding the <code>extra</code> field.<br />\nI request again the endpoint to get the person with id '1', but a <code>ClassCastException</code> is always thrown</p>\n<p>The marshaller used by infinispan is <a href=\"https://docs.jboss.org/infinispan/12.1/apidocs/org/infinispan/commons/marshall/JavaSerializationMarshaller\" rel=\"nofollow noreferrer\">JavaSerializationMarshaller</a>.</p>\n<p>I guess java serialization does not allow to unmarchall the cached data if the class has been recompiled.</p>\n<p>But I would like to know how to avoid this, and especially to be able to manage updates of the class (adding/removing fields) without having an exception when accessing the cached data.</p>\n<p>Does anyone have a solution?</p>\n"},{"tags":["java","arduino","raspberry-pi4","teensy"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1635437562,"post_id":69757311,"comment_id":123304341,"body_markdown":"Note that `getInt()` on a `ByteBuffer` advances the byte position by 4.  &quot;... and then increments the position by four.&quot;  The subsequent `getFloat` is not looking at the same 1st four bytes.  Try `.getFloat(0)` to force it to read 1st four bytes.  Or create an alternate view buffer, as in `asFloatBuffer`.  Also endianess may play a part but I&#39;d address the offset first.","body":"Note that <code>getInt()</code> on a <code>ByteBuffer</code> advances the byte position by 4.  &quot;... and then increments the position by four.&quot;  The subsequent <code>getFloat</code> is not looking at the same 1st four bytes.  Try <code>.getFloat(0)</code> to force it to read 1st four bytes.  Or create an alternate view buffer, as in <code>asFloatBuffer</code>.  Also endianess may play a part but I&#39;d address the offset first."},{"owner":{"account_id":8572941,"reputation":617,"user_id":6423155,"display_name":"bzc0fq"},"score":0,"creation_date":1635438557,"post_id":69757311,"comment_id":123304784,"body_markdown":"OK. I did not know this. Thanks. However... after modifying by .getFloat(0) or commenting .getInt() did not change the situation. I got the same result - float: 0.000000","body":"OK. I did not know this. Thanks. However... after modifying by .getFloat(0) or commenting .getInt() did not change the situation. I got the same result - float: 0.000000"}],"answers":[{"tags":[],"owner":{"display_name":"user2711811"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635439516,"creation_date":1635438651,"answer_id":69757819,"question_id":69757311,"body_markdown":"You have two issues: the `ByteBuffer` advances position after &quot;getting&quot; and Java is big endian by default:\r\n\r\nThis code should demonstrate:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tbyte[] b = new byte[4];\r\n\t\tb[0] = 51;\r\n\t\tb[1] = -77;\r\n\t\tb[2] = 63;\r\n\t\tb[3] = 67;\r\n\r\n\t\tByteBuffer buffer = ByteBuffer.wrap(b);\r\n\t\tint first = buffer.getInt();\r\n\t\tfloat second = buffer.getFloat(0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;f=&quot;+first+&quot; s=&quot;+second);\r\n\t\t\r\n\t\tb[0] = 67;\r\n\t\tb[1] = 63;\r\n\t\tb[2] = -77;\r\n\t\tb[3] = 51;\r\n\r\n\t\tbuffer = ByteBuffer.wrap(b);\r\n\t\tfirst = buffer.getInt();\r\n\t\tsecond = buffer.getFloat(0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;f=&quot;+first+&quot; s=&quot;+second);\r\n\r\n\t}\r\n\r\nPrints:\r\n\r\n    f=867385155 s=8.346844E-8\r\n    f=1128248115 s=191.7\r\n\r\nAnd looking further the integer `1128248115` (as printed from Java ) in hex :\r\n\r\n    0x433FB333\r\n\r\nAnd the integer `867385155` your code displayed (from Java on PI side) in hex :\r\n\r\n    0x33B33F43\r\n\r\n----------------------\r\n\r\nNote that you can change the byte-order of a `ByteBuffer` by something like:\r\n\r\n    ByteBuffer buffer = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN);\r\n\r\nAnd then your code works (again with the `getFloat(0)`!:\r\n\r\n\t\tbyte[] b = new byte[4];\r\n\t\tb[0] = 51;\r\n\t\tb[1] = -77;\r\n\t\tb[2] = 63;\r\n\t\tb[3] = 67;\r\n\r\n\r\n\t\tByteBuffer buffer = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN);\r\n\r\n\t\tint first = buffer.getInt();\r\n\t\tfloat second = buffer.getFloat(0);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;f=&quot;+first+&quot; s=&quot;+second);\r\n\r\nPrints\r\n\r\n    f=1128248115 s=191.7","title":"How to exchange data between Teensy4.1 and RaspberryPi 4 using serial interface","body":"<p>You have two issues: the <code>ByteBuffer</code> advances position after &quot;getting&quot; and Java is big endian by default:</p>\n<p>This code should demonstrate:</p>\n<pre><code>public static void main(String[] args) {\n    byte[] b = new byte[4];\n    b[0] = 51;\n    b[1] = -77;\n    b[2] = 63;\n    b[3] = 67;\n\n    ByteBuffer buffer = ByteBuffer.wrap(b);\n    int first = buffer.getInt();\n    float second = buffer.getFloat(0);\n    \n    System.out.println(&quot;f=&quot;+first+&quot; s=&quot;+second);\n    \n    b[0] = 67;\n    b[1] = 63;\n    b[2] = -77;\n    b[3] = 51;\n\n    buffer = ByteBuffer.wrap(b);\n    first = buffer.getInt();\n    second = buffer.getFloat(0);\n    \n    System.out.println(&quot;f=&quot;+first+&quot; s=&quot;+second);\n\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>f=867385155 s=8.346844E-8\nf=1128248115 s=191.7\n</code></pre>\n<p>And looking further the integer <code>1128248115</code> (as printed from Java ) in hex :</p>\n<pre><code>0x433FB333\n</code></pre>\n<p>And the integer <code>867385155</code> your code displayed (from Java on PI side) in hex :</p>\n<pre><code>0x33B33F43\n</code></pre>\n<hr />\n<p>Note that you can change the byte-order of a <code>ByteBuffer</code> by something like:</p>\n<pre><code>ByteBuffer buffer = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN);\n</code></pre>\n<p>And then your code works (again with the <code>getFloat(0)</code>!:</p>\n<pre><code>    byte[] b = new byte[4];\n    b[0] = 51;\n    b[1] = -77;\n    b[2] = 63;\n    b[3] = 67;\n\n\n    ByteBuffer buffer = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN);\n\n    int first = buffer.getInt();\n    float second = buffer.getFloat(0);\n    \n    \n    System.out.println(&quot;f=&quot;+first+&quot; s=&quot;+second);\n</code></pre>\n<p>Prints</p>\n<pre><code>f=1128248115 s=191.7\n</code></pre>\n"}],"owner":{"account_id":8572941,"reputation":617,"user_id":6423155,"display_name":"bzc0fq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69757819,"answer_count":1,"score":1,"last_activity_date":1635439516,"creation_date":1635436518,"question_id":69757311,"body_markdown":"I need to exchange data (roughly 100 bytes 10 times a second) between Teensy4.1 and RaspberyPi 4. I decided to do this via serial interface. \r\nThere is Teensy code:\r\n\r\n    float r=191.699997;\r\n    byte * b = (byte *) &amp;r;\r\n    Serial8.write(b, 4);\r\n\r\nI have hard-coded 191.699997 for test purposes.\r\n\r\n\r\nPlease find below RaspberryPi Java part:\r\n\r\n    System.out.println(&quot;----------------&quot;);\r\n    System.out.format(7 + &quot; : &quot; + TEENSY.getData(7) + &quot;\\n&quot;);\r\n    System.out.format(8 + &quot; : &quot; + TEENSY.getData(8) + &quot;\\n&quot;);\r\n    System.out.format(9 + &quot; : &quot; + TEENSY.getData(9) + &quot;\\n&quot;);\r\n    System.out.format(10 + &quot; : &quot; + TEENSY.getData(10) + &quot;\\n&quot;);\r\n    \r\n    data[0]=(byte)TEENSY.getData(7);\r\n    data[1]=(byte)TEENSY.getData(8);\r\n    data[2]=(byte)TEENSY.getData(9);\r\n    data[3]=(byte)TEENSY.getData(10);\r\n    \r\n    System.out.format(7 + &quot;&#39; : &quot; + data[0] + &quot;\\n&quot;);\r\n    System.out.format(8 + &quot;&#39; : &quot; + data[1] + &quot;\\n&quot;);\r\n    System.out.format(9 + &quot;&#39; : &quot; + data[2] + &quot;\\n&quot;);\r\n    System.out.format(10 + &quot;&#39; : &quot; + data[3] + &quot;\\n&quot;);\r\n    \r\n    ByteBuffer buffer = ByteBuffer.wrap(data);\r\n    int first = buffer.getInt();\r\n    float second = buffer.getFloat();\r\n    \r\n    System.out.print(&quot;int: &quot; + first);      System.out.print(&quot;\\n&quot;);\r\n    System.out.printf(&quot;float: %f \\n&quot;, second);\r\n    System.out.println(&quot;----------------&quot;);\r\n\r\nThe output of the above code is the shown bellow:\r\n\r\n    ----------------\r\n    7 : 51\r\n    8 : 179\r\n    9 : 63\r\n    10 : 67\r\n    7 : 51\r\n    8 : -77\r\n    9 : 63\r\n    10 : 67\r\n    int: 867385155\r\n    float: 0.000000\r\n    ----------------\r\n\r\nI understand why is the difference but have no idea how to make it working (by working I mean how to get 191.699997 on the Raspberry Pi side.\r\n\r\nThanks in advance for your hints.\r\n\r\n\r\n","title":"How to exchange data between Teensy4.1 and RaspberryPi 4 using serial interface","body":"<p>I need to exchange data (roughly 100 bytes 10 times a second) between Teensy4.1 and RaspberyPi 4. I decided to do this via serial interface.\nThere is Teensy code:</p>\n<pre><code>float r=191.699997;\nbyte * b = (byte *) &amp;r;\nSerial8.write(b, 4);\n</code></pre>\n<p>I have hard-coded 191.699997 for test purposes.</p>\n<p>Please find below RaspberryPi Java part:</p>\n<pre><code>System.out.println(&quot;----------------&quot;);\nSystem.out.format(7 + &quot; : &quot; + TEENSY.getData(7) + &quot;\\n&quot;);\nSystem.out.format(8 + &quot; : &quot; + TEENSY.getData(8) + &quot;\\n&quot;);\nSystem.out.format(9 + &quot; : &quot; + TEENSY.getData(9) + &quot;\\n&quot;);\nSystem.out.format(10 + &quot; : &quot; + TEENSY.getData(10) + &quot;\\n&quot;);\n\ndata[0]=(byte)TEENSY.getData(7);\ndata[1]=(byte)TEENSY.getData(8);\ndata[2]=(byte)TEENSY.getData(9);\ndata[3]=(byte)TEENSY.getData(10);\n\nSystem.out.format(7 + &quot;' : &quot; + data[0] + &quot;\\n&quot;);\nSystem.out.format(8 + &quot;' : &quot; + data[1] + &quot;\\n&quot;);\nSystem.out.format(9 + &quot;' : &quot; + data[2] + &quot;\\n&quot;);\nSystem.out.format(10 + &quot;' : &quot; + data[3] + &quot;\\n&quot;);\n\nByteBuffer buffer = ByteBuffer.wrap(data);\nint first = buffer.getInt();\nfloat second = buffer.getFloat();\n\nSystem.out.print(&quot;int: &quot; + first);      System.out.print(&quot;\\n&quot;);\nSystem.out.printf(&quot;float: %f \\n&quot;, second);\nSystem.out.println(&quot;----------------&quot;);\n</code></pre>\n<p>The output of the above code is the shown bellow:</p>\n<pre><code>----------------\n7 : 51\n8 : 179\n9 : 63\n10 : 67\n7 : 51\n8 : -77\n9 : 63\n10 : 67\nint: 867385155\nfloat: 0.000000\n----------------\n</code></pre>\n<p>I understand why is the difference but have no idea how to make it working (by working I mean how to get 191.699997 on the Raspberry Pi side.</p>\n<p>Thanks in advance for your hints.</p>\n"},{"tags":["java","date","validation","localdate"],"comments":[{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1635437835,"post_id":69757383,"comment_id":123304458,"body_markdown":"Is the date format ISO 9601?  Do you need to validate some order relationship between the from &amp; to dates? \n\nBtw, you seem to be missing a quote in your valid JSON example.","body":"Is the date format ISO 9601?  Do you need to validate some order relationship between the from &amp; to dates?   Btw, you seem to be missing a quote in your valid JSON example."}],"answers":[{"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635437908,"creation_date":1635437908,"answer_id":69757638,"question_id":69757383,"body_markdown":"In order to suppress the build-in validations, you can recieve `String` from the frontend, and only then do your code: `LocalDate.parse(fromDate)`, catch the `DateTimeParseException` and handle it as you wish.\r\n\r\nAnother option is to remove the `@Valid`\r\n\r\nBy the way, what&#39;s wrong with `@Valid` ? Don&#39;t you want to have 400 in return anyway ?! or you&#39;d like to control the body message with the 400 ?","title":"LocalDate validation issue","body":"<p>In order to suppress the build-in validations, you can recieve <code>String</code> from the frontend, and only then do your code: <code>LocalDate.parse(fromDate)</code>, catch the <code>DateTimeParseException</code> and handle it as you wish.</p>\n<p>Another option is to remove the <code>@Valid</code></p>\n<p>By the way, what's wrong with <code>@Valid</code> ? Don't you want to have 400 in return anyway ?! or you'd like to control the body message with the 400 ?</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635438375,"creation_date":1635438375,"answer_id":69757743,"question_id":69757383,"body_markdown":"There is nothing wrong with what you are doing and it is normal to get a `400 bad request`.\r\nWhy? Because you are working with Rest Endpoint which is based on `Http` protocol\r\n\r\nA `Bad request` means that your `Http` request is not correct due to many reason such as : **invalid parameters**. The best practice is to send a clear message to the user explaining what happened after the request he send to the server. To do that you can use [RestControllerAdvice][1] to intercept all your exceptions and map it to `Http` status codes. \r\n\r\nCheck [this post][2] for more details.\r\n\r\n\r\n  [1]: https://www.bezkoder.com/spring-boot-restcontrolleradvice/\r\n  [2]: https://stackoverflow.com/questions/53191230/should-http-codes-be-used-to-represent-business-failure/53194350#53194350","title":"LocalDate validation issue","body":"<p>There is nothing wrong with what you are doing and it is normal to get a <code>400 bad request</code>.\nWhy? Because you are working with Rest Endpoint which is based on <code>Http</code> protocol</p>\n<p>A <code>Bad request</code> means that your <code>Http</code> request is not correct due to many reason such as : <strong>invalid parameters</strong>. The best practice is to send a clear message to the user explaining what happened after the request he send to the server. To do that you can use <a href=\"https://www.bezkoder.com/spring-boot-restcontrolleradvice/\" rel=\"nofollow noreferrer\">RestControllerAdvice</a> to intercept all your exceptions and map it to <code>Http</code> status codes.</p>\n<p>Check <a href=\"https://stackoverflow.com/questions/53191230/should-http-codes-be-used-to-represent-business-failure/53194350#53194350\">this post</a> for more details.</p>\n"}],"owner":{"account_id":23165268,"reputation":1,"user_id":17265302,"display_name":"Ankit Malhotra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635439457,"creation_date":1635436834,"question_id":69757383,"body_markdown":"I have been stuck on this issue for some time. I am using `LocalDate` to accept date inputs from user via a REST endpoint. I want to validate this date to check if it&#39;s `null`, `empty` string or `invalid` date such as `Feb 30`. I have managed to get it to work for valid date values but in case of invalid input, it&#39;s throwing `400 Bad Request` in response which is coming from internal classes of Java so I don&#39;t have any control over it. If you could please let me know if I am missing something or doing it wrong, I will really appreciate it. \r\n\r\nThis is called method in my controller - annotated with @Valid:\r\n\r\n\t@RequestMapping(method = RequestMethod.PUT, value=&quot;/add&quot;)\r\n\tpublic ResponseEntity&lt;PSResponse&gt; add(@Valid @RequestBody PSRequest request) throws Exception {\r\n\t\tsetServiceID(SERVICE_HANDLER_ID);\r\n\t\trequest.setRequestType(&quot;add&quot;);\r\n\t\tPSResponse response = (PSResponse) invokeInternal(request);\r\n\t}\r\n\r\nThis is class for my request object\r\n\r\n    public class PSRequest {\r\n\t@NotNull(message = &quot;fromDate cannot be null&quot;)\r\n\tprotected LocalDate fromDate;\r\n\t\r\n\t@NotNull(message = &quot;toDate cannot be null&quot;)\r\n\tprotected LocalDate toDate;}\r\n\r\nValid JSON input\r\n\r\n    &quot;fromDate&quot;:2020-10-16&quot;\r\n    &quot;toDate&quot;:&quot;2021-10-16&quot;\r\n\r\nInvalid JSON input date formats\r\n\r\n    &quot;fromDate&quot;:null,\r\n    &quot;toDate&quot;:&quot;2021-02-30&quot;\r\n\r\nThanks!\r\n","title":"LocalDate validation issue","body":"<p>I have been stuck on this issue for some time. I am using <code>LocalDate</code> to accept date inputs from user via a REST endpoint. I want to validate this date to check if it's <code>null</code>, <code>empty</code> string or <code>invalid</code> date such as <code>Feb 30</code>. I have managed to get it to work for valid date values but in case of invalid input, it's throwing <code>400 Bad Request</code> in response which is coming from internal classes of Java so I don't have any control over it. If you could please let me know if I am missing something or doing it wrong, I will really appreciate it.</p>\n<p>This is called method in my controller - annotated with @Valid:</p>\n<pre><code>@RequestMapping(method = RequestMethod.PUT, value=&quot;/add&quot;)\npublic ResponseEntity&lt;PSResponse&gt; add(@Valid @RequestBody PSRequest request) throws Exception {\n    setServiceID(SERVICE_HANDLER_ID);\n    request.setRequestType(&quot;add&quot;);\n    PSResponse response = (PSResponse) invokeInternal(request);\n}\n</code></pre>\n<p>This is class for my request object</p>\n<pre><code>public class PSRequest {\n@NotNull(message = &quot;fromDate cannot be null&quot;)\nprotected LocalDate fromDate;\n\n@NotNull(message = &quot;toDate cannot be null&quot;)\nprotected LocalDate toDate;}\n</code></pre>\n<p>Valid JSON input</p>\n<pre><code>&quot;fromDate&quot;:2020-10-16&quot;\n&quot;toDate&quot;:&quot;2021-10-16&quot;\n</code></pre>\n<p>Invalid JSON input date formats</p>\n<pre><code>&quot;fromDate&quot;:null,\n&quot;toDate&quot;:&quot;2021-02-30&quot;\n</code></pre>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8090,"page":1902,"page_size":100}
