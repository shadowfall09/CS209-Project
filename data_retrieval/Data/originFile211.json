{"items":[{"tags":["java","jsp","dynamic","radio-button"],"answers":[{"comments":[{"owner":{"account_id":2573193,"reputation":107,"user_id":2233054,"accept_rate":33,"display_name":"Seema"},"score":0,"creation_date":1391972164,"post_id":21663123,"comment_id":32744250,"body_markdown":"I&#39;ve tried this method as well \n\n    &lt;tr&gt;&lt;td&gt;&lt;%=form%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%=to%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%=trainName%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=trainName%&gt;&quot;/&gt; book&lt;/td&gt;\n    &lt;/tr&gt;\n\nbut it doesn&#39;t work. wherever i try to enter server side code, it doesn&#39;t work.","body":"I&#39;ve tried this method as well       &lt;tr&gt;&lt;td&gt;&lt;%=form%&gt;&lt;/td&gt;     &lt;td&gt;&lt;%=to%&gt;&lt;/td&gt;     &lt;td&gt;&lt;%=trainName%&gt;&lt;/td&gt;     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=trainName%&gt;&quot;/&gt; book&lt;/td&gt;     &lt;/tr&gt;  but it doesn&#39;t work. wherever i try to enter server side code, it doesn&#39;t work."},{"owner":{"account_id":2573193,"reputation":107,"user_id":2233054,"accept_rate":33,"display_name":"Seema"},"score":0,"creation_date":1392038282,"post_id":21663123,"comment_id":32769890,"body_markdown":"I don&#39;t get any error. I just get an empty . No error Im very new to java, i&#39;ve just known jsp, sorry i don&#39;t know about servlets and all. is there any way to solve it using just jsp?","body":"I don&#39;t get any error. I just get an empty . No error Im very new to java, i&#39;ve just known jsp, sorry i don&#39;t know about servlets and all. is there any way to solve it using just jsp?"},{"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"score":0,"creation_date":1392038384,"post_id":21663123,"comment_id":32769978,"body_markdown":"It&#39;s hard to track it down this way... OK, on what server do run your JSPs? Tomcat? Jetty? Something else?","body":"It&#39;s hard to track it down this way... OK, on what server do run your JSPs? Tomcat? Jetty? Something else?"},{"owner":{"account_id":2573193,"reputation":107,"user_id":2233054,"accept_rate":33,"display_name":"Seema"},"score":0,"creation_date":1392133335,"post_id":21663123,"comment_id":32819952,"body_markdown":"Im using GlassFish server.","body":"Im using GlassFish server."},{"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"score":0,"creation_date":1392140531,"post_id":21663123,"comment_id":32825074,"body_markdown":"Can you get logs? Read here http://stackoverflow.com/questions/13835913/location-of-glassfish-server-logs, how to find them on GlassFish.","body":"Can you get logs? Read here <a href=\"http://stackoverflow.com/questions/13835913/location-of-glassfish-server-logs\" title=\"location of glassfish server logs\">stackoverflow.com/questions/13835913/&hellip;</a>, how to find them on GlassFish."}],"tags":[],"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391970617,"creation_date":1391970617,"answer_id":21663123,"question_id":21662644,"body_markdown":"AFAIR JDBC specification does not give guarantee, that you can call `getXxx` on a result set with the same column name/number twice. Most of JDBC drivers do support it, but some might not I am not sure if ODBC is not probably this exception. So first try to get values of all columns in a row to extra variables like this:\r\n\r\n    String from = resultset.getString(&quot;From&quot;);\r\n    String to = resultset.getString(&quot;To&quot;);\r\n    String trainName = resultset.getString(&quot;TrainName&quot;);\r\n\r\nand use it in this way:\r\n\r\n    &lt;tr&gt;&lt;td&gt;&lt;%=form%&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;%=to%&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;%=trainName%&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=trainName%&gt;&quot;/&gt; book&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nAlso please do escape these values, as if `trainName` would contain `&#39;&quot;&#39;` character, you may break HTML code.\r\n\r\nBut much more important is the way you wrote your code. First of all you should separate view layer (JSP) from the code. So you should create a class, that reads list of trains and simply put it into request, more or less like this:\r\n\r\n    public class RailLink {\r\n        public String from;\r\n        public String to;\r\n        public String trainName;\r\n    }\r\n\r\n    public class Trains {\r\n\r\n        private Connection getConnection() {\r\n            //- This code actually should be put somewhere else.\r\n    //          Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n    //          String db = &quot;jdbc:odbc:Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb&quot;;\r\n    //          Connection cn = DriverManager.getConnection(db, &quot;&quot;, &quot;&quot;); \r\n                return cn;\r\n        }\r\n\r\n        public static List&lt;RailLink&gt; findLinks(String from, String to) {\r\n            assert from != null &amp;&amp; to != null;\r\n            List&lt;RailLinks&gt; links = new LinkedList&lt;&gt;();\r\n            try (\r\n                Connection cn = getConnection();\r\n                PreparedStatement ps = cn.prepareStatement(&quot;SELECT * FROM Trains123 WHERE \\&quot;From\\&quot; = ? AND \\&quot;To\\&quot; = ?&quot;);\r\n            ) {\r\n                ps.setString(1, from);\r\n                ps.setString(2, to);\r\n                try (ResultSet rs = ps.executeQuery()) {\r\n                    while (rs.next()) {\r\n                        RailLink link = new RailLink();\r\n                        link.from = rs.getString(&quot;From&quot;);\r\n                        link.to = rs.getString(&quot;To&quot;);\r\n                        link.trainName = rs.getString(&quot;TrainName&quot;);\r\n                        links.add(link);\r\n                    }\r\n                }\r\n            }\r\n            return links;\r\n        }\r\n    }\r\n\r\nNow write a servlet which handles your form:\r\n\r\n    public class FindLinks extends HttpServlet {\r\n\r\n        public void doGet(HttpServletRequest request, HttpServletResponse respone) {\r\n            List&lt;RailLink&gt; links = Trains.findLinks(request.getParameter(&quot;from&quot;), request.getParameter(&quot;to&quot;));\r\n            request.setAttribute(&quot;rail-links&quot;, links);\r\n            request.getRequestDispatcher(&quot;page1.jsp&quot;).forward(request, response);\r\n        }\r\n    }\r\n\r\nAnd finally modify your page1.jsp as:\r\n\r\n    &lt;%@page ...%&gt;\r\n    ...\r\n    &lt;%  List&lt;RailLink&gt; links = request.getAttribute(&quot;rail-links&quot;);\r\n        if (links != null) {%&gt;\r\n            &lt;table&gt;&lt;%\r\n            for (RailLink l : links) {%&gt;\r\n                &lt;tr&gt;&lt;td&gt;&lt;%=l.from%&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;%=l.to%&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;%=l.trainName%&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=l.trainNam%&quot;/&gt; book&lt;/td&gt;\r\n            &lt;%}%&gt;\r\n            &lt;/table&gt;&lt;%\r\n        }\r\n        else {%&gt;\r\n            &lt;p&gt;No connections found.&lt;/p&gt;&lt;%\r\n        }%&gt;\r\n\r\nHave a good luck with it.","title":"get value of selected dynamic row of table in jsp","body":"<p>AFAIR JDBC specification does not give guarantee, that you can call <code>getXxx</code> on a result set with the same column name/number twice. Most of JDBC drivers do support it, but some might not I am not sure if ODBC is not probably this exception. So first try to get values of all columns in a row to extra variables like this:</p>\n\n<pre><code>String from = resultset.getString(\"From\");\nString to = resultset.getString(\"To\");\nString trainName = resultset.getString(\"TrainName\");\n</code></pre>\n\n<p>and use it in this way:</p>\n\n<pre><code>&lt;tr&gt;&lt;td&gt;&lt;%=form%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%=to%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%=trainName%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"radio\" name=\"TName\" value=\"&lt;%=trainName%&gt;\"/&gt; book&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>Also please do escape these values, as if <code>trainName</code> would contain <code>'\"'</code> character, you may break HTML code.</p>\n\n<p>But much more important is the way you wrote your code. First of all you should separate view layer (JSP) from the code. So you should create a class, that reads list of trains and simply put it into request, more or less like this:</p>\n\n<pre><code>public class RailLink {\n    public String from;\n    public String to;\n    public String trainName;\n}\n\npublic class Trains {\n\n    private Connection getConnection() {\n        //- This code actually should be put somewhere else.\n//          Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n//          String db = \"jdbc:odbc:Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb\";\n//          Connection cn = DriverManager.getConnection(db, \"\", \"\"); \n            return cn;\n    }\n\n    public static List&lt;RailLink&gt; findLinks(String from, String to) {\n        assert from != null &amp;&amp; to != null;\n        List&lt;RailLinks&gt; links = new LinkedList&lt;&gt;();\n        try (\n            Connection cn = getConnection();\n            PreparedStatement ps = cn.prepareStatement(\"SELECT * FROM Trains123 WHERE \\\"From\\\" = ? AND \\\"To\\\" = ?\");\n        ) {\n            ps.setString(1, from);\n            ps.setString(2, to);\n            try (ResultSet rs = ps.executeQuery()) {\n                while (rs.next()) {\n                    RailLink link = new RailLink();\n                    link.from = rs.getString(\"From\");\n                    link.to = rs.getString(\"To\");\n                    link.trainName = rs.getString(\"TrainName\");\n                    links.add(link);\n                }\n            }\n        }\n        return links;\n    }\n}\n</code></pre>\n\n<p>Now write a servlet which handles your form:</p>\n\n<pre><code>public class FindLinks extends HttpServlet {\n\n    public void doGet(HttpServletRequest request, HttpServletResponse respone) {\n        List&lt;RailLink&gt; links = Trains.findLinks(request.getParameter(\"from\"), request.getParameter(\"to\"));\n        request.setAttribute(\"rail-links\", links);\n        request.getRequestDispatcher(\"page1.jsp\").forward(request, response);\n    }\n}\n</code></pre>\n\n<p>And finally modify your page1.jsp as:</p>\n\n<pre><code>&lt;%@page ...%&gt;\n...\n&lt;%  List&lt;RailLink&gt; links = request.getAttribute(\"rail-links\");\n    if (links != null) {%&gt;\n        &lt;table&gt;&lt;%\n        for (RailLink l : links) {%&gt;\n            &lt;tr&gt;&lt;td&gt;&lt;%=l.from%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=l.to%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=l.trainName%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"radio\" name=\"TName\" value=\"&lt;%=l.trainNam%\"/&gt; book&lt;/td&gt;\n        &lt;%}%&gt;\n        &lt;/table&gt;&lt;%\n    }\n    else {%&gt;\n        &lt;p&gt;No connections found.&lt;/p&gt;&lt;%\n    }%&gt;\n</code></pre>\n\n<p>Have a good luck with it.</p>\n"}],"owner":{"account_id":2573193,"reputation":107,"user_id":2233054,"accept_rate":33,"display_name":"Seema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693512035,"creation_date":1391968165,"question_id":21662644,"body_markdown":"i have a page in jsp where i am dynamically displaying records from the database in a table, with dynamic rows being generated. With every row, there is a radio button so that the user can select one row. \r\n\r\nThe code for page1.jsp is:\r\n\r\n    &lt;form action=&quot;page2.jsp&quot; method=&quot;post&quot;&gt;\r\n\r\n    &lt;table&gt;\r\n    &lt;%\r\n     try {\r\n    Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n\r\n    String database = &quot;jdbc:odbc:Driver={Microsoft Access Driver (*.mdb,        *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb&quot;;\r\n                                           \r\n    Connection con = DriverManager.getConnection(database, &quot;&quot;, &quot;&quot;); \r\n    Statement stmnt = con.createStatement();\r\n                \t\r\n    String source=request.getParameter(&quot;from&quot;);\r\n    String dest=request.getParameter(&quot;to&quot;)\r\n    ResultSet resultset = stmnt.executeQuery(&quot;select * from Trains123 where From=&#39;&quot; +source+    &quot;&#39; and To=&#39;&quot; +dest+ &quot;&#39; &quot;);\r\n     \r\n         while(resultset.next())\r\n         {          \r\n             %&gt;        \r\n\r\n    &lt;tr&gt;\r\n\r\n    &lt;td&gt;&lt;% out.println(resultset.getString(&quot;From&quot;)); %&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;% out.println(resultset.getString(&quot;To&quot;)); %&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;% out.println(resultset.getString(&quot;TrainName&quot;)); %&gt;&lt;/td&gt;        \r\n\r\n         \r\n    &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=    resultset.getString(&quot;TrainName&quot;)%&gt;&quot;&gt;book&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\n\r\nand the code on page2.jsp is:\r\n\r\n    &lt;% out.println(request.getParameter(&quot;Tname&quot;)); %&gt;\r\n\r\n\r\nThere is no problem with the record set, the values are getting printed. but the radio button is not being displayed.Also, If there are 2 records in the recordset, only the first one gets printed without the radio button. I debugged the file, the control stops at the radio button line.\r\n\r\nI have no idea, where the error is and what is the problem with giving dynamic value to the radio button.\r\nAll i want to do is to find out the row selected by the user.\r\n\r\n","title":"get value of selected dynamic row of table in jsp","body":"<p>i have a page in jsp where i am dynamically displaying records from the database in a table, with dynamic rows being generated. With every row, there is a radio button so that the user can select one row. </p>\n\n<p>The code for page1.jsp is:</p>\n\n<pre><code>&lt;form action=\"page2.jsp\" method=\"post\"&gt;\n\n&lt;table&gt;\n&lt;%\n try {\nClass.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\nString database = \"jdbc:odbc:Driver={Microsoft Access Driver (*.mdb,        *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb\";\n\nConnection con = DriverManager.getConnection(database, \"\", \"\"); \nStatement stmnt = con.createStatement();\n\nString source=request.getParameter(\"from\");\nString dest=request.getParameter(\"to\")\nResultSet resultset = stmnt.executeQuery(\"select * from Trains123 where From='\" +source+    \"' and To='\" +dest+ \"' \");\n\n     while(resultset.next())\n     {          \n         %&gt;        \n\n&lt;tr&gt;\n\n&lt;td&gt;&lt;% out.println(resultset.getString(\"From\")); %&gt;&lt;/td&gt;\n&lt;td&gt;&lt;% out.println(resultset.getString(\"To\")); %&gt;&lt;/td&gt;\n&lt;td&gt;&lt;% out.println(resultset.getString(\"TrainName\")); %&gt;&lt;/td&gt;        \n\n\n&lt;td&gt;&lt;input type=\"radio\" name=\"TName\" value=\"&lt;%=    resultset.getString(\"TrainName\")%&gt;\"&gt;book&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and the code on page2.jsp is:</p>\n\n<pre><code>&lt;% out.println(request.getParameter(\"Tname\")); %&gt;\n</code></pre>\n\n<p>There is no problem with the record set, the values are getting printed. but the radio button is not being displayed.Also, If there are 2 records in the recordset, only the first one gets printed without the radio button. I debugged the file, the control stops at the radio button line.</p>\n\n<p>I have no idea, where the error is and what is the problem with giving dynamic value to the radio button.\nAll i want to do is to find out the row selected by the user.</p>\n"},{"tags":["java","gradle","findbugs","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":11867827,"reputation":51,"user_id":8684869,"display_name":"Houssam Ezzoukh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658099695,"creation_date":1658099695,"answer_id":73015990,"question_id":72986599,"body_markdown":"Try to add the exclude filter to the spotbugs configuration instead of findbugs:\r\nso you should probably try:\r\n```\r\nspotbugs {\r\n    toolVersion = &#39;5.0.0&#39;\r\n    excludeFilter.set(file(&quot;${spotbugsConfigDir}/excludeFilter.xml&quot;))\r\n}","title":"Spotbugs exclude filter in gradle project","body":"<p>Try to add the exclude filter to the spotbugs configuration instead of findbugs:\nso you should probably try:</p>\n<pre><code>spotbugs {\n    toolVersion = '5.0.0'\n    excludeFilter.set(file(&quot;${spotbugsConfigDir}/excludeFilter.xml&quot;))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683562786,"creation_date":1683489882,"answer_id":76196034,"question_id":72986599,"body_markdown":"The following lines add the SpotBugs 5.0.14 plugin to a Gradle project:\r\n\r\n``` groovy\r\nbuildscript {\r\n  repositories {\r\n    mavenCentral()\r\n    maven {\r\n      url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n  }\r\n\r\n  dependencies {\r\n    classpath &quot;com.github.spotbugs.snom:spotbugs-gradle-plugin:5.0.14&quot;\r\n  }\r\n}\r\n\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &quot;com.github.spotbugs&quot; version &quot;5.0.14&quot;\r\n}\r\n\r\nspotbugs {\r\n  excludeFilter.set(\r\n      file(&quot;${projectDir}/bug-filter.xml&quot;)\r\n  )\r\n}\r\n```\r\n\r\nCreate the file `bug-filter.xml` in the project&#39;s root directory. See the [Filter file documentation][1] (or [PDF version][2]) for details on the available options. Insert the following short snippet into the file to ignore EI and EI2 errors across all classes:\r\n\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;FindBugsFilter&gt;\r\n  &lt;Match&gt;\r\n    &lt;Or&gt;\r\n      &lt;Bug code=&quot;EI, EI2&quot; /&gt;\r\n    &lt;/Or&gt;\r\n  &lt;/Match&gt;\r\n&lt;/FindBugsFilter&gt;\r\n```\r\n\r\nThe [Bug descriptions][3] page lists bug codes and patterns.\r\n\r\nThe `FindBugsFilter` root-level element name is a holdover.\r\n\r\n---\r\n\r\nAs a side-note, too many accessors tend to indicate code isn&#39;t reaping the benefits of [object-oriented programming][4].\r\n\r\n\r\n  [1]: https://spotbugs.readthedocs.io/en/stable/filter.html\r\n  [2]: https://buildmedia.readthedocs.org/media/pdf/spotbugs/latest/spotbugs.pdf\r\n  [3]: https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html\r\n  [4]: https://www.youtube.com/watch?v=YyIQKBzIuBY&amp;t=1152s","title":"Spotbugs exclude filter in gradle project","body":"<p>The following lines add the SpotBugs 5.0.14 plugin to a Gradle project:</p>\n<pre><code>buildscript {\n  repositories {\n    mavenCentral()\n    maven {\n      url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n  }\n\n  dependencies {\n    classpath &quot;com.github.spotbugs.snom:spotbugs-gradle-plugin:5.0.14&quot;\n  }\n}\n\nplugins {\n  id 'application'\n  id &quot;com.github.spotbugs&quot; version &quot;5.0.14&quot;\n}\n\nspotbugs {\n  excludeFilter.set(\n      file(&quot;${projectDir}/bug-filter.xml&quot;)\n  )\n}\n</code></pre>\n<p>Create the file <code>bug-filter.xml</code> in the project's root directory. See the <a href=\"https://spotbugs.readthedocs.io/en/stable/filter.html\" rel=\"nofollow noreferrer\">Filter file documentation</a> (or <a href=\"https://buildmedia.readthedocs.org/media/pdf/spotbugs/latest/spotbugs.pdf\" rel=\"nofollow noreferrer\">PDF version</a>) for details on the available options. Insert the following short snippet into the file to ignore EI and EI2 errors across all classes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n  &lt;Match&gt;\n    &lt;Or&gt;\n      &lt;Bug code=&quot;EI, EI2&quot; /&gt;\n    &lt;/Or&gt;\n  &lt;/Match&gt;\n&lt;/FindBugsFilter&gt;\n</code></pre>\n<p>The <a href=\"https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html\" rel=\"nofollow noreferrer\">Bug descriptions</a> page lists bug codes and patterns.</p>\n<p>The <code>FindBugsFilter</code> root-level element name is a holdover.</p>\n<hr />\n<p>As a side-note, too many accessors tend to indicate code isn't reaping the benefits of <a href=\"https://www.youtube.com/watch?v=YyIQKBzIuBY&amp;t=1152s\" rel=\"nofollow noreferrer\">object-oriented programming</a>.</p>\n"},{"comments":[{"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"score":0,"creation_date":1693512254,"post_id":77018910,"comment_id":135774862,"body_markdown":"For format of `spotbugs-exclude.xml` file, see [this](https://stackoverflow.com/a/77018958/3679900) or [this](https://findbugs.sourceforge.net/manual/filter.html)","body":"For format of <code>spotbugs-exclude.xml</code> file, see <a href=\"https://stackoverflow.com/a/77018958/3679900\">this</a> or <a href=\"https://findbugs.sourceforge.net/manual/filter.html\" rel=\"nofollow noreferrer\">this</a>"}],"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511823,"creation_date":1693511823,"answer_id":77018910,"question_id":72986599,"body_markdown":"*Extension to [@Dave Jarvis&#39;s answer][1] above*\r\n\r\n-----\r\n\r\nSpecifying following in `build.gradle` worked for me\r\n\r\n```\r\nspotbugs {\r\n  ignoreFailures.set(false)\r\n  excludeFilter = file(&#39;spotbugs-exclude.xml&#39;)\r\n}\r\n```\r\n\r\nOther variations that I&#39;ve seen are\r\n - `excludeFilter = project.file(&#39;spotbugs-exclude.xml&#39;)`\r\n - `excludeFilter.set(file(&#39;spotbugs-exclude.xml&#39;))`\r\n\r\n*I had put the file in root-level of my project so I specified just the name of file; otherwise we can put something like `file(&#39;${project.projectDir}/configuration/spotBugs/excludeFilter.xml&#39;)` for specifying complete filepath*\r\n\r\n-----\r\n\r\nDo note that exclusion for unit-tests might possibly have to be configured separately in a `spotbugsTest { .. }` block of it&#39;s own (although we can still specify the same XML file)\r\n\r\n```\r\nspotbugs {\r\n  ignoreFailures.set(true)\r\n  excludeFilter = file(&#39;spotbugs-exclude-src.xml&#39;)\r\n}\r\n\r\nspotbugsTest {\r\n  ignoreFailures.set(false)\r\n  excludeFilter = file(&#39;spotbugs-exclude-tst.xml&#39;)\r\n}\r\n```\r\n\r\nFor format of `spotbugs-exclude.xml` file see [FindBugs/FilterFiles][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76196034/3679900\r\n  [2]: https://findbugs.sourceforge.net/manual/filter.html","title":"Spotbugs exclude filter in gradle project","body":"<p><em>Extension to <a href=\"https://stackoverflow.com/a/76196034/3679900\">@Dave Jarvis's answer</a> above</em></p>\n<hr />\n<p>Specifying following in <code>build.gradle</code> worked for me</p>\n<pre><code>spotbugs {\n  ignoreFailures.set(false)\n  excludeFilter = file('spotbugs-exclude.xml')\n}\n</code></pre>\n<p>Other variations that I've seen are</p>\n<ul>\n<li><code>excludeFilter = project.file('spotbugs-exclude.xml')</code></li>\n<li><code>excludeFilter.set(file('spotbugs-exclude.xml'))</code></li>\n</ul>\n<p><em>I had put the file in root-level of my project so I specified just the name of file; otherwise we can put something like <code>file('${project.projectDir}/configuration/spotBugs/excludeFilter.xml')</code> for specifying complete filepath</em></p>\n<hr />\n<p>Do note that exclusion for unit-tests might possibly have to be configured separately in a <code>spotbugsTest { .. }</code> block of it's own (although we can still specify the same XML file)</p>\n<pre><code>spotbugs {\n  ignoreFailures.set(true)\n  excludeFilter = file('spotbugs-exclude-src.xml')\n}\n\nspotbugsTest {\n  ignoreFailures.set(false)\n  excludeFilter = file('spotbugs-exclude-tst.xml')\n}\n</code></pre>\n<p>For format of <code>spotbugs-exclude.xml</code> file see <a href=\"https://findbugs.sourceforge.net/manual/filter.html\" rel=\"nofollow noreferrer\">FindBugs/FilterFiles</a></p>\n"}],"owner":{"account_id":7484812,"reputation":125,"user_id":5688432,"accept_rate":0,"display_name":"Yoanna E."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3758,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1693511823,"creation_date":1657832388,"question_id":72986599,"body_markdown":"I am new to gradle and am trying to configure Spotbugs. \r\nI&#39;ve added the plugin to the build.gradle and the spotbugs issues showed up.\r\nHowever I want to exclude the Findbugs EI_EXPOSE_REP and EI_EXPOSE_REP2 rules, because they show up for all my getter and setters.\r\nI have the following snippet in build.gradle:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\tapply plugin: &#39;com.github.spotbugs&#39;\r\n\tapply plugin: &#39;findbugs&#39;\r\n\r\n\tspotbugs {\r\n\t\ttoolVersion = &#39;5.0.0&#39;\r\n\t}\r\n\r\n\ttasks.withType(SpotBugsTask) {\r\n\t\treports {\r\n\t\t\txml.enabled = false\r\n\t\t\thtml.enabled = true\r\n\t\t}\r\n\t}\r\n\r\n\tfindbugs {\r\n\t\texcludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\r\n\t\ttoolVersion = &quot;3.0.1&quot;\r\n\t\teffort = &quot;max&quot;\r\n\t}\r\n    \r\nThe excludeFilter.xml contains the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;FindBugsFilter&gt;\r\n        &lt;Match&gt;\r\n            &lt;Bug pattern=&quot;EI_EXPOSE_REP&quot;/&gt;\r\n        &lt;/Match&gt;\r\n        &lt;Match&gt;\r\n            &lt;Bug pattern=&quot;EI_EXPOSE_REP2&quot;/&gt;\r\n        &lt;/Match&gt;\r\n    &lt;/FindBugsFilter&gt;\r\n\r\nI also tried adding the exclude like this:\r\n\r\n    tasks.withType(FindBugs) {\r\n    \texcludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\r\n    }\r\n\r\nBut it didn&#39;t work out, so probably I am missing something.","title":"Spotbugs exclude filter in gradle project","body":"<p>I am new to gradle and am trying to configure Spotbugs.\nI've added the plugin to the build.gradle and the spotbugs issues showed up.\nHowever I want to exclude the Findbugs EI_EXPOSE_REP and EI_EXPOSE_REP2 rules, because they show up for all my getter and setters.\nI have the following snippet in build.gradle:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'com.github.spotbugs'\napply plugin: 'findbugs'\n\nspotbugs {\n    toolVersion = '5.0.0'\n}\n\ntasks.withType(SpotBugsTask) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\nfindbugs {\n    excludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\n    toolVersion = &quot;3.0.1&quot;\n    effort = &quot;max&quot;\n}\n</code></pre>\n<p>The excludeFilter.xml contains the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n    &lt;Match&gt;\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP&quot;/&gt;\n    &lt;/Match&gt;\n    &lt;Match&gt;\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP2&quot;/&gt;\n    &lt;/Match&gt;\n&lt;/FindBugsFilter&gt;\n</code></pre>\n<p>I also tried adding the exclude like this:</p>\n<pre><code>tasks.withType(FindBugs) {\n    excludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\n}\n</code></pre>\n<p>But it didn't work out, so probably I am missing something.</p>\n"},{"tags":["java","kotlin","swing"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1693491337,"post_id":77016533,"comment_id":135770670,"body_markdown":"I&#39;m not sure it&#39;s responsible for the issue you observed, but it certain is *an* issue that you&#39;re trying to drive the application from your own thread.  A Swing GUI should be driven from the AWT event dispatch thread.  `SwingUtilities.invokeLater()` and `SwingUtilities.invokeAndWait()` can help other threads push work onto the EDT, but it&#39;s best to limit the need for those.  Use Swing timers to schedule periodic tasks such as for running an animation loop.  Use appropriate callbacks for responding to user input.","body":"I&#39;m not sure it&#39;s responsible for the issue you observed, but it certain is <i>an</i> issue that you&#39;re trying to drive the application from your own thread.  A Swing GUI should be driven from the AWT event dispatch thread.  <code>SwingUtilities.invokeLater()</code> and <code>SwingUtilities.invokeAndWait()</code> can help other threads push work onto the EDT, but it&#39;s best to limit the need for those.  Use Swing timers to schedule periodic tasks such as for running an animation loop.  Use appropriate callbacks for responding to user input."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1693491629,"post_id":77016533,"comment_id":135770752,"body_markdown":"Also, do not `dispose()` the `Graphics2D` passed into your `paintComponent()` method.  You are not responsible for that object&#39;s lifecycle, and Swing might not be done with it.  Dispose only of those you create yourself (via `Graphics.create()`).","body":"Also, do not <code>dispose()</code> the <code>Graphics2D</code> passed into your <code>paintComponent()</code> method.  You are not responsible for that object&#39;s lifecycle, and Swing might not be done with it.  Dispose only of those you create yourself (via <code>Graphics.create()</code>)."},{"owner":{"account_id":20260730,"reputation":149,"user_id":14859162,"display_name":"Alphasaft"},"score":0,"creation_date":1693494818,"post_id":77016533,"comment_id":135771481,"body_markdown":"I did what you said, but it made things worse. I&#39;m keeping the changes (because what you said totally makes sense), but the issue&#39;s not solved.","body":"I did what you said, but it made things worse. I&#39;m keeping the changes (because what you said totally makes sense), but the issue&#39;s not solved."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1693504915,"post_id":77016533,"comment_id":135773576,"body_markdown":"Probably related: [Prevent swing animation from jumping](https://stackoverflow.com/q/61188644/2402272)","body":"Probably related: <a href=\"https://stackoverflow.com/q/61188644/2402272\">Prevent swing animation from jumping</a>"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511763,"creation_date":1693511763,"answer_id":77018900,"question_id":77016533,"body_markdown":"I was able to reproduce a distinct jerkiness in a Java version of your animation.  At first I thought it was a result of repaint requests being coalesced, which is a known and intentional mechanism by which Swing can shed work when stressed. But that shouldn&#39;t happen if the event-dispatch thread is not stressed, and it clearly wasn&#39;t.\r\n\r\nI eventually discovered that I could resolve the issue by invoking `getToolkit().sync()` to the end of `paintComponent()`.  This tells me that, at least in my case, the issue was not that the panel was not being repainted by Swing, but that multiple repaints were being performed between updates of the native peer.  And that also explains why I found that waving the mouse pointer over the window relieved the jerkiness: Swing knew it had to update the peer to paint the portion revealed by moving the mouse pointer.\r\n\r\nIn addition, I pushed all the GUI work into the EDT, where it needs to be, and made some other minor adjustments.  This is my final result (in Java, not the equivalent Kotlin):\r\n```\r\nimport java.awt.*;\r\nimport java.time.*;\r\nimport java.util.Optional;\r\nimport javax.swing.*;\r\nimport static java.lang.Math.cos;\r\nimport static java.lang.Math.PI;\r\nimport static java.lang.Math.sin;\r\n\r\npublic class GraphicsDemo {\r\n\r\n    final static int TICK_DELAY = 10;\r\n\r\n    static class DemoPanel extends JPanel {\r\n\r\n        private Optional&lt;Instant&gt; startInstant = Optional.empty();\r\n\r\n        public DemoPanel() {\r\n            super(true);\r\n            setPreferredSize(new Dimension(1200, 800));\r\n            setBackground(Color.BLUE);\r\n        }\r\n\r\n        void updateState() {\r\n            // ...\r\n            repaint();\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Instant now = Instant.now();\r\n\r\n            if (!startInstant.isPresent()) {\r\n                startInstant = Optional.of(now);\r\n            }\r\n            double centisElapsed\r\n                    = Duration.between(startInstant.get(), now).toMillis() / 10.0;\r\n\r\n            int x = 1200 + (int) (centisElapsed * sin(centisElapsed * PI / 720) / 5);\r\n            int y =  800 + (int) (centisElapsed * cos(centisElapsed * PI / 720) / 5);\r\n\r\n            // Copy the Graphics object because we&#39;re going to persistently modify it\r\n            Graphics2D g2D = (Graphics2D) g.create();\r\n\r\n            g2D.scale(0.5, 0.5);\r\n            g2D.setColor(Color.BLACK);\r\n            g2D.fillRect(x, y, 200, 200);\r\n            g2D.dispose();\r\n\r\n            // This was important:\r\n            getToolkit().sync();\r\n        }\r\n    }\r\n\r\n    // This method should be run on the EDT\r\n    public static void startGUI() {\r\n        JFrame mainWindow = new JFrame(&quot;GraphicsDemo&quot;);\r\n\r\n        DemoPanel panel = new DemoPanel();\r\n        // javax.swing.Timer: fires events on the EDT\r\n        Timer animationTimer = new Timer(TICK_DELAY, ae -&gt; panel.updateState());\r\n\r\n        mainWindow.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        mainWindow.setResizable(false);\r\n        mainWindow.add(panel);\r\n        mainWindow.pack();\r\n\r\n        mainWindow.setVisible(true);\r\n        animationTimer.start();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        EventQueue.invokeAndWait(GraphicsDemo::startGUI);\r\n    }\r\n}\r\n```\r\n","title":"Small lags when using swing for a game","body":"<p>I was able to reproduce a distinct jerkiness in a Java version of your animation.  At first I thought it was a result of repaint requests being coalesced, which is a known and intentional mechanism by which Swing can shed work when stressed. But that shouldn't happen if the event-dispatch thread is not stressed, and it clearly wasn't.</p>\n<p>I eventually discovered that I could resolve the issue by invoking <code>getToolkit().sync()</code> to the end of <code>paintComponent()</code>.  This tells me that, at least in my case, the issue was not that the panel was not being repainted by Swing, but that multiple repaints were being performed between updates of the native peer.  And that also explains why I found that waving the mouse pointer over the window relieved the jerkiness: Swing knew it had to update the peer to paint the portion revealed by moving the mouse pointer.</p>\n<p>In addition, I pushed all the GUI work into the EDT, where it needs to be, and made some other minor adjustments.  This is my final result (in Java, not the equivalent Kotlin):</p>\n<pre><code>import java.awt.*;\nimport java.time.*;\nimport java.util.Optional;\nimport javax.swing.*;\nimport static java.lang.Math.cos;\nimport static java.lang.Math.PI;\nimport static java.lang.Math.sin;\n\npublic class GraphicsDemo {\n\n    final static int TICK_DELAY = 10;\n\n    static class DemoPanel extends JPanel {\n\n        private Optional&lt;Instant&gt; startInstant = Optional.empty();\n\n        public DemoPanel() {\n            super(true);\n            setPreferredSize(new Dimension(1200, 800));\n            setBackground(Color.BLUE);\n        }\n\n        void updateState() {\n            // ...\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Instant now = Instant.now();\n\n            if (!startInstant.isPresent()) {\n                startInstant = Optional.of(now);\n            }\n            double centisElapsed\n                    = Duration.between(startInstant.get(), now).toMillis() / 10.0;\n\n            int x = 1200 + (int) (centisElapsed * sin(centisElapsed * PI / 720) / 5);\n            int y =  800 + (int) (centisElapsed * cos(centisElapsed * PI / 720) / 5);\n\n            // Copy the Graphics object because we're going to persistently modify it\n            Graphics2D g2D = (Graphics2D) g.create();\n\n            g2D.scale(0.5, 0.5);\n            g2D.setColor(Color.BLACK);\n            g2D.fillRect(x, y, 200, 200);\n            g2D.dispose();\n\n            // This was important:\n            getToolkit().sync();\n        }\n    }\n\n    // This method should be run on the EDT\n    public static void startGUI() {\n        JFrame mainWindow = new JFrame(&quot;GraphicsDemo&quot;);\n\n        DemoPanel panel = new DemoPanel();\n        // javax.swing.Timer: fires events on the EDT\n        Timer animationTimer = new Timer(TICK_DELAY, ae -&gt; panel.updateState());\n\n        mainWindow.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        mainWindow.setResizable(false);\n        mainWindow.add(panel);\n        mainWindow.pack();\n\n        mainWindow.setVisible(true);\n        animationTimer.start();\n    }\n\n    public static void main(String[] args) throws Exception {\n        EventQueue.invokeAndWait(GraphicsDemo::startGUI);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20260730,"reputation":149,"user_id":14859162,"display_name":"Alphasaft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693511763,"creation_date":1693490114,"question_id":77016533,"body_markdown":"I have the following code snippet :\r\n\r\n```\r\nimport java.awt.*\r\nimport java.util.Date\r\nimport javax.swing.*\r\nimport kotlin.math.*\r\n\r\nfun now() = Date().time.toDouble()\r\n\r\n\r\nclass GameWindow: JFrame() {\r\n    private val game = GamePanel()\r\n\r\n    init {\r\n        defaultCloseOperation = WindowConstants.EXIT_ON_CLOSE\r\n\r\n        isResizable = false\r\n        isVisible = true\r\n\r\n        add(this.game)\r\n        pack()\r\n        setLocationRelativeTo(null)\r\n    }\r\n\r\n    fun startGame() {\r\n        this.game.start()\r\n    }\r\n}\r\n\r\n\r\nclass GamePanel: JPanel(), Runnable {\r\n    private val mainThread = Thread(null, this, &quot;GameThread&quot;)\r\n    private var firstRendering: Double? = null\r\n\r\n    init {\r\n        preferredSize = Dimension(1200, 800)\r\n        background = Color.BLUE\r\n        isDoubleBuffered = true\r\n    }\r\n\r\n    fun start() {\r\n        mainThread.start()\r\n    }\r\n\r\n    private fun setup() {\r\n        firstRendering = now()\r\n    }\r\n\r\n    override fun run() {\r\n        setup()\r\n        while (true) {\r\n            updateState()\r\n            repaint()\r\n        }\r\n    }\r\n\r\n    private fun updateState() {\r\n        // TODO\r\n    }\r\n\r\n    override fun paintComponent(g: Graphics?) {\r\n        super.paintComponent(g)\r\n        val g2D = g as Graphics2D\r\n\r\n        g2D.scale(0.5, 0.5)\r\n\r\n        // A square that describes a spiral\r\n        if (firstRendering != null) {\r\n            val t = (now() - firstRendering!!).toInt() / 10\r\n            g2D.color = Color.BLACK\r\n            g2D.fillRect(\r\n                1200 + (t * sin(t.toDouble() * PI / 720) / 5).toInt(),\r\n                800 + (t * cos(t.toDouble() * PI / 720) / 5).toInt(),\r\n                200,\r\n                200\r\n            )\r\n        }\r\n\r\n        g2D.dispose()\r\n    }\r\n}\r\n\r\nfun main() {\r\n    val window = GameWindow()\r\n    window.startGame()\r\n}\r\n```\r\n\r\nWhen I run this, everything works as intented (I get a window with a blue background and a square moving), except for the fact that the square&#39;s movement seems somewhat jerky. It isn&#39;t that visible (the square doesn&#39;t stop and then jump a few pixels), but I have the impression that the movement isn&#39;t fluid. I&#39;m not running anything else beside this for now, and I fear the problem might get worse when more things are added.\r\nIt&#39;s more visible when the square&#39;s moving slow. I also have a PC that&#39;s good enough to make it run smoothly, especially with so little graphics, so I don&#39;t know where this is coming from. I am working under Windows 10.\r\n\r\nAm I doing something wrong ?\r\n\r\nThanks for reading !\r\n\r\nPS : I&#39;m somewhat of a maniac. Don&#39;t worry if the lag doesn&#39;t catch your eye at first, but once I&#39;ve seen it I couldn&#39;t stop thinking about it (and also because in my opinion something so simple should run perfectly smooth)","title":"Small lags when using swing for a game","body":"<p>I have the following code snippet :</p>\n<pre><code>import java.awt.*\nimport java.util.Date\nimport javax.swing.*\nimport kotlin.math.*\n\nfun now() = Date().time.toDouble()\n\n\nclass GameWindow: JFrame() {\n    private val game = GamePanel()\n\n    init {\n        defaultCloseOperation = WindowConstants.EXIT_ON_CLOSE\n\n        isResizable = false\n        isVisible = true\n\n        add(this.game)\n        pack()\n        setLocationRelativeTo(null)\n    }\n\n    fun startGame() {\n        this.game.start()\n    }\n}\n\n\nclass GamePanel: JPanel(), Runnable {\n    private val mainThread = Thread(null, this, &quot;GameThread&quot;)\n    private var firstRendering: Double? = null\n\n    init {\n        preferredSize = Dimension(1200, 800)\n        background = Color.BLUE\n        isDoubleBuffered = true\n    }\n\n    fun start() {\n        mainThread.start()\n    }\n\n    private fun setup() {\n        firstRendering = now()\n    }\n\n    override fun run() {\n        setup()\n        while (true) {\n            updateState()\n            repaint()\n        }\n    }\n\n    private fun updateState() {\n        // TODO\n    }\n\n    override fun paintComponent(g: Graphics?) {\n        super.paintComponent(g)\n        val g2D = g as Graphics2D\n\n        g2D.scale(0.5, 0.5)\n\n        // A square that describes a spiral\n        if (firstRendering != null) {\n            val t = (now() - firstRendering!!).toInt() / 10\n            g2D.color = Color.BLACK\n            g2D.fillRect(\n                1200 + (t * sin(t.toDouble() * PI / 720) / 5).toInt(),\n                800 + (t * cos(t.toDouble() * PI / 720) / 5).toInt(),\n                200,\n                200\n            )\n        }\n\n        g2D.dispose()\n    }\n}\n\nfun main() {\n    val window = GameWindow()\n    window.startGame()\n}\n</code></pre>\n<p>When I run this, everything works as intented (I get a window with a blue background and a square moving), except for the fact that the square's movement seems somewhat jerky. It isn't that visible (the square doesn't stop and then jump a few pixels), but I have the impression that the movement isn't fluid. I'm not running anything else beside this for now, and I fear the problem might get worse when more things are added.\nIt's more visible when the square's moving slow. I also have a PC that's good enough to make it run smoothly, especially with so little graphics, so I don't know where this is coming from. I am working under Windows 10.</p>\n<p>Am I doing something wrong ?</p>\n<p>Thanks for reading !</p>\n<p>PS : I'm somewhat of a maniac. Don't worry if the lag doesn't catch your eye at first, but once I've seen it I couldn't stop thinking about it (and also because in my opinion something so simple should run perfectly smooth)</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1549866660,"post_id":54623673,"comment_id":96042257,"body_markdown":"Are you sure that you are using `org.mapstruct.Named` and not some other one?","body":"Are you sure that you are using <code>org.mapstruct.Named</code> and not some other one?"},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549867198,"post_id":54623673,"comment_id":96042448,"body_markdown":"@Filip Yes I am using org.mapstruct.Named","body":"@Filip Yes I am using org.mapstruct.Named"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1549910490,"post_id":54623673,"comment_id":96066141,"body_markdown":"Just verified your example on our 1.3 code base.. It works","body":"Just verified your example on our 1.3 code base.. It works"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":1,"creation_date":1549910598,"post_id":54623673,"comment_id":96066195,"body_markdown":"but.. I also spotted the name of the method deviates.. `mapSeriesName`.. Your example has a signature `mapSeriesName1 `.. Do you by any chance point to a used mapper? Are there more methods that carry the same `@Named`?","body":"but.. I also spotted the name of the method deviates.. <code>mapSeriesName</code>.. Your example has a signature <code>mapSeriesName1 </code>.. Do you by any chance point to a used mapper? Are there more methods that carry the same <code>@Named</code>?"},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549912603,"post_id":54623673,"comment_id":96067140,"body_markdown":"sjaak:  that was a type, sorry, edited the code. My version was 1.2, tried changing to 1.3 now - the error still exists.. Yes, I have more @Named methods that carry the same source Program..","body":"sjaak:  that was a type, sorry, edited the code. My version was 1.2, tried changing to 1.3 now - the error still exists.. Yes, I have more @Named methods that carry the same source Program.."},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549913049,"post_id":54623673,"comment_id":96067354,"body_markdown":"edited code to add the other methods that use Program as the source","body":"edited code to add the other methods that use Program as the source"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1549921797,"post_id":54623673,"comment_id":96071271,"body_markdown":"just out of curiosity, if you add ignore=true to the 2 String mappings.. does MapStruct complain about the Integer mappings as well?","body":"just out of curiosity, if you add ignore=true to the 2 String mappings.. does MapStruct complain about the Integer mappings as well?"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1549921865,"post_id":54623673,"comment_id":96071306,"body_markdown":"Is there anyway (e.g. gist) that you can share the DTO&#39;s as well. I can give it a shot tomorrow..","body":"Is there anyway (e.g. gist) that you can share the DTO&#39;s as well. I can give it a shot tomorrow.."},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549923204,"post_id":54623673,"comment_id":96071830,"body_markdown":"Yes, it does complain about the Integer mappings","body":"Yes, it does complain about the Integer mappings"},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549928403,"post_id":54623673,"comment_id":96073389,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/188239/discussion-between-ljs-and-sjaak).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/188239/discussion-between-ljs-and-sjaak\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1566946361,"creation_date":1550003237,"answer_id":54658223,"question_id":54623673,"body_markdown":"I checked your example.. The problem is that the fields you try to target are of type String.\r\n\r\nSo:\r\n\r\n    public class IvpVodOfferStatusDTO {\r\n    \r\n        private String seasonNumber;\r\n        private String episodeNumber;\r\n    } \r\n\r\nMapStruct tries to match this with the signature you provide:\r\n\r\n     @Named(&quot;season&quot;)\r\n    default Integer mapSeasonNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\r\n        if (season.isPresent())\r\n            return season.get();\r\n        return null;\r\n    }\r\n    \r\n    @Named(&quot;epNumber&quot;)\r\n    default Integer mapEpNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\r\n        if (epNumber.isPresent())\r\n            return epNumber.get();\r\n        return null;\r\n    }\r\n\r\nMapStruct has a predefined order of attempts:\r\n\r\n 1. User provided Mapping method\r\n 2. Direct (types source -target are the same)\r\n 3. Mapping method (built-in)\r\n 4. Type conversion \r\n\r\nIf this all fails MapStruct tries to do a number of 2 step approaches:\r\n\r\n 5. mapping method - mapping method\r\n 6. mapping method - type conversion\r\n 7. type conversion - mapping method\r\n\r\nAt 6. it finds 2 qualifying methods (`Program` to `String`). It&#39;s probably an error in MapStruct that it selects methods that do not qualify (need to check whether this is intentional) by the `@Named`. Otherwise, I&#39;ll write an issue.\r\n\r\nThe most easy solution is: adapt the target:\r\n\r\n\r\n    public class IvpVodOfferStatusDTO {\r\n    \r\n        private Integer seasonNumber;\r\n        private Integer episodeNumber;\r\n    }\r\n    \r\nWhat is probably what you intend (I guess).. Otherwise you could change the signature not to return an `Integer` but a `String`","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>I checked your example.. The problem is that the fields you try to target are of type String.</p>\n\n<p>So:</p>\n\n<pre><code>public class IvpVodOfferStatusDTO {\n\n    private String seasonNumber;\n    private String episodeNumber;\n} \n</code></pre>\n\n<p>MapStruct tries to match this with the signature you provide:</p>\n\n<pre><code> @Named(\"season\")\ndefault Integer mapSeasonNumber(Program programInstance) {\n    Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\n    if (season.isPresent())\n        return season.get();\n    return null;\n}\n\n@Named(\"epNumber\")\ndefault Integer mapEpNumber(Program programInstance) {\n    Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\n    if (epNumber.isPresent())\n        return epNumber.get();\n    return null;\n}\n</code></pre>\n\n<p>MapStruct has a predefined order of attempts:</p>\n\n<ol>\n<li>User provided Mapping method</li>\n<li>Direct (types source -target are the same)</li>\n<li>Mapping method (built-in)</li>\n<li>Type conversion </li>\n</ol>\n\n<p>If this all fails MapStruct tries to do a number of 2 step approaches:</p>\n\n<ol start=\"5\">\n<li>mapping method - mapping method</li>\n<li>mapping method - type conversion</li>\n<li>type conversion - mapping method</li>\n</ol>\n\n<p>At 6. it finds 2 qualifying methods (<code>Program</code> to <code>String</code>). It's probably an error in MapStruct that it selects methods that do not qualify (need to check whether this is intentional) by the <code>@Named</code>. Otherwise, I'll write an issue.</p>\n\n<p>The most easy solution is: adapt the target:</p>\n\n<pre><code>public class IvpVodOfferStatusDTO {\n\n    private Integer seasonNumber;\n    private Integer episodeNumber;\n}\n</code></pre>\n\n<p>What is probably what you intend (I guess).. Otherwise you could change the signature not to return an <code>Integer</code> but a <code>String</code></p>\n"},{"tags":[],"owner":{"account_id":19025729,"reputation":31,"user_id":13888821,"display_name":"Sandip Wagh"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1615487666,"creation_date":1615487666,"answer_id":66588479,"question_id":54623673,"body_markdown":"I was facing same issue and observed that, there was same method inherited by my mapper class using @Mapper(uses = {BaseMapper.class}) and using extends BaseMapper. \r\nRemoving extends solved the problem for me.\r\nSo, you can look for method received by custom mapper through multiple ways.","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>I was facing same issue and observed that, there was same method inherited by my mapper class using @Mapper(uses = {BaseMapper.class}) and using extends BaseMapper.\nRemoving extends solved the problem for me.\nSo, you can look for method received by custom mapper through multiple ways.</p>\n"},{"tags":[],"owner":{"account_id":10131551,"reputation":159,"user_id":7484761,"display_name":"sabeena kumarawadu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656920551,"creation_date":1656920469,"answer_id":72853265,"question_id":54623673,"body_markdown":"Even if the data types are matching, this could happen if the name given at qualifiedByName is not defined in as a bean instance\r\n\r\nBecause without a matching @Named qualifier, the injector would not know which bean to bind to which variable\r\n\r\n    @Mapping( source = &quot;firstName&quot;, target = &quot;passenger.firstName&quot;, qualifiedByName = &quot;mapFirstName&quot; )\r\n    public abstract Passenger mapPassenger( Traveller traveller );\r\n    \r\n    @Named( &quot;mapFirstName&quot; )\r\n    String mapFirstName( String firstName)\r\n    {\r\n    }\r\n\r\n","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>Even if the data types are matching, this could happen if the name given at qualifiedByName is not defined in as a bean instance</p>\n<p>Because without a matching @Named qualifier, the injector would not know which bean to bind to which variable</p>\n<pre><code>@Mapping( source = &quot;firstName&quot;, target = &quot;passenger.firstName&quot;, qualifiedByName = &quot;mapFirstName&quot; )\npublic abstract Passenger mapPassenger( Traveller traveller );\n\n@Named( &quot;mapFirstName&quot; )\nString mapFirstName( String firstName)\n{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1976638,"reputation":2858,"user_id":1774291,"accept_rate":75,"display_name":"PeterS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685451702,"creation_date":1685451702,"answer_id":76365146,"question_id":54623673,"body_markdown":"Also note you may get this if you have cyclic dependency:\r\n\r\n    ObjectA -&gt; ObjectB -&gt; ObjectA -&gt; ObjectB\r\n\r\nIt will be reported as an ambiguous entry most of the time. The solution is to not refer to Object A in ObjectB. ","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>Also note you may get this if you have cyclic dependency:</p>\n<pre><code>ObjectA -&gt; ObjectB -&gt; ObjectA -&gt; ObjectB\n</code></pre>\n<p>It will be reported as an ambiguous entry most of the time. The solution is to not refer to Object A in ObjectB.</p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511750,"creation_date":1693511750,"answer_id":77018897,"question_id":54623673,"body_markdown":"`Ambiguous mapping methods` can also happen if a `@Named(&quot;name&quot;)` method annotation is duplicated with the same `&quot;name&quot;`:  They need to be unique across `@Named` methods.","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p><code>Ambiguous mapping methods</code> can also happen if a <code>@Named(&quot;name&quot;)</code> method annotation is duplicated with the same <code>&quot;name&quot;</code>:  They need to be unique across <code>@Named</code> methods.</p>\n"}],"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33046,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":54658223,"answer_count":5,"score":15,"last_activity_date":1693511750,"creation_date":1549856593,"question_id":54623673,"body_markdown":"I am using mapstruct to map from one DTO to another. I have multiple default methods , but 2 of them with a return value of String and that uses the same class as the input parameter gives me &quot;Ambiguous mapping methods using java Mapstruct&quot; error. I am adding the relevant parts of the code here:\r\n\r\n   \r\n\r\n    @Mappings({\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;title&quot;, qualifiedByName = &quot;title&quot;),\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;seriesName&quot;, qualifiedByName = &quot;seriesName&quot;),\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;season&quot;, qualifiedByName = &quot;season&quot;),\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;epNumber&quot;, qualifiedByName = &quot;epNumber&quot;),\r\n     })\r\n     DTO1 mapDTOs (DTO2 dto2);\r\n\r\n      @Named(&quot;title&quot;)\r\n    default String mapTitle(Program programInstance) {\r\n        Optional&lt;String&gt; title = Utils.getObject(() -&gt; programInstance.getTitle().getDescriptions().get(0).getValue());\r\n        if (title.isPresent())\r\n            return title.get();\r\n        return null;\r\n    }\r\n    @Named(&quot;seriesName&quot;)\r\n    default String mapSeriesName(Program programInstance) {\r\n        Optional&lt;String&gt; seriesName = Utils.getObject(() -&gt; programInstance.get(0).getProgram().getTitle().getDescriptions().get(0).getValue());\r\n        if (seriesName.isPresent())\r\n            return seriesName.get();\r\n        return null;\r\n    }\r\n     @Named(&quot;season&quot;)\r\n    default Integer mapSeasonNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\r\n        if (season.isPresent())\r\n            return season.get();\r\n        return null;\r\n    }\r\n\r\n    @Named(&quot;epNumber&quot;)\r\n    default Integer mapEpNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\r\n        if (epNumber.isPresent())\r\n            return epNumber.get();\r\n        return null;\r\n    }\r\n\r\nThe error is \r\n\r\n&gt; Ambiguous mapping methods found for mapping property &quot;Program\r\n&gt; programInstance&quot; to java.lang.String: java.lang.String mapTitle(),\r\n&gt; java.lang.String mapSeriesName().\r\n","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>I am using mapstruct to map from one DTO to another. I have multiple default methods , but 2 of them with a return value of String and that uses the same class as the input parameter gives me \"Ambiguous mapping methods using java Mapstruct\" error. I am adding the relevant parts of the code here:</p>\n\n<pre><code>@Mappings({\n     @Mapping(source = \"programInstance\", target = \"title\", qualifiedByName = \"title\"),\n     @Mapping(source = \"programInstance\", target = \"seriesName\", qualifiedByName = \"seriesName\"),\n     @Mapping(source = \"programInstance\", target = \"season\", qualifiedByName = \"season\"),\n     @Mapping(source = \"programInstance\", target = \"epNumber\", qualifiedByName = \"epNumber\"),\n })\n DTO1 mapDTOs (DTO2 dto2);\n\n  @Named(\"title\")\ndefault String mapTitle(Program programInstance) {\n    Optional&lt;String&gt; title = Utils.getObject(() -&gt; programInstance.getTitle().getDescriptions().get(0).getValue());\n    if (title.isPresent())\n        return title.get();\n    return null;\n}\n@Named(\"seriesName\")\ndefault String mapSeriesName(Program programInstance) {\n    Optional&lt;String&gt; seriesName = Utils.getObject(() -&gt; programInstance.get(0).getProgram().getTitle().getDescriptions().get(0).getValue());\n    if (seriesName.isPresent())\n        return seriesName.get();\n    return null;\n}\n @Named(\"season\")\ndefault Integer mapSeasonNumber(Program programInstance) {\n    Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\n    if (season.isPresent())\n        return season.get();\n    return null;\n}\n\n@Named(\"epNumber\")\ndefault Integer mapEpNumber(Program programInstance) {\n    Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\n    if (epNumber.isPresent())\n        return epNumber.get();\n    return null;\n}\n</code></pre>\n\n<p>The error is </p>\n\n<blockquote>\n  <p>Ambiguous mapping methods found for mapping property \"Program\n  programInstance\" to java.lang.String: java.lang.String mapTitle(),\n  java.lang.String mapSeriesName().</p>\n</blockquote>\n"},{"tags":["java","android","android-button"],"answers":[{"comments":[{"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"score":0,"creation_date":1693498381,"post_id":77017516,"comment_id":135772284,"body_markdown":"I do have an array called gameState that changes with gameStatePointer. I can&#39;t find an answer on how to have the X or O change if the gameState changes. like a &#39;if gamestate == 0, then set text to X&#39;","body":"I do have an array called gameState that changes with gameStatePointer. I can&#39;t find an answer on how to have the X or O change if the gameState changes. like a &#39;if gamestate == 0, then set text to X&#39;"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1693498819,"post_id":77017516,"comment_id":135772389,"body_markdown":"String text = gameState[index] == 0 ? &quot;X&quot; : &quot;O&quot;\nbutton.setText(text)","body":"String text = gameState[index] == 0 ? &quot;X&quot; : &quot;O&quot; button.setText(text)"},{"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"score":0,"creation_date":1693500905,"post_id":77017516,"comment_id":135772808,"body_markdown":"Could you explain what the expression == 0 ? &quot;X&quot; : &quot;O&quot; means? I&#39;m not used to working with that.","body":"Could you explain what the expression == 0 ? &quot;X&quot; : &quot;O&quot; means? I&#39;m not used to working with that."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1693502593,"post_id":77017516,"comment_id":135773151,"body_markdown":"It&#39;s called the ternary operator.  It&#39;s the equivalent of if(expression) { return A;} else { return B; }. If you prefer, you can also writer it as an if statement, this is just less verbose.","body":"It&#39;s called the ternary operator.  It&#39;s the equivalent of if(expression) { return A;} else { return B; }. If you prefer, you can also writer it as an if statement, this is just less verbose."},{"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"score":0,"creation_date":1693504161,"post_id":77017516,"comment_id":135773436,"body_markdown":"Oh ok! i&#39;ve rewritten it as String text = gameState[8] == 0 ? &quot;X&quot; : gameState[8] == 1 ? &quot;O&quot; : &quot;&quot;; because gameState has 3 different values but for the life of me I cant set the text on the buttons. i have an array called &#39;buttons&#39; with an index of 9. i also have the 9 buttons with an id of btn_ + i (there is a loop to assign all buttons their respective number)","body":"Oh ok! i&#39;ve rewritten it as String text = gameState[8] == 0 ? &quot;X&quot; : gameState[8] == 1 ? &quot;O&quot; : &quot;&quot;; because gameState has 3 different values but for the life of me I cant set the text on the buttons. i have an array called &#39;buttons&#39; with an index of 9. i also have the 9 buttons with an id of btn_ + i (there is a loop to assign all buttons their respective number)"},{"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"score":0,"creation_date":1693505152,"post_id":77017516,"comment_id":135773613,"body_markdown":"I should add, making String text = {value}; is working. but the if statement with game state is not setting a value to String text","body":"I should add, making String text = {value}; is working. but the if statement with game state is not setting a value to String text"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693497440,"creation_date":1693497440,"answer_id":77017516,"question_id":77017471,"body_markdown":"A loop saving all the button&#39;s texts could work.  But really your problem is that this is not a good way to structure your data.  You shouldn&#39;t be storing your state in your view.  You should have a variable named board that holds the state of each square in your game, and use that to set your views.  Then you just save the board variable on rotation.  \r\n\r\nIn general, your view layer shouldn&#39;t be storing data.  It should be set to display data stored elsewhere.","title":"How to save a Button[] text in savedPreferences","body":"<p>A loop saving all the button's texts could work.  But really your problem is that this is not a good way to structure your data.  You shouldn't be storing your state in your view.  You should have a variable named board that holds the state of each square in your game, and use that to set your views.  Then you just save the board variable on rotation.</p>\n<p>In general, your view layer shouldn't be storing data.  It should be set to display data stored elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":16258152,"reputation":745,"user_id":11740298,"display_name":"heX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693511556,"creation_date":1693511556,"answer_id":77018877,"question_id":77017471,"body_markdown":"You will need to save the state of your view in the saved stated bundle in order to restore it after the screen rotates.\r\n\r\nFirst, you need to represent the state of the buttons in some kind of simple structure. A quick solution would just be to create a comma separated list with values representing the button states from 0 to 8 (9 possible buttons). For example:\r\n`&quot;O,X,O,-,-,O,X,X,-&quot;`.\r\n\r\nAfter, you need to save your button states in:\r\n```java\r\n@Override\r\nprotected void onSaveInstanceState(@NonNull final Bundle outState) {\r\n    super.onSaveInstanceState(outState);\r\n    final String screenState = // ... loop to generate screen state\r\n    outState.putString(&quot;some_key&quot;, screenState);\r\n}\r\n```\r\n\r\nAnd `onCreate()` you need to restore the screen if the value is present in the bundle:\r\n```java\r\n@Override\r\npublic void onCreate(@Nullable final Bundle savedInstanceBundle) {\r\n    if (bundle != null) {\r\n        final String state = bundle.getString(&quot;some_key&quot;);\r\n        if (state != null) {\r\n            // ... restore state\r\n        }\r\n    }\r\n}\r\n```\r\nNote: I agree with the previous answer, the screen state shouldn&#39;t be stored in the view in this fashion, but I just wanted to provide a simple answer without getting into the complexities of app architecture.","title":"How to save a Button[] text in savedPreferences","body":"<p>You will need to save the state of your view in the saved stated bundle in order to restore it after the screen rotates.</p>\n<p>First, you need to represent the state of the buttons in some kind of simple structure. A quick solution would just be to create a comma separated list with values representing the button states from 0 to 8 (9 possible buttons). For example:\n<code>&quot;O,X,O,-,-,O,X,X,-&quot;</code>.</p>\n<p>After, you need to save your button states in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onSaveInstanceState(@NonNull final Bundle outState) {\n    super.onSaveInstanceState(outState);\n    final String screenState = // ... loop to generate screen state\n    outState.putString(&quot;some_key&quot;, screenState);\n}\n</code></pre>\n<p>And <code>onCreate()</code> you need to restore the screen if the value is present in the bundle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onCreate(@Nullable final Bundle savedInstanceBundle) {\n    if (bundle != null) {\n        final String state = bundle.getString(&quot;some_key&quot;);\n        if (state != null) {\n            // ... restore state\n        }\n    }\n}\n</code></pre>\n<p>Note: I agree with the previous answer, the screen state shouldn't be stored in the view in this fashion, but I just wanted to provide a simple answer without getting into the complexities of app architecture.</p>\n"}],"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018877,"answer_count":2,"score":0,"last_activity_date":1693511556,"creation_date":1693497091,"question_id":77017471,"body_markdown":"I have `Button[] buttons = new Button[9];` and later in the activity the buttons will be set to either X or O. I need to save whether a given button has its text as X or O. When a button is clicked on, that button will change its text. Since text is not predetermined or editText, I&#39;m not sure how to save it so it can be restored when the activity needs to be destroyed to rotate the screen. Would using a loop for saving all 9 button&#39;s text be a thing?\r\n\r\n```\r\n@Override\r\n    public void onClick(View v) {\r\n        if (!((Button)v).getText().toString().equals(&quot;&quot;)) {\r\n            return;\r\n        }\r\n\r\n        String buttonID = v.getResources().getResourceEntryName(v.getId());\r\n        int gameStatePointer = Integer.parseInt(buttonID.substring(buttonID.length()-1));\r\n\r\n        if (activePlayer) {\r\n            ((Button)v).setText(&quot;X&quot;);\r\n            ((Button)v).setTextColor(Color.parseColor(&quot;#ff4a4a&quot;));\r\n            gameState[gameStatePointer] = 0;\r\n            gameStatus.setText(&quot;O&#39;s Turn&quot;);\r\n        }\r\n        else {\r\n            ((Button)v).setText(&quot;O&quot;);\r\n            ((Button)v).setTextColor(Color.parseColor(&quot;#70FFEA&quot;));\r\n            gameState[gameStatePointer] = 1;\r\n            gameStatus.setText(&quot;X&#39;s Turn&quot;);\r\n        }\r\n```\r\n\r\n","title":"How to save a Button[] text in savedPreferences","body":"<p>I have <code>Button[] buttons = new Button[9];</code> and later in the activity the buttons will be set to either X or O. I need to save whether a given button has its text as X or O. When a button is clicked on, that button will change its text. Since text is not predetermined or editText, I'm not sure how to save it so it can be restored when the activity needs to be destroyed to rotate the screen. Would using a loop for saving all 9 button's text be a thing?</p>\n<pre><code>@Override\n    public void onClick(View v) {\n        if (!((Button)v).getText().toString().equals(&quot;&quot;)) {\n            return;\n        }\n\n        String buttonID = v.getResources().getResourceEntryName(v.getId());\n        int gameStatePointer = Integer.parseInt(buttonID.substring(buttonID.length()-1));\n\n        if (activePlayer) {\n            ((Button)v).setText(&quot;X&quot;);\n            ((Button)v).setTextColor(Color.parseColor(&quot;#ff4a4a&quot;));\n            gameState[gameStatePointer] = 0;\n            gameStatus.setText(&quot;O's Turn&quot;);\n        }\n        else {\n            ((Button)v).setText(&quot;O&quot;);\n            ((Button)v).setTextColor(Color.parseColor(&quot;#70FFEA&quot;));\n            gameState[gameStatePointer] = 1;\n            gameStatus.setText(&quot;X's Turn&quot;);\n        }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2918786,"reputation":637,"user_id":3576968,"display_name":"Daniel Schr&#246;der"},"score":1,"creation_date":1690763199,"post_id":76800004,"comment_id":135394137,"body_markdown":"As a follow up suggestion to my answer, take a look into Kotlin. The Android world is transitioning from a Java/Groovy pair for application language and configuration script language to writting everything in Kotlin. You can pretty much mix and match those options but, if your starting fresh, it&#39;s easier to learn only one thing.","body":"As a follow up suggestion to my answer, take a look into Kotlin. The Android world is transitioning from a Java/Groovy pair for application language and configuration script language to writting everything in Kotlin. You can pretty much mix and match those options but, if your starting fresh, it&#39;s easier to learn only one thing."}],"answers":[{"tags":[],"owner":{"account_id":2918786,"reputation":637,"user_id":3576968,"display_name":"Daniel Schr&#246;der"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690762856,"creation_date":1690762856,"answer_id":76800059,"question_id":76800004,"body_markdown":"The `language` option is for you to set the language in which you want to write your Android application. If you want to write it in Java, that&#39;s the place to select that option.\r\n\r\nHowever, Android project&#39;s use a build tool called Gradle. This tool uses configuration scripts that can be written in different languages than your main project. So, the `build configuration language` is the place for you to configure in which language you want to write these build scripts.\r\n\r\nIf you&#39;re just starting, don&#39;t worry to much about those build scripts. The Android Studio will generate almost everything you need until you get in a more advanced setup.","title":"What is the difference between build configuration language and language in Android Studio?","body":"<p>The <code>language</code> option is for you to set the language in which you want to write your Android application. If you want to write it in Java, that's the place to select that option.</p>\n<p>However, Android project's use a build tool called Gradle. This tool uses configuration scripts that can be written in different languages than your main project. So, the <code>build configuration language</code> is the place for you to configure in which language you want to write these build scripts.</p>\n<p>If you're just starting, don't worry to much about those build scripts. The Android Studio will generate almost everything you need until you get in a more advanced setup.</p>\n"}],"owner":{"account_id":29122576,"reputation":23,"user_id":22309685,"display_name":"Nathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2834,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76800059,"answer_count":1,"score":2,"last_activity_date":1693511436,"creation_date":1690760964,"question_id":76800004,"body_markdown":"When setting up a new project in Android Studio with the Empty Views Activity, it gives the option of both a language and build configuration language.\r\nI was wondering what the actual difference between them is.\r\n\r\nI&#39;m trying to build the app in Java.","title":"What is the difference between build configuration language and language in Android Studio?","body":"<p>When setting up a new project in Android Studio with the Empty Views Activity, it gives the option of both a language and build configuration language.\nI was wondering what the actual difference between them is.</p>\n<p>I'm trying to build the app in Java.</p>\n"},{"tags":["java","css","javafx"],"owner":{"account_id":28768067,"reputation":1,"user_id":22479862,"display_name":"CataclysmicCPU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693511745,"answer_count":0,"score":0,"last_activity_date":1693511356,"creation_date":1693511002,"question_id":77018834,"body_markdown":"So, I am trying to use a css file in JavaFX for the first time. Here is my code, error and file location:  \r\n```\r\nscene.getStylesheets().add(&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;);\r\n```\r\n[enter image description here](https://i.stack.imgur.com/0F56B.png)\r\n```\r\n&gt;! Exception in Application start method\r\n&gt;! java.lang.reflect.InvocationTargetException\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt;! \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n&gt;! \tat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1135)\r\n&gt;! \tat javafx.graphics/javafx.scene.image.Image.&lt;init&gt;(Image.java:625)\r\n&gt;! \tat com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:153)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt;! \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt;! 1 more\r\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n&gt;! \tat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1120)\r\n&gt;! 11 more\r\n&gt;! Exception running application com.example.cupoftea.HelloApplication\r\n\r\n```\r\nfor whatever reason when I was trying to add photos and images it would not work without me having the full path, I don&#39;t like it, but I can&#39;t seem to fix it.\r\n\r\n\r\nI have tried to use this:\r\n```\r\n&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;\r\n```\r\n code I have seen but it throws this error: Exception in Application start method\r\n```\r\n&gt;! java.lang.reflect.InvocationTargetException\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt;! \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n&gt;! Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n&gt;! \tat com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:152)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt;! \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt;! 1 more\r\n&gt;! Exception running application com.example.cupoftea.HelloApplication\r\nAny help is greatly appreciated; \r\n```\r\n","title":"JavaFX not seeing a css file","body":"<p>So, I am trying to use a css file in JavaFX for the first time. Here is my code, error and file location:</p>\n<pre><code>scene.getStylesheets().add(&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0F56B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&gt;! Exception in Application start method\n&gt;! java.lang.reflect.InvocationTargetException\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n&gt;!  at java.base/java.lang.Thread.run(Thread.java:1623)\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n&gt;!  at javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1135)\n&gt;!  at javafx.graphics/javafx.scene.image.Image.&lt;init&gt;(Image.java:625)\n&gt;!  at com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:153)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n&gt;!  at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n&gt;!  at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n&gt;! 1 more\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n&gt;!  at javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1120)\n&gt;! 11 more\n&gt;! Exception running application com.example.cupoftea.HelloApplication\n\n</code></pre>\n<p>for whatever reason when I was trying to add photos and images it would not work without me having the full path, I don't like it, but I can't seem to fix it.</p>\n<p>I have tried to use this:</p>\n<pre><code>&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;\n</code></pre>\n<p>code I have seen but it throws this error: Exception in Application start method</p>\n<pre><code>&gt;! java.lang.reflect.InvocationTargetException\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n&gt;!  at java.base/java.lang.Thread.run(Thread.java:1623)\n&gt;! Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n&gt;!  at com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:152)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n&gt;!  at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n&gt;!  at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n&gt;! 1 more\n&gt;! Exception running application com.example.cupoftea.HelloApplication\nAny help is greatly appreciated; \n</code></pre>\n"},{"tags":["java","svg","dependencies","javax.imageio","batik"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1689590817,"post_id":76650192,"comment_id":135230090,"body_markdown":"Try the `help:effective-pom` Maven goal, and see if there are other sources for the `org.w3c.dom` package. You might need more exclusions for this to work with modules.","body":"Try the <code>help:effective-pom</code> Maven goal, and see if there are other sources for the <code>org.w3c.dom</code> package. You might need more exclusions for this to work with modules."}],"answers":[{"comments":[{"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"score":0,"creation_date":1693781948,"post_id":77018846,"comment_id":135802205,"body_markdown":"thanks for the details, but Jesus, what a mess.","body":"thanks for the details, but Jesus, what a mess."},{"owner":{"account_id":424655,"reputation":383,"user_id":804766,"display_name":"richardeigenmann"},"score":0,"creation_date":1693807601,"post_id":77018846,"comment_id":135804027,"body_markdown":"If everyone adopted Modularity it would get good, really good. But I fear it&#39;s just to complicated to learn.","body":"If everyone adopted Modularity it would get good, really good. But I fear it&#39;s just to complicated to learn."}],"tags":[],"owner":{"account_id":424655,"reputation":383,"user_id":804766,"display_name":"richardeigenmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693511184,"creation_date":1693511184,"answer_id":77018846,"question_id":76650192,"body_markdown":"Same probelm with Gradle in a Java Modularity project:\r\n\r\n    implementation &#39;org.apache.xmlgraphics:batik-transcoder:1.17&#39;\r\n\r\nResults in \r\n\r\n    the unnamed module reads package javax.xml from both xml.apis and java.xml\r\n\r\nWhich is correct, because the pom file in the batik-transcoder jar declares a dependency on `xml-apis` which then leads to the conflict.\r\n\r\nFortunately, we can tell the dependency resolver to not include `xml-apis`:\r\n\r\n    implementation &#39;org.apache.xmlgraphics:batik-transcoder:1.17&#39;, {\r\n        exclude group: &quot;xml-apis&quot;, module: &quot;xml-apis&quot;\r\n    }\r\n\r\nBut then we hit a runtime problem when we try to parse an SVG image:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.css.DOMImplementationCSS\r\n\r\nAgain, this is correct because we haven&#39;t declared that we would like to use code from the `jdk.xml.dom` module. This is fixed by declaring it in  `module-info.java`:\r\n\r\n    requires jdk.xml.dom;","title":"dependency conflicts with batik-transcoder and java 17","body":"<p>Same probelm with Gradle in a Java Modularity project:</p>\n<pre><code>implementation 'org.apache.xmlgraphics:batik-transcoder:1.17'\n</code></pre>\n<p>Results in</p>\n<pre><code>the unnamed module reads package javax.xml from both xml.apis and java.xml\n</code></pre>\n<p>Which is correct, because the pom file in the batik-transcoder jar declares a dependency on <code>xml-apis</code> which then leads to the conflict.</p>\n<p>Fortunately, we can tell the dependency resolver to not include <code>xml-apis</code>:</p>\n<pre><code>implementation 'org.apache.xmlgraphics:batik-transcoder:1.17', {\n    exclude group: &quot;xml-apis&quot;, module: &quot;xml-apis&quot;\n}\n</code></pre>\n<p>But then we hit a runtime problem when we try to parse an SVG image:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.w3c.dom.css.DOMImplementationCSS\n</code></pre>\n<p>Again, this is correct because we haven't declared that we would like to use code from the <code>jdk.xml.dom</code> module. This is fixed by declaring it in  <code>module-info.java</code>:</p>\n<pre><code>requires jdk.xml.dom;\n</code></pre>\n"}],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77018846,"answer_count":1,"score":1,"last_activity_date":1693511184,"creation_date":1688952287,"question_id":76650192,"body_markdown":"I&#39;m trying to use the twelvemonkeys and batik to process svg files in java.\r\n\r\n```xml\r\n  &lt;!-- https://mvnrepository.com/artifact/com.twelvemonkeys.imageio/imageio-batik --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n```\r\n\r\nThe problem is that the inclusion of this library in my pom results in the following errors:\r\n```\r\nThe package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\nSAXException cannot be resolved to a type\r\n```\r\n\r\nI&#39;ve tried the following exclusions which fixes the above errors but at runtime I now get a classnotfound error:\r\n\r\n```\r\n &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;xml-apis-ext&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```\r\n[m java.lang.ClassNotFoundException: org.w3c.dom.svg.SVGDocument\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[?:?]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\tat org.apache.batik.anim.dom.SVGDOMImplementation.createDocument(SVGDOMImplementation.java:140) ~[batik-anim-1.16.jar:?]\r\n\tat org.apache.batik.dom.util.SAXDocumentFactory.startElement(SAXDocumentFactory.java:641) ~[batik-dom-1.16.jar:?]\r\n```\r\n","title":"dependency conflicts with batik-transcoder and java 17","body":"<p>I'm trying to use the twelvemonkeys and batik to process svg files in java.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- https://mvnrepository.com/artifact/com.twelvemonkeys.imageio/imageio-batik --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n            &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\n            &lt;version&gt;3.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n            &lt;version&gt;1.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n</code></pre>\n<p>The problem is that the inclusion of this library in my pom results in the following errors:</p>\n<pre><code>The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml\nSAXException cannot be resolved to a type\n</code></pre>\n<p>I've tried the following exclusions which fixes the above errors but at runtime I now get a classnotfound error:</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n            &lt;version&gt;1.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis-ext&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>[m java.lang.ClassNotFoundException: org.w3c.dom.svg.SVGDocument\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[?:?]\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at org.apache.batik.anim.dom.SVGDOMImplementation.createDocument(SVGDOMImplementation.java:140) ~[batik-anim-1.16.jar:?]\n    at org.apache.batik.dom.util.SAXDocumentFactory.startElement(SAXDocumentFactory.java:641) ~[batik-dom-1.16.jar:?]\n</code></pre>\n"},{"tags":["java","menu","toolbar"],"answers":[{"tags":[],"owner":{"account_id":15993800,"reputation":1,"user_id":11542239,"display_name":"omar kurdistan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511030,"creation_date":1693510901,"answer_id":77018818,"question_id":76351916,"body_markdown":"open project panel\r\napp -&gt; src -&gt; main -&gt; res -&gt; values -&gt; themes.xml\r\n\r\nwhen opeing themes \r\n\r\nin line three delete noActionBar\r\n\r\n    \r\n    parent=&quot;Theme.Material3.DayNight.NoActionBar&quot; \r\n\r\n\r\nit should be like this \r\n\r\n    parent=&quot;Theme.Material3.DayNight&quot;\r\n\r\nhope it helps.\r\n\r\n\r\n\r\n","title":"Android Studio Toolbar s Not Showing","body":"<p>open project panel\napp -&gt; src -&gt; main -&gt; res -&gt; values -&gt; themes.xml</p>\n<p>when opeing themes</p>\n<p>in line three delete noActionBar</p>\n<pre><code>parent=&quot;Theme.Material3.DayNight.NoActionBar&quot; \n</code></pre>\n<p>it should be like this</p>\n<pre><code>parent=&quot;Theme.Material3.DayNight&quot;\n</code></pre>\n<p>hope it helps.</p>\n"}],"owner":{"account_id":28696817,"reputation":1,"user_id":21974875,"display_name":"Enes Polat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693511030,"creation_date":1685283143,"question_id":76351916,"body_markdown":"Android Studio Toolbar s Not Showing\r\n\r\nHello Guys,\r\nI am sure that my codes for creating the menu in Android Studio are correct, and it also does not give an error, but when I run my project, the menu does not appear on the page.\r\n[mage1](https://i.stack.imgur.com/O2apy.png)\r\n[mage2](https://i.stack.imgur.com/iz1g0.png)","title":"Android Studio Toolbar s Not Showing","body":"<p>Android Studio Toolbar s Not Showing</p>\n<p>Hello Guys,\nI am sure that my codes for creating the menu in Android Studio are correct, and it also does not give an error, but when I run my project, the menu does not appear on the page.\n<a href=\"https://i.stack.imgur.com/O2apy.png\" rel=\"nofollow noreferrer\">mage1</a>\n<a href=\"https://i.stack.imgur.com/iz1g0.png\" rel=\"nofollow noreferrer\">mage2</a></p>\n"},{"tags":["java","maven","junit","junit5","maven-surefire-plugin"],"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1674470920,"post_id":53433663,"comment_id":132713330,"body_markdown":"It&#39;s good your test method is public, but the class can be package-private for JUnit 5+. See also https://www.baeldung.com/maven-cant-find-junit-tests","body":"It&#39;s good your test method is public, but the class can be package-private for JUnit 5+. See also <a href=\"https://www.baeldung.com/maven-cant-find-junit-tests\" rel=\"nofollow noreferrer\">baeldung.com/maven-cant-find-junit-tests</a>"}],"answers":[{"comments":[{"owner":{"account_id":1207655,"reputation":2233,"user_id":1176873,"accept_rate":50,"display_name":"mogoli"},"score":5,"creation_date":1542899256,"post_id":53433724,"comment_id":93741201,"body_markdown":"I added the dependency and ran mvn clean test but no test run still. Thanks.","body":"I added the dependency and ran mvn clean test but no test run still. Thanks."},{"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"score":0,"creation_date":1542899486,"post_id":53433724,"comment_id":93741349,"body_markdown":"Why have you also the JUnit 4.12 as dependency? It might be the problem. Try to remove it.","body":"Why have you also the JUnit 4.12 as dependency? It might be the problem. Try to remove it."},{"owner":{"account_id":1207655,"reputation":2233,"user_id":1176873,"accept_rate":50,"display_name":"mogoli"},"score":1,"creation_date":1542899624,"post_id":53433724,"comment_id":93741430,"body_markdown":"I&#39;ve removed that now and still no joy. I ran the test through my IDE independent of maven and it does run. Thanks","body":"I&#39;ve removed that now and still no joy. I ran the test through my IDE independent of maven and it does run. Thanks"},{"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"score":0,"creation_date":1542900436,"post_id":53433724,"comment_id":93741879,"body_markdown":"I could reproduce the problem and fix it with the version of `maven-surefire-plugin`.","body":"I could reproduce the problem and fix it with the version of <code>maven-surefire-plugin</code>."},{"owner":{"account_id":1207655,"reputation":2233,"user_id":1176873,"accept_rate":50,"display_name":"mogoli"},"score":0,"creation_date":1542900668,"post_id":53433724,"comment_id":93742004,"body_markdown":"Manged to solve it, I wasnt specifying the version of the sure fire plugin. I specified 3.0.0-M1 and it worked. Thank you","body":"Manged to solve it, I wasnt specifying the version of the sure fire plugin. I specified 3.0.0-M1 and it worked. Thank you"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1548728636,"post_id":53433724,"comment_id":95636620,"body_markdown":"Tip: As of JUnit 5 version 5.4.0, you can use the new convenient single Maven artifact named *JUnit Jupiter (Aggregator)* that in turn gets you several related artifacts needed to write and run JUnit 5 tests: [`junit-jupiter`](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter)","body":"Tip: As of JUnit 5 version 5.4.0, you can use the new convenient single Maven artifact named <i>JUnit Jupiter (Aggregator)</i> that in turn gets you several related artifacts needed to write and run JUnit 5 tests: <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"nofollow noreferrer\"><code>junit-jupiter</code></a>"},{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":0,"creation_date":1550672447,"post_id":53433724,"comment_id":96355338,"body_markdown":"Just stumbled upon this answer. Is 3.0.0-M3 considered stable? I am not sure about that suffix in the version number and didn&#39;t find any information about the version scheme of the maven plugins.","body":"Just stumbled upon this answer. Is 3.0.0-M3 considered stable? I am not sure about that suffix in the version number and didn&#39;t find any information about the version scheme of the maven plugins."},{"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"score":0,"creation_date":1550682459,"post_id":53433724,"comment_id":96361673,"body_markdown":"@SebastianS The official page claims, this is a stable version: https://maven.apache.org/surefire/download.cgi","body":"@SebastianS The official page claims, this is a stable version: <a href=\"https://maven.apache.org/surefire/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/download.cgi</a>"},{"owner":{"account_id":1318265,"reputation":406,"user_id":1264663,"display_name":"Pedro Garc&#237;a Medina"},"score":0,"creation_date":1593654405,"post_id":53433724,"comment_id":110858513,"body_markdown":"It worked for me using the junit-jupiter dependency and the version 3.0.0 of the Surefire plugin; however, only the test classes located in the root package are run (by root package I mean the one having the same name as the groupId in the pom)","body":"It worked for me using the junit-jupiter dependency and the version 3.0.0 of the Surefire plugin; however, only the test classes located in the root package are run (by root package I mean the one having the same name as the groupId in the pom)"},{"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"score":0,"creation_date":1669737898,"post_id":53433724,"comment_id":131708418,"body_markdown":"Adding dependency `junit-jupiter-engine` did the trick for me. I had had already `junit-jupiter-api` and `maven-surefire-plugin`.","body":"Adding dependency <code>junit-jupiter-engine</code> did the trick for me. I had had already <code>junit-jupiter-api</code> and <code>maven-surefire-plugin</code>."}],"tags":[],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"comment_count":10,"down_vote_count":1,"up_vote_count":136,"is_accepted":true,"score":135,"last_activity_date":1548728079,"creation_date":1542899089,"answer_id":53433724,"question_id":53433663,"body_markdown":"According to the annotation (`import org.junit.jupiter.api.Test`), you are trying to run JUnit 5 tests with Maven. According to the [documentation][1], you have to add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYour version of Maven comes with a version of `maven-surefire-plugin` which does not support JUnit 5. You could update your Maven to the latest version. You could also set the version of the `maven-surefire-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;!-- JUnit 5 requires Surefire version 2.22.0 or higher --&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSee the [junit5-samples for this information][2].\r\n\r\nSee the [Maven Surefire Plugin][3] artifact in a Maven repository. At version `3.0.0-M3` as of 2019-01.\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n  [2]: https://github.com/junit-team/junit5-samples/blob/r5.3.1/junit5-jupiter-starter-maven/pom.xml\r\n  [3]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin","title":"Maven not running JUnit 5 tests","body":"<p>According to the annotation (<code>import org.junit.jupiter.api.Test</code>), you are trying to run JUnit 5 tests with Maven. According to the <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">documentation</a>, you have to add this dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Your version of Maven comes with a version of <code>maven-surefire-plugin</code> which does not support JUnit 5. You could update your Maven to the latest version. You could also set the version of the <code>maven-surefire-plugin</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;!-- JUnit 5 requires Surefire version 2.22.0 or higher --&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>See the <a href=\"https://github.com/junit-team/junit5-samples/blob/r5.3.1/junit5-jupiter-starter-maven/pom.xml\" rel=\"noreferrer\">junit5-samples for this information</a>.</p>\n\n<p>See the <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin\" rel=\"noreferrer\">Maven Surefire Plugin</a> artifact in a Maven repository. At version <code>3.0.0-M3</code> as of 2019-01.</p>\n"},{"comments":[{"owner":{"account_id":273386,"reputation":667,"user_id":564955,"accept_rate":67,"display_name":"akila"},"score":2,"creation_date":1559282680,"post_id":55389315,"comment_id":99378152,"body_markdown":"+1 for the requirement of junit-vintage to run legacy Junit 3 / 4 tests - had upgraded surefire and junit yet my tests were not getting executed . introducing junit-vintage dependency did the trick","body":"+1 for the requirement of junit-vintage to run legacy Junit 3 / 4 tests - had upgraded surefire and junit yet my tests were not getting executed . introducing junit-vintage dependency did the trick"},{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1664046159,"post_id":55389315,"comment_id":130383649,"body_markdown":"adding the surefire plugin is the *main* thing. The junit dependencies don&#39;t do the job by themselves.","body":"adding the surefire plugin is the <i>main</i> thing. The junit dependencies don&#39;t do the job by themselves."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664062023,"post_id":55389315,"comment_id":130385981,"body_markdown":"@foo Good point. I enhanced that section.","body":"@foo Good point. I enhanced that section."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1664062443,"creation_date":1553740171,"answer_id":55389315,"question_id":53433663,"body_markdown":"# tl;dr\r\n\r\nAdd two dependencies to your project:\r\n\r\n - *JUnit Jupiter (Aggregator)*\r\n - *Maven Surefire Plugin*\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n and:\r\n\r\n```xml\r\n&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n  &lt;type&gt;maven-plugin&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n# `junit-jupiter` &#160;the simpler archetype for JUnit 5\r\n\r\nThe [Answer by LaurentG][1] seems to be correct, but a bit outdated.\r\n\r\nAs of JUnit 5.4, you can **replace those multiple Maven artifacts**:\r\n\r\n - `junit`\r\n - `junit-jupiter-api`\r\n - `junit-jupiter-engine`\r\n\r\nwith a single artifact:\r\n\r\n - [`junit-jupiter`][2]\r\n\r\nto run JUnit 5 tests.\r\n\r\nThis artifact is an aggregate of other artifacts, a convenient wrapper to simplify your POM file. See [this repository](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter). \r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis gives you all you need to write and run JUnit 5 *Jupiter* tests.\r\n\r\n# `maven-surefire-plugin`\r\n\r\nYou would also need the [*Surefire* plugin][5] as shown in that [other Answer][1]. Be sure to get the latest version, as Surefire has had some important fixes/enhancements recently. \r\n\r\nSee [this list][6] of dependency declarations for Maven, Buildr, Ivy, Grape, Grails, SBT, and Leiningen. To quote the Maven config:\r\n\r\n```xml\r\n&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n  &lt;type&gt;maven-plugin&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n# `junit-vintage-engine` for JUnit 3 &amp; 4 tests \r\n\r\nIf you have old JUnit 3 or JUnit 4 [legacy][3] tests that you want to continue to run, add another dependency, [`junit-vintage-engine`][4]. \r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53433724/642706\r\n  [2]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\r\n  [3]: https://en.wikipedia.org/wiki/Legacy_system\r\n  [4]: https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\r\n  [5]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin\r\n  [6]: https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html","title":"Maven not running JUnit 5 tests","body":"<h1>tl;dr</h1>\n<p>Add two dependencies to your project:</p>\n<ul>\n<li><em>JUnit Jupiter (Aggregator)</em></li>\n<li><em>Maven Surefire Plugin</em></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p> and:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\n  &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h1><code>junit-jupiter</code> the simpler archetype for JUnit 5</h1>\n<p>The <a href=\"https://stackoverflow.com/a/53433724/642706\">Answer by LaurentG</a> seems to be correct, but a bit outdated.</p>\n<p>As of JUnit 5.4, you can <strong>replace those multiple Maven artifacts</strong>:</p>\n<ul>\n<li><code>junit</code></li>\n<li><code>junit-jupiter-api</code></li>\n<li><code>junit-jupiter-engine</code></li>\n</ul>\n<p>with a single artifact:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"noreferrer\"><code>junit-jupiter</code></a></li>\n</ul>\n<p>to run JUnit 5 tests.</p>\n<p>This artifact is an aggregate of other artifacts, a convenient wrapper to simplify your POM file. See <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"noreferrer\">this repository</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This gives you all you need to write and run JUnit 5 <em>Jupiter</em> tests.</p>\n<h1><code>maven-surefire-plugin</code></h1>\n<p>You would also need the <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin\" rel=\"noreferrer\"><em>Surefire</em> plugin</a> as shown in that <a href=\"https://stackoverflow.com/a/53433724/642706\">other Answer</a>. Be sure to get the latest version, as Surefire has had some important fixes/enhancements recently.</p>\n<p>See <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html\" rel=\"noreferrer\">this list</a> of dependency declarations for Maven, Buildr, Ivy, Grape, Grails, SBT, and Leiningen. To quote the Maven config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\n  &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h1><code>junit-vintage-engine</code> for JUnit 3 &amp; 4 tests</h1>\n<p>If you have old JUnit 3 or JUnit 4 <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> tests that you want to continue to run, add another dependency, <a href=\"https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\" rel=\"noreferrer\"><code>junit-vintage-engine</code></a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1667332630,"post_id":71236442,"comment_id":131141733,"body_markdown":"Thanks mate! --  I was tearing my hair out over this :(  --- I can&#39;t believe they have **re-introduced** the **stupid** JUnit naming-convention from ages back :((( -- how ridiculous!  :(((","body":"Thanks mate! --  I was tearing my hair out over this :(  --- I can&#39;t believe they have <b>re-introduced</b> the <b>stupid</b> JUnit naming-convention from ages back :((( -- how ridiculous!  :((("},{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1667332814,"post_id":71236442,"comment_id":131141790,"body_markdown":"So, to avoid this bugger, we should always add this now:\n\n&lt;includes&gt;&lt;include&gt;**/*.java&lt;/include&gt;&lt;/includes&gt;","body":"So, to avoid this bugger, we should always add this now:  &lt;includes&gt;&lt;include&gt;**/*.java&lt;/include&gt;&lt;/includes&gt;"}],"tags":[],"owner":{"account_id":4857150,"reputation":11,"user_id":3917797,"display_name":"Milicko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645617132,"creation_date":1645617132,"answer_id":71236442,"question_id":53433663,"body_markdown":"Add &quot;include&quot; in configuration section for maven surfire, your test should end with Test.java and it should work\r\n\r\n\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n","title":"Maven not running JUnit 5 tests","body":"<p>Add &quot;include&quot; in configuration section for maven surfire, your test should end with Test.java and it should work</p>\n<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8536347,"reputation":830,"user_id":6398014,"display_name":"Codigo Morsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650223404,"creation_date":1650223404,"answer_id":71904802,"question_id":53433663,"body_markdown":"I recently discovered that I had to add the prefix &quot;test&quot; on my tests methods in order to get my tests executed by maven.\r\n\r\n    @Test\r\n    public void testStringsAreEqual() {\r\n        var aString = &quot;Walrus Code&quot;;\r\n\r\n        Assertions.assertEquals(aString, &quot;Walrus Code&quot;);\r\n    }\r\n\r\nOtherwise the tests are ignored... This is part of my pom:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.myapp.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Maven not running JUnit 5 tests","body":"<p>I recently discovered that I had to add the prefix &quot;test&quot; on my tests methods in order to get my tests executed by maven.</p>\n<pre><code>@Test\npublic void testStringsAreEqual() {\n    var aString = &quot;Walrus Code&quot;;\n\n    Assertions.assertEquals(aString, &quot;Walrus Code&quot;);\n}\n</code></pre>\n<p>Otherwise the tests are ignored... This is part of my pom:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.myapp.Main&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12524244,"reputation":59,"user_id":9114634,"display_name":"VinjaNinja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650449548,"creation_date":1650449548,"answer_id":71937849,"question_id":53433663,"body_markdown":"In my case, on top of the accepted answer with 2 changes (maven-surefire plugin version and artifacts of org.junit.jupiter), I had to add one more change. (Java version used: 11)\r\n\r\nEven though org.jacoco.agent was a part of my dependencies list, it needed to be added within &lt; dependencyManagement &gt; tag as well. This seemed to have resolved any underlying version/enforced the dependency automatically.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Maven not running JUnit 5 tests","body":"<p>In my case, on top of the accepted answer with 2 changes (maven-surefire plugin version and artifacts of org.junit.jupiter), I had to add one more change. (Java version used: 11)</p>\n<p>Even though org.jacoco.agent was a part of my dependencies list, it needed to be added within &lt; dependencyManagement &gt; tag as well. This seemed to have resolved any underlying version/enforced the dependency automatically.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15955770,"reputation":712,"user_id":11513972,"display_name":"Tristan Elliott"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1650993347,"creation_date":1650993347,"answer_id":72018005,"question_id":53433663,"body_markdown":"- I was having a similar problem where the junit `@Test` annotation would work but not the org.junit.jupiter.api.Test `@Test` annotation.\r\n\r\n### The solution:\r\n- [THIS](https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html) is mavens official guide on how to confugure the `maven-surefire-plugin` and make sure that is uses the proper `junit-jupiter-engine`\r\n\r\n- The guide is a little confusing so, this is how I got it to work\r\n\r\n**1)** add the engine dependency to the dependencies block:\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\n\r\n**2)** add the engine dependency to maven-surefire:\r\n```\r\n&lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.6.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n\r\n```","title":"Maven not running JUnit 5 tests","body":"<ul>\n<li>I was having a similar problem where the junit <code>@Test</code> annotation would work but not the org.junit.jupiter.api.Test <code>@Test</code> annotation.</li>\n</ul>\n<h3>The solution:</h3>\n<ul>\n<li><p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">THIS</a> is mavens official guide on how to confugure the <code>maven-surefire-plugin</code> and make sure that is uses the proper <code>junit-jupiter-engine</code></p>\n</li>\n<li><p>The guide is a little confusing so, this is how I got it to work</p>\n</li>\n</ul>\n<p><strong>1)</strong> add the engine dependency to the dependencies block:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<p><strong>2)</strong> add the engine dependency to maven-surefire:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;5.6.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1673492203,"post_id":73973521,"comment_id":132513237,"body_markdown":"This onw worked for me.","body":"This onw worked for me."}],"tags":[],"owner":{"account_id":8155316,"reputation":51,"user_id":6141095,"display_name":"Cinders"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665058083,"creation_date":1665058083,"answer_id":73973521,"question_id":53433663,"body_markdown":"For me (all tests are using Junit 5) , it was enough to just use version 3.0.0-M7 for surefire plugin in the plugins section. No need to add surefire plugin to dependencies and i only had org.junit.jupiter.junit-jupiter in my dependencies, no other jupiter dependencies. ","title":"Maven not running JUnit 5 tests","body":"<p>For me (all tests are using Junit 5) , it was enough to just use version 3.0.0-M7 for surefire plugin in the plugins section. No need to add surefire plugin to dependencies and i only had org.junit.jupiter.junit-jupiter in my dependencies, no other jupiter dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2917205,"reputation":733,"user_id":2500149,"accept_rate":62,"display_name":"Marcin K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669304822,"creation_date":1669304822,"answer_id":74563283,"question_id":53433663,"body_markdown":"For me not ran tests were due to surefire plugin not being ran at all. This was due to 2 reasons.\r\n\r\n1. I declared sunfire plugin in\r\n\r\n    build-&gt;pluginmanagement-&gt;plugins\r\n    \r\n    instead of just\r\n    \r\n    build-&gt;plugins\r\n\r\n \r\n\r\n2. My &lt;packaging&gt; type was pom instead of jar.\r\n\r\n \r\n\r\n \r\n\r\nI know these might sound like errors done almost on purpose but it was a result of novice maven user creating pom.xml via copy paste from different projects. I also know that my symptoms were different from what author described (plugin not ran at all instead of no tests found) but I believe it fits well to the thread topic and this solution might help some people.","title":"Maven not running JUnit 5 tests","body":"<p>For me not ran tests were due to surefire plugin not being ran at all. This was due to 2 reasons.</p>\n<ol>\n<li><p>I declared sunfire plugin in</p>\n<p>build-&gt;pluginmanagement-&gt;plugins</p>\n<p>instead of just</p>\n<p>build-&gt;plugins</p>\n</li>\n<li><p>My  type was pom instead of jar.</p>\n</li>\n</ol>\n<p>I know these might sound like errors done almost on purpose but it was a result of novice maven user creating pom.xml via copy paste from different projects. I also know that my symptoms were different from what author described (plugin not ran at all instead of no tests found) but I believe it fits well to the thread topic and this solution might help some people.</p>\n"},{"tags":[],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680267643,"creation_date":1680267643,"answer_id":75898848,"question_id":53433663,"body_markdown":"According to the Junit 5 documentation, this is what we need to execute the tests by using `mvn test`:\r\n\r\n```xml\r\n&lt;!-- ... --&gt;\r\n&lt;dependencies&gt;\r\n    &lt;!-- ... --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- ... --&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n&lt;!-- ... --&gt;\r\n```\r\n\r\nSources:\r\n* https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven-engines-configure\r\n* https://github.com/junit-team/junit5-samples/blob/r5.9.2/junit5-jupiter-starter-maven/pom.xml","title":"Maven not running JUnit 5 tests","body":"<p>According to the Junit 5 documentation, this is what we need to execute the tests by using <code>mvn test</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;dependencies&gt;\n    &lt;!-- ... --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.9.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... --&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven-engines-configure\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven-engines-configure</a></li>\n<li><a href=\"https://github.com/junit-team/junit5-samples/blob/r5.9.2/junit5-jupiter-starter-maven/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples/blob/r5.9.2/junit5-jupiter-starter-maven/pom.xml</a></li>\n</ul>\n"}],"owner":{"account_id":1207655,"reputation":2233,"user_id":1176873,"accept_rate":50,"display_name":"mogoli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56689,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":53433724,"answer_count":9,"score":92,"last_activity_date":1693510850,"creation_date":1542898892,"question_id":53433663,"body_markdown":"I&#39;m trying to get a simple junit test running with maven but it is not detecting any tests. Where am I going wrong? The project directory\r\n\r\n    Project -&gt; src -&gt; test-&gt; java -&gt; MyTest.java\r\n\r\nResults :\r\n\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.buildproftest.ecs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;buildprofiletest&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;debug&gt;false&lt;/debug&gt;\r\n    \t\t\t\t\t&lt;optimize&gt;true&lt;/optimize&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nJunit test case\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class MyTest {\r\n        @Test\r\n        public void printTest() {\r\n            System.out.println(&quot;Running JUNIT test&quot;);\r\n        }\r\n    }\r\n\r\nThe response is that there are no test cases to run.\r\n\r\n","title":"Maven not running JUnit 5 tests","body":"<p>I'm trying to get a simple junit test running with maven but it is not detecting any tests. Where am I going wrong? The project directory</p>\n<pre><code>Project -&gt; src -&gt; test-&gt; java -&gt; MyTest.java\n</code></pre>\n<p>Results :</p>\n<pre><code>Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.buildproftest.ecs&lt;/groupId&gt;\n    &lt;artifactId&gt;buildprofiletest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;debug&gt;false&lt;/debug&gt;\n                    &lt;optimize&gt;true&lt;/optimize&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Junit test case</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\npublic class MyTest {\n    @Test\n    public void printTest() {\n        System.out.println(&quot;Running JUNIT test&quot;);\n    }\n}\n</code></pre>\n<p>The response is that there are no test cases to run.</p>\n"},{"tags":["java","hadoop","access-control","java-security"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693510794,"post_id":77018769,"comment_id":135774581,"body_markdown":"I would not put effort into researching it. AccessControlContext is a deprecated class in JDK 17: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/AccessControlContext.html","body":"I would not put effort into researching it. AccessControlContext is a deprecated class in JDK 17: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/AccessControlContext.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/&hellip;</a>"},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1693511521,"post_id":77018769,"comment_id":135774723,"body_markdown":"@aled wow ... dropped without replacement. I wonder how Hadoop can react to this :-&gt;","body":"@aled wow ... dropped without replacement. I wonder how Hadoop can react to this :-&gt;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693512208,"post_id":77018769,"comment_id":135774854,"body_markdown":"I would assume they removed the code that used it, or are planning to do it.","body":"I would assume they removed the code that used it, or are planning to do it."},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1693522219,"post_id":77018769,"comment_id":135776246,"body_markdown":"they can&#39;t, access control is everywhere in HDFS (&amp; other components but they probably won&#39;t matter these days)","body":"they can&#39;t, access control is everywhere in HDFS (&amp; other components but they probably won&#39;t matter these days)"}],"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693510435,"creation_date":1693510435,"question_id":77018769,"body_markdown":"This question is derived from reading Hadoop credential management: In Hadoop 3.3+, function `UserGroupInformation.doAs` can introduce an &quot;execution scope&quot;, that allows some context information to be modified when being called inside the scope:\r\n\r\n```\r\n    import org.apache.hadoop.security.UserGroupInformation\r\n    import java.security.PrivilegedAction\r\n\r\n    val ugi = UserGroupInformation.createUserForTesting(&quot;abc&quot;, Array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\r\n\r\n    val u = UserGroupInformation.getCurrentUser\r\n    println(u)\r\n\r\n    val t1 = Thread.currentThread()\r\n\r\n    val t2 = ugi.doAs {\r\n      new PrivilegedAction[Thread] {\r\n        override def run(): Thread = {\r\n\r\n          val u = UserGroupInformation.getCurrentUser // alternatively, calling it in subroutine won&#39;t change its outcome\r\n          println(u)\r\n\r\n          val t = Thread.currentThread()\r\n\r\n          t\r\n        }\r\n      }\r\n    }\r\n\r\n    assert(t1 == t2)\r\n\r\n/*\r\nexecution result:\r\nos-user (auth:SIMPLE)\r\nabc (auth:SIMPLE)\r\n\r\n*/\r\n```\r\n\r\nIt minimally depends on Java Security, which appears to implement a call-stack based approach and is agnostic to local thread, fibre, or coroutine, as implied in the following Java security implementation:\r\n\r\n```\r\n    public static AccessControlContext getContext()\r\n    {\r\n        AccessControlContext acc = getStackAccessControlContext();\r\n        if (acc == null) {\r\n            // all we had was privileged system code. We don&#39;t want\r\n            // to return null though, so we construct a real ACC.\r\n            return new AccessControlContext(null, true);\r\n        } else {\r\n            return acc.optimize();\r\n        }\r\n    }\r\n```\r\n\r\nFor scoped context information control, this appears to be the most lightweight approach I have seen in any JVM libraries: the underlying function can use any subroutine, without relying on boilerplate function parameter, macro or auto-completion like in alternative implementations (e.g. https://docs.scala-lang.org/scala3/book/ca-contextual-abstractions-intro.html).\r\n\r\nMy question is: Had this approach be used to control other context information? If not, why is it only reserved for Java security?","title":"Can the mechanism of `java.security.AccessControlContext` be generalised to include any context information?","body":"<p>This question is derived from reading Hadoop credential management: In Hadoop 3.3+, function <code>UserGroupInformation.doAs</code> can introduce an &quot;execution scope&quot;, that allows some context information to be modified when being called inside the scope:</p>\n<pre><code>    import org.apache.hadoop.security.UserGroupInformation\n    import java.security.PrivilegedAction\n\n    val ugi = UserGroupInformation.createUserForTesting(&quot;abc&quot;, Array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\n\n    val u = UserGroupInformation.getCurrentUser\n    println(u)\n\n    val t1 = Thread.currentThread()\n\n    val t2 = ugi.doAs {\n      new PrivilegedAction[Thread] {\n        override def run(): Thread = {\n\n          val u = UserGroupInformation.getCurrentUser // alternatively, calling it in subroutine won't change its outcome\n          println(u)\n\n          val t = Thread.currentThread()\n\n          t\n        }\n      }\n    }\n\n    assert(t1 == t2)\n\n/*\nexecution result:\nos-user (auth:SIMPLE)\nabc (auth:SIMPLE)\n\n*/\n</code></pre>\n<p>It minimally depends on Java Security, which appears to implement a call-stack based approach and is agnostic to local thread, fibre, or coroutine, as implied in the following Java security implementation:</p>\n<pre><code>    public static AccessControlContext getContext()\n    {\n        AccessControlContext acc = getStackAccessControlContext();\n        if (acc == null) {\n            // all we had was privileged system code. We don't want\n            // to return null though, so we construct a real ACC.\n            return new AccessControlContext(null, true);\n        } else {\n            return acc.optimize();\n        }\n    }\n</code></pre>\n<p>For scoped context information control, this appears to be the most lightweight approach I have seen in any JVM libraries: the underlying function can use any subroutine, without relying on boilerplate function parameter, macro or auto-completion like in alternative implementations (e.g. <a href=\"https://docs.scala-lang.org/scala3/book/ca-contextual-abstractions-intro.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/scala3/book/ca-contextual-abstractions-intro.html</a>).</p>\n<p>My question is: Had this approach be used to control other context information? If not, why is it only reserved for Java security?</p>\n"},{"tags":["java","angular","gzip","pako"],"owner":{"account_id":6210880,"reputation":21,"user_id":4837199,"display_name":"Ana Bel&#233;n Gonz&#225;lez Villalba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693509842,"creation_date":1693509842,"question_id":77018724,"body_markdown":"This is application in Angular and Java. \r\n\r\nTha angular is compressing the request with pako library, like this :\r\n\r\n      var compressedBody = pako.gzip(JSON.stringify(request.body))\r\n      const clone = request.clone({ headers: request.headers.append(&#39;Content-Encoding&#39;, &#39;gzip&#39;), body: compressedBody });\r\n\r\n\r\n\r\nWhen the Backend is reading the request -&gt; The request is compress but it doesn&#39;t come the \r\nGZIP_MAGIC to identify the body has been request in gzip, so it&#39;s not unzip the request. \r\n\r\nCan anybody know how to send the request in pako that I can receive the GXIP_MAGIC?\r\n\r\nThanks\r\n\r\n    CheckedInputStream in = new CheckedInputStream(this_in, crc);\r\n    crc.reset();\r\n    // Check header magic\r\n    if (readUShort(in) != GZIP_MAGIC) {\r\n        throw new ZipException(&quot;Not in GZIP format&quot;);\r\n    }\r\nreadUShort(in) is 8752 and it should be GZIP_MAGIC=35615\r\n\r\n\r\n\r\n\r\n","title":"How Pako library can gzip a request and send the GZIP_MAGIC that it can identify the request has been compress with gzip","body":"<p>This is application in Angular and Java.</p>\n<p>Tha angular is compressing the request with pako library, like this :</p>\n<pre><code>  var compressedBody = pako.gzip(JSON.stringify(request.body))\n  const clone = request.clone({ headers: request.headers.append('Content-Encoding', 'gzip'), body: compressedBody });\n</code></pre>\n<p>When the Backend is reading the request -&gt; The request is compress but it doesn't come the\nGZIP_MAGIC to identify the body has been request in gzip, so it's not unzip the request.</p>\n<p>Can anybody know how to send the request in pako that I can receive the GXIP_MAGIC?</p>\n<p>Thanks</p>\n<pre><code>CheckedInputStream in = new CheckedInputStream(this_in, crc);\ncrc.reset();\n// Check header magic\nif (readUShort(in) != GZIP_MAGIC) {\n    throw new ZipException(&quot;Not in GZIP format&quot;);\n}\n</code></pre>\n<p>readUShort(in) is 8752 and it should be GZIP_MAGIC=35615</p>\n"},{"tags":["java","spring","unit-testing","mockito","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496158214,"post_id":44265928,"comment_id":75540771,"body_markdown":"Looks like you need to be actually fixing those quirks. Why would loading a completely separate context break other tests ???","body":"Looks like you need to be actually fixing those quirks. Why would loading a completely separate context break other tests ???"},{"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"score":0,"creation_date":1496160368,"post_id":44265928,"comment_id":75542131,"body_markdown":"Basically the project uses Quartz and the test uses Hibernate with a H2 embedded database. When starting, it automatically creates some tables for Quartz through a script. When destroying the contexts, one of them throws an exception because the other one has closed the database already. Not a big deal but it leaves an ugly log and people are not happy about it. I don&#39;t know exactly how to fix it as it&#39;s the close of the contexts that triggers the destruction of the database and I don&#39;t know if I can configure the extra one to avoid it. I thought this approach would be faster","body":"Basically the project uses Quartz and the test uses Hibernate with a H2 embedded database. When starting, it automatically creates some tables for Quartz through a script. When destroying the contexts, one of them throws an exception because the other one has closed the database already. Not a big deal but it leaves an ugly log and people are not happy about it. I don&#39;t know exactly how to fix it as it&#39;s the close of the contexts that triggers the destruction of the database and I don&#39;t know if I can configure the extra one to avoid it. I thought this approach would be faster"},{"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"score":0,"creation_date":1496160619,"post_id":44265928,"comment_id":75542286,"body_markdown":"Apart from that, I&#39;m not familiar with the internals of `@MockBean`. My guess is that it only creates one extra context to hold the mock beans and that it doesn&#39;t keep creating new ones every time a test defines a mock that hasn&#39;t been created already. Is this the case? Because the context creation actually impacts in the time it takes to run the tests because of Hibernate been started up with the sql scripts that the app uses.","body":"Apart from that, I&#39;m not familiar with the internals of <code>@MockBean</code>. My guess is that it only creates one extra context to hold the mock beans and that it doesn&#39;t keep creating new ones every time a test defines a mock that hasn&#39;t been created already. Is this the case? Because the context creation actually impacts in the time it takes to run the tests because of Hibernate been started up with the sql scripts that the app uses."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496166726,"post_id":44265928,"comment_id":75545584,"body_markdown":"It creates a new fresh context based on the mocks and obviously this will impact performance. You can use context hierarchies but not sure how that would work in a Spring Boot environment. But it will only create a new one for this test (the application contexts are cached and reused between tests).   `@MockBean` creates a mock for the bean and integrates more tightly with the context and automatically resets mocks etc.","body":"It creates a new fresh context based on the mocks and obviously this will impact performance. You can use context hierarchies but not sure how that would work in a Spring Boot environment. But it will only create a new one for this test (the application contexts are cached and reused between tests).   <code>@MockBean</code> creates a mock for the bean and integrates more tightly with the context and automatically resets mocks etc."}],"answers":[{"comments":[{"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"score":0,"creation_date":1496160475,"post_id":44266194,"comment_id":75542201,"body_markdown":"I just added an example of the problem. As I said, I can just use `@MockBean` in the test but that would lead to the extra contexts. And I&#39;m also curious of why this happens.","body":"I just added an example of the problem. As I said, I can just use <code>@MockBean</code> in the test but that would lead to the extra contexts. And I&#39;m also curious of why this happens."}],"tags":[],"owner":{"account_id":5461414,"reputation":658,"user_id":4343411,"display_name":"nikita_pavlenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496157835,"creation_date":1496157835,"answer_id":44266194,"question_id":44265928,"body_markdown":"it would be great if you can share your test class.\r\n\r\nAs I understood your problem is that you need to override a bean within your test. \r\n\r\nTo do this you can refer to the following question:\r\n\r\nhttps://stackoverflow.com/questions/28605833/overriding-an-autowired-bean-in-unit-tests","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>it would be great if you can share your test class.</p>\n\n<p>As I understood your problem is that you need to override a bean within your test. </p>\n\n<p>To do this you can refer to the following question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28605833/overriding-an-autowired-bean-in-unit-tests\">Overriding an Autowired Bean in Unit Tests</a></p>\n"},{"comments":[{"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"score":0,"creation_date":1496308040,"post_id":44298448,"comment_id":75611533,"body_markdown":"Interestingly enough, that works but only if I define the mocked version as a bean in the production code with the `@Primary` annotation to be recognised automatically by Spring. If I create a `@Configuration` class in my test folder and the mocked version inside it using `@Bean`, Spring doesn&#39;t even load it. Adding an extra `@Bean` of anything else gets loaded so it&#39;s not that the `@Configuration` class is overlooked. The option of the `BeanPostProcessor` also works.","body":"Interestingly enough, that works but only if I define the mocked version as a bean in the production code with the <code>@Primary</code> annotation to be recognised automatically by Spring. If I create a <code>@Configuration</code> class in my test folder and the mocked version inside it using <code>@Bean</code>, Spring doesn&#39;t even load it. Adding an extra <code>@Bean</code> of anything else gets loaded so it&#39;s not that the <code>@Configuration</code> class is overlooked. The option of the <code>BeanPostProcessor</code> also works."}],"tags":[],"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1496290445,"creation_date":1496290445,"answer_id":44298448,"question_id":44265928,"body_markdown":"Your problem is caused by the fact that FeignClient beans are defined as `primary` like declaring a bean with `@Primary`. So it has a priority over other normal beans. \r\nFrom spring-cloud-netflix 1.3.0 that is included from Dalston release, you can turn off this primary configuration like below.\r\n\r\n    @FeignClient(name = &quot;fooService&quot;, primary = false)\r\n    public interface FooService {\r\n    }\r\n\r\nIf you change your code like above, Mocked bean will be injected into your test.\r\n\r\nOne thing you need to be careful is that `primary` option is used when you are using fallback bean for your FeignClient. If you have fallback bean, you might need to specify FeignClient bean with qualifer to get FeignClient bean over fallback bean. \r\n\r\nI think that another way to inject mocked bean instead of FeignClient bean for the test is using `BeanPostProcessor` something like below.\r\n\r\n    public static class MockProcessor implements BeanPostProcessor {\r\n             : \r\n             :\r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (/* distinguish your target bean */) \r\n                return Mockito.mock(FooService.class);\r\n            return bean;\r\n        }\r\n    }\r\n","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>Your problem is caused by the fact that FeignClient beans are defined as <code>primary</code> like declaring a bean with <code>@Primary</code>. So it has a priority over other normal beans. \nFrom spring-cloud-netflix 1.3.0 that is included from Dalston release, you can turn off this primary configuration like below.</p>\n\n<pre><code>@FeignClient(name = \"fooService\", primary = false)\npublic interface FooService {\n}\n</code></pre>\n\n<p>If you change your code like above, Mocked bean will be injected into your test.</p>\n\n<p>One thing you need to be careful is that <code>primary</code> option is used when you are using fallback bean for your FeignClient. If you have fallback bean, you might need to specify FeignClient bean with qualifer to get FeignClient bean over fallback bean. </p>\n\n<p>I think that another way to inject mocked bean instead of FeignClient bean for the test is using <code>BeanPostProcessor</code> something like below.</p>\n\n<pre><code>public static class MockProcessor implements BeanPostProcessor {\n         : \n         :\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        if (/* distinguish your target bean */) \n            return Mockito.mock(FooService.class);\n        return bean;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5789444,"reputation":373,"user_id":4567511,"accept_rate":67,"display_name":"dnl.re"},"score":0,"creation_date":1599479584,"post_id":51912824,"comment_id":112778728,"body_markdown":"The `@Profile` annotation is also available on method level so that also only specific Beans can be disabled/overwritten.","body":"The <code>@Profile</code> annotation is also available on method level so that also only specific Beans can be disabled/overwritten."}],"tags":[],"owner":{"account_id":968934,"reputation":608,"user_id":991862,"accept_rate":40,"display_name":"Stephan Windm&#252;ller"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534629075,"creation_date":1534629075,"answer_id":51912824,"question_id":44265928,"body_markdown":"The annotation `@EnableFeignClients` will create primary beans for interfaces marked with `@FeignClient` by default. Disabling this for every interface may have side effects, like when there are fallback beans.\r\n\r\nIn order to prevent the creation of the Feign beans in the first place, just move this annotation to a configuration class which is disabled for tests.\r\n\r\n\r\n    @Configuration\r\n    @Profile(&quot;!test&quot;)\r\n    @EnableFeignClients\r\n    public class FeignEnable {\r\n    \r\n    }\r\n\r\nThen annotation your test class with `@ActiveProfiles(&quot;test&quot;)`.","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>The annotation <code>@EnableFeignClients</code> will create primary beans for interfaces marked with <code>@FeignClient</code> by default. Disabling this for every interface may have side effects, like when there are fallback beans.</p>\n\n<p>In order to prevent the creation of the Feign beans in the first place, just move this annotation to a configuration class which is disabled for tests.</p>\n\n<pre><code>@Configuration\n@Profile(\"!test\")\n@EnableFeignClients\npublic class FeignEnable {\n\n}\n</code></pre>\n\n<p>Then annotation your test class with <code>@ActiveProfiles(\"test\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693509794,"creation_date":1693492044,"answer_id":77016786,"question_id":44265928,"body_markdown":"It is a bug and it was fixed in 2.2.3 Feign.","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>It is a bug and it was fixed in 2.2.3 Feign.</p>\n"}],"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7287,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44298448,"answer_count":4,"score":7,"last_activity_date":1693509794,"creation_date":1496157099,"question_id":44265928,"body_markdown":"Is it possible to override a bean created through the `@FeignClient` annotation by just creating a `@Configuration` bean that contains a mocked version of it for testing? \r\n\r\nI&#39;ve already tried it but it seems the `@FeignClient` bean is created last (or so I think) as in my test I always get injected the real version instead of the mocked one. In the same config file I have another bean created without any annotations (apart from `@Component`) mocked the same way by just using the name of the real one and it works perfectly.\r\n\r\nI&#39;ve tried using `@MockBean` to mock it and it works but the project has some quirks on it that make the creation of another Spring context break the tests. \r\n\r\nThanks.\r\n\r\nEDIT. Actually, I just debugged the test and realised that, if I use the same name as the Feign client, the debugger doesn&#39;t even stop in the `@Configuration` bean to create the mocked version. Changing the name to something else it works but it just creates another bean of the same type with the new name. Is there any configuration I&#39;m missing here?\r\n\r\nEDIT 2. This is an example code. Executing this I have that `BarService` is the mocked version but `FooService` is the real one.\r\n\r\n    @FeignClient(name = &quot;fooService&quot;)\r\n    public interface FooService {\r\n    }\r\n\r\n    @Component\r\n    public class BarService {\r\n    }\r\n\r\n    @Configuration\r\n    public class ConfigClass {\r\n\r\n      @Bean\r\n      public FooService fooService() {\r\n        return Mockito.mock(FooService.class);\r\n      }\r\n\r\n      @Bean\r\n      public BarService barService() {\r\n        return Mockito.mock(BarService.class);\r\n      }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @SpringBootTest\r\n    public class TestClass {\r\n\r\n      @Autowired\r\n      private FooService fooService;\r\n\r\n      @Autowired\r\n      private BarService barService;\r\n\r\n      @Test\r\n      public void test() {\r\n        System.out.println(fooService.getClass());\r\n      }\r\n    }","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>Is it possible to override a bean created through the <code>@FeignClient</code> annotation by just creating a <code>@Configuration</code> bean that contains a mocked version of it for testing? </p>\n\n<p>I've already tried it but it seems the <code>@FeignClient</code> bean is created last (or so I think) as in my test I always get injected the real version instead of the mocked one. In the same config file I have another bean created without any annotations (apart from <code>@Component</code>) mocked the same way by just using the name of the real one and it works perfectly.</p>\n\n<p>I've tried using <code>@MockBean</code> to mock it and it works but the project has some quirks on it that make the creation of another Spring context break the tests. </p>\n\n<p>Thanks.</p>\n\n<p>EDIT. Actually, I just debugged the test and realised that, if I use the same name as the Feign client, the debugger doesn't even stop in the <code>@Configuration</code> bean to create the mocked version. Changing the name to something else it works but it just creates another bean of the same type with the new name. Is there any configuration I'm missing here?</p>\n\n<p>EDIT 2. This is an example code. Executing this I have that <code>BarService</code> is the mocked version but <code>FooService</code> is the real one.</p>\n\n<pre><code>@FeignClient(name = \"fooService\")\npublic interface FooService {\n}\n\n@Component\npublic class BarService {\n}\n\n@Configuration\npublic class ConfigClass {\n\n  @Bean\n  public FooService fooService() {\n    return Mockito.mock(FooService.class);\n  }\n\n  @Bean\n  public BarService barService() {\n    return Mockito.mock(BarService.class);\n  }\n\n@RunWith(SpringRunner.class)\n@ActiveProfiles(\"test\")\n@SpringBootTest\npublic class TestClass {\n\n  @Autowired\n  private FooService fooService;\n\n  @Autowired\n  private BarService barService;\n\n  @Test\n  public void test() {\n    System.out.println(fooService.getClass());\n  }\n}\n</code></pre>\n"},{"tags":["java","junit","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":69,"creation_date":1369866431,"post_id":16808343,"comment_id":24256816,"body_markdown":"The javax.mail-api artifact is only good for compiling against.  You actually need to run code, so you need a complete implementation of JavaMail.  Use `&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;`.","body":"The javax.mail-api artifact is only good for compiling against.  You actually need to run code, so you need a complete implementation of JavaMail.  Use <code>&lt;groupId&gt;com.sun.mail&lt;&#47;groupId&gt;&lt;artifactId&gt;javax.mail&lt;&#47;artif&zwnj;&#8203;actId&gt;</code>."},{"owner":{"account_id":1674701,"reputation":3061,"user_id":1540501,"accept_rate":60,"display_name":"ivan.ukr"},"score":4,"creation_date":1611429575,"post_id":16808343,"comment_id":116450685,"body_markdown":"No longer works...\nCould not find com.sun.mail:javax.mail-api:1.6.0.\n     Searched in the following locations:\n       - https://repo.maven.apache.org/maven2/com/sun/mail/javax.mail-api/1.6.0/javax.mail-api-1.6.0.pom\n       - https://jcenter.bintray.com/com/sun/mail/javax.mail-api/1.6.0/javax.mail-api-1.6.0.pom\n       - https://splunk.jfrog.io/splunk/ext-releases-local/com/sun/mail/javax.mail-api/1.6.0/javax.mail-api-1.6.0.pom","body":"No longer works... Could not find com.sun.mail:javax.mail-api:1.6.0.      Searched in the following locations:        - <a href=\"https://repo.maven.apache.org/maven2/com/sun/mail/javax.mail-api/1.6.0/javax.mail-api-1.6.0.pom\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/com/sun/mail/javax.mail-api/1.6&zwnj;&#8203;.0/&hellip;</a>        - <a href=\"https://jcenter.bintray.com/com/sun/mail/javax.mail-api/1.6.0/javax.mail-api-1.6.0.pom\" rel=\"nofollow noreferrer\">jcenter.bintray.com/com/sun/mail/javax.mail-api/1.6.0/&hellip;</a>        - <a href=\"https://splunk.jfrog.io/splunk/ext-releases-local/com/sun/mail/javax.mail-api/1.6.0/javax.mail-api-1.6.0.pom\" rel=\"nofollow noreferrer\">splunk.jfrog.io/splunk/ext-releases-local/com/sun/mail/&hellip;</a>"}],"tags":[],"owner":{"account_id":280699,"reputation":12264,"user_id":576549,"accept_rate":74,"display_name":"Eugene Loy"},"comment_count":2,"down_vote_count":0,"up_vote_count":135,"is_accepted":true,"score":135,"last_activity_date":1505148784,"creation_date":1369814104,"answer_id":16808343,"question_id":16807758,"body_markdown":"`com.sun.mail.util.MailLogger` is part of [JavaMail][1] API. It is already included in EE environment (that&#39;s why you can use it on your live server), but it is not included in SE environment.\r\n\r\n[Oracle docs][2]:   \r\n\r\n&gt; The JavaMail API is available as an optional package for use with Java\r\n&gt; SE platform and is also included in the Java EE platform.\r\n\r\n99% that you run your tests in SE environment which means what you have to bother about adding it manually to your classpath when running tests.\r\n\r\nIf you&#39;re using maven add the following dependency (you might want to change version):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://javaee.github.io/javamail/\r\n  [2]: http://www.oracle.com/technetwork/java/javamail/index.html\r\n","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p><code>com.sun.mail.util.MailLogger</code> is part of <a href=\"https://javaee.github.io/javamail/\" rel=\"noreferrer\">JavaMail</a> API. It is already included in EE environment (that's why you can use it on your live server), but it is not included in SE environment.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javamail/index.html\" rel=\"noreferrer\">Oracle docs</a>:   </p>\n\n<blockquote>\n  <p>The JavaMail API is available as an optional package for use with Java\n  SE platform and is also included in the Java EE platform.</p>\n</blockquote>\n\n<p>99% that you run your tests in SE environment which means what you have to bother about adding it manually to your classpath when running tests.</p>\n\n<p>If you're using maven add the following dependency (you might want to change version):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4190382,"reputation":661,"user_id":3433133,"display_name":"Gaurav B"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421097156,"creation_date":1421064935,"answer_id":27901807,"question_id":16807758,"body_markdown":"Please see http://mvnrepository.com/artifact/javax.mail/mail/, you can download jar or use the maven dependency, depending on your project type. That should pretty much cover it and you won&#39;t get a NoClassDefFoundError exception.","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>Please see <a href=\"http://mvnrepository.com/artifact/javax.mail/mail/\" rel=\"nofollow\">http://mvnrepository.com/artifact/javax.mail/mail/</a>, you can download jar or use the maven dependency, depending on your project type. That should pretty much cover it and you won't get a NoClassDefFoundError exception.</p>\n"},{"comments":[{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":6,"creation_date":1452283124,"post_id":28935760,"comment_id":57116470,"body_markdown":"This also fixes `java.lang.NoClassDefFoundError: com/sun/mail/util/PropUtil` as well as `Could not initialize class javax.mail.internet.InternetAddress` errors.","body":"This also fixes <code>java.lang.NoClassDefFoundError: com&#47;sun&#47;mail&#47;util&#47;PropUtil</code> as well as <code>Could not initialize class javax.mail.internet.InternetAddress</code> errors."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":3,"creation_date":1466204481,"post_id":28935760,"comment_id":63237467,"body_markdown":"It&#39;s explained on the [JavaMail project web page](https://java.net/projects/javamail/pages/Home#Download_JavaMail_Release).","body":"It&#39;s explained on the <a href=\"https://java.net/projects/javamail/pages/Home#Download_JavaMail_Release\" rel=\"nofollow noreferrer\">JavaMail project web page</a>."},{"owner":{"account_id":2391768,"reputation":665,"user_id":2091487,"accept_rate":100,"display_name":"headlikearock"},"score":1,"creation_date":1629302599,"post_id":28935760,"comment_id":121652750,"body_markdown":"THANK YOUx100. That is all.","body":"THANK YOUx100. That is all."}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":3,"down_vote_count":0,"up_vote_count":192,"is_accepted":false,"score":192,"last_activity_date":1583431835,"creation_date":1425879063,"answer_id":28935760,"question_id":16807758,"body_markdown":"The `javax.mail-api` artifact is only good for *compiling* against.\r\n\r\nYou actually need to ***run*** code, so you need a complete *implementation* of JavaMail API. Use this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNOTE: The version number will probably differ. Check the latest version [here][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.mail/javax.mail","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>The <code>javax.mail-api</code> artifact is only good for <em>compiling</em> against.</p>\n\n<p>You actually need to <strong><em>run</em></strong> code, so you need a complete <em>implementation</em> of JavaMail API. Use this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>NOTE: The version number will probably differ. Check the latest version <a href=\"https://mvnrepository.com/artifact/com.sun.mail/javax.mail\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":11,"creation_date":1452286130,"post_id":30231027,"comment_id":57118106,"body_markdown":"You don&#39;t need to include the api if you have the implementation.","body":"You don&#39;t need to include the api if you have the implementation."},{"owner":{"account_id":272579,"reputation":5635,"user_id":563744,"accept_rate":83,"display_name":"Peter"},"score":1,"creation_date":1466190629,"post_id":30231027,"comment_id":63232078,"body_markdown":"Good point @GlenPeterson, I didn&#39;t realise that from the solution above but when I looked into the com.sun.mail jar the javax.mail api is included in it.","body":"Good point @GlenPeterson, I didn&#39;t realise that from the solution above but when I looked into the com.sun.mail jar the javax.mail api is included in it."}],"tags":[],"owner":{"account_id":1329067,"reputation":1981,"user_id":1273319,"accept_rate":92,"display_name":"Shane Rowatt"},"comment_count":2,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1465084940,"creation_date":1431586029,"answer_id":30231027,"question_id":16807758,"body_markdown":"I use the following maven dependencies to get java mail working. The first one includes the javax.mail API (with no implementation) and the second one is the SUN implementation of the javax.mail API.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>I use the following maven dependencies to get java mail working. The first one includes the javax.mail API (with no implementation) and the second one is the SUN implementation of the javax.mail API.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2545071,"reputation":6074,"user_id":2210035,"display_name":"Carlos Rafael Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445372979,"creation_date":1445372979,"answer_id":33246264,"question_id":16807758,"body_markdown":"It happens also if your code is expecting Java Mail 1.4 and your jars are Java Mail 1.3. Happened to me when upgraded Pentaho Kettle\r\n\r\nRegards","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>It happens also if your code is expecting Java Mail 1.4 and your jars are Java Mail 1.3. Happened to me when upgraded Pentaho Kettle</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":3361884,"reputation":5549,"user_id":2823516,"accept_rate":86,"display_name":"Joaquin Iurchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464783769,"creation_date":1464783769,"answer_id":37568545,"question_id":16807758,"body_markdown":"Download this JAR and add it to your libraries: http://java.net/projects/javamail/downloads/download/javax.mail.jar","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>Download this JAR and add it to your libraries: <a href=\"http://java.net/projects/javamail/downloads/download/javax.mail.jar\" rel=\"nofollow\">http://java.net/projects/javamail/downloads/download/javax.mail.jar</a></p>\n"},{"tags":[],"owner":{"account_id":6881809,"reputation":468,"user_id":5288292,"accept_rate":77,"display_name":"Resul Rzaeeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516900670,"creation_date":1516900670,"answer_id":48448554,"question_id":16807758,"body_markdown":"Really it&#39;s interesting. You need just use  javax-mail.jar of &quot;com.sun&quot;  not &quot;javax.mail&quot;.  \r\n[dwonload com.sun mail jar][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.mail/javax.mail","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>Really it's interesting. You need just use  javax-mail.jar of \"com.sun\"  not \"javax.mail\".<br>\n<a href=\"https://mvnrepository.com/artifact/com.sun.mail/javax.mail\" rel=\"nofollow noreferrer\">dwonload com.sun mail jar</a></p>\n"},{"tags":[],"owner":{"account_id":11824738,"reputation":3658,"user_id":8652920,"display_name":"notacorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617773711,"creation_date":1617773711,"answer_id":66980102,"question_id":16807758,"body_markdown":"I solved this by uninstalling\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand installing\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou **cannot** use these two packages together as they incur a `java.lang.module.ResolutionException` - there is some sort of conflict with JUnit packages.\r\n\r\nIf you&#39;re curious about my versions,\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>I solved this by uninstalling</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and installing</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You <strong>cannot</strong> use these two packages together as they incur a <code>java.lang.module.ResolutionException</code> - there is some sort of conflict with JUnit packages.</p>\n<p>If you're curious about my versions,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2551467,"reputation":1805,"user_id":2215139,"accept_rate":61,"display_name":"user2215139"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169765,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":16808343,"answer_count":8,"score":159,"last_activity_date":1693509692,"creation_date":1369811928,"question_id":16807758,"body_markdown":"I am using Java Mail API to read and parse emails. It is working fine with Servlet code.\r\n\r\nNow I am trying to write a JUnit test case for the same purpose. But on line  `Session session = Session.getDefaultInstance(properties);` I am getting the following exception:\r\n\r\n    java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger\r\n    \tat javax.mail.Session.initLogger(Session.java:227)\r\n    \tat javax.mail.Session.&lt;init&gt;(Session.java:212)\r\n    \tat javax.mail.Session.getDefaultInstance(Session.java:315)\r\n    \tat javax.mail.Session.getDefaultInstance(Session.java:355)\r\n    \tat com.vxl.appanalytix.dataload.fromEmail.EmailParser.parseEmailSubject(EmailParser.java:44)\r\n    \tat com.vxl.appanalytix.controllers.controllerClasses.GenericEmailServiceClass.readEmailAttachments(GenericEmailServiceClass.java:33)\r\n    \tat com.vxl.appanalytix.dataload.GenericEmailTestCase.test(GenericEmailTestCase.java:42)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.mail.util.MailLogger\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \t... 35 more\r\n       \r\nCan anyone tell me where I am going wrong.","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>I am using Java Mail API to read and parse emails. It is working fine with Servlet code.</p>\n\n<p>Now I am trying to write a JUnit test case for the same purpose. But on line  <code>Session session = Session.getDefaultInstance(properties);</code> I am getting the following exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger\n    at javax.mail.Session.initLogger(Session.java:227)\n    at javax.mail.Session.&lt;init&gt;(Session.java:212)\n    at javax.mail.Session.getDefaultInstance(Session.java:315)\n    at javax.mail.Session.getDefaultInstance(Session.java:355)\n    at com.vxl.appanalytix.dataload.fromEmail.EmailParser.parseEmailSubject(EmailParser.java:44)\n    at com.vxl.appanalytix.controllers.controllerClasses.GenericEmailServiceClass.readEmailAttachments(GenericEmailServiceClass.java:33)\n    at com.vxl.appanalytix.dataload.GenericEmailTestCase.test(GenericEmailTestCase.java:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.ClassNotFoundException: com.sun.mail.util.MailLogger\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    ... 35 more\n</code></pre>\n\n<p>Can anyone tell me where I am going wrong.</p>\n"},{"tags":["java","java-11","java-17","java-module"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693559070,"post_id":77018373,"comment_id":135780045,"body_markdown":"Theres some confusion about the terms on your side. An application can be non-modular and/or monolithic without specifying these options. These `--add-opens` options are only necessary if you hack into the internals of the specified package using deep reflection. If you really need *all of them*, your application is not non-modular or monolithic but a horrible hack. And you cant say you ported applications to a newer Java if you just run them on the newer Java but rely on internals which can change in every minor update.","body":"Theres some confusion about the terms on your side. An application can be non-modular and/or monolithic without specifying these options. These <code>--add-opens</code> options are only necessary if you hack into the internals of the specified package using deep reflection. If you really need <i>all of them</i>, your application is not non-modular or monolithic but a horrible hack. And you cant say you ported applications to a newer Java if you just run them on the newer Java but rely on internals which can change in every minor update."},{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1693562331,"post_id":77018373,"comment_id":135780701,"body_markdown":"It&#39;s a large system I&#39;m currently working on as contractor, 99.99% is not my code. Its core dates back to 1995. Most add-opens are needed for introspection done by serialization frameworks. I had to fix several direct calls to internal JDK APIs, luckily there were only a few. There are several external libraries we have no source code for from internal teams no longer existing. Challenging job. I like it :)","body":"It&#39;s a large system I&#39;m currently working on as contractor, 99.99% is not my code. Its core dates back to 1995. Most add-opens are needed for introspection done by serialization frameworks. I had to fix several direct calls to internal JDK APIs, luckily there were only a few. There are several external libraries we have no source code for from internal teams no longer existing. Challenging job. I like it :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693565166,"post_id":77018373,"comment_id":135781196,"body_markdown":"Serialization frameworks might sound like legitimate use cases but still are fragile and creating version dependencies when theyre accessing internals of the core Java classes. It also begs the question why you are updating the Java version when keeping the application code and the frameworks (and all of their ticking time bombs) in the state of 1995 is considered fine. By the way, the first Java version was released in 1996 and had only eight packages. Adding an `--add-opens ` for all of them wouldnt be too hard, but I doubt that code relying on the 1.0 internal form still works.","body":"Serialization frameworks might sound like legitimate use cases but still are fragile and creating version dependencies when theyre accessing internals of the core Java classes. It also begs the question why you are updating the Java version when keeping the application code and the frameworks (and all of their ticking time bombs) in the state of 1995 is considered fine. By the way, the first Java version was released in 1996 and had only eight packages. Adding an <code>--add-opens </code> for all of them wouldnt be too hard, but I doubt that code relying on the 1.0 internal form still works."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693509399,"creation_date":1693509399,"answer_id":77018687,"question_id":77018373,"body_markdown":"If you are producing an executable jar file, you could use the `Add-Opens` manifest attribute. When running the app using `java -jar &lt;jar file&gt;` that should avoid having to pass all the flags. See: https://openjdk.org/jeps/261#Packaging:-Modular-JAR-files\r\n\r\nThe `java` executable also supports expanding command line flags from a file using `@`:\r\n\r\n    java @options org.main.Main\r\n\r\nThe lines in the `options` file will be &#39;expanded&#39; into the command line. So, you could put the needed options into a file that you add to the project, and then use it with `@`. I&#39;m not sure if your IDE will support that though (though, arguably you could also check your IDE run configuration into the project).\r\n\r\nIn general though, you should try to reduce the reflective access to JDK internals, so that you don&#39;t need these flags in the first place. This will also give you better portability between JDK versions.","title":"Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?","body":"<p>If you are producing an executable jar file, you could use the <code>Add-Opens</code> manifest attribute. When running the app using <code>java -jar &lt;jar file&gt;</code> that should avoid having to pass all the flags. See: <a href=\"https://openjdk.org/jeps/261#Packaging:-Modular-JAR-files\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/261#Packaging:-Modular-JAR-files</a></p>\n<p>The <code>java</code> executable also supports expanding command line flags from a file using <code>@</code>:</p>\n<pre><code>java @options org.main.Main\n</code></pre>\n<p>The lines in the <code>options</code> file will be 'expanded' into the command line. So, you could put the needed options into a file that you add to the project, and then use it with <code>@</code>. I'm not sure if your IDE will support that though (though, arguably you could also check your IDE run configuration into the project).</p>\n<p>In general though, you should try to reduce the reflective access to JDK internals, so that you don't need these flags in the first place. This will also give you better portability between JDK versions.</p>\n"}],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693509399,"creation_date":1693506114,"question_id":77018373,"body_markdown":"Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?\r\n\r\nTo make our venerable monolithic application make to run on Java 11 and Java 17, I had to add several --add-opens. I would like to keep the application non-modular/monolithic for the time being. \r\n\r\nTo make it run I have to add a rather lengthy list of --add-opens to our already long list of VM parameters. Example:\r\n```\r\n--add-opens java.base/java.lang=ALL-UNNAMED\r\n--add-opens java.base/java.util=ALL-UNNAMED\r\n--add-opens java.base/java.net=ALL-UNNAMED\r\n--add-opens java.base/java.io=ALL-UNNAMED\r\n--add-opens java.base/java.text=ALL-UNNAMED\r\n--add-opens java.base/java.time=ALL-UNNAMED\r\n--add-opens java.desktop/java.awt=ALL-UNNAMED\r\n--add-opens java.desktop/java.swing=ALL-UNNAMED\r\n--add-opens java.desktop/java.swing.table=ALL-UNNAMED\r\n--add-opens java.desktop/java.swing.plaf.basic=ALL-UNNAMED\r\n...\r\n```\r\n  \r\nAnd the list goes on and on. It works, but it&#39;s unwieldy. We already have many command line parameters, VM and program arguments. I&#39;m afraid we can hit CLI limits at some point somewhere. All those arguments also make it more fiddly to start the app from an IDE.  \r\n\r\nIs there an alternative?  \r\nI there something like module-info.java file to declare openings globally, for non-modular project? A file I can keep inside project, inside produced JAR?\r\n","title":"Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?","body":"<p>Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?</p>\n<p>To make our venerable monolithic application make to run on Java 11 and Java 17, I had to add several --add-opens. I would like to keep the application non-modular/monolithic for the time being.</p>\n<p>To make it run I have to add a rather lengthy list of --add-opens to our already long list of VM parameters. Example:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens java.base/java.net=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n--add-opens java.base/java.text=ALL-UNNAMED\n--add-opens java.base/java.time=ALL-UNNAMED\n--add-opens java.desktop/java.awt=ALL-UNNAMED\n--add-opens java.desktop/java.swing=ALL-UNNAMED\n--add-opens java.desktop/java.swing.table=ALL-UNNAMED\n--add-opens java.desktop/java.swing.plaf.basic=ALL-UNNAMED\n...\n</code></pre>\n<p>And the list goes on and on. It works, but it's unwieldy. We already have many command line parameters, VM and program arguments. I'm afraid we can hit CLI limits at some point somewhere. All those arguments also make it more fiddly to start the app from an IDE.</p>\n<p>Is there an alternative?<br />\nI there something like module-info.java file to declare openings globally, for non-modular project? A file I can keep inside project, inside produced JAR?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":3,"creation_date":1692993692,"post_id":76980183,"comment_id":135706079,"body_markdown":"I guess you can use the [`CriteriaBuilder`](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html).","body":"I guess you can use the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\"><code>CriteriaBuilder</code></a>."},{"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"score":2,"creation_date":1692994161,"post_id":76980183,"comment_id":135706160,"body_markdown":"ugh, of course.. how did i forget this;;; thanks!","body":"ugh, of course.. how did i forget this;;; thanks!"}],"answers":[{"tags":[],"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693509306,"creation_date":1693507127,"answer_id":77018488,"question_id":76980183,"body_markdown":"quick solution using predicates:\r\n\r\n```java\r\nCriteriaBuilder cb = this.em.getCriteriaBuilder();\r\nCriteriaQuery&lt;UserEntity&gt; cq = cb.createQuery(UserEntity.class);\r\nRoot&lt;UserEntity&gt; root = cq.from(UserEntity.class);\r\nList&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\r\nif (StringUtils.isNotBlank(email)) {\r\n    predicateList.add(cb.like(cb.lower(root.get(&quot;email&quot;)), email.toLowerCase() + &quot;%&quot;));\r\n}\r\nquery = this.em.createQuery(cq.where(cb.or((Predicate[])predicateList.toArray(new Predicate[0]))));\r\n```\r\n\r\nnote the &#39;new predicate[0]&#39;. predicate[]::new doesnt work.","title":"In spring jpa, Is there a method to detect optional params for query?","body":"<p>quick solution using predicates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder cb = this.em.getCriteriaBuilder();\nCriteriaQuery&lt;UserEntity&gt; cq = cb.createQuery(UserEntity.class);\nRoot&lt;UserEntity&gt; root = cq.from(UserEntity.class);\nList&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\nif (StringUtils.isNotBlank(email)) {\n    predicateList.add(cb.like(cb.lower(root.get(&quot;email&quot;)), email.toLowerCase() + &quot;%&quot;));\n}\nquery = this.em.createQuery(cq.where(cb.or((Predicate[])predicateList.toArray(new Predicate[0]))));\n</code></pre>\n<p>note the 'new predicate[0]'. predicate[]::new doesnt work.</p>\n"}],"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018488,"answer_count":1,"score":0,"last_activity_date":1693509306,"creation_date":1692993380,"question_id":76980183,"body_markdown":"Suppose I have a search form with 3 fields(first/last/email). The search would search for for records with first/last/email if the param exist. \r\n\r\nI could do something like this:\r\n\r\n\r\n```\r\nif (email &amp; first &amp; last) useMethodThatSearchFistLastEmail\r\nelse if (email &amp; first)\r\nelse if (email &amp; last)\r\nelse if (first &amp; last)\r\nelse if (first)\r\nelse if (last)\r\nelse if (email)\r\n```\r\n\r\nbut that&#39;s just bad.\r\n\r\nI could also use native query and append where clause. \r\n\r\nIs there a way to do this in JPA?","title":"In spring jpa, Is there a method to detect optional params for query?","body":"<p>Suppose I have a search form with 3 fields(first/last/email). The search would search for for records with first/last/email if the param exist.</p>\n<p>I could do something like this:</p>\n<pre><code>if (email &amp; first &amp; last) useMethodThatSearchFistLastEmail\nelse if (email &amp; first)\nelse if (email &amp; last)\nelse if (first &amp; last)\nelse if (first)\nelse if (last)\nelse if (email)\n</code></pre>\n<p>but that's just bad.</p>\n<p>I could also use native query and append where clause.</p>\n<p>Is there a way to do this in JPA?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1386284109,"post_id":20412456,"comment_id":30485666,"body_markdown":"Have you tried to find the element using `XPath`?","body":"Have you tried to find the element using <code>XPath</code>?"},{"owner":{"account_id":799354,"reputation":2495,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"score":0,"creation_date":1386284211,"post_id":20412456,"comment_id":30485703,"body_markdown":"Nope. Let me try that.","body":"Nope. Let me try that."},{"owner":{"account_id":2078887,"reputation":147889,"user_id":1906307,"accept_rate":67,"display_name":"Louis"},"score":0,"creation_date":1386288300,"post_id":20412456,"comment_id":30487159,"body_markdown":"Did you try increasing Selenium&#39;s implicit wait time or (my preferred approach to diagnose issues like yours) did you just add a sleep before trying to find the element? I could be that your script is trying to find it before it shows up.","body":"Did you try increasing Selenium&#39;s implicit wait time or (my preferred approach to diagnose issues like yours) did you just add a sleep before trying to find the element? I could be that your script is trying to find it before it shows up."}],"answers":[{"comments":[{"owner":{"account_id":799354,"reputation":2495,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"score":0,"creation_date":1386284815,"post_id":20412531,"comment_id":30485948,"body_markdown":"I am getting an error Unable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;Value of ID&quot;}","body":"I am getting an error Unable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;Value of ID&quot;}"},{"owner":{"account_id":2457423,"reputation":3216,"user_id":2491792,"display_name":"Faiz"},"score":0,"creation_date":1386285598,"post_id":20412531,"comment_id":30486227,"body_markdown":"Share the HTML for the element you are trying to identify, what is the actual id.","body":"Share the HTML for the element you are trying to identify, what is the actual id."},{"owner":{"account_id":799354,"reputation":2495,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"score":0,"creation_date":1386285749,"post_id":20412531,"comment_id":30486283,"body_markdown":"&lt;select id=&quot;listofnames&quot;&gt;\n\n    &lt;option value=&quot;Name1&quot;&gt;Name1&lt;/option&gt;   &lt;option value=&quot;Name2&quot;&gt;Name2&lt;/option&gt;\n\n&lt;/select&gt;","body":"&lt;select id=&quot;listofnames&quot;&gt;      &lt;option value=&quot;Name1&quot;&gt;Name1&lt;/option&gt;   &lt;option value=&quot;Name2&quot;&gt;Name2&lt;/option&gt;  &lt;/select&gt;"},{"owner":{"account_id":799354,"reputation":2495,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"score":0,"creation_date":1386285856,"post_id":20412531,"comment_id":30486331,"body_markdown":"Note: If got this html using firebug, if I try to view source I am not seeing the html since its coming from a template.","body":"Note: If got this html using firebug, if I try to view source I am not seeing the html since its coming from a template."},{"owner":{"account_id":2457423,"reputation":3216,"user_id":2491792,"display_name":"Faiz"},"score":0,"creation_date":1386286220,"post_id":20412531,"comment_id":30486456,"body_markdown":"Yes, firebug is the right way to check. Also check in firebug if the element is within an iframe.","body":"Yes, firebug is the right way to check. Also check in firebug if the element is within an iframe."},{"owner":{"account_id":799354,"reputation":2495,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"score":0,"creation_date":1386286728,"post_id":20412531,"comment_id":30486649,"body_markdown":"Nope it is not within an iFrame.","body":"Nope it is not within an iFrame."}],"tags":[],"owner":{"account_id":2457423,"reputation":3216,"user_id":2491792,"display_name":"Faiz"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386287230,"creation_date":1386284213,"answer_id":20412531,"question_id":20412456,"body_markdown":"What you get is a `NoSuchElementException` when WebDriver cannot find the element based on your selection criteria.\r\n\r\nEnsure that the WebElement can be located correctly using `id` or another selector. If the `select` element is inside an `iframe`, you will have to switch to it first using [`driver.switchTo().frame()`] (http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html).\r\n\r\nAlso, you cannot cast `WebElement` to `Select`.\r\n\r\nUse:\r\n\r\n    WebElement elem = driver.findElement(By.id(&quot;listofnames&quot;));\r\n    Select select = new Select(elem);\r\n    select.selectByValue(&quot;Name1&quot;);","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>What you get is a <code>NoSuchElementException</code> when WebDriver cannot find the element based on your selection criteria.</p>\n\n<p>Ensure that the WebElement can be located correctly using <code>id</code> or another selector. If the <code>select</code> element is inside an <code>iframe</code>, you will have to switch to it first using [<code>driver.switchTo().frame()</code>] (<a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html\" rel=\"nofollow\">http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html</a>).</p>\n\n<p>Also, you cannot cast <code>WebElement</code> to <code>Select</code>.</p>\n\n<p>Use:</p>\n\n<pre><code>WebElement elem = driver.findElement(By.id(\"listofnames\"));\nSelect select = new Select(elem);\nselect.selectByValue(\"Name1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2781896,"reputation":382,"user_id":2394276,"accept_rate":100,"display_name":"Louise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394194117,"creation_date":1394194117,"answer_id":22249707,"question_id":20412456,"body_markdown":"This works for me:\r\n\r\n    String Xcode =  &quot;//li[@class=&#39;dropdown&#39;]/a&quot;; //&lt;-your xpath here\t\r\n    WebElement CourseSelector = driver.findElement(By.xpath(Xcode));\r\n    CourseSelector.click();\r\n    try {Thread.sleep(3000);} // o&amp;c - GIVES TIME FOR ITEMS TO APPEAR\r\n        catch (InterruptedException wtv)\t\r\n        {System.out.println(&quot;problem on wait with resource load&quot; + wtv);\t} \r\n    Xcode =  &quot;//ul/li/a[text()=&#39;&quot; + Your_Menu_Item_Here + &quot;&#39;]&quot;;\t// &lt;- again your xpath here\r\n    CourseSelector = driver.findElement(By.xpath(Xcode));\r\n    CourseSelector.click();","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>This works for me:</p>\n\n<pre><code>String Xcode =  \"//li[@class='dropdown']/a\"; //&lt;-your xpath here    \nWebElement CourseSelector = driver.findElement(By.xpath(Xcode));\nCourseSelector.click();\ntry {Thread.sleep(3000);} // o&amp;c - GIVES TIME FOR ITEMS TO APPEAR\n    catch (InterruptedException wtv)    \n    {System.out.println(\"problem on wait with resource load\" + wtv);    } \nXcode =  \"//ul/li/a[text()='\" + Your_Menu_Item_Here + \"']\"; // &lt;- again your xpath here\nCourseSelector = driver.findElement(By.xpath(Xcode));\nCourseSelector.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158871,"reputation":1,"user_id":3409383,"display_name":"Jatin A. Bagadade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394607928,"creation_date":1394607928,"answer_id":22344257,"question_id":20412456,"body_markdown":"Select dropdown1;\r\n\t\t\r\n\t\tdropdown2 = new Select (mozila.findElement(By.id(&quot;of the dropdown1&quot;))); \r\n                \r\n                dropdown2.selectByValue(&quot;9&quot;);\r\n\t\t\r\n        \r\nSelect dropdown2;\r\n        \r\n        dropdown2 = new Select (mozila.findElement(By.id(&quot;of the dropdown2&quot;)));  \r\n              \r\n        dropdown3.selectByValue(&quot;2018&quot;);","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>Select dropdown1;</p>\n\n<pre><code>    dropdown2 = new Select (mozila.findElement(By.id(\"of the dropdown1\"))); \n\n            dropdown2.selectByValue(\"9\");\n</code></pre>\n\n<p>Select dropdown2;</p>\n\n<pre><code>    dropdown2 = new Select (mozila.findElement(By.id(\"of the dropdown2\")));  \n\n    dropdown3.selectByValue(\"2018\");\n</code></pre>\n"}],"owner":{"account_id":799354,"reputation":2495,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693508630,"creation_date":1386283913,"question_id":20412456,"body_markdown":"I have a login page. In my test case I am able to login with the credentials but once I have logged in I am trying to select item from drop down list. I have the below code but I am getting an error \r\n\r\n    Select select = (Select) driver.findElement(By.id(&quot;Id goes here&quot;));\r\n    \t\tselect.selectByValue(&quot;Value Goes here&quot;);\r\n\r\nI am getting the below error \r\nUnable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;Value of Id&quot;}\r\n\r\nNote: the URL to login is different than the one on which select box is appearing. Can that be a problem? Is there a way to resolve it?","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>I have a login page. In my test case I am able to login with the credentials but once I have logged in I am trying to select item from drop down list. I have the below code but I am getting an error </p>\n\n<pre><code>Select select = (Select) driver.findElement(By.id(\"Id goes here\"));\n        select.selectByValue(\"Value Goes here\");\n</code></pre>\n\n<p>I am getting the below error \nUnable to locate element: {\"method\":\"id\",\"selector\":\"Value of Id\"}</p>\n\n<p>Note: the URL to login is different than the one on which select box is appearing. Can that be a problem? Is there a way to resolve it?</p>\n"},{"tags":["java","jenkins","cicd","veracode"],"answers":[{"tags":[],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693498055,"creation_date":1693498055,"answer_id":77017584,"question_id":76993765,"body_markdown":"It turns out that the actual error was that Veracode was not able to find the artifact to scan as it didn&#39;t exist.\r\n\r\nThe Jenkins pipeline in question builds several artifacts and only checkes 1, it builds 3 artifacts for different country/language combinations -- it&#39;s an old application the includes different property files during the build for each country/language combination :/","title":"The Veracode Scan plugin fails due to -filepath is required with no way to set it","body":"<p>It turns out that the actual error was that Veracode was not able to find the artifact to scan as it didn't exist.</p>\n<p>The Jenkins pipeline in question builds several artifacts and only checkes 1, it builds 3 artifacts for different country/language combinations -- it's an old application the includes different property files during the build for each country/language combination :/</p>\n"}],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017584,"answer_count":1,"score":0,"last_activity_date":1693507859,"creation_date":1693233409,"question_id":76993765,"body_markdown":"Running a Jenkins file using the Veracode plugin to perform an Upload and Scan with Veracode Pipeline, using the recommended snippet generated by the Snippet Generator fails due to:\r\n\r\n&gt; Parsing error(s):  \r\n-filepath is required for the selected action.\r\n \r\n\r\nI even tried adding `filePath` as a parameter and that does not add filepath to the arguments and also fails:\r\n \r\n\r\n    withCredentials([usernamePassword(credentialsId: &#39;veracode-credentials&#39;, passwordVariable: &#39;veracode_password&#39;, usernameVariable: &#39;vercode_api_key&#39;)]) {\r\n         veracode applicationName: VERACODE_NAME, canFailJob: true,\r\n         waitForScan: true, unstableBuild: true, createSandbox: true,\r\n         debug: true, deleteIncompleteScanLevel: &#39;0&#39;,\r\n         criticality: &#39;Medium&#39;, fileNamePattern: &#39;&#39;,\r\n         replacementPattern: &#39;&#39;,\r\n         sandboxName: &quot;${POM_ARTIFACTID}-${params.ENV}&quot;,\r\n         scanName: &quot;${VERSION}${REVISION}-${ENV_US_EN}&quot;,\r\n         teams: &#39;Data-Survey/Compiled&#39;,\r\n         uploadIncludesPattern: &quot;**/**-${ENV_US_EN}.war&quot;,\r\n         scanExcludesPattern: &#39;&#39;, scanIncludesPattern: &#39;&#39;,\r\n         filePath: &quot;{$env.WORKSPACE}&quot;, useProxy: true,\r\n         vid: vercode_api_key, vkey: veracode_password\r\n     }\r\n\r\n \r\n&gt; WARNING: Unknown parameter(s) found for class type  \r\n &#39;com.veracode.jenkins.plugin.VeracodePipelineRecorder&#39;: filePath  \r\n&gt; \\------------------------------------------------------------------------  \r\nUpload and Scan with Veracode Pipeline  \r\n\\------------------------------------------------------------------------  \r\n&gt;\r\n&gt; [Debug mode is on]  \r\n&gt;\r\n&gt; Can Fail Job: true  \r\n&gt;\r\n&gt;Show Unstable Status for Failed Policy Evaluation: true\r\n&gt; \r\n&gt; Version information:  \r\nVeracodeJavaAPI v23.4.11.2 cUnknown  \r\n&gt;\r\n&gt; HPI location: var/lib/jenkins/plugins/veracode-scan/WEB-INF/lib/veracode-scan.jarProcessing files in [local] workspace:  \r\n /local2/jenkins/workspace/SVWebAppBuilding arguments. Calling wrapper with arguments:\r\n[-action, UploadAndScan, -vid, ********, -vkey, ********, -phost, ********, -pport, ********, -appname, Shoppers Voice (ICOM), -createprofile, false, -teams, Data-Survey/Compiled, -criticality, Medium, -sandboxname, SVWebApp-DEV, -createsandbox, true, -version, 2.0-SNAPSHOT-us_en_dev, -autoscan, true, -deleteincompletescan, 0, -maxretrycount, 5, -debug, -useragent, VeracodeScanJenkins/23.7.22.0 (Jenkins/2.401.3; Java/Unknown)]\r\n&gt;\r\n&gt; VeracodeJavaAPI v23.4.11.2 cUnknown  \r\n&gt; \r\n&gt; Parsing error(s):  \r\n-filepath is required for the selected action.  \r\n&gt;\r\n&gt; The following parameters are optional for the selected action:  \r\n-autorecreate -exclude  \r\n-format -include  \r\n-includenewmodules -inputfilepath  \r\n-logfilepath -pattern  \r\n-ppassword -puser  \r\n-replacement -sandboxid  \r\n-scanallnonfataltoplevelmodules -scanpollinginterval  \r\n-scantimeout -selected  \r\n-selectedpreviously -toplevel  \r\n&gt;\r\n&gt; [2023.08.24 13:26:00.499] Invalid input\r\n&gt;\r\n&gt; Error- Returned code from wrapper:1\r\n\r\nDoes anyone know how to resolve this?\r\nHowever, it looks like a bug in the plugin to me :(","title":"The Veracode Scan plugin fails due to -filepath is required with no way to set it","body":"<p>Running a Jenkins file using the Veracode plugin to perform an Upload and Scan with Veracode Pipeline, using the recommended snippet generated by the Snippet Generator fails due to:</p>\n<blockquote>\n<p>Parsing error(s):<br />\n-filepath is required for the selected action.</p>\n</blockquote>\n<p>I even tried adding <code>filePath</code> as a parameter and that does not add filepath to the arguments and also fails:</p>\n<pre><code>withCredentials([usernamePassword(credentialsId: 'veracode-credentials', passwordVariable: 'veracode_password', usernameVariable: 'vercode_api_key')]) {\n     veracode applicationName: VERACODE_NAME, canFailJob: true,\n     waitForScan: true, unstableBuild: true, createSandbox: true,\n     debug: true, deleteIncompleteScanLevel: '0',\n     criticality: 'Medium', fileNamePattern: '',\n     replacementPattern: '',\n     sandboxName: &quot;${POM_ARTIFACTID}-${params.ENV}&quot;,\n     scanName: &quot;${VERSION}${REVISION}-${ENV_US_EN}&quot;,\n     teams: 'Data-Survey/Compiled',\n     uploadIncludesPattern: &quot;**/**-${ENV_US_EN}.war&quot;,\n     scanExcludesPattern: '', scanIncludesPattern: '',\n     filePath: &quot;{$env.WORKSPACE}&quot;, useProxy: true,\n     vid: vercode_api_key, vkey: veracode_password\n }\n</code></pre>\n<blockquote>\n<p>WARNING: Unknown parameter(s) found for class type<br />\n'com.veracode.jenkins.plugin.VeracodePipelineRecorder': filePath<br />\n------------------------------------------------------------------------<br />\nUpload and Scan with Veracode Pipeline<br />\n------------------------------------------------------------------------</p>\n<p>[Debug mode is on]</p>\n<p>Can Fail Job: true</p>\n<p>Show Unstable Status for Failed Policy Evaluation: true</p>\n<p>Version information:<br />\nVeracodeJavaAPI v23.4.11.2 cUnknown</p>\n<p>HPI location: var/lib/jenkins/plugins/veracode-scan/WEB-INF/lib/veracode-scan.jarProcessing files in [local] workspace:<br />\n/local2/jenkins/workspace/SVWebAppBuilding arguments. Calling wrapper with arguments:\n[-action, UploadAndScan, -vid, ********, -vkey, ********, -phost, ********, -pport, ********, -appname, Shoppers Voice (ICOM), -createprofile, false, -teams, Data-Survey/Compiled, -criticality, Medium, -sandboxname, SVWebApp-DEV, -createsandbox, true, -version, 2.0-SNAPSHOT-us_en_dev, -autoscan, true, -deleteincompletescan, 0, -maxretrycount, 5, -debug, -useragent, VeracodeScanJenkins/23.7.22.0 (Jenkins/2.401.3; Java/Unknown)]</p>\n<p>VeracodeJavaAPI v23.4.11.2 cUnknown</p>\n<p>Parsing error(s):<br />\n-filepath is required for the selected action.</p>\n<p>The following parameters are optional for the selected action:<br />\n-autorecreate -exclude<br />\n-format -include<br />\n-includenewmodules -inputfilepath<br />\n-logfilepath -pattern<br />\n-ppassword -puser<br />\n-replacement -sandboxid<br />\n-scanallnonfataltoplevelmodules -scanpollinginterval<br />\n-scantimeout -selected<br />\n-selectedpreviously -toplevel</p>\n<p>[2023.08.24 13:26:00.499] Invalid input</p>\n<p>Error- Returned code from wrapper:1</p>\n</blockquote>\n<p>Does anyone know how to resolve this?\nHowever, it looks like a bug in the plugin to me :(</p>\n"},{"tags":["java","path","filesystems"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1693504922,"post_id":77016066,"comment_id":135773579,"body_markdown":"`Path` is an interface. You are using the wrong approach if you rely on the default filesystem to provide and manipulate Path instances for a zip -`Path.of(x)` uses `FileSystems.getDefault()`. Instances of Path provided by the Zip File System should deal with the case you have, as suggested by k314159.","body":"<code>Path</code> is an interface. You are using the wrong approach if you rely on the default filesystem to provide and manipulate Path instances for a zip -<code>Path.of(x)</code> uses <code>FileSystems.getDefault()</code>. Instances of Path provided by the Zip File System should deal with the case you have, as suggested by k314159."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693505233,"post_id":77016066,"comment_id":135773627,"body_markdown":"The problem is that you need a ZIP file for doing so, but I don&#39;t have a ZIP file, only a file that was once saved in a ZIP file and the file path it had when it was saved in the ZIP file, and I don&#39;t have access to the ZIP file, I only get this data.","body":"The problem is that you need a ZIP file for doing so, but I don&#39;t have a ZIP file, only a file that was once saved in a ZIP file and the file path it had when it was saved in the ZIP file, and I don&#39;t have access to the ZIP file, I only get this data."}],"answers":[{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693501589,"post_id":77016549,"comment_id":135772947,"body_markdown":"The ZIP is on a different server in a different Java process, I am just processing some extracted files from the ZIP and in addition I have the path from within the ZIP file. Based on the path I can get important information. Therefore the Zip File System is of no help to me.","body":"The ZIP is on a different server in a different Java process, I am just processing some extracted files from the ZIP and in addition I have the path from within the ZIP file. Based on the path I can get important information. Therefore the Zip File System is of no help to me."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1693513194,"post_id":77016549,"comment_id":135775032,"body_markdown":"In that case, I would look at DuncG&#39;s answer. If that doesn&#39;t work for you, maybe just treat the filename as a string and do things like `filename.split(&quot;/&quot;)` to get its parts.","body":"In that case, I would look at DuncG&#39;s answer. If that doesn&#39;t work for you, maybe just treat the filename as a string and do things like <code>filename.split(&quot;&#47;&quot;)</code> to get its parts."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693490232,"creation_date":1693490232,"answer_id":77016549,"question_id":77016066,"body_markdown":"You should be reading the contents of the zip file using the [Zip File System][1]. Then you will be able to use a Path that understands all the characters that are allowed to be part of a name in a zip file. For example, the following lists the contents of the top-level directories of a given zip file:\r\n\r\n        try (FileSystem fs = FileSystems.newFileSystem(Path.of(zipfile))) {\r\n            for (Path directory : fs.getRootDirectories()) {\r\n                System.out.println(directory);\r\n                Files.list(directory).forEach(path -&gt; System.out.println(&quot;\\t&quot; + path));\r\n            }\r\n        }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html","title":"java.nio.file.Path: creating a path for a different/virtual FileSystem?","body":"<p>You should be reading the contents of the zip file using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html\" rel=\"nofollow noreferrer\">Zip File System</a>. Then you will be able to use a Path that understands all the characters that are allowed to be part of a name in a zip file. For example, the following lists the contents of the top-level directories of a given zip file:</p>\n<pre><code>    try (FileSystem fs = FileSystems.newFileSystem(Path.of(zipfile))) {\n        for (Path directory : fs.getRootDirectories()) {\n            System.out.println(directory);\n            Files.list(directory).forEach(path -&gt; System.out.println(&quot;\\t&quot; + path));\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693587003,"post_id":77018479,"comment_id":135785462,"body_markdown":"Sorry, but creating a temporary file just for parsing some paths doesn&#39;t seem to me like good programming style. Why should I waste time on disk I/O just to parse/process a a String? Even implementing an own dummy `FileSystemProvider` would be a way better way.","body":"Sorry, but creating a temporary file just for parsing some paths doesn&#39;t seem to me like good programming style. Why should I waste time on disk I/O just to parse/process a a String? Even implementing an own dummy <code>FileSystemProvider</code> would be a way better way."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1693593164,"post_id":77018479,"comment_id":135786412,"body_markdown":"That&#39;s why I said &quot;I won&#39;t recommend using this answer&quot;.","body":"That&#39;s why I said &quot;I won&#39;t recommend using this answer&quot;."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693507816,"creation_date":1693507046,"answer_id":77018479,"question_id":77016066,"body_markdown":"I won&#39;t recommend using this answer but you could have a look at whether creating a dummy ZIP file provides you access to zip filesystem `Path` for any path manipulation you need. \r\n\r\nHere is a snippet of code I tried in jshell:\r\n\r\n    // Create a path to a zip\r\n    Path zip = Files.createTempFile(Path.of(System.getProperty(&quot;java.io.tmpdir&quot;)), &quot;xx&quot;, &quot;.zip&quot;)\r\n\r\n    // Make sure it doesn&#39;t exist\r\n    Files.delete(zip);\r\n\r\n    // Create ZIP FS (should use try with resources here)\r\n    FileSystem fs = FileSystems.newFileSystem(zip, Map.of(&quot;create&quot;,&quot;true&quot;))\r\n\r\n    // See if you can make your path manipulation work:\r\n    Path x = fs.getPath(&quot;/some/path|abc/withanotherbar|here&quot;)\r\n    ==&gt; /some/path|abc/withanotherbar|here\r\n\r\n    Path parent = x.getParent()\r\n    parent ==&gt; /some/path|abc\r\n\r\n    Path name = x.getFileName()\r\n    name ==&gt; withanotherbar|here\r\n\r\n    int parts = x.getNameCount()\r\n    parts ==&gt; 3\r\n\r\n    Path y = fs.getPath(&quot;relative/some/path|andbar/withabar|here&quot;)\r\n    ==&gt; relative/some/path|andbar/withabar|here\r\n\r\n    Path yParent = y.getParent()\r\n    ==&gt; relative/some/path|andbar\r\n    \r\n    int yc = y.getNameCount()\r\n    ==&gt; 4\r\n\r\n\r\nNote that the Paths `x` or `parent` from Zip Filesystem above would be no use to you for filesystem access, but you might be able to use `toString()` to get the path component in a form which you might use in your other (unspecified) code.","title":"java.nio.file.Path: creating a path for a different/virtual FileSystem?","body":"<p>I won't recommend using this answer but you could have a look at whether creating a dummy ZIP file provides you access to zip filesystem <code>Path</code> for any path manipulation you need.</p>\n<p>Here is a snippet of code I tried in jshell:</p>\n<pre><code>// Create a path to a zip\nPath zip = Files.createTempFile(Path.of(System.getProperty(&quot;java.io.tmpdir&quot;)), &quot;xx&quot;, &quot;.zip&quot;)\n\n// Make sure it doesn't exist\nFiles.delete(zip);\n\n// Create ZIP FS (should use try with resources here)\nFileSystem fs = FileSystems.newFileSystem(zip, Map.of(&quot;create&quot;,&quot;true&quot;))\n\n// See if you can make your path manipulation work:\nPath x = fs.getPath(&quot;/some/path|abc/withanotherbar|here&quot;)\n==&gt; /some/path|abc/withanotherbar|here\n\nPath parent = x.getParent()\nparent ==&gt; /some/path|abc\n\nPath name = x.getFileName()\nname ==&gt; withanotherbar|here\n\nint parts = x.getNameCount()\nparts ==&gt; 3\n\nPath y = fs.getPath(&quot;relative/some/path|andbar/withabar|here&quot;)\n==&gt; relative/some/path|andbar/withabar|here\n\nPath yParent = y.getParent()\n==&gt; relative/some/path|andbar\n\nint yc = y.getNameCount()\n==&gt; 4\n</code></pre>\n<p>Note that the Paths <code>x</code> or <code>parent</code> from Zip Filesystem above would be no use to you for filesystem access, but you might be able to use <code>toString()</code> to get the path component in a form which you might use in your other (unspecified) code.</p>\n"}],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693507816,"creation_date":1693486825,"question_id":77016066,"body_markdown":"I am using `java.nio.file.Path` for modifying paths that do not exist in file-system, but inside a ZIP file. Of course I can not use such `Path` instances for reading and writing file content but that is not a problem in my context, I just need it e.g. to call `getParent()` `getFileName()` or `getNameCount()`.\r\n\r\nUsually this works well but now I encountered a ZIP file that uses `|` for certain paths in the ZIP file. If I try to parse such paths using `Paths.get(pathInZip)` results in an `java.nio.file.InvalidPathException: Illegal char &lt;|&gt; at index ...`.\r\n\r\nIs there a way to tell `Path` that it is not a path in the current file-system of the OS and therefore it is not limited by e.g. the reserved characters for the OS file-system?\r\n\r\nOr is using `java.nio.file.Path` the wrong approach here?","title":"java.nio.file.Path: creating a path for a different/virtual FileSystem?","body":"<p>I am using <code>java.nio.file.Path</code> for modifying paths that do not exist in file-system, but inside a ZIP file. Of course I can not use such <code>Path</code> instances for reading and writing file content but that is not a problem in my context, I just need it e.g. to call <code>getParent()</code> <code>getFileName()</code> or <code>getNameCount()</code>.</p>\n<p>Usually this works well but now I encountered a ZIP file that uses <code>|</code> for certain paths in the ZIP file. If I try to parse such paths using <code>Paths.get(pathInZip)</code> results in an <code>java.nio.file.InvalidPathException: Illegal char &lt;|&gt; at index ...</code>.</p>\n<p>Is there a way to tell <code>Path</code> that it is not a path in the current file-system of the OS and therefore it is not limited by e.g. the reserved characters for the OS file-system?</p>\n<p>Or is using <code>java.nio.file.Path</code> the wrong approach here?</p>\n"},{"tags":["java","keycloak","openid-connect","keycloak-rest-api"],"answers":[{"comments":[{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693504700,"post_id":77017624,"comment_id":135773525,"body_markdown":"Thanks for the inputs. I dont plan to use &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;. In my example, the code snippet  manually retrieve the KeycloakSecurityContext from the HttpSession and extract user details from the AccessToken, without directly utilizing the Keycloak Spring Security Adapter. I am using springboot 2. Is there an another way to pull the currently logged in user details, without making any change to the security config ?  I am just trying to pull the user details, a controller mapping is not mandatory, just a method to achieve it. @ch4mp","body":"Thanks for the inputs. I dont plan to use &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;&zwnj;&#8203;. In my example, the code snippet  manually retrieve the KeycloakSecurityContext from the HttpSession and extract user details from the AccessToken, without directly utilizing the Keycloak Spring Security Adapter. I am using springboot 2. Is there an another way to pull the currently logged in user details, without making any change to the security config ?  I am just trying to pull the user details, a controller mapping is not mandatory, just a method to achieve it. @ch4mp"},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693504862,"post_id":77017624,"comment_id":135773562,"body_markdown":"Also, I am not using &#39;keycloak-spring-security-adapter&#39; as well in my project.","body":"Also, I am not using &#39;keycloak-spring-security-adapter&#39; as well in my project."},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693505175,"post_id":77017624,"comment_id":135773617,"body_markdown":"I can pull the userinfo using &quot;auth/realms/myrealm/protocol/openid-connect/userinfo&quot; - However, I will have to feed the accessToken and  I cannot find a way to get the accessToken of the currently logged in user.","body":"I can pull the userinfo using &quot;auth/realms/myrealm/protocol/openid-connect/userinfo&quot; - However, I will have to feed the accessToken and  I cannot find a way to get the accessToken of the currently logged in user."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693507469,"post_id":77017624,"comment_id":135774053,"body_markdown":"And with how exactly is that `KeycloakSecurityContext` (defined in keycloak-core) instantiated if you&#39;re not using the deprecated adapters? How is the HttpSession created if you&#39;re not using spring-security-oauth2-client (the boot starter is just a helper to configure this one)? How is this session populated with a `KeycloakSecurityContext` instance? Also you have to decide if you want requests to be authorized with sessions (with user details in `HttpSession`) or with access tokens (with user details as token claims)...","body":"And with how exactly is that <code>KeycloakSecurityContext</code> (defined in keycloak-core) instantiated if you&#39;re not using the deprecated adapters? How is the HttpSession created if you&#39;re not using spring-security-oauth2-client (the boot starter is just a helper to configure this one)? How is this session populated with a <code>KeycloakSecurityContext</code> instance? Also you have to decide if you want requests to be authorized with sessions (with user details in <code>HttpSession</code>) or with access tokens (with user details as token claims)..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693507658,"post_id":77017624,"comment_id":135774086,"body_markdown":"I&#39;m gonna make my own promotion again (already did in the answer I linked), but you should probably read my [OAuth2 essentials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials) to clarify what you really want to configure.","body":"I&#39;m gonna make my own promotion again (already did in the answer I linked), but you should probably read my <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> to clarify what you really want to configure."},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693508437,"post_id":77017624,"comment_id":135774218,"body_markdown":"I have nothing but &quot;spring_security_core&quot; in build.gradle  of my project. Its inspired from this : https://github.com/thomasdarimont/embedded-spring-boot-keycloak-server/blob/master/embedded-keycloak-server-spring-boot-support/src/main/java/com/github/thomasdarimont/keycloak/embedded/support/DynamicJndiContextFactoryBuilder.java\n\ni am using accessTokens to verify users. I will give aread to your linked post. Authentication instance is always null in my case :  Authentication authentication = SecurityContextHolder.getContext().getAuthentication(); -","body":"I have nothing but &quot;spring_security_core&quot; in build.gradle  of my project. Its inspired from this : <a href=\"https://github.com/thomasdarimont/embedded-spring-boot-keycloak-server/blob/master/embedded-keycloak-server-spring-boot-support/src/main/java/com/github/thomasdarimont/keycloak/embedded/support/DynamicJndiContextFactoryBuilder.java\" rel=\"nofollow noreferrer\">github.com/thomasdarimont/embedded-spring-boot-keycloak-serv&zwnj;&#8203;er/&hellip;</a>  i am using accessTokens to verify users. I will give aread to your linked post. Authentication instance is always null in my case :  Authentication authentication = SecurityContextHolder.getContext().getAuthentication(); -"},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693508442,"post_id":77017624,"comment_id":135774220,"body_markdown":"securityContextHolder is always null. Link to what I tried : https://goonlinetools.com/snapshot/code/#n8ttl6dohbiapwv20zhti","body":"securityContextHolder is always null. Link to what I tried : <a href=\"https://goonlinetools.com/snapshot/code/#n8ttl6dohbiapwv20zhti\" rel=\"nofollow noreferrer\">goonlinetools.com/snapshot/code/#n8ttl6dohbiapwv20zhti</a>"},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693508582,"post_id":77017624,"comment_id":135774246,"body_markdown":"is there a way to achieve it using Keycloak adapter, as I am still in springboot2","body":"is there a way to achieve it using Keycloak adapter, as I am still in springboot2"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693508870,"post_id":77017624,"comment_id":135774285,"body_markdown":"from the main readme of the repo you linked &quot;The idea is to have a variant of Keycloak-X but based on Spring Boot instead of Quarkus&quot;. So basically, you are using a sample to **build an authorization server** (a Keycloak server). I hardly believe this is what you need -I&#39;m almost sure you already have a Keycloak instance somewhere). Take a breath and learn OAuth2 basics before trying to use it.","body":"from the main readme of the repo you linked &quot;The idea is to have a variant of Keycloak-X but based on Spring Boot instead of Quarkus&quot;. So basically, you are using a sample to <b>build an authorization server</b> (a Keycloak server). I hardly believe this is what you need -I&#39;m almost sure you already have a Keycloak instance somewhere). Take a breath and learn OAuth2 basics before trying to use it."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693509156,"post_id":77017624,"comment_id":135774318,"body_markdown":"**Forget about Keycloak adapters, it was deprecated two years ago.** Just understand OAuth2 actors responsibilities (client, resource server, authorization server and resource owner) and how flows work (a minimum of authorization_code, client_credentials and refresh_token). Once you understood that, you&#39;ll be able to adapt what you&#39;ll find in my tutorials to your older boot versions.","body":"<b>Forget about Keycloak adapters, it was deprecated two years ago.</b> Just understand OAuth2 actors responsibilities (client, resource server, authorization server and resource owner) and how flows work (a minimum of authorization_code, client_credentials and refresh_token). Once you understood that, you&#39;ll be able to adapt what you&#39;ll find in my tutorials to your older boot versions."},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693510257,"post_id":77017624,"comment_id":135774492,"body_markdown":"Thank you, I will go through them all. I will sove this problem some way or the other. I can see that there is no explicit security configi n my setup, something similar to this : https://www.baeldung.com/keycloak-embedded-in-spring-boot-app. I can see the OIDC endpoints. let me continue to try some other way on why the SecurityContect is null even after the user is authenticated. Thnaks, have a good day ahead.","body":"Thank you, I will go through them all. I will sove this problem some way or the other. I can see that there is no explicit security configi n my setup, something similar to this : <a href=\"https://www.baeldung.com/keycloak-embedded-in-spring-boot-app\" rel=\"nofollow noreferrer\">baeldung.com/keycloak-embedded-in-spring-boot-app</a>. I can see the OIDC endpoints. let me continue to try some other way on why the SecurityContect is null even after the user is authenticated. Thnaks, have a good day ahead."},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1693510450,"post_id":77017624,"comment_id":135774521,"body_markdown":"also, keycloak eventlisteners are able to pull all the info such as user_id, preferred_username etc thats embedded in the token","body":"also, keycloak eventlisteners are able to pull all the info such as user_id, preferred_username etc thats embedded in the token"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693507164,"creation_date":1693498568,"answer_id":77017624,"question_id":77016127,"body_markdown":"Keycloak adapter for spring was deprecated long ago. See [this other answer][1] for alternatives. \r\n\r\nOnce your security conf is fixed, you should have an `Authentication` instance in the security context. The type of this `Authentication` will depend on the request being\r\n- **anonymous** =&gt; `AbstractAuthenticationToken`\r\n- authorized with a session on an **OAuth2 client** with `oauth2Login` =&gt; `OAuth2AuthenticationToken` having an `OAuth2User` as principal (in case of OIDC authorization servers like Keycloak, this interface is further specialized to `OidcUser`)\r\n- authorized with an access token on an **OAuth2 resource server** =&gt; the default `Authentication` depends on the conf (and can be easily replaced with a custom implementation like Keycloak adapters were doing):\r\n  * `JwtAuthenticationToken` when a JWT decoder is used\r\n  * `BearerTokenAuthentication` when introspection is used (usually with &quot;opaque&quot; tokens, even if you can introspect a JWT)\r\n\r\nThe easiest way access this `Authentication` is with &quot;magic&quot; parameter for your controller method:\r\n```java\r\n@GetMapping(&quot;/me&quot;)\r\npublic Map&lt;String, Object&gt; getMe(Authentication auth) {\r\n    // authorized request to a resource server with JWT decoder\r\n    if (auth instance of JwtAuthenticationToken jwt) {\r\n        return jwt.getTokenAttributes();\r\n    }\r\n    // authorized request to a resource server with introspection\r\n    if (auth instance of BearerTokenAuthentication bearerToken) {\r\n        return bearerToken.getTokenAttributes();\r\n    }\r\n    // authorized request to an OpenID client \r\n    if (auth instanceof OAuth2AuthenticationToken oauth &amp;&amp; oauth.getPrincipal() instanceof OAuth2AuthenticatedPrincipal user) {\r\n\t\treturn user.getAttributes();\r\n\t}\r\n    // most probably an unauthorized request (anonymous)\r\n    return Map.of();\r\n}\r\n```\r\nOf course, you can also use the `SecurityContextHolder.getContext().getAuthentication()` static accessor, but it is probably not as convenient.\r\n\r\n  [1]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","title":"Keycloak securityContext is null","body":"<p>Keycloak adapter for spring was deprecated long ago. See <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">this other answer</a> for alternatives.</p>\n<p>Once your security conf is fixed, you should have an <code>Authentication</code> instance in the security context. The type of this <code>Authentication</code> will depend on the request being</p>\n<ul>\n<li><strong>anonymous</strong> =&gt; <code>AbstractAuthenticationToken</code></li>\n<li>authorized with a session on an <strong>OAuth2 client</strong> with <code>oauth2Login</code> =&gt; <code>OAuth2AuthenticationToken</code> having an <code>OAuth2User</code> as principal (in case of OIDC authorization servers like Keycloak, this interface is further specialized to <code>OidcUser</code>)</li>\n<li>authorized with an access token on an <strong>OAuth2 resource server</strong> =&gt; the default <code>Authentication</code> depends on the conf (and can be easily replaced with a custom implementation like Keycloak adapters were doing):\n<ul>\n<li><code>JwtAuthenticationToken</code> when a JWT decoder is used</li>\n<li><code>BearerTokenAuthentication</code> when introspection is used (usually with &quot;opaque&quot; tokens, even if you can introspect a JWT)</li>\n</ul>\n</li>\n</ul>\n<p>The easiest way access this <code>Authentication</code> is with &quot;magic&quot; parameter for your controller method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/me&quot;)\npublic Map&lt;String, Object&gt; getMe(Authentication auth) {\n    // authorized request to a resource server with JWT decoder\n    if (auth instance of JwtAuthenticationToken jwt) {\n        return jwt.getTokenAttributes();\n    }\n    // authorized request to a resource server with introspection\n    if (auth instance of BearerTokenAuthentication bearerToken) {\n        return bearerToken.getTokenAttributes();\n    }\n    // authorized request to an OpenID client \n    if (auth instanceof OAuth2AuthenticationToken oauth &amp;&amp; oauth.getPrincipal() instanceof OAuth2AuthenticatedPrincipal user) {\n        return user.getAttributes();\n    }\n    // most probably an unauthorized request (anonymous)\n    return Map.of();\n}\n</code></pre>\n<p>Of course, you can also use the <code>SecurityContextHolder.getContext().getAuthentication()</code> static accessor, but it is probably not as convenient.</p>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693507164,"creation_date":1693487366,"question_id":77016127,"body_markdown":"I am trying to fetch the user details of a logged in user :\r\n\r\nI am passing the access token collected from :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    https://localhost:1099/auth/realms/myrealm/protocol/openid-connect/token\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nwhile calling this endpoint :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.keycloak.KeycloakSecurityContext;\r\n    import org.keycloak.representations.AccessToken;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpSession;\r\n    import java.util.Collections;\r\n    import java.util.Map;\r\n\r\n    @RestController\r\n    public class userDetails {\r\n\r\n        @GetMapping(value = &quot;/myresources&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public String handleUserInfoRequest(HttpServletRequest request) {\r\n            System.out.println(&quot;Using HttpServletRequest to inspect authentication...&quot;);\r\n\r\n            // Get the HttpSession from the request\r\n            HttpSession session = request.getSession();\r\n\r\n            // Get the Keycloak security context from the session attribute\r\n            KeycloakSecurityContext securityContext = (KeycloakSecurityContext) session.getAttribute(KeycloakSecurityContext.class.getName());\r\n\r\n            if (securityContext != null) {\r\n                AccessToken token = securityContext.getToken();\r\n\r\n                // Extract details from the token\r\n                String userId = token.getId();\r\n                String userName = token.getPreferredUsername();\r\n\r\n                // Print security context details\r\n                String securityContextDetails = &quot;User ID: &quot; + userId + &quot;\\n&quot; +\r\n                                               &quot;Username: &quot; + userName;\r\n\r\n                System.out.println(&quot;Security Context Details:\\n&quot; + securityContextDetails);\r\n\r\n                // Return a response\r\n                return securityContextDetails;\r\n            } else {\r\n                return &quot;No Keycloak Security Context found&quot;;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have also tried to get the security context from httpServletRequest for secured users using this instead of the session as done above :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      // Get the Keycloak security context from the request attribute\r\n            KeycloakSecurityContext securityContext = (KeycloakSecurityContext) request.getAttribute(KeycloakSecurityContext.class.getName());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHowever, I am getting &quot;No Keycloak Security Context found&quot; or security context is null, principal is null. How can I get the user details i.e. &quot;preferrred_username&quot; from the access token. Iam not using spring security and I am using embedded springboot keycloak version 21.0.0 . Thanks in advance for all the inputs.","title":"Keycloak securityContext is null","body":"<p>I am trying to fetch the user details of a logged in user :</p>\n<p>I am passing the access token collected from :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>https://localhost:1099/auth/realms/myrealm/protocol/openid-connect/token</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>while calling this endpoint :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.keycloak.KeycloakSecurityContext;\nimport org.keycloak.representations.AccessToken;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpSession;\nimport java.util.Collections;\nimport java.util.Map;\n\n@RestController\npublic class userDetails {\n\n    @GetMapping(value = \"/myresources\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public String handleUserInfoRequest(HttpServletRequest request) {\n        System.out.println(\"Using HttpServletRequest to inspect authentication...\");\n\n        // Get the HttpSession from the request\n        HttpSession session = request.getSession();\n\n        // Get the Keycloak security context from the session attribute\n        KeycloakSecurityContext securityContext = (KeycloakSecurityContext) session.getAttribute(KeycloakSecurityContext.class.getName());\n\n        if (securityContext != null) {\n            AccessToken token = securityContext.getToken();\n\n            // Extract details from the token\n            String userId = token.getId();\n            String userName = token.getPreferredUsername();\n\n            // Print security context details\n            String securityContextDetails = \"User ID: \" + userId + \"\\n\" +\n                                           \"Username: \" + userName;\n\n            System.out.println(\"Security Context Details:\\n\" + securityContextDetails);\n\n            // Return a response\n            return securityContextDetails;\n        } else {\n            return \"No Keycloak Security Context found\";\n        }\n    }\n\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have also tried to get the security context from httpServletRequest for secured users using this instead of the session as done above :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  // Get the Keycloak security context from the request attribute\n        KeycloakSecurityContext securityContext = (KeycloakSecurityContext) request.getAttribute(KeycloakSecurityContext.class.getName());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>However, I am getting &quot;No Keycloak Security Context found&quot; or security context is null, principal is null. How can I get the user details i.e. &quot;preferrred_username&quot; from the access token. Iam not using spring security and I am using embedded springboot keycloak version 21.0.0 . Thanks in advance for all the inputs.</p>\n"},{"tags":["java","spring-boot","log4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693471062,"post_id":77014081,"comment_id":135766250,"body_markdown":"The warning has nothing to do with your issue. You only have no/little logging as you have no log4j2 with slf4j integration. Do you really need log4j2 instead of the default logback?","body":"The warning has nothing to do with your issue. You only have no/little logging as you have no log4j2 with slf4j integration. Do you really need log4j2 instead of the default logback?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1693474153,"post_id":77014081,"comment_id":135766903,"body_markdown":"I doubt that is the issue as well as that is probably the detection if JMX is enabled or not. Enable debug loggin (and maybe even remove log4j2 for the time being and use the default logback log configuration from Spring Boot) to get information on what is happening.","body":"I doubt that is the issue as well as that is probably the detection if JMX is enabled or not. Enable debug loggin (and maybe even remove log4j2 for the time being and use the default logback log configuration from Spring Boot) to get information on what is happening."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1693506826,"post_id":77014081,"comment_id":135773913,"body_markdown":"I&#39;ve removed the jboss and wildfly tags as this question doesn&#39;t seem to have anything to do with either community.","body":"I&#39;ve removed the jboss and wildfly tags as this question doesn&#39;t seem to have anything to do with either community."}],"owner":{"account_id":14812302,"reputation":35,"user_id":19323779,"display_name":"Maftun Hashimli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693506796,"creation_date":1693470475,"question_id":77014081,"body_markdown":"I&#39;ve encountered an issue while trying to start my Spring Boot (v2.7.8) application. At the end of the startup sequence, it terminates abruptly and displays **`Process finished with exit code 1`**.\r\n\r\nThe startup log begins with a warning related to SLF4J:\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\n\r\nSubsequently, the initialization sequence for Tomcat and Spring Boot begins, but it seems Tomcat is stopped shortly after. The relevant logs are:\r\n\r\n```\r\n:: Spring Boot :: (v2.7.8)\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Tomcat]\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.71]\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring embedded WebApplicationContext\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Tomcat]\r\n```\r\n\r\nI understand from the SLF4J warning that there might be a missing binding or implementation for the logger. However, I&#39;m unsure if this is the root cause of the abrupt termination or if there&#39;s another underlying issue causing Tomcat to stop.\r\n\r\nHere is my application.properties and log4j2.xml file contents\r\n\r\n*`spring.datasource.username`*`=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;`  \r\n*`spring.datasource.password`*`=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;`  \r\n*`spring.datasource.driver-class-name`*`=org.postgresql.Driver`  \r\n*`spring.jpa.properties.hibernate.default_schema`*`=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;`  \r\n*`server.port`*`=8180`  \r\n*`logging.level.org.springframework`*`=INFO`  \r\n*`logging.level.org.springframework.web`*`=INFO`  \r\n*`logging.level.root`*`=INFO`  \r\n*`logging.level.org.hibernate`*`=ERROR`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;log/app.log&quot;\r\n                     filePattern=&quot;log/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nHas anyone encountered a similar issue or can guide me on potential solutions or next steps to diagnose this problem further?","title":"Spring Boot application stops with Process finished with exit code 1 and SLF4J StaticLoggerBinder warning","body":"<p>I've encountered an issue while trying to start my Spring Boot (v2.7.8) application. At the end of the startup sequence, it terminates abruptly and displays <strong><code>Process finished with exit code 1</code></strong>.</p>\n<p>The startup log begins with a warning related to SLF4J:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>Subsequently, the initialization sequence for Tomcat and Spring Boot begins, but it seems Tomcat is stopped shortly after. The relevant logs are:</p>\n<pre><code>:: Spring Boot :: (v2.7.8)\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.71]\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring embedded WebApplicationContext\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n</code></pre>\n<p>I understand from the SLF4J warning that there might be a missing binding or implementation for the logger. However, I'm unsure if this is the root cause of the abrupt termination or if there's another underlying issue causing Tomcat to stop.</p>\n<p>Here is my application.properties and log4j2.xml file contents</p>\n<p><em><code>spring.datasource.username</code></em><code>=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</code><br />\n<em><code>spring.datasource.password</code></em><code>=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</code><br />\n<em><code>spring.datasource.driver-class-name</code></em><code>=org.postgresql.Driver</code><br />\n<em><code>spring.jpa.properties.hibernate.default_schema</code></em><code>=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</code><br />\n<em><code>server.port</code></em><code>=8180</code><br />\n<em><code>logging.level.org.springframework</code></em><code>=INFO</code><br />\n<em><code>logging.level.org.springframework.web</code></em><code>=INFO</code><br />\n<em><code>logging.level.root</code></em><code>=INFO</code><br />\n<em><code>logging.level.org.hibernate</code></em><code>=ERROR</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;log/app.log&quot;\n                     filePattern=&quot;log/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Has anyone encountered a similar issue or can guide me on potential solutions or next steps to diagnose this problem further?</p>\n"},{"tags":["java","easymock"],"answers":[{"tags":[],"owner":{"account_id":392465,"reputation":5571,"user_id":753739,"display_name":"Henri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693506712,"creation_date":1693506712,"answer_id":77018436,"question_id":77004134,"body_markdown":"I will need a bit more input. The EasyMock version, the full error and so on. Because when trying the following, it works perfectly.\r\n\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    import static org.easymock.EasyMock.anyLong;\r\n    import static org.easymock.EasyMock.anyObject;\r\n    import static org.easymock.EasyMock.expect;\r\n    import static org.easymock.EasyMock.mock;\r\n    import static org.easymock.EasyMock.replay;\r\n    \r\n    public class MyTest {\r\n    \r\n        public List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies) {\r\n            return null;\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            MyTest test = mock(MyTest.class);\r\n            expect(test.getEmployeeId(anyLong(), anyObject(Date.class), anyObject(List.class))).andReturn(Collections.emptyList()).anyTimes();\r\n            replay(test);\r\n        }\r\n    }","title":"EasyMock failed with java.lang.IllegalStateException","body":"<p>I will need a bit more input. The EasyMock version, the full error and so on. Because when trying the following, it works perfectly.</p>\n<pre><code>import java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\nimport static org.easymock.EasyMock.anyLong;\nimport static org.easymock.EasyMock.anyObject;\nimport static org.easymock.EasyMock.expect;\nimport static org.easymock.EasyMock.mock;\nimport static org.easymock.EasyMock.replay;\n\npublic class MyTest {\n\n    public List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies) {\n        return null;\n    }\n\n    @Test\n    public void test() {\n        MyTest test = mock(MyTest.class);\n        expect(test.getEmployeeId(anyLong(), anyObject(Date.class), anyObject(List.class))).andReturn(Collections.emptyList()).anyTimes();\n        replay(test);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":556011,"reputation":2421,"user_id":884444,"accept_rate":51,"display_name":"ppb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693506712,"creation_date":1693351683,"question_id":77004134,"body_markdown":"I have below - \r\n\r\n    List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies);\r\n\r\n\r\nI am trying to write a `Junit` for above method by using `EasyMock`\r\n\r\n    EasyMock.expect(empDao.getEmployeeId(EasyMock.anyLong(),  EasyMock.anyObject(Date.class),EasyMock.anyObject(List.class))).andReturn(empIdList).anyTimes();\r\n    replay(empDao);\r\n\r\nbut I am getting `java.lang.IllegalStateException` for `EasyMock.expect(..)`\r\n\r\nI am not sure what I am missing here.\r\n\r\n\r\n","title":"EasyMock failed with java.lang.IllegalStateException","body":"<p>I have below -</p>\n<pre><code>List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies);\n</code></pre>\n<p>I am trying to write a <code>Junit</code> for above method by using <code>EasyMock</code></p>\n<pre><code>EasyMock.expect(empDao.getEmployeeId(EasyMock.anyLong(),  EasyMock.anyObject(Date.class),EasyMock.anyObject(List.class))).andReturn(empIdList).anyTimes();\nreplay(empDao);\n</code></pre>\n<p>but I am getting <code>java.lang.IllegalStateException</code> for <code>EasyMock.expect(..)</code></p>\n<p>I am not sure what I am missing here.</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1693501577,"post_id":77017362,"comment_id":135772941,"body_markdown":"Unclear: You want the &quot;output&quot; to be nested, but the &quot;output&quot; in your example is just printed text? Should the output be a nested list, like `[[a], [ab], [ac, ac], [ad], ...]`?","body":"Unclear: You want the &quot;output&quot; to be nested, but the &quot;output&quot; in your example is just printed text? Should the output be a nested list, like <code>[[a], [ab], [ac, ac], [ad], ...]</code>?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693511140,"post_id":77017362,"comment_id":135774646,"body_markdown":"What would you expect the output to be if I added in `{&quot;/a/b/c/d/e/f/g&quot;, 1}` to the table after  `&quot;/a/d/e&quot;`?  And are the `Path` and `repetition` entries guaranteed to occur only once for each `Path` in the table?","body":"What would you expect the output to be if I added in <code>{&quot;&#47;a&#47;b&#47;c&#47;d&#47;e&#47;f&#47;g&quot;, 1}</code> to the table after  <code>&quot;&#47;a&#47;d&#47;e&quot;</code>?  And are the <code>Path</code> and <code>repetition</code> entries guaranteed to occur only once for each <code>Path</code> in the table?"},{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1693512713,"post_id":77017362,"comment_id":135774949,"body_markdown":"Yes, each path can be listed only once. /a/b/c/d/e/f/g would not be possible, since the Paths build upon each other. So it would need to to be /a, /a/b, /a/b/c, /a/b/c/d, ... consecutive in the table","body":"Yes, each path can be listed only once. /a/b/c/d/e/f/g would not be possible, since the Paths build upon each other. So it would need to to be /a, /a/b, /a/b/c, /a/b/c/d, ... consecutive in the table"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693514943,"post_id":77017362,"comment_id":135775330,"body_markdown":"@Cobby  Thanks.  That&#39;s important info to know.  Especially about the paths being built upon each other.","body":"@Cobby  Thanks.  That&#39;s important info to know.  Especially about the paths being built upon each other."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693500351,"creation_date":1693500351,"answer_id":77017813,"question_id":77017362,"body_markdown":"If using java 8 or above,you could deploy `stream` api\r\n```\r\n public static void main(String[] args) {\r\n        List&lt;Pair&lt;Path,Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Path&gt; result = list.stream()\r\n                  .flatMap(ExpandingFlattenedList::getPathStream)\r\n                  .collect(Collectors.toList());\r\n    }\r\n\r\n    private static Stream&lt;Path&gt; getPathStream(Pair&lt;Path, Integer&gt; pair) {\r\n        Supplier&lt;Path&gt; supplier=()-&gt; pair.getKey();\r\n        return Stream.generate(supplier)\r\n                .limit(pair.getValue());\r\n    }\r\n```","title":"How to turn a flattened structures with repetitions into a nested structure?","body":"<p>If using java 8 or above,you could deploy <code>stream</code> api</p>\n<pre><code> public static void main(String[] args) {\n        List&lt;Pair&lt;Path,Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n\n        List&lt;Path&gt; result = list.stream()\n                  .flatMap(ExpandingFlattenedList::getPathStream)\n                  .collect(Collectors.toList());\n    }\n\n    private static Stream&lt;Path&gt; getPathStream(Pair&lt;Path, Integer&gt; pair) {\n        Supplier&lt;Path&gt; supplier=()-&gt; pair.getKey();\n        return Stream.generate(supplier)\n                .limit(pair.getValue());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1693519802,"post_id":77018205,"comment_id":135775940,"body_markdown":"How would the iterative version look like?","body":"How would the iterative version look like?"},{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1693549990,"post_id":77018205,"comment_id":135778392,"body_markdown":"Also, is this a simple preorder depth-first recursion?","body":"Also, is this a simple preorder depth-first recursion?"},{"owner":{"account_id":21940429,"reputation":76,"user_id":16221052,"display_name":"Joalien"},"score":0,"creation_date":1693555423,"post_id":77018205,"comment_id":135779363,"body_markdown":"For the iterative version, we need to add a data structure (stack) to store the given Path and iterate multiple times over it, adding and removing Path until the stack is empty. This solution is less intuitive.\nYes, it is a preorder depth-first recursion","body":"For the iterative version, we need to add a data structure (stack) to store the given Path and iterate multiple times over it, adding and removing Path until the stack is empty. This solution is less intuitive. Yes, it is a preorder depth-first recursion"}],"tags":[],"owner":{"account_id":21940429,"reputation":76,"user_id":16221052,"display_name":"Joalien"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693504105,"creation_date":1693504105,"answer_id":77018205,"question_id":77017362,"body_markdown":"```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Map&lt;Path, Integer&gt; input = new LinkedHashMap();\r\n        input.put(Path.of(&quot;/a&quot;), 1);\r\n        input.put(Path.of(&quot;/a/b&quot;), 1);\r\n        input.put(Path.of(&quot;/a/c&quot;), 2);\r\n        input.put(Path.of(&quot;/a/d&quot;), 2);\r\n        input.put(Path.of(&quot;/a/d/e&quot;), 2);\r\n        input.put(Path.of(&quot;/a/f&quot;), 1);\r\n        input.put(Path.of(&quot;/a/g&quot;), 1);\r\n        printElement(Path.of(&quot;/a&quot;), input);\r\n    }\r\n\r\n    static void printElement(Path s, Map&lt;Path, Integer&gt; m) {\r\n        for (int i = 0; i &lt; m.get(s); i++) {\r\n            System.out.println(s);\r\n            m.entrySet().stream()\r\n                    .filter(map -&gt; map.getKey().getParent().equals(s))\r\n                    .forEach(map -&gt; printElement(map.getKey(), m));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI got the following:\r\n\r\n    /a\r\n    /a/b\r\n    /a/c\r\n    /a/c\r\n    /a/d\r\n    /a/d/e\r\n    /a/d/e\r\n    /a/d\r\n    /a/d/e\r\n    /a/d/e\r\n    /a/f\r\n    /a/g","title":"How to turn a flattened structures with repetitions into a nested structure?","body":"<pre><code>class Main {\n    public static void main(String[] args) {\n        Map&lt;Path, Integer&gt; input = new LinkedHashMap();\n        input.put(Path.of(&quot;/a&quot;), 1);\n        input.put(Path.of(&quot;/a/b&quot;), 1);\n        input.put(Path.of(&quot;/a/c&quot;), 2);\n        input.put(Path.of(&quot;/a/d&quot;), 2);\n        input.put(Path.of(&quot;/a/d/e&quot;), 2);\n        input.put(Path.of(&quot;/a/f&quot;), 1);\n        input.put(Path.of(&quot;/a/g&quot;), 1);\n        printElement(Path.of(&quot;/a&quot;), input);\n    }\n\n    static void printElement(Path s, Map&lt;Path, Integer&gt; m) {\n        for (int i = 0; i &lt; m.get(s); i++) {\n            System.out.println(s);\n            m.entrySet().stream()\n                    .filter(map -&gt; map.getKey().getParent().equals(s))\n                    .forEach(map -&gt; printElement(map.getKey(), m));\n        }\n    }\n}\n</code></pre>\n<p>I got the following:</p>\n<pre><code>/a\n/a/b\n/a/c\n/a/c\n/a/d\n/a/d/e\n/a/d/e\n/a/d\n/a/d/e\n/a/d/e\n/a/f\n/a/g\n</code></pre>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77018205,"answer_count":2,"score":1,"last_activity_date":1693506278,"creation_date":1693496308,"question_id":77017362,"body_markdown":"I can&#39;t find a recursive function for the following problem.\r\nAssume the following paths, with their repetition which should turn into a nested structure like below. Is there a recursive solution? If not, any ideas for a short iterative solution?\r\n\r\n| Path | Repetition |\r\n| -------- | -------------- |\r\n| /a   | 1|\r\n| /a/b | 1|\r\n| /a/c | 2|\r\n| /a/d | 2|\r\n| /a/d/e | 2|\r\n| /a/f | 1|\r\n| /a/g | 1|\r\n\r\nOutput should be like this for a List&lt;Pair&lt;Path,Integer&gt;&gt; in **that specific order**:\r\n\r\n\r\n/a &lt;br&gt;\r\n/a/b &lt;br&gt;\r\n**/a/c** &lt;br&gt;\r\n**/a/c** &lt;br&gt;\r\n/a/d &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n/a/d &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n/a/f &lt;br&gt;\r\n/a/g\r\n\r\n\r\n","title":"How to turn a flattened structures with repetitions into a nested structure?","body":"<p>I can't find a recursive function for the following problem.\nAssume the following paths, with their repetition which should turn into a nested structure like below. Is there a recursive solution? If not, any ideas for a short iterative solution?</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Path</th>\n<th>Repetition</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/a</td>\n<td>1</td>\n</tr>\n<tr>\n<td>/a/b</td>\n<td>1</td>\n</tr>\n<tr>\n<td>/a/c</td>\n<td>2</td>\n</tr>\n<tr>\n<td>/a/d</td>\n<td>2</td>\n</tr>\n<tr>\n<td>/a/d/e</td>\n<td>2</td>\n</tr>\n<tr>\n<td>/a/f</td>\n<td>1</td>\n</tr>\n<tr>\n<td>/a/g</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Output should be like this for a List&lt;Pair&lt;Path,Integer&gt;&gt; in <strong>that specific order</strong>:</p>\n<p>/a <br>\n/a/b <br>\n<strong>/a/c</strong> <br>\n<strong>/a/c</strong> <br>\n/a/d <br>\n<strong>/a/d/e</strong> <br>\n<strong>/a/d/e</strong> <br>\n/a/d <br>\n<strong>/a/d/e</strong> <br>\n<strong>/a/d/e</strong> <br>\n/a/f <br>\n/a/g</p>\n"},{"tags":["java","ehcache"],"answers":[{"comments":[{"owner":{"account_id":2432490,"reputation":133,"user_id":7840342,"display_name":"Raimond"},"score":0,"creation_date":1491834858,"post_id":43323906,"comment_id":73716255,"body_markdown":"Thanks, it&#39;s what I thought. We will reimplement.","body":"Thanks, it&#39;s what I thought. We will reimplement."}],"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491829321,"creation_date":1491829321,"answer_id":43323906,"question_id":43306560,"body_markdown":"Expiration duration can only be modified when an entry is _created_, _accessed_ or _updated_.\r\n\r\nNow depending on your exact requirements, you could implement your specific logic on `getExpiryForAccess` and access the mapping to get the updated expiration. However, you cannot differentiate between a _regular_ access and an access that should update expiration.\r\nAnd I would not recommend having such a stateful expiration computation anyway.\r\n\r\nThere might be alternative ways to support your use case by changing the caching design altogether, but that&#39;s outside of the scope of this question.","title":"Changing the TTL of individual entries in EHCache 3","body":"<p>Expiration duration can only be modified when an entry is <em>created</em>, <em>accessed</em> or <em>updated</em>.</p>\n\n<p>Now depending on your exact requirements, you could implement your specific logic on <code>getExpiryForAccess</code> and access the mapping to get the updated expiration. However, you cannot differentiate between a <em>regular</em> access and an access that should update expiration.\nAnd I would not recommend having such a stateful expiration computation anyway.</p>\n\n<p>There might be alternative ways to support your use case by changing the caching design altogether, but that's outside of the scope of this question.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693505376,"creation_date":1693505376,"answer_id":77018323,"question_id":43306560,"body_markdown":" Add programmatically using API method:\r\n\r\n   \r\n\r\n    &lt;ehcache&gt;\r\n         &lt;cache name=&quot;myConfigCache&quot;\r\n                   maxElementsInMemory=&quot;2000&quot;\r\n                   eternal=&quot;false&quot;\r\n                   overflowToDisk=&quot;false&quot;\r\n                   /&gt;\r\n        &lt;/ehcache&gt;\r\n    \r\n    \r\n         @Bean\r\n            public EhCacheManagerFactoryBean ehCacheCacheManager() {\r\n                final EhCacheManagerFactoryBean eh = new EhCacheManagerFactoryBean();\r\n                eh.setConfigLocation(new ClassPathResource(&quot;ehcache.xml&quot;));\r\n                eh.setShared(true);\r\n                return eh;\r\n            }\r\n    \r\n        net.sf.ehcache.Cache myConfigCache = ehCacheCacheManager().getObject().getCache(&quot;myConfigCache&quot;);\r\n                    myConfigCache.getCacheConfiguration().setTimeToLiveSeconds(1000);\r\n\r\n","title":"Changing the TTL of individual entries in EHCache 3","body":"<p>Add programmatically using API method:</p>\n<pre><code>&lt;ehcache&gt;\n     &lt;cache name=&quot;myConfigCache&quot;\n               maxElementsInMemory=&quot;2000&quot;\n               eternal=&quot;false&quot;\n               overflowToDisk=&quot;false&quot;\n               /&gt;\n    &lt;/ehcache&gt;\n\n\n     @Bean\n        public EhCacheManagerFactoryBean ehCacheCacheManager() {\n            final EhCacheManagerFactoryBean eh = new EhCacheManagerFactoryBean();\n            eh.setConfigLocation(new ClassPathResource(&quot;ehcache.xml&quot;));\n            eh.setShared(true);\n            return eh;\n        }\n\n    net.sf.ehcache.Cache myConfigCache = ehCacheCacheManager().getObject().getCache(&quot;myConfigCache&quot;);\n                myConfigCache.getCacheConfiguration().setTimeToLiveSeconds(1000);\n</code></pre>\n"}],"owner":{"account_id":2432490,"reputation":133,"user_id":7840342,"display_name":"Raimond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43323906,"answer_count":2,"score":2,"last_activity_date":1693505376,"creation_date":1491740068,"question_id":43306560,"body_markdown":"In EHCache 2.x, it was possible to set a time to live on an individual entry in a cache, for example:\r\n\r\n    Element dependentElement = cache.get(key);\r\n    long lastAccessTime = dependentElement.getLastAccessTime();\r\n    long creationTime = dependentElement.getCreationTime();\r\n    int timeToLive = lastAccessTime == 0 ? 300 : (int)\r\n      (lastAccessTime - creationTime) / 1000 + 300;\r\n    timeToLive += 2;\r\n    dependentElement.setTimeToLive(timeToLive);\r\n\r\nThis would update the TTL of the individual item, thus keeping it in cache longer.\r\n\r\nIn EHCache 3.x this seems no longer possible to do on an individual cache entry basis. After reading the [Migration Guide][1] and [this question][2], it seems to me this functionality is not directly migratable.\r\n\r\nThe guide tells us that in order to modify the TTL, an interface has to be implemented:\r\n\r\n    CacheConfigurationBuilder.newCacheConfigurationBuilder(Long.class, \r\n        String.class, ResourcePoolsBuilder\r\n        .withExpiry(new Expiry&lt;Long, String&gt;() {    \r\n          @Override\r\n          public Duration getExpiryForCreation(Long key, String value) {\r\n            return getTimeToLiveDuration(key, value);   \r\n          }\r\n\r\n          @Override\r\n          public Duration getExpiryForAccess(Long key, ValueSupplier&lt;? extends String&gt; value) {\r\n            return null;  // Keeping the existing expiry\r\n          }\r\n\r\n          @Override\r\n          public Duration getExpiryForUpdate(Long key, ValueSupplier&lt;? extends String&gt; oldValue, String newValue) {\r\n            return null;  // Keeping the existing expiry\r\n          }\r\n        });\r\n\r\n\r\nThis configuration is then added to a cache to be initialized. However, it does appear that, since it&#39;s a cache-level extension point, you can never guarantee that the methods are triggered for the actual entry you want to change?\r\n\r\nLooking at the internals of EHCache 3, it seems that the good old *net.sf.ehcache.Element* is abstracted away and changed into a *ValueHolder&amp;lt;V&amp;gt;* and that it is no longer possible to access this.\r\n\r\nSo, the question is: how can we implement the same behaviour in EHCache 3.x?\r\n\r\n  [1]: http://www.ehcache.org/documentation/3.1/migration-guide.html#per-mapping-expiry &quot;Migration Guide&quot;\r\n  [2]: https://stackoverflow.com/questions/37697751/how-to-change-a-ehcache-members-expiry-time-programmatically","title":"Changing the TTL of individual entries in EHCache 3","body":"<p>In EHCache 2.x, it was possible to set a time to live on an individual entry in a cache, for example:</p>\n\n<pre><code>Element dependentElement = cache.get(key);\nlong lastAccessTime = dependentElement.getLastAccessTime();\nlong creationTime = dependentElement.getCreationTime();\nint timeToLive = lastAccessTime == 0 ? 300 : (int)\n  (lastAccessTime - creationTime) / 1000 + 300;\ntimeToLive += 2;\ndependentElement.setTimeToLive(timeToLive);\n</code></pre>\n\n<p>This would update the TTL of the individual item, thus keeping it in cache longer.</p>\n\n<p>In EHCache 3.x this seems no longer possible to do on an individual cache entry basis. After reading the <a href=\"http://www.ehcache.org/documentation/3.1/migration-guide.html#per-mapping-expiry\" rel=\"nofollow noreferrer\" title=\"Migration Guide\">Migration Guide</a> and <a href=\"https://stackoverflow.com/questions/37697751/how-to-change-a-ehcache-members-expiry-time-programmatically\">this question</a>, it seems to me this functionality is not directly migratable.</p>\n\n<p>The guide tells us that in order to modify the TTL, an interface has to be implemented:</p>\n\n<pre><code>CacheConfigurationBuilder.newCacheConfigurationBuilder(Long.class, \n    String.class, ResourcePoolsBuilder\n    .withExpiry(new Expiry&lt;Long, String&gt;() {    \n      @Override\n      public Duration getExpiryForCreation(Long key, String value) {\n        return getTimeToLiveDuration(key, value);   \n      }\n\n      @Override\n      public Duration getExpiryForAccess(Long key, ValueSupplier&lt;? extends String&gt; value) {\n        return null;  // Keeping the existing expiry\n      }\n\n      @Override\n      public Duration getExpiryForUpdate(Long key, ValueSupplier&lt;? extends String&gt; oldValue, String newValue) {\n        return null;  // Keeping the existing expiry\n      }\n    });\n</code></pre>\n\n<p>This configuration is then added to a cache to be initialized. However, it does appear that, since it's a cache-level extension point, you can never guarantee that the methods are triggered for the actual entry you want to change?</p>\n\n<p>Looking at the internals of EHCache 3, it seems that the good old <em>net.sf.ehcache.Element</em> is abstracted away and changed into a <em>ValueHolder&lt;V&gt;</em> and that it is no longer possible to access this.</p>\n\n<p>So, the question is: how can we implement the same behaviour in EHCache 3.x?</p>\n"},{"tags":["java","for-loop","nested-loops"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1433825704,"post_id":30723247,"comment_id":49503752,"body_markdown":"write the logic out on a peice of paper.","body":"write the logic out on a peice of paper."}],"answers":[{"comments":[{"owner":{"account_id":6017393,"reputation":183,"user_id":4725709,"accept_rate":60,"display_name":"Atif Shah"},"score":0,"creation_date":1433826009,"post_id":30723316,"comment_id":49503840,"body_markdown":"Thanks it worked. Could you explain why you did 2*i+1","body":"Thanks it worked. Could you explain why you did 2*i+1"},{"owner":{"account_id":2214742,"reputation":701,"user_id":1955673,"accept_rate":73,"display_name":"VILLAIN bryan"},"score":0,"creation_date":1433826198,"post_id":30723316,"comment_id":49503900,"body_markdown":"First iteration ((2*0)+1) = 1 star. Second iteration ((2*1)+1) = 3 stars. Third iteration ((2*2)+1) = 5 stars and so on.","body":"First iteration ((2*0)+1) = 1 star. Second iteration ((2*1)+1) = 3 stars. Third iteration ((2*2)+1) = 5 stars and so on."},{"owner":{"account_id":6392909,"reputation":2727,"user_id":4958370,"accept_rate":40,"display_name":"Sourav Kanta"},"score":0,"creation_date":1433826326,"post_id":30723316,"comment_id":49503953,"body_markdown":"See for 1 st row there is 1 star.For 2 nd there are 3 , for 3rd there are 5.So it follows the general rule of 2*(n-1)+1. As our i starts form 0 so (n-1)=i. Thus number of stars in (i+1)th row = 2*i+1.","body":"See for 1 st row there is 1 star.For 2 nd there are 3 , for 3rd there are 5.So it follows the general rule of 2*(n-1)+1. As our i starts form 0 so (n-1)=i. Thus number of stars in (i+1)th row = 2*i+1."},{"owner":{"account_id":14572332,"reputation":360,"user_id":10525284,"display_name":"HuserB1989"},"score":0,"creation_date":1599332620,"post_id":30723316,"comment_id":112744897,"body_markdown":"If I write `for (int k = 0; k &lt;= 2 * i; k++)` =&gt; it also works... how? `2*0 = 0`, why does it print one `*` in the first `row` for example?","body":"If I write <code>for (int k = 0; k &lt;= 2 * i; k++)</code> =&gt; it also works... how? <code>2*0 = 0</code>, why does it print one <code>*</code> in the first <code>row</code> for example?"},{"owner":{"account_id":6392909,"reputation":2727,"user_id":4958370,"accept_rate":40,"display_name":"Sourav Kanta"},"score":1,"creation_date":1599649897,"post_id":30723316,"comment_id":112836878,"body_markdown":"@HuserB1989 because it satisfies the conditions  &lt;=0 oncce and the statements inside the loop is executed only once. Therefore one star is printed.","body":"@HuserB1989 because it satisfies the conditions  &lt;=0 oncce and the statements inside the loop is executed only once. Therefore one star is printed."},{"owner":{"account_id":14572332,"reputation":360,"user_id":10525284,"display_name":"HuserB1989"},"score":0,"creation_date":1599766001,"post_id":30723316,"comment_id":112883640,"body_markdown":"@SouravKanta underastand (+)","body":"@SouravKanta underastand (+)"}],"tags":[],"owner":{"account_id":6392909,"reputation":2727,"user_id":4958370,"accept_rate":40,"display_name":"Sourav Kanta"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1471977289,"creation_date":1433825923,"answer_id":30723316,"question_id":30723247,"body_markdown":"Try this much simpler code:\r\n\r\n    public class ChristmasTree {\r\n    \r\n     public static void main(String[] args) {\r\n    \r\n      for (int i = 0; i &lt; 10; i++) {\r\n       for (int j = 0; j &lt; 10 - i; j++)\r\n        System.out.print(&quot; &quot;);\r\n       for (int k = 0; k &lt; (2 * i + 1); k++)\r\n        System.out.print(&quot;*&quot;);\r\n       System.out.println();\r\n      }\r\n     }\r\n    }\r\n\r\n\r\nIt uses 3 loops:\r\n\r\n - first one for the number of rows, \r\n - second one for printing the spaces, \r\n - third one for printing the asterisks.\r\n\r\n","title":"Creating a Christmas Tree using for loops","body":"<p>Try this much simpler code:</p>\n\n<pre><code>public class ChristmasTree {\n\n public static void main(String[] args) {\n\n  for (int i = 0; i &lt; 10; i++) {\n   for (int j = 0; j &lt; 10 - i; j++)\n    System.out.print(\" \");\n   for (int k = 0; k &lt; (2 * i + 1); k++)\n    System.out.print(\"*\");\n   System.out.println();\n  }\n }\n}\n</code></pre>\n\n<p>It uses 3 loops:</p>\n\n<ul>\n<li>first one for the number of rows, </li>\n<li>second one for printing the spaces, </li>\n<li>third one for printing the asterisks.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1433826379,"creation_date":1433826379,"answer_id":30723407,"question_id":30723247,"body_markdown":"You can do it with simple logic\r\n\r\n    for (int i = 0; i &lt; 4; i++) \r\n                System.out.println(&quot;   *******&quot;.substring(i, 4 + 2*i));","title":"Creating a Christmas Tree using for loops","body":"<p>You can do it with simple logic</p>\n\n<pre><code>for (int i = 0; i &lt; 4; i++) \n            System.out.println(\"   *******\".substring(i, 4 + 2*i));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10027411,"reputation":1,"user_id":7415179,"display_name":"Trishek Pradhania"},"score":0,"creation_date":1484316552,"post_id":41636401,"comment_id":70472514,"body_markdown":"above program print Xmas tree.","body":"above program print Xmas tree."},{"owner":{"account_id":4962264,"reputation":2949,"user_id":3992945,"accept_rate":100,"display_name":""},"score":4,"creation_date":1484316861,"post_id":41636401,"comment_id":70472736,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}],"tags":[],"owner":{"account_id":10027411,"reputation":1,"user_id":7415179,"display_name":"Trishek Pradhania"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484317753,"creation_date":1484316364,"answer_id":41636401,"question_id":30723247,"body_markdown":"    public class Stars {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n           Scanner s=new Scanner(System.in);\r\n           System.out.println(&quot;Enter Row/Column Value::&quot;);\r\n            int i,j,k,n;\r\n            n=s.nextInt();\r\n            for(i=1; i&lt;n; i++){\r\n                for(j=n+(n/2); j&gt;i; j--){\r\n                    System.out.print(&quot; &quot;);}\r\n                for(k=1; k&lt;=2*i-1; k++){\r\n                    System.out.print(&quot;*&quot;);}\r\n                System.out.println(&quot;&quot;);\r\n                }\r\n             for(i=1; i&lt;n+(n/2); i++){\r\n                for(j=n+(n/2); j&gt;i; j--){\r\n                    System.out.print(&quot; &quot;);}\r\n                for(k=1; k&lt;=2*i-1; k++){\r\n                    System.out.print(&quot;*&quot;);}\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n              for(i=1; i&lt;n-(n/2); i++){\r\n                for(j=n+(n/2); j&gt;1; j--){\r\n                    System.out.print(&quot; &quot;);}\r\n                for(k=n/2; k&lt;=(n/2)+1; k++){\r\n                    System.out.print(&quot;*&quot;);}\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Creating a Christmas Tree using for loops","body":"<pre><code>public class Stars {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n       Scanner s=new Scanner(System.in);\n       System.out.println(\"Enter Row/Column Value::\");\n        int i,j,k,n;\n        n=s.nextInt();\n        for(i=1; i&lt;n; i++){\n            for(j=n+(n/2); j&gt;i; j--){\n                System.out.print(\" \");}\n            for(k=1; k&lt;=2*i-1; k++){\n                System.out.print(\"*\");}\n            System.out.println(\"\");\n            }\n         for(i=1; i&lt;n+(n/2); i++){\n            for(j=n+(n/2); j&gt;i; j--){\n                System.out.print(\" \");}\n            for(k=1; k&lt;=2*i-1; k++){\n                System.out.print(\"*\");}\n            System.out.println(\"\");\n        }\n          for(i=1; i&lt;n-(n/2); i++){\n            for(j=n+(n/2); j&gt;1; j--){\n                System.out.print(\" \");}\n            for(k=n/2; k&lt;=(n/2)+1; k++){\n                System.out.print(\"*\");}\n            System.out.println(\"\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12252924,"reputation":21,"user_id":8942721,"display_name":"how"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510721092,"creation_date":1510716998,"answer_id":47298926,"question_id":30723247,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class cmastree{\r\n    \r\n    \tpublic static void main (String[]args){\r\n    \t\tScanner keyboard=new Scanner (System.in);\r\n    \r\n    \t\tint j;\r\n    \t\tSystem.out.println (&quot;Enter a number&quot;);\r\n    \t\tj=keyboard.nextInt();\r\n            /*take the above part out and change the j variable if you want to set \r\n            the size*/\r\n    \t\tfor(int i=1; i&lt;=j; i+=2){\r\n    \t\t\tint numSpaces = (j-i)/2;\r\n            for (int k=0; k&lt;numSpaces; k++){\r\n    \t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\t}\r\n      \t\tfor(int k=0; k&lt;numSpaces; k++){\r\n        \t\tSystem.out.print(&quot;*&quot;);\r\n      \t\t\t}\r\n      \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Creating a Christmas Tree using for loops","body":"<pre><code>import java.util.Scanner;\n\npublic class cmastree{\n\n    public static void main (String[]args){\n        Scanner keyboard=new Scanner (System.in);\n\n        int j;\n        System.out.println (\"Enter a number\");\n        j=keyboard.nextInt();\n        /*take the above part out and change the j variable if you want to set \n        the size*/\n        for(int i=1; i&lt;=j; i+=2){\n            int numSpaces = (j-i)/2;\n        for (int k=0; k&lt;numSpaces; k++){\n            System.out.print(\" \");\n            }\n        for(int k=0; k&lt;numSpaces; k++){\n            System.out.print(\"*\");\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13419857,"reputation":11,"user_id":9683037,"display_name":"Shafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524441466,"creation_date":1524429496,"answer_id":49970509,"question_id":30723247,"body_markdown":"    public class ChrismasTree {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint sizeOfTree = 9;\r\n    \t\tdouble remainderVal = sizeOfTree % 2 ;\r\n    \t\tdouble ans = sizeOfTree / 2 ;\r\n    \t\t\t\t\r\n    \t\tif (remainderVal == 0) {\r\n    \t\t\tSystem.out.println(&quot;Invalid number enter 9,19 calculat rest yourself u looser ..&quot;);\r\n    \t\t\tSystem.exit(0);\r\n    \t\t}\r\n    \t\tint middlePos = (int) Math.round(ans + .5);\r\n    \r\n    \t\tfor (int i = 0; i &lt;= sizeOfTree; i++) {\r\n    \t\t\tint lStar = middlePos - i;\r\n    \t\t\tint rStar = middlePos + i;\r\n    \r\n    \t\t\tif (lStar &lt; 1) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tprintleaves(lStar, rStar, sizeOfTree);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void printleaves(int a,int b, int size){\r\n    \t\tSystem.out.println();\r\n    \t\tfor (int i = 1; i &lt;= size; i++) {\r\n    \t\t\tif (i &gt; a &amp;&amp; i &lt; b ){\r\n    \t\t\t\tSystem.out.print(&quot;*&quot;);\r\n    \t\t\t}else System.out.print(&quot; &quot;);\t\r\n    \t\t}\t\r\n    \t}\r\n    }","title":"Creating a Christmas Tree using for loops","body":"<pre><code>public class ChrismasTree {\n\n    public static void main(String[] args) {\n\n        int sizeOfTree = 9;\n        double remainderVal = sizeOfTree % 2 ;\n        double ans = sizeOfTree / 2 ;\n\n        if (remainderVal == 0) {\n            System.out.println(\"Invalid number enter 9,19 calculat rest yourself u looser ..\");\n            System.exit(0);\n        }\n        int middlePos = (int) Math.round(ans + .5);\n\n        for (int i = 0; i &lt;= sizeOfTree; i++) {\n            int lStar = middlePos - i;\n            int rStar = middlePos + i;\n\n            if (lStar &lt; 1) {\n                break;\n            }\n            printleaves(lStar, rStar, sizeOfTree);\n        }\n    }\n\n    public static void printleaves(int a,int b, int size){\n        System.out.println();\n        for (int i = 1; i &lt;= size; i++) {\n            if (i &gt; a &amp;&amp; i &lt; b ){\n                System.out.print(\"*\");\n            }else System.out.print(\" \");    \n        }   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16483965,"reputation":1,"user_id":11909907,"display_name":"Kaustubh Masram"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565408846,"creation_date":1565408846,"answer_id":57439152,"question_id":30723247,"body_markdown":"\r\n    def fist(n)\r\n     k=2*n-2\r\n      for i in range(0,n):\r\n       for j in range(0,k):\r\n       k=k-1\r\n        print(end=&quot; &#39;)\r\n       for j in range(0,i+1):\r\n        print(&quot;*&quot;,end=&quot; &quot;)\r\n       print()\r\n    def second(n)\r\n     k=2*n-2\r\n      for i in range(0,n):\r\n       for j in range(0,k):\r\n       k=k-1\r\n       print(end=&quot; &#39;)\r\n       for j in range(0,i+1):\r\n        print(&quot;*&quot;,end=&quot; &quot;)\r\n       print()\r\n    def stem(m)\r\n     k=11\r\n      for i in range(0,5):\r\n       for j in range(0,k):\r\n       print(end=&quot; &quot;)\r\n       for j in range(0,3):\r\n        print(&quot;*&quot;,end=&quot; &quot;)\r\n       print()\r\n    first(7)\r\n    second(7)\r\n    steam(3)","title":"Creating a Christmas Tree using for loops","body":"<pre><code>def fist(n)\n k=2*n-2\n  for i in range(0,n):\n   for j in range(0,k):\n   k=k-1\n    print(end=\" ')\n   for j in range(0,i+1):\n    print(\"*\",end=\" \")\n   print()\ndef second(n)\n k=2*n-2\n  for i in range(0,n):\n   for j in range(0,k):\n   k=k-1\n   print(end=\" ')\n   for j in range(0,i+1):\n    print(\"*\",end=\" \")\n   print()\ndef stem(m)\n k=11\n  for i in range(0,5):\n   for j in range(0,k):\n   print(end=\" \")\n   for j in range(0,3):\n    print(\"*\",end=\" \")\n   print()\nfirst(7)\nsecond(7)\nsteam(3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22555849,"reputation":1,"user_id":16744252,"display_name":"Vik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629831200,"creation_date":1629831200,"answer_id":68912692,"question_id":30723247,"body_markdown":"        public class ChristmasTree {\r\n                  \r\n        public static void printStars(int number) {\r\n                for (int i = 1; i &lt;= number; i++) {\r\n                    System.out.print(&quot;*&quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        \r\n            public static void printSpaces(int number) {\r\n                for (int i = 0; i &lt; number; i++) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n            }\r\n        \r\n            public static void christmasTree(int height) {\r\n                for (int i = 1; i &lt;= height; i++) {\r\n                    printSpaces(height - i);\r\n                    printStars(i + (i - 1));\r\n                }\r\n             }\r\n\r\n     public static void main(String[] args) {\r\n         //     int x = pick some number, but not TOO big )))\r\n              christmasTree(x);\r\n          }\r\n        }","title":"Creating a Christmas Tree using for loops","body":"<pre><code>    public class ChristmasTree {\n              \n    public static void printStars(int number) {\n            for (int i = 1; i &lt;= number; i++) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n    \n        public static void printSpaces(int number) {\n            for (int i = 0; i &lt; number; i++) {\n                System.out.print(&quot; &quot;);\n            }\n        }\n    \n        public static void christmasTree(int height) {\n            for (int i = 1; i &lt;= height; i++) {\n                printSpaces(height - i);\n                printStars(i + (i - 1));\n            }\n         }\n\n public static void main(String[] args) {\n     //     int x = pick some number, but not TOO big )))\n          christmasTree(x);\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3342882,"reputation":871,"user_id":2808740,"accept_rate":100,"display_name":"Mathias Stavrou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693505313,"creation_date":1693505313,"answer_id":77018316,"question_id":30723247,"body_markdown":"You can try something like this \r\n\r\n\r\n        public class ChristmassTree {\r\n\r\n    public static void main(String[] args) {\r\n        var height = 5; // Adjust the height of the tree\r\n        printChristmasTree(height);\r\n    }\r\n\r\n    public static void printChristmasTree(int height) {\r\n        for (int i=0; i&lt;height; i++){\r\n            printSpaces(height-i-1);\r\n            printAsterisks(i+1);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void printSpaces(int count) {\r\n        for (int i=0; i&lt;count; i++){\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static void printAsterisks(int count) {\r\n        for (int i=0; i&lt;count; i++){\r\n            System.out.print(&quot;* &quot;);\r\n        }\r\n    }}","title":"Creating a Christmas Tree using for loops","body":"<p>You can try something like this</p>\n<pre><code>    public class ChristmassTree {\n\npublic static void main(String[] args) {\n    var height = 5; // Adjust the height of the tree\n    printChristmasTree(height);\n}\n\npublic static void printChristmasTree(int height) {\n    for (int i=0; i&lt;height; i++){\n        printSpaces(height-i-1);\n        printAsterisks(i+1);\n        System.out.println();\n    }\n}\n\npublic static void printSpaces(int count) {\n    for (int i=0; i&lt;count; i++){\n        System.out.print(&quot; &quot;);\n    }\n}\n\npublic static void printAsterisks(int count) {\n    for (int i=0; i&lt;count; i++){\n        System.out.print(&quot;* &quot;);\n    }\n}}\n</code></pre>\n"}],"owner":{"account_id":6017393,"reputation":183,"user_id":4725709,"accept_rate":60,"display_name":"Atif Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79001,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30723316,"answer_count":8,"score":11,"last_activity_date":1693505313,"creation_date":1433825448,"question_id":30723247,"body_markdown":"I am trying to make a christmas tree using for loops and nested for loops. For me to do that I need to be able to make a pyramids with *. I have tried countless times and I am having problems making one. Here is my code:\r\n\r\n    for(int i=1;i&lt;=10;i++){\r\n        for(int j=10;j&gt;i;j--){\r\n            System.out.println(&quot; &quot;);   \r\n        }\r\n    \r\n        for(int k=1;k&lt;=i;k++){\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n    \r\n        for(int l=10;l&lt;=1;l++){\r\n            for(int h=1;h&lt;=10;h++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n        }\r\n    \r\n        System.out.println();  \r\n    }\r\n\r\n \r\n\r\nWhat I am trying to do is:\r\n \r\n\r\n         *\r\n        ***\r\n       *****\r\n      *******\r\n\r\n","title":"Creating a Christmas Tree using for loops","body":"<p>I am trying to make a christmas tree using for loops and nested for loops. For me to do that I need to be able to make a pyramids with *. I have tried countless times and I am having problems making one. Here is my code:</p>\n\n<pre><code>for(int i=1;i&lt;=10;i++){\n    for(int j=10;j&gt;i;j--){\n        System.out.println(\" \");   \n    }\n\n    for(int k=1;k&lt;=i;k++){\n        System.out.print(\"*\");\n    }\n\n    for(int l=10;l&lt;=1;l++){\n        for(int h=1;h&lt;=10;h++){\n            System.out.print(\" \");\n        }\n    }\n\n    System.out.println();  \n}\n</code></pre>\n\n<p>What I am trying to do is:</p>\n\n<pre><code>     *\n    ***\n   *****\n  *******\n</code></pre>\n"},{"tags":["java","idoc","sapjco3"],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693505267,"creation_date":1693505267,"question_id":77018310,"body_markdown":"There is an outbound document on SAP server having number &quot;3710513&quot; and some IDoc status &quot;X&quot;.\r\n\r\nUsing Java I want to change this document status to a different value, for example &quot;12&quot;.\r\n\r\nI managed to [find][1] that common approach to send acknowledgements (and change IDoc status as well) is using `ALEAUD` message.\r\n\r\nThis is what I&#39;m trying to do\r\n\r\n        var XML = &quot;&quot;&quot;\r\n                    &lt;ALEAUD01&gt;\r\n                      &lt;IDOC BEGIN=&quot;1&quot;&gt;\r\n                         &lt;EDI_DC40 SEGMENT=&quot;1&quot;&gt;\r\n                             &lt;MESTYP&gt;ALEAUD&lt;/MESTYP&gt;\r\n                             &lt;IDOCTYP&gt;ALEAUD01&lt;/IDOCTYP&gt;\r\n                             &lt;SNDPOR&gt;MY_SNDPOR&lt;/SNDPOR&gt;\r\n                             &lt;SNDPRT&gt;LS&lt;/SNDPRT&gt;\r\n                             &lt;SNDPRN&gt;MY_SNDPRN&lt;/SNDPRN&gt;\r\n                         &lt;/EDI_DC40&gt;\r\n                         &lt;E1ADHDR SEGMENT=&quot;1&quot;&gt;\r\n                           &lt;E1STATE SEGMENT=&quot;1&quot;&gt;\r\n                             &lt;DOCNUM&gt;3710513&lt;/DOCNUM&gt;\r\n                             &lt;STATUS&gt;12&lt;/STATUS&gt;\r\n                           &lt;/E1STATE&gt;\r\n                         &lt;/E1ADHDR&gt;\r\n                       &lt;/IDOC&gt;\r\n                     &lt;/ALEAUD01&gt;\r\n                    &quot;&quot;&quot;;\r\n    \r\n        JCoDestination destination = getDestinationFromMyCurrentSAPConnecton();\r\n        IDocRepository iDocRepository = JCoIDoc.getIDocRepository(destination);\r\n        IDocFactory iDocFactory = JCoIDoc.getIDocFactory();\r\n    \r\n        String tid = destination.createTID();\r\n     \r\n        IDocXMLProcessor processor = iDocFactory.getIDocXMLProcessor();\r\n        IDocDocumentList iDocList = processor.parse(iDocRepository, XML);\r\n    \r\n        JCoIDoc.send(iDocList, IDocFactory.IDOC_VERSION_DEFAULT, destination, tid);\r\n    \r\n    \r\n        destination.confirmTID(tid);\r\n\r\nThis sending completes without errors.\r\n\r\nBut on the SAP server in dialogue &quot;Status Monitor for ALE Messages&quot; I see that the target IDoc has two status columns (see scereenshot 1) (first=&quot;39&quot;, second=&quot;12&quot;), and in the history (&quot;Status records&quot;) there is only status &quot;39&quot; (see screenshot 2), which was not intended. \r\n\r\n\r\n**Please help me to find out what is the correct way to send a status of IDoc to SAP server, so this status naturally applied to the &quot;Status record&quot; history.**\r\n\r\n----\r\n\r\n***Screenshot 1:***\r\n[![see screenshot][2]][2]\r\n\r\n***Screenshot 2:***\r\n[![see screenshot][3]][3]\r\n\r\n  [1]: https://answers.sap.com/questions/6743008/purpose-of-synch-and-aleaud.html\r\n  [2]: https://i.stack.imgur.com/Ef921.png\r\n  [3]: https://i.stack.imgur.com/fGxKq.png","title":"How to send IDoc status to SAP server?","body":"<p>There is an outbound document on SAP server having number &quot;3710513&quot; and some IDoc status &quot;X&quot;.</p>\n<p>Using Java I want to change this document status to a different value, for example &quot;12&quot;.</p>\n<p>I managed to <a href=\"https://answers.sap.com/questions/6743008/purpose-of-synch-and-aleaud.html\" rel=\"nofollow noreferrer\">find</a> that common approach to send acknowledgements (and change IDoc status as well) is using <code>ALEAUD</code> message.</p>\n<p>This is what I'm trying to do</p>\n<pre><code>    var XML = &quot;&quot;&quot;\n                &lt;ALEAUD01&gt;\n                  &lt;IDOC BEGIN=&quot;1&quot;&gt;\n                     &lt;EDI_DC40 SEGMENT=&quot;1&quot;&gt;\n                         &lt;MESTYP&gt;ALEAUD&lt;/MESTYP&gt;\n                         &lt;IDOCTYP&gt;ALEAUD01&lt;/IDOCTYP&gt;\n                         &lt;SNDPOR&gt;MY_SNDPOR&lt;/SNDPOR&gt;\n                         &lt;SNDPRT&gt;LS&lt;/SNDPRT&gt;\n                         &lt;SNDPRN&gt;MY_SNDPRN&lt;/SNDPRN&gt;\n                     &lt;/EDI_DC40&gt;\n                     &lt;E1ADHDR SEGMENT=&quot;1&quot;&gt;\n                       &lt;E1STATE SEGMENT=&quot;1&quot;&gt;\n                         &lt;DOCNUM&gt;3710513&lt;/DOCNUM&gt;\n                         &lt;STATUS&gt;12&lt;/STATUS&gt;\n                       &lt;/E1STATE&gt;\n                     &lt;/E1ADHDR&gt;\n                   &lt;/IDOC&gt;\n                 &lt;/ALEAUD01&gt;\n                &quot;&quot;&quot;;\n\n    JCoDestination destination = getDestinationFromMyCurrentSAPConnecton();\n    IDocRepository iDocRepository = JCoIDoc.getIDocRepository(destination);\n    IDocFactory iDocFactory = JCoIDoc.getIDocFactory();\n\n    String tid = destination.createTID();\n \n    IDocXMLProcessor processor = iDocFactory.getIDocXMLProcessor();\n    IDocDocumentList iDocList = processor.parse(iDocRepository, XML);\n\n    JCoIDoc.send(iDocList, IDocFactory.IDOC_VERSION_DEFAULT, destination, tid);\n\n\n    destination.confirmTID(tid);\n</code></pre>\n<p>This sending completes without errors.</p>\n<p>But on the SAP server in dialogue &quot;Status Monitor for ALE Messages&quot; I see that the target IDoc has two status columns (see scereenshot 1) (first=&quot;39&quot;, second=&quot;12&quot;), and in the history (&quot;Status records&quot;) there is only status &quot;39&quot; (see screenshot 2), which was not intended.</p>\n<p><strong>Please help me to find out what is the correct way to send a status of IDoc to SAP server, so this status naturally applied to the &quot;Status record&quot; history.</strong></p>\n<hr />\n<p><em><strong>Screenshot 1:</strong></em>\n<a href=\"https://i.stack.imgur.com/Ef921.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ef921.png\" alt=\"see screenshot\" /></a></p>\n<p><em><strong>Screenshot 2:</strong></em>\n<a href=\"https://i.stack.imgur.com/fGxKq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGxKq.png\" alt=\"see screenshot\" /></a></p>\n"},{"tags":["java","arraylist","random","playing-cards"],"comments":[{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1493442302,"post_id":43691935,"comment_id":74429912,"body_markdown":"Is there any particular requirement about Randomness? Why do you feel that randomness is enough or not enough?","body":"Is there any particular requirement about Randomness? Why do you feel that randomness is enough or not enough?"},{"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"score":0,"creation_date":1493442408,"post_id":43691935,"comment_id":74429936,"body_markdown":"There is no such requirement but I have used custom method for shuffle this is main reason. hopefully you understand","body":"There is no such requirement but I have used custom method for shuffle this is main reason. hopefully you understand"},{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1493442545,"post_id":43691935,"comment_id":74429962,"body_markdown":"You haven&#39;t effectively used custom method as underlying, it is java.util.Random. You should consider reading, https://docs.oracle.com/javase/7/docs/api/java/util/Random.html   and   https://blog.tradeshift.com/sources-of-randomness-in-java/","body":"You haven&#39;t effectively used custom method as underlying, it is java.util.Random. You should consider reading, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Random.html</a>   and   <a href=\"https://blog.tradeshift.com/sources-of-randomness-in-java/\" rel=\"nofollow noreferrer\">blog.tradeshift.com/sources-of-randomness-in-java</a>"},{"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"score":0,"creation_date":1493442944,"post_id":43691935,"comment_id":74430031,"body_markdown":"size of deck changing every loop so I think this is custom","body":"size of deck changing every loop so I think this is custom"},{"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"score":0,"creation_date":1493466458,"post_id":43691935,"comment_id":74435539,"body_markdown":"Possible duplicate of [How good is java.util.Random?](http://stackoverflow.com/questions/453479/how-good-is-java-util-random)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/453479/how-good-is-java-util-random\">How good is java.util.Random?</a>"},{"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"score":0,"creation_date":1493467369,"post_id":43691935,"comment_id":74435820,"body_markdown":"I have used custom method after generating random number between 0 to n. That&#39;s the reason I have asked for some suggestion","body":"I have used custom method after generating random number between 0 to n. That&#39;s the reason I have asked for some suggestion"}],"answers":[{"tags":[],"owner":{"account_id":5964559,"reputation":19590,"user_id":4832499,"accept_rate":79,"display_name":"Passer By"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493443385,"creation_date":1493442959,"answer_id":43692044,"question_id":43691935,"body_markdown":"You should define your notion of &quot;randomness&quot; in a precise way. &quot;Increasing randomness&quot; is a rather vague term.\r\n\r\nI will assume by &quot;random&quot;, what you want is a [uniform distribution](https://en.wikipedia.org/wiki/Discrete_uniform_distribution) of [permutation](https://en.wikipedia.org/wiki/Permutation) on your deck. Which is to say, you want your deck to be reordered in such a way that the chance that the next card is a particular card is equal.\r\n\r\nThere are two different factors at play here:\r\n\r\n* How you shuffle\r\n* How good a random generator `Random` is\r\n\r\n--------\r\n\r\n### How you shuffle ###\r\nAs far as how you shuffle goes, it is uniform. It can be proven by [conditional probability](https://en.wikipedia.org/wiki/Conditional_probability) that any card being in any position is exactly 1/52.\r\n\r\n### How good `util.Random` is ###\r\nFirst, to be clear, `util.Random` is **not** actually random. It is a [pseudorandom number generator](https://en.wikipedia.org/wiki/Pseudorandom_number_generator)(PRNG). That means what they do is not to produce truly random numbers. Instead they *try* to, and depending on application requirements, it will be enough.\r\n\r\n`util.Random` is a [linear congruential generator](https://en.wikipedia.org/wiki/Linear_congruential_generator), and as far as PRNGs go, its pretty weak. If you don&#39;t care about *really* randomizing your deck, it will work fine. However if you need something more robust, [here](https://stackoverflow.com/questions/453479/how-good-is-java-util-random) is a starting point.","title":"Randomness of shuffled cards","body":"<p>You should define your notion of \"randomness\" in a precise way. \"Increasing randomness\" is a rather vague term.</p>\n\n<p>I will assume by \"random\", what you want is a <a href=\"https://en.wikipedia.org/wiki/Discrete_uniform_distribution\" rel=\"nofollow noreferrer\">uniform distribution</a> of <a href=\"https://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow noreferrer\">permutation</a> on your deck. Which is to say, you want your deck to be reordered in such a way that the chance that the next card is a particular card is equal.</p>\n\n<p>There are two different factors at play here:</p>\n\n<ul>\n<li>How you shuffle</li>\n<li>How good a random generator <code>Random</code> is</li>\n</ul>\n\n<hr>\n\n<h3>How you shuffle</h3>\n\n<p>As far as how you shuffle goes, it is uniform. It can be proven by <a href=\"https://en.wikipedia.org/wiki/Conditional_probability\" rel=\"nofollow noreferrer\">conditional probability</a> that any card being in any position is exactly 1/52.</p>\n\n<h3>How good <code>util.Random</code> is</h3>\n\n<p>First, to be clear, <code>util.Random</code> is <strong>not</strong> actually random. It is a <a href=\"https://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"nofollow noreferrer\">pseudorandom number generator</a>(PRNG). That means what they do is not to produce truly random numbers. Instead they <em>try</em> to, and depending on application requirements, it will be enough.</p>\n\n<p><code>util.Random</code> is a <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">linear congruential generator</a>, and as far as PRNGs go, its pretty weak. If you don't care about <em>really</em> randomizing your deck, it will work fine. However if you need something more robust, <a href=\"https://stackoverflow.com/questions/453479/how-good-is-java-util-random\">here</a> is a starting point.</p>\n"},{"comments":[{"owner":{"account_id":5565165,"reputation":304,"user_id":4412754,"display_name":"cabolanoz"},"score":0,"creation_date":1493443604,"post_id":43692057,"comment_id":74430143,"body_markdown":"This takes away the burden of the randomness and delegates it to the API, is pretty fun to look at the implementation of it http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Collections.java#455 and the comment &quot;All permutations occur with equal likelihood assuming that the source of randomness is fair.\n&quot;","body":"This takes away the burden of the randomness and delegates it to the API, is pretty fun to look at the implementation of it <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Collections.java#455\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a> and the comment &quot;All permutations occur with equal likelihood assuming that the source of randomness is fair. &quot;"}],"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493443572,"creation_date":1493443098,"answer_id":43692057,"question_id":43691935,"body_markdown":"I suggest you can simply use [Collections.shuffle()][1] as shown below rather than reinventing the shuffling logic which is already provided by `Collections` API:\r\n\r\n    Collections.shuffle(deck);//Pass your ArrayList&lt;Card&gt; object i.e., deck\r\n\r\nSo, by reusing this existing `Collections` API clears all your doubts on the randomness of your `deck` object.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle(java.util.List)","title":"Randomness of shuffled cards","body":"<p>I suggest you can simply use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\">Collections.shuffle()</a> as shown below rather than reinventing the shuffling logic which is already provided by <code>Collections</code> API:</p>\n\n<pre><code>Collections.shuffle(deck);//Pass your ArrayList&lt;Card&gt; object i.e., deck\n</code></pre>\n\n<p>So, by reusing this existing <code>Collections</code> API clears all your doubts on the randomness of your <code>deck</code> object.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1493444966,"creation_date":1493444966,"answer_id":43692252,"question_id":43691935,"body_markdown":"&gt; Does it&#39;s randomness is enough or not ?\r\n\r\nDefine *good enough* (!!)\r\n\r\nYour current approach is going to give a good shuffle, with no obvious biases ... **except** for biases that may be introduced by the random number generator. \r\n\r\nAnd in this case, there is real cause for concern.  Random is specified to be a linear congruential generator, and LC generations have distinct patterns in the numbers that they generate.  (In statistical terms, they show strong auto-correlation.)  This is quite clear if you graph the n&#39;th random number against n.\r\n\r\nTo improve randomness, you should use a better random number generator.  The `SecureRandom` generator should be good enough: [javadoc][1].\r\n\r\n-----------------\r\n\r\nThe same concern about the randomness applies if you use `Collections.shuffle` method.  For a *good* (or consistent) shuffle you should use the method overload where you supply a `Random` implementation ... and choose a good one.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html","title":"Randomness of shuffled cards","body":"<blockquote>\n  <p>Does it's randomness is enough or not ?</p>\n</blockquote>\n\n<p>Define <em>good enough</em> (!!)</p>\n\n<p>Your current approach is going to give a good shuffle, with no obvious biases ... <strong>except</strong> for biases that may be introduced by the random number generator. </p>\n\n<p>And in this case, there is real cause for concern.  Random is specified to be a linear congruential generator, and LC generations have distinct patterns in the numbers that they generate.  (In statistical terms, they show strong auto-correlation.)  This is quite clear if you graph the n'th random number against n.</p>\n\n<p>To improve randomness, you should use a better random number generator.  The <code>SecureRandom</code> generator should be good enough: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n\n<hr>\n\n<p>The same concern about the randomness applies if you use <code>Collections.shuffle</code> method.  For a <em>good</em> (or consistent) shuffle you should use the method overload where you supply a <code>Random</code> implementation ... and choose a good one.</p>\n"},{"tags":[],"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1693504970,"creation_date":1496247814,"answer_id":44290013,"question_id":43691935,"body_markdown":"There is one issue not mentioned here about `java.util.Random`: whether it can choose all permutations of a 52-item list. This is based on the number of seeds it admits. In general, a pseudorandom number generator (PRNG) can&#39;t choose more permutations of random number sequences than the number of seeds it admits (see &quot;Shuffling&quot; in my [article on randomness](https://peteroupc.github.io/random.html) for further discussion). Nothing is said here about PRNGs that admit as many or more seeds than the number of permutations or whether the permutations the PRNG _can_ choose have an equal probability of occurring, as opposed to an ideal process of generating _perfectly_ independent uniform random integers.\r\n\r\n`java.util.Random` admits no more than 2&lt;sup&gt;48&lt;/sup&gt; seeds, since it uses a 48-bit seed length. However, there are 52-factorial permutations of a 52-item list, and that&#39;s higher than 2&lt;sup&gt;225&lt;/sup&gt; -- which exceeds this maximum number of seeds by many orders of magnitude. Because of this, there are many, many permutations of a 52-item list that `java.util.Random` can&#39;t generate (using the same shuffling technique). (And this applies to *any* PRNG that admits fewer than 52-factorial seeds, not just linear congruential generators, like `java.util.Random`, in particular.) Therefore, an application that needs to shuffle a 52-item list would be well advised to avoid PRNGs that admit fewer than 52-factorial seeds (although even if a PRNG admits as many or more than 52-factorial seeds, that is not enough, by itself, to ensure the PRNG can choose from among all permutations with equal probability).\r\n\r\n----\r\n\r\nEDIT: Two recent questions discussed how to generate enough randomness to shuffle a digital &quot;deck&quot; of 52 cards:\r\n\r\nhttps://stackoverflow.com/questions/51771206/is-Java-util-random-really-that-random-how-can-I-generate-52-factorial-possi\r\n\r\nhttps://stackoverflow.com/questions/51787428/where-can-I-get-a-reliable-source-of-entropy-real-randomness-byte\r\n\r\nSee the linked questions for details, and see also my section on [nondeterministic sources and seed generation](https://peteroupc.github.io/random.html#Nondeterministic_Sources_and_Seed_Generation).\r\n\r\nEDIT (Aug. 31, 2023): Edited.","title":"Randomness of shuffled cards","body":"<p>There is one issue not mentioned here about <code>java.util.Random</code>: whether it can choose all permutations of a 52-item list. This is based on the number of seeds it admits. In general, a pseudorandom number generator (PRNG) can't choose more permutations of random number sequences than the number of seeds it admits (see &quot;Shuffling&quot; in my <a href=\"https://peteroupc.github.io/random.html\" rel=\"nofollow noreferrer\">article on randomness</a> for further discussion). Nothing is said here about PRNGs that admit as many or more seeds than the number of permutations or whether the permutations the PRNG <em>can</em> choose have an equal probability of occurring, as opposed to an ideal process of generating <em>perfectly</em> independent uniform random integers.</p>\n<p><code>java.util.Random</code> admits no more than 2<sup>48</sup> seeds, since it uses a 48-bit seed length. However, there are 52-factorial permutations of a 52-item list, and that's higher than 2<sup>225</sup> -- which exceeds this maximum number of seeds by many orders of magnitude. Because of this, there are many, many permutations of a 52-item list that <code>java.util.Random</code> can't generate (using the same shuffling technique). (And this applies to <em>any</em> PRNG that admits fewer than 52-factorial seeds, not just linear congruential generators, like <code>java.util.Random</code>, in particular.) Therefore, an application that needs to shuffle a 52-item list would be well advised to avoid PRNGs that admit fewer than 52-factorial seeds (although even if a PRNG admits as many or more than 52-factorial seeds, that is not enough, by itself, to ensure the PRNG can choose from among all permutations with equal probability).</p>\n<hr />\n<p>EDIT: Two recent questions discussed how to generate enough randomness to shuffle a digital &quot;deck&quot; of 52 cards:</p>\n<p><a href=\"https://stackoverflow.com/questions/51771206/is-Java-util-random-really-that-random-how-can-I-generate-52-factorial-possi\">Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51787428/where-can-I-get-a-reliable-source-of-entropy-real-randomness-byte\">Where can I get a reliable source of entropy (real randomness byte[])?</a></p>\n<p>See the linked questions for details, and see also my section on <a href=\"https://peteroupc.github.io/random.html#Nondeterministic_Sources_and_Seed_Generation\" rel=\"nofollow noreferrer\">nondeterministic sources and seed generation</a>.</p>\n<p>EDIT (Aug. 31, 2023): Edited.</p>\n"}],"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43692252,"answer_count":4,"score":1,"last_activity_date":1693504970,"creation_date":1493441873,"question_id":43691935,"body_markdown":"I have an Array List of cards containing 52 cards. I want to shuffle the deck.\r\n\r\nThis is what I have done.\r\n\r\n1. Created a new Array List.\r\n2. Generated random index between 0 to deck size.\r\n3. Get card at random index and add to new list.\r\n4. Remove card from deck\r\n5. Repeat until deck is empty.\r\n\r\nHere is my code:\r\n\r\n    String[] Number = {&quot;A&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;};\r\n    String[] Suits = {&quot;Club&quot;,&quot;Diamonds&quot;,&quot;Hearts&quot;,&quot;Spades&quot;};\r\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\r\n\r\n    // create a deck    \r\n\r\n\tfor(int i=0;i&lt;13;i++){\r\n            for(int j=0;j&lt;4;j++){\r\n                Card card = new Card(Suits[j],Number[i]);\r\n                deck.add(card);\r\n            }    \r\n        }\r\n\r\n    // shuffle of deck\r\n\r\n\tArrayList&lt;Card&gt; new_deck = new ArrayList&lt;Card&gt;();\r\n        while(deck.size()!=0){   \r\n            \r\n            Random rand = new Random();\r\n            int  n = rand.nextInt(deck.size());\r\n            \r\n            new_deck.add(deck.get(n));\r\n            deck.remove(n);\r\n        }\r\n\r\n    // Display\r\n\r\n\tfor(int i=0;i&lt;52;i++){\r\n            System.out.println(new_deck.get(i).getSuit()+&quot; : &quot;+new_deck.get(i).getValue());\r\n        }\r\n\r\nFinally, I get the shuffled deck from new ArrayList. \r\n\r\nIs its randomness good enough or not?\r\n\r\nWhat should I do to increase randomness?","title":"Randomness of shuffled cards","body":"<p>I have an Array List of cards containing 52 cards. I want to shuffle the deck.</p>\n\n<p>This is what I have done.</p>\n\n<ol>\n<li>Created a new Array List.</li>\n<li>Generated random index between 0 to deck size.</li>\n<li>Get card at random index and add to new list.</li>\n<li>Remove card from deck</li>\n<li>Repeat until deck is empty.</li>\n</ol>\n\n<p>Here is my code:</p>\n\n<pre><code>String[] Number = {\"A\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"J\",\"Q\",\"K\"};\nString[] Suits = {\"Club\",\"Diamonds\",\"Hearts\",\"Spades\"};\nArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\n\n// create a deck    \n\nfor(int i=0;i&lt;13;i++){\n        for(int j=0;j&lt;4;j++){\n            Card card = new Card(Suits[j],Number[i]);\n            deck.add(card);\n        }    \n    }\n\n// shuffle of deck\n\nArrayList&lt;Card&gt; new_deck = new ArrayList&lt;Card&gt;();\n    while(deck.size()!=0){   \n\n        Random rand = new Random();\n        int  n = rand.nextInt(deck.size());\n\n        new_deck.add(deck.get(n));\n        deck.remove(n);\n    }\n\n// Display\n\nfor(int i=0;i&lt;52;i++){\n        System.out.println(new_deck.get(i).getSuit()+\" : \"+new_deck.get(i).getValue());\n    }\n</code></pre>\n\n<p>Finally, I get the shuffled deck from new ArrayList. </p>\n\n<p>Is its randomness good enough or not?</p>\n\n<p>What should I do to increase randomness?</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346422336,"creation_date":1346422336,"answer_id":12217129,"question_id":12217047,"body_markdown":"You have to iterate through all cells in the row and check if they are all empty. I don&#39;t know any other solution...\r\n\r\n     short c;\r\n     for (c = lastRow.getFirstCellNum(); c &lt;= lastRow.getLastCellNum(); c++) {\r\n         cell = lastRow.getCell(c);\r\n         if (cell != null &amp;&amp; lastRow.getCell(c).getCellType() != HSSFCell.CELL_TYPE_BLANK) {\r\n              nonBlankRowFound = true;\r\n         }\r\n     }\r\n\r\nThe code is from [here](http://affy.blogspot.co.uk/2004/04/poi-optimization-eliminating-trailing.html)","title":"How to determine empty row?","body":"<p>You have to iterate through all cells in the row and check if they are all empty. I don't know any other solution...</p>\n\n<pre><code> short c;\n for (c = lastRow.getFirstCellNum(); c &lt;= lastRow.getLastCellNum(); c++) {\n     cell = lastRow.getCell(c);\n     if (cell != null &amp;&amp; lastRow.getCell(c).getCellType() != HSSFCell.CELL_TYPE_BLANK) {\n          nonBlankRowFound = true;\n     }\n }\n</code></pre>\n\n<p>The code is from <a href=\"http://affy.blogspot.co.uk/2004/04/poi-optimization-eliminating-trailing.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":799657,"reputation":300,"user_id":896274,"accept_rate":50,"display_name":"Preet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346423077,"creation_date":1346423077,"answer_id":12217363,"question_id":12217047,"body_markdown":"get the instance of CellReference and use formatAsString() on the instance. compare it with an empty String \r\n\r\n   `\r\n\r\n    if(&quot;&quot;.equals(cellRef.formatAsString())){\r\n         System.out.println(&quot;this is an empty cell&quot;);\r\n       }else{\r\n          System.out.println(&quot;Cell value : &quot;+cellRef.formatAsString());\r\n       }\r\n\r\n`\r\nReference : http://www.javabeat.net/2007/10/apache-poi-reading-excel-sheet-using-java/","title":"How to determine empty row?","body":"<p>get the instance of CellReference and use formatAsString() on the instance. compare it with an empty String </p>\n\n<p>`</p>\n\n<pre><code>if(\"\".equals(cellRef.formatAsString())){\n     System.out.println(\"this is an empty cell\");\n   }else{\n      System.out.println(\"Cell value : \"+cellRef.formatAsString());\n   }\n</code></pre>\n\n<p>`\nReference : <a href=\"http://www.javabeat.net/2007/10/apache-poi-reading-excel-sheet-using-java/\" rel=\"nofollow\">http://www.javabeat.net/2007/10/apache-poi-reading-excel-sheet-using-java/</a></p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1346425311,"creation_date":1346425311,"answer_id":12217982,"question_id":12217047,"body_markdown":"Assuming you want to check if row `n` is empty, remembering that rows in Apache POI are zero based not one based, you&#39;d want something like:\r\n\r\n\r\n     Row r = sheet.getRow(n-1); // 2nd row = row 1\r\n     boolean hasData = true;\r\n\r\n     if (r == null) {\r\n        // Row has never been used\r\n        hasData = false;\r\n     } else {\r\n        // Check to see if all cells in the row are blank (empty)\r\n        hasData = false;\r\n        for (Cell c : r) {\r\n           if (c.getCellType() != Cell.CELL_TYPE_BLANK) {\r\n             hasData = true;\r\n             break;\r\n           }\r\n        }\r\n     }","title":"How to determine empty row?","body":"<p>Assuming you want to check if row <code>n</code> is empty, remembering that rows in Apache POI are zero based not one based, you'd want something like:</p>\n\n<pre><code> Row r = sheet.getRow(n-1); // 2nd row = row 1\n boolean hasData = true;\n\n if (r == null) {\n    // Row has never been used\n    hasData = false;\n } else {\n    // Check to see if all cells in the row are blank (empty)\n    hasData = false;\n    for (Cell c : r) {\n       if (c.getCellType() != Cell.CELL_TYPE_BLANK) {\n         hasData = true;\n         break;\n       }\n    }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7246067,"reputation":783,"user_id":5527914,"accept_rate":75,"display_name":"Harleen"},"score":0,"creation_date":1458560842,"post_id":16402937,"comment_id":59899000,"body_markdown":"I have used the same piece of code but it returns false for cell value empty. If I check if(cell.getStringCellValue != null &amp;&amp; cell.getNumericValue != null) it works for String value but for BigDecimal value it returns IllegalStateException: Cannot convert text to numeric value. Can you suggest me how to handle isRowEmpty to return true for empty row?","body":"I have used the same piece of code but it returns false for cell value empty. If I check if(cell.getStringCellValue != null &amp;&amp; cell.getNumericValue != null) it works for String value but for BigDecimal value it returns IllegalStateException: Cannot convert text to numeric value. Can you suggest me how to handle isRowEmpty to return true for empty row?"},{"owner":{"account_id":8847858,"reputation":1120,"user_id":6791449,"accept_rate":39,"display_name":"Prashant Prabhakar Singh"},"score":0,"creation_date":1487314915,"post_id":16402937,"comment_id":71738414,"body_markdown":"And what if Cell Type is of Formula?","body":"And what if Cell Type is of Formula?"}],"tags":[],"owner":{"account_id":309633,"reputation":744,"user_id":622189,"display_name":"Takaitra"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1415489308,"creation_date":1367857398,"answer_id":16402937,"question_id":12217047,"body_markdown":"I&#39;m using the following method in my POI project and it&#39;s working well. It is a variation of zeller&#39;s solution.\r\n\r\n    public static boolean isRowEmpty(Row row) {\r\n        for (int c = row.getFirstCellNum(); c &lt; row.getLastCellNum(); c++) {\r\n            Cell cell = row.getCell(c);\r\n            if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK)\r\n                return false;\r\n        }\r\n        return true;\r\n    }","title":"How to determine empty row?","body":"<p>I'm using the following method in my POI project and it's working well. It is a variation of zeller's solution.</p>\n\n<pre><code>public static boolean isRowEmpty(Row row) {\n    for (int c = row.getFirstCellNum(); c &lt; row.getLastCellNum(); c++) {\n        Cell cell = row.getCell(c);\n        if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3373217,"reputation":487,"user_id":2831975,"accept_rate":80,"display_name":"Sergii Lisnychyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384523717,"creation_date":1384523717,"answer_id":20002688,"question_id":12217047,"body_markdown":"Yes, but if in some **row** we will have in some **cell** =  **&quot; &quot;** and empty values in another cells. \r\n                                                               This method will be work better:\r\n\r\n   \r\n\r\n  \r\n\r\n      boolean isEmptyRow(Row row){\r\n         boolean isEmptyRow = true;\r\n             for(int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++){\r\n              \tCell cell = row.getCell(cellNum);\r\n            \tif(cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())){\r\n         \t\tisEmptyRow = false;\r\n            \t}    \r\n             }\r\n         return isEmptyRow;\r\n       }\r\n\r\n ","title":"How to determine empty row?","body":"<p>Yes, but if in some <strong>row</strong> we will have in some <strong>cell</strong> =  <strong>\" \"</strong> and empty values in another cells. \n                                                               This method will be work better:</p>\n\n<pre><code>  boolean isEmptyRow(Row row){\n     boolean isEmptyRow = true;\n         for(int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++){\n            Cell cell = row.getCell(cellNum);\n            if(cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())){\n            isEmptyRow = false;\n            }    \n         }\n     return isEmptyRow;\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8443841,"reputation":565,"user_id":6335332,"accept_rate":100,"display_name":"Julian Solarte"},"score":4,"creation_date":1566843339,"post_id":28451783,"comment_id":101774782,"body_markdown":"From POI version 3.15 to 4.2 cell.getCellTypeEnum()  does not exist, instead can use \t\t\tif (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; !cell.toString().isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}","body":"From POI version 3.15 to 4.2 cell.getCellTypeEnum()  does not exist, instead can use \t\t\tif (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; !cell.toString().isEmpty()) { \t\t\t\treturn false; \t\t\t}"},{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1693504384,"post_id":28451783,"comment_id":135773465,"body_markdown":"Not sure when it was introduced, but I&#39;m on 5.2.3 and (assuming you dont need all the special isBlank checks) it seems like you can just do `if (row.getLastCellNum() == -1) {return true; }","body":"Not sure when it was introduced, but I&#39;m on 5.2.3 and (assuming you dont need all the special isBlank checks) it seems like you can just do `if (row.getLastCellNum() == -1) {return true; }"}],"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1637248814,"creation_date":1423649992,"answer_id":28451783,"question_id":12217047,"body_markdown":"The row iterator returns only rows that contain data, however if they are completely empty then iterating by row index, `getRow(index)`  returns `null`\r\n\r\nSolution:\r\n\r\nUp to POI version 3.14 (thanks to Sergii Lisnychyi):\r\n\r\n    private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nFrom POI version 3.15 to 4.2 (`int getCellType()` is deprecated):\r\n\r\n        private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nFrom POI version 4 (`CellTypeEnum getCellTypeEnum()` will return the Enum not int):\r\n\r\n    private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nFrom POI version 5.1 (CellTypeEnum getCellTypeEnum() renamed to getCellType()):\r\n\r\n    private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n","title":"How to determine empty row?","body":"<p>The row iterator returns only rows that contain data, however if they are completely empty then iterating by row index, <code>getRow(index)</code>  returns <code>null</code></p>\n<p>Solution:</p>\n<p>Up to POI version 3.14 (thanks to Sergii Lisnychyi):</p>\n<pre><code>private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>From POI version 3.15 to 4.2 (<code>int getCellType()</code> is deprecated):</p>\n<pre><code>    private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>From POI version 4 (<code>CellTypeEnum getCellTypeEnum()</code> will return the Enum not int):</p>\n<pre><code>private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>From POI version 5.1 (CellTypeEnum getCellTypeEnum() renamed to getCellType()):</p>\n<pre><code>private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1651733604,"post_id":42530619,"comment_id":127434139,"body_markdown":"That iteration would be while file has any row and it would be despite row has empty cells","body":"That iteration would be while file has any row and it would be despite row has empty cells"}],"tags":[],"owner":{"account_id":10360314,"reputation":19,"user_id":7641005,"display_name":"beginnerCoder"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1488372035,"creation_date":1488368004,"answer_id":42530619,"question_id":12217047,"body_markdown":"try using if(iterator.hasNext)\r\n\r\n    Row nextRow = null;\r\n    Cell nextCell = null;\r\n    Iterator&lt;Row&gt; iterator = firstSheet.rowIterator();\r\n    if(iterator.hasNext) {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }","title":"How to determine empty row?","body":"<p>try using if(iterator.hasNext)</p>\n\n<pre><code>Row nextRow = null;\nCell nextCell = null;\nIterator&lt;Row&gt; iterator = firstSheet.rowIterator();\nif(iterator.hasNext) {\n    return true;\n}\nelse {\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14540892,"reputation":1111,"user_id":10502646,"display_name":"snmaddula"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547878326,"creation_date":1547878326,"answer_id":54264558,"question_id":12217047,"body_markdown":"**If you are using apache-poi [4+]:**\r\n\r\nThen the below method works for you. As the other methods suggested did not work for me, I had to do it this way.\r\n\r\n    public static boolean isRowEmpty(Row row) {\r\n        boolean isEmpty = true;\r\n\t\tDataFormatter dataFormatter = new DataFormatter();\r\n\t\tif(row != null) {\r\n\t\t\tfor(Cell cell: row) {\r\n\t\t\t\tif(dataFormatter.formatCellValue(cell).trim().length() &gt; 0) {\r\n\t\t\t\t\tisEmpty = false;\r\n                    break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isEmpty;\r\n\t}\r\n\r\n\r\nThe method `dataFormatter.formatCellValue(cell)` would return `&quot;&quot;`, an `empty / ZERO length string` when the cell is either `null` or `BLANK`.\r\n\r\nThe import statements for your reference:\r\n\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    \r\n\r\nHope this helps!","title":"How to determine empty row?","body":"<p><strong>If you are using apache-poi [4+]:</strong></p>\n\n<p>Then the below method works for you. As the other methods suggested did not work for me, I had to do it this way.</p>\n\n<pre><code>public static boolean isRowEmpty(Row row) {\n    boolean isEmpty = true;\n    DataFormatter dataFormatter = new DataFormatter();\n    if(row != null) {\n        for(Cell cell: row) {\n            if(dataFormatter.formatCellValue(cell).trim().length() &gt; 0) {\n                isEmpty = false;\n                break;\n            }\n        }\n    }\n    return isEmpty;\n}\n</code></pre>\n\n<p>The method <code>dataFormatter.formatCellValue(cell)</code> would return <code>\"\"</code>, an <code>empty / ZERO length string</code> when the cell is either <code>null</code> or <code>BLANK</code>.</p>\n\n<p>The import statements for your reference:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Cell;\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10011132,"reputation":29,"user_id":7403965,"display_name":"Gangatharan Arumugam"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1558089914,"creation_date":1558089914,"answer_id":56184848,"question_id":12217047,"body_markdown":"\tboolean isEmptyRow(Row row) {\r\n\t\tboolean isEmpty=true;\r\n\t\tString data=&quot;&quot;;\r\n\t\tfor(Cell cell:row) {\r\n\t\t\tdata=data.concat(cell.getStringCellValue());\r\n\t\t}\r\n\t\tif(!data.trim().isEmpty()) {\r\n\t\t\tisEmpty=false;\r\n\t\t}\r\n\t\treturn isEmpty;\r\n\t}","title":"How to determine empty row?","body":"<pre><code>boolean isEmptyRow(Row row) {\n    boolean isEmpty=true;\n    String data=\"\";\n    for(Cell cell:row) {\n        data=data.concat(cell.getStringCellValue());\n    }\n    if(!data.trim().isEmpty()) {\n        isEmpty=false;\n    }\n    return isEmpty;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1323092,"reputation":21,"user_id":8503591,"display_name":"Alex IP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621386111,"creation_date":1621338069,"answer_id":67585452,"question_id":12217047,"body_markdown":"**Row == null** is work in my case.\r\n\r\n    int total_row = mySheet.getLastRowNum();\r\n    int current_row = 0;\r\n    HSSFRow hssf_Row;\r\n\r\n    while (current_row &lt;= total_row) {\r\n        hssf_Row = mySheet.getRow(current_row);\r\n        if (hssf_Row == null) Log.d(&quot;empty row&quot;,&quot;row=&quot; + String.valueOf(current_row));\r\n        current_row++;\r\n    }","title":"How to determine empty row?","body":"<p><strong>Row == null</strong> is work in my case.</p>\n<pre><code>int total_row = mySheet.getLastRowNum();\nint current_row = 0;\nHSSFRow hssf_Row;\n\nwhile (current_row &lt;= total_row) {\n    hssf_Row = mySheet.getRow(current_row);\n    if (hssf_Row == null) Log.d(&quot;empty row&quot;,&quot;row=&quot; + String.valueOf(current_row));\n    current_row++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6738627,"reputation":11,"user_id":5192501,"display_name":"Darshan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652868730,"creation_date":1652868730,"answer_id":72287221,"question_id":12217047,"body_markdown":"you could also use ```row.cellIterator()``` method which returns a iterator of the row containing all the cells.\r\n\r\nIf the row is blank\r\n```Iterators.size(row.cellIterator())``` would be zero","title":"How to determine empty row?","body":"<p>you could also use <code>row.cellIterator()</code> method which returns a iterator of the row containing all the cells.</p>\n<p>If the row is blank\n<code>Iterators.size(row.cellIterator())</code> would be zero</p>\n"},{"tags":[],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693504554,"creation_date":1693504554,"answer_id":77018249,"question_id":12217047,"body_markdown":"At least as of `poi-ooxm 5.2.3` it seems like you can do:\r\n\r\n\r\n```Java\r\nfor (Row row : sheet) {\r\n\tif (row.getLastCellNum() == -1) {\r\n\t\tcontinue;\r\n\t}\r\n\r\n\t//do processing\r\n}\r\n```\r\n\r\nThis would not check for empty text etc, you would probably want @EpicPandaForce&#39;s robust answer.\r\nBut for the case where someone on your team added a bunch of blank rows, this seems to be all you need.","title":"How to determine empty row?","body":"<p>At least as of <code>poi-ooxm 5.2.3</code> it seems like you can do:</p>\n<pre><code>for (Row row : sheet) {\n    if (row.getLastCellNum() == -1) {\n        continue;\n    }\n\n    //do processing\n}\n</code></pre>\n<p>This would not check for empty text etc, you would probably want @EpicPandaForce's robust answer.\nBut for the case where someone on your team added a bunch of blank rows, this seems to be all you need.</p>\n"}],"owner":{"account_id":558774,"reputation":20023,"user_id":921193,"accept_rate":62,"display_name":"WelcomeTo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108853,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":12,"score":46,"last_activity_date":1693504554,"creation_date":1346422044,"question_id":12217047,"body_markdown":"How I can determine empty rows in .xls documents using Apache POI? ","title":"How to determine empty row?","body":"<p>How I can determine empty rows in .xls documents using Apache POI? </p>\n"},{"tags":["java","soap","jaxb","jax-ws","xxe"],"comments":[{"owner":{"account_id":12888608,"reputation":35,"user_id":9321296,"display_name":"Kunu"},"score":0,"creation_date":1693504482,"post_id":76993257,"comment_id":135773480,"body_markdown":"Waiting for a answer...","body":"Waiting for a answer..."}],"owner":{"account_id":12888608,"reputation":35,"user_id":9321296,"display_name":"Kunu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693504449,"creation_date":1693229431,"question_id":76993257,"body_markdown":"I want to disallow XML external entity attack (XXE attack) on SOAP Request , When consumer team sending a Soap call to us, may they can replacing the XML data with a malicious external entity that references the servers file /etc/passwd.\r\n```\r\n&lt;!DOCTYPE foo [ &lt;!ENTITY xxe SYSTEM &quot;file:///etc/passwd&quot;&gt; ]&gt;\r\n```\r\nI want to Disallow any DTD coming on the soap request, please give some idea how I can I resolve this.\r\n\r\nSome tutorial its saying at the time of parsing or unmarshalling we an add some flag to true/false, but in this soap request case we are not doing any parsing logic, directly request reaching to service class.\r\n\r\nAs per my knowledge soap request directly reaching to the Service class , then where and what I have to write to disallow the DTD.\r\n\r\nI am using JaxWS-Spring jar,apache-CFX 2.7 and Jaxb for generating my SOAP Webservice API.","title":"How to prevent XML external entity attack (XXE attack) on SOAP Request(Jaxws-spring) Webservice","body":"<p>I want to disallow XML external entity attack (XXE attack) on SOAP Request , When consumer team sending a Soap call to us, may they can replacing the XML data with a malicious external entity that references the servers file /etc/passwd.</p>\n<pre><code>&lt;!DOCTYPE foo [ &lt;!ENTITY xxe SYSTEM &quot;file:///etc/passwd&quot;&gt; ]&gt;\n</code></pre>\n<p>I want to Disallow any DTD coming on the soap request, please give some idea how I can I resolve this.</p>\n<p>Some tutorial its saying at the time of parsing or unmarshalling we an add some flag to true/false, but in this soap request case we are not doing any parsing logic, directly request reaching to service class.</p>\n<p>As per my knowledge soap request directly reaching to the Service class , then where and what I have to write to disallow the DTD.</p>\n<p>I am using JaxWS-Spring jar,apache-CFX 2.7 and Jaxb for generating my SOAP Webservice API.</p>\n"},{"tags":["java","docker","dns","localhost","containers"],"comments":[{"owner":{"account_id":9420,"reputation":4013,"user_id":17404,"accept_rate":87,"display_name":"Shoan"},"score":0,"creation_date":1536986162,"post_id":52339884,"comment_id":91629929,"body_markdown":"If you insist that it has to be localhost, why not just hard code it?","body":"If you insist that it has to be localhost, why not just hard code it?"}],"answers":[{"comments":[{"owner":{"account_id":1989326,"reputation":1689,"user_id":1783732,"accept_rate":39,"display_name":"user1783732"},"score":0,"creation_date":1553636612,"post_id":55294923,"comment_id":97456841,"body_markdown":"What I was looking for was opposite. My code already returned the docker container name (id or a given name), but I wanted to return &quot;localhost&quot; or it&#39;s IP (127.0.0.1). It turns out this is actually implementation dependent, for example behaves differently on MacOS and Linux. The only way to be sure seems to call `NetworkInterface.getNetworkInterfaces` and loop through the interface to use either the loopback (localhost) or the real ipv4 address and its name.","body":"What I was looking for was opposite. My code already returned the docker container name (id or a given name), but I wanted to return &quot;localhost&quot; or it&#39;s IP (127.0.0.1). It turns out this is actually implementation dependent, for example behaves differently on MacOS and Linux. The only way to be sure seems to call <code>NetworkInterface.getNetworkInterfaces</code> and loop through the interface to use either the loopback (localhost) or the real ipv4 address and its name."},{"owner":{"account_id":8321041,"reputation":81,"user_id":6252743,"accept_rate":0,"display_name":"Merv"},"score":0,"creation_date":1553666910,"post_id":55294923,"comment_id":97464109,"body_markdown":"If so, then why not hard code it as suggested by @shoan ?","body":"If so, then why not hard code it as suggested by @shoan ?"},{"owner":{"account_id":1989326,"reputation":1689,"user_id":1783732,"accept_rate":39,"display_name":"user1783732"},"score":0,"creation_date":1553789065,"post_id":55294923,"comment_id":97524876,"body_markdown":"We actually had cases for both &quot;localhost&quot; and outgoing host address. We refactored the code eventually and handled both.","body":"We actually had cases for both &quot;localhost&quot; and outgoing host address. We refactored the code eventually and handled both."}],"tags":[],"owner":{"account_id":8321041,"reputation":81,"user_id":6252743,"accept_rate":0,"display_name":"Merv"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553240406,"creation_date":1553240406,"answer_id":55294923,"question_id":52339884,"body_markdown":"Let&#39;s use this sample code to validate the same...\r\n\r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    public class Util {\r\n    public static String getHostName() {\r\n        String hostName = &quot;&quot;;\r\n        try {\r\n            InetAddress inetAddress = InetAddress.getLocalHost();\r\n            hostName = inetAddress.getHostName();\r\n        } catch (UnknownHostException e) {\r\n\r\n        }\r\n        return hostName;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getHostName());\r\n    }\r\n}\r\n\r\nLet&#39;s assume that you are running a docker container in a Box name `BOX1`\r\n\r\nand the docker containerId  = 164f1347533a...\r\n\r\nThis will print `164f1347533a` as the Hostname.\r\n\r\nTo get `BOX1`, you will have to pass --hostname=BOX1 in the startup command.","title":"how to return &quot;localhost&quot; from InetAddress.getLocalHost().getHostName() in docker container","body":"<p>Let's use this sample code to validate the same...</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\npublic class Util {\npublic static String getHostName() {\n    String hostName = \"\";\n    try {\n        InetAddress inetAddress = InetAddress.getLocalHost();\n        hostName = inetAddress.getHostName();\n    } catch (UnknownHostException e) {\n\n    }\n    return hostName;\n}\n\npublic static void main(String[] args) {\n    System.out.println(getHostName());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Let's assume that you are running a docker container in a Box name <code>BOX1</code></p>\n\n<p>and the docker containerId  = 164f1347533a...</p>\n\n<p>This will print <code>164f1347533a</code> as the Hostname.</p>\n\n<p>To get <code>BOX1</code>, you will have to pass --hostname=BOX1 in the startup command.</p>\n"}],"owner":{"account_id":1989326,"reputation":1689,"user_id":1783732,"accept_rate":39,"display_name":"user1783732"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693504272,"creation_date":1536963754,"question_id":52339884,"body_markdown":"In my docker container (Java application), the call to `InetAddress.getLocalHost().getHostName()` returns the same name we gave in `docker run --name &#39;myserver&#39;`.  \r\n\r\nIs there a way to let `InetAddress.getLocalHost().getHostName()` return &quot;localhost&quot; in Java code inside the docker container?  \r\n\r\nMy /etc/hosts in the docker container looks like this:\r\n```\r\n127.0.0.1\tlocalhost\r\n::1\tlocalhost ip6-localhost ip6-loopback\r\n&lt;snip&gt;\r\n172.17.0.5\tmyserver\r\n```","title":"how to return &quot;localhost&quot; from InetAddress.getLocalHost().getHostName() in docker container","body":"<p>In my docker container (Java application), the call to <code>InetAddress.getLocalHost().getHostName()</code> returns the same name we gave in <code>docker run --name 'myserver'</code>.  </p>\n\n<p>Is there a way to let <code>InetAddress.getLocalHost().getHostName()</code> return \"localhost\" in Java code inside the docker container?  </p>\n\n<p>My /etc/hosts in the docker container looks like this:\n<code>\n127.0.0.1   localhost\n::1 localhost ip6-localhost ip6-loopback\n&lt;snip&gt;\n172.17.0.5  myserver\n</code></p>\n"},{"tags":["java","cobol","jrecord"],"answers":[{"comments":[{"owner":{"account_id":1647733,"reputation":1777,"user_id":1518927,"accept_rate":25,"display_name":"Valerie R"},"score":0,"creation_date":1693334513,"post_id":76996128,"comment_id":135746297,"body_markdown":"Thanks for taking the time to respond...sadly, your example doesn&#39;t compile on the version of JRecord we&#39;re using, and if I cast the result of that newCobolSchemaReader to make it compile, I&#39;m back to the original problem I found. I did find a completely different approach that I&#39;m trying, so hopefully that will bear fruit.","body":"Thanks for taking the time to respond...sadly, your example doesn&#39;t compile on the version of JRecord we&#39;re using, and if I cast the result of that newCobolSchemaReader to make it compile, I&#39;m back to the original problem I found. I did find a completely different approach that I&#39;m trying, so hopefully that will bear fruit."},{"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"score":0,"creation_date":1693421095,"post_id":76996128,"comment_id":135760267,"body_markdown":"The try to update? ... or check its issue tracker and report back?","body":"The try to update? ... or check its issue tracker and report back?"}],"tags":[],"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693258749,"creation_date":1693258396,"answer_id":76996128,"question_id":76996027,"body_markdown":"From looking at the code https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/schema/CobolSchemaReader.java#L138-L141 - just use\r\n\r\n```java\r\nCobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\r\nCobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\r\n```\r\n\r\nwhich is also [used that way in its test programs](https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/zTest/schema/TstArrayChecks.java#L274-L276).\r\n\r\nExplanation: the reader only `implements implements ISchemaIOBuilder`, not the `ICobolSchemaReader` - for whatever reason; but this object does have a `getCobolSchemaDetails()` method.\r\n\r\nNote: for questions on this library you possibly want to check [its issue tracker](https://github.com/bmTas/JRecord/issues).","title":"Using JRccord to access COBOL schema","body":"<p>From looking at the code <a href=\"https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/schema/CobolSchemaReader.java#L138-L141\" rel=\"nofollow noreferrer\">https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/schema/CobolSchemaReader.java#L138-L141</a> - just use</p>\n<pre class=\"lang-java prettyprint-override\"><code>CobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\nCobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\n</code></pre>\n<p>which is also <a href=\"https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/zTest/schema/TstArrayChecks.java#L274-L276\" rel=\"nofollow noreferrer\">used that way in its test programs</a>.</p>\n<p>Explanation: the reader only <code>implements implements ISchemaIOBuilder</code>, not the <code>ICobolSchemaReader</code> - for whatever reason; but this object does have a <code>getCobolSchemaDetails()</code> method.</p>\n<p>Note: for questions on this library you possibly want to check <a href=\"https://github.com/bmTas/JRecord/issues\" rel=\"nofollow noreferrer\">its issue tracker</a>.</p>\n"},{"tags":[],"owner":{"account_id":1647733,"reputation":1777,"user_id":1518927,"accept_rate":25,"display_name":"Valerie R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693503252,"creation_date":1693503252,"answer_id":77018132,"question_id":76996027,"body_markdown":"After trying a few different things, I found an approach that seems to work: \r\n\r\n     IIOBuilder iob = JRecordInterface1.COBOL\r\n                                       .newIOBuilder(&quot;test.cbl&quot;)\r\n                                       .setFileOrganization(Constants.IO_FIXED_LENGTH_RECORDS)\r\n                                       .setFont(&quot;cp037&quot;)\r\n   \t                                   .setDialect(ICopybookDialects.FMT_MAINFRAME);\r\n     LayoutDetail ld = iob.getLayout();\t\t\t\t\r\n     String [] fields = ld.getFieldDescriptions(0, 0);\r\n     for (int i = 0; i &lt; fields.length; i++)\r\n     {\r\n        IFieldDetail fd = ld.getField(0, i);\r\n        System.out.println(&quot;Field #&quot; + i + &quot; = &quot; + fd.getGroupName() + fields[i] + \r\n                           &quot;, Len = &quot; + fd.getLen() + \r\n                           &quot;, Type = &quot; + fd.getType() + \r\n                           &quot;, Decimal &quot; + fd.getDecimal());\r\n     }\r\n\r\nThere&#39;s more to do - I notice if I define a field in the copybook as an array, there doesn&#39;t seem to be an indicator in the IFieldDetail telling me that. But at least I feel like I&#39;m on the right track now.","title":"Using JRccord to access COBOL schema","body":"<p>After trying a few different things, I found an approach that seems to work:</p>\n<pre><code> IIOBuilder iob = JRecordInterface1.COBOL\n                                   .newIOBuilder(&quot;test.cbl&quot;)\n                                   .setFileOrganization(Constants.IO_FIXED_LENGTH_RECORDS)\n                                   .setFont(&quot;cp037&quot;)\n                                   .setDialect(ICopybookDialects.FMT_MAINFRAME);\n LayoutDetail ld = iob.getLayout();             \n String [] fields = ld.getFieldDescriptions(0, 0);\n for (int i = 0; i &lt; fields.length; i++)\n {\n    IFieldDetail fd = ld.getField(0, i);\n    System.out.println(&quot;Field #&quot; + i + &quot; = &quot; + fd.getGroupName() + fields[i] + \n                       &quot;, Len = &quot; + fd.getLen() + \n                       &quot;, Type = &quot; + fd.getType() + \n                       &quot;, Decimal &quot; + fd.getDecimal());\n }\n</code></pre>\n<p>There's more to do - I notice if I define a field in the copybook as an array, there doesn't seem to be an indicator in the IFieldDetail telling me that. But at least I feel like I'm on the right track now.</p>\n"}],"owner":{"account_id":1647733,"reputation":1777,"user_id":1518927,"accept_rate":25,"display_name":"Valerie R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018132,"answer_count":2,"score":0,"last_activity_date":1693503252,"creation_date":1693257087,"question_id":76996027,"body_markdown":"I&#39;m trying to use JRecord version 0.93 to parse a COBOL copybook to understand the individual fields present in the record. I&#39;m a complete newbie to JRecord and I&#39;m struggling to get what seems like a simple task done. \r\n\r\nIn the file &quot;test.cbl&quot;, I have this: \r\n\r\n    01 RECORD-DATA.\r\n        05 KEY-FIELD PIC X(8).\r\n        05 DATA-FIELD PIC X(72). \r\n\r\nI hope to get a list of the field names, their data types and lengths. \r\n\r\nI found the beginnings of an example (here https://sourceforge.net/p/jrecord/discussion/678634/thread/176dcea6): \r\n\r\n\r\n    ICobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\r\n    CobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\r\n\r\nUnfortunately, while the above compiles cleanly, it doesn&#39;t seem to work:\r\n\r\n    java.lang.ClassCastException: net.sf.JRecord.schema.CobolSchemaReader incompatible with net.sf.JRecord.schema.ICobolSchemaReader\r\n    \tat net.sf.JRecord.schema.CobolSchemaReader.newCobolSchemaReader(CobolSchemaReader.java:272)\r\n    \tat TestXform.main(TestJReader.java:56)\r\n\r\nHas anyone done this sort of thing before? Any better approach or examples online that I might learn from? \r\n","title":"Using JRccord to access COBOL schema","body":"<p>I'm trying to use JRecord version 0.93 to parse a COBOL copybook to understand the individual fields present in the record. I'm a complete newbie to JRecord and I'm struggling to get what seems like a simple task done.</p>\n<p>In the file &quot;test.cbl&quot;, I have this:</p>\n<pre><code>01 RECORD-DATA.\n    05 KEY-FIELD PIC X(8).\n    05 DATA-FIELD PIC X(72). \n</code></pre>\n<p>I hope to get a list of the field names, their data types and lengths.</p>\n<p>I found the beginnings of an example (here <a href=\"https://sourceforge.net/p/jrecord/discussion/678634/thread/176dcea6\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/jrecord/discussion/678634/thread/176dcea6</a>):</p>\n<pre><code>ICobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\nCobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\n</code></pre>\n<p>Unfortunately, while the above compiles cleanly, it doesn't seem to work:</p>\n<pre><code>java.lang.ClassCastException: net.sf.JRecord.schema.CobolSchemaReader incompatible with net.sf.JRecord.schema.ICobolSchemaReader\n    at net.sf.JRecord.schema.CobolSchemaReader.newCobolSchemaReader(CobolSchemaReader.java:272)\n    at TestXform.main(TestJReader.java:56)\n</code></pre>\n<p>Has anyone done this sort of thing before? Any better approach or examples online that I might learn from?</p>\n"},{"tags":["java","docker","jboss","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693502285,"creation_date":1693502285,"answer_id":77018033,"question_id":76977877,"body_markdown":"Please try adding `@ActivationConfigProperty(propertyName = &quot;useJNDI&quot;, propertyValue = &quot;false&quot;)`.","title":"MDB tries to find Destination property in JNDI instead of looking for the queue with that actual name when Java app and IBM MQ are run with Docker","body":"<p>Please try adding <code>@ActivationConfigProperty(propertyName = &quot;useJNDI&quot;, propertyValue = &quot;false&quot;)</code>.</p>\n"}],"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693502285,"creation_date":1692971704,"question_id":76977877,"body_markdown":"I have\r\n\r\n1) a Docker image providing a IBM MQ queue with the following Dockerfile:\r\n```\r\nFROM ibmcom/mq\r\n\r\nENV LICENSE=accept\r\nENV MQ_QMGR_NAME=QMGR\r\n\r\nCOPY config.mqsc /etc/mqm/\r\nCOPY setup.sh /etc/mqm/\r\nUSER root\r\nRUN chmod +x /etc/mqm/setup.sh\r\n\r\nEXPOSE 1414 9443\r\n\r\nCMD [&quot;/etc/mqm/setup.sh&quot;]\r\n```\r\nwith config.mqsc just defining my queue ```DEFINE QLOCAL(&#39;MY.TEST.QUEUE&#39;) REPLACE```\r\nand setup.sh being\r\n```\r\n#!/bin/bash\r\n\r\n# Apply configuration\r\nrunmqsc &lt; /etc/mqm/config.mqsc\r\n\r\n# Start MQ server\r\nQMGR_NAME=$MQ_QMGR_NAME\r\nstrmqm $QMGR_NAME\r\n```\r\n2) a Java EE application that has a MessageDriven Bean connected to that queue. The Dockerfile looks like that:\r\n```\r\nFROM jboss/wildfly:latest\r\n\r\nENV WILDFLY_CONFIG=standalone-full.xml\r\nCMD [&quot;/opt/jboss/wildfly/bin/standalone.sh&quot;, &quot;-c&quot;, &quot;standalone-full.xml&quot;, &quot;-b&quot;, &quot;0.0.0.0&quot;]\r\nWORKDIR /app\r\n\r\nCOPY /target/my-app.jar /opt/jboss/wildfly/standalone/deployments/\r\n```\r\nI configured my MDBs like that:\r\n```\r\n@MessageDriven(activationConfig = {\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;My.Test.Queue&quot;)\r\n})\r\n```\r\nI started both Docker containers on the same network:\r\n```\r\ndocker network create testnetwork\r\ndocker run --network=testnetwork -d -p 8080:8080 --name app-test-container app-test\r\ndocker run --network=testnetwork -d -p 1414:1414 -p 9443:9443 --name queue-test-container queue-test\r\n```\r\n\r\nHowever, I&#39;m getting the following error:\r\n```\r\nAMQ153005: Unable to retrieve &quot;MY.TEST.QUEUE&quot; from JNDI. \r\nCreating a new &quot;javax.jms.Queue&quot; named &quot;jms.queue.MY.TEST.QUEUE&quot; to be used by the MDB.\r\n```\r\n\r\nSo for some reason, the MDB seems to try looking for a JNDI resource instead of the queue of the actual provided name. Why is that the case?","title":"MDB tries to find Destination property in JNDI instead of looking for the queue with that actual name when Java app and IBM MQ are run with Docker","body":"<p>I have</p>\n<ol>\n<li>a Docker image providing a IBM MQ queue with the following Dockerfile:</li>\n</ol>\n<pre><code>FROM ibmcom/mq\n\nENV LICENSE=accept\nENV MQ_QMGR_NAME=QMGR\n\nCOPY config.mqsc /etc/mqm/\nCOPY setup.sh /etc/mqm/\nUSER root\nRUN chmod +x /etc/mqm/setup.sh\n\nEXPOSE 1414 9443\n\nCMD [&quot;/etc/mqm/setup.sh&quot;]\n</code></pre>\n<p>with config.mqsc just defining my queue <code>DEFINE QLOCAL('MY.TEST.QUEUE') REPLACE</code>\nand setup.sh being</p>\n<pre><code>#!/bin/bash\n\n# Apply configuration\nrunmqsc &lt; /etc/mqm/config.mqsc\n\n# Start MQ server\nQMGR_NAME=$MQ_QMGR_NAME\nstrmqm $QMGR_NAME\n</code></pre>\n<ol start=\"2\">\n<li>a Java EE application that has a MessageDriven Bean connected to that queue. The Dockerfile looks like that:</li>\n</ol>\n<pre><code>FROM jboss/wildfly:latest\n\nENV WILDFLY_CONFIG=standalone-full.xml\nCMD [&quot;/opt/jboss/wildfly/bin/standalone.sh&quot;, &quot;-c&quot;, &quot;standalone-full.xml&quot;, &quot;-b&quot;, &quot;0.0.0.0&quot;]\nWORKDIR /app\n\nCOPY /target/my-app.jar /opt/jboss/wildfly/standalone/deployments/\n</code></pre>\n<p>I configured my MDBs like that:</p>\n<pre><code>@MessageDriven(activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;My.Test.Queue&quot;)\n})\n</code></pre>\n<p>I started both Docker containers on the same network:</p>\n<pre><code>docker network create testnetwork\ndocker run --network=testnetwork -d -p 8080:8080 --name app-test-container app-test\ndocker run --network=testnetwork -d -p 1414:1414 -p 9443:9443 --name queue-test-container queue-test\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<pre><code>AMQ153005: Unable to retrieve &quot;MY.TEST.QUEUE&quot; from JNDI. \nCreating a new &quot;javax.jms.Queue&quot; named &quot;jms.queue.MY.TEST.QUEUE&quot; to be used by the MDB.\n</code></pre>\n<p>So for some reason, the MDB seems to try looking for a JNDI resource instead of the queue of the actual provided name. Why is that the case?</p>\n"},{"tags":["java","spring","hibernate","h2","crud-repository"],"answers":[{"comments":[{"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"score":0,"creation_date":1693504608,"post_id":77017961,"comment_id":135773504,"body_markdown":"That did the trick. Thank You!","body":"That did the trick. Thank You!"}],"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693501672,"creation_date":1693501672,"answer_id":77017961,"question_id":77017882,"body_markdown":"You need to declare the `id` column as an identity column:\r\n```lang-sql\r\nid BIGINT GENERATED BY DEFAULT AS IDENTITY\r\n```\r\nIn MySQL or MariaDB compatibility modes of H2 you can use non-stantard\r\n```lang-sql\r\n`id` BIGINT AUTO_INCREMENT\r\n```\r\ninstead.","title":"Hibernate attempting to insert null id in CrudRepository","body":"<p>You need to declare the <code>id</code> column as an identity column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>id BIGINT GENERATED BY DEFAULT AS IDENTITY\n</code></pre>\n<p>In MySQL or MariaDB compatibility modes of H2 you can use non-stantard</p>\n<pre class=\"lang-sql prettyprint-override\"><code>`id` BIGINT AUTO_INCREMENT\n</code></pre>\n<p>instead.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77017961,"answer_count":1,"score":1,"last_activity_date":1693501672,"creation_date":1693500953,"question_id":77017882,"body_markdown":"I&#39;m doing some testing on a spring application using an in-memory H2 database. The database has a &#39;message&#39; table with the schema:\r\n\r\n    CREATE TABLE `message` (\r\n      `id` bigint(20) NOT NULL,\r\n      `body` CLOB,\r\n      `channels` varchar(500) NOT NULL,\r\n      `end_date` datetime DEFAULT NULL,\r\n      `start` datetime DEFAULT NULL,\r\n      `status` varchar(120) DEFAULT NULL,\r\n      `title` varchar(120) DEFAULT NULL,\r\n      `approved` bit(1) DEFAULT NULL,\r\n      `approver_name` varchar(150) DEFAULT NULL,\r\n      `approver_sub` varchar(120) DEFAULT NULL,\r\n      `create_date` datetime DEFAULT NULL,\r\n      `creator_name` varchar(150) DEFAULT NULL,\r\n      `creator_sub` varchar(120) DEFAULT NULL,\r\n      `modify_date` datetime DEFAULT NULL,\r\n      `affiliations` varchar(500) NOT NULL,\r\n      `html` bit(1) NOT NULL,\r\n      `reject_reason` varchar(255) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    )\r\n\r\nand an entity class:\r\n\r\n    @Entity\r\n    public class Message {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    \tprivate long id;\r\n    \r\n    \t@Column(name = &quot;title&quot;, length = 120, nullable = true)\r\n    \tprivate String title;\r\n    \r\n    \t@Lob\r\n    \t@Column(name = &quot;body&quot;, nullable = true)\r\n    \tprivate String body;\r\n    ...\r\n    }\r\n\r\nIn my code, I&#39;m trying to insert a new entry into the message table. I have a service method like:\r\n\r\n    public Message saveMessage(MessageInput messageInput, LocalDateTime start, LocalDateTime end, String status, String requestor) {\r\n    \t\tMessage message = new Message();\r\n            message.setTitle(messageInput.getMessage_title());\r\n    \t\tmessage.setBody(messageInput.getMessage_body());\r\n            messageRepository.save(message);\r\n    } \r\n\r\nwhere messageRepository is a org.springframework.data.repository.CrudRepository\r\n\r\nI turned on logging and when I run my code I get the following log messages:\r\n\r\n    Hibernate: insert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [[Employee, Staff]]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [2] as [BOOLEAN] - [false]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [3] as [VARCHAR] - [null]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [4] as [VARCHAR] - [null]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [5] as [CLOB] - [the test body]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [6] as [VARCHAR] - [[57823ff6-e262-4201-8766-84cd17dfe116]]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [7] as [TIMESTAMP] - [2023-08-31T12:30:03.304774]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [8] as [VARCHAR] - [ptb014]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [9] as [VARCHAR] - [ptb014]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [10] as [TIMESTAMP] - [2023-09-07T12:30:03.268680]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [11] as [BOOLEAN] - [false]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [12] as [TIMESTAMP] - [2023-08-31T12:30:03.304793]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [13] as [VARCHAR] - [null]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [14] as [TIMESTAMP] - [2023-08-31T12:30:03.268680]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [15] as [VARCHAR] - [MODERATOR_APPROVED]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [16] as [VARCHAR] - [A Title]\r\n    2023-08-31 12:30:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - NULL not allowed for column &quot;ID&quot;; SQL statement:\r\n    insert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-220]\r\n\r\n\r\nLooking at the logs, it seems that the insert is including an id parameter, but since the database is expecting to generate that value, it is getting passed NULL. I did some research, and most of the suggestions I have seen suggest either setting the GenerationType to IDENTITY and or changing the **spring.jpa.hibernate.ddl-auto** configuration to &#39;update&#39;. I tried both and I&#39;m still getting the same results. What do I need to do to get identity generation to work?\r\n\r\n\r\n","title":"Hibernate attempting to insert null id in CrudRepository","body":"<p>I'm doing some testing on a spring application using an in-memory H2 database. The database has a 'message' table with the schema:</p>\n<pre><code>CREATE TABLE `message` (\n  `id` bigint(20) NOT NULL,\n  `body` CLOB,\n  `channels` varchar(500) NOT NULL,\n  `end_date` datetime DEFAULT NULL,\n  `start` datetime DEFAULT NULL,\n  `status` varchar(120) DEFAULT NULL,\n  `title` varchar(120) DEFAULT NULL,\n  `approved` bit(1) DEFAULT NULL,\n  `approver_name` varchar(150) DEFAULT NULL,\n  `approver_sub` varchar(120) DEFAULT NULL,\n  `create_date` datetime DEFAULT NULL,\n  `creator_name` varchar(150) DEFAULT NULL,\n  `creator_sub` varchar(120) DEFAULT NULL,\n  `modify_date` datetime DEFAULT NULL,\n  `affiliations` varchar(500) NOT NULL,\n  `html` bit(1) NOT NULL,\n  `reject_reason` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n)\n</code></pre>\n<p>and an entity class:</p>\n<pre><code>@Entity\npublic class Message {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private long id;\n\n    @Column(name = &quot;title&quot;, length = 120, nullable = true)\n    private String title;\n\n    @Lob\n    @Column(name = &quot;body&quot;, nullable = true)\n    private String body;\n...\n}\n</code></pre>\n<p>In my code, I'm trying to insert a new entry into the message table. I have a service method like:</p>\n<pre><code>public Message saveMessage(MessageInput messageInput, LocalDateTime start, LocalDateTime end, String status, String requestor) {\n        Message message = new Message();\n        message.setTitle(messageInput.getMessage_title());\n        message.setBody(messageInput.getMessage_body());\n        messageRepository.save(message);\n} \n</code></pre>\n<p>where messageRepository is a org.springframework.data.repository.CrudRepository</p>\n<p>I turned on logging and when I run my code I get the following log messages:</p>\n<pre><code>Hibernate: insert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [[Employee, Staff]]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [2] as [BOOLEAN] - [false]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [3] as [VARCHAR] - [null]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [4] as [VARCHAR] - [null]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [5] as [CLOB] - [the test body]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [6] as [VARCHAR] - [[57823ff6-e262-4201-8766-84cd17dfe116]]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [7] as [TIMESTAMP] - [2023-08-31T12:30:03.304774]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [8] as [VARCHAR] - [ptb014]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [9] as [VARCHAR] - [ptb014]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [10] as [TIMESTAMP] - [2023-09-07T12:30:03.268680]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [11] as [BOOLEAN] - [false]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [12] as [TIMESTAMP] - [2023-08-31T12:30:03.304793]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [13] as [VARCHAR] - [null]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [14] as [TIMESTAMP] - [2023-08-31T12:30:03.268680]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [15] as [VARCHAR] - [MODERATOR_APPROVED]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [16] as [VARCHAR] - [A Title]\n2023-08-31 12:30:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - NULL not allowed for column &quot;ID&quot;; SQL statement:\ninsert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-220]\n</code></pre>\n<p>Looking at the logs, it seems that the insert is including an id parameter, but since the database is expecting to generate that value, it is getting passed NULL. I did some research, and most of the suggestions I have seen suggest either setting the GenerationType to IDENTITY and or changing the <strong>spring.jpa.hibernate.ddl-auto</strong> configuration to 'update'. I tried both and I'm still getting the same results. What do I need to do to get identity generation to work?</p>\n"},{"tags":["java","sql","base64","snowflake-cloud-data-platform","user-defined-functions"],"comments":[{"owner":{"account_id":132457,"reputation":2269,"user_id":333153,"display_name":"endo64"},"score":0,"creation_date":1633985532,"post_id":69532221,"comment_id":122901002,"body_markdown":"Doesn&#39;t `BASE64_DECODE_STRING` do what you want?","body":"Doesn&#39;t <code>BASE64_DECODE_STRING</code> do what you want?"},{"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"score":0,"creation_date":1633986155,"post_id":69532221,"comment_id":122901207,"body_markdown":"Thanks @endo64. That produces an ```Invalid UTF8 detected while decoding``` error on strings that work in bash.  Obviously I&#39;m using bash as a sanity check here, but there could be a few things I&#39;m overlooking.","body":"Thanks @endo64. That produces an <code>Invalid UTF8 detected while decoding</code> error on strings that work in bash.  Obviously I&#39;m using bash as a sanity check here, but there could be a few things I&#39;m overlooking."},{"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"score":0,"creation_date":1633988672,"post_id":69532221,"comment_id":122901852,"body_markdown":"For what it&#39;s worth, I&#39;ve also been able to unpack the json with a similar process in Python.  So as far as `snowflake-sql` I can&#39;t tell if I don&#39;t know what I&#39;m doing or it&#39;s not possible.","body":"For what it&#39;s worth, I&#39;ve also been able to unpack the json with a similar process in Python.  So as far as <code>snowflake-sql</code> I can&#39;t tell if I don&#39;t know what I&#39;m doing or it&#39;s not possible."},{"owner":{"account_id":17583009,"reputation":10299,"user_id":12756381,"display_name":"Greg Pavlik"},"score":0,"creation_date":1633992109,"post_id":69532221,"comment_id":122902567,"body_markdown":"The Snowflake uncompress function has the same available compression/decompression methods as the compress function. In the documentation for compress, it does not list gunzip: https://docs.snowflake.com/en/developer-guide/udf/javascript/udf-javascript-tabular-functions.html. You&#39;d have to use something external or a Java UDF with a gunzip library in the JAR file.","body":"The Snowflake uncompress function has the same available compression/decompression methods as the compress function. In the documentation for compress, it does not list gunzip: <a href=\"https://docs.snowflake.com/en/developer-guide/udf/javascript/udf-javascript-tabular-functions.html\" rel=\"nofollow noreferrer\">docs.snowflake.com/en/developer-guide/udf/javascript/&hellip;</a>. You&#39;d have to use something external or a Java UDF with a gunzip library in the JAR file."},{"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"score":0,"creation_date":1633992271,"post_id":69532221,"comment_id":122902590,"body_markdown":"Thanks Greg, I&#39;ll look into your suggestion.","body":"Thanks Greg, I&#39;ll look into your suggestion."}],"answers":[{"comments":[{"owner":{"account_id":275938,"reputation":6148,"user_id":569085,"accept_rate":70,"display_name":"Rafay"},"score":0,"creation_date":1660237586,"post_id":69535298,"comment_id":129491351,"body_markdown":"Note that the maximum size for a Java UDF output row is 16 MB according to [this](https://docs.snowflake.com/en/developer-guide/udf/java/udf-java-introduction.html) so if your entire uncompressed string size exceeds 16MB, you can&#39;t iterate over the BufferedReader to get the whole string.","body":"Note that the maximum size for a Java UDF output row is 16 MB according to <a href=\"https://docs.snowflake.com/en/developer-guide/udf/java/udf-java-introduction.html\" rel=\"nofollow noreferrer\">this</a> so if your entire uncompressed string size exceeds 16MB, you can&#39;t iterate over the BufferedReader to get the whole string."}],"tags":[],"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634015064,"creation_date":1634015064,"answer_id":69535298,"question_id":69532221,"body_markdown":"This works:\r\n\r\n```sql\r\nselect udf_unzip(&#39;H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=&#39;);\r\n\r\n-- hello\r\n```\r\n\r\nif you define a Java UDF like this:\r\n\r\n```sql\r\ncreate or replace function udf_unzip(b64 string)\r\nreturns string\r\nlanguage java\r\nhandler=&#39;MyClass.unzip&#39;\r\nas\r\n$$\r\nimport java.util.zip.GZIPInputStream;\r\nimport java.util.Base64;\r\nimport java.io.*;\r\n\r\n    class MyClass {\r\n        public static String unzip(String b64) throws Exception {\r\n            byte[] bytes = Base64.getDecoder().decode(b64);\r\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\r\n            InputStreamReader reader = new InputStreamReader(gis);\r\n            BufferedReader in = new BufferedReader(reader);\r\n            return in.readLine();\r\n        }\r\n    }\r\n$$;\r\n```\r\n\r\nNote that this sample UDF only returns the first line from the encoded string. You&#39;ll need to iterate over the BufferedReader to get the whole string:\r\n\r\n- https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java","title":"Decompress base64 encoded, gzipped JSON","body":"<p>This works:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select udf_unzip('H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=');\n\n-- hello\n</code></pre>\n<p>if you define a Java UDF like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace function udf_unzip(b64 string)\nreturns string\nlanguage java\nhandler='MyClass.unzip'\nas\n$$\nimport java.util.zip.GZIPInputStream;\nimport java.util.Base64;\nimport java.io.*;\n\n    class MyClass {\n        public static String unzip(String b64) throws Exception {\n            byte[] bytes = Base64.getDecoder().decode(b64);\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\n            InputStreamReader reader = new InputStreamReader(gis);\n            BufferedReader in = new BufferedReader(reader);\n            return in.readLine();\n        }\n    }\n$$;\n</code></pre>\n<p>Note that this sample UDF only returns the first line from the encoded string. You'll need to iterate over the BufferedReader to get the whole string:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java\">How do I read / convert an InputStream into a String in Java?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16554306,"reputation":1572,"user_id":11983601,"display_name":"George Pipis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693501633,"creation_date":1693501633,"answer_id":77017957,"question_id":69532221,"body_markdown":"You can use a Python UDF as follows:\r\n\r\n    create or replace function python_udf_unzip(s string)\r\n    returns string\r\n    language python\r\n    runtime_version = &#39;3.8&#39;\r\n    handler = &#39;udf_unzip&#39;\r\n    as\r\n    $$\r\n    def udf_unzip(x):\r\n        import gzip\r\n        import base64\r\n         \r\n        x = gzip.decompress(base64.b64decode(x)).decode(&#39;utf-8&#39;)\r\n         \r\n        return x\r\n    $$;\r\n\r\nAnd you can call it as:\r\n\r\n    select python_udf_unzip(&#39;H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=&#39;)\r\n\r\nAnd you get:\r\n\r\n    hello","title":"Decompress base64 encoded, gzipped JSON","body":"<p>You can use a Python UDF as follows:</p>\n<pre><code>create or replace function python_udf_unzip(s string)\nreturns string\nlanguage python\nruntime_version = '3.8'\nhandler = 'udf_unzip'\nas\n$$\ndef udf_unzip(x):\n    import gzip\n    import base64\n     \n    x = gzip.decompress(base64.b64decode(x)).decode('utf-8')\n     \n    return x\n$$;\n</code></pre>\n<p>And you can call it as:</p>\n<pre><code>select python_udf_unzip('H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=')\n</code></pre>\n<p>And you get:</p>\n<pre><code>hello\n</code></pre>\n"}],"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693501633,"creation_date":1633984602,"question_id":69532221,"body_markdown":"I&#39;ve got base64 encoded, gzipped json in a Snowflake binary column that I&#39;m trying to unpack.\r\n\r\nWith the query:\r\n\r\n    select\r\n        base64_encode(my_binary_data) as my_base64_string\r\n    from my_table\r\n\r\nI  get a base64 encoded string, which I can cut n&#39; paste into a bash script and pipe through:\r\n\r\n    echo $my_base64_string | base64 -d | gunzip\r\n\r\nand get valid results.  My question is, can I accomplish this through a query?  I&#39;ve tried some variations with ```decompress_string()```, but I can&#39;t figure it out.  Any suggestions?","title":"Decompress base64 encoded, gzipped JSON","body":"<p>I've got base64 encoded, gzipped json in a Snowflake binary column that I'm trying to unpack.</p>\n<p>With the query:</p>\n<pre><code>select\n    base64_encode(my_binary_data) as my_base64_string\nfrom my_table\n</code></pre>\n<p>I  get a base64 encoded string, which I can cut n' paste into a bash script and pipe through:</p>\n<pre><code>echo $my_base64_string | base64 -d | gunzip\n</code></pre>\n<p>and get valid results.  My question is, can I accomplish this through a query?  I've tried some variations with <code>decompress_string()</code>, but I can't figure it out.  Any suggestions?</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1498803004,"post_id":35277727,"comment_id":76659525,"body_markdown":"Did you get solution to this issue?","body":"Did you get solution to this issue?"}],"answers":[{"tags":[],"owner":{"account_id":8052672,"reputation":1,"user_id":6070733,"display_name":"Piotr Larysz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458305149,"creation_date":1458296101,"answer_id":36081690,"question_id":35277727,"body_markdown":"`@ControllerAdvice` component should be registered in Spring&#39;s context as any other component. Make sure Spring sees this component, e.q. by including it in `@ComponentScan` (Java Config) or in `&lt;context:component-scan/&gt;` (xml way). The preferred context to register it would be the Dispatcher Servlet&#39;s one.","title":"How to use RequestBodyAdvice","body":"<p><code>@ControllerAdvice</code> component should be registered in Spring's context as any other component. Make sure Spring sees this component, e.q. by including it in <code>@ComponentScan</code> (Java Config) or in <code>&lt;context:component-scan/&gt;</code> (xml way). The preferred context to register it would be the Dispatcher Servlet's one.</p>\n"},{"comments":[{"owner":{"account_id":312929,"reputation":1478,"user_id":627297,"accept_rate":50,"display_name":"alex.b"},"score":0,"creation_date":1500996954,"post_id":44452208,"comment_id":77577467,"body_markdown":"I made the post to blog how to use the RequestBodyAdvice with real example: http://deventh.blogspot.com/2017/07/spring-mvc-requestbodyadvice-or-how-to.html","body":"I made the post to blog how to use the RequestBodyAdvice with real example: <a href=\"http://deventh.blogspot.com/2017/07/spring-mvc-requestbodyadvice-or-how-to.html\" rel=\"nofollow noreferrer\">deventh.blogspot.com/2017/07/&hellip;</a>"}],"tags":[],"owner":{"account_id":312929,"reputation":1478,"user_id":627297,"accept_rate":50,"display_name":"alex.b"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496994536,"creation_date":1496994536,"answer_id":44452208,"question_id":35277727,"body_markdown":"You should extend `WebMvcConfigurationSupport` directly for the more specific configuration (instead of `@EnableWebMvc` if you follow this approach).\r\n\r\nThen override this method `org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#createRequestMappingHandlerAdapter` and set your `RequestBodyAdvice` manually. \r\n\r\nThis should work","title":"How to use RequestBodyAdvice","body":"<p>You should extend <code>WebMvcConfigurationSupport</code> directly for the more specific configuration (instead of <code>@EnableWebMvc</code> if you follow this approach).</p>\n\n<p>Then override this method <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#createRequestMappingHandlerAdapter</code> and set your <code>RequestBodyAdvice</code> manually. </p>\n\n<p>This should work</p>\n"}],"owner":{"account_id":4166276,"reputation":1621,"user_id":5140458,"accept_rate":50,"display_name":"Vivek Sinha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8404,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693501355,"creation_date":1454959795,"question_id":35277727,"body_markdown":"    @ControllerAdvice\r\n    public class RequestBodyAdviceChain implements RequestBodyAdvice {\r\n    \r\n        @Override\r\n        public boolean supports(MethodParameter methodParameter, Type type,\r\n                Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public Object handleEmptyBody(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter,\r\n                Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\r\n            return o;\r\n        }\r\n    \r\n        @Override\r\n        public HttpInputMessage beforeBodyRead(HttpInputMessage httpInputMessage, MethodParameter methodParameter,\r\n                Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) throws IOException {\r\n            return httpInputMessage;\r\n        }\r\n    \r\n        @Override\r\n        public Object afterBodyRead(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type,\r\n                Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\r\n            return o;\r\n        }\r\n    }\r\n\r\nIdeally, flow should reach these function first and then go to controller but it&#39;s not working.\r\n\r\n","title":"How to use RequestBodyAdvice","body":"<pre><code>@ControllerAdvice\npublic class RequestBodyAdviceChain implements RequestBodyAdvice {\n\n    @Override\n    public boolean supports(MethodParameter methodParameter, Type type,\n            Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\n        return true;\n    }\n\n    @Override\n    public Object handleEmptyBody(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter,\n            Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\n        return o;\n    }\n\n    @Override\n    public HttpInputMessage beforeBodyRead(HttpInputMessage httpInputMessage, MethodParameter methodParameter,\n            Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) throws IOException {\n        return httpInputMessage;\n    }\n\n    @Override\n    public Object afterBodyRead(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type,\n            Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\n        return o;\n    }\n}\n</code></pre>\n\n<p>Ideally, flow should reach these function first and then go to controller but it's not working.</p>\n"},{"tags":["java","android-studio"],"answers":[{"comments":[{"owner":{"account_id":24392358,"reputation":1,"user_id":18322169,"display_name":"Het Shukla"},"score":0,"creation_date":1693500554,"post_id":76994939,"comment_id":135772751,"body_markdown":"I tried but it is not working, But i found solution on github. There is some bug in dolphine version of android, For using neumorphism library i needed to add colors mannualy in colors.xml file and it solves","body":"I tried but it is not working, But i found solution on github. There is some bug in dolphine version of android, For using neumorphism library i needed to add colors mannualy in colors.xml file and it solves"}],"tags":[],"owner":{"account_id":2865984,"reputation":11,"user_id":2460301,"display_name":"IAMLOOKER50"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693244283,"creation_date":1693244283,"answer_id":76994939,"question_id":76994712,"body_markdown":"Just out of curiosity, try to using a different layout like LinearLayout and see if that helps.\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingLeft=&quot;16dp&quot;\r\n    android:paddingRight=&quot;16dp&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n\r\n\r\n\r\n ","title":"Android studio, design preview not working with neumorphism library","body":"<p>Just out of curiosity, try to using a different layout like LinearLayout and see if that helps.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingLeft=&quot;16dp&quot;\nandroid:paddingRight=&quot;16dp&quot;\nandroid:orientation=&quot;vertical&quot; &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24392358,"reputation":1,"user_id":18322169,"display_name":"Het Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693501238,"creation_date":1693501238,"answer_id":77017922,"question_id":76994712,"body_markdown":"I just found solution on github.\r\nThere is some bug in Dolphine version of Android.\r\nTo use neumorphism library, There are two options...\r\nEither write all the colors manually in colors.xml which required in this library.\r\nOr update your android studio to giraff or downgrade your android studio to Chipmunk.","title":"Android studio, design preview not working with neumorphism library","body":"<p>I just found solution on github.\nThere is some bug in Dolphine version of Android.\nTo use neumorphism library, There are two options...\nEither write all the colors manually in colors.xml which required in this library.\nOr update your android studio to giraff or downgrade your android studio to Chipmunk.</p>\n"}],"owner":{"account_id":24392358,"reputation":1,"user_id":18322169,"display_name":"Het Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017922,"answer_count":2,"score":0,"last_activity_date":1693501238,"creation_date":1693242039,"question_id":76994712,"body_markdown":"Whenever i used neumorphism library, design preview went completly blank, although i can drag and drop everything, just i am not able to see this...\r\n\r\n[enter image description here](https://i.stack.imgur.com/UOLfr.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/8I36I.png)\r\n\r\nI tried almost everything...","title":"Android studio, design preview not working with neumorphism library","body":"<p>Whenever i used neumorphism library, design preview went completly blank, although i can drag and drop everything, just i am not able to see this...</p>\n<p><a href=\"https://i.stack.imgur.com/UOLfr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/8I36I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried almost everything...</p>\n"},{"tags":["java","maven","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1693337471,"post_id":77003149,"comment_id":135746780,"body_markdown":"On Stack Overflow, please [don&#39;t show pictures of text and code](https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text). Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search. You can edit the question to correct this using the edit link at the bottom.","body":"On Stack Overflow, please <a href=\"https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text\" rel=\"nofollow noreferrer\">don&#39;t show pictures of text and code</a>. Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search. You can edit the question to correct this using the edit link at the bottom."},{"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"score":0,"creation_date":1693337628,"post_id":77003149,"comment_id":135746803,"body_markdown":"Thanks, I have removed the picture and added the error as text.","body":"Thanks, I have removed the picture and added the error as text."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1693430733,"post_id":77003149,"comment_id":135761856,"body_markdown":"@TahjidAshfaque, can you check if this [troubleshooting link](https://cloud.google.com/storage/docs/troubleshooting#400_bad_request) wherein you need `Content-Range: bytes */*` to be specified?","body":"@TahjidAshfaque, can you check if this <a href=\"https://cloud.google.com/storage/docs/troubleshooting#400_bad_request\" rel=\"nofollow noreferrer\">troubleshooting link</a> wherein you need <code>Content-Range: bytes *&#47;*</code> to be specified?"},{"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"score":0,"creation_date":1693499769,"post_id":77003149,"comment_id":135772584,"body_markdown":"@RobertG, thank you for the suggestion, I wasn&#39;t able to find out how to set content range when I am using a client library function, but looking into that gave me the solution of inputstream instead of the Path to the source file directly and that worked.","body":"@RobertG, thank you for the suggestion, I wasn&#39;t able to find out how to set content range when I am using a client library function, but looking into that gave me the solution of inputstream instead of the Path to the source file directly and that worked."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1693500490,"post_id":77003149,"comment_id":135772733,"body_markdown":"@TahjidAshfaque, please post your comment as answer so that it would be helpful to other community members with similar question.","body":"@TahjidAshfaque, please post your comment as answer so that it would be helpful to other community members with similar question."}],"answers":[{"tags":[],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693501115,"creation_date":1693501115,"answer_id":77017902,"question_id":77003149,"body_markdown":"Was able to get it working by changing to using inputstream instead of the Path to source.\r\n\r\n    public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\r\n      var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n      try(var files = java.nio.file.Files.walk(sourceDirectory)){\r\n        files.forEach{ file-&gt; {\r\n           var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\r\n           var blobInfo = BlobInfo.newBuilder(blobId).build();\r\n           storage.createFrom(blobInfo, new BufferedInputStream(Files.newInputStream(file)), BlobWriteOption.detectContentType());\r\n        }\r\n       }\r\n      }\r\n    }\r\n","title":"Java function to upload files to Google Cloud Storage fails after updating package version","body":"<p>Was able to get it working by changing to using inputstream instead of the Path to source.</p>\n<pre><code>public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\n  var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n  try(var files = java.nio.file.Files.walk(sourceDirectory)){\n    files.forEach{ file-&gt; {\n       var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\n       var blobInfo = BlobInfo.newBuilder(blobId).build();\n       storage.createFrom(blobInfo, new BufferedInputStream(Files.newInputStream(file)), BlobWriteOption.detectContentType());\n    }\n   }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017902,"answer_count":1,"score":0,"last_activity_date":1693501115,"creation_date":1693337345,"question_id":77003149,"body_markdown":"I have a maven java project that iterates over the files of a directory and uploads them to google cloud storage bucket. The code is something similar to the following\r\n    \r\n    \r\n    public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\r\n      var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n      try(var files = java.nio.file.Files.walk(sourceDirectory)){\r\n        files.forEach{ file-&gt; {\r\n           var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\r\n           var blobInfo = BlobInfo.newBuilder(blobId).build();\r\n           storage.createFrom(blobInfo, file, BlobWriteOption.detectContentType());\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nHere is my pom\r\n\r\n        &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n              &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n              &lt;version&gt;26.19.0&lt;/version&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n              &lt;scope&gt;import&lt;/scope&gt; \r\n            &lt;/dependency&gt;            \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n     #All google libraries I am using in various parts of the project\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis works fine, but if I update the version of libraries to latest(26.22.0) or any higher version at all (26.20.0), the upload fails with the following error (I have removed the url from the error message)\r\n\r\n    com.google.cloud.storage.StorageException: Client side data loss detected. Attempt to append to a resumable session with an offset higher than the backend has\r\n\t|&gt; PUT https://storage.googleapis.com/upload/storage/v1/b/......\r\n\t|&gt; content-range: bytes 0--1/0\r\n\t|  \r\n\t|&lt; HTTP/1.1 400 Bad Request\r\n\t|&lt; content-length: 37\r\n\t|&lt; content-type: text/plain; charset=utf-8\r\n\t|&lt; x-guploader-uploadid: \r\n\t|&lt; \r\n\t|&lt; Failed to parse Content-Range header.\r\n\t|  \r\n\tat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:185)\r\n\tat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:117)\r\n\tat com.google.cloud.storage.JsonResumableSessionPutTask.call(JsonResumableSessionPutTask.java:204)\r\n\tat com.google.cloud.storage.JsonResumableSession.lambda$put$0(JsonResumableSession.java:81)\r\n\tat com.google.cloud.storage.Retrying.lambda$run$0(Retrying.java:102)\r\n\tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:103)\r\n\tat com.google.cloud.RetryHelper.run(RetryHelper.java:76)\r\n\tat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\r\n\tat com.google.cloud.storage.Retrying.run(Retrying.java:99)\r\n\tat com.google.cloud.storage.JsonResumableSession.put(JsonResumableSession.java:68)\r\n\tat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:258)\r\n\tat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:224)\r\n\r\nI could not find any explanation or anyone having similar issues after searching. Any help is appreciated. Thanks\r\n\r\n\r\n","title":"Java function to upload files to Google Cloud Storage fails after updating package version","body":"<p>I have a maven java project that iterates over the files of a directory and uploads them to google cloud storage bucket. The code is something similar to the following</p>\n<pre><code>public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\n  var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n  try(var files = java.nio.file.Files.walk(sourceDirectory)){\n    files.forEach{ file-&gt; {\n       var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\n       var blobInfo = BlobInfo.newBuilder(blobId).build();\n       storage.createFrom(blobInfo, file, BlobWriteOption.detectContentType());\n      }\n    }\n  }\n}\n</code></pre>\n<p>Here is my pom</p>\n<pre><code>    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n          &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n          &lt;version&gt;26.19.0&lt;/version&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n          &lt;scope&gt;import&lt;/scope&gt; \n        &lt;/dependency&gt;            \n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n #All google libraries I am using in various parts of the project\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This works fine, but if I update the version of libraries to latest(26.22.0) or any higher version at all (26.20.0), the upload fails with the following error (I have removed the url from the error message)</p>\n<pre><code>com.google.cloud.storage.StorageException: Client side data loss detected. Attempt to append to a resumable session with an offset higher than the backend has\n|&gt; PUT https://storage.googleapis.com/upload/storage/v1/b/......\n|&gt; content-range: bytes 0--1/0\n|  \n|&lt; HTTP/1.1 400 Bad Request\n|&lt; content-length: 37\n|&lt; content-type: text/plain; charset=utf-8\n|&lt; x-guploader-uploadid: \n|&lt; \n|&lt; Failed to parse Content-Range header.\n|  \nat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:185)\nat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:117)\nat com.google.cloud.storage.JsonResumableSessionPutTask.call(JsonResumableSessionPutTask.java:204)\nat com.google.cloud.storage.JsonResumableSession.lambda$put$0(JsonResumableSession.java:81)\nat com.google.cloud.storage.Retrying.lambda$run$0(Retrying.java:102)\nat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:103)\nat com.google.cloud.RetryHelper.run(RetryHelper.java:76)\nat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\nat com.google.cloud.storage.Retrying.run(Retrying.java:99)\nat com.google.cloud.storage.JsonResumableSession.put(JsonResumableSession.java:68)\nat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:258)\nat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:224)\n</code></pre>\n<p>I could not find any explanation or anyone having similar issues after searching. Any help is appreciated. Thanks</p>\n"},{"tags":["java","hibernate","mariadb","uppercase"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1693500825,"post_id":77017827,"comment_id":135772790,"body_markdown":"https://mariadb.com/docs/skysql-dbaas/ref/mdb/system-variables/lower_case_table_names/","body":"<a href=\"https://mariadb.com/docs/skysql-dbaas/ref/mdb/system-variables/lower_case_table_names/\" rel=\"nofollow noreferrer\">mariadb.com/docs/skysql-dbaas/ref/mdb/system-variables/&hellip;</a>"},{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":0,"creation_date":1693547503,"post_id":77017827,"comment_id":135778056,"body_markdown":"Does this answer your question? [How to configure Hibernate to make table/column name with uppercase AND lowercase letters](https://stackoverflow.com/questions/46052297/how-to-configure-hibernate-to-make-table-column-name-with-uppercase-and-lowercas)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46052297/how-to-configure-hibernate-to-make-table-column-name-with-uppercase-and-lowercas\">How to configure Hibernate to make table/column name with uppercase AND lowercase letters</a>"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693593205,"post_id":77017827,"comment_id":135786422,"body_markdown":"Please do not post images of text, but the text directly.","body":"Please do not post images of text, but the text directly."}],"owner":{"account_id":22816596,"reputation":1,"user_id":16967120,"display_name":"Sky Herobrine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693500528,"creation_date":1693500475,"question_id":77017827,"body_markdown":"Hi everyone who read this post, I have a problem about when I tried to make Hibernate between Java code and MariaDB. When it&#39;s running, it created database and tables, but the problem is the name of database and all the tables in my database is not uppercase in the first letter of word. Guys, how can I resolve problem?\r\n[Image Problem](https://i.stack.imgur.com/lRsG2.png)\r\nMy persistence.xml:\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\r\n             version=&quot;2.2&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;qlch_nhom8&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mariadb://localhost:3306/QLCHTT?createDatabaseIfNotExist=true&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;123456789&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MariaDBDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;`\r\n\r\nI have tried only MariaDB also SQL Server is still appeared this happend. Although it&#39;s not problem about error running code but for me it&#39;s look not good eye. ","title":"The name of database and for each table isn&#39;t uppercase in the first letter of the word when I using JPA Hibernate","body":"<p>Hi everyone who read this post, I have a problem about when I tried to make Hibernate between Java code and MariaDB. When it's running, it created database and tables, but the problem is the name of database and all the tables in my database is not uppercase in the first letter of word. Guys, how can I resolve problem?\n<a href=\"https://i.stack.imgur.com/lRsG2.png\" rel=\"nofollow noreferrer\">Image Problem</a>\nMy persistence.xml:\n`\n</p>\n<pre><code>&lt;persistence-unit name=&quot;qlch_nhom8&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n\n        &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mariadb://localhost:3306/QLCHTT?createDatabaseIfNotExist=true&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;123456789&quot;/&gt;\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\n        &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&quot;/&gt;\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MariaDBDialect&quot;/&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>`</p>\n<p>I have tried only MariaDB also SQL Server is still appeared this happend. Although it's not problem about error running code but for me it's look not good eye.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","h2"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1693517942,"post_id":77017554,"comment_id":135775724,"body_markdown":"Very likely the `storedb` does not exist in the h2 database server. Can you add something like `create database &#39;storedb&#39;`?","body":"Very likely the <code>storedb</code> does not exist in the h2 database server. Can you add something like <code>create database &#39;storedb&#39;</code>?"},{"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"score":0,"creation_date":1693551557,"post_id":77017554,"comment_id":135778656,"body_markdown":"when  add this :\nCREATE DATABASE IF NOT EXISTS storedb;\nUSE storedb;\n\nI get this error:\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;CREATE DATABASE[*] IF NOT EXISTS STOREDB &quot;; expected &quot;OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX&quot;; SQL statement:","body":"when  add this : CREATE DATABASE IF NOT EXISTS storedb; USE storedb;  I get this error: Exception in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;CREATE DATABASE[*] IF NOT EXISTS STOREDB &quot;; expected &quot;OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX&quot;; SQL statement:"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1693560396,"post_id":77017554,"comment_id":135780334,"body_markdown":"I do not work with H2 containers. You may want to revert to documentation how to properly setup the database.","body":"I do not work with H2 containers. You may want to revert to documentation how to properly setup the database."}],"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693500259,"creation_date":1693497691,"question_id":77017554,"body_markdown":"My docker-compose.yml file:\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  marketapp:\r\n    image: computer_store\r\n    container_name: computer_store\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:h2:tcp://h2:1521/storedb\r\n      SPRING_DATASOURCE_USERNAME: sa\r\n      SPRING_DATASOURCE_PASSWORD: as\r\n\r\n    depends_on:\r\n      - h2db\r\n\r\n  h2db:\r\n    image: buildo/h2database:latest\r\n    restart: always\r\n    hostname: h2\r\n    ports:\r\n      - &quot;1521:1521&quot;\r\n    volumes:\r\n      - ./docker-entrypoint-initdb.d/initdb.sql:/docker-entrypoint-initdb.d/initdb.sql\r\n\r\n```\r\n\r\nMy initdb.sql file:\r\n\r\n```\r\nUSE storedb;\r\n\r\n-- User table\r\nCREATE TABLE IF NOT EXISTS `user` (\r\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\r\n    `name` VARCHAR(255) NOT NULL,\r\n    `surname` VARCHAR(255) NOT NULL,\r\n    PRIMARY KEY (`id`)\r\n);\r\n\r\n-- Product table\r\nCREATE TABLE IF NOT EXISTS `product` (\r\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\r\n    `name` VARCHAR(255) NOT NULL,\r\n    `price` BIGINT NOT NULL,\r\n    PRIMARY KEY (`id`)\r\n);\r\n\r\n-- Insert Users\r\nINSERT INTO `user` (`name`, `surname`) VALUES\r\n    (&#39;Ahmet&#39;, &#39;Ak&#39;),\r\n    (&#39;Osman&#39;, &#39;Kara&#39;),\r\n    (&#39;Akif&#39;, &#39;Dege&#39;);\r\n\r\n-- Insert Products\r\nINSERT INTO `product` (`name`, `price`) VALUES\r\n    (&#39;Macbook Pro&#39;, 24000),\r\n    (&#39;Lenova&#39;, 12000);\r\n\r\n```\r\n\r\n\r\n\r\n\r\ninitdb.sql file:\r\n\r\nI get this error when &#39;use storedb&#39; in initdb.sql file. I get this error:\r\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Schema &quot;STOREDB&quot; not found; SQL statement:\r\nspring-market-app-h2db-1 | USE storedb\r\n\r\nWithout &#39;use storedb&#39; in initdb.sql file. I get this error:\r\nConnection refused: h2:1521&quot;","title":"Connection refused:h2:1521 with docked-compose.yml file","body":"<p>My docker-compose.yml file:</p>\n<pre><code>version: '3.8'\n\nservices:\n  marketapp:\n    image: computer_store\n    container_name: computer_store\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:h2:tcp://h2:1521/storedb\n      SPRING_DATASOURCE_USERNAME: sa\n      SPRING_DATASOURCE_PASSWORD: as\n\n    depends_on:\n      - h2db\n\n  h2db:\n    image: buildo/h2database:latest\n    restart: always\n    hostname: h2\n    ports:\n      - &quot;1521:1521&quot;\n    volumes:\n      - ./docker-entrypoint-initdb.d/initdb.sql:/docker-entrypoint-initdb.d/initdb.sql\n\n</code></pre>\n<p>My initdb.sql file:</p>\n<pre><code>USE storedb;\n\n-- User table\nCREATE TABLE IF NOT EXISTS `user` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    `name` VARCHAR(255) NOT NULL,\n    `surname` VARCHAR(255) NOT NULL,\n    PRIMARY KEY (`id`)\n);\n\n-- Product table\nCREATE TABLE IF NOT EXISTS `product` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    `name` VARCHAR(255) NOT NULL,\n    `price` BIGINT NOT NULL,\n    PRIMARY KEY (`id`)\n);\n\n-- Insert Users\nINSERT INTO `user` (`name`, `surname`) VALUES\n    ('Ahmet', 'Ak'),\n    ('Osman', 'Kara'),\n    ('Akif', 'Dege');\n\n-- Insert Products\nINSERT INTO `product` (`name`, `price`) VALUES\n    ('Macbook Pro', 24000),\n    ('Lenova', 12000);\n\n</code></pre>\n<p>initdb.sql file:</p>\n<p>I get this error when 'use storedb' in initdb.sql file. I get this error:\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Schema &quot;STOREDB&quot; not found; SQL statement:\nspring-market-app-h2db-1 | USE storedb</p>\n<p>Without 'use storedb' in initdb.sql file. I get this error:\nConnection refused: h2:1521&quot;</p>\n"},{"tags":["java","gradle","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1694106739,"post_id":77017801,"comment_id":135851075,"body_markdown":"You probably have a similar bug in gradle as pointed out in the answer at https://stackoverflow.com/a/77061312/775715","body":"You probably have a similar bug in gradle as pointed out in the answer at <a href=\"https://stackoverflow.com/a/77061312/775715\">stackoverflow.com/a/77061312/775715</a>"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693500247,"creation_date":1693500247,"question_id":77017801,"body_markdown":"We recently switched to Gradle. Our stack is Vaadin 23, embedded Jetty, and Guice. When we run our main method through IntelliJ, everything works as expected. However, we want to run it from Gradle, which we set up. It works perfect on macOS and Ubuntu, but not on Windows.\r\n\r\nHere is our Gradle task (simplified):\r\n```kotlin\r\ncreate&lt;JavaExec&gt;(&quot;startWebapp&quot;) {\r\n    dependsOn(&quot;vaadinPrepareFrontend&quot;)\r\n\r\n    group = &quot;mycompany&quot;\r\n    classpath = sourceSets.named(&quot;main&quot;).get().runtimeClasspath\r\n    mainClass.set(&quot;com.mycompany.portal.Portal&quot;)\r\n    workingDir = project.projectDir\r\n}\r\n```\r\n\r\nWe get the following exception on startup:\r\n\r\n```\r\n12:34:56.837 [main] [1] WARN  o.eclipse.jetty.webapp.WebAppContext - Failed startup of context o.e.j.w.WebAppContext@5c18556c{PORTAL,/,[file:///C:/Users/oliver/IdeaProjects/mycompany/webapp/build/resources/main/webapp/],UNAVAILABLE}\r\njava.lang.IllegalStateException: The application Lookup instance is not found in VaadinContext. The instance is suppoed to be created by a ServletContainerInitializer. Issues known to cause this problem are:\r\n- A Spring Boot application deployed as a war-file but the main application class does not extend SpringBootServletInitializer\r\n- An embedded server that is not set up to execute ServletContainerInitializers\r\n- Unit tests which do not properly set up the context for the test\r\n\r\n\tat com.vaadin.flow.server.startup.ApplicationConfiguration.lambda$get$0(ApplicationConfiguration.java:54)\r\n\tat com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73)\r\n\tat com.vaadin.flow.server.startup.ApplicationConfiguration.get(ApplicationConfiguration.java:48)\r\n\tat com.vaadin.flow.server.DeploymentConfigurationFactory.createPropertyDeploymentConfiguration(DeploymentConfigurationFactory.java:82)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer$StubServletConfig.createDeploymentConfiguration(ServletDeployer.java:185)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer.lambda$getServletConfigurations$0(ServletDeployer.java:280)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer.getServletConfigurations(ServletDeployer.java:279)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer.contextInitialized(ServletDeployer.java:194)\r\n\tat com.vaadin.flow.server.startup.ServletContextListeners.contextInitialized(ServletContextListeners.java:44)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1049)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:624)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:984)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:740)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:470)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:415)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat com.mycompany.portal.bootstrap.JettyService.start(JettyService.java:60)\r\n\tat com.mycompany.portal.Portal.startServer(Portal.java:88)\r\n\tat com.mycompany.portal.Portal.main(Portal.java:42)\r\n```\r\n\r\nI did some digging. It seems that, when running through Gradle, the `classSet` of `LookupServletContainerInitializer#process` is empty. What I have tried:\r\n* Compared the classpaths when running from IntelliJ to Gradle. They are the same. Only difference is that Gradle creates a temporary JAR with a manifest file, so any non-jar folders, such as `src/main/java` is prefixed with `file://`.\r\n* I think Gradle uses its own classloader, so I manually set the classloader in Jetty.\r\n* I tried to make a minimal, reproducible example, but could not reproduce the issue.\r\n* I tried manually adding the missing classes to `classSet`. The app then starts up, but is unusable. E.g., the app is just plaintext.","title":"Trouble running our Vaadin application with Gradle","body":"<p>We recently switched to Gradle. Our stack is Vaadin 23, embedded Jetty, and Guice. When we run our main method through IntelliJ, everything works as expected. However, we want to run it from Gradle, which we set up. It works perfect on macOS and Ubuntu, but not on Windows.</p>\n<p>Here is our Gradle task (simplified):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>create&lt;JavaExec&gt;(&quot;startWebapp&quot;) {\n    dependsOn(&quot;vaadinPrepareFrontend&quot;)\n\n    group = &quot;mycompany&quot;\n    classpath = sourceSets.named(&quot;main&quot;).get().runtimeClasspath\n    mainClass.set(&quot;com.mycompany.portal.Portal&quot;)\n    workingDir = project.projectDir\n}\n</code></pre>\n<p>We get the following exception on startup:</p>\n<pre><code>12:34:56.837 [main] [1] WARN  o.eclipse.jetty.webapp.WebAppContext - Failed startup of context o.e.j.w.WebAppContext@5c18556c{PORTAL,/,[file:///C:/Users/oliver/IdeaProjects/mycompany/webapp/build/resources/main/webapp/],UNAVAILABLE}\njava.lang.IllegalStateException: The application Lookup instance is not found in VaadinContext. The instance is suppoed to be created by a ServletContainerInitializer. Issues known to cause this problem are:\n- A Spring Boot application deployed as a war-file but the main application class does not extend SpringBootServletInitializer\n- An embedded server that is not set up to execute ServletContainerInitializers\n- Unit tests which do not properly set up the context for the test\n\n    at com.vaadin.flow.server.startup.ApplicationConfiguration.lambda$get$0(ApplicationConfiguration.java:54)\n    at com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73)\n    at com.vaadin.flow.server.startup.ApplicationConfiguration.get(ApplicationConfiguration.java:48)\n    at com.vaadin.flow.server.DeploymentConfigurationFactory.createPropertyDeploymentConfiguration(DeploymentConfigurationFactory.java:82)\n    at com.vaadin.flow.server.startup.ServletDeployer$StubServletConfig.createDeploymentConfiguration(ServletDeployer.java:185)\n    at com.vaadin.flow.server.startup.ServletDeployer.lambda$getServletConfigurations$0(ServletDeployer.java:280)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at com.vaadin.flow.server.startup.ServletDeployer.getServletConfigurations(ServletDeployer.java:279)\n    at com.vaadin.flow.server.startup.ServletDeployer.contextInitialized(ServletDeployer.java:194)\n    at com.vaadin.flow.server.startup.ServletContextListeners.contextInitialized(ServletContextListeners.java:44)\n    at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1049)\n    at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:624)\n    at org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:984)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:740)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:470)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:415)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at com.mycompany.portal.bootstrap.JettyService.start(JettyService.java:60)\n    at com.mycompany.portal.Portal.startServer(Portal.java:88)\n    at com.mycompany.portal.Portal.main(Portal.java:42)\n</code></pre>\n<p>I did some digging. It seems that, when running through Gradle, the <code>classSet</code> of <code>LookupServletContainerInitializer#process</code> is empty. What I have tried:</p>\n<ul>\n<li>Compared the classpaths when running from IntelliJ to Gradle. They are the same. Only difference is that Gradle creates a temporary JAR with a manifest file, so any non-jar folders, such as <code>src/main/java</code> is prefixed with <code>file://</code>.</li>\n<li>I think Gradle uses its own classloader, so I manually set the classloader in Jetty.</li>\n<li>I tried to make a minimal, reproducible example, but could not reproduce the issue.</li>\n<li>I tried manually adding the missing classes to <code>classSet</code>. The app then starts up, but is unusable. E.g., the app is just plaintext.</li>\n</ul>\n"},{"tags":["java","spring","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":2235894,"reputation":1035,"user_id":1972296,"display_name":"rastadrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1457103722,"creation_date":1457100839,"answer_id":35798228,"question_id":35797762,"body_markdown":"As you would figure, the problem is that the backend **should** return you errors with HTTP error codes, that&#39;s what they are there for. \r\n\r\nBut as you said, you don&#39;t have control over the backend so what you can do is first get it as a String\r\n\r\n    ResponseEntity&lt;String&gt; dto = restTemplate.postForObject(url, postData, String.class);\r\n\r\nThen you can attempt to parse the string response as a `MainDTO` with either Jackson or Gson (whatever you have in your project, which you should, because I believe Spring&#39;s RestTemplate uses either on of them internally) with a try/catch and if it fails, then you try with to parse it with your `ErrorDto`.\r\n\r\n**Update**\r\n\r\nOh, I just read that it was an `XML` service, not a `JSON` on, the approach above is still valid, but instead of using `Jackson` or `Gson`, you can use `SimpleXML` (http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#deserialize) which allows you to deserialize XML in an &quot;easy&quot; way, you just need to annotate your models with their annotations which are described in their *tutorials* and *examples*.\r\n\r\nThis Spring&#39;s example (http://spring.io/guides/gs/consuming-rest-xml-android/) might also provide an insight in how to use `SimpleXML`.","title":"How to use RestTemplate with multiple response types?","body":"<p>As you would figure, the problem is that the backend <strong>should</strong> return you errors with HTTP error codes, that's what they are there for. </p>\n\n<p>But as you said, you don't have control over the backend so what you can do is first get it as a String</p>\n\n<pre><code>ResponseEntity&lt;String&gt; dto = restTemplate.postForObject(url, postData, String.class);\n</code></pre>\n\n<p>Then you can attempt to parse the string response as a <code>MainDTO</code> with either Jackson or Gson (whatever you have in your project, which you should, because I believe Spring's RestTemplate uses either on of them internally) with a try/catch and if it fails, then you try with to parse it with your <code>ErrorDto</code>.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Oh, I just read that it was an <code>XML</code> service, not a <code>JSON</code> on, the approach above is still valid, but instead of using <code>Jackson</code> or <code>Gson</code>, you can use <code>SimpleXML</code> (<a href=\"http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#deserialize\" rel=\"noreferrer\">http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#deserialize</a>) which allows you to deserialize XML in an \"easy\" way, you just need to annotate your models with their annotations which are described in their <em>tutorials</em> and <em>examples</em>.</p>\n\n<p>This Spring's example (<a href=\"http://spring.io/guides/gs/consuming-rest-xml-android/\" rel=\"noreferrer\">http://spring.io/guides/gs/consuming-rest-xml-android/</a>) might also provide an insight in how to use <code>SimpleXML</code>.</p>\n"},{"tags":[],"owner":{"account_id":5717088,"reputation":6957,"user_id":4516887,"display_name":"fateddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617375605,"creation_date":1457107263,"answer_id":35800514,"question_id":35797762,"body_markdown":"You could implement a custom [`ResponseErrorHandler`][1] that converts an erroneous response into a `RuntimeException`.\r\nHttp Message to POJO conversion could be done by re-using the messageConverter(s) the [`RestTemplate#setMessageConverters`][2] is using.\r\n\r\n[Here][3] is an example that utilizes this.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/ResponseErrorHandler.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#setMessageConverters-java.util.List-\r\n  [3]: https://stackoverflow.com/a/38093858/6393275","title":"How to use RestTemplate with multiple response types?","body":"<p>You could implement a custom <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/ResponseErrorHandler.html\" rel=\"nofollow noreferrer\"><code>ResponseErrorHandler</code></a> that converts an erroneous response into a <code>RuntimeException</code>.\nHttp Message to POJO conversion could be done by re-using the messageConverter(s) the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#setMessageConverters-java.util.List-\" rel=\"nofollow noreferrer\"><code>RestTemplate#setMessageConverters</code></a> is using.</p>\n<p><a href=\"https://stackoverflow.com/a/38093858/6393275\">Here</a> is an example that utilizes this.</p>\n"},{"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501593440,"creation_date":1501593440,"answer_id":45438984,"question_id":35797762,"body_markdown":"I have the same problem so I have an abstract class that describes the error. All of my Json classes then extended the abstract error class. So the response object is populated with entity data and an error that I could check easily.\r\n\r\nI don&#39;t particularly like this solution but as I immediately transform the Json object into an application data object it doesn&#39;t feel too bad.\r\n\r\n","title":"How to use RestTemplate with multiple response types?","body":"<p>I have the same problem so I have an abstract class that describes the error. All of my Json classes then extended the abstract error class. So the response object is populated with entity data and an error that I could check easily.</p>\n\n<p>I don't particularly like this solution but as I immediately transform the Json object into an application data object it doesn't feel too bad.</p>\n"},{"tags":[],"owner":{"account_id":12727822,"reputation":15,"user_id":9245677,"display_name":"Alfredo"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1519321861,"creation_date":1519321861,"answer_id":48934108,"question_id":35797762,"body_markdown":"**Using** **Instanceof**\r\n    \r\n   \r\n\r\n    MyObject1 a=null;\r\n    MyObject2 b=null;\r\n \tResponseEntity&lt;Object&gt;response=template.exchange(builder.build().encode().toUri(),HttpMethod.GET,entity, Object.class);\r\n    if (response.getBody() instanceof MyObject1)\r\n        a= (MyObject1) response.getBody();\r\n    else if(response.getBody() instanceof MyObject2)\r\n        b= (MyObject2) response.getBody();","title":"How to use RestTemplate with multiple response types?","body":"<p><strong>Using</strong> <strong>Instanceof</strong></p>\n\n<pre><code>MyObject1 a=null;\nMyObject2 b=null;\nResponseEntity&lt;Object&gt;response=template.exchange(builder.build().encode().toUri(),HttpMethod.GET,entity, Object.class);\nif (response.getBody() instanceof MyObject1)\n    a= (MyObject1) response.getBody();\nelse if(response.getBody() instanceof MyObject2)\n    b= (MyObject2) response.getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16090610,"reputation":21,"user_id":11614155,"display_name":"luckygulli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559914222,"creation_date":1559914222,"answer_id":56495315,"question_id":35797762,"body_markdown":"I tried [Alfredo&#39;s solution](https://stackoverflow.com/a/48934108/11614155) but I got an Exception because of Object.class:\r\n\r\n    Method threw &#39;org.springframework.web.client.HttpClientErrorException&#39; exception.\r\n\r\nIf you use a different class, it would be casted and you wouldn&#39;t be able to use instance of.\r\n\r\nUsing following code solved my problem:\r\n\r\n    String xml = restTemplate.getForObject(url, String.class, uriVariables);\r\n    JAXBContext jaxbContext = JAXBContext.newInstance();\r\n    Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    StringSource xmlStr = new StringSource(xml);\r\n    Object o = jaxbUnmarshaller.unmarshal((Source) xmlStr);\r\n    if (o instanceof VonAZRAZRBestaetigungMeldung090098) {\r\n        // ...\r\n    }","title":"How to use RestTemplate with multiple response types?","body":"<p>I tried <a href=\"https://stackoverflow.com/a/48934108/11614155\">Alfredo's solution</a> but I got an Exception because of Object.class:</p>\n\n<pre><code>Method threw 'org.springframework.web.client.HttpClientErrorException' exception.\n</code></pre>\n\n<p>If you use a different class, it would be casted and you wouldn't be able to use instance of.</p>\n\n<p>Using following code solved my problem:</p>\n\n<pre><code>String xml = restTemplate.getForObject(url, String.class, uriVariables);\nJAXBContext jaxbContext = JAXBContext.newInstance();\nUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\nStringSource xmlStr = new StringSource(xml);\nObject o = jaxbUnmarshaller.unmarshal((Source) xmlStr);\nif (o instanceof VonAZRAZRBestaetigungMeldung090098) {\n    // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6567270,"reputation":215,"user_id":5076403,"accept_rate":33,"display_name":"Vaibhav Ranglani"},"score":0,"creation_date":1640162614,"post_id":65107730,"comment_id":124527707,"body_markdown":"instanceof is an anti pattern not recommended in JAVA.","body":"instanceof is an anti pattern not recommended in JAVA."}],"tags":[],"owner":{"account_id":5543023,"reputation":9,"user_id":4398815,"display_name":"David Querci"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606912065,"creation_date":1606910607,"answer_id":65107730,"question_id":35797762,"body_markdown":"I had the same problem, I solved it like this:\r\n\r\nI created a Response class and inside I put the two response objects.\r\nI have noted all three classes with\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType (XmlAccessType.FIELD)\r\n\r\n    ResponseEntity &lt;Response&gt; responseEntity = restTemplate.postForEntity (url, request, Response.class);\r\n    Object res = responseEntity.getBody ();\r\n  \r\n    if (res! = null) {\r\n        if (res instanceof MainDTO) {\r\n            ...\r\n        } else if (res instanceof ErrorDTO) {\r\n            ...\r\n        }\r\n    }\r\n\r\nHope it&#39;s useful!","title":"How to use RestTemplate with multiple response types?","body":"<p>I had the same problem, I solved it like this:</p>\n<p>I created a Response class and inside I put the two response objects.\nI have noted all three classes with</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType (XmlAccessType.FIELD)\n\nResponseEntity &lt;Response&gt; responseEntity = restTemplate.postForEntity (url, request, Response.class);\nObject res = responseEntity.getBody ();\n\nif (res! = null) {\n    if (res instanceof MainDTO) {\n        ...\n    } else if (res instanceof ErrorDTO) {\n        ...\n    }\n}\n</code></pre>\n<p>Hope it's useful!</p>\n"},{"tags":[],"owner":{"account_id":14666623,"reputation":21,"user_id":10592296,"display_name":"electroncipeter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693499665,"creation_date":1693499533,"answer_id":77017722,"question_id":35797762,"body_markdown":"In my case this does not work, as the ResponseBody is a Map generated by OpenApi Feign Code. But its possible to map the Map to the corresponding object with an object mapper:\r\n\r\n            \r\n    ResponseEntity&lt;Object&gt; registerResult = restTestRestTemplate.postForEntity(&quot;/register&quot;, registerRequest, Object.class);\r\n    Assertions.assertEquals(HttpStatus.NOT_ACCEPTABLE, registerResult.getStatusCode());\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    InlineResponse406 inlineResponse406 = objectMapper.convertValue(registerResult.getBody(), InlineResponse406.class);\r\n    Assertions.assertNotNull(inlineResponse406);\r\n\r\n            \r\nthis is code of a test class, of course, corresponding to other response codes other Objects can be created.\r\n\r\n\r\n\r\n","title":"How to use RestTemplate with multiple response types?","body":"<p>In my case this does not work, as the ResponseBody is a Map generated by OpenApi Feign Code. But its possible to map the Map to the corresponding object with an object mapper:</p>\n<pre><code>ResponseEntity&lt;Object&gt; registerResult = restTestRestTemplate.postForEntity(&quot;/register&quot;, registerRequest, Object.class);\nAssertions.assertEquals(HttpStatus.NOT_ACCEPTABLE, registerResult.getStatusCode());\nObjectMapper objectMapper = new ObjectMapper();\nInlineResponse406 inlineResponse406 = objectMapper.convertValue(registerResult.getBody(), InlineResponse406.class);\nAssertions.assertNotNull(inlineResponse406);\n\n        \n</code></pre>\n<p>this is code of a test class, of course, corresponding to other response codes other Objects can be created.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20038,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35798228,"answer_count":7,"score":14,"last_activity_date":1693499665,"creation_date":1457099426,"question_id":35797762,"body_markdown":"I&#39;m using spring `RestTemplate` for communication with a `xml` webservice backend as follows:\r\n\r\n    ResponseEntity&lt;MainDTO&gt; dto = restTemplate.postForObject(url, postData, MainDTO.class);\r\n\r\nProblem: the backend might either respond with `MainDTO` for normal data or with `ErrorDTO` in case of failures. But both with `HTTP 200`.\r\n\r\nBut I don&#39;t know which object will come back before! Anyways `restTemplate` requires me to pass the `class` type before.\r\n\r\nSo, how could I parse the xml either to normal or the error bean?\r\n\r\nSidenote: I don&#39;t have any control of the webservice backend.","title":"How to use RestTemplate with multiple response types?","body":"<p>I'm using spring <code>RestTemplate</code> for communication with a <code>xml</code> webservice backend as follows:</p>\n\n<pre><code>ResponseEntity&lt;MainDTO&gt; dto = restTemplate.postForObject(url, postData, MainDTO.class);\n</code></pre>\n\n<p>Problem: the backend might either respond with <code>MainDTO</code> for normal data or with <code>ErrorDTO</code> in case of failures. But both with <code>HTTP 200</code>.</p>\n\n<p>But I don't know which object will come back before! Anyways <code>restTemplate</code> requires me to pass the <code>class</code> type before.</p>\n\n<p>So, how could I parse the xml either to normal or the error bean?</p>\n\n<p>Sidenote: I don't have any control of the webservice backend.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1693500655,"post_id":77014112,"comment_id":135772762,"body_markdown":"Just a general comment: don&#39;t add comments that say what the code does. It&#39;s already obvious from the code. Only add comments to say _why_ you&#39;re doing what you&#39;re doing.","body":"Just a general comment: don&#39;t add comments that say what the code does. It&#39;s already obvious from the code. Only add comments to say <i>why</i> you&#39;re doing what you&#39;re doing."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693817575,"post_id":77014112,"comment_id":135805555,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693499536,"creation_date":1693472403,"answer_id":77014329,"question_id":77014112,"body_markdown":"The issue seems to be with how you&#39;re checking for an empty order before displaying it. You&#39;re correctly checking if selectedPizza is null, but you also need to check if selectedToppings or selectedDrinks are empty or not. Here&#39;s the modified view order logic to address this:\r\n\r\n    } else if (userInput == 2) {\r\n        // View order logic\r\n        if (selectedPizza != null || !selectedToppings.isEmpty() || !selectedDrinks.isEmpty()) {\r\n            OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\r\n        } else {\r\n            System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\r\n        }\r\n    }\r\n\r\nAnd, next issue might be in your Beverages class. You mentioned that you have a getDrinkChoice method. Make sure this method correctly handles the user input and returns the selected drink. Here&#39;s an example of how the method might look:\r\n\r\n    public class Beverages {\r\n        public static String getDrinkChoice(Scanner scanner) {\r\n            int userInput = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n    \r\n            switch (userInput) {\r\n                case 1:\r\n                    return &quot;Coke&quot;;\r\n                case 2:\r\n                    return &quot;Sprite&quot;;\r\n                case 3:\r\n                    return &quot;Water&quot;;\r\n                default:\r\n                    return null; // Return null for invalid choices\r\n            }\r\n        }\r\n    }\r\n\r\nGood Luck.","title":"Java food menu - unable to store user input and review after","body":"<p>The issue seems to be with how you're checking for an empty order before displaying it. You're correctly checking if selectedPizza is null, but you also need to check if selectedToppings or selectedDrinks are empty or not. Here's the modified view order logic to address this:</p>\n<pre><code>} else if (userInput == 2) {\n    // View order logic\n    if (selectedPizza != null || !selectedToppings.isEmpty() || !selectedDrinks.isEmpty()) {\n        OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\n    } else {\n        System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\n    }\n}\n</code></pre>\n<p>And, next issue might be in your Beverages class. You mentioned that you have a getDrinkChoice method. Make sure this method correctly handles the user input and returns the selected drink. Here's an example of how the method might look:</p>\n<pre><code>public class Beverages {\n    public static String getDrinkChoice(Scanner scanner) {\n        int userInput = scanner.nextInt();\n        scanner.nextLine(); // Consume the newline character\n\n        switch (userInput) {\n            case 1:\n                return &quot;Coke&quot;;\n            case 2:\n                return &quot;Sprite&quot;;\n            case 3:\n                return &quot;Water&quot;;\n            default:\n                return null; // Return null for invalid choices\n        }\n    }\n}\n</code></pre>\n<p>Good Luck.</p>\n"}],"owner":{"account_id":15285661,"reputation":11,"user_id":11028753,"display_name":"G. Parker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693499536,"creation_date":1693470742,"question_id":77014112,"body_markdown":"I&#39;m new to Java and have started a basic project creating a food menu. I&#39;ve managed to get the first part of the user selecting pizza toppings and this storing so the user can view order at the main menu, however I&#39;m getting issues when trying to store options for beverages. I have separate classes set up for pizza, beverages and viewOrder which I can copy into the chat if needed. Appreciate any feedback on what to do and how I&#39;ve set the code up already as I&#39;m keen to learn!\r\n\r\nAfter the user selects a drink it takes them back to the main menu. When selecting view order it returns the error message to say that their order is empty. I think it might be related to the if statement within view order.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int userInput; // Declare the variable outside the loop\r\n\r\n        String selectedPizza = null;\r\n        ArrayList&lt;String&gt; selectedToppings = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; selectedDrinks = new ArrayList&lt;&gt;(); // Declare the ArrayList for drinks\r\n\r\n        while (true) {\r\n            Order.orderMenu(); // Display the menu\r\n            userInput = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n\r\n            if (userInput == 1) {\r\n                FoodMenu.displayMenu();\r\n\r\n                int userInput1 = scanner.nextInt();\r\n                scanner.nextLine();\r\n\r\n                if (userInput1 == 1) {\r\n                    selectedPizza = &quot;Pizza&quot;; // Store the selected food option\r\n\r\n                    // Collect user&#39;s topping selections\r\n                    int toppingsSelected = 0;\r\n                    while (toppingsSelected &lt; 4) { // asks the user to select 4 toppings\r\n                        System.out.print(&quot;Select a topping: &quot;);\r\n                        String topping = scanner.nextLine(); // user input\r\n                        selectedToppings.add(topping); // adds toppings selected\r\n                        toppingsSelected++;\r\n                    }\r\n                } else if (userInput1 == 2) {\r\n                    // User gets given drinks options to order here\r\n                    Beverages.drinkOptions();\r\n\r\n                    String selectedDrink = Beverages.getDrinkChoice(scanner);\r\n                    if (selectedDrink != null) {\r\n                            selectedDrinks.add(selectedDrink);\r\n                        } else {\r\n                            System.out.println(&quot;Please enter a valid drink number.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Please enter a valid selection.&quot;);\r\n                }\r\n            } else if (userInput == 2) {\r\n                // View order logic\r\n                if (selectedPizza != null) {\r\n                    OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\r\n                } else {\r\n                    System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\r\n                }\r\n            } else if (userInput == 3) {\r\n                System.out.println(&quot;Thank you, your order is on the way&quot;);\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Please enter a valid selection.&quot;);\r\n            }\r\n        }\r\n        scanner.close();\r\n    }\r\n}\r\n```","title":"Java food menu - unable to store user input and review after","body":"<p>I'm new to Java and have started a basic project creating a food menu. I've managed to get the first part of the user selecting pizza toppings and this storing so the user can view order at the main menu, however I'm getting issues when trying to store options for beverages. I have separate classes set up for pizza, beverages and viewOrder which I can copy into the chat if needed. Appreciate any feedback on what to do and how I've set the code up already as I'm keen to learn!</p>\n<p>After the user selects a drink it takes them back to the main menu. When selecting view order it returns the error message to say that their order is empty. I think it might be related to the if statement within view order.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int userInput; // Declare the variable outside the loop\n\n        String selectedPizza = null;\n        ArrayList&lt;String&gt; selectedToppings = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; selectedDrinks = new ArrayList&lt;&gt;(); // Declare the ArrayList for drinks\n\n        while (true) {\n            Order.orderMenu(); // Display the menu\n            userInput = scanner.nextInt();\n            scanner.nextLine(); // Consume the newline character\n\n            if (userInput == 1) {\n                FoodMenu.displayMenu();\n\n                int userInput1 = scanner.nextInt();\n                scanner.nextLine();\n\n                if (userInput1 == 1) {\n                    selectedPizza = &quot;Pizza&quot;; // Store the selected food option\n\n                    // Collect user's topping selections\n                    int toppingsSelected = 0;\n                    while (toppingsSelected &lt; 4) { // asks the user to select 4 toppings\n                        System.out.print(&quot;Select a topping: &quot;);\n                        String topping = scanner.nextLine(); // user input\n                        selectedToppings.add(topping); // adds toppings selected\n                        toppingsSelected++;\n                    }\n                } else if (userInput1 == 2) {\n                    // User gets given drinks options to order here\n                    Beverages.drinkOptions();\n\n                    String selectedDrink = Beverages.getDrinkChoice(scanner);\n                    if (selectedDrink != null) {\n                            selectedDrinks.add(selectedDrink);\n                        } else {\n                            System.out.println(&quot;Please enter a valid drink number.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Please enter a valid selection.&quot;);\n                }\n            } else if (userInput == 2) {\n                // View order logic\n                if (selectedPizza != null) {\n                    OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\n                } else {\n                    System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\n                }\n            } else if (userInput == 3) {\n                System.out.println(&quot;Thank you, your order is on the way&quot;);\n                break;\n            } else {\n                System.out.println(&quot;Please enter a valid selection.&quot;);\n            }\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1693426578,"post_id":77011147,"comment_id":135761253,"body_markdown":"have you tried: https://stackoverflow.com/questions/62914025/instagram-application-does-not-open-with-android-intent","body":"have you tried: <a href=\"https://stackoverflow.com/questions/62914025/instagram-application-does-not-open-with-android-intent\" title=\"instagram application does not open with android intent\">stackoverflow.com/questions/62914025/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":29262754,"reputation":13,"user_id":22419319,"display_name":"Ashique 007"},"score":0,"creation_date":1693467578,"post_id":77011433,"comment_id":135765574,"body_markdown":"How to implement this with my code please I&#39;m dumb","body":"How to implement this with my code please I&#39;m dumb"},{"owner":{"account_id":4122529,"reputation":153,"user_id":3382466,"display_name":"Bryan C"},"score":0,"creation_date":1693496992,"post_id":77011433,"comment_id":135771965,"body_markdown":"I will edit my original answer to show the code.","body":"I will edit my original answer to show the code."},{"owner":{"account_id":4122529,"reputation":153,"user_id":3382466,"display_name":"Bryan C"},"score":0,"creation_date":1693499663,"post_id":77011433,"comment_id":135772557,"body_markdown":"Working code example is now in my answer above. You&#39;ll still need to add the &lt;queries&gt; element to your Android Manifest for it to work. Hope that helps, let me know if you have other questions.","body":"Working code example is now in my answer above. You&#39;ll still need to add the &lt;queries&gt; element to your Android Manifest for it to work. Hope that helps, let me know if you have other questions."},{"owner":{"account_id":4122529,"reputation":153,"user_id":3382466,"display_name":"Bryan C"},"score":0,"creation_date":1693500954,"post_id":77011433,"comment_id":135772820,"body_markdown":"Glad to hear it!","body":"Glad to hear it!"}],"tags":[],"owner":{"account_id":4122529,"reputation":153,"user_id":3382466,"display_name":"Bryan C"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693499313,"creation_date":1693428483,"answer_id":77011433,"question_id":77011147,"body_markdown":"You&#39;ll need to add the queries element to your manifest. For example:\r\n\r\n    &lt;queries&gt;\r\n         &lt;package android:name=&quot;com.instagram.android&quot; /&gt; \r\n    &lt;/queries&gt;\r\n\r\nMore info here: https://developer.android.com/guide/topics/manifest/queries-element\r\n\r\nHere is your original code with a different method to launch the Instagram app. I also changed the catch block because it contained errors, but you can modify it to suite your application&#39;s needs.\r\n\r\n    public class ActivitySettingsWifi extends Activity {\r\n\r\n        public final void onCreate(Bundle bundle) {\r\n\r\n            super.onCreate(bundle);\r\n\r\n            Intent LaunchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.instagram.android&quot;);\r\n\r\n            try {\r\n        \r\n                startActivity(LaunchIntent);\r\n\r\n                finish();\r\n\r\n            } catch (Exception e) {\r\n           \r\n                finish();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n","title":"Open another application from my own intent","body":"<p>You'll need to add the queries element to your manifest. For example:</p>\n<pre><code>&lt;queries&gt;\n     &lt;package android:name=&quot;com.instagram.android&quot; /&gt; \n&lt;/queries&gt;\n</code></pre>\n<p>More info here: <a href=\"https://developer.android.com/guide/topics/manifest/queries-element\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/queries-element</a></p>\n<p>Here is your original code with a different method to launch the Instagram app. I also changed the catch block because it contained errors, but you can modify it to suite your application's needs.</p>\n<pre><code>public class ActivitySettingsWifi extends Activity {\n\n    public final void onCreate(Bundle bundle) {\n\n        super.onCreate(bundle);\n\n        Intent LaunchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.instagram.android&quot;);\n\n        try {\n    \n            startActivity(LaunchIntent);\n\n            finish();\n\n        } catch (Exception e) {\n       \n            finish();\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29262754,"reputation":13,"user_id":22419319,"display_name":"Ashique 007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77011433,"answer_count":1,"score":1,"last_activity_date":1693499313,"creation_date":1693424978,"question_id":77011147,"body_markdown":"Here is the code but its not working :(\r\nPlease could anyone help me.\r\n\r\n```\r\n\r\n\r\npublic class ActivitySettingsWifi extends Activity {\r\n\r\n    public final void onCreate(Bundle bundle) {\r\n\r\n        super.onCreate(bundle);\r\n\r\n        try {\r\n\r\n            bundle = new Intent(&quot;com.instagram.android&quot;);\r\n\r\n            bundle.addFlags(268435456);\r\n\r\n            startActivity(bundle);\r\n\r\n        } catch (Bundle bundle2) {\r\n\r\n            bundle2.getStackTrace();\r\n\r\n        }\r\n\r\n        finish();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIf i use any activity like android.settings.WIFI_ACITVITY \r\nthen its working but i want to open Instagram.","title":"Open another application from my own intent","body":"<p>Here is the code but its not working :(\nPlease could anyone help me.</p>\n<pre><code>\n\npublic class ActivitySettingsWifi extends Activity {\n\n    public final void onCreate(Bundle bundle) {\n\n        super.onCreate(bundle);\n\n        try {\n\n            bundle = new Intent(&quot;com.instagram.android&quot;);\n\n            bundle.addFlags(268435456);\n\n            startActivity(bundle);\n\n        } catch (Bundle bundle2) {\n\n            bundle2.getStackTrace();\n\n        }\n\n        finish();\n\n    }\n\n}\n</code></pre>\n<p>If i use any activity like android.settings.WIFI_ACITVITY\nthen its working but i want to open Instagram.</p>\n"},{"tags":["java","docker","docker-java","ocrmypdf"],"answers":[{"tags":[],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693499055,"creation_date":1693499055,"answer_id":77017674,"question_id":77002811,"body_markdown":"Ugh. After running the container through the command line I noticed I didn&#39;t need that extra `ocrmypdf` argument at the beginning.","title":"ocrmypdf not working when using the docker image and the docker java client over a binding volume","body":"<p>Ugh. After running the container through the command line I noticed I didn't need that extra <code>ocrmypdf</code> argument at the beginning.</p>\n"}],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017674,"answer_count":1,"score":0,"last_activity_date":1693499055,"creation_date":1693334075,"question_id":77002811,"body_markdown":"When running an `ocrmypdf` `docker container`, all I get is the following message: \r\n\r\n`ocrmypdf: error: unrecognized arguments: 64ee37a6fc66cf591ce4a35f-1.png_OCR.pdf`\r\n\r\nThis is what my `docker inspect container` shows:\r\n\r\n            &quot;Args&quot;: [\r\n                &quot;ocrmypdf&quot;,\r\n                &quot;--rotate-pages&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\r\n            ],\r\n            ...\r\n            &quot;Binds&quot;: [\r\n                &quot;pdf-tools-data-volume:/64ee36779438c74174f123ea/pdf:rw&quot;\r\n            ],\r\n            ...\r\n            &quot;Mounts&quot;: [\r\n            {\r\n                &quot;Type&quot;: &quot;volume&quot;,\r\n                &quot;Name&quot;: &quot;pdf-tools-data-volume&quot;,\r\n                &quot;Source&quot;: &quot;/var/lib/docker/volumes/pdf-tools-data-volume/_data&quot;,\r\n                &quot;Destination&quot;: &quot;/64ee36779438c74174f123ea/pdf&quot;,\r\n                &quot;Driver&quot;: &quot;local&quot;,\r\n                &quot;Mode&quot;: &quot;rw&quot;,\r\n                &quot;RW&quot;: true,\r\n                &quot;Propagation&quot;: &quot;&quot;\r\n            }],\r\n            ...\r\n            &quot;Cmd&quot;: [\r\n                &quot;ocrmypdf&quot;,\r\n                &quot;--rotate-pages&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\r\n            ]\r\n         \r\nHas anyone attempted to use ocrmypdf with docker mounting volumes?\r\n","title":"ocrmypdf not working when using the docker image and the docker java client over a binding volume","body":"<p>When running an <code>ocrmypdf</code> <code>docker container</code>, all I get is the following message:</p>\n<p><code>ocrmypdf: error: unrecognized arguments: 64ee37a6fc66cf591ce4a35f-1.png_OCR.pdf</code></p>\n<p>This is what my <code>docker inspect container</code> shows:</p>\n<pre><code>        &quot;Args&quot;: [\n            &quot;ocrmypdf&quot;,\n            &quot;--rotate-pages&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\n        ],\n        ...\n        &quot;Binds&quot;: [\n            &quot;pdf-tools-data-volume:/64ee36779438c74174f123ea/pdf:rw&quot;\n        ],\n        ...\n        &quot;Mounts&quot;: [\n        {\n            &quot;Type&quot;: &quot;volume&quot;,\n            &quot;Name&quot;: &quot;pdf-tools-data-volume&quot;,\n            &quot;Source&quot;: &quot;/var/lib/docker/volumes/pdf-tools-data-volume/_data&quot;,\n            &quot;Destination&quot;: &quot;/64ee36779438c74174f123ea/pdf&quot;,\n            &quot;Driver&quot;: &quot;local&quot;,\n            &quot;Mode&quot;: &quot;rw&quot;,\n            &quot;RW&quot;: true,\n            &quot;Propagation&quot;: &quot;&quot;\n        }],\n        ...\n        &quot;Cmd&quot;: [\n            &quot;ocrmypdf&quot;,\n            &quot;--rotate-pages&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\n        ]\n     \n</code></pre>\n<p>Has anyone attempted to use ocrmypdf with docker mounting volumes?</p>\n"},{"tags":["java","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672603794,"creation_date":1672603794,"answer_id":74977115,"question_id":74975437,"body_markdown":"It turns out it&#39;s even easier than in sync http client:\r\n\r\n    HttpAsyncClients.custom()\r\n            .setIOReactorConfig(\r\n                IOReactorConfig.custom()\r\n                    .setSocksProxyAddress(InetSocketAddress(&quot;mysockshost&quot;, 1234))\r\n                    .build()\r\n            )\r\n            .build()","title":"How to configure async apache http client 5 to use SOCKS proxy?","body":"<p>It turns out it's even easier than in sync http client:</p>\n<pre><code>HttpAsyncClients.custom()\n        .setIOReactorConfig(\n            IOReactorConfig.custom()\n                .setSocksProxyAddress(InetSocketAddress(&quot;mysockshost&quot;, 1234))\n                .build()\n        )\n        .build()\n</code></pre>\n"}],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74977115,"answer_count":1,"score":0,"last_activity_date":1693498936,"creation_date":1672586484,"question_id":74975437,"body_markdown":"I&#39;m trying to configure async http client to use SOCKS proxy. [Here][1] is the answer for sync http client. I don&#39;t know how to set `ConnectionSocketFactory` to async http client. Is it possible? \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22960881/4767134","title":"How to configure async apache http client 5 to use SOCKS proxy?","body":"<p>I'm trying to configure async http client to use SOCKS proxy. <a href=\"https://stackoverflow.com/a/22960881/4767134\">Here</a> is the answer for sync http client. I don't know how to set <code>ConnectionSocketFactory</code> to async http client. Is it possible?</p>\n"},{"tags":["java","tensorflow"],"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693498870,"creation_date":1693319087,"question_id":77001074,"body_markdown":"I have been given a trained TensorFlow model as a SavedModelBundle and a sketch of how to use it. The code is below.\r\n\r\nThe problem is that I must not only use it, but repeat this over and over again with different data. These are not all known at the same time. The code below was repeats the entire process from retrieving the saved model to fetch() every time it is called. So it seems more appropriate for a small number of uses.  \r\n\r\nThere are several classes that collaborate in the example, including Model, Session, Runner. I would like to factor out any one-time operation or potentially persistent object and put it in an `init()` function. What I&#39;d like to know are:\r\n\r\n 1. What is the appropriate objects to relegate to init() and to store? Is it typical to load and configure a runner, store that, and just doing feeds, runs and fetches?\r\n 2. Are there Tensor resources I need to close? The documentation has warnings about freeing resources. Will everything be OK when `result` goes out of scope or do I need to call `close()`?\r\n\r\nCode:\r\n\r\n    SavedModelBundle model = SavedModelBundle.load(fname); \r\n    Session s = model.session();\r\n    \r\n    Runner runner = s.runner();\r\n    int nFeatures = tensorNames.length;\r\n    for (int i = 0; i &lt; nFeatures; i++) {\r\n        float[][] featureData = new float[][] { { rawdata[0][i] } };\r\n        Tensor&lt;Float&gt; input = Tensor.create(featureData, Float.class);\r\n        runner.feed(tensorNames[i], input);\r\n    }\r\n    \r\n    int nFeatures_int = tensorNames_int.length;\r\n    for (int i = 0; i &lt; nFeatures_int; i++) {\r\n        long[][] featureData_int = new long[][] { { rawdata_int[0][i] } };\r\n        Tensor&lt;Long&gt; input_int = Tensor.create(featureData_int, Long.class);\r\n        runner.feed(tensorNames_int[i], input_int);\r\n    }\r\n    \r\n    Tensor result = runner.fetch(&quot;StatefulPartitionedCall_2:0&quot;).run().get(0);\r\n    float[][] out = new float[1][1];\r\n    result.copyTo(out);\r\n    model.close();\r\n    return out[0][0];\r\n\r\n\r\n\r\n","title":"Efficient repeated use of TensorFlow in Java based on SavedModelBundle","body":"<p>I have been given a trained TensorFlow model as a SavedModelBundle and a sketch of how to use it. The code is below.</p>\n<p>The problem is that I must not only use it, but repeat this over and over again with different data. These are not all known at the same time. The code below was repeats the entire process from retrieving the saved model to fetch() every time it is called. So it seems more appropriate for a small number of uses.</p>\n<p>There are several classes that collaborate in the example, including Model, Session, Runner. I would like to factor out any one-time operation or potentially persistent object and put it in an <code>init()</code> function. What I'd like to know are:</p>\n<ol>\n<li>What is the appropriate objects to relegate to init() and to store? Is it typical to load and configure a runner, store that, and just doing feeds, runs and fetches?</li>\n<li>Are there Tensor resources I need to close? The documentation has warnings about freeing resources. Will everything be OK when <code>result</code> goes out of scope or do I need to call <code>close()</code>?</li>\n</ol>\n<p>Code:</p>\n<pre><code>SavedModelBundle model = SavedModelBundle.load(fname); \nSession s = model.session();\n\nRunner runner = s.runner();\nint nFeatures = tensorNames.length;\nfor (int i = 0; i &lt; nFeatures; i++) {\n    float[][] featureData = new float[][] { { rawdata[0][i] } };\n    Tensor&lt;Float&gt; input = Tensor.create(featureData, Float.class);\n    runner.feed(tensorNames[i], input);\n}\n\nint nFeatures_int = tensorNames_int.length;\nfor (int i = 0; i &lt; nFeatures_int; i++) {\n    long[][] featureData_int = new long[][] { { rawdata_int[0][i] } };\n    Tensor&lt;Long&gt; input_int = Tensor.create(featureData_int, Long.class);\n    runner.feed(tensorNames_int[i], input_int);\n}\n\nTensor result = runner.fetch(&quot;StatefulPartitionedCall_2:0&quot;).run().get(0);\nfloat[][] out = new float[1][1];\nresult.copyTo(out);\nmodel.close();\nreturn out[0][0];\n</code></pre>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1412977268,"post_id":26283832,"comment_id":41284629,"body_markdown":"Why don&#39;t You use `Set`?","body":"Why don&#39;t You use <code>Set</code>?"}],"answers":[{"comments":[{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1412931278,"post_id":26283903,"comment_id":41260422,"body_markdown":"Sorry for confusion, tim_yates, I need [1,5,8] to be equal to [5,1,8], thats what I have coded, but may be there is a simplier solution.","body":"Sorry for confusion, tim_yates, I need [1,5,8] to be equal to [5,1,8], thats what I have coded, but may be there is a simplier solution."},{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1412933758,"post_id":26283903,"comment_id":41261885,"body_markdown":"@tim_yates, this won&#39;t work because lists may contain elements in different order.","body":"@tim_yates, this won&#39;t work because lists may contain elements in different order."},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1412943061,"post_id":26283903,"comment_id":41267055,"body_markdown":"thanks, @tim_yates! but for cases other than primitives equality of elements do not ensure equal position after sorting, right?","body":"thanks, @tim_yates! but for cases other than primitives equality of elements do not ensure equal position after sorting, right?"},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1412943212,"post_id":26283903,"comment_id":41267158,"body_markdown":"I mean [o1, o2, o2&#39;] and [o1, o2&#39;, o2] where o2 == o2&#39; are both sorted but list1 != list2","body":"I mean [o1, o2, o2&#39;] and [o1, o2&#39;, o2] where o2 == o2&#39; are both sorted but list1 != list2"},{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":3,"creation_date":1412946605,"post_id":26283903,"comment_id":41269244,"body_markdown":"`sort` will only work for elements that Groovy knows how to compare (mainly `Comparable` objects). A more general solution is `list1 as Set == list2 as Set`.","body":"<code>sort</code> will only work for elements that Groovy knows how to compare (mainly <code>Comparable</code> objects). A more general solution is <code>list1 as Set == list2 as Set</code>."}],"tags":[],"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1412934016,"creation_date":1412873635,"answer_id":26283903,"question_id":26283832,"body_markdown":"Just do:\r\n\r\n    when:\r\n        def expectedResults = [ ... ]\r\n        def realResults = getRealResultsMethod()\r\n\r\n    then:\r\n        realResults == expectedResults\r\n\r\nOr, if you don&#39;t care about order (which is breaking the contract of List, but there you go), you could do:\r\n\r\n    then:\r\n        realResults.sort() == expectedResults.sort()\r\n\r\nOr convert them to sets or something","title":"Assert two lists are equal in Spock framework","body":"<p>Just do:</p>\n\n<pre><code>when:\n    def expectedResults = [ ... ]\n    def realResults = getRealResultsMethod()\n\nthen:\n    realResults == expectedResults\n</code></pre>\n\n<p>Or, if you don't care about order (which is breaking the contract of List, but there you go), you could do:</p>\n\n<pre><code>then:\n    realResults.sort() == expectedResults.sort()\n</code></pre>\n\n<p>Or convert them to sets or something</p>\n"},{"comments":[{"owner":{"account_id":4870745,"reputation":1321,"user_id":3927381,"accept_rate":62,"display_name":"solvingJ"},"score":1,"creation_date":1474041775,"post_id":26296347,"comment_id":66385718,"body_markdown":"One minor note about asserting containsAll() vs. == on collections:  The == operator in IntelliJ/Spock provides a special feature which containsAll does not:  When == assertions fail, it provides a link in the output which presents a very nice &quot;Differences&quot; view.  For other collections, you&#39;ll have do some copy/paste to see your outputs sidebyside with the asserted values.","body":"One minor note about asserting containsAll() vs. == on collections:  The == operator in IntelliJ/Spock provides a special feature which containsAll does not:  When == assertions fail, it provides a link in the output which presents a very nice &quot;Differences&quot; view.  For other collections, you&#39;ll have do some copy/paste to see your outputs sidebyside with the asserted values."},{"owner":{"account_id":1077999,"reputation":484,"user_id":1075729,"display_name":"Zarremgregarrok"},"score":1,"creation_date":1500542576,"post_id":26296347,"comment_id":77387213,"body_markdown":"you need to check containsAll both ways. realResults = [1,2,3] and expectedResults = [1,2,2] passes, but is not the same","body":"you need to check containsAll both ways. realResults = [1,2,3] and expectedResults = [1,2,2] passes, but is not the same"},{"owner":{"account_id":64446,"reputation":3247,"user_id":190233,"accept_rate":89,"display_name":"FinnNk"},"score":1,"creation_date":1553682299,"post_id":26296347,"comment_id":97471824,"body_markdown":"This still isn&#39;t quite right [1,1,2,3] and [1,2,2,3] would pass the check","body":"This still isn&#39;t quite right [1,1,2,3] and [1,2,2,3] would pass the check"}],"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1500544646,"creation_date":1412933940,"answer_id":26296347,"question_id":26283832,"body_markdown":"If You just need to check if both lists have same elements You may try:\r\n\r\n    when:\r\n        def expectedResults = [ ... ]\r\n        def realResults = getRealResultsMethod()\r\n    \r\n    then:\r\n        realResults.size() == expectedResults.size()\r\n        realResults.containsAll(expectedResults)\r\n        expectedResults.containsAll(realResults)\r\n\r\nBut if You need to check if both lists are *equal* You just need (as in @tim_yates&#39; response):\r\n\r\n    when:\r\n        def expectedResults = [ ... ]\r\n        def realResults = getRealResultsMethod()\r\n    \r\n    then:\r\n        realResults == expectedResults\r\n\r\nRemember that two lists are equal only if they have the same elements in the same **order**.","title":"Assert two lists are equal in Spock framework","body":"<p>If You just need to check if both lists have same elements You may try:</p>\n\n<pre><code>when:\n    def expectedResults = [ ... ]\n    def realResults = getRealResultsMethod()\n\nthen:\n    realResults.size() == expectedResults.size()\n    realResults.containsAll(expectedResults)\n    expectedResults.containsAll(realResults)\n</code></pre>\n\n<p>But if You need to check if both lists are <em>equal</em> You just need (as in @tim_yates' response):</p>\n\n<pre><code>when:\n    def expectedResults = [ ... ]\n    def realResults = getRealResultsMethod()\n\nthen:\n    realResults == expectedResults\n</code></pre>\n\n<p>Remember that two lists are equal only if they have the same elements in the same <strong>order</strong>.</p>\n"},{"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":4,"creation_date":1412977430,"post_id":26299168,"comment_id":41284683,"body_markdown":"It&#39;s not enough: `[1,1].containsAll([1])` is true as well as `[1].containsAll([1,1])` and according to You criteria this shouldn&#39;t pass.","body":"It&#39;s not enough: <code>[1,1].containsAll([1])</code> is true as well as <code>[1].containsAll([1,1])</code> and according to You criteria this shouldn&#39;t pass."}],"tags":[],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1412946009,"creation_date":1412943110,"answer_id":26299168,"question_id":26283832,"body_markdown":"    list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)","title":"Assert two lists are equal in Spock framework","body":"<pre><code>list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413344821,"creation_date":1413344520,"answer_id":26374117,"question_id":26283832,"body_markdown":"The semantic data structure you are seeking is often referred to as a *bag*. In a bag, as in a set, order of elements does not matter. However, in a bag, as in a list, repeat elements are allowed. Bag equality, then, consists of having the same elements each in the same amounts, although not necessarily in the same order. So it seems that what you are looking for is a way to apply &quot;bag&quot; semantics to your list. The easiest way to do this is to duplicate one of the bags and remove the other bag&#39;s elements from the duplicate until:\r\n\r\n - all the other bag&#39;s elements are exhausted and the duplicate is empty (they&#39;re equal!)\r\n - all the other bag&#39;s elements are exhausted and the duplicate is NOT empty (they&#39;re different!)\r\n - during the iteration, one of the other bag&#39;s elements can&#39;t be removed from the duplicate (they&#39;re different!)\r\n\r\nSomething like the `equals()` implementation shown below:\r\n\r\n    class Bag {\r\n        List list\r\n        Bag(List list) { this.list = list }\r\n        @Override boolean equals(that) {\r\n            def thisList = list?.clone() ?: []\r\n            that instanceof Bag &amp;&amp;\r\n                (that?.list ?: []).every { thisList.remove((Object)it) } &amp;&amp;\r\n                !thisList\r\n        }\r\n        @Override int hashCode() { this?.list?.sum { it?.hashCode() ?: 0 } ?: 0 }\r\n        @Override String toString() { this?.list?.toString() }\r\n    }\r\n    \r\n    def a = [1, 5, 1, -1, 8] as Bag\r\n    def b = [5, 1, -1, 8, 1] as Bag // same elements different order\r\n    def c = [1, 5, -1, 8]    as Bag // same elements different size\r\n    def d = [5, 5, 1, -1, 8] as Bag // same elements same size different amounts of each\r\n    \r\n    assert a == b\r\n    assert a != c\r\n    assert a != d\r\n    \r\n    println a    // [1, 5, 1, -1, 8]\r\n    println b    // [5, 1, -1, 8, 1]\r\n\r\n&lt;hr/&gt;\r\n\r\nAlternatively, if you don&#39;t care about the original list order at all, you can represent the bag as a map. The bag element values are the map keys are and the number of appearances of each bag element are the map values. At that point, equality is just map equality.\r\n\r\nLike this:\r\n\r\n    class BagAsMap {\r\n        Map map = [:]\r\n        BagAsMap(List list) {\r\n            (list ?: []).each { map[it] = (map[it] ?: 0) + 1 }\r\n        }\r\n        @Override boolean equals(that) {\r\n            that instanceof BagAsMap &amp;&amp; this?.map == that?.map\r\n        }\r\n        @Override int hashCode() { this?.map?.hashCode() ?: 0 }\r\n        @Override String toString() {\r\n            &#39;[&#39; + map.keySet().sum { k -&gt; (0..&lt;(map[k])).sum { &quot;${k}, &quot; } }[0..-3] + &#39;]&#39;\r\n        }\r\n    }\r\n    \r\n    def a1 = [1, 5, 1, -1, 8] as BagAsMap\r\n    def b1 = [5, 1, -1, 8, 1] as BagAsMap // same elements different order\r\n    def c1 = [1, 5, -1, 8]    as BagAsMap // same elements different size\r\n    def d1 = [5, 5, 1, -1, 8] as BagAsMap // same elements same size different amounts\r\n    \r\n    assert a1 == b1\r\n    assert a1 != c1\r\n    assert a1 != d1\r\n    \r\n    println a1\r\n    println b1\r\n\r\n&lt;hr/&gt;\r\n\r\nIn any case this is serious overkill if you just need to check order-neutral list equivalence once or twice, but if bag semantics are a frequent need, then defining a Bag class in one of these two ways is probably a good idea.\r\n\r\nAs noted elsewhere, in this specific case, `a.sort() == b.sort()` is a sufficient stopgap in place of full bag semantics. However, not all objects that might be placed in a list together are mutually sortable, even with the most sophisticated comparator closure. However, they all have `hashCode()` and `equals()`, which is all that is needed for either bag implementation shown.\r\n\r\nFurthermore, `List.sort()` has *O(n log n)* algorithmic complexity, whereas all the bag operations shown are *O(n)* complexity. Not worth worrying about for these small lists, but a much bigger deal for large ones.","title":"Assert two lists are equal in Spock framework","body":"<p>The semantic data structure you are seeking is often referred to as a <em>bag</em>. In a bag, as in a set, order of elements does not matter. However, in a bag, as in a list, repeat elements are allowed. Bag equality, then, consists of having the same elements each in the same amounts, although not necessarily in the same order. So it seems that what you are looking for is a way to apply \"bag\" semantics to your list. The easiest way to do this is to duplicate one of the bags and remove the other bag's elements from the duplicate until:</p>\n\n<ul>\n<li>all the other bag's elements are exhausted and the duplicate is empty (they're equal!)</li>\n<li>all the other bag's elements are exhausted and the duplicate is NOT empty (they're different!)</li>\n<li>during the iteration, one of the other bag's elements can't be removed from the duplicate (they're different!)</li>\n</ul>\n\n<p>Something like the <code>equals()</code> implementation shown below:</p>\n\n<pre><code>class Bag {\n    List list\n    Bag(List list) { this.list = list }\n    @Override boolean equals(that) {\n        def thisList = list?.clone() ?: []\n        that instanceof Bag &amp;&amp;\n            (that?.list ?: []).every { thisList.remove((Object)it) } &amp;&amp;\n            !thisList\n    }\n    @Override int hashCode() { this?.list?.sum { it?.hashCode() ?: 0 } ?: 0 }\n    @Override String toString() { this?.list?.toString() }\n}\n\ndef a = [1, 5, 1, -1, 8] as Bag\ndef b = [5, 1, -1, 8, 1] as Bag // same elements different order\ndef c = [1, 5, -1, 8]    as Bag // same elements different size\ndef d = [5, 5, 1, -1, 8] as Bag // same elements same size different amounts of each\n\nassert a == b\nassert a != c\nassert a != d\n\nprintln a    // [1, 5, 1, -1, 8]\nprintln b    // [5, 1, -1, 8, 1]\n</code></pre>\n\n<hr/>\n\n<p>Alternatively, if you don't care about the original list order at all, you can represent the bag as a map. The bag element values are the map keys are and the number of appearances of each bag element are the map values. At that point, equality is just map equality.</p>\n\n<p>Like this:</p>\n\n<pre><code>class BagAsMap {\n    Map map = [:]\n    BagAsMap(List list) {\n        (list ?: []).each { map[it] = (map[it] ?: 0) + 1 }\n    }\n    @Override boolean equals(that) {\n        that instanceof BagAsMap &amp;&amp; this?.map == that?.map\n    }\n    @Override int hashCode() { this?.map?.hashCode() ?: 0 }\n    @Override String toString() {\n        '[' + map.keySet().sum { k -&gt; (0..&lt;(map[k])).sum { \"${k}, \" } }[0..-3] + ']'\n    }\n}\n\ndef a1 = [1, 5, 1, -1, 8] as BagAsMap\ndef b1 = [5, 1, -1, 8, 1] as BagAsMap // same elements different order\ndef c1 = [1, 5, -1, 8]    as BagAsMap // same elements different size\ndef d1 = [5, 5, 1, -1, 8] as BagAsMap // same elements same size different amounts\n\nassert a1 == b1\nassert a1 != c1\nassert a1 != d1\n\nprintln a1\nprintln b1\n</code></pre>\n\n<hr/>\n\n<p>In any case this is serious overkill if you just need to check order-neutral list equivalence once or twice, but if bag semantics are a frequent need, then defining a Bag class in one of these two ways is probably a good idea.</p>\n\n<p>As noted elsewhere, in this specific case, <code>a.sort() == b.sort()</code> is a sufficient stopgap in place of full bag semantics. However, not all objects that might be placed in a list together are mutually sortable, even with the most sophisticated comparator closure. However, they all have <code>hashCode()</code> and <code>equals()</code>, which is all that is needed for either bag implementation shown.</p>\n\n<p>Furthermore, <code>List.sort()</code> has <em>O(n log n)</em> algorithmic complexity, whereas all the bag operations shown are <em>O(n)</em> complexity. Not worth worrying about for these small lists, but a much bigger deal for large ones.</p>\n"},{"tags":[],"owner":{"account_id":12166027,"reputation":398,"user_id":8882316,"display_name":"dominikbrandon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693498837,"creation_date":1693498837,"answer_id":77017657,"question_id":26283832,"body_markdown":"Since Spock 2.1 there&#39;s a much better option built-in, than the ones mentioned in other answers: `=~` and `==~` operators. See more [in the docs](https://spockframework.org/spock/docs/2.3/all_in_one.html#collection-conditions).\r\n\r\n`==~` does exactly what you wanted: 2 lists are equal only when they contain equal objects in the same amount, ignoring the order.\r\n\r\nIn your case:\r\n\r\n    def list = [1,5,8]\r\n\r\n    def list1 = [5,1,8]    \r\n    def list2 = [1,5,8,9]\r\n\r\n    list ==~ list1 // true\r\n    list ==~ list2 // false","title":"Assert two lists are equal in Spock framework","body":"<p>Since Spock 2.1 there's a much better option built-in, than the ones mentioned in other answers: <code>=~</code> and <code>==~</code> operators. See more <a href=\"https://spockframework.org/spock/docs/2.3/all_in_one.html#collection-conditions\" rel=\"nofollow noreferrer\">in the docs</a>.</p>\n<p><code>==~</code> does exactly what you wanted: 2 lists are equal only when they contain equal objects in the same amount, ignoring the order.</p>\n<p>In your case:</p>\n<pre><code>def list = [1,5,8]\n\ndef list1 = [5,1,8]    \ndef list2 = [1,5,8,9]\n\nlist ==~ list1 // true\nlist ==~ list2 // false\n</code></pre>\n"}],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28949,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":26283903,"answer_count":5,"score":20,"last_activity_date":1693498837,"creation_date":1412873381,"question_id":26283832,"body_markdown":"I test my application using Spock framework, the tests are written in Groovy.\r\n\r\nAs a result of some method evaluation I have a list of objects. I want to test if this list is the same as the list I expect. I have coded the following: \r\n\r\n    def expectedResults = [ ... ] //the list I expect to see\r\n    def isEqual = true;\r\n\r\n    when:\r\n    def realResults = getRealResultsMethod() //get real results in a list here\r\n    expectedResults.each {isEqual &amp;= realResults.contains(it)}\r\n    then:\r\n    isEqual\r\n    0 * errorHandler.handleError(_) //by the way assert that my errorHandler is never called\r\n\r\nThis is one of my first experiences with Groovy, so may be I am missing something?\r\n\r\nPS\r\n\r\nWhat confuses me is &#39;equals&#39; operator in Groovy and Spock. Given Java ArrayList or Java array, equals operator is simply identity operator: equals is ==. In Groovy as far as I understand default equals operator is really equals (form here: http://groovy.codehaus.org/Differences+from+Java). But what is &#39;equals&#39; for Groovy List or Set? \r\n\r\nUPDATE\r\n\r\nTo be more precise.\r\nI want to find out wether the two lists have the same objects, no extra objects for both list, the order doesn&#39;t matter. For example:\r\n\r\n    list=[1,5,8]\r\n   \r\n    list1=[5,1,8]    \r\n    list2=[1,5,8,9]\r\n        \r\n    println(list == list1) //should be equal, if we use == not equal    \r\n    println(list == list2) //should not be equal, if we use == not equal","title":"Assert two lists are equal in Spock framework","body":"<p>I test my application using Spock framework, the tests are written in Groovy.</p>\n\n<p>As a result of some method evaluation I have a list of objects. I want to test if this list is the same as the list I expect. I have coded the following: </p>\n\n<pre><code>def expectedResults = [ ... ] //the list I expect to see\ndef isEqual = true;\n\nwhen:\ndef realResults = getRealResultsMethod() //get real results in a list here\nexpectedResults.each {isEqual &amp;= realResults.contains(it)}\nthen:\nisEqual\n0 * errorHandler.handleError(_) //by the way assert that my errorHandler is never called\n</code></pre>\n\n<p>This is one of my first experiences with Groovy, so may be I am missing something?</p>\n\n<p>PS</p>\n\n<p>What confuses me is 'equals' operator in Groovy and Spock. Given Java ArrayList or Java array, equals operator is simply identity operator: equals is ==. In Groovy as far as I understand default equals operator is really equals (form here: <a href=\"http://groovy.codehaus.org/Differences+from+Java\" rel=\"noreferrer\">http://groovy.codehaus.org/Differences+from+Java</a>). But what is 'equals' for Groovy List or Set? </p>\n\n<p>UPDATE</p>\n\n<p>To be more precise.\nI want to find out wether the two lists have the same objects, no extra objects for both list, the order doesn't matter. For example:</p>\n\n<pre><code>list=[1,5,8]\n\nlist1=[5,1,8]    \nlist2=[1,5,8,9]\n\nprintln(list == list1) //should be equal, if we use == not equal    \nprintln(list == list2) //should not be equal, if we use == not equal\n</code></pre>\n"},{"tags":["java","micronaut","inject"],"comments":[{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":2,"creation_date":1686241745,"post_id":76432071,"comment_id":134775406,"body_markdown":"Take a look at this guide: https://guides.micronaut.io/latest/micronaut-configuration.html","body":"Take a look at this guide: <a href=\"https://guides.micronaut.io/latest/micronaut-configuration.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/micronaut-configuration.html</a>"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693498629,"creation_date":1686228831,"question_id":76432071,"body_markdown":"I&#39;m using micronaut and I have a list of properties defined in the application yml file, this is an example:\r\n```\r\ninbound:\r\n  validations:\r\n    VALIDATION1:\r\n      description: bla bla\r\n      filter:\r\n        erps:\r\n          - erp1\r\n        type:\r\n          - type1\r\n    VALIDATION2:\r\n      description: bla bla\r\n      filter:\r\n        erps:\r\n          - erp1\r\n        type:\r\n          - type1\r\n    VALIDATION3:\r\n      description: bla bla\r\n      filter:\r\n        erps:\r\n          - erp1\r\n        type:\r\n          - type1\r\n```\r\n\r\nI want to inject each of this items in a java class, I have defined this one:\r\n```\r\n@Data\r\n@EachProperty(&quot;inbound.validations&quot;)\r\npublic class ConfigBusinessProductValidator {\r\n    public ConfigBusinessProductValidator(@Parameter BusinessValidator.VALIDATION_ID validationId) {\r\n        this.validationId = validationId;\r\n    }\r\n    \r\n    private BusinessValidator.VALIDATION_ID validationId;\r\n\r\n    private String description;\r\n\r\n    private FilterConfig filter;\r\n    \r\n    public class FilterConfig{\r\n        private Set&lt;ErpEnum&gt; erps;\r\n        private Set&lt;LogisticsTypeEnum&gt; logisticsType;\r\n        private Set&lt;CompanyEnum&gt; ownerCompany;\r\n    }\r\n\r\n}\r\n```\r\nThis is working for the fields that are in the root but not for the filter. \r\n\r\nHow can I define the class so micronaut can inject the attributes under filter level?\r\n\r\n","title":"Micronaut inject yml properties in java","body":"<p>I'm using micronaut and I have a list of properties defined in the application yml file, this is an example:</p>\n<pre><code>inbound:\n  validations:\n    VALIDATION1:\n      description: bla bla\n      filter:\n        erps:\n          - erp1\n        type:\n          - type1\n    VALIDATION2:\n      description: bla bla\n      filter:\n        erps:\n          - erp1\n        type:\n          - type1\n    VALIDATION3:\n      description: bla bla\n      filter:\n        erps:\n          - erp1\n        type:\n          - type1\n</code></pre>\n<p>I want to inject each of this items in a java class, I have defined this one:</p>\n<pre><code>@Data\n@EachProperty(&quot;inbound.validations&quot;)\npublic class ConfigBusinessProductValidator {\n    public ConfigBusinessProductValidator(@Parameter BusinessValidator.VALIDATION_ID validationId) {\n        this.validationId = validationId;\n    }\n    \n    private BusinessValidator.VALIDATION_ID validationId;\n\n    private String description;\n\n    private FilterConfig filter;\n    \n    public class FilterConfig{\n        private Set&lt;ErpEnum&gt; erps;\n        private Set&lt;LogisticsTypeEnum&gt; logisticsType;\n        private Set&lt;CompanyEnum&gt; ownerCompany;\n    }\n\n}\n</code></pre>\n<p>This is working for the fields that are in the root but not for the filter.</p>\n<p>How can I define the class so micronaut can inject the attributes under filter level?</p>\n"},{"tags":["java","jsf","interface","javabeans"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688452743,"creation_date":1688448539,"answer_id":76609609,"question_id":76609461,"body_markdown":"You seem to be trying to obtain JSF beans outside the JSF context in so far as it being in &quot;servlet code&quot; not inside page code where the configuration and call of a bean is implicit.\r\n\r\n**Just a reminder, JSF beans only have data context or good practice use with some form of &quot;binding&quot; to an element value!\r\nOr it is absurd to be processing using JSF and it&#39;s one foot after the other thread sequence that is only manipulable using &quot;phases&quot;.\r\nWhat is the packaging and hierarchy of the classes wanted? Are they in JSF (the classes or interfaces extended) .**\r\n\r\n**public void getData method should be inside class MyController because it implements the actual code for getData !\r\ngetHandler would be a better name , getData should at least obtain the result but more sensibly the data input for the handler !**\r\n\r\n**getApplication()** I think you are trying to get e.g. the ApplicationContextFacade that is normally (ULTIMATELY) the Servlet context or PageContext and in JSF the FacesContext. \r\n &quot;JSF Runtime is on an isolated sub thread&quot; , so accessing the aka context of the app is &quot;momentary&quot; at time of call from FacesContext through the thread to the ApplicationContext.\r\n\r\nQUOTE from one of my docs...\r\n\r\n\r\nUnfortunately, to use a managed bean in JSF would be around three different steps and an Enum of constants or a Collection of urls\r\nBut that does not make output more flexible at in page coding either for a graphic image.\r\nNeither does that allow server connection utilization and conservation.\r\nThe following it can be reduced to with this API and faces , simple enough &quot;in a managed bean&quot; for JSF.\r\nFor a faces app , these are good to have handy running in Oracle 1.8.0_202\r\n// jakarta.faces-3.0.0-RC5.jar jakarta.servlet.jsp.jstl-2.0.0.jar jakarta.inject-api-2.0.0.jar jakarta.annotation-api-62.jar\r\n\r\nThe following can be obtained in a jakarta faces managed bean using jakarta.faces-3.0.0-RC5.jar with the com.sun WebConfiguration class\r\nThis is supplied for backward compatibility only to use the com.sun classes.\r\n\r\n\r\n    public String makeImg(String umber){\r\n    // jakarta.faces-3.0.0-RC5.jar\r\n    WebConfiguration wbc = WebConfiguration.getInstance();\r\n    ServletContext appconxt = wbc.getServletContext();\r\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\r\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n    imagedata = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\r\n    return imagedata;\r\n    }\r\n\r\n\r\nIn either jakarta.faces or javax.faces now , only the following is suppiled and must be cast to jakarta.servlet.ServletContext or javax.servlet.ServletContext respectively\r\n[ if the server app is not a Portlet ].\r\n\r\n    public String makeImg(String umber){\r\n    //jakarta.faces-3.0.0.jar\r\n    // WARNING FROM HERE TO\r\n    jakarta.servlet.ServletContext appconxt = (jakarta.servlet.ServletContext)(jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext().getContext();\r\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\r\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n    // HERE MUST BE CALLED\r\n    // EACH SINGLE TIME WARNING DO NOT ATTEMPT GLOBAL SETUP WARNING\r\n    base64string = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\r\n    return base64string;\r\n    }\r\n\r\n**Also, this appears to be what you are doing in some way, it is possible to write a custom DataContentHandler for a specific MIME type of it fulfills all required methods for a DataHandler\r\njavax.activation Interface DataContentHandler**","title":"is there any way to inject all implementers (JSF Beans) of an interface in a Service managed by Spring?","body":"<p>You seem to be trying to obtain JSF beans outside the JSF context in so far as it being in &quot;servlet code&quot; not inside page code where the configuration and call of a bean is implicit.</p>\n<p><strong>Just a reminder, JSF beans only have data context or good practice use with some form of &quot;binding&quot; to an element value!\nOr it is absurd to be processing using JSF and it's one foot after the other thread sequence that is only manipulable using &quot;phases&quot;.\nWhat is the packaging and hierarchy of the classes wanted? Are they in JSF (the classes or interfaces extended) .</strong></p>\n<p><strong>public void getData method should be inside class MyController because it implements the actual code for getData !\ngetHandler would be a better name , getData should at least obtain the result but more sensibly the data input for the handler !</strong></p>\n<p><strong>getApplication()</strong> I think you are trying to get e.g. the ApplicationContextFacade that is normally (ULTIMATELY) the Servlet context or PageContext and in JSF the FacesContext.\n&quot;JSF Runtime is on an isolated sub thread&quot; , so accessing the aka context of the app is &quot;momentary&quot; at time of call from FacesContext through the thread to the ApplicationContext.</p>\n<p>QUOTE from one of my docs...</p>\n<p>Unfortunately, to use a managed bean in JSF would be around three different steps and an Enum of constants or a Collection of urls\nBut that does not make output more flexible at in page coding either for a graphic image.\nNeither does that allow server connection utilization and conservation.\nThe following it can be reduced to with this API and faces , simple enough &quot;in a managed bean&quot; for JSF.\nFor a faces app , these are good to have handy running in Oracle 1.8.0_202\n// jakarta.faces-3.0.0-RC5.jar jakarta.servlet.jsp.jstl-2.0.0.jar jakarta.inject-api-2.0.0.jar jakarta.annotation-api-62.jar</p>\n<p>The following can be obtained in a jakarta faces managed bean using jakarta.faces-3.0.0-RC5.jar with the com.sun WebConfiguration class\nThis is supplied for backward compatibility only to use the com.sun classes.</p>\n<pre><code>public String makeImg(String umber){\n// jakarta.faces-3.0.0-RC5.jar\nWebConfiguration wbc = WebConfiguration.getInstance();\nServletContext appconxt = wbc.getServletContext();\nWebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\nRamStringB64 b64obj = dat.getRAMStringB64Store();\nimagedata = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\nreturn imagedata;\n}\n</code></pre>\n<p>In either jakarta.faces or javax.faces now , only the following is suppiled and must be cast to jakarta.servlet.ServletContext or javax.servlet.ServletContext respectively\n[ if the server app is not a Portlet ].</p>\n<pre><code>public String makeImg(String umber){\n//jakarta.faces-3.0.0.jar\n// WARNING FROM HERE TO\njakarta.servlet.ServletContext appconxt = (jakarta.servlet.ServletContext)(jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext().getContext();\nWebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\nRamStringB64 b64obj = dat.getRAMStringB64Store();\n// HERE MUST BE CALLED\n// EACH SINGLE TIME WARNING DO NOT ATTEMPT GLOBAL SETUP WARNING\nbase64string = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\nreturn base64string;\n}\n</code></pre>\n<p><strong>Also, this appears to be what you are doing in some way, it is possible to write a custom DataContentHandler for a specific MIME type of it fulfills all required methods for a DataHandler\njavax.activation Interface DataContentHandler</strong></p>\n"}],"owner":{"account_id":13263902,"reputation":23,"user_id":9577473,"display_name":"Cristian Piste"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693498503,"creation_date":1688445994,"question_id":76609461,"body_markdown":"I have this interface\r\n\r\n``` java\r\npublic interface DataHandler {\r\n    void getData();\r\n    \r\n    String getControllerPrefix();\r\n}\r\n```\r\n\r\nAnd it is being implemented in different controllers like the following\r\n``` java\r\n@ManagedBean\r\n@ViewScoped\r\npublic class MyController implements DataHandler{\r\n       //some code\r\n}\r\n```\r\n\r\nThat I want to do is getting all controllers that implement that interface injecting them in an attribute of my business layer. But is not working due to I&#39;m trying to inject JSF beans (MyControllers) in a bean managed by spring (Business)\r\n\r\n``` java\r\n@Service\r\npublic class Business {\r\n    @Any\r\n    private final Instance&lt;DataHandler&gt; dataHandlers;\r\n\r\n    public void getData(String controllerPrefix) {\r\n        //logic to get the right controller and its data\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve been using the following method to get JSF beans and use them out of its own context\r\n``` java\r\npublic static &lt;T&gt; T getBeanFromFacesCtx(String beanQualifier, Class&lt;T&gt; clazz) {\r\n        FacesContext ctx = FacesContext.getCurrentInstance();\r\n        Application app = ctx.getApplication();\r\n        T bean = app.evaluateExpressionGet(ctx, beanQualifier, clazz);\r\n        return Optional.ofNullable(bean)\r\n                .orElseThrow(() -&gt; new UnsupportedOperationException(&quot;It was not possible to return the Bean &quot; + beanQualifier));\r\n    }\r\n```\r\n\r\nHowever this time I&#39;m looking for a best way to get it.\r\nIs there any way to achieve that thing?\r\n","title":"is there any way to inject all implementers (JSF Beans) of an interface in a Service managed by Spring?","body":"<p>I have this interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DataHandler {\n    void getData();\n    \n    String getControllerPrefix();\n}\n</code></pre>\n<p>And it is being implemented in different controllers like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManagedBean\n@ViewScoped\npublic class MyController implements DataHandler{\n       //some code\n}\n</code></pre>\n<p>That I want to do is getting all controllers that implement that interface injecting them in an attribute of my business layer. But is not working due to I'm trying to inject JSF beans (MyControllers) in a bean managed by spring (Business)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Business {\n    @Any\n    private final Instance&lt;DataHandler&gt; dataHandlers;\n\n    public void getData(String controllerPrefix) {\n        //logic to get the right controller and its data\n    }\n\n</code></pre>\n<p>I've been using the following method to get JSF beans and use them out of its own context</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T getBeanFromFacesCtx(String beanQualifier, Class&lt;T&gt; clazz) {\n        FacesContext ctx = FacesContext.getCurrentInstance();\n        Application app = ctx.getApplication();\n        T bean = app.evaluateExpressionGet(ctx, beanQualifier, clazz);\n        return Optional.ofNullable(bean)\n                .orElseThrow(() -&gt; new UnsupportedOperationException(&quot;It was not possible to return the Bean &quot; + beanQualifier));\n    }\n</code></pre>\n<p>However this time I'm looking for a best way to get it.\nIs there any way to achieve that thing?</p>\n"},{"tags":["java","spring-boot","gradle","yaml","constants"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688822429,"post_id":76643143,"comment_id":135127215,"body_markdown":"This is not possible as it&#39;s a constant. How do you configure the security? You could do a translation from the configured roles to those used in the annotations.","body":"This is not possible as it&#39;s a constant. How do you configure the security? You could do a translation from the configured roles to those used in the annotations."}],"owner":{"account_id":28976118,"reputation":19,"user_id":22195187,"display_name":"Alexander Fedok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1693498465,"creation_date":1688822133,"question_id":76643143,"body_markdown":"If I have something like this:\r\n\r\n```\r\npublic class Roles {\r\n    public static final String ENVIRONMENT_DEPENDENT_ADMIN_ROLE = &quot;ADMIN&quot;;\r\n    private Roles() {}\r\n}\r\n```\r\n\r\nWhich ends up being utilized in Spring Boot as this at the controller level:\r\n\r\n```\r\n@RolesAllowed(ENVIRONMENT_DEPENDENT_ADMIN_ROLE)\r\n```\r\n\r\nThis annotation requires a constant so there&#39;s no easy way to get around it.\r\n\r\nThe issue is, is that each role has a different name that needs to be taken in based on the environment it&#39;s being deployed in.\r\n\r\nIs there anyway to extract the value of this before compilation from the relevant environment application.yml?\r\n\r\nExample *application-dev.yml*:\r\n\r\n```\r\napp:\r\n    roles:\r\n        admin: devappadminrole\r\n```\r\n\r\nSo therefore it ends up being this at runtime:\r\n\r\n    public static final String ENVIRONMENT_DEPENDENT_ADMIN_ROLE = &quot;devappadminrole&quot;;\r\n\r\nI understand this is bad practice and goes against Java coding practices in many aspects but this is what was asked of me.\r\n\r\nI have tried looking into a few compile time options such as a find and replace in the Roles java file which seems a little hacky. I&#39;ve looked into editing the build.gradle script as well.","title":"How can I get a constant initialized by a value in .yml file? (spring boot/java)","body":"<p>If I have something like this:</p>\n<pre><code>public class Roles {\n    public static final String ENVIRONMENT_DEPENDENT_ADMIN_ROLE = &quot;ADMIN&quot;;\n    private Roles() {}\n}\n</code></pre>\n<p>Which ends up being utilized in Spring Boot as this at the controller level:</p>\n<pre><code>@RolesAllowed(ENVIRONMENT_DEPENDENT_ADMIN_ROLE)\n</code></pre>\n<p>This annotation requires a constant so there's no easy way to get around it.</p>\n<p>The issue is, is that each role has a different name that needs to be taken in based on the environment it's being deployed in.</p>\n<p>Is there anyway to extract the value of this before compilation from the relevant environment application.yml?</p>\n<p>Example <em>application-dev.yml</em>:</p>\n<pre><code>app:\n    roles:\n        admin: devappadminrole\n</code></pre>\n<p>So therefore it ends up being this at runtime:</p>\n<pre><code>public static final String ENVIRONMENT_DEPENDENT_ADMIN_ROLE = &quot;devappadminrole&quot;;\n</code></pre>\n<p>I understand this is bad practice and goes against Java coding practices in many aspects but this is what was asked of me.</p>\n<p>I have tried looking into a few compile time options such as a find and replace in the Roles java file which seems a little hacky. I've looked into editing the build.gradle script as well.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3409479,"reputation":394,"user_id":2859785,"accept_rate":20,"display_name":"Yashdeep Hinge"},"score":0,"creation_date":1690872476,"post_id":76805903,"comment_id":135409771,"body_markdown":"From Java 7 onwards, the Java String Pool is stored in the Heap space, which is garbage collected by the JVM.","body":"From Java 7 onwards, the Java String Pool is stored in the Heap space, which is garbage collected by the JVM."},{"owner":{"account_id":3409479,"reputation":394,"user_id":2859785,"accept_rate":20,"display_name":"Yashdeep Hinge"},"score":0,"creation_date":1690875362,"post_id":76805903,"comment_id":135410300,"body_markdown":"https://stackoverflow.com/questions/18406703/when-will-a-string-be-garbage-collected-in-java debatable whether they will be collected or not or when.","body":"<a href=\"https://stackoverflow.com/questions/18406703/when-will-a-string-be-garbage-collected-in-java\" title=\"when will a string be garbage collected in java\">stackoverflow.com/questions/18406703/&hellip;</a> debatable whether they will be collected or not or when."}],"answers":[{"comments":[{"owner":{"account_id":3409479,"reputation":394,"user_id":2859785,"accept_rate":20,"display_name":"Yashdeep Hinge"},"score":0,"creation_date":1690825415,"post_id":76805942,"comment_id":135403894,"body_markdown":"I understand your answer but if you know about any reference to any official docs or anything like that for java which discuss this same thing capturing. Can you point it please? And Thanks","body":"I understand your answer but if you know about any reference to any official docs or anything like that for java which discuss this same thing capturing. Can you point it please? And Thanks"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690873500,"post_id":76805942,"comment_id":135409965,"body_markdown":"This is not correct. The variable `data` is only alive for as long as the method is active. The lambda will have a **copy** of the value of `data`, not a reference to `data` itself (though technically that is an implementation detail, I&#39;m not aware of implementations of Java were the capture isn&#39;t done by copying).","body":"This is not correct. The variable <code>data</code> is only alive for as long as the method is active. The lambda will have a <b>copy</b> of the value of <code>data</code>, not a reference to <code>data</code> itself (though technically that is an implementation detail, I&#39;m not aware of implementations of Java were the capture isn&#39;t done by copying)."}],"tags":[],"owner":{"account_id":3145385,"reputation":881,"user_id":2659962,"display_name":"Akhilesh Pandey"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690824948,"creation_date":1690824948,"answer_id":76805942,"question_id":76805903,"body_markdown":"`data` variable stays alive as long as the task scheduled by `scheduler.newJob()` is alive because the task&#39;s callback function captures data preventing it from being garbage collected.\r\n\r\n\r\nyou can think of the data variable in example  as &quot;captured&quot; by the anonymous function you have provided to `setTask()`. here, &quot;capturing&quot; means that the function retains a reference to data even after schedule() returns.\r\n\r\nThe anonymous function keeps the data variable alive as long as the function itself is alive. In your case, as long as the scheduled task you have created remains in existence data will not be eligible for garbage collection because it&#39;s still being referenced.\r\n\r\nJVM knows to keep data alive because it sees that the function has captured data and thus maintains a reference to it. This is not unique to Java; it&#39;s a common feature in many programming languages that support closures .\r\n\r\nWhen code runs `schedule()` the method will complete and under normal circumstances, local variables like data would be eligible for garbage collection when the method returns. But because anonymous function captures data and the function itself is kept alive by the scheduler the JVM knows to keep data in memory.\r\n\r\n\r\n`&quot;final&quot;` means that the variable&#39;s value cannot change after it&#39;s been assigned. It&#39;s essentially the same as final, but without the explicit final modifier. It was introduced in Java 8 to give more flexibility in working with lambda expressions and anonymous classes, which can only access final or effectively final variables from an outer scope.","title":"What happens to final variable that is referred in callback methods in java consumer callback?","body":"<p><code>data</code> variable stays alive as long as the task scheduled by <code>scheduler.newJob()</code> is alive because the task's callback function captures data preventing it from being garbage collected.</p>\n<p>you can think of the data variable in example  as &quot;captured&quot; by the anonymous function you have provided to <code>setTask()</code>. here, &quot;capturing&quot; means that the function retains a reference to data even after schedule() returns.</p>\n<p>The anonymous function keeps the data variable alive as long as the function itself is alive. In your case, as long as the scheduled task you have created remains in existence data will not be eligible for garbage collection because it's still being referenced.</p>\n<p>JVM knows to keep data alive because it sees that the function has captured data and thus maintains a reference to it. This is not unique to Java; it's a common feature in many programming languages that support closures .</p>\n<p>When code runs <code>schedule()</code> the method will complete and under normal circumstances, local variables like data would be eligible for garbage collection when the method returns. But because anonymous function captures data and the function itself is kept alive by the scheduler the JVM knows to keep data in memory.</p>\n<p><code>&quot;final&quot;</code> means that the variable's value cannot change after it's been assigned. It's essentially the same as final, but without the explicit final modifier. It was introduced in Java 8 to give more flexibility in working with lambda expressions and anonymous classes, which can only access final or effectively final variables from an outer scope.</p>\n"}],"owner":{"account_id":3409479,"reputation":394,"user_id":2859785,"accept_rate":20,"display_name":"Yashdeep Hinge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693498386,"creation_date":1690824542,"question_id":76805903,"body_markdown":"When will the data variable here be qualified for garbage collection? And how jvm would know that this data variable has to be alive because my task is alive. The only thing my editor said is the variable needs to be final or effectively final. Ok I won&#39;t update it but still how will be the reference carried forwarded? Does java also has concept like closure of javascript or what process is it? I am asking for any official JVM specification documents or any credible source where I can get the information about what exactly happens in this situation. \r\n\r\n\tpublic void schedule() {\r\n\t\tString data = &quot;adfasdf&quot;;\r\n\t\tscheduler.newJob(&quot;businessruleid&quot;)\r\n\t\t\t\t .setCron(&quot;0/5 * * * * ?&quot;)\r\n\t\t\t\t .setTask(executionContext -&gt; {\r\n\t\t\t\t\tSystem.out.println(executionContext + &quot; &quot; + data);\r\n\t\t\t\t}).schedule();\r\n\t}\r\n","title":"What happens to final variable that is referred in callback methods in java consumer callback?","body":"<p>When will the data variable here be qualified for garbage collection? And how jvm would know that this data variable has to be alive because my task is alive. The only thing my editor said is the variable needs to be final or effectively final. Ok I won't update it but still how will be the reference carried forwarded? Does java also has concept like closure of javascript or what process is it? I am asking for any official JVM specification documents or any credible source where I can get the information about what exactly happens in this situation.</p>\n<pre><code>public void schedule() {\n    String data = &quot;adfasdf&quot;;\n    scheduler.newJob(&quot;businessruleid&quot;)\n             .setCron(&quot;0/5 * * * * ?&quot;)\n             .setTask(executionContext -&gt; {\n                System.out.println(executionContext + &quot; &quot; + data);\n            }).schedule();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-batch","h2"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1691156231,"post_id":76836012,"comment_id":135457621,"body_markdown":"The first step is measuring. What part of your code is taking up most of the time? Once you find that out, you can look for where in that piece of code you can do things more efficiently.","body":"The first step is measuring. What part of your code is taking up most of the time? Once you find that out, you can look for where in that piece of code you can do things more efficiently."},{"owner":{"account_id":29159580,"reputation":21,"user_id":22338631,"display_name":"avinash"},"score":0,"creation_date":1691382579,"post_id":76836012,"comment_id":135478728,"body_markdown":"itemWriter process taking lot of time. to write the record in the DB","body":"itemWriter process taking lot of time. to write the record in the DB"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693505701,"post_id":76836012,"comment_id":135773710,"body_markdown":"You also have business logic in the itemWriter; are you sure there is nothing slow there?","body":"You also have business logic in the itemWriter; are you sure there is nothing slow there?"}],"owner":{"account_id":29159580,"reputation":21,"user_id":22338631,"display_name":"avinash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693498352,"creation_date":1691152886,"question_id":76836012,"body_markdown":"The spring batch taking more than hour to process 20 to 30k record. i am using ItemStremReader, ItemProcessor and JpaItemWriter with partitioned and have a grid size is 6 and each chunk size is 500 and batch-size =1000,Here i am using H2 as a database.\r\n```\r\n@Configuration\r\n@ConditionalOnAderBatchStep(BATCH_NAME)\r\n@Import({AsynchronousTasksConfiguration.class, BankAccountsReaderWriterConfiguration.class})\r\n@Slf4j\r\npublic class ParallelClientBankAccountImportStepConfiguration {\r\n\r\n    public static final String STEP_NAME = &quot;parallelClientBankAccountsImportStep&quot;;\r\n    public static final String ITEM_WRITER_NAME = &quot;bankAccountsItemWriter&quot;;\r\n    public static final String ITEM_READER_NAME = &quot;bankAccountsItemReader&quot;;\r\n\r\n   \r\n \r\n    @Bean\r\n    public Step parallelClientBankAccountsImportStep(StepBuilderFactory stepBuilderFactory,\r\n                                                      PlatformTransactionManager jpaTransactionManager,\r\n                                                      @Value(&quot;${batch.export.parallel.grid-size:6}&quot;) int gridSize,\r\n                                                      ItemWriter&lt;BankAccount&gt; itemWriter,\r\n                                                      TaskExecutor applicationTaskExecutor,\r\n                                                      ApplicationEventPublisher applicationEventPublisher) {\r\n        log.info(&quot;Configuring the [{}].&quot;, STEP_NAME);\r\n        String slaveStepName = &quot;slaveBankAccountsImportStep&quot;;\r\n        return stepBuilderFactory.get(STEP_NAME)\r\n                .partitioner(slaveStepName, partitioner())\r\n                .gridSize(gridSize)\r\n                .step(slaveStep(slaveStepName, stepBuilderFactory, itemWriter, jpaTransactionManager, applicationEventPublisher))\r\n                .taskExecutor(applicationEventPublisher)\r\n                .transactionManager(jpaTransactionManager)\r\n                .build();\r\n    }\r\n\r\n    protected final Partitioner partitioner() {\r\n        return gridSize -&gt; {\r\n            Map&lt;String, ExecutionContext&gt; map = new HashMap&lt;&gt;(gridSize);\r\n            for (int i = 1; i &lt;= gridSize; i++) {\r\n                ExecutionContext context = new ExecutionContext();\r\n                context.put(&quot;index&quot;, i);\r\n                map.put(&quot;partition_&quot; + i, context);\r\n            }\r\n            return map;\r\n        };\r\n    }\r\n\r\n    protected Step slaveStep(String slaveStepName,\r\n                             StepBuilderFactory stepBuilderFactory,\r\n                             ItemWriter&lt;BankAccount&gt; itemWriter,\r\n                             PlatformTransactionManager jpaTransactionManager, ApplicationEventPublisher applicationEventPublisher) {\r\n        return stepBuilderFactory.get(slaveStepName)\r\n                .transactionManager(jpaTransactionManager)\r\n                .&lt;ClientBankAccount, BankAccount&gt; chunk(500)\r\n                .reader(itemReader(null, 0, 0))\r\n                .processor(itemProcessor(null))\r\n                .writer(itemWriter)\r\n                .listener(chunkLogger())\r\n                .listener(stepLogger(applicationEventPublisher))\r\n                .build();\r\n    }\r\n\r\n    @StepScope\r\n    @Bean\r\n    public ItemStreamReader&lt;ClientBankAccount&gt; itemReader(ClientBankAccountsItemReader itemReader,\r\n                                       @Value(&quot;${batch.export.parallel.grid-size:6}&quot;)\r\n                                       int gridSize,\r\n                                       @Value(&quot;#{stepExecutionContext[index]}&quot;)\r\n                                       int partitionIndex) {\r\n        \r\n        ItemStreamReader&lt;ClientBankAccount&gt; itemStreamReader  = new ClientParallelItemStreamReader(itemReader, gridSize, partitionIndex);\r\n\r\n       \r\n        return itemStreamReader;\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemProcessor&lt;ClientBankAccount, BankAccount&gt; itemProcessor(ClientBankAccountMapper mapper) {\r\n        \r\n        ItemProcessor&lt;ClientBankAccount, BankAccount&gt; itemProcessor =  mapper::fromClientService;\r\n        long elapsedTime = startTime - System.currentTimeMillis();\r\n        \r\n        return itemProcessor;\r\n    }\r\n}\r\n\r\n\r\nItemReader class:\r\n\r\n@Slf4j\r\n@Service\r\npublic class ClientBankAccountsItemReader extends AbstractItemCountingItemStreamItemReader&lt;ClientBankAccount&gt; {\r\n\r\n    private final ReactiveClientService clientService;\r\n    private Disposable clientBankAccounts;\r\n\r\n    private BlockingQueue&lt;ClientBankAccount&gt; queue = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    private boolean isOpen = false;\r\n\r\n  \r\n\r\n    public ClientBankAccountsItemReader(ReactiveClientService clientService) {\r\n        this.clientService = clientService;\r\n        setName(&quot;ClientBankAccountsItemReader&quot;);\r\n    }\r\n\r\n    public synchronized boolean isOpen() {\r\n        return this.isOpen;\r\n    }\r\n\r\n    @Override\r\n    protected synchronized void doOpen()throws Exception {\r\n        if (!isOpen) {\r\n            log.info(&quot;Opening the Client Account Reader...&quot;);\r\n            // subscribing to a flux does the actual call to Client\r\n            clientBankAccounts = clientService.getAccountsApi(getSearchAccountRequest()).subscribe(this::addToQueue);\r\n          \r\n            this.isOpen = true;\r\n          \r\n           \r\n        }\r\n    }\r\n\r\n    private void addToQueue(ClientBankAccount ba) {\r\n        try {\r\n            if (!queue.offer(ba, 5, MILLISECONDS)) {\r\n                log.warn(&quot;Could not add Client Bank Account to the internal queue!&quot;);\r\n                log.trace(&quot;Client Bank Account:\\n\\t{}&quot;, ba);\r\n            }\r\n        } catch (InterruptedException e) {\r\n            log.warn(&quot;INTERRUPTED! Could not ADD Client Bank Account to the internal queue!&quot;);\r\n        }\r\n       \r\n    }\r\n\r\n    @Override\r\n    protected void doClose() {\r\n        if (this.clientBankAccounts != null) {\r\n            this.clientBankAccounts.dispose();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected ClientBankAccount doRead() {\r\n        try {\r\n         \r\n            return this.queue.poll(50, SECONDS);\r\n        } catch (InterruptedException e) {\r\n            log.warn(&quot;INTERRUPTED! Could not READ client Bank Account from the internal queue!&quot;);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private SearchAccountRequest getSearchAccountRequest(){\r\n        SearchAccountRequest searchAccountRequest= new SearchAccountRequest();\r\n       //request details are set\r\n        return searchAccountRequest;\r\n\r\n    }\r\n}\r\n\r\nItemWriter class:\r\n\r\n@Slf4j\r\npublic class BankAccountJpaItemWriter extends JpaItemWriter&lt;BankAccount&gt; {\r\n\r\n    private final JpaItemWriter&lt;CABankAccount&gt; closedAccountsWriter;\r\n   //declared few repository...\r\n\r\n    public BankAccountJpaItemWriter(Parms...) {\r\n       //parameterised constructor\r\n    }\r\n\r\n    @Override\r\n    public void write(List&lt;? extends BankAccount&gt; items) {\r\n    \r\n        \r\n        if (isEmpty(items)) {\r\n            return;\r\n        }\r\n\r\n        List&lt;BankAccount&gt; activeBankAccounts = new ArrayList&lt;&gt;();\r\n        List&lt;CABankAccount&gt; closedBankAccounts = new ArrayList&lt;&gt;();\r\n        for (BankAccount account : items) {\r\n           //business logic calling repository to few detail\r\n        }\r\n       \r\n        super.write(activeBankAccounts);\r\n        \r\n        closedAccountsWriter.write(closedBankAccounts);\r\n        \r\n    }\r\n}\r\n\r\n    \r\n```\r\n\r\n\r\nSince it is big impact on performance and I need to optimize the process?","title":"Spring Batch Taking more than 1 hour to process 20--30k records","body":"<p>The spring batch taking more than hour to process 20 to 30k record. i am using ItemStremReader, ItemProcessor and JpaItemWriter with partitioned and have a grid size is 6 and each chunk size is 500 and batch-size =1000,Here i am using H2 as a database.</p>\n<pre><code>@Configuration\n@ConditionalOnAderBatchStep(BATCH_NAME)\n@Import({AsynchronousTasksConfiguration.class, BankAccountsReaderWriterConfiguration.class})\n@Slf4j\npublic class ParallelClientBankAccountImportStepConfiguration {\n\n    public static final String STEP_NAME = &quot;parallelClientBankAccountsImportStep&quot;;\n    public static final String ITEM_WRITER_NAME = &quot;bankAccountsItemWriter&quot;;\n    public static final String ITEM_READER_NAME = &quot;bankAccountsItemReader&quot;;\n\n   \n \n    @Bean\n    public Step parallelClientBankAccountsImportStep(StepBuilderFactory stepBuilderFactory,\n                                                      PlatformTransactionManager jpaTransactionManager,\n                                                      @Value(&quot;${batch.export.parallel.grid-size:6}&quot;) int gridSize,\n                                                      ItemWriter&lt;BankAccount&gt; itemWriter,\n                                                      TaskExecutor applicationTaskExecutor,\n                                                      ApplicationEventPublisher applicationEventPublisher) {\n        log.info(&quot;Configuring the [{}].&quot;, STEP_NAME);\n        String slaveStepName = &quot;slaveBankAccountsImportStep&quot;;\n        return stepBuilderFactory.get(STEP_NAME)\n                .partitioner(slaveStepName, partitioner())\n                .gridSize(gridSize)\n                .step(slaveStep(slaveStepName, stepBuilderFactory, itemWriter, jpaTransactionManager, applicationEventPublisher))\n                .taskExecutor(applicationEventPublisher)\n                .transactionManager(jpaTransactionManager)\n                .build();\n    }\n\n    protected final Partitioner partitioner() {\n        return gridSize -&gt; {\n            Map&lt;String, ExecutionContext&gt; map = new HashMap&lt;&gt;(gridSize);\n            for (int i = 1; i &lt;= gridSize; i++) {\n                ExecutionContext context = new ExecutionContext();\n                context.put(&quot;index&quot;, i);\n                map.put(&quot;partition_&quot; + i, context);\n            }\n            return map;\n        };\n    }\n\n    protected Step slaveStep(String slaveStepName,\n                             StepBuilderFactory stepBuilderFactory,\n                             ItemWriter&lt;BankAccount&gt; itemWriter,\n                             PlatformTransactionManager jpaTransactionManager, ApplicationEventPublisher applicationEventPublisher) {\n        return stepBuilderFactory.get(slaveStepName)\n                .transactionManager(jpaTransactionManager)\n                .&lt;ClientBankAccount, BankAccount&gt; chunk(500)\n                .reader(itemReader(null, 0, 0))\n                .processor(itemProcessor(null))\n                .writer(itemWriter)\n                .listener(chunkLogger())\n                .listener(stepLogger(applicationEventPublisher))\n                .build();\n    }\n\n    @StepScope\n    @Bean\n    public ItemStreamReader&lt;ClientBankAccount&gt; itemReader(ClientBankAccountsItemReader itemReader,\n                                       @Value(&quot;${batch.export.parallel.grid-size:6}&quot;)\n                                       int gridSize,\n                                       @Value(&quot;#{stepExecutionContext[index]}&quot;)\n                                       int partitionIndex) {\n        \n        ItemStreamReader&lt;ClientBankAccount&gt; itemStreamReader  = new ClientParallelItemStreamReader(itemReader, gridSize, partitionIndex);\n\n       \n        return itemStreamReader;\n    }\n\n    @Bean\n    @StepScope\n    public ItemProcessor&lt;ClientBankAccount, BankAccount&gt; itemProcessor(ClientBankAccountMapper mapper) {\n        \n        ItemProcessor&lt;ClientBankAccount, BankAccount&gt; itemProcessor =  mapper::fromClientService;\n        long elapsedTime = startTime - System.currentTimeMillis();\n        \n        return itemProcessor;\n    }\n}\n\n\nItemReader class:\n\n@Slf4j\n@Service\npublic class ClientBankAccountsItemReader extends AbstractItemCountingItemStreamItemReader&lt;ClientBankAccount&gt; {\n\n    private final ReactiveClientService clientService;\n    private Disposable clientBankAccounts;\n\n    private BlockingQueue&lt;ClientBankAccount&gt; queue = new LinkedBlockingQueue&lt;&gt;();\n\n    private boolean isOpen = false;\n\n  \n\n    public ClientBankAccountsItemReader(ReactiveClientService clientService) {\n        this.clientService = clientService;\n        setName(&quot;ClientBankAccountsItemReader&quot;);\n    }\n\n    public synchronized boolean isOpen() {\n        return this.isOpen;\n    }\n\n    @Override\n    protected synchronized void doOpen()throws Exception {\n        if (!isOpen) {\n            log.info(&quot;Opening the Client Account Reader...&quot;);\n            // subscribing to a flux does the actual call to Client\n            clientBankAccounts = clientService.getAccountsApi(getSearchAccountRequest()).subscribe(this::addToQueue);\n          \n            this.isOpen = true;\n          \n           \n        }\n    }\n\n    private void addToQueue(ClientBankAccount ba) {\n        try {\n            if (!queue.offer(ba, 5, MILLISECONDS)) {\n                log.warn(&quot;Could not add Client Bank Account to the internal queue!&quot;);\n                log.trace(&quot;Client Bank Account:\\n\\t{}&quot;, ba);\n            }\n        } catch (InterruptedException e) {\n            log.warn(&quot;INTERRUPTED! Could not ADD Client Bank Account to the internal queue!&quot;);\n        }\n       \n    }\n\n    @Override\n    protected void doClose() {\n        if (this.clientBankAccounts != null) {\n            this.clientBankAccounts.dispose();\n        }\n    }\n\n    @Override\n    protected ClientBankAccount doRead() {\n        try {\n         \n            return this.queue.poll(50, SECONDS);\n        } catch (InterruptedException e) {\n            log.warn(&quot;INTERRUPTED! Could not READ client Bank Account from the internal queue!&quot;);\n        }\n        return null;\n    }\n\n    private SearchAccountRequest getSearchAccountRequest(){\n        SearchAccountRequest searchAccountRequest= new SearchAccountRequest();\n       //request details are set\n        return searchAccountRequest;\n\n    }\n}\n\nItemWriter class:\n\n@Slf4j\npublic class BankAccountJpaItemWriter extends JpaItemWriter&lt;BankAccount&gt; {\n\n    private final JpaItemWriter&lt;CABankAccount&gt; closedAccountsWriter;\n   //declared few repository...\n\n    public BankAccountJpaItemWriter(Parms...) {\n       //parameterised constructor\n    }\n\n    @Override\n    public void write(List&lt;? extends BankAccount&gt; items) {\n    \n        \n        if (isEmpty(items)) {\n            return;\n        }\n\n        List&lt;BankAccount&gt; activeBankAccounts = new ArrayList&lt;&gt;();\n        List&lt;CABankAccount&gt; closedBankAccounts = new ArrayList&lt;&gt;();\n        for (BankAccount account : items) {\n           //business logic calling repository to few detail\n        }\n       \n        super.write(activeBankAccounts);\n        \n        closedAccountsWriter.write(closedBankAccounts);\n        \n    }\n}\n\n    \n</code></pre>\n<p>Since it is big impact on performance and I need to optimize the process?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":21346018,"reputation":91,"user_id":15716074,"display_name":"SRI HARSHA S V S"},"score":0,"creation_date":1691574236,"post_id":76861492,"comment_id":135508859,"body_markdown":"Thanks Lisa, Just wondering, does it not work at all with @IdClass ?","body":"Thanks Lisa, Just wondering, does it not work at all with @IdClass ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691578401,"post_id":76861492,"comment_id":135509742,"body_markdown":"of course it will work, i think you should read it [embeddable-objects](https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html#embeddable-objects) and also some good answers about this topic witch one to use [idclass-or-embeddedid](https://stackoverflow.com/questions/212350/which-annotation-should-i-use-idclass-or-embeddedid)","body":"of course it will work, i think you should read it <a href=\"https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html#embeddable-objects\" rel=\"nofollow noreferrer\">embeddable-objects</a> and also some good answers about this topic witch one to use <a href=\"https://stackoverflow.com/questions/212350/which-annotation-should-i-use-idclass-or-embeddedid\">idclass-or-embeddedid</a>"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693498342,"creation_date":1691511930,"answer_id":76861492,"question_id":76860989,"body_markdown":"According to official documentation of [hibernate 6](https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html).\r\n\r\n&gt; Now the entity class may reuse this definition using `@EmbeddedId`, and the `@IdClass` annotation is no longer required.\r\n\r\nYour entity mapping will look so:\r\n\r\n**BusinessLogic entity class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;business_logic&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class BusinessLogic {\r\n    \r\n      @EmbeddedId\r\n      private BusinessLogicId businessLoggicId;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n      @JoinColumn(name = &quot;business_id&quot;, insertable=false, updatable=false)\r\n      private Metadata businessId;\r\n    \r\n      private String description;\r\n    }\r\n\r\n**Metadata entity class:**\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;metadata&quot;)\r\n    public class Metadata {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n    \r\n      private String name;\r\n    }\r\n\r\nEmbeddable id class that meet your requirements to have a entity with a PK that is combined by FK and default one.\r\n\r\n    @Embeddable\r\n    public class BusinessLogicId implements Serializable {\r\n    \r\n      private Long business_id;\r\n    \r\n      private Long id;\r\n    \r\n    }\r\n\r\nAnd of course the result that I got after invoke findAll() method from `BusinessLogicRepo`\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBOWo.png","title":"@ManyToOne mapping for Composite Primary Key @IdClass","body":"<p>According to official documentation of <a href=\"https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\" rel=\"nofollow noreferrer\">hibernate 6</a>.</p>\n<blockquote>\n<p>Now the entity class may reuse this definition using <code>@EmbeddedId</code>, and the <code>@IdClass</code> annotation is no longer required.</p>\n</blockquote>\n<p>Your entity mapping will look so:</p>\n<p><strong>BusinessLogic entity class:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;business_logic&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class BusinessLogic {\n\n  @EmbeddedId\n  private BusinessLogicId businessLoggicId;\n\n  @ManyToOne(fetch = FetchType.LAZY, optional = false)\n  @JoinColumn(name = &quot;business_id&quot;, insertable=false, updatable=false)\n  private Metadata businessId;\n\n  private String description;\n}\n</code></pre>\n<p><strong>Metadata entity class:</strong></p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;metadata&quot;)\npublic class Metadata {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  private String name;\n}\n</code></pre>\n<p>Embeddable id class that meet your requirements to have a entity with a PK that is combined by FK and default one.</p>\n<pre><code>@Embeddable\npublic class BusinessLogicId implements Serializable {\n\n  private Long business_id;\n\n  private Long id;\n\n}\n</code></pre>\n<p>And of course the result that I got after invoke findAll() method from <code>BusinessLogicRepo</code></p>\n<p><a href=\"https://i.stack.imgur.com/HBOWo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBOWo.png\" alt=\"result\" /></a></p>\n"}],"owner":{"account_id":21346018,"reputation":91,"user_id":15716074,"display_name":"SRI HARSHA S V S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76861492,"answer_count":1,"score":-1,"last_activity_date":1693498342,"creation_date":1691508172,"question_id":76860989,"body_markdown":"I have a table &#39;metadata&#39; (single column PK) and another table &#39;business_logic&#39; (Composite PK) as follows:\r\n```sql\r\ncreate table metadata (\r\n\tid\tbigint PRIMARY KEY,\r\n\tname varchar(60) NOT NULL\r\n);\r\n\r\ncreate table business_logic (\r\n\tbusiness_id bigint,\r\n\tid varchar(60),\r\n    description varchar(255) NOT NULL,\r\n\tPRIMARY KEY (business_id, id),\r\n\tFOREIGN KEY (business_id) REFERENCES metadata(id)\r\n);\r\n```\r\nI have created Java classes as below\r\n```java\r\n//Metadata.java\r\n@Entity @Data\r\npublic class Metadata {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n}\r\n\r\n//BusinessLogic.java\r\n@Data @Entity\r\n@IdClass( BusinessLogicPk.class )\r\npublic class BusinessLogic {\r\n\r\n    @Id\r\n    @ManyToOne( targetEntity = Metadata.class )\r\n    @JoinColumn( name = &quot;business_id&quot;, referencedColumnName = &quot;id&quot; )\r\n    private Long businessId;\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private String description;\r\n}\r\n\r\n//BusinessLogicPk.java\r\n@Data\r\npublic class BusinessLogicPk implements Serializable {\r\n    private Long businessId;\r\n    private String id;\r\n}\r\n\r\n//BusinessLogicRepository.java\r\npublic interface BusinessLogicRepository extends JpaRepository&lt;BusinessLogic, BusinessLogicPk&gt; {\r\n}\r\n```\r\n\r\nWhen I try to call `businessLogicRepository.findAll()` function, it throws the following exception:\r\n\r\n```none\r\njava.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.jpademo.repository.entity.BusinessLogicPk.businessId to com.example.jpademo.repository.entity.Business\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:780) ~[na:na]\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:52) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tuple.component.AbstractComponentTuplizer.setPropertyValues(AbstractComponentTuplizer.java:76) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tuple.component.PojoComponentTuplizer.setPropertyValues(PojoComponentTuplizer.java:101) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.type.ComponentType.setPropertyValues(ComponentType.java:450) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.type.ComponentType.resolve(ComponentType.java:697) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.extractKeysFromResultSet(Loader.java:881) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:735) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.13.jar:2.7.13]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76) ~[spring-data-commons-2.7.13.jar:2.7.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.28.jar:5.3.28]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.28.jar:5.3.28]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.28.jar:5.3.28]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.28.jar:5.3.28]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.13.jar:2.7.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.28.jar:5.3.28]\r\n\tat com.sun.proxy.$Proxy107.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.jpademo.controller.QuestionsController.fetchQuestions(QuestionsController.java:19) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.76.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.76.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n```\r\nI guess this is due to using the field `Long businessId` instead of `Business business`, If I replace it this way, this throws a new error:\r\n\r\n```\r\nCaused by: org.hibernate.AnnotationException: Property of @IdClass not found in entity com.example.jpademo.repository.entity.BusinessLogic: businessId\r\n\tat org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2793) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindIdClass(AnnotationBinder.java:2919) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.mapAsIdClass(AnnotationBinder.java:1052) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:778) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.28.jar:5.3.28]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.28.jar:5.3.28]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.28.jar:5.3.28]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.28.jar:5.3.28]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\t... 16 common frames omitted\r\n```\r\n\r\n","title":"@ManyToOne mapping for Composite Primary Key @IdClass","body":"<p>I have a table 'metadata' (single column PK) and another table 'business_logic' (Composite PK) as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table metadata (\n    id  bigint PRIMARY KEY,\n    name varchar(60) NOT NULL\n);\n\ncreate table business_logic (\n    business_id bigint,\n    id varchar(60),\n    description varchar(255) NOT NULL,\n    PRIMARY KEY (business_id, id),\n    FOREIGN KEY (business_id) REFERENCES metadata(id)\n);\n</code></pre>\n<p>I have created Java classes as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Metadata.java\n@Entity @Data\npublic class Metadata {\n\n    @Id\n    private Long id;\n\n    private String name;\n}\n\n//BusinessLogic.java\n@Data @Entity\n@IdClass( BusinessLogicPk.class )\npublic class BusinessLogic {\n\n    @Id\n    @ManyToOne( targetEntity = Metadata.class )\n    @JoinColumn( name = &quot;business_id&quot;, referencedColumnName = &quot;id&quot; )\n    private Long businessId;\n\n    @Id\n    private String id;\n\n    private String description;\n}\n\n//BusinessLogicPk.java\n@Data\npublic class BusinessLogicPk implements Serializable {\n    private Long businessId;\n    private String id;\n}\n\n//BusinessLogicRepository.java\npublic interface BusinessLogicRepository extends JpaRepository&lt;BusinessLogic, BusinessLogicPk&gt; {\n}\n</code></pre>\n<p>When I try to call <code>businessLogicRepository.findAll()</code> function, it throws the following exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.jpademo.repository.entity.BusinessLogicPk.businessId to com.example.jpademo.repository.entity.Business\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\n    at java.base/java.lang.reflect.Field.set(Field.java:780) ~[na:na]\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:52) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tuple.component.AbstractComponentTuplizer.setPropertyValues(AbstractComponentTuplizer.java:76) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tuple.component.PojoComponentTuplizer.setPropertyValues(PojoComponentTuplizer.java:101) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.type.ComponentType.setPropertyValues(ComponentType.java:450) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.type.ComponentType.resolve(ComponentType.java:697) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.extractKeysFromResultSet(Loader.java:881) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:735) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.13.jar:2.7.13]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.13.jar:2.7.13]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76) ~[spring-data-commons-2.7.13.jar:2.7.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.28.jar:5.3.28]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.28.jar:5.3.28]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.28.jar:5.3.28]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.28.jar:5.3.28]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.13.jar:2.7.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.28.jar:5.3.28]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.28.jar:5.3.28]\n    at com.sun.proxy.$Proxy107.findAll(Unknown Source) ~[na:na]\n    at com.example.jpademo.controller.QuestionsController.fetchQuestions(QuestionsController.java:19) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.76.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.28.jar:5.3.28]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.76.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.28.jar:5.3.28]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n</code></pre>\n<p>I guess this is due to using the field <code>Long businessId</code> instead of <code>Business business</code>, If I replace it this way, this throws a new error:</p>\n<pre><code>Caused by: org.hibernate.AnnotationException: Property of @IdClass not found in entity com.example.jpademo.repository.entity.BusinessLogic: businessId\n    at org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2793) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindIdClass(AnnotationBinder.java:2919) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.cfg.AnnotationBinder.mapAsIdClass(AnnotationBinder.java:1052) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:778) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.28.jar:5.3.28]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.28.jar:5.3.28]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.28.jar:5.3.28]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.28.jar:5.3.28]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.28.jar:5.3.28]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.28.jar:5.3.28]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.28.jar:5.3.28]\n    ... 16 common frames omitted\n</code></pre>\n"},{"tags":["java","maven","maven-2","maven-plugin","maven-profiles"],"comments":[{"owner":{"account_id":120286,"reputation":730,"user_id":312629,"display_name":"Roberto Lo Giacco"},"score":0,"creation_date":1530794350,"post_id":51186963,"comment_id":89364616,"body_markdown":"If I were you I would rush to remove a few details from the POM you published: your username and OS type is clearly visible and you are so exposing yourself to hacking","body":"If I were you I would rush to remove a few details from the POM you published: your username and OS type is clearly visible and you are so exposing yourself to hacking"},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1530864744,"post_id":51186963,"comment_id":89392544,"body_markdown":"@RobertoLoGiacco Thanks, I&#39;ve edited the question, can you please let me know what am I doing wrong with above setup ?","body":"@RobertoLoGiacco Thanks, I&#39;ve edited the question, can you please let me know what am I doing wrong with above setup ?"},{"owner":{"account_id":9217932,"reputation":501,"user_id":6848444,"accept_rate":92,"display_name":"Matt"},"score":0,"creation_date":1533083766,"post_id":51186963,"comment_id":90212755,"body_markdown":"@vikramvi Did you get an answer to this? I have the same issue","body":"@vikramvi Did you get an answer to this? I have the same issue"},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1534949153,"post_id":51186963,"comment_id":90889360,"body_markdown":"@Matt no didn&#39;t find any solution yet","body":"@Matt no didn&#39;t find any solution yet"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603865406,"creation_date":1603865406,"answer_id":64567313,"question_id":51186963,"body_markdown":"Your `directory` specification is wrong. Do not use `${basedir}` but `${project.basedir}`, then it works as expected:\r\n\r\n```xml\r\n&lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n```\r\n\r\nEven better would be to stick with the standard Maven directory layout and put your resources here:\r\n\r\n```xml\r\n&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n```\r\n","title":"Value from Maven profile properties is not getting used in .properties file","body":"<p>Your <code>directory</code> specification is wrong. Do not use <code>${basedir}</code> but <code>${project.basedir}</code>, then it works as expected:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;directory&gt;${project.basedir}&lt;/directory&gt;\n</code></pre>\n<p>Even better would be to stick with the standard Maven directory layout and put your resources here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;directory&gt;src/main/resources&lt;/directory&gt;\n</code></pre>\n"}],"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64567313,"answer_count":1,"score":0,"last_activity_date":1693498096,"creation_date":1530780328,"question_id":51186963,"body_markdown":"I&#39;ve below pom.xml file\r\n\r\n\r\n\r\n    &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;${basedir}&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;*.properties&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n    \r\n    &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;android&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;automationName&gt;uiautomator2&lt;/automationName&gt;\r\n                    &lt;platformName&gt;Android&lt;/platformName&gt;\r\n                    &lt;platformVersion&gt;6.0&lt;/platformVersion&gt;\r\n                    &lt;deviceName&gt;Android Emulator&lt;/deviceName&gt;\r\n                    &lt;app&gt;/Users/name/Documents/serenity-core/serenity-appium/src/test/java/integration/resources/WordPress-debug.apk&lt;/app&gt;\r\n                    &lt;appPackage&gt;org.wordpress.android&lt;/appPackage&gt;\r\n                    &lt;appActivity&gt;org.wordpress.android.ui.accounts.LoginActivity&lt;/appActivity&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n    \r\n            &lt;profile&gt;\r\n                &lt;id&gt;ios&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;automationName&gt;XCUITest&lt;/automationName&gt;\r\n                    &lt;platformName&gt;IOS&lt;/platformName&gt;\r\n                    &lt;platformVersion&gt;11.4&lt;/platformVersion&gt;\r\n                    &lt;deviceName&gt;iPhone SE&lt;/deviceName&gt;\r\n                    &lt;app&gt;/Users/name/Documents/serenity-core/serenity-appium/src/test/java/integration/resources/WordPress.app&lt;/app&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n\r\n\r\nI&#39;ve got serenity.properties file as below\r\n\r\n    appium.automationName = ${automationName}\r\n    appium.platformName = ${platformName}\r\n    appium.platformVersion = ${platformVersion}\r\n    appium.deviceName  = ${deviceName}\r\n    appium.app = ${app}\r\n\r\nWhen I am trying to use values from pom.xml as below it doesn&#39;t work as expected. Serenity.properties file doesn&#39;t the get values mentioned under particular profile name.\r\n\r\n    mvn install -Pandroid\r\n\r\n","title":"Value from Maven profile properties is not getting used in .properties file","body":"<p>I've below pom.xml file</p>\n\n<pre><code>&lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${basedir}&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;*.properties&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;android&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;automationName&gt;uiautomator2&lt;/automationName&gt;\n                &lt;platformName&gt;Android&lt;/platformName&gt;\n                &lt;platformVersion&gt;6.0&lt;/platformVersion&gt;\n                &lt;deviceName&gt;Android Emulator&lt;/deviceName&gt;\n                &lt;app&gt;/Users/name/Documents/serenity-core/serenity-appium/src/test/java/integration/resources/WordPress-debug.apk&lt;/app&gt;\n                &lt;appPackage&gt;org.wordpress.android&lt;/appPackage&gt;\n                &lt;appActivity&gt;org.wordpress.android.ui.accounts.LoginActivity&lt;/appActivity&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;ios&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;automationName&gt;XCUITest&lt;/automationName&gt;\n                &lt;platformName&gt;IOS&lt;/platformName&gt;\n                &lt;platformVersion&gt;11.4&lt;/platformVersion&gt;\n                &lt;deviceName&gt;iPhone SE&lt;/deviceName&gt;\n                &lt;app&gt;/Users/name/Documents/serenity-core/serenity-appium/src/test/java/integration/resources/WordPress.app&lt;/app&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n\n<p>I've got serenity.properties file as below</p>\n\n<pre><code>appium.automationName = ${automationName}\nappium.platformName = ${platformName}\nappium.platformVersion = ${platformVersion}\nappium.deviceName  = ${deviceName}\nappium.app = ${app}\n</code></pre>\n\n<p>When I am trying to use values from pom.xml as below it doesn't work as expected. Serenity.properties file doesn't the get values mentioned under particular profile name.</p>\n\n<pre><code>mvn install -Pandroid\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","h2"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1670384731,"post_id":74680244,"comment_id":131862418,"body_markdown":"Welcome to Stackoverflow, Marc! Could you attach also `JWTAuthorizationFilter` with your specific code configurations inside, please?","body":"Welcome to Stackoverflow, Marc! Could you attach also <code>JWTAuthorizationFilter</code> with your specific code configurations inside, please?"}],"answers":[{"comments":[{"owner":{"account_id":281666,"reputation":3093,"user_id":578098,"accept_rate":25,"display_name":"Khushboo"},"score":0,"creation_date":1683215914,"post_id":74719519,"comment_id":134336018,"body_markdown":"Life saviour! Thanks a ton!","body":"Life saviour! Thanks a ton!"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1670543665,"creation_date":1670428819,"answer_id":74719519,"question_id":74680244,"body_markdown":"I could reproduce with [spring-boot:3.0.0(web, security, h2, ...)][1] and:\r\n\r\n```\r\nreturn http\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n        .anyRequest().authenticated()\r\n        .and()\r\n        .formLogin()\r\n        .and()\r\n        .csrf().ignoringRequestMatchers(&quot;/h2-console/**&quot;)\r\n        .and()\r\n        .headers().frameOptions().sameOrigin()\r\n        .and()\r\n        .build();\r\n```\r\n\r\n(`/h2-console` is still protected!)\r\n\r\n### Fix:\r\n(spring-boot-way):\r\n```\r\nimport static //\r\norg.springframework.boot.autoconfigure.security.servlet.PathRequest.toH2Console; // !\r\n...\r\n  .requestMatchers(toH2Console()).permitAll()\r\n  ...\r\n  .csrf().ignoringRequestMatchers(toH2Console())\r\n```\r\n\r\nRefs:\r\n\r\n- https://jessitron.com/2020/06/15/spring-security-for-h2-console/\r\n- [`PathRequest`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/servlet/PathRequest.java)\r\n\r\nIt uses internally:\r\n&gt;```\r\n&gt;new AntPathRequestMatcher(h2ConsoleProperties.get().getPath() + &quot;/**&quot;);\r\n&gt;```\r\nwhich seems to be different/better than the `requestMatcher(String... paths)` ([`AbstractRequestMatcherRegistry`](https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.java)), which invokes this (with `method==null`):\r\n\r\n&gt;```\r\n&gt;public C requestMatchers(HttpMethod method, String... patterns) {\r\n&gt;    List&lt;RequestMatcher&gt; matchers = new ArrayList&lt;&gt;();\r\n&gt;    if (mvcPresent) {\r\n&gt; \t    matchers.addAll(createMvcMatchers(method, patterns)); // &lt;- we land here obviously\r\n&gt;    } else {\r\n&gt; \t    matchers.addAll(RequestMatchers.antMatchers(method, patterns)); \t\r\n&gt;    }\r\n&gt; \treturn requestMatchers(matchers.toArray(new RequestMatcher[0]));\r\n&gt;}\r\n&gt; ```\r\n... alternatives:\r\n- `RequestMatchers.antMatcher(null, pathToH2+&quot;/**&quot;)`.\r\n- [`AntPathRequestMatcher`][2] (for ignore case (*and all* http methods), prefer constructors to factories;)\r\n- &lt;del&gt;`MvcMatcher`&lt;/del&gt; (is not possible for h2-console, since it is not mvc;(\r\n\r\n### BUT/AND\r\nI would ***not do it (unsecured) in production***! \r\n\r\n\r\n  [1]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.0&amp;packaging=jar&amp;jvmVersion=19&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,security,h2,data-jpa\r\n  [2]: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/util/matcher/AntPathRequestMatcher.java","title":"H2-Database console not opening with Spring-Security","body":"<p>I could reproduce with <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.0&amp;packaging=jar&amp;jvmVersion=19&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,security,h2,data-jpa\" rel=\"noreferrer\">spring-boot:3.0.0(web, security, h2, ...)</a> and:</p>\n<pre><code>return http\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .formLogin()\n        .and()\n        .csrf().ignoringRequestMatchers(&quot;/h2-console/**&quot;)\n        .and()\n        .headers().frameOptions().sameOrigin()\n        .and()\n        .build();\n</code></pre>\n<p>(<code>/h2-console</code> is still protected!)</p>\n<h3>Fix:</h3>\n<p>(spring-boot-way):</p>\n<pre><code>import static //\norg.springframework.boot.autoconfigure.security.servlet.PathRequest.toH2Console; // !\n...\n  .requestMatchers(toH2Console()).permitAll()\n  ...\n  .csrf().ignoringRequestMatchers(toH2Console())\n</code></pre>\n<p>Refs:</p>\n<ul>\n<li><a href=\"https://jessitron.com/2020/06/15/spring-security-for-h2-console/\" rel=\"noreferrer\">https://jessitron.com/2020/06/15/spring-security-for-h2-console/</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/servlet/PathRequest.java\" rel=\"noreferrer\"><code>PathRequest</code></a></li>\n</ul>\n<p>It uses internally:</p>\n<blockquote>\n<pre><code>new AntPathRequestMatcher(h2ConsoleProperties.get().getPath() + &quot;/**&quot;);\n</code></pre>\n</blockquote>\n<p>which seems to be different/better than the <code>requestMatcher(String... paths)</code> (<a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.java\" rel=\"noreferrer\"><code>AbstractRequestMatcherRegistry</code></a>), which invokes this (with <code>method==null</code>):</p>\n<blockquote>\n<pre><code>public C requestMatchers(HttpMethod method, String... patterns) {\n   List&lt;RequestMatcher&gt; matchers = new ArrayList&lt;&gt;();\n   if (mvcPresent) {\n      matchers.addAll(createMvcMatchers(method, patterns)); // &lt;- we land here obviously\n   } else {\n      matchers.addAll(RequestMatchers.antMatchers(method, patterns));     \n   }\n  return requestMatchers(matchers.toArray(new RequestMatcher[0]));\n}\n</code></pre>\n</blockquote>\n<p>... alternatives:</p>\n<ul>\n<li><code>RequestMatchers.antMatcher(null, pathToH2+&quot;/**&quot;)</code>.</li>\n<li><a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/util/matcher/AntPathRequestMatcher.java\" rel=\"noreferrer\"><code>AntPathRequestMatcher</code></a> (for ignore case (<em>and all</em> http methods), prefer constructors to factories;)</li>\n<li><del><code>MvcMatcher</code></del> (is not possible for h2-console, since it is not mvc;(</li>\n</ul>\n<h3>BUT/AND</h3>\n<p>I would <em><strong>not do it (unsecured) in production</strong></em>!</p>\n"},{"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1673825587,"post_id":74988003,"comment_id":132578335,"body_markdown":"Could you please provide the complete SecurityFilterChain? This code snippet doesn&#39;t work at all - at least not with Spring Security 6.","body":"Could you please provide the complete SecurityFilterChain? This code snippet doesn&#39;t work at all - at least not with Spring Security 6."},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":1,"creation_date":1675060309,"post_id":74988003,"comment_id":132839178,"body_markdown":"This is the only One that worked fr me &lt;3","body":"This is the only One that worked fr me &lt;3"},{"owner":{"account_id":2284924,"reputation":2917,"user_id":2009145,"display_name":"skryvets"},"score":0,"creation_date":1675130043,"post_id":74988003,"comment_id":132858358,"body_markdown":"@silentsudo, if that worked, do you mind upvoting the solution so it&#39;s going to get bumped up and others are going to notice it as well?","body":"@silentsudo, if that worked, do you mind upvoting the solution so it&#39;s going to get bumped up and others are going to notice it as well?"}],"tags":[],"owner":{"account_id":2284924,"reputation":2917,"user_id":2009145,"display_name":"skryvets"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675130272,"creation_date":1672703588,"answer_id":74988003,"question_id":74680244,"body_markdown":"You can also explicitly fallback to antMatcher inside `requestMatchers`:\r\n\r\n```java\r\nimport static org.springframework.security.web.util.matcher.AntPathRequestMatcher.antMatcher;\r\n....\r\n\r\n.....\r\nreturn http\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t  .requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n\t\t\t  .anyRequest().authenticated()\r\n\t\t\t.and()\r\n            .build();\r\n```","title":"H2-Database console not opening with Spring-Security","body":"<p>You can also explicitly fallback to antMatcher inside <code>requestMatchers</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.security.web.util.matcher.AntPathRequestMatcher.antMatcher;\n....\n\n.....\nreturn http\n            .authorizeHttpRequests()\n              .requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\n              .anyRequest().authenticated()\n            .and()\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27554999,"reputation":41,"user_id":21029385,"display_name":"Adam Woniak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673976221,"creation_date":1673976221,"answer_id":75150058,"question_id":74680244,"body_markdown":"According to the post on spring blog about [Spring Security without the WebSecurityConfigurerAdapter][1] we can use WebSecurityCustomize for ignoring the whole endpoint from the security. \r\nThe case fits perfectly to publish the h2 console, because we want to ignore only this particular endpoint in the case of security. \r\nThe working example:\r\n\r\n    @Bean\r\n\tpublic WebSecurityCustomizer webSecurityCustomizer() {\r\n\t\treturn (web) -&gt; web.ignoring().requestMatchers(new AntPathRequestMatcher(H2_CONSOLE_PATH));\r\n\t}\r\n\r\nAnd that&#39;s all what we need, probably the cleanest solution to this problem. \r\n\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"H2-Database console not opening with Spring-Security","body":"<p>According to the post on spring blog about <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a> we can use WebSecurityCustomize for ignoring the whole endpoint from the security.\nThe case fits perfectly to publish the h2 console, because we want to ignore only this particular endpoint in the case of security.\nThe working example:</p>\n<pre><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().requestMatchers(new AntPathRequestMatcher(H2_CONSOLE_PATH));\n}\n</code></pre>\n<p>And that's all what we need, probably the cleanest solution to this problem.</p>\n"},{"tags":[],"owner":{"account_id":2755075,"reputation":107,"user_id":2373421,"display_name":"Lemmy_Caution"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675885038,"creation_date":1675884488,"answer_id":75390820,"question_id":74680244,"body_markdown":"I&#39;ve found this article, where the question is well explained:\r\n[h2-database-console-with-spring-security][1]\r\n\r\nNote: The article is not updated to Spring Security 6, due the known deprecation of the WebSecurityConfigurerAdapter class.\r\nThe code should be updated to:\r\n\r\n    package com.myapp.configuration;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.web.SecurityFilterChain;\r\n\timport static org.springframework.boot.autoconfigure.security.servlet.PathRequest.toH2Console;\t\r\n\t@Configuration\r\n\tpublic class CustomSecurityConfiguration{\r\n\t\t\r\n\t\t@Bean\r\n\t    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests()\r\n\t        .requestMatchers(&quot;/&quot;).permitAll()\r\n\t        .requestMatchers(toH2Console()).permitAll()\r\n            .and().csrf().ignoringRequestMatchers(toH2Console())\r\n\t\t\t.and().formLogin()\r\n\t\t\t.and().httpBasic();\r\n            \r\n            // Use them only in development or demo environments. NEVER in production !!!\r\n\t        // http.csrf().disable();\r\n\t        http.headers().frameOptions().disable();\r\n\t        \r\n\t        return http.build();\r\n\t    }\r\n\t}\r\n\r\n\r\n  [1]: https://springframework.guru/using-the-h2-database-console-in-spring-boot-with-spring-security/","title":"H2-Database console not opening with Spring-Security","body":"<p>I've found this article, where the question is well explained:\n<a href=\"https://springframework.guru/using-the-h2-database-console-in-spring-boot-with-spring-security/\" rel=\"nofollow noreferrer\">h2-database-console-with-spring-security</a></p>\n<p>Note: The article is not updated to Spring Security 6, due the known deprecation of the WebSecurityConfigurerAdapter class.\nThe code should be updated to:</p>\n<pre><code>package com.myapp.configuration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport static org.springframework.boot.autoconfigure.security.servlet.PathRequest.toH2Console;  \n@Configuration\npublic class CustomSecurityConfiguration{\n    \n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n        .requestMatchers(&quot;/&quot;).permitAll()\n        .requestMatchers(toH2Console()).permitAll()\n        .and().csrf().ignoringRequestMatchers(toH2Console())\n        .and().formLogin()\n        .and().httpBasic();\n        \n        // Use them only in development or demo environments. NEVER in production !!!\n        // http.csrf().disable();\n        http.headers().frameOptions().disable();\n        \n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19622871,"reputation":11,"user_id":14362968,"display_name":"Braklord"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677363381,"creation_date":1677363099,"answer_id":75568783,"question_id":74680244,"body_markdown":"It is enough to create a new AntPathRequestMatcher within:\r\n\r\n```\r\n.requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n```\r\n\r\nTo avoid problems of display the frames (X-Frame-Options header will be not added by Spring Security in the response):\r\n\r\n```\r\nhttp.headers().frameOptions().disable();\r\n```","title":"H2-Database console not opening with Spring-Security","body":"<p>It is enough to create a new AntPathRequestMatcher within:</p>\n<pre><code>.requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;)).permitAll()\n</code></pre>\n<p>To avoid problems of display the frames (X-Frame-Options header will be not added by Spring Security in the response):</p>\n<pre><code>http.headers().frameOptions().disable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13083847,"reputation":1,"user_id":9453499,"display_name":"h.z."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683247501,"creation_date":1683168276,"answer_id":76169247,"question_id":74680244,"body_markdown":"Below is the snippet of my code. I use Spring Boot 3.0.6. It works.\r\n```\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests().requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n                .and().csrf().ignoringRequestMatchers(antMatcher(&quot;/h2-console/**&quot;))\r\n                .and().headers().frameOptions().disable();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"H2-Database console not opening with Spring-Security","body":"<p>Below is the snippet of my code. I use Spring Boot 3.0.6. It works.</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests().requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\n                .and().csrf().ignoringRequestMatchers(antMatcher(&quot;/h2-console/**&quot;))\n                .and().headers().frameOptions().disable();\n\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27670059,"reputation":95,"user_id":21121079,"display_name":"e1st0rm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684526453,"creation_date":1684526103,"answer_id":76292089,"question_id":74680244,"body_markdown":"Step 1: Do import in your SecurityConfig class\r\n\r\n    import static org.springframework.boot.autoconfigure.security.servlet.PathRequest.toH2Console;\r\n\r\nStep 2: Add filter in to context. Pay attention to the lines containing the comment &#39;&lt;-&#39;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\t\r\n\t    @Bean\r\n\t    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception \r\n        {\r\n\t\t    http\r\n\t\t\t    .authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t    // another matchers\r\n\t\t\t\t    .requestMatchers(toH2Console()).permitAll() // &lt;-\r\n\t\t\t\t    // another matchers\r\n\t\t\t\t    .anyRequest().authenticated()\r\n\t\t\t    )\r\n\t\t\t    .formLogin((login) -&gt; login\r\n\t\t\t\t    .loginPage(&quot;/login&quot;)\r\n\t\t\t\t    .permitAll()\r\n\t\t\t    )\r\n\t\t\t    .logout((logout) -&gt; logout\r\n\t\t\t\t    .permitAll()\r\n\t\t\t    )\r\n\t\t\t    .csrf((protection) -&gt; protection\r\n\t\t\t\t    .ignoringRequestMatchers(toH2Console()) // &lt;- \r\n\t\t\t    )\r\n\t\t\t    .headers((header) -&gt; header\r\n\t\t\t\t    .frameOptions().sameOrigin()\r\n\t\t\t    );\r\n\t\t    return http.build();\r\n\t    }\r\n    }","title":"H2-Database console not opening with Spring-Security","body":"<p>Step 1: Do import in your SecurityConfig class</p>\n<pre><code>import static org.springframework.boot.autoconfigure.security.servlet.PathRequest.toH2Console;\n</code></pre>\n<p>Step 2: Add filter in to context. Pay attention to the lines containing the comment '&lt;-'</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception \n    {\n        http\n            .authorizeHttpRequests((requests) -&gt; requests\n                // another matchers\n                .requestMatchers(toH2Console()).permitAll() // &lt;-\n                // another matchers\n                .anyRequest().authenticated()\n            )\n            .formLogin((login) -&gt; login\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n            )\n            .logout((logout) -&gt; logout\n                .permitAll()\n            )\n            .csrf((protection) -&gt; protection\n                .ignoringRequestMatchers(toH2Console()) // &lt;- \n            )\n            .headers((header) -&gt; header\n                .frameOptions().sameOrigin()\n            );\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29337313,"reputation":31,"user_id":22477433,"display_name":"Artem Zubkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693498091,"creation_date":1693483195,"answer_id":77015637,"question_id":74680244,"body_markdown":"In Spring boot 3, you need to add the following configurations:\r\n\r\nfirst\r\n\r\n   \r\n\r\n    .csrf(csrf -&gt; csrf\r\n                .ignoringRequestMatchers(toH2Console())\r\n                .disable())\r\n\r\nsecond\r\n\r\n    .authorizeHttpRequests(auth -&gt; auth\r\n            .requestMatchers(toH2Console()).permitAll())\r\n\r\nthird\r\n\r\n    .headers(headers -&gt; headers.frameOptions(FrameOptionsConfig::disable))","title":"H2-Database console not opening with Spring-Security","body":"<p>In Spring boot 3, you need to add the following configurations:</p>\n<p>first</p>\n<pre><code>.csrf(csrf -&gt; csrf\n            .ignoringRequestMatchers(toH2Console())\n            .disable())\n</code></pre>\n<p>second</p>\n<pre><code>.authorizeHttpRequests(auth -&gt; auth\n        .requestMatchers(toH2Console()).permitAll())\n</code></pre>\n<p>third</p>\n<pre><code>.headers(headers -&gt; headers.frameOptions(FrameOptionsConfig::disable))\n</code></pre>\n"}],"owner":{"account_id":27144644,"reputation":63,"user_id":20685068,"display_name":"Marc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7547,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74719519,"answer_count":8,"score":6,"last_activity_date":1693498091,"creation_date":1670182617,"question_id":74680244,"body_markdown":"I&#39;m using the `H2-Database` and `Spring Security`, but I&#39;m unable to open it in the browser at `http://localhost:8080/h2-console`\r\n\r\nHere my `pom.xml` (only the `H2` entry)\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n   &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n   &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere my `application.properties`\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:file:/data/noNameDB\r\nspring.h2.console.enabled=true\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=admin\r\nspring.datasource.password=admin\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.path=/h2-console\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jackson.serialization.fail-on-empty-beans=false\r\n```\r\n\r\nAnd here is my `SecurityConfig.java`\r\n\r\n\r\n```\r\nimport com.example.noName.security.JwtAuthenticationEntryPoint;\r\nimport com.example.noName.security.JwtAuthenticationFilter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n\r\n    private static final String[] AUTH_WHITE_LIST = {\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;,\r\n            &quot;/v2/api-docs/**&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/h2-console/**&quot;,\r\n            &quot;/console/**&quot;,\r\n            &quot;/account/**&quot;\r\n    };\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(AUTH_WHITE_LIST)\r\n                .permitAll()\r\n                .and()\r\n                .headers()\r\n                .frameOptions()\r\n                .disable()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                .httpBasic();\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThe following is shown in the console if I try to access the console via `http://localhost:8080/h2-console`\r\n\r\n```\r\nINFO 3664 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\nINFO 3664 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\nINFO 3664 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```\r\n\r\n--------------------------------------------------------------------------------------------------\r\n\r\nI have already tried everything I could find on the Internet.\r\n\r\nThe funny thing is that the &quot;exception handling&quot; works for `Swagger`. \r\nIf I try to access the database via: \r\n\r\n```\r\nhttp://localhost:8080/h2-console\r\n```\r\n\r\nI always get the error:\r\n \r\n```\r\n401 - Unauthorized\r\n```\r\n\r\nEach one is strange, because the access was allowed in the `SecurityConfig`. \r\n\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n            .cors()\r\n            .and()\r\n            .csrf()\r\n            .disable()\r\n            .exceptionHandling()\r\n            .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .authorizeHttpRequests()\r\n            .requestMatchers(AUTH_WHITE_LIST)\r\n            .permitAll()\r\n            .and()\r\n            .headers()\r\n            .frameOptions()\r\n            .disable()\r\n            .and()\r\n            .authorizeHttpRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .httpBasic()\r\n            .and()\r\n            .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n            .httpBasic();\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\n\r\nI can access the database through an internal database test. This is provided by `Intellij`. \r\n\r\nHowever `working`/`editing` in the database is not possible through this.\r\n\r\nAND:\r\n\r\nIf I change the `AUTH_WHITE_LIST` to this, it works.\r\n\r\n```\r\nprivate static final String[] AUTH_WHITE_LIST = {\r\n       &quot;/**&quot;\r\n};\r\n```","title":"H2-Database console not opening with Spring-Security","body":"<p>I'm using the <code>H2-Database</code> and <code>Spring Security</code>, but I'm unable to open it in the browser at <code>http://localhost:8080/h2-console</code></p>\n<p>Here my <code>pom.xml</code> (only the <code>H2</code> entry)</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n   &lt;artifactId&gt;h2&lt;/artifactId&gt;\n   &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here my <code>application.properties</code></p>\n<pre><code>spring.datasource.url=jdbc:h2:file:/data/noNameDB\nspring.h2.console.enabled=true\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=admin\nspring.datasource.password=admin\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.path=/h2-console\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jackson.serialization.fail-on-empty-beans=false\n</code></pre>\n<p>And here is my <code>SecurityConfig.java</code></p>\n<pre><code>import com.example.noName.security.JwtAuthenticationEntryPoint;\nimport com.example.noName.security.JwtAuthenticationFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n\n    private static final String[] AUTH_WHITE_LIST = {\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-ui/**&quot;,\n            &quot;/v2/api-docs/**&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/h2-console/**&quot;,\n            &quot;/console/**&quot;,\n            &quot;/account/**&quot;\n    };\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(AUTH_WHITE_LIST)\n                .permitAll()\n                .and()\n                .headers()\n                .frameOptions()\n                .disable()\n                .and()\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n                .httpBasic();\n\n        return http.build();\n    }\n\n}\n\n</code></pre>\n<p>The following is shown in the console if I try to access the console via <code>http://localhost:8080/h2-console</code></p>\n<pre><code>INFO 3664 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\nINFO 3664 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\nINFO 3664 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<hr />\n<p>I have already tried everything I could find on the Internet.</p>\n<p>The funny thing is that the &quot;exception handling&quot; works for <code>Swagger</code>.\nIf I try to access the database via:</p>\n<pre><code>http://localhost:8080/h2-console\n</code></pre>\n<p>I always get the error:</p>\n<pre><code>401 - Unauthorized\n</code></pre>\n<p>Each one is strange, because the access was allowed in the <code>SecurityConfig</code>.</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .cors()\n            .and()\n            .csrf()\n            .disable()\n            .exceptionHandling()\n            .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeHttpRequests()\n            .requestMatchers(AUTH_WHITE_LIST)\n            .permitAll()\n            .and()\n            .headers()\n            .frameOptions()\n            .disable()\n            .and()\n            .authorizeHttpRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .httpBasic()\n            .and()\n            .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n            .httpBasic();\n\n    return http.build();\n}\n</code></pre>\n<p>I can access the database through an internal database test. This is provided by <code>Intellij</code>.</p>\n<p>However <code>working</code>/<code>editing</code> in the database is not possible through this.</p>\n<p>AND:</p>\n<p>If I change the <code>AUTH_WHITE_LIST</code> to this, it works.</p>\n<pre><code>private static final String[] AUTH_WHITE_LIST = {\n       &quot;/**&quot;\n};\n</code></pre>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693501511,"post_id":77017354,"comment_id":135772926,"body_markdown":"First use an up-to-date version of maven-surefire-plugin (version 3.1.2; https://maven.apache.org/surefire/maven-surefire-plugin/plugin-info.html) and remove the manualy added dependency to surefire plugin. Are you using only TestNG as testing framework?","body":"First use an up-to-date version of maven-surefire-plugin (version 3.1.2; <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/plugin-info.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/&hellip;</a>) and remove the manualy added dependency to surefire plugin. Are you using only TestNG as testing framework?"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1693640675,"post_id":77017354,"comment_id":135789911,"body_markdown":"The latest released version of TestNG is `7.8.0` (JDK11) and `7.5.1`(JDK8). Please upgrade to it and retry. If the problem persists, then please edit your question and share a sample test code that can be used to reproduce the problem.  The stack-trace seems to indicate that this bug perhaps has been fixed in newer versions","body":"The latest released version of TestNG is <code>7.8.0</code> (JDK11) and <code>7.5.1</code>(JDK8). Please upgrade to it and retry. If the problem persists, then please edit your question and share a sample test code that can be used to reproduce the problem.  The stack-trace seems to indicate that this bug perhaps has been fixed in newer versions"}],"owner":{"account_id":15913659,"reputation":739,"user_id":11482935,"display_name":"monsterpiece"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693498038,"creation_date":1693496268,"question_id":77017354,"body_markdown":"I&#39;m using maven surefire 2.22.0 with testNG 7.1.0 and all my unit tests pass on their own even when run in sequence however when running mvn test I get this error, I haven&#39;t seen much on this error but I&#39;m guessing theres some issue with Maven trying to find or initiate testNG to start running the tests??\r\n\r\nnot sure why they all pass manually though... I&#39;m not passing any special flags in my manual config, hoping someone has some ideas here?\r\n\r\nI&#39;ve edited this to show the full stack trace with mvn test -X\r\n\r\n```\r\nException in provider\r\norg.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\r\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:96)\r\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1287)\r\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1144)\r\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:910)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:910)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\r\nCaused by: java.lang.NullPointerException\r\n        at com.ebay.kernel.exception.BaseException.printStackTrace(BaseException.java:139)\r\n        at org.testng.internal.Utils.buildStackTrace(Utils.java:320)\r\n        at org.testng.internal.Utils.longStackTrace(Utils.java:303)\r\n        at org.testng.reporters.TestHTMLReporter.generateTable(TestHTMLReporter.java:169)\r\n        at org.testng.reporters.TestHTMLReporter.generateLog(TestHTMLReporter.java:359)\r\n        at org.testng.reporters.TestHTMLReporter.onFinish(TestHTMLReporter.java:38)\r\n        at org.testng.TestRunner.fireEvent(TestRunner.java:895)\r\n        at org.testng.TestRunner.afterRun(TestRunner.java:859)\r\n        at org.testng.TestRunner.run(TestRunner.java:590)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1039)\r\n        at org.testng.TestNG.run(TestNG.java:1007)\r\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:151)\r\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:192)\r\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:93)\r\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:155)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:183)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:161)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:92)\r\n        ... 30 more\r\n\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.throwException (SurefireHelper.java:278)\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:171)\r\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:546)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1160)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\r\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:96)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: java.lang.NullPointerException\r\n    at com.ebay.kernel.exception.BaseException.printStackTrace (BaseException.java:139)\r\n    at org.testng.internal.Utils.buildStackTrace (Utils.java:320)\r\n    at org.testng.internal.Utils.longStackTrace (Utils.java:303)\r\n    at org.testng.reporters.TestHTMLReporter.generateTable (TestHTMLReporter.java:169)\r\n    at org.testng.reporters.TestHTMLReporter.generateLog (TestHTMLReporter.java:359)\r\n    at org.testng.reporters.TestHTMLReporter.onFinish (TestHTMLReporter.java:38)\r\n    at org.testng.TestRunner.fireEvent (TestRunner.java:895)\r\n    at org.testng.TestRunner.afterRun (TestRunner.java:859)\r\n    at org.testng.TestRunner.run (TestRunner.java:590)\r\n    at org.testng.SuiteRunner.runTest (SuiteRunner.java:384)\r\n    at org.testng.SuiteRunner.runSequentially (SuiteRunner.java:378)\r\n    at org.testng.SuiteRunner.privateRun (SuiteRunner.java:337)\r\n    at org.testng.SuiteRunner.run (SuiteRunner.java:286)\r\n    at org.testng.SuiteRunnerWorker.runSuite (SuiteRunnerWorker.java:53)\r\n    at org.testng.SuiteRunnerWorker.run (SuiteRunnerWorker.java:96)\r\n    at org.testng.TestNG.runSuitesSequentially (TestNG.java:1187)\r\n    at org.testng.TestNG.runSuitesLocally (TestNG.java:1109)\r\n    at org.testng.TestNG.runSuites (TestNG.java:1039)\r\n    at org.testng.TestNG.run (TestNG.java:1007)\r\n    at org.apache.maven.surefire.testng.TestNGExecutor.run (TestNGExecutor.java:151)\r\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti (TestNGDirectoryTestSuite.java:192)\r\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute (TestNGDirectoryTestSuite.java:93)\r\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke (TestNGProvider.java:155)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2 (ReflectionUtils.java:183)\r\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke (ProviderFactory.java:161)\r\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider (ProviderFactory.java:85)\r\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:92)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n\r\n\r\n```\r\n\r\nthis is my configuration in my project POM, these are just the relevant sections because the POM is quite large.\r\n\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;7.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.0&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n              &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n","title":"Mvn test Exception in provider error when running tests but all tests pass individually","body":"<p>I'm using maven surefire 2.22.0 with testNG 7.1.0 and all my unit tests pass on their own even when run in sequence however when running mvn test I get this error, I haven't seen much on this error but I'm guessing theres some issue with Maven trying to find or initiate testNG to start running the tests??</p>\n<p>not sure why they all pass manually though... I'm not passing any special flags in my manual config, hoping someone has some ideas here?</p>\n<p>I've edited this to show the full stack trace with mvn test -X</p>\n<pre><code>Exception in provider\norg.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:96)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1287)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1144)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:910)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:910)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\nCaused by: java.lang.NullPointerException\n        at com.ebay.kernel.exception.BaseException.printStackTrace(BaseException.java:139)\n        at org.testng.internal.Utils.buildStackTrace(Utils.java:320)\n        at org.testng.internal.Utils.longStackTrace(Utils.java:303)\n        at org.testng.reporters.TestHTMLReporter.generateTable(TestHTMLReporter.java:169)\n        at org.testng.reporters.TestHTMLReporter.generateLog(TestHTMLReporter.java:359)\n        at org.testng.reporters.TestHTMLReporter.onFinish(TestHTMLReporter.java:38)\n        at org.testng.TestRunner.fireEvent(TestRunner.java:895)\n        at org.testng.TestRunner.afterRun(TestRunner.java:859)\n        at org.testng.TestRunner.run(TestRunner.java:590)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n        at org.testng.TestNG.runSuites(TestNG.java:1039)\n        at org.testng.TestNG.run(TestNG.java:1007)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:151)\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:192)\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:93)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:155)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:183)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:161)\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:92)\n        ... 30 more\n\n    at org.apache.maven.plugin.surefire.SurefireHelper.throwException (SurefireHelper.java:278)\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:171)\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:546)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1160)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:96)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: java.lang.NullPointerException\n    at com.ebay.kernel.exception.BaseException.printStackTrace (BaseException.java:139)\n    at org.testng.internal.Utils.buildStackTrace (Utils.java:320)\n    at org.testng.internal.Utils.longStackTrace (Utils.java:303)\n    at org.testng.reporters.TestHTMLReporter.generateTable (TestHTMLReporter.java:169)\n    at org.testng.reporters.TestHTMLReporter.generateLog (TestHTMLReporter.java:359)\n    at org.testng.reporters.TestHTMLReporter.onFinish (TestHTMLReporter.java:38)\n    at org.testng.TestRunner.fireEvent (TestRunner.java:895)\n    at org.testng.TestRunner.afterRun (TestRunner.java:859)\n    at org.testng.TestRunner.run (TestRunner.java:590)\n    at org.testng.SuiteRunner.runTest (SuiteRunner.java:384)\n    at org.testng.SuiteRunner.runSequentially (SuiteRunner.java:378)\n    at org.testng.SuiteRunner.privateRun (SuiteRunner.java:337)\n    at org.testng.SuiteRunner.run (SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite (SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run (SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially (TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally (TestNG.java:1109)\n    at org.testng.TestNG.runSuites (TestNG.java:1039)\n    at org.testng.TestNG.run (TestNG.java:1007)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run (TestNGExecutor.java:151)\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti (TestNGDirectoryTestSuite.java:192)\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute (TestNGDirectoryTestSuite.java:93)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke (TestNGProvider.java:155)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2 (ReflectionUtils.java:183)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke (ProviderFactory.java:161)\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider (ProviderFactory.java:85)\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:92)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n\n\n</code></pre>\n<p>this is my configuration in my project POM, these are just the relevant sections because the POM is quite large.</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.1.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.0&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n              &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n              &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n\n</code></pre>\n"},{"tags":["java","pdfbox","velocity","openhtmltopdf"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1693504943,"post_id":77016838,"comment_id":135773581,"body_markdown":"try wkhtmltopdf, but make sure you&#39;re sanitizing your input or running this in a container.","body":"try wkhtmltopdf, but make sure you&#39;re sanitizing your input or running this in a container."}],"owner":{"account_id":4863040,"reputation":81,"user_id":3922134,"accept_rate":0,"display_name":"Umair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693497672,"creation_date":1693492407,"question_id":77016838,"body_markdown":"I have to generate configurable reports in pdf format with java. I have velocity template which has the CSS formatting of report and place holders for actual data. \r\n\r\nVelocity is processing the data very efficiently even when data set multiple thousands of records.\r\n\r\nI then convert this processed html string into pdf using openhtmltopdf.pdfbox PdfRendererBuilder. Unfortunately this operation takes around 4 minutes on 10 000 records. I want to reduce this time.\r\n\r\nHow can this pdf generation time be reduced? keeping in mind:\r\n\r\n1. I only have open source libraries in my repo that I can use and do not have many options. I have tried with itext5.5, pdfbox2.0.4, openhtmltopdf. I dont have maven repository access on my development environment.\r\n2. I dont want to rewrite java code for any new upcoming report, I want to write one configurable template, just call that template with data set to generate pdf report. \r\n3. Data volume is huge, so I am looking for optimized solutions.\r\n4. This should support right to left language as well.\r\n","title":"Convert very big html file into pdf with CSS properly rendered efficiently in short time","body":"<p>I have to generate configurable reports in pdf format with java. I have velocity template which has the CSS formatting of report and place holders for actual data.</p>\n<p>Velocity is processing the data very efficiently even when data set multiple thousands of records.</p>\n<p>I then convert this processed html string into pdf using openhtmltopdf.pdfbox PdfRendererBuilder. Unfortunately this operation takes around 4 minutes on 10 000 records. I want to reduce this time.</p>\n<p>How can this pdf generation time be reduced? keeping in mind:</p>\n<ol>\n<li>I only have open source libraries in my repo that I can use and do not have many options. I have tried with itext5.5, pdfbox2.0.4, openhtmltopdf. I dont have maven repository access on my development environment.</li>\n<li>I dont want to rewrite java code for any new upcoming report, I want to write one configurable template, just call that template with data set to generate pdf report.</li>\n<li>Data volume is huge, so I am looking for optimized solutions.</li>\n<li>This should support right to left language as well.</li>\n</ol>\n"},{"tags":["java","cron","jobs","autosys","jil"],"owner":{"account_id":29337824,"reputation":1,"user_id":22477852,"display_name":"user22477852"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693497422,"creation_date":1693488225,"question_id":77016258,"body_markdown":"I have to schedule a job that have to run every day every hour using jil script? Can I write   \r\n\r\n    start_time:&quot;00:00,01:00,02:00,03:00,04:00,05:00,06:00...,22:00,23:00&quot;\r\n\r\nIs the above format right?\r\n\r\n\r\n\r\n\r\n\r\n","title":"schedule a job everyday, everyhour using jil","body":"<p>I have to schedule a job that have to run every day every hour using jil script? Can I write</p>\n<pre><code>start_time:&quot;00:00,01:00,02:00,03:00,04:00,05:00,06:00...,22:00,23:00&quot;\n</code></pre>\n<p>Is the above format right?</p>\n"},{"tags":["java","macos","jvm","sap-commerce-cloud","dylib"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691925422,"post_id":76866456,"comment_id":135554179,"body_markdown":"jre/lib/ext doesn&#39;t exist anymore since Java 9. And in general, it was the wrong location to put files anyway. Depending on why you need it, adding its location to the `DYLD_LIBRARY_PATH` should be sufficient.","body":"jre/lib/ext doesn&#39;t exist anymore since Java 9. And in general, it was the wrong location to put files anyway. Depending on why you need it, adding its location to the <code>DYLD_LIBRARY_PATH</code> should be sufficient."}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692096796,"creation_date":1692096796,"answer_id":76905298,"question_id":76866456,"body_markdown":"You need to replace one that is coming OOTB, in SAP Commerce 2211 it is placed in ***modules/sap-framework-core/sapcorejco/lib/darwinintel64*** directory, feel free to configure the replacement automatically during a\r\nplatform building using the process of customizing.\r\nJust in case, ARM64(mac m1+) specific version of the lib can be downloaded [here][1].\r\n\r\n\r\n  [1]: https://support.sap.com/en/product/connectors/jco.html#Download","title":"libsapjco3.dylib is failing to initialize","body":"<p>You need to replace one that is coming OOTB, in SAP Commerce 2211 it is placed in <em><strong>modules/sap-framework-core/sapcorejco/lib/darwinintel64</strong></em> directory, feel free to configure the replacement automatically during a\nplatform building using the process of customizing.\nJust in case, ARM64(mac m1+) specific version of the lib can be downloaded <a href=\"https://support.sap.com/en/product/connectors/jco.html#Download\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693496342,"creation_date":1691574039,"question_id":76866456,"body_markdown":"I am using Mac.&lt;br&gt;\r\nI know that I am supposed to copy `libsapjco3.dylib` in `VM\\jdkVersion\\jre\\lib\\ext`.&lt;br&gt;\r\nOn Mac I can&#39;t find this location.&lt;br&gt;\r\nWhat is the equivalent location on Mac where I can copy this file.","title":"libsapjco3.dylib is failing to initialize","body":"<p>I am using Mac.<br>\nI know that I am supposed to copy <code>libsapjco3.dylib</code> in <code>VM\\jdkVersion\\jre\\lib\\ext</code>.<br>\nOn Mac I can't find this location.<br>\nWhat is the equivalent location on Mac where I can copy this file.</p>\n"},{"tags":["java","jmeter","dsl"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693496014,"creation_date":1693496014,"answer_id":77017320,"question_id":77016861,"body_markdown":"Something like:\r\n\r\n    httpSampler(secondRequestUrl)\r\n            .method(POST)\r\n            .bodyPart(&quot;param1&quot;, &quot;${paramKey}&quot;, TEXT_PLAIN)\r\n            .bodyPart(&quot;param2&quot;, &quot;10.01&quot;, TEXT_PLAIN)\r\n            //etc\r\n            .bodyFilePart(&quot;foo&quot;, &quot;/path/to/your/file&quot;, APPLICATION_OCTET_STREAM)\r\n\r\nwill generate the HTTP Request sampler looking like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMore information:\r\n\r\n - [JMeter DSL User Guide][3]\r\n - [JMeter DSL: Bringing Performance Testing Closer to Developers][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vPiDr.png\r\n  [2]: https://i.stack.imgur.com/5sHfz.png\r\n  [3]: https://abstracta.github.io/jmeter-java-dsl/guide/\r\n  [4]: https://www.blazemeter.com/blog/jmeter-dsl","title":"How to send request with content-type is form-data?","body":"<p>Something like:</p>\n<pre><code>httpSampler(secondRequestUrl)\n        .method(POST)\n        .bodyPart(&quot;param1&quot;, &quot;${paramKey}&quot;, TEXT_PLAIN)\n        .bodyPart(&quot;param2&quot;, &quot;10.01&quot;, TEXT_PLAIN)\n        //etc\n        .bodyFilePart(&quot;foo&quot;, &quot;/path/to/your/file&quot;, APPLICATION_OCTET_STREAM)\n</code></pre>\n<p>will generate the HTTP Request sampler looking like:</p>\n<p><a href=\"https://i.stack.imgur.com/vPiDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPiDr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5sHfz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5sHfz.png\" alt=\"enter image description here\" /></a></p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://abstracta.github.io/jmeter-java-dsl/guide/\" rel=\"nofollow noreferrer\">JMeter DSL User Guide</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-dsl\" rel=\"nofollow noreferrer\">JMeter DSL: Bringing Performance Testing Closer to Developers</a></li>\n</ul>\n"}],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017320,"answer_count":1,"score":0,"last_activity_date":1693496014,"creation_date":1693492591,"question_id":77016861,"body_markdown":"The problem is: how to send a request with the body which has content-type Form-data and also this request body should contain saved parameter from the previous response\r\n\r\nThe code is:\r\n\r\n```\r\nTestPlanStats stats = testPlan(\r\n    threadGroup(1, 1),\r\n             httpSampler(firstRequestUrl)\r\n                    .method(POST)\r\n                    .contentType(APPLICATION_JSON)\r\n                    .header(AUTHORIZATION, getToken())\r\n                    .body(someBody)\r\n                    .children(new DslJsr223PostProcessor(&quot;Get param&quot;,\r\n                    &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString())\\n&quot; +\r\n                            &quot;def paramValue = jsonResponse.param\\n&quot; +\r\n                            &quot;vars.put(&#39;paramKey&#39;, paramValue)&quot;)),\r\n            httpSampler(secondRequestUrl)\r\n                    .method(POST)\r\n                    .contentType(MULTIPART_FORM_DATA)\r\n                    .body(here need to provide form body with &quot;${paramKey}&quot;)\r\n                    .children(new DslJsr223PostProcessor(&quot;Get response status code&quot;,\r\n                            &quot;int statusCode = prev.getResponseCode();\\n&quot; +\r\n                                    &quot;vars.put(&#39;responseStatusCode&#39;, String.valueOf(statusCode));&quot;\r\n                    )),\r\n            new DslJsr223Sampler(&quot;Print result&quot;,\r\n                    &quot;String result = vars.get(&#39;responseStatusCode&#39;);&quot; +\r\n                            &quot;if (result != null) {\\n&quot; +\r\n                            &quot;    println(&#39;csrfKey: &#39; + result);\\n&quot; +\r\n                            &quot;} else {\\n&quot; +\r\n                            &quot;    println(&#39;result not found&#39;);\\n&quot; +\r\n                            &quot;}&quot;)\r\n\r\n    ).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\r\n    influxDbListener(envSetting.getInfluxDbUrl())\r\n            .measurement(&quot;someMeasurement&quot;)\r\n).run();\r\n```\r\n\r\nFrom the first httpSampler(), I save the parameter into the JMeter vars map.\r\n\r\nIn the second httpSampler(), I need to send a request with content-type Form-data and this request should contain saved in the JMeter vars map param &quot;${paramKey}&quot;\r\n\r\nThe request body should contain parameters:\r\n\r\n- param1 = &quot;${paramKey}&quot;\r\n- param2 = 10.01\r\n- param3 = &quot;SomeText1&quot;\r\n- param4 = false\r\n- param5.key1 = 11111\r\n- param5.key2 = &quot;SomeText2&quot;\r\n- param5.key3 = 22222\r\n\r\nThe signature of the method `body(Function&lt;PreProcessorVars, String&gt; bodySupplier)` or `body(String body)`.\r\n\r\nHow do I build a proper request body with these requirements?\r\n","title":"How to send request with content-type is form-data?","body":"<p>The problem is: how to send a request with the body which has content-type Form-data and also this request body should contain saved parameter from the previous response</p>\n<p>The code is:</p>\n<pre><code>TestPlanStats stats = testPlan(\n    threadGroup(1, 1),\n             httpSampler(firstRequestUrl)\n                    .method(POST)\n                    .contentType(APPLICATION_JSON)\n                    .header(AUTHORIZATION, getToken())\n                    .body(someBody)\n                    .children(new DslJsr223PostProcessor(&quot;Get param&quot;,\n                    &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString())\\n&quot; +\n                            &quot;def paramValue = jsonResponse.param\\n&quot; +\n                            &quot;vars.put('paramKey', paramValue)&quot;)),\n            httpSampler(secondRequestUrl)\n                    .method(POST)\n                    .contentType(MULTIPART_FORM_DATA)\n                    .body(here need to provide form body with &quot;${paramKey}&quot;)\n                    .children(new DslJsr223PostProcessor(&quot;Get response status code&quot;,\n                            &quot;int statusCode = prev.getResponseCode();\\n&quot; +\n                                    &quot;vars.put('responseStatusCode', String.valueOf(statusCode));&quot;\n                    )),\n            new DslJsr223Sampler(&quot;Print result&quot;,\n                    &quot;String result = vars.get('responseStatusCode');&quot; +\n                            &quot;if (result != null) {\\n&quot; +\n                            &quot;    println('csrfKey: ' + result);\\n&quot; +\n                            &quot;} else {\\n&quot; +\n                            &quot;    println('result not found');\\n&quot; +\n                            &quot;}&quot;)\n\n    ).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\n    influxDbListener(envSetting.getInfluxDbUrl())\n            .measurement(&quot;someMeasurement&quot;)\n).run();\n</code></pre>\n<p>From the first httpSampler(), I save the parameter into the JMeter vars map.</p>\n<p>In the second httpSampler(), I need to send a request with content-type Form-data and this request should contain saved in the JMeter vars map param &quot;${paramKey}&quot;</p>\n<p>The request body should contain parameters:</p>\n<ul>\n<li>param1 = &quot;${paramKey}&quot;</li>\n<li>param2 = 10.01</li>\n<li>param3 = &quot;SomeText1&quot;</li>\n<li>param4 = false</li>\n<li>param5.key1 = 11111</li>\n<li>param5.key2 = &quot;SomeText2&quot;</li>\n<li>param5.key3 = 22222</li>\n</ul>\n<p>The signature of the method <code>body(Function&lt;PreProcessorVars, String&gt; bodySupplier)</code> or <code>body(String body)</code>.</p>\n<p>How do I build a proper request body with these requirements?</p>\n"},{"tags":["java","spring","gradle","gradle.properties"],"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1626175054,"post_id":68361092,"comment_id":120817409,"body_markdown":"could you add the snippet of how you read that prop1, something like -&gt; https://discuss.gradle.org/t/read-a-property-from-gradle-properties/27148/2","body":"could you add the snippet of how you read that prop1, something like -&gt; <a href=\"https://discuss.gradle.org/t/read-a-property-from-gradle-properties/27148/2\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/read-a-property-from-gradle-properties/&zwnj;&#8203;&hellip;</a>"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626175303,"post_id":68361092,"comment_id":120817501,"body_markdown":"where are you using gradle?android  project?","body":"where are you using gradle?android  project?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1626175540,"post_id":68361092,"comment_id":120817581,"body_markdown":"@Gabriel Aguiar - legacy java spring project","body":"@Gabriel Aguiar - legacy java spring project"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626175607,"post_id":68361092,"comment_id":120817601,"body_markdown":"@gstackoverflow show me gradle.properties","body":"@gstackoverflow show me gradle.properties"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626175756,"post_id":68361092,"comment_id":120817657,"body_markdown":"@sschrass  added requested information","body":"@sschrass  added requested information"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1626175795,"post_id":68361092,"comment_id":120817670,"body_markdown":"@Gabriel Aguiar please read topic update","body":"@Gabriel Aguiar please read topic update"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626176278,"post_id":68361092,"comment_id":120817845,"body_markdown":"you hae a gradle-wrapper.properties?","body":"you hae a gradle-wrapper.properties?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626176438,"post_id":68361092,"comment_id":120817907,"body_markdown":"@Gabriel Aguiar yes I have but I used `gradle clean` but not `gradlew clean`","body":"@Gabriel Aguiar yes I have but I used <code>gradle clean</code> but not <code>gradlew clean</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626177216,"post_id":68361092,"comment_id":120818208,"body_markdown":"@Gabriel Aguiar I don&#39;t have `local.properties`","body":"@Gabriel Aguiar I don&#39;t have <code>local.properties</code>"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626177248,"post_id":68361092,"comment_id":120818224,"body_markdown":"@gstackoverflow add this to your gradle.properties and restart your IDE gradle.user.home=C:/Users/you user/.gradle  and change system variable path to C:/Users/you user/.gradle","body":"@gstackoverflow add this to your gradle.properties and restart your IDE gradle.user.home=C:/Users/you user/.gradle  and change system variable path to C:/Users/you user/.gradle"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626178613,"post_id":68361092,"comment_id":120818808,"body_markdown":"@Gabriel Aguiar could you please explain in details what should I do. From my point of view all env variabes are set correctly","body":"@Gabriel Aguiar could you please explain in details what should I do. From my point of view all env variabes are set correctly"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626179968,"post_id":68361092,"comment_id":120819391,"body_markdown":"@gstackoverflow change GRADLE_USER_HOME path to C:/Users/you user/.gradle","body":"@gstackoverflow change GRADLE_USER_HOME path to C:/Users/you user/.gradle"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626180052,"post_id":68361092,"comment_id":120819424,"body_markdown":"@gstackoverflow and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file","body":"@gstackoverflow and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626194409,"post_id":68361092,"comment_id":120826114,"body_markdown":"@Gabriel Aguiar GRADLE_USER_HOME is set properly according my initial post.  Please reread.\n\nBut this phrase is not clear **and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file**\nSounds too complex. My teammates doesn&#39;t have it and it works for them properly","body":"@Gabriel Aguiar GRADLE_USER_HOME is set properly according my initial post.  Please reread.  But this phrase is not clear <b>and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file</b> Sounds too complex. My teammates doesn&#39;t have it and it works for them properly"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626922961,"post_id":68361092,"comment_id":121022484,"body_markdown":"What `gradle clean --debug` produces? Does `Gradle user home:` value appears?","body":"What <code>gradle clean --debug</code> produces? Does <code>Gradle user home:</code> value appears?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942108,"post_id":68361092,"comment_id":121027328,"body_markdown":"@LMC I see line \n2021-07-22T11:19:56.963+0300 [DEBUG] [org.gradle.api.internal.project.ant.AntLoggingAdapter] Setting project property: env.GRADLE_USER_HOME -&gt; C:\\Users\\myusername\\.gradle","body":"@LMC I see line  2021-07-22T11:19:56.963+0300 [DEBUG] [org.gradle.api.internal.project.ant.AntLoggingAdapter] Setting project property: env.GRADLE_USER_HOME -&gt; C:\\Users\\myusername\\.gradle"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942933,"post_id":68361092,"comment_id":121027642,"body_markdown":"@LMC \nAlso I see:\n`2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] Looking for project properties from: C:\\work\\***\\gradle.properties\n2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] project property file does not exists. We continue!\n`","body":"@LMC  Also I see: <code>2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] Looking for project properties from: C:\\work\\***\\gradle.properties 2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] project property file does not exists. We continue! </code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942958,"post_id":68361092,"comment_id":121027656,"body_markdown":"`2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] Looking for project properties from: C:\\work\\***\\c***\\gradle.properties\n2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] project property file does not exists. We continue!`","body":"<code>2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] Looking for project properties from: C:\\work\\***\\c***\\gradle.properties 2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] project property file does not exists. We continue!</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942969,"post_id":68361092,"comment_id":121027660,"body_markdown":"`2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] Looking for project properties from: C:\\work***\\***-common\\gradle.properties\n2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] project property file does not exists. We continue!\n202`","body":"<code>2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] Looking for project properties from: C:\\work***\\***-common\\gradle.properties 2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] project property file does not exists. We continue! 202</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626958734,"post_id":68361092,"comment_id":121034308,"body_markdown":"wow! It doesn&#39;t find the file even being there. What if you try in a clean project? I mean, no previous gradle activity there before, with a different user if possible. Should work or, there&#39;s a phantom in your project lol","body":"wow! It doesn&#39;t find the file even being there. What if you try in a clean project? I mean, no previous gradle activity there before, with a different user if possible. Should work or, there&#39;s a phantom in your project lol"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626976463,"post_id":68361092,"comment_id":121041771,"body_markdown":"@LMC could you please provide detailed steps what to do ? I didn&#39;t get what should I do","body":"@LMC could you please provide detailed steps what to do ? I didn&#39;t get what should I do"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626976635,"post_id":68361092,"comment_id":121041821,"body_markdown":"I see two directories inside projects (Linux), `gradle` and `.gradle`. I say, copy your whole project, delete those directories there and run gradle.","body":"I see two directories inside projects (Linux), <code>gradle</code> and <code>.gradle</code>. I say, copy your whole project, delete those directories there and run gradle."},{"owner":{"account_id":3262040,"reputation":686,"user_id":2747430,"display_name":"guicey"},"score":0,"creation_date":1626984945,"post_id":68361092,"comment_id":121044393,"body_markdown":"1. What do you get if you run the command dir %GRADLE_USER_HOME% , does it show the contents of your .gradle folder with gradle.properties file? 2. Does the .gradle folder have correct access rights? (You can try running the gradle command in a CMD terminal started in Administration mode.) 3. Does your .properties file use correct line endings e.g. CRLF or LF and does the last character in your properties end with CRLF or LF. (I have encountered once that a properties file could not be loaded into a java program running on a linux os because it ended with  CRLF instead of LF.)","body":"1. What do you get if you run the command dir %GRADLE_USER_HOME% , does it show the contents of your .gradle folder with gradle.properties file? 2. Does the .gradle folder have correct access rights? (You can try running the gradle command in a CMD terminal started in Administration mode.) 3. Does your .properties file use correct line endings e.g. CRLF or LF and does the last character in your properties end with CRLF or LF. (I have encountered once that a properties file could not be loaded into a java program running on a linux os because it ended with  CRLF instead of LF.)"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626178913,"post_id":68362166,"comment_id":120818930,"body_markdown":"I don&#39;t understand you answer. You use Kotlin. I use Java. Where is my mistake ?","body":"I don&#39;t understand you answer. You use Kotlin. I use Java. Where is my mistake ?"},{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1626179146,"post_id":68362166,"comment_id":120819026,"body_markdown":"This script accesses the rootProject and its properties. These should also include the values from {GRADLE_HOME}/.gradle/gradle.properties.","body":"This script accesses the rootProject and its properties. These should also include the values from {GRADLE_HOME}/.gradle/gradle.properties."}],"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626178334,"creation_date":1626178334,"answer_id":68362166,"question_id":68361092,"body_markdown":"build.gradle.kts\r\n\r\n    repositories {\r\n        maven(&quot;url&quot;) {\r\n            credentials {\r\n                username = rootProject.properties[&quot;user&quot;].toString()\r\n                password = rootProject.properties[&quot;password&quot;].toString()\r\n            }\r\n        }\r\n        maven(&quot;url2&quot;)\r\n        mavenLocal()\r\n    }","title":"Gradle doesn&#39;t see gradle.properties from GRADLE_USER_HOME","body":"<p>build.gradle.kts</p>\n<pre><code>repositories {\n    maven(&quot;url&quot;) {\n        credentials {\n            username = rootProject.properties[&quot;user&quot;].toString()\n            password = rootProject.properties[&quot;password&quot;].toString()\n        }\n    }\n    maven(&quot;url2&quot;)\n    mavenLocal()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987938,"reputation":29,"user_id":4704914,"accept_rate":100,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693495931,"creation_date":1693495931,"answer_id":77017306,"question_id":68361092,"body_markdown":"In my case, the issue was because `org.gradle.unsafe.configuration-cache=true`in gradle.properties.\r\nWhen I removed this line it started to work.","title":"Gradle doesn&#39;t see gradle.properties from GRADLE_USER_HOME","body":"<p>In my case, the issue was because <code>org.gradle.unsafe.configuration-cache=true</code>in gradle.properties.\nWhen I removed this line it started to work.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693495931,"creation_date":1626173803,"question_id":68361092,"body_markdown":"\r\n**CAUTION**: I&#39;ve read all topics with the same error but didn&#39;t found the way to fix\r\n\r\n\r\nI&#39;ve installed gradle locally on my windows PC and I try to run execute `gradle clean` command\r\n\r\n    C:\\work\\onsolve\\acadia&gt;gradle clean\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\work\\****\\build.gradle&#39; line: 7\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;a****a&#39;.\r\n    &gt; Could not get unknown property &#39;prop1&#39; for Credentials [username: null] of type org.gradle.internal.credentials.DefaultPasswordCredentials_Decorated.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 3s\r\n\r\nBut if I copy `gradle.properties` from **GRADLE_USER_HOME**(C:\\Users\\***\\.gradle) to the project folder - error disappears. \r\n\r\nSome additional info from cmd:\r\n\r\n    C:\\work\\onsolve\\acadia&gt;gradle -v\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 6.9\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2021-05-07 07:28:53 UTC\r\n    Revision:     afe2e24ababc7b0213ccffff44970aa18035fc0e\r\n    \r\n    Kotlin:       1.4.20\r\n    Groovy:       2.5.12\r\n    Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\n    JVM:          1.8.0_291 (Oracle Corporation 25.291-b10)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\n\r\n    C:\\work\\***\\***&gt;set GRADLE_USER_HOME\r\n    GRADLE_USER_HOME=C:\\Users\\***\\.gradle\r\n\r\nWhat have I missed ?\r\n\r\n**P.S.**\r\n\r\nsnippet from **build.gradle**:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            maven {\r\n                url &quot;https://artifactory.***.****.com/artifactory/maven&quot; \r\n                credentials {\r\n                    username = &quot;${artifactory_user}&quot;\r\n                    password = &quot;${artifactory_password}&quot;\r\n                }\r\n            }\r\n        }\r\n        ...\r\n\r\n**gradle.properties** :\r\n\r\n    org.gradle.daemon=false\r\n    artifactory_user=****\r\n    artifactory_password=****","title":"Gradle doesn&#39;t see gradle.properties from GRADLE_USER_HOME","body":"<p><strong>CAUTION</strong>: I've read all topics with the same error but didn't found the way to fix</p>\n<p>I've installed gradle locally on my windows PC and I try to run execute <code>gradle clean</code> command</p>\n<pre><code>C:\\work\\onsolve\\acadia&gt;gradle clean\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\work\\****\\build.gradle' line: 7\n\n* What went wrong:\nA problem occurred evaluating root project 'a****a'.\n&gt; Could not get unknown property 'prop1' for Credentials [username: null] of type org.gradle.internal.credentials.DefaultPasswordCredentials_Decorated.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n</code></pre>\n<p>But if I copy <code>gradle.properties</code> from <strong>GRADLE_USER_HOME</strong>(C:\\Users***.gradle) to the project folder - error disappears.</p>\n<p>Some additional info from cmd:</p>\n<pre><code>C:\\work\\onsolve\\acadia&gt;gradle -v\n\n------------------------------------------------------------\nGradle 6.9\n------------------------------------------------------------\n\nBuild time:   2021-05-07 07:28:53 UTC\nRevision:     afe2e24ababc7b0213ccffff44970aa18035fc0e\n\nKotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          1.8.0_291 (Oracle Corporation 25.291-b10)\nOS:           Windows 10 10.0 amd64\n\n\nC:\\work\\***\\***&gt;set GRADLE_USER_HOME\nGRADLE_USER_HOME=C:\\Users\\***\\.gradle\n</code></pre>\n<p>What have I missed ?</p>\n<p><strong>P.S.</strong></p>\n<p>snippet from <strong>build.gradle</strong>:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        maven {\n            url &quot;https://artifactory.***.****.com/artifactory/maven&quot; \n            credentials {\n                username = &quot;${artifactory_user}&quot;\n                password = &quot;${artifactory_password}&quot;\n            }\n        }\n    }\n    ...\n</code></pre>\n<p><strong>gradle.properties</strong> :</p>\n<pre><code>org.gradle.daemon=false\nartifactory_user=****\nartifactory_password=****\n</code></pre>\n"},{"tags":["java","jvm","bytecode"],"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1354888507,"post_id":13764238,"comment_id":18920356,"body_markdown":"As per you comment, there could be scenario in which invokespecial is required while invoking private method.","body":"As per you comment, there could be scenario in which invokespecial is required while invoking private method."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1354888666,"post_id":13764238,"comment_id":18920435,"body_markdown":"possible duplicate of [Method invocation of invokespecial and invokeinterface](http://stackoverflow.com/questions/13721111/method-invocation-of-invokespecial-and-invokeinterface)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/13721111/method-invocation-of-invokespecial-and-invokeinterface\">Method invocation of invokespecial and invokeinterface</a>"}],"answers":[{"comments":[{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":6,"creation_date":1359744475,"post_id":13764338,"comment_id":20475263,"body_markdown":"Unless of course you&#39;re doing a super call and the target class has the ACC_SUPER flag (which every modern class will).","body":"Unless of course you&#39;re doing a super call and the target class has the ACC_SUPER flag (which every modern class will)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1631172216,"post_id":13764338,"comment_id":122152218,"body_markdown":"@Antimony and which Java&#160;8 and newer will assume even when its not present.","body":"@Antimony and which Java 8 and newer will assume even when its not present."},{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":0,"creation_date":1631229811,"post_id":13764338,"comment_id":122173547,"body_markdown":"IIRC they also back ported that to Java 7u51, not that it matters nowadays.","body":"IIRC they also back ported that to Java 7u51, not that it matters nowadays."}],"tags":[],"owner":{"account_id":444729,"reputation":27341,"user_id":836738,"display_name":"Tim Pote"},"comment_count":3,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1681858303,"creation_date":1354888008,"answer_id":13764338,"question_id":13764238,"body_markdown":"From [this site](https://www.jrebel.com/blog/using-objects-and-calling-methods-in-java-bytecode)\r\n\r\n&gt;The answer can be easily found if one reads the Java VM Spec carefully:\r\n&gt;\r\n&gt;&gt;The difference between the invokespecial and the invokevirtual instructions is that invokevirtual invokes a method based on the class of the object. The invokespecial instruction is used to invoke instance initialization methods as well as private methods and methods of a superclass of the current class.\r\n&gt;\r\n&gt;In other words, invokespecial is used to call methods without concern for dynamic binding, in order to invoke the particular class version of a method.\r\n\r\nThere are several cases where its important to dispatch a method call &quot;without concern for dynamic binding&quot;:\r\n\r\nFirst, when chaining from one constructor to a super-class constructor.\r\n\r\nSecond, as in `super.foo()` when calling from a method to a super-class&#39;s implementation.  If the class, or any sub-class of it overrode that method, then *invokevirtual* would go to the wrong place.\r\n\r\nThird, when a class wants to pick which `default` version of a method to use as in\r\n\r\n    interface I { void f(); }\r\n    interface J extends I { default void f() { ... } }\r\n    interface K extends I { default void f() { ... } }\r\n    class C implements J, K {\r\n      @Override public void f() { K.super.f(); }\r\n    }\r\n\r\n`class C` above has a diamond inheritance problem, so it needs to pick which default method to invoke.  *invokespecial* allows it to dispatch to `K`&#39;s version, but if `K.super.f` dispatched via *invokevirtual* the call would end up back at `C.f`.","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p>From <a href=\"https://www.jrebel.com/blog/using-objects-and-calling-methods-in-java-bytecode\" rel=\"nofollow noreferrer\">this site</a></p>\n<blockquote>\n<p>The answer can be easily found if one reads the Java VM Spec carefully:</p>\n<blockquote>\n<p>The difference between the invokespecial and the invokevirtual instructions is that invokevirtual invokes a method based on the class of the object. The invokespecial instruction is used to invoke instance initialization methods as well as private methods and methods of a superclass of the current class.</p>\n</blockquote>\n<p>In other words, invokespecial is used to call methods without concern for dynamic binding, in order to invoke the particular class version of a method.</p>\n</blockquote>\n<p>There are several cases where its important to dispatch a method call &quot;without concern for dynamic binding&quot;:</p>\n<p>First, when chaining from one constructor to a super-class constructor.</p>\n<p>Second, as in <code>super.foo()</code> when calling from a method to a super-class's implementation.  If the class, or any sub-class of it overrode that method, then <em>invokevirtual</em> would go to the wrong place.</p>\n<p>Third, when a class wants to pick which <code>default</code> version of a method to use as in</p>\n<pre><code>interface I { void f(); }\ninterface J extends I { default void f() { ... } }\ninterface K extends I { default void f() { ... } }\nclass C implements J, K {\n  @Override public void f() { K.super.f(); }\n}\n</code></pre>\n<p><code>class C</code> above has a diamond inheritance problem, so it needs to pick which default method to invoke.  <em>invokespecial</em> allows it to dispatch to <code>K</code>'s version, but if <code>K.super.f</code> dispatched via <em>invokevirtual</em> the call would end up back at <code>C.f</code>.</p>\n"},{"comments":[{"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"score":4,"creation_date":1376151431,"post_id":13764775,"comment_id":26608923,"body_markdown":"I can think of no good reason to have code like this. This is [*hiding*](http://docs.oracle.com/javase/tutorial/java/IandI/override.html), and any good IDE will give you a warning or error if you do this. The subtle difference between the two `interestingMethod` signatures is enough to confuse the reader as to what&#39;s happening.","body":"I can think of no good reason to have code like this. This is <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\"><i>hiding</i></a>, and any good IDE will give you a warning or error if you do this. The subtle difference between the two <code>interestingMethod</code> signatures is enough to confuse the reader as to what&#39;s happening."},{"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"score":7,"creation_date":1477790346,"post_id":13764775,"comment_id":67905846,"body_markdown":"@wchargin For example, this might happen when Superclass is a library class that you extend. Maybe you don&#39;t even have its source code. You certainly don&#39;t care about its private methods. It&#39;s quite possible that you add a method to Subclass that happens to have the same name as a private method in Superclass.","body":"@wchargin For example, this might happen when Superclass is a library class that you extend. Maybe you don&#39;t even have its source code. You certainly don&#39;t care about its private methods. It&#39;s quite possible that you add a method to Subclass that happens to have the same name as a private method in Superclass."},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":2,"creation_date":1519232900,"post_id":13764775,"comment_id":84829560,"body_markdown":"For other readers:  Also keep in mind that the Java _language_ has rules and restrictions that the _JVM_ does not.  The above is a very good example of &quot;what kind of source code might produce the kind of bytecode being discussed,&quot; but that doesn&#39;t mean it&#39;s good software engineering.  :-)   For that matter, such source code wouldn&#39;t have to be in Java, merely some language that can be compiled to JVM bytecode.","body":"For other readers:  Also keep in mind that the Java <i>language</i> has rules and restrictions that the <i>JVM</i> does not.  The above is a very good example of &quot;what kind of source code might produce the kind of bytecode being discussed,&quot; but that doesn&#39;t mean it&#39;s good software engineering.  :-)   For that matter, such source code wouldn&#39;t have to be in Java, merely some language that can be compiled to JVM bytecode."},{"owner":{"account_id":3505103,"reputation":1768,"user_id":2930795,"display_name":"Alfred Xiao"},"score":1,"creation_date":1599388249,"post_id":13764775,"comment_id":112754439,"body_markdown":"I thought the same that &#39;Had it been `invokevirtual` when Superclass calls `interestingMethod()` from `exampleMethod()`. But actually did an experiment by modifying bytecode in `Superclass.class` file by replacing `invokespecial` with `invokevirtual`, the output from running `Java Subclass` is still &quot;Superclass&#39;s interesting method.&quot;\nAlso, found that JDK 11 actually compiles Superclass with bytecode instruction `invokevirtual` directly! While JDK 8 still compiles with `invokespecial`","body":"I thought the same that &#39;Had it been <code>invokevirtual</code> when Superclass calls <code>interestingMethod()</code> from <code>exampleMethod()</code>. But actually did an experiment by modifying bytecode in <code>Superclass.class</code> file by replacing <code>invokespecial</code> with <code>invokevirtual</code>, the output from running <code>Java Subclass</code> is still &quot;Superclass&#39;s interesting method.&quot; Also, found that JDK 11 actually compiles Superclass with bytecode instruction <code>invokevirtual</code> directly! While JDK 8 still compiles with <code>invokespecial</code>"},{"owner":{"account_id":3505103,"reputation":1768,"user_id":2930795,"display_name":"Alfred Xiao"},"score":0,"creation_date":1599388689,"post_id":13764775,"comment_id":112754526,"body_markdown":"So I think it does NOT matter in this particular case wither it is `invokespecial` or `invokevirtual`, because the method being called is a private function, which JVM will check and make a decision to not dispatch based on class.","body":"So I think it does NOT matter in this particular case wither it is <code>invokespecial</code> or <code>invokevirtual</code>, because the method being called is a private function, which JVM will check and make a decision to not dispatch based on class."}],"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":5,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1376151347,"creation_date":1354889565,"answer_id":13764775,"question_id":13764238,"body_markdown":"http://www.artima.com/underthehood/invocationP.html \r\nThe link above gives valuable examples clearly which addresing my question.\r\n\r\n    class Superclass {\r\n    \r\n        private void interestingMethod() {\r\n            System.out.println(&quot;Superclass&#39;s interesting method.&quot;);\r\n        }\r\n    \r\n        void exampleMethod() {\r\n            interestingMethod();\r\n        }\r\n    }\r\n    \r\n    class Subclass extends Superclass {\r\n    \r\n        void interestingMethod() {\r\n            System.out.println(&quot;Subclass&#39;s interesting method.&quot;);\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            Subclass me = new Subclass();\r\n            me.exampleMethod();\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhen you invoke main() in Subclass as defined above, it must print &quot;Superclass&#39;s interesting method.&quot; If invokevirtual were used, it would print &quot;Subclass&#39;s interesting method.&quot; Why? Because the virtual machine would choose the interestingMethod() to call based on the actual class of the object, which is Subclass. So it will use Subclass&#39;s interestingMethod(). On the other hand, with invokespecial the virtual machine will select the method based on the type of the reference, so Superclass&#39;s version of interestingMethod() will be invoked. \r\n","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p><a href=\"http://www.artima.com/underthehood/invocationP.html\" rel=\"noreferrer\">http://www.artima.com/underthehood/invocationP.html</a> \nThe link above gives valuable examples clearly which addresing my question.</p>\n\n<pre><code>class Superclass {\n\n    private void interestingMethod() {\n        System.out.println(\"Superclass's interesting method.\");\n    }\n\n    void exampleMethod() {\n        interestingMethod();\n    }\n}\n\nclass Subclass extends Superclass {\n\n    void interestingMethod() {\n        System.out.println(\"Subclass's interesting method.\");\n    }\n\n    public static void main(String args[]) {\n        Subclass me = new Subclass();\n        me.exampleMethod();\n    }\n}\n</code></pre>\n\n<p>When you invoke main() in Subclass as defined above, it must print \"Superclass's interesting method.\" If invokevirtual were used, it would print \"Subclass's interesting method.\" Why? Because the virtual machine would choose the interestingMethod() to call based on the actual class of the object, which is Subclass. So it will use Subclass's interestingMethod(). On the other hand, with invokespecial the virtual machine will select the method based on the type of the reference, so Superclass's version of interestingMethod() will be invoked. </p>\n"},{"tags":[],"owner":{"account_id":1652212,"reputation":4898,"user_id":1522554,"accept_rate":24,"display_name":"Maddy Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539066726,"creation_date":1539063292,"answer_id":52713958,"question_id":13764238,"body_markdown":"Thanks for reading out that explanation: Please don&#39;t forget to upvote if it helps you out to identify assembly instruction creation during method call\r\nHere I am explaining static vs dynamic binding.\r\n\r\n\r\nFirst of all I am going to tell you that **invokeStatic, invokeSpecial, invokeVirtual, invokeInterface** etc are the assembly instructions which are generate by the compiler after compilation process.\r\nAs we all knows that we got a .class file format after compilation and we can&#39;t read it out. But java provide a tool for that named **&quot;javap&quot;**.\r\n\r\nWe can read out our .class file assembly instructions by using javap command. By default we can&#39;t see private method assembly instructions so we need to use -private with it. Below are the commands to see java compiler generated assembly instructions:\r\n\r\n 1. Imaging you have A.java class\r\n\r\n    class A\r\n    {\r\n    public void printValue()\r\n    {\r\n    System.out.println(&quot;Inside A&quot;);\r\n    }\r\n    \r\n    public static void callMethod(A a)\r\n    {\r\n    \ta.printValue();\r\n    }\r\n    }\r\n\r\n 2. open cmd prompt and go to the folder which contains that java file A.java.\r\n\r\n 3. run javac A.java.\r\n\r\n 4. Now A.class file is generated which contains assembly instructions but you can&#39;t read it.\r\n\r\n 5. Now run javap -c A\r\n\r\n 6. You can see assembly generation for your method call --&gt; **a.printValue();**\r\n\r\n 7. If printValue( ) method is private you need to use javap -c -private A .\r\n\r\n 8. You can make your printValue( ) private / static / public / private static both.\r\n\r\n 9. One more thing to keep in mind that first compiler check the object on which the  method is getting called. Then find its Class Type and found that method in that class if available or not.\r\n\r\n**Note :** Now keep in mind that if our calling method is static then invokeStatic assembly is generated, if its private then invokeSpecial assembly instruction is generated and if its public then invokeVirtual instruction is generated. public method never mean that every time invokeVirtual instruction is generated. In case of super.printValue() call from the subclass of A is exceptional case. i.e. if A is parent class for B and B contains the same method printValue() then it will generate invokeVirtual(dynamic) but if printValue() in B have super.printValue() as its first statement then invokeStatic is generated even if printValue() of A is public.\r\n\r\nLet&#39;s try this too:\r\n\r\n    class B extends A\r\n    {\r\n    public void printValue()\r\n    {\r\n    super.printValue();// invokeStatic\r\n    System.out.println(&quot;Inside B&quot;);\r\n    }\r\n    \r\n    }\r\n    \r\n    public class Test\r\n    {\r\n    public static void main(String[] arr)\r\n    {\r\n    \tA a = new A();\r\n    \tB b = new B();\r\n    \tA.callMethod(a);// invokeVirtual\r\n    \tA.callMethod(b);// invokeVirtual\r\n    }\r\n    }\r\n\r\n**--&gt; save it by Test.java\r\n--&gt; run javac Test.java\r\n--&gt; javap -c -private Test**\r\n\r\n","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p>Thanks for reading out that explanation: Please don't forget to upvote if it helps you out to identify assembly instruction creation during method call\nHere I am explaining static vs dynamic binding.</p>\n\n<p>First of all I am going to tell you that <strong>invokeStatic, invokeSpecial, invokeVirtual, invokeInterface</strong> etc are the assembly instructions which are generate by the compiler after compilation process.\nAs we all knows that we got a .class file format after compilation and we can't read it out. But java provide a tool for that named <strong>\"javap\"</strong>.</p>\n\n<p>We can read out our .class file assembly instructions by using javap command. By default we can't see private method assembly instructions so we need to use -private with it. Below are the commands to see java compiler generated assembly instructions:</p>\n\n<ol>\n<li><p>Imaging you have A.java class</p>\n\n<p>class A\n{\npublic void printValue()\n{\nSystem.out.println(\"Inside A\");\n}</p>\n\n<p>public static void callMethod(A a)\n{\n    a.printValue();\n}\n}</p></li>\n<li><p>open cmd prompt and go to the folder which contains that java file A.java.</p></li>\n<li><p>run javac A.java.</p></li>\n<li><p>Now A.class file is generated which contains assembly instructions but you can't read it.</p></li>\n<li><p>Now run javap -c A</p></li>\n<li><p>You can see assembly generation for your method call --> <strong>a.printValue();</strong></p></li>\n<li><p>If printValue( ) method is private you need to use javap -c -private A .</p></li>\n<li><p>You can make your printValue( ) private / static / public / private static both.</p></li>\n<li><p>One more thing to keep in mind that first compiler check the object on which the  method is getting called. Then find its Class Type and found that method in that class if available or not.</p></li>\n</ol>\n\n<p><strong>Note :</strong> Now keep in mind that if our calling method is static then invokeStatic assembly is generated, if its private then invokeSpecial assembly instruction is generated and if its public then invokeVirtual instruction is generated. public method never mean that every time invokeVirtual instruction is generated. In case of super.printValue() call from the subclass of A is exceptional case. i.e. if A is parent class for B and B contains the same method printValue() then it will generate invokeVirtual(dynamic) but if printValue() in B have super.printValue() as its first statement then invokeStatic is generated even if printValue() of A is public.</p>\n\n<p>Let's try this too:</p>\n\n<pre><code>class B extends A\n{\npublic void printValue()\n{\nsuper.printValue();// invokeStatic\nSystem.out.println(\"Inside B\");\n}\n\n}\n\npublic class Test\n{\npublic static void main(String[] arr)\n{\n    A a = new A();\n    B b = new B();\n    A.callMethod(a);// invokeVirtual\n    A.callMethod(b);// invokeVirtual\n}\n}\n</code></pre>\n\n<p><strong>--> save it by Test.java\n--> run javac Test.java\n--> javap -c -private Test</strong></p>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18858,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":13764775,"answer_count":3,"score":62,"last_activity_date":1693495576,"creation_date":1354887569,"question_id":13764238,"body_markdown":"There are three opcodes to invoke Java methods. It is clear that invokeStatic is just for static method invocation.\r\n\r\nAs far as I know invokespecial is used when invoking constructor and private methods. So, do we need to differenticate private and public method invocation at run time? It could be invoked with same opcode say invokevirtual?\r\n\r\nDoes JVM deals with private and public method definition? As far as I know  public and private keywords is just needed at development phase for encapsulation?\r\n","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p>There are three opcodes to invoke Java methods. It is clear that invokeStatic is just for static method invocation.</p>\n\n<p>As far as I know invokespecial is used when invoking constructor and private methods. So, do we need to differenticate private and public method invocation at run time? It could be invoked with same opcode say invokevirtual?</p>\n\n<p>Does JVM deals with private and public method definition? As far as I know  public and private keywords is just needed at development phase for encapsulation?</p>\n"},{"tags":["java","apache-spark","apache-spark-encoders"],"answers":[{"comments":[{"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"score":0,"creation_date":1693380957,"post_id":77005764,"comment_id":135751390,"body_markdown":"I was thinking that the Bean is already a definition of the schema and writing a select would have been a duplication of the information to maintain in sync, therefore I was expecting Encoders were solving those issues. Would it be sound to extract the schema from the bean like `Arrays.stream(MyBean.class.getDeclaredFields()).map(x -&gt; String.format(&quot;%s %s&quot;, x.getName(), x.getType())).collect(Collectors.joining(&quot;,&quot;));` to use with the Schema argument of the load method of a `DataframeReader` ?","body":"I was thinking that the Bean is already a definition of the schema and writing a select would have been a duplication of the information to maintain in sync, therefore I was expecting Encoders were solving those issues. Would it be sound to extract the schema from the bean like <code>Arrays.stream(MyBean.class.getDeclaredFields()).map(x -&gt; String.format(&quot;%s %s&quot;, x.getName(), x.getType())).collect(Collectors.joining(&quot;,&quot;));</code> to use with the Schema argument of the load method of a <code>DataframeReader</code> ?"}],"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693380245,"creation_date":1693380245,"answer_id":77005764,"question_id":77005599,"body_markdown":"If you use `select` after `spark.read.parquet`, only the selected columns will be read, not the others.\r\n\r\nTherefore, athough it is a bit more verbose,\r\n```java\r\nds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).as(Encoders.bean(MyBean.class)\r\n```\r\nshould achieve what you want.\r\n\r\nFeel free to try `ds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).explain()` and check that the `ReadSchema` only contains the selected columns. Note that the same goes for filters. If you filter just after reading a parquet file, the filter will be &quot;pushed&quot; and only the selected rows will be read.","title":"Using java spark encoder bean to create a typed subset of a Dataset&lt;Row&gt;","body":"<p>If you use <code>select</code> after <code>spark.read.parquet</code>, only the selected columns will be read, not the others.</p>\n<p>Therefore, athough it is a bit more verbose,</p>\n<pre class=\"lang-java prettyprint-override\"><code>ds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).as(Encoders.bean(MyBean.class)\n</code></pre>\n<p>should achieve what you want.</p>\n<p>Feel free to try <code>ds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).explain()</code> and check that the <code>ReadSchema</code> only contains the selected columns. Note that the same goes for filters. If you filter just after reading a parquet file, the filter will be &quot;pushed&quot; and only the selected rows will be read.</p>\n"},{"comments":[{"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"score":0,"creation_date":1693470658,"post_id":77009735,"comment_id":135766171,"body_markdown":"Sorry I didn&#39;t understand what you meant with .map(identity, beanEncoder) ? What would be &quot;identity&quot; here ? Judging by the function signature it&#39;s a function inputing and outputing the bean type ?\n\nIf Encorders are lazy, why didn&#39;t a count() solved the issue ? Is it a different &quot;moment of lazyness&quot; than the Dataset itself ?","body":"Sorry I didn&#39;t understand what you meant with .map(identity, beanEncoder) ? What would be &quot;identity&quot; here ? Judging by the function signature it&#39;s a function inputing and outputing the bean type ?  If Encorders are lazy, why didn&#39;t a count() solved the issue ? Is it a different &quot;moment of lazyness&quot; than the Dataset itself ?"},{"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"score":0,"creation_date":1693472617,"post_id":77009735,"comment_id":135766581,"body_markdown":"identity functions are just a -&gt; a, spark has no way to generically know you didn&#39;t change anything so it invokes the decode and encode logic.  count() doesn&#39;t need to do anything with an encoder so it fits the lazy definition.  It&#39;s an extra level of lazy on top of the dataset, as you saw with count","body":"identity functions are just a -&gt; a, spark has no way to generically know you didn&#39;t change anything so it invokes the decode and encode logic.  count() doesn&#39;t need to do anything with an encoder so it fits the lazy definition.  It&#39;s an extra level of lazy on top of the dataset, as you saw with count"},{"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"score":0,"creation_date":1693473737,"post_id":77009735,"comment_id":135766816,"body_markdown":"I tinkered a bit with the idea and figured it out, thanks a lot","body":"I tinkered a bit with the idea and figured it out, thanks a lot"}],"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693495378,"creation_date":1693411472,"answer_id":77009735,"question_id":77005599,"body_markdown":"You didn&#39;t misunderstand or miss anything about Encoders except perhaps that they, like Datasets, are also lazily involved.  If you manually create the setters and put breakpoints on them they&#39;ll not be called with a simple as().show.\r\n\r\nIn fact you can just use `read.as(beanEncoder).map(identity, beanEncoder).show` and see that it&#39;s only using those columns.\r\n\r\nSimilar to Oli&#39;s point if you do `.explain` on the result of just &quot;as&quot; (with no select to reduce fields), you&#39;ll see all the fields mentioned in the `LocalRelation` or `Scan` results. Add the map and explain and you&#39;ll see the fields in the bean.\r\n\r\nUsing a dataset, even after using `.as`, will let you select fields that aren&#39;t in your mean as well, it&#39;s only really becoming just the bean after something which forces the read structure to change.\r\n\r\n","title":"Using java spark encoder bean to create a typed subset of a Dataset&lt;Row&gt;","body":"<p>You didn't misunderstand or miss anything about Encoders except perhaps that they, like Datasets, are also lazily involved.  If you manually create the setters and put breakpoints on them they'll not be called with a simple as().show.</p>\n<p>In fact you can just use <code>read.as(beanEncoder).map(identity, beanEncoder).show</code> and see that it's only using those columns.</p>\n<p>Similar to Oli's point if you do <code>.explain</code> on the result of just &quot;as&quot; (with no select to reduce fields), you'll see all the fields mentioned in the <code>LocalRelation</code> or <code>Scan</code> results. Add the map and explain and you'll see the fields in the bean.</p>\n<p>Using a dataset, even after using <code>.as</code>, will let you select fields that aren't in your mean as well, it's only really becoming just the bean after something which forces the read structure to change.</p>\n"}],"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009735,"answer_count":2,"score":0,"last_activity_date":1693495378,"creation_date":1693378671,"question_id":77005599,"body_markdown":"I read a parquet file and I get a Dataset&lt;Row&gt; containing 57 columns. \r\n\r\n`Dataset&lt;Row&gt; ds = spark.read().parquet(locations);`\r\n\r\nI would like to use a custom type instead of Row. I have defined a java bean such as \r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class MyBean implements Serializable {\r\n        MyBean (){ }\r\n        private String col1;\r\n        private String col2;\r\n        private String col3;\r\n     }\r\n\r\nThe field names are perfectly matching the column names in the parquet file (which is annoying because they are in snake case and I would like camelCase in my POJO but that&#39;s not the main issue here).\r\n\r\n\r\nTo convert `Dataset&lt;Row&gt;` to `Dataset&lt;MyBean&gt;` I use `ds.as(Encoders.bean(MyBean.class)`\r\n\r\nHowever if I try to `show` the `Dataset&lt;MyBean&gt;` produced it has all 57 columns. I was expecting 3 columns corresponding to MyBean, hoping it would only read the pieces of the parquet that are of interest to me. \r\n\r\nAt first I thought `as` was a transformation and not an action but `show` is definitely an action, and I also tried .cache().count() beforehand just in case.\r\n\r\nWhat am I missing about Encoders here ?","title":"Using java spark encoder bean to create a typed subset of a Dataset&lt;Row&gt;","body":"<p>I read a parquet file and I get a Dataset containing 57 columns.</p>\n<p><code>Dataset&lt;Row&gt; ds = spark.read().parquet(locations);</code></p>\n<p>I would like to use a custom type instead of Row. I have defined a java bean such as</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\nimport java.io.Serializable;\n\n@Getter\n@Setter\npublic class MyBean implements Serializable {\n    MyBean (){ }\n    private String col1;\n    private String col2;\n    private String col3;\n }\n</code></pre>\n<p>The field names are perfectly matching the column names in the parquet file (which is annoying because they are in snake case and I would like camelCase in my POJO but that's not the main issue here).</p>\n<p>To convert <code>Dataset&lt;Row&gt;</code> to <code>Dataset&lt;MyBean&gt;</code> I use <code>ds.as(Encoders.bean(MyBean.class)</code></p>\n<p>However if I try to <code>show</code> the <code>Dataset&lt;MyBean&gt;</code> produced it has all 57 columns. I was expecting 3 columns corresponding to MyBean, hoping it would only read the pieces of the parquet that are of interest to me.</p>\n<p>At first I thought <code>as</code> was a transformation and not an action but <code>show</code> is definitely an action, and I also tried .cache().count() beforehand just in case.</p>\n<p>What am I missing about Encoders here ?</p>\n"},{"tags":["java","kotlin","generics"],"answers":[{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693495305,"creation_date":1693495305,"answer_id":77017221,"question_id":76980105,"body_markdown":"finally, I solved this issue with such an approach:\r\n\r\n    private fun&lt;X: Operation.Data, Y, Z: Operation.Variables&gt; getCallFrom(query: Query&lt;X, Y, Z&gt;): ApolloQueryCall&lt;Y&gt;? = apolloClient.query(query)","title":"How to make a general function for Appollo call?","body":"<p>finally, I solved this issue with such an approach:</p>\n<pre><code>private fun&lt;X: Operation.Data, Y, Z: Operation.Variables&gt; getCallFrom(query: Query&lt;X, Y, Z&gt;): ApolloQueryCall&lt;Y&gt;? = apolloClient.query(query)\n</code></pre>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77017221,"answer_count":1,"score":-1,"last_activity_date":1693495305,"creation_date":1692992392,"question_id":76980105,"body_markdown":"There is such a code:\r\n\r\n```\r\n    fun getCallFrom(query: Query&lt;*, *, *&gt;): ApolloQueryCall&lt;out Any?&gt; = apolloClient.query(query)\r\n\r\n    fun test() {\r\n        val response1: com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt; = apolloClient.query(\r\n            MyTestQuery(&quot;test&quot;)\r\n        ).await()\r\n        \r\n        val response2: com.apollographql.apollo.api.Response&lt;out Any?&gt; = getCallFrom(\r\n            MyTestQuery(&quot;test&quot;)\r\n        ).await()\r\n    }\r\n```\r\n\r\nYou can see in the `test()` function there are two `responses` (`response1 &amp; response2`) the differences in the type of the responses as for the first one I used `appoloClient.query` and for the second one I used my general function. \r\n\r\nThe problem is that I need to get the same result type from my general function as for the `response1` (`com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt;`).\r\n\r\nI tried to play with different types of passing instead of the `*`, however, nothing worked.\r\n\r\nThe question is - what am I missing here?","title":"How to make a general function for Appollo call?","body":"<p>There is such a code:</p>\n<pre><code>    fun getCallFrom(query: Query&lt;*, *, *&gt;): ApolloQueryCall&lt;out Any?&gt; = apolloClient.query(query)\n\n    fun test() {\n        val response1: com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt; = apolloClient.query(\n            MyTestQuery(&quot;test&quot;)\n        ).await()\n        \n        val response2: com.apollographql.apollo.api.Response&lt;out Any?&gt; = getCallFrom(\n            MyTestQuery(&quot;test&quot;)\n        ).await()\n    }\n</code></pre>\n<p>You can see in the <code>test()</code> function there are two <code>responses</code> (<code>response1 &amp; response2</code>) the differences in the type of the responses as for the first one I used <code>appoloClient.query</code> and for the second one I used my general function.</p>\n<p>The problem is that I need to get the same result type from my general function as for the <code>response1</code> (<code>com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt;</code>).</p>\n<p>I tried to play with different types of passing instead of the <code>*</code>, however, nothing worked.</p>\n<p>The question is - what am I missing here?</p>\n"},{"tags":["java","spring-boot","tomcat","netty"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1693495684,"post_id":77016667,"comment_id":135771666,"body_markdown":"with tomcat you can exclude as you did and and netty-handler(5.0.0.Alpah1) maybe it&#39;ll work.","body":"with tomcat you can exclude as you did and and netty-handler(5.0.0.Alpah1) maybe it&#39;ll work."}],"owner":{"account_id":3867185,"reputation":1489,"user_id":3203447,"accept_rate":94,"display_name":"JTK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693494611,"creation_date":1693491131,"question_id":77016667,"body_markdown":"I have a `spring-boot`(3.1.3) application that is using `Webclient` for web requests, by default this is using `Netty` as the embedded web server, there is a vulnerability present in `netty-handler` that I&#39;d like to remove.\r\n\r\nThere is a version of `netty-handler`(5.0.0.Alpah1) that has no flagged vulnerability, I have migrated to `netty-handler`(5.0.0.Alpah1), and it has broken the application:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: io/netty/handler/logging/ByteBufFormat\r\n\r\nIt looks like `Netty 5` is not compatible with `spring-boot-starter-reactor-netty` I have tried overriding other `Netty` dependencies from `spring-boot-starter-reactor-netty`, without success.\r\n\r\n\r\n\r\nReading the `spring-boot` docs, it&#39;s possible to change the embedded web server. \r\n\r\nOut of the 3 other [options][1]: `spring-boot-starter-tomcat`, `spring-boot-starter-jetty`, or `spring-boot-starter-undertow` only `tomcat` has no flagged vulnerability.\r\n\r\nAfter migrating to `spring-boot-starter-tomcat`, \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t &lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI observed, `mvn clean install` hangs on tests, also, when a call is made to another application, using `Webclient` there is an error thrown:\r\n\r\n    org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed \r\n\r\nReading the docs, it appears that even though we can change the embedded web server, `spring-boot-starter-reactor-netty` is required to use the `WebClient` class.\r\n\r\n&quot;[spring-boot-starter-reactor-netty is required to use the `WebClient` class, so you may need to keep a dependency on Netty even when you need to include a different HTTP server][2].&quot;\r\n\r\nAnyway to remove the `netty-handler` vulnerability while still using `WebClient` ?\r\n\r\n\r\n  [1]: https://hantsy.github.io/spring-reactive-sample/start/boot-first.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.webserver.use-another","title":"Remove dependency on netty-handler using WebClient","body":"<p>I have a <code>spring-boot</code>(3.1.3) application that is using <code>Webclient</code> for web requests, by default this is using <code>Netty</code> as the embedded web server, there is a vulnerability present in <code>netty-handler</code> that I'd like to remove.</p>\n<p>There is a version of <code>netty-handler</code>(5.0.0.Alpah1) that has no flagged vulnerability, I have migrated to <code>netty-handler</code>(5.0.0.Alpah1), and it has broken the application:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: io/netty/handler/logging/ByteBufFormat\n</code></pre>\n<p>It looks like <code>Netty 5</code> is not compatible with <code>spring-boot-starter-reactor-netty</code> I have tried overriding other <code>Netty</code> dependencies from <code>spring-boot-starter-reactor-netty</code>, without success.</p>\n<p>Reading the <code>spring-boot</code> docs, it's possible to change the embedded web server.</p>\n<p>Out of the 3 other <a href=\"https://hantsy.github.io/spring-reactive-sample/start/boot-first.html\" rel=\"nofollow noreferrer\">options</a>: <code>spring-boot-starter-tomcat</code>, <code>spring-boot-starter-jetty</code>, or <code>spring-boot-starter-undertow</code> only <code>tomcat</code> has no flagged vulnerability.</p>\n<p>After migrating to <code>spring-boot-starter-tomcat</code>,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n     &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I observed, <code>mvn clean install</code> hangs on tests, also, when a call is made to another application, using <code>Webclient</code> there is an error thrown:</p>\n<pre><code>org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed \n</code></pre>\n<p>Reading the docs, it appears that even though we can change the embedded web server, <code>spring-boot-starter-reactor-netty</code> is required to use the <code>WebClient</code> class.</p>\n<p>&quot;<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.webserver.use-another\" rel=\"nofollow noreferrer\">spring-boot-starter-reactor-netty is required to use the <code>WebClient</code> class, so you may need to keep a dependency on Netty even when you need to include a different HTTP server</a>.&quot;</p>\n<p>Anyway to remove the <code>netty-handler</code> vulnerability while still using <code>WebClient</code> ?</p>\n"},{"tags":["java","kubernetes","ignite"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1693572851,"post_id":77017112,"comment_id":135782625,"body_markdown":"At first glance this one doesn&#39;t look similar to the issue from the user list. It&#39;s not even about &quot;joining&quot;, this node can&#39;t start because of local issues, prior to joining procedures. In general it&#39;s a complex topic, it&#39;s almost impossible to say about the possibility of recovery without analysis of the original failure. Could you share logs prior to the node failure? I&#39;d say it doesn&#39;t look normal, something happened that&#39;s pretty unusual and it was totally unexpected by an Ignite node.","body":"At first glance this one doesn&#39;t look similar to the issue from the user list. It&#39;s not even about &quot;joining&quot;, this node can&#39;t start because of local issues, prior to joining procedures. In general it&#39;s a complex topic, it&#39;s almost impossible to say about the possibility of recovery without analysis of the original failure. Could you share logs prior to the node failure? I&#39;d say it doesn&#39;t look normal, something happened that&#39;s pretty unusual and it was totally unexpected by an Ignite node."}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693494577,"creation_date":1693494577,"question_id":77017112,"body_markdown":"We are using Ignite 2.15 in kubernetes with persistence enabled and have encountered an error where if the Ignite server nodes crash and restart they cannot rejoin the cluster with the error bellow. \r\n\r\nThe issue seems similar to [this error][1].\r\n\r\nIs there a way to fix this issue without loss of data?\r\n\r\n```\r\n[13:30:41,467][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\r\n\t\tclass org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.handleRecordException(AbstractWalRecordsIterator.java:327)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.handleRecordException(FileWriteAheadLogManager.java:3206)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:291)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advance(AbstractWalRecordsIterator.java:176)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:135)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:52)\r\n\t\t\t\tat org.apache.ignite.internal.util.GridCloseableIteratorAdapter.nextX(GridCloseableIteratorAdapter.java:44)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreStateContext.next(GridCacheDatabaseSharedManager.java:3427)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreBinaryState.next(GridCacheDatabaseSharedManager.java:3571)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2186)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:865)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3094)\r\n\t\t\t\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1120)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1725)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1647)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1089)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:983)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:889)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:808)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:678)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:647)\r\n\t\t\t\tat org.apache.ignite.Ignition.start(Ignition.java:325)\r\n\t\t\t\tat org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:365)\r\n\t\tCaused by: class org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:396)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV2Serializer.readRecord(RecordV2Serializer.java:249)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:273)\r\n\t\t\t\t... 20 more\r\n\t\tCaused by: class org.apache.ignite.internal.processors.cache.persistence.wal.crc.IgniteDataIntegrityViolationException: val: 1872793019 writtenCrc: 2013265920\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.io.FileInput$Crc32CheckingFileInput.close(FileInput.java:105)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:381)\r\n\t\t\t\t... 22 more\r\n```\r\n\r\n\r\n  [1]: https://www.mail-archive.com/user@ignite.apache.org/msg22922.html","title":"Ignite Server encounters IgniteDataIntegrityViolationException when trying to join cluster","body":"<p>We are using Ignite 2.15 in kubernetes with persistence enabled and have encountered an error where if the Ignite server nodes crash and restart they cannot rejoin the cluster with the error bellow.</p>\n<p>The issue seems similar to <a href=\"https://www.mail-archive.com/user@ignite.apache.org/msg22922.html\" rel=\"nofollow noreferrer\">this error</a>.</p>\n<p>Is there a way to fix this issue without loss of data?</p>\n<pre><code>[13:30:41,467][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\n        class org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.handleRecordException(AbstractWalRecordsIterator.java:327)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.handleRecordException(FileWriteAheadLogManager.java:3206)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:291)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advance(AbstractWalRecordsIterator.java:176)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:135)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:52)\n                at org.apache.ignite.internal.util.GridCloseableIteratorAdapter.nextX(GridCloseableIteratorAdapter.java:44)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreStateContext.next(GridCacheDatabaseSharedManager.java:3427)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreBinaryState.next(GridCacheDatabaseSharedManager.java:3571)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2186)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:865)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3094)\n                at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1120)\n                at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1725)\n                at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1647)\n                at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1089)\n                at org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:983)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:889)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:808)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:678)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:647)\n                at org.apache.ignite.Ignition.start(Ignition.java:325)\n                at org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:365)\n        Caused by: class org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\n                at org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:396)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV2Serializer.readRecord(RecordV2Serializer.java:249)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:273)\n                ... 20 more\n        Caused by: class org.apache.ignite.internal.processors.cache.persistence.wal.crc.IgniteDataIntegrityViolationException: val: 1872793019 writtenCrc: 2013265920\n                at org.apache.ignite.internal.processors.cache.persistence.wal.io.FileInput$Crc32CheckingFileInput.close(FileInput.java:105)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:381)\n                ... 22 more\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1693489798,"post_id":77016262,"comment_id":135770282,"body_markdown":"To clarify why your question is a duplicate to the linked one: in option 3-4-5 you use `input.nextInt();` which will result in the next `opzione = input.nextLine();` to only read in the carriage return from your previous input. For more information and how to fix this problem see the linked stackoverflow question.","body":"To clarify why your question is a duplicate to the linked one: in option 3-4-5 you use <code>input.nextInt();</code> which will result in the next <code>opzione = input.nextLine();</code> to only read in the carriage return from your previous input. For more information and how to fix this problem see the linked stackoverflow question."},{"owner":{"account_id":29337832,"reputation":1,"user_id":22477858,"display_name":"Bartolomeo Cenisio"},"score":0,"creation_date":1693493517,"post_id":77016262,"comment_id":135771165,"body_markdown":"Yes, I solved it, Thank you very much;","body":"Yes, I solved it, Thank you very much;"}],"answers":[{"comments":[{"owner":{"account_id":29337832,"reputation":1,"user_id":22477858,"display_name":"Bartolomeo Cenisio"},"score":1,"creation_date":1693493094,"post_id":77016589,"comment_id":135771084,"body_markdown":"In the meantime, thanks for the answer, how do you think I can solve this problem?","body":"In the meantime, thanks for the answer, how do you think I can solve this problem?"}],"tags":[],"owner":{"account_id":27162042,"reputation":1,"user_id":20700059,"display_name":"user20700059"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693490578,"creation_date":1693490578,"answer_id":77016589,"question_id":77016262,"body_markdown":"Based on the code you provided, I noticed that after executing the Automobile.stampaOpzioni() method, you use the nextInt() method to read user input. Note that the nextInt() method will only read an integer, but after reading the integer, line breaks may remain in the input stream. This means that the next time input.nextLine() is called, it reads the newline character entered earlier without waiting for the user to enter a new string.","title":"Repeat options menu","body":"<p>Based on the code you provided, I noticed that after executing the Automobile.stampaOpzioni() method, you use the nextInt() method to read user input. Note that the nextInt() method will only read an integer, but after reading the integer, line breaks may remain in the input stream. This means that the next time input.nextLine() is called, it reads the newline character entered earlier without waiting for the user to enter a new string.</p>\n"}],"owner":{"account_id":29337832,"reputation":1,"user_id":22477858,"display_name":"Bartolomeo Cenisio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693512283,"answer_count":1,"score":0,"last_activity_date":1693494451,"creation_date":1693488270,"question_id":77016262,"body_markdown":"I&#39;m encountering an issue in this program that I&#39;m unable to explain. Specifically, when I select options 3, 4, or 5 and complete the operation, the options menu gets printed on the screen twice. \r\n\r\nI&#39;ve attempted to address this by using both `if` statements and `switch case` statements, but the problem persists.\r\n\r\n**This is the Class:**\r\n\r\n\r\n    package esercizio4;\r\n    \r\n    public class Automobile {\r\n    \t\r\n    \tprivate String marca;\r\n    \tprivate String modello;\r\n    \tprivate double benzina;\r\n    \tprivate boolean accesa;\r\n    \tprivate double velocita;\r\n    \t\r\n    \tpublic Automobile(String marca, String modello) {\r\n    \t\tthis.marca = marca;\r\n    \t\tthis.modello = modello;\r\n    \t\tsetBenzina(1);\r\n    \t\tsetAccesa(false);\r\n    \t\tsetVelocita(0);\r\n    \t}\r\n    \t\r\n    \tpublic String getMarca() {\r\n    \t\treturn marca;\r\n    \t}\r\n    \t\r\n    \tpublic void setMarca(String marca) {\r\n    \t\tthis.marca = marca;\r\n    \t}\r\n    \t\r\n    \tpublic String getModello() {\r\n    \t\treturn modello;\r\n    \t}\r\n    \t\r\n    \tpublic void setModello(String modello) {\r\n    \t\tthis.modello = modello;\r\n    \t}\r\n    \t\r\n    \tpublic double getBenzina() {\r\n    \t\treturn benzina;\r\n    \t}\r\n    \t\r\n    \tpublic void setBenzina(double benzina) {\r\n    \t\tthis.benzina = benzina;\r\n    \t}\r\n    \t\r\n    \tpublic boolean getAccesa() {\r\n    \t\treturn accesa;\r\n    \t}\r\n    \t\r\n    \tpublic void setAccesa(boolean accesa) {\r\n    \t\tthis.accesa = accesa;\r\n    \t}\r\n    \t\r\n    \tpublic double getVelocita() {\r\n    \t\treturn velocita;\r\n    \t}\r\n    \t\r\n    \tpublic void setVelocita(double velocita) {\r\n    \t\tthis.velocita = velocita;\r\n    \t}\r\n    \t\r\n    \tpublic void accendi() {\r\n    \t\tif(getAccesa() == false &amp;&amp; benzina &gt; 0) {\r\n    \t\t\tsetAccesa(true);\r\n    \t\t\tSystem.out.println(&quot;Hai acceso la macchina&quot;);\r\n    \t\t} \r\n    \t\telse if(getAccesa() == true){ \r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; gi&#224; accesa&quot;);\r\n    \t\t}\r\n    \t\telse if(getAccesa() == false &amp;&amp; benzina == 0) {\r\n    \t\t\tSystem.out.println(&quot;Errore: non c&#39;&#232; benzina&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void spegni() {\r\n    \t\tif(getAccesa() == true) {\r\n    \t\t\tsetAccesa(false);\r\n    \t\t\tSystem.out.println(&quot;Hai spento la macchina&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; gi&#224; spenta&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean isAccesa() {\r\n    \t\tif(getAccesa() == true) {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; accesa&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; spenta&quot;);\r\n    \t\t}\r\n    \t\treturn accesa;\r\n    \t}\r\n    \t\r\n    \tpublic void addBenzina(int benzina) { //Problema: ripropone 2 volte il menu opzioni\r\n    \t\tint livMaxSerbatoio = 10;\r\n    \t\tif (benzina &lt; livMaxSerbatoio) {\r\n    \t\t\tthis.benzina += benzina;\r\n    \t\t\tSystem.out.println(&quot;Hai inserito &quot; + benzina + &quot; litri&quot;);\r\n    \t\t} \r\n    \t\telse if(benzina &gt; livMaxSerbatoio){\r\n    \t\t\tSystem.out.println(&quot;Non c&#39;&#232; abbastanza spazio&quot;);\r\n    \t\t} \r\n    \t}\r\n    \t\r\n    \tpublic void viewBenzina() {\r\n    \t\tif(getBenzina() == 10) {\r\n    \t\t\tSystem.out.println(&quot;Il serbatoio &#232; pieno: 10 litri presenti&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Il livello di benzina &#232;: &quot; + getBenzina() + &quot; litri&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t//DA MIGLIORARE\r\n    \tpublic void accelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\r\n    \t\tif(velocita &lt; 200 &amp;&amp; accesa == true) {\r\n    \t\t\tsetVelocita(getVelocita() + kmh);\r\n    \t\t\tSystem.out.println(&quot;Hai accelerato di &quot; + kmh + &quot;kmh&quot;);\r\n    \t\t\tSystem.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\r\n    \t\t}\r\n    \t\tif(accesa == false) {\r\n    \t\t\tSystem.out.println(&quot;Errore: la macchina &#232; spenta&quot;);\r\n    \t\t}\r\n    \t\telse if(velocita &gt; 200 &amp;&amp; accesa == true) {\r\n    \t\t\tSystem.out.println(&quot;Errore: non puoi andare a piu di 200 kmh&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t//DA MIGLIORARE\r\n    \tpublic void decelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\r\n    \t\tif(velocita &gt; 0 &amp;&amp; accesa == true) {\r\n    \t\t\tsetVelocita(getVelocita() - kmh);\r\n    \t\t\tSystem.out.println(&quot;Hai decelerato di &quot; + kmh + &quot;kmh&quot;);\r\n    \t\t\tSystem.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\r\n    \t\t}\r\n    \t\tif(accesa == false) {\r\n    \t\t\tSystem.out.println(&quot;Errore: la macchina &#232; spenta&quot;);\r\n    \t\t}\r\n    \t\telse if(kmh &gt; getVelocita()) {\r\n    \t\t\tsetVelocita(0);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void ferma() {\r\n    \t\tif(velocita &gt; 0 &amp;&amp; accesa == true) {\t\r\n    \t\t\tfor(int i = (int) getVelocita(); i &gt;= 0; i--) {\r\n    \t\t\t\tsetVelocita(i);\r\n    \t\t\t\t//System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot; kmh&quot;);\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Ti sei fermato&quot;);\r\n    \t\t} else {\t\r\n    \t\t\tSystem.out.println(&quot;Sei gi&#224; fermo&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean isInMoto() {\r\n    \t\tif(getVelocita() &gt; 0) {\r\n    \t\t\tSystem.out.println(&quot;La macchina sta andando a &quot; + getVelocita() + &quot; kmh&quot;);\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; ferma&quot;);\r\n    \t\t}\t\t\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic String toString() {\r\n    \t\tString toString = &quot;Informazioni:&quot; + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Marca: &quot; + getMarca() + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Modello: &quot; + getModello() + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Livello serbatoio: &quot; + getBenzina() + &quot; litri \\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Stato accensione: &quot; + getAccesa() + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Velocit&#224;: &quot; + getVelocita() + &quot; kmh&quot;;\t\t\r\n    \t\treturn toString;\r\n    \t}\r\n    \t\r\n    \tpublic static void stampaOpzioni() {\r\n    \t\tSystem.out.println(&quot;Premi 1 per accendere la macchina&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 2 per spegnere la macchina&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 3 per aggiungere la benzina&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 4 per accelerare&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 5 per decelerare&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 6 per fermarti&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 7 per visualizzare lo stato attuale&quot;);\r\n    \t\tSystem.out.println(&quot;Premi EXIT per terminare la simulazione&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is the ClassTest:**\r\n\r\n    package esercizio4;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class TestAutomobile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Benvenuto in questa sessione di simulazione di guida&quot;);\r\n    \t\tSystem.out.println(&quot;Crea la tua macchina&quot;);\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Inserisci la marca&quot;);\r\n    \t\tString marca = input.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Inserisci il modello&quot;);\r\n    \t\tString modello = input.nextLine();\r\n    \t\t\r\n    \t\tAutomobile auto = new Automobile(marca, modello);\r\n    \t\t\r\n    \t\tString opzione = &quot;&quot;;\r\n    \t\twhile(!opzione.equalsIgnoreCase(&quot;exit&quot;)) {\r\n    \r\n    \t\t\tAutomobile.stampaOpzioni();\t\t\t\r\n    \t\t\t\r\n    \t\t\topzione = input.nextLine();\r\n    \t\t\t\r\n    \t\t\tswitch(opzione) {\r\n    \t\t\t\tcase &quot;1&quot;:\r\n    \t\t\t\t\tauto.accendi();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;2&quot;:\r\n    \t\t\t\t\tauto.spegni();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;3&quot;:\r\n    \t\t\t\t\tSystem.out.println(&quot;Quanta benzina vuoi aggiungere? (capienza max 10 litri)&quot;);\r\n    \t\t\t\t\tint benzina = input.nextInt();\r\n    \t\t\t\t\tauto.addBenzina(benzina);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;4&quot;:\r\n    \t\t\t\t\tSystem.out.println(&quot;Di quanto vuoi accelerare? (velocit&#224; max 200 kmh)&quot;);\r\n    \t\t\t\t\tint kmh = input.nextInt();\r\n    \t\t\t\t\tauto.accelera(kmh);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;5&quot;:\r\n    \t\t\t\t\tSystem.out.println(&quot;Di quanto vuoi decelerare?&quot;);\r\n    \t\t\t\t\t kmh = input.nextInt();\r\n    \t\t\t\t\tauto.decelera(kmh);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;6&quot;:\r\n    \t\t\t\t\tauto.ferma();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;7&quot;:\r\n    \t\t\t\t\tSystem.out.println(auto);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}//Chiusura while\r\n    \t\t\r\n    \t\tinput.close();\r\n    \t\tSystem.out.println(&quot;Hai terminato la simulazione&quot;);\r\n    \t\tSystem.out.println(&quot;Arrivederci&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is what it appears to me:**\r\n\r\n\r\n&gt; Benvenuto in questa sessione di simulazione di guida Crea la tua\r\n&gt; macchina &lt;br&gt; Inserisci la marca&lt;br&gt; Fiat&lt;br&gt; Inserisci il modello&lt;br&gt;\r\n&gt; Punto&lt;br&gt; Premi 1 per accendere la macchina&lt;br&gt; Premi 2 per spegnere\r\n&gt; la macchina&lt;br&gt; Premi 3 per aggiungere la benzina&lt;br&gt; Premi 4 per\r\n&gt; accelerare&lt;br&gt; Premi 5 per decelerare&lt;br&gt; Premi 6 per fermarti&lt;br&gt;\r\n&gt; Premi 7 per visualizzare lo stato attuale&lt;br&gt; Premi 3 EXIT per\r\n&gt; terminare la simulazione&lt;br&gt; Quanta benzina vuoi aggiungere? (capienza\r\n&gt; max 10 litri)&lt;br&gt; Hai inserito 8 litri&lt;br&gt; Premi 1 per accendere la\r\n&gt; macchina&lt;br&gt; Premi 2 per spegnere la macchina&lt;br&gt; Premi 3 per\r\n&gt; aggiungere la benzina&lt;br&gt; Premi 4 per accelerare&lt;br&gt; Premi 5 per\r\n&gt; decelerare&lt;br&gt; Premi 6 per fermarti&lt;br&gt; Premi 7 per visualizzare lo\r\n&gt; stato attuale&lt;br&gt; Premi EXIT per terminare la simulazione&lt;br&gt; Premi 1\r\n&gt; per accendere la macchina&lt;br&gt; Premi 2 per spegnere la macchina&lt;br&gt;\r\n&gt; Premi 3 per aggiungere la benzina&lt;br&gt; Premi 4 per accelerare&lt;br&gt; Premi\r\n&gt; 5 per decelerare&lt;br&gt; Premi 6 per fermarti&lt;br&gt; Premi 7 per visualizzare\r\n&gt; lo stato attuale&lt;br&gt; Premi EXIT per terminare la simulazione&lt;br&gt;\r\n\r\n","title":"Repeat options menu","body":"<p>I'm encountering an issue in this program that I'm unable to explain. Specifically, when I select options 3, 4, or 5 and complete the operation, the options menu gets printed on the screen twice.</p>\n<p>I've attempted to address this by using both <code>if</code> statements and <code>switch case</code> statements, but the problem persists.</p>\n<p><strong>This is the Class:</strong></p>\n<pre><code>package esercizio4;\n\npublic class Automobile {\n    \n    private String marca;\n    private String modello;\n    private double benzina;\n    private boolean accesa;\n    private double velocita;\n    \n    public Automobile(String marca, String modello) {\n        this.marca = marca;\n        this.modello = modello;\n        setBenzina(1);\n        setAccesa(false);\n        setVelocita(0);\n    }\n    \n    public String getMarca() {\n        return marca;\n    }\n    \n    public void setMarca(String marca) {\n        this.marca = marca;\n    }\n    \n    public String getModello() {\n        return modello;\n    }\n    \n    public void setModello(String modello) {\n        this.modello = modello;\n    }\n    \n    public double getBenzina() {\n        return benzina;\n    }\n    \n    public void setBenzina(double benzina) {\n        this.benzina = benzina;\n    }\n    \n    public boolean getAccesa() {\n        return accesa;\n    }\n    \n    public void setAccesa(boolean accesa) {\n        this.accesa = accesa;\n    }\n    \n    public double getVelocita() {\n        return velocita;\n    }\n    \n    public void setVelocita(double velocita) {\n        this.velocita = velocita;\n    }\n    \n    public void accendi() {\n        if(getAccesa() == false &amp;&amp; benzina &gt; 0) {\n            setAccesa(true);\n            System.out.println(&quot;Hai acceso la macchina&quot;);\n        } \n        else if(getAccesa() == true){ \n            System.out.println(&quot;La macchina  gi accesa&quot;);\n        }\n        else if(getAccesa() == false &amp;&amp; benzina == 0) {\n            System.out.println(&quot;Errore: non c' benzina&quot;);\n        }\n    }\n    \n    public void spegni() {\n        if(getAccesa() == true) {\n            setAccesa(false);\n            System.out.println(&quot;Hai spento la macchina&quot;);\n        } else {\n            System.out.println(&quot;La macchina  gi spenta&quot;);\n        }\n    }\n    \n    public boolean isAccesa() {\n        if(getAccesa() == true) {\n            System.out.println(&quot;La macchina  accesa&quot;);\n        } else {\n            System.out.println(&quot;La macchina  spenta&quot;);\n        }\n        return accesa;\n    }\n    \n    public void addBenzina(int benzina) { //Problema: ripropone 2 volte il menu opzioni\n        int livMaxSerbatoio = 10;\n        if (benzina &lt; livMaxSerbatoio) {\n            this.benzina += benzina;\n            System.out.println(&quot;Hai inserito &quot; + benzina + &quot; litri&quot;);\n        } \n        else if(benzina &gt; livMaxSerbatoio){\n            System.out.println(&quot;Non c' abbastanza spazio&quot;);\n        } \n    }\n    \n    public void viewBenzina() {\n        if(getBenzina() == 10) {\n            System.out.println(&quot;Il serbatoio  pieno: 10 litri presenti&quot;);\n        } else {\n            System.out.println(&quot;Il livello di benzina : &quot; + getBenzina() + &quot; litri&quot;);\n        }\n    }\n    //DA MIGLIORARE\n    public void accelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\n        if(velocita &lt; 200 &amp;&amp; accesa == true) {\n            setVelocita(getVelocita() + kmh);\n            System.out.println(&quot;Hai accelerato di &quot; + kmh + &quot;kmh&quot;);\n            System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\n        }\n        if(accesa == false) {\n            System.out.println(&quot;Errore: la macchina  spenta&quot;);\n        }\n        else if(velocita &gt; 200 &amp;&amp; accesa == true) {\n            System.out.println(&quot;Errore: non puoi andare a piu di 200 kmh&quot;);\n        }\n    }\n    //DA MIGLIORARE\n    public void decelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\n        if(velocita &gt; 0 &amp;&amp; accesa == true) {\n            setVelocita(getVelocita() - kmh);\n            System.out.println(&quot;Hai decelerato di &quot; + kmh + &quot;kmh&quot;);\n            System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\n        }\n        if(accesa == false) {\n            System.out.println(&quot;Errore: la macchina  spenta&quot;);\n        }\n        else if(kmh &gt; getVelocita()) {\n            setVelocita(0);\n        }\n    }\n    \n    public void ferma() {\n        if(velocita &gt; 0 &amp;&amp; accesa == true) {    \n            for(int i = (int) getVelocita(); i &gt;= 0; i--) {\n                setVelocita(i);\n                //System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot; kmh&quot;);               \n            }\n            System.out.println(&quot;Ti sei fermato&quot;);\n        } else {    \n            System.out.println(&quot;Sei gi fermo&quot;);\n        }\n    }\n    \n    public boolean isInMoto() {\n        if(getVelocita() &gt; 0) {\n            System.out.println(&quot;La macchina sta andando a &quot; + getVelocita() + &quot; kmh&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;La macchina  ferma&quot;);\n        }       \n        return false;\n    }\n    \n    public String toString() {\n        String toString = &quot;Informazioni:&quot; + &quot;\\n&quot; +\n                          &quot;Marca: &quot; + getMarca() + &quot;\\n&quot; +\n                          &quot;Modello: &quot; + getModello() + &quot;\\n&quot; +\n                          &quot;Livello serbatoio: &quot; + getBenzina() + &quot; litri \\n&quot; +\n                          &quot;Stato accensione: &quot; + getAccesa() + &quot;\\n&quot; +\n                          &quot;Velocit: &quot; + getVelocita() + &quot; kmh&quot;;        \n        return toString;\n    }\n    \n    public static void stampaOpzioni() {\n        System.out.println(&quot;Premi 1 per accendere la macchina&quot;);\n        System.out.println(&quot;Premi 2 per spegnere la macchina&quot;);\n        System.out.println(&quot;Premi 3 per aggiungere la benzina&quot;);\n        System.out.println(&quot;Premi 4 per accelerare&quot;);\n        System.out.println(&quot;Premi 5 per decelerare&quot;);\n        System.out.println(&quot;Premi 6 per fermarti&quot;);\n        System.out.println(&quot;Premi 7 per visualizzare lo stato attuale&quot;);\n        System.out.println(&quot;Premi EXIT per terminare la simulazione&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>This is the ClassTest:</strong></p>\n<pre><code>package esercizio4;\n\nimport java.util.Scanner;\n\npublic class TestAutomobile {\n\n    public static void main(String[] args) {\n        \n        System.out.println(&quot;Benvenuto in questa sessione di simulazione di guida&quot;);\n        System.out.println(&quot;Crea la tua macchina&quot;);\n        \n        Scanner input = new Scanner(System.in);\n        \n        System.out.println(&quot;Inserisci la marca&quot;);\n        String marca = input.nextLine();\n        \n        System.out.println(&quot;Inserisci il modello&quot;);\n        String modello = input.nextLine();\n        \n        Automobile auto = new Automobile(marca, modello);\n        \n        String opzione = &quot;&quot;;\n        while(!opzione.equalsIgnoreCase(&quot;exit&quot;)) {\n\n            Automobile.stampaOpzioni();         \n            \n            opzione = input.nextLine();\n            \n            switch(opzione) {\n                case &quot;1&quot;:\n                    auto.accendi();\n                    break;\n                case &quot;2&quot;:\n                    auto.spegni();\n                    break;\n                case &quot;3&quot;:\n                    System.out.println(&quot;Quanta benzina vuoi aggiungere? (capienza max 10 litri)&quot;);\n                    int benzina = input.nextInt();\n                    auto.addBenzina(benzina);\n                    break;\n                case &quot;4&quot;:\n                    System.out.println(&quot;Di quanto vuoi accelerare? (velocit max 200 kmh)&quot;);\n                    int kmh = input.nextInt();\n                    auto.accelera(kmh);\n                    break;\n                case &quot;5&quot;:\n                    System.out.println(&quot;Di quanto vuoi decelerare?&quot;);\n                     kmh = input.nextInt();\n                    auto.decelera(kmh);\n                    break;\n                case &quot;6&quot;:\n                    auto.ferma();\n                    break;\n                case &quot;7&quot;:\n                    System.out.println(auto);\n                    break;\n            }\n        }//Chiusura while\n        \n        input.close();\n        System.out.println(&quot;Hai terminato la simulazione&quot;);\n        System.out.println(&quot;Arrivederci&quot;);\n        \n        \n    }\n\n}\n</code></pre>\n<p><strong>This is what it appears to me:</strong></p>\n<blockquote>\n<p>Benvenuto in questa sessione di simulazione di guida Crea la tua\nmacchina <br> Inserisci la marca<br> Fiat<br> Inserisci il modello<br>\nPunto<br> Premi 1 per accendere la macchina<br> Premi 2 per spegnere\nla macchina<br> Premi 3 per aggiungere la benzina<br> Premi 4 per\naccelerare<br> Premi 5 per decelerare<br> Premi 6 per fermarti<br>\nPremi 7 per visualizzare lo stato attuale<br> Premi 3 EXIT per\nterminare la simulazione<br> Quanta benzina vuoi aggiungere? (capienza\nmax 10 litri)<br> Hai inserito 8 litri<br> Premi 1 per accendere la\nmacchina<br> Premi 2 per spegnere la macchina<br> Premi 3 per\naggiungere la benzina<br> Premi 4 per accelerare<br> Premi 5 per\ndecelerare<br> Premi 6 per fermarti<br> Premi 7 per visualizzare lo\nstato attuale<br> Premi EXIT per terminare la simulazione<br> Premi 1\nper accendere la macchina<br> Premi 2 per spegnere la macchina<br>\nPremi 3 per aggiungere la benzina<br> Premi 4 per accelerare<br> Premi\n5 per decelerare<br> Premi 6 per fermarti<br> Premi 7 per visualizzare\nlo stato attuale<br> Premi EXIT per terminare la simulazione<br></p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693488708,"post_id":77016210,"comment_id":135769984,"body_markdown":"Indeed. After reinstall the file does not belong to the app anymore hence can not be deleted in the classic way. But you can use SAF to let the user choose the file. ACTION_,OPEN_DOCUMENT.","body":"Indeed. After reinstall the file does not belong to the app anymore hence can not be deleted in the classic way. But you can use SAF to let the user choose the file. ACTION_,OPEN_DOCUMENT."},{"owner":{"account_id":7900776,"reputation":3946,"user_id":5967872,"display_name":"KYL3R"},"score":0,"creation_date":1693488790,"post_id":77016210,"comment_id":135770015,"body_markdown":"In Android 13 you need the Permission-Dialog for deleting Images. The dialog is automatically shown when using the ContentResolver afaik","body":"In Android 13 you need the Permission-Dialog for deleting Images. The dialog is automatically shown when using the ContentResolver afaik"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693488796,"post_id":77016210,"comment_id":135770017,"body_markdown":"It makes no sense to use mkdirs() if you want to delete a file.","body":"It makes no sense to use mkdirs() if you want to delete a file."},{"owner":{"account_id":10974707,"reputation":441,"user_id":8063735,"display_name":"Ashwin Nirmale"},"score":0,"creation_date":1695819700,"post_id":77016210,"comment_id":136074893,"body_markdown":"Check out this answer : https://stackoverflow.com/a/75033288/8063735","body":"Check out this answer : <a href=\"https://stackoverflow.com/a/75033288/8063735\">stackoverflow.com/a/75033288/8063735</a>"}],"answers":[{"tags":[],"owner":{"account_id":29261463,"reputation":55,"user_id":22418346,"display_name":"rahim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693494322,"creation_date":1693494322,"answer_id":77017077,"question_id":77016210,"body_markdown":"I modified the code like this, I will check if the file is not deleted, I will use a random name and save this name in the app, and I will use this name many times later.","title":"Delete file in Android 13","body":"<p>I modified the code like this, I will check if the file is not deleted, I will use a random name and save this name in the app, and I will use this name many times later.</p>\n"}],"owner":{"account_id":29261463,"reputation":55,"user_id":22418346,"display_name":"rahim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77017077,"answer_count":1,"score":1,"last_activity_date":1693494322,"creation_date":1693488050,"question_id":77016210,"body_markdown":"I create a png file in the &quot;/Pictures/test/test.png&quot; folder and sometimes I delete it and create a new file and it works fine.\r\n\r\nBut when I delete the app and reinstall it, I can no longer delete the file\r\n\r\nIf I delete the png file by myself once, the app will work again\r\n\r\nI think the app can only delete the files it created and sometimes when I reinstall the app, Android recognizes the app as a stranger.\r\n\r\n    file = new File(Environment.getExternalStorageDirectory(),FolderName);\r\n        if (!file.exists()){\r\n            file.mkdirs();\r\n            if (file.isDirectory()){\r\n               Toast.makeText(this, &quot;Folder created&quot;, Toast.LENGTH_SHORT).show();\r\n            }else{\r\n              Toast.makeText(this, &quot;Folder creation failed&quot;, Toast.LENGTH_SHORT).show();}}\r\n        if (file.exists()){\r\n            File out_c_file= new File(file,FileName);\r\n            if(out_c_file.exists()){out_c_file.delete();}\r\n\r\nThis problem does not exist in Android 6","title":"Delete file in Android 13","body":"<p>I create a png file in the &quot;/Pictures/test/test.png&quot; folder and sometimes I delete it and create a new file and it works fine.</p>\n<p>But when I delete the app and reinstall it, I can no longer delete the file</p>\n<p>If I delete the png file by myself once, the app will work again</p>\n<p>I think the app can only delete the files it created and sometimes when I reinstall the app, Android recognizes the app as a stranger.</p>\n<pre><code>file = new File(Environment.getExternalStorageDirectory(),FolderName);\n    if (!file.exists()){\n        file.mkdirs();\n        if (file.isDirectory()){\n           Toast.makeText(this, &quot;Folder created&quot;, Toast.LENGTH_SHORT).show();\n        }else{\n          Toast.makeText(this, &quot;Folder creation failed&quot;, Toast.LENGTH_SHORT).show();}}\n    if (file.exists()){\n        File out_c_file= new File(file,FileName);\n        if(out_c_file.exists()){out_c_file.delete();}\n</code></pre>\n<p>This problem does not exist in Android 6</p>\n"},{"tags":["java","spring-boot","compression","gzip"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693494982,"post_id":77017072,"comment_id":135771528,"body_markdown":"Basically a duplicate https://stackoverflow.com/q/62784408/2541560","body":"Basically a duplicate <a href=\"https://stackoverflow.com/q/62784408/2541560\">stackoverflow.com/q/62784408/2541560</a>"}],"owner":{"account_id":6210880,"reputation":21,"user_id":4837199,"display_name":"Ana Bel&#233;n Gonz&#225;lez Villalba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693494296,"creation_date":1693494296,"question_id":77017072,"body_markdown":"\r\n\r\n\r\n\r\n\r\n\r\nI am working with a Spring Boot application with TomCat embedded and I need to decompres the request that I am receiving in gzip. The request is compress with palo.gzip request and returning a type data Uint8array, and I need to decompress. \r\n\r\nI have changed the bellow settings on the project\r\n\r\n    server.tomcat.compression=on\r\nserver.tomcat.compressableMimeTypes=application/json,test/csv, application/xml,text/html,text/xml,text/plain\r\nserver.compression.enabled=false\r\nserver.compression.mime-types=application/json,test/csv, application/xml,text/html,text/xml,text/plain\r\n\r\n\r\nI have create a filter to decompress the code\r\n\r\n    public class GzipBodyDecompressFilter extends Filter {\r\n    \r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        \r\n    }\r\n    /**\r\n     * Analyzes servlet request for possible gzipped body.\r\n     * When Content-Encoding header has &quot;gzip&quot; value and request method is POST we read all the\r\n     * gzipped stream and is it haz any data unzip it. In case when gzip Content-Encoding header\r\n     * specified but body is not actually in gzip format we will throw ZipException.\r\n     *\r\n     * @param servletRequest  servlet request\r\n     * @param servletResponse servlet response\r\n     * @param chain           filter chain\r\n     * @throws IOException      throws when fails\r\n     * @throws ServletException thrown when fails\r\n     */\r\n    @Override\r\n    public final void doFilter(final ServletRequest servletRequest,\r\n                               final ServletResponse servletResponse,\r\n                               final FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n        boolean isGzipped = request.getHeader(HttpHeaders.CONTENT_ENCODING) != null\r\n                &amp;&amp; request.getHeader(HttpHeaders.CONTENT_ENCODING).contains(&quot;gzip&quot;);\r\n        boolean requestTypeSupported = HttpMethods.POST.equals(request.getMethod());\r\n        if (isGzipped &amp;&amp; !requestTypeSupported) {\r\n            throw new IllegalStateException(request.getMethod()\r\n                    + &quot; is not supports gzipped body of parameters.&quot;\r\n                    + &quot; Only POST requests are currently supported.&quot;);\r\n        }\r\n        if (isGzipped &amp;&amp; requestTypeSupported) {\r\n            request = new GzippedInputStreamWrapper((HttpServletRequest) servletRequest);\r\n        }\r\n        chain.doFilter(request, response);\r\n\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     */\r\n    @Override\r\n    public final void destroy() {\r\n    }\r\n\r\n    /**\r\n     * Wrapper class that detects if the request is gzipped and ungzipps it.\r\n     */\r\n    final class GzippedInputStreamWrapper extends HttpServletRequestWrapper {\r\n        /**\r\n         * Default encoding that is used when post parameters are parsed.\r\n         */\r\n        public static final String DEFAULT_ENCODING = &quot;ISO-8859-1&quot;;\r\n\r\n        /**\r\n         * Serialized bytes array that is a result of unzipping gzipped body.\r\n         */\r\n        private byte[] bytes;\r\n\r\n        /**\r\n         * Constructs a request object wrapping the given request.\r\n         * In case if Content-Encoding contains &quot;gzip&quot; we wrap the input stream into byte array\r\n         * to original input stream has nothing in it but hew wrapped input stream always returns\r\n         * reproducible ungzipped input stream.\r\n         *\r\n         * @param request request which input stream will be wrapped.\r\n         * @throws java.io.IOException when input stream reqtieval failed.\r\n         */\r\n        public GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\r\n            super(request);\r\n            try {\r\n                final InputStream in = new GZIPInputStream(request.getInputStream());\r\n                bytes = ByteStreams.toByteArray(in);\r\n            } catch (EOFException e) {\r\n                bytes = new byte[0];\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @return reproduceable input stream that is either equal to initial servlet input\r\n         * stream(if it was not zipped) or returns unzipped input stream.\r\n         * @throws IOException if fails.\r\n         */\r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            final ByteArrayInputStream sourceStream = new ByteArrayInputStream(bytes);\r\n            return new ServletInputStream() {\r\n                public int read() throws IOException {\r\n                    return sourceStream.read();\r\n                }\r\n\r\n                public void close() throws IOException {\r\n                    super.close();\r\n                    sourceStream.close();\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Need to override getParametersMap because we initially read the whole input stream and\r\n         * servlet container won&#39;t have access to the input stream data.\r\n         *\r\n         * @return parsed parameters list. Parameters get parsed only when Content-Type\r\n         * &quot;application/x-www-form-urlencoded&quot; is set.\r\n         */\r\n        @Override\r\n        public Map getParameterMap() {\r\n            String contentEncodingHeader = getHeader(HttpHeaders.CONTENT_TYPE);\r\n            if (!Strings.isNullOrEmpty(contentEncodingHeader)\r\n                    &amp;&amp; contentEncodingHeader.contains(&quot;application/x-www-form-urlencoded&quot;)) {\r\n                Map params = new HashMap(super.getParameterMap());\r\n                try {\r\n                    params.putAll(parseParams(new String(bytes)));\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return params;\r\n            } else {\r\n                return super.getParameterMap();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * parses params from the byte input stream.\r\n         *\r\n         * @param body request body serialized to string.\r\n         * @return parsed parameters map.\r\n         * @throws UnsupportedEncodingException if encoding provided is not supported.\r\n         */\r\n        private Map&lt;String, String[]&gt; parseParams(final String body)\r\n                throws UnsupportedEncodingException {\r\n            String characterEncoding = getCharacterEncoding();\r\n            if (null == characterEncoding) {\r\n                characterEncoding = DEFAULT_ENCODING;\r\n            }\r\n            final Multimap&lt;String, String&gt; parameters = ArrayListMultimap.create();\r\n            for (String pair : body.split(&quot;&amp;&quot;)) {\r\n                if (Strings.isNullOrEmpty(pair)) {\r\n                    continue;\r\n                }\r\n                int idx = pair.indexOf(&quot;=&quot;);\r\n\r\n                String key = null;\r\n                if (idx &gt; 0) {\r\n                    key = URLDecoder.decode(pair.substring(0, idx), characterEncoding);\r\n                } else {\r\n                    key = pair;\r\n                }\r\n                String value = null;\r\n                if (idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1) {\r\n                    value = URLDecoder.decode(pair.substring(idx + 1), characterEncoding);\r\n                } else {\r\n                    value = null;\r\n                }\r\n                parameters.put(key, value);\r\n            }\r\n            return Maps.transformValues(parameters.asMap(),\r\n                    new Function&lt;Collection&lt;String&gt;, String[]&gt;() {\r\n                        @Nullable\r\n                        @Override\r\n                        public String[] apply(final Collection&lt;String&gt; input) {\r\n                            return Iterables.toArray(input, String.class);\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nWhen I received the request, I am always getting this error :\r\n&quot;Not in GZIP format&quot;\r\n\r\nI am debugging and the error is here:\r\n\r\n    CheckedInputStream in = new CheckedInputStream(this_in, crc);\r\n        crc.reset();\r\n        // Check header magic\r\n        if (readUShort(in) != GZIP_MAGIC) {\r\n            throw new ZipException(&quot;Not in GZIP format&quot;);\r\n        }\r\n\r\nreadUShort(in) is 8752 and it should be GZIP_MAGIC=35615\r\n\r\nDo you have some idea why it&#39;s not working?\r\n\r\n\r\n","title":"How can I decompress request on Spring Boot with Tomcat?","body":"<p>I am working with a Spring Boot application with TomCat embedded and I need to decompres the request that I am receiving in gzip. The request is compress with palo.gzip request and returning a type data Uint8array, and I need to decompress.</p>\n<p>I have changed the bellow settings on the project</p>\n<pre><code>server.tomcat.compression=on\n</code></pre>\n<p>server.tomcat.compressableMimeTypes=application/json,test/csv, application/xml,text/html,text/xml,text/plain\nserver.compression.enabled=false\nserver.compression.mime-types=application/json,test/csv, application/xml,text/html,text/xml,text/plain</p>\n<p>I have create a filter to decompress the code</p>\n<pre><code>public class GzipBodyDecompressFilter extends Filter {\n\n@Override\npublic void init(FilterConfig filterConfig) throws ServletException {\n    \n}\n/**\n * Analyzes servlet request for possible gzipped body.\n * When Content-Encoding header has &quot;gzip&quot; value and request method is POST we read all the\n * gzipped stream and is it haz any data unzip it. In case when gzip Content-Encoding header\n * specified but body is not actually in gzip format we will throw ZipException.\n *\n * @param servletRequest  servlet request\n * @param servletResponse servlet response\n * @param chain           filter chain\n * @throws IOException      throws when fails\n * @throws ServletException thrown when fails\n */\n@Override\npublic final void doFilter(final ServletRequest servletRequest,\n                           final ServletResponse servletResponse,\n                           final FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest request = (HttpServletRequest) servletRequest;\n    HttpServletResponse response = (HttpServletResponse) servletResponse;\n    boolean isGzipped = request.getHeader(HttpHeaders.CONTENT_ENCODING) != null\n            &amp;&amp; request.getHeader(HttpHeaders.CONTENT_ENCODING).contains(&quot;gzip&quot;);\n    boolean requestTypeSupported = HttpMethods.POST.equals(request.getMethod());\n    if (isGzipped &amp;&amp; !requestTypeSupported) {\n        throw new IllegalStateException(request.getMethod()\n                + &quot; is not supports gzipped body of parameters.&quot;\n                + &quot; Only POST requests are currently supported.&quot;);\n    }\n    if (isGzipped &amp;&amp; requestTypeSupported) {\n        request = new GzippedInputStreamWrapper((HttpServletRequest) servletRequest);\n    }\n    chain.doFilter(request, response);\n\n}\n\n/**\n * @inheritDoc\n */\n@Override\npublic final void destroy() {\n}\n\n/**\n * Wrapper class that detects if the request is gzipped and ungzipps it.\n */\nfinal class GzippedInputStreamWrapper extends HttpServletRequestWrapper {\n    /**\n     * Default encoding that is used when post parameters are parsed.\n     */\n    public static final String DEFAULT_ENCODING = &quot;ISO-8859-1&quot;;\n\n    /**\n     * Serialized bytes array that is a result of unzipping gzipped body.\n     */\n    private byte[] bytes;\n\n    /**\n     * Constructs a request object wrapping the given request.\n     * In case if Content-Encoding contains &quot;gzip&quot; we wrap the input stream into byte array\n     * to original input stream has nothing in it but hew wrapped input stream always returns\n     * reproducible ungzipped input stream.\n     *\n     * @param request request which input stream will be wrapped.\n     * @throws java.io.IOException when input stream reqtieval failed.\n     */\n    public GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\n        super(request);\n        try {\n            final InputStream in = new GZIPInputStream(request.getInputStream());\n            bytes = ByteStreams.toByteArray(in);\n        } catch (EOFException e) {\n            bytes = new byte[0];\n        }\n    }\n\n\n    /**\n     * @return reproduceable input stream that is either equal to initial servlet input\n     * stream(if it was not zipped) or returns unzipped input stream.\n     * @throws IOException if fails.\n     */\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        final ByteArrayInputStream sourceStream = new ByteArrayInputStream(bytes);\n        return new ServletInputStream() {\n            public int read() throws IOException {\n                return sourceStream.read();\n            }\n\n            public void close() throws IOException {\n                super.close();\n                sourceStream.close();\n            }\n        };\n    }\n\n    /**\n     * Need to override getParametersMap because we initially read the whole input stream and\n     * servlet container won't have access to the input stream data.\n     *\n     * @return parsed parameters list. Parameters get parsed only when Content-Type\n     * &quot;application/x-www-form-urlencoded&quot; is set.\n     */\n    @Override\n    public Map getParameterMap() {\n        String contentEncodingHeader = getHeader(HttpHeaders.CONTENT_TYPE);\n        if (!Strings.isNullOrEmpty(contentEncodingHeader)\n                &amp;&amp; contentEncodingHeader.contains(&quot;application/x-www-form-urlencoded&quot;)) {\n            Map params = new HashMap(super.getParameterMap());\n            try {\n                params.putAll(parseParams(new String(bytes)));\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n            return params;\n        } else {\n            return super.getParameterMap();\n        }\n    }\n\n    /**\n     * parses params from the byte input stream.\n     *\n     * @param body request body serialized to string.\n     * @return parsed parameters map.\n     * @throws UnsupportedEncodingException if encoding provided is not supported.\n     */\n    private Map&lt;String, String[]&gt; parseParams(final String body)\n            throws UnsupportedEncodingException {\n        String characterEncoding = getCharacterEncoding();\n        if (null == characterEncoding) {\n            characterEncoding = DEFAULT_ENCODING;\n        }\n        final Multimap&lt;String, String&gt; parameters = ArrayListMultimap.create();\n        for (String pair : body.split(&quot;&amp;&quot;)) {\n            if (Strings.isNullOrEmpty(pair)) {\n                continue;\n            }\n            int idx = pair.indexOf(&quot;=&quot;);\n\n            String key = null;\n            if (idx &gt; 0) {\n                key = URLDecoder.decode(pair.substring(0, idx), characterEncoding);\n            } else {\n                key = pair;\n            }\n            String value = null;\n            if (idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1) {\n                value = URLDecoder.decode(pair.substring(idx + 1), characterEncoding);\n            } else {\n                value = null;\n            }\n            parameters.put(key, value);\n        }\n        return Maps.transformValues(parameters.asMap(),\n                new Function&lt;Collection&lt;String&gt;, String[]&gt;() {\n                    @Nullable\n                    @Override\n                    public String[] apply(final Collection&lt;String&gt; input) {\n                        return Iterables.toArray(input, String.class);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>}</p>\n<p>When I received the request, I am always getting this error :\n&quot;Not in GZIP format&quot;</p>\n<p>I am debugging and the error is here:</p>\n<pre><code>CheckedInputStream in = new CheckedInputStream(this_in, crc);\n    crc.reset();\n    // Check header magic\n    if (readUShort(in) != GZIP_MAGIC) {\n        throw new ZipException(&quot;Not in GZIP format&quot;);\n    }\n</code></pre>\n<p>readUShort(in) is 8752 and it should be GZIP_MAGIC=35615</p>\n<p>Do you have some idea why it's not working?</p>\n"},{"tags":["java","future"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":2,"creation_date":1693492849,"post_id":77016784,"comment_id":135771026,"body_markdown":"Have a look at `CompletableFuture`.","body":"Have a look at <code>CompletableFuture</code>."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1693494593,"post_id":77016784,"comment_id":135771435,"body_markdown":"Your sketch will block until all tasks are complete. Is that what you want? If so, what is the point of submitting a task and getting a `Future` in the first place? You could just run the tasks yourself in the current thread.","body":"Your sketch will block until all tasks are complete. Is that what you want? If so, what is the point of submitting a task and getting a <code>Future</code> in the first place? You could just run the tasks yourself in the current thread."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1693494823,"post_id":77016784,"comment_id":135771485,"body_markdown":"I believe the second example (using `CompletableFuture`) I gave [in my answer here](https://stackoverflow.com/a/826283/3474) does what you want. If your question is different, please edit to distinguish it from the proposed duplicate, reply to me, and we can re-open.","body":"I believe the second example (using <code>CompletableFuture</code>) I gave <a href=\"https://stackoverflow.com/a/826283/3474\">in my answer here</a> does what you want. If your question is different, please edit to distinguish it from the proposed duplicate, reply to me, and we can re-open."}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693494737,"answer_count":0,"score":0,"last_activity_date":1693494237,"creation_date":1693492033,"question_id":77016784,"body_markdown":"I am learning Java Future API. I want to write a generic Future handler code that gets any value from a Future and passes it to a callback function. To elaborate, if below is a generic function that handles Future objects:\r\n\r\n    private static &lt;T&gt; void genericFutureHandler(List&lt;Future&lt;T&gt;&gt; futures, CompletionAction completionAction) throws InterruptedException {\r\n      for (Future&lt;T&gt; f : futures) {\r\n        if (f.isDone()) {\r\n           try {\r\n             T iter = f.get();\r\n             completionAction.showCompletedTaskNumber(iter);\r\n           } catch (ExecutionException e) {\r\n             e.printStackTrace();\r\n           }\r\n       }\r\n    }\r\n\r\nI want my callback to be like:\r\n\r\n    class TaskStatusCompletionAction implements CompletionAction {\r\n    \r\n        @Override\r\n        public void showCompletedTaskNumber(int taskNumber) {\r\n            System.out.println(&quot;Task number : &quot;+taskNumber+&quot; completed&quot;);\r\n        }\r\n    }\r\n    \r\n    interface CompletionAction {\r\n        void showCompletedTaskNumber(int taskNumber);\r\n    }\r\n\r\nHow can I write/design code that transparently handles all future objects, gets their completed value and hands if off to the provided callback? Is anything like that possible or I am asking wrong question?","title":"How to pass generic value returned from Future object to a callback function with specific parameter type","body":"<p>I am learning Java Future API. I want to write a generic Future handler code that gets any value from a Future and passes it to a callback function. To elaborate, if below is a generic function that handles Future objects:</p>\n<pre><code>private static &lt;T&gt; void genericFutureHandler(List&lt;Future&lt;T&gt;&gt; futures, CompletionAction completionAction) throws InterruptedException {\n  for (Future&lt;T&gt; f : futures) {\n    if (f.isDone()) {\n       try {\n         T iter = f.get();\n         completionAction.showCompletedTaskNumber(iter);\n       } catch (ExecutionException e) {\n         e.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p>I want my callback to be like:</p>\n<pre><code>class TaskStatusCompletionAction implements CompletionAction {\n\n    @Override\n    public void showCompletedTaskNumber(int taskNumber) {\n        System.out.println(&quot;Task number : &quot;+taskNumber+&quot; completed&quot;);\n    }\n}\n\ninterface CompletionAction {\n    void showCompletedTaskNumber(int taskNumber);\n}\n</code></pre>\n<p>How can I write/design code that transparently handles all future objects, gets their completed value and hands if off to the provided callback? Is anything like that possible or I am asking wrong question?</p>\n"},{"tags":["java","spring-boot","apache-spark","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1554319248,"post_id":55494154,"comment_id":97711769,"body_markdown":"How do you submit your job?","body":"How do you submit your job?"}],"answers":[{"comments":[{"owner":{"account_id":13404647,"reputation":79,"user_id":9673017,"display_name":"Shreya Mahajan"},"score":0,"creation_date":1554357865,"post_id":55502813,"comment_id":97722991,"body_markdown":"Hi, Thanks for replying. When i am running this command it is not getting completed it gets stuck in the middle after this -- \n\nIvy Default Cache set to: /root/.ivy2/cache\nThe jars for the packages stored in: /root/.ivy2/jars\n:: loading settings :: url = jar:file:/spark/jars/ivy-2.4.0.jar!/org/apache/ivy/core/settings/ivysettings.xml\ndatastax#spark-cassandra-connector added as a dependency\n:: resolving dependencies :: org.apache.spark#spark-submit-parent-21270201-87c1-4543-8fb1-e895ecab6b40;1.0\n       confs: [default]","body":"Hi, Thanks for replying. When i am running this command it is not getting completed it gets stuck in the middle after this --   Ivy Default Cache set to: /root/.ivy2/cache The jars for the packages stored in: /root/.ivy2/jars :: loading settings :: url = jar:file:/spark/jars/ivy-2.4.0.jar!/org/apache/ivy/core/sett&zwnj;&#8203;ings/ivysettings.xml datastax#spark-cassandra-connector added as a dependency :: resolving dependencies :: org.apache.spark#spark-submit-parent-21270201-87c1-4543-8fb1&zwnj;&#8203;-e895ecab6b40;1.0        confs: [default]"},{"owner":{"account_id":13404647,"reputation":79,"user_id":9673017,"display_name":"Shreya Mahajan"},"score":0,"creation_date":1554377438,"post_id":55502813,"comment_id":97734309,"body_markdown":"Their was some issue, so installed the above jar and placed it in the jar folder of spark master and then ran the command \nspark-submit /usr/local/spark/spark-2.4.0-bin-hadoop2.7/jars/spark-cassandra-connector_2.11-2.4.1.jar\nso it worked and the above error went away, but now it is giving a new exception which says:\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 21, 10.22.3.55, executor 0): java.lang.ClassNotFoundException: in.dmart.central.data.transform.base.config.ReceiverConfig$1","body":"Their was some issue, so installed the above jar and placed it in the jar folder of spark master and then ran the command  spark-submit /usr/local/spark/spark-2.4.0-bin-hadoop2.7/jars/spark-cassan&zwnj;&#8203;dra-connector_2.11-2&zwnj;&#8203;.4.1.jar so it worked and the above error went away, but now it is giving a new exception which says: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 21, 10.22.3.55, executor 0): java.lang.ClassNotFoundException: in.dmart.central.data.transform.base.config.ReceiverConfig$1"},{"owner":{"account_id":13404647,"reputation":79,"user_id":9673017,"display_name":"Shreya Mahajan"},"score":0,"creation_date":1554377566,"post_id":55502813,"comment_id":97734402,"body_markdown":"I am adding the code which i have written in ReceiverConfig","body":"I am adding the code which i have written in ReceiverConfig"}],"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554319347,"creation_date":1554319347,"answer_id":55502813,"question_id":55494154,"body_markdown":"If you don&#39;t create fat jar, then you need to submit job with correct package specified, like this:\r\n\r\n    spark-submit --packages datastax:spark-cassandra-connector:2.4.1-s_2.11 \\\r\n       ...rest of your options/arguments...\r\n\r\nThis will distribute corresponding SCC packages to all Spark nodes.","title":"How to fix org.apache.spark.SparkException: Job aborted due to stage failure Task &amp; com.datastax.spark.connector.rdd.partitioner.CassandraPartition","body":"<p>If you don't create fat jar, then you need to submit job with correct package specified, like this:</p>\n\n<pre><code>spark-submit --packages datastax:spark-cassandra-connector:2.4.1-s_2.11 \\\n   ...rest of your options/arguments...\n</code></pre>\n\n<p>This will distribute corresponding SCC packages to all Spark nodes.</p>\n"}],"owner":{"account_id":13404647,"reputation":79,"user_id":9673017,"display_name":"Shreya Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12994,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693494200,"creation_date":1554291170,"question_id":55494154,"body_markdown":"In my project i am using spark-Cassandra-connector to read the from Cassandra table and process it further into JavaRDD but i am facing issue while processing Cassandra row to javaRDD.\r\n\r\n```\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 2 in stage 0.0 failed 4 times, most recent failure: Lost task 2.3 in stage 0.0 (TID 52, 172.20.0.4, executor 1):\r\n java.lang.ClassNotFoundException: com.datastax.spark.connector.rdd.partitioner.CassandraPartition\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.spark.serializer.JavaDeserializationStream$$anon$1.resolveClass(JavaSerializer.scala:67)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)\r\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\r\n\tat org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:75)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:114)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:370)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI have configured my spark to user a spark cluster. When i am using master as local the code works fine but as soon as i replace it with the master i am facing issue.\r\nHere is my spark configuration:\r\n```\r\n\r\nSparkConf sparkConf = new SparkConf().setAppName(&quot;Data Transformation&quot;)\r\n\t\t\t\t.set(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;).setMaster(&quot;spark://masterip:7077&quot;);\r\n\r\n\t\tsparkConf.set(&quot;spark.cassandra.connection.host&quot;, cassandraContactPoints);\r\n\t\tsparkConf.set(&quot;spark.cassandra.connection.port&quot;, cassandraPort);\r\n\t\tsparkConf.set(&quot;spark.cassandra.connection.timeout_ms&quot;, &quot;5000&quot;);\r\n\t\tsparkConf.set(&quot;spark.cassandra.read.timeout_ms&quot;, &quot;200000&quot;);\r\n\t\tsparkConf.set(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;);\r\n\r\n\t\t/*\r\n\t\t * sparkConf.set(&quot;spark.cassandra.auth.username&quot;, &quot;centralrw&quot;);\r\n\t\t * sparkConf.set(&quot;spark.cassandra.auth.password&quot;, &quot;t8b9HRWy&quot;);\r\n\t\t */\r\n\t\tlogger.info(&quot;creating spark context object&quot;);\r\n\t\tsparkContext = new JavaSparkContext(sparkConf);\r\n\t\tlogger.info(&quot;returning sparkcontext object&quot;);\r\n\t\treturn sparkContext;\r\n```\r\n\r\nSpark version - 2.4.0\r\nspark-Cassandra_connector - 2.4.0\r\n\r\n\r\nReceiverConfig:\r\n\r\n```\r\npublic List&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; readDataFromGenericTriggerEntityUsingSpark(\r\n\t\t\tJavaSparkContext sparkContext) {\r\n\r\n\t\tList&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; genericTriggerEntityList = new ArrayList&lt;Map&lt;String, GenericTriggerEntity&gt;&gt;();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tlogger.info(&quot;Keyspace &amp; table name to read data from cassandra&quot;);\r\n\t\t\tString tableName = &quot;generictriggerentity&quot;;\r\n\t\t\tString keySpace = &quot;centraldatalake&quot;;\r\n\r\n\t\t\tlogger.info(&quot;establishing conection&quot;);\r\n\t\t\tCassandraJavaRDD&lt;CassandraRow&gt; cassandraRDD = CassandraJavaUtil.javaFunctions(sparkContext)\r\n\t\t\t\t\t.cassandraTable(keySpace, tableName);\r\n\t\t\tint num = cassandraRDD.getNumPartitions();\r\n\t\t\tSystem.out.println(&quot;num- &quot; + num);\r\n\r\n\t\t\tlogger.info(&quot;Converting extracted rows to JavaRDD&quot;);\r\n\t\t\tJavaRDD&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; rdd = cassandraRDD\r\n\t\t\t\t\t.map(new Function&lt;CassandraRow, Map&lt;String, GenericTriggerEntity&gt;&gt;() {\r\n\r\n\t\t\t\t\t\tprivate static final long serialVersionUID = -165799649937652815L;\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic Map&lt;String, GenericTriggerEntity&gt; call(CassandraRow row) throws Exception {\r\n\t\t\t\t\t\t\tMap&lt;String, GenericTriggerEntity&gt; genericTriggerEntityMap = new HashMap&lt;String, GenericTriggerEntity&gt;();\r\n\t\t\t\t\t\t\tGenericTriggerEntity genericTriggerEntity = new GenericTriggerEntity();\r\n\t\t\t\t\t\t\tif (row.getString(&quot;end&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setEnd(row.getString(&quot;end&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;key&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setKey(row.getString(&quot;key&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;keyspacename&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setKeyspacename(row.getString(&quot;keyspacename&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;partitiondeleted&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setPartitiondeleted(row.getString(&quot;partitiondeleted&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;rowdeleted&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setRowdeleted(row.getString(&quot;rowdeleted&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;rows&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setRows(row.getString(&quot;rows&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;start&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setStart(row.getString(&quot;start&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;tablename&quot;) != null) {\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setTablename(row.getString(&quot;tablename&quot;));\r\n\t\t\t\t\t\t\t\tdataTableName = row.getString(&quot;tablename&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (row.getString(&quot;triggerdate&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setTriggerdate(row.getString(&quot;triggerdate&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;triggertime&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setTriggertime(row.getString(&quot;triggertime&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;uuid&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setUuid(row.getUUID(&quot;uuid&quot;));\r\n\r\n\t\t\t\t\t\t\tgenericTriggerEntityMap.put(dataTableName, genericTriggerEntity);\r\n\t\t\t\t\t\t\treturn genericTriggerEntityMap;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\tList&lt;Partition&gt; partition = rdd.partitions();\r\n\t\t\tSystem.out.println(&quot;partion - &quot; + partition.size());\r\n\r\n\t\t\tlogger.info(&quot;Collecting data into rdd&quot;);\r\n\t\t\tgenericTriggerEntityList = rdd.collect();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tlogger.info(&quot;returning generic trigger entity list&quot;);\r\n\t\treturn genericTriggerEntityList;\r\n\t}\r\n```\r\nwhen i am doing rdd.collect() it gives exception\r\n```\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 21, 10.22.3.55, executor 0): java.lang.ClassNotFoundException: in.dmart.central.data.transform.base.config.ReceiverConfig$1\r\n```\r\n\r\nI found a solution of creating a fat jar and including it in my code but i do not want to do that as every time ill make any changes ill have to do the process again and that is not possible.\r\n\r\nPlease suggest some solution to configure in the code or spark cluster.\r\nThanks in advance.","title":"How to fix org.apache.spark.SparkException: Job aborted due to stage failure Task &amp; com.datastax.spark.connector.rdd.partitioner.CassandraPartition","body":"<p>In my project i am using spark-Cassandra-connector to read the from Cassandra table and process it further into JavaRDD but i am facing issue while processing Cassandra row to javaRDD.</p>\n\n<pre><code>org.apache.spark.SparkException: Job aborted due to stage failure: Task 2 in stage 0.0 failed 4 times, most recent failure: Lost task 2.3 in stage 0.0 (TID 52, 172.20.0.4, executor 1):\n java.lang.ClassNotFoundException: com.datastax.spark.connector.rdd.partitioner.CassandraPartition\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.spark.serializer.JavaDeserializationStream$$anon$1.resolveClass(JavaSerializer.scala:67)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\n    at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:75)\n    at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:114)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:370)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>I have configured my spark to user a spark cluster. When i am using master as local the code works fine but as soon as i replace it with the master i am facing issue.\nHere is my spark configuration:</p>\n\n<pre><code>\nSparkConf sparkConf = new SparkConf().setAppName(\"Data Transformation\")\n                .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\").setMaster(\"spark://masterip:7077\");\n\n        sparkConf.set(\"spark.cassandra.connection.host\", cassandraContactPoints);\n        sparkConf.set(\"spark.cassandra.connection.port\", cassandraPort);\n        sparkConf.set(\"spark.cassandra.connection.timeout_ms\", \"5000\");\n        sparkConf.set(\"spark.cassandra.read.timeout_ms\", \"200000\");\n        sparkConf.set(\"spark.driver.allowMultipleContexts\", \"true\");\n\n        /*\n         * sparkConf.set(\"spark.cassandra.auth.username\", \"centralrw\");\n         * sparkConf.set(\"spark.cassandra.auth.password\", \"t8b9HRWy\");\n         */\n        logger.info(\"creating spark context object\");\n        sparkContext = new JavaSparkContext(sparkConf);\n        logger.info(\"returning sparkcontext object\");\n        return sparkContext;\n</code></pre>\n\n<p>Spark version - 2.4.0\nspark-Cassandra_connector - 2.4.0</p>\n\n<p>ReceiverConfig:</p>\n\n<pre><code>public List&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; readDataFromGenericTriggerEntityUsingSpark(\n            JavaSparkContext sparkContext) {\n\n        List&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; genericTriggerEntityList = new ArrayList&lt;Map&lt;String, GenericTriggerEntity&gt;&gt;();\n\n        try {\n\n            logger.info(\"Keyspace &amp; table name to read data from cassandra\");\n            String tableName = \"generictriggerentity\";\n            String keySpace = \"centraldatalake\";\n\n            logger.info(\"establishing conection\");\n            CassandraJavaRDD&lt;CassandraRow&gt; cassandraRDD = CassandraJavaUtil.javaFunctions(sparkContext)\n                    .cassandraTable(keySpace, tableName);\n            int num = cassandraRDD.getNumPartitions();\n            System.out.println(\"num- \" + num);\n\n            logger.info(\"Converting extracted rows to JavaRDD\");\n            JavaRDD&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; rdd = cassandraRDD\n                    .map(new Function&lt;CassandraRow, Map&lt;String, GenericTriggerEntity&gt;&gt;() {\n\n                        private static final long serialVersionUID = -165799649937652815L;\n\n                        @Override\n                        public Map&lt;String, GenericTriggerEntity&gt; call(CassandraRow row) throws Exception {\n                            Map&lt;String, GenericTriggerEntity&gt; genericTriggerEntityMap = new HashMap&lt;String, GenericTriggerEntity&gt;();\n                            GenericTriggerEntity genericTriggerEntity = new GenericTriggerEntity();\n                            if (row.getString(\"end\") != null)\n                                genericTriggerEntity.setEnd(row.getString(\"end\"));\n                            if (row.getString(\"key\") != null)\n                                genericTriggerEntity.setKey(row.getString(\"key\"));\n                            if (row.getString(\"keyspacename\") != null)\n                                genericTriggerEntity.setKeyspacename(row.getString(\"keyspacename\"));\n                            if (row.getString(\"partitiondeleted\") != null)\n                                genericTriggerEntity.setPartitiondeleted(row.getString(\"partitiondeleted\"));\n                            if (row.getString(\"rowdeleted\") != null)\n                                genericTriggerEntity.setRowdeleted(row.getString(\"rowdeleted\"));\n                            if (row.getString(\"rows\") != null)\n                                genericTriggerEntity.setRows(row.getString(\"rows\"));\n                            if (row.getString(\"start\") != null)\n                                genericTriggerEntity.setStart(row.getString(\"start\"));\n                            if (row.getString(\"tablename\") != null) {\n                                genericTriggerEntity.setTablename(row.getString(\"tablename\"));\n                                dataTableName = row.getString(\"tablename\");\n                            }\n                            if (row.getString(\"triggerdate\") != null)\n                                genericTriggerEntity.setTriggerdate(row.getString(\"triggerdate\"));\n                            if (row.getString(\"triggertime\") != null)\n                                genericTriggerEntity.setTriggertime(row.getString(\"triggertime\"));\n                            if (row.getString(\"uuid\") != null)\n                                genericTriggerEntity.setUuid(row.getUUID(\"uuid\"));\n\n                            genericTriggerEntityMap.put(dataTableName, genericTriggerEntity);\n                            return genericTriggerEntityMap;\n                        }\n\n                    });\n\n            List&lt;Partition&gt; partition = rdd.partitions();\n            System.out.println(\"partion - \" + partition.size());\n\n            logger.info(\"Collecting data into rdd\");\n            genericTriggerEntityList = rdd.collect();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        logger.info(\"returning generic trigger entity list\");\n        return genericTriggerEntityList;\n    }\n</code></pre>\n\n<p>when i am doing rdd.collect() it gives exception</p>\n\n<pre><code>org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 21, 10.22.3.55, executor 0): java.lang.ClassNotFoundException: in.dmart.central.data.transform.base.config.ReceiverConfig$1\n</code></pre>\n\n<p>I found a solution of creating a fat jar and including it in my code but i do not want to do that as every time ill make any changes ill have to do the process again and that is not possible.</p>\n\n<p>Please suggest some solution to configure in the code or spark cluster.\nThanks in advance.</p>\n"},{"tags":["java","spring","maven","jboss","nexus"],"comments":[{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1535758241,"post_id":52123521,"comment_id":91198498,"body_markdown":"Please add your pom.xml to the question","body":"Please add your pom.xml to the question"},{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535759613,"post_id":52123521,"comment_id":91198713,"body_markdown":"Added pom.xml. Thanks for the heads up Ivan.","body":"Added pom.xml. Thanks for the heads up Ivan."},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1535759922,"post_id":52123521,"comment_id":91198770,"body_markdown":"Error messages say that some dependencies do not have versions set up in pom.xml. Have you tried to provide versions for those dependencies?","body":"Error messages say that some dependencies do not have versions set up in pom.xml. Have you tried to provide versions for those dependencies?"},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":0,"creation_date":1535813993,"post_id":52123521,"comment_id":91208989,"body_markdown":"Please check if you or your colleagues have a `.m2/settings.xml` file, and if so that they are the same.","body":"Please check if you or your colleagues have a <code>.m2&#47;settings.xml</code> file, and if so that they are the same."}],"answers":[{"comments":[{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535761328,"post_id":52123873,"comment_id":91198963,"body_markdown":"Hello Jayesh and Ivan, I have added the latest version for the dependencies in the POM to resolve the 7 errors related to &quot;&#39;dependencies.dependency.version&#39; &quot;. But, my colleagues did not have to add the version to theirs&#39;.","body":"Hello Jayesh and Ivan, I have added the latest version for the dependencies in the POM to resolve the 7 errors related to &quot;&#39;dependencies.dependency.version&#39; &quot;. But, my colleagues did not have to add the version to theirs&#39;."},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1535761806,"post_id":52123873,"comment_id":91199015,"body_markdown":"@olatom are you sure that your pom.xml is the same as your colleagues use? You have to set version for dependency either in `&lt;dependencyManagement&gt;`  or directly in `&lt;dependency&gt;`","body":"@olatom are you sure that your pom.xml is the same as your colleagues use? You have to set version for dependency either in <code>&lt;dependencyManagement&gt;</code>  or directly in <code>&lt;dependency&gt;</code>"},{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535762081,"post_id":52123873,"comment_id":91199044,"body_markdown":"Hi Pal, they did not set the version. The scope is provided as well. The code was checked out of the same repo.","body":"Hi Pal, they did not set the version. The scope is provided as well. The code was checked out of the same repo."},{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535792488,"post_id":52123873,"comment_id":91203817,"body_markdown":"GM, there are 2 problems. (1) error downloading dependencies from nexus.(2)The dependencies needing version for scope  - provided.  I ran &quot;mvn clean -e&quot;  : Caused org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (company-net Caused by: org.apache.maven.wagon.TransferFailedException: Remote host closed connection during handshake Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Caused by: java.io.EOFException: SSL peer shut down incorrectly","body":"GM, there are 2 problems. (1) error downloading dependencies from nexus.(2)The dependencies needing version for scope  - provided.  I ran &quot;mvn clean -e&quot;  : Caused org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (company-net Caused by: org.apache.maven.wagon.TransferFailedException: Remote host closed connection during handshake Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Caused by: java.io.EOFException: SSL peer shut down incorrectly"}],"tags":[],"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535760674,"creation_date":1535760674,"answer_id":52123873,"question_id":52123521,"body_markdown":"You don&#39;t have this entry under your `dependencyManagement` likewise do it for all your dependencies. Version should be added either on `dependencyManagement` or directly under `dependencies`\r\n \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;whatever-version-you-need&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>You don't have this entry under your <code>dependencyManagement</code> likewise do it for all your dependencies. Version should be added either on <code>dependencyManagement</code> or directly under <code>dependencies</code></p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n        &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;whatever-version-you-need&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535762935,"post_id":52123922,"comment_id":91199127,"body_markdown":"Hi, if the devs have the artefacts in their m2, it was downloaded from nexus. Also, i ran mvn clean -e and the key error lines are : Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (https://company-net\nCaused by: org.apache.maven.wagon.TransferFailedException: Remote host closed connection during handshake\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\nCaused by: java.io.EOFException: SSL peer shut down incorrectly","body":"Hi, if the devs have the artefacts in their m2, it was downloaded from nexus. Also, i ran mvn clean -e and the key error lines are : Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (<a href=\"https://company-net\" rel=\"nofollow noreferrer\">company-net</a> Caused by: org.apache.maven.wagon.TransferFailedException: Remote host closed connection during handshake Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Caused by: java.io.EOFException: SSL peer shut down incorrectly"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1535763537,"post_id":52123922,"comment_id":91199212,"body_markdown":"If you do not put the profile on you command you will not talk to Nexus.","body":"If you do not put the profile on you command you will not talk to Nexus."},{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535792616,"post_id":52123922,"comment_id":91203844,"body_markdown":"Thanks for your input bmargulies. Doing mvn build with the profile did not make any difference. I dont know what is different between our set up.","body":"Thanks for your input bmargulies. Doing mvn build with the profile did not make any difference. I dont know what is different between our set up."}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535761506,"creation_date":1535761506,"answer_id":52123922,"question_id":52123521,"body_markdown":"If old devs can build, and you cannot, that means that old devs have some artifacts in their local Maven cache/repository, and you don&#39;t. You probably need `-Pcompanydev` to look in the local repository manager.","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>If old devs can build, and you cannot, that means that old devs have some artifacts in their local Maven cache/repository, and you don't. You probably need <code>-Pcompanydev</code> to look in the local repository manager.</p>\n"},{"tags":[],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535964928,"creation_date":1535964928,"answer_id":52146331,"question_id":52123521,"body_markdown":"Thanks all, this got resolved by connecting to my home wifi (without company firewall, proxy etc), so I was able to progress further with downloading dependencies, but then I ran into another issue which I will raise a new question for. Thanks.","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>Thanks all, this got resolved by connecting to my home wifi (without company firewall, proxy etc), so I was able to progress further with downloading dependencies, but then I ran into another issue which I will raise a new question for. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654609413,"creation_date":1536339964,"answer_id":52226891,"question_id":52123521,"body_markdown":"\r\nThanks all for your contribution and time.\r\n\r\nProblem was fixed by the support team white listing my machine and using corporate wifi.\r\nSimilar issue could arise from corporate proxy blocking downloading dependencies from certain sites. You can update the proxy settings in your maven settings.xml.  ","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>Thanks all for your contribution and time.</p>\n<p>Problem was fixed by the support team white listing my machine and using corporate wifi.\nSimilar issue could arise from corporate proxy blocking downloading dependencies from certain sites. You can update the proxy settings in your maven settings.xml.</p>\n"}],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693494200,"creation_date":1535757048,"question_id":52123521,"body_markdown":"I am having problem doing a build on a new project.\r\nThe build works for the old devs on the project, but after cloning the projects and using the same version of maven. Its not working for me.\r\n\r\nInitially, I was doing a mvn clean install\r\n\r\nBut, after some research I found out the same build error occured with a simple mvn clean.\r\n\r\nThe error is as follows:\r\n\r\n    C:\\workspace\\some-web-app&gt;mvn clean\r\n    [INFO] Scanning for projects...\r\n    Downloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\r\n    Downloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\r\n    Downloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\r\n    Downloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\r\n    Downloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\r\n    Downloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-ejb-plugin is missing. @ line 292, column 22\r\n    [ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:jboss-eap-javaee7-with-tools:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/p\r\n    [ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/public/)\r\n    [ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.spec:jboss-javaee-7.0:pom:1.1.0.Final-redhat-1 from/to nexus-public (https://company-net:8080/nexus/content/groups/\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for javax.enterprise:cdi-api:jar is missing. @ line 136, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.hibernate:hibernate-core:jar is missing. @ line 142, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.hibernate:hibernate-validator:jar is missing. @ line 148, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.hibernate:hibernate-ehcache:jar is missing. @ line 160, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.servlet:jboss-servlet-api_3.1_spec:jar is missing. @ line 165, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-api_2.2_spec:jar is missing. @ line 171, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.ejb:jboss-ejb-api_3.2_spec:jar is missing. @ line 177, column 21\r\n\r\n\r\nThe settings.xml is under C:\\Users\\[User-ID]\\.m2 as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n        &lt;pluginGroups /&gt;\r\n        &lt;proxies /&gt;\r\n        &lt;servers&gt;\r\n    \r\n            &lt;server&gt;\r\n              &lt;id&gt;nexus-public&lt;/id&gt;\r\n              &lt;username&gt;user1&lt;/username&gt;\r\n              &lt;password&gt;pass1&lt;/password&gt;\r\n            &lt;/server&gt;\r\n            &lt;server&gt;\r\n              &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n              &lt;username&gt;user1&lt;/username&gt;\r\n              &lt;password&gt;pass1&lt;/password&gt;\r\n            &lt;/server&gt;\r\n            &lt;server&gt;\r\n              &lt;id&gt;nexus-releases&lt;/id&gt;\r\n              &lt;username&gt;user1&lt;/username&gt;\r\n              &lt;password&gt;pass1&lt;/password&gt;\r\n            &lt;/server&gt;\r\n    \r\n        &lt;/servers&gt;\r\n    \r\n        &lt;mirrors /&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;companydev&lt;/id&gt;\r\n    \r\n                &lt;properties&gt;\r\n                    &lt;unit-test-ldap-server-host&gt;mis-dev&lt;/unit-test-ldap-server-host&gt;\r\n                    &lt;unit-test-database-url&gt;jdbc:mysql://mis-dev:1234/unit_test&lt;/unit-test-database-url&gt;\r\n                &lt;/properties&gt;\r\n    \r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;nexus-public&lt;/id&gt;\r\n                        &lt;url&gt;https://company-net:8080/nexus/content/groups/public/&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n                        &lt;url&gt;https://company-net:8080/nexus/content/repositories/snapshots&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;nexus-releases&lt;/id&gt;\r\n                        &lt;url&gt;https://company-net:8080/nexus/content/repositories/releases&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n        &lt;activeProfiles&gt;\r\n            &lt;activeProfile&gt;companydev&lt;/activeProfile&gt;\r\n        &lt;/activeProfiles&gt;\r\n    \r\n    &lt;/settings&gt;\r\n\r\n\r\nThe POM for the module to be build is:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ams-parent&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;name&gt;ags&lt;/name&gt;\r\n        &lt;description&gt;desc  .........&lt;/description&gt;\r\n        &lt;organization&gt;\r\n            &lt;name&gt;Org Name&lt;/name&gt;\r\n        &lt;/organization&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;deployment&lt;/id&gt;\r\n                &lt;name&gt;Internal Releases&lt;/name&gt;\r\n                &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;deployment&lt;/id&gt;\r\n                &lt;name&gt;Internal Releases&lt;/name&gt;\r\n                &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n        &lt;properties&gt;\r\n        \r\n            &lt;!-- Explicitly declaring the source encoding eliminates the following\r\n                message: [WARNING] Using platform encoding (UTF-8 actually) to copy\r\n                filtered resources, i.e. build is platform dependent! --&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \r\n            &lt;commons-lang.version&gt;2.4&lt;/commons-lang.version&gt;\r\n    \r\n            &lt;deltaspike.version&gt;1.8.0&lt;/deltaspike.version&gt;\r\n    \r\n            &lt;jboss-spec-javaee-7.0.version&gt;1.1.0.Final-redhat-1&lt;/jboss-spec-javaee-7.0.version&gt;\r\n            &lt;primefaces.version&gt;6.1&lt;/primefaces.version&gt;\r\n            &lt;server-bom.version&gt;7.1.0.GA&lt;/server-bom.version&gt;\r\n    \r\n            &lt;!-- EAP7 version, according to https://stackoverflow.com/questions/38688392/slf4j-logging-with-jboss-wildfly-10 --&gt;\r\n            &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\r\n            &lt;wildfly-maven-plugin.version&gt;1.2.0.Alpha4&lt;/wildfly-maven-plugin.version&gt;\r\n    \r\n            &lt;commons-io.version&gt;2.4&lt;/commons-io.version&gt;\r\n    \r\n            &lt;swagger-core-v3.version&gt;2.0.2&lt;/swagger-core-v3.version&gt;\r\n            &lt;swagger-model-v3.version&gt;2.0.2&lt;/swagger-model-v3.version&gt;\r\n            &lt;swagger-codegen-maven-plugin.version&gt;2.3.1&lt;/swagger-codegen-maven-plugin.version&gt;\r\n            &lt;swagger-core.version&gt;1.5.16&lt;/swagger-core.version&gt;\r\n    \r\n            &lt;cxf-rt-frontend-jaxrs.version&gt;3.1.12&lt;/cxf-rt-frontend-jaxrs.version&gt;\r\n            &lt;cxf-version&gt;3.1.11&lt;/cxf-version&gt;\r\n    \r\n            &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n            &lt;mysql-connector.version&gt;5.1.45&lt;/mysql-connector.version&gt;\r\n    \r\n            &lt;jackson-version&gt;1.9.2&lt;/jackson-version&gt;\r\n            &lt;jax-rs-version&gt;1.1.1&lt;/jax-rs-version&gt;\r\n            &lt;json4s-jackson-version&gt;3.2.4&lt;/json4s-jackson-version&gt;\r\n            &lt;json4s-core-version&gt;3.0.0&lt;/json4s-core-version&gt;\r\n            &lt;fasterxml-json-version&gt;2.8.9&lt;/fasterxml-json-version&gt;\r\n            &lt;scala-lang-version&gt;2.9.1-1&lt;/scala-lang-version&gt;\r\n            &lt;reflections-version&gt;0.9.9-RC1&lt;/reflections-version&gt;\r\n            &lt;javassist-version&gt;3.16.1-GA&lt;/javassist-version&gt;\r\n            &lt;paranamer-version&gt;2.5.2&lt;/paranamer-version&gt;\r\n            &lt;scannotation-version&gt;1.0.3&lt;/scannotation-version&gt;\r\n            &lt;swagger-version&gt;1.5.1-M2&lt;/swagger-version&gt;\r\n            &lt;resteasy-jaxrs-version&gt;3.0.24.Final&lt;/resteasy-jaxrs-version&gt;\r\n            &lt;javax-servlet-version&gt;3.1.0&lt;/javax-servlet-version&gt;\r\n            &lt;mockito.version&gt;1.10.19&lt;/mockito.version&gt;\r\n            &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\r\n    \r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;!-- JBoss distributes a complete set of Java EE APIs including a Bill\r\n                    of Materials (BOM). A BOM specifies the versions of a &quot;stack&quot; (or a collection)\r\n                    of artifacts. We use this here so that we always get the correct versions\r\n                    of artifacts. Here we use the jboss-eap-javaee7-with-tools stack (you can\r\n                    read this as the JBoss stack of the Java EE APIs, with some extras tools\r\n                    for your project, such as Arquillian for testing) --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jboss-eap-javaee7-with-tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${server-bom.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;eap-runtime-artifacts&lt;/artifactId&gt;\r\n                    &lt;version&gt;${server-bom.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- Define the version of the JBoss Java EE APIs we want to use --&gt;\r\n                &lt;!-- JBoss distributes a complete set of Java EE APIs including\r\n                   a Bill of Materials (BOM). A BOM specifies the versions of a &quot;stack&quot; (or\r\n                   a collection) of artifacts. We use this here so that we always get the correct\r\n                   versions of artifacts. Here we use the jboss-javaee-7.0 stack (you can\r\n                   read this as the JBoss stack of the Java EE APIs). You can actually\r\n                   use this stack with any version of JBoss EAP that implements Java EE. --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jboss-spec-javaee-7.0.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jboss-as-cli&lt;/artifactId&gt;\r\n                    &lt;version&gt;7.2.0.Final&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;!-- we exclude this because it&#39;s locally resolved at runtime, yet the dependency plugin attempts to download it --&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;sun.jdk&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jconsole&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-servlet-api_3.1_spec&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-jsf-api_2.2_spec&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n                &lt;version&gt;${primefaces.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-lang.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- test --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${mysql-connector.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;nl.geodienstencentrum.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sass-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- Cannot use a later version! it uses classes that are incompatible\r\n                         with the maven deploy plugin, and this can&#39;t be easily resolved\r\n                         e.g. see https://stackoverflow.com/questions/43630262/how-to-exclude-a-direct-dependency-of-a-maven-plugin --&gt;\r\n                    &lt;version&gt;2.25&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;!--\r\n                    &lt;configuration&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;property&gt;\r\n                                &lt;name&gt;unit-test-ldap-server-host&lt;/name&gt;\r\n                                &lt;value&gt;${unit-test-ldap-server-host}&lt;/value&gt;\r\n                            &lt;/property&gt;\r\n                            &lt;property&gt;\r\n                                &lt;name&gt;unit-test-database-url&lt;/name&gt;\r\n                                &lt;value&gt;${unit-test-database-url}&lt;/value&gt;\r\n                            &lt;/property&gt;\r\n                        &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n                    --&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;ejbVersion&gt;3.1&lt;/ejbVersion&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin--&gt;\r\n                \r\n               &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n            \r\n    \r\n                 &lt;!--\r\n    \r\n    \t\t\tTo be able to share a single suppression files, regardless of how\r\n    \t\t\tmaven is ran, we can&#39;t have this plugin running in the parent pom\r\n    \t\t\t(it has a circular dependency on the build-tools module).\r\n    \r\n    \t\t\tTherefore, each module that should have dependencies checked\r\n    \t\t\tshould include this plugin\r\n    \t\t\t\r\n    \t\t\t!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    \t\t\tHas been disabled temporarily as the suppression of vulnerabilities CVE-2017-7656, CVE-2017-7658, CVE-2017-7657 and\r\n    \t\t\tCVE-2017-9735 do not work resulting in a Jenkins build failure.\r\n    \t\t\t\r\n    \t\t\tDevelopers should uncomment this section, change the phase to compile below and run a standard mvn clean install whenever new\r\n    \t\t\tdependencies have been added in a pom to ensure that no further vulnerabilities are added or at least new suppressions are \r\n    \t\t\tadded.\r\n    \t\t\t!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    \t\t\t\r\n    \t\t\t--&gt;\r\n                &lt;!--plugin&gt;\r\n                    &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;deploy&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                              \r\n                                &lt;cveValidForHours&gt;96&lt;/cveValidForHours&gt;\r\n                                &lt;failBuildOnCVSS&gt;7&lt;/failBuildOnCVSS&gt;\r\n                                &lt;suppressionFile&gt;build-tools/dep-check-supression.xml&lt;/suppressionFile&gt;\r\n                                &lt;assemblyAnalyzerEnabled&gt;false&lt;/assemblyAnalyzerEnabled&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ags-build-tools&lt;/artifactId&gt;\r\n                            &lt;version&gt;${project.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin--&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;ags-build-tools&lt;/module&gt;\r\n            &lt;module&gt;ags-core&lt;/module&gt;\r\n            &lt;module&gt;ags-core-api&lt;/module&gt;\r\n            &lt;module&gt;ags-jpa&lt;/module&gt;\r\n            &lt;module&gt;ags-integration-authorise-api&lt;/module&gt;\r\n            &lt;module&gt;ags-integration-authorise-api-impl&lt;/module&gt;\r\n    \t\t&lt;module&gt;ags-integration-jboss&lt;/module&gt;\r\n            &lt;module&gt;ags-database&lt;/module&gt;\r\n            &lt;module&gt;ags-web&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n I&#39;v added the latest version for the dependencies in the POM to hack d 7 errors related to &quot;&#39;dependencies.dependency.version&#39; &quot;. But, my colleagues did not have to add the version to theirs&#39;. So, my hack is not acceptable! The dependency have a scope of &#39;provided&#39; and should be provided by the container. After research, I learned the dependencies should be downloaded into my .m2 (local repo) for local build, but they should not be packaged into the final artefact during buld. \r\n\r\n\r\nAlso, the second issue which is still unresolved is the &quot;Non-resolvable import POM: Could not transfer artifact&quot;. I am thinking its a proxy issue, but my colleagues reckon using my mobile hot spot should work. Any ideas will be appreciated. Thanks.\r\n\r\nAny ideas what could possibly be the problem?\r\n\r\n\r\n\r\n","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>I am having problem doing a build on a new project.\nThe build works for the old devs on the project, but after cloning the projects and using the same version of maven. Its not working for me.</p>\n\n<p>Initially, I was doing a mvn clean install</p>\n\n<p>But, after some research I found out the same build error occured with a simple mvn clean.</p>\n\n<p>The error is as follows:</p>\n\n<pre><code>C:\\workspace\\some-web-app&gt;mvn clean\n[INFO] Scanning for projects...\nDownloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\nDownloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\nDownloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\nDownloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\nDownloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\nDownloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-ejb-plugin is missing. @ line 292, column 22\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:jboss-eap-javaee7-with-tools:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/p\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/public/)\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.spec:jboss-javaee-7.0:pom:1.1.0.Final-redhat-1 from/to nexus-public (https://company-net:8080/nexus/content/groups/\n[ERROR] 'dependencies.dependency.version' for javax.enterprise:cdi-api:jar is missing. @ line 136, column 21\n[ERROR] 'dependencies.dependency.version' for org.hibernate:hibernate-core:jar is missing. @ line 142, column 21\n[ERROR] 'dependencies.dependency.version' for org.hibernate:hibernate-validator:jar is missing. @ line 148, column 21\n[ERROR] 'dependencies.dependency.version' for org.hibernate:hibernate-ehcache:jar is missing. @ line 160, column 21\n[ERROR] 'dependencies.dependency.version' for org.jboss.spec.javax.servlet:jboss-servlet-api_3.1_spec:jar is missing. @ line 165, column 21\n[ERROR] 'dependencies.dependency.version' for org.jboss.spec.javax.faces:jboss-jsf-api_2.2_spec:jar is missing. @ line 171, column 21\n[ERROR] 'dependencies.dependency.version' for org.jboss.spec.javax.ejb:jboss-ejb-api_3.2_spec:jar is missing. @ line 177, column 21\n</code></pre>\n\n<p>The settings.xml is under C:\\Users[User-ID].m2 as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n    &lt;pluginGroups /&gt;\n    &lt;proxies /&gt;\n    &lt;servers&gt;\n\n        &lt;server&gt;\n          &lt;id&gt;nexus-public&lt;/id&gt;\n          &lt;username&gt;user1&lt;/username&gt;\n          &lt;password&gt;pass1&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n          &lt;id&gt;nexus-snapshots&lt;/id&gt;\n          &lt;username&gt;user1&lt;/username&gt;\n          &lt;password&gt;pass1&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n          &lt;id&gt;nexus-releases&lt;/id&gt;\n          &lt;username&gt;user1&lt;/username&gt;\n          &lt;password&gt;pass1&lt;/password&gt;\n        &lt;/server&gt;\n\n    &lt;/servers&gt;\n\n    &lt;mirrors /&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;companydev&lt;/id&gt;\n\n            &lt;properties&gt;\n                &lt;unit-test-ldap-server-host&gt;mis-dev&lt;/unit-test-ldap-server-host&gt;\n                &lt;unit-test-database-url&gt;jdbc:mysql://mis-dev:1234/unit_test&lt;/unit-test-database-url&gt;\n            &lt;/properties&gt;\n\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;nexus-public&lt;/id&gt;\n                    &lt;url&gt;https://company-net:8080/nexus/content/groups/public/&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;nexus-snapshots&lt;/id&gt;\n                    &lt;url&gt;https://company-net:8080/nexus/content/repositories/snapshots&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;nexus-releases&lt;/id&gt;\n                    &lt;url&gt;https://company-net:8080/nexus/content/repositories/releases&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;companydev&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n\n&lt;/settings&gt;\n</code></pre>\n\n<p>The POM for the module to be build is:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\n    &lt;artifactId&gt;ams-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;ags&lt;/name&gt;\n    &lt;description&gt;desc  .........&lt;/description&gt;\n    &lt;organization&gt;\n        &lt;name&gt;Org Name&lt;/name&gt;\n    &lt;/organization&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;deployment&lt;/id&gt;\n            &lt;name&gt;Internal Releases&lt;/name&gt;\n            &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;deployment&lt;/id&gt;\n            &lt;name&gt;Internal Releases&lt;/name&gt;\n            &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;properties&gt;\n\n        &lt;!-- Explicitly declaring the source encoding eliminates the following\n            message: [WARNING] Using platform encoding (UTF-8 actually) to copy\n            filtered resources, i.e. build is platform dependent! --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;commons-lang.version&gt;2.4&lt;/commons-lang.version&gt;\n\n        &lt;deltaspike.version&gt;1.8.0&lt;/deltaspike.version&gt;\n\n        &lt;jboss-spec-javaee-7.0.version&gt;1.1.0.Final-redhat-1&lt;/jboss-spec-javaee-7.0.version&gt;\n        &lt;primefaces.version&gt;6.1&lt;/primefaces.version&gt;\n        &lt;server-bom.version&gt;7.1.0.GA&lt;/server-bom.version&gt;\n\n        &lt;!-- EAP7 version, according to https://stackoverflow.com/questions/38688392/slf4j-logging-with-jboss-wildfly-10 --&gt;\n        &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\n        &lt;wildfly-maven-plugin.version&gt;1.2.0.Alpha4&lt;/wildfly-maven-plugin.version&gt;\n\n        &lt;commons-io.version&gt;2.4&lt;/commons-io.version&gt;\n\n        &lt;swagger-core-v3.version&gt;2.0.2&lt;/swagger-core-v3.version&gt;\n        &lt;swagger-model-v3.version&gt;2.0.2&lt;/swagger-model-v3.version&gt;\n        &lt;swagger-codegen-maven-plugin.version&gt;2.3.1&lt;/swagger-codegen-maven-plugin.version&gt;\n        &lt;swagger-core.version&gt;1.5.16&lt;/swagger-core.version&gt;\n\n        &lt;cxf-rt-frontend-jaxrs.version&gt;3.1.12&lt;/cxf-rt-frontend-jaxrs.version&gt;\n        &lt;cxf-version&gt;3.1.11&lt;/cxf-version&gt;\n\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;mysql-connector.version&gt;5.1.45&lt;/mysql-connector.version&gt;\n\n        &lt;jackson-version&gt;1.9.2&lt;/jackson-version&gt;\n        &lt;jax-rs-version&gt;1.1.1&lt;/jax-rs-version&gt;\n        &lt;json4s-jackson-version&gt;3.2.4&lt;/json4s-jackson-version&gt;\n        &lt;json4s-core-version&gt;3.0.0&lt;/json4s-core-version&gt;\n        &lt;fasterxml-json-version&gt;2.8.9&lt;/fasterxml-json-version&gt;\n        &lt;scala-lang-version&gt;2.9.1-1&lt;/scala-lang-version&gt;\n        &lt;reflections-version&gt;0.9.9-RC1&lt;/reflections-version&gt;\n        &lt;javassist-version&gt;3.16.1-GA&lt;/javassist-version&gt;\n        &lt;paranamer-version&gt;2.5.2&lt;/paranamer-version&gt;\n        &lt;scannotation-version&gt;1.0.3&lt;/scannotation-version&gt;\n        &lt;swagger-version&gt;1.5.1-M2&lt;/swagger-version&gt;\n        &lt;resteasy-jaxrs-version&gt;3.0.24.Final&lt;/resteasy-jaxrs-version&gt;\n        &lt;javax-servlet-version&gt;3.1.0&lt;/javax-servlet-version&gt;\n        &lt;mockito.version&gt;1.10.19&lt;/mockito.version&gt;\n        &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- JBoss distributes a complete set of Java EE APIs including a Bill\n                of Materials (BOM). A BOM specifies the versions of a \"stack\" (or a collection)\n                of artifacts. We use this here so that we always get the correct versions\n                of artifacts. Here we use the jboss-eap-javaee7-with-tools stack (you can\n                read this as the JBoss stack of the Java EE APIs, with some extras tools\n                for your project, such as Arquillian for testing) --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-eap-javaee7-with-tools&lt;/artifactId&gt;\n                &lt;version&gt;${server-bom.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;eap-runtime-artifacts&lt;/artifactId&gt;\n                &lt;version&gt;${server-bom.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Define the version of the JBoss Java EE APIs we want to use --&gt;\n            &lt;!-- JBoss distributes a complete set of Java EE APIs including\n               a Bill of Materials (BOM). A BOM specifies the versions of a \"stack\" (or\n               a collection) of artifacts. We use this here so that we always get the correct\n               versions of artifacts. Here we use the jboss-javaee-7.0 stack (you can\n               read this as the JBoss stack of the Java EE APIs). You can actually\n               use this stack with any version of JBoss EAP that implements Java EE. --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;\n                &lt;version&gt;${jboss-spec-javaee-7.0.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-as-cli&lt;/artifactId&gt;\n                &lt;version&gt;7.2.0.Final&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;!-- we exclude this because it's locally resolved at runtime, yet the dependency plugin attempts to download it --&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;sun.jdk&lt;/groupId&gt;\n                        &lt;artifactId&gt;jconsole&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-servlet-api_3.1_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-jsf-api_2.2_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;${primefaces.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\n            &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n            &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;${mysql-connector.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;nl.geodienstencentrum.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sass-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Cannot use a later version! it uses classes that are incompatible\n                     with the maven deploy plugin, and this can't be easily resolved\n                     e.g. see https://stackoverflow.com/questions/43630262/how-to-exclude-a-direct-dependency-of-a-maven-plugin --&gt;\n                &lt;version&gt;2.25&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;!--\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;unit-test-ldap-server-host&lt;/name&gt;\n                            &lt;value&gt;${unit-test-ldap-server-host}&lt;/value&gt;\n                        &lt;/property&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;unit-test-database-url&lt;/name&gt;\n                            &lt;value&gt;${unit-test-database-url}&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n                --&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;ejbVersion&gt;3.1&lt;/ejbVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin--&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\n                    &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n             &lt;!--\n\n            To be able to share a single suppression files, regardless of how\n            maven is ran, we can't have this plugin running in the parent pom\n            (it has a circular dependency on the build-tools module).\n\n            Therefore, each module that should have dependencies checked\n            should include this plugin\n\n            !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            Has been disabled temporarily as the suppression of vulnerabilities CVE-2017-7656, CVE-2017-7658, CVE-2017-7657 and\n            CVE-2017-9735 do not work resulting in a Jenkins build failure.\n\n            Developers should uncomment this section, change the phase to compile below and run a standard mvn clean install whenever new\n            dependencies have been added in a pom to ensure that no further vulnerabilities are added or at least new suppressions are \n            added.\n            !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n            --&gt;\n            &lt;!--plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;deploy&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n\n                            &lt;cveValidForHours&gt;96&lt;/cveValidForHours&gt;\n                            &lt;failBuildOnCVSS&gt;7&lt;/failBuildOnCVSS&gt;\n                            &lt;suppressionFile&gt;build-tools/dep-check-supression.xml&lt;/suppressionFile&gt;\n                            &lt;assemblyAnalyzerEnabled&gt;false&lt;/assemblyAnalyzerEnabled&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\n                        &lt;artifactId&gt;ags-build-tools&lt;/artifactId&gt;\n                        &lt;version&gt;${project.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin--&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;ags-build-tools&lt;/module&gt;\n        &lt;module&gt;ags-core&lt;/module&gt;\n        &lt;module&gt;ags-core-api&lt;/module&gt;\n        &lt;module&gt;ags-jpa&lt;/module&gt;\n        &lt;module&gt;ags-integration-authorise-api&lt;/module&gt;\n        &lt;module&gt;ags-integration-authorise-api-impl&lt;/module&gt;\n        &lt;module&gt;ags-integration-jboss&lt;/module&gt;\n        &lt;module&gt;ags-database&lt;/module&gt;\n        &lt;module&gt;ags-web&lt;/module&gt;\n    &lt;/modules&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I'v added the latest version for the dependencies in the POM to hack d 7 errors related to \"'dependencies.dependency.version' \". But, my colleagues did not have to add the version to theirs'. So, my hack is not acceptable! The dependency have a scope of 'provided' and should be provided by the container. After research, I learned the dependencies should be downloaded into my .m2 (local repo) for local build, but they should not be packaged into the final artefact during buld. </p>\n\n<p>Also, the second issue which is still unresolved is the \"Non-resolvable import POM: Could not transfer artifact\". I am thinking its a proxy issue, but my colleagues reckon using my mobile hot spot should work. Any ideas will be appreciated. Thanks.</p>\n\n<p>Any ideas what could possibly be the problem?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1668433176,"post_id":40979911,"comment_id":131396593,"body_markdown":"Which Point class in java is that ?","body":"Which Point class in java is that ?"}],"answers":[{"comments":[{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1481002792,"post_id":40988332,"comment_id":69185992,"body_markdown":"Then it should work without specifying a type. Check out [this test on GitHub](https://github.com/hibernate/hibernate-orm/blob/master/documentation/src/test/java/org/hibernate/userguide/spatial/SpatialTest.java).","body":"Then it should work without specifying a type. Check out <a href=\"https://github.com/hibernate/hibernate-orm/blob/master/documentation/src/test/java/org/hibernate/userguide/spatial/SpatialTest.java\" rel=\"nofollow noreferrer\">this test on GitHub</a>."},{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":0,"creation_date":1525183466,"post_id":40988332,"comment_id":87253081,"body_markdown":"@Vlad, highly value your opinion on this forum. But please do check in Hibernate 5. If we don&#39;t provide columnDefinition=&quot;POINT&quot; it doesn&#39;t create a mysql field of type POINT at all. Similiar case with GEOMETRY","body":"@Vlad, highly value your opinion on this forum. But please do check in Hibernate 5. If we don&#39;t provide columnDefinition=&quot;POINT&quot; it doesn&#39;t create a mysql field of type POINT at all. Similiar case with GEOMETRY"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693494188,"creation_date":1481001566,"answer_id":40988332,"question_id":40979911,"body_markdown":"You can use the `com.vividsolutions.jts.geom.Point` class and then you don&#39;t need to specify the `@Type` explicitly.\r\n\r\nCheck out this example on the [Hibernate User Guide][1].\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial-types-mapping-example","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>You can use the <code>com.vividsolutions.jts.geom.Point</code> class and then you don't need to specify the <code>@Type</code> explicitly.</p>\n<p>Check out this example on the <a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial-types-mapping-example\" rel=\"nofollow noreferrer\">Hibernate User Guide</a>.</p>\n"},{"comments":[{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1524093219,"post_id":40988665,"comment_id":86836553,"body_markdown":"In my case I had to add Hibernate Spatial (`&#39;org.hibernate:hibernate-spatial:5.0.12.Final&#39;`) into my project, then in the Java JPA entity, make the `POINT` field to be of type `com.vividsolutions.jts.geom.Point`, and then make its `columnDefinition = &quot;GEOMETRY&quot;`.","body":"In my case I had to add Hibernate Spatial (<code>&#39;org.hibernate:hibernate-spatial:5.0.12.Final&#39;</code>) into my project, then in the Java JPA entity, make the <code>POINT</code> field to be of type <code>com.vividsolutions.jts.geom.Point</code>, and then make its <code>columnDefinition = &quot;GEOMETRY&quot;</code>."}],"tags":[],"owner":{"account_id":8842598,"reputation":81,"user_id":6604584,"display_name":"Roland"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481003491,"creation_date":1481003491,"answer_id":40988665,"question_id":40979911,"body_markdown":"The actual solution is to remove `@Type` and use `@Column(name = &quot;location&quot;, nullable = false, columnDefinition = &quot;Point&quot;)`\r\n\r\nNote that this is for MySQL","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>The actual solution is to remove <code>@Type</code> and use <code>@Column(name = \"location\", nullable = false, columnDefinition = \"Point\")</code></p>\n\n<p>Note that this is for MySQL</p>\n"},{"tags":[],"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570082168,"creation_date":1570082168,"answer_id":58213056,"question_id":40979911,"body_markdown":"Adding the correct dialect to the application.properties fixed this error for me:\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>Adding the correct dialect to the application.properties fixed this error for me:</p>\n\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\n</code></pre>\n"}],"owner":{"account_id":8842598,"reputation":81,"user_id":6604584,"display_name":"Roland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3058,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1693494188,"creation_date":1480958767,"question_id":40979911,"body_markdown":"I&#39;m using the frameworks as stated in the topic.\r\n\r\nthis is my part of my jpa properties in application.yml for spring\r\n\r\n    jpa:\r\n      database: mysql\r\n      hibernate:\r\n        naming:\r\n          physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl \r\n      properties:\r\n        hibernate:\r\n          dialect: org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\r\n          globally_quoted_identifiers: true\r\n      show-sql: true\r\n\r\nI&#39;m not sure if this is the right way to trigger SpatialDialect for MySQL5.7\r\n\r\nMy entity&#39;s method for Point\r\n\r\n    @Type(type = &quot;com.iheartcity.apiapp.geometry.MySQLGeometryType&quot;)\r\n    @Column(name = &quot;location&quot;, nullable = false)\r\n    public Point getLocation() {\r\n        return this.location;\r\n    }\r\n    public void setLocation(Point location) {\r\n        this.location = location;\r\n    }\r\n\r\nI created a class MySQLGeometryType.java:\r\n\r\n    package com.iheartcity.apiapp.geometry;\r\n    \r\n    import org.hibernate.spatial.JTSGeometryType;\r\n    import org.hibernate.spatial.dialect.mysql.MySQLGeometryTypeDescriptor;\r\n    \r\n    public class MySQLGeometryType extends JTSGeometryType {\r\n    \r\n        public MySQLGeometryType() {\r\n            super(MySQLGeometryTypeDescriptor.INSTANCE);\r\n        }\r\n    }\r\n\r\nWith the @Type(type = &quot;com.iheartcity.apiapp.geometry.MySQLGeometryType&quot;)\r\n\r\nit works perfectly. However, when I commented it, I start to get error when running the code to retrieve the data.\r\n\r\nHere is the exception:\r\n\r\n    java.io.StreamCorruptedException: invalid stream header: 00000000\r\n    \tat java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]\r\n\tat java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:301) ~[na:1.8.0_111]\r\n\tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:139) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:114) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:28) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:258) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:254) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:244) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:327) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2775) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1741) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1667) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1458) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1426) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1398) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.Query.getResultList(Query.java:417) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>I'm using the frameworks as stated in the topic.</p>\n\n<p>this is my part of my jpa properties in application.yml for spring</p>\n\n<pre><code>jpa:\n  database: mysql\n  hibernate:\n    naming:\n      physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl \n  properties:\n    hibernate:\n      dialect: org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\n      globally_quoted_identifiers: true\n  show-sql: true\n</code></pre>\n\n<p>I'm not sure if this is the right way to trigger SpatialDialect for MySQL5.7</p>\n\n<p>My entity's method for Point</p>\n\n<pre><code>@Type(type = \"com.iheartcity.apiapp.geometry.MySQLGeometryType\")\n@Column(name = \"location\", nullable = false)\npublic Point getLocation() {\n    return this.location;\n}\npublic void setLocation(Point location) {\n    this.location = location;\n}\n</code></pre>\n\n<p>I created a class MySQLGeometryType.java:</p>\n\n<pre><code>package com.iheartcity.apiapp.geometry;\n\nimport org.hibernate.spatial.JTSGeometryType;\nimport org.hibernate.spatial.dialect.mysql.MySQLGeometryTypeDescriptor;\n\npublic class MySQLGeometryType extends JTSGeometryType {\n\n    public MySQLGeometryType() {\n        super(MySQLGeometryTypeDescriptor.INSTANCE);\n    }\n}\n</code></pre>\n\n<p>With the @Type(type = \"com.iheartcity.apiapp.geometry.MySQLGeometryType\")</p>\n\n<p>it works perfectly. However, when I commented it, I start to get error when running the code to retrieve the data.</p>\n\n<p>Here is the exception:</p>\n\n<pre><code>java.io.StreamCorruptedException: invalid stream header: 00000000\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]\nat java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:301) ~[na:1.8.0_111]\nat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:139) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:114) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:28) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:258) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:254) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:244) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:327) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2775) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1741) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1667) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.getRow(Loader.java:1556) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.processResultSet(Loader.java:985) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doQuery(Loader.java:943) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2615) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2598) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.list(Loader.java:2425) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1458) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1426) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1398) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.Query.getResultList(Query.java:417) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]\n</code></pre>\n"},{"tags":["java","jmeter","dsl"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693128127,"creation_date":1693128127,"answer_id":76986417,"question_id":76983794,"body_markdown":"If you need to set the path of the 2nd HTTP Request sampler to the JMeter Variable which is generated by 1st HTTP Request sampler you need to use the following syntax:\r\n\r\n    httpSampler(&quot;${urlForSecondRequest}&quot;)\r\n\r\nIn case if &quot;the result is failed&quot;:\r\n\r\n - check [jmeter.log file][1] for any suspicious entries\r\n - instead of testPlan.run() call [testPlan.saveAsJmx() function][2], add [Debug Sampler and View Results Tree listener][3] and see what is the value of your `${urlForSecondRequest}` variable  \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [2]: https://abstracta.github.io/jmeter-java-dsl/guide/#save-as-jmx\r\n  [3]: https://www.blazemeter.com/blog/debug-jmeter","title":"How to send requests on the dynamic url in the TestPlanStats stats = testPlan(threadGroup())?","body":"<p>If you need to set the path of the 2nd HTTP Request sampler to the JMeter Variable which is generated by 1st HTTP Request sampler you need to use the following syntax:</p>\n<pre><code>httpSampler(&quot;${urlForSecondRequest}&quot;)\n</code></pre>\n<p>In case if &quot;the result is failed&quot;:</p>\n<ul>\n<li>check <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a> for any suspicious entries</li>\n<li>instead of testPlan.run() call <a href=\"https://abstracta.github.io/jmeter-java-dsl/guide/#save-as-jmx\" rel=\"nofollow noreferrer\">testPlan.saveAsJmx() function</a>, add <a href=\"https://www.blazemeter.com/blog/debug-jmeter\" rel=\"nofollow noreferrer\">Debug Sampler and View Results Tree listener</a> and see what is the value of your <code>${urlForSecondRequest}</code> variable</li>\n</ul>\n"}],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76986417,"answer_count":1,"score":0,"last_activity_date":1693494088,"creation_date":1693065938,"question_id":76983794,"body_markdown":"I need to create a performance test on the full operation flow with the several APIs.\r\n\r\nhttpSampler(urlForFirstRequest) and its children (new DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;) - work correctly and provide an URL for the second request. Provided URLs are different for each separate thread as it needed.\r\n\r\nThe problem is: how to create code for sending the second request (on the place &quot;httpSampler(urlForSecondRequest)&quot;) where each separate thread of the test will receive different URLs from the first request (parameter &quot;urlForSecondRequest&quot; is dynamic and the second request should be sent to this saved value)?\r\n\r\n```\r\nTestPlanStats stats = testPlan(\r\n\t\tthreadGroup(testParams.getThreads(), Duration.ofMinutes(testParams.getLoadTime()),\r\n\t\t\t\thttpSampler(urlForFirstRequest)\r\n\t\t\t\t\t\t.method(POST)\r\n\t\t\t\t\t\t.contentType(APPLICATION_JSON)\r\n\t\t\t\t\t\t.header(AUTHORIZATION, getAuthToken())\r\n\t\t\t\t\t\t.body(someBodyForFirstRequest)\r\n\t\t\t\t\t\t.children(\r\n\t\t\t\t\t\t\t\tnew DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;def urlForSecondRequest = jsonResponse.links[1].href;\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;vars.put(&#39;urlForSecondRequest&#39;, urlForSecondRequest);&quot;)\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\thttpSampler(urlForSecondRequest)\r\n\t\t\t\t\t\t.method(POST)\r\n\t\t\t\t\t\t.contentType(APPLICATION_JSON)\r\n\t\t\t\t\t\t.header(AUTHORIZATION, getAuthToken())\r\n\t\t\t\t\t\t.body(someBodyForSecondRequest)\r\n\t\t\t\t\t\t.children(\r\n\t\t\t\t\t\t\t\tnew DslJsr223PostProcessor(&quot;Save token parameter from the response of the second request&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;def token = jsonResponse.token;\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;vars.put(&#39;response&#39;, token);&quot;)\r\n\t\t\t\t\t\t),\r\n\t\t\t\tnew DslJsr223Sampler(&quot;Print result&quot;,\r\n\t\t\t\t\t\t&quot;String result = vars.get(&#39;response&#39;)&quot; +\r\n\t\t\t\t\t\t\t\t&quot;if (result != null) {\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;    println(result);\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;} else {\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;    println(&#39;result not found&#39;);\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;}&quot;)\r\n\t\t).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\r\n\t\tinfluxDbListener(envSetting.getInfluxDbUrl())\r\n\t\t\t\t.measurement(&quot;someMeasurement&quot;)\r\n).run();\r\n```\r\nThe code of print result needed to see if the code will works correctly. The parameter &quot;response&quot; will be different for each thread.\r\n\r\nI already tried to use httpSampler(&quot;${urlForSecondRequest}&quot;) but the result is failed. \r\n\r\nHow do I send requests on the dynamic URL which provided from the response of the first request?\r\n","title":"How to send requests on the dynamic url in the TestPlanStats stats = testPlan(threadGroup())?","body":"<p>I need to create a performance test on the full operation flow with the several APIs.</p>\n<p>httpSampler(urlForFirstRequest) and its children (new DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;) - work correctly and provide an URL for the second request. Provided URLs are different for each separate thread as it needed.</p>\n<p>The problem is: how to create code for sending the second request (on the place &quot;httpSampler(urlForSecondRequest)&quot;) where each separate thread of the test will receive different URLs from the first request (parameter &quot;urlForSecondRequest&quot; is dynamic and the second request should be sent to this saved value)?</p>\n<pre><code>TestPlanStats stats = testPlan(\n        threadGroup(testParams.getThreads(), Duration.ofMinutes(testParams.getLoadTime()),\n                httpSampler(urlForFirstRequest)\n                        .method(POST)\n                        .contentType(APPLICATION_JSON)\n                        .header(AUTHORIZATION, getAuthToken())\n                        .body(someBodyForFirstRequest)\n                        .children(\n                                new DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;,\n                                        &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\n                                                &quot;def urlForSecondRequest = jsonResponse.links[1].href;\\n&quot; +\n                                                &quot;vars.put('urlForSecondRequest', urlForSecondRequest);&quot;)\n                                ),\n                httpSampler(urlForSecondRequest)\n                        .method(POST)\n                        .contentType(APPLICATION_JSON)\n                        .header(AUTHORIZATION, getAuthToken())\n                        .body(someBodyForSecondRequest)\n                        .children(\n                                new DslJsr223PostProcessor(&quot;Save token parameter from the response of the second request&quot;,\n                                        &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\n                                                &quot;def token = jsonResponse.token;\\n&quot; +\n                                                &quot;vars.put('response', token);&quot;)\n                        ),\n                new DslJsr223Sampler(&quot;Print result&quot;,\n                        &quot;String result = vars.get('response')&quot; +\n                                &quot;if (result != null) {\\n&quot; +\n                                &quot;    println(result);\\n&quot; +\n                                &quot;} else {\\n&quot; +\n                                &quot;    println('result not found');\\n&quot; +\n                                &quot;}&quot;)\n        ).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\n        influxDbListener(envSetting.getInfluxDbUrl())\n                .measurement(&quot;someMeasurement&quot;)\n).run();\n</code></pre>\n<p>The code of print result needed to see if the code will works correctly. The parameter &quot;response&quot; will be different for each thread.</p>\n<p>I already tried to use httpSampler(&quot;${urlForSecondRequest}&quot;) but the result is failed.</p>\n<p>How do I send requests on the dynamic URL which provided from the response of the first request?</p>\n"},{"tags":["java","kotlin","jooq"],"answers":[{"comments":[{"owner":{"account_id":10994543,"reputation":31,"user_id":8077235,"display_name":"Daniil Spirin"},"score":0,"creation_date":1693477140,"post_id":77014070,"comment_id":135767511,"body_markdown":"not sure how to use DSL.values(). As i understand you propose select updatable records at first and then use result of such select in update statement? Then it&#39;s become quite similar as just to do update and select afterwards and i tried to avoid it","body":"not sure how to use DSL.values(). As i understand you propose select updatable records at first and then use result of such select in update statement? Then it&#39;s become quite similar as just to do update and select afterwards and i tried to avoid it"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1693493230,"post_id":77014070,"comment_id":135771111,"body_markdown":"@DaniilSpirin: No, I mean use `DSL.values()`, just like you would use that operator in SQL. See the udpated answer and https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/values/","body":"@DaniilSpirin: No, I mean use <code>DSL.values()</code>, just like you would use that operator in SQL. See the udpated answer and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/values/\" rel=\"nofollow noreferrer\">jooq.org/doc/latest/manual/sql-building/table-expressions/&hellip;</a>"},{"owner":{"account_id":10994543,"reputation":31,"user_id":8077235,"display_name":"Daniil Spirin"},"score":0,"creation_date":1693853801,"post_id":77014070,"comment_id":135811980,"body_markdown":"Got type mismatch when attempting to use result of row() method into values():\nType mismatch.\nRequired:\nRowN!\nFound:\nList&lt;Row2&lt;UUID!, WriteOffRequestStatus!&gt;","body":"Got type mismatch when attempting to use result of row() method into values(): Type mismatch. Required: RowN! Found: List&lt;Row2&lt;UUID!, WriteOffRequestStatus!&gt;"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1693895340,"post_id":77014070,"comment_id":135815784,"body_markdown":"@DaniilSpirin: I can answer a new question with more details","body":"@DaniilSpirin: I can answer a new question with more details"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693493201,"creation_date":1693470398,"answer_id":77014070,"question_id":77011798,"body_markdown":"As of jOOQ 3.18, there&#39;s a pending feature request to return generated IDs from batch `INSERT` statements, which some JDBC drivers (but only a few) support natively:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/3327\r\n\r\nI don&#39;t have high hopes of the same being possible for `UPDATE` statements. But why not just bulk update the entire data set? E.g.:\r\n\r\n```kotlin\r\nTable&lt;*&gt; s = sourceData.`as`(&quot;s&quot;);\r\n```\r\n\r\nYou can construct `sourceData` using [`DSL.values()`][1], jOOQ&#39;s support for the [`VALUES` constructor operator][2], for example:\r\n\r\n```kotlin\r\nTable&lt;*&gt; s = values(writeOffRequestsIds.map { id -&gt; \r\n    row(id, status)\r\n}).`as`(&quot;s&quot;, &quot;id&quot;, &quot;status&quot;)\r\n```\r\n\r\nAnd then:\r\n\r\n```kotlin\r\nctx.update(WRITE_OFF_REQUEST)\r\n   .set(WRITE_OFF_REQUEST.STATUS, s.field(WRITE_OFF_REQUEST.STATUS)))\r\n   .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\r\n   .from(s)\r\n   .where(WRITE_OFF_REQUEST.ID.eq(s.field(WRITE_OFF_REQUEST.ID)))\r\n   .returning()\r\n   .fetch();\r\n```\r\n\r\nThis will work only in some dialects that can support this natively, or emulate it in some way, e.g. (as of jOOQ 3.18) in:\r\n\r\n- CockroachDB\r\n- Db2\r\n- Firebird\r\n- H2\r\n- MariaDB\r\n- Oracle\r\n- PostgreSQL\r\n- SQL Server\r\n- YugabyteDB\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#values(org.jooq.Row1...)\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/values/","title":"Is there a way to return all updated rows in JOOQ batch update","body":"<p>As of jOOQ 3.18, there's a pending feature request to return generated IDs from batch <code>INSERT</code> statements, which some JDBC drivers (but only a few) support natively:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/3327\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/3327</a></li>\n</ul>\n<p>I don't have high hopes of the same being possible for <code>UPDATE</code> statements. But why not just bulk update the entire data set? E.g.:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Table&lt;*&gt; s = sourceData.`as`(&quot;s&quot;);\n</code></pre>\n<p>You can construct <code>sourceData</code> using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#values(org.jooq.Row1...)\" rel=\"nofollow noreferrer\"><code>DSL.values()</code></a>, jOOQ's support for the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/values/\" rel=\"nofollow noreferrer\"><code>VALUES</code> constructor operator</a>, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Table&lt;*&gt; s = values(writeOffRequestsIds.map { id -&gt; \n    row(id, status)\n}).`as`(&quot;s&quot;, &quot;id&quot;, &quot;status&quot;)\n</code></pre>\n<p>And then:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ctx.update(WRITE_OFF_REQUEST)\n   .set(WRITE_OFF_REQUEST.STATUS, s.field(WRITE_OFF_REQUEST.STATUS)))\n   .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\n   .from(s)\n   .where(WRITE_OFF_REQUEST.ID.eq(s.field(WRITE_OFF_REQUEST.ID)))\n   .returning()\n   .fetch();\n</code></pre>\n<p>This will work only in some dialects that can support this natively, or emulate it in some way, e.g. (as of jOOQ 3.18) in:</p>\n<ul>\n<li>CockroachDB</li>\n<li>Db2</li>\n<li>Firebird</li>\n<li>H2</li>\n<li>MariaDB</li>\n<li>Oracle</li>\n<li>PostgreSQL</li>\n<li>SQL Server</li>\n<li>YugabyteDB</li>\n</ul>\n"}],"owner":{"account_id":10994543,"reputation":31,"user_id":8077235,"display_name":"Daniil Spirin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693493201,"creation_date":1693433337,"question_id":77011798,"body_markdown":"i&#39;m trying to perform batch update query with returning of all affected rows. Maybe someone could help\r\n\r\n```\r\nfun updateStatuses(writeOffRequestsIds: Collection&lt;UUID&gt;, status: WriteOffRequestStatus): List&lt;WriteOffRequest&gt; {\r\n    val records = writeOffRequestsIds.map { id -&gt;\r\n        db.update(WRITE_OFF_REQUEST)\r\n            .set(WRITE_OFF_REQUEST.STATUS, status)\r\n            .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\r\n            .where(WRITE_OFF_REQUEST.ID.eq(id))\r\n            .returning()\r\n    }\r\n//doesnt compile here\r\n*return db.batchUpdate(*records.toTypedArray()).fetchInto(WriteOffRequest::class.java)\r\n*}\r\n```\r\n\r\nI&#39;ve tried several different approaches. created collection of UpdateableRecord etc. but it just doesnt work anyway","title":"Is there a way to return all updated rows in JOOQ batch update","body":"<p>i'm trying to perform batch update query with returning of all affected rows. Maybe someone could help</p>\n<pre><code>fun updateStatuses(writeOffRequestsIds: Collection&lt;UUID&gt;, status: WriteOffRequestStatus): List&lt;WriteOffRequest&gt; {\n    val records = writeOffRequestsIds.map { id -&gt;\n        db.update(WRITE_OFF_REQUEST)\n            .set(WRITE_OFF_REQUEST.STATUS, status)\n            .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\n            .where(WRITE_OFF_REQUEST.ID.eq(id))\n            .returning()\n    }\n//doesnt compile here\n*return db.batchUpdate(*records.toTypedArray()).fetchInto(WriteOffRequest::class.java)\n*}\n</code></pre>\n<p>I've tried several different approaches. created collection of UpdateableRecord etc. but it just doesnt work anyway</p>\n"},{"tags":["java","spring-boot","thymeleaf","jfilechooser","multipartfile"],"comments":[{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1693496812,"post_id":77016833,"comment_id":135771922,"body_markdown":"Does this answer your question? [How to get full path of selected file on change of &lt;input type=file&gt; using javascript, jquery-ajax?](https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\">How to get full path of selected file on change of &lt;input type=file&gt; using javascript, jquery-ajax?</a>"},{"owner":{"account_id":17458032,"reputation":19,"user_id":12656364,"display_name":"krzysztofskul"},"score":0,"creation_date":1693516733,"post_id":77016833,"comment_id":135775573,"body_markdown":"Yes, I think so. Thanks!","body":"Yes, I think so. Thanks!"}],"owner":{"account_id":17458032,"reputation":19,"user_id":12656364,"display_name":"krzysztofskul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693492370,"creation_date":1693492370,"question_id":77016833,"body_markdown":"How to save the (String) path to the file or folder located on local HDD using Java/SpringBoot/Thymeleaf? Is it possible at all? I use MultiPartFile to upload selected file, but I can&#39;t access the original file path in the controller. I tried JFileChooser also, but it doesn&#39;t work when I deploy my app on AWS..","title":"Save the (String) path to the file located on local HDD","body":"<p>How to save the (String) path to the file or folder located on local HDD using Java/SpringBoot/Thymeleaf? Is it possible at all? I use MultiPartFile to upload selected file, but I can't access the original file path in the controller. I tried JFileChooser also, but it doesn't work when I deploy my app on AWS..</p>\n"},{"tags":["java","python","spring","jython"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1618382853,"post_id":67084901,"comment_id":118581337,"body_markdown":"Even though this is used in a spring batch app, it is not related to spring batch per se. Hence, I will remove the `spring-batch` tag.","body":"Even though this is used in a spring batch app, it is not related to spring batch per se. Hence, I will remove the <code>spring-batch</code> tag."},{"owner":{"account_id":176760,"reputation":49321,"user_id":407651,"display_name":"mzjn"},"score":1,"creation_date":1618464539,"post_id":67084901,"comment_id":118610001,"body_markdown":"It seems doubtful that this can work. yfinance has other dependencies that cannot be used in Jython, such as `pandas` and `numpy`. https://github.com/ranaroussi/yfinance/blob/main/requirements.txt","body":"It seems doubtful that this can work. yfinance has other dependencies that cannot be used in Jython, such as <code>pandas</code> and <code>numpy</code>. <a href=\"https://github.com/ranaroussi/yfinance/blob/main/requirements.txt\" rel=\"nofollow noreferrer\">github.com/ranaroussi/yfinance/blob/main/requirements.txt</a>"}],"answers":[{"tags":[],"owner":{"account_id":8124734,"reputation":93,"user_id":6120090,"display_name":"Daniel B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693492335,"creation_date":1693492335,"answer_id":77016826,"question_id":67084901,"body_markdown":"I may be a bit late but but here is a potential solution for this kind of problem.\r\nMy project setup and scope:\r\n- Netbeans IDE with Java Maven project which uses Jython 2.7.3 on Windows 11 with embedded JythonInterpreter, see [org.python.util.PythonInterpreter][1] for more information. At some point I make a call from Java to a Python script which contains user-defined modules.\r\n\r\nWhen Jython raised an error &quot;ImportError: No module named X&quot; inside the Netbeans console my python script looked as follows:\r\n\r\n    import sys\r\n    import random\r\n    from tester_vate import *\r\n    from crc16 import *\r\n    ...\r\n\r\nSo I added sys.path.append(&#39;Absolute_path_to_python_scripts&#39;):\r\n\r\n    import sys\r\n    sys.path.append(&#39;Absolute_path_to_python_scripts&#39;)\r\n    import random\r\n    from tester_vate import *\r\n    from crc16 import *\r\n\r\nThis one worked for me. It seems that you have to temporarily add a path to the sys module, so that the interpreter can find your modules.\r\n\r\n  [1]: https://www.javadoc.io/static/org.python/jython-standalone/2.7.1/org/python/util/PythonInterpreter.html","title":"Jython ImportError: No module named requests in &lt;script&gt; at line number","body":"<p>I may be a bit late but but here is a potential solution for this kind of problem.\nMy project setup and scope:</p>\n<ul>\n<li>Netbeans IDE with Java Maven project which uses Jython 2.7.3 on Windows 11 with embedded JythonInterpreter, see <a href=\"https://www.javadoc.io/static/org.python/jython-standalone/2.7.1/org/python/util/PythonInterpreter.html\" rel=\"nofollow noreferrer\">org.python.util.PythonInterpreter</a> for more information. At some point I make a call from Java to a Python script which contains user-defined modules.</li>\n</ul>\n<p>When Jython raised an error &quot;ImportError: No module named X&quot; inside the Netbeans console my python script looked as follows:</p>\n<pre><code>import sys\nimport random\nfrom tester_vate import *\nfrom crc16 import *\n...\n</code></pre>\n<p>So I added sys.path.append('Absolute_path_to_python_scripts'):</p>\n<pre><code>import sys\nsys.path.append('Absolute_path_to_python_scripts')\nimport random\nfrom tester_vate import *\nfrom crc16 import *\n</code></pre>\n<p>This one worked for me. It seems that you have to temporarily add a path to the sys module, so that the interpreter can find your modules.</p>\n"}],"owner":{"account_id":11751385,"reputation":358,"user_id":8600439,"display_name":"Edgar Hernandez "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693492335,"creation_date":1618368995,"question_id":67084901,"body_markdown":"I&#39;m trying to run a python script in my Spring Batch app. An item processor is going to execute the aforementioned script. The problem is that my script needs to import a module and Jython is not finding the module. I tried putting the module directory in the classpath (src/main/resources) but this didn&#39;t work.\r\n\r\nThe script works if I run it with python, so we can discard something there.\r\n\r\nHere&#39;s the script:\r\n\r\n    import sys\r\n    print(sys.path)\r\n    import yfinance as yf\r\n    \r\n    print(&quot;Processing: {0}&quot;.format(item.symbol))\r\n    tickerData = yf.Ticker(item.symbol)\r\n    \r\n    dictBalanceSheet = tickerData.get_balance_sheet(as_dict=True)\r\n    keyList = dictBalanceSheet.keys()\r\n    keyList = list(keyList)\r\n    keyList.sort()\r\n    earliestDate = keyList[-1]\r\n    netIncome = tickerData.financials.at[&#39;Net Income&#39;, earliestDate]\r\n    balanceSheet = tickerData.balance_sheet\r\n    numShares = balanceSheet.at[&#39;Common Stock&#39;, earliestDate]\r\n    \r\n    eps = round(netIncome/numShares, 2) #TODO verificar cuentas si la compa&#241;ia entrega dividendos\r\n    item.eps = eps\r\n\r\nMaybe the sys.path output will give you more sight, so here&#39;s the output of the program:\r\n\r\n    [&#39;C:\\\\Users\\\\Edgar Hern\\xc3\\xa1ndez\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\Lib&#39;, &#39;C:\\\\Users\\\\EDGARH~1\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\jython-slim-2.7.2.jar\\\\Lib&#39;, &#39;__classpath__&#39;, &#39;__pyclasspath__/&#39;]\r\n    2021-04-13 22:36:23.841 ERROR 6136 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step evaluatingStep in job job\r\n    \r\n    org.springframework.scripting.ScriptCompilationException: Could not compile path [C:\\Users\\Edgar Hern&#237;ndez\\Documents\\Programacion\\GIT repos\\Stock_Analyzer\\stock-analyzer\\target\\hello-world.py]; nested exception is org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\r\n            at org.springframework.scripting.support.StandardScriptEvaluator.evaluate(StandardScriptEvaluator.java:157) ~[spring-context-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.item.support.ScriptItemProcessor.process(ScriptItemProcessor.java:64) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.item.support.ScriptItemProcessor$$FastClassBySpringCGLIB$$b97e2b15.invoke(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.item.support.ScriptItemProcessor$$EnhancerBySpringCGLIB$$ababb933.process(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.item.support.CompositeItemProcessor.processItem(CompositeItemProcessor.java:63) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.item.support.CompositeItemProcessor.process(CompositeItemProcessor.java:52) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:319) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:147) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at com.sun.proxy.$Proxy73.run(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at com.stockanalyzer.stockanalyzer.StockAnalyzerApplication.main(StockAnalyzerApplication.java:156) ~[classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    Caused by: org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\r\n\r\nAnd here&#39;s the Item Processor @Bean . The script is in the target directory:\r\n\r\n    @Bean\r\n    \t@StepScope\r\n    \tpublic ScriptItemProcessor&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt; scriptItemProcessor(@Value(&quot;#{jobParameters[&#39;script&#39;]}&quot;) String script) { //TODO cambiar nombre del archivo py\r\n    \t\tSystem.out.println(&quot;script path: &quot; + script);\r\n    \t\treturn new ScriptItemProcessorBuilder&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt;().language(&quot;jython&quot;).scriptResource(new PathResource(script)).build(); //TODO cambiar ruta del archivo py\r\n    \t}","title":"Jython ImportError: No module named requests in &lt;script&gt; at line number","body":"<p>I'm trying to run a python script in my Spring Batch app. An item processor is going to execute the aforementioned script. The problem is that my script needs to import a module and Jython is not finding the module. I tried putting the module directory in the classpath (src/main/resources) but this didn't work.</p>\n<p>The script works if I run it with python, so we can discard something there.</p>\n<p>Here's the script:</p>\n<pre><code>import sys\nprint(sys.path)\nimport yfinance as yf\n\nprint(&quot;Processing: {0}&quot;.format(item.symbol))\ntickerData = yf.Ticker(item.symbol)\n\ndictBalanceSheet = tickerData.get_balance_sheet(as_dict=True)\nkeyList = dictBalanceSheet.keys()\nkeyList = list(keyList)\nkeyList.sort()\nearliestDate = keyList[-1]\nnetIncome = tickerData.financials.at['Net Income', earliestDate]\nbalanceSheet = tickerData.balance_sheet\nnumShares = balanceSheet.at['Common Stock', earliestDate]\n\neps = round(netIncome/numShares, 2) #TODO verificar cuentas si la compaia entrega dividendos\nitem.eps = eps\n</code></pre>\n<p>Maybe the sys.path output will give you more sight, so here's the output of the program:</p>\n<pre><code>['C:\\\\Users\\\\Edgar Hern\\xc3\\xa1ndez\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\Lib', 'C:\\\\Users\\\\EDGARH~1\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\jython-slim-2.7.2.jar\\\\Lib', '__classpath__', '__pyclasspath__/']\n2021-04-13 22:36:23.841 ERROR 6136 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step evaluatingStep in job job\n\norg.springframework.scripting.ScriptCompilationException: Could not compile path [C:\\Users\\Edgar Hernndez\\Documents\\Programacion\\GIT repos\\Stock_Analyzer\\stock-analyzer\\target\\hello-world.py]; nested exception is org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\n        at org.springframework.scripting.support.StandardScriptEvaluator.evaluate(StandardScriptEvaluator.java:157) ~[spring-context-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.item.support.ScriptItemProcessor.process(ScriptItemProcessor.java:64) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.item.support.ScriptItemProcessor$$FastClassBySpringCGLIB$$b97e2b15.invoke(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.item.support.ScriptItemProcessor$$EnhancerBySpringCGLIB$$ababb933.process(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.item.support.CompositeItemProcessor.processItem(CompositeItemProcessor.java:63) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.item.support.CompositeItemProcessor.process(CompositeItemProcessor.java:52) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:319) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:147) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at com.sun.proxy.$Proxy73.run(Unknown Source) ~[na:na]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at com.stockanalyzer.stockanalyzer.StockAnalyzerApplication.main(StockAnalyzerApplication.java:156) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\n</code></pre>\n<p>And here's the Item Processor @Bean . The script is in the target directory:</p>\n<pre><code>@Bean\n    @StepScope\n    public ScriptItemProcessor&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt; scriptItemProcessor(@Value(&quot;#{jobParameters['script']}&quot;) String script) { //TODO cambiar nombre del archivo py\n        System.out.println(&quot;script path: &quot; + script);\n        return new ScriptItemProcessorBuilder&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt;().language(&quot;jython&quot;).scriptResource(new PathResource(script)).build(); //TODO cambiar ruta del archivo py\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jsp"],"answers":[{"tags":[],"owner":{"account_id":3873084,"reputation":3007,"user_id":3207874,"accept_rate":100,"display_name":"user3207874"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574079191,"creation_date":1574079191,"answer_id":58914306,"question_id":58910487,"body_markdown":"# Solution:\r\n\r\nLooks like it was a bug in Tomcat. I was finally able to get it working using Jetty. Steps:\r\n\r\n1) Use Jetty instead of Tomcat. In build.gradle dependencies section, comment out `org.springframework.boot:spring-boot-starter-web` and `org.apache.tomcat.embed:tomcat-embed-jasper` lines and add:\r\n\r\n```\r\ncompile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n   exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n}\r\ncompile(&quot;org.springframework.boot:spring-boot-starter-jetty&quot;)\r\ncompile(&quot;org.eclipse.jetty:apache-jsp&quot;)\r\ncompile &quot;javax.servlet:jstl:1.2&quot;\r\n```\r\n\r\n2) Build the war file. Jar files didn&#39;t work for me, since Jetty didn&#39;t find the JSP files when I used jar. If you cant build war files, then make sure you have this in your `build.gradle`:\r\n\r\n```\r\nplugins {\r\n  id &#39;war&#39;\r\n}\r\n```\r\n\r\nIt needs to be right after the `buildscript` code block.\r\n\r\nBuild the war file using\r\n\r\n`gradle build war`\r\n\r\nIt will appear in your `build/libs/` directory.\r\n\r\n3) Run the application:\r\n\r\n`java -jar application.war`\r\n\r\n***\r\n\r\n# Extra stuff\r\n\r\nHere&#39;s my complete `build.gradle` file if it&#39;s useful to anyone. I&#39;m aware there are a few unnecessary lines there.\r\n\r\n```\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.0.2.RELEASE&quot;)\r\n    }\r\n}\r\n\r\nplugins {\r\n   id &#39;war&#39;\r\n}\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\nmainClassName = &#39;com.project.foo.bar.Application&#39;\r\n\r\n\r\nbootJar {\r\n    baseName = &#39;bar&#39;\r\n    version =  &#39;0.1.0&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n      exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n    }\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-jetty&quot;)    \r\n    //compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    //compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n\r\n    // persistence\r\n    compile(&quot;org.springframework:spring-orm:4.0.3.RELEASE&quot;)\r\n    compile(&quot;commons-dbcp:commons-dbcp:1.4&quot;)\r\n    compile(&quot;org.hibernate:hibernate-core:4.3.11.Final&quot;)\r\n    compile(&quot;org.hibernate:hibernate-entitymanager:4.3.11.Final&quot;)\r\n    runtime(&#39;mysql:mysql-connector-java&#39;)\r\n\r\n    // servlets\r\n    compile(&quot;javax.servlet:javax.servlet-api:4.0.1&quot;)\r\n    compile(&quot;javax.servlet.jsp:javax.servlet.jsp-api:2.3.1&quot;)\r\n    // runtime(&quot;org.apache.tomcat.embed:tomcat-embed-jasper&quot;)\r\n    compile(&quot;org.eclipse.jetty:apache-jsp&quot;)\r\n    compile &quot;javax.servlet:jstl:1.2&quot;\r\n}\r\n\r\n\r\n```","title":"Spring Boot hangs indefinitely when serving JSP content","body":"<h1>Solution:</h1>\n\n<p>Looks like it was a bug in Tomcat. I was finally able to get it working using Jetty. Steps:</p>\n\n<p>1) Use Jetty instead of Tomcat. In build.gradle dependencies section, comment out <code>org.springframework.boot:spring-boot-starter-web</code> and <code>org.apache.tomcat.embed:tomcat-embed-jasper</code> lines and add:</p>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-web\") {\n   exclude module: \"spring-boot-starter-tomcat\"\n}\ncompile(\"org.springframework.boot:spring-boot-starter-jetty\")\ncompile(\"org.eclipse.jetty:apache-jsp\")\ncompile \"javax.servlet:jstl:1.2\"\n</code></pre>\n\n<p>2) Build the war file. Jar files didn't work for me, since Jetty didn't find the JSP files when I used jar. If you cant build war files, then make sure you have this in your <code>build.gradle</code>:</p>\n\n<pre><code>plugins {\n  id 'war'\n}\n</code></pre>\n\n<p>It needs to be right after the <code>buildscript</code> code block.</p>\n\n<p>Build the war file using</p>\n\n<p><code>gradle build war</code></p>\n\n<p>It will appear in your <code>build/libs/</code> directory.</p>\n\n<p>3) Run the application:</p>\n\n<p><code>java -jar application.war</code></p>\n\n<hr>\n\n<h1>Extra stuff</h1>\n\n<p>Here's my complete <code>build.gradle</code> file if it's useful to anyone. I'm aware there are a few unnecessary lines there.</p>\n\n<pre><code>\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.2.RELEASE\")\n    }\n}\n\nplugins {\n   id 'war'\n}\napply plugin: 'java'\napply plugin: 'application'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\nmainClassName = 'com.project.foo.bar.Application'\n\n\nbootJar {\n    baseName = 'bar'\n    version =  '0.1.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\") {\n      exclude module: \"spring-boot-starter-tomcat\"\n    }\n    compile(\"org.springframework.boot:spring-boot-starter-jetty\")    \n    //compile(\"org.springframework.boot:spring-boot-starter-web\")\n    //compile(\"org.springframework.boot:spring-boot-starter-security\")\n\n    // persistence\n    compile(\"org.springframework:spring-orm:4.0.3.RELEASE\")\n    compile(\"commons-dbcp:commons-dbcp:1.4\")\n    compile(\"org.hibernate:hibernate-core:4.3.11.Final\")\n    compile(\"org.hibernate:hibernate-entitymanager:4.3.11.Final\")\n    runtime('mysql:mysql-connector-java')\n\n    // servlets\n    compile(\"javax.servlet:javax.servlet-api:4.0.1\")\n    compile(\"javax.servlet.jsp:javax.servlet.jsp-api:2.3.1\")\n    // runtime(\"org.apache.tomcat.embed:tomcat-embed-jasper\")\n    compile(\"org.eclipse.jetty:apache-jsp\")\n    compile \"javax.servlet:jstl:1.2\"\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170417,"reputation":898,"user_id":397103,"display_name":"CTarczon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693492024,"creation_date":1693492024,"answer_id":77016782,"question_id":58910487,"body_markdown":"I just encountered this issue as well. It would only happen after going through a certain codepath in one of our servlet filters but I don&#39;t know how that caused it.\r\n\r\nAfter some deep dive debugging, I found that the JSP compilation stage was doing...something. I don&#39;t know what but the CPU was maxed and the request was hung. This was happening in the tomcat-embed-jasper.jar so yes, Tomcat specific.\r\n\r\nSince it was only happening during compilation after the servlet filter I wondered if we could pre-compile them. Turns out yes!\r\n\r\nI added the `preCompileJspsAtStartup` bean from this answer and now everything works:\r\nhttps://stackoverflow.com/a/35651338/397103\r\n\r\n(Spring Boot 3, Tomcat 10.1.10, Java 17)","title":"Spring Boot hangs indefinitely when serving JSP content","body":"<p>I just encountered this issue as well. It would only happen after going through a certain codepath in one of our servlet filters but I don't know how that caused it.</p>\n<p>After some deep dive debugging, I found that the JSP compilation stage was doing...something. I don't know what but the CPU was maxed and the request was hung. This was happening in the tomcat-embed-jasper.jar so yes, Tomcat specific.</p>\n<p>Since it was only happening during compilation after the servlet filter I wondered if we could pre-compile them. Turns out yes!</p>\n<p>I added the <code>preCompileJspsAtStartup</code> bean from this answer and now everything works:\n<a href=\"https://stackoverflow.com/a/35651338/397103\">https://stackoverflow.com/a/35651338/397103</a></p>\n<p>(Spring Boot 3, Tomcat 10.1.10, Java 17)</p>\n"}],"owner":{"account_id":3873084,"reputation":3007,"user_id":3207874,"accept_rate":100,"display_name":"user3207874"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58914306,"answer_count":2,"score":1,"last_activity_date":1693492024,"creation_date":1574065569,"question_id":58910487,"body_markdown":"The app previously worked on another machine, so the code should all be valid. I&#39;m having difficulties porting it to another machine. Namely, the problem is that when it&#39;s time to serve a JSP view, the app hangs indefinitely.\r\n\r\nThe controller looks like this:\r\n\r\n```\r\n@RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n\tpublic String bookings(BookingFilterRequest bookingFilterRequest,\r\n\t\t\t\t\t\t   PeriodRequest periodRequest,\r\n\t\t\t\t\t\t   Model model,\r\n\t\t\t\t\t\t   BindingResult bindingResult) {\r\n\t\t// Fetch data from database, do things\r\n\t\treturn &quot;booking/bookings&quot;; // serve JSP view\r\n\t}\r\n```\r\n\r\nThe code runs fine up until the `return &quot;booking/bookings&quot;` line, which is where it hangs. The JSP view is in the correct folder, otherwise it would give a `not found` error.\r\n\r\nI tried installing the same java and gradle versions that the previous server had, with no change.\r\n\r\nVersion information (default installed versions on new server):\r\n```\r\nopenjdk 11.0.4 2019-07-16\r\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)\r\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode)\r\nGradle 4.4.1\r\n```\r\n\r\nOld server had `java 10.0.2` and `gradle 5.0`.\r\n\r\nHow do I get it to run without hanging?\r\n\r\nUpdate:\r\n\r\nIf I wait about 10 minutes, then it magically starts working. But restarting the application makes it hang again, until you wait 10 minutes again.\r\n\r\nUpdate2:\r\n\r\nIf I put console print lines in the JSP file, then they are not printed out. Meaning, the JSP does not get executed.","title":"Spring Boot hangs indefinitely when serving JSP content","body":"<p>The app previously worked on another machine, so the code should all be valid. I'm having difficulties porting it to another machine. Namely, the problem is that when it's time to serve a JSP view, the app hangs indefinitely.</p>\n\n<p>The controller looks like this:</p>\n\n<pre><code>@RequestMapping(value = \"\", method = RequestMethod.GET)\n    public String bookings(BookingFilterRequest bookingFilterRequest,\n                           PeriodRequest periodRequest,\n                           Model model,\n                           BindingResult bindingResult) {\n        // Fetch data from database, do things\n        return \"booking/bookings\"; // serve JSP view\n    }\n</code></pre>\n\n<p>The code runs fine up until the <code>return \"booking/bookings\"</code> line, which is where it hangs. The JSP view is in the correct folder, otherwise it would give a <code>not found</code> error.</p>\n\n<p>I tried installing the same java and gradle versions that the previous server had, with no change.</p>\n\n<p>Version information (default installed versions on new server):</p>\n\n<pre><code>openjdk 11.0.4 2019-07-16\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode)\nGradle 4.4.1\n</code></pre>\n\n<p>Old server had <code>java 10.0.2</code> and <code>gradle 5.0</code>.</p>\n\n<p>How do I get it to run without hanging?</p>\n\n<p>Update:</p>\n\n<p>If I wait about 10 minutes, then it magically starts working. But restarting the application makes it hang again, until you wait 10 minutes again.</p>\n\n<p>Update2:</p>\n\n<p>If I put console print lines in the JSP file, then they are not printed out. Meaning, the JSP does not get executed.</p>\n"},{"tags":["java","spring","http","header","response"],"comments":[{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1536666146,"post_id":52274339,"comment_id":91497588,"body_markdown":"Please check out https://spring.io/guides/gs/rest-service-cors/","body":"Please check out <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/rest-service-cors</a>"}],"answers":[{"comments":[{"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"score":1,"creation_date":1536667029,"post_id":52274954,"comment_id":91498173,"body_markdown":"Thanks very much for your reply! Is there a way to see this change in the browser? For example in the web developer console of firefox?","body":"Thanks very much for your reply! Is there a way to see this change in the browser? For example in the web developer console of firefox?"},{"owner":{"account_id":10933337,"reputation":642,"user_id":8035798,"accept_rate":50,"display_name":"Seymur Asadov"},"score":0,"creation_date":1536667360,"post_id":52274954,"comment_id":91498369,"body_markdown":"You can see response header like CORS in any browsers dev tool  network section..","body":"You can see response header like CORS in any browsers dev tool  network section.."},{"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"score":0,"creation_date":1536667816,"post_id":52274954,"comment_id":91498667,"body_markdown":"I tried both of your suggestions above but am not seeing anything like a CORS response in the network section of Firefox","body":"I tried both of your suggestions above but am not seeing anything like a CORS response in the network section of Firefox"},{"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"score":0,"creation_date":1536668004,"post_id":52274954,"comment_id":91498798,"body_markdown":"My response header has only the following: HTTP/1.1 200 \nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Tue, 11 Sep 2018 12:08:18 GMT","body":"My response header has only the following: HTTP/1.1 200  Content-Type: application/json;charset=UTF-8 Transfer-Encoding: chunked Date: Tue, 11 Sep 2018 12:08:18 GMT"},{"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"score":0,"creation_date":1536671557,"post_id":52274954,"comment_id":91501214,"body_markdown":"okay now I see it: HTTP/1.1 200 \nAccess-Control-Allow-Origin: *\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Tue, 11 Sep 2018 13:10:57 GMT","body":"okay now I see it: HTTP/1.1 200  Access-Control-Allow-Origin: * Content-Type: application/json;charset=UTF-8 Transfer-Encoding: chunked Date: Tue, 11 Sep 2018 13:10:57 GMT"},{"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"score":0,"creation_date":1536682740,"post_id":52274954,"comment_id":91508492,"body_markdown":"Thanks very much for your help!!","body":"Thanks very much for your help!!"}],"tags":[],"owner":{"account_id":10933337,"reputation":642,"user_id":8035798,"accept_rate":50,"display_name":"Seymur Asadov"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536665675,"creation_date":1536665675,"answer_id":52274954,"question_id":52274339,"body_markdown":"Try this code:\r\n\r\n \r\n\r\n      @CrossOrigin(origins = &quot;*&quot;)\r\n       @RequestMapping(&quot;/some&quot;)\r\n       public Response some(@RequestParam(value=&quot;body&quot;)  String user) {\r\n          return new Response(user);\r\n       }\r\n\r\nor this\r\n   \r\n\r\n    @RequestMapping(&quot;/some&quot;)\r\n    public Response some(@RequestParam(value=&quot;body&quot;)  String user,HttpServletResponse \r\n    response) {\r\n       response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n       return new Response(user);\r\n    }\r\n     \r\n","title":"How to set Access-Control-Allow-Origin when using @RestController?","body":"<p>Try this code:</p>\n\n<pre><code>  @CrossOrigin(origins = \"*\")\n   @RequestMapping(\"/some\")\n   public Response some(@RequestParam(value=\"body\")  String user) {\n      return new Response(user);\n   }\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>@RequestMapping(\"/some\")\npublic Response some(@RequestParam(value=\"body\")  String user,HttpServletResponse \nresponse) {\n   response.addHeader(\"Access-Control-Allow-Origin\", \"*\");\n   return new Response(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28037304,"reputation":1,"user_id":21415460,"display_name":"Danica Zdravkovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693491784,"creation_date":1693491784,"answer_id":77016753,"question_id":52274339,"body_markdown":"Adding @CrossOrigin(&quot;http://localhost:3000&quot;) at the top of my class or before method in REST controller works. Thanks a lot!\r\nExample:\r\n\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @CrossOrigin(&quot;http://localhost:3000&quot;)\r\n    public class UserController {\r\n    \r\n        private final UserService userService;\r\n    \r\n    \r\n        @PostMapping(&quot;/api/user/login&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        ResponseEntity&lt;Object&gt; customerLogin(@RequestBody UserDto userDto) {\r\n            try {\r\n                UserDto entity = userService.login(userDto);\r\n                return ResponseEntity.status(HttpStatus.OK).body(entity);\r\n    \r\n            } catch (RuntimeException e) {\r\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e.getMessage());\r\n            }\r\n        }\r\n\r\n","title":"How to set Access-Control-Allow-Origin when using @RestController?","body":"<p>Adding @CrossOrigin(&quot;http://localhost:3000&quot;) at the top of my class or before method in REST controller works. Thanks a lot!\nExample:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@CrossOrigin(&quot;http://localhost:3000&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n\n    @PostMapping(&quot;/api/user/login&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    ResponseEntity&lt;Object&gt; customerLogin(@RequestBody UserDto userDto) {\n        try {\n            UserDto entity = userService.login(userDto);\n            return ResponseEntity.status(HttpStatus.OK).body(entity);\n\n        } catch (RuntimeException e) {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52274954,"answer_count":2,"score":0,"last_activity_date":1693491784,"creation_date":1536663438,"question_id":52274339,"body_markdown":"I am using @RestController to provide a REST service. But I need to set Access-Control-Allow-Origin in the response header. How would I do this?\r\n\r\nMy RestController:\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class restController  {\r\n\r\n       @RequestMapping(&quot;/some&quot;)\r\n       public Response some(@RequestParam(value=&quot;body&quot;)  String user) {\r\n          return new Response(user);\r\n       }\r\n    }\r\n\r\nMy Response:\r\n\r\n    public class Response {\r\n\r\n      long id;\r\n      String user;\r\n\r\n      public Response(String user) {\r\n           this.id = 7;\r\n           this.user = user;\r\n      }\r\n    }\r\n    \r\n@RestController works very well but how can I modify it or the response to set Access-Control-Allow-Origin?","title":"How to set Access-Control-Allow-Origin when using @RestController?","body":"<p>I am using @RestController to provide a REST service. But I need to set Access-Control-Allow-Origin in the response header. How would I do this?</p>\n\n<p>My RestController:</p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class restController  {\n\n   @RequestMapping(\"/some\")\n   public Response some(@RequestParam(value=\"body\")  String user) {\n      return new Response(user);\n   }\n}\n</code></pre>\n\n<p>My Response:</p>\n\n<pre><code>public class Response {\n\n  long id;\n  String user;\n\n  public Response(String user) {\n       this.id = 7;\n       this.user = user;\n  }\n}\n</code></pre>\n\n<p>@RestController works very well but how can I modify it or the response to set Access-Control-Allow-Origin?</p>\n"},{"tags":["java","algorithm","sorting","hashmap"],"comments":[{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1447377130,"post_id":33682455,"comment_id":55141463,"body_markdown":"http://math.stackexchange.com/questions/302057/generating-a-random-derangement The paper referenced by the answer appears to be a solution","body":"<a href=\"http://math.stackexchange.com/questions/302057/generating-a-random-derangement\" title=\"generating a random derangement\">math.stackexchange.com/questions/302057/&hellip;</a> The paper referenced by the answer appears to be a solution"}],"answers":[{"comments":[{"owner":{"account_id":3436210,"reputation":1058,"user_id":2879292,"accept_rate":70,"display_name":"Patidati"},"score":0,"creation_date":1447366826,"post_id":33682502,"comment_id":55137982,"body_markdown":"Is it guaranteed that a value at location 1 wont end up and the same?","body":"Is it guaranteed that a value at location 1 wont end up and the same?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1447366908,"post_id":33682502,"comment_id":55138015,"body_markdown":"Hm, no. That&#39;s something to fix.","body":"Hm, no. That&#39;s something to fix."},{"owner":{"account_id":1178589,"reputation":2167,"user_id":1154012,"display_name":"Grogi"},"score":0,"creation_date":1447366913,"post_id":33682502,"comment_id":55138021,"body_markdown":"Actually shifting the new list by random number would be better.","body":"Actually shifting the new list by random number would be better."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447367548,"creation_date":1447366757,"answer_id":33682502,"question_id":33682455,"body_markdown":"Copy your list into a queue, shuffle it, then assign pairs from list and queue. If the element in the queue is the same, put it back at the tail and take the next one.\r\n\r\n    List&lt;String&gt; list = &lt;list with your items&gt;;\r\n    ArrayDeque&lt;String&gt; queue = new ArrayDeque&lt;&gt;(list1);\r\n    Collections.shuffle(queue);\r\n    List&lt;StringPair&gt; result = new ArrayList&lt;&gt;();\r\n    for (String s : list) {\r\n       for (String s2; (s2 = queue.poll()).equals(s);)\r\n         queue.offer(s2);\r\n       result.add(s, s2);\r\n    }\r\n\r\nThe above is a basic outline and probably needs some more work, but it seems like a good approach.","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>Copy your list into a queue, shuffle it, then assign pairs from list and queue. If the element in the queue is the same, put it back at the tail and take the next one.</p>\n\n<pre><code>List&lt;String&gt; list = &lt;list with your items&gt;;\nArrayDeque&lt;String&gt; queue = new ArrayDeque&lt;&gt;(list1);\nCollections.shuffle(queue);\nList&lt;StringPair&gt; result = new ArrayList&lt;&gt;();\nfor (String s : list) {\n   for (String s2; (s2 = queue.poll()).equals(s);)\n     queue.offer(s2);\n   result.add(s, s2);\n}\n</code></pre>\n\n<p>The above is a basic outline and probably needs some more work, but it seems like a good approach.</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1447367053,"post_id":33682563,"comment_id":55138082,"body_markdown":"&quot;Assign a value at random&quot;---how do you get a value at random from a set?","body":"&quot;Assign a value at random&quot;---how do you get a value at random from a set?"},{"owner":{"account_id":3436210,"reputation":1058,"user_id":2879292,"accept_rate":70,"display_name":"Patidati"},"score":0,"creation_date":1447367311,"post_id":33682563,"comment_id":55138215,"body_markdown":"Yeah this is what I was trying to do, but I was wondering if there was an algorithm for this, or if anyone had a solution.","body":"Yeah this is what I was trying to do, but I was wondering if there was an algorithm for this, or if anyone had a solution."}],"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447367888,"creation_date":1447366944,"answer_id":33682563,"question_id":33682455,"body_markdown":"What you are talking about is called a derangement. As far as I know it&#39;s quite difficult to generate derangements in such a way that they are all equally likely, but there is a reasonably effective way of generating them.\r\n\r\nSimply iterate over the keys and assign a value at random from the set of keys that haven&#39;t already been used, always avoiding the current key.\r\n\r\nYou can actually only get stuck at the very last step. E.g. something like this\r\n\r\n    1 - 2 \r\n    2 - 4 \r\n    3 - 1\r\n    4 - 3\r\n    5 - ???\r\n\r\nIf this happens, just choose one of the values already selected, and swap.\r\n\r\n    1 - 2\r\n    2 - 5 &lt;-- swap\r\n    3 - 1\r\n    4 - 3\r\n    5 - 4 &lt;-- swap\r\n\r\nAn implementation of `Set` with an efficient method for getting random elements is given [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/32548942/3973077","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>What you are talking about is called a derangement. As far as I know it's quite difficult to generate derangements in such a way that they are all equally likely, but there is a reasonably effective way of generating them.</p>\n\n<p>Simply iterate over the keys and assign a value at random from the set of keys that haven't already been used, always avoiding the current key.</p>\n\n<p>You can actually only get stuck at the very last step. E.g. something like this</p>\n\n<pre><code>1 - 2 \n2 - 4 \n3 - 1\n4 - 3\n5 - ???\n</code></pre>\n\n<p>If this happens, just choose one of the values already selected, and swap.</p>\n\n<pre><code>1 - 2\n2 - 5 &lt;-- swap\n3 - 1\n4 - 3\n5 - 4 &lt;-- swap\n</code></pre>\n\n<p>An implementation of <code>Set</code> with an efficient method for getting random elements is given <a href=\"https://stackoverflow.com/a/32548942/3973077\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":3436210,"reputation":1058,"user_id":2879292,"accept_rate":70,"display_name":"Patidati"},"score":0,"creation_date":1447369280,"post_id":33682747,"comment_id":55139077,"body_markdown":"Thank you, this looks great ! Will test it tomorrow mornng.","body":"Thank you, this looks great ! Will test it tomorrow mornng."}],"tags":[],"owner":{"account_id":194138,"reputation":7712,"user_id":436287,"accept_rate":75,"display_name":"onlynone"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693491777,"creation_date":1447367808,"answer_id":33682747,"question_id":33682455,"body_markdown":"The answer isn&#39;t in java, but since this is more of an algorithms question, I&#39;m sure you could figure out how to translate the python to java:\r\n\r\n```python\r\nimport random\r\n\r\n# The original collection, using a set instead of map/hash since we don&#39;t care\r\n# about the values\r\nset1 = set(range(100))\r\n\r\n# Make a copy of set1, we&#39;re using a list here so that random.choice will work\r\nset2 = list(set1)\r\n\r\npairs = []\r\n\r\nfor i in set1:\r\n\r\n  # Deal with the final item being the same in both collections,\r\n  # swap with the first one\r\n  if len(set2) == 1 and i == set2[0]:\r\n    tmp = pairs[0][1]\r\n    pairs[0][1] = set2[0]\r\n    pairs.append([i,tmp])\r\n    break\r\n\r\n  # Pick random items from set2 until you get one that isn&#39;t the same as i\r\n  while True:\r\n    j = random.choice(set2)\r\n    if i != j:\r\n      break\r\n\r\n  # Remove the value from set2 so we won&#39;t pick it again\r\n  # In this example, set2 is actually a list so that random.choice would work on it\r\n  # This could be kind of expensive, might be better using an actual set\r\n  set2.remove(j)\r\n\r\n  # Add our pair to the paired up list\r\n  pairs.append([i,j])\r\n```\r\n","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>The answer isn't in java, but since this is more of an algorithms question, I'm sure you could figure out how to translate the python to java:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import random\n\n# The original collection, using a set instead of map/hash since we don't care\n# about the values\nset1 = set(range(100))\n\n# Make a copy of set1, we're using a list here so that random.choice will work\nset2 = list(set1)\n\npairs = []\n\nfor i in set1:\n\n  # Deal with the final item being the same in both collections,\n  # swap with the first one\n  if len(set2) == 1 and i == set2[0]:\n    tmp = pairs[0][1]\n    pairs[0][1] = set2[0]\n    pairs.append([i,tmp])\n    break\n\n  # Pick random items from set2 until you get one that isn't the same as i\n  while True:\n    j = random.choice(set2)\n    if i != j:\n      break\n\n  # Remove the value from set2 so we won't pick it again\n  # In this example, set2 is actually a list so that random.choice would work on it\n  # This could be kind of expensive, might be better using an actual set\n  set2.remove(j)\n\n  # Add our pair to the paired up list\n  pairs.append([i,j])\n</code></pre>\n"}],"owner":{"account_id":3436210,"reputation":1058,"user_id":2879292,"accept_rate":70,"display_name":"Patidati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693491777,"creation_date":1447366514,"question_id":33682455,"body_markdown":"It&#39;s possible this is not most logical/easyiest/effective way of doing this. I would love some input on a better logic, so I&#39;ll rather try to explain the problem.\r\n\r\nList:\r\n\r\n    Jon - null\r\n    Dad - null\r\n    Mom - null\r\n    Thor - null\r\n    July - null\r\n\r\nI want to create a method that matches these with another &#39;key&#39; at random, not having duplicate values or having a key and value which are the same.\r\n\r\nAnother problem is if there are for example 3 keys.\r\n\r\n    1 - null\r\n    2 - null\r\n    3 - null\r\n\r\nIteration 1:\r\n\r\n    1 - 2\r\n    2 - null\r\n    3 - null\r\n\r\nIteration 2:\r\n\r\n    1 - 2\r\n    2 - 1\r\n    3 - null\r\n\r\nIteration 3:\r\n\r\n???\r\n\r\nIt&#39;s possible a HashMap not is the most logical way of storing this.","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>It's possible this is not most logical/easyiest/effective way of doing this. I would love some input on a better logic, so I'll rather try to explain the problem.</p>\n\n<p>List:</p>\n\n<pre><code>Jon - null\nDad - null\nMom - null\nThor - null\nJuly - null\n</code></pre>\n\n<p>I want to create a method that matches these with another 'key' at random, not having duplicate values or having a key and value which are the same.</p>\n\n<p>Another problem is if there are for example 3 keys.</p>\n\n<pre><code>1 - null\n2 - null\n3 - null\n</code></pre>\n\n<p>Iteration 1:</p>\n\n<pre><code>1 - 2\n2 - null\n3 - null\n</code></pre>\n\n<p>Iteration 2:</p>\n\n<pre><code>1 - 2\n2 - 1\n3 - null\n</code></pre>\n\n<p>Iteration 3:</p>\n\n<p>???</p>\n\n<p>It's possible a HashMap not is the most logical way of storing this.</p>\n"},{"tags":["java","shiro"],"answers":[{"tags":[],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693491431,"creation_date":1693491431,"answer_id":77016703,"question_id":77008986,"body_markdown":"My problem was that I was using the pre-built maven artifact for the shiro-ehcache package, so I&#39;ve managed to sort this out by building the package from source with Java 11. Since jaxb was dropped from java 11, I also needed the following packages:\r\n \r\n- jaxb-impl\r\n- jaxb-core\r\n- jaxb-api\r\n- jakarta.xml.bind-api\r\n- jakarta.activation\r\n- javax.activation-api","title":"Apache Shiro cannot find ehcache default config with Java 11","body":"<p>My problem was that I was using the pre-built maven artifact for the shiro-ehcache package, so I've managed to sort this out by building the package from source with Java 11. Since jaxb was dropped from java 11, I also needed the following packages:</p>\n<ul>\n<li>jaxb-impl</li>\n<li>jaxb-core</li>\n<li>jaxb-api</li>\n<li>jakarta.xml.bind-api</li>\n<li>jakarta.activation</li>\n<li>javax.activation-api</li>\n</ul>\n"}],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693491431,"creation_date":1693405836,"question_id":77008986,"body_markdown":"I have a web application that uses Apache Shiro. I&#39;m upgrading from Java 8 to 11. That is the only change, but when I try to launch my server, it looks like shiro can&#39;t find the default ehcache.xml config. I get the following error:\r\n\r\n    [main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\r\n    [main] ERROR org.apache.shiro.web.env.EnvironmentLoader - Shiro environment initialization failed\r\n    java.lang.NullPointerException: The url can not be null\r\n    \tat org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:151)\r\n    \tat org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:131)\r\n    \tat org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:115)\r\n    \tat org.ehcache.integrations.shiro.EhcacheShiroManager.getConfiguration(EhcacheShiroManager.java:176)\r\n    \tat org.ehcache.integrations.shiro.EhcacheShiroManager.ensureCacheManager(EhcacheShiroManager.java:149)\r\n    \tat org.ehcache.integrations.shiro.EhcacheShiroManager.init(EhcacheShiroManager.java:205)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\r\n    \tat org.apache.shiro.config.ReflectionBuilder$BeanConfigurationProcessor.execute(ReflectionBuilder.java:831)\r\n    \tat org.apache.shiro.config.ReflectionBuilder.buildObjects(ReflectionBuilder.java:290)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.buildInstances(IniSecurityManagerFactory.java:181)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:139)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:107)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:98)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:47)\r\n    \tat org.apache.shiro.config.IniFactorySupport.createInstance(IniFactorySupport.java:150)\r\n    \tat org.apache.shiro.util.AbstractFactory.getInstance(AbstractFactory.java:47)\r\n    \tat org.apache.shiro.web.env.IniWebEnvironment.createWebSecurityManager(IniWebEnvironment.java:296)\r\n    \tat org.apache.shiro.web.env.IniWebEnvironment.configure(IniWebEnvironment.java:121)\r\n    \tat org.apache.shiro.web.env.IniWebEnvironment.init(IniWebEnvironment.java:73)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\r\n    \tat org.apache.shiro.web.env.EnvironmentLoader.createEnvironment(EnvironmentLoader.java:313)\r\n    \tat org.apache.shiro.web.env.EnvironmentLoader.initEnvironment(EnvironmentLoader.java:139)\r\n    \tat org.apache.shiro.web.env.EnvironmentLoaderListener.contextInitialized(EnvironmentLoaderListener.java:58)\r\n\r\nIn my web.xml I have:\r\n\r\n    &lt;listener&gt;\r\n            &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n...which automatically picks up my shiro.ini config in my WEB-INF directory, which contains (among other things):\r\n\r\n    [main]\r\n    ...\r\n    ...\r\n    cacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\r\n    securityManager.cacheManager = $cacheManager\r\n\r\nWhen I compile and run using java 8, there&#39;s no problems finding the ehcache config and the server starts up normally:\r\n\r\n    [main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\r\n    [main] INFO org.ehcache.xml.XmlConfiguration - Loading Ehcache XML configuration from file:/path/to/my/app/lib/shiro-ehcache3-1.0.0.jar!/org/ehcache/integrations/shiro/ehcache.xml.\r\n\r\nAs I mentioned, the only change is that I&#39;m compiling and running with java 11. All of the same jars are available to both builds, and those shiro specific jars are:\r\n\r\n- shiro-all-1.12.0.jar\r\n- shiro-ehcache3-1.0.0.jar\r\n\r\nI&#39;ve also tried adding `cacheManager.cacheManagerConfigFile = /path/to/custom/configuration.xml` to my shiro.ini as suggested by [the docs here][1] by extracting the default ehcache.xml config file from the ehcache jar, but no matter what path I use in the ini file, the server startup always fails with `org.apache.shiro.ShiroException: java.net.MalformedURLException: no protocol: /path/to/my/app/ehcache.xml`.  \r\n\r\nI&#39;ve also tried setting the `cacheManagerConfigFile` path to the ehcache xml config programmatically in my application entry point, but I get a MalformedURLException for any string that I provide e.g. &quot;/path/to/my/app/ehcache.xml&quot;, &quot;file:///path/to...&quot; or &quot;classpath:ehcache.xml&quot;.\r\n\r\nThe default ehcache.xml config extraction was really just a workaround though (that I can&#39;t get working), so ideally I would like to understand and fix why shiro isn&#39;t finding the default config itself with java 11.\r\n\r\nI&#39;ve reproduced this problem with a minimal example by initialising the ini file programatically like below and putting the ini file into the root of the classpath:  \r\n\r\n    import org.apache.shiro.SecurityUtils;\r\n    import org.apache.shiro.config.IniSecurityManagerFactory;\r\n    import org.apache.shiro.mgt.SecurityManager;\r\n    import org.apache.shiro.util.Factory;\r\n    \r\n    public class Test {\r\n        \r\n        public static void main(String[] args) {\r\n            Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(&quot;classpath:shiro.ini&quot;);\r\n            SecurityManager securityManager = factory.getInstance();\r\n            SecurityUtils.setSecurityManager(securityManager);\r\n        }\r\n    \r\n    }\r\n\r\nThe shiro.ini in this case only contains:\r\n\r\n    [main]\r\n    cacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\r\n    securityManager.cacheManager = $cacheManager\r\n\r\nJava 8 is fine, Java 11 fails with the &quot;URL can not be null&quot; error. For the example to work, you&#39;ll also need:\r\n- commons-beanutils\r\n- commons-logging\r\n- log4j\r\n- slf4j\r\n- ehcache\r\n\r\n...as well as the 2 shiro jars I mentioned previously. The specific java 11 builds I&#39;ve tried using that fail are Amazon Coretto (11.0.16-amzn) and Temeric (11.0.20-tem), and the java 8 builds that are working for me are 8.0.332-tem and 8.0.382-amzn.\r\n\r\nI&#39;ve also tried compiling and running with Java 17 (17.0.8-amzn), which fails with the same error.\r\n\r\n  [1]: https://github.com/ehcache/ehcache-shiro","title":"Apache Shiro cannot find ehcache default config with Java 11","body":"<p>I have a web application that uses Apache Shiro. I'm upgrading from Java 8 to 11. That is the only change, but when I try to launch my server, it looks like shiro can't find the default ehcache.xml config. I get the following error:</p>\n<pre><code>[main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\n[main] ERROR org.apache.shiro.web.env.EnvironmentLoader - Shiro environment initialization failed\njava.lang.NullPointerException: The url can not be null\n    at org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:151)\n    at org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:131)\n    at org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:115)\n    at org.ehcache.integrations.shiro.EhcacheShiroManager.getConfiguration(EhcacheShiroManager.java:176)\n    at org.ehcache.integrations.shiro.EhcacheShiroManager.ensureCacheManager(EhcacheShiroManager.java:149)\n    at org.ehcache.integrations.shiro.EhcacheShiroManager.init(EhcacheShiroManager.java:205)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\n    at org.apache.shiro.config.ReflectionBuilder$BeanConfigurationProcessor.execute(ReflectionBuilder.java:831)\n    at org.apache.shiro.config.ReflectionBuilder.buildObjects(ReflectionBuilder.java:290)\n    at org.apache.shiro.config.IniSecurityManagerFactory.buildInstances(IniSecurityManagerFactory.java:181)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:139)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:107)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:98)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:47)\n    at org.apache.shiro.config.IniFactorySupport.createInstance(IniFactorySupport.java:150)\n    at org.apache.shiro.util.AbstractFactory.getInstance(AbstractFactory.java:47)\n    at org.apache.shiro.web.env.IniWebEnvironment.createWebSecurityManager(IniWebEnvironment.java:296)\n    at org.apache.shiro.web.env.IniWebEnvironment.configure(IniWebEnvironment.java:121)\n    at org.apache.shiro.web.env.IniWebEnvironment.init(IniWebEnvironment.java:73)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\n    at org.apache.shiro.web.env.EnvironmentLoader.createEnvironment(EnvironmentLoader.java:313)\n    at org.apache.shiro.web.env.EnvironmentLoader.initEnvironment(EnvironmentLoader.java:139)\n    at org.apache.shiro.web.env.EnvironmentLoaderListener.contextInitialized(EnvironmentLoaderListener.java:58)\n</code></pre>\n<p>In my web.xml I have:</p>\n<pre><code>&lt;listener&gt;\n        &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>...which automatically picks up my shiro.ini config in my WEB-INF directory, which contains (among other things):</p>\n<pre><code>[main]\n...\n...\ncacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\nsecurityManager.cacheManager = $cacheManager\n</code></pre>\n<p>When I compile and run using java 8, there's no problems finding the ehcache config and the server starts up normally:</p>\n<pre><code>[main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\n[main] INFO org.ehcache.xml.XmlConfiguration - Loading Ehcache XML configuration from file:/path/to/my/app/lib/shiro-ehcache3-1.0.0.jar!/org/ehcache/integrations/shiro/ehcache.xml.\n</code></pre>\n<p>As I mentioned, the only change is that I'm compiling and running with java 11. All of the same jars are available to both builds, and those shiro specific jars are:</p>\n<ul>\n<li>shiro-all-1.12.0.jar</li>\n<li>shiro-ehcache3-1.0.0.jar</li>\n</ul>\n<p>I've also tried adding <code>cacheManager.cacheManagerConfigFile = /path/to/custom/configuration.xml</code> to my shiro.ini as suggested by <a href=\"https://github.com/ehcache/ehcache-shiro\" rel=\"nofollow noreferrer\">the docs here</a> by extracting the default ehcache.xml config file from the ehcache jar, but no matter what path I use in the ini file, the server startup always fails with <code>org.apache.shiro.ShiroException: java.net.MalformedURLException: no protocol: /path/to/my/app/ehcache.xml</code>.</p>\n<p>I've also tried setting the <code>cacheManagerConfigFile</code> path to the ehcache xml config programmatically in my application entry point, but I get a MalformedURLException for any string that I provide e.g. &quot;/path/to/my/app/ehcache.xml&quot;, &quot;file:///path/to...&quot; or &quot;classpath:ehcache.xml&quot;.</p>\n<p>The default ehcache.xml config extraction was really just a workaround though (that I can't get working), so ideally I would like to understand and fix why shiro isn't finding the default config itself with java 11.</p>\n<p>I've reproduced this problem with a minimal example by initialising the ini file programatically like below and putting the ini file into the root of the classpath:</p>\n<pre><code>import org.apache.shiro.SecurityUtils;\nimport org.apache.shiro.config.IniSecurityManagerFactory;\nimport org.apache.shiro.mgt.SecurityManager;\nimport org.apache.shiro.util.Factory;\n\npublic class Test {\n    \n    public static void main(String[] args) {\n        Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(&quot;classpath:shiro.ini&quot;);\n        SecurityManager securityManager = factory.getInstance();\n        SecurityUtils.setSecurityManager(securityManager);\n    }\n\n}\n</code></pre>\n<p>The shiro.ini in this case only contains:</p>\n<pre><code>[main]\ncacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\nsecurityManager.cacheManager = $cacheManager\n</code></pre>\n<p>Java 8 is fine, Java 11 fails with the &quot;URL can not be null&quot; error. For the example to work, you'll also need:</p>\n<ul>\n<li>commons-beanutils</li>\n<li>commons-logging</li>\n<li>log4j</li>\n<li>slf4j</li>\n<li>ehcache</li>\n</ul>\n<p>...as well as the 2 shiro jars I mentioned previously. The specific java 11 builds I've tried using that fail are Amazon Coretto (11.0.16-amzn) and Temeric (11.0.20-tem), and the java 8 builds that are working for me are 8.0.332-tem and 8.0.382-amzn.</p>\n<p>I've also tried compiling and running with Java 17 (17.0.8-amzn), which fails with the same error.</p>\n"},{"tags":["java","intellij-idea","import","classpath"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":2,"creation_date":1416096179,"post_id":26952078,"comment_id":42445075,"body_markdown":"Are you sure that the library was added to the module? It could be added as a project library but not be on the modules classpath.","body":"Are you sure that the library was added to the module? It could be added as a project library but not be on the modules classpath."},{"owner":{"account_id":3972835,"reputation":2564,"user_id":3276930,"display_name":"a5af"},"score":0,"creation_date":1416151393,"post_id":26952078,"comment_id":42455858,"body_markdown":"yes -- In Project Structure, the library is added as a dependency -- Actually, I think this is a bug in Intellij -- Happens randomly for different libraries/projects -- Recreating the project from scratch usually fixes it","body":"yes -- In Project Structure, the library is added as a dependency -- Actually, I think this is a bug in Intellij -- Happens randomly for different libraries/projects -- Recreating the project from scratch usually fixes it"},{"owner":{"account_id":1349569,"reputation":878,"user_id":1289597,"accept_rate":53,"display_name":"sheldonkreger"},"score":0,"creation_date":1470787676,"post_id":26952078,"comment_id":120399407,"body_markdown":"I tried invalidating caches and restarting, but the only thing that worked for me was wiping out the .idea directory completely, then creating a new project from scratch.","body":"I tried invalidating caches and restarting, but the only thing that worked for me was wiping out the .idea directory completely, then creating a new project from scratch."},{"owner":{"account_id":3054028,"reputation":1076,"user_id":2588059,"accept_rate":29,"display_name":"Hari Krishnan"},"score":1,"creation_date":1508146730,"post_id":26952078,"comment_id":80479614,"body_markdown":"If everything mentioned in the answer is proper.  close the project and re import again. this solved this issue for me.","body":"If everything mentioned in the answer is proper.  close the project and re import again. this solved this issue for me."},{"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"score":1,"creation_date":1640275001,"post_id":26952078,"comment_id":124560036,"body_markdown":"In my case the problem was that I had not configured an SDK for the project - after I go to Project Structure and set the appropriate SDK it got resolved.","body":"In my case the problem was that I had not configured an SDK for the project - after I go to Project Structure and set the appropriate SDK it got resolved."}],"answers":[{"comments":[{"owner":{"account_id":362433,"reputation":1600,"user_id":705617,"accept_rate":70,"display_name":"GeRyCh"},"score":1,"creation_date":1450089801,"post_id":27508764,"comment_id":56271186,"body_markdown":"cleaning project also helped","body":"cleaning project also helped"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":3,"creation_date":1470411166,"post_id":27508764,"comment_id":64956085,"body_markdown":"@GeRyCh IMHO, Eclipse cleaning = Intellij Invalidate cache","body":"@GeRyCh IMHO, Eclipse cleaning = Intellij Invalidate cache"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1494248368,"post_id":27508764,"comment_id":74732483,"body_markdown":"Didn&#39;t work for me too. My JUnit was a &#39;Global Library&#39;. When I remove this and add IntelliJ&#39;s own JUnit5 distribution, it works. When I then convert this dependency to a global library again, the errors return. I suspect this is a bug because converting it to a project library instead works fine.","body":"Didn&#39;t work for me too. My JUnit was a &#39;Global Library&#39;. When I remove this and add IntelliJ&#39;s own JUnit5 distribution, it works. When I then convert this dependency to a global library again, the errors return. I suspect this is a bug because converting it to a project library instead works fine."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1497814670,"post_id":27508764,"comment_id":76223516,"body_markdown":"This removed the .iml file in my environment. Re-generating/Re-importing it resolved the issue though.","body":"This removed the .iml file in my environment. Re-generating/Re-importing it resolved the issue though."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":13,"creation_date":1550226737,"post_id":27508764,"comment_id":96200363,"body_markdown":"I have this problem at least once a day since a few weeks. Really stresses me out as re-indexing everything takes forever.","body":"I have this problem at least once a day since a few weeks. Really stresses me out as re-indexing everything takes forever."},{"owner":{"account_id":16078121,"reputation":540,"user_id":11606132,"display_name":"Taimoor Ahmad"},"score":0,"creation_date":1605741380,"post_id":27508764,"comment_id":114748299,"body_markdown":"This worked for me after opening a project from Spring Initializer","body":"This worked for me after opening a project from Spring Initializer"},{"owner":{"account_id":18366372,"reputation":874,"user_id":13377313,"display_name":"Max"},"score":0,"creation_date":1627570199,"post_id":27508764,"comment_id":121196513,"body_markdown":"this worked for me, curious why is there such an issue from time to time? whats the cause of it?","body":"this worked for me, curious why is there such an issue from time to time? whats the cause of it?"},{"owner":{"account_id":11344158,"reputation":121,"user_id":8317158,"display_name":"Nano"},"score":2,"creation_date":1629432975,"post_id":27508764,"comment_id":121690571,"body_markdown":"After &quot;Invalidate Caches/Restart&quot;, you have to wait for re-index when you open any project! It&#39;s really annoying! I&#39;d rathor delete that file and create it again, wtf!","body":"After &quot;Invalidate Caches/Restart&quot;, you have to wait for re-index when you open any project! It&#39;s really annoying! I&#39;d rathor delete that file and create it again, wtf!"},{"owner":{"account_id":8176903,"reputation":666,"user_id":6155363,"display_name":"johnnyasd12"},"score":0,"creation_date":1681895240,"post_id":27508764,"comment_id":134129223,"body_markdown":"Invalidate Caches/Restart closes all of my Java projects and the IDE will restart. So, if youve got more than two projects open, you might want to think twice before doing that.","body":"Invalidate Caches/Restart closes all of my Java projects and the IDE will restart. So, if youve got more than two projects open, you might want to think twice before doing that."}],"tags":[],"owner":{"account_id":5419194,"reputation":5240,"user_id":4313437,"display_name":"sahitya"},"comment_count":9,"down_vote_count":2,"up_vote_count":497,"is_accepted":false,"score":495,"last_activity_date":1636369260,"creation_date":1418745664,"answer_id":27508764,"question_id":26952078,"body_markdown":"You can try invalidating the cache and restarting IntelliJ, in many cases it will help.\r\n\r\nFile -&gt; Invalidate Caches/Restart","title":"Intellij Cannot resolve symbol on import","body":"<p>You can try invalidating the cache and restarting IntelliJ, in many cases it will help.</p>\n<p>File -&gt; Invalidate Caches/Restart</p>\n"},{"tags":[],"owner":{"account_id":4638297,"reputation":196,"user_id":3758846,"display_name":"minx"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1430391026,"creation_date":1430391026,"answer_id":29965752,"question_id":26952078,"body_markdown":"I faced a similar issue, Mike&#39;s comment helped me move in the direction to solve it. &lt;br&gt;\r\nThough the required library was a part of the module in my project too, it needed a change of scope. In the module dependency, I changed the **scope** to &quot;**Compile**&quot; rather than &quot;**Test**&quot; and it works fine for me now.","title":"Intellij Cannot resolve symbol on import","body":"<p>I faced a similar issue, Mike's comment helped me move in the direction to solve it. <br>\nThough the required library was a part of the module in my project too, it needed a change of scope. In the module dependency, I changed the <strong>scope</strong> to \"<strong>Compile</strong>\" rather than \"<strong>Test</strong>\" and it works fine for me now.</p>\n"},{"tags":[],"owner":{"account_id":5297700,"reputation":139,"user_id":4228404,"display_name":"Artem Moiseyenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1441278225,"creation_date":1441271930,"answer_id":32371640,"question_id":26952078,"body_markdown":"Check your module dependencies.\r\n\r\n 1. Project Structure (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;).\r\n 2. Modules\r\n 3. Select your problem module.\r\n 4. Change tab on top of window &quot;Dependencies&quot;.\r\n 5. Check what needed library (maybe, you need to add specified library\r\n    in the tab &#39;libraries&#39;) or module has listed here and it has right\r\n    scope (&#39;complile&#39; mostly).","title":"Intellij Cannot resolve symbol on import","body":"<p>Check your module dependencies.</p>\n\n<ol>\n<li>Project Structure (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>).</li>\n<li>Modules</li>\n<li>Select your problem module.</li>\n<li>Change tab on top of window \"Dependencies\".</li>\n<li>Check what needed library (maybe, you need to add specified library\nin the tab 'libraries') or module has listed here and it has right\nscope ('complile' mostly).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":3,"creation_date":1522946186,"post_id":32999210,"comment_id":86365955,"body_markdown":"I do not know if this works for some people, but it seems so, and I wonder the reason why: actually your next Gradle sync will recreate all of those source directories you have just removed.","body":"I do not know if this works for some people, but it seems so, and I wonder the reason why: actually your next Gradle sync will recreate all of those source directories you have just removed."},{"owner":{"account_id":4685619,"reputation":1637,"user_id":3793099,"display_name":"Vectoria"},"score":1,"creation_date":1597316380,"post_id":32999210,"comment_id":112095987,"body_markdown":"It seems that when you have multiple source(src) folders issues arises. This is probably  causes by a duplication of paths. In may case I had the main source folder and sub folder within source with additional packages. Ensure that there is only one source folder, and all your sub folder should not be added to source. This will ensure that there is no duplication of file paths. Thanks @inetphantom.","body":"It seems that when you have multiple source(src) folders issues arises. This is probably  causes by a duplication of paths. In may case I had the main source folder and sub folder within source with additional packages. Ensure that there is only one source folder, and all your sub folder should not be added to source. This will ensure that there is no duplication of file paths. Thanks @inetphantom."},{"owner":{"account_id":887419,"reputation":1063,"user_id":6106864,"display_name":"sh87"},"score":0,"creation_date":1602821384,"post_id":32999210,"comment_id":113846603,"body_markdown":"In my case, I had Groovy sources in different folders. I had to explicitly add them as as sources to remove &quot;Cannot find symbol&quot; errors on my imports.","body":"In my case, I had Groovy sources in different folders. I had to explicitly add them as as sources to remove &quot;Cannot find symbol&quot; errors on my imports."},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1666060914,"post_id":32999210,"comment_id":130840551,"body_markdown":"In my case, a target folder was excluded from the sources , this target folder has some files which are generated after compilation","body":"In my case, a target folder was excluded from the sources , this target folder has some files which are generated after compilation"}],"tags":[],"owner":{"account_id":2084351,"reputation":756,"user_id":1855645,"display_name":"Vipin Thomas"},"comment_count":4,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1581090819,"creation_date":1444240498,"answer_id":32999210,"question_id":26952078,"body_markdown":"There can be multiple reasons for this. In my case it was wrong source root issue. Invalidate caches didn&#39;t work along with other solutions.\r\n\r\nCheck your module source roots.\r\n\r\n 1. Project Structure (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;).\r\n        \r\n 2. Modules\r\n        \r\n 3. Select your problem module.\r\n    \r\n 4. Change tab on top of window &quot;Sources&quot;.\r\n\r\n 5. Remove unwanted source roots. Keep one and add src and test source roots in this root.\r\n\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p>There can be multiple reasons for this. In my case it was wrong source root issue. Invalidate caches didn't work along with other solutions.</p>\n\n<p>Check your module source roots.</p>\n\n<ol>\n<li><p>Project Structure (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>).</p></li>\n<li><p>Modules</p></li>\n<li><p>Select your problem module.</p></li>\n<li><p>Change tab on top of window \"Sources\".</p></li>\n<li><p>Remove unwanted source roots. Keep one and add src and test source roots in this root.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6498067,"reputation":102,"user_id":5029997,"accept_rate":29,"display_name":"Qbert"},"score":0,"creation_date":1498943769,"post_id":39045182,"comment_id":76710361,"body_markdown":"Thanks dude, this was my problem.\nedit: elaborating... I copied from 1 maven module to another, and the copy flattened the directories. while Intellij looked like it had everything sorted, my folder was in fact &quot;a.b.c&quot; rather than a&gt;b&gt;c.","body":"Thanks dude, this was my problem. edit: elaborating... I copied from 1 maven module to another, and the copy flattened the directories. while Intellij looked like it had everything sorted, my folder was in fact &quot;a.b.c&quot; rather than a&gt;b&gt;c."}],"tags":[],"owner":{"account_id":7703698,"reputation":46,"user_id":5835293,"display_name":"Ming Gong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471629581,"creation_date":1471629581,"answer_id":39045182,"question_id":26952078,"body_markdown":"I also got this error for multiple times when I try to build a new java project. \r\n\r\n**Below is the step how I got this stupid issue.** \r\n\r\n 1. Create an empty project, and create new directory `src/main/java`.\r\n 2. Create the source package `net.gongmingqm10.sketch`.\r\n 3. Use `gradle wrapper`, `gradle idea` to build the gradle stuff for the project.\r\n 4. Add some dependencies in `build.gradle` file, and `gradle build`, reimport the project.\r\n 5. Create `User.java` and `School.java` in the existing package `net.gongmingqm10.sketch`\r\n 6. I got the error while I try to use import School in User.java.\r\n 7. Intellij keeps complain can not resolve symbol on import.\r\n\r\n**Solution:**\r\n\r\nBuild the project first, and mark the main/java as the source root. **Create a new directory** with the same name `net.gongmingqm10.sketch`. Move all the files from the old troubling packages to new package.\r\n\r\n**Root cause:**\r\n\r\n[Directory tree of source code][1]\r\n\r\nAs you can see from the tree. I got a directory named `net.gongmingqm10.sketch`. But what we really need is the 3 levels directory: net-&gt;gongmingqm10-&gt;sketch\r\n\r\nBut before I finish building my project in Intellij, I create new directory named `net.gongmingqm19.sketch`, which will give me a real directory with the name `net.gongmingqm10.sketch`.\r\n\r\nWhen we trying to import it. Obviously, how can intellij import the file under the weired directory with the name `a.b.c`.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J7Afz.png","title":"Intellij Cannot resolve symbol on import","body":"<p>I also got this error for multiple times when I try to build a new java project. </p>\n\n<p><strong>Below is the step how I got this stupid issue.</strong> </p>\n\n<ol>\n<li>Create an empty project, and create new directory <code>src/main/java</code>.</li>\n<li>Create the source package <code>net.gongmingqm10.sketch</code>.</li>\n<li>Use <code>gradle wrapper</code>, <code>gradle idea</code> to build the gradle stuff for the project.</li>\n<li>Add some dependencies in <code>build.gradle</code> file, and <code>gradle build</code>, reimport the project.</li>\n<li>Create <code>User.java</code> and <code>School.java</code> in the existing package <code>net.gongmingqm10.sketch</code></li>\n<li>I got the error while I try to use import School in User.java.</li>\n<li>Intellij keeps complain can not resolve symbol on import.</li>\n</ol>\n\n<p><strong>Solution:</strong></p>\n\n<p>Build the project first, and mark the main/java as the source root. <strong>Create a new directory</strong> with the same name <code>net.gongmingqm10.sketch</code>. Move all the files from the old troubling packages to new package.</p>\n\n<p><strong>Root cause:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/J7Afz.png\" rel=\"nofollow\">Directory tree of source code</a></p>\n\n<p>As you can see from the tree. I got a directory named <code>net.gongmingqm10.sketch</code>. But what we really need is the 3 levels directory: net->gongmingqm10->sketch</p>\n\n<p>But before I finish building my project in Intellij, I create new directory named <code>net.gongmingqm19.sketch</code>, which will give me a real directory with the name <code>net.gongmingqm10.sketch</code>.</p>\n\n<p>When we trying to import it. Obviously, how can intellij import the file under the weired directory with the name <code>a.b.c</code>.</p>\n"},{"tags":[],"owner":{"account_id":6281966,"reputation":61,"user_id":4882637,"accept_rate":38,"display_name":"neoguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481324569,"creation_date":1481324569,"answer_id":41070216,"question_id":26952078,"body_markdown":"Simple Restart worked for me.\r\n\r\nI would suggest first try with restart and then you may opt for invalidating the cache. \r\n\r\nPS : Cleaning out the system caches will result in clearing the local history.\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p>Simple Restart worked for me.</p>\n\n<p>I would suggest first try with restart and then you may opt for invalidating the cache. </p>\n\n<p>PS : Cleaning out the system caches will result in clearing the local history.</p>\n"},{"tags":[],"owner":{"account_id":5836955,"reputation":1,"user_id":5932306,"display_name":"Wenbin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1484187740,"creation_date":1484173007,"answer_id":41601719,"question_id":26952078,"body_markdown":"I had a similar issue with my imported Maven project. In one module, it cannot resolve symbol on import for part of the other module (yes, part of that module can be resolved).\r\n\r\nI changed &quot;Maven home directory&quot; to a newer version solved my issue.\r\n\r\nUpdate: Good for 1 hour, back to broken status...","title":"Intellij Cannot resolve symbol on import","body":"<p>I had a similar issue with my imported Maven project. In one module, it cannot resolve symbol on import for part of the other module (yes, part of that module can be resolved).</p>\n\n<p>I changed \"Maven home directory\" to a newer version solved my issue.</p>\n\n<p>Update: Good for 1 hour, back to broken status...</p>\n"},{"tags":[],"owner":{"account_id":935688,"reputation":141,"user_id":964644,"display_name":"crazycode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492905753,"creation_date":1492905753,"answer_id":43565960,"question_id":26952078,"body_markdown":"I found the source cause!\r\n\r\nIn my case, I add a jar file include some java source file, but I think the java source is bad, in Intellij Idea dependency library it add the source automatic, so in Editor the import is BAD JUST remove the source code in &quot;Project Structure&quot; -&gt; &quot;Library&quot;, it works for me.","title":"Intellij Cannot resolve symbol on import","body":"<p>I found the source cause!</p>\n\n<p>In my case, I add a jar file include some java source file, but I think the java source is bad, in Intellij Idea dependency library it add the source automatic, so in Editor the import is BAD JUST remove the source code in \"Project Structure\" -> \"Library\", it works for me.</p>\n"},{"tags":[],"owner":{"account_id":2285389,"reputation":1,"user_id":7948191,"display_name":"mario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493661882,"creation_date":1493658379,"answer_id":43723154,"question_id":26952078,"body_markdown":"What did it for me is to edit the package file in the .idea folder as I accidentally added sources to this jar library and android couldn&#39;t resolve it by deleting the sources line as marked in the b/m picture [library error][1].\r\n\r\nThen rebuild the gradle and bam problem solved. \r\n\r\n  [1]: https://i.stack.imgur.com/DbQ4V.jpg","title":"Intellij Cannot resolve symbol on import","body":"<p>What did it for me is to edit the package file in the .idea folder as I accidentally added sources to this jar library and android couldn't resolve it by deleting the sources line as marked in the b/m picture <a href=\"https://i.stack.imgur.com/DbQ4V.jpg\" rel=\"nofollow noreferrer\">library error</a>.</p>\n\n<p>Then rebuild the gradle and bam problem solved. </p>\n"},{"tags":[],"owner":{"account_id":6671215,"reputation":11,"user_id":6645421,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496676519,"creation_date":1496666410,"answer_id":44369152,"question_id":26952078,"body_markdown":"I had the same issue and the reason for that was incorrect marking of the project&#39;s sources.\r\n\r\n I manually created the Root Content and didn&#39;t notice that `src/main/test` folder was marked as `Sources` instead of `Tests`. So that is why my test classes were assumed to have all their test libraries (`JUnit`, `Mockito`, etc.) with the scope of Compile, not Test.\r\n\r\nAs soon as I marked `src/main/test` as Tests and rebuilt the module all errors were gone.","title":"Intellij Cannot resolve symbol on import","body":"<p>I had the same issue and the reason for that was incorrect marking of the project's sources.</p>\n\n<p>I manually created the Root Content and didn't notice that <code>src/main/test</code> folder was marked as <code>Sources</code> instead of <code>Tests</code>. So that is why my test classes were assumed to have all their test libraries (<code>JUnit</code>, <code>Mockito</code>, etc.) with the scope of Compile, not Test.</p>\n\n<p>As soon as I marked <code>src/main/test</code> as Tests and rebuilt the module all errors were gone.</p>\n"},{"tags":[],"owner":{"account_id":356942,"reputation":96,"user_id":7169815,"display_name":"Mihai Bojin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497287391,"creation_date":1497287391,"answer_id":44505080,"question_id":26952078,"body_markdown":"@Anton Dozortsev I was driven crazy by a similar behavior; I ended up re-installing the IDE a bunch of times, only getting past the issue after removing the IDEA app, all caches, preferences, etc.\r\n\r\nI tried all kinds of steps in the interim, (like restarts, invalidations, deleting `.idea` and `*.iml` files, and others.)\r\n\r\nTurns out, the problem was due to IntelliJ&#39;s `idea.max.intellisense.filesize` setting.  I had set it to 100KB, which was smaller than my dependency&#39;s size, leading to IntelliJ showing it as unknown, just like in your screenshot.\r\n\r\n\r\nFix:\r\n\r\n1. Click on Help -&gt; Edit Custom Properties\r\n\r\n2. Set the property to a larger value; the default is 2500KB\r\n`idea.max.intellisense.filesize=2500`","title":"Intellij Cannot resolve symbol on import","body":"<p>@Anton Dozortsev I was driven crazy by a similar behavior; I ended up re-installing the IDE a bunch of times, only getting past the issue after removing the IDEA app, all caches, preferences, etc.</p>\n\n<p>I tried all kinds of steps in the interim, (like restarts, invalidations, deleting <code>.idea</code> and <code>*.iml</code> files, and others.)</p>\n\n<p>Turns out, the problem was due to IntelliJ's <code>idea.max.intellisense.filesize</code> setting.  I had set it to 100KB, which was smaller than my dependency's size, leading to IntelliJ showing it as unknown, just like in your screenshot.</p>\n\n<p>Fix:</p>\n\n<ol>\n<li><p>Click on Help -> Edit Custom Properties</p></li>\n<li><p>Set the property to a larger value; the default is 2500KB\n<code>idea.max.intellisense.filesize=2500</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5023760,"reputation":440,"user_id":4036462,"display_name":"manntsheth"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509212408,"creation_date":1509212408,"answer_id":46992617,"question_id":26952078,"body_markdown":"I found the following answer from [@jossef-harush][1] and [@matt-leidholm][2] useful [from another link][3] \r\n\r\n - in IntelliJ editor, click on the red keyword *(`Integer` for example)* and press &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;ENTER&lt;/kbd&gt; (or click the light bulb icon)\r\n - select `Setup JDK` from the intentions menu\r\n\r\n![IntelliJ intentions menu][4]\r\n\r\n- click on `Configure`\r\n\r\n![Project SDK selection dialog][5]\r\n\r\n\r\n- In my case, the `JDK` path was incorrect (pointed on `/opt/jdk1.7.0_51` instead of `/opt/jdk1.7.0_65`)\r\n\r\n\r\n![Broken Configure SDK dialog][6]\r\n\r\n\r\n- click on the &lt;kbd&gt;...&lt;/kbd&gt; and browse to the right `JDK` path \r\n\r\n![Fixed Configure SDK dialog][7]\r\n\r\n - let&#39;s clear the cache \r\n\r\n![IntelliJ File menu][8]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3191896/jossef-harush\r\n  [2]: https://stackoverflow.com/users/163239/matt-leidholm\r\n  [3]: https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res\r\n  [4]: http://i.stack.imgur.com/dnscy.png\r\n  [5]: http://i.stack.imgur.com/WgNeF.png\r\n  [6]: http://i.stack.imgur.com/32987.png\r\n  [7]: http://i.stack.imgur.com/4l3tL.png\r\n  [8]: http://i.stack.imgur.com/QPJv6.png","title":"Intellij Cannot resolve symbol on import","body":"<p>I found the following answer from <a href=\"https://stackoverflow.com/users/3191896/jossef-harush\">@jossef-harush</a> and <a href=\"https://stackoverflow.com/users/163239/matt-leidholm\">@matt-leidholm</a> useful <a href=\"https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res\">from another link</a> </p>\n\n<ul>\n<li>in IntelliJ editor, click on the red keyword <em>(<code>Integer</code> for example)</em> and press <kbd>ALT</kbd> + <kbd>ENTER</kbd> (or click the light bulb icon)</li>\n<li>select <code>Setup JDK</code> from the intentions menu</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/dnscy.png\" alt=\"IntelliJ intentions menu\"></p>\n\n<ul>\n<li>click on <code>Configure</code></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/WgNeF.png\" alt=\"Project SDK selection dialog\"></p>\n\n<ul>\n<li>In my case, the <code>JDK</code> path was incorrect (pointed on <code>/opt/jdk1.7.0_51</code> instead of <code>/opt/jdk1.7.0_65</code>)</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/32987.png\" alt=\"Broken Configure SDK dialog\"></p>\n\n<ul>\n<li>click on the <kbd>...</kbd> and browse to the right <code>JDK</code> path </li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/4l3tL.png\" alt=\"Fixed Configure SDK dialog\"></p>\n\n<ul>\n<li>let's clear the cache </li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/QPJv6.png\" alt=\"IntelliJ File menu\"></p>\n"},{"tags":[],"owner":{"account_id":951121,"reputation":1515,"user_id":977253,"display_name":"Isaac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515005661,"creation_date":1515005661,"answer_id":48083468,"question_id":26952078,"body_markdown":"I had this recently while trying to use Intellij to work on NiFi, turned out the issue was that NiFi requires Maven &gt;= 3.1.0 and the version that I&#39;d checked out with (I guess my default) was 3.0.5. Updating the Maven version for the project fixed it, so in some cases Maven version mis-alignment can be a thing to look...I&#39;d guess it&#39;s fairly unusual but if you get this far on the thread you&#39;re probably having an unusual issue :)","title":"Intellij Cannot resolve symbol on import","body":"<p>I had this recently while trying to use Intellij to work on NiFi, turned out the issue was that NiFi requires Maven >= 3.1.0 and the version that I'd checked out with (I guess my default) was 3.0.5. Updating the Maven version for the project fixed it, so in some cases Maven version mis-alignment can be a thing to look...I'd guess it's fairly unusual but if you get this far on the thread you're probably having an unusual issue :)</p>\n"},{"comments":[{"owner":{"account_id":5010108,"reputation":1772,"user_id":4026629,"display_name":"JL_SO"},"score":2,"creation_date":1638866058,"post_id":48589571,"comment_id":124195092,"body_markdown":"There is no &quot;Reimport&quot; after right-clicking -&gt; Maven.  There is reload.","body":"There is no &quot;Reimport&quot; after right-clicking -&gt; Maven.  There is reload."},{"owner":{"account_id":1875033,"reputation":1104,"user_id":1696421,"accept_rate":53,"display_name":"fiddle"},"score":0,"creation_date":1651669157,"post_id":48589571,"comment_id":127417351,"body_markdown":"Right click on pom.xml -&gt; Run Maven -&gt; Reimport","body":"Right click on pom.xml -&gt; Run Maven -&gt; Reimport"},{"owner":{"account_id":7365661,"reputation":724,"user_id":5607451,"accept_rate":64,"display_name":"Jaison"},"score":0,"creation_date":1654501771,"post_id":48589571,"comment_id":128097336,"body_markdown":"Right click on pom.xml -&gt; Maven -&gt; Reload project worked for me..!!","body":"Right click on pom.xml -&gt; Maven -&gt; Reload project worked for me..!!"}],"tags":[],"owner":{"account_id":12866833,"reputation":379,"user_id":9306811,"display_name":"Chandlersingh"},"comment_count":3,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1521820616,"creation_date":1517599469,"answer_id":48589571,"question_id":26952078,"body_markdown":"IntelliJ has issues in resolving the dependencies.\r\nTry the following:\r\n\r\n 1. Right click on pom.xml -&gt; Maven -&gt; Reimport\r\n 2. Again Right click on pom.xml -&gt; Maven -&gt; Generate sources and update folders","title":"Intellij Cannot resolve symbol on import","body":"<p>IntelliJ has issues in resolving the dependencies.\nTry the following:</p>\n\n<ol>\n<li>Right click on pom.xml -> Maven -> Reimport</li>\n<li>Again Right click on pom.xml -> Maven -> Generate sources and update folders</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"comment_count":0,"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1599078839,"creation_date":1518495258,"answer_id":48759330,"question_id":26952078,"body_markdown":"``File`` -&gt; ``Invalidate Caches/Restart``\r\nAnd\r\nBuild your project\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p><code>File</code> -&gt; <code>Invalidate Caches/Restart</code>\nAnd\nBuild your project</p>\n"},{"comments":[{"owner":{"account_id":6931967,"reputation":134,"user_id":5321182,"accept_rate":75,"display_name":"TomateFraiche"},"score":1,"creation_date":1549564014,"post_id":51024504,"comment_id":95957133,"body_markdown":"This answer did the job for my Maven project also. For IntelliJ 2018.3.4 the icon stays the same (blue turning arrows) but the exact title of the option is called &#39;Reimport All Maven Projects&#39;. Huge big up to the author, it is so relieving to find a correct solution for your problem after a one hour research","body":"This answer did the job for my Maven project also. For IntelliJ 2018.3.4 the icon stays the same (blue turning arrows) but the exact title of the option is called &#39;Reimport All Maven Projects&#39;. Huge big up to the author, it is so relieving to find a correct solution for your problem after a one hour research"},{"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"score":0,"creation_date":1685213102,"post_id":51024504,"comment_id":134631434,"body_markdown":"For me, it&#39;s a combination of invalidating caches, restarting, and then refreshing all Gradle projects.","body":"For me, it&#39;s a combination of invalidating caches, restarting, and then refreshing all Gradle projects."}],"tags":[],"owner":{"account_id":48221,"reputation":3723,"user_id":143179,"display_name":"eaykin"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1529932830,"creation_date":1529932830,"answer_id":51024504,"question_id":26952078,"body_markdown":"*File -&gt; Invalidate Caches/Restart* or rebuilding the project did **not** work wor me.\r\n\r\nWhat worked for my Gradle project was to &quot;Refresh all Gradle projects&quot; from the Gradle tab on top-right corner of IntelliJ v2017, using the yellow marked button shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cl5Ef.png","title":"Intellij Cannot resolve symbol on import","body":"<p><em>File -> Invalidate Caches/Restart</em> or rebuilding the project did <strong>not</strong> work wor me.</p>\n\n<p>What worked for my Gradle project was to \"Refresh all Gradle projects\" from the Gradle tab on top-right corner of IntelliJ v2017, using the yellow marked button shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Cl5Ef.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Cl5Ef.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531348313,"creation_date":1531348313,"answer_id":51295047,"question_id":26952078,"body_markdown":"Had the same problem till I noticed that the **src** folder was **marked as root source** instead of **java**!\r\nChanging to only the java (src/main/java) to be the source root solved my problem\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yiloS.png","title":"Intellij Cannot resolve symbol on import","body":"<p>Had the same problem till I noticed that the <strong>src</strong> folder was <strong>marked as root source</strong> instead of <strong>java</strong>!\nChanging to only the java (src/main/java) to be the source root solved my problem\n<a href=\"https://i.stack.imgur.com/yiloS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yiloS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1174300,"reputation":103,"user_id":1159061,"display_name":"rdutta"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1537248955,"creation_date":1537248955,"answer_id":52379579,"question_id":26952078,"body_markdown":"Right click on pom.xml file, go to Maven click on Reimport. I had similar problem and this worked for me.","title":"Intellij Cannot resolve symbol on import","body":"<p>Right click on pom.xml file, go to Maven click on Reimport. I had similar problem and this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540468682,"creation_date":1540468682,"answer_id":52988743,"question_id":26952078,"body_markdown":"`file`-&gt; `Project Structure` -&gt; `Modules`, find the module with problems, click it and choose the `Dependencies` tab in the right side. Click the green plus sign, try to add the jar or libraries that cause the problem. That works for me.","title":"Intellij Cannot resolve symbol on import","body":"<p><code>file</code>-> <code>Project Structure</code> -> <code>Modules</code>, find the module with problems, click it and choose the <code>Dependencies</code> tab in the right side. Click the green plus sign, try to add the jar or libraries that cause the problem. That works for me.</p>\n"},{"tags":[],"owner":{"account_id":1615372,"reputation":1995,"user_id":1493235,"accept_rate":100,"display_name":"JohannesB"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550151962,"creation_date":1550151962,"answer_id":54691902,"question_id":26952078,"body_markdown":"After a long search, I discovered that a dependency was somehow corrupted on my machine in a maven project. The strange thing was that the dependency was still working correctly in the compiled java code. When I cleaned and rebuilt my maven dependency cache however, the problem went away and IntelliJ recognized the package. You can do this by running:\r\n\r\n    mvn dependency:purge-local-repository\r\n\r\nIntrestingly, the source of my problem hence wasn&#39;t IntelliJ, but maven itself.","title":"Intellij Cannot resolve symbol on import","body":"<p>After a long search, I discovered that a dependency was somehow corrupted on my machine in a maven project. The strange thing was that the dependency was still working correctly in the compiled java code. When I cleaned and rebuilt my maven dependency cache however, the problem went away and IntelliJ recognized the package. You can do this by running:</p>\n\n<pre><code>mvn dependency:purge-local-repository\n</code></pre>\n\n<p>Intrestingly, the source of my problem hence wasn't IntelliJ, but maven itself.</p>\n"},{"tags":[],"owner":{"account_id":8511112,"reputation":53,"user_id":6381118,"display_name":"Adam M. Erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564500486,"creation_date":1564500486,"answer_id":57275198,"question_id":26952078,"body_markdown":"Please try File-&gt; Synchronize. Then close and reopen IntelliJ before you invalidate.\r\n\r\nOnce I restarted. I would have invalidated but the synchronize cleared everything after restarting.","title":"Intellij Cannot resolve symbol on import","body":"<p>Please try File-> Synchronize. Then close and reopen IntelliJ before you invalidate.</p>\n\n<p>Once I restarted. I would have invalidated but the synchronize cleared everything after restarting.</p>\n"},{"comments":[{"owner":{"account_id":314650,"reputation":1571,"user_id":745828,"display_name":"nabster"},"score":1,"creation_date":1588450094,"post_id":57893103,"comment_id":108902728,"body_markdown":"Btw this maven plugin is no longer [maintained](https://maven.apache.org/plugins/maven-idea-plugin/)","body":"Btw this maven plugin is no longer <a href=\"https://maven.apache.org/plugins/maven-idea-plugin/\" rel=\"nofollow noreferrer\">maintained</a>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":3,"creation_date":1623930035,"post_id":57893103,"comment_id":120220702,"body_markdown":"What if we&#39;re using gradle ?","body":"What if we&#39;re using gradle ?"},{"owner":{"account_id":5000707,"reputation":1097,"user_id":4019835,"display_name":"Bouramas"},"score":1,"creation_date":1630662669,"post_id":57893103,"comment_id":122023467,"body_markdown":"Some further info on the command is available here: https://maven.apache.org/plugins/maven-idea-plugin/usage.html","body":"Some further info on the command is available here: <a href=\"https://maven.apache.org/plugins/maven-idea-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-idea-plugin/usage.html</a>"}],"tags":[],"owner":{"account_id":9184674,"reputation":365,"user_id":6827370,"display_name":"Liuver Reynier Dur&#225;n P&#233;rez"},"comment_count":3,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1568218354,"creation_date":1568218354,"answer_id":57893103,"question_id":26952078,"body_markdown":"Run this command in your project console: \r\n\r\n    mvn idea:idea\r\n\r\nDone. \r\nHad this issue many times. Tried &#39;Invalidate Cache &amp; Restart&#39; and all other solutions. Running that command works perfect to me. \r\nI&#39;m currently using IntelliJ 2019.2, but this also happened in previous versions and solution worked as well.\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p>Run this command in your project console: </p>\n\n<pre><code>mvn idea:idea\n</code></pre>\n\n<p>Done. \nHad this issue many times. Tried 'Invalidate Cache &amp; Restart' and all other solutions. Running that command works perfect to me. \nI'm currently using IntelliJ 2019.2, but this also happened in previous versions and solution worked as well.</p>\n"},{"tags":[],"owner":{"account_id":32530,"reputation":870,"user_id":90338,"accept_rate":63,"display_name":"greymatter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577224765,"creation_date":1577224765,"answer_id":59473695,"question_id":26952078,"body_markdown":"Nothing I tried above worked for me (not that I tried every suggestion).  What finally did the trick was to rename the class -- I just added a 2 to the class name and filename.  Then I resolved all the references manually.  (Since they weren&#39;t recognized, the refactoring did not change the references automatically.)\r\n\r\nOnce the &quot;2-version&quot; was happily resolved everywhere, I was then able to refactor and remove the 2 from the class and file, and everything was then as it should be.","title":"Intellij Cannot resolve symbol on import","body":"<p>Nothing I tried above worked for me (not that I tried every suggestion).  What finally did the trick was to rename the class -- I just added a 2 to the class name and filename.  Then I resolved all the references manually.  (Since they weren't recognized, the refactoring did not change the references automatically.)</p>\n\n<p>Once the \"2-version\" was happily resolved everywhere, I was then able to refactor and remove the 2 from the class and file, and everything was then as it should be.</p>\n"},{"tags":[],"owner":{"account_id":7532999,"reputation":1,"user_id":5720417,"display_name":"lempesis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580294562,"creation_date":1580294562,"answer_id":59965358,"question_id":26952078,"body_markdown":"in my case the solution was to add the project as maven project, besides the fact that i imported as maven project :P \r\n\r\ngo to pom.xml -&gt; right click -&gt; add as maven project","title":"Intellij Cannot resolve symbol on import","body":"<p>in my case the solution was to add the project as maven project, besides the fact that i imported as maven project :P </p>\n\n<p>go to pom.xml -> right click -> add as maven project</p>\n"},{"tags":[],"owner":{"account_id":1750585,"reputation":149,"user_id":1599755,"accept_rate":70,"display_name":"user1599755"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595644791,"creation_date":1595644198,"answer_id":63083698,"question_id":26952078,"body_markdown":"For 2020.1.4 Ultimate edition, I had to do the following \r\n\r\n``` View -&gt; Maven -&gt; Generate Sources and Update Folders For all Projects``` \r\n\r\nThe issue for me was the libraries were not getting populated with \r\n`mvn -U clean install` from the terminal. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLWJI.jpg","title":"Intellij Cannot resolve symbol on import","body":"<p>For 2020.1.4 Ultimate edition, I had to do the following</p>\n<p><code> View -&gt; Maven -&gt; Generate Sources and Update Folders For all Projects</code></p>\n<p>The issue for me was the libraries were not getting populated with\n<code>mvn -U clean install</code> from the terminal.</p>\n<p><a href=\"https://i.stack.imgur.com/cLWJI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLWJI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10837596,"reputation":720,"user_id":7970051,"display_name":"Rjbeckwith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621351974,"creation_date":1621351974,"answer_id":67589441,"question_id":26952078,"body_markdown":"My issue was my Maven plugin got disabled after an update. I went to Help -&gt; Find Action... -&gt; Typed in Maven and found that it was &quot;Off&quot;. I clicked the toggle switch and after a bit of loading it was re-enabled.","title":"Intellij Cannot resolve symbol on import","body":"<p>My issue was my Maven plugin got disabled after an update. I went to Help -&gt; Find Action... -&gt; Typed in Maven and found that it was &quot;Off&quot;. I clicked the toggle switch and after a bit of loading it was re-enabled.</p>\n"},{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622035740,"creation_date":1622035740,"answer_id":67705955,"question_id":26952078,"body_markdown":"Also, check your class is not in compile exclusions\r\n\r\nIf you see, that there is a little grey cross in left top corner, you must remove class from compile exclusions\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow to remove\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/smc4x.png\r\n  [2]: https://i.stack.imgur.com/3A2qJ.png\r\n  [3]: https://i.stack.imgur.com/2FXtF.png","title":"Intellij Cannot resolve symbol on import","body":"<p>Also, check your class is not in compile exclusions</p>\n<p>If you see, that there is a little grey cross in left top corner, you must remove class from compile exclusions</p>\n<p><a href=\"https://i.stack.imgur.com/smc4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smc4x.png\" alt=\"enter image description here\" /></a></p>\n<p>How to remove</p>\n<p><a href=\"https://i.stack.imgur.com/3A2qJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3A2qJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2FXtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FXtF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8785961,"reputation":171,"user_id":6567891,"display_name":"Bablu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693490758,"creation_date":1627390593,"answer_id":68545270,"question_id":26952078,"body_markdown":"Try cleaning maven from upstream by:\r\n\r\n    mvn -U clean install","title":"Intellij Cannot resolve symbol on import","body":"<p>Try cleaning maven from upstream by:</p>\n<pre><code>mvn -U clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9342688,"reputation":399,"user_id":6934895,"display_name":"Sondering Narcissist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635193499,"creation_date":1635193499,"answer_id":69714356,"question_id":26952078,"body_markdown":"Old question, &#39;21 response. I ran into the issue where my `go build` would build code successfully but my Goland IDE showed missing modules or dependencies. I tried Invalidating Caches and Restart, but had the same problem. From another S/O thread, I tried adding the GO111MODULE=on to my Path Variables, but that didn&#39;t resolve the IDE problems either.\r\n\r\nWhat worked for me was picking the correct GOROOT path in `Preferences` &gt; `Go` &gt; `GOROOT`. \r\n\r\nI had two versions of go installed, one by brew and one from the online Go installer. I selected the brew install path, and my IDE was able to resolve the dependencies properly.","title":"Intellij Cannot resolve symbol on import","body":"<p>Old question, '21 response. I ran into the issue where my <code>go build</code> would build code successfully but my Goland IDE showed missing modules or dependencies. I tried Invalidating Caches and Restart, but had the same problem. From another S/O thread, I tried adding the GO111MODULE=on to my Path Variables, but that didn't resolve the IDE problems either.</p>\n<p>What worked for me was picking the correct GOROOT path in <code>Preferences</code> &gt; <code>Go</code> &gt; <code>GOROOT</code>.</p>\n<p>I had two versions of go installed, one by brew and one from the online Go installer. I selected the brew install path, and my IDE was able to resolve the dependencies properly.</p>\n"},{"tags":[],"owner":{"account_id":17900992,"reputation":495,"user_id":13005243,"display_name":"Elen Mouradian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643030250,"creation_date":1643029912,"answer_id":70834434,"question_id":26952078,"body_markdown":"I&#39;ve tried all the complicated methods and they didn&#39;t work, since I was too lazy to re-import the project I tried something else.\r\nMine is a gradle project, so I went to my gradle.build file, removed the dependency, refreshed the dependencies, then added the dependency again and refreshed again, the imports started working after that.","title":"Intellij Cannot resolve symbol on import","body":"<p>I've tried all the complicated methods and they didn't work, since I was too lazy to re-import the project I tried something else.\nMine is a gradle project, so I went to my gradle.build file, removed the dependency, refreshed the dependencies, then added the dependency again and refreshed again, the imports started working after that.</p>\n"},{"comments":[{"owner":{"account_id":305587,"reputation":3583,"user_id":615827,"accept_rate":56,"display_name":"st mnmn"},"score":0,"creation_date":1679991994,"post_id":71859764,"comment_id":133815896,"body_markdown":"for me, I only need to restart IDE.","body":"for me, I only need to restart IDE."}],"tags":[],"owner":{"account_id":23430031,"reputation":42,"user_id":17489030,"display_name":"Rajat Goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649862349,"creation_date":1649862349,"answer_id":71859764,"question_id":26952078,"body_markdown":"Faced similar issue,\r\nI Updated Intellij and error start coming - Can&#39;t Resolve Symbols.\r\n\r\nWent to Plugins, Updated the plugins &amp; Restart\r\nProblem Solved !!","title":"Intellij Cannot resolve symbol on import","body":"<p>Faced similar issue,\nI Updated Intellij and error start coming - Can't Resolve Symbols.</p>\n<p>Went to Plugins, Updated the plugins &amp; Restart\nProblem Solved !!</p>\n"},{"comments":[{"owner":{"account_id":2299729,"reputation":290,"user_id":2020272,"accept_rate":100,"display_name":"icanfathom"},"score":0,"creation_date":1700579907,"post_id":75318824,"comment_id":136670526,"body_markdown":"Worked for me as well. I had duplicated a whole folder (including the .idea directory) to create my project in the first place, and some paths must have been broken or something.","body":"Worked for me as well. I had duplicated a whole folder (including the .idea directory) to create my project in the first place, and some paths must have been broken or something."}],"tags":[],"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675313684,"creation_date":1675313684,"answer_id":75318824,"question_id":26952078,"body_markdown":"I tried every answer here , What fixed my issue was deleting .idea folder , I did invalidate caches and restart before that and a simple restart after deleting .idea , The IDE asked to reimport gradle project , after the import everything started working normally.","title":"Intellij Cannot resolve symbol on import","body":"<p>I tried every answer here , What fixed my issue was deleting .idea folder , I did invalidate caches and restart before that and a simple restart after deleting .idea , The IDE asked to reimport gradle project , after the import everything started working normally.</p>\n"}],"owner":{"account_id":3972835,"reputation":2564,"user_id":3276930,"display_name":"a5af"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458142,"favorite_count":0,"down_vote_count":0,"up_vote_count":229,"accepted_answer_id":75318824,"answer_count":32,"score":229,"last_activity_date":1693490758,"creation_date":1416094772,"question_id":26952078,"body_markdown":"This problem happens intermittently for different libraries and different projects.\r\nWhen trying to import a library, the package will be recognized, but the class name can&#39;t be resolved.\r\n \r\nIf on the import statement, I `right-click -&gt; Goto -&gt; the package&#39;s declaration`, I see all the decompiled classes displayed in the side pane -- Including the ones I need --\r\nIf I try to auto-complete the import statement, I notice the class I need is not featured in the dropdown.\r\n \r\nI tried invalidating caches already, doesn&#39;t work. I cannot find any class conflicts -- there is no other jar file in my classpath with the same package name.\r\nI am able to import this class into other projects.\r\n \r\nPlease see screen shots:\r\n\r\n[![][2]][1]\r\n\r\n[![][4]][3]\r\n\r\n \r\nAnyone have a clue?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WwQ5f.png\r\n  [2]: http://i.stack.imgur.com/WwQ5fl.png\r\n  [3]: http://i.stack.imgur.com/6OXn2.png\r\n  [4]: http://i.stack.imgur.com/6OXn2l.png","title":"Intellij Cannot resolve symbol on import","body":"<p>This problem happens intermittently for different libraries and different projects.\nWhen trying to import a library, the package will be recognized, but the class name can't be resolved.</p>\n<p>If on the import statement, I <code>right-click -&gt; Goto -&gt; the package's declaration</code>, I see all the decompiled classes displayed in the side pane -- Including the ones I need --\nIf I try to auto-complete the import statement, I notice the class I need is not featured in the dropdown.</p>\n<p>I tried invalidating caches already, doesn't work. I cannot find any class conflicts -- there is no other jar file in my classpath with the same package name.\nI am able to import this class into other projects.</p>\n<p>Please see screen shots:</p>\n<p><a href=\"https://i.stack.imgur.com/WwQ5f.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WwQ5fl.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6OXn2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6OXn2l.png\" alt=\"\" /></a></p>\n<p>Anyone have a clue?</p>\n"},{"tags":["java","android-studio","build","android-app-bundle"],"comments":[{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674451,"post_id":77016608,"comment_id":136053532,"body_markdown":"Have you already changed the build variant to release?","body":"Have you already changed the build variant to release?"},{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674556,"post_id":77016608,"comment_id":136053550,"body_markdown":"If this does not work then use:  File -&gt; Invalidate Cache / Restart","body":"If this does not work then use:  File -&gt; Invalidate Cache / Restart"}],"owner":{"account_id":28598919,"reputation":13,"user_id":21903052,"display_name":"Tiaan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490747,"creation_date":1693490747,"question_id":77016608,"body_markdown":"I have a project and I want to export the project to an `.aab` file. But when i go to build the option to do that isn&#39;t there.\r\nHere is an image to show you what the problem is that I am facing:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt is a java android project, but the option to export to an `.aab` (as shown above isn&#39;t there). Do you have any idea how to fix this or how to get the option\r\n\r\nThis is how other poeple Build Tab looks inside android studio:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHMb0.png\r\n  [2]: https://i.stack.imgur.com/luu0H.png","title":"Android Studio Build tab not showing build app bundle","body":"<p>I have a project and I want to export the project to an <code>.aab</code> file. But when i go to build the option to do that isn't there.\nHere is an image to show you what the problem is that I am facing:</p>\n<p><a href=\"https://i.stack.imgur.com/vHMb0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHMb0.png\" alt=\"enter image description here\" /></a></p>\n<p>It is a java android project, but the option to export to an <code>.aab</code> (as shown above isn't there). Do you have any idea how to fix this or how to get the option</p>\n<p>This is how other poeple Build Tab looks inside android studio:</p>\n<p><a href=\"https://i.stack.imgur.com/luu0H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luu0H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693489264,"post_id":77016170,"comment_id":135770149,"body_markdown":"No - Within JPA, you are dealing with Java objects, so have to find a way to copy or clone each. I&#39;m not sure what is huge about reading in a set of As and iterating over a copy method in a loop. Streams can make it pretty, and if you put it all in one transaction with batch writing enabled, it could be issued to the DB in one insert statement. Alternatively though if yo don&#39;t want to read in all As, you can try native SQL with something similar to &quot;INSERT INTO A (id) SELECT id FROM B WHERE ...&quot;  do the work for you. See  https://www.w3schools.com/sql/sql_insert_into_select.asp","body":"No - Within JPA, you are dealing with Java objects, so have to find a way to copy or clone each. I&#39;m not sure what is huge about reading in a set of As and iterating over a copy method in a loop. Streams can make it pretty, and if you put it all in one transaction with batch writing enabled, it could be issued to the DB in one insert statement. Alternatively though if yo don&#39;t want to read in all As, you can try native SQL with something similar to &quot;INSERT INTO A (id) SELECT id FROM B WHERE ...&quot;  do the work for you. See  <a href=\"https://www.w3schools.com/sql/sql_insert_into_select.asp\" rel=\"nofollow noreferrer\">w3schools.com/sql/sql_insert_into_select.asp</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1693489735,"post_id":77016170,"comment_id":135770262,"body_markdown":"A could have a buildB method within it, since if you change class A to add properties, you should deal with its own methods and the contracts on them at the same time. then it would be simply query.getResultList().stream().forEach(a-&gt;tableBRepository.save(a.buildB()));. Alternatively, you could build something to reflectively look at the A class, iterate over all its properties, instantiate a B instance and set all the matching B properties based solely on the property name. It can be done, but seems like much more work, effort and risk of going wrong than maintaining a copy method","body":"A could have a buildB method within it, since if you change class A to add properties, you should deal with its own methods and the contracts on them at the same time. then it would be simply query.getResultList().stream().forEach(a-&gt;tableBRepository.s&zwnj;&#8203;ave(a.buildB()));. Alternatively, you could build something to reflectively look at the A class, iterate over all its properties, instantiate a B instance and set all the matching B properties based solely on the property name. It can be done, but seems like much more work, effort and risk of going wrong than maintaining a copy method"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1693500000,"post_id":77016170,"comment_id":135772638,"body_markdown":"If you dont need any fancy java code you could simply use an insert into select from query. But you need two entities in JPA as an Entity cannot be shared. If its about auditing you can check if Hibernate Envers can work for you.","body":"If you dont need any fancy java code you could simply use an insert into select from query. But you need two entities in JPA as an Entity cannot be shared. If its about auditing you can check if Hibernate Envers can work for you."}],"answers":[{"tags":[],"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693489282,"creation_date":1693489282,"answer_id":77016414,"question_id":77016170,"body_markdown":"Using an ORM, I guess I would simply make use of the standard JPA `@Embedded` and `@Embeddable` annotations to reuse certain mappings that reoccur and make sense to bundle while using of course two separate entities.\r\n\r\n\r\nYou can then map the entities manually (which is my personal preference as there is nothing wrong with some manual one-time labour) or use a reflection library like [MapStruct](https://mapstruct.org/) to try and ease the pain when mapping until it doesn&#39;t exactly do what you expect and you then spend 20 minutes debugging the thing. ","title":"Spring JPA copy entity to another table with the same columns","body":"<p>Using an ORM, I guess I would simply make use of the standard JPA <code>@Embedded</code> and <code>@Embeddable</code> annotations to reuse certain mappings that reoccur and make sense to bundle while using of course two separate entities.</p>\n<p>You can then map the entities manually (which is my personal preference as there is nothing wrong with some manual one-time labour) or use a reflection library like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> to try and ease the pain when mapping until it doesn't exactly do what you expect and you then spend 20 minutes debugging the thing.</p>\n"},{"comments":[{"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"score":0,"creation_date":1693498115,"post_id":77016578,"comment_id":135772235,"body_markdown":"using Mapstruct is a very good idea, thank you!","body":"using Mapstruct is a very good idea, thank you!"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1693548592,"post_id":77016578,"comment_id":135778184,"body_markdown":"Indeed, like I suggested before..","body":"Indeed, like I suggested before.."}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693490506,"creation_date":1693490506,"answer_id":77016578,"question_id":77016170,"body_markdown":"Please use Mapstruct library which is aptly suited for this job.\r\n\r\n    @Mapper(\r\n        componentModel = &quot;spring&quot;,\r\n        nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,\r\n        nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    public interface AgencyLocationMapper {\r\n    \r\n      // Map table A to table B\r\n      TableB mapToTableB(TableA tableA);\r\n\r\n    }\r\n\r\n","title":"Spring JPA copy entity to another table with the same columns","body":"<p>Please use Mapstruct library which is aptly suited for this job.</p>\n<pre><code>@Mapper(\n    componentModel = &quot;spring&quot;,\n    nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,\n    nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\npublic interface AgencyLocationMapper {\n\n  // Map table A to table B\n  TableB mapToTableB(TableA tableA);\n\n}\n</code></pre>\n"}],"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693490506,"creation_date":1693487734,"question_id":77016170,"body_markdown":"I want to copy an entry from my table `A` to table `B`. table `A` and `B` have the same columns.\r\n\r\nTo do this I would need two Java entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;A&quot;)\r\n    public class TableA{\r\n       @Id \r\n       @GeneratedValue\r\n       @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\r\n       @Column(name = &quot;id&quot;)\r\n       private int id;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;B&quot;)\r\n    public class TableB{\r\n       @Id\r\n       @Column(name = &quot;id&quot;)\r\n       private int id;\r\n    }\r\n\r\nAnd then map each value from `A` to `B`\r\n    \r\n    @PreRemove\r\n    public void insertIntoB(TableA tableA) {\r\n       TableB tableB = new TableB();\r\n       tableB.setId(tableA.getId());\r\n       tableBRepository.save(tableB);\r\n    }\r\n\r\nThis approach would be fine when Table `A` and `B` only have 1 column, but in my case I am working with 50+, so the `insertIntoB` method would be huge. Also I will have to maintain two Java entities with this approach, since if there are changes made to table `A` then those changes also have to be reflected in the table `B` entity. And `insertIntoB` would also have to be changed after every added new column to table `A`.\r\n\r\nHow can I make this solution more elegant? Is there a way to share one entity object for both tables or map the values from `A` automatically to `B`? Please consider that table `A` uses a `SequenceGenerator` while table `B` simply uses the passed `id` from table `A`.\r\n\r\n","title":"Spring JPA copy entity to another table with the same columns","body":"<p>I want to copy an entry from my table <code>A</code> to table <code>B</code>. table <code>A</code> and <code>B</code> have the same columns.</p>\n<p>To do this I would need two Java entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;A&quot;)\npublic class TableA{\n   @Id \n   @GeneratedValue\n   @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\n   @Column(name = &quot;id&quot;)\n   private int id;\n}\n\n@Entity\n@Table(name = &quot;B&quot;)\npublic class TableB{\n   @Id\n   @Column(name = &quot;id&quot;)\n   private int id;\n}\n</code></pre>\n<p>And then map each value from <code>A</code> to <code>B</code></p>\n<pre><code>@PreRemove\npublic void insertIntoB(TableA tableA) {\n   TableB tableB = new TableB();\n   tableB.setId(tableA.getId());\n   tableBRepository.save(tableB);\n}\n</code></pre>\n<p>This approach would be fine when Table <code>A</code> and <code>B</code> only have 1 column, but in my case I am working with 50+, so the <code>insertIntoB</code> method would be huge. Also I will have to maintain two Java entities with this approach, since if there are changes made to table <code>A</code> then those changes also have to be reflected in the table <code>B</code> entity. And <code>insertIntoB</code> would also have to be changed after every added new column to table <code>A</code>.</p>\n<p>How can I make this solution more elegant? Is there a way to share one entity object for both tables or map the values from <code>A</code> automatically to <code>B</code>? Please consider that table <code>A</code> uses a <code>SequenceGenerator</code> while table <code>B</code> simply uses the passed <code>id</code> from table <code>A</code>.</p>\n"},{"tags":["java","unit-testing","testing","mocking","mockito"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1285417905,"post_id":3793791,"comment_id":4020714,"body_markdown":"The ideal is not to need to mock final methods, of course. You haven&#39;t told us anything about why you&#39;re trying to do this. I normally try hard to keep my dependencies to interfaces... is there any way you could use an interface which proxies to the real class (assuming you can&#39;t change the class itself)?","body":"The ideal is not to need to mock final methods, of course. You haven&#39;t told us anything about why you&#39;re trying to do this. I normally try hard to keep my dependencies to interfaces... is there any way you could use an interface which proxies to the real class (assuming you can&#39;t change the class itself)?"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":1,"creation_date":1285418108,"post_id":3793791,"comment_id":4020730,"body_markdown":"This class from some legacy code.","body":"This class from some legacy code."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1285418478,"post_id":3793791,"comment_id":4020765,"body_markdown":"Do you have no option to modify it? Or to proxy to it via another class which implements an interface?","body":"Do you have no option to modify it? Or to proxy to it via another class which implements an interface?"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":2,"creation_date":1285418836,"post_id":3793791,"comment_id":4020787,"body_markdown":"@Jon Skeet: I can&#39;t modify it. You see, it&#39;s library (SWT). There are interface IFigure and implementation - Figure. But IFigure doen&#39;t contains getLocation().","body":"@Jon Skeet: I can&#39;t modify it. You see, it&#39;s library (SWT). There are interface IFigure and implementation - Figure. But IFigure doen&#39;t contains getLocation()."},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1285419189,"post_id":3793791,"comment_id":4020818,"body_markdown":"@Jon Skeet: sorry, not SWT. It&#39;s org.eclipse.draw2d.","body":"@Jon Skeet: sorry, not SWT. It&#39;s org.eclipse.draw2d."}],"answers":[{"comments":[{"owner":{"account_id":6051829,"reputation":1859,"user_id":5405478,"accept_rate":77,"display_name":"Vladyslav Nikolaiev"},"score":7,"creation_date":1520002955,"post_id":3793861,"comment_id":85148890,"body_markdown":"Link seems to be broken","body":"Link seems to be broken"},{"owner":{"account_id":161827,"reputation":2337,"user_id":382892,"accept_rate":78,"display_name":"Cypress Frankenfeld"},"score":13,"creation_date":1549390480,"post_id":3793861,"comment_id":95882443,"body_markdown":"This is out of date. Mockito 2.x supports final method mocking now (see the docs: https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods)","body":"This is out of date. Mockito 2.x supports final method mocking now (see the docs: <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/wiki/&hellip;</a>)"},{"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"score":2,"creation_date":1572904732,"post_id":3793861,"comment_id":103699183,"body_markdown":"This answer is obsolete. Mockito now supports mocking final methods. See https://www.baeldung.com/mockito-final.","body":"This answer is obsolete. Mockito now supports mocking final methods. See <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">baeldung.com/mockito-final</a>."}],"tags":[],"owner":{"account_id":109996,"reputation":25916,"user_id":291244,"accept_rate":83,"display_name":"iwein"},"comment_count":3,"down_vote_count":2,"up_vote_count":39,"is_accepted":true,"score":37,"last_activity_date":1458048713,"creation_date":1285418895,"answer_id":3793861,"question_id":3793791,"body_markdown":"There is no support for mocking final methods in Mockito.\r\n\r\nAs Jon Skeet commented you should be looking for a way to avoid the dependency on the final method. That said, there are some ways out through bytecode manipulation (e.g. with PowerMock)\r\n\r\nA [comparison between Mockito and PowerMock][1] will explain things in detail.\r\n\r\n  [1]: http://blog.griddynamics.com/2010/03/mocking-with-mockito-and-powermock.html","title":"Final method mocking","body":"<p>There is no support for mocking final methods in Mockito.</p>\n\n<p>As Jon Skeet commented you should be looking for a way to avoid the dependency on the final method. That said, there are some ways out through bytecode manipulation (e.g. with PowerMock)</p>\n\n<p>A <a href=\"http://blog.griddynamics.com/2010/03/mocking-with-mockito-and-powermock.html\" rel=\"noreferrer\">comparison between Mockito and PowerMock</a> will explain things in detail.</p>\n"},{"comments":[{"owner":{"account_id":161827,"reputation":2337,"user_id":382892,"accept_rate":78,"display_name":"Cypress Frankenfeld"},"score":3,"creation_date":1545086521,"post_id":3794448,"comment_id":94496936,"body_markdown":"Now that is only listed under *Mockito 1.x Specific Limitations* https://github.com/mockito/mockito/wiki/FAQ#mockito-1x-specific-limitations. Perhaps you can mock final methods in Mockito 2.x?","body":"Now that is only listed under <i>Mockito 1.x Specific Limitations</i> <a href=\"https://github.com/mockito/mockito/wiki/FAQ#mockito-1x-specific-limitations\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/wiki/&hellip;</a>. Perhaps you can mock final methods in Mockito 2.x?"},{"owner":{"account_id":161827,"reputation":2337,"user_id":382892,"accept_rate":78,"display_name":"Cypress Frankenfeld"},"score":3,"creation_date":1545151239,"post_id":3794448,"comment_id":94523011,"body_markdown":"Yes, I just checked and you can now mock final methods in Mockito 2.x. I added how to do so in an answer: https://stackoverflow.com/a/53837478/382892","body":"Yes, I just checked and you can now mock final methods in Mockito 2.x. I added how to do so in an answer: <a href=\"https://stackoverflow.com/a/53837478/382892\">stackoverflow.com/a/53837478/382892</a>"}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":2,"down_vote_count":3,"up_vote_count":40,"is_accepted":false,"score":37,"last_activity_date":1436804198,"creation_date":1285429720,"answer_id":3794448,"question_id":3793791,"body_markdown":"From the [Mockito FAQ][1]:\r\n\r\n&gt;**What are the limitations of Mockito**\r\n&gt;  \r\n&gt; - Cannot mock final methods - their real behavior is executed without any exception. Mockito cannot warn you about mocking final methods so be vigilant.\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/FAQ","title":"Final method mocking","body":"<p>From the <a href=\"https://github.com/mockito/mockito/wiki/FAQ\" rel=\"noreferrer\">Mockito FAQ</a>:</p>\n\n<blockquote>\n  <p><strong>What are the limitations of Mockito</strong></p>\n  \n  <ul>\n  <li>Cannot mock final methods - their real behavior is executed without any exception. Mockito cannot warn you about mocking final methods so be vigilant.</li>\n  </ul>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":3,"creation_date":1448447383,"post_id":12512183,"comment_id":55589692,"body_markdown":"This doesn&#39;t work for me. Added as adviced but still getting `NullPointerException` in the same way when not using the `@RunWith` and `@PrepareForTest`. Seems the class hasn&#39;t been intrumented for some reason.","body":"This doesn&#39;t work for me. Added as adviced but still getting <code>NullPointerException</code> in the same way when not using the <code>@RunWith</code> and <code>@PrepareForTest</code>. Seems the class hasn&#39;t been intrumented for some reason."},{"owner":{"account_id":1096720,"reputation":9050,"user_id":1090166,"accept_rate":68,"display_name":"Cedric Reichenbach"},"score":0,"creation_date":1532528741,"post_id":12512183,"comment_id":90011517,"body_markdown":"You should then mock with `PowerMockito.mock`, not `Mockito.mock`.","body":"You should then mock with <code>PowerMockito.mock</code>, not <code>Mockito.mock</code>."},{"owner":{"account_id":161827,"reputation":2337,"user_id":382892,"accept_rate":78,"display_name":"Cypress Frankenfeld"},"score":0,"creation_date":1549390534,"post_id":12512183,"comment_id":95882471,"body_markdown":"Mockito now supports final method mocking in Mockito 2.x https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods","body":"Mockito now supports final method mocking in Mockito 2.x <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":541379,"reputation":2366,"user_id":909908,"display_name":"Justin Rowe"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1348414429,"creation_date":1348142497,"answer_id":12512183,"question_id":3793791,"body_markdown":"You can use Powermock together with Mockito, then you do not need to subclass B.class. Just add this to the top of your test class\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(B.class)\r\n\r\n`@PrepareForTest` instructs Powermock to instrument B.class to make the final and static methods mockable. A disadvantage of this approach is that you must use PowerMockRunner which precludes use of other test runners such as the Spring test runner.\r\n\r\n\r\n\r\n\r\n","title":"Final method mocking","body":"<p>You can use Powermock together with Mockito, then you do not need to subclass B.class. Just add this to the top of your test class</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(B.class)\n</code></pre>\n\n<p><code>@PrepareForTest</code> instructs Powermock to instrument B.class to make the final and static methods mockable. A disadvantage of this approach is that you must use PowerMockRunner which precludes use of other test runners such as the Spring test runner.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643742657,"creation_date":1380584174,"answer_id":19105628,"question_id":3793791,"body_markdown":"I just did this same thing.  My case was that I wanted to ensure the method didn&#39;t cause an error. But, since it&#39;s a catch/log/return method, I couldn&#39;t test for it directly without modifying the class.\r\n\r\nI wanted to simply mock the logger I passed in. But, something about mocking the `Log` interface didn&#39;t seem to work, and mocking a class like `SimpleLog` didn&#39;t work because those methods are final.\r\n\r\nI ended up creating an anonymous inner class extending `SimpleLog` that overrode the base-level `log(level, string, error)` method that the others all delegate to. Then the test is just waiting for a call with a `level` of 5.\r\n\r\nIn general, extending a class for behavior isn&#39;t really a bad idea, and might be preferable to mocking anyway if it&#39;s not too complicated.","title":"Final method mocking","body":"<p>I just did this same thing.  My case was that I wanted to ensure the method didn't cause an error. But, since it's a catch/log/return method, I couldn't test for it directly without modifying the class.</p>\n<p>I wanted to simply mock the logger I passed in. But, something about mocking the <code>Log</code> interface didn't seem to work, and mocking a class like <code>SimpleLog</code> didn't work because those methods are final.</p>\n<p>I ended up creating an anonymous inner class extending <code>SimpleLog</code> that overrode the base-level <code>log(level, string, error)</code> method that the others all delegate to. Then the test is just waiting for a call with a <code>level</code> of 5.</p>\n<p>In general, extending a class for behavior isn't really a bad idea, and might be preferable to mocking anyway if it's not too complicated.</p>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1480708573,"post_id":39944265,"comment_id":69091359,"body_markdown":"Thanks for this.  Do you happen to know what the current state of `verify`ing `final` methods is?  Obviously I had a look in that page but it didn&#39;t seem to say anything...","body":"Thanks for this.  Do you happen to know what the current state of <code>verify</code>ing <code>final</code> methods is?  Obviously I had a look in that page but it didn&#39;t seem to say anything..."},{"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"score":0,"creation_date":1480858707,"post_id":39944265,"comment_id":69127680,"body_markdown":"I&#39;m not sure. Check out this: http://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito/40018295#40018295","body":"I&#39;m not sure. Check out this: <a href=\"http://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito/40018295#40018295\" title=\"how to mock a final class with mockito\">stackoverflow.com/questions/14292863/&hellip;</a>"}],"tags":[],"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1476020372,"creation_date":1476020372,"answer_id":39944265,"question_id":3793791,"body_markdown":"Mockito 2 now supports mocking final methods but that&#39;s an &quot;incubating&quot; feature. It requires some steps to activate it which are described here:\r\n[https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods][1]\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods","title":"Final method mocking","body":"<p>Mockito 2 now supports mocking final methods but that's an \"incubating\" feature. It requires some steps to activate it which are described here:\n<a href=\"https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"noreferrer\">https://github.com/mockito/mockito/wiki/What's-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods</a></p>\n"},{"tags":[],"owner":{"account_id":10764237,"reputation":31,"user_id":7919763,"display_name":"Murtuza Mithaiwala"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493128931,"creation_date":1493128931,"answer_id":43612875,"question_id":3793791,"body_markdown":"Assuming that B class is as below:\r\n\r\n    class B {\r\n        private String barValue;\r\n        public final String bar() {\r\n            return barValue;\r\n        }\r\n        public void final setBar(String barValue) {\r\n            this.barValue = barValue;\r\n        }\r\n    }\r\n      \r\nThere is a better way to do this without using PowerMockito framework.\r\nYou can create a SPY for your class and can mock your final method.\r\nBelow is the way to do it:\r\n\r\n    @Test\r\n    public void test() {\r\n    \r\n        B b  = new B();\r\n        b.setBar(&quot;bar called&quot;) //This should the expected output:final_method_bar()\r\n        B spyB = Mockito.spy(b);\r\n        assertEquals(&quot;bar called&quot;, spyB.bar());\r\n    \r\n    }\r\n\r\n","title":"Final method mocking","body":"<p>Assuming that B class is as below:</p>\n\n<pre><code>class B {\n    private String barValue;\n    public final String bar() {\n        return barValue;\n    }\n    public void final setBar(String barValue) {\n        this.barValue = barValue;\n    }\n}\n</code></pre>\n\n<p>There is a better way to do this without using PowerMockito framework.\nYou can create a SPY for your class and can mock your final method.\nBelow is the way to do it:</p>\n\n<pre><code>@Test\npublic void test() {\n\n    B b  = new B();\n    b.setBar(\"bar called\") //This should the expected output:final_method_bar()\n    B spyB = Mockito.spy(b);\n    assertEquals(\"bar called\", spyB.bar());\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9029135,"reputation":444,"user_id":6727427,"display_name":"vmaldosan"},"score":2,"creation_date":1551185534,"post_id":53837478,"comment_id":96540847,"body_markdown":"I tried this approach with _SpringRunner_ and worked for the specific use case I wanted, but making all mocks in the project _inlined_ broke multiple tests in the project, all of them run with _MockitoJUnitRunner_. I could provide more details if somebody wanted to investigate further. For now I&#39;ll wait until that functionality is incorporated into the Mockito code base without altering all the mocks of the project.","body":"I tried this approach with <i>SpringRunner</i> and worked for the specific use case I wanted, but making all mocks in the project <i>inlined</i> broke multiple tests in the project, all of them run with <i>MockitoJUnitRunner</i>. I could provide more details if somebody wanted to investigate further. For now I&#39;ll wait until that functionality is incorporated into the Mockito code base without altering all the mocks of the project."},{"owner":{"account_id":73357,"reputation":17051,"user_id":211292,"accept_rate":67,"display_name":"ThomasW"},"score":0,"creation_date":1582013073,"post_id":53837478,"comment_id":106619585,"body_markdown":"Note that this method doesn&#39;t work for Android. https://github.com/mockito/mockito/issues/1173","body":"Note that this method doesn&#39;t work for Android. <a href=\"https://github.com/mockito/mockito/issues/1173\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/1173</a>"},{"owner":{"account_id":62272,"reputation":15103,"user_id":185123,"accept_rate":74,"display_name":"spottedmahn"},"score":0,"creation_date":1582948775,"post_id":53837478,"comment_id":106961835,"body_markdown":"[alternative method, mockito-inline](https://stackoverflow.com/a/44422008/185123)","body":"<a href=\"https://stackoverflow.com/a/44422008/185123\">alternative method, mockito-inline</a>"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1583352484,"post_id":53837478,"comment_id":107091164,"body_markdown":"Be warned, this may slow down your tests","body":"Be warned, this may slow down your tests"}],"tags":[],"owner":{"account_id":161827,"reputation":2337,"user_id":382892,"accept_rate":78,"display_name":"Cypress Frankenfeld"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1545151078,"creation_date":1545151078,"answer_id":53837478,"question_id":3793791,"body_markdown":"Mockito 2.x now supports final method and final class stubbing.\n\n[From the docs][1]:\n\n&gt;Mocking of final classes and methods is an incubating, opt-in feature. This feature has to be explicitly activated by creating the file `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker` containing a single line:\n&gt;\n&gt;    `mock-maker-inline`\n&gt;\n&gt;After you create this file you can do:\n&gt; \n&gt; \n&gt;     final class FinalClass {\n&gt;       final String finalMethod() { return &quot;something&quot;; }\n&gt;     }\n&gt;     \n&gt;     FinalClass concrete = new FinalClass(); \n&gt;     \n&gt;     FinalClass mock = mock(FinalClass.class);\n&gt;     given(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n&gt;     \n&gt;     assertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n&gt; \n&gt; \n&gt;In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios.\n\n\n  [1]: https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods","title":"Final method mocking","body":"<p>Mockito 2.x now supports final method and final class stubbing.</p>\n<p><a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"noreferrer\">From the docs</a>:</p>\n<blockquote>\n<p>Mocking of final classes and methods is an incubating, opt-in feature. This feature has to be explicitly activated by creating the file <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> containing a single line:</p>\n<p><code>mock-maker-inline</code></p>\n<p>After you create this file you can do:</p>\n<pre><code>final class FinalClass {\n  final String finalMethod() { return &quot;something&quot;; }\n}\n\nFinalClass concrete = new FinalClass(); \n\nFinalClass mock = mock(FinalClass.class);\ngiven(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n\nassertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n</code></pre>\n<p>In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647002153,"creation_date":1647002153,"answer_id":71438617,"question_id":3793791,"body_markdown":"Mockito can be used to mock final classes or final methods. The problem is, this doesn&#39;t come as out of the box feature from Mockito and needs to be configured explicitely.\r\n\r\nSo, in order to do that,\r\n\r\nCreate a text file named `org.mockito.plugins.MockMaker`  to the project&#39;s `src/test/resources/mockito-extensions` directory and add a single line of text as below\r\n\r\n    mock-maker-inline\r\n\r\nOnce done, you can use the mockito&#39;s **when** method to mock the behaviour like any other regular method.\r\n\r\nSee detailed examples [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-final","title":"Final method mocking","body":"<p>Mockito can be used to mock final classes or final methods. The problem is, this doesn't come as out of the box feature from Mockito and needs to be configured explicitely.</p>\n<p>So, in order to do that,</p>\n<p>Create a text file named <code>org.mockito.plugins.MockMaker</code>  to the project's <code>src/test/resources/mockito-extensions</code> directory and add a single line of text as below</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>Once done, you can use the mockito's <strong>when</strong> method to mock the behaviour like any other regular method.</p>\n<p>See detailed examples <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693490489,"creation_date":1693490489,"answer_id":77016575,"question_id":3793791,"body_markdown":"In case you don&#39;t want to use `mock-maker-inline` or `PowerMock` (like in my case where usage of these caused some other tests of the monolith app to fail), you can do this:\r\n\r\n 1. Wrap the method calls of final class or final methods in protected methods inside the class under test.\r\n 2. `@Spy` the class you want to test and mock the protected methods you created in #1\r\n\r\nRefer these for mocking methods of class under test : https://stackoverflow.com/questions/39198848/mock-methods-in-same-class and https://stackoverflow.com/questions/23958611/how-to-mock-another-method-in-the-same-class-which-is-being-tested","title":"Final method mocking","body":"<p>In case you don't want to use <code>mock-maker-inline</code> or <code>PowerMock</code> (like in my case where usage of these caused some other tests of the monolith app to fail), you can do this:</p>\n<ol>\n<li>Wrap the method calls of final class or final methods in protected methods inside the class under test.</li>\n<li><code>@Spy</code> the class you want to test and mock the protected methods you created in #1</li>\n</ol>\n<p>Refer these for mocking methods of class under test : <a href=\"https://stackoverflow.com/questions/39198848/mock-methods-in-same-class\">mock methods in same class</a> and <a href=\"https://stackoverflow.com/questions/23958611/how-to-mock-another-method-in-the-same-class-which-is-being-tested\">How to mock another method in the same class which is being tested?</a></p>\n"}],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91655,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":3793861,"answer_count":9,"score":75,"last_activity_date":1693490489,"creation_date":1285417678,"question_id":3793791,"body_markdown":"I need mock some class with final method using mockito. I have wrote something like this \r\n\r\n    @Test\r\n    public void test() {\r\n        B b = mock(B.class);\r\n        doReturn(&quot;bar called&quot;).when(b).bar();   \r\n        assertEquals(&quot;must be \\&quot;overrided\\&quot;&quot;, &quot;bar called&quot;, b.bar());\r\n        //bla-bla\r\n    }\r\n    \r\n    \r\n    class B {\r\n        public final String bar() {\r\n            return &quot;fail&quot;;\r\n        }\r\n    }\r\nBut it fails. \r\nI tried some &quot;hack&quot; and it works.\r\n\r\n       @Test\r\n       public void hackTest() {\r\n            class NewB extends B {\r\n                public String barForTest() {\r\n                    return bar();\r\n                }\r\n            }\r\n            NewB b = mock(NewB.class);\r\n            doReturn(&quot;bar called&quot;).when(b).barForTest();\r\n            assertEquals(&quot;must be \\&quot;overrided\\&quot;&quot;, &quot;bar called&quot;, b.barForTest());\r\n        }\r\nIt works, but &quot;smells&quot;.\r\n\r\nSo, Where is the right way?\r\n\r\nThanks.\r\n\r\n","title":"Final method mocking","body":"<p>I need mock some class with final method using mockito. I have wrote something like this </p>\n\n<pre><code>@Test\npublic void test() {\n    B b = mock(B.class);\n    doReturn(\"bar called\").when(b).bar();   \n    assertEquals(\"must be \\\"overrided\\\"\", \"bar called\", b.bar());\n    //bla-bla\n}\n\n\nclass B {\n    public final String bar() {\n        return \"fail\";\n    }\n}\n</code></pre>\n\n<p>But it fails. \nI tried some \"hack\" and it works.</p>\n\n<pre><code>   @Test\n   public void hackTest() {\n        class NewB extends B {\n            public String barForTest() {\n                return bar();\n            }\n        }\n        NewB b = mock(NewB.class);\n        doReturn(\"bar called\").when(b).barForTest();\n        assertEquals(\"must be \\\"overrided\\\"\", \"bar called\", b.barForTest());\n    }\n</code></pre>\n\n<p>It works, but \"smells\".</p>\n\n<p>So, Where is the right way?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","windows","encryption","ssl-certificate","mmc"],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490371,"creation_date":1690373242,"question_id":76771123,"body_markdown":"I am trying to read a private key from the windows keystore (Windows-ROOT) and using it for decrypting the encrypted assertion in an application configured with SAML for authentication. But encountered the below error:\r\n&lt;pre&gt;\r\norg.apache.xml.security.encryption.XMLEncryptionException: No installed provider supports this key: sun.security.mscapi.CPrivateKey\r\n\tat org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1499) ~[xmlsec-2.1.7.jar:2.1.7]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:708) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:639) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptUsingResolvedEncryptedKey(Decrypter.java:794) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptDataToDOM(Decrypter.java:535) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptDataToList(Decrypter.java:453) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptData(Decrypter.java:414) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.saml2.encryption.Decrypter.decryptData(Decrypter.java:141) [opensaml-2.6.6.jar:?]\r\n\tat org.opensaml.saml2.encryption.Decrypter.decrypt(Decrypter.java:69) [opensaml-2.6.6.jar:?]\r\n&lt;/pre&gt;\r\n\r\nThe code used to read the key from MMC is:\r\n```\r\n    KeyStore keystore = KeyStore.getInstance(&quot;Windows-ROOT&quot;);\r\n    keystore.load(null, null);\r\n    String certificateAlias = &quot;privatekey&quot;;\r\n    String p = &quot;changeit&quot;;\r\n    PrivateKey certificate = (PrivateKey) keystore.getKey(certificateAlias, p.toCharArray());\r\n```\r\n\r\nI have tried the following approaches to resolve the issue but was unable to resolve it.\r\n\r\n - I have checked that the US_export_policy and local_policy jars are already present in ${JAVA_HOME}\\lib\\security location.\r\n - I tried to  explicitly cast the PrivateKey read from the MMC to java based RSAPrivateKey, but faced ClassCastExceptions.\r\n - I tried to use Bouncy Castle Provider while reading the keys from MMC but found out that we can only use SunMSCAPI provider to read certs from MMC.\r\n - I have listed down the providers before passing the encrypted assertion to decrypt method (org.opensaml.saml2.encryption.Decrypter.decrypt). I could find SunMSCAPI. \r\n\r\nCan anyone let me know where I am going wrong??","title":"Decryption of assertion using Private key from Windows Keystore","body":"<p>I am trying to read a private key from the windows keystore (Windows-ROOT) and using it for decrypting the encrypted assertion in an application configured with SAML for authentication. But encountered the below error:</p>\n<pre>\norg.apache.xml.security.encryption.XMLEncryptionException: No installed provider supports this key: sun.security.mscapi.CPrivateKey\n    at org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1499) ~[xmlsec-2.1.7.jar:2.1.7]\n    at org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:708) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:639) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptUsingResolvedEncryptedKey(Decrypter.java:794) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptDataToDOM(Decrypter.java:535) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptDataToList(Decrypter.java:453) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptData(Decrypter.java:414) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.saml2.encryption.Decrypter.decryptData(Decrypter.java:141) [opensaml-2.6.6.jar:?]\n    at org.opensaml.saml2.encryption.Decrypter.decrypt(Decrypter.java:69) [opensaml-2.6.6.jar:?]\n</pre>\n<p>The code used to read the key from MMC is:</p>\n<pre><code>    KeyStore keystore = KeyStore.getInstance(&quot;Windows-ROOT&quot;);\n    keystore.load(null, null);\n    String certificateAlias = &quot;privatekey&quot;;\n    String p = &quot;changeit&quot;;\n    PrivateKey certificate = (PrivateKey) keystore.getKey(certificateAlias, p.toCharArray());\n</code></pre>\n<p>I have tried the following approaches to resolve the issue but was unable to resolve it.</p>\n<ul>\n<li>I have checked that the US_export_policy and local_policy jars are already present in ${JAVA_HOME}\\lib\\security location.</li>\n<li>I tried to  explicitly cast the PrivateKey read from the MMC to java based RSAPrivateKey, but faced ClassCastExceptions.</li>\n<li>I tried to use Bouncy Castle Provider while reading the keys from MMC but found out that we can only use SunMSCAPI provider to read certs from MMC.</li>\n<li>I have listed down the providers before passing the encrypted assertion to decrypt method (org.opensaml.saml2.encryption.Decrypter.decrypt). I could find SunMSCAPI.</li>\n</ul>\n<p>Can anyone let me know where I am going wrong??</p>\n"},{"tags":["java","spring-boot","reflection","annotations"],"comments":[{"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"score":0,"creation_date":1693490370,"post_id":77014715,"comment_id":135770426,"body_markdown":"I have updated the code example :). I mean that the first loop works, the second doesn&#39;t. So the call to `reflections.getTypesAnnotatedWith(Listener.class)` returns an empty list.","body":"I have updated the code example :). I mean that the first loop works, the second doesn&#39;t. So the call to <code>reflections.getTypesAnnotatedWith(Listener.class)</code> returns an empty list."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693491287,"post_id":77014715,"comment_id":135770660,"body_markdown":"Is the difference caused by which annotation youre looking for or by which classes have the annotation?","body":"Is the difference caused by which annotation youre looking for or by which classes have the annotation?"},{"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"score":0,"creation_date":1693491967,"post_id":77014715,"comment_id":135770833,"body_markdown":"Good point! It seems like the issue is the class having the annotation. I annotated a class with both annotations and I could see from the logs that it hasn&#39;t been detected at all. So I think there is some classpath issue with Spring, though I can&#39;t figure out what it is. I have classes in a different Maven module (and package) that are detected just well ...","body":"Good point! It seems like the issue is the class having the annotation. I annotated a class with both annotations and I could see from the logs that it hasn&#39;t been detected at all. So I think there is some classpath issue with Spring, though I can&#39;t figure out what it is. I have classes in a different Maven module (and package) that are detected just well ..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693495170,"post_id":77014715,"comment_id":135771559,"body_markdown":"This might be a class loader issue. Passing the class loaders to the constructor could help.","body":"This might be a class loader issue. Passing the class loaders to the constructor could help."},{"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"score":0,"creation_date":1693496949,"post_id":77014715,"comment_id":135771948,"body_markdown":"This worked! I added the class loader via a `ConfigurationBuilder` and it now scans the classes. Thanks a lot!","body":"This worked! I added the class loader via a <code>ConfigurationBuilder</code> and it now scans the classes. Thanks a lot!"}],"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490302,"creation_date":1693475440,"question_id":77014715,"body_markdown":"I&#39;m using org.reflections:reflections to find annotated classes on the classpath within a Spring Boot application. When running the app from the IDE, everything works fine. But when I build the FAT-JAR and run it directly, it can&#39;t find *some* classes. Here&#39;s a simplified version of my code:\r\n\r\n```java\r\n// packagePrefixes is an array of strings\r\nReflections reflections = new Reflections(packagePrefixes, Scanners.TypesAnnotated);\r\n\r\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Resource.BaseClass.class)) {\r\n    // This works, it&#39;ll iterate through all classes annotated\r\n    // with Resource.BaseClass\r\n}\r\n\r\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Listener.class)) {\r\n    // This doesn&#39;t work, it won&#39;t iterate through all classes\r\n    // annotated with Listener\r\n}\r\n```\r\n\r\nBoth annotations are annotated with\r\n\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n```\r\n\r\nI already tried using precise packages so that the library won&#39;t need to iterate recursively.\r\n\r\nDoes anyone know what the problem is here? Thanks for your help :)","title":"Why does the reflections library not work in a Spring Boot application?","body":"<p>I'm using org.reflections:reflections to find annotated classes on the classpath within a Spring Boot application. When running the app from the IDE, everything works fine. But when I build the FAT-JAR and run it directly, it can't find <em>some</em> classes. Here's a simplified version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// packagePrefixes is an array of strings\nReflections reflections = new Reflections(packagePrefixes, Scanners.TypesAnnotated);\n\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Resource.BaseClass.class)) {\n    // This works, it'll iterate through all classes annotated\n    // with Resource.BaseClass\n}\n\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Listener.class)) {\n    // This doesn't work, it won't iterate through all classes\n    // annotated with Listener\n}\n</code></pre>\n<p>Both annotations are annotated with</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n</code></pre>\n<p>I already tried using precise packages so that the library won't need to iterate recursively.</p>\n<p>Does anyone know what the problem is here? Thanks for your help :)</p>\n"},{"tags":["java","windows","adfs","mscapi"],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490185,"creation_date":1693490185,"question_id":77016542,"body_markdown":"I&#39;m attempting to create a functionality that reads certificates from the Windows store. My setup involves an SSO-SAML enabled environment with ADFS as the identity provider (IdP). I&#39;ve enabled encryption for the assertion. However, I&#39;m encountering a problem during the assertion decryption process. To decrypt the assertion, I&#39;ve extracted the private key from the MMC. But on attempting to decrypt the assertion using this key, I get the &quot;javax.crypto.NoSuchPaddingException: Padding not supported: OAEPPadding&quot; exception. Is it possible to disable OAEPPadding while encrypting the assertion on ADFS side.","title":"How to change the encrytion algorithm used to encrypt the assertion in ADFS?","body":"<p>I'm attempting to create a functionality that reads certificates from the Windows store. My setup involves an SSO-SAML enabled environment with ADFS as the identity provider (IdP). I've enabled encryption for the assertion. However, I'm encountering a problem during the assertion decryption process. To decrypt the assertion, I've extracted the private key from the MMC. But on attempting to decrypt the assertion using this key, I get the &quot;javax.crypto.NoSuchPaddingException: Padding not supported: OAEPPadding&quot; exception. Is it possible to disable OAEPPadding while encrypting the assertion on ADFS side.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1693494645,"post_id":77016394,"comment_id":135771448,"body_markdown":"Not a solution, however an alternative is `input.flatMap(myProcessor::doIt).flatMapMany(Flux::just)`","body":"Not a solution, however an alternative is <code>input.flatMap(myProcessor::doIt).flatMapMany(Flux::just)</code>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1693542431,"post_id":77016394,"comment_id":135777606,"body_markdown":"Not sure what is your concern but if you don&#39;t like `.flatMapIterable(data -&gt; data)` you can use `.flatMapIterable(Functions.identity())` or `.flatMapMany(Flux::fromIterable)`. Identity Function is very common pattern in functional programming.","body":"Not sure what is your concern but if you don&#39;t like <code>.flatMapIterable(data -&gt; data)</code> you can use <code>.flatMapIterable(Functions.identity())</code> or <code>.flatMapMany(Flux::fromIterable)</code>. Identity Function is very common pattern in functional programming."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1693595485,"post_id":77016394,"comment_id":135786778,"body_markdown":"The `.flatMapMany(Flux::fromIterable)` approach seems to be the most readable, thank you. Still not an operator but visually more acceptable than a lambda that consumes itself","body":"The <code>.flatMapMany(Flux::fromIterable)</code> approach seems to be the most readable, thank you. Still not an operator but visually more acceptable than a lambda that consumes itself"}],"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693489150,"creation_date":1693489150,"question_id":77016394,"body_markdown":"I&#39;m using Reactor 3 in Java and I am ofen finding myself in front of this case :\r\n\r\nI have a Mono\\&lt;A\\&gt;, that I map to a Mono\\&lt;List\\&lt;B\\&gt;\\&gt; (flatMap), and then I want to transform this into a Flux :\r\n\r\n```java\r\npublic Flux&lt;B&gt; processFragment(Mono&lt;A&gt; input) {\r\n\r\n  //myProcessor.doIt(A a) returns a Mono&lt;List&lt;B&gt;&gt;\r\n  return input.flatMap(myProcessor::doIt).flatMapIterable(data -&gt; data);\r\n\r\n}\r\n```\r\n\r\nThe operator here seems like nonsense, and easily replaceable with a no parameter method : `.flatMapIterable(data -\\&gt; data);`\r\n\r\nIs there some operator that get rid of this ? And no, I cannot make myProcessor returns a Flux.\r\n\r\nThank you","title":"Is there utils functions that merge flatMap and flatMapIterable?","body":"<p>I'm using Reactor 3 in Java and I am ofen finding myself in front of this case :</p>\n<p>I have a Mono&lt;A&gt;, that I map to a Mono&lt;List&lt;B&gt;&gt; (flatMap), and then I want to transform this into a Flux :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;B&gt; processFragment(Mono&lt;A&gt; input) {\n\n  //myProcessor.doIt(A a) returns a Mono&lt;List&lt;B&gt;&gt;\n  return input.flatMap(myProcessor::doIt).flatMapIterable(data -&gt; data);\n\n}\n</code></pre>\n<p>The operator here seems like nonsense, and easily replaceable with a no parameter method : <code>.flatMapIterable(data -\\&gt; data);</code></p>\n<p>Is there some operator that get rid of this ? And no, I cannot make myProcessor returns a Flux.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot-actuator","spring-camel"],"owner":{"account_id":18994654,"reputation":25,"user_id":13863080,"display_name":"Baixa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693488995,"creation_date":1693488995,"question_id":77016370,"body_markdown":"The following task has been set.  There is a project on the Spring-Camel(+Actuator) stack.  The following parameters are set in the properties:\r\n\r\n 1. server.servlet.context_path=/application_name\r\n\r\n 2. camel.servlet.mapping.context-path=/api/*\r\n\r\n 3. management.endpoints.web.base-path=monitor\r\n\r\n These settings provide the following functionality:\r\n\r\n Camel REST endpoints contain the following path: http://localhost:8080/application_name/api/endpoint_name\r\n\r\n The metrics are on the path: http://localhost:8080/application_name/monitor/*\r\n\r\n It is necessary to remove the word api from the path for endpoints, however, if you set the property to the following value camel.servlet.mapping.context-path=/*, monitor stops working and camel treats it as an endpoint (gives 404).  Who can tell if there is a solution for this problem?  Cannot change the monitor path.\r\n\r\nI thought about the possibility of excluding a certain path pattern from Camel, but did not find this setting). ","title":"Exclude path pattern from Camel REST","body":"<p>The following task has been set.  There is a project on the Spring-Camel(+Actuator) stack.  The following parameters are set in the properties:</p>\n<ol>\n<li><p>server.servlet.context_path=/application_name</p>\n</li>\n<li><p>camel.servlet.mapping.context-path=/api/*</p>\n</li>\n<li><p>management.endpoints.web.base-path=monitor</p>\n</li>\n</ol>\n<p>These settings provide the following functionality:</p>\n<p>Camel REST endpoints contain the following path: http://localhost:8080/application_name/api/endpoint_name</p>\n<p>The metrics are on the path: http://localhost:8080/application_name/monitor/*</p>\n<p>It is necessary to remove the word api from the path for endpoints, however, if you set the property to the following value camel.servlet.mapping.context-path=/*, monitor stops working and camel treats it as an endpoint (gives 404).  Who can tell if there is a solution for this problem?  Cannot change the monitor path.</p>\n<p>I thought about the possibility of excluding a certain path pattern from Camel, but did not find this setting).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693406830,"post_id":77009075,"comment_id":135757242,"body_markdown":"Perhaps start by removing the slf4j jar (and possibly from your build dependencies) as that is already contained in logback-classic","body":"Perhaps start by removing the slf4j jar (and possibly from your build dependencies) as that is already contained in logback-classic"}],"owner":{"account_id":20401712,"reputation":13,"user_id":14967286,"display_name":"vaishnavi banait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693488536,"creation_date":1693406551,"question_id":77009075,"body_markdown":"I&#39;m am running springboot application in tomcat so getting the following error. It seems there are multiple slf4j. Not sure how to resolve this. Any help is greatly appreciated.\r\n\r\n\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/logback-classic-1.2.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n28-Aug-2023 00:02:45.047 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n28-Aug-2023 00:02:45.048 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/application] startup failed due to previous errors\r\nI have tried exclusions the dependency but not working -\r\n\r\n                        \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springBoot.version}&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springBoot.version}&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\r\n                            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n\r\nThe pom file uses a spring boot parent we created ourselves. Maybe that is where the exclusions need to take place?\r\n\r\n    \r\n\r\n","title":"Facing error SLF4J: Class path contains multiple SLF4J bindings","body":"<p>I'm am running springboot application in tomcat so getting the following error. It seems there are multiple slf4j. Not sure how to resolve this. Any help is greatly appreciated.</p>\n<p>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/logback-classic-1.2.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#multiple_bindings\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#multiple_bindings</a> for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n28-Aug-2023 00:02:45.047 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n28-Aug-2023 00:02:45.048 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/application] startup failed due to previous errors\nI have tried exclusions the dependency but not working -</p>\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n                &lt;version&gt;${springBoot.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${springBoot.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n\n                        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>The pom file uses a spring boot parent we created ourselves. Maybe that is where the exclusions need to take place?</p>\n"},{"tags":["java","visual-studio-code","user-input"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1693487364,"post_id":77016074,"comment_id":135769678,"body_markdown":"Did you take a look at this [question](https://stackoverflow.com/questions/71030502/visual-studio-code-is-not-taking-input-from-keyboard-when-i-use-c-or-java)?  I am not familiar with VS code, but it seems to be same problem.","body":"Did you take a look at this <a href=\"https://stackoverflow.com/questions/71030502/visual-studio-code-is-not-taking-input-from-keyboard-when-i-use-c-or-java\">question</a>?  I am not familiar with VS code, but it seems to be same problem."},{"owner":{"account_id":24215399,"reputation":19,"user_id":18171365,"display_name":"risni"},"score":0,"creation_date":1693488458,"post_id":77016074,"comment_id":135769922,"body_markdown":"thank you for your assistance I did it that way and now it works well","body":"thank you for your assistance I did it that way and now it works well"}],"answers":[{"tags":[],"owner":{"account_id":29288272,"reputation":29,"user_id":22439310,"display_name":"MentalBoolean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693487477,"creation_date":1693487477,"answer_id":77016140,"question_id":77016074,"body_markdown":"I suggest you to check the official website of Visual Studio Code editor about this topic.\r\n\r\n[Link to the topic][1]\r\n\r\nEspecially the part:\r\n\r\n&gt; **Debug session inputs**\r\nThe default Debug Console in VS Code doesn&#39;t support inputs. If your program need inputs from a terminal, you can use the Integrated Terminal (Ctrl+`) within VS Code or an external terminal to launch it. You can also use the user setting java.debug.settings.console to configure a global console for all Java debug sessions.\r\n\r\nPart can be useful for you. Good luck! \r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-debugging","title":"Unable to get User input for the Java program written in Visual Studio Code Editor","body":"<p>I suggest you to check the official website of Visual Studio Code editor about this topic.</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-debugging\" rel=\"nofollow noreferrer\">Link to the topic</a></p>\n<p>Especially the part:</p>\n<blockquote>\n<p><strong>Debug session inputs</strong>\nThe default Debug Console in VS Code doesn't support inputs. If your program need inputs from a terminal, you can use the Integrated Terminal (Ctrl+`) within VS Code or an external terminal to launch it. You can also use the user setting java.debug.settings.console to configure a global console for all Java debug sessions.</p>\n</blockquote>\n<p>Part can be useful for you. Good luck!</p>\n"}],"owner":{"account_id":24215399,"reputation":19,"user_id":18171365,"display_name":"risni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693491961,"answer_count":1,"score":-1,"last_activity_date":1693487477,"creation_date":1693486867,"question_id":77016074,"body_markdown":"I experimented with java code that expected user input. However, I am unable to type anything in the Visual Studio Code Editor&#39;s designated space. To fix this issue, I installed the Java Development Pack Extensions, but nothing worked. \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class App {\r\n      public static void main(String[] args){\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n        int age;\r\n    \r\n        System.out.println(&quot;Enter age:&quot;);\r\n        age= sc.nextInt();\r\n        \r\n        \r\n      }\r\n    }\r\n\r\nI used Visual Studio Code editor to try and get user input; normally, I use Intellij Idea editor. As a result, I am unable to type anything on the console to provide input when using the Visual Studio Code Editor to write Java programs. So, please offer your assistance in finding a solution. ","title":"Unable to get User input for the Java program written in Visual Studio Code Editor","body":"<p>I experimented with java code that expected user input. However, I am unable to type anything in the Visual Studio Code Editor's designated space. To fix this issue, I installed the Java Development Pack Extensions, but nothing worked.</p>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n  public static void main(String[] args){\n\n    Scanner sc = new Scanner(System.in);\n    int age;\n\n    System.out.println(&quot;Enter age:&quot;);\n    age= sc.nextInt();\n    \n    \n  }\n}\n</code></pre>\n<p>I used Visual Studio Code editor to try and get user input; normally, I use Intellij Idea editor. As a result, I am unable to type anything on the console to provide input when using the Visual Studio Code Editor to write Java programs. So, please offer your assistance in finding a solution.</p>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1405824302,"post_id":24846831,"comment_id":38580810,"body_markdown":"even hello is not displaying?","body":"even hello is not displaying?"},{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1406176758,"post_id":24846831,"comment_id":38729702,"body_markdown":"my question is i can run this program from cmd but how to run same program by eclips(&quot;hello&quot; is displaying when i run directly but how to display &quot;Welcome to the world of Applet&quot; in eclips ) please tell me steps.....","body":"my question is i can run this program from cmd but how to run same program by eclips(&quot;hello&quot; is displaying when i run directly but how to display &quot;Welcome to the world of Applet&quot; in eclips ) please tell me steps....."},{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1406176793,"post_id":24846831,"comment_id":38729716,"body_markdown":"i am not getting any error..","body":"i am not getting any error.."},{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1413479958,"post_id":24846831,"comment_id":41468649,"body_markdown":"i am getting title &quot;Insert title here&quot; then after a box with message &quot;error: click here for detail&quot; then there is a message &quot;class not found exception&quot;. @SparkOn","body":"i am getting title &quot;Insert title here&quot; then after a box with message &quot;error: click here for detail&quot; then there is a message &quot;class not found exception&quot;. @SparkOn"}],"answers":[{"comments":[{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1405874674,"post_id":24847314,"comment_id":38592012,"body_markdown":"i know without applet tag it work.but i am trying to run my program with &lt;applet&gt;tag or&lt;param&gt;tag.so please tell me steps.......","body":"i know without applet tag it work.but i am trying to run my program with &lt;applet&gt;tag or&lt;param&gt;tag.so please tell me steps......."},{"owner":{"account_id":4770962,"reputation":45,"user_id":3855727,"display_name":"Surajchamp"},"score":0,"creation_date":1405875063,"post_id":24847314,"comment_id":38592119,"body_markdown":"here these last two comment line is used as applet tag so you have to run whole program including these comment tag lines..","body":"here these last two comment line is used as applet tag so you have to run whole program including these comment tag lines.."}],"tags":[],"owner":{"account_id":4770962,"reputation":45,"user_id":3855727,"display_name":"Surajchamp"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405830453,"creation_date":1405829845,"answer_id":24847314,"question_id":24846831,"body_markdown":"    you can use this code ..\r\n             \r\n              \r\n                  import java.applet.Applet.*;\r\n                  import java.applet.*;\r\n                import java.awt.*;\r\n                public class Demo4 extends Applet\r\n                   {\r\n                     public void paint(Graphics g)\r\n                  {\r\n  \t                  Font f=new Font(&quot;calibri&quot;,Font.BOLD,50);\r\n\t                  g.setFont(f);\r\n\t                 g.setColor(Color.red);\r\n\t                g.fillRect(0,0,1400,300);\r\n\t               g.setColor(Color.yellow);\r\n\t               g.fillRect(0,300,1400,600);\r\n\t               g.setColor(Color.green);\r\n\t               g.drawString(&quot;Welcome to the world of applet&quot;,100,200);\t\r\n                   }\r\n                  }\r\n                    /*&lt;applet code=&quot;Demo4.class&quot; WIDTH=20 HEIGHT=20&gt;\r\n                  &lt;/applet&gt;*/\r\n\r\n\r\n\r\n\r\nHere thre is no need to make applet tag direct run this code..u have to foloow these rule to run\r\n\r\n\r\n for compile- javac Demo4.java\r\n for run- appletViewer Demo4.java\t\r\n\r\nyou get your ans easily..and don,t forget to include commen lines of applet these are the main lines\r\n","title":"Steps to run applet on web browser (connect applet program to html) using Eclipse","body":"<pre><code>you can use this code ..\n\n\n              import java.applet.Applet.*;\n              import java.applet.*;\n            import java.awt.*;\n            public class Demo4 extends Applet\n               {\n                 public void paint(Graphics g)\n              {\n                  Font f=new Font(\"calibri\",Font.BOLD,50);\n                  g.setFont(f);\n                 g.setColor(Color.red);\n                g.fillRect(0,0,1400,300);\n               g.setColor(Color.yellow);\n               g.fillRect(0,300,1400,600);\n               g.setColor(Color.green);\n               g.drawString(\"Welcome to the world of applet\",100,200);  \n               }\n              }\n                /*&lt;applet code=\"Demo4.class\" WIDTH=20 HEIGHT=20&gt;\n              &lt;/applet&gt;*/\n</code></pre>\n\n<p>Here thre is no need to make applet tag direct run this code..u have to foloow these rule to run</p>\n\n<p>for compile- javac Demo4.java\n for run- appletViewer Demo4.java   </p>\n\n<p>you get your ans easily..and don,t forget to include commen lines of applet these are the main lines</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406032882,"creation_date":1406032882,"answer_id":24887712,"question_id":24846831,"body_markdown":"First compile the `AppletDemo` class then keep the `.class` and the `html` file in same location.\r\nThen when you open the html file if you are getting error like \r\n\r\n`Your security settings have blocked a local application from running`\r\n\r\nThen just go to \r\n\r\n*start - &gt;control panel -&gt; java(if unable to find type java in the search field of control panel) -&gt; Then click on it a menu pops up go to security tab -&gt; then make the security label to medium and ok.*\r\n\r\nThen again open the html in browser it will ask to click on run this application thats it.","title":"Steps to run applet on web browser (connect applet program to html) using Eclipse","body":"<p>First compile the <code>AppletDemo</code> class then keep the <code>.class</code> and the <code>html</code> file in same location.\nThen when you open the html file if you are getting error like </p>\n\n<p><code>Your security settings have blocked a local application from running</code></p>\n\n<p>Then just go to </p>\n\n<p><em>start - >control panel -> java(if unable to find type java in the search field of control panel) -> Then click on it a menu pops up go to security tab -> then make the security label to medium and ok.</em></p>\n\n<p>Then again open the html in browser it will ask to click on run this application thats it.</p>\n"}],"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693486885,"creation_date":1405823862,"question_id":24846831,"body_markdown":"Hi friends I am new to Java. I am trying to display applet on web browser using Eclipse.\r\n\r\nCode:\r\n\r\n    import java.applet.*;\r\n    \r\n    import java.awt.*;\r\n    \r\n    public class AppletDemo extends Applet{\r\n    \r\n    \tString msg=&quot;hello&quot;;\r\n    \r\n    \tpublic void init(){\r\n    \r\n    \t\tmsg=getParameter(&quot;message&quot;);\r\n    \r\n    \t}\r\n    \t\r\n         public void paint(Graphics g){\r\n    \r\n    \t\tg.drawString(msg,80,80);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nApplet Tag:\r\n\r\n\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html&gt;\r\n    \r\n    &lt;head&gt;\r\n    \r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    \r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \r\n    &lt;applet code=&quot;AppletDemo.class&quot;width=&quot;350&quot;height=&quot;350&quot;&gt;\r\n    \r\n    &lt;param name=&quot;message&quot;value=&quot;Welcome to the world of Applet&quot;&gt;\r\n    \r\n    &lt;/applet&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n  \r\n\r\n\r\n\r\n\r\nOutput should be &quot;Welcome to the world of Applet&quot;\r\nbut when I run  it, no value is getting displayed.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ni got output in console is:\r\n\r\nOct 20, 2014 12:43:39 AM org.apache.catalina.core.AprLifecycleListener init\r\n\r\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in\r\n \r\nproduction environments was not found on the java.library.path: C:\\Program Files\\Java\r\n\r\n\\jre8\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java\r\n\r\n/jre8/bin/client;C:/Program Files/Java/jre8/bin;C:/Program Files/Java/jre8/lib\r\n\r\n/i386;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\r\n\r\n\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Java\\jdk1.8.0_05\\bin;.;C:\\Users\\RAJEEV4\\Desktop\r\n\r\n\\eclipse-jee-kepler-SR2-win32(1)\\eclipse;;.\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n\r\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; \r\n\r\nto &#39;org.eclipse.jst.jee.server:demojsp&#39; did not find a matching property.\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n\r\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; \r\n\r\nto &#39;org.eclipse.jst.jee.server:Zdemoappletweb&#39; did not find a matching property.\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init\r\n\r\nINFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init\r\n\r\nINFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.catalina.startup.Catalina load\r\n\r\nINFO: Initialization processed in 2323 ms\r\n\r\nOct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardService startInternal\r\n\r\nINFO: Starting service Catalina\r\n\r\nOct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardEngine startInternal\r\n\r\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.53\r\n\r\nOct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start\r\n\r\nINFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n\r\nOct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start\r\n\r\nINFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n\r\nOct 20, 2014 12:43:42 AM org.apache.catalina.startup.Catalina start\r\n\r\nINFO: Server startup in 1961 ms\r\n\r\n\r\n\r\nWhat is the issue here?\r\n","title":"Steps to run applet on web browser (connect applet program to html) using Eclipse","body":"<p>Hi friends I am new to Java. I am trying to display applet on web browser using Eclipse.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.applet.*;\n\nimport java.awt.*;\n\npublic class AppletDemo extends Applet{\n\n    String msg=\"hello\";\n\n    public void init(){\n\n        msg=getParameter(\"message\");\n\n    }\n\n     public void paint(Graphics g){\n\n        g.drawString(msg,80,80);\n\n    }\n\n}\n</code></pre>\n\n<p>Applet Tag:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n\n&lt;meta charset=\"ISO-8859-1\"&gt;\n\n&lt;title&gt;Insert title here&lt;/title&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;applet code=\"AppletDemo.class\"width=\"350\"height=\"350\"&gt;\n\n&lt;param name=\"message\"value=\"Welcome to the world of Applet\"&gt;\n\n&lt;/applet&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Output should be \"Welcome to the world of Applet\"\nbut when I run  it, no value is getting displayed.</p>\n\n<p>i got output in console is:</p>\n\n<p>Oct 20, 2014 12:43:39 AM org.apache.catalina.core.AprLifecycleListener init</p>\n\n<p>INFO: The APR based Apache Tomcat Native library which allows optimal performance in</p>\n\n<p>production environments was not found on the java.library.path: C:\\Program Files\\Java</p>\n\n<p>\\jre8\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java</p>\n\n<p>/jre8/bin/client;C:/Program Files/Java/jre8/bin;C:/Program Files/Java/jre8/lib</p>\n\n<p>/i386;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32</p>\n\n<p>\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Java\\jdk1.8.0_05\\bin;.;C:\\Users\\RAJEEV4\\Desktop</p>\n\n<p>\\eclipse-jee-kepler-SR2-win32(1)\\eclipse;;.</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin</p>\n\n<p>WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' </p>\n\n<p>to 'org.eclipse.jst.jee.server:demojsp' did not find a matching property.</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin</p>\n\n<p>WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' </p>\n\n<p>to 'org.eclipse.jst.jee.server:Zdemoappletweb' did not find a matching property.</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init</p>\n\n<p>INFO: Initializing ProtocolHandler [\"http-bio-8080\"]</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init</p>\n\n<p>INFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.catalina.startup.Catalina load</p>\n\n<p>INFO: Initialization processed in 2323 ms</p>\n\n<p>Oct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardService startInternal</p>\n\n<p>INFO: Starting service Catalina</p>\n\n<p>Oct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardEngine startInternal</p>\n\n<p>INFO: Starting Servlet Engine: Apache Tomcat/7.0.53</p>\n\n<p>Oct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start</p>\n\n<p>INFO: Starting ProtocolHandler [\"http-bio-8080\"]</p>\n\n<p>Oct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start</p>\n\n<p>INFO: Starting ProtocolHandler [\"ajp-bio-8009\"]</p>\n\n<p>Oct 20, 2014 12:43:42 AM org.apache.catalina.startup.Catalina start</p>\n\n<p>INFO: Server startup in 1961 ms</p>\n\n<p>What is the issue here?</p>\n"},{"tags":["java","spring-boot","backend","vaadin","vaadin24"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693981680,"post_id":77015925,"comment_id":135829457,"body_markdown":"Simply create the UI elements in the beforeEnter method","body":"Simply create the UI elements in the beforeEnter method"}],"owner":{"account_id":19549700,"reputation":1,"user_id":14305638,"display_name":"Maryam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693486667,"creation_date":1693485671,"question_id":77015925,"body_markdown":"I am using vaadin 24.\r\n\r\n```\r\n\r\n**MainLayout:**\r\nUI.getCurrent().navigate(defaultViewClass, new RouteParameters(&quot;project_Id&quot;,selectedProject.getId().toString()));\r\n\r\n\r\n**DefaultView:**\r\n@PageTitle(&quot;Default Mapping&quot;)\r\n@Route(value = &quot;Default-Mapping/:project_Id&quot;, layout = MainLayout.class)\r\n@RolesAllowed(&quot;USER&quot;)\r\npublic class DefaultView extends VerticalLayout  implements BeforeEnterObserver  {\r\npublic DefaultView(ProjectsService projectsService) {\r\n    this.projectsService = projectsService;\r\n\r\n    saveBtn.setVisible(false);\r\n    editBtn.setVisible(true);\r\n\r\n    System.out.println(&quot;constructor........&quot;);\r\n    HorizontalLayout hl = new HorizontalLayout();\r\n    hl.add(getTabsheet()); // project_Id parameter used in this method\r\n\r\n    hl.setHeightFull();\r\n    hl.setSizeFull();\r\n\r\n    add(hl);\r\n}\r\n@Override\r\npublic void beforeEnter(BeforeEnterEvent event) {\r\n    RouteParameters parameters = event.getRouteParameters();\r\n    String projectId = parameters.get(&quot;project_Id&quot;).orElse(null);\r\n    if (projectId != null) {\r\n        projects = projectsService.findById(Long.parseLong(projectId));\r\n    }\r\n\r\n}\r\n}\r\n```\r\nConstructor call before &quot;beforenter&quot; method.\r\n\r\nI get project_id value in beforeenter method, but I want while defaultview class load and call constructor. So I can use project_id in getTabsheet method.\r\n\r\nIs this navigation right?\r\n\r\nHow to find correct way?\r\n\r\nI have tried different methods, but they are not working. How to communicate with database using id?","title":"Vaadin: Pass paramet in Mainlaout to defaultview but not getting before getTabsheet method","body":"<p>I am using vaadin 24.</p>\n<pre><code>\n**MainLayout:**\nUI.getCurrent().navigate(defaultViewClass, new RouteParameters(&quot;project_Id&quot;,selectedProject.getId().toString()));\n\n\n**DefaultView:**\n@PageTitle(&quot;Default Mapping&quot;)\n@Route(value = &quot;Default-Mapping/:project_Id&quot;, layout = MainLayout.class)\n@RolesAllowed(&quot;USER&quot;)\npublic class DefaultView extends VerticalLayout  implements BeforeEnterObserver  {\npublic DefaultView(ProjectsService projectsService) {\n    this.projectsService = projectsService;\n\n    saveBtn.setVisible(false);\n    editBtn.setVisible(true);\n\n    System.out.println(&quot;constructor........&quot;);\n    HorizontalLayout hl = new HorizontalLayout();\n    hl.add(getTabsheet()); // project_Id parameter used in this method\n\n    hl.setHeightFull();\n    hl.setSizeFull();\n\n    add(hl);\n}\n@Override\npublic void beforeEnter(BeforeEnterEvent event) {\n    RouteParameters parameters = event.getRouteParameters();\n    String projectId = parameters.get(&quot;project_Id&quot;).orElse(null);\n    if (projectId != null) {\n        projects = projectsService.findById(Long.parseLong(projectId));\n    }\n\n}\n}\n</code></pre>\n<p>Constructor call before &quot;beforenter&quot; method.</p>\n<p>I get project_id value in beforeenter method, but I want while defaultview class load and call constructor. So I can use project_id in getTabsheet method.</p>\n<p>Is this navigation right?</p>\n<p>How to find correct way?</p>\n<p>I have tried different methods, but they are not working. How to communicate with database using id?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":0,"creation_date":1488363539,"post_id":42524264,"comment_id":72193757,"body_markdown":"When i edit your code, semi-colon were missing from the `System.out.println` statement. Can you please re-check again this issue with my edited code?","body":"When i edit your code, semi-colon were missing from the <code>System.out.println</code> statement. Can you please re-check again this issue with my edited code?"},{"owner":{"account_id":8473780,"reputation":75,"user_id":6355603,"accept_rate":86,"display_name":"Pravallika Esarla"},"score":0,"creation_date":1488439547,"post_id":42524264,"comment_id":72233493,"body_markdown":"I have made changes to code and replaced with S.O.P lines  just to make it simple to evaluate. but in my project I haven&#39;t missed semicolon.","body":"I have made changes to code and replaced with S.O.P lines  just to make it simple to evaluate. but in my project I haven&#39;t missed semicolon."},{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":0,"creation_date":1488439648,"post_id":42524264,"comment_id":72233547,"body_markdown":"Now, it is working well for you right?","body":"Now, it is working well for you right?"}],"answers":[{"comments":[{"owner":{"account_id":8473780,"reputation":75,"user_id":6355603,"accept_rate":86,"display_name":"Pravallika Esarla"},"score":0,"creation_date":1488439470,"post_id":42540146,"comment_id":72233449,"body_markdown":"yes, you are right there are so many classes taking instance of the webDriver defined in BaseClass. will try using &quot;InvokedMethodListener&quot; and let you know thankyou","body":"yes, you are right there are so many classes taking instance of the webDriver defined in BaseClass. will try using &quot;InvokedMethodListener&quot; and let you know thankyou"},{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":0,"creation_date":1488672920,"post_id":42540146,"comment_id":72336290,"body_markdown":"@PravallikaEsarla, if this answer was helpful, how about upvoting/accepting? ;)","body":"@PravallikaEsarla, if this answer was helpful, how about upvoting/accepting? ;)"}],"tags":[],"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1488395804,"creation_date":1488395804,"answer_id":42540146,"question_id":42524264,"body_markdown":"There is more than meets the eye.  \r\nOutput of your example on my computer:\r\n\r\n    BEFORE SUITE : \r\n    BEFORE CLASS\r\n    BEFORE METHOD \r\n    After METHOD \r\n    After test \r\n    \r\n     After Suite\r\n\r\nI bet you have got more classes, which inherit from `BaseClass`, not just one.\r\nThose methods are not executed properly due to reasons similar as behind [this][1]. Implementing an `InvokedMethodListener` would help you to overcome issues with inheritance. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42002745/4280359","title":"Some of the methods of TestNG Parent class are not running","body":"<p>There is more than meets the eye.<br>\nOutput of your example on my computer:</p>\n\n<pre><code>BEFORE SUITE : \nBEFORE CLASS\nBEFORE METHOD \nAfter METHOD \nAfter test \n\n After Suite\n</code></pre>\n\n<p>I bet you have got more classes, which inherit from <code>BaseClass</code>, not just one.\nThose methods are not executed properly due to reasons similar as behind <a href=\"https://stackoverflow.com/a/42002745/4280359\">this</a>. Implementing an <code>InvokedMethodListener</code> would help you to overcome issues with inheritance. </p>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1693495295,"post_id":77015958,"comment_id":135771587,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77015958/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9592985,"reputation":1,"user_id":20053731,"display_name":"Wasif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693486022,"creation_date":1693486022,"answer_id":77015958,"question_id":42524264,"body_markdown":"    Include BaseClass in your testng.xml\r\n    \r\n    &lt;suite name=&quot;AAD-AED suite&quot; verbose=&quot;1&quot; &gt;\r\n        &lt;test name=&quot;AED tests&quot;&gt;\r\n          &lt;classes&gt;\r\n                 &lt;class name=&quot;tests.AED_searchQualityRuleTest&quot;/&gt; \r\n                 &lt;class name=&quot;tests.AED_BaseClass&quot;/&gt;\r\n          &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt; ","title":"Some of the methods of TestNG Parent class are not running","body":"<pre><code>Include BaseClass in your testng.xml\n\n&lt;suite name=&quot;AAD-AED suite&quot; verbose=&quot;1&quot; &gt;\n    &lt;test name=&quot;AED tests&quot;&gt;\n      &lt;classes&gt;\n             &lt;class name=&quot;tests.AED_searchQualityRuleTest&quot;/&gt; \n             &lt;class name=&quot;tests.AED_BaseClass&quot;/&gt;\n      &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n"}],"owner":{"account_id":8473780,"reputation":75,"user_id":6355603,"accept_rate":86,"display_name":"Pravallika Esarla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2178,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":42540146,"answer_count":2,"score":1,"last_activity_date":1693486022,"creation_date":1488347783,"question_id":42524264,"body_markdown":"I have a Parent class `BaseClass` with `TestNG` annotations as below \r\n\r\n    public class BaseClass \r\n    {\r\n    \t protected static WebDriver driver; \r\n\r\n    \t @BeforeSuite\r\n    \t public void beforeSuite()\r\n    \t { \r\n           System.out.println(&quot;\\nBEFORE SUITE : &quot;); \r\n         }\r\n\r\n    \t @BeforeTest\r\n    \t public void launch() throws IOException\r\n    \t {\r\n    \t   //CODE TO LAUNCH BROWSER\r\n         }\r\n\r\n    \t @BeforeClass\r\n    \t void beforeclass()\r\n    \t {\r\n           System.out.println(&quot;BEFORE CLASS&quot;);\t\r\n         }\r\n    \t\r\n    \t @AfterClass\r\n    \t void afterClass()\r\n    \t {\t\t\r\n           System.out.println(&quot;After test &quot;);\r\n         }\r\n    \t\r\n    \t @BeforeMethod\r\n    \t void beforeMethod()\r\n    \t {\r\n           System.out.println(&quot;BEFORE METHOD &quot;);\t\r\n         }\r\n\r\n    \t @AfterMethod \r\n    \t void afterMethod ()\r\n    \t {\t\r\n           System.out.println(&quot;After METHOD &quot;);\r\n         }\r\n    \r\n         @AfterSuite\r\n         void afterSuite()\r\n    \t {\r\n           System.out.println(&quot;\\n After Suite&quot;);\r\n         }\r\n    }\r\n\r\nand the `child class` extending it as below \r\n\r\n    public class SearchQualityRuleTest extends BaseClass\r\n    {\r\n    \t@Test\r\n    \tpublic void searchTest() throws InterruptedException  \r\n    \t{\r\n    \t  //Assertions \r\n    \t }  \r\n    }\r\n\r\n My XML file is as below \r\n\r\n    &lt;suite name=&quot;AAD-AED suite&quot; verbose=&quot;1&quot; &gt;\r\n    \t&lt;test name=&quot;AED tests&quot;&gt;\r\n    \t  &lt;classes&gt;\r\n                 &lt;class name=&quot;tests.AED_searchQualityRuleTest&quot;/&gt;          \r\n          &lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt; \r\n\r\nOther than `@BeforeSuite` and `@BeforeTest` methods no other methods are running.\r\n\r\nI have code related to `Extent Reports` in other non executed methods.\r\n\r\nPlease suggest if there is any mistake in the code \r\n","title":"Some of the methods of TestNG Parent class are not running","body":"<p>I have a Parent class <code>BaseClass</code> with <code>TestNG</code> annotations as below </p>\n\n<pre><code>public class BaseClass \n{\n     protected static WebDriver driver; \n\n     @BeforeSuite\n     public void beforeSuite()\n     { \n       System.out.println(\"\\nBEFORE SUITE : \"); \n     }\n\n     @BeforeTest\n     public void launch() throws IOException\n     {\n       //CODE TO LAUNCH BROWSER\n     }\n\n     @BeforeClass\n     void beforeclass()\n     {\n       System.out.println(\"BEFORE CLASS\");  \n     }\n\n     @AfterClass\n     void afterClass()\n     {      \n       System.out.println(\"After test \");\n     }\n\n     @BeforeMethod\n     void beforeMethod()\n     {\n       System.out.println(\"BEFORE METHOD \");    \n     }\n\n     @AfterMethod \n     void afterMethod ()\n     {  \n       System.out.println(\"After METHOD \");\n     }\n\n     @AfterSuite\n     void afterSuite()\n     {\n       System.out.println(\"\\n After Suite\");\n     }\n}\n</code></pre>\n\n<p>and the <code>child class</code> extending it as below </p>\n\n<pre><code>public class SearchQualityRuleTest extends BaseClass\n{\n    @Test\n    public void searchTest() throws InterruptedException  \n    {\n      //Assertions \n     }  \n}\n</code></pre>\n\n<p>My XML file is as below </p>\n\n<pre><code>&lt;suite name=\"AAD-AED suite\" verbose=\"1\" &gt;\n    &lt;test name=\"AED tests\"&gt;\n      &lt;classes&gt;\n             &lt;class name=\"tests.AED_searchQualityRuleTest\"/&gt;          \n      &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n\n<p>Other than <code>@BeforeSuite</code> and <code>@BeforeTest</code> methods no other methods are running.</p>\n\n<p>I have code related to <code>Extent Reports</code> in other non executed methods.</p>\n\n<p>Please suggest if there is any mistake in the code </p>\n"},{"tags":["java","shell","maven","jenkins","continuous-integration"],"answers":[{"comments":[{"owner":{"account_id":29335636,"reputation":21,"user_id":22476077,"display_name":"Alflow"},"score":0,"creation_date":1693473024,"post_id":77014284,"comment_id":135766672,"body_markdown":"Thanks for your answer. I still need my 3 variables &quot;revision,sha1,changelist&quot; but not the value of those. With this code for example i would get the correct version number but it would add the value of the 3 variables behind the versionnumber instead of the variable names themselves. sh &#39;mvn build-helper:parse-version versions:set -DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.nextMinorVersion}.0\\\\\\${revision}\\\\\\${sha1}\\\\\\${changelist} versions:commit&#39;","body":"Thanks for your answer. I still need my 3 variables &quot;revision,sha1,changelist&quot; but not the value of those. With this code for example i would get the correct version number but it would add the value of the 3 variables behind the versionnumber instead of the variable names themselves. sh &#39;mvn build-helper:parse-version versions:set -DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVer&zwnj;&#8203;sion.nextMinorVersio&zwnj;&#8203;n}.0\\\\\\${revision}\\\\&zwnj;&#8203;\\${sha1}\\\\\\${changel&zwnj;&#8203;ist} versions:commit&#39;"}],"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693472012,"creation_date":1693472012,"answer_id":77014284,"question_id":77014035,"body_markdown":"I already address your issue.\r\n\r\nHere is my solution:\r\n\r\n```shell\r\n-DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.minorVersion}.\\\\\\${parsedVersion.nextIncrementalVersion}\r\n```","title":"How to escape variable names in maven inside a Jenkinsfile","body":"<p>I already address your issue.</p>\n<p>Here is my solution:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.minorVersion}.\\\\\\${parsedVersion.nextIncrementalVersion}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29335636,"reputation":21,"user_id":22476077,"display_name":"Alflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693485873,"creation_date":1693485873,"answer_id":77015942,"question_id":77014035,"body_markdown":"After many tries i finally made it work. This is how it works for me: `sh &#39;mvn build-helper:parse-version versions:set -DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.nextMinorVersion}.0\\&quot;$\\&quot;\\$\\\\{revision\\\\}\\&quot;$\\&quot;\\$\\\\{sha1\\\\}\\&quot;$\\&quot;\\$\\\\{changelist\\\\} versions:commit&#39;`","title":"How to escape variable names in maven inside a Jenkinsfile","body":"<p>After many tries i finally made it work. This is how it works for me: <code>sh 'mvn build-helper:parse-version versions:set -DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.nextMinorVersion}.0\\&quot;$\\&quot;\\$\\\\{revision\\\\}\\&quot;$\\&quot;\\$\\\\{sha1\\\\}\\&quot;$\\&quot;\\$\\\\{changelist\\\\} versions:commit'</code></p>\n"}],"owner":{"account_id":29335636,"reputation":21,"user_id":22476077,"display_name":"Alflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77015942,"answer_count":2,"score":2,"last_activity_date":1693485873,"creation_date":1693470068,"question_id":77014035,"body_markdown":"Hi guys im having a bit of a problem here. I have a pom.xml which has the &lt;version&gt; tag in the following form: `&lt;version&gt;1.0.0${revision}${sha1}${changelist}&lt;/version&gt;`. \r\n\r\nI&#39;m trying to increment the minor version of my project inside a Jenkinsfile without loosing &quot;${revision}${sha1}${changelist}&quot;. \r\n\r\nI don&#39;t want the values from the variables instead i want my new Version to look like `&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;`inside my pom files. \r\n\r\nI can&#39;t seem to figure out how to do the escaping right. My Jenkinsfile would look as follows: \r\n\r\n`stage(&#39;Increment minor version&#39;) {\r\n\t\t\twhen{\r\n\t\t\t\tbranch &#39;xxx&#39;\r\n\t\t\t}\r\n\t\t\tsteps {\r\n\t\t\t\twithMaven(globalMavenSettingsConfig: MAVEN_SETTINGS) {\r\n\t\t\t\t\tsh &#39;mvn build-helper:parse-version versions:set -DnewVersion=${parsedVersion.majorVersion}.${parsedVersion.nextMinorVersion}.0${revision}${sha1}${changelist} versions:commit&#39;\r\n}}`\r\n\r\nI know this is not escaped right now. I tried multiple escaping attempts. Can anybody help me out here ? \r\n\r\nI tried the solution of [this](https://stackoverflow.com/questions/59649766/escape-maven-properties-on-the-command-line) post too and got the following output: `&lt;version&gt;1.1.0{revision}{sha1}{changelist}&lt;/version&gt;` as you can see the &#39;$&#39;-signs are missing.\r\n\r\nI am expecting my pom files to have the version tag in the following form after incrementing the minor version: `&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;`.","title":"How to escape variable names in maven inside a Jenkinsfile","body":"<p>Hi guys im having a bit of a problem here. I have a pom.xml which has the  tag in the following form: <code>&lt;version&gt;1.0.0${revision}${sha1}${changelist}&lt;/version&gt;</code>.</p>\n<p>I'm trying to increment the minor version of my project inside a Jenkinsfile without loosing &quot;${revision}${sha1}${changelist}&quot;.</p>\n<p>I don't want the values from the variables instead i want my new Version to look like <code>&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;</code>inside my pom files.</p>\n<p>I can't seem to figure out how to do the escaping right. My Jenkinsfile would look as follows:</p>\n<p><code>stage('Increment minor version') { when{ branch 'xxx' } steps { withMaven(globalMavenSettingsConfig: MAVEN_SETTINGS) { sh 'mvn build-helper:parse-version versions:set -DnewVersion=${parsedVersion.majorVersion}.${parsedVersion.nextMinorVersion}.0${revision}${sha1}${changelist} versions:commit' }}</code></p>\n<p>I know this is not escaped right now. I tried multiple escaping attempts. Can anybody help me out here ?</p>\n<p>I tried the solution of <a href=\"https://stackoverflow.com/questions/59649766/escape-maven-properties-on-the-command-line\">this</a> post too and got the following output: <code>&lt;version&gt;1.1.0{revision}{sha1}{changelist}&lt;/version&gt;</code> as you can see the '$'-signs are missing.</p>\n<p>I am expecting my pom files to have the version tag in the following form after incrementing the minor version: <code>&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;</code>.</p>\n"},{"tags":["java","playframework","pac4j"],"answers":[{"comments":[{"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"score":0,"creation_date":1693484680,"post_id":77015396,"comment_id":135769096,"body_markdown":"full stack trace added above in original Question, and i guess double &quot;class&quot; word after &quot;cannot be cast to&quot;: is a typo, sorry for that","body":"full stack trace added above in original Question, and i guess double &quot;class&quot; word after &quot;cannot be cast to&quot;: is a typo, sorry for that"},{"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"score":0,"creation_date":1693485240,"post_id":77015396,"comment_id":135769212,"body_markdown":"also added more detail to the Question.","body":"also added more detail to the Question."},{"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"score":0,"creation_date":1693558060,"post_id":77015396,"comment_id":135779867,"body_markdown":"So this is a problem of JDK modules visibility configuration?","body":"So this is a problem of JDK modules visibility configuration?"},{"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"score":0,"creation_date":1693574560,"post_id":77015396,"comment_id":135782978,"body_markdown":"No Its Playframwork Module, not JDK module","body":"No Its Playframwork Module, not JDK module"},{"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"score":0,"creation_date":1693811938,"post_id":77015396,"comment_id":135804659,"body_markdown":"Does this happen with JDK 11?","body":"Does this happen with JDK 11?"},{"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"score":0,"creation_date":1694416672,"post_id":77015396,"comment_id":135883040,"body_markdown":"no its jdk 12 , but with 11 its also the same","body":"no its jdk 12 , but with 11 its also the same"}],"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693481292,"creation_date":1693481292,"answer_id":77015396,"question_id":77010185,"body_markdown":"pac4j does not play much with the classloaders, it uses them sometimes to find a class and its constructor.\r\n\r\nI&#39;m surprised by the double &quot;class&quot; word after &quot;cannot be cast to&quot;: `class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile`. It feels like the class type is used instead of the class itself.\r\n\r\nCan you copy/paste the full stack trace?\r\n","title":"Java Playfrawork code hot reloading not working with pac4j Library","body":"<p>pac4j does not play much with the classloaders, it uses them sometimes to find a class and its constructor.</p>\n<p>I'm surprised by the double &quot;class&quot; word after &quot;cannot be cast to&quot;: <code>class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile</code>. It feels like the class type is used instead of the class itself.</p>\n<p>Can you copy/paste the full stack trace?</p>\n"}],"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693485794,"creation_date":1693415613,"question_id":77010185,"body_markdown":"\r\nI have Play framework (v2.8.16) and  Pac4j (Pac4j v10.0.2, pac4j-http:4.5.7 &amp;&amp;  pac4j-oauth:4.5.7, pac4j-jwt:4.5.7) with Java 12 . my application is a Java app and using Play&#39;s multi-module setup. In Play&#39;s development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types. This happens very frequently  dose not matter running from IDE (IntelliJ) or command line SBT is the same.\r\n\r\nI have a class that extends pac4j Profile\r\n\r\n``` public class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile ```\r\n\r\nOn  application  startp everthing is fine but after modifying the code while application running hot reloading of classess fails with this  error\r\n\r\n``` play.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @47424930)]] ```\r\n\r\nnot sure why this happening and specifically to  custom classes that extend Pac4j .\r\nis pac4j playing with class loaders ?\r\n\r\nfull stack trace: \r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class my.package.CustomJwtProfile  cannot be cast to class my.package.CustomJwtProfile  (my.package.CustomJwtProfile  is in unnamed module of l\r\noader play.runsupport.DelegatedResourcesClassLoader @10d471bd; my.package.CustomJwtProfile  is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @3de8b5d4)\r\n        at my.package1.PermissionChecker.check(PermissionChecker.java:20)\r\n        at org.pac4j.core.authorization.authorizer.AbstractRequireAnyAuthorizer.isProfileAuthorized(AbstractRequireAnyAuthorizer.java:21)\r\n        at org.pac4j.core.authorization.authorizer.ProfileAuthorizer.isAnyAuthorized(ProfileAuthorizer.java:41)\r\n        at org.pac4j.core.authorization.authorizer.AbstractRequireElementAuthorizer.isAuthorized(AbstractRequireElementAuthorizer.java:23)\r\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:90)\r\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:72)\r\n        at org.pac4j.core.engine.DefaultSecurityLogic.perform(DefaultSecurityLogic.java:146)\r\n        at org.pac4j.play.java.SecureAction.internalCall(SecureAction.java:95)\r\n        at org.pac4j.play.java.SecureAction.call(SecureAction.java:85)\r\n        at org.pac4j.play.filters.SecurityFilter.proceedRuleLogic(SecurityFilter.scala:102)\r\n```\r\n\r\n\r\nActually CustomJwtProfile is package &quot;my.package&quot; and calling class &quot;PermissionChecker.java&quot; in another package &quot;my.package1&quot;, basically both class  are in different module \r\n\r\nthe definition of the &quot;permissionChecker&quot; &amp; CustomJwtProfile class is as following\r\n\r\n```\r\npublic class PermissionChecker&lt;U extends CustomJwtProfile &gt;\r\n\r\npublic class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\r\n\r\n```\r\n\r\nand if i change the PermissionChecker definition to following then no error all good\r\n\r\n```\r\npublic class PermissionChecker&lt;U extends org.pac4j.jwt.profile.JwtProfile&gt;\r\n```\r\n\r\n\r\n","title":"Java Playfrawork code hot reloading not working with pac4j Library","body":"<p>I have Play framework (v2.8.16) and  Pac4j (Pac4j v10.0.2, pac4j-http:4.5.7 &amp;&amp;  pac4j-oauth:4.5.7, pac4j-jwt:4.5.7) with Java 12 . my application is a Java app and using Play's multi-module setup. In Play's development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types. This happens very frequently  dose not matter running from IDE (IntelliJ) or command line SBT is the same.</p>\n<p>I have a class that extends pac4j Profile</p>\n<p><code>public class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile</code></p>\n<p>On  application  startp everthing is fine but after modifying the code while application running hot reloading of classess fails with this  error</p>\n<p><code>play.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @47424930)]]</code></p>\n<p>not sure why this happening and specifically to  custom classes that extend Pac4j .\nis pac4j playing with class loaders ?</p>\n<p>full stack trace:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class my.package.CustomJwtProfile  cannot be cast to class my.package.CustomJwtProfile  (my.package.CustomJwtProfile  is in unnamed module of l\noader play.runsupport.DelegatedResourcesClassLoader @10d471bd; my.package.CustomJwtProfile  is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @3de8b5d4)\n        at my.package1.PermissionChecker.check(PermissionChecker.java:20)\n        at org.pac4j.core.authorization.authorizer.AbstractRequireAnyAuthorizer.isProfileAuthorized(AbstractRequireAnyAuthorizer.java:21)\n        at org.pac4j.core.authorization.authorizer.ProfileAuthorizer.isAnyAuthorized(ProfileAuthorizer.java:41)\n        at org.pac4j.core.authorization.authorizer.AbstractRequireElementAuthorizer.isAuthorized(AbstractRequireElementAuthorizer.java:23)\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:90)\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:72)\n        at org.pac4j.core.engine.DefaultSecurityLogic.perform(DefaultSecurityLogic.java:146)\n        at org.pac4j.play.java.SecureAction.internalCall(SecureAction.java:95)\n        at org.pac4j.play.java.SecureAction.call(SecureAction.java:85)\n        at org.pac4j.play.filters.SecurityFilter.proceedRuleLogic(SecurityFilter.scala:102)\n</code></pre>\n<p>Actually CustomJwtProfile is package &quot;my.package&quot; and calling class &quot;PermissionChecker.java&quot; in another package &quot;my.package1&quot;, basically both class  are in different module</p>\n<p>the definition of the &quot;permissionChecker&quot; &amp; CustomJwtProfile class is as following</p>\n<pre><code>public class PermissionChecker&lt;U extends CustomJwtProfile &gt;\n\npublic class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\n\n</code></pre>\n<p>and if i change the PermissionChecker definition to following then no error all good</p>\n<pre><code>public class PermissionChecker&lt;U extends org.pac4j.jwt.profile.JwtProfile&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1693434309,"post_id":77011864,"comment_id":135762393,"body_markdown":"That page literally gives you the list of URLs for all the v116 chrome drivers for all common operating systems so... did you download the one you needed? Sure, they&#39;re text links, but presumably you know how to copy-paste =)","body":"That page literally gives you the list of URLs for all the v116 chrome drivers for all common operating systems so... did you download the one you needed? Sure, they&#39;re text links, but presumably you know how to copy-paste =)"},{"owner":{"account_id":20817409,"reputation":71,"user_id":15289901,"display_name":"Testtest"},"score":0,"creation_date":1693435491,"post_id":77011864,"comment_id":135762530,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans can you see image I attached in Answers. That is file in driver downloaded.","body":"@Mike&#39;Pomax&#39;Kamermans can you see image I attached in Answers. That is file in driver downloaded."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1693441579,"post_id":77011864,"comment_id":135763006,"body_markdown":"Then put that in your post. Don&#39;t post it as answer and then delete it again. Also there is no such thing as a &quot;exe&quot; on MacOS, that&#39;s a windows executable. MacOS executables are applications, which your screenshot clearly shows it is.","body":"Then put that in your post. Don&#39;t post it as answer and then delete it again. Also there is no such thing as a &quot;exe&quot; on MacOS, that&#39;s a windows executable. MacOS executables are applications, which your screenshot clearly shows it is."},{"owner":{"account_id":20817409,"reputation":71,"user_id":15289901,"display_name":"Testtest"},"score":0,"creation_date":1693445999,"post_id":77011864,"comment_id":135763283,"body_markdown":"really sorry if any misunderstood. I was not able to paste screen shot in comment so that&#39;s why I put it in answer section.\nThank you so much for your answers. I will find it.","body":"really sorry if any misunderstood. I was not able to paste screen shot in comment so that&#39;s why I put it in answer section. Thank you so much for your answers. I will find it."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1693446042,"post_id":77011864,"comment_id":135763289,"body_markdown":"Just click [edit] and put it in your post?","body":"Just click <a href=\"https://stackoverflow.com/posts/77011864/edit\">edit</a> and put it in your post?"}],"answers":[{"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1700055675,"post_id":77015817,"comment_id":136607636,"body_markdown":"Thank you for your activitiy, but could you update your &#39;Driver implementation&#39; link, please? I&#39;m getting now the issue as: &#39;404 - page not found&#39; using your [driver implementation](https://github.com/DimaBerezovskyi/pytest-python-selenium-framework/blob/main/src/utils/driver_util.py) link.","body":"Thank you for your activitiy, but could you update your &#39;Driver implementation&#39; link, please? I&#39;m getting now the issue as: &#39;404 - page not found&#39; using your <a href=\"https://github.com/DimaBerezovskyi/pytest-python-selenium-framework/blob/main/src/utils/driver_util.py\" rel=\"nofollow noreferrer\">driver implementation</a> link."}],"tags":[],"owner":{"account_id":23430403,"reputation":116,"user_id":17489347,"display_name":"Dima Berezovskyi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484784,"creation_date":1693484784,"answer_id":77015817,"question_id":77011864,"body_markdown":"on your screenshot is not the driver, on the screenshot you added the chrome installer &lt;br&gt;\r\n\r\n[Drivers](https://googlechromelabs.github.io/chrome-for-testing/#stable)\r\n[arm64 driver](https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-arm64/chromedriver-mac-arm64.zip)\r\n[x86_64 driver](https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-x64/chromedriver-mac-x64.zip)\r\n&lt;br&gt;\r\n\r\nselenium 4.11.2 provides DriverManager that automatically find latest chrome driver&lt;br&gt;\r\n[Automate browser management](https://www.selenium.dev/documentation/selenium_manager/#automated-browser-management)\r\n\r\n[driver implementation](https://github.com/DimaBerezovskyi/simple-python-selenium-framework/blob/main/src/utils/driver_util.py)","title":"Selenium - how to add latest chrome driver","body":"<p>on your screenshot is not the driver, on the screenshot you added the chrome installer <br></p>\n<p><a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">Drivers</a>\n<a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-arm64/chromedriver-mac-arm64.zip\" rel=\"nofollow noreferrer\">arm64 driver</a>\n<a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-x64/chromedriver-mac-x64.zip\" rel=\"nofollow noreferrer\">x86_64 driver</a>\n<br></p>\n<p>selenium 4.11.2 provides DriverManager that automatically find latest chrome driver<br>\n<a href=\"https://www.selenium.dev/documentation/selenium_manager/#automated-browser-management\" rel=\"nofollow noreferrer\">Automate browser management</a></p>\n<p><a href=\"https://github.com/DimaBerezovskyi/simple-python-selenium-framework/blob/main/src/utils/driver_util.py\" rel=\"nofollow noreferrer\">driver implementation</a></p>\n"}],"owner":{"account_id":20817409,"reputation":71,"user_id":15289901,"display_name":"Testtest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693484784,"creation_date":1693434169,"question_id":77011864,"body_markdown":"I am doing Selenium training and my chrome browser is Version 116.0.5845.140 on the Mac.\r\n\r\nI couldn&#39;t find Chrome driver exe for this version instead it&#39;s providing like below https://googlechromelabs.github.io/chrome-for-testing/#stable\r\n\r\nWhen I go to the driver page it shows the application file and not the exe file.\r\nI am not sure how to configure it access from Selenium.\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/abc/Documents/chromedriver&quot;);\r\n```\r\n\r\nError during execution of application.\r\n\r\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: chromedriver located at /Users/abc/Documents/chromedriver, but invalid\r\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/\r\n\r\n\r\nwhen I download from dirvers page it has file like this\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TNKYW.png\r\n\r\nNot sure how to call this file","title":"Selenium - how to add latest chrome driver","body":"<p>I am doing Selenium training and my chrome browser is Version 116.0.5845.140 on the Mac.</p>\n<p>I couldn't find Chrome driver exe for this version instead it's providing like below <a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/chrome-for-testing/#stable</a></p>\n<p>When I go to the driver page it shows the application file and not the exe file.\nI am not sure how to configure it access from Selenium.</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/abc/Documents/chromedriver&quot;);\n</code></pre>\n<p>Error during execution of application.</p>\n<p>INFO: Driver logs no longer sent to console by default; <a href=\"https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output</a>\nException in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: chromedriver located at /Users/abc/Documents/chromedriver, but invalid\nFor documentation on this error, please visit: <a href=\"https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/</a></p>\n<p>when I download from dirvers page it has file like this\n<a href=\"https://i.stack.imgur.com/TNKYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNKYW.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure how to call this file</p>\n"},{"tags":["java","sql-server","jdbc","tcp","mssql-jdbc"],"answers":[{"comments":[{"owner":{"account_id":10386270,"reputation":1413,"user_id":7659255,"accept_rate":38,"display_name":"Peng"},"score":0,"creation_date":1539958987,"post_id":52894068,"comment_id":92701300,"body_markdown":"That&#39;s not the case. I already read the doc. It says &quot;The default is 1433. If you&#39;re using the default, you don&#39;t have to specify the port, nor its preceding &#39;:&#39;, in the URL.&quot;. So if you omit the port, it means you are using the default 1433 port. But my problem is with the dynamic port.","body":"That&#39;s not the case. I already read the doc. It says &quot;The default is 1433. If you&#39;re using the default, you don&#39;t have to specify the port, nor its preceding &#39;:&#39;, in the URL.&quot;. So if you omit the port, it means you are using the default 1433 port. But my problem is with the dynamic port."}],"tags":[],"owner":{"account_id":2686596,"reputation":36,"user_id":2320874,"display_name":"Rafael Rossignol"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539958079,"creation_date":1539958079,"answer_id":52894068,"question_id":52893597,"body_markdown":"If you see the Oficial docs [here][1], they said that port is optional (they recommend you to put one), but see this note:\r\n\r\n&gt;For optimal connection performance, you should set the portNumber when you connect to a named instance. This will avoid a round trip to the server to determine the port number. If both a portNumber and instanceName are used, the portNumber will take precedence and the instanceName will be ignored. \r\n\r\nI can understand here, if you omit the port, the driver make some soft of scanning to determine which port to use, try without put the port. \r\nBut remember, they recommend for best performance, to explicitly choose one.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017","title":"JDBC Connection to SQL server with Dynamic TCP Ports","body":"<p>If you see the Oficial docs <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017\" rel=\"nofollow noreferrer\">here</a>, they said that port is optional (they recommend you to put one), but see this note:</p>\n\n<blockquote>\n  <p>For optimal connection performance, you should set the portNumber when you connect to a named instance. This will avoid a round trip to the server to determine the port number. If both a portNumber and instanceName are used, the portNumber will take precedence and the instanceName will be ignored. </p>\n</blockquote>\n\n<p>I can understand here, if you omit the port, the driver make some soft of scanning to determine which port to use, try without put the port. \nBut remember, they recommend for best performance, to explicitly choose one.</p>\n"},{"tags":[],"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539970857,"creation_date":1539963171,"answer_id":52895616,"question_id":52893597,"body_markdown":"If you really cannot count on the port number remaining constant then you will have to connect using the SQL Server instance name.\r\n\r\nDefault instance:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    jdbc:sqlserver://servername\\MSSQLSERVER;...\r\n\r\nNamed instance\r\n\r\n    jdbc:sqlserver://servername\\instancename;...\r\n\r\nOf course, this means that the SQL Browser service must be running on the server so the instance name can be resolved to the actual port number currently being used.\r\n","title":"JDBC Connection to SQL server with Dynamic TCP Ports","body":"<p>If you really cannot count on the port number remaining constant then you will have to connect using the SQL Server instance name.</p>\n\n<p>Default instance:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:sqlserver://servername\\MSSQLSERVER;...\n</code></pre>\n\n<p>Named instance</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:sqlserver://servername\\instancename;...\n</code></pre>\n\n<p>Of course, this means that the SQL Browser service must be running on the server so the instance name can be resolved to the actual port number currently being used.</p>\n"}],"owner":{"account_id":10386270,"reputation":1413,"user_id":7659255,"accept_rate":38,"display_name":"Peng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9679,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52895616,"answer_count":2,"score":4,"last_activity_date":1693484601,"creation_date":1539956577,"question_id":52893597,"body_markdown":"My sql server engine is using dynamic TCP port, e.g., 52358. I can do JDBC query without any problem if I specified the port number 52358 in my JDBC DB url connection string, i.e.,\r\n\r\n    jdbc:sqlserver://serverName:52358;databaseName=myDB\r\n\r\nHowever, since this is dynamic port, sql server might choose another port if this port (52358) becomes unavailable after you restart sql server next time. \r\n\r\nSo what&#39;s best way to configure my DB URL in the connection string? \r\n\r\n-----------\r\n**Approach I have tried**: \r\n\r\nOmitting the port number and using only the instance name, i.e.,\r\n\r\n    jdbc:sqlserver://serverName;databaseName=myDB\r\n\r\nThis doesn&#39;t work. By the way, sql server browser service is already enabled. \r\n\r\n\r\n-----------\r\n**Solution found** (thanks to Gord Thompson). The [complete form][1] of DB URL is: \r\n\r\n    jdbc:sqlserver://[serverName[\\instanceName][:portNumber]][;property=value[;property=value]]\r\n\r\nwhere either the portNumber or instanceName may be used to connect to serverName. However, \r\n\r\n&gt; If both a portNumber and instanceName are used, the portNumber will\r\n&gt; take precedence and the instanceName will be ignored.\r\n\r\nTherefore, for the case of dynamic port, we should only use instanceName for connection and keep the SQL Browser service running (SQL Server provides the [SQL Server Browser Service][2], to monitor the ports, and direct incoming connections to the current port for that instance). Thus, in my case, **the correct form** is: \r\n\r\n    jdbc:sqlserver://serverName\\instanceName;databaseName=myDB\r\n\r\nAlso, we should keep in mind that \r\n\r\n&gt; For optimal connection performance, you should set the portNumber when\r\n&gt; you connect to a named instance. This will avoid a round trip to the\r\n&gt; server to determine the port number\r\n\r\nThen this will call for a static port number. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017\r\n  [2]: https://learn.microsoft.com/en-us/sql/tools/configuration-manager/tcp-ip-properties-ip-addresses-tab?view=sql-server-2017","title":"JDBC Connection to SQL server with Dynamic TCP Ports","body":"<p>My sql server engine is using dynamic TCP port, e.g., 52358. I can do JDBC query without any problem if I specified the port number 52358 in my JDBC DB url connection string, i.e.,</p>\n\n<pre><code>jdbc:sqlserver://serverName:52358;databaseName=myDB\n</code></pre>\n\n<p>However, since this is dynamic port, sql server might choose another port if this port (52358) becomes unavailable after you restart sql server next time. </p>\n\n<p>So what's best way to configure my DB URL in the connection string? </p>\n\n<hr>\n\n<p><strong>Approach I have tried</strong>: </p>\n\n<p>Omitting the port number and using only the instance name, i.e.,</p>\n\n<pre><code>jdbc:sqlserver://serverName;databaseName=myDB\n</code></pre>\n\n<p>This doesn't work. By the way, sql server browser service is already enabled. </p>\n\n<hr>\n\n<p><strong>Solution found</strong> (thanks to Gord Thompson). The <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017\" rel=\"nofollow noreferrer\">complete form</a> of DB URL is: </p>\n\n<pre><code>jdbc:sqlserver://[serverName[\\instanceName][:portNumber]][;property=value[;property=value]]\n</code></pre>\n\n<p>where either the portNumber or instanceName may be used to connect to serverName. However, </p>\n\n<blockquote>\n  <p>If both a portNumber and instanceName are used, the portNumber will\n  take precedence and the instanceName will be ignored.</p>\n</blockquote>\n\n<p>Therefore, for the case of dynamic port, we should only use instanceName for connection and keep the SQL Browser service running (SQL Server provides the <a href=\"https://learn.microsoft.com/en-us/sql/tools/configuration-manager/tcp-ip-properties-ip-addresses-tab?view=sql-server-2017\" rel=\"nofollow noreferrer\">SQL Server Browser Service</a>, to monitor the ports, and direct incoming connections to the current port for that instance). Thus, in my case, <strong>the correct form</strong> is: </p>\n\n<pre><code>jdbc:sqlserver://serverName\\instanceName;databaseName=myDB\n</code></pre>\n\n<p>Also, we should keep in mind that </p>\n\n<blockquote>\n  <p>For optimal connection performance, you should set the portNumber when\n  you connect to a named instance. This will avoid a round trip to the\n  server to determine the port number</p>\n</blockquote>\n\n<p>Then this will call for a static port number. </p>\n"},{"tags":["java","selenium","jenkins","automation"],"answers":[{"comments":[{"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"score":0,"creation_date":1505988280,"post_id":46337493,"comment_id":79641808,"body_markdown":"Yes,Selenium server is active on my machine even my tests are running succesfully on jenkins at http://localhost:8080 but when same code I am executing thru jenkins at http://192.168.10.91:8081 which is on QAT server I am getting above mention error logs.Is this problem is related to port chromedriver looking for???","body":"Yes,Selenium server is active on my machine even my tests are running succesfully on jenkins at <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> but when same code I am executing thru jenkins at <a href=\"http://192.168.10.91:8081\" rel=\"nofollow noreferrer\">192.168.10.91:8081</a> which is on QAT server I am getting above mention error logs.Is this problem is related to port chromedriver looking for???"},{"owner":{"account_id":4323616,"reputation":159,"user_id":3531010,"display_name":"SSabharwal"},"score":0,"creation_date":1506065133,"post_id":46337493,"comment_id":79677809,"body_markdown":"That&#39;s unlikely to happen, if you are trying to execute runs on your machine through Jenkins hosted on QAT server, when run works fine with locally hosted jenkins, this might have been the problem if test machines were different.\nIt could be due to version incompatibility between selenium and chromedriver version. Check if you are using updated versions, for more help, visit: https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/1797","body":"That&#39;s unlikely to happen, if you are trying to execute runs on your machine through Jenkins hosted on QAT server, when run works fine with locally hosted jenkins, this might have been the problem if test machines were different. It could be due to version incompatibility between selenium and chromedriver version. Check if you are using updated versions, for more help, visit: <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/1797\" rel=\"nofollow noreferrer\">github.com/seleniumhq/selenium-google-code-issue-archive/iss&zwnj;&#8203;ues/&hellip;</a>"}],"tags":[],"owner":{"account_id":4323616,"reputation":159,"user_id":3531010,"display_name":"SSabharwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505977555,"creation_date":1505977555,"answer_id":46337493,"question_id":46336653,"body_markdown":"Is your selenium server active on the machine you are trying to execute the code through Jenkins?\r\n\r\nyou can check that, and start the server on command line from the location where selenium standalone server is located. Try the following command(modify the paths) :\r\n\r\n    java -jar selenium-server-standalone-2.53.1.jar -Dwebdriver.chrome.driver=c:\\path\\to\\chromedriver.exe","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>Is your selenium server active on the machine you are trying to execute the code through Jenkins?</p>\n\n<p>you can check that, and start the server on command line from the location where selenium standalone server is located. Try the following command(modify the paths) :</p>\n\n<pre><code>java -jar selenium-server-standalone-2.53.1.jar -Dwebdriver.chrome.driver=c:\\path\\to\\chromedriver.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14939593,"reputation":69,"user_id":10786696,"display_name":"Prateek shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574345145,"creation_date":1574340661,"answer_id":58975507,"question_id":46336653,"body_markdown":"Which OS you are using on your http://192.168.10.91:8081/ (server)? If it is Ubuntu then try executing scripts in headless mode and follow these steps:\r\n\r\n1. Download and enable **Xvfb** before the start of selenium script on Jenkins. For more info read here https://wiki.jenkins.io/display/JENKINS/Xvfb+Plugin \r\n2. To be on safer side try to keep chromedriver in **&quot;usr/bin&quot;** folder.\r\n3. Now run the script.","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>Which OS you are using on your <a href=\"http://192.168.10.91:8081/\" rel=\"nofollow noreferrer\">http://192.168.10.91:8081/</a> (server)? If it is Ubuntu then try executing scripts in headless mode and follow these steps:</p>\n\n<ol>\n<li>Download and enable <strong>Xvfb</strong> before the start of selenium script on Jenkins. For more info read here <a href=\"https://wiki.jenkins.io/display/JENKINS/Xvfb+Plugin\" rel=\"nofollow noreferrer\">https://wiki.jenkins.io/display/JENKINS/Xvfb+Plugin</a> </li>\n<li>To be on safer side try to keep chromedriver in <strong>\"usr/bin\"</strong> folder.</li>\n<li>Now run the script.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484550,"creation_date":1693484550,"answer_id":77015793,"question_id":46336653,"body_markdown":"This was resolved after adding a headless mode option while executing tests on the Jenkins server.\r\n\r\n\t\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--no-proxy-server&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--proxy-server=&#39;direct://&#39;&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--proxy-bypass-list=*&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\r\n\r\n\r\n","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>This was resolved after adding a headless mode option while executing tests on the Jenkins server.</p>\n<pre><code>            options.addArguments(&quot;--headless&quot;);\n            options.addArguments(&quot;--no-proxy-server&quot;);\n            options.addArguments(&quot;--proxy-server='direct://'&quot;);\n            options.addArguments(&quot;--proxy-bypass-list=*&quot;);\n            options.addArguments(&quot;--no-sandbox&quot;);\n</code></pre>\n"}],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693484550,"creation_date":1505974342,"question_id":46336653,"body_markdown":"Currently, I am doing automation of a project and writing Tests thru selenium and java it&#39;s working fine when I am executing tests from \r\n  Jenkins on my local server but on QAT I am getting an error.Previously I have written selenium test and now I have started using Jenkins for build and integration with Git on my windows platform.   \r\n  Also, chrome path I am using for QAT server is  I have changed to\r\n\r\n \r\n\r\n  \r\n\r\n   System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files \r\n \r\n(x86)\\\\Jenkins\\\\jobs\\\\SPOSAUTOMATION\\\\workspace\\\\Driver\\\\chromedriver.exe&quot;);\r\n\r\n      [INFO]  T E S T S\r\n      [INFO] -------------------------------------------------------\r\n      [INFO] Running TestSuite\r\n      Starting ChromeDriver 2.32.498550 \r\n      (9dec58e66c31bcc53a9ce3c7226f0c1c5810906a) on port 10309\r\n      Only local connections are allowed.\r\n      [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time \r\n      elapsed: 21.404 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n      [ERROR] \r\n      launchBrowserTest(com.Spos.LoginAppUserAdmin.LoginAppUserAdmin)  Time \r\n      elapsed: 21.248 s  &lt;&lt;&lt; FAILURE!\r\n      org.openqa.selenium.WebDriverException: \r\n      Timed out waiting for driver server to start.\r\n\r\n \r\n\r\n   This is the log file generated after execution build test thru Jenkins on \r\n   QAT server of the application.Here chromedriver started execution but not getting connected with chrome server and throwing a timeout exception.\r\n  Please ask me if any further information required to resolve the issue.\r\n\r\n","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>Currently, I am doing automation of a project and writing Tests thru selenium and java it's working fine when I am executing tests from \n  Jenkins on my local server but on QAT I am getting an error.Previously I have written selenium test and now I have started using Jenkins for build and integration with Git on my windows platform.<br>\n  Also, chrome path I am using for QAT server is  I have changed to</p>\n\n<p>System.setProperty(\"webdriver.chrome.driver\", \"C:\\Program Files </p>\n\n<p>(x86)\\Jenkins\\jobs\\SPOSAUTOMATION\\workspace\\Driver\\chromedriver.exe\");</p>\n\n<pre><code>  [INFO]  T E S T S\n  [INFO] -------------------------------------------------------\n  [INFO] Running TestSuite\n  Starting ChromeDriver 2.32.498550 \n  (9dec58e66c31bcc53a9ce3c7226f0c1c5810906a) on port 10309\n  Only local connections are allowed.\n  [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time \n  elapsed: 21.404 s &lt;&lt;&lt; FAILURE! - in TestSuite\n  [ERROR] \n  launchBrowserTest(com.Spos.LoginAppUserAdmin.LoginAppUserAdmin)  Time \n  elapsed: 21.248 s  &lt;&lt;&lt; FAILURE!\n  org.openqa.selenium.WebDriverException: \n  Timed out waiting for driver server to start.\n</code></pre>\n\n<p>This is the log file generated after execution build test thru Jenkins on \n   QAT server of the application.Here chromedriver started execution but not getting connected with chrome server and throwing a timeout exception.\n  Please ask me if any further information required to resolve the issue.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9923,"page":211,"page_size":100}
